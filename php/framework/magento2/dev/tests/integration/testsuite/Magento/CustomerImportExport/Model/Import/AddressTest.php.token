[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\CustomerImportExport\\Model\\Import\\Address\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CustomerImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Import",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Filesystem",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DirectoryList",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","AddressTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Tested class name\n     *\n     * @var string\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_testClassName",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","CustomerImportExport",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Import",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Address",24],["T_DOUBLE_COLON","::",24],["T_CLASS","class",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Fixture key from fixture\n     *\n     * @var string\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_fixtureKey",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'_fixture\/Magento_ImportExport_Customers_Array'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Address entity adapter instance\n     *\n     * @var Address\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_entityAdapter",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Important data from address_import_update.csv (postcode is key)\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_updateData",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'address'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_WHITESPACE"," ",46],["T_COMMENT","\/\/ address records\n",46],["T_WHITESPACE","            ",47],["T_CONSTANT_ENCAPSED_STRING","'update'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'19107'",47],",",["T_WHITESPACE","  ",47],["T_COMMENT","\/\/ address with updates\n",47],["T_WHITESPACE","            ",48],["T_CONSTANT_ENCAPSED_STRING","'new'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'85034'",48],",",["T_WHITESPACE","  ",48],["T_COMMENT","\/\/ new address\n",48],["T_WHITESPACE","            ",49],["T_CONSTANT_ENCAPSED_STRING","'no_customer'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'33602'",49],",",["T_WHITESPACE","  ",49],["T_COMMENT","\/\/ there is no customer with this primary key (email+website)\n",49],["T_WHITESPACE","            ",50],["T_CONSTANT_ENCAPSED_STRING","'new_no_address_id'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'32301'",50],["T_COMMENT","\/\/ new address without address id\n",50],["T_WHITESPACE","        ",51],"]",",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'update'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE"," ",52],["T_COMMENT","\/\/ this data is changed in CSV file\n",52],["T_WHITESPACE","            ",53],["T_CONSTANT_ENCAPSED_STRING","'19107'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'firstname'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Katy'",54],",",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'middlename'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'T.'",55],",",["T_WHITESPACE","\n            ",55],"]",",",["T_WHITESPACE","\n        ",56],"]",",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'remove'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"[",["T_WHITESPACE"," ",58],["T_COMMENT","\/\/ this data is not set in CSV file\n",58],["T_WHITESPACE","            ",59],["T_CONSTANT_ENCAPSED_STRING","'19107'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],"[",["T_WHITESPACE","\n                ",59],["T_CONSTANT_ENCAPSED_STRING","'city'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Philadelphia'",60],",",["T_WHITESPACE","\n                ",60],["T_CONSTANT_ENCAPSED_STRING","'region'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Pennsylvania'",61],",",["T_WHITESPACE","\n            ",61],"]",",",["T_WHITESPACE","\n        ",62],"]",",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'default'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_WHITESPACE"," ",64],["T_COMMENT","\/\/ new default billing\/shipping addresses\n",64],["T_WHITESPACE","            ",65],["T_CONSTANT_ENCAPSED_STRING","'billing'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'85034'",65],",",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'shipping'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'19107'",66],",",["T_WHITESPACE","\n        ",66],"]",",",["T_WHITESPACE","\n    ",67],"]",";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Important data from address_import_delete.csv (postcode is key)\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_deleteData",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'delete'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'19107'",76],",",["T_WHITESPACE","  ",76],["T_COMMENT","\/\/ deleted address\n",76],["T_WHITESPACE","        ",77],["T_CONSTANT_ENCAPSED_STRING","'not_delete'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'72701'",77],",",["T_WHITESPACE","  ",77],["T_COMMENT","\/\/ not deleted address\n",77],["T_WHITESPACE","    ",78],"]",";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\ResourceModel\\Customer *\/",80],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$customerResource",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Init new instance of address entity adapter\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","setUp",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Product $productResource *\/",88],["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","customerResource",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","TestFramework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Helper",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Bootstrap",89],["T_DOUBLE_COLON","::",89],["T_STRING","getObjectManager",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","get",89],"(",["T_WHITESPACE","\n            ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Customer",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Model",90],["T_NS_SEPARATOR","\\",90],["T_STRING","ResourceModel",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Customer",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],["T_WHITESPACE","\n        ",90],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_entityAdapter",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","TestFramework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Helper",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Bootstrap",92],["T_DOUBLE_COLON","::",92],["T_STRING","getObjectManager",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","create",92],"(",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_testClassName",93],["T_WHITESPACE","\n        ",93],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Test constructor\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customer_with_addresses.php\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","testConstruct",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_COMMENT","\/\/ check entity table\n",104],["T_WHITESPACE","        ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertAttributeInternalType",105],"(",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'string'",106],",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'_entityTable'",107],",",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_entityAdapter",108],",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'Entity table must be a string.'",109],["T_WHITESPACE","\n        ",109],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertAttributeNotEmpty",111],"(",["T_CONSTANT_ENCAPSED_STRING","'_entityTable'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_entityAdapter",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Entity table must not be empty'",111],")",";",["T_WHITESPACE","\n\n        ",111],["T_COMMENT","\/\/ check message templates\n",113],["T_WHITESPACE","        ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertAttributeInternalType",114],"(",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","'array'",115],",",["T_WHITESPACE","\n            ",115],["T_CONSTANT_ENCAPSED_STRING","'errorMessageTemplates'",116],",",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_entityAdapter",117],",",["T_WHITESPACE","\n            ",117],["T_CONSTANT_ENCAPSED_STRING","'Templates must be an array.'",118],["T_WHITESPACE","\n        ",118],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertAttributeNotEmpty",120],"(",["T_CONSTANT_ENCAPSED_STRING","'errorMessageTemplates'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_entityAdapter",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'Templates must not be empty'",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_COMMENT","\/\/ check attributes\n",122],["T_WHITESPACE","        ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertAttributeInternalType",123],"(",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'array'",124],",",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","'_attributes'",125],",",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_entityAdapter",126],",",["T_WHITESPACE","\n            ",126],["T_CONSTANT_ENCAPSED_STRING","'Attributes must be an array.'",127],["T_WHITESPACE","\n        ",127],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertAttributeNotEmpty",129],"(",["T_CONSTANT_ENCAPSED_STRING","'_attributes'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_entityAdapter",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Attributes must not be empty'",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_COMMENT","\/\/ check addresses\n",131],["T_WHITESPACE","        ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertAttributeInternalType",132],"(",["T_WHITESPACE","\n            ",132],["T_CONSTANT_ENCAPSED_STRING","'array'",133],",",["T_WHITESPACE","\n            ",133],["T_CONSTANT_ENCAPSED_STRING","'_addresses'",134],",",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_entityAdapter",135],",",["T_WHITESPACE","\n            ",135],["T_CONSTANT_ENCAPSED_STRING","'Addresses must be an array.'",136],["T_WHITESPACE","\n        ",136],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertAttributeNotEmpty",138],"(",["T_CONSTANT_ENCAPSED_STRING","'_addresses'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_entityAdapter",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Addresses must not be empty'",138],")",";",["T_WHITESPACE","\n\n        ",138],["T_COMMENT","\/\/ check country regions and regions\n",140],["T_WHITESPACE","        ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertAttributeInternalType",141],"(",["T_WHITESPACE","\n            ",141],["T_CONSTANT_ENCAPSED_STRING","'array'",142],",",["T_WHITESPACE","\n            ",142],["T_CONSTANT_ENCAPSED_STRING","'_countryRegions'",143],",",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_entityAdapter",144],",",["T_WHITESPACE","\n            ",144],["T_CONSTANT_ENCAPSED_STRING","'Country regions must be an array.'",145],["T_WHITESPACE","\n        ",145],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertAttributeNotEmpty",147],"(",["T_CONSTANT_ENCAPSED_STRING","'_countryRegions'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_entityAdapter",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Country regions must not be empty'",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertAttributeInternalType",149],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'_regions'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_entityAdapter",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Regions must be an array.'",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertAttributeNotEmpty",150],"(",["T_CONSTANT_ENCAPSED_STRING","'_regions'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_entityAdapter",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'Regions must not be empty'",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Test _initAddresses\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customer_with_addresses.php\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testInitAddresses",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",160],["T_WHITESPACE","\n        ",160],["T_VARIABLE","$objectManager",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","TestFramework",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Helper",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Bootstrap",161],["T_DOUBLE_COLON","::",161],["T_STRING","getObjectManager",161],"(",")",";",["T_WHITESPACE","\n\n        ",161],["T_COMMENT","\/\/ get addressed from fixture\n",163],["T_WHITESPACE","        ",164],["T_VARIABLE","$customers",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$objectManager",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","get",164],"(",["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Framework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Registry",164],["T_DOUBLE_COLON","::",164],["T_CLASS","class",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","registry",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_fixtureKey",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$correctAddresses",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],"[","]",";",["T_WHITESPACE","\n        ",165],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",166],["T_WHITESPACE","\n        ",166],["T_FOREACH","foreach",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$customers",167],["T_WHITESPACE"," ",167],["T_AS","as",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$customer",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$correctAddresses",168],"[",["T_VARIABLE","$customer",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getId",168],"(",")","]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],"[","]",";",["T_WHITESPACE","\n            ",168],["T_DOC_COMMENT","\/** @var $address \\Magento\\Customer\\Model\\Address *\/",169],["T_WHITESPACE","\n            ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$customer",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getAddressesCollection",170],"(",")",["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$address",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$correctAddresses",171],"[",["T_VARIABLE","$customer",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getId",171],"(",")","]","[","]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$address",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getId",171],"(",")",";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n\n        ",173],["T_COMMENT","\/\/ invoke _initAddresses\n",175],["T_WHITESPACE","        ",176],["T_VARIABLE","$initAddresses",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_NS_SEPARATOR","\\",176],["T_STRING","ReflectionMethod",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_testClassName",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'_initAddresses'",176],")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$initAddresses",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","setAccessible",177],"(",["T_STRING","true",177],")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$initAddresses",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","invoke",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_entityAdapter",178],")",";",["T_WHITESPACE","\n\n        ",178],["T_COMMENT","\/\/ check addresses\n",180],["T_WHITESPACE","        ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertAttributeInternalType",181],"(",["T_WHITESPACE","\n            ",181],["T_CONSTANT_ENCAPSED_STRING","'array'",182],",",["T_WHITESPACE","\n            ",182],["T_CONSTANT_ENCAPSED_STRING","'_addresses'",183],",",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_entityAdapter",184],",",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'Addresses must be an array.'",185],["T_WHITESPACE","\n        ",185],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertAttributeNotEmpty",187],"(",["T_CONSTANT_ENCAPSED_STRING","'_addresses'",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_entityAdapter",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'Addresses must not be empty'",187],")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$addressesReflection",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_NS_SEPARATOR","\\",189],["T_STRING","ReflectionProperty",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_testClassName",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'_addresses'",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$addressesReflection",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","setAccessible",190],"(",["T_STRING","true",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$testAddresses",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$addressesReflection",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getValue",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_entityAdapter",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$correctCustomerIds",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","array_keys",193],"(",["T_VARIABLE","$correctAddresses",193],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$testCustomerIds",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","array_keys",194],"(",["T_VARIABLE","$testAddresses",194],")",";",["T_WHITESPACE","\n        ",194],["T_STRING","sort",195],"(",["T_VARIABLE","$correctCustomerIds",195],")",";",["T_WHITESPACE","\n        ",195],["T_STRING","sort",196],"(",["T_VARIABLE","$testCustomerIds",196],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertEquals",197],"(",["T_VARIABLE","$correctCustomerIds",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$testCustomerIds",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'Incorrect customer IDs in addresses array.'",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_FOREACH","foreach",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$correctCustomerIds",199],["T_WHITESPACE"," ",199],["T_AS","as",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$customerId",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertInternalType",200],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$correctAddresses",200],"[",["T_VARIABLE","$customerId",200],"]",",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'Addresses must be an array.'",200],")",";",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$correctAddressIds",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$correctAddresses",201],"[",["T_VARIABLE","$customerId",201],"]",";",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$testAddressIds",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$testAddresses",202],"[",["T_VARIABLE","$customerId",202],"]",";",["T_WHITESPACE","\n            ",202],["T_STRING","sort",203],"(",["T_VARIABLE","$correctAddressIds",203],")",";",["T_WHITESPACE","\n            ",203],["T_STRING","sort",204],"(",["T_VARIABLE","$testAddressIds",204],")",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertEquals",205],"(",["T_VARIABLE","$correctAddressIds",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$testAddressIds",205],",",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'Incorrect addresses IDs.'",205],")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Test _saveAddressEntity\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customer_with_addresses.php\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","testSaveAddressEntities",214],"(",")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_COMMENT","\/\/ invoke _saveAddressEntities\n",216],["T_WHITESPACE","        ",217],["T_LIST","list",217],"(",["T_VARIABLE","$customerId",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$addressId",217],")",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_addTestAddress",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_entityAdapter",217],")",";",["T_WHITESPACE","\n\n        ",217],["T_COMMENT","\/\/ check DB\n",219],["T_WHITESPACE","        ",220],["T_VARIABLE","$testAddress",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","TestFramework",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Helper",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Bootstrap",220],["T_DOUBLE_COLON","::",220],["T_STRING","getObjectManager",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","create",220],"(",["T_WHITESPACE","\n            ",220],["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Customer",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Model",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Address",221],["T_DOUBLE_COLON","::",221],["T_CLASS","class",221],["T_WHITESPACE","\n        ",221],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$testAddress",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","load",223],"(",["T_VARIABLE","$addressId",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertEquals",224],"(",["T_VARIABLE","$addressId",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$testAddress",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getId",224],"(",")",",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'Incorrect address ID.'",224],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertEquals",225],"(",["T_VARIABLE","$customerId",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$testAddress",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getParentId",225],"(",")",",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'Incorrect address customer ID.'",225],")",";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Add new test address for existing customer\n     *\n     * @param Address $entityAdapter\n     * @return array (customerID, addressID)\n     *\/",228],["T_WHITESPACE","\n    ",233],["T_PROTECTED","protected",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","_addTestAddress",234],"(",["T_STRING","Address",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$entityAdapter",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",236],["T_WHITESPACE","\n        ",236],["T_VARIABLE","$objectManager",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","TestFramework",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Helper",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Bootstrap",237],["T_DOUBLE_COLON","::",237],["T_STRING","getObjectManager",237],"(",")",";",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$customers",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$objectManager",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","get",239],"(",["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Framework",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Registry",239],["T_DOUBLE_COLON","::",239],["T_CLASS","class",239],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","registry",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_fixtureKey",239],")",";",["T_WHITESPACE","\n        ",239],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",240],["T_WHITESPACE","\n        ",240],["T_VARIABLE","$customer",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","reset",241],"(",["T_VARIABLE","$customers",241],")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$customerId",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$customer",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getId",242],"(",")",";",["T_WHITESPACE","\n\n        ",242],["T_DOC_COMMENT","\/** @var $addressModel \\Magento\\Customer\\Model\\Address *\/",244],["T_WHITESPACE","\n        ",244],["T_VARIABLE","$addressModel",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Magento",245],["T_NS_SEPARATOR","\\",245],["T_STRING","TestFramework",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Helper",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Bootstrap",245],["T_DOUBLE_COLON","::",245],["T_STRING","getObjectManager",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","create",245],"(",["T_WHITESPACE","\n            ",245],["T_NS_SEPARATOR","\\",246],["T_STRING","Magento",246],["T_NS_SEPARATOR","\\",246],["T_STRING","Customer",246],["T_NS_SEPARATOR","\\",246],["T_STRING","Model",246],["T_NS_SEPARATOR","\\",246],["T_STRING","Address",246],["T_DOUBLE_COLON","::",246],["T_CLASS","class",246],["T_WHITESPACE","\n        ",246],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$tableName",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$addressModel",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getResource",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","getEntityTable",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$addressId",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$objectManager",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","get",249],"(",["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","ImportExport",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Model",249],["T_NS_SEPARATOR","\\",249],["T_STRING","ResourceModel",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Helper",249],["T_DOUBLE_COLON","::",249],["T_CLASS","class",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","getNextAutoincrement",250],"(",["T_VARIABLE","$tableName",250],")",";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$newEntityData",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],"[",["T_WHITESPACE","\n            ",252],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$addressId",253],",",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$customerId",254],",",["T_WHITESPACE","\n            ",254],["T_CONSTANT_ENCAPSED_STRING","'created_at'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],"(",["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_NS_SEPARATOR","\\",255],["T_STRING","DateTime",255],"(",")",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","format",255],"(",["T_NS_SEPARATOR","\\",255],["T_STRING","Magento",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Framework",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Stdlib",255],["T_NS_SEPARATOR","\\",255],["T_STRING","DateTime",255],["T_DOUBLE_COLON","::",255],["T_STRING","DATETIME_PHP_FORMAT",255],")",",",["T_WHITESPACE","\n            ",255],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],"(",["T_NEW","new",256],["T_WHITESPACE"," ",256],["T_NS_SEPARATOR","\\",256],["T_STRING","DateTime",256],"(",")",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","format",256],"(",["T_NS_SEPARATOR","\\",256],["T_STRING","Magento",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Framework",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Stdlib",256],["T_NS_SEPARATOR","\\",256],["T_STRING","DateTime",256],["T_DOUBLE_COLON","::",256],["T_STRING","DATETIME_PHP_FORMAT",256],")",",",["T_WHITESPACE","\n        ",256],"]",";",["T_WHITESPACE","\n\n        ",257],["T_COMMENT","\/\/ invoke _saveAddressEntities\n",259],["T_WHITESPACE","        ",260],["T_VARIABLE","$saveAddressEntities",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_NEW","new",260],["T_WHITESPACE"," ",260],["T_NS_SEPARATOR","\\",260],["T_STRING","ReflectionMethod",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_testClassName",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'_saveAddressEntities'",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$saveAddressEntities",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","setAccessible",261],"(",["T_STRING","true",261],")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$saveAddressEntities",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","invoke",262],"(",["T_VARIABLE","$entityAdapter",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$newEntityData",262],",",["T_WHITESPACE"," ",262],"[","]",")",";",["T_WHITESPACE","\n\n        ",262],["T_RETURN","return",264],["T_WHITESPACE"," ",264],"[",["T_VARIABLE","$customerId",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$addressId",264],"]",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Test _saveAddressAttributes\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customer_with_addresses.php\n     *\/",267],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","testSaveAddressAttributes",272],"(",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","markTestSkipped",274],"(",["T_CONSTANT_ENCAPSED_STRING","\"to test _saveAddressAttributes attribute need to add custom address attribute\"",274],")",";",["T_WHITESPACE","\n        ",274],["T_COMMENT","\/\/ get attributes list\n",275],["T_WHITESPACE","        ",276],["T_VARIABLE","$attributesReflection",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_NEW","new",276],["T_WHITESPACE"," ",276],["T_NS_SEPARATOR","\\",276],["T_STRING","ReflectionProperty",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_testClassName",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'_attributes'",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$attributesReflection",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","setAccessible",277],"(",["T_STRING","true",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$attributes",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$attributesReflection",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getValue",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_entityAdapter",278],")",";",["T_WHITESPACE","\n\n        ",278],["T_COMMENT","\/\/ get some attribute\n",280],["T_WHITESPACE","        ",281],["T_VARIABLE","$attributeName",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'city'",281],";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertArrayHasKey",282],"(",["T_VARIABLE","$attributeName",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$attributes",282],",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'Key \"'",282],["T_WHITESPACE"," ",282],".",["T_WHITESPACE"," ",282],["T_VARIABLE","$attributeName",282],["T_WHITESPACE"," ",282],".",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'\" should be an attribute.'",282],")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$attributeParams",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$attributes",283],"[",["T_VARIABLE","$attributeName",283],"]",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","assertArrayHasKey",284],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$attributeParams",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'Attribute must have an ID.'",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","assertArrayHasKey",285],"(",["T_CONSTANT_ENCAPSED_STRING","'table'",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$attributeParams",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'Attribute must have a table.'",285],")",";",["T_WHITESPACE","\n\n        ",285],["T_COMMENT","\/\/ create new address with attributes\n",287],["T_WHITESPACE","        ",288],["T_VARIABLE","$data",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_addTestAddress",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_entityAdapter",288],")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$addressId",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$data",289],"[",["T_LNUMBER","1",289],"]",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$attributeId",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$attributeParams",290],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",290],"]",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$attributeTable",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$attributeParams",291],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",291],"]",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$attributeValue",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'Test City'",292],";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$attributeArray",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],"[","]",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$attributeArray",295],"[",["T_VARIABLE","$attributeTable",295],"]","[",["T_VARIABLE","$addressId",295],"]","[",["T_VARIABLE","$attributeId",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$attributeValue",295],";",["T_WHITESPACE","\n\n        ",295],["T_COMMENT","\/\/ invoke _saveAddressAttributes\n",297],["T_WHITESPACE","        ",298],["T_VARIABLE","$saveAttributes",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_NEW","new",298],["T_WHITESPACE"," ",298],["T_NS_SEPARATOR","\\",298],["T_STRING","ReflectionMethod",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_testClassName",298],",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'_saveAddressAttributes'",298],")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$saveAttributes",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","setAccessible",299],"(",["T_STRING","true",299],")",";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$saveAttributes",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","invoke",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_entityAdapter",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$attributeArray",300],")",";",["T_WHITESPACE","\n\n        ",300],["T_COMMENT","\/\/ check DB\n",302],["T_WHITESPACE","        ",303],["T_DOC_COMMENT","\/** @var $testAddress \\Magento\\Customer\\Model\\Address *\/",303],["T_WHITESPACE","\n        ",303],["T_VARIABLE","$testAddress",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Magento",304],["T_NS_SEPARATOR","\\",304],["T_STRING","TestFramework",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Helper",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Bootstrap",304],["T_DOUBLE_COLON","::",304],["T_STRING","getObjectManager",304],"(",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","create",304],"(",["T_WHITESPACE","\n            ",304],["T_NS_SEPARATOR","\\",305],["T_STRING","Magento",305],["T_NS_SEPARATOR","\\",305],["T_STRING","Customer",305],["T_NS_SEPARATOR","\\",305],["T_STRING","Model",305],["T_NS_SEPARATOR","\\",305],["T_STRING","Address",305],["T_DOUBLE_COLON","::",305],["T_CLASS","class",305],["T_WHITESPACE","\n        ",305],")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$testAddress",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","load",307],"(",["T_VARIABLE","$addressId",307],")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertEquals",308],"(",["T_VARIABLE","$addressId",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$testAddress",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getId",308],"(",")",",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'Incorrect address ID.'",308],")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","assertEquals",309],"(",["T_VARIABLE","$attributeValue",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$testAddress",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getData",309],"(",["T_VARIABLE","$attributeName",309],")",",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'There is no attribute value.'",309],")",";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Test _saveCustomerDefaults\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customer_with_addresses.php\n     *\/",312],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","testSaveCustomerDefaults",317],"(",")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",319],["T_WHITESPACE","\n        ",319],["T_VARIABLE","$objectManager",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Magento",320],["T_NS_SEPARATOR","\\",320],["T_STRING","TestFramework",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Helper",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Bootstrap",320],["T_DOUBLE_COLON","::",320],["T_STRING","getObjectManager",320],"(",")",";",["T_WHITESPACE","\n\n        ",320],["T_COMMENT","\/\/ get not default address\n",322],["T_WHITESPACE","        ",323],["T_VARIABLE","$customers",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$objectManager",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","get",323],"(",["T_NS_SEPARATOR","\\",323],["T_STRING","Magento",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Framework",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Registry",323],["T_DOUBLE_COLON","::",323],["T_CLASS","class",323],")",["T_OBJECT_OPERATOR","->",323],["T_STRING","registry",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_fixtureKey",323],")",";",["T_WHITESPACE","\n        ",323],["T_DOC_COMMENT","\/** @var $notDefaultAddress \\Magento\\Customer\\Model\\Address *\/",324],["T_WHITESPACE","\n        ",324],["T_VARIABLE","$notDefaultAddress",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","null",325],";",["T_WHITESPACE","\n        ",325],["T_DOC_COMMENT","\/** @var $addressCustomer \\Magento\\Customer\\Model\\Customer *\/",326],["T_WHITESPACE","\n        ",326],["T_VARIABLE","$addressCustomer",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","null",327],";",["T_WHITESPACE","\n        ",327],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",328],["T_WHITESPACE","\n        ",328],["T_FOREACH","foreach",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$customers",329],["T_WHITESPACE"," ",329],["T_AS","as",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$customer",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_DOC_COMMENT","\/** @var $address \\Magento\\Customer\\Model\\Address *\/",330],["T_WHITESPACE","\n            ",330],["T_FOREACH","foreach",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$customer",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getAddressesCollection",331],"(",")",["T_WHITESPACE"," ",331],["T_AS","as",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$address",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(","!",["T_VARIABLE","$customer",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getDefaultBillingAddress",332],"(",")",["T_WHITESPACE"," ",332],["T_BOOLEAN_AND","&&",332],["T_WHITESPACE"," ",332],"!",["T_VARIABLE","$customer",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getDefaultShippingAddress",332],"(",")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n                    ",332],["T_VARIABLE","$notDefaultAddress",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$address",333],";",["T_WHITESPACE","\n                    ",333],["T_VARIABLE","$addressCustomer",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$customer",334],";",["T_WHITESPACE","\n                    ",334],["T_BREAK","break",335],";",["T_WHITESPACE","\n                ",335],"}",["T_WHITESPACE","\n                ",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$notDefaultAddress",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                    ",337],["T_BREAK","break",338],";",["T_WHITESPACE","\n                ",338],"}",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","assertNotNull",342],"(",["T_VARIABLE","$notDefaultAddress",342],",",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'Not default address must exists.'",342],")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","assertNotNull",343],"(",["T_VARIABLE","$addressCustomer",343],",",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'Not default address customer must exists.'",343],")",";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$addressId",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$notDefaultAddress",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getId",345],"(",")",";",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$customerId",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$addressCustomer",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getId",346],"(",")",";",["T_WHITESPACE","\n\n        ",346],["T_COMMENT","\/\/ set customer defaults\n",348],["T_WHITESPACE","        ",349],["T_VARIABLE","$defaults",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],"[",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","customerResource",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getTable",350],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",350],")",["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],"[",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$customerId",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],"[",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$addressId",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$addressId",351],"]",",",["T_WHITESPACE","\n            ",351],"]",",",["T_WHITESPACE","\n        ",352],"]",";",["T_WHITESPACE","\n\n        ",353],["T_COMMENT","\/\/ invoke _saveCustomerDefaults\n",355],["T_WHITESPACE","        ",356],["T_VARIABLE","$saveDefaults",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_NEW","new",356],["T_WHITESPACE"," ",356],["T_NS_SEPARATOR","\\",356],["T_STRING","ReflectionMethod",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_testClassName",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'_saveCustomerDefaults'",356],")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$saveDefaults",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","setAccessible",357],"(",["T_STRING","true",357],")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$saveDefaults",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","invoke",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_entityAdapter",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$defaults",358],")",";",["T_WHITESPACE","\n\n        ",358],["T_COMMENT","\/\/ check DB\n",360],["T_WHITESPACE","        ",361],["T_DOC_COMMENT","\/** @var $testCustomer \\Magento\\Customer\\Model\\Customer *\/",361],["T_WHITESPACE","\n        ",361],["T_VARIABLE","$testCustomer",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Magento",362],["T_NS_SEPARATOR","\\",362],["T_STRING","TestFramework",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Helper",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Bootstrap",362],["T_DOUBLE_COLON","::",362],["T_STRING","getObjectManager",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","create",362],"(",["T_WHITESPACE","\n            ",362],["T_NS_SEPARATOR","\\",363],["T_STRING","Magento",363],["T_NS_SEPARATOR","\\",363],["T_STRING","Customer",363],["T_NS_SEPARATOR","\\",363],["T_STRING","Model",363],["T_NS_SEPARATOR","\\",363],["T_STRING","Customer",363],["T_DOUBLE_COLON","::",363],["T_CLASS","class",363],["T_WHITESPACE","\n        ",363],")",";",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$testCustomer",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","load",365],"(",["T_VARIABLE","$customerId",365],")",";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","assertEquals",366],"(",["T_VARIABLE","$customerId",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$testCustomer",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getId",366],"(",")",",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'Customer must exists.'",366],")",";",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertNotNull",367],"(",["T_VARIABLE","$testCustomer",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getDefaultBillingAddress",367],"(",")",",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'Default billing address must exists.'",367],")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertNotNull",368],"(",["T_VARIABLE","$testCustomer",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getDefaultShippingAddress",368],"(",")",",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'Default shipping address must exists.'",368],")",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assertEquals",369],"(",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$addressId",370],",",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$testCustomer",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getDefaultBillingAddress",371],"(",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getId",371],"(",")",",",["T_WHITESPACE","\n            ",371],["T_CONSTANT_ENCAPSED_STRING","'Incorrect default billing address.'",372],["T_WHITESPACE","\n        ",372],")",";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","assertEquals",374],"(",["T_WHITESPACE","\n            ",374],["T_VARIABLE","$addressId",375],",",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$testCustomer",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getDefaultShippingAddress",376],"(",")",["T_OBJECT_OPERATOR","->",376],["T_STRING","getId",376],"(",")",",",["T_WHITESPACE","\n            ",376],["T_CONSTANT_ENCAPSED_STRING","'Incorrect default shipping address.'",377],["T_WHITESPACE","\n        ",377],")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Test import data method with add\/update behaviour\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customers_for_address_import.php\n     *\/",381],["T_WHITESPACE","\n    ",385],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","testImportDataAddUpdate",386],"(",")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_COMMENT","\/\/ set behaviour\n",388],["T_WHITESPACE","        ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_entityAdapter",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","setParameters",389],"(",["T_WHITESPACE","\n            ",389],"[",["T_CONSTANT_ENCAPSED_STRING","'behavior'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Magento",390],["T_NS_SEPARATOR","\\",390],["T_STRING","ImportExport",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Model",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Import",390],["T_DOUBLE_COLON","::",390],["T_STRING","BEHAVIOR_ADD_UPDATE",390],"]",["T_WHITESPACE","\n        ",390],")",";",["T_WHITESPACE","\n\n        ",391],["T_COMMENT","\/\/ set fixture CSV file\n",393],["T_WHITESPACE","        ",394],["T_VARIABLE","$sourceFile",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_DIR","__DIR__",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/address_import_update.csv'",394],";",["T_WHITESPACE","\n\n        ",394],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",396],["T_WHITESPACE","\n        ",396],["T_VARIABLE","$objectManager",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_NS_SEPARATOR","\\",397],["T_STRING","Magento",397],["T_NS_SEPARATOR","\\",397],["T_STRING","TestFramework",397],["T_NS_SEPARATOR","\\",397],["T_STRING","Helper",397],["T_NS_SEPARATOR","\\",397],["T_STRING","Bootstrap",397],["T_DOUBLE_COLON","::",397],["T_STRING","getObjectManager",397],"(",")",";",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$filesystem",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$objectManager",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","create",398],"(",["T_NS_SEPARATOR","\\",398],["T_STRING","Magento",398],["T_NS_SEPARATOR","\\",398],["T_STRING","Framework",398],["T_NS_SEPARATOR","\\",398],["T_STRING","Filesystem",398],["T_DOUBLE_COLON","::",398],["T_CLASS","class",398],")",";",["T_WHITESPACE","\n\n        ",398],["T_VARIABLE","$directoryWrite",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$filesystem",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","getDirectoryWrite",400],"(",["T_STRING","DirectoryList",400],["T_DOUBLE_COLON","::",400],["T_STRING","ROOT",400],")",";",["T_WHITESPACE","\n\n        ",400],["T_VARIABLE","$result",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_entityAdapter",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","setSource",402],"(",["T_WHITESPACE","\n            ",402],["T_NS_SEPARATOR","\\",403],["T_STRING","Magento",403],["T_NS_SEPARATOR","\\",403],["T_STRING","ImportExport",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Model",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Import",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Adapter",403],["T_DOUBLE_COLON","::",403],["T_STRING","findAdapterFor",403],"(",["T_VARIABLE","$sourceFile",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$directoryWrite",403],")",["T_WHITESPACE","\n        ",403],")",["T_WHITESPACE","\n            ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","validateData",405],"(",")",["T_WHITESPACE","\n            ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","hasToBeTerminated",406],"(",")",";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","assertFalse",407],"(",["T_VARIABLE","$result",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'Validation result must be false.'",407],")",";",["T_WHITESPACE","\n\n        ",407],["T_COMMENT","\/\/ import data\n",409],["T_WHITESPACE","        ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_entityAdapter",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","importData",410],"(",")",";",["T_WHITESPACE","\n\n        ",410],["T_COMMENT","\/\/ form attribute list\n",412],["T_WHITESPACE","        ",413],["T_VARIABLE","$keyAttribute",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'postcode'",413],";",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$requiredAttributes",414],"[","]",["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$keyAttribute",414],";",["T_WHITESPACE","\n        ",414],["T_FOREACH","foreach",415],["T_WHITESPACE"," ",415],"(","[",["T_CONSTANT_ENCAPSED_STRING","'update'",415],",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'remove'",415],"]",["T_WHITESPACE"," ",415],["T_AS","as",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$action",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],["T_FOREACH","foreach",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_updateData",416],"[",["T_VARIABLE","$action",416],"]",["T_WHITESPACE"," ",416],["T_AS","as",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$attributes",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                ",416],["T_VARIABLE","$requiredAttributes",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_STRING","array_merge",417],"(",["T_VARIABLE","$requiredAttributes",417],",",["T_WHITESPACE"," ",417],["T_STRING","array_keys",417],"(",["T_VARIABLE","$attributes",417],")",")",";",["T_WHITESPACE","\n            ",417],"}",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE","\n\n        ",419],["T_COMMENT","\/\/ get addresses\n",421],["T_WHITESPACE","        ",422],["T_VARIABLE","$addressCollection",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Magento",422],["T_NS_SEPARATOR","\\",422],["T_STRING","TestFramework",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Helper",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Bootstrap",422],["T_DOUBLE_COLON","::",422],["T_STRING","getObjectManager",422],"(",")",["T_OBJECT_OPERATOR","->",422],["T_STRING","create",422],"(",["T_WHITESPACE","\n            ",422],["T_NS_SEPARATOR","\\",423],["T_STRING","Magento",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Customer",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Model",423],["T_NS_SEPARATOR","\\",423],["T_STRING","ResourceModel",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Address",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Collection",423],["T_DOUBLE_COLON","::",423],["T_CLASS","class",423],["T_WHITESPACE","\n        ",423],")",";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$addressCollection",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","addAttributeToSelect",425],"(",["T_VARIABLE","$requiredAttributes",425],")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$addresses",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],"[","]",";",["T_WHITESPACE","\n        ",426],["T_DOC_COMMENT","\/** @var $address \\Magento\\Customer\\Model\\Address *\/",427],["T_WHITESPACE","\n        ",427],["T_FOREACH","foreach",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$addressCollection",428],["T_WHITESPACE"," ",428],["T_AS","as",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$address",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$addresses",429],"[",["T_VARIABLE","$address",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getData",429],"(",["T_VARIABLE","$keyAttribute",429],")","]",["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$address",429],";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n\n        ",430],["T_COMMENT","\/\/ is addresses exists\n",432],["T_WHITESPACE","        ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","assertArrayHasKey",433],"(",["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_updateData",433],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",433],"]","[",["T_CONSTANT_ENCAPSED_STRING","'update'",433],"]",",",["T_WHITESPACE"," ",433],["T_VARIABLE","$addresses",433],",",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'Address must exist.'",433],")",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertArrayHasKey",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_updateData",434],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",434],"]","[",["T_CONSTANT_ENCAPSED_STRING","'new'",434],"]",",",["T_WHITESPACE"," ",434],["T_VARIABLE","$addresses",434],",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'Address must exist.'",434],")",";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","assertArrayNotHasKey",435],"(",["T_WHITESPACE","\n            ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_updateData",436],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",436],"]","[",["T_CONSTANT_ENCAPSED_STRING","'no_customer'",436],"]",",",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$addresses",437],",",["T_WHITESPACE","\n            ",437],["T_CONSTANT_ENCAPSED_STRING","'Address must not exist.'",438],["T_WHITESPACE","\n        ",438],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","assertArrayHasKey",440],"(",["T_WHITESPACE","\n            ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_updateData",441],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",441],"]","[",["T_CONSTANT_ENCAPSED_STRING","'new_no_address_id'",441],"]",",",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$addresses",442],",",["T_WHITESPACE","\n            ",442],["T_CONSTANT_ENCAPSED_STRING","'Address must exist.'",443],["T_WHITESPACE","\n        ",443],")",";",["T_WHITESPACE","\n\n        ",444],["T_COMMENT","\/\/ are updated address fields have new values\n",446],["T_WHITESPACE","        ",447],["T_VARIABLE","$updatedAddressId",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_updateData",447],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",447],"]","[",["T_CONSTANT_ENCAPSED_STRING","'update'",447],"]",";",["T_WHITESPACE","\n        ",447],["T_DOC_COMMENT","\/** @var $updatedAddress \\Magento\\Customer\\Model\\Address *\/",448],["T_WHITESPACE","\n        ",448],["T_VARIABLE","$updatedAddress",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$addresses",449],"[",["T_VARIABLE","$updatedAddressId",449],"]",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$updatedData",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_updateData",450],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",450],"]","[",["T_VARIABLE","$updatedAddressId",450],"]",";",["T_WHITESPACE","\n        ",450],["T_FOREACH","foreach",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$updatedData",451],["T_WHITESPACE"," ",451],["T_AS","as",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$fieldName",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$fieldValue",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","assertEquals",452],"(",["T_VARIABLE","$fieldValue",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$updatedAddress",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getData",452],"(",["T_VARIABLE","$fieldName",452],")",")",";",["T_WHITESPACE","\n        ",452],"}",["T_WHITESPACE","\n\n        ",453],["T_COMMENT","\/\/ are removed data fields have old values\n",455],["T_WHITESPACE","        ",456],["T_VARIABLE","$removedData",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_updateData",456],"[",["T_CONSTANT_ENCAPSED_STRING","'remove'",456],"]","[",["T_VARIABLE","$updatedAddressId",456],"]",";",["T_WHITESPACE","\n        ",456],["T_FOREACH","foreach",457],["T_WHITESPACE"," ",457],"(",["T_VARIABLE","$removedData",457],["T_WHITESPACE"," ",457],["T_AS","as",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$fieldName",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$fieldValue",457],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","assertEquals",458],"(",["T_VARIABLE","$fieldValue",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$updatedAddress",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","getData",458],"(",["T_VARIABLE","$fieldName",458],")",")",";",["T_WHITESPACE","\n        ",458],"}",["T_WHITESPACE","\n\n        ",459],["T_COMMENT","\/\/ are default billing\/shipping addresses have new value\n",461],["T_WHITESPACE","        ",462],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",462],["T_WHITESPACE","\n        ",462],["T_VARIABLE","$customer",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_NS_SEPARATOR","\\",463],["T_STRING","Magento",463],["T_NS_SEPARATOR","\\",463],["T_STRING","TestFramework",463],["T_NS_SEPARATOR","\\",463],["T_STRING","Helper",463],["T_NS_SEPARATOR","\\",463],["T_STRING","Bootstrap",463],["T_DOUBLE_COLON","::",463],["T_STRING","getObjectManager",463],"(",")",["T_OBJECT_OPERATOR","->",463],["T_STRING","create",463],"(",["T_WHITESPACE","\n            ",463],["T_NS_SEPARATOR","\\",464],["T_STRING","Magento",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Customer",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Model",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Customer",464],["T_DOUBLE_COLON","::",464],["T_CLASS","class",464],["T_WHITESPACE","\n        ",464],")",";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$customer",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","setWebsiteId",466],"(",["T_LNUMBER","0",466],")",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$customer",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","loadByEmail",467],"(",["T_CONSTANT_ENCAPSED_STRING","'BetsyParker@example.com'",467],")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$defaultsData",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_updateData",468],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",468],"]",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assertEquals",469],"(",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$defaultsData",470],"[",["T_CONSTANT_ENCAPSED_STRING","'billing'",470],"]",",",["T_WHITESPACE","\n            ",470],["T_VARIABLE","$customer",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getDefaultBillingAddress",471],"(",")",["T_OBJECT_OPERATOR","->",471],["T_STRING","getData",471],"(",["T_VARIABLE","$keyAttribute",471],")",",",["T_WHITESPACE","\n            ",471],["T_CONSTANT_ENCAPSED_STRING","'Incorrect default billing address'",472],["T_WHITESPACE","\n        ",472],")",";",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","assertEquals",474],"(",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$defaultsData",475],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",475],"]",",",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$customer",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getDefaultShippingAddress",476],"(",")",["T_OBJECT_OPERATOR","->",476],["T_STRING","getData",476],"(",["T_VARIABLE","$keyAttribute",476],")",",",["T_WHITESPACE","\n            ",476],["T_CONSTANT_ENCAPSED_STRING","'Incorrect default shipping address'",477],["T_WHITESPACE","\n        ",477],")",";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Test import data method with delete behaviour\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customers_for_address_import.php\n     *\/",481],["T_WHITESPACE","\n    ",485],["T_PUBLIC","public",486],["T_WHITESPACE"," ",486],["T_FUNCTION","function",486],["T_WHITESPACE"," ",486],["T_STRING","testImportDataDelete",486],"(",")",["T_WHITESPACE","\n    ",486],"{",["T_WHITESPACE","\n        ",487],["T_COMMENT","\/\/ set behaviour\n",488],["T_WHITESPACE","        ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_entityAdapter",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","setParameters",489],"(","[",["T_CONSTANT_ENCAPSED_STRING","'behavior'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Magento",489],["T_NS_SEPARATOR","\\",489],["T_STRING","ImportExport",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Model",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Import",489],["T_DOUBLE_COLON","::",489],["T_STRING","BEHAVIOR_DELETE",489],"]",")",";",["T_WHITESPACE","\n\n        ",489],["T_COMMENT","\/\/ set fixture CSV file\n",491],["T_WHITESPACE","        ",492],["T_VARIABLE","$sourceFile",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_DIR","__DIR__",492],["T_WHITESPACE"," ",492],".",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/address_import_delete.csv'",492],";",["T_WHITESPACE","\n\n        ",492],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",494],["T_WHITESPACE","\n        ",494],["T_VARIABLE","$objectManager",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_NS_SEPARATOR","\\",495],["T_STRING","Magento",495],["T_NS_SEPARATOR","\\",495],["T_STRING","TestFramework",495],["T_NS_SEPARATOR","\\",495],["T_STRING","Helper",495],["T_NS_SEPARATOR","\\",495],["T_STRING","Bootstrap",495],["T_DOUBLE_COLON","::",495],["T_STRING","getObjectManager",495],"(",")",";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$filesystem",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$objectManager",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","create",496],"(",["T_NS_SEPARATOR","\\",496],["T_STRING","Magento",496],["T_NS_SEPARATOR","\\",496],["T_STRING","Framework",496],["T_NS_SEPARATOR","\\",496],["T_STRING","Filesystem",496],["T_DOUBLE_COLON","::",496],["T_CLASS","class",496],")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$directoryWrite",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_VARIABLE","$filesystem",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","getDirectoryWrite",497],"(",["T_STRING","DirectoryList",497],["T_DOUBLE_COLON","::",497],["T_STRING","ROOT",497],")",";",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$result",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_entityAdapter",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","setSource",498],"(",["T_WHITESPACE","\n            ",498],["T_NS_SEPARATOR","\\",499],["T_STRING","Magento",499],["T_NS_SEPARATOR","\\",499],["T_STRING","ImportExport",499],["T_NS_SEPARATOR","\\",499],["T_STRING","Model",499],["T_NS_SEPARATOR","\\",499],["T_STRING","Import",499],["T_NS_SEPARATOR","\\",499],["T_STRING","Adapter",499],["T_DOUBLE_COLON","::",499],["T_STRING","findAdapterFor",499],"(",["T_VARIABLE","$sourceFile",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$directoryWrite",499],")",["T_WHITESPACE","\n        ",499],")",["T_OBJECT_OPERATOR","->",500],["T_STRING","validateData",500],"(",")",["T_OBJECT_OPERATOR","->",500],["T_STRING","hasToBeTerminated",500],"(",")",";",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","assertTrue",501],"(","!",["T_VARIABLE","$result",501],",",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'Validation result must be true.'",501],")",";",["T_WHITESPACE","\n\n        ",501],["T_COMMENT","\/\/ import data\n",503],["T_WHITESPACE","        ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_entityAdapter",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","importData",504],"(",")",";",["T_WHITESPACE","\n\n        ",504],["T_COMMENT","\/\/ key attribute\n",506],["T_WHITESPACE","        ",507],["T_VARIABLE","$keyAttribute",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'postcode'",507],";",["T_WHITESPACE","\n\n        ",507],["T_COMMENT","\/\/ get addresses\n",509],["T_WHITESPACE","        ",510],["T_DOC_COMMENT","\/** @var $addressCollection \\Magento\\Customer\\Model\\ResourceModel\\Address\\Collection *\/",510],["T_WHITESPACE","\n        ",510],["T_VARIABLE","$addressCollection",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_NS_SEPARATOR","\\",511],["T_STRING","Magento",511],["T_NS_SEPARATOR","\\",511],["T_STRING","TestFramework",511],["T_NS_SEPARATOR","\\",511],["T_STRING","Helper",511],["T_NS_SEPARATOR","\\",511],["T_STRING","Bootstrap",511],["T_DOUBLE_COLON","::",511],["T_STRING","getObjectManager",511],"(",")",["T_OBJECT_OPERATOR","->",511],["T_STRING","create",511],"(",["T_WHITESPACE","\n            ",511],["T_NS_SEPARATOR","\\",512],["T_STRING","Magento",512],["T_NS_SEPARATOR","\\",512],["T_STRING","Customer",512],["T_NS_SEPARATOR","\\",512],["T_STRING","Model",512],["T_NS_SEPARATOR","\\",512],["T_STRING","ResourceModel",512],["T_NS_SEPARATOR","\\",512],["T_STRING","Address",512],["T_NS_SEPARATOR","\\",512],["T_STRING","Collection",512],["T_DOUBLE_COLON","::",512],["T_CLASS","class",512],["T_WHITESPACE","\n        ",512],")",";",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$addressCollection",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","addAttributeToSelect",514],"(",["T_VARIABLE","$keyAttribute",514],")",";",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$addresses",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],"[","]",";",["T_WHITESPACE","\n        ",515],["T_DOC_COMMENT","\/** @var $address \\Magento\\Customer\\Model\\Address *\/",516],["T_WHITESPACE","\n        ",516],["T_FOREACH","foreach",517],["T_WHITESPACE"," ",517],"(",["T_VARIABLE","$addressCollection",517],["T_WHITESPACE"," ",517],["T_AS","as",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$address",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$addresses",518],"[",["T_VARIABLE","$address",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getData",518],"(",["T_VARIABLE","$keyAttribute",518],")","]",["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$address",518],";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n\n        ",519],["T_COMMENT","\/\/ is addresses exists\n",521],["T_WHITESPACE","        ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","assertArrayNotHasKey",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_deleteData",522],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",522],"]",",",["T_WHITESPACE"," ",522],["T_VARIABLE","$addresses",522],",",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'Address must not exist.'",522],")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","assertArrayHasKey",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_deleteData",523],"[",["T_CONSTANT_ENCAPSED_STRING","'not_delete'",523],"]",",",["T_WHITESPACE"," ",523],["T_VARIABLE","$addresses",523],",",["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'Address must exist.'",523],")",";",["T_WHITESPACE","\n    ",523],"}",["T_WHITESPACE","\n",524],"}",["T_WHITESPACE","\n",525]]