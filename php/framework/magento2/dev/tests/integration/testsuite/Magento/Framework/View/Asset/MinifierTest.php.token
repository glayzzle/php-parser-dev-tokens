[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Asset",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Bootstrap",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","State",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","AppState",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests for minifier\n *\n * @magentoComponentsDir Magento\/Framework\/View\/_files\/static\/theme\n * @magentoDbIsolation enabled\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","MinifierTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$staticDir",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$objectManager",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$origMode",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","setUp",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","objectManager",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Bootstrap",42],["T_DOUBLE_COLON","::",42],["T_STRING","getInstance",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","getObjectManager",42],"(",")",";",["T_WHITESPACE","\n        ",42],["T_DOC_COMMENT","\/** @var \\Magento\\Theme\\Model\\Theme\\Registration $registration *\/",43],["T_WHITESPACE","\n        ",43],["T_VARIABLE","$registration",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","objectManager",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_WHITESPACE","\n            ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Theme",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Theme",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Registration",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],["T_WHITESPACE","\n        ",45],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$registration",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","register",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_DOC_COMMENT","\/** @var \\Magento\\TestFramework\\App\\State $appState *\/",48],["T_WHITESPACE","\n        ",48],["T_VARIABLE","$appState",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","objectManager",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","TestFramework",49],["T_NS_SEPARATOR","\\",49],["T_STRING","App",49],["T_NS_SEPARATOR","\\",49],["T_STRING","State",49],["T_DOUBLE_COLON","::",49],["T_CLASS","class",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","origMode",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$appState",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMode",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$appState",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setMode",51],"(",["T_STRING","AppState",51],["T_DOUBLE_COLON","::",51],["T_STRING","MODE_DEFAULT",51],")",";",["T_WHITESPACE","\n        ",51],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Filesystem $filesystem *\/",52],["T_WHITESPACE","\n        ",52],["T_VARIABLE","$filesystem",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","Bootstrap",53],["T_DOUBLE_COLON","::",53],["T_STRING","getObjectManager",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Filesystem",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","staticDir",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$filesystem",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getDirectoryWrite",54],"(",["T_STRING","DirectoryList",54],["T_DOUBLE_COLON","::",54],["T_STRING","STATIC_VIEW",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","tearDown",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_DOC_COMMENT","\/** @var \\Magento\\TestFramework\\App\\State $appState *\/",62],["T_WHITESPACE","\n        ",62],["T_VARIABLE","$appState",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","objectManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","get",63],"(",["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","TestFramework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","App",63],["T_NS_SEPARATOR","\\",63],["T_STRING","State",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$appState",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","setMode",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","origMode",64],")",";",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","staticDir",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","isExist",65],"(",["T_CONSTANT_ENCAPSED_STRING","'frontend\/FrameworkViewMinifier'",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","staticDir",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","delete",66],"(",["T_CONSTANT_ENCAPSED_STRING","'frontend\/FrameworkViewMinifier'",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_STRING","parent",68],["T_DOUBLE_COLON","::",68],["T_STRING","tearDown",68],"(",")",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * CSS Minifier library test\n     *\n     * When fails on library update or minification handler replacement:\n     * 1 - minify `_files\/static\/css\/styles.css` with new library manually\n     * 2 - use DIFF tools to see difference between new minified CSS and old minified one\n     * 3 - ensure that all differences are acceptable\n     * 4 - ensure that new minified CSS is fully workable in all supported browsers\n     * 5 - replace `_files\/static\/css\/styles.magento.min.css` with new minified css\n     *\/",71],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testCSSminLibrary",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Code\\Minifier\\AdapterInterface $adapter *\/",83],["T_WHITESPACE","\n        ",83],["T_VARIABLE","$adapter",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","objectManager",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","get",84],"(",["T_CONSTANT_ENCAPSED_STRING","'cssMinificationAdapter'",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEquals",85],"(",["T_WHITESPACE","\n            ",85],["T_STRING","file_get_contents",86],"(",["T_STRING","dirname",86],"(",["T_DIR","__DIR__",86],")",["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/expected\/styles.magento.min.css'",86],")",",",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$adapter",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","minify",87],"(",["T_STRING","file_get_contents",87],"(",["T_STRING","dirname",87],"(",["T_DIR","__DIR__",87],")",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/theme\/web\/css\/styles.css'",87],")",")",",",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'Minified CSS differs from initial minified CSS snapshot. '",88],["T_WHITESPACE","\n            ",88],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Ensure that new CSS is fully valid for all supported browsers '",89],["T_WHITESPACE","\n            ",89],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'and replace old minified snapshot with new one.'",90],["T_WHITESPACE","\n        ",90],")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Test JS minification library\n     * \n     * @return void\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","testJshrinkLibrary",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Code\\Minifier\\AdapterInterface $adapter *\/",101],["T_WHITESPACE","\n        ",101],["T_VARIABLE","$adapter",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","objectManager",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'jsMinificationAdapter'",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEquals",103],"(",["T_WHITESPACE","\n            ",103],["T_STRING","file_get_contents",104],"(",["T_STRING","dirname",104],"(",["T_DIR","__DIR__",104],")",["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/expected\/test.min.js'",104],")",",",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$adapter",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","minify",105],"(",["T_STRING","file_get_contents",105],"(",["T_STRING","dirname",105],"(",["T_DIR","__DIR__",105],")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/theme\/web\/js\/test.js'",105],")",")",",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'Minified JS differs from initial minified JS snapshot. '",106],["T_WHITESPACE","\n            ",106],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Ensure that new JS is fully valid for all supported browsers '",107],["T_WHITESPACE","\n            ",107],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'and replace old minified snapshot with new one.'",108],["T_WHITESPACE","\n        ",108],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Test CSS minification\n     *\n     * @param string $requestedUri\n     * @param callable $assertionCallback\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",112],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","_testCssMinification",119],"(",["T_VARIABLE","$requestedUri",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$assertionCallback",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Request\\Http $request *\/",121],["T_WHITESPACE","\n        ",121],["T_VARIABLE","$request",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","objectManager",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","get",122],"(",["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","App",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Request",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Http",122],["T_DOUBLE_COLON","::",122],["T_CLASS","class",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$request",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setRequestUri",123],"(",["T_VARIABLE","$requestedUri",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$request",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","setParam",124],"(",["T_CONSTANT_ENCAPSED_STRING","'resource'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$requestedUri",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$response",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getMockBuilder",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Framework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","App",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Response",126],["T_NS_SEPARATOR","\\",126],["T_STRING","FileInterface",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","setMethods",127],"(","[",["T_CONSTANT_ENCAPSED_STRING","'setFilePath'",127],"]",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMockForAbstractClass",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$response",129],["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","expects",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","any",130],"(",")",")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","method",131],"(",["T_CONSTANT_ENCAPSED_STRING","'setFilePath'",131],")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","will",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","returnCallback",132],"(",["T_VARIABLE","$assertionCallback",132],")",")",";",["T_WHITESPACE","\n\n        ",132],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\StaticResource $staticResourceApp *\/",134],["T_WHITESPACE","\n        ",134],["T_VARIABLE","$staticResourceApp",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","objectManager",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","create",135],"(",["T_WHITESPACE","\n            ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","App",136],["T_NS_SEPARATOR","\\",136],["T_STRING","StaticResource",136],["T_DOUBLE_COLON","::",136],["T_CLASS","class",136],",",["T_WHITESPACE","\n            ",136],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$response",137],"]",["T_WHITESPACE","\n        ",137],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$staticResourceApp",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","launch",139],"(",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * @magentoConfigFixture current_store dev\/css\/minify_files 0\n     * @magentoAppIsolation enabled\n     *\/",142],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","testCssMinificationOff",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_testCssMinification",148],"(",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","'\/frontend\/FrameworkViewMinifier\/default\/en_US\/css\/styles.css'",149],",",["T_WHITESPACE","\n            ",149],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$path",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$content",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","file_get_contents",151],"(",["T_VARIABLE","$path",151],")",";",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertNotEmpty",152],"(",["T_VARIABLE","$content",152],")",";",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertContains",153],"(",["T_CONSTANT_ENCAPSED_STRING","'FrameworkViewMinifier\/frontend'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$content",153],")",";",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertNotEquals",154],"(",["T_WHITESPACE","\n                    ",154],["T_STRING","file_get_contents",155],"(",["T_WHITESPACE","\n                        ",155],["T_STRING","dirname",156],"(",["T_DIR","__DIR__",156],")",["T_WHITESPACE","\n                        ",156],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/expected\/styles.magento.min.css'",157],["T_WHITESPACE","\n                    ",157],")",",",["T_WHITESPACE","\n                    ",158],["T_VARIABLE","$content",159],",",["T_WHITESPACE","\n                    ",159],["T_CONSTANT_ENCAPSED_STRING","'CSS is minified when minification turned off'",160],["T_WHITESPACE","\n                ",160],")",";",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n        ",162],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * @magentoConfigFixture current_store dev\/css\/minify_files 1\n     *\/",166],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","testCssMinification",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_testCssMinification",171],"(",["T_WHITESPACE","\n            ",171],["T_CONSTANT_ENCAPSED_STRING","'\/frontend\/FrameworkViewMinifier\/default\/en_US\/css\/styles.min.css'",172],",",["T_WHITESPACE","\n            ",172],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$path",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertEquals",174],"(",["T_WHITESPACE","\n                    ",174],["T_STRING","file_get_contents",175],"(",["T_WHITESPACE","\n                        ",175],["T_STRING","dirname",176],"(",["T_DIR","__DIR__",176],")",["T_WHITESPACE","\n                        ",176],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/expected\/styles.magento.min.css'",177],["T_WHITESPACE","\n                    ",177],")",",",["T_WHITESPACE","\n                    ",178],["T_STRING","file_get_contents",179],"(",["T_VARIABLE","$path",179],")",",",["T_WHITESPACE","\n                    ",179],["T_CONSTANT_ENCAPSED_STRING","'Minified files are not equal or minification did not work for requested CSS'",180],["T_WHITESPACE","\n                ",180],")",";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n        ",182],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * @magentoConfigFixture current_store dev\/css\/minify_files 1\n     *\/",186],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","testCssMinificationForMinifiedFiles",189],"(",")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_testCssMinification",191],"(",["T_WHITESPACE","\n            ",191],["T_CONSTANT_ENCAPSED_STRING","'\/frontend\/FrameworkViewMinifier\/default\/en_US\/css\/preminified-styles.min.css'",192],",",["T_WHITESPACE","\n            ",192],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$path",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$content",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","file_get_contents",194],"(",["T_VARIABLE","$path",194],")",";",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertNotEmpty",195],"(",["T_VARIABLE","$content",195],")",";",["T_WHITESPACE","\n                ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertContains",196],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento\/backend'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$content",196],")",";",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertContains",197],"(",["T_CONSTANT_ENCAPSED_STRING","'semi-minified file'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$content",197],")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * @magentoConfigFixture current_store dev\/css\/minify_files 1\n     *\/",202],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","testDeploymentWithMinifierEnabled",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$staticPath",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","staticDir",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getAbsolutePath",207],"(",")",";",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$fileToBePublished",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$staticPath",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'\/frontend\/FrameworkViewMinifier\/default\/en_US\/css\/styles.min.css'",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$fileToTestPublishing",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","dirname",210],"(",["T_DIR","__DIR__",210],")",["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/theme\/web\/css\/styles.css'",210],";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$omFactory",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getMock",212],"(",["T_NS_SEPARATOR","\\",212],["T_STRING","Magento",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Framework",212],["T_NS_SEPARATOR","\\",212],["T_STRING","App",212],["T_NS_SEPARATOR","\\",212],["T_STRING","ObjectManagerFactory",212],["T_DOUBLE_COLON","::",212],["T_CLASS","class",212],",",["T_WHITESPACE"," ",212],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",212],"]",",",["T_WHITESPACE"," ",212],"[","]",",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","''",212],",",["T_WHITESPACE"," ",212],["T_STRING","false",212],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$omFactory",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","expects",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","any",213],"(",")",")",["T_WHITESPACE","\n            ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","method",214],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",214],")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","will",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","returnValue",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","objectManager",215],")",")",";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$output",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","objectManager",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","create",217],"(",["T_WHITESPACE","\n            ",217],["T_NS_SEPARATOR","\\",218],["T_STRING","Symfony",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Component",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Console",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Output",218],["T_NS_SEPARATOR","\\",218],["T_STRING","ConsoleOutput",218],["T_DOUBLE_COLON","::",218],["T_CLASS","class",218],["T_WHITESPACE","\n        ",218],")",";",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$filesUtil",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getMock",221],"(",["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Framework",221],["T_NS_SEPARATOR","\\",221],["T_STRING","App",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Utility",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Files",221],["T_DOUBLE_COLON","::",221],["T_CLASS","class",221],",",["T_WHITESPACE"," ",221],"[","]",",",["T_WHITESPACE"," ",221],"[","]",",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","''",221],",",["T_WHITESPACE"," ",221],["T_STRING","false",221],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$filesUtil",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","expects",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","any",222],"(",")",")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","method",223],"(",["T_CONSTANT_ENCAPSED_STRING","'getStaticLibraryFiles'",223],")",["T_WHITESPACE","\n            ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","will",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","returnValue",224],"(","[","]",")",")",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$filesUtil",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","expects",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","any",226],"(",")",")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","method",227],"(",["T_CONSTANT_ENCAPSED_STRING","'getPhtmlFiles'",227],")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","will",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","returnValue",228],"(","[","]",")",")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$filesUtil",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","expects",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","any",230],"(",")",")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","method",231],"(",["T_CONSTANT_ENCAPSED_STRING","'getStaticPreProcessingFiles'",231],")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","will",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","returnValue",232],"(",["T_WHITESPACE","\n                ",232],"[",["T_WHITESPACE","\n                    ",233],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend'",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'FrameworkViewMinifier\/default'",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","''",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","''",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'css\/styles.css'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$fileToTestPublishing",234],"]",["T_WHITESPACE","\n                ",234],"]",["T_WHITESPACE","\n            ",235],")",")",";",["T_WHITESPACE","\n\n        ",236],["T_DOC_COMMENT","\/** @var \\Magento\\Deploy\\Model\\Deploy\\LocaleDeploy $deployer *\/",238],["T_WHITESPACE","\n        ",238],["T_VARIABLE","$deployer",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","objectManager",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","create",239],"(",["T_WHITESPACE","\n            ",239],["T_NS_SEPARATOR","\\",240],["T_STRING","Magento",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Deploy",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Model",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Deploy",240],["T_NS_SEPARATOR","\\",240],["T_STRING","LocaleDeploy",240],["T_DOUBLE_COLON","::",240],["T_CLASS","class",240],",",["T_WHITESPACE","\n            ",240],"[",["T_CONSTANT_ENCAPSED_STRING","'filesUtil'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$filesUtil",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'output'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$output",241],"]",["T_WHITESPACE","\n        ",241],")",";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$deployer",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","deploy",244],"(",["T_CONSTANT_ENCAPSED_STRING","'frontend'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'FrameworkViewMinifier\/default'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'en_US'",244],",",["T_WHITESPACE"," ",244],"[","]",")",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertFileExists",246],"(",["T_VARIABLE","$fileToBePublished",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertEquals",247],"(",["T_WHITESPACE","\n            ",247],["T_STRING","file_get_contents",248],"(",["T_STRING","dirname",248],"(",["T_DIR","__DIR__",248],")",["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/static\/expected\/styles.magento.min.css'",248],")",",",["T_WHITESPACE","\n            ",248],["T_STRING","file_get_contents",249],"(",["T_VARIABLE","$fileToBePublished",249],")",",",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'Minified file is not equal or minification did not work for deployed CSS'",250],["T_WHITESPACE","\n        ",250],")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n",252],"}",["T_WHITESPACE","\n",253]]