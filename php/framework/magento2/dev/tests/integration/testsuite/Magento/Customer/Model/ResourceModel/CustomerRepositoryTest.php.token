[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ResourceModel",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AccountManagementInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CustomerRepositoryInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SortOrder",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bootstrap",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Checks Customer insert, update, search with repository\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","CustomerRepositoryTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/** @var AccountManagementInterface *\/",21],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$accountManagement",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/** @var CustomerRepositoryInterface *\/",24],["T_WHITESPACE","\n    ",24],["T_PRIVATE","private",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$customerRepository",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\ObjectManagerInterface *\/",27],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$objectManager",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\CustomerInterfaceFactory *\/",30],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$customerFactory",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\AddressInterfaceFactory *\/",33],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$addressFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\RegionInterfaceFactory *\/",36],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$regionFactory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter *\/",39],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$converter",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Api\\DataObjectHelper  *\/",42],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$dataObjectHelper",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Encryption\\EncryptorInterface *\/",45],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$encryptor",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\CustomerRegistry *\/",48],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$customerRegistry",49],";",["T_WHITESPACE","\n\n    ",49],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","setUp",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","objectManager",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","Bootstrap",53],["T_DOUBLE_COLON","::",53],["T_STRING","getObjectManager",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","customerRepository",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","objectManager",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","create",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Customer",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Api",55],["T_NS_SEPARATOR","\\",55],["T_STRING","CustomerRepositoryInterface",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","customerFactory",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","objectManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","create",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Customer",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Api",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Data",57],["T_NS_SEPARATOR","\\",57],["T_STRING","CustomerInterfaceFactory",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","addressFactory",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","objectManager",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","create",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Customer",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Api",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Data",58],["T_NS_SEPARATOR","\\",58],["T_STRING","AddressInterfaceFactory",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","regionFactory",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","objectManager",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","create",59],"(",["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Customer",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Api",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Data",59],["T_NS_SEPARATOR","\\",59],["T_STRING","RegionInterfaceFactory",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","accountManagement",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","objectManager",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Customer",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Api",61],["T_NS_SEPARATOR","\\",61],["T_STRING","AccountManagementInterface",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","converter",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","objectManager",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","create",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Api",62],["T_NS_SEPARATOR","\\",62],["T_STRING","ExtensibleDataObjectConverter",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","dataObjectHelper",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","objectManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","create",63],"(",["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Api",63],["T_NS_SEPARATOR","\\",63],["T_STRING","DataObjectHelper",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","encryptor",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","objectManager",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","create",64],"(",["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Encryption",64],["T_NS_SEPARATOR","\\",64],["T_STRING","EncryptorInterface",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","customerRegistry",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","objectManager",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","create",65],"(",["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Customer",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","CustomerRegistry",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Config\\CacheInterface $cache *\/",67],["T_WHITESPACE","\n        ",67],["T_VARIABLE","$cache",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","objectManager",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","create",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Config",68],["T_NS_SEPARATOR","\\",68],["T_STRING","CacheInterface",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$cache",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","remove",69],"(",["T_CONSTANT_ENCAPSED_STRING","'extension_attributes_config'",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","tearDown",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$objectManager",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","TestFramework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Helper",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Bootstrap",74],["T_DOUBLE_COLON","::",74],["T_STRING","getObjectManager",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\CustomerRegistry $customerRegistry *\/",75],["T_WHITESPACE","\n        ",75],["T_VARIABLE","$customerRegistry",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$objectManager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Customer",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Model",76],["T_NS_SEPARATOR","\\",76],["T_STRING","CustomerRegistry",76],["T_DOUBLE_COLON","::",76],["T_CLASS","class",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$customerRegistry",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","remove",77],"(",["T_LNUMBER","1",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @magentoDbIsolation enabled\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","testCreateCustomerNewThenUpdateFirstName",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_DOC_COMMENT","\/** Create a new customer *\/",85],["T_WHITESPACE","\n        ",85],["T_VARIABLE","$email",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'first_last@example.com'",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$storeId",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_LNUMBER","1",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$firstname",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Tester'",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$lastname",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'McTest'",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$groupId",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_LNUMBER","1",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$newCustomerEntity",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","customerFactory",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","create",91],"(",")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","setStoreId",92],"(",["T_VARIABLE","$storeId",92],")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","setEmail",93],"(",["T_VARIABLE","$email",93],")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","setFirstname",94],"(",["T_VARIABLE","$firstname",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","setLastname",95],"(",["T_VARIABLE","$lastname",95],")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","setGroupId",96],"(",["T_VARIABLE","$groupId",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$customer",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","customerRepository",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",["T_VARIABLE","$newCustomerEntity",97],")",";",["T_WHITESPACE","\n        ",97],["T_DOC_COMMENT","\/** Update customer *\/",98],["T_WHITESPACE","\n        ",98],["T_VARIABLE","$newCustomerFirstname",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'New First Name'",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$updatedCustomer",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","customerFactory",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","create",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","dataObjectHelper",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","mergeDataObjects",101],"(",["T_WHITESPACE","\n            ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Customer",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Api",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Data",102],["T_NS_SEPARATOR","\\",102],["T_STRING","CustomerInterface",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],",",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$updatedCustomer",103],",",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$customer",104],["T_WHITESPACE","\n        ",104],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$updatedCustomer",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setFirstname",106],"(",["T_VARIABLE","$newCustomerFirstname",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","customerRepository",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","save",107],"(",["T_VARIABLE","$updatedCustomer",107],")",";",["T_WHITESPACE","\n        ",107],["T_DOC_COMMENT","\/** Check if update was successful *\/",108],["T_WHITESPACE","\n        ",108],["T_VARIABLE","$customer",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","customerRepository",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","get",109],"(",["T_VARIABLE","$customer",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getEmail",109],"(",")",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEquals",110],"(",["T_VARIABLE","$newCustomerFirstname",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$customer",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getFirstname",110],"(",")",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEquals",111],"(",["T_VARIABLE","$lastname",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$customer",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getLastname",111],"(",")",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @magentoDbIsolation enabled\n     *\/",114],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","testCreateNewCustomer",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$email",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'email@example.com'",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$storeId",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_LNUMBER","1",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$firstname",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Tester'",121],";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$lastname",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'McTest'",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$groupId",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$newCustomerEntity",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","customerFactory",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","create",125],"(",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","setStoreId",126],"(",["T_VARIABLE","$storeId",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","setEmail",127],"(",["T_VARIABLE","$email",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","setFirstname",128],"(",["T_VARIABLE","$firstname",128],")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","setLastname",129],"(",["T_VARIABLE","$lastname",129],")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","setGroupId",130],"(",["T_VARIABLE","$groupId",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$savedCustomer",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","customerRepository",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","save",131],"(",["T_VARIABLE","$newCustomerEntity",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertNotNull",132],"(",["T_VARIABLE","$savedCustomer",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getId",132],"(",")",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEquals",133],"(",["T_VARIABLE","$email",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$savedCustomer",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getEmail",133],"(",")",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_VARIABLE","$storeId",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$savedCustomer",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getStoreId",134],"(",")",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertEquals",135],"(",["T_VARIABLE","$firstname",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$savedCustomer",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getFirstname",135],"(",")",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEquals",136],"(",["T_VARIABLE","$lastname",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$savedCustomer",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getLastname",136],"(",")",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertEquals",137],"(",["T_VARIABLE","$groupId",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$savedCustomer",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getGroupId",137],"(",")",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertTrue",138],"(","!",["T_VARIABLE","$savedCustomer",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getSuffix",138],"(",")",")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * @dataProvider updateCustomerDataProvider\n     * @magentoAppArea frontend\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @param int|null $defaultBilling\n     * @param int|null $defaultShipping\n     *\/",141],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testUpdateCustomer",148],"(",["T_VARIABLE","$defaultBilling",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$defaultShipping",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$existingCustomerId",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","1",150],";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$email",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'savecustomer@example.com'",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$firstName",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'Firstsave'",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$lastName",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Lastsave'",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$newPassword",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'newPassword123'",154],";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$newPasswordHash",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","encryptor",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getHash",155],"(",["T_VARIABLE","$newPassword",155],",",["T_WHITESPACE"," ",155],["T_STRING","true",155],")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$customerBefore",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","customerRepository",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getById",156],"(",["T_VARIABLE","$existingCustomerId",156],")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$customerData",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","array_merge",157],"(",["T_VARIABLE","$customerBefore",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","__toArray",157],"(",")",",",["T_WHITESPACE"," ",157],"[",["T_WHITESPACE","\n                ",157],["T_CONSTANT_ENCAPSED_STRING","'id'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_LNUMBER","1",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'email'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$email",159],",",["T_WHITESPACE","\n                ",159],["T_CONSTANT_ENCAPSED_STRING","'firstname'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$firstName",160],",",["T_WHITESPACE","\n                ",160],["T_CONSTANT_ENCAPSED_STRING","'lastname'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$lastName",161],",",["T_WHITESPACE","\n                ",161],["T_CONSTANT_ENCAPSED_STRING","'created_in'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'Admin'",162],",",["T_WHITESPACE","\n                ",162],["T_CONSTANT_ENCAPSED_STRING","'password'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'notsaved'",163],",",["T_WHITESPACE","\n                ",163],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$defaultBilling",164],",",["T_WHITESPACE","\n                ",164],["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$defaultShipping",165],["T_WHITESPACE","\n            ",165],"]",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$customerDetails",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","customerFactory",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","create",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","dataObjectHelper",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","populateWithArray",168],"(",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$customerDetails",169],",",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$customerData",170],",",["T_WHITESPACE","\n            ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Customer",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Api",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Data",171],["T_NS_SEPARATOR","\\",171],["T_STRING","CustomerInterface",171],["T_DOUBLE_COLON","::",171],["T_CLASS","class",171],["T_WHITESPACE","\n        ",171],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","customerRepository",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","save",173],"(",["T_VARIABLE","$customerDetails",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$newPasswordHash",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$customerAfter",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","customerRepository",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getById",174],"(",["T_VARIABLE","$existingCustomerId",174],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEquals",175],"(",["T_VARIABLE","$email",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$customerAfter",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getEmail",175],"(",")",")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEquals",176],"(",["T_VARIABLE","$firstName",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$customerAfter",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getFirstname",176],"(",")",")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEquals",177],"(",["T_VARIABLE","$lastName",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$customerAfter",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getLastname",177],"(",")",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertEquals",178],"(",["T_VARIABLE","$defaultBilling",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$customerAfter",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getDefaultBilling",178],"(",")",")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEquals",179],"(",["T_VARIABLE","$defaultShipping",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$customerAfter",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getDefaultShipping",179],"(",")",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","expectedDefaultShippingsInCustomerModelAttributes",180],"(",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$existingCustomerId",181],",",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$defaultBilling",182],",",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$defaultShipping",183],["T_WHITESPACE","\n        ",183],")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEquals",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Admin'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$customerAfter",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getCreatedIn",185],"(",")",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","accountManagement",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","authenticate",186],"(",["T_VARIABLE","$customerAfter",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getEmail",186],"(",")",",",["T_WHITESPACE"," ",186],["T_VARIABLE","$newPassword",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$attributesBefore",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","converter",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","toFlatArray",187],"(",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$customerBefore",188],",",["T_WHITESPACE","\n            ",188],"[","]",",",["T_WHITESPACE","\n            ",189],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Customer",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Api",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Data",190],["T_NS_SEPARATOR","\\",190],["T_STRING","CustomerInterface",190],["T_DOUBLE_COLON","::",190],["T_CLASS","class",190],["T_WHITESPACE","\n        ",190],")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$attributesAfter",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","converter",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","toFlatArray",192],"(",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$customerAfter",193],",",["T_WHITESPACE","\n            ",193],"[","]",",",["T_WHITESPACE","\n            ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Customer",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Api",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Data",195],["T_NS_SEPARATOR","\\",195],["T_STRING","CustomerInterface",195],["T_DOUBLE_COLON","::",195],["T_CLASS","class",195],["T_WHITESPACE","\n        ",195],")",";",["T_WHITESPACE","\n        ",196],["T_COMMENT","\/\/ ignore 'updated_at'\n",197],["T_WHITESPACE","        ",198],["T_UNSET","unset",198],"(",["T_VARIABLE","$attributesBefore",198],"[",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",198],"]",")",";",["T_WHITESPACE","\n        ",198],["T_UNSET","unset",199],"(",["T_VARIABLE","$attributesAfter",199],"[",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",199],"]",")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$inBeforeOnly",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","array_diff_assoc",200],"(",["T_VARIABLE","$attributesBefore",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$attributesAfter",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$inAfterOnly",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","array_diff_assoc",201],"(",["T_VARIABLE","$attributesAfter",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$attributesBefore",201],")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$expectedInBefore",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"[",["T_WHITESPACE","\n            ",202],["T_CONSTANT_ENCAPSED_STRING","'firstname'",203],",",["T_WHITESPACE","\n            ",203],["T_CONSTANT_ENCAPSED_STRING","'lastname'",204],",",["T_WHITESPACE","\n            ",204],["T_CONSTANT_ENCAPSED_STRING","'email'",205],",",["T_WHITESPACE","\n        ",205],"]",";",["T_WHITESPACE","\n        ",206],["T_FOREACH","foreach",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$expectedInBefore",207],["T_WHITESPACE"," ",207],["T_AS","as",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$key",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertContains",208],"(",["T_VARIABLE","$key",208],",",["T_WHITESPACE"," ",208],["T_STRING","array_keys",208],"(",["T_VARIABLE","$inBeforeOnly",208],")",")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertContains",210],"(",["T_CONSTANT_ENCAPSED_STRING","'created_in'",210],",",["T_WHITESPACE"," ",210],["T_STRING","array_keys",210],"(",["T_VARIABLE","$inAfterOnly",210],")",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertContains",211],"(",["T_CONSTANT_ENCAPSED_STRING","'firstname'",211],",",["T_WHITESPACE"," ",211],["T_STRING","array_keys",211],"(",["T_VARIABLE","$inAfterOnly",211],")",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertContains",212],"(",["T_CONSTANT_ENCAPSED_STRING","'lastname'",212],",",["T_WHITESPACE"," ",212],["T_STRING","array_keys",212],"(",["T_VARIABLE","$inAfterOnly",212],")",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertContains",213],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",213],",",["T_WHITESPACE"," ",213],["T_STRING","array_keys",213],"(",["T_VARIABLE","$inAfterOnly",213],")",")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertNotContains",214],"(",["T_CONSTANT_ENCAPSED_STRING","'password_hash'",214],",",["T_WHITESPACE"," ",214],["T_STRING","array_keys",214],"(",["T_VARIABLE","$inAfterOnly",214],")",")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * @magentoAppArea frontend\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDataFixture Magento\/Customer\/_files\/customer_two_addresses.php\n     *\/",217],["T_WHITESPACE","\n    ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","testUpdateCustomerAddress",222],"(",")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$customerId",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_LNUMBER","1",224],";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$city",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'San Jose'",225],";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$email",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",226],";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$customer",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","customerRepository",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getById",227],"(",["T_VARIABLE","$customerId",227],")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$customerDetails",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$customer",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","__toArray",228],"(",")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$addresses",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$customer",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getAddresses",229],"(",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$addressId",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$addresses",230],"[",["T_LNUMBER","0",230],"]",["T_OBJECT_OPERATOR","->",230],["T_STRING","getId",230],"(",")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$newAddress",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","array_merge",231],"(",["T_VARIABLE","$addresses",231],"[",["T_LNUMBER","0",231],"]",["T_OBJECT_OPERATOR","->",231],["T_STRING","__toArray",231],"(",")",",",["T_WHITESPACE"," ",231],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$city",231],"]",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$newAddressDataObject",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","addressFactory",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","create",232],"(",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","dataObjectHelper",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","populateWithArray",233],"(",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$newAddressDataObject",234],",",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$newAddress",235],",",["T_WHITESPACE","\n            ",235],["T_NS_SEPARATOR","\\",236],["T_STRING","Magento",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Customer",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Api",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Data",236],["T_NS_SEPARATOR","\\",236],["T_STRING","AddressInterface",236],["T_DOUBLE_COLON","::",236],["T_CLASS","class",236],["T_WHITESPACE","\n        ",236],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$newAddressDataObject",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setRegion",238],"(",["T_VARIABLE","$addresses",238],"[",["T_LNUMBER","0",238],"]",["T_OBJECT_OPERATOR","->",238],["T_STRING","getRegion",238],"(",")",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$newCustomerEntity",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","customerFactory",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","create",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","dataObjectHelper",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","populateWithArray",240],"(",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$newCustomerEntity",241],",",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$customerDetails",242],",",["T_WHITESPACE","\n            ",242],["T_NS_SEPARATOR","\\",243],["T_STRING","Magento",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Customer",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Api",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Data",243],["T_NS_SEPARATOR","\\",243],["T_STRING","CustomerInterface",243],["T_DOUBLE_COLON","::",243],["T_CLASS","class",243],["T_WHITESPACE","\n        ",243],")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$newCustomerEntity",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","setId",245],"(",["T_VARIABLE","$customerId",245],")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","setAddresses",246],"(","[",["T_VARIABLE","$newAddressDataObject",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$addresses",246],"[",["T_LNUMBER","1",246],"]","]",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","customerRepository",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","save",247],"(",["T_VARIABLE","$newCustomerEntity",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$newCustomer",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","customerRepository",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","get",248],"(",["T_VARIABLE","$email",248],")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEquals",249],"(",["T_LNUMBER","2",249],",",["T_WHITESPACE"," ",249],["T_STRING","count",249],"(",["T_VARIABLE","$newCustomer",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getAddresses",249],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",249],["T_FOREACH","foreach",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$newCustomer",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getAddresses",251],"(",")",["T_WHITESPACE"," ",251],["T_AS","as",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$newAddress",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$newAddress",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getId",252],"(",")",["T_WHITESPACE"," ",252],["T_IS_EQUAL","==",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$addressId",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEquals",253],"(",["T_VARIABLE","$city",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$newAddress",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getCity",253],"(",")",")",";",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * @magentoAppArea frontend\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDataFixture Magento\/Customer\/_files\/customer_two_addresses.php\n     *\/",258],["T_WHITESPACE","\n    ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","testUpdateCustomerPreserveAllAddresses",263],"(",")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$customerId",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_LNUMBER","1",265],";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$customer",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","customerRepository",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getById",266],"(",["T_VARIABLE","$customerId",266],")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$customerDetails",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$customer",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","__toArray",267],"(",")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$newCustomerEntity",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","customerFactory",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","create",268],"(",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","dataObjectHelper",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","populateWithArray",269],"(",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$newCustomerEntity",270],",",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$customerDetails",271],",",["T_WHITESPACE","\n            ",271],["T_NS_SEPARATOR","\\",272],["T_STRING","Magento",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Customer",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Api",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Data",272],["T_NS_SEPARATOR","\\",272],["T_STRING","CustomerInterface",272],["T_DOUBLE_COLON","::",272],["T_CLASS","class",272],["T_WHITESPACE","\n        ",272],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$newCustomerEntity",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","setId",274],"(",["T_VARIABLE","$customer",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getId",274],"(",")",")",["T_WHITESPACE","\n            ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","setAddresses",275],"(",["T_STRING","null",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","customerRepository",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","save",276],"(",["T_VARIABLE","$newCustomerEntity",276],")",";",["T_WHITESPACE","\n\n        ",276],["T_VARIABLE","$newCustomerDetails",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","customerRepository",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getById",278],"(",["T_VARIABLE","$customerId",278],")",";",["T_WHITESPACE","\n        ",278],["T_COMMENT","\/\/Verify that old addresses are still present\n",279],["T_WHITESPACE","        ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertEquals",280],"(",["T_LNUMBER","2",280],",",["T_WHITESPACE"," ",280],["T_STRING","count",280],"(",["T_VARIABLE","$newCustomerDetails",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getAddresses",280],"(",")",")",")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * @magentoAppArea frontend\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDataFixture Magento\/Customer\/_files\/customer_two_addresses.php\n     *\/",283],["T_WHITESPACE","\n    ",287],["T_PUBLIC","public",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","testUpdateCustomerDeleteAllAddressesWithEmptyArray",288],"(",")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$customerId",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_LNUMBER","1",290],";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$customer",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","customerRepository",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getById",291],"(",["T_VARIABLE","$customerId",291],")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$customerDetails",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$customer",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","__toArray",292],"(",")",";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$newCustomerEntity",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","customerFactory",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","create",293],"(",")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","dataObjectHelper",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","populateWithArray",294],"(",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$newCustomerEntity",295],",",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$customerDetails",296],",",["T_WHITESPACE","\n            ",296],["T_NS_SEPARATOR","\\",297],["T_STRING","Magento",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Customer",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Api",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Data",297],["T_NS_SEPARATOR","\\",297],["T_STRING","CustomerInterface",297],["T_DOUBLE_COLON","::",297],["T_CLASS","class",297],["T_WHITESPACE","\n        ",297],")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$newCustomerEntity",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","setId",299],"(",["T_VARIABLE","$customer",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getId",299],"(",")",")",["T_WHITESPACE","\n            ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","setAddresses",300],"(","[","]",")",";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","customerRepository",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","save",301],"(",["T_VARIABLE","$newCustomerEntity",301],")",";",["T_WHITESPACE","\n\n        ",301],["T_VARIABLE","$newCustomerDetails",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","customerRepository",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getById",303],"(",["T_VARIABLE","$customerId",303],")",";",["T_WHITESPACE","\n        ",303],["T_COMMENT","\/\/Verify that old addresses are removed\n",304],["T_WHITESPACE","        ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertEquals",305],"(",["T_LNUMBER","0",305],",",["T_WHITESPACE"," ",305],["T_STRING","count",305],"(",["T_VARIABLE","$newCustomerDetails",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getAddresses",305],"(",")",")",")",";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Api\\Filter[] $filters\n     * @param \\Magento\\Framework\\Api\\Filter[] $filterGroup\n     * @param array $expectedResult array of expected results indexed by ID\n     *\n     * @dataProvider searchCustomersDataProvider\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/three_customers.php\n     * @magentoDbIsolation enabled\n     *\/",308],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","testSearchCustomers",318],"(",["T_VARIABLE","$filters",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$filterGroup",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$expectedResult",318],")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Api\\SearchCriteriaBuilder $searchBuilder *\/",320],["T_WHITESPACE","\n        ",320],["T_VARIABLE","$searchBuilder",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","Bootstrap",321],["T_DOUBLE_COLON","::",321],["T_STRING","getObjectManager",321],"(",")",["T_WHITESPACE","\n            ",321],["T_OBJECT_OPERATOR","->",322],["T_STRING","create",322],"(",["T_NS_SEPARATOR","\\",322],["T_STRING","Magento",322],["T_NS_SEPARATOR","\\",322],["T_STRING","Framework",322],["T_NS_SEPARATOR","\\",322],["T_STRING","Api",322],["T_NS_SEPARATOR","\\",322],["T_STRING","SearchCriteriaBuilder",322],["T_DOUBLE_COLON","::",322],["T_CLASS","class",322],")",";",["T_WHITESPACE","\n        ",322],["T_FOREACH","foreach",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$filters",323],["T_WHITESPACE"," ",323],["T_AS","as",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$filter",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$searchBuilder",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","addFilters",324],"(","[",["T_VARIABLE","$filter",324],"]",")",";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$filterGroup",326],["T_WHITESPACE"," ",326],["T_IS_NOT_IDENTICAL","!==",326],["T_WHITESPACE"," ",326],["T_STRING","null",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$searchBuilder",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","addFilters",327],"(",["T_VARIABLE","$filterGroup",327],")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$searchResults",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","customerRepository",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getList",330],"(",["T_VARIABLE","$searchBuilder",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","create",330],"(",")",")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","assertEquals",332],"(",["T_STRING","count",332],"(",["T_VARIABLE","$expectedResult",332],")",",",["T_WHITESPACE"," ",332],["T_VARIABLE","$searchResults",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getTotalCount",332],"(",")",")",";",["T_WHITESPACE","\n\n        ",332],["T_FOREACH","foreach",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$searchResults",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getItems",334],"(",")",["T_WHITESPACE"," ",334],["T_AS","as",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$item",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","assertEquals",335],"(",["T_VARIABLE","$expectedResult",335],"[",["T_VARIABLE","$item",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getId",335],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'email'",335],"]",",",["T_WHITESPACE"," ",335],["T_VARIABLE","$item",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getEmail",335],"(",")",")",";",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","assertEquals",336],"(",["T_VARIABLE","$expectedResult",336],"[",["T_VARIABLE","$item",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getId",336],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",336],"]",",",["T_WHITESPACE"," ",336],["T_VARIABLE","$item",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getFirstname",336],"(",")",")",";",["T_WHITESPACE","\n            ",336],["T_UNSET","unset",337],"(",["T_VARIABLE","$expectedResult",337],"[",["T_VARIABLE","$item",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getId",337],"(",")","]",")",";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Test ordering\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/three_customers.php\n     * @magentoDbIsolation enabled\n     *\/",341],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","testSearchCustomersOrder",347],"(",")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Api\\SearchCriteriaBuilder $searchBuilder *\/",349],["T_WHITESPACE","\n        ",349],["T_VARIABLE","$objectManager",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","Bootstrap",350],["T_DOUBLE_COLON","::",350],["T_STRING","getObjectManager",350],"(",")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$searchBuilder",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$objectManager",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","create",351],"(",["T_NS_SEPARATOR","\\",351],["T_STRING","Magento",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Framework",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Api",351],["T_NS_SEPARATOR","\\",351],["T_STRING","SearchCriteriaBuilder",351],["T_DOUBLE_COLON","::",351],["T_CLASS","class",351],")",";",["T_WHITESPACE","\n\n        ",351],["T_COMMENT","\/\/ Filter for 'firstname' like 'First'\n",353],["T_WHITESPACE","        ",354],["T_VARIABLE","$filterBuilder",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$objectManager",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","create",354],"(",["T_NS_SEPARATOR","\\",354],["T_STRING","Magento",354],["T_NS_SEPARATOR","\\",354],["T_STRING","Framework",354],["T_NS_SEPARATOR","\\",354],["T_STRING","Api",354],["T_NS_SEPARATOR","\\",354],["T_STRING","FilterBuilder",354],["T_DOUBLE_COLON","::",354],["T_CLASS","class",354],")",";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$firstnameFilter",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$filterBuilder",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","setField",355],"(",["T_CONSTANT_ENCAPSED_STRING","'firstname'",355],")",["T_WHITESPACE","\n            ",355],["T_OBJECT_OPERATOR","->",356],["T_STRING","setConditionType",356],"(",["T_CONSTANT_ENCAPSED_STRING","'like'",356],")",["T_WHITESPACE","\n            ",356],["T_OBJECT_OPERATOR","->",357],["T_STRING","setValue",357],"(",["T_CONSTANT_ENCAPSED_STRING","'First%'",357],")",["T_WHITESPACE","\n            ",357],["T_OBJECT_OPERATOR","->",358],["T_STRING","create",358],"(",")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$searchBuilder",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","addFilters",359],"(","[",["T_VARIABLE","$firstnameFilter",359],"]",")",";",["T_WHITESPACE","\n        ",359],["T_COMMENT","\/\/ Search ascending order\n",360],["T_WHITESPACE","        ",361],["T_VARIABLE","$sortOrderBuilder",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$objectManager",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","create",361],"(",["T_NS_SEPARATOR","\\",361],["T_STRING","Magento",361],["T_NS_SEPARATOR","\\",361],["T_STRING","Framework",361],["T_NS_SEPARATOR","\\",361],["T_STRING","Api",361],["T_NS_SEPARATOR","\\",361],["T_STRING","SortOrderBuilder",361],["T_DOUBLE_COLON","::",361],["T_CLASS","class",361],")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$sortOrder",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$sortOrderBuilder",362],["T_WHITESPACE","\n            ",362],["T_OBJECT_OPERATOR","->",363],["T_STRING","setField",363],"(",["T_CONSTANT_ENCAPSED_STRING","'lastname'",363],")",["T_WHITESPACE","\n            ",363],["T_OBJECT_OPERATOR","->",364],["T_STRING","setDirection",364],"(",["T_STRING","SortOrder",364],["T_DOUBLE_COLON","::",364],["T_STRING","SORT_ASC",364],")",["T_WHITESPACE","\n            ",364],["T_OBJECT_OPERATOR","->",365],["T_STRING","create",365],"(",")",";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$searchBuilder",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","addSortOrder",366],"(",["T_VARIABLE","$sortOrder",366],")",";",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$searchResults",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","customerRepository",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getList",367],"(",["T_VARIABLE","$searchBuilder",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","create",367],"(",")",")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertEquals",368],"(",["T_LNUMBER","3",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$searchResults",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getTotalCount",368],"(",")",")",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assertEquals",369],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname'",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$searchResults",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getItems",369],"(",")","[",["T_LNUMBER","0",369],"]",["T_OBJECT_OPERATOR","->",369],["T_STRING","getLastname",369],"(",")",")",";",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertEquals",370],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname2'",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$searchResults",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getItems",370],"(",")","[",["T_LNUMBER","1",370],"]",["T_OBJECT_OPERATOR","->",370],["T_STRING","getLastname",370],"(",")",")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","assertEquals",371],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname3'",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$searchResults",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getItems",371],"(",")","[",["T_LNUMBER","2",371],"]",["T_OBJECT_OPERATOR","->",371],["T_STRING","getLastname",371],"(",")",")",";",["T_WHITESPACE","\n\n        ",371],["T_COMMENT","\/\/ Search descending order\n",373],["T_WHITESPACE","        ",374],["T_VARIABLE","$sortOrder",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$sortOrderBuilder",374],["T_WHITESPACE","\n            ",374],["T_OBJECT_OPERATOR","->",375],["T_STRING","setField",375],"(",["T_CONSTANT_ENCAPSED_STRING","'lastname'",375],")",["T_WHITESPACE","\n            ",375],["T_OBJECT_OPERATOR","->",376],["T_STRING","setDirection",376],"(",["T_STRING","SortOrder",376],["T_DOUBLE_COLON","::",376],["T_STRING","SORT_DESC",376],")",["T_WHITESPACE","\n            ",376],["T_OBJECT_OPERATOR","->",377],["T_STRING","create",377],"(",")",";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$searchBuilder",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","addSortOrder",378],"(",["T_VARIABLE","$sortOrder",378],")",";",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$searchResults",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","customerRepository",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getList",379],"(",["T_VARIABLE","$searchBuilder",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","create",379],"(",")",")",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","assertEquals",380],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname3'",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$searchResults",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","getItems",380],"(",")","[",["T_LNUMBER","0",380],"]",["T_OBJECT_OPERATOR","->",380],["T_STRING","getLastname",380],"(",")",")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertEquals",381],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname2'",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$searchResults",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getItems",381],"(",")","[",["T_LNUMBER","1",381],"]",["T_OBJECT_OPERATOR","->",381],["T_STRING","getLastname",381],"(",")",")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","assertEquals",382],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname'",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$searchResults",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getItems",382],"(",")","[",["T_LNUMBER","2",382],"]",["T_OBJECT_OPERATOR","->",382],["T_STRING","getLastname",382],"(",")",")",";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * @magentoAppArea adminhtml\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoAppIsolation enabled\n     *\/",385],["T_WHITESPACE","\n    ",389],["T_PUBLIC","public",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","testDelete",390],"(",")",["T_WHITESPACE","\n    ",390],"{",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$fixtureCustomerEmail",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",392],";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$customer",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","customerRepository",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","get",393],"(",["T_VARIABLE","$fixtureCustomerEmail",393],")",";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","customerRepository",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","delete",394],"(",["T_VARIABLE","$customer",394],")",";",["T_WHITESPACE","\n        ",394],["T_DOC_COMMENT","\/** Ensure that customer was deleted *\/",395],["T_WHITESPACE","\n        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","setExpectedException",396],"(",["T_WHITESPACE","\n            ",396],["T_NS_SEPARATOR","\\",397],["T_STRING","Magento",397],["T_NS_SEPARATOR","\\",397],["T_STRING","Framework",397],["T_NS_SEPARATOR","\\",397],["T_STRING","Exception",397],["T_NS_SEPARATOR","\\",397],["T_STRING","NoSuchEntityException",397],["T_DOUBLE_COLON","::",397],["T_CLASS","class",397],",",["T_WHITESPACE","\n            ",397],["T_CONSTANT_ENCAPSED_STRING","'No such entity with email = customer@example.com, websiteId = 1'",398],["T_WHITESPACE","\n        ",398],")",";",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","customerRepository",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","get",400],"(",["T_VARIABLE","$fixtureCustomerEmail",400],")",";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * @magentoAppArea adminhtml\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoAppIsolation enabled\n     *\/",403],["T_WHITESPACE","\n    ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","testDeleteById",408],"(",")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$fixtureCustomerEmail",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",410],";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$fixtureCustomerId",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_LNUMBER","1",411],";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","customerRepository",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","deleteById",412],"(",["T_VARIABLE","$fixtureCustomerId",412],")",";",["T_WHITESPACE","\n        ",412],["T_DOC_COMMENT","\/** Ensure that customer was deleted *\/",413],["T_WHITESPACE","\n        ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","setExpectedException",414],"(",["T_WHITESPACE","\n            ",414],["T_NS_SEPARATOR","\\",415],["T_STRING","Magento",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Framework",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Exception",415],["T_NS_SEPARATOR","\\",415],["T_STRING","NoSuchEntityException",415],["T_DOUBLE_COLON","::",415],["T_CLASS","class",415],",",["T_WHITESPACE","\n            ",415],["T_CONSTANT_ENCAPSED_STRING","'No such entity with email = customer@example.com, websiteId = 1'",416],["T_WHITESPACE","\n        ",416],")",";",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","customerRepository",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","get",418],"(",["T_VARIABLE","$fixtureCustomerEmail",418],")",";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_DOC_COMMENT","\/**\n     * DataProvider update customer\n     *\n     * @return array\n     *\/",421],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","updateCustomerDataProvider",426],"(",")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],"[",["T_WHITESPACE","\n            ",428],["T_CONSTANT_ENCAPSED_STRING","'Customer remove default shipping and billing'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],"[",["T_WHITESPACE","\n                ",429],["T_STRING","null",430],",",["T_WHITESPACE","\n                ",430],["T_STRING","null",431],["T_WHITESPACE","\n            ",431],"]",",",["T_WHITESPACE","\n            ",432],["T_CONSTANT_ENCAPSED_STRING","'Customer update default shipping and billing'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],"[",["T_WHITESPACE","\n                ",433],["T_LNUMBER","1",434],",",["T_WHITESPACE","\n                ",434],["T_LNUMBER","1",435],["T_WHITESPACE","\n            ",435],"]",",",["T_WHITESPACE","\n        ",436],"]",";",["T_WHITESPACE","\n    ",437],"}",["T_WHITESPACE","\n\n    ",438],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","searchCustomersDataProvider",440],"(",")",["T_WHITESPACE","\n    ",440],"{",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$builder",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","Bootstrap",442],["T_DOUBLE_COLON","::",442],["T_STRING","getObjectManager",442],"(",")",["T_OBJECT_OPERATOR","->",442],["T_STRING","create",442],"(",["T_NS_SEPARATOR","\\",442],["T_STRING","Magento",442],["T_NS_SEPARATOR","\\",442],["T_STRING","Framework",442],["T_NS_SEPARATOR","\\",442],["T_STRING","Api",442],["T_NS_SEPARATOR","\\",442],["T_STRING","FilterBuilder",442],["T_DOUBLE_COLON","::",442],["T_CLASS","class",442],")",";",["T_WHITESPACE","\n        ",442],["T_RETURN","return",443],["T_WHITESPACE"," ",443],"[",["T_WHITESPACE","\n            ",443],["T_CONSTANT_ENCAPSED_STRING","'Customer with specific email'",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],"[",["T_WHITESPACE","\n                ",444],"[",["T_VARIABLE","$builder",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","setField",445],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",445],")",["T_OBJECT_OPERATOR","->",445],["T_STRING","setValue",445],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@search.example.com'",445],")",["T_OBJECT_OPERATOR","->",445],["T_STRING","create",445],"(",")","]",",",["T_WHITESPACE","\n                ",445],["T_STRING","null",446],",",["T_WHITESPACE","\n                ",446],"[",["T_LNUMBER","1",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'customer@search.example.com'",447],",",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'firstname'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'Firstname'",447],"]","]",",",["T_WHITESPACE","\n            ",447],"]",",",["T_WHITESPACE","\n            ",448],["T_CONSTANT_ENCAPSED_STRING","'Customer with specific first name'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],"[",["T_WHITESPACE","\n                ",449],"[",["T_VARIABLE","$builder",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","setField",450],"(",["T_CONSTANT_ENCAPSED_STRING","'firstname'",450],")",["T_OBJECT_OPERATOR","->",450],["T_STRING","setValue",450],"(",["T_CONSTANT_ENCAPSED_STRING","'Firstname2'",450],")",["T_OBJECT_OPERATOR","->",450],["T_STRING","create",450],"(",")","]",",",["T_WHITESPACE","\n                ",450],["T_STRING","null",451],",",["T_WHITESPACE","\n                ",451],"[",["T_LNUMBER","2",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'customer2@search.example.com'",452],",",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'firstname'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'Firstname2'",452],"]","]",",",["T_WHITESPACE","\n            ",452],"]",",",["T_WHITESPACE","\n            ",453],["T_CONSTANT_ENCAPSED_STRING","'Customers with either email'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],"[",["T_WHITESPACE","\n                ",454],"[","]",",",["T_WHITESPACE","\n                ",455],"[",["T_WHITESPACE","\n                    ",456],["T_VARIABLE","$builder",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","setField",457],"(",["T_CONSTANT_ENCAPSED_STRING","'firstname'",457],")",["T_OBJECT_OPERATOR","->",457],["T_STRING","setValue",457],"(",["T_CONSTANT_ENCAPSED_STRING","'Firstname'",457],")",["T_OBJECT_OPERATOR","->",457],["T_STRING","create",457],"(",")",",",["T_WHITESPACE","\n                    ",457],["T_VARIABLE","$builder",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","setField",458],"(",["T_CONSTANT_ENCAPSED_STRING","'firstname'",458],")",["T_OBJECT_OPERATOR","->",458],["T_STRING","setValue",458],"(",["T_CONSTANT_ENCAPSED_STRING","'Firstname2'",458],")",["T_OBJECT_OPERATOR","->",458],["T_STRING","create",458],"(",")",["T_WHITESPACE","\n                ",458],"]",",",["T_WHITESPACE","\n                ",459],"[",["T_WHITESPACE","\n                    ",460],["T_LNUMBER","1",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'customer@search.example.com'",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'firstname'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'Firstname'",461],"]",",",["T_WHITESPACE","\n                    ",461],["T_LNUMBER","2",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'customer2@search.example.com'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'firstname'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'Firstname2'",462],"]",["T_WHITESPACE","\n                ",462],"]",",",["T_WHITESPACE","\n            ",463],"]",",",["T_WHITESPACE","\n            ",464],["T_CONSTANT_ENCAPSED_STRING","'Customers created since'",465],["T_WHITESPACE"," ",465],["T_DOUBLE_ARROW","=>",465],["T_WHITESPACE"," ",465],"[",["T_WHITESPACE","\n                ",465],"[",["T_WHITESPACE","\n                    ",466],["T_VARIABLE","$builder",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","setField",467],"(",["T_CONSTANT_ENCAPSED_STRING","'created_at'",467],")",["T_OBJECT_OPERATOR","->",467],["T_STRING","setValue",467],"(",["T_CONSTANT_ENCAPSED_STRING","'2011-02-28 15:52:26'",467],")",["T_WHITESPACE","\n                        ",467],["T_OBJECT_OPERATOR","->",468],["T_STRING","setConditionType",468],"(",["T_CONSTANT_ENCAPSED_STRING","'gt'",468],")",["T_OBJECT_OPERATOR","->",468],["T_STRING","create",468],"(",")",",",["T_WHITESPACE","\n                ",468],"]",",",["T_WHITESPACE","\n                ",469],"[","]",",",["T_WHITESPACE","\n                ",470],"[",["T_WHITESPACE","\n                    ",471],["T_LNUMBER","1",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'customer@search.example.com'",472],",",["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'firstname'",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'Firstname'",472],"]",",",["T_WHITESPACE","\n                    ",472],["T_LNUMBER","3",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'customer3@search.example.com'",473],",",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'firstname'",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'Firstname3'",473],"]",["T_WHITESPACE","\n                ",473],"]",",",["T_WHITESPACE","\n            ",474],"]",["T_WHITESPACE","\n        ",475],"]",";",["T_WHITESPACE","\n    ",476],"}",["T_WHITESPACE","\n\n    ",477],["T_DOC_COMMENT","\/**\n     * Check defaults billing and shipping in customer model\n     *\n     * @param $customerId\n     * @param $defaultBilling\n     * @param $defaultShipping\n     *\/",479],["T_WHITESPACE","\n    ",485],["T_PROTECTED","protected",486],["T_WHITESPACE"," ",486],["T_FUNCTION","function",486],["T_WHITESPACE"," ",486],["T_STRING","expectedDefaultShippingsInCustomerModelAttributes",486],"(",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$customerId",487],",",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$defaultBilling",488],",",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$defaultShipping",489],["T_WHITESPACE","\n    ",489],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n        ",490],["T_DOC_COMMENT","\/**\n         * @var \\Magento\\Customer\\Model\\Customer $customer\n         *\/",491],["T_WHITESPACE","\n        ",493],["T_VARIABLE","$customer",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","objectManager",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","create",494],"(",["T_NS_SEPARATOR","\\",494],["T_STRING","Magento",494],["T_NS_SEPARATOR","\\",494],["T_STRING","Customer",494],["T_NS_SEPARATOR","\\",494],["T_STRING","Model",494],["T_NS_SEPARATOR","\\",494],["T_STRING","Customer",494],["T_DOUBLE_COLON","::",494],["T_CLASS","class",494],")",";",["T_WHITESPACE","\n        ",494],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $customer *\/",495],["T_WHITESPACE","\n        ",495],["T_VARIABLE","$customer",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","load",496],"(",["T_VARIABLE","$customerId",496],")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","assertEquals",497],"(",["T_WHITESPACE","\n            ",497],["T_VARIABLE","$defaultBilling",498],",",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$customer",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getDefaultBilling",499],"(",")",",",["T_WHITESPACE","\n            ",499],["T_CONSTANT_ENCAPSED_STRING","'default_billing customer attribute did not updated'",500],["T_WHITESPACE","\n        ",500],")",";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","assertEquals",502],"(",["T_WHITESPACE","\n            ",502],["T_VARIABLE","$defaultShipping",503],",",["T_WHITESPACE","\n            ",503],["T_VARIABLE","$customer",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getDefaultShipping",504],"(",")",",",["T_WHITESPACE","\n            ",504],["T_CONSTANT_ENCAPSED_STRING","'default_shipping customer attribute did not updated'",505],["T_WHITESPACE","\n        ",505],")",";",["T_WHITESPACE","\n    ",506],"}",["T_WHITESPACE","\n\n    ",507],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDbIsolation enabled\n     *\/",509],["T_WHITESPACE","\n    ",512],["T_PUBLIC","public",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","testUpdateDefaultShippingAndDefaultBillingTest",513],"(",")",["T_WHITESPACE","\n    ",513],"{",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$customerId",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_LNUMBER","1",515],";",["T_WHITESPACE","\n        ",515],["T_VARIABLE","$customerData",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],"[",["T_WHITESPACE","\n            ",516],["T_CONSTANT_ENCAPSED_STRING","\"id\"",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_LNUMBER","1",517],",",["T_WHITESPACE","\n            ",517],["T_CONSTANT_ENCAPSED_STRING","\"website_id\"",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_LNUMBER","1",518],",",["T_WHITESPACE","\n            ",518],["T_CONSTANT_ENCAPSED_STRING","\"email\"",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"roni_cost@example.com\"",519],",",["T_WHITESPACE","\n            ",519],["T_CONSTANT_ENCAPSED_STRING","\"firstname\"",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","\"1111\"",520],",",["T_WHITESPACE","\n            ",520],["T_CONSTANT_ENCAPSED_STRING","\"lastname\"",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","\"Boss\"",521],",",["T_WHITESPACE","\n            ",521],["T_CONSTANT_ENCAPSED_STRING","\"middlename\"",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_STRING","null",522],",",["T_WHITESPACE","\n            ",522],["T_CONSTANT_ENCAPSED_STRING","\"gender\"",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_LNUMBER","0",523],["T_WHITESPACE","\n        ",523],"]",";",["T_WHITESPACE","\n\n        ",524],["T_VARIABLE","$customerEntity",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","customerFactory",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","create",526],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",526],["T_WHITESPACE"," ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$customerData",526],"]",")",";",["T_WHITESPACE","\n\n        ",526],["T_VARIABLE","$customer",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","customerRepository",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getById",528],"(",["T_VARIABLE","$customerId",528],")",";",["T_WHITESPACE","\n        ",528],["T_VARIABLE","$oldDefaultBilling",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$customer",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getDefaultBilling",529],"(",")",";",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$oldDefaultShipping",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$customer",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getDefaultShipping",530],"(",")",";",["T_WHITESPACE","\n\n        ",530],["T_VARIABLE","$savedCustomer",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","customerRepository",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","save",532],"(",["T_VARIABLE","$customerEntity",532],")",";",["T_WHITESPACE","\n\n        ",532],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","assertEquals",534],"(",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$savedCustomer",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getDefaultBilling",535],"(",")",",",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$oldDefaultBilling",536],",",["T_WHITESPACE","\n            ",536],["T_CONSTANT_ENCAPSED_STRING","'Default billing shoud not be overridden'",537],["T_WHITESPACE","\n        ",537],")",";",["T_WHITESPACE","\n\n        ",538],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","assertEquals",540],"(",["T_WHITESPACE","\n            ",540],["T_VARIABLE","$savedCustomer",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getDefaultShipping",541],"(",")",",",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$oldDefaultShipping",542],",",["T_WHITESPACE","\n            ",542],["T_CONSTANT_ENCAPSED_STRING","'Default shipping shoud not be overridden'",543],["T_WHITESPACE","\n        ",543],")",";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n",545],"}",["T_WHITESPACE","\n",546]]