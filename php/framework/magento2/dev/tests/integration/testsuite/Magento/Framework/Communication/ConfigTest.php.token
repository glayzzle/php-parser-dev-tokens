[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Communication",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Test of communication configuration reading and parsing.\n *\n * @magentoCache config disabled\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ConfigTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Check how valid communication XML config is parsed.\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testGetTopics",18],"(",")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$topics",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","getConfigInstance",20],"(",["T_DIR","__DIR__",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",20],")",["T_OBJECT_OPERATOR","->",20],["T_STRING","getTopics",20],"(",")",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$expectedParsedTopics",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_INCLUDE","include",21],["T_WHITESPACE"," ",21],["T_DIR","__DIR__",21],["T_WHITESPACE"," ",21],".",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication_expected.php'",21],";",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","assertEquals",22],"(",["T_VARIABLE","$expectedParsedTopics",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$topics",22],")",";",["T_WHITESPACE","\n    ",22],"}",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Get topic configuration by its name\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testGetTopic",28],"(",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$topics",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getConfigInstance",30],"(",["T_DIR","__DIR__",30],["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",30],")",["T_OBJECT_OPERATOR","->",30],["T_STRING","getTopic",30],"(",["T_CONSTANT_ENCAPSED_STRING","'customerCreated'",30],")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$expectedParsedTopics",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_INCLUDE","include",31],["T_WHITESPACE"," ",31],["T_DIR","__DIR__",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication_expected.php'",31],";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertEquals",32],"(",["T_VARIABLE","$expectedParsedTopics",32],"[",["T_CONSTANT_ENCAPSED_STRING","'customerCreated'",32],"]",",",["T_WHITESPACE"," ",32],["T_VARIABLE","$topics",32],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Get topic configuration by its name\n     *\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Topic \"invalidTopic\" is not configured.\n     *\/",35],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testGetTopicInvalidName",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getConfigInstance",43],"(",["T_DIR","__DIR__",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",43],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","getTopic",43],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidTopic'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Either \"request\" or \"schema\" attribute must be specified for topic \"customerUpdated\"\n     *\/",46],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","testGetTopicsExceptionMissingRequest",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getConfigInstance",52],"(",["T_DIR","__DIR__",52],["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_missing_request.xml'",52],")",["T_OBJECT_OPERATOR","->",52],["T_STRING","getTopics",52],"(",")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Service method specified in the definition of topic \"customerRetrieved\" is not\n     *\/",55],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testGetTopicsExceptionNotExistingServiceMethod",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getConfigInstance",61],"(",["T_DIR","__DIR__",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_not_existing_service_method.xml'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getTopics",61],"(",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Service method specified in the definition of topic \"customerRetrieved\" is not\n     *\/",64],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","testGetTopicsExceptionNotExistingService",68],"(",")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getConfigInstance",70],"(",["T_DIR","__DIR__",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_not_existing_service.xml'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getTopics",70],"(",")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Either \"request\" or \"schema\" attribute must be specified for topic \"customerRetrieved\"\n     *\/",73],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","testGetTopicsExceptionNoAttributes",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getConfigInstance",79],"(",["T_DIR","__DIR__",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_no_attributes.xml'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getTopics",79],"(",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Response schema definition for topic \"customerUpdated\" should reference existing\n     *\/",82],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testGetTopicsExceptionInvalidResponseSchema",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getConfigInstance",88],"(",["T_DIR","__DIR__",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_response_not_existing_service.xml'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getTopics",88],"(",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Request schema definition for topic \"customerUpdated\" should reference existing\n     *\/",91],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testGetTopicsExceptionInvalidRequestSchema",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getConfigInstance",97],"(",["T_DIR","__DIR__",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_request_not_existing_service.xml'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getTopics",97],"(",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Topic \"customerDeleted\" is configured for synchronous requests, that is why it must\n     *\/",100],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","testGetTopicsExceptionMultipleHandlersSynchronousMode",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getConfigInstance",106],"(",["T_DIR","__DIR__",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_multiple_handlers_synchronous_mode.xml'",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getTopics",106],"(",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Service method specified in the definition of handler \"customHandler\" for topic \"custo\n     *\/",109],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","testGetTopicsExceptionInvalidHandler",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getConfigInstance",115],"(",["T_DIR","__DIR__",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_not_existing_handler_method.xml'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getTopics",115],"(",")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Topic name \"customerAdded\" and attribute \"name\" = \"customerCreated\" must be equal\n     *\/",118],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","testGetTopicsExceptionInvalidTopicNameInEnv",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getConfigInstance",124],"(",["T_WHITESPACE","\n            ",124],["T_DIR","__DIR__",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",125],",",["T_WHITESPACE","\n            ",125],["T_DIR","__DIR__",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_invalid_topic_name.php'",126],["T_WHITESPACE","\n        ",126],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getTopics",127],"(",")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Topic \"customerCreated\" must contain data\n     *\/",130],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testGetTopicsExceptionTopicWithoutDataInEnv",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getConfigInstance",136],"(",["T_WHITESPACE","\n            ",136],["T_DIR","__DIR__",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",137],",",["T_WHITESPACE","\n            ",137],["T_DIR","__DIR__",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_topic_without_data.php'",138],["T_WHITESPACE","\n        ",138],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","getTopics",139],"(",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Topic \"customerCreated\" has missed keys: [response]\n     *\/",142],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","testGetTopicsExceptionTopicWithMissedKeysInEnv",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getConfigInstance",148],"(",["T_WHITESPACE","\n            ",148],["T_DIR","__DIR__",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",149],",",["T_WHITESPACE","\n            ",149],["T_DIR","__DIR__",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_topic_with_missed_keys.php'",150],["T_WHITESPACE","\n        ",150],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","getTopics",151],"(",")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Topic \"customerCreated\" has excessive keys: [some_incorrect_key]\n     *\/",154],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testGetTopicsExceptionTopicWithExcessiveKeysInEnv",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getConfigInstance",160],"(",["T_WHITESPACE","\n            ",160],["T_DIR","__DIR__",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",161],",",["T_WHITESPACE","\n            ",161],["T_DIR","__DIR__",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_topic_with_excessive_keys.php'",162],["T_WHITESPACE","\n        ",162],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getTopics",163],"(",")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Topic name \"customerDeleted\" and attribute \"name\" = \"customerRemoved\" must be equal\n     *\/",166],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","testGetTopicsExceptionTopicWithNonMatchedNameInEnv",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getConfigInstance",172],"(",["T_WHITESPACE","\n            ",172],["T_DIR","__DIR__",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",173],",",["T_WHITESPACE","\n            ",173],["T_DIR","__DIR__",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_with_non_matched_name.php'",174],["T_WHITESPACE","\n        ",174],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getTopics",175],"(",")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Topic \"customerDeleted\" is configured for synchronous requests, that is why it must\n     *\/",178],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","testGetTopicsExceptionMultipleHandlersSynchronousModeInEnv",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getConfigInstance",184],"(",["T_WHITESPACE","\n            ",184],["T_DIR","__DIR__",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",185],",",["T_WHITESPACE","\n            ",185],["T_DIR","__DIR__",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_multiple_handlers_synchronous_mode.php'",186],["T_WHITESPACE","\n        ",186],")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getTopics",187],"(",")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Request schema definition for topic \"customerCreated\" should reference existing service\n     *\/",190],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","testGetTopicsExceptionInvalidRequestSchemaInEnv",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getConfigInstance",196],"(",["T_WHITESPACE","\n            ",196],["T_DIR","__DIR__",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",197],",",["T_WHITESPACE","\n            ",197],["T_DIR","__DIR__",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_request_not_existing_service.php'",198],["T_WHITESPACE","\n        ",198],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","getTopics",199],"(",")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Response schema definition for topic \"customerCreated\" should reference existing type o\n     *\/",202],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","testGetTopicsExceptionInvalidResponseSchemaInEnv",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getConfigInstance",208],"(",["T_WHITESPACE","\n            ",208],["T_DIR","__DIR__",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",209],",",["T_WHITESPACE","\n            ",209],["T_DIR","__DIR__",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_response_not_existing_service.php'",210],["T_WHITESPACE","\n        ",210],")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getTopics",211],"(",")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Service method specified in the definition of handler \"customerCreatedFirst\" for topic\n     *\/",214],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","testGetTopicsExceptionInvalidMethodInHandlerInEnv",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getConfigInstance",220],"(",["T_WHITESPACE","\n            ",220],["T_DIR","__DIR__",221],["T_WHITESPACE"," ",221],".",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",221],",",["T_WHITESPACE","\n            ",221],["T_DIR","__DIR__",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_not_existing_handler_method.php'",222],["T_WHITESPACE","\n        ",222],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getTopics",223],"(",")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Disabled handler \"default\" for topic \"customerCreated\" cannot be added to the config fi\n     *\/",226],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","testGetTopicsExceptionWithDisabledHandlerInEnv",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getConfigInstance",232],"(",["T_WHITESPACE","\n            ",232],["T_DIR","__DIR__",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",233],",",["T_WHITESPACE","\n            ",233],["T_DIR","__DIR__",234],["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_with_disabled_handler.php'",234],["T_WHITESPACE","\n        ",234],")",["T_OBJECT_OPERATOR","->",235],["T_STRING","getTopics",235],"(",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Request schema type for topic \"customerCreated\" must be \"object_interface\" or \"service_\n     *\/",238],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","testGetTopicsExceptionIncorrectRequestSchemaTypeInEnv",242],"(",")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getConfigInstance",244],"(",["T_WHITESPACE","\n            ",244],["T_DIR","__DIR__",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",245],",",["T_WHITESPACE","\n            ",245],["T_DIR","__DIR__",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_incorrect_request_schema_type.php'",246],["T_WHITESPACE","\n        ",246],")",["T_OBJECT_OPERATOR","->",247],["T_STRING","getTopics",247],"(",")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage The attribute \"is_synchronous\" for topic \"customerCreated\" should have the value of the\n     *\/",250],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","testGetTopicsExceptionIsNotBooleanTypeOfIsSynchronousInEnv",254],"(",")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getConfigInstance",256],"(",["T_WHITESPACE","\n            ",256],["T_DIR","__DIR__",257],["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication.xml'",257],",",["T_WHITESPACE","\n            ",257],["T_DIR","__DIR__",258],["T_WHITESPACE"," ",258],".",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/communication_is_synchronous_is_not_boolean.php'",258],["T_WHITESPACE","\n        ",258],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getTopics",259],"(",")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Create config instance initialized with configuration from $configFilePath\n     *\n     * @param string $configFilePath\n     * @param string|null $envConfigFilePath\n     * @return \\Magento\\Framework\\Communication\\ConfigInterface\n     *\/",262],["T_WHITESPACE","\n    ",268],["T_PROTECTED","protected",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getConfigInstance",269],"(",["T_VARIABLE","$configFilePath",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$envConfigFilePath",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","null",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$fileResolver",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getMockForAbstractClass",271],"(",["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Framework",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Config",271],["T_NS_SEPARATOR","\\",271],["T_STRING","FileResolverInterface",271],["T_DOUBLE_COLON","::",271],["T_CLASS","class",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$fileResolver",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","expects",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","any",272],"(",")",")",["T_WHITESPACE","\n            ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","method",273],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",273],")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","willReturn",274],"(","[",["T_STRING","file_get_contents",274],"(",["T_VARIABLE","$configFilePath",274],")","]",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$objectManager",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Magento",275],["T_NS_SEPARATOR","\\",275],["T_STRING","TestFramework",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Helper",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Bootstrap",275],["T_DOUBLE_COLON","::",275],["T_STRING","getObjectManager",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$xmlReader",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$objectManager",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","create",276],"(",["T_WHITESPACE","\n            ",276],["T_NS_SEPARATOR","\\",277],["T_STRING","Magento",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Framework",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Communication",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Config",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Reader",277],["T_NS_SEPARATOR","\\",277],["T_STRING","XmlReader",277],["T_DOUBLE_COLON","::",277],["T_CLASS","class",277],",",["T_WHITESPACE","\n            ",277],"[",["T_CONSTANT_ENCAPSED_STRING","'fileResolver'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$fileResolver",278],"]",["T_WHITESPACE","\n        ",278],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$deploymentConfigReader",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getMockBuilder",280],"(",["T_NS_SEPARATOR","\\",280],["T_STRING","Magento",280],["T_NS_SEPARATOR","\\",280],["T_STRING","Framework",280],["T_NS_SEPARATOR","\\",280],["T_STRING","App",280],["T_NS_SEPARATOR","\\",280],["T_STRING","DeploymentConfig",280],["T_NS_SEPARATOR","\\",280],["T_STRING","Reader",280],["T_DOUBLE_COLON","::",280],["T_CLASS","class",280],")",["T_WHITESPACE","\n            ",280],["T_OBJECT_OPERATOR","->",281],["T_STRING","disableOriginalConstructor",281],"(",")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","setMethods",282],"(","[","]",")",["T_WHITESPACE","\n            ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","getMock",283],"(",")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$envConfigData",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_INCLUDE","include",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$envConfigFilePath",284],["T_WHITESPACE"," ",284],"?",":",["T_WHITESPACE"," ",284],["T_DIR","__DIR__",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/valid_communication_input.php'",284],";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$deploymentConfigReader",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","expects",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","any",285],"(",")",")",["T_OBJECT_OPERATOR","->",285],["T_STRING","method",285],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",285],")",["T_OBJECT_OPERATOR","->",285],["T_STRING","willReturn",285],"(",["T_VARIABLE","$envConfigData",285],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$deploymentConfig",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$objectManager",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","create",286],"(",["T_WHITESPACE","\n            ",286],["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Framework",287],["T_NS_SEPARATOR","\\",287],["T_STRING","App",287],["T_NS_SEPARATOR","\\",287],["T_STRING","DeploymentConfig",287],["T_DOUBLE_COLON","::",287],["T_CLASS","class",287],",",["T_WHITESPACE","\n            ",287],"[",["T_CONSTANT_ENCAPSED_STRING","'reader'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$deploymentConfigReader",288],"]",["T_WHITESPACE","\n        ",288],")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$methodsMap",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$objectManager",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","create",290],"(",["T_NS_SEPARATOR","\\",290],["T_STRING","Magento",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Framework",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Reflection",290],["T_NS_SEPARATOR","\\",290],["T_STRING","MethodsMap",290],["T_DOUBLE_COLON","::",290],["T_CLASS","class",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$envReader",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$objectManager",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","create",291],"(",["T_WHITESPACE","\n            ",291],["T_NS_SEPARATOR","\\",292],["T_STRING","Magento",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Framework",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Communication",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Config",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Reader",292],["T_NS_SEPARATOR","\\",292],["T_STRING","EnvReader",292],["T_DOUBLE_COLON","::",292],["T_CLASS","class",292],",",["T_WHITESPACE","\n            ",292],"[",["T_WHITESPACE","\n                ",293],["T_CONSTANT_ENCAPSED_STRING","'deploymentConfig'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$deploymentConfig",294],",",["T_WHITESPACE","\n                ",294],["T_CONSTANT_ENCAPSED_STRING","'methodsMap'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$methodsMap",295],["T_WHITESPACE","\n            ",295],"]",["T_WHITESPACE","\n        ",296],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$readersConfig",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],"[",["T_WHITESPACE","\n            ",298],["T_CONSTANT_ENCAPSED_STRING","'xmlReader'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],"[",["T_CONSTANT_ENCAPSED_STRING","'reader'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$xmlReader",299],",",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_LNUMBER","10",299],"]",",",["T_WHITESPACE","\n            ",299],["T_CONSTANT_ENCAPSED_STRING","'envReader'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],"[",["T_CONSTANT_ENCAPSED_STRING","'reader'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$envReader",300],",",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_LNUMBER","20",300],"]",["T_WHITESPACE","\n        ",300],"]",";",["T_WHITESPACE","\n        ",301],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Communication\\Config\\CompositeReader $reader *\/",302],["T_WHITESPACE","\n        ",302],["T_VARIABLE","$reader",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$objectManager",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","create",303],"(",["T_WHITESPACE","\n            ",303],["T_NS_SEPARATOR","\\",304],["T_STRING","Magento",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Framework",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Communication",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Config",304],["T_NS_SEPARATOR","\\",304],["T_STRING","CompositeReader",304],["T_DOUBLE_COLON","::",304],["T_CLASS","class",304],",",["T_WHITESPACE","\n            ",304],"[",["T_CONSTANT_ENCAPSED_STRING","'readers'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$readersConfig",305],"]",["T_WHITESPACE","\n        ",305],")",";",["T_WHITESPACE","\n        ",306],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Communication\\Config $config *\/",307],["T_WHITESPACE","\n        ",307],["T_VARIABLE","$configData",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$objectManager",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","create",308],"(",["T_WHITESPACE","\n            ",308],["T_NS_SEPARATOR","\\",309],["T_STRING","Magento",309],["T_NS_SEPARATOR","\\",309],["T_STRING","Framework",309],["T_NS_SEPARATOR","\\",309],["T_STRING","Communication",309],["T_NS_SEPARATOR","\\",309],["T_STRING","Config",309],["T_NS_SEPARATOR","\\",309],["T_STRING","Data",309],["T_DOUBLE_COLON","::",309],["T_CLASS","class",309],",",["T_WHITESPACE","\n            ",309],"[",["T_WHITESPACE","\n                ",310],["T_CONSTANT_ENCAPSED_STRING","'reader'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$reader",311],["T_WHITESPACE","\n            ",311],"]",["T_WHITESPACE","\n        ",312],")",";",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$objectManager",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","create",314],"(",["T_WHITESPACE","\n            ",314],["T_NS_SEPARATOR","\\",315],["T_STRING","Magento",315],["T_NS_SEPARATOR","\\",315],["T_STRING","Framework",315],["T_NS_SEPARATOR","\\",315],["T_STRING","Communication",315],["T_NS_SEPARATOR","\\",315],["T_STRING","ConfigInterface",315],["T_DOUBLE_COLON","::",315],["T_CLASS","class",315],",",["T_WHITESPACE","\n            ",315],"[",["T_CONSTANT_ENCAPSED_STRING","'configData'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$configData",316],"]",["T_WHITESPACE","\n        ",316],")",";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n",318],"}",["T_WHITESPACE","\n",319]]