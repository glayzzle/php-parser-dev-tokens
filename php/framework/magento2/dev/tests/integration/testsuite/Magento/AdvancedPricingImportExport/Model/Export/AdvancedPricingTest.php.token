[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AdvancedPricingImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Export",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","AdvancedPricingTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PHPUnit_Framework_TestCase",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\AdvancedPricingImportExport\\Model\\Export\\AdvancedPricing\n     *\/",12],["T_WHITESPACE","\n    ",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$model",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$objectManager",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$fileSystem",25],";",["T_WHITESPACE","\n\n    ",25],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_STRING","parent",29],["T_DOUBLE_COLON","::",29],["T_STRING","setUp",29],"(",")",";",["T_WHITESPACE","\n\n        ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","objectManager",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","TestFramework",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Helper",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Bootstrap",31],["T_DOUBLE_COLON","::",31],["T_STRING","getObjectManager",31],"(",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","fileSystem",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","objectManager",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","get",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Framework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Filesystem",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","model",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","objectManager",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","create",33],"(",["T_WHITESPACE","\n            ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","AdvancedPricingImportExport",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Export",34],["T_NS_SEPARATOR","\\",34],["T_STRING","AdvancedPricing",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],["T_WHITESPACE","\n        ",34],")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @magentoAppArea adminhtml\n     * @magentoDbIsolation enabled\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/Catalog\/_files\/product_simple.php\n     *\/",38],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testExport",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$productRepository",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","objectManager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","create",46],"(",["T_WHITESPACE","\n            ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Catalog",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Api",47],["T_NS_SEPARATOR","\\",47],["T_STRING","ProductRepositoryInterface",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],["T_WHITESPACE","\n        ",47],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$index",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","0",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$ids",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[","]",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$origPricingData",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",";",["T_WHITESPACE","\n        ",51],["T_WHILE","while",52],["T_WHITESPACE"," ",52],"(",["T_ISSET","isset",52],"(",["T_VARIABLE","$skus",52],"[",["T_VARIABLE","$index",52],"]",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$ids",53],"[",["T_VARIABLE","$index",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$productRepository",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_VARIABLE","$skus",53],"[",["T_VARIABLE","$index",53],"]",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getId",53],"(",")",";",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$origPricingData",54],"[",["T_VARIABLE","$index",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","objectManager",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","create",54],"(",["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Catalog",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Product",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",["T_WHITESPACE","\n                ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","load",55],"(",["T_VARIABLE","$ids",55],"[",["T_VARIABLE","$index",55],"]",")",["T_WHITESPACE","\n                ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","getTierPrices",56],"(",")",";",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$index",57],["T_INC","++",57],";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$csvfile",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","uniqid",60],"(",["T_CONSTANT_ENCAPSED_STRING","'importexport_'",60],")",["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'.csv'",60],";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$exportContent",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","exportData",62],"(",["T_VARIABLE","$csvfile",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertDiscountTypes",63],"(",["T_VARIABLE","$exportContent",63],")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","importData",65],"(",["T_VARIABLE","$csvfile",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_WHILE","while",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$index",67],["T_WHITESPACE"," ",67],">",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$index",68],["T_DEC","--",68],";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$newPricingData",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","objectManager",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","create",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Catalog",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Product",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],")",["T_WHITESPACE","\n                ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","load",70],"(",["T_VARIABLE","$ids",70],"[",["T_VARIABLE","$index",70],"]",")",["T_WHITESPACE","\n                ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","getTierPrices",71],"(",")",";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEquals",72],"(",["T_STRING","count",72],"(",["T_VARIABLE","$origPricingData",72],"[",["T_VARIABLE","$index",72],"]",")",",",["T_WHITESPACE"," ",72],["T_STRING","count",72],"(",["T_VARIABLE","$newPricingData",72],")",")",";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEqualsOtherThanSkippedAttributes",73],"(",["T_VARIABLE","$origPricingData",73],"[",["T_VARIABLE","$index",73],"]",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$newPricingData",73],",",["T_WHITESPACE"," ",73],"[","]",")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Assert for correct tier prices discount types.\n     *\n     * @param string $exportContent\n     * @return void\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PRIVATE","private",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","assertDiscountTypes",83],"(",["T_VARIABLE","$exportContent",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertContains",85],"(",["T_WHITESPACE","\n            ",85],["T_CONSTANT_ENCAPSED_STRING","'2.0000,8.0000,Fixed'",86],",",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$exportContent",87],["T_WHITESPACE","\n        ",87],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertContains",89],"(",["T_WHITESPACE","\n            ",89],["T_CONSTANT_ENCAPSED_STRING","'10.0000,50.00,Discount'",90],",",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$exportContent",91],["T_WHITESPACE","\n        ",91],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @magentoAppArea adminhtml\n     * @magentoDbIsolation enabled\n     * @magentoAppIsolation enabled\n     * @magentoConfigFixture current_store catalog\/price\/scope 1\n     * @magentoDataFixture Magento\/AdvancedPricingImportExport\/_files\/product_with_second_website.php\n     *\/",95],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","testExportMultipleWebsites",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$productRepository",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","objectManager",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","create",104],"(",["T_WHITESPACE","\n            ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Catalog",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Api",105],["T_NS_SEPARATOR","\\",105],["T_STRING","ProductRepositoryInterface",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],["T_WHITESPACE","\n        ",105],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$index",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$ids",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[","]",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$origPricingData",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],"[","]",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$skus",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'AdvancedPricingSimple 1'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'AdvancedPricingSimple 2'",110],"]",";",["T_WHITESPACE","\n        ",110],["T_WHILE","while",111],["T_WHITESPACE"," ",111],"(",["T_ISSET","isset",111],"(",["T_VARIABLE","$skus",111],"[",["T_VARIABLE","$index",111],"]",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$ids",112],"[",["T_VARIABLE","$index",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$productRepository",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",["T_VARIABLE","$skus",112],"[",["T_VARIABLE","$index",112],"]",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","getId",112],"(",")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$origPricingData",113],"[",["T_VARIABLE","$index",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","objectManager",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","create",113],"(",["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Catalog",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Product",113],["T_DOUBLE_COLON","::",113],["T_CLASS","class",113],")",["T_WHITESPACE","\n                ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","load",114],"(",["T_VARIABLE","$ids",114],"[",["T_VARIABLE","$index",114],"]",")",["T_WHITESPACE","\n                ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","getTierPrices",115],"(",")",";",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$index",116],["T_INC","++",116],";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$csvfile",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","uniqid",119],"(",["T_CONSTANT_ENCAPSED_STRING","'importexport_'",119],")",["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'.csv'",119],";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$exportContent",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","exportData",121],"(",["T_VARIABLE","$csvfile",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertContains",122],"(",["T_WHITESPACE","\n            ",122],["T_CONSTANT_ENCAPSED_STRING","'\"AdvancedPricingSimple 2\",test,\"ALL GROUPS\",3.0000,5.0000'",123],",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$exportContent",124],["T_WHITESPACE","\n        ",124],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","importData",126],"(",["T_VARIABLE","$csvfile",126],")",";",["T_WHITESPACE","\n\n        ",126],["T_WHILE","while",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$index",128],["T_WHITESPACE"," ",128],">",["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$index",129],["T_DEC","--",129],";",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$newPricingData",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","objectManager",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","create",130],"(",["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Catalog",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Model",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Product",130],["T_DOUBLE_COLON","::",130],["T_CLASS","class",130],")",["T_WHITESPACE","\n                ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","load",131],"(",["T_VARIABLE","$ids",131],"[",["T_VARIABLE","$index",131],"]",")",["T_WHITESPACE","\n                ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","getTierPrices",132],"(",")",";",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEquals",133],"(",["T_STRING","count",133],"(",["T_VARIABLE","$origPricingData",133],"[",["T_VARIABLE","$index",133],"]",")",",",["T_WHITESPACE"," ",133],["T_STRING","count",133],"(",["T_VARIABLE","$newPricingData",133],")",")",";",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEqualsOtherThanSkippedAttributes",134],"(",["T_VARIABLE","$origPricingData",134],"[",["T_VARIABLE","$index",134],"]",",",["T_WHITESPACE"," ",134],["T_VARIABLE","$newPricingData",134],",",["T_WHITESPACE"," ",134],"[","]",")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * @param string $csvFile\n     * @return string\n     *\/",138],["T_WHITESPACE","\n    ",141],["T_PRIVATE","private",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","exportData",142],"(",["T_VARIABLE","$csvFile",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","model",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setWriter",144],"(",["T_WHITESPACE","\n            ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","TestFramework",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Helper",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Bootstrap",145],["T_DOUBLE_COLON","::",145],["T_STRING","getObjectManager",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","create",145],"(",["T_WHITESPACE","\n                ",145],["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","ImportExport",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Model",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Export",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Adapter",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Csv",146],["T_DOUBLE_COLON","::",146],["T_CLASS","class",146],",",["T_WHITESPACE","\n                ",146],"[",["T_CONSTANT_ENCAPSED_STRING","'fileSystem'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","fileSystem",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'destination'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$csvFile",147],"]",["T_WHITESPACE","\n            ",147],")",["T_WHITESPACE","\n        ",148],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$exportContent",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","model",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","export",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertNotEmpty",151],"(",["T_VARIABLE","$exportContent",151],")",";",["T_WHITESPACE","\n\n        ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$exportContent",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * @param string $csvFile\n     *\/",156],["T_WHITESPACE","\n    ",158],["T_PRIVATE","private",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","importData",159],"(",["T_VARIABLE","$csvFile",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_DOC_COMMENT","\/** @var \\Magento\\AdvancedPricingImportExport\\Model\\Import\\AdvancedPricing $importModel *\/",161],["T_WHITESPACE","\n        ",161],["T_VARIABLE","$importModel",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","objectManager",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","create",162],"(",["T_WHITESPACE","\n            ",162],["T_NS_SEPARATOR","\\",163],["T_STRING","Magento",163],["T_NS_SEPARATOR","\\",163],["T_STRING","AdvancedPricingImportExport",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Model",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Import",163],["T_NS_SEPARATOR","\\",163],["T_STRING","AdvancedPricing",163],["T_DOUBLE_COLON","::",163],["T_CLASS","class",163],["T_WHITESPACE","\n        ",163],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$directory",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","fileSystem",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getDirectoryWrite",165],"(",["T_STRING","DirectoryList",165],["T_DOUBLE_COLON","::",165],["T_STRING","VAR_DIR",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$source",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","objectManager",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","create",166],"(",["T_WHITESPACE","\n            ",166],["T_NS_SEPARATOR","\\",167],["T_STRING","Magento",167],["T_NS_SEPARATOR","\\",167],["T_STRING","ImportExport",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Model",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Import",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Source",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Csv",167],["T_DOUBLE_COLON","::",167],["T_CLASS","class",167],",",["T_WHITESPACE","\n            ",167],"[",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'file'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$csvFile",169],",",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'directory'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$directory",170],["T_WHITESPACE","\n            ",170],"]",["T_WHITESPACE","\n        ",171],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$errors",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$importModel",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setParameters",173],"(",["T_WHITESPACE","\n            ",173],"[",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'behavior'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","ImportExport",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Model",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Import",175],["T_DOUBLE_COLON","::",175],["T_STRING","BEHAVIOR_APPEND",175],",",["T_WHITESPACE","\n                ",175],["T_CONSTANT_ENCAPSED_STRING","'entity'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'advanced_pricing'",176],["T_WHITESPACE","\n            ",176],"]",["T_WHITESPACE","\n        ",177],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","setSource",178],"(",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$source",179],["T_WHITESPACE","\n        ",179],")",["T_OBJECT_OPERATOR","->",180],["T_STRING","validateData",180],"(",")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertTrue",182],"(",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$errors",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getErrorsCount",183],"(",")",["T_WHITESPACE"," ",183],["T_IS_EQUAL","==",183],["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],",",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'Advanced Pricing import error, imported from file:'",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$csvFile",184],["T_WHITESPACE","\n        ",184],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$importModel",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","importData",186],"(",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_PRIVATE","private",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","assertEqualsOtherThanSkippedAttributes",189],"(",["T_VARIABLE","$expected",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$actual",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$skippedAttributes",189],")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_FOREACH","foreach",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$expected",191],["T_WHITESPACE"," ",191],["T_AS","as",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$key",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$value",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_STRING","in_array",192],"(",["T_VARIABLE","$key",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$skippedAttributes",192],")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_CONTINUE","continue",193],";",["T_WHITESPACE","\n            ",193],"}",["T_WHITESPACE"," ",194],["T_ELSE","else",194],["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertEquals",195],"(",["T_WHITESPACE","\n                    ",195],["T_VARIABLE","$value",196],",",["T_WHITESPACE","\n                    ",196],["T_VARIABLE","$actual",197],"[",["T_VARIABLE","$key",197],"]",",",["T_WHITESPACE","\n                    ",197],["T_CONSTANT_ENCAPSED_STRING","'Assert value at key - '",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_VARIABLE","$key",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","' failed'",198],["T_WHITESPACE","\n                ",198],")",";",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n",202],"}",["T_WHITESPACE","\n",203]]