[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Downloadable\\Model\\Product\\Type\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Downloadable",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Test for \\Magento\\Downloadable\\Model\\Product\\Type\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","TypeTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Downloadable\\Model\\Product\\Type\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_model",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PRIVATE","private",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$objectManager",25],";",["T_WHITESPACE","\n\n    ",25],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","objectManager",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","TestFramework",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Helper",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Bootstrap",29],["T_DOUBLE_COLON","::",29],["T_STRING","getObjectManager",29],"(",")",";",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","_model",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","objectManager",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","create",30],"(",["T_WHITESPACE","\n            ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Downloadable",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Model",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Product",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Type",31],["T_DOUBLE_COLON","::",31],["T_CLASS","class",31],["T_WHITESPACE","\n        ",31],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Downloadable\/_files\/product_downloadable_with_files.php\n     * @magentoAppArea adminhtml\n     *\/",35],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","testDeleteTypeSpecificData",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$product",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","TestFramework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Helper",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Bootstrap",41],["T_DOUBLE_COLON","::",41],["T_STRING","getObjectManager",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","create",41],"(",["T_WHITESPACE","\n            ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Catalog",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Product",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],["T_WHITESPACE","\n        ",42],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$product",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","load",44],"(",["T_LNUMBER","1",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$product",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setOrigData",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$downloadableData",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[","]",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$links",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_model",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getLinks",48],"(",["T_VARIABLE","$product",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertNotEmpty",49],"(",["T_VARIABLE","$links",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$samples",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_model",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getSamples",50],"(",["T_VARIABLE","$product",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertNotEmpty",51],"(",["T_VARIABLE","$samples",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getData",51],"(",")",")",";",["T_WHITESPACE","\n        ",51],["T_DOC_COMMENT","\/** @var \\Magento\\Downloadable\\Model\\Link $link *\/",52],["T_WHITESPACE","\n        ",52],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$links",53],["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$link",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$data",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$link",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getData",54],"(",")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$data",55],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'UPDATED . '",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_VARIABLE","$data",55],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",55],"]",";",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$downloadableData",56],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",56],"]","[","]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$data",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$samples",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$sample",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$downloadableData",59],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",59],"]","[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$sample",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getData",59],"(",")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$product",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setDownloadableData",62],"(",["T_VARIABLE","$downloadableData",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_model",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","deleteTypeSpecificData",63],"(",["T_VARIABLE","$product",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$product",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","TestFramework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Helper",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Bootstrap",64],["T_DOUBLE_COLON","::",64],["T_STRING","getObjectManager",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","create",64],"(",["T_WHITESPACE","\n            ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Catalog",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Product",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$product",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","load",67],"(",["T_LNUMBER","1",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$links",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_model",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getLinks",69],"(",["T_VARIABLE","$product",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEmpty",70],"(",["T_VARIABLE","$links",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$samples",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_model",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getSamples",71],"(",["T_VARIABLE","$product",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEmpty",72],"(",["T_VARIABLE","$samples",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getData",72],"(",")",")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Downloadable\/_files\/product_downloadable_with_files.php\n     * @magentoAppArea adminhtml\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",75],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testSaveTypeSpecificData",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$objectManager",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","TestFramework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Helper",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Bootstrap",84],["T_DOUBLE_COLON","::",84],["T_STRING","getObjectManager",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$product",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","TestFramework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Helper",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Bootstrap",85],["T_DOUBLE_COLON","::",85],["T_STRING","getObjectManager",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","create",85],"(",["T_WHITESPACE","\n            ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Catalog",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Product",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],["T_WHITESPACE","\n        ",86],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$product",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","load",88],"(",["T_LNUMBER","1",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$product",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setOrigData",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$downloadableData",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[","]",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$links",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_model",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getLinks",92],"(",["T_VARIABLE","$product",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertNotEmpty",93],"(",["T_VARIABLE","$links",93],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$samples",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_model",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getSamples",94],"(",["T_VARIABLE","$product",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNotEmpty",95],"(",["T_VARIABLE","$samples",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getData",95],"(",")",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$i",96],"=",["T_LNUMBER","0",96],";",["T_WHITESPACE","\n        ",96],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$links",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$link",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$i",98],["T_INC","++",98],";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$linkData",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$link",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getData",99],"(",")",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$linkData",100],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_LNUMBER","0",100],";",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$linkData",101],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Downloadable",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Helper",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Download",101],["T_DOUBLE_COLON","::",101],["T_STRING","LINK_TYPE_FILE",101],";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$linkData",102],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Updated downloadable link #'",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$i",102],";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$downloadableData",103],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",103],"]","[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$linkData",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$i",105],"=",["T_LNUMBER","0",105],";",["T_WHITESPACE","\n        ",105],["T_FOREACH","foreach",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$samples",106],["T_WHITESPACE"," ",106],["T_AS","as",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$sample",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$i",107],["T_INC","++",107],";",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$sampleData",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$sample",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getData",108],"(",")",";",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$sampleData",109],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_LNUMBER","0",109],";",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$sampleData",110],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Downloadable",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Helper",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Download",110],["T_DOUBLE_COLON","::",110],["T_STRING","LINK_TYPE_FILE",110],";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$sampleData",111],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Updated downloadable sample #'",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$i",111],";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$downloadableData",112],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",112],"]","[","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$sampleData",112],";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$product",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setDownloadableData",115],"(",["T_VARIABLE","$downloadableData",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$sampleFactory",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$objectManager",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","create",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Downloadable",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Api",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Data",116],["T_NS_SEPARATOR","\\",116],["T_STRING","SampleInterfaceFactory",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$linkFactory",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$objectManager",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","create",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Downloadable",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Api",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Data",117],["T_NS_SEPARATOR","\\",117],["T_STRING","LinkInterfaceFactory",117],["T_DOUBLE_COLON","::",117],["T_CLASS","class",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$extension",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$product",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getExtensionAttributes",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$expectedLink",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],"[",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'is_shareable'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'2'",120],",",["T_WHITESPACE","\n            ",120],["T_CONSTANT_ENCAPSED_STRING","'link_type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'file'",121],",",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'link_file'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'\/j\/e\/jellyfish_2_4.jpg'",122],",",["T_WHITESPACE","\n            ",122],["T_CONSTANT_ENCAPSED_STRING","'number_of_downloads'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'15'",123],",",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'price'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'15.0000'",124],",",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","'sample_type'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'file'",125],",",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'1'",126],",",["T_WHITESPACE","\n            ",126],["T_CONSTANT_ENCAPSED_STRING","'title'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Updated downloadable link #1'",127],",",["T_WHITESPACE","\n        ",127],"]",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$links",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],"[","]",";",["T_WHITESPACE","\n        ",129],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$downloadableData",130],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",130],"]",["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$linkData",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_VARIABLE","$linkData",131],["T_WHITESPACE"," ",131],["T_BOOLEAN_OR","||",131],["T_WHITESPACE"," ",131],"(",["T_ISSET","isset",131],"(",["T_VARIABLE","$linkData",131],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",131],"]",")",["T_WHITESPACE"," ",131],["T_BOOLEAN_AND","&&",131],["T_WHITESPACE"," ",131],["T_BOOL_CAST","(bool)",131],["T_VARIABLE","$linkData",131],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                ",131],["T_CONTINUE","continue",132],";",["T_WHITESPACE","\n            ",132],"}",["T_WHITESPACE"," ",133],["T_ELSE","else",133],["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$link",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$linkFactory",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","create",134],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$linkData",134],"]",")",";",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$link",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setId",135],"(",["T_VARIABLE","$linkData",135],"[",["T_CONSTANT_ENCAPSED_STRING","'link_id'",135],"]",")",";",["T_WHITESPACE","\n                ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_ISSET","isset",136],"(",["T_VARIABLE","$linkData",136],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",136],"]",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                    ",136],["T_VARIABLE","$link",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setSampleType",137],"(",["T_VARIABLE","$linkData",137],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",137],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",137],"]",")",";",["T_WHITESPACE","\n                    ",137],["T_VARIABLE","$link",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setSampleFileData",138],"(",["T_VARIABLE","$linkData",138],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",138],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",138],"]",")",";",["T_WHITESPACE","\n                    ",138],["T_VARIABLE","$expectedLink",139],"[",["T_CONSTANT_ENCAPSED_STRING","'sample_file'",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$linkData",139],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",139],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",139],"]",";",["T_WHITESPACE","\n                    ",139],["T_VARIABLE","$link",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setSampleUrl",140],"(",["T_VARIABLE","$linkData",140],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",140],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url'",140],"]",")",";",["T_WHITESPACE","\n                ",140],"}",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$link",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","setLinkType",142],"(",["T_VARIABLE","$linkData",142],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",142],"]",")",";",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$link",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setStoreId",143],"(",["T_VARIABLE","$product",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getStoreId",143],"(",")",")",";",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$link",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setWebsiteId",144],"(",["T_VARIABLE","$product",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getStore",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getWebsiteId",144],"(",")",")",";",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$link",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setProductWebsiteIds",145],"(",["T_VARIABLE","$product",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getWebsiteIds",145],"(",")",")",";",["T_WHITESPACE","\n                ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(","!",["T_VARIABLE","$link",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getSortOrder",146],"(",")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                    ",146],["T_VARIABLE","$link",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","setSortOrder",147],"(",["T_LNUMBER","1",147],")",";",["T_WHITESPACE","\n                ",147],"}",["T_WHITESPACE","\n                ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_STRING","null",149],["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$link",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getPrice",149],"(",")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$link",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","setPrice",150],"(",["T_LNUMBER","0",150],")",";",["T_WHITESPACE","\n                ",150],"}",["T_WHITESPACE","\n                ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$link",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getIsUnlimited",152],"(",")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                    ",152],["T_VARIABLE","$link",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setNumberOfDownloads",153],"(",["T_LNUMBER","0",153],")",";",["T_WHITESPACE","\n                ",153],"}",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$links",155],"[","]",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$link",155],";",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$extension",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setDownloadableProductLinks",159],"(",["T_VARIABLE","$links",159],")",";",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_ISSET","isset",161],"(",["T_VARIABLE","$downloadableData",161],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",161],"]",")",["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],["T_STRING","is_array",161],"(",["T_VARIABLE","$downloadableData",161],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",161],"]",")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$samples",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[","]",";",["T_WHITESPACE","\n            ",162],["T_FOREACH","foreach",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$downloadableData",163],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",163],"]",["T_WHITESPACE"," ",163],["T_AS","as",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$sampleData",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_VARIABLE","$sampleData",164],["T_WHITESPACE"," ",164],["T_BOOLEAN_OR","||",164],["T_WHITESPACE"," ",164],"(",["T_ISSET","isset",164],"(",["T_VARIABLE","$sampleData",164],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",164],"]",")",["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],["T_BOOL_CAST","(bool)",164],["T_VARIABLE","$sampleData",164],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",164],"]",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                    ",164],["T_CONTINUE","continue",165],";",["T_WHITESPACE","\n                ",165],"}",["T_WHITESPACE"," ",166],["T_ELSE","else",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                    ",166],["T_VARIABLE","$sample",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$sampleFactory",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","create",167],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$sampleData",167],"]",")",";",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$sample",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setId",168],"(",["T_VARIABLE","$sampleData",168],"[",["T_CONSTANT_ENCAPSED_STRING","'sample_id'",168],"]",")",";",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$sample",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setStoreId",169],"(",["T_VARIABLE","$product",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getStoreId",169],"(",")",")",";",["T_WHITESPACE","\n                    ",169],["T_VARIABLE","$sample",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setSampleType",170],"(",["T_VARIABLE","$sampleData",170],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",170],"]",")",";",["T_WHITESPACE","\n                    ",170],["T_VARIABLE","$sample",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","setSampleUrl",171],"(",["T_VARIABLE","$sampleData",171],"[",["T_CONSTANT_ENCAPSED_STRING","'sample_url'",171],"]",")",";",["T_WHITESPACE","\n                    ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_VARIABLE","$sample",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getSortOrder",172],"(",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                        ",172],["T_VARIABLE","$sample",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setSortOrder",173],"(",["T_LNUMBER","1",173],")",";",["T_WHITESPACE","\n                    ",173],"}",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$samples",175],"[","]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$sample",175],";",["T_WHITESPACE","\n                ",175],"}",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$extension",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setDownloadableProductSamples",178],"(",["T_VARIABLE","$samples",178],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$product",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setExtensionAttributes",180],"(",["T_VARIABLE","$extension",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$product",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getLinksPurchasedSeparately",182],"(",")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$product",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","setTypeHasRequiredOptions",183],"(",["T_STRING","true",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","setRequiredOptions",183],"(",["T_STRING","true",183],")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE"," ",184],["T_ELSE","else",184],["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$product",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setTypeHasRequiredOptions",185],"(",["T_STRING","false",185],")",["T_OBJECT_OPERATOR","->",185],["T_STRING","setRequiredOptions",185],"(",["T_STRING","false",185],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$product",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","save",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",189],["T_WHITESPACE","\n        ",189],["T_VARIABLE","$product",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","TestFramework",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Helper",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Bootstrap",190],["T_DOUBLE_COLON","::",190],["T_STRING","getObjectManager",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","create",190],"(",["T_WHITESPACE","\n            ",190],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Catalog",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Model",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Product",191],["T_DOUBLE_COLON","::",191],["T_CLASS","class",191],["T_WHITESPACE","\n        ",191],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$product",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","load",193],"(",["T_LNUMBER","1",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$links",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$product",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getExtensionAttributes",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getDownloadableProductLinks",195],"(",")",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertNotEmpty",197],"(",["T_VARIABLE","$links",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertCount",198],"(",["T_LNUMBER","1",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$links",198],")",";",["T_WHITESPACE","\n        ",198],["T_DOC_COMMENT","\/** @var \\Magento\\Downloadable\\Model\\Link $link *\/",199],["T_WHITESPACE","\n        ",199],["T_VARIABLE","$link",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","reset",200],"(",["T_VARIABLE","$links",200],")",";",["T_WHITESPACE","\n        ",200],["T_FOREACH","foreach",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$expectedLink",201],["T_WHITESPACE"," ",201],["T_AS","as",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$key",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$value",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertTrue",202],"(",["T_VARIABLE","$link",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","hasData",202],"(",["T_VARIABLE","$key",202],")",",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'Key '",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_VARIABLE","$key",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","' not exist!'",202],")",";",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertArrayHasKey",203],"(",["T_VARIABLE","$key",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$link",203],")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEquals",204],"(",["T_VARIABLE","$value",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$link",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getData",204],"(",["T_VARIABLE","$key",204],")",")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$expectedSample",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[",["T_WHITESPACE","\n            ",207],["T_CONSTANT_ENCAPSED_STRING","'sample_type'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'file'",208],",",["T_WHITESPACE","\n            ",208],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'1'",209],",",["T_WHITESPACE","\n            ",209],["T_CONSTANT_ENCAPSED_STRING","'title'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'Updated downloadable sample #1'",210],",",["T_WHITESPACE","\n        ",210],"]",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$samples",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$product",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getExtensionAttributes",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","getDownloadableProductSamples",213],"(",")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$sample",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","reset",214],"(",["T_VARIABLE","$samples",214],")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertNotEmpty",215],"(",["T_VARIABLE","$sample",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getData",215],"(",")",")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertEquals",216],"(",["T_LNUMBER","1",216],",",["T_WHITESPACE"," ",216],["T_STRING","count",216],"(",["T_VARIABLE","$samples",216],")",")",";",["T_WHITESPACE","\n        ",216],["T_DOC_COMMENT","\/** @var \\Magento\\Downloadable\\Model\\Sample $sample *\/",217],["T_WHITESPACE","\n        ",217],["T_VARIABLE","$sample",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$sample",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getData",218],"(",")",";",["T_WHITESPACE","\n        ",218],["T_DOC_COMMENT","\/** @var \\Magento\\User\\Api\\Data\\UserInterface $testAttribute *\/",219],["T_WHITESPACE","\n        ",219],["T_FOREACH","foreach",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$expectedSample",220],["T_WHITESPACE"," ",220],["T_AS","as",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$key",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$value",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertArrayHasKey",221],"(",["T_VARIABLE","$key",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$sample",221],")",";",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEquals",222],"(",["T_VARIABLE","$value",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$sample",222],"[",["T_VARIABLE","$key",222],"]",")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     * @magentoDataFixture Magento\/Downloadable\/_files\/product_downloadable.php\n     * @covers \\Magento\\Downloadable\\Model\\Product\\Type::checkProductBuyState()\n     *\/",226],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","testCheckProductBuyState",232],"(",")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",234],["T_WHITESPACE","\n        ",234],["T_VARIABLE","$productRepository",235],["T_WHITESPACE"," ",235],"=",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","objectManager",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","create",235],"(",["T_WHITESPACE","\n            ",235],["T_NS_SEPARATOR","\\",236],["T_STRING","Magento",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Catalog",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Api",236],["T_NS_SEPARATOR","\\",236],["T_STRING","ProductRepositoryInterface",236],["T_DOUBLE_COLON","::",236],["T_CLASS","class",236],["T_WHITESPACE","\n        ",236],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$product",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$productRepository",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","get",238],"(",["T_CONSTANT_ENCAPSED_STRING","'downloadable-product'",238],")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$product",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setLinksPurchasedSeparately",239],"(",["T_STRING","false",239],")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$productRepository",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","save",240],"(",["T_VARIABLE","$product",240],")",";",["T_WHITESPACE","\n        ",240],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Item\\Option $option *\/",241],["T_WHITESPACE","\n        ",241],["T_VARIABLE","$option",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","objectManager",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","create",242],"(",["T_WHITESPACE","\n            ",242],["T_NS_SEPARATOR","\\",243],["T_STRING","Magento",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Quote",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Model",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Quote",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Item",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Option",243],["T_DOUBLE_COLON","::",243],["T_CLASS","class",243],",",["T_WHITESPACE","\n            ",243],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'value'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'{\"qty\":23}'",244],"]","]",["T_WHITESPACE","\n        ",244],")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$option",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","setProduct",246],"(",["T_VARIABLE","$product",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$product",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setCustomOptions",247],"(","[",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$option",247],"]",")",";",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_model",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","checkProductBuyState",249],"(",["T_VARIABLE","$product",249],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$linksFactory",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","objectManager",250],["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","get",251],"(",["T_NS_SEPARATOR","\\",251],["T_STRING","Magento",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Downloadable",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Model",251],["T_NS_SEPARATOR","\\",251],["T_STRING","ResourceModel",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Link",251],["T_NS_SEPARATOR","\\",251],["T_STRING","CollectionFactory",251],["T_DOUBLE_COLON","::",251],["T_CLASS","class",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$allLinksIds",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$linksFactory",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","create",252],"(",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","addProductToFilter",252],"(",["T_VARIABLE","$product",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getEntityId",252],"(",")",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","getAllIds",252],"(",")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEquals",253],"(",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'{\"qty\":23,\"links\":[\"'",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_STRING","implode",254],"(",["T_CONSTANT_ENCAPSED_STRING","'\",\"'",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$allLinksIds",254],")",".",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'\"]}'",254],",",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$product",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getCustomOption",255],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",255],")",["T_OBJECT_OPERATOR","->",255],["T_STRING","getValue",255],"(",")",["T_WHITESPACE","\n        ",255],")",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n",257],"}",["T_WHITESPACE","\n",258]]