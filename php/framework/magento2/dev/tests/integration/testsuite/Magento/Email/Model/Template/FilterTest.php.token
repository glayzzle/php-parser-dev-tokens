[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Email",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Template",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Area",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","State",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TemplateTypesInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Phrase",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Setup",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Module",12],["T_NS_SEPARATOR","\\",12],["T_STRING","I18n",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Locale",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @magentoAppIsolation enabled\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","FilterTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PHPUnit_Framework_TestCase",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Email\\Model\\Template\\Filter\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$model",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$objectManager",28],";",["T_WHITESPACE","\n\n    ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","objectManager",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","TestFramework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Helper",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Bootstrap",32],["T_DOUBLE_COLON","::",32],["T_STRING","getObjectManager",32],"(",")",";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","model",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","objectManager",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","create",34],"(",["T_WHITESPACE","\n            ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Email",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Model",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Template",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Filter",35],["T_DOUBLE_COLON","::",35],["T_CLASS","class",35],["T_WHITESPACE","\n        ",35],")",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Isolation level has been raised in order to flush themes configuration in-memory cache\n     *\n     * @magentoAppArea frontend\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testViewDirective",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$url",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","model",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","viewDirective",46],"(",["T_WHITESPACE","\n            ",46],"[",["T_CONSTANT_ENCAPSED_STRING","'{{view url=\"Magento_Theme::favicon.ico\"}}'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'view'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","' url=\"Magento_Theme::favicon.ico\"'",47],"]",["T_WHITESPACE","\n        ",47],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertStringEndsWith",49],"(",["T_CONSTANT_ENCAPSED_STRING","'favicon.ico'",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$url",49],")",";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Isolation level has been raised in order to flush themes configuration in-memory cache\n     *\n     * @magentoAppArea frontend\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","testBlockDirective",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$class",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Magento\\\\\\\\Theme\\\\\\\\Block\\\\\\\\Html\\\\\\\\Footer'",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$data",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[","\"",["T_ENCAPSED_AND_WHITESPACE","{{block class='",60],["T_VARIABLE","$class",60],["T_ENCAPSED_AND_WHITESPACE","' name='test.block' template='Magento_Theme::html\/footer.phtml'}}",60],"\"",",",["T_WHITESPACE","\n                ",60],["T_CONSTANT_ENCAPSED_STRING","'block'",61],",",["T_WHITESPACE","\n                ",61],"\"",["T_ENCAPSED_AND_WHITESPACE"," class='",62],["T_VARIABLE","$class",62],["T_ENCAPSED_AND_WHITESPACE","' name='test.block' template='Magento_Theme::html\/footer.phtml'",62],"\"",",",["T_WHITESPACE","\n\n            ",62],"]",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$html",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","model",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","blockDirective",65],"(",["T_VARIABLE","$data",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertContains",66],"(",["T_CONSTANT_ENCAPSED_STRING","'<div class=\"footer-container\">'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$html",66],")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @magentoConfigFixture current_store web\/unsecure\/base_link_url http:\/\/example.com\/\n     * @magentoConfigFixture admin_store web\/unsecure\/base_link_url http:\/\/example.com\/\n     *\/",69],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","testStoreDirective",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$url",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","model",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","storeDirective",75],"(",["T_WHITESPACE","\n            ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'{{store direct_url=\"arbitrary_url\/\"}}'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'store'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","' direct_url=\"arbitrary_url\/\"'",76],"]",["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertStringMatchesFormat",78],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/%sarbitrary_url\/'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$url",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$url",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","model",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","storeDirective",80],"(",["T_WHITESPACE","\n            ",80],"[",["T_CONSTANT_ENCAPSED_STRING","'{{store url=\"translation\/ajax\/index\"}}'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'store'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","' url=\"translation\/ajax\/index\"'",81],"]",["T_WHITESPACE","\n        ",81],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertStringMatchesFormat",83],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/%stranslation\/ajax\/index\/'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$url",83],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","model",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setStoreId",85],"(",["T_LNUMBER","0",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$backendUrlModel",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","objectManager",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","create",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Backend",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Url",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","model",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setUrlModel",87],"(",["T_VARIABLE","$backendUrlModel",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$url",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","model",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","storeDirective",88],"(",["T_WHITESPACE","\n            ",88],"[",["T_CONSTANT_ENCAPSED_STRING","'{{store url=\"translation\/ajax\/index\"}}'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'store'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","' url=\"translation\/ajax\/index\"'",89],"]",["T_WHITESPACE","\n        ",89],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertStringMatchesFormat",91],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/index.php\/backend\/translation\/ajax\/index\/%A'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$url",91],")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @magentoComponentsDir Magento\/Email\/Model\/_files\/design\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     * @dataProvider layoutDirectiveDataProvider\n     *\n     * @param string $area\n     * @param string $directiveParams\n     * @param string $expectedOutput\n     *\/",94],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","testLayoutDirective",104],"(",["T_VARIABLE","$area",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$directiveParams",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$expectedOutput",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_DOC_COMMENT","\/** @var \\Magento\\Theme\\Model\\Theme\\Registration $registration *\/",106],["T_WHITESPACE","\n        ",106],["T_VARIABLE","$registration",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","objectManager",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Theme",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Model",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Theme",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Registration",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$registration",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","register",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","model",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","objectManager",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","create",109],"(",["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Email",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Model",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Template",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Filter",109],["T_DOUBLE_COLON","::",109],["T_CLASS","class",109],")",";",["T_WHITESPACE","\n        ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","TestFramework",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Helper",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Bootstrap",110],["T_DOUBLE_COLON","::",110],["T_STRING","getInstance",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","loadArea",110],"(",["T_VARIABLE","$area",110],")",";",["T_WHITESPACE","\n        ",110],["T_DOC_COMMENT","\/** @var $layout \\Magento\\Framework\\View\\LayoutInterface *\/",111],["T_WHITESPACE","\n        ",111],["T_VARIABLE","$layout",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","objectManager",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","create",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Framework",112],["T_NS_SEPARATOR","\\",112],["T_STRING","View",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Layout",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","objectManager",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","addSharedInstance",113],"(",["T_VARIABLE","$layout",113],",",["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Framework",113],["T_NS_SEPARATOR","\\",113],["T_STRING","View",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Layout",113],["T_DOUBLE_COLON","::",113],["T_CLASS","class",113],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","objectManager",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Framework",114],["T_NS_SEPARATOR","\\",114],["T_STRING","View",114],["T_NS_SEPARATOR","\\",114],["T_STRING","DesignInterface",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","setDesignTheme",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_EmailTest\/default'",115],")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$actualOutput",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","model",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","layoutDirective",117],"(",["T_WHITESPACE","\n            ",117],"[",["T_CONSTANT_ENCAPSED_STRING","'{{layout '",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$directiveParams",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'}}'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'layout'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","' '",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$directiveParams",118],"]",["T_WHITESPACE","\n        ",118],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_VARIABLE","$expectedOutput",120],",",["T_WHITESPACE"," ",120],["T_STRING","trim",120],"(",["T_VARIABLE","$actualOutput",120],")",")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",123],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","layoutDirectiveDataProvider",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$result",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","'area parameter - omitted'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],"[",["T_WHITESPACE","\n                ",129],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",130],",",["T_WHITESPACE","\n                ",130],["T_CONSTANT_ENCAPSED_STRING","'handle=\"email_template_test_handle\"'",131],",",["T_WHITESPACE","\n                ",131],["T_CONSTANT_ENCAPSED_STRING","'<b>Email content for frontend\/Magento\/default theme<\/b>'",132],",",["T_WHITESPACE","\n            ",132],"]",",",["T_WHITESPACE","\n            ",133],["T_CONSTANT_ENCAPSED_STRING","'area parameter - frontend'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],"[",["T_WHITESPACE","\n                ",134],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",135],",",["T_WHITESPACE","\n                ",135],["T_CONSTANT_ENCAPSED_STRING","'handle=\"email_template_test_handle\" area=\"frontend\"'",136],",",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'<b>Email content for frontend\/Magento\/default theme<\/b>'",137],",",["T_WHITESPACE","\n            ",137],"]",",",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'area parameter - backend'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],"[",["T_WHITESPACE","\n                ",139],["T_CONSTANT_ENCAPSED_STRING","'frontend'",140],",",["T_WHITESPACE","\n                ",140],["T_CONSTANT_ENCAPSED_STRING","'handle=\"email_template_test_handle\" area=\"adminhtml\"'",141],",",["T_WHITESPACE","\n                ",141],["T_CONSTANT_ENCAPSED_STRING","'<b>Email content for adminhtml\/Magento\/default theme<\/b>'",142],",",["T_WHITESPACE","\n            ",142],"]",",",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","'custom parameter'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],"[",["T_WHITESPACE","\n                ",144],["T_CONSTANT_ENCAPSED_STRING","'frontend'",145],",",["T_WHITESPACE","\n                ",145],["T_CONSTANT_ENCAPSED_STRING","'handle=\"email_template_test_handle\" template=\"Magento_Email::sample_email_content_custom.phtml\"'",146],",",["T_WHITESPACE","\n                ",146],["T_CONSTANT_ENCAPSED_STRING","'<b>Custom Email content for frontend\/Magento\/default theme<\/b>'",147],",",["T_WHITESPACE","\n            ",147],"]",",",["T_WHITESPACE","\n        ",148],"]",";",["T_WHITESPACE","\n        ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$result",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * @param $directive\n     * @param $translations\n     * @param $expectedResult\n     * @internal param $translatorData\n     * @dataProvider transDirectiveDataProvider\n     *\/",153],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","testTransDirective",160],"(",["T_VARIABLE","$directive",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$translations",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$expectedResult",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$renderer",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","Phrase",162],["T_DOUBLE_COLON","::",162],["T_STRING","getRenderer",162],"(",")",";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$translator",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getMockBuilder",164],"(",["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Framework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Translate",164],["T_DOUBLE_COLON","::",164],["T_CLASS","class",164],")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","disableOriginalConstructor",165],"(",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","setMethods",166],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getData'",166],"]",")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","getMock",167],"(",")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$translator",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","expects",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","atLeastOnce",169],"(",")",")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","method",170],"(",["T_CONSTANT_ENCAPSED_STRING","'getData'",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","will",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","returnValue",171],"(",["T_VARIABLE","$translations",171],")",")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","objectManager",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","addSharedInstance",173],"(",["T_VARIABLE","$translator",173],",",["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Framework",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Translate",173],["T_DOUBLE_COLON","::",173],["T_CLASS","class",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","objectManager",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","removeSharedInstance",174],"(",["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Framework",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Phrase",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Renderer",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Translate",174],["T_DOUBLE_COLON","::",174],["T_CLASS","class",174],")",";",["T_WHITESPACE","\n        ",174],["T_STRING","Phrase",175],["T_DOUBLE_COLON","::",175],["T_STRING","setRenderer",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","objectManager",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","create",175],"(",["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Framework",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Phrase",175],["T_NS_SEPARATOR","\\",175],["T_STRING","RendererInterface",175],["T_DOUBLE_COLON","::",175],["T_CLASS","class",175],")",")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEquals",177],"(",["T_VARIABLE","$expectedResult",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","model",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","filter",177],"(",["T_VARIABLE","$directive",177],")",")",";",["T_WHITESPACE","\n\n        ",177],["T_STRING","Phrase",179],["T_DOUBLE_COLON","::",179],["T_STRING","setRenderer",179],"(",["T_VARIABLE","$renderer",179],")",";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",182],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","transDirectiveDataProvider",185],"(",")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],"[",["T_WHITESPACE","\n            ",187],"[",["T_WHITESPACE","\n                ",188],["T_CONSTANT_ENCAPSED_STRING","'{{trans \"foobar\"}}'",189],",",["T_WHITESPACE","\n                ",189],"[","]",",",["T_WHITESPACE","\n                ",190],["T_CONSTANT_ENCAPSED_STRING","'foobar'",191],",",["T_WHITESPACE","\n            ",191],"]",",",["T_WHITESPACE","\n            ",192],"[",["T_WHITESPACE","\n                ",193],["T_CONSTANT_ENCAPSED_STRING","'{{trans \"foobar\"}}'",194],",",["T_WHITESPACE","\n                ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'foobar'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'barfoo'",195],"]",",",["T_WHITESPACE","\n                ",195],["T_CONSTANT_ENCAPSED_STRING","'barfoo'",196],",",["T_WHITESPACE","\n            ",196],"]",["T_WHITESPACE","\n        ",197],"]",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Ensures that the css directive will successfully compile and output contents of a LESS file,\n     * as well as supporting loading files from a theme fallback structure.\n     *\n     * @magentoDataFixture Magento\/Store\/_files\/core_fixturestore.php\n     * @magentoComponentsDir Magento\/Email\/Model\/_files\/design\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     * @dataProvider cssDirectiveDataProvider\n     *\n     * @param int $templateType\n     * @param string $directiveParams\n     * @param string $expectedOutput\n     *\/",201],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","testCssDirective",215],"(",["T_VARIABLE","$templateType",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$directiveParams",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$expectedOutput",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_DOC_COMMENT","\/** @var \\Magento\\Theme\\Model\\Theme\\Registration $registration *\/",217],["T_WHITESPACE","\n        ",217],["T_VARIABLE","$registration",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","objectManager",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","get",218],"(",["T_WHITESPACE","\n            ",218],["T_NS_SEPARATOR","\\",219],["T_STRING","Magento",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Theme",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Model",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Theme",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Registration",219],["T_DOUBLE_COLON","::",219],["T_CLASS","class",219],["T_WHITESPACE","\n        ",219],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$registration",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","register",221],"(",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","setUpDesignParams",222],"(",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","model",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","setStoreId",223],"(",["T_CONSTANT_ENCAPSED_STRING","'fixturestore'",223],")",["T_WHITESPACE","\n            ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","setPlainTemplateMode",224],"(",["T_VARIABLE","$templateType",224],["T_WHITESPACE"," ",224],["T_IS_EQUAL","==",224],["T_WHITESPACE"," ",224],["T_STRING","TemplateTypesInterface",224],["T_DOUBLE_COLON","::",224],["T_STRING","TYPE_TEXT",224],")",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$output",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","model",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","cssDirective",226],"(","[",["T_CONSTANT_ENCAPSED_STRING","'{{css '",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_VARIABLE","$directiveParams",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'}}'",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'css'",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","' '",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_VARIABLE","$directiveParams",226],"]",")",";",["T_WHITESPACE","\n\n        ",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$expectedOutput",228],["T_WHITESPACE"," ",228],["T_IS_NOT_IDENTICAL","!==",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","''",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertContains",229],"(",["T_VARIABLE","$expectedOutput",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$output",229],")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE"," ",230],["T_ELSE","else",230],["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertSame",231],"(",["T_VARIABLE","$expectedOutput",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$output",231],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",235],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","cssDirectiveDataProvider",238],"(",")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],"[",["T_WHITESPACE","\n            ",240],["T_CONSTANT_ENCAPSED_STRING","'CSS from theme'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],"[",["T_WHITESPACE","\n                ",241],["T_STRING","TemplateTypesInterface",242],["T_DOUBLE_COLON","::",242],["T_STRING","TYPE_HTML",242],",",["T_WHITESPACE","\n                ",242],["T_CONSTANT_ENCAPSED_STRING","'file=\"css\/email-1.css\"'",243],",",["T_WHITESPACE","\n                ",243],["T_CONSTANT_ENCAPSED_STRING","'color: #111'",244],["T_WHITESPACE","\n            ",244],"]",",",["T_WHITESPACE","\n            ",245],["T_CONSTANT_ENCAPSED_STRING","'CSS from parent theme'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],"[",["T_WHITESPACE","\n                ",246],["T_STRING","TemplateTypesInterface",247],["T_DOUBLE_COLON","::",247],["T_STRING","TYPE_HTML",247],",",["T_WHITESPACE","\n                ",247],["T_CONSTANT_ENCAPSED_STRING","'file=\"css\/email-2.css\"'",248],",",["T_WHITESPACE","\n                ",248],["T_CONSTANT_ENCAPSED_STRING","'color: #222'",249],["T_WHITESPACE","\n            ",249],"]",",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'CSS from grandparent theme'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],"[",["T_WHITESPACE","\n                ",251],["T_STRING","TemplateTypesInterface",252],["T_DOUBLE_COLON","::",252],["T_STRING","TYPE_HTML",252],",",["T_WHITESPACE","\n                ",252],["T_CONSTANT_ENCAPSED_STRING","'file=\"css\/email-3.css\"'",253],",",["T_WHITESPACE","\n                ",253],["T_CONSTANT_ENCAPSED_STRING","'color: #333'",254],["T_WHITESPACE","\n            ",254],"]",",",["T_WHITESPACE","\n            ",255],["T_CONSTANT_ENCAPSED_STRING","'Missing file parameter'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],"[",["T_WHITESPACE","\n                ",256],["T_STRING","TemplateTypesInterface",257],["T_DOUBLE_COLON","::",257],["T_STRING","TYPE_HTML",257],",",["T_WHITESPACE","\n                ",257],["T_CONSTANT_ENCAPSED_STRING","''",258],",",["T_WHITESPACE","\n                ",258],["T_CONSTANT_ENCAPSED_STRING","'\/* \"file\" parameter must be specified *\/'",259],["T_WHITESPACE","\n            ",259],"]",",",["T_WHITESPACE","\n            ",260],["T_CONSTANT_ENCAPSED_STRING","'Plain-text template outputs nothing'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],"[",["T_WHITESPACE","\n                ",261],["T_STRING","TemplateTypesInterface",262],["T_DOUBLE_COLON","::",262],["T_STRING","TYPE_TEXT",262],",",["T_WHITESPACE","\n                ",262],["T_CONSTANT_ENCAPSED_STRING","'file=\"css\/email-1.css\"'",263],",",["T_WHITESPACE","\n                ",263],["T_CONSTANT_ENCAPSED_STRING","''",264],",",["T_WHITESPACE","\n            ",264],"]",",",["T_WHITESPACE","\n            ",265],["T_CONSTANT_ENCAPSED_STRING","'Empty or missing file'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],"[",["T_WHITESPACE","\n                ",266],["T_STRING","TemplateTypesInterface",267],["T_DOUBLE_COLON","::",267],["T_STRING","TYPE_HTML",267],",",["T_WHITESPACE","\n                ",267],["T_CONSTANT_ENCAPSED_STRING","'file=\"css\/non-existent-file.css\"'",268],",",["T_WHITESPACE","\n                ",268],["T_CONSTANT_ENCAPSED_STRING","'\/* Contents of css\/non-existent-file.css could not be loaded or is empty *\/'",269],["T_WHITESPACE","\n            ",269],"]",",",["T_WHITESPACE","\n            ",270],["T_CONSTANT_ENCAPSED_STRING","'File with compilation error results in error message'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],"[",["T_WHITESPACE","\n                ",271],["T_STRING","TemplateTypesInterface",272],["T_DOUBLE_COLON","::",272],["T_STRING","TYPE_HTML",272],",",["T_WHITESPACE","\n                ",272],["T_CONSTANT_ENCAPSED_STRING","'file=\"css\/file-with-error.css\"'",273],",",["T_WHITESPACE","\n                ",273],["T_CONSTANT_ENCAPSED_STRING","'variable @non-existent-variable is undefined'",274],",",["T_WHITESPACE","\n            ",274],"]",",",["T_WHITESPACE","\n        ",275],"]",";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Ensures that the inlinecss directive will successfully load and inline CSS to HTML markup,\n     * as well as supporting loading files from a theme fallback structure.\n     *\n     * @magentoDataFixture Magento\/Store\/_files\/core_fixturestore.php\n     * @magentoComponentsDir Magento\/Email\/Model\/_files\/design\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     * @magentoConfigFixture default_store dev\/static\/sign 0\n     * @dataProvider inlinecssDirectiveDataProvider\n     *\n     * @param string $templateText\n     * @param string $expectedOutput\n     * @param bool $productionMode\n     * @param bool $plainTemplateMode\n     * @param bool $isChildTemplateMode\n     *\/",279],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","testInlinecssDirective",296],"(",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$templateText",297],",",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$expectedOutput",298],",",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$productionMode",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","false",299],",",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$plainTemplateMode",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_STRING","false",300],",",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$isChildTemplateMode",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","false",301],["T_WHITESPACE","\n    ",301],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n        ",302],["T_DOC_COMMENT","\/** @var \\Magento\\Theme\\Model\\Theme\\Registration $registration *\/",303],["T_WHITESPACE","\n        ",303],["T_VARIABLE","$registration",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","objectManager",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","get",304],"(",["T_WHITESPACE","\n            ",304],["T_NS_SEPARATOR","\\",305],["T_STRING","Magento",305],["T_NS_SEPARATOR","\\",305],["T_STRING","Theme",305],["T_NS_SEPARATOR","\\",305],["T_STRING","Model",305],["T_NS_SEPARATOR","\\",305],["T_STRING","Theme",305],["T_NS_SEPARATOR","\\",305],["T_STRING","Registration",305],["T_DOUBLE_COLON","::",305],["T_CLASS","class",305],["T_WHITESPACE","\n        ",305],")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$registration",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","register",307],"(",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","setUpDesignParams",308],"(",")",";",["T_WHITESPACE","\n\n        ",308],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","model",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","setPlainTemplateMode",310],"(",["T_VARIABLE","$plainTemplateMode",310],")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","model",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","setIsChildTemplate",311],"(",["T_VARIABLE","$isChildTemplateMode",311],")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$appMode",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$productionMode",313],["T_WHITESPACE"," ",313],"?",["T_WHITESPACE"," ",313],["T_STRING","State",313],["T_DOUBLE_COLON","::",313],["T_STRING","MODE_PRODUCTION",313],["T_WHITESPACE"," ",313],":",["T_WHITESPACE"," ",313],["T_STRING","State",313],["T_DOUBLE_COLON","::",313],["T_STRING","MODE_DEVELOPER",313],";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","objectManager",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","get",314],"(",["T_NS_SEPARATOR","\\",314],["T_STRING","Magento",314],["T_NS_SEPARATOR","\\",314],["T_STRING","Framework",314],["T_NS_SEPARATOR","\\",314],["T_STRING","App",314],["T_NS_SEPARATOR","\\",314],["T_STRING","State",314],["T_DOUBLE_COLON","::",314],["T_CLASS","class",314],")",["T_OBJECT_OPERATOR","->",314],["T_STRING","setMode",314],"(",["T_VARIABLE","$appMode",314],")",";",["T_WHITESPACE","\n\n        ",314],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertContains",316],"(",["T_VARIABLE","$expectedOutput",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","model",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","filter",316],"(",["T_VARIABLE","$templateText",316],")",")",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",319],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","inlinecssDirectiveDataProvider",322],"(",")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],"[",["T_WHITESPACE","\n            ",324],["T_CONSTANT_ENCAPSED_STRING","'CSS from theme'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],"[",["T_WHITESPACE","\n                ",325],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/email-inline-1.css\"}}<\/html>'",326],",",["T_WHITESPACE","\n                ",326],["T_CONSTANT_ENCAPSED_STRING","'<p style=\"color: #111; text-align: left;\">'",327],",",["T_WHITESPACE","\n            ",327],"]",",",["T_WHITESPACE","\n            ",328],["T_CONSTANT_ENCAPSED_STRING","'CSS from parent theme'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],"[",["T_WHITESPACE","\n                ",329],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/email-inline-2.css\"}}<\/html>'",330],",",["T_WHITESPACE","\n                ",330],["T_CONSTANT_ENCAPSED_STRING","'<p style=\"color: #222; text-align: left;\">'",331],",",["T_WHITESPACE","\n            ",331],"]",",",["T_WHITESPACE","\n            ",332],["T_CONSTANT_ENCAPSED_STRING","'CSS from grandparent theme'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],"[",["T_WHITESPACE","\n                ",333],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/email-inline-3.css\"}}'",334],",",["T_WHITESPACE","\n                ",334],["T_CONSTANT_ENCAPSED_STRING","'<p style=\"color: #333; text-align: left;\">'",335],",",["T_WHITESPACE","\n            ",335],"]",",",["T_WHITESPACE","\n            ",336],["T_CONSTANT_ENCAPSED_STRING","'Non-existent file results in unmodified markup'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],"[",["T_WHITESPACE","\n                ",337],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/non-existent-file.css\"}}<\/html>'",338],",",["T_WHITESPACE","\n                ",338],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> <\/html>'",339],",",["T_WHITESPACE","\n            ",339],"]",",",["T_WHITESPACE","\n            ",340],["T_CONSTANT_ENCAPSED_STRING","'Plain template mode results in unmodified markup'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],"[",["T_WHITESPACE","\n                ",341],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/email-inline-1.css\"}}<\/html>'",342],",",["T_WHITESPACE","\n                ",342],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> <\/html>'",343],",",["T_WHITESPACE","\n                ",343],["T_STRING","false",344],",",["T_WHITESPACE","\n                ",344],["T_STRING","true",345],",",["T_WHITESPACE","\n            ",345],"]",",",["T_WHITESPACE","\n            ",346],["T_CONSTANT_ENCAPSED_STRING","'Child template mode results in unmodified directive'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],"[",["T_WHITESPACE","\n                ",347],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/email-inline-1.css\"}}<\/html>'",348],",",["T_WHITESPACE","\n                ",348],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/email-inline-1.css\"}}<\/html>'",349],",",["T_WHITESPACE","\n                ",349],["T_STRING","false",350],",",["T_WHITESPACE","\n                ",350],["T_STRING","false",351],",",["T_WHITESPACE","\n                ",351],["T_STRING","true",352],",",["T_WHITESPACE","\n            ",352],"]",",",["T_WHITESPACE","\n            ",353],["T_CONSTANT_ENCAPSED_STRING","'Production mode - File with compilation error results in unmodified markup'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],"[",["T_WHITESPACE","\n                ",354],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/file-with-error.css\"}}<\/html>'",355],",",["T_WHITESPACE","\n                ",355],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> <\/html>'",356],",",["T_WHITESPACE","\n                ",356],["T_STRING","true",357],",",["T_WHITESPACE","\n            ",357],"]",",",["T_WHITESPACE","\n            ",358],["T_CONSTANT_ENCAPSED_STRING","'Developer mode - File with compilation error results in error message'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],"[",["T_WHITESPACE","\n                ",359],["T_CONSTANT_ENCAPSED_STRING","'<html><p><\/p> {{inlinecss file=\"css\/file-with-error.css\"}}<\/html>'",360],",",["T_WHITESPACE","\n                ",360],["T_CONSTANT_ENCAPSED_STRING","'CSS inlining error:'",361],",",["T_WHITESPACE","\n                ",361],["T_STRING","false",362],",",["T_WHITESPACE","\n            ",362],"]",",",["T_WHITESPACE","\n        ",363],"]",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Store\/_files\/core_fixturestore.php\n     * @magentoComponentsDir Magento\/Email\/Model\/_files\/design\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     * @dataProvider inlinecssDirectiveThrowsExceptionWhenMissingParameterDataProvider\n     *\n     * @param string $templateText\n     *\/",367],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","testInlinecssDirectiveThrowsExceptionWhenMissingParameter",376],"(",["T_VARIABLE","$templateText",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_DOC_COMMENT","\/** @var \\Magento\\Theme\\Model\\Theme\\Registration $registration *\/",378],["T_WHITESPACE","\n        ",378],["T_VARIABLE","$registration",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","objectManager",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","get",379],"(",["T_WHITESPACE","\n            ",379],["T_NS_SEPARATOR","\\",380],["T_STRING","Magento",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Theme",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Model",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Theme",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Registration",380],["T_DOUBLE_COLON","::",380],["T_CLASS","class",380],["T_WHITESPACE","\n        ",380],")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$registration",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","register",382],"(",")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","setUpDesignParams",383],"(",")",";",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","model",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","filter",385],"(",["T_VARIABLE","$templateText",385],")",";",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n\n    ",386],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",388],["T_WHITESPACE","\n    ",390],["T_PUBLIC","public",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","inlinecssDirectiveThrowsExceptionWhenMissingParameterDataProvider",391],"(",")",["T_WHITESPACE","\n    ",391],"{",["T_WHITESPACE","\n        ",392],["T_RETURN","return",393],["T_WHITESPACE"," ",393],"[",["T_WHITESPACE","\n            ",393],["T_CONSTANT_ENCAPSED_STRING","'Missing \"file\" parameter'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],"[",["T_WHITESPACE","\n                ",394],["T_CONSTANT_ENCAPSED_STRING","'{{inlinecss}}'",395],",",["T_WHITESPACE","\n            ",395],"]",",",["T_WHITESPACE","\n            ",396],["T_CONSTANT_ENCAPSED_STRING","'Missing \"file\" parameter value'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],"[",["T_WHITESPACE","\n                ",397],["T_CONSTANT_ENCAPSED_STRING","'{{inlinecss file=\"\"}}'",398],",",["T_WHITESPACE","\n            ",398],"]",",",["T_WHITESPACE","\n        ",399],"]",";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Setup the design params\n     *\/",403],["T_WHITESPACE","\n    ",405],["T_PROTECTED","protected",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","setUpDesignParams",406],"(",")",["T_WHITESPACE","\n    ",406],"{",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$themeCode",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'Vendor_EmailTest\/custom_theme'",408],";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","model",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","setDesignParams",409],"(","[",["T_WHITESPACE","\n            ",409],["T_CONSTANT_ENCAPSED_STRING","'area'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_STRING","Area",410],["T_DOUBLE_COLON","::",410],["T_STRING","AREA_FRONTEND",410],",",["T_WHITESPACE","\n            ",410],["T_CONSTANT_ENCAPSED_STRING","'theme'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$themeCode",411],",",["T_WHITESPACE","\n            ",411],["T_CONSTANT_ENCAPSED_STRING","'locale'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_STRING","Locale",412],["T_DOUBLE_COLON","::",412],["T_STRING","DEFAULT_SYSTEM_LOCALE",412],",",["T_WHITESPACE","\n        ",412],"]",")",";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n",414],"}",["T_WHITESPACE","\n",415]]