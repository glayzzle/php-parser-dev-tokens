[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/*\n * Since the bundle product creation GUI doesn't allow to choose values for bundled products' custom options,\n * bundled items should not contain products with required custom options.\n * However, if to create such a bundle product, it will be always out of stock.\n *\/",7],["T_WHITESPACE","\n",11],["T_REQUIRE","require",12],["T_WHITESPACE"," ",12],["T_DIR","__DIR__",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/Magento\/Catalog\/_files\/products.php'",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",14],["T_WHITESPACE","\n",14],["T_VARIABLE","$objectManager",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestFramework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Helper",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Bootstrap",15],["T_DOUBLE_COLON","::",15],["T_STRING","getObjectManager",15],"(",")",";",["T_WHITESPACE","\n",15],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",16],["T_WHITESPACE","\n",16],["T_VARIABLE","$productRepository",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$objectManager",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","create",17],"(",["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Catalog",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Api",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ProductRepositoryInterface",17],["T_DOUBLE_COLON","::",17],["T_CLASS","class",17],")",";",["T_WHITESPACE","\n",17],["T_VARIABLE","$sampleProduct",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_VARIABLE","$productRepository",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","get",18],"(",["T_CONSTANT_ENCAPSED_STRING","'simple'",18],")",";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/** @var $product \\Magento\\Catalog\\Model\\Product *\/",20],["T_WHITESPACE","\n",20],["T_VARIABLE","$product",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$objectManager",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","create",21],"(",["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Catalog",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Product",21],["T_DOUBLE_COLON","::",21],["T_CLASS","class",21],")",";",["T_WHITESPACE","\n",21],["T_VARIABLE","$product",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","setTypeId",22],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",22],")",["T_WHITESPACE","\n    ",22],["T_OBJECT_OPERATOR","->",23],["T_STRING","setId",23],"(",["T_LNUMBER","3",23],")",["T_WHITESPACE","\n    ",23],["T_OBJECT_OPERATOR","->",24],["T_STRING","setAttributeSetId",24],"(",["T_LNUMBER","4",24],")",["T_WHITESPACE","\n    ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","setWebsiteIds",25],"(","[",["T_LNUMBER","1",25],"]",")",["T_WHITESPACE","\n    ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","setName",26],"(",["T_CONSTANT_ENCAPSED_STRING","'Bundle Product'",26],")",["T_WHITESPACE","\n    ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","setSku",27],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",27],")",["T_WHITESPACE","\n    ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","setVisibility",28],"(",["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Catalog",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Model",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Product",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Visibility",28],["T_DOUBLE_COLON","::",28],["T_STRING","VISIBILITY_BOTH",28],")",["T_WHITESPACE","\n    ",28],["T_OBJECT_OPERATOR","->",29],["T_STRING","setStatus",29],"(",["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Catalog",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Model",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Product",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Attribute",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Source",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Status",29],["T_DOUBLE_COLON","::",29],["T_STRING","STATUS_ENABLED",29],")",["T_WHITESPACE","\n    ",29],["T_OBJECT_OPERATOR","->",30],["T_STRING","setStockData",30],"(","[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","1",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'qty'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","100",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","0",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","1",30],"]",")",["T_WHITESPACE","\n    ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","setPriceView",31],"(",["T_LNUMBER","1",31],")",["T_WHITESPACE","\n    ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","setPriceType",32],"(",["T_LNUMBER","1",32],")",["T_WHITESPACE","\n    ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","setShipmentType",33],"(",["T_LNUMBER","1",33],")",["T_WHITESPACE","\n    ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","setPrice",34],"(",["T_DNUMBER","10.0",34],")",["T_WHITESPACE","\n    ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","setBundleOptionsData",35],"(",["T_WHITESPACE","\n        ",35],"[",["T_WHITESPACE","\n            ",36],"[",["T_WHITESPACE","\n                ",37],["T_CONSTANT_ENCAPSED_STRING","'title'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Bundle Product Items'",38],",",["T_WHITESPACE","\n                ",38],["T_CONSTANT_ENCAPSED_STRING","'default_title'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'Bundle Product Items'",39],",",["T_WHITESPACE","\n                ",39],["T_CONSTANT_ENCAPSED_STRING","'type'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'select'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'required'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_LNUMBER","1",40],",",["T_WHITESPACE","\n                ",40],["T_CONSTANT_ENCAPSED_STRING","'delete'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","''",41],",",["T_WHITESPACE","\n            ",41],"]",",",["T_WHITESPACE","\n        ",42],"]",["T_WHITESPACE","\n    ",43],")",["T_WHITESPACE","\n    ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","setBundleSelectionsData",45],"(",["T_WHITESPACE","\n        ",45],"[",["T_WHITESPACE","\n            ",46],"[",["T_WHITESPACE","\n                ",47],"[",["T_WHITESPACE","\n                    ",48],["T_CONSTANT_ENCAPSED_STRING","'product_id'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$sampleProduct",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getId",49],"(",")",",",["T_WHITESPACE","\n                    ",49],["T_CONSTANT_ENCAPSED_STRING","'selection_qty'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_LNUMBER","1",50],",",["T_WHITESPACE","\n                    ",50],["T_CONSTANT_ENCAPSED_STRING","'selection_can_change_qty'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],",",["T_WHITESPACE","\n                    ",51],["T_CONSTANT_ENCAPSED_STRING","'delete'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","''",52],",",["T_WHITESPACE","\n                ",52],"]",",",["T_WHITESPACE","\n            ",53],"]",",",["T_WHITESPACE","\n        ",54],"]",["T_WHITESPACE","\n    ",55],")",";",["T_WHITESPACE","\n\n",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$product",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getBundleOptionsData",58],"(",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$options",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[","]",";",["T_WHITESPACE","\n    ",59],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$product",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getBundleOptionsData",60],"(",")",["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$key",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$optionData",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_BOOL_CAST","(bool)",61],["T_VARIABLE","$optionData",61],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",61],"]",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$option",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$objectManager",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","create",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Bundle",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Api",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Data",62],["T_NS_SEPARATOR","\\",62],["T_STRING","OptionInterfaceFactory",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",["T_WHITESPACE","\n                ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","create",63],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$optionData",63],"]",")",";",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$option",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","setSku",64],"(",["T_VARIABLE","$product",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getSku",64],"(",")",")",";",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$option",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setOptionId",65],"(",["T_STRING","null",65],")",";",["T_WHITESPACE","\n\n            ",65],["T_VARIABLE","$links",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[","]",";",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$bundleLinks",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$product",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getBundleSelectionsData",68],"(",")",";",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_EMPTY","empty",69],"(",["T_VARIABLE","$bundleLinks",69],"[",["T_VARIABLE","$key",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$bundleLinks",70],"[",["T_VARIABLE","$key",70],"]",["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$linkData",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                    ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","!",["T_BOOL_CAST","(bool)",71],["T_VARIABLE","$linkData",71],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",71],"]",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                        ",71],["T_DOC_COMMENT","\/** @var \\Magento\\Bundle\\Api\\Data\\LinkInterface$link *\/",72],["T_WHITESPACE","\n                        ",72],["T_VARIABLE","$link",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$objectManager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","create",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Bundle",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Api",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Data",73],["T_NS_SEPARATOR","\\",73],["T_STRING","LinkInterfaceFactory",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],")",["T_WHITESPACE","\n                            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","create",74],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$linkData",74],"]",")",";",["T_WHITESPACE","\n                        ",74],["T_VARIABLE","$linkProduct",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$productRepository",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getById",75],"(",["T_VARIABLE","$linkData",75],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",75],"]",")",";",["T_WHITESPACE","\n                        ",75],["T_VARIABLE","$link",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setSku",76],"(",["T_VARIABLE","$linkProduct",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getSku",76],"(",")",")",";",["T_WHITESPACE","\n                        ",76],["T_VARIABLE","$link",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setQty",77],"(",["T_VARIABLE","$linkData",77],"[",["T_CONSTANT_ENCAPSED_STRING","'selection_qty'",77],"]",")",";",["T_WHITESPACE","\n                        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_ISSET","isset",78],"(",["T_VARIABLE","$linkData",78],"[",["T_CONSTANT_ENCAPSED_STRING","'selection_can_change_qty'",78],"]",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                            ",78],["T_VARIABLE","$link",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setCanChangeQuantity",79],"(",["T_VARIABLE","$linkData",79],"[",["T_CONSTANT_ENCAPSED_STRING","'selection_can_change_qty'",79],"]",")",";",["T_WHITESPACE","\n                        ",79],"}",["T_WHITESPACE","\n                        ",80],["T_VARIABLE","$links",81],"[","]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$link",81],";",["T_WHITESPACE","\n                    ",81],"}",["T_WHITESPACE","\n                ",82],"}",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$option",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setProductLinks",84],"(",["T_VARIABLE","$links",84],")",";",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$options",85],"[","]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$option",85],";",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$extension",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$product",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getExtensionAttributes",89],"(",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$extension",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setBundleProductOptions",90],"(",["T_VARIABLE","$options",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$product",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setExtensionAttributes",91],"(",["T_VARIABLE","$extension",91],")",";",["T_WHITESPACE","\n",91],"}",["T_WHITESPACE","\n",92],["T_VARIABLE","$product",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","save",93],"(",")",";",["T_WHITESPACE","\n",93]]