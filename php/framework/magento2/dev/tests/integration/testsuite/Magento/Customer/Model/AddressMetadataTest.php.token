[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AddressMetadataInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NoSuchEntityException",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","AddressMetadataTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/** @var AddressMetadataInterface *\/",13],["T_WHITESPACE","\n    ",13],["T_PRIVATE","private",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$_service",14],";",["T_WHITESPACE","\n\n    ",14],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","setUp",16],"(",")",["T_WHITESPACE","\n    ",16],"{",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$objectManager",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TestFramework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Helper",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Bootstrap",18],["T_DOUBLE_COLON","::",18],["T_STRING","getObjectManager",18],"(",")",";",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$objectManager",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","configure",19],"(",["T_WHITESPACE","\n            ",19],"[",["T_WHITESPACE","\n                ",20],["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Api",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ExtensionAttribute",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Config",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Reader",21],["T_DOUBLE_COLON","::",21],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],"[",["T_WHITESPACE","\n                    ",21],["T_CONSTANT_ENCAPSED_STRING","'arguments'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],"[",["T_WHITESPACE","\n                        ",22],["T_CONSTANT_ENCAPSED_STRING","'fileResolver'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],"[",["T_CONSTANT_ENCAPSED_STRING","'instance'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Customer",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","FileResolverStub",23],["T_DOUBLE_COLON","::",23],["T_CLASS","class",23],"]",",",["T_WHITESPACE","\n                    ",23],"]",",",["T_WHITESPACE","\n                ",24],"]",",",["T_WHITESPACE","\n            ",25],"]",["T_WHITESPACE","\n        ",26],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","_service",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$objectManager",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","create",28],"(",["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Customer",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Api",28],["T_NS_SEPARATOR","\\",28],["T_STRING","AddressMetadataInterface",28],["T_DOUBLE_COLON","::",28],["T_CLASS","class",28],")",";",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n\n    ",29],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testGetCustomAttributesMetadata",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$customAttributesMetadata",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","_service",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getCustomAttributesMetadata",33],"(",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertCount",34],"(",["T_LNUMBER","0",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$customAttributesMetadata",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","\"Invalid number of attributes returned.\"",34],")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/attribute_user_defined_address_custom_attribute.php\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testGetCustomAttributesMetadataWithAttributeNamedCustomAttribute",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$customAttributesMetadata",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_service",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getCustomAttributesMetadata",42],"(",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$customAttributeCodeOne",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'custom_attribute1'",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$customAttributeFound",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","false",44],";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$customAttributeCodeTwo",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'custom_attribute2'",45],";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$customAttributesFound",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","false",46],";",["T_WHITESPACE","\n        ",46],["T_FOREACH","foreach",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$customAttributesMetadata",47],["T_WHITESPACE"," ",47],["T_AS","as",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$attribute",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$attribute",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getAttributeCode",48],"(",")",["T_WHITESPACE"," ",48],["T_IS_EQUAL","==",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$customAttributeCodeOne",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n                ",48],["T_VARIABLE","$customAttributeFound",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","true",49],";",["T_WHITESPACE","\n            ",49],"}",["T_WHITESPACE","\n            ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$attribute",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getAttributeCode",51],"(",")",["T_WHITESPACE"," ",51],["T_IS_EQUAL","==",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$customAttributeCodeTwo",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                ",51],["T_VARIABLE","$customAttributesFound",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","true",52],";",["T_WHITESPACE","\n            ",52],"}",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_VARIABLE","$customAttributeFound",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","fail",56],"(",["T_CONSTANT_ENCAPSED_STRING","\"Custom attribute declared in the config not found.\"",56],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_VARIABLE","$customAttributesFound",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","fail",59],"(",["T_CONSTANT_ENCAPSED_STRING","\"Custom attributes declared in the config not found.\"",59],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertCount",61],"(",["T_LNUMBER","2",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$customAttributesMetadata",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"Invalid number of attributes returned.\"",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testGetAddressAttributeMetadata",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$vatValidMetadata",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_service",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getAttributeMetadata",66],"(",["T_CONSTANT_ENCAPSED_STRING","'vat_is_valid'",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertNotNull",68],"(",["T_VARIABLE","$vatValidMetadata",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEquals",69],"(",["T_CONSTANT_ENCAPSED_STRING","'vat_is_valid'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$vatValidMetadata",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getAttributeCode",69],"(",")",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$vatValidMetadata",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getFrontendInput",70],"(",")",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEquals",71],"(",["T_CONSTANT_ENCAPSED_STRING","'VAT number validity'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$vatValidMetadata",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getStoreLabel",71],"(",")",")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testGetAddressAttributeMetadataNoSuchEntity",74],"(",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_TRY","try",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_service",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getAttributeMetadata",77],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",77],")",";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fail",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected exception not thrown.'",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE"," ",79],["T_CATCH","catch",79],["T_WHITESPACE"," ",79],"(",["T_STRING","NoSuchEntityException",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$e",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEquals",80],"(",["T_WHITESPACE","\n                ",80],["T_CONSTANT_ENCAPSED_STRING","'No such entity with entityType = customer_address, attributeCode = 1'",81],",",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$e",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getMessage",82],"(",")",["T_WHITESPACE","\n            ",82],")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","testGetAttributes",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$formAttributesMetadata",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_service",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getAttributes",89],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address_edit'",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertCount",90],"(",["T_LNUMBER","15",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$formAttributesMetadata",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"Invalid number of attributes for the specified form.\"",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_DOC_COMMENT","\/** Check some fields of one attribute metadata *\/",92],["T_WHITESPACE","\n        ",92],["T_VARIABLE","$attributeMetadata",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$formAttributesMetadata",93],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",93],"]",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertInstanceOf",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Customer",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Data",94],["T_NS_SEPARATOR","\\",94],["T_STRING","AttributeMetadata",94],["T_DOUBLE_COLON","::",94],["T_CLASS","class",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$attributeMetadata",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEquals",95],"(",["T_CONSTANT_ENCAPSED_STRING","'company'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$attributeMetadata",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getAttributeCode",95],"(",")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Attribute code is invalid'",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertNotEmpty",96],"(",["T_VARIABLE","$attributeMetadata",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getValidationRules",96],"(",")",",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Validation rules are not set'",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEquals",97],"(",["T_CONSTANT_ENCAPSED_STRING","'static'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$attributeMetadata",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getBackendType",97],"(",")",",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'Backend type is invalid'",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertEquals",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Company'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$attributeMetadata",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getFrontendLabel",98],"(",")",",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'Frontend label is invalid'",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","tearDown",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$objectManager",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","TestFramework",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Helper",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Bootstrap",103],["T_DOUBLE_COLON","::",103],["T_STRING","getObjectManager",103],"(",")",";",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/* @var \\Magento\\Framework\\Config\\CacheInterface $cache *\/",105],["T_WHITESPACE","\n        ",105],["T_VARIABLE","$cache",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$objectManager",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","create",106],"(",["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Framework",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Config",106],["T_NS_SEPARATOR","\\",106],["T_STRING","CacheInterface",106],["T_DOUBLE_COLON","::",106],["T_CLASS","class",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$cache",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","remove",107],"(",["T_CONSTANT_ENCAPSED_STRING","'extension_attributes_config'",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n",108],"}",["T_WHITESPACE","\n",109]]