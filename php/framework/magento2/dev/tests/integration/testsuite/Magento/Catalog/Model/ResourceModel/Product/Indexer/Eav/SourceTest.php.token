[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Indexer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Eav",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Attribute",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Source",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Status",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Bootstrap",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Class SourceTest\n * @magentoAppIsolation enabled\n *\/",12],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","SourceTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Indexer\\Eav\\Source\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$source",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$productResource",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Indexer\\Product\\Eav\\Processor\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_eavIndexerProcessor",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Sets up the fixture, for example, opens a network connection.\n     * This method is called before a test is executed.\n     *\/",33],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","setUp",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","source",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","Bootstrap",39],["T_DOUBLE_COLON","::",39],["T_STRING","getObjectManager",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","create",39],"(",["T_WHITESPACE","\n            ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Catalog",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Model",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ResourceModel",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Product",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Indexer",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Eav",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Source",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],["T_WHITESPACE","\n        ",40],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","productResource",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","Bootstrap",43],["T_DOUBLE_COLON","::",43],["T_STRING","getObjectManager",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_WHITESPACE","\n            ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Catalog",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Model",44],["T_NS_SEPARATOR","\\",44],["T_STRING","ResourceModel",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Product",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],["T_WHITESPACE","\n        ",44],")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_eavIndexerProcessor",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","Bootstrap",47],["T_DOUBLE_COLON","::",47],["T_STRING","getObjectManager",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_WHITESPACE","\n            ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Catalog",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Indexer",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Product",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Eav",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Processor",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],["T_WHITESPACE","\n        ",48],")",";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Test reindex for configurable product with both disabled and enabled variations.\n     *\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","testReindexEntitiesForConfigurableProduct",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_DOC_COMMENT","\/** @var ProductRepositoryInterface $productRepository *\/",59],["T_WHITESPACE","\n        ",59],["T_VARIABLE","$productRepository",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","Bootstrap",60],["T_DOUBLE_COLON","::",60],["T_STRING","getObjectManager",60],"(",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",["T_STRING","ProductRepositoryInterface",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],")",";",["T_WHITESPACE","\n\n        ",61],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute $attr **\/",63],["T_WHITESPACE","\n        ",63],["T_VARIABLE","$attr",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Bootstrap",64],["T_DOUBLE_COLON","::",64],["T_STRING","getObjectManager",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","get",64],"(",["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Eav",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Config",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],")",["T_WHITESPACE","\n           ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","getAttribute",65],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'test_configurable'",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$attr",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setIsFilterable",66],"(",["T_LNUMBER","1",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","save",66],"(",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_eavIndexerProcessor",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","reindexAll",68],"(",")",";",["T_WHITESPACE","\n\n        ",68],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Option\\Collection $options **\/",70],["T_WHITESPACE","\n        ",70],["T_VARIABLE","$options",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Bootstrap",71],["T_DOUBLE_COLON","::",71],["T_STRING","getObjectManager",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","create",71],"(",["T_WHITESPACE","\n            ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Eav",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Model",72],["T_NS_SEPARATOR","\\",72],["T_STRING","ResourceModel",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Entity",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Attribute",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Option",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Collection",72],["T_DOUBLE_COLON","::",72],["T_CLASS","class",72],["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$options",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setAttributeFilter",74],"(",["T_VARIABLE","$attr",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getId",74],"(",")",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","load",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$optionIds",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$options",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getAllIds",75],"(",")",";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$connection",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","productResource",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getConnection",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$select",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$connection",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","select",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","from",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","productResource",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getTable",78],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_index_eav'",78],")",")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","where",79],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id = ?'",79],",",["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","where",80],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id = ?'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$attr",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getId",80],"(",")",")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","where",81],"(",["T_CONSTANT_ENCAPSED_STRING","'value IN (?)'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$optionIds",81],")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$result",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$connection",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","fetchAll",83],"(",["T_VARIABLE","$select",83],")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertCount",84],"(",["T_LNUMBER","2",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$result",84],")",";",["T_WHITESPACE","\n\n        ",84],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product1 **\/",86],["T_WHITESPACE","\n        ",86],["T_VARIABLE","$product1",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$productRepository",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getById",87],"(",["T_LNUMBER","10",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$product1",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setStatus",88],"(",["T_STRING","Status",88],["T_DOUBLE_COLON","::",88],["T_STRING","STATUS_DISABLED",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$productRepository",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","save",89],"(",["T_VARIABLE","$product1",89],")",";",["T_WHITESPACE","\n\n        ",89],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product2 **\/",91],["T_WHITESPACE","\n        ",91],["T_VARIABLE","$product2",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$productRepository",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getById",92],"(",["T_LNUMBER","20",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$product2",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setStatus",93],"(",["T_STRING","Status",93],["T_DOUBLE_COLON","::",93],["T_STRING","STATUS_DISABLED",93],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$productRepository",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","save",94],"(",["T_VARIABLE","$product2",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$result",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$connection",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","fetchAll",96],"(",["T_VARIABLE","$select",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertCount",97],"(",["T_LNUMBER","0",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$result",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Catalog\/_files\/products_with_multiselect_attribute.php\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testReindexMultiselectAttribute",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_DOC_COMMENT","\/** @var ProductRepositoryInterface $productRepository *\/",105],["T_WHITESPACE","\n        ",105],["T_VARIABLE","$productRepository",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","Bootstrap",106],["T_DOUBLE_COLON","::",106],["T_STRING","getObjectManager",106],"(",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","create",107],"(",["T_STRING","ProductRepositoryInterface",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",";",["T_WHITESPACE","\n\n        ",107],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute $attr **\/",109],["T_WHITESPACE","\n        ",109],["T_VARIABLE","$attr",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","Bootstrap",110],["T_DOUBLE_COLON","::",110],["T_STRING","getObjectManager",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Eav",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Config",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],")",["T_WHITESPACE","\n           ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","getAttribute",111],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'multiselect_attribute'",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$attr",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setIsFilterable",112],"(",["T_LNUMBER","1",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","save",112],"(",")",";",["T_WHITESPACE","\n\n        ",112],["T_DOC_COMMENT","\/** @var $options \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Option\\Collection *\/",114],["T_WHITESPACE","\n        ",114],["T_VARIABLE","$options",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","TestFramework",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Helper",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Bootstrap",115],["T_DOUBLE_COLON","::",115],["T_STRING","getObjectManager",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","create",115],"(",["T_WHITESPACE","\n            ",115],["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Eav",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","ResourceModel",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Entity",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Attribute",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Option",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Collection",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],["T_WHITESPACE","\n        ",116],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$options",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setAttributeFilter",118],"(",["T_VARIABLE","$attr",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getId",118],"(",")",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$optionIds",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$options",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getAllIds",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$product1Id",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$optionIds",120],"[",["T_LNUMBER","0",120],"]",["T_WHITESPACE"," ",120],"*",["T_WHITESPACE"," ",120],["T_LNUMBER","10",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$product2Id",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$optionIds",121],"[",["T_LNUMBER","1",121],"]",["T_WHITESPACE"," ",121],"*",["T_WHITESPACE"," ",121],["T_LNUMBER","10",121],";",["T_WHITESPACE","\n\n        ",121],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product1 **\/",123],["T_WHITESPACE","\n        ",123],["T_VARIABLE","$product1",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$productRepository",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getById",124],"(",["T_VARIABLE","$product1Id",124],")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$product1",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","setSpecialFromDate",125],"(",["T_STRING","date",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",125],")",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$product1",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setNewsFromDate",126],"(",["T_STRING","date",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",126],")",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$productRepository",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","save",127],"(",["T_VARIABLE","$product1",127],")",";",["T_WHITESPACE","\n\n        ",127],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product2 **\/",129],["T_WHITESPACE","\n        ",129],["T_VARIABLE","$product2",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$productRepository",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getById",130],"(",["T_VARIABLE","$product2Id",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$product1",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setSpecialFromDate",131],"(",["T_STRING","date",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",131],")",")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$product1",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setNewsFromDate",132],"(",["T_STRING","date",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",132],")",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$productRepository",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","save",133],"(",["T_VARIABLE","$product2",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_eavIndexerProcessor",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","reindexAll",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$connection",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","productResource",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getConnection",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$select",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$connection",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","select",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","from",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","productResource",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getTable",138],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_index_eav'",138],")",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","where",139],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id in (?)'",139],",",["T_WHITESPACE"," ",139],"[",["T_VARIABLE","$product1Id",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$product2Id",139],"]",")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","where",140],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id = ?'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$attr",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getId",140],"(",")",")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$result",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$connection",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","fetchAll",142],"(",["T_VARIABLE","$select",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertCount",143],"(",["T_LNUMBER","3",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$result",143],")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n",144],"}",["T_WHITESPACE","\n",145]]