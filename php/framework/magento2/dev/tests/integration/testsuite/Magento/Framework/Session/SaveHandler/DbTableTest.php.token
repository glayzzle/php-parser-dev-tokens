[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Session",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SaveHandler",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceConnection",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","DbTableTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PHPUnit_Framework_TestCase",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * Test session ID\n     *\/",12],["T_WHITESPACE","\n    ",14],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","SESSION_ID",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'session_id_value'",15],";",["T_WHITESPACE","\n\n    ",15],["T_COMMENT","\/**#@+\n     * Session keys\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","SESSION_NEW",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'session_new'",20],";",["T_WHITESPACE","\n\n    ",20],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","SESSION_EXISTS",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'session_exists'",22],";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/**#@-*\/",24],["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/**#@+\n     * Table column names\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","COLUMN_SESSION_ID",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'session_id'",29],";",["T_WHITESPACE","\n\n    ",29],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","COLUMN_SESSION_DATA",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'session_data'",31],";",["T_WHITESPACE","\n\n    ",31],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","COLUMN_SESSION_EXPIRES",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'session_expires'",33],";",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/**#@-*\/",35],["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Test session data\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_sourceData",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[",["T_WHITESPACE","\n        ",42],["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_STRING","SESSION_NEW",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'new key'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'new value'",43],"]",",",["T_WHITESPACE","\n        ",43],["T_STRING","self",44],["T_DOUBLE_COLON","::",44],["T_STRING","SESSION_EXISTS",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[",["T_CONSTANT_ENCAPSED_STRING","'existing key'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'existing value'",44],"]",",",["T_WHITESPACE","\n    ",44],"]",";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Data as objects for serialization\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_sessionData",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_objectManager",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Model under test\n     *\n     * @var \\Magento\\Framework\\Session\\SaveHandler\\DbTable\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_model",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Write connection adapter\n     *\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_connection",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Session table name\n     *\n     * @var string\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_sessionTable",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","setUp",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_objectManager",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","TestFramework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Helper",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Bootstrap",85],["T_DOUBLE_COLON","::",85],["T_STRING","getObjectManager",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_model",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_objectManager",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Session",86],["T_NS_SEPARATOR","\\",86],["T_STRING","SaveHandler",86],["T_NS_SEPARATOR","\\",86],["T_STRING","DbTable",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",";",["T_WHITESPACE","\n\n        ",86],["T_DOC_COMMENT","\/** @var $resource \\Magento\\Framework\\App\\ResourceConnection *\/",88],["T_WHITESPACE","\n        ",88],["T_VARIABLE","$resource",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_objectManager",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","get",89],"(",["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","App",89],["T_NS_SEPARATOR","\\",89],["T_STRING","ResourceConnection",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_connection",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$resource",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getConnection",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_sessionTable",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$resource",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getTableName",91],"(",["T_CONSTANT_ENCAPSED_STRING","'session'",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_COMMENT","\/\/ session stores serialized objects with protected properties\n",93],["T_WHITESPACE","        ",94],["T_COMMENT","\/\/ we need to test this case to ensure that DB adapter successfully processes \"\\0\" symbols in serialized data\n",94],["T_WHITESPACE","        ",95],["T_FOREACH","foreach",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_sourceData",95],["T_WHITESPACE"," ",95],["T_AS","as",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$key",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$data",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_sessionData",96],"[",["T_VARIABLE","$key",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","DataObject",96],"(",["T_VARIABLE","$data",96],")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testCheckConnection",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$method",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","ReflectionMethod",105],"(",["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Framework",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Session",105],["T_NS_SEPARATOR","\\",105],["T_STRING","SaveHandler",105],["T_NS_SEPARATOR","\\",105],["T_STRING","DbTable",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'checkConnection'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$method",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setAccessible",106],"(",["T_STRING","true",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertNull",107],"(",["T_VARIABLE","$method",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","invoke",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_model",107],")",")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","testOpenAndClose",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertTrue",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_model",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","open",115],"(",["T_CONSTANT_ENCAPSED_STRING","''",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'test'",115],")",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertTrue",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_model",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","close",116],"(",")",")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",119],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","testWriteReadDestroy",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$data",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","serialize",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_sessionData",124],"[",["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_STRING","SESSION_NEW",124],"]",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_model",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","write",125],"(",["T_STRING","self",125],["T_DOUBLE_COLON","::",125],["T_STRING","SESSION_ID",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$data",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertEquals",126],"(",["T_VARIABLE","$data",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_model",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","read",126],"(",["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","SESSION_ID",126],")",")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$data",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","serialize",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_sessionData",128],"[",["T_STRING","self",128],["T_DOUBLE_COLON","::",128],["T_STRING","SESSION_EXISTS",128],"]",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_model",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","write",129],"(",["T_STRING","self",129],["T_DOUBLE_COLON","::",129],["T_STRING","SESSION_ID",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$data",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertEquals",130],"(",["T_VARIABLE","$data",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_model",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","read",130],"(",["T_STRING","self",130],["T_DOUBLE_COLON","::",130],["T_STRING","SESSION_ID",130],")",")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_model",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","destroy",132],"(",["T_STRING","self",132],["T_DOUBLE_COLON","::",132],["T_STRING","SESSION_ID",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEmpty",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_model",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","read",133],"(",["T_STRING","self",133],["T_DOUBLE_COLON","::",133],["T_STRING","SESSION_ID",133],")",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",136],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testGc",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_model",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","write",141],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'test'",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEquals",142],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_model",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","read",142],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",142],")",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_model",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","gc",143],"(","-",["T_LNUMBER","1",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEmpty",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_model",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","read",144],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",144],")",")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Assert that session data writes to DB in base64 encoding\n     *\n     * @return void\n     *\/",147],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","testWriteEncoded",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$data",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","serialize",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_sessionData",154],"[",["T_STRING","self",154],["T_DOUBLE_COLON","::",154],["T_STRING","SESSION_NEW",154],"]",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_model",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","write",155],"(",["T_STRING","self",155],["T_DOUBLE_COLON","::",155],["T_STRING","SESSION_ID",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$data",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$select",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_connection",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","select",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","from",157],"(",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_sessionTable",158],["T_WHITESPACE","\n        ",158],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","where",159],"(",["T_WHITESPACE","\n            ",159],["T_STRING","self",160],["T_DOUBLE_COLON","::",160],["T_STRING","COLUMN_SESSION_ID",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","' = :'",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_STRING","self",160],["T_DOUBLE_COLON","::",160],["T_STRING","COLUMN_SESSION_ID",160],["T_WHITESPACE","\n        ",160],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$bind",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[",["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","COLUMN_SESSION_ID",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","SESSION_ID",162],"]",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$session",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_connection",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","fetchRow",163],"(",["T_VARIABLE","$select",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$bind",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEquals",165],"(",["T_STRING","self",165],["T_DOUBLE_COLON","::",165],["T_STRING","SESSION_ID",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$session",165],"[",["T_STRING","self",165],["T_DOUBLE_COLON","::",165],["T_STRING","COLUMN_SESSION_ID",165],"]",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertTrue",166],"(",["T_WHITESPACE","\n            ",166],["T_STRING","ctype_digit",167],"(",["T_STRING_CAST","(string)",167],["T_VARIABLE","$session",167],"[",["T_STRING","self",167],["T_DOUBLE_COLON","::",167],["T_STRING","COLUMN_SESSION_EXPIRES",167],"]",")",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'Value of session expire field must have integer type'",168],["T_WHITESPACE","\n        ",168],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEquals",170],"(",["T_VARIABLE","$data",170],",",["T_WHITESPACE"," ",170],["T_STRING","base64_decode",170],"(",["T_VARIABLE","$session",170],"[",["T_STRING","self",170],["T_DOUBLE_COLON","::",170],["T_STRING","COLUMN_SESSION_DATA",170],"]",")",")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Data provider for testReadEncoded\n     *\n     * @return array\n     *\/",173],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","readEncodedDataProvider",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_COMMENT","\/\/ we can't use object data as a fixture because not encoded serialized object\n",180],["T_WHITESPACE","        ",181],["T_COMMENT","\/\/ might cause DB adapter fatal error, so we have to use array as a fixture\n",181],["T_WHITESPACE","        ",182],["T_VARIABLE","$sessionData",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","serialize",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_sourceData",182],"[",["T_STRING","self",182],["T_DOUBLE_COLON","::",182],["T_STRING","SESSION_NEW",182],"]",")",";",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],"[",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'session_encoded'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],"[",["T_CONSTANT_ENCAPSED_STRING","'$sessionData'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_STRING","base64_encode",184],"(",["T_VARIABLE","$sessionData",184],")","]",",",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'session_not_encoded'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],"[",["T_CONSTANT_ENCAPSED_STRING","'$sessionData'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$sessionData",185],"]",["T_WHITESPACE","\n        ",185],"]",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Assert that session data reads from DB correctly regardless of encoding\n     *\n     * @param string $sessionData\n     *\n     * @dataProvider readEncodedDataProvider\n     *\n     * @return void\n     *\/",189],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","testReadEncoded",198],"(",["T_VARIABLE","$sessionData",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$sessionRecord",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"[",["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","COLUMN_SESSION_ID",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","SESSION_ID",200],",",["T_WHITESPACE"," ",200],["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","COLUMN_SESSION_DATA",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$sessionData",200],"]",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_connection",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","insertOnDuplicate",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_sessionTable",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$sessionRecord",201],",",["T_WHITESPACE"," ",201],"[",["T_STRING","self",201],["T_DOUBLE_COLON","::",201],["T_STRING","COLUMN_SESSION_DATA",201],"]",")",";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$sessionData",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_model",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","read",203],"(",["T_STRING","self",203],["T_DOUBLE_COLON","::",203],["T_STRING","SESSION_ID",203],")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEquals",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_sourceData",204],"[",["T_STRING","self",204],["T_DOUBLE_COLON","::",204],["T_STRING","SESSION_NEW",204],"]",",",["T_WHITESPACE"," ",204],["T_STRING","unserialize",204],"(",["T_VARIABLE","$sessionData",204],")",")",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n",205],"}",["T_WHITESPACE","\n",206]]