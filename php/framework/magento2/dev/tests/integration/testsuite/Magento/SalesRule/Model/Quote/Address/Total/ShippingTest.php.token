[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","SalesRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Quote",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Address",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Total",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","ShippingTest",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PHPUnit_Framework_TestCase",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Api\\GuestCartManagementInterface\n     *\/",11],["T_WHITESPACE","\n    ",13],["T_PRIVATE","private",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$cartManagement",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Api\\GuestCartItemRepositoryInterface\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$itemRepository",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$objectManager",24],";",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","objectManager",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TestFramework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Helper",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Bootstrap",28],["T_DOUBLE_COLON","::",28],["T_STRING","getObjectManager",28],"(",")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","cartManagement",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","objectManager",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","get",29],"(",["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Quote",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Api",29],["T_NS_SEPARATOR","\\",29],["T_STRING","GuestCartManagementInterface",29],["T_DOUBLE_COLON","::",29],["T_CLASS","class",29],")",";",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","itemRepository",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","objectManager",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Quote",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Api",30],["T_NS_SEPARATOR","\\",30],["T_STRING","GuestCartItemRepositoryInterface",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],")",";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/SalesRule\/_files\/rule_free_shipping_by_product_weight.php\n     * @magentoDataFixture Magento\/Catalog\/_files\/product_simple.php\n     *\/",33],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testRuleByProductWeightWithFreeShipping",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$cartId",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","prepareQuote",39],"(",["T_LNUMBER","1",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$methods",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","estimateShipping",40],"(",["T_VARIABLE","$cartId",40],")",";",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertTrue",42],"(",["T_STRING","count",42],"(",["T_VARIABLE","$methods",42],")",["T_WHITESPACE"," ",42],">",["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertEquals",43],"(",["T_CONSTANT_ENCAPSED_STRING","'flatrate'",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$methods",43],"[",["T_LNUMBER","0",43],"]",["T_OBJECT_OPERATOR","->",43],["T_STRING","getMethodCode",43],"(",")",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertEquals",44],"(",["T_LNUMBER","0",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$methods",44],"[",["T_LNUMBER","0",44],"]",["T_OBJECT_OPERATOR","->",44],["T_STRING","getAmount",44],"(",")",")",";",["T_WHITESPACE","\n\n    ",44],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/SalesRule\/_files\/rule_free_shipping_by_product_weight.php\n     * @magentoDataFixture Magento\/Catalog\/_files\/product_simple.php\n     *\/",48],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testRuleByProductWeightWithoutFreeShipping",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$cartId",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","prepareQuote",54],"(",["T_LNUMBER","5",54],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$methods",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","estimateShipping",55],"(",["T_VARIABLE","$cartId",55],")",";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertTrue",57],"(",["T_STRING","count",57],"(",["T_VARIABLE","$methods",57],")",["T_WHITESPACE"," ",57],">",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEquals",58],"(",["T_CONSTANT_ENCAPSED_STRING","'flatrate'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$methods",58],"[",["T_LNUMBER","0",58],"]",["T_OBJECT_OPERATOR","->",58],["T_STRING","getMethodCode",58],"(",")",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEquals",59],"(",["T_LNUMBER","25",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$methods",59],"[",["T_LNUMBER","0",59],"]",["T_OBJECT_OPERATOR","->",59],["T_STRING","getAmount",59],"(",")",")",";",["T_WHITESPACE","\n\n    ",59],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Estimate shipment for guest cart\n     *\n     * @param int $cartId\n     * @return \\Magento\\Quote\\Api\\Data\\ShippingMethodInterface[]\n     *\/",63],["T_WHITESPACE","\n    ",68],["T_PRIVATE","private",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","estimateShipping",69],"(",["T_VARIABLE","$cartId",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$addressFactory",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","objectManager",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Quote",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Api",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Data",71],["T_NS_SEPARATOR","\\",71],["T_STRING","AddressInterfaceFactory",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",";",["T_WHITESPACE","\n        ",71],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Api\\Data\\AddressInterface $address *\/",72],["T_WHITESPACE","\n        ",72],["T_VARIABLE","$address",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$addressFactory",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","create",73],"(",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$address",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setCountryId",74],"(",["T_CONSTANT_ENCAPSED_STRING","'US'",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$address",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setRegionId",75],"(",["T_LNUMBER","2",75],")",";",["T_WHITESPACE","\n\n        ",75],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Api\\GuestShipmentEstimationInterface $estimation *\/",77],["T_WHITESPACE","\n        ",77],["T_VARIABLE","$estimation",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","objectManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Quote",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Api",78],["T_NS_SEPARATOR","\\",78],["T_STRING","GuestShipmentEstimationInterface",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",";",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$estimation",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","estimateByExtendedAddress",79],"(",["T_VARIABLE","$cartId",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$address",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Create guest quote with products\n     *\n     * @param int $itemQty\n     * @return int\n     *\/",82],["T_WHITESPACE","\n    ",87],["T_PRIVATE","private",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","prepareQuote",88],"(",["T_VARIABLE","$itemQty",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$cartId",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","cartManagement",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","createEmptyCart",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Api\\Data\\CartItemInterfaceFactory $cartItemFactory *\/",92],["T_WHITESPACE","\n        ",92],["T_VARIABLE","$cartItemFactory",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","objectManager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","get",93],"(",["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Quote",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Api",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Data",93],["T_NS_SEPARATOR","\\",93],["T_STRING","CartItemInterfaceFactory",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Api\\Data\\CartItemInterface $cartItem *\/",95],["T_WHITESPACE","\n        ",95],["T_VARIABLE","$cartItem",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$cartItemFactory",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","create",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$cartItem",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setQuoteId",97],"(",["T_VARIABLE","$cartId",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$cartItem",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setQty",98],"(",["T_VARIABLE","$itemQty",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$cartItem",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setSku",99],"(",["T_CONSTANT_ENCAPSED_STRING","'simple'",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$cartItem",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setProductType",100],"(",["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Catalog",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Model",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Product",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Type",100],["T_DOUBLE_COLON","::",100],["T_STRING","TYPE_SIMPLE",100],")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","itemRepository",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","save",102],"(",["T_VARIABLE","$cartItem",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$cartId",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n",105],"}",["T_WHITESPACE","\n",106]]