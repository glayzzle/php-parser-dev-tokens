[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Checkout\\Controller\\Cart\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Checkout",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Controller",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @magentoDbIsolation enabled\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","CartTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestFramework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractController",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Test for \\Magento\\Checkout\\Controller\\Cart::configureAction() with simple product\n     *\n     * @magentoDataFixture Magento\/Checkout\/_files\/quote_with_simple_product.php\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","testConfigureActionWithSimpleProduct",22],"(",")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_DOC_COMMENT","\/** @var $session \\Magento\\Checkout\\Model\\Session  *\/",24],["T_WHITESPACE","\n        ",24],["T_VARIABLE","$session",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","_objectManager",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","create",25],"(",["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Checkout",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Session",25],["T_DOUBLE_COLON","::",25],["T_CLASS","class",25],")",";",["T_WHITESPACE","\n\n        ",25],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",27],["T_WHITESPACE","\n        ",27],["T_VARIABLE","$productRepository",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","_objectManager",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","create",28],"(",["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Catalog",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Api",28],["T_NS_SEPARATOR","\\",28],["T_STRING","ProductRepositoryInterface",28],["T_DOUBLE_COLON","::",28],["T_CLASS","class",28],")",";",["T_WHITESPACE","\n        ",28],["T_DOC_COMMENT","\/** @var $product \\Magento\\Catalog\\Model\\Product *\/",29],["T_WHITESPACE","\n        ",29],["T_VARIABLE","$product",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$productRepository",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_CONSTANT_ENCAPSED_STRING","'simple'",30],")",";",["T_WHITESPACE","\n\n        ",30],["T_VARIABLE","$quoteItem",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","_getQuoteItemIdByProductId",32],"(",["T_VARIABLE","$session",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getQuote",32],"(",")",",",["T_WHITESPACE"," ",32],["T_VARIABLE","$product",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getId",32],"(",")",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertNotNull",33],"(",["T_VARIABLE","$quoteItem",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Cannot get quote item for simple product'",33],")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","dispatch",35],"(",["T_WHITESPACE","\n            ",35],["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart\/configure\/id\/'",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_VARIABLE","$quoteItem",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getId",36],"(",")",["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'\/product_id\/'",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_VARIABLE","$quoteItem",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getProduct",36],"(",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","getId",36],"(",")",["T_WHITESPACE","\n        ",36],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$response",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getResponse",38],"(",")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertSessionMessages",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","isEmpty",40],"(",")",",",["T_WHITESPACE"," ",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Message",40],["T_NS_SEPARATOR","\\",40],["T_STRING","MessageInterface",40],["T_DOUBLE_COLON","::",40],["T_STRING","TYPE_ERROR",40],")",";",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertSelectCount",42],"(",["T_WHITESPACE","\n            ",42],["T_CONSTANT_ENCAPSED_STRING","'button[type=\"submit\"][title=\"Update Cart\"]'",43],",",["T_WHITESPACE","\n            ",43],["T_LNUMBER","1",44],",",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$response",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getBody",45],"(",")",",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","'Response for simple product doesn\\'t contain \"Update Cart\" button'",46],["T_WHITESPACE","\n        ",46],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Test for \\Magento\\Checkout\\Controller\\Cart::configureAction() with simple product and custom option\n     *\n     * @magentoDataFixture Magento\/Checkout\/_files\/quote_with_simple_product_and_custom_option.php\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testConfigureActionWithSimpleProductAndCustomOption",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var $session \\Magento\\Checkout\\Model\\Session  *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$session",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_objectManager",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","create",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Checkout",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Session",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",";",["T_WHITESPACE","\n\n        ",58],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",60],["T_WHITESPACE","\n        ",60],["T_VARIABLE","$productRepository",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_objectManager",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Catalog",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Api",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ProductRepositoryInterface",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],")",";",["T_WHITESPACE","\n        ",61],["T_DOC_COMMENT","\/** @var $product \\Magento\\Catalog\\Model\\Product *\/",62],["T_WHITESPACE","\n        ",62],["T_VARIABLE","$product",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$productRepository",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","get",63],"(",["T_CONSTANT_ENCAPSED_STRING","'simple'",63],")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$quoteItem",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_getQuoteItemIdByProductId",65],"(",["T_VARIABLE","$session",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getQuote",65],"(",")",",",["T_WHITESPACE"," ",65],["T_VARIABLE","$product",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getId",65],"(",")",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertNotNull",66],"(",["T_VARIABLE","$quoteItem",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Cannot get quote item for simple product with custom option'",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","dispatch",68],"(",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart\/configure\/id\/'",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$quoteItem",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")",["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'\/product_id\/'",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$quoteItem",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getProduct",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")",["T_WHITESPACE","\n        ",69],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$response",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getResponse",71],"(",")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertSessionMessages",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","isEmpty",73],"(",")",",",["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Message",73],["T_NS_SEPARATOR","\\",73],["T_STRING","MessageInterface",73],["T_DOUBLE_COLON","::",73],["T_STRING","TYPE_ERROR",73],")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertSelectCount",75],"(",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'button[type=\"submit\"][title=\"Update Cart\"]'",76],",",["T_WHITESPACE","\n            ",76],["T_LNUMBER","1",77],",",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$response",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getBody",78],"(",")",",",["T_WHITESPACE","\n            ",78],["T_CONSTANT_ENCAPSED_STRING","'Response for simple product with custom option doesn\\'t contain \"Update Cart\" button'",79],["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertSelectCount",82],"(",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'input.product-custom-option[type=\"text\"]'",83],",",["T_WHITESPACE","\n            ",83],["T_LNUMBER","1",84],",",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$response",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getBody",85],"(",")",",",["T_WHITESPACE","\n            ",85],["T_CONSTANT_ENCAPSED_STRING","'Response for simple product with custom option doesn\\'t contain custom option input field'",86],["T_WHITESPACE","\n        ",86],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Test for \\Magento\\Checkout\\Controller\\Cart::configureAction() with bundle product\n     *\n     * @magentoDataFixture Magento\/Checkout\/_files\/quote_with_bundle_product.php\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testConfigureActionWithBundleProduct",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_DOC_COMMENT","\/** @var $session \\Magento\\Checkout\\Model\\Session  *\/",97],["T_WHITESPACE","\n        ",97],["T_VARIABLE","$session",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_objectManager",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","create",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Checkout",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Session",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],")",";",["T_WHITESPACE","\n\n        ",98],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",100],["T_WHITESPACE","\n        ",100],["T_VARIABLE","$productRepository",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_objectManager",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","create",101],"(",["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Catalog",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Api",101],["T_NS_SEPARATOR","\\",101],["T_STRING","ProductRepositoryInterface",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],")",";",["T_WHITESPACE","\n        ",101],["T_DOC_COMMENT","\/** @var $product \\Magento\\Catalog\\Model\\Product *\/",102],["T_WHITESPACE","\n        ",102],["T_VARIABLE","$product",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$productRepository",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","get",103],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",103],")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$quoteItem",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_getQuoteItemIdByProductId",105],"(",["T_VARIABLE","$session",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getQuote",105],"(",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$product",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getId",105],"(",")",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertNotNull",106],"(",["T_VARIABLE","$quoteItem",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Cannot get quote item for bundle product'",106],")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","dispatch",108],"(",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart\/configure\/id\/'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$quoteItem",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getId",109],"(",")",["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'\/product_id\/'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$quoteItem",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getProduct",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getId",109],"(",")",["T_WHITESPACE","\n        ",109],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$response",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getResponse",111],"(",")",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertSessionMessages",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","isEmpty",113],"(",")",",",["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Framework",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Message",113],["T_NS_SEPARATOR","\\",113],["T_STRING","MessageInterface",113],["T_DOUBLE_COLON","::",113],["T_STRING","TYPE_ERROR",113],")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertSelectCount",115],"(",["T_WHITESPACE","\n            ",115],["T_CONSTANT_ENCAPSED_STRING","'button[type=\"submit\"][title=\"Update Cart\"]'",116],",",["T_WHITESPACE","\n            ",116],["T_LNUMBER","1",117],",",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$response",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getBody",118],"(",")",",",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'Response for bundle product doesn\\'t contain \"Update Cart\" button'",119],["T_WHITESPACE","\n        ",119],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Test for \\Magento\\Checkout\\Controller\\Cart::configureAction() with downloadable product\n     *\n     * @magentoDataFixture Magento\/Checkout\/_files\/quote_with_downloadable_product.php\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","testConfigureActionWithDownloadableProduct",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_DOC_COMMENT","\/** @var $session \\Magento\\Checkout\\Model\\Session  *\/",130],["T_WHITESPACE","\n        ",130],["T_VARIABLE","$session",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_objectManager",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","create",131],"(",["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Checkout",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Model",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Session",131],["T_DOUBLE_COLON","::",131],["T_CLASS","class",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",133],["T_WHITESPACE","\n        ",133],["T_VARIABLE","$productRepository",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_objectManager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","create",134],"(",["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Catalog",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Api",134],["T_NS_SEPARATOR","\\",134],["T_STRING","ProductRepositoryInterface",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],")",";",["T_WHITESPACE","\n        ",134],["T_DOC_COMMENT","\/** @var $product \\Magento\\Catalog\\Model\\Product *\/",135],["T_WHITESPACE","\n        ",135],["T_VARIABLE","$product",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$productRepository",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",["T_CONSTANT_ENCAPSED_STRING","'downloadable-product'",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$quoteItem",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_getQuoteItemIdByProductId",138],"(",["T_VARIABLE","$session",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getQuote",138],"(",")",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$product",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getId",138],"(",")",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertNotNull",139],"(",["T_VARIABLE","$quoteItem",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Cannot get quote item for downloadable product'",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","dispatch",141],"(",["T_WHITESPACE","\n            ",141],["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart\/configure\/id\/'",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$quoteItem",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getId",142],"(",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\/product_id\/'",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$quoteItem",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getProduct",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getId",142],"(",")",["T_WHITESPACE","\n        ",142],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$response",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getResponse",144],"(",")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertSessionMessages",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","isEmpty",146],"(",")",",",["T_WHITESPACE"," ",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Framework",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Message",146],["T_NS_SEPARATOR","\\",146],["T_STRING","MessageInterface",146],["T_DOUBLE_COLON","::",146],["T_STRING","TYPE_ERROR",146],")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertSelectCount",148],"(",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","'button[type=\"submit\"][title=\"Update Cart\"]'",149],",",["T_WHITESPACE","\n            ",149],["T_LNUMBER","1",150],",",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$response",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getBody",151],"(",")",",",["T_WHITESPACE","\n            ",151],["T_CONSTANT_ENCAPSED_STRING","'Response for downloadable product doesn\\'t contain \"Update Cart\" button'",152],["T_WHITESPACE","\n        ",152],")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertSelectCount",155],"(",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'#downloadable-links-list'",156],",",["T_WHITESPACE","\n            ",156],["T_LNUMBER","1",157],",",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$response",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getBody",158],"(",")",",",["T_WHITESPACE","\n            ",158],["T_CONSTANT_ENCAPSED_STRING","'Response for downloadable product doesn\\'t contain links for download'",159],["T_WHITESPACE","\n        ",159],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDataFixture Magento\/Checkout\/_files\/quote_with_simple_product.php\n     * @magentoAppIsolation enabled\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","testUpdatePostAction",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",170],["T_WHITESPACE","\n        ",170],["T_VARIABLE","$productRepository",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_objectManager",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","create",171],"(",["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Catalog",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Api",171],["T_NS_SEPARATOR","\\",171],["T_STRING","ProductRepositoryInterface",171],["T_DOUBLE_COLON","::",171],["T_CLASS","class",171],")",";",["T_WHITESPACE","\n        ",171],["T_DOC_COMMENT","\/** @var $product \\Magento\\Catalog\\Model\\Product *\/",172],["T_WHITESPACE","\n        ",172],["T_VARIABLE","$product",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$productRepository",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","get",173],"(",["T_CONSTANT_ENCAPSED_STRING","'simple'",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_DOC_COMMENT","\/** Preconditions *\/",175],["T_WHITESPACE","\n        ",175],["T_VARIABLE","$customerFromFixture",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","1",176],";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$productId",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$product",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getId",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$originalQuantity",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","1",178],";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$updatedQuantity",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_LNUMBER","2",179],";",["T_WHITESPACE","\n        ",179],["T_DOC_COMMENT","\/** @var $checkoutSession \\Magento\\Checkout\\Model\\Session  *\/",180],["T_WHITESPACE","\n        ",180],["T_VARIABLE","$checkoutSession",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_objectManager",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","create",181],"(",["T_NS_SEPARATOR","\\",181],["T_STRING","Magento",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Checkout",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Model",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Session",181],["T_DOUBLE_COLON","::",181],["T_CLASS","class",181],")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$quoteItem",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_getQuoteItemIdByProductId",182],"(",["T_VARIABLE","$checkoutSession",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getQuote",182],"(",")",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$productId",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Data\\Form\\FormKey $formKey *\/",184],["T_WHITESPACE","\n        ",184],["T_VARIABLE","$formKey",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_objectManager",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","get",185],"(",["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Framework",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Data",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Form",185],["T_NS_SEPARATOR","\\",185],["T_STRING","FormKey",185],["T_DOUBLE_COLON","::",185],["T_CLASS","class",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$postData",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"[",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'cart'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],"[",["T_VARIABLE","$quoteItem",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getId",187],"(",")",["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$updatedQuantity",187],"]","]",",",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","'update_cart_action'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'update_qty'",188],",",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'form_key'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$formKey",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getFormKey",189],"(",")",",",["T_WHITESPACE","\n        ",189],"]",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getRequest",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","setPostValue",191],"(",["T_VARIABLE","$postData",191],")",";",["T_WHITESPACE","\n        ",191],["T_DOC_COMMENT","\/** @var $customerSession \\Magento\\Customer\\Model\\Session *\/",192],["T_WHITESPACE","\n        ",192],["T_VARIABLE","$customerSession",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_objectManager",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","create",193],"(",["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Customer",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Model",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Session",193],["T_DOUBLE_COLON","::",193],["T_CLASS","class",193],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$customerSession",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setCustomerId",194],"(",["T_VARIABLE","$customerFromFixture",194],")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertNotNull",196],"(",["T_VARIABLE","$quoteItem",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'Cannot get quote item for simple product'",196],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertEquals",197],"(",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$originalQuantity",198],",",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$quoteItem",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getQty",199],"(",")",",",["T_WHITESPACE","\n            ",199],["T_CONSTANT_ENCAPSED_STRING","\"Precondition failed: invalid quote item quantity\"",200],["T_WHITESPACE","\n        ",200],")",";",["T_WHITESPACE","\n\n        ",201],["T_DOC_COMMENT","\/** Execute SUT *\/",203],["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","dispatch",204],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart\/updatePost'",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_DOC_COMMENT","\/** Check results *\/",206],["T_WHITESPACE","\n        ",206],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",207],["T_WHITESPACE","\n        ",207],["T_VARIABLE","$quote",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_objectManager",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","create",208],"(",["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Quote",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Model",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Quote",208],["T_DOUBLE_COLON","::",208],["T_CLASS","class",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$quote",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","load",209],"(",["T_VARIABLE","$checkoutSession",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getQuote",209],"(",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","getId",209],"(",")",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$quoteItem",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_getQuoteItemIdByProductId",210],"(",["T_VARIABLE","$quote",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$product",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getId",210],"(",")",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEquals",211],"(",["T_VARIABLE","$updatedQuantity",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$quoteItem",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getQty",211],"(",")",",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","\"Invalid quote item quantity\"",211],")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Gets \\Magento\\Quote\\Model\\Quote\\Item from \\Magento\\Quote\\Model\\Quote by product id\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param $productId\n     * @return \\Magento\\Quote\\Model\\Quote\\Item|null\n     *\/",214],["T_WHITESPACE","\n    ",220],["T_PRIVATE","private",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","_getQuoteItemIdByProductId",221],"(",["T_VARIABLE","$quote",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$productId",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_DOC_COMMENT","\/** @var $quoteItems \\Magento\\Quote\\Model\\Quote\\Item[] *\/",223],["T_WHITESPACE","\n        ",223],["T_VARIABLE","$quoteItems",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$quote",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getAllItems",224],"(",")",";",["T_WHITESPACE","\n        ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$quoteItems",225],["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$quoteItem",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$productId",226],["T_WHITESPACE"," ",226],["T_IS_EQUAL","==",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$quoteItem",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getProductId",226],"(",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$quoteItem",227],";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_STRING","null",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Test for \\Magento\\Checkout\\Controller\\Cart::execute() with simple product\n     *\n     * @param string $area\n     * @param string $expectedPrice\n     * @magentoDataFixture Magento\/Catalog\/_files\/products.php\n     * @magentoAppIsolation enabled\n     * @dataProvider addAddProductDataProvider\n     *\/",233],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","testAddToCartSimpleProduct",242],"(",["T_VARIABLE","$area",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$expectedPrice",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$formKey",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_objectManager",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","get",244],"(",["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Framework",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Data",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Form",244],["T_NS_SEPARATOR","\\",244],["T_STRING","FormKey",244],["T_DOUBLE_COLON","::",244],["T_CLASS","class",244],")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$postData",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],"[",["T_WHITESPACE","\n            ",245],["T_CONSTANT_ENCAPSED_STRING","'qty'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'1'",246],",",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'product'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'1'",247],",",["T_WHITESPACE","\n            ",247],["T_CONSTANT_ENCAPSED_STRING","'custom_price'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","1",248],",",["T_WHITESPACE","\n            ",248],["T_CONSTANT_ENCAPSED_STRING","'form_key'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$formKey",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getFormKey",249],"(",")",",",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'isAjax'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_LNUMBER","1",250],["T_WHITESPACE","\n        ",250],"]",";",["T_WHITESPACE","\n        ",251],["T_NS_SEPARATOR","\\",252],["T_STRING","Magento",252],["T_NS_SEPARATOR","\\",252],["T_STRING","TestFramework",252],["T_NS_SEPARATOR","\\",252],["T_STRING","Helper",252],["T_NS_SEPARATOR","\\",252],["T_STRING","Bootstrap",252],["T_DOUBLE_COLON","::",252],["T_STRING","getInstance",252],"(",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","loadArea",252],"(",["T_VARIABLE","$area",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getRequest",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","setPostValue",253],"(",["T_VARIABLE","$postData",253],")",";",["T_WHITESPACE","\n\n        ",253],["T_VARIABLE","$quote",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE","  ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_objectManager",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","create",255],"(",["T_NS_SEPARATOR","\\",255],["T_STRING","Magento",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Checkout",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Model",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Cart",255],["T_DOUBLE_COLON","::",255],["T_CLASS","class",255],")",";",["T_WHITESPACE","\n        ",255],["T_DOC_COMMENT","\/** @var \\Magento\\Checkout\\Controller\\Cart\\Add $controller *\/",256],["T_WHITESPACE","\n        ",256],["T_VARIABLE","$controller",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_objectManager",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","create",257],"(",["T_NS_SEPARATOR","\\",257],["T_STRING","Magento",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Checkout",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Controller",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Cart",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Add",257],["T_DOUBLE_COLON","::",257],["T_CLASS","class",257],",",["T_WHITESPACE"," ",257],"[",["T_VARIABLE","$quote",257],"]",")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$controller",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","execute",258],"(",")",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertContains",260],"(",["T_STRING","json_encode",260],"(","[","]",")",",",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getResponse",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getBody",260],"(",")",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$items",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$quote",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getItems",261],"(",")",["T_OBJECT_OPERATOR","->",261],["T_STRING","getItems",261],"(",")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertTrue",262],"(",["T_STRING","is_array",262],"(",["T_VARIABLE","$items",262],")",",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'Quote doesn\\'t have any items'",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertCount",263],"(",["T_LNUMBER","1",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$items",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'Expected quote items not equal to 1'",263],")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$item",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","reset",264],"(",["T_VARIABLE","$items",264],")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertEquals",265],"(",["T_LNUMBER","1",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$item",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getProductId",265],"(",")",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Quote has more than one product'",265],")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","assertEquals",266],"(",["T_VARIABLE","$expectedPrice",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$item",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getPrice",266],"(",")",",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Expected product price failed'",266],")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * Data provider for testAddToCartSimpleProduct\n     *\/",269],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","addAddProductDataProvider",272],"(",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n            ",274],["T_CONSTANT_ENCAPSED_STRING","'frontend'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'expected_price'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_LNUMBER","10",275],"]",",",["T_WHITESPACE","\n            ",275],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],"[",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'expected_price'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_LNUMBER","1",276],"]",["T_WHITESPACE","\n        ",276],"]",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n",278],"}",["T_WHITESPACE","\n",279]]