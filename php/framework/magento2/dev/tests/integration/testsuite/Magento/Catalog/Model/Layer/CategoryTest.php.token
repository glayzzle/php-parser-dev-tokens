[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Layer",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Catalog\\Model\\Layer.\n *\n * @magentoDataFixture Magento\/Catalog\/_files\/categories.php\n * @magentoAppIsolation enabled\n * @magentoDbIsolation enabled\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","CategoryTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\Category\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_model",21],";",["T_WHITESPACE","\n\n    ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE","\n    ",23],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","_model",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestFramework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Helper",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Bootstrap",25],["T_DOUBLE_COLON","::",25],["T_STRING","getObjectManager",25],"(",")",["T_OBJECT_OPERATOR","->",25],["T_STRING","create",25],"(",["T_WHITESPACE","\n            ",25],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Catalog",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Model",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Layer",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Category",26],["T_DOUBLE_COLON","::",26],["T_CLASS","class",26],["T_WHITESPACE","\n        ",26],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","_model",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","setCurrentCategory",28],"(",["T_LNUMBER","4",28],")",";",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n\n    ",29],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testGetStateKey",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertEquals",33],"(",["T_CONSTANT_ENCAPSED_STRING","'STORE_1_CAT_4_CUSTGROUP_0'",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","_model",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getStateKey",33],"(",")",")",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","testGetProductCollection",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_DOC_COMMENT","\/** @var $collection \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection *\/",38],["T_WHITESPACE","\n        ",38],["T_VARIABLE","$collection",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_model",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getProductCollection",39],"(",")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertInstanceOf",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Catalog",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Model",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ResourceModel",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Product",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Collection",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$collection",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$ids",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$collection",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getAllIds",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEquals",42],"(",["T_LNUMBER","2",42],",",["T_WHITESPACE"," ",42],["T_STRING","count",42],"(",["T_VARIABLE","$ids",42],")",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertSame",43],"(",["T_VARIABLE","$collection",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_model",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getProductCollection",43],"(",")",")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testApply",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_model",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getState",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","addFilter",48],"(",["T_WHITESPACE","\n            ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","TestFramework",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Helper",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Bootstrap",49],["T_DOUBLE_COLON","::",49],["T_STRING","getObjectManager",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","create",49],"(",["T_WHITESPACE","\n                ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Catalog",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Layer",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Filter",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Item",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],",",["T_WHITESPACE","\n                ",50],"[",["T_WHITESPACE","\n                    ",51],["T_CONSTANT_ENCAPSED_STRING","'data'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n                        ",52],["T_CONSTANT_ENCAPSED_STRING","'filter'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","TestFramework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Helper",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Bootstrap",53],["T_DOUBLE_COLON","::",53],["T_STRING","getObjectManager",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","create",53],"(",["T_WHITESPACE","\n                            ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Catalog",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Layer",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Filter",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Category",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],",",["T_WHITESPACE","\n                            ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'layer'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_model",55],"]",["T_WHITESPACE","\n                        ",55],")",",",["T_WHITESPACE","\n                        ",56],["T_CONSTANT_ENCAPSED_STRING","'value'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'expected-value-string'",57],",",["T_WHITESPACE","\n                    ",57],"]",["T_WHITESPACE","\n                ",58],"]",["T_WHITESPACE","\n            ",59],")",["T_WHITESPACE","\n        ",60],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","addFilter",61],"(",["T_WHITESPACE","\n            ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","TestFramework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Helper",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Bootstrap",62],["T_DOUBLE_COLON","::",62],["T_STRING","getObjectManager",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","create",62],"(",["T_WHITESPACE","\n                ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Catalog",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Layer",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Filter",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Item",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],",",["T_WHITESPACE","\n                ",63],"[",["T_WHITESPACE","\n                    ",64],["T_CONSTANT_ENCAPSED_STRING","'data'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],"[",["T_WHITESPACE","\n                        ",65],["T_CONSTANT_ENCAPSED_STRING","'filter'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","TestFramework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Helper",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Bootstrap",66],["T_DOUBLE_COLON","::",66],["T_STRING","getObjectManager",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","create",66],"(",["T_WHITESPACE","\n                            ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Catalog",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Model",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Layer",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Filter",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Decimal",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],",",["T_WHITESPACE","\n                            ",67],"[",["T_CONSTANT_ENCAPSED_STRING","'layer'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_model",68],"]",["T_WHITESPACE","\n                        ",68],")",",",["T_WHITESPACE","\n                        ",69],["T_CONSTANT_ENCAPSED_STRING","'value'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_LNUMBER","1234",70],",",["T_WHITESPACE","\n                    ",70],"]",["T_WHITESPACE","\n                ",71],"]",["T_WHITESPACE","\n            ",72],")",["T_WHITESPACE","\n        ",73],")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_model",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","apply",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEquals",77],"(",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'STORE_1_CAT_4_CUSTGROUP_0_cat_expected-value-string_decimal_1234'",78],",",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_model",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getStateKey",79],"(",")",["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_model",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","apply",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEquals",83],"(",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'STORE_1_CAT_4_CUSTGROUP_0_cat_expected-value-string_decimal_1234_cat_expected-value-string_decimal_1234'",84],",",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_model",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getStateKey",85],"(",")",["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testGetSetCurrentCategory",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$existingCategory",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","TestFramework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Helper",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Bootstrap",91],["T_DOUBLE_COLON","::",91],["T_STRING","getObjectManager",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","create",91],"(",["T_WHITESPACE","\n            ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Catalog",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Model",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Category",92],["T_DOUBLE_COLON","::",92],["T_CLASS","class",92],["T_WHITESPACE","\n        ",92],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$existingCategory",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","load",94],"(",["T_LNUMBER","5",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_COMMENT","\/* Category object *\/",96],["T_WHITESPACE","\n        ",96],["T_DOC_COMMENT","\/** @var $model \\Magento\\Catalog\\Model\\Layer *\/",97],["T_WHITESPACE","\n        ",97],["T_VARIABLE","$model",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","TestFramework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Helper",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Bootstrap",98],["T_DOUBLE_COLON","::",98],["T_STRING","getObjectManager",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","create",98],"(",["T_WHITESPACE","\n            ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Catalog",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Layer",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Category",99],["T_DOUBLE_COLON","::",99],["T_CLASS","class",99],["T_WHITESPACE","\n        ",99],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$model",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setCurrentCategory",101],"(",["T_VARIABLE","$existingCategory",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertSame",102],"(",["T_VARIABLE","$existingCategory",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$model",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getCurrentCategory",102],"(",")",")",";",["T_WHITESPACE","\n\n        ",102],["T_COMMENT","\/* Category id *\/",104],["T_WHITESPACE","\n        ",104],["T_VARIABLE","$model",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","TestFramework",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Helper",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Bootstrap",105],["T_DOUBLE_COLON","::",105],["T_STRING","getObjectManager",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","create",105],"(",["T_WHITESPACE","\n            ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Catalog",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Model",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Layer",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Category",106],["T_DOUBLE_COLON","::",106],["T_CLASS","class",106],["T_WHITESPACE","\n        ",106],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$model",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setCurrentCategory",108],"(",["T_LNUMBER","3",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$actualCategory",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$model",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCurrentCategory",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertInstanceOf",110],"(",["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Catalog",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Category",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$actualCategory",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEquals",111],"(",["T_LNUMBER","3",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$actualCategory",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getId",111],"(",")",")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertSame",112],"(",["T_VARIABLE","$actualCategory",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$model",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getCurrentCategory",112],"(",")",")",";",["T_WHITESPACE","\n\n        ",112],["T_COMMENT","\/* Category in registry *\/",114],["T_WHITESPACE","\n        ",114],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",115],["T_WHITESPACE","\n        ",115],["T_VARIABLE","$objectManager",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","TestFramework",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Helper",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Bootstrap",116],["T_DOUBLE_COLON","::",116],["T_STRING","getObjectManager",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$objectManager",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","get",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Framework",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Registry",117],["T_DOUBLE_COLON","::",117],["T_CLASS","class",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","register",117],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$existingCategory",117],")",";",["T_WHITESPACE","\n        ",117],["T_TRY","try",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$model",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","TestFramework",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Helper",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Bootstrap",119],["T_DOUBLE_COLON","::",119],["T_STRING","getObjectManager",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","create",119],"(",["T_WHITESPACE","\n                ",119],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Catalog",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Model",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Layer",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Category",120],["T_DOUBLE_COLON","::",120],["T_CLASS","class",120],["T_WHITESPACE","\n            ",120],")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertSame",122],"(",["T_VARIABLE","$existingCategory",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$model",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getCurrentCategory",122],"(",")",")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$objectManager",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Framework",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Registry",123],["T_DOUBLE_COLON","::",123],["T_CLASS","class",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","unregister",123],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",123],")",";",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertSame",124],"(",["T_VARIABLE","$existingCategory",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$model",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getCurrentCategory",124],"(",")",")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE"," ",125],["T_CATCH","catch",125],["T_WHITESPACE"," ",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Exception",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$e",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$objectManager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","get",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Framework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Registry",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","unregister",126],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",126],")",";",["T_WHITESPACE","\n            ",126],["T_THROW","throw",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$e",127],";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_TRY","try",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$model",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","TestFramework",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Helper",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Bootstrap",131],["T_DOUBLE_COLON","::",131],["T_STRING","getObjectManager",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","create",131],"(",["T_WHITESPACE","\n                ",131],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Catalog",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Model",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Layer",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Category",132],["T_DOUBLE_COLON","::",132],["T_CLASS","class",132],["T_WHITESPACE","\n            ",132],")",";",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$model",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setCurrentCategory",134],"(",["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Framework",134],["T_NS_SEPARATOR","\\",134],["T_STRING","DataObject",134],"(",")",")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","fail",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Assign category of invalid class.'",135],")",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE"," ",136],["T_CATCH","catch",136],["T_WHITESPACE"," ",136],"(",["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Exception",136],["T_NS_SEPARATOR","\\",136],["T_STRING","LocalizedException",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$e",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_TRY","try",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$model",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","TestFramework",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Helper",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Bootstrap",140],["T_DOUBLE_COLON","::",140],["T_STRING","getObjectManager",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","create",140],"(",["T_WHITESPACE","\n                ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Catalog",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Model",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Layer",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Category",141],["T_DOUBLE_COLON","::",141],["T_CLASS","class",141],["T_WHITESPACE","\n            ",141],")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$model",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setCurrentCategory",143],"(",["T_WHITESPACE","\n                ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","TestFramework",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Helper",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Bootstrap",144],["T_DOUBLE_COLON","::",144],["T_STRING","getObjectManager",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","create",144],"(",["T_WHITESPACE","\n                    ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Catalog",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Model",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Category",145],["T_DOUBLE_COLON","::",145],["T_CLASS","class",145],["T_WHITESPACE","\n                ",145],")",["T_WHITESPACE","\n            ",146],")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","fail",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Assign category with invalid id.'",148],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE"," ",149],["T_CATCH","catch",149],["T_WHITESPACE"," ",149],"(",["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Framework",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Exception",149],["T_NS_SEPARATOR","\\",149],["T_STRING","LocalizedException",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$e",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","testGetCurrentStore",153],"(",")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertSame",155],"(",["T_WHITESPACE","\n            ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","TestFramework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Helper",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Bootstrap",156],["T_DOUBLE_COLON","::",156],["T_STRING","getObjectManager",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","get",156],"(",["T_WHITESPACE","\n                ",156],["T_NS_SEPARATOR","\\",157],["T_STRING","Magento",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Store",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Model",157],["T_NS_SEPARATOR","\\",157],["T_STRING","StoreManagerInterface",157],["T_DOUBLE_COLON","::",157],["T_CLASS","class",157],["T_WHITESPACE","\n            ",157],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getStore",158],"(",")",",",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_model",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getCurrentStore",159],"(",")",["T_WHITESPACE","\n        ",159],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testGetState",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$state",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_model",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getState",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertInstanceOf",166],"(",["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Catalog",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Model",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Layer",166],["T_NS_SEPARATOR","\\",166],["T_STRING","State",166],["T_DOUBLE_COLON","::",166],["T_CLASS","class",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$state",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertSame",167],"(",["T_VARIABLE","$state",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_model",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getState",167],"(",")",")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$state",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","TestFramework",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Helper",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Bootstrap",169],["T_DOUBLE_COLON","::",169],["T_STRING","getObjectManager",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","create",169],"(",["T_WHITESPACE","\n            ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Catalog",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Model",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Layer",170],["T_NS_SEPARATOR","\\",170],["T_STRING","State",170],["T_DOUBLE_COLON","::",170],["T_CLASS","class",170],["T_WHITESPACE","\n        ",170],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_model",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","setState",172],"(",["T_VARIABLE","$state",172],")",";",["T_WHITESPACE","\n        ",172],["T_COMMENT","\/\/ $this->_model->setData('state', state);\n",173],["T_WHITESPACE","        ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertSame",174],"(",["T_VARIABLE","$state",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_model",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getState",174],"(",")",")",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n",175],"}",["T_WHITESPACE","\n",176]]