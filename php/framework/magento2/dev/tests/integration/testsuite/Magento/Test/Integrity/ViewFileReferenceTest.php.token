[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Test constructions of layout files\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * This test finds usages of modular view files, searched in non-modular context - it is obsolete and buggy\n * functionality, initially introduced in Magento 2.\n *\n * The test goes through modular calls of view files, and finds out, whether there are theme non-modular files\n * with the same path. Before fixing the bug, such call return theme files instead of  modular files, which is\n * incorrect. After fixing the bug, such calls will start returning modular files, which is not a file we got used\n * to see, so such cases are probably should be fixed. The test finds such suspicious places.\n *\n * The test is intended to be deleted before Magento 2 release. With the release, having non-modular files with the\n * same paths as modular ones, is legitimate.\n *\/",9],["T_WHITESPACE","\n",20],["T_NAMESPACE","namespace",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Test",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Integrity",21],";",["T_WHITESPACE","\n\n",21],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Framework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ComponentRegistrar",23],";",["T_WHITESPACE","\n\n",23],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",25],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","ViewFileReferenceTest",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","PHPUnit_Framework_TestCase",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\Fallback\\Rule\\RuleInterface\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_STATIC","static",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_fallbackRule",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\StaticFile\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_STATIC","static",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_viewFilesFallback",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\File\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_STATIC","static",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_filesFallback",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_STATIC","static",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_checkThemeLocales",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Theme\\Model\\Theme\\Collection\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_STATIC","static",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_themeCollection",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Component\\ComponentRegistrar\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_STATIC","static",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_componentRegistrar",58],";",["T_WHITESPACE","\n\n    ",58],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_STATIC","static",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","setUpBeforeClass",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$objectManager",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","TestFramework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Helper",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Bootstrap",62],["T_DOUBLE_COLON","::",62],["T_STRING","getObjectManager",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$objectManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","configure",63],"(",["T_WHITESPACE","\n            ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'preferences'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Theme",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Theme",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Theme",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Theme",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Data",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],"]","]",["T_WHITESPACE","\n        ",64],")",";",["T_WHITESPACE","\n\n        ",65],["T_STRING","self",67],["T_DOUBLE_COLON","::",67],["T_VARIABLE","$_componentRegistrar",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$objectManager",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","get",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Component",67],["T_NS_SEPARATOR","\\",67],["T_STRING","ComponentRegistrar",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_DOC_COMMENT","\/** @var $fallbackPool \\Magento\\Framework\\View\\Design\\Fallback\\RulePool *\/",69],["T_WHITESPACE","\n        ",69],["T_VARIABLE","$fallbackPool",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$objectManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","get",70],"(",["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","View",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Design",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Fallback",70],["T_NS_SEPARATOR","\\",70],["T_STRING","RulePool",70],["T_DOUBLE_COLON","::",70],["T_CLASS","class",70],")",";",["T_WHITESPACE","\n        ",70],["T_STRING","self",71],["T_DOUBLE_COLON","::",71],["T_VARIABLE","$_fallbackRule",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$fallbackPool",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getRule",71],"(",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$fallbackPool",72],["T_DOUBLE_COLON","::",72],["T_STRING","TYPE_STATIC_FILE",72],["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n\n        ",73],["T_STRING","self",75],["T_DOUBLE_COLON","::",75],["T_VARIABLE","$_viewFilesFallback",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$objectManager",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_WHITESPACE","\n            ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Framework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","View",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Design",76],["T_NS_SEPARATOR","\\",76],["T_STRING","FileResolution",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Fallback",76],["T_NS_SEPARATOR","\\",76],["T_STRING","StaticFile",76],["T_DOUBLE_COLON","::",76],["T_CLASS","class",76],["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n        ",77],["T_STRING","self",78],["T_DOUBLE_COLON","::",78],["T_VARIABLE","$_filesFallback",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$objectManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","View",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Design",78],["T_NS_SEPARATOR","\\",78],["T_STRING","FileResolution",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Fallback",78],["T_NS_SEPARATOR","\\",78],["T_STRING","File",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_COMMENT","\/\/ Themes to be checked\n",80],["T_WHITESPACE","        ",81],["T_STRING","self",81],["T_DOUBLE_COLON","::",81],["T_VARIABLE","$_themeCollection",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$objectManager",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Theme",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Model",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Theme",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Collection",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],")",";",["T_WHITESPACE","\n\n        ",81],["T_COMMENT","\/\/ Compose list of locales, needed to be checked for themes\n",83],["T_WHITESPACE","        ",84],["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_VARIABLE","$_checkThemeLocales",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[","]",";",["T_WHITESPACE","\n        ",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_VARIABLE","$_themeCollection",85],["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$theme",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$themeLocales",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","self",86],["T_DOUBLE_COLON","::",86],["T_STRING","_getThemeLocales",86],"(",["T_VARIABLE","$theme",86],")",";",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$themeLocales",87],"[","]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","null",87],";",["T_WHITESPACE","\n            ",87],["T_COMMENT","\/\/ Default non-localized file will need to be checked as well\n",88],["T_WHITESPACE","            ",89],["T_STRING","self",89],["T_DOUBLE_COLON","::",89],["T_VARIABLE","$_checkThemeLocales",89],"[",["T_VARIABLE","$theme",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getFullPath",89],"(",")","]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$themeLocales",89],";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Return array of locales, supported by the theme\n     *\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $theme\n     * @return array\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_STATIC","static",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","_getThemeLocales",99],"(",["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","View",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Design",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ThemeInterface",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$theme",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$result",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[","]",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$patternDir",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","self",102],["T_DOUBLE_COLON","::",102],["T_STRING","_getLocalePatternDir",102],"(",["T_VARIABLE","$theme",102],")",";",["T_WHITESPACE","\n        ",102],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_NS_SEPARATOR","\\",103],["T_STRING","ResourceBundle",103],["T_DOUBLE_COLON","::",103],["T_STRING","getLocales",103],"(",["T_CONSTANT_ENCAPSED_STRING","''",103],")",["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$locale",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$dir",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","str_replace",104],"(",["T_CONSTANT_ENCAPSED_STRING","'<locale_placeholder>'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$locale",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$patternDir",104],")",";",["T_WHITESPACE","\n            ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_STRING","is_dir",105],"(",["T_VARIABLE","$dir",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$result",106],"[","]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$locale",106],";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$result",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Return pattern for theme locale directories, where <locale_placeholder> is placed to mark a locale's location.\n     *\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $theme\n     * @return string\n     * @throws \\Exception\n     *\/",112],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_STATIC","static",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","_getLocalePatternDir",119],"(",["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Framework",119],["T_NS_SEPARATOR","\\",119],["T_STRING","View",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Design",119],["T_NS_SEPARATOR","\\",119],["T_STRING","ThemeInterface",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$theme",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$localePlaceholder",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'<locale_placeholder>'",121],";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$params",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$theme",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getArea",122],"(",")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'theme'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$theme",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'locale'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$localePlaceholder",122],"]",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$patternDirs",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","self",123],["T_DOUBLE_COLON","::",123],["T_VARIABLE","$_fallbackRule",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getPatternDirs",123],"(",["T_VARIABLE","$params",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$themePath",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE","  ",124],["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_VARIABLE","$_componentRegistrar",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getPath",124],"(",["T_WHITESPACE","\n            ",124],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Framework",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Component",125],["T_NS_SEPARATOR","\\",125],["T_STRING","ComponentRegistrar",125],["T_DOUBLE_COLON","::",125],["T_STRING","THEME",125],",",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$theme",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getFullPath",126],"(",")",["T_WHITESPACE","\n        ",126],")",";",["T_WHITESPACE","\n        ",127],["T_FOREACH","foreach",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$patternDirs",128],["T_WHITESPACE"," ",128],["T_AS","as",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$patternDir",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$patternPath",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$patternDir",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'\/'",129],";",["T_WHITESPACE","\n            ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(","(",["T_STRING","strpos",130],"(",["T_VARIABLE","$patternPath",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$themePath",130],")",["T_WHITESPACE"," ",130],["T_IS_NOT_IDENTICAL","!==",130],["T_WHITESPACE"," ",130],["T_STRING","false",130],")",["T_WHITESPACE"," ",130],["T_COMMENT","\/\/ It is theme's directory\n",130],["T_WHITESPACE","                ",131],["T_BOOLEAN_AND","&&",131],["T_WHITESPACE"," ",131],"(",["T_STRING","strpos",131],"(",["T_VARIABLE","$patternPath",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$localePlaceholder",131],")",["T_WHITESPACE"," ",131],["T_IS_NOT_IDENTICAL","!==",131],["T_WHITESPACE"," ",131],["T_STRING","false",131],")",["T_WHITESPACE"," ",131],["T_COMMENT","\/\/ It is localized directory\n",131],["T_WHITESPACE","            ",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$patternDir",133],";",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n        ",135],["T_THROW","throw",136],["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Exception",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to determine theme locale path'",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * @param string $modularCall\n     * @param array $usages\n     * @param null|string $area\n     * @dataProvider modularFallbackDataProvider\n     *\/",139],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","testModularFallback",145],"(",["T_VARIABLE","$modularCall",145],",",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$usages",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$area",145],")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_LIST","list",147],"(",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$file",147],")",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","explode",147],"(",["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Framework",147],["T_NS_SEPARATOR","\\",147],["T_STRING","View",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Asset",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Repository",147],["T_DOUBLE_COLON","::",147],["T_STRING","FILE_ID_SEPARATOR",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$modularCall",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$wrongResolutions",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[","]",";",["T_WHITESPACE","\n        ",149],["T_FOREACH","foreach",150],["T_WHITESPACE"," ",150],"(",["T_STRING","self",150],["T_DOUBLE_COLON","::",150],["T_VARIABLE","$_themeCollection",150],["T_WHITESPACE"," ",150],["T_AS","as",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$theme",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$area",151],["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$theme",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getArea",151],"(",")",["T_WHITESPACE"," ",151],["T_IS_NOT_EQUAL","!=",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$area",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_CONTINUE","continue",152],";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n\n            ",153],["T_VARIABLE","$found",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_getFileResolutions",155],"(",["T_VARIABLE","$theme",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$file",155],")",";",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$wrongResolutions",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","array_merge",156],"(",["T_VARIABLE","$wrongResolutions",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$found",156],")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$wrongResolutions",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_COMMENT","\/\/ If file is found, then old functionality (find modular files in non-modular locations) is used\n",160],["T_WHITESPACE","            ",161],["T_VARIABLE","$message",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","sprintf",161],"(",["T_WHITESPACE","\n                ",161],["T_CONSTANT_ENCAPSED_STRING","\"Found modular call:\\n  %s in\\n  %s\\n  which may resolve to non-modular location(s):\\n  %s\"",162],",",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$modularCall",163],",",["T_WHITESPACE","\n                ",163],["T_STRING","implode",164],"(",["T_CONSTANT_ENCAPSED_STRING","', '",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$usages",164],")",",",["T_WHITESPACE","\n                ",164],["T_STRING","implode",165],"(",["T_CONSTANT_ENCAPSED_STRING","', '",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$wrongResolutions",165],")",["T_WHITESPACE","\n            ",165],")",";",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","fail",167],"(",["T_VARIABLE","$message",167],")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Resolves file to find its fallback'ed paths\n     *\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $theme\n     * @param string $file\n     * @return array\n     *\/",171],["T_WHITESPACE","\n    ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","_getFileResolutions",178],"(",["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Framework",178],["T_NS_SEPARATOR","\\",178],["T_STRING","View",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Design",178],["T_NS_SEPARATOR","\\",178],["T_STRING","ThemeInterface",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$theme",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$file",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$found",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],"[","]",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$fileResolved",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_VARIABLE","$_filesFallback",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getFile",181],"(",["T_VARIABLE","$theme",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getArea",181],"(",")",",",["T_WHITESPACE"," ",181],["T_VARIABLE","$theme",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$file",181],")",";",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_STRING","file_exists",182],"(",["T_VARIABLE","$fileResolved",182],")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$found",183],"[",["T_VARIABLE","$fileResolved",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$fileResolved",183],";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_FOREACH","foreach",186],["T_WHITESPACE"," ",186],"(",["T_STRING","self",186],["T_DOUBLE_COLON","::",186],["T_VARIABLE","$_checkThemeLocales",186],"[",["T_VARIABLE","$theme",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getFullPath",186],"(",")","]",["T_WHITESPACE"," ",186],["T_AS","as",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$locale",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$fileResolved",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","self",187],["T_DOUBLE_COLON","::",187],["T_VARIABLE","$_viewFilesFallback",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getFile",187],"(",["T_VARIABLE","$theme",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getArea",187],"(",")",",",["T_WHITESPACE"," ",187],["T_VARIABLE","$theme",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$locale",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$file",187],")",";",["T_WHITESPACE","\n            ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_STRING","file_exists",188],"(",["T_VARIABLE","$fileResolved",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                ",188],["T_VARIABLE","$found",189],"[",["T_VARIABLE","$fileResolved",189],"]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$fileResolved",189],";",["T_WHITESPACE","\n            ",189],"}",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$found",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",195],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_STATIC","static",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","modularFallbackDataProvider",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$result",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"[","]",";",["T_WHITESPACE","\n        ",200],["T_FOREACH","foreach",201],["T_WHITESPACE"," ",201],"(",["T_STRING","self",201],["T_DOUBLE_COLON","::",201],["T_STRING","_getFilesToProcess",201],"(",")",["T_WHITESPACE"," ",201],["T_AS","as",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$file",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$file",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING_CAST","(string)",202],["T_VARIABLE","$file",202],";",["T_WHITESPACE","\n\n            ",202],["T_VARIABLE","$modulePattern",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'[A-Z][a-z]+_[A-Z][a-z]+'",204],";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$filePattern",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'[[:alnum:]_\/-]+\\\\.[[:alnum:]_.\/-]+'",205],";",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$pattern",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'#'",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$modulePattern",206],["T_WHITESPACE","\n                ",206],".",["T_WHITESPACE"," ",207],["T_STRING","preg_quote",207],"(",["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Framework",207],["T_NS_SEPARATOR","\\",207],["T_STRING","View",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Asset",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Repository",207],["T_DOUBLE_COLON","::",207],["T_STRING","FILE_ID_SEPARATOR",207],")",["T_WHITESPACE","\n                ",207],".",["T_WHITESPACE"," ",208],["T_VARIABLE","$filePattern",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'#S'",208],";",["T_WHITESPACE","\n            ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_STRING","preg_match_all",209],"(",["T_VARIABLE","$pattern",209],",",["T_WHITESPACE"," ",209],["T_STRING","file_get_contents",209],"(",["T_VARIABLE","$file",209],")",",",["T_WHITESPACE"," ",209],["T_VARIABLE","$matches",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_CONTINUE","continue",210],";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n\n            ",211],["T_VARIABLE","$area",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","self",213],["T_DOUBLE_COLON","::",213],["T_STRING","_getArea",213],"(",["T_VARIABLE","$file",213],")",";",["T_WHITESPACE","\n\n            ",213],["T_FOREACH","foreach",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$matches",215],"[",["T_LNUMBER","0",215],"]",["T_WHITESPACE"," ",215],["T_AS","as",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$modularCall",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$dataSetKey",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$modularCall",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","' @ '",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$area",216],["T_WHITESPACE"," ",216],"?",":",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'any area'",216],")",";",["T_WHITESPACE","\n\n                ",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_ISSET","isset",218],"(",["T_VARIABLE","$result",218],"[",["T_VARIABLE","$dataSetKey",218],"]",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                    ",218],["T_VARIABLE","$result",219],"[",["T_VARIABLE","$dataSetKey",219],"]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],"[",["T_CONSTANT_ENCAPSED_STRING","'modularCall'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$modularCall",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'usages'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],"[","]",",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'area'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$area",219],"]",";",["T_WHITESPACE","\n                ",219],"}",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$result",221],"[",["T_VARIABLE","$dataSetKey",221],"]","[",["T_CONSTANT_ENCAPSED_STRING","'usages'",221],"]","[",["T_VARIABLE","$file",221],"]",["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$file",221],";",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n        ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$result",224],";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Return list of files, that must be processed, searching for modular calls to view files\n     *\n     * @return array\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_STATIC","static",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","_getFilesToProcess",232],"(",")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$result",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],"[","]",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$componentRegistrar",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Magento",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Framework",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Component",235],["T_NS_SEPARATOR","\\",235],["T_STRING","ComponentRegistrar",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$dirs",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","array_merge",236],"(",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$componentRegistrar",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getPaths",237],"(",["T_STRING","ComponentRegistrar",237],["T_DOUBLE_COLON","::",237],["T_STRING","MODULE",237],")",",",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$componentRegistrar",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getPaths",238],"(",["T_STRING","ComponentRegistrar",238],["T_DOUBLE_COLON","::",238],["T_STRING","THEME",238],")",["T_WHITESPACE","\n        ",238],")",";",["T_WHITESPACE","\n        ",239],["T_FOREACH","foreach",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$dirs",240],["T_WHITESPACE"," ",240],["T_AS","as",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$dir",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$iterator",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_NS_SEPARATOR","\\",241],["T_STRING","RecursiveIteratorIterator",241],"(",["T_WHITESPACE","\n                ",241],["T_NEW","new",242],["T_WHITESPACE"," ",242],["T_NS_SEPARATOR","\\",242],["T_STRING","RecursiveDirectoryIterator",242],"(",["T_VARIABLE","$dir",242],",",["T_WHITESPACE"," ",242],["T_NS_SEPARATOR","\\",242],["T_STRING","RecursiveDirectoryIterator",242],["T_DOUBLE_COLON","::",242],["T_STRING","SKIP_DOTS",242],")",["T_WHITESPACE","\n            ",242],")",";",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$result",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","array_merge",244],"(",["T_VARIABLE","$result",244],",",["T_WHITESPACE"," ",244],["T_STRING","iterator_to_array",244],"(",["T_VARIABLE","$iterator",244],")",")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$result",247],";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Get the area, where file is located.\n     *\n     * Null is returned, if the file is not within an area, e.g. it is a model\/block\/helper php-file.\n     *\n     * @param string $file\n     * @return string|null\n     *\/",250],["T_WHITESPACE","\n    ",257],["T_PROTECTED","protected",258],["T_WHITESPACE"," ",258],["T_STATIC","static",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","_getArea",258],"(",["T_VARIABLE","$file",258],")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$file",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","str_replace",260],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'\/'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$file",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$areaPatterns",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],"[","]",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$componentRegistrar",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_NEW","new",262],["T_WHITESPACE"," ",262],["T_STRING","ComponentRegistrar",262],"(",")",";",["T_WHITESPACE","\n        ",262],["T_FOREACH","foreach",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$componentRegistrar",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getPaths",263],"(",["T_STRING","ComponentRegistrar",263],["T_DOUBLE_COLON","::",263],["T_STRING","THEME",263],")",["T_WHITESPACE"," ",263],["T_AS","as",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$themeDir",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$areaPatterns",264],"[","]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'#'",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_VARIABLE","$themeDir",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'\/([^\/]+)\/#S'",264],";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_FOREACH","foreach",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$componentRegistrar",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getPaths",266],"(",["T_STRING","ComponentRegistrar",266],["T_DOUBLE_COLON","::",266],["T_STRING","MODULE",266],")",["T_WHITESPACE"," ",266],["T_AS","as",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$moduleDir",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$areaPatterns",267],"[","]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'#'",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_VARIABLE","$moduleDir",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'\/view\/([^\/]+)\/#S'",267],";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n        ",268],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$areaPatterns",269],["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$pattern",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_STRING","preg_match",270],"(",["T_VARIABLE","$pattern",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$file",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$matches",270],")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$matches",271],"[",["T_LNUMBER","1",271],"]",";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_STRING","null",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n",275],"}",["T_WHITESPACE","\n",276]]