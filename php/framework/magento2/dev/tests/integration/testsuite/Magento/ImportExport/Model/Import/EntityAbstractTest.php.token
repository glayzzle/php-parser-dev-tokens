[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\ImportExport\\Model\\Import\\AbstractEntity\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Import",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Filesystem",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DirectoryList",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","EntityAbstractTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Test for method _saveValidatedBunches()\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","testSaveValidatedBunches",22],"(",")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$filesystem",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TestFramework",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Helper",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Bootstrap",24],["T_DOUBLE_COLON","::",24],["T_STRING","getObjectManager",24],"(",")",["T_WHITESPACE","\n            ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","create",25],"(",["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Framework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Filesystem",25],["T_DOUBLE_COLON","::",25],["T_CLASS","class",25],")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$directory",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$filesystem",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getDirectoryWrite",26],"(",["T_STRING","DirectoryList",26],["T_DOUBLE_COLON","::",26],["T_STRING","ROOT",26],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$source",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ImportExport",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Model",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Import",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Source",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Csv",27],"(",["T_WHITESPACE","\n            ",27],["T_DIR","__DIR__",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'\/Entity\/_files\/customers_for_validation_test.csv'",28],",",["T_WHITESPACE","\n            ",28],["T_VARIABLE","$directory",29],["T_WHITESPACE","\n        ",29],")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$source",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","rewind",31],"(",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$expected",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$source",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","current",32],"(",")",";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$objectManager",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","TestFramework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Helper",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Bootstrap",34],["T_DOUBLE_COLON","::",34],["T_STRING","getObjectManager",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_DOC_COMMENT","\/** @var $model \\Magento\\ImportExport\\Model\\Import\\AbstractEntity|\\PHPUnit_Framework_MockObject_MockObject *\/",35],["T_WHITESPACE","\n        ",35],["T_VARIABLE","$model",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getMockForAbstractClass",36],"(",["T_WHITESPACE","\n            ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","ImportExport",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Import",37],["T_NS_SEPARATOR","\\",37],["T_STRING","AbstractEntity",37],["T_DOUBLE_COLON","::",37],["T_CLASS","class",37],",",["T_WHITESPACE","\n            ",37],"[",["T_WHITESPACE","\n                ",38],["T_VARIABLE","$objectManager",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Stdlib",39],["T_NS_SEPARATOR","\\",39],["T_STRING","StringUtils",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],")",",",["T_WHITESPACE","\n                ",39],["T_VARIABLE","$objectManager",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","App",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Config",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ScopeConfigInterface",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],")",",",["T_WHITESPACE","\n                ",40],["T_VARIABLE","$objectManager",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ImportExport",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Model",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ImportFactory",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],")",",",["T_WHITESPACE","\n                ",41],["T_VARIABLE","$objectManager",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","ImportExport",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","ResourceModel",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Helper",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],")",",",["T_WHITESPACE","\n                ",42],["T_VARIABLE","$objectManager",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","App",43],["T_NS_SEPARATOR","\\",43],["T_STRING","ResourceConnection",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",",",["T_WHITESPACE","\n                ",43],["T_VARIABLE","$objectManager",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_WHITESPACE","\n                    ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","ImportExport",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Import",45],["T_NS_SEPARATOR","\\",45],["T_STRING","ErrorProcessing",45],["T_NS_SEPARATOR","\\",45],["T_STRING","ProcessingErrorAggregatorInterface",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],["T_WHITESPACE","\n                ",45],")",["T_WHITESPACE","\n            ",46],"]",",",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","''",48],",",["T_WHITESPACE","\n            ",48],["T_STRING","true",49],",",["T_WHITESPACE","\n            ",49],["T_STRING","false",50],",",["T_WHITESPACE","\n            ",50],["T_STRING","true",51],",",["T_WHITESPACE","\n            ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'getMasterAttributeCode'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'validateRow'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'getEntityTypeCode'",52],"]",["T_WHITESPACE","\n        ",52],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$model",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","expects",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","any",54],"(",")",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","method",54],"(",["T_CONSTANT_ENCAPSED_STRING","'getMasterAttributeCode'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","will",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","returnValue",54],"(",["T_CONSTANT_ENCAPSED_STRING","\"email\"",54],")",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$model",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","expects",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","any",55],"(",")",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","method",55],"(",["T_CONSTANT_ENCAPSED_STRING","'validateRow'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","will",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","returnValue",55],"(",["T_STRING","true",55],")",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$model",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","expects",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","any",56],"(",")",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","method",56],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityTypeCode'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","will",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","returnValue",56],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",56],")",")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$model",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setSource",58],"(",["T_VARIABLE","$source",58],")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$method",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","ReflectionMethod",60],"(",["T_VARIABLE","$model",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'_saveValidatedBunches'",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$method",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setAccessible",61],"(",["T_STRING","true",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$method",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","invoke",62],"(",["T_VARIABLE","$model",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_DOC_COMMENT","\/** @var $dataSourceModel \\Magento\\ImportExport\\Model\\ResourceModel\\Import\\Data *\/",64],["T_WHITESPACE","\n        ",64],["T_VARIABLE","$dataSourceModel",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$objectManager",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","get",65],"(",["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","ImportExport",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","ResourceModel",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Import",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Data",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertCount",66],"(",["T_LNUMBER","1",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$dataSourceModel",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getIterator",66],"(",")",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$bunch",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$dataSourceModel",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getNextBunch",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEquals",69],"(",["T_VARIABLE","$expected",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$bunch",69],"[",["T_LNUMBER","0",69],"]",")",";",["T_WHITESPACE","\n\n        ",69],["T_COMMENT","\/\/Delete created bunch from DB\n",71],["T_WHITESPACE","        ",72],["T_VARIABLE","$dataSourceModel",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","cleanBunches",72],"(",")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n",73],"}",["T_WHITESPACE","\n",74]]