[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Test for \\Magento\\Framework\\Filesystem\\File\\Write\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","File",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Bootstrap",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","WriteTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Current file path\n     *\n     * @var string\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$currentFilePath",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Test instance of Write.\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testInstance",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$file",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getFileInstance",26],"(",["T_CONSTANT_ENCAPSED_STRING","'popup.csv'",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'r'",26],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertTrue",27],"(",["T_VARIABLE","$file",27],["T_WHITESPACE"," ",27],["T_INSTANCEOF","instanceof",27],["T_WHITESPACE"," ",27],["T_STRING","ReadInterface",27],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","assertTrue",28],"(",["T_VARIABLE","$file",28],["T_WHITESPACE"," ",28],["T_INSTANCEOF","instanceof",28],["T_WHITESPACE"," ",28],["T_STRING","WriteInterface",28],")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$file",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","close",29],"(",")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Test exceptions on attempt to open existing file with x mode\n     *\n     * @dataProvider fileExistProvider\n     * @param $path\n     * @param $mode\n     * @expectedException \\Magento\\Framework\\Exception\\FileSystemException\n     *\/",32],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testFileExistException",40],"(",["T_VARIABLE","$path",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$mode",40],")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getFileInstance",42],"(",["T_VARIABLE","$path",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$mode",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Data provider for modeProvider\n     *\n     * @return array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","fileExistProvider",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],"[","[",["T_CONSTANT_ENCAPSED_STRING","'popup.csv'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'x'",52],"]",",",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'popup.csv'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'x+'",52],"]","]",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Test for write method\n     *\n     * @dataProvider writeProvider\n     * @param string $path\n     * @param string $mode\n     * @param string $write\n     * @param string $expectedResult\n     *\/",55],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testWriteOnly",64],"(",["T_VARIABLE","$path",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$mode",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$write",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$expectedResult",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$file",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getFileInstance",66],"(",["T_VARIABLE","$path",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$mode",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$result",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$file",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","write",67],"(",["T_VARIABLE","$write",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$file",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","close",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","removeCurrentFile",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_VARIABLE","$expectedResult",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$result",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Data provider for modeProvider\n     *\n     * @return array\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","writeProvider",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n            ",80],"[",["T_CONSTANT_ENCAPSED_STRING","'new1.csv'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'w'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'write check'",81],",",["T_WHITESPACE"," ",81],["T_LNUMBER","11",81],"]",",",["T_WHITESPACE","\n            ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'new3.csv'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'a'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'write check'",82],",",["T_WHITESPACE"," ",82],["T_LNUMBER","11",82],"]",",",["T_WHITESPACE","\n            ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'new5.csv'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'x'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'write check'",83],",",["T_WHITESPACE"," ",83],["T_LNUMBER","11",83],"]",",",["T_WHITESPACE","\n            ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'new7.csv'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'c'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'write check'",84],",",["T_WHITESPACE"," ",84],["T_LNUMBER","11",84],"]",",",["T_WHITESPACE","\n        ",84],"]",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Test for write method\n     *\n     * @dataProvider writeAndReadProvider\n     * @param string $path\n     * @param string $mode\n     * @param string $write\n     * @param string $expectedResult\n     *\/",88],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","testWriteAndRead",97],"(",["T_VARIABLE","$path",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$mode",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$write",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$expectedResult",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$file",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getFileInstance",99],"(",["T_VARIABLE","$path",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$mode",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$result",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$file",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","write",100],"(",["T_VARIABLE","$write",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$file",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","seek",101],"(",["T_LNUMBER","0",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$read",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$file",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","read",102],"(",["T_VARIABLE","$result",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$file",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","close",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","removeCurrentFile",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEquals",105],"(",["T_VARIABLE","$expectedResult",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$result",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEquals",106],"(",["T_VARIABLE","$write",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$read",106],")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Data provider for modeProvider\n     *\n     * @return array\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","writeAndReadProvider",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],"[",["T_WHITESPACE","\n            ",116],"[",["T_CONSTANT_ENCAPSED_STRING","'new2.csv'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'w+'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'write check'",117],",",["T_WHITESPACE"," ",117],["T_LNUMBER","11",117],"]",",",["T_WHITESPACE","\n            ",117],"[",["T_CONSTANT_ENCAPSED_STRING","'new4.csv'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'a+'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'write check'",118],",",["T_WHITESPACE"," ",118],["T_LNUMBER","11",118],"]",",",["T_WHITESPACE","\n            ",118],"[",["T_CONSTANT_ENCAPSED_STRING","'new6.csv'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'x+'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'write check'",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","11",119],"]",",",["T_WHITESPACE","\n            ",119],"[",["T_CONSTANT_ENCAPSED_STRING","'new8.csv'",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'c+'",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'write check'",120],",",["T_WHITESPACE"," ",120],["T_LNUMBER","11",120],"]",",",["T_WHITESPACE","\n        ",120],"]",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Writes one CSV row to the file.\n     *\n     * @dataProvider csvDataProvider\n     * @param array $expectedData\n     * @param string $path\n     * @param array $data\n     * @param string $delimiter\n     * @param string $enclosure\n     *\/",124],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testWriteCsv",134],"(",["T_VARIABLE","$expectedData",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$path",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$data",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$delimiter",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","','",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$enclosure",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'\"'",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$file",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getFileInstance",136],"(",["T_VARIABLE","$path",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'w+'",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$result",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$file",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","writeCsv",137],"(",["T_VARIABLE","$data",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$delimiter",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$enclosure",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$file",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","seek",138],"(",["T_LNUMBER","0",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$read",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$file",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","readCsv",139],"(",["T_VARIABLE","$result",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$delimiter",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$enclosure",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$file",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","close",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","removeCurrentFile",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEquals",142],"(",["T_VARIABLE","$expectedData",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$read",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Data provider for testWriteCsv\n     *\n     * @return array\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","csvDataProvider",150],"(",")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],"[",["T_WHITESPACE","\n            ",152],"[","[",["T_CONSTANT_ENCAPSED_STRING","'field1'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'field2'",153],"]",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'newcsv1.csv'",153],",",["T_WHITESPACE"," ",153],"[",["T_CONSTANT_ENCAPSED_STRING","'field1'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'field2'",153],"]",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","','",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'\"'",153],"]",",",["T_WHITESPACE","\n            ",153],"[","[",["T_CONSTANT_ENCAPSED_STRING","'field1'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'field2'",154],"]",",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'newcsv1.csv'",154],",",["T_WHITESPACE"," ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'field1'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'field2'",154],"]",",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'%'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'@'",154],"]",",",["T_WHITESPACE","\n            ",154],"[","[",["T_CONSTANT_ENCAPSED_STRING","' =field1'",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'field2'",155],"]",",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'newcsv1.csv'",155],",",["T_WHITESPACE"," ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'=field1'",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'field2'",155],"]",",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'%'",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'@'",155],"]",",",["T_WHITESPACE","\n        ",155],"]",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Test for lock and unlock functions\n     *\/",159],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","testLockUnlock",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$file",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getFileInstance",164],"(",["T_CONSTANT_ENCAPSED_STRING","'locked.csv'",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'w+'",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertTrue",165],"(",["T_VARIABLE","$file",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","lock",165],"(",")",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertTrue",166],"(",["T_VARIABLE","$file",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","unlock",166],"(",")",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$file",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","close",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","removeCurrentFile",168],"(",")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Test for flush method\n     *\/",171],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testFlush",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$file",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getFileInstance",176],"(",["T_CONSTANT_ENCAPSED_STRING","'locked.csv'",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'w+'",176],")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertTrue",177],"(",["T_VARIABLE","$file",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","flush",177],"(",")",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$file",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","close",178],"(",")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","removeCurrentFile",179],"(",")",";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Remove current file\n     *\/",182],["T_WHITESPACE","\n    ",184],["T_PRIVATE","private",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","removeCurrentFile",185],"(",")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_STRING","unlink",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","currentFilePath",187],")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Get readable file instance\n     * Get full path for files located in _files directory\n     *\n     * @param string $path\n     * @param string $mode\n     * @return Write\n     *\/",190],["T_WHITESPACE","\n    ",197],["T_PRIVATE","private",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getFileInstance",198],"(",["T_VARIABLE","$path",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$mode",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","currentFilePath",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_DIR","__DIR__",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'\/..\/_files\/'",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_VARIABLE","$path",200],";",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_STRING","Bootstrap",201],["T_DOUBLE_COLON","::",201],["T_STRING","getObjectManager",201],"(",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","create",201],"(",["T_WHITESPACE","\n            ",201],["T_NS_SEPARATOR","\\",202],["T_STRING","Magento",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Framework",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Filesystem",202],["T_NS_SEPARATOR","\\",202],["T_STRING","File",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Write",202],["T_DOUBLE_COLON","::",202],["T_CLASS","class",202],",",["T_WHITESPACE","\n            ",202],"[",["T_WHITESPACE","\n                ",203],["T_CONSTANT_ENCAPSED_STRING","'path'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","currentFilePath",204],",",["T_WHITESPACE","\n                ",204],["T_CONSTANT_ENCAPSED_STRING","'driver'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Magento",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Framework",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Filesystem",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Driver",205],["T_NS_SEPARATOR","\\",205],["T_STRING","File",205],"(",")",",",["T_WHITESPACE","\n                ",205],["T_CONSTANT_ENCAPSED_STRING","'mode'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$mode",206],",",["T_WHITESPACE","\n            ",206],"]",["T_WHITESPACE","\n        ",207],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n",209],"}",["T_WHITESPACE","\n",210]]