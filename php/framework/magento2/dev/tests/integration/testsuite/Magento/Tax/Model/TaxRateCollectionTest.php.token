[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Bootstrap",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","TaxRateCollectionTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_PUBLIC","public",13],["T_WHITESPACE"," ",13],["T_FUNCTION","function",13],["T_WHITESPACE"," ",13],["T_STRING","testCreateTaxRateCollectionItem",13],"(",")",["T_WHITESPACE","\n    ",13],"{",["T_WHITESPACE","\n        ",14],["T_DOC_COMMENT","\/** @var \\Magento\\Tax\\Model\\ResourceModel\\Calculation\\Rate\\Collection $collection *\/",15],["T_WHITESPACE","\n        ",15],["T_VARIABLE","$collection",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_STRING","Bootstrap",16],["T_DOUBLE_COLON","::",16],["T_STRING","getObjectManager",16],"(",")",["T_OBJECT_OPERATOR","->",16],["T_STRING","get",16],"(",["T_WHITESPACE","\n            ",16],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Tax",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ResourceModel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Calculation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Rate",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Collection",17],["T_DOUBLE_COLON","::",17],["T_CLASS","class",17],["T_WHITESPACE","\n        ",17],")",";",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$dbTaxRatesQty",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$collection",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","count",19],"(",")",";",["T_WHITESPACE","\n        ",19],["T_IF","if",20],["T_WHITESPACE"," ",20],"(","(",["T_VARIABLE","$dbTaxRatesQty",20],["T_WHITESPACE"," ",20],["T_IS_EQUAL","==",20],["T_WHITESPACE"," ",20],["T_LNUMBER","0",20],")",["T_WHITESPACE"," ",20],["T_BOOLEAN_OR","||",20],["T_WHITESPACE"," ",20],"(",["T_VARIABLE","$collection",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","getFirstItem",20],"(",")",["T_OBJECT_OPERATOR","->",20],["T_STRING","getId",20],"(",")",["T_WHITESPACE"," ",20],["T_IS_NOT_EQUAL","!=",20],["T_WHITESPACE"," ",20],["T_LNUMBER","1",20],")",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n            ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","fail",21],"(",["T_CONSTANT_ENCAPSED_STRING","\"Preconditions failed.\"",21],")",";",["T_WHITESPACE","\n        ",21],"}",["T_WHITESPACE","\n        ",22],["T_DOC_COMMENT","\/** @var \\Magento\\Tax\\Model\\TaxRateCollection $taxRatesCollection *\/",23],["T_WHITESPACE","\n        ",23],["T_VARIABLE","$taxRatesCollection",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","Bootstrap",24],["T_DOUBLE_COLON","::",24],["T_STRING","getObjectManager",24],"(",")",["T_WHITESPACE","\n            ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","create",25],"(",["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Tax",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TaxRateCollection",25],["T_DOUBLE_COLON","::",25],["T_CLASS","class",25],")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$collectionTaxRatesQty",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$taxRatesCollection",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","count",26],"(",")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertEquals",27],"(",["T_VARIABLE","$dbTaxRatesQty",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$collectionTaxRatesQty",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'Tax rates quantity is invalid.'",27],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$taxRate",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$taxRatesCollection",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getFirstItem",28],"(",")",["T_OBJECT_OPERATOR","->",28],["T_STRING","getData",28],"(",")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$expectedTaxRateData",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'code'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'US-CA-*-Rate 1'",30],",",["T_WHITESPACE","\n            ",30],["T_CONSTANT_ENCAPSED_STRING","'tax_calculation_rate_id'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'1'",31],",",["T_WHITESPACE","\n            ",31],["T_CONSTANT_ENCAPSED_STRING","'rate'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_DNUMBER","8.25",32],",",["T_WHITESPACE","\n            ",32],["T_CONSTANT_ENCAPSED_STRING","'region_name'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'CA'",33],",",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'tax_country_id'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'US'",34],",",["T_WHITESPACE","\n            ",34],["T_CONSTANT_ENCAPSED_STRING","'tax_postcode'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'*'",35],",",["T_WHITESPACE","\n            ",35],["T_CONSTANT_ENCAPSED_STRING","'tax_region_id'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'12'",36],",",["T_WHITESPACE","\n            ",36],["T_CONSTANT_ENCAPSED_STRING","'titles'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],"[","]",",",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'zip_is_range'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_STRING","null",38],",",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","'zip_from'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE","\n            ",39],["T_CONSTANT_ENCAPSED_STRING","'zip_to'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","null",40],",",["T_WHITESPACE","\n        ",40],"]",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEquals",42],"(",["T_VARIABLE","$expectedTaxRateData",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$taxRate",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'Tax rate data is invalid.'",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n",43],"}",["T_WHITESPACE","\n",44]]