[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integration",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InputException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Integration",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Oauth",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Token",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","TokenModel",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestFramework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Bootstrap",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","User",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","User",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","UserModel",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Integration\\Model\\AdminTokenService.\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","AdminTokenServiceTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Api\\AdminTokenServiceInterface\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$tokenService",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var TokenModel\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$tokenModel",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var UserModel\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$userModel",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Setup AdminTokenService\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","setUp",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","tokenService",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","Bootstrap",39],["T_DOUBLE_COLON","::",39],["T_STRING","getObjectManager",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Integration",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","AdminTokenService",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","tokenModel",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","Bootstrap",40],["T_DOUBLE_COLON","::",40],["T_STRING","getObjectManager",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Integration",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Model",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Oauth",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Token",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","userModel",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","Bootstrap",41],["T_DOUBLE_COLON","::",41],["T_STRING","getObjectManager",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","User",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Model",41],["T_NS_SEPARATOR","\\",41],["T_STRING","User",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],")",";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/User\/_files\/user_with_role.php\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testCreateAdminAccessToken",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$adminUserNameFromFixture",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'adminUser'",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$accessToken",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","tokenService",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createAdminAccessToken",50],"(",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$adminUserNameFromFixture",51],",",["T_WHITESPACE","\n            ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","TestFramework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Bootstrap",52],["T_DOUBLE_COLON","::",52],["T_STRING","ADMIN_PASSWORD",52],["T_WHITESPACE","\n        ",52],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$adminUserId",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","userModel",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","loadByUsername",54],"(",["T_VARIABLE","$adminUserNameFromFixture",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getId",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_DOC_COMMENT","\/** @var $token TokenModel *\/",55],["T_WHITESPACE","\n        ",55],["T_VARIABLE","$token",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","tokenModel",56],["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","loadByAdminId",57],"(",["T_VARIABLE","$adminUserId",57],")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","getToken",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEquals",59],"(",["T_VARIABLE","$accessToken",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$token",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @dataProvider validationDataProvider\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testCreateAdminAccessTokenEmptyOrNullCredentials",65],"(",["T_VARIABLE","$username",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$password",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_TRY","try",67],["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","tokenService",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","createAdminAccessToken",68],"(",["T_VARIABLE","$username",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$password",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE"," ",69],["T_CATCH","catch",69],["T_WHITESPACE"," ",69],"(",["T_STRING","InputException",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$e",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertInputExceptionMessages",70],"(",["T_VARIABLE","$e",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\AuthenticationException\n     * @expectedExceptionMessage You did not sign in correctly or your account is temporarily disabled.\n     *\/",74],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testCreateAdminAccessTokenInvalidCustomer",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$adminUserName",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'invalid'",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$password",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'invalid'",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","tokenService",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","createAdminAccessToken",82],"(",["T_VARIABLE","$adminUserName",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$password",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Provider to test input validation\n     *\n     * @return array\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","validationDataProvider",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'Check for empty credentials'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],"[",["T_CONSTANT_ENCAPSED_STRING","''",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","''",93],"]",",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'Check for null credentials'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],"[",["T_STRING","null",94],",",["T_WHITESPACE"," ",94],["T_STRING","null",94],"]",["T_WHITESPACE","\n        ",94],"]",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Assert for presence of Input exception messages\n     *\n     * @param InputException $e\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PRIVATE","private",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","assertInputExceptionMessages",103],"(",["T_VARIABLE","$e",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEquals",105],"(",["T_CONSTANT_ENCAPSED_STRING","'One or more input exceptions have occurred.'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$e",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMessage",105],"(",")",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$errors",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$e",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getErrors",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertCount",107],"(",["T_LNUMBER","2",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$errors",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEquals",108],"(",["T_CONSTANT_ENCAPSED_STRING","'username is a required field.'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$errors",108],"[",["T_LNUMBER","0",108],"]",["T_OBJECT_OPERATOR","->",108],["T_STRING","getLogMessage",108],"(",")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_CONSTANT_ENCAPSED_STRING","'password is a required field.'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$errors",109],"[",["T_LNUMBER","1",109],"]",["T_OBJECT_OPERATOR","->",109],["T_STRING","getLogMessage",109],"(",")",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n",110],"}",["T_WHITESPACE","\n",111]]