[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConfigurableProduct",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Type",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ProductInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ProductRepositoryInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Catalog",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Product",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestFramework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Helper",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bootstrap",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Class ConfigurableTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","ConfigurableTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PHPUnit_Framework_TestCase",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * Object under test\n     *\n     * @var Configurable\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$model",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var Product\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$product",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var ProductRepositoryInterface\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$productRepository",38],";",["T_WHITESPACE","\n\n    ",38],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","setUp",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","productRepository",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Bootstrap",42],["T_DOUBLE_COLON","::",42],["T_STRING","getObjectManager",42],"(",")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","create",43],"(",["T_STRING","ProductRepositoryInterface",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","product",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Bootstrap",45],["T_DOUBLE_COLON","::",45],["T_STRING","getObjectManager",45],"(",")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","create",46],"(",["T_STRING","Product",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","product",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","load",47],"(",["T_LNUMBER","1",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","model",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","Bootstrap",49],["T_DOUBLE_COLON","::",49],["T_STRING","getObjectManager",49],"(",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","create",50],"(",["T_STRING","Configurable",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],")",";",["T_WHITESPACE","\n\n        ",50],["T_COMMENT","\/\/ prevent fatal errors by assigning proper \"singleton\" of type instance to the product\n",52],["T_WHITESPACE","        ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","product",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","setTypeInstance",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","model",53],")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","testGetRelationInfo",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$info",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","model",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRelationInfo",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertInstanceOf",59],"(",["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Framework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","DataObject",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$info",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEquals",60],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_super_link'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$info",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getTable",60],"(",")",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEquals",61],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$info",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getParentFieldName",61],"(",")",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEquals",62],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$info",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getChildFieldName",62],"(",")",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",65],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","testGetChildrenIds",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$ids",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","model",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getChildrenIds",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","product",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getId",71],"(",")",")",";",["T_WHITESPACE","\n        ",71],["T_COMMENT","\/\/ fixture\n",72],["T_WHITESPACE","        ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertArrayHasKey",73],"(",["T_LNUMBER","0",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$ids",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertTrue",74],"(",["T_LNUMBER","2",74],["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_STRING","count",74],"(",["T_VARIABLE","$ids",74],"[",["T_LNUMBER","0",74],"]",")",")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$ids",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","model",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getChildrenIds",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","product",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getId",76],"(",")",",",["T_WHITESPACE"," ",76],["T_STRING","false",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertArrayHasKey",77],"(",["T_LNUMBER","0",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$ids",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertTrue",78],"(",["T_LNUMBER","2",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","count",78],"(",["T_VARIABLE","$ids",78],"[",["T_LNUMBER","0",78],"]",")",")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",81],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testCanUseAttribute",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertFalse",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","model",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","canUseAttribute",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_getAttributeByCode",87],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",87],")",")",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertTrue",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","model",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","canUseAttribute",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_getAttributeByCode",88],"(",["T_CONSTANT_ENCAPSED_STRING","'test_configurable'",88],")",")",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",91],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testSetGetUsedProductAttributeIds",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$testConfigurable",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_getAttributeByCode",97],"(",["T_CONSTANT_ENCAPSED_STRING","'test_configurable'",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$actual",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","model",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getUsedProductAttributeIds",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","product",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$expected",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[",["T_VARIABLE","$testConfigurable",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getId",99],"(",")","]",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(",["T_VARIABLE","$expected",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$actual",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",103],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","testSetUsedProductAttributeIds",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$testConfigurable",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_getAttributeByCode",109],"(",["T_CONSTANT_ENCAPSED_STRING","'test_configurable'",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","model",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setUsedProductAttributeIds",110],"(","[",["T_VARIABLE","$testConfigurable",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getId",110],"(",")","]",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","product",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$attributes",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","product",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getData",111],"(",["T_CONSTANT_ENCAPSED_STRING","'_cache_instance_configurable_attributes'",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertArrayHasKey",112],"(",["T_LNUMBER","0",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$attributes",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertInstanceOf",113],"(",["T_WHITESPACE","\n            ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","ConfigurableProduct",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Model",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Product",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Type",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Configurable",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Attribute",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],",",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$attributes",115],"[",["T_LNUMBER","0",115],"]",["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertSame",117],"(",["T_VARIABLE","$testConfigurable",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$attributes",117],"[",["T_LNUMBER","0",117],"]",["T_OBJECT_OPERATOR","->",117],["T_STRING","getProductAttribute",117],"(",")",")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",120],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","testGetUsedProductAttributes",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$testConfigurable",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_getAttributeByCode",126],"(",["T_CONSTANT_ENCAPSED_STRING","'test_configurable'",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$attributeId",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_INT_CAST","(int)",127],["T_VARIABLE","$testConfigurable",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getId",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$attributes",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","model",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getUsedProductAttributes",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","product",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertArrayHasKey",129],"(",["T_VARIABLE","$attributeId",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$attributes",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertEquals",130],"(",["T_VARIABLE","$testConfigurable",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getData",130],"(",")",",",["T_WHITESPACE"," ",130],["T_VARIABLE","$attributes",130],"[",["T_VARIABLE","$attributeId",130],"]",["T_OBJECT_OPERATOR","->",130],["T_STRING","getData",130],"(",")",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","testGetConfigurableAttributes",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$collection",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","model",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getConfigurableAttributes",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","product",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertInstanceOf",136],"(",["T_WHITESPACE","\n            ",136],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","ConfigurableProduct",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","ResourceModel",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Product",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Type",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Configurable",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Attribute",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Collection",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],",",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$collection",138],["T_WHITESPACE","\n        ",138],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$testConfigurable",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_getAttributeByCode",140],"(",["T_CONSTANT_ENCAPSED_STRING","'test_configurable'",140],")",";",["T_WHITESPACE","\n        ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$collection",141],["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$attribute",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertInstanceOf",142],"(",["T_WHITESPACE","\n                ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","ConfigurableProduct",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Model",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Product",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Type",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Configurable",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Attribute",143],["T_DOUBLE_COLON","::",143],["T_CLASS","class",143],",",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$attribute",144],["T_WHITESPACE","\n            ",144],")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEquals",146],"(",["T_VARIABLE","$testConfigurable",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getId",146],"(",")",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$attribute",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getAttributeId",146],"(",")",")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$options",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$attribute",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getOptions",147],"(",")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertCount",148],"(",["T_LNUMBER","2",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$options",148],")",";",["T_WHITESPACE","\n            ",148],["T_COMMENT","\/\/ fixture\n",149],["T_WHITESPACE","            ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEquals",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Option 1'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$options",150],"[",["T_LNUMBER","0",150],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",150],"]",")",";",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertEquals",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Option 2'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$options",151],"[",["T_LNUMBER","1",151],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",151],"]",")",";",["T_WHITESPACE","\n            ",151],["T_BREAK","break",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",156],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","testGetConfigurableAttributesAsArray",160],"(",")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$product",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","productRepository",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getById",162],"(",["T_LNUMBER","1",162],",",["T_WHITESPACE"," ",162],["T_STRING","true",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$attributes",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","model",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getConfigurableAttributesAsArray",163],"(",["T_VARIABLE","$product",163],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$attribute",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","reset",164],"(",["T_VARIABLE","$attributes",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertArrayHasKey",166],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$attribute",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertArrayHasKey",167],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$attribute",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertArrayHasKey",168],"(",["T_CONSTANT_ENCAPSED_STRING","'use_default'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$attribute",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertArrayHasKey",169],"(",["T_CONSTANT_ENCAPSED_STRING","'position'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$attribute",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertArrayHasKey",170],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$attribute",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertArrayHasKey",171],"(",["T_LNUMBER","0",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$attribute",171],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",171],"]",")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertArrayHasKey",172],"(",["T_LNUMBER","1",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$attribute",172],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",172],"]",")",";",["T_WHITESPACE","\n        ",172],["T_FOREACH","foreach",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$attribute",173],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",173],"]",["T_WHITESPACE"," ",173],["T_AS","as",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$attributeOption",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertArrayHasKey",174],"(",["T_CONSTANT_ENCAPSED_STRING","'product_super_attribute_id'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$attributeOption",174],")",";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertArrayHasKey",175],"(",["T_CONSTANT_ENCAPSED_STRING","'value_index'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$attributeOption",175],")",";",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertArrayHasKey",176],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$attributeOption",176],")",";",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertArrayHasKey",177],"(",["T_CONSTANT_ENCAPSED_STRING","'default_label'",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$attributeOption",177],")",";",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertArrayHasKey",178],"(",["T_CONSTANT_ENCAPSED_STRING","'store_label'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$attributeOption",178],")",";",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertArrayHasKey",179],"(",["T_CONSTANT_ENCAPSED_STRING","'use_default_value'",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$attributeOption",179],")",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertArrayHasKey",181],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$attribute",181],")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertArrayHasKey",182],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$attribute",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertArrayHasKey",183],"(",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$attribute",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertArrayHasKey",184],"(",["T_CONSTANT_ENCAPSED_STRING","'store_label'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$attribute",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$testConfigurable",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_getAttributeByCode",186],"(",["T_CONSTANT_ENCAPSED_STRING","'test_configurable'",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEquals",187],"(",["T_VARIABLE","$testConfigurable",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getId",187],"(",")",",",["T_WHITESPACE"," ",187],["T_VARIABLE","$attribute",187],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",187],"]",")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * @depends testGetConfigurableAttributesAsArray\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",190],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","testGetParentIdsByChild",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$result",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","model",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getParentIdsByChild",197],"(",["T_LNUMBER","10",197],")",";",["T_WHITESPACE","\n        ",197],["T_COMMENT","\/\/ fixture\n",198],["T_WHITESPACE","        ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertEquals",199],"(","[",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","product",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getId",199],"(",")","]",",",["T_WHITESPACE"," ",199],["T_VARIABLE","$result",199],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",202],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","testGetConfigurableAttributeCollection",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$collection",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","model",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getConfigurableAttributeCollection",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","product",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertInstanceOf",209],"(",["T_WHITESPACE","\n            ",209],["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","ConfigurableProduct",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Model",210],["T_NS_SEPARATOR","\\",210],["T_STRING","ResourceModel",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Product",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Type",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Configurable",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Attribute",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Collection",210],["T_DOUBLE_COLON","::",210],["T_CLASS","class",210],",",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$collection",211],["T_WHITESPACE","\n        ",211],")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",215],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","testGetUsedProductIds",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$ids",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","model",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getUsedProductIds",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","product",221],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertInternalType",222],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$ids",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertTrue",223],"(",["T_LNUMBER","2",223],["T_WHITESPACE"," ",223],["T_IS_IDENTICAL","===",223],["T_WHITESPACE"," ",223],["T_STRING","count",223],"(",["T_VARIABLE","$ids",223],")",")",";",["T_WHITESPACE"," ",223],["T_COMMENT","\/\/ impossible to check actual IDs, they are dynamic in the fixture\n",223],["T_WHITESPACE","    ",224],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",226],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","testGetUsedProducts",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$products",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","model",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getUsedProducts",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","product",232],")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assertInternalType",233],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$products",233],")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertTrue",234],"(",["T_LNUMBER","2",234],["T_WHITESPACE"," ",234],["T_IS_IDENTICAL","===",234],["T_WHITESPACE"," ",234],["T_STRING","count",234],"(",["T_VARIABLE","$products",234],")",")",";",["T_WHITESPACE","\n        ",234],["T_FOREACH","foreach",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$products",235],["T_WHITESPACE"," ",235],["T_AS","as",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$product",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertInstanceOf",236],"(",["T_NS_SEPARATOR","\\",236],["T_STRING","Magento",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Catalog",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Model",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Product",236],["T_DOUBLE_COLON","::",236],["T_CLASS","class",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$product",236],")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","testGetUsedProductCollection",240],"(",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertInstanceOf",242],"(",["T_WHITESPACE","\n            ",242],["T_NS_SEPARATOR","\\",243],["T_STRING","Magento",243],["T_NS_SEPARATOR","\\",243],["T_STRING","ConfigurableProduct",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Model",243],["T_NS_SEPARATOR","\\",243],["T_STRING","ResourceModel",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Product",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Type",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Configurable",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Product",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Collection",243],["T_DOUBLE_COLON","::",243],["T_CLASS","class",243],",",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","model",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getUsedProductCollection",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","product",244],")",["T_WHITESPACE","\n        ",244],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","testBeforeSave",248],"(",")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","assertEmpty",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","product",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getTypeHasOptions",250],"(",")",")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","assertEmpty",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","product",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getTypeHasRequiredOptions",251],"(",")",")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","product",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","setCanSaveConfigurableAttributes",253],"(",["T_STRING","true",253],")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","product",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setConfigurableAttributesData",254],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'values'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'not empty'",254],"]","]",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","model",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","beforeSave",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","product",255],")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertTrue",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","product",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getTypeHasOptions",256],"(",")",")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertTrue",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","product",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getTypeHasRequiredOptions",257],"(",")",")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     *\/",260],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","testIsSalable",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","product",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","unsetData",266],"(",["T_CONSTANT_ENCAPSED_STRING","'is_salable'",266],")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertTrue",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","model",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","isSalable",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","product",267],")",")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @depends testGetConfigurableAttributesAsArray\n     *\/",270],["T_WHITESPACE","\n    ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","testGetProductByAttributes",275],"(",")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$attributes",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","model",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getConfigurableAttributesAsArray",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","product",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$attribute",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","reset",278],"(",["T_VARIABLE","$attributes",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$optionValueId",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$attribute",279],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",279],"]","[",["T_LNUMBER","0",279],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",279],"]",";",["T_WHITESPACE","\n\n        ",279],["T_VARIABLE","$product",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","model",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getProductByAttributes",281],"(",["T_WHITESPACE","\n            ",281],"[",["T_VARIABLE","$attribute",282],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",282],"]",["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$optionValueId",282],"]",",",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","product",283],["T_WHITESPACE","\n        ",283],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","assertInstanceOf",285],"(",["T_NS_SEPARATOR","\\",285],["T_STRING","Magento",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Catalog",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Model",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Product",285],["T_DOUBLE_COLON","::",285],["T_CLASS","class",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$product",285],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertEquals",286],"(",["T_CONSTANT_ENCAPSED_STRING","\"simple_10\"",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$product",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getSku",286],"(",")",")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @depends testGetConfigurableAttributesAsArray\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","testGetSelectedAttributesInfo",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_DOC_COMMENT","\/** @var $serializer \\Magento\\Framework\\Serialize\\Serializer\\Json *\/",296],["T_WHITESPACE","\n        ",296],["T_VARIABLE","$serializer",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","Bootstrap",297],["T_DOUBLE_COLON","::",297],["T_STRING","getObjectManager",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","create",297],"(",["T_NS_SEPARATOR","\\",297],["T_STRING","Magento",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Framework",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Serialize",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Serializer",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Json",297],["T_DOUBLE_COLON","::",297],["T_CLASS","class",297],")",";",["T_WHITESPACE","\n\n        ",297],["T_VARIABLE","$product",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","productRepository",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getById",299],"(",["T_LNUMBER","1",299],",",["T_WHITESPACE"," ",299],["T_STRING","true",299],")",";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$attributes",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","model",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getConfigurableAttributesAsArray",300],"(",["T_VARIABLE","$product",300],")",";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$attribute",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","reset",301],"(",["T_VARIABLE","$attributes",301],")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$optionValueId",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$attribute",302],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",302],"]","[",["T_LNUMBER","0",302],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",302],"]",";",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$product",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","addCustomOption",304],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",304],",",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$serializer",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","serialize",305],"(","[",["T_VARIABLE","$attribute",305],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",305],"]",["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$optionValueId",305],"]",")",["T_WHITESPACE","\n        ",305],")",";",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$info",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","model",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getSelectedAttributesInfo",308],"(",["T_VARIABLE","$product",308],")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","assertEquals",309],"(",["T_CONSTANT_ENCAPSED_STRING","'Test Configurable'",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$info",309],"[",["T_LNUMBER","0",309],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",309],"]",")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertEquals",310],"(",["T_CONSTANT_ENCAPSED_STRING","'Option 1'",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$info",310],"[",["T_LNUMBER","0",310],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",310],"]",")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\Configurable::getConfigurableAttributes()\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     *\/",313],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","testGetSelectedAttributesInfoForStore",318],"(",")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_DOC_COMMENT","\/** @var $serializer \\Magento\\Framework\\Serialize\\Serializer\\Json *\/",320],["T_WHITESPACE","\n        ",320],["T_VARIABLE","$serializer",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","Bootstrap",321],["T_DOUBLE_COLON","::",321],["T_STRING","getObjectManager",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","create",321],"(",["T_NS_SEPARATOR","\\",321],["T_STRING","Magento",321],["T_NS_SEPARATOR","\\",321],["T_STRING","Framework",321],["T_NS_SEPARATOR","\\",321],["T_STRING","Serialize",321],["T_NS_SEPARATOR","\\",321],["T_STRING","Serializer",321],["T_NS_SEPARATOR","\\",321],["T_STRING","Json",321],["T_DOUBLE_COLON","::",321],["T_CLASS","class",321],")",";",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$attributes",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","model",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getConfigurableAttributesAsArray",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","product",323],")",";",["T_WHITESPACE","\n\n        ",323],["T_VARIABLE","$attribute",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","reset",325],"(",["T_VARIABLE","$attributes",325],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$optionValueId",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$attribute",326],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",326],"]","[",["T_LNUMBER","0",326],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",326],"]",";",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","product",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","addCustomOption",328],"(",["T_WHITESPACE","\n            ",328],["T_CONSTANT_ENCAPSED_STRING","'attributes'",329],",",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$serializer",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","serialize",330],"(","[",["T_VARIABLE","$attribute",330],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",330],"]",["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$optionValueId",330],"]",")",["T_WHITESPACE","\n        ",330],")",";",["T_WHITESPACE","\n\n        ",331],["T_VARIABLE","$configurableAttr",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","model",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getConfigurableAttributes",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","product",333],")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$attribute",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$configurableAttr",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getFirstItem",334],"(",")",";",["T_WHITESPACE","\n\n        ",334],["T_VARIABLE","$attribute",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getProductAttribute",336],"(",")",["T_OBJECT_OPERATOR","->",336],["T_STRING","setStoreLabel",336],"(",["T_CONSTANT_ENCAPSED_STRING","'store label'",336],")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$info",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","model",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getSelectedAttributesInfo",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","product",337],")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","assertEquals",338],"(",["T_CONSTANT_ENCAPSED_STRING","'store label'",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$info",338],"[",["T_LNUMBER","0",338],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",338],"]",")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","assertEquals",339],"(",["T_CONSTANT_ENCAPSED_STRING","'Option 1'",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$info",339],"[",["T_LNUMBER","0",339],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",339],"]",")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     * @depends testGetConfigurableAttributesAsArray\n     *\/",342],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","testPrepareForCart",347],"(",")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$attributes",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","model",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getConfigurableAttributesAsArray",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","product",349],")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$attribute",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","reset",350],"(",["T_VARIABLE","$attributes",350],")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$optionValueId",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$attribute",351],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",351],"]","[",["T_LNUMBER","0",351],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",351],"]",";",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$buyRequest",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_NS_SEPARATOR","\\",353],["T_STRING","Magento",353],["T_NS_SEPARATOR","\\",353],["T_STRING","Framework",353],["T_NS_SEPARATOR","\\",353],["T_STRING","DataObject",353],"(",["T_WHITESPACE","\n            ",353],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_LNUMBER","5",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'super_attribute'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],"[",["T_VARIABLE","$attribute",354],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",354],"]",["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$optionValueId",354],"]","]",["T_WHITESPACE","\n        ",354],")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$result",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","model",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","prepareForCart",356],"(",["T_VARIABLE","$buyRequest",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","product",356],")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertInternalType",357],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$result",357],")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","assertTrue",358],"(",["T_LNUMBER","2",358],["T_WHITESPACE"," ",358],["T_IS_IDENTICAL","===",358],["T_WHITESPACE"," ",358],["T_STRING","count",358],"(",["T_VARIABLE","$result",358],")",")",";",["T_WHITESPACE","\n        ",358],["T_FOREACH","foreach",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$result",359],["T_WHITESPACE"," ",359],["T_AS","as",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$product",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","assertInstanceOf",360],"(",["T_NS_SEPARATOR","\\",360],["T_STRING","Magento",360],["T_NS_SEPARATOR","\\",360],["T_STRING","Catalog",360],["T_NS_SEPARATOR","\\",360],["T_STRING","Model",360],["T_NS_SEPARATOR","\\",360],["T_STRING","Product",360],["T_DOUBLE_COLON","::",360],["T_CLASS","class",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$product",360],")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","assertInstanceOf",362],"(",["T_NS_SEPARATOR","\\",362],["T_STRING","Magento",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Framework",362],["T_NS_SEPARATOR","\\",362],["T_STRING","DataObject",362],["T_DOUBLE_COLON","::",362],["T_CLASS","class",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$result",362],"[",["T_LNUMBER","1",362],"]",["T_OBJECT_OPERATOR","->",362],["T_STRING","getCustomOption",362],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_product_id'",362],")",")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","testGetSpecifyOptionMessage",365],"(",")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertEquals",367],"(",["T_WHITESPACE","\n            ",367],["T_CONSTANT_ENCAPSED_STRING","'You need to choose options for your item.'",368],",",["T_WHITESPACE","\n            ",368],["T_STRING_CAST","(string)",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","model",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getSpecifyOptionMessage",369],"(",")",["T_WHITESPACE","\n        ",369],")",";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n\n    ",371],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     * @depends testGetConfigurableAttributesAsArray\n     * @depends testPrepareForCart\n     *\/",373],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","testGetOrderOptions",379],"(",")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$product",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_prepareForCart",381],"(",")",";",["T_WHITESPACE","\n\n        ",381],["T_VARIABLE","$result",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","model",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getOrderOptions",383],"(",["T_VARIABLE","$product",383],")",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","assertArrayHasKey",384],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$result",384],")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","assertArrayHasKey",385],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes_info'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$result",385],")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","assertEquals",386],"(",["T_CONSTANT_ENCAPSED_STRING","'Test Configurable'",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$result",386],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes_info'",386],"]","[",["T_LNUMBER","0",386],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",386],"]",")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","assertEquals",387],"(",["T_CONSTANT_ENCAPSED_STRING","'Option 1'",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$result",387],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes_info'",387],"]","[",["T_LNUMBER","0",387],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",387],"]",")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","assertArrayHasKey",388],"(",["T_CONSTANT_ENCAPSED_STRING","'product_calculations'",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$result",388],")",";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","assertArrayHasKey",389],"(",["T_CONSTANT_ENCAPSED_STRING","'shipment_type'",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$result",389],")",";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","assertEquals",390],"(",["T_WHITESPACE","\n            ",390],["T_NS_SEPARATOR","\\",391],["T_STRING","Magento",391],["T_NS_SEPARATOR","\\",391],["T_STRING","Catalog",391],["T_NS_SEPARATOR","\\",391],["T_STRING","Model",391],["T_NS_SEPARATOR","\\",391],["T_STRING","Product",391],["T_NS_SEPARATOR","\\",391],["T_STRING","Type",391],["T_NS_SEPARATOR","\\",391],["T_STRING","AbstractType",391],["T_DOUBLE_COLON","::",391],["T_STRING","CALCULATE_PARENT",391],",",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$result",392],"[",["T_CONSTANT_ENCAPSED_STRING","'product_calculations'",392],"]",["T_WHITESPACE","\n        ",392],")",";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","assertEquals",394],"(",["T_WHITESPACE","\n            ",394],["T_NS_SEPARATOR","\\",395],["T_STRING","Magento",395],["T_NS_SEPARATOR","\\",395],["T_STRING","Catalog",395],["T_NS_SEPARATOR","\\",395],["T_STRING","Model",395],["T_NS_SEPARATOR","\\",395],["T_STRING","Product",395],["T_NS_SEPARATOR","\\",395],["T_STRING","Type",395],["T_NS_SEPARATOR","\\",395],["T_STRING","AbstractType",395],["T_DOUBLE_COLON","::",395],["T_STRING","SHIPMENT_TOGETHER",395],",",["T_WHITESPACE","\n            ",395],["T_VARIABLE","$result",396],"[",["T_CONSTANT_ENCAPSED_STRING","'shipment_type'",396],"]",["T_WHITESPACE","\n        ",396],")",";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     * @depends testGetConfigurableAttributesAsArray\n     * @depends testPrepareForCart\n     *\/",400],["T_WHITESPACE","\n    ",405],["T_PUBLIC","public",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","testIsVirtual",406],"(",")",["T_WHITESPACE","\n    ",406],"{",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$product",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_prepareForCart",408],"(",")",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertFalse",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","model",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","isVirtual",409],"(",["T_VARIABLE","$product",409],")",")",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     *\/",412],["T_WHITESPACE","\n    ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","testHasOptions",416],"(",")",["T_WHITESPACE","\n    ",416],"{",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","assertTrue",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","model",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","hasOptions",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","product",418],")",")",";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","testGetWeight",421],"(",")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","assertEmpty",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","model",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getWeight",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","product",423],")",")",";",["T_WHITESPACE","\n\n        ",423],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","product",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","setCustomOptions",425],"(",["T_WHITESPACE","\n            ",425],"[",["T_WHITESPACE","\n                ",426],["T_CONSTANT_ENCAPSED_STRING","'simple_product'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_NEW","new",427],["T_WHITESPACE"," ",427],["T_NS_SEPARATOR","\\",427],["T_STRING","Magento",427],["T_NS_SEPARATOR","\\",427],["T_STRING","Framework",427],["T_NS_SEPARATOR","\\",427],["T_STRING","DataObject",427],"(",["T_WHITESPACE","\n                    ",427],"[",["T_WHITESPACE","\n                        ",428],["T_CONSTANT_ENCAPSED_STRING","'product'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_NEW","new",429],["T_WHITESPACE"," ",429],["T_NS_SEPARATOR","\\",429],["T_STRING","Magento",429],["T_NS_SEPARATOR","\\",429],["T_STRING","Framework",429],["T_NS_SEPARATOR","\\",429],["T_STRING","DataObject",429],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_LNUMBER","2",429],"]",")",",",["T_WHITESPACE","\n                    ",429],"]",["T_WHITESPACE","\n                ",430],")",",",["T_WHITESPACE","\n            ",431],"]",["T_WHITESPACE","\n        ",432],")",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertEquals",434],"(",["T_LNUMBER","2",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","model",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getWeight",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","product",434],")",")",";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","testAssignProductToOption",437],"(",")",["T_WHITESPACE","\n    ",437],"{",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$option",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_NEW","new",439],["T_WHITESPACE"," ",439],["T_NS_SEPARATOR","\\",439],["T_STRING","Magento",439],["T_NS_SEPARATOR","\\",439],["T_STRING","Framework",439],["T_NS_SEPARATOR","\\",439],["T_STRING","DataObject",439],"(",")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","model",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","assignProductToOption",440],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$option",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","product",440],")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","assertEquals",441],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$option",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getProduct",441],"(",")",")",";",["T_WHITESPACE","\n        ",441],["T_COMMENT","\/\/ other branch of logic depends on \\Magento\\Sales module\n",442],["T_WHITESPACE","    ",443],"}",["T_WHITESPACE","\n\n    ",443],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     *\/",445],["T_WHITESPACE","\n    ",448],["T_PUBLIC","public",449],["T_WHITESPACE"," ",449],["T_FUNCTION","function",449],["T_WHITESPACE"," ",449],["T_STRING","testGetProductsToPurchaseByReqGroups",449],"(",")",["T_WHITESPACE","\n    ",449],"{",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$result",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","model",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getProductsToPurchaseByReqGroups",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","product",451],")",";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","assertArrayHasKey",452],"(",["T_LNUMBER","0",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$result",452],")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","assertInternalType",453],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$result",453],"[",["T_LNUMBER","0",453],"]",")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","assertTrue",454],"(",["T_LNUMBER","2",454],["T_WHITESPACE"," ",454],["T_IS_IDENTICAL","===",454],["T_WHITESPACE"," ",454],["T_STRING","count",454],"(",["T_VARIABLE","$result",454],"[",["T_LNUMBER","0",454],"]",")",")",";",["T_WHITESPACE","\n        ",454],["T_COMMENT","\/\/ fixture has 2 simple products\n",455],["T_WHITESPACE","        ",456],["T_FOREACH","foreach",456],["T_WHITESPACE"," ",456],"(",["T_VARIABLE","$result",456],"[",["T_LNUMBER","0",456],"]",["T_WHITESPACE"," ",456],["T_AS","as",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$product",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n            ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","assertInstanceOf",457],"(",["T_NS_SEPARATOR","\\",457],["T_STRING","Magento",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Catalog",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Model",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Product",457],["T_DOUBLE_COLON","::",457],["T_CLASS","class",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$product",457],")",";",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     *\/",461],["T_WHITESPACE","\n    ",464],["T_PUBLIC","public",465],["T_WHITESPACE"," ",465],["T_FUNCTION","function",465],["T_WHITESPACE"," ",465],["T_STRING","testGetSku",465],"(",")",["T_WHITESPACE","\n    ",465],"{",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","assertEquals",467],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable'",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","model",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getSku",467],"(",["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","product",467],")",")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$product",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_prepareForCart",468],"(",")",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assertStringStartsWith",469],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_'",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","model",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getSku",469],"(",["T_VARIABLE","$product",469],")",")",";",["T_WHITESPACE","\n    ",469],"}",["T_WHITESPACE","\n\n    ",470],["T_PUBLIC","public",472],["T_WHITESPACE"," ",472],["T_FUNCTION","function",472],["T_WHITESPACE"," ",472],["T_STRING","testProcessBuyRequest",472],"(",")",["T_WHITESPACE","\n    ",472],"{",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$buyRequest",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_NEW","new",474],["T_WHITESPACE"," ",474],["T_NS_SEPARATOR","\\",474],["T_STRING","Magento",474],["T_NS_SEPARATOR","\\",474],["T_STRING","Framework",474],["T_NS_SEPARATOR","\\",474],["T_STRING","DataObject",474],"(","[",["T_CONSTANT_ENCAPSED_STRING","'super_attribute'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],"[",["T_CONSTANT_ENCAPSED_STRING","'10'",474],",",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'string'",474],"]","]",")",";",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$result",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","model",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","processBuyRequest",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","product",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$buyRequest",475],")",";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","assertEquals",476],"(","[",["T_CONSTANT_ENCAPSED_STRING","'super_attribute'",476],["T_WHITESPACE"," ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],"[",["T_LNUMBER","10",476],"]","]",",",["T_WHITESPACE"," ",476],["T_VARIABLE","$result",476],")",";",["T_WHITESPACE","\n    ",476],"}",["T_WHITESPACE","\n\n    ",477],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     *\/",479],["T_WHITESPACE","\n    ",482],["T_PUBLIC","public",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","testSaveProductRelationsOneChild",483],"(",")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$oldChildrenIds",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","product",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getTypeInstance",485],"(",")",["T_WHITESPACE","\n            ",485],["T_OBJECT_OPERATOR","->",486],["T_STRING","getChildrenIds",486],"(",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","product",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getId",486],"(",")",")",";",["T_WHITESPACE","\n\n        ",486],["T_VARIABLE","$oldChildrenIds",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","reset",488],"(",["T_VARIABLE","$oldChildrenIds",488],")",";",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$oneChildId",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_STRING","reset",489],"(",["T_VARIABLE","$oldChildrenIds",489],")",";",["T_WHITESPACE","\n\n        ",489],["T_STRING","self",491],["T_DOUBLE_COLON","::",491],["T_STRING","assertNotEmpty",491],"(",["T_VARIABLE","$oldChildrenIds",491],")",";",["T_WHITESPACE","\n        ",491],["T_STRING","self",492],["T_DOUBLE_COLON","::",492],["T_STRING","assertNotEmpty",492],"(",["T_VARIABLE","$oneChildId",492],")",";",["T_WHITESPACE","\n\n        ",492],["T_VARIABLE","$product",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","productRepository",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getById",494],"(",["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","product",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getId",494],"(",")",")",";",["T_WHITESPACE","\n\n        ",494],["T_VARIABLE","$extensionAttributes",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$product",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getExtensionAttributes",496],"(",")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$extensionAttributes",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","setConfigurableProductLinks",497],"(","[",["T_VARIABLE","$oneChildId",497],"]",")",";",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$product",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","setExtensionAttributes",498],"(",["T_VARIABLE","$extensionAttributes",498],")",";",["T_WHITESPACE","\n\n        ",498],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","productRepository",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","save",500],"(",["T_VARIABLE","$product",500],")",";",["T_WHITESPACE","\n\n        ",500],["T_STRING","self",502],["T_DOUBLE_COLON","::",502],["T_STRING","assertEquals",502],"(",["T_WHITESPACE","\n            ",502],"[",["T_WHITESPACE","\n                ",503],"[",["T_WHITESPACE","\n                    ",504],["T_VARIABLE","$oneChildId",505],["T_WHITESPACE"," ",505],["T_DOUBLE_ARROW","=>",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$oneChildId",505],["T_WHITESPACE","\n                ",505],"]",["T_WHITESPACE","\n            ",506],"]",",",["T_WHITESPACE","\n            ",507],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","model",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getChildrenIds",508],"(",["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","product",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getId",508],"(",")",")",["T_WHITESPACE","\n        ",508],")",";",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/ConfigurableProduct\/_files\/product_configurable.php\n     * @magentoAppIsolation enabled\n     *\/",512],["T_WHITESPACE","\n    ",515],["T_PUBLIC","public",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","testSaveProductRelationsNoChildren",516],"(",")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$childrenIds",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","product",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getTypeInstance",518],"(",")",["T_WHITESPACE","\n            ",518],["T_OBJECT_OPERATOR","->",519],["T_STRING","getChildrenIds",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","product",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getId",519],"(",")",")",";",["T_WHITESPACE","\n\n        ",519],["T_STRING","self",521],["T_DOUBLE_COLON","::",521],["T_STRING","assertNotEmpty",521],"(",["T_STRING","reset",521],"(",["T_VARIABLE","$childrenIds",521],")",")",";",["T_WHITESPACE","\n\n        ",521],["T_VARIABLE","$product",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","productRepository",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getById",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","product",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getId",523],"(",")",",",["T_WHITESPACE"," ",523],["T_STRING","true",523],")",";",["T_WHITESPACE","\n\n        ",523],["T_VARIABLE","$extensionAttributes",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$product",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getExtensionAttributes",525],"(",")",";",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$extensionAttributes",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","setConfigurableProductLinks",526],"(","[","]",")",";",["T_WHITESPACE","\n        ",526],["T_VARIABLE","$product",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","setExtensionAttributes",527],"(",["T_VARIABLE","$extensionAttributes",527],")",";",["T_WHITESPACE","\n\n        ",527],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","productRepository",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","save",529],"(",["T_VARIABLE","$product",529],")",";",["T_WHITESPACE","\n\n        ",529],["T_STRING","self",531],["T_DOUBLE_COLON","::",531],["T_STRING","assertEquals",531],"(",["T_WHITESPACE","\n            ",531],"[",["T_WHITESPACE","\n                ",532],"[","]",["T_WHITESPACE","\n            ",533],"]",",",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","model",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getChildrenIds",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","product",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getId",535],"(",")",")",["T_WHITESPACE","\n        ",535],")",";",["T_WHITESPACE","\n    ",536],"}",["T_WHITESPACE","\n\n    ",537],["T_DOC_COMMENT","\/**\n     * Find and instantiate a catalog attribute model by attribute code\n     *\n     * @param string $code\n     * @return \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute\n     *\/",539],["T_WHITESPACE","\n    ",544],["T_PROTECTED","protected",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","_getAttributeByCode",545],"(",["T_VARIABLE","$code",545],")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_STRING","Bootstrap",547],["T_DOUBLE_COLON","::",547],["T_STRING","getObjectManager",547],"(",")",["T_OBJECT_OPERATOR","->",547],["T_STRING","get",547],"(",["T_WHITESPACE","\n            ",547],["T_NS_SEPARATOR","\\",548],["T_STRING","Magento",548],["T_NS_SEPARATOR","\\",548],["T_STRING","Eav",548],["T_NS_SEPARATOR","\\",548],["T_STRING","Model",548],["T_NS_SEPARATOR","\\",548],["T_STRING","Config",548],["T_DOUBLE_COLON","::",548],["T_CLASS","class",548],["T_WHITESPACE","\n        ",548],")",["T_OBJECT_OPERATOR","->",549],["T_STRING","getAttribute",549],"(",["T_WHITESPACE","\n            ",549],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",550],",",["T_WHITESPACE","\n            ",550],["T_VARIABLE","$code",551],["T_WHITESPACE","\n        ",551],")",";",["T_WHITESPACE","\n    ",552],"}",["T_WHITESPACE","\n\n    ",553],["T_DOC_COMMENT","\/**\n     * Select one of the options and \"prepare for cart\" with a proper buy request\n     *\n     * @return ProductInterface\n     *\/",555],["T_WHITESPACE","\n    ",559],["T_PROTECTED","protected",560],["T_WHITESPACE"," ",560],["T_FUNCTION","function",560],["T_WHITESPACE"," ",560],["T_STRING","_prepareForCart",560],"(",")",["T_WHITESPACE","\n    ",560],"{",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$product",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","productRepository",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getById",562],"(",["T_LNUMBER","1",562],",",["T_WHITESPACE"," ",562],["T_STRING","true",562],")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$attributes",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","model",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","getConfigurableAttributesAsArray",563],"(",["T_VARIABLE","$product",563],")",";",["T_WHITESPACE","\n        ",563],["T_VARIABLE","$attribute",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_STRING","reset",564],"(",["T_VARIABLE","$attributes",564],")",";",["T_WHITESPACE","\n        ",564],["T_VARIABLE","$optionValueId",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_VARIABLE","$attribute",565],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",565],"]","[",["T_LNUMBER","0",565],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",565],"]",";",["T_WHITESPACE","\n\n        ",565],["T_VARIABLE","$buyRequest",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_NEW","new",567],["T_WHITESPACE"," ",567],["T_NS_SEPARATOR","\\",567],["T_STRING","Magento",567],["T_NS_SEPARATOR","\\",567],["T_STRING","Framework",567],["T_NS_SEPARATOR","\\",567],["T_STRING","DataObject",567],"(",["T_WHITESPACE","\n            ",567],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_LNUMBER","5",568],",",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'super_attribute'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],"[",["T_VARIABLE","$attribute",568],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",568],"]",["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$optionValueId",568],"]","]",["T_WHITESPACE","\n        ",568],")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","model",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","prepareForCart",570],"(",["T_VARIABLE","$buyRequest",570],",",["T_WHITESPACE"," ",570],["T_VARIABLE","$product",570],")",";",["T_WHITESPACE","\n\n        ",570],["T_RETURN","return",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$product",572],";",["T_WHITESPACE","\n    ",572],"}",["T_WHITESPACE","\n",573],"}",["T_WHITESPACE","\n",574]]