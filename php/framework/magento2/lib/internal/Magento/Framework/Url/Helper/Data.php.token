[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Core URL helper\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Url",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Data",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","App",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Helper",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractHelper",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Retrieve current url in base64 encoding\n     *\n     * @return string\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","getCurrentBase64Url",21],"(",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","urlEncoder",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","encode",23],"(",["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","_urlBuilder",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getCurrentUrl",23],"(",")",")",";",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @param string $url\n     * @return string\n     *\/",26],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","getEncodedUrl",30],"(",["T_VARIABLE","$url",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","null",30],")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_IF","if",32],["T_WHITESPACE"," ",32],"(","!",["T_VARIABLE","$url",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n            ",32],["T_VARIABLE","$url",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","_urlBuilder",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getCurrentUrl",33],"(",")",";",["T_WHITESPACE","\n        ",33],"}",["T_WHITESPACE","\n        ",34],["T_RETURN","return",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","urlEncoder",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","encode",35],"(",["T_VARIABLE","$url",35],")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Add request parameter into url\n     *\n     * @param  string $url\n     * @param  array $param array( 'key' => value )\n     * @return string\n     *\/",38],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","addRequestParam",45],"(",["T_VARIABLE","$url",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$param",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$startDelimiter",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","false",47],["T_WHITESPACE"," ",47],["T_IS_IDENTICAL","===",47],["T_WHITESPACE"," ",47],["T_STRING","strpos",47],"(",["T_VARIABLE","$url",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'?'",47],")",["T_WHITESPACE"," ",47],"?",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'?'",47],["T_WHITESPACE"," ",47],":",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'&'",47],";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$arrQueryParams",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[","]",";",["T_WHITESPACE","\n        ",49],["T_FOREACH","foreach",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$param",50],["T_WHITESPACE"," ",50],["T_AS","as",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$key",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$value",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_STRING","is_numeric",51],"(",["T_VARIABLE","$key",51],")",["T_WHITESPACE"," ",51],["T_BOOLEAN_OR","||",51],["T_WHITESPACE"," ",51],["T_STRING","is_object",51],"(",["T_VARIABLE","$value",51],")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                ",51],["T_CONTINUE","continue",52],";",["T_WHITESPACE","\n            ",52],"}",["T_WHITESPACE","\n\n            ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_STRING","is_array",55],"(",["T_VARIABLE","$value",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                ",55],["T_COMMENT","\/\/ $key[]=$value1&$key[]=$value2 ...\n",56],["T_WHITESPACE","                ",57],["T_VARIABLE","$arrQueryParams",57],"[","]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$key",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'[]='",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_STRING","implode",57],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_VARIABLE","$key",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'[]='",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$value",57],")",";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE"," ",58],["T_ELSEIF","elseif",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$value",58],["T_WHITESPACE"," ",58],["T_IS_IDENTICAL","===",58],["T_WHITESPACE"," ",58],["T_STRING","null",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$arrQueryParams",59],"[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$key",59],";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$arrQueryParams",61],"[","]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$key",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'='",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$value",61],";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(","!",["T_EMPTY","empty",64],"(",["T_VARIABLE","$arrQueryParams",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$url",65],["T_WHITESPACE"," ",65],["T_CONCAT_EQUAL",".=",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$startDelimiter",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_STRING","implode",65],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$arrQueryParams",65],")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n\n        ",66],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$url",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Remove request parameter from url\n     * @param string $url\n     * @param string $paramKey\n     * @param bool $caseSensitive\n     * @return string\n     *\/",71],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","removeRequestParam",78],"(",["T_VARIABLE","$url",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$paramKey",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$caseSensitive",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","false",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$regExpression",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\?[^#]*?('",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_STRING","preg_quote",80],"(",["T_VARIABLE","$paramKey",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'\/'",80],")",["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'\\\\=[^#&]*&?)\/'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$caseSensitive",80],["T_WHITESPACE"," ",80],"?",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","''",80],["T_WHITESPACE"," ",80],":",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'i'",80],")",";",["T_WHITESPACE","\n        ",80],["T_WHILE","while",81],["T_WHITESPACE"," ",81],"(",["T_STRING","preg_match",81],"(",["T_VARIABLE","$regExpression",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$url",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$matches",81],")",["T_WHITESPACE"," ",81],["T_IS_NOT_IDENTICAL","!==",81],["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$paramString",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$matches",82],"[",["T_LNUMBER","1",82],"]",";",["T_WHITESPACE","\n            ",82],["T_COMMENT","\/\/ if ampersand is at the end of $paramString\n",83],["T_WHITESPACE","            ",84],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","substr",84],"(",["T_VARIABLE","$paramString",84],",",["T_WHITESPACE"," ",84],"-",["T_LNUMBER","1",84],",",["T_WHITESPACE"," ",84],["T_LNUMBER","1",84],")",["T_WHITESPACE"," ",84],["T_IS_NOT_EQUAL","!=",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'&'",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$url",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","preg_replace",85],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(&|\\\\?)?'",85],["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_STRING","preg_quote",85],"(",["T_VARIABLE","$paramString",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'\/'",85],")",["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'\/'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","''",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$url",85],")",";",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE"," ",86],["T_ELSE","else",86],["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$url",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","str_replace",87],"(",["T_VARIABLE","$paramString",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","''",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$url",87],")",";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$url",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n",91],"}",["T_WHITESPACE","\n",92]]