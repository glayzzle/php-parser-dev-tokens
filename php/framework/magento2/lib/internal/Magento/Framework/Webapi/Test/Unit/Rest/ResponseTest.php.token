[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Test Rest response controller.\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Webapi",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Rest",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Phrase",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ResponseTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Webapi\\Rest\\Response *\/",14],["T_WHITESPACE","\n    ",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$responseRest",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\State *\/",17],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$appStateMock",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Webapi\\Rest\\Response\\Renderer\\Xml *\/",20],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$rendererMock",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Webapi\\ErrorProcessor *\/",23],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$errorProcessorMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_DOC_COMMENT","\/** Mock all objects required for SUT. *\/",28],["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","rendererMock",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getMockBuilder",29],"(",["T_WHITESPACE","\n            ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Framework",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Webapi",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Rest",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Response",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Renderer",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Json",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],["T_WHITESPACE","\n        ",30],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","disableOriginalConstructor",31],"(",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","getMock",31],"(",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$rendererFactoryMock",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMockBuilder",32],"(",["T_WHITESPACE","\n            ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Webapi",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Rest",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Response",33],["T_NS_SEPARATOR","\\",33],["T_STRING","RendererFactory",33],["T_DOUBLE_COLON","::",33],["T_CLASS","class",33],["T_WHITESPACE","\n        ",33],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","disableOriginalConstructor",34],"(",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","getMock",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$rendererFactoryMock",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","expects",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","any",35],"(",")",")",["T_OBJECT_OPERATOR","->",35],["T_STRING","method",35],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",35],")",["T_OBJECT_OPERATOR","->",35],["T_STRING","will",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","returnValue",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","rendererMock",35],")",")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","errorProcessorMock",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getMockBuilder",36],"(",["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Webapi",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ErrorProcessor",36],["T_DOUBLE_COLON","::",36],["T_CLASS","class",36],")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","disableOriginalConstructor",37],"(",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getMock",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","appStateMock",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getMock",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","App",38],["T_NS_SEPARATOR","\\",38],["T_STRING","State",38],["T_DOUBLE_COLON","::",38],["T_CLASS","class",38],",",["T_WHITESPACE"," ",38],"[","]",",",["T_WHITESPACE"," ",38],"[","]",",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","''",38],",",["T_WHITESPACE"," ",38],["T_STRING","false",38],")",";",["T_WHITESPACE","\n\n        ",38],["T_DOC_COMMENT","\/** Init SUP. *\/",40],["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","responseRest",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Webapi",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Rest",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Response",41],"(",["T_WHITESPACE","\n            ",41],["T_VARIABLE","$rendererFactoryMock",42],",",["T_WHITESPACE","\n            ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","errorProcessorMock",43],",",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","appStateMock",44],["T_WHITESPACE","\n        ",44],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","tearDown",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_UNSET","unset",50],"(",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","responseRest",51],",",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","appStateMock",52],",",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","appStateMock",53],",",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","rendererMock",54],",",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","errorProcessorMock",55],["T_WHITESPACE","\n        ",55],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Test setException method with \\Magento\\Framework\\Webapi\\Exception.\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","testSetWebapiExceptionException",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_DOC_COMMENT","\/** Init \\Magento\\Framework\\Webapi\\Exception *\/",64],["T_WHITESPACE","\n        ",64],["T_VARIABLE","$apiException",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Webapi",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Exception",65],"(",["T_WHITESPACE","\n            ",65],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","Phrase",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception message.'",66],")",",",["T_WHITESPACE","\n            ",66],["T_LNUMBER","0",67],",",["T_WHITESPACE","\n            ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Webapi",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Exception",68],["T_DOUBLE_COLON","::",68],["T_STRING","HTTP_UNAUTHORIZED",68],["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","responseRest",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setException",70],"(",["T_VARIABLE","$apiException",70],")",";",["T_WHITESPACE","\n        ",70],["T_DOC_COMMENT","\/** Assert that \\Magento\\Framework\\Webapi\\Exception was set and presented in the list. *\/",71],["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertTrue",72],"(",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","responseRest",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","hasExceptionOfType",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Webapi",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Exception",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],")",",",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'Magento\\Framework\\Webapi\\Exception was not set.'",74],["T_WHITESPACE","\n        ",74],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Test sendResponse method with internal error exception during messages rendering.\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testSendResponseRenderMessagesException",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_DOC_COMMENT","\/** Init logic exception. *\/",83],["T_WHITESPACE","\n        ",83],["T_VARIABLE","$logicException",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_NS_SEPARATOR","\\",84],["T_STRING","LogicException",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_DOC_COMMENT","\/** Mock error processor to throw \\LogicException in maskException method. *\/",85],["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","errorProcessorMock",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","expects",86],"(",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","any",87],"(",")",["T_WHITESPACE","\n        ",87],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","method",88],"(",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'maskException'",89],["T_WHITESPACE","\n        ",89],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","will",90],"(",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","throwException",91],"(",["T_VARIABLE","$logicException",91],")",["T_WHITESPACE","\n        ",91],")",";",["T_WHITESPACE","\n        ",92],["T_DOC_COMMENT","\/** Assert that renderException method will be executed once with specified parameters. *\/",93],["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","errorProcessorMock",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","expects",94],"(",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","once",95],"(",")",["T_WHITESPACE","\n        ",95],")",["T_OBJECT_OPERATOR","->",96],["T_STRING","method",96],"(",["T_WHITESPACE","\n            ",96],["T_CONSTANT_ENCAPSED_STRING","'renderException'",97],["T_WHITESPACE","\n        ",97],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","with",98],"(",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$logicException",99],",",["T_WHITESPACE","\n            ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Framework",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Webapi",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Exception",100],["T_DOUBLE_COLON","::",100],["T_STRING","HTTP_INTERNAL_ERROR",100],["T_WHITESPACE","\n        ",100],")",";",["T_WHITESPACE","\n        ",101],["T_DOC_COMMENT","\/** Set exception to Rest response to get in to the _renderMessages method. *\/",102],["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","responseRest",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setException",103],"(",["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Framework",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Webapi",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Exception",103],"(",["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","Phrase",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Message.'",103],")",")",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","responseRest",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","sendResponse",104],"(",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Test sendResponse method with HTTP Not Acceptable error exception during messages rendering.\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","testSendResponseRenderMessagesHttpNotAcceptable",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$exception",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Framework",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Webapi",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Exception",112],"(",["T_WHITESPACE","\n            ",112],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","Phrase",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",113],")",",",["T_WHITESPACE","\n            ",113],["T_LNUMBER","0",114],",",["T_WHITESPACE","\n            ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Framework",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Webapi",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Exception",115],["T_DOUBLE_COLON","::",115],["T_STRING","HTTP_NOT_ACCEPTABLE",115],["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n        ",116],["T_DOC_COMMENT","\/** Mock error processor to throw \\LogicException in maskException method. *\/",117],["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","errorProcessorMock",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","expects",118],"(",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","any",119],"(",")",["T_WHITESPACE","\n        ",119],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","method",120],"(",["T_WHITESPACE","\n            ",120],["T_CONSTANT_ENCAPSED_STRING","'maskException'",121],["T_WHITESPACE","\n        ",121],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","will",122],"(",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","throwException",123],"(",["T_VARIABLE","$exception",123],")",["T_WHITESPACE","\n        ",123],")",";",["T_WHITESPACE","\n        ",124],["T_DOC_COMMENT","\/** Assert that renderException method will be executed once with specified parameters. *\/",125],["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","errorProcessorMock",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","once",127],"(",")",["T_WHITESPACE","\n        ",127],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","method",128],"(",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","'renderException'",129],["T_WHITESPACE","\n        ",129],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","with",130],"(",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$exception",131],",",["T_WHITESPACE","\n            ",131],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Framework",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Webapi",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Exception",132],["T_DOUBLE_COLON","::",132],["T_STRING","HTTP_NOT_ACCEPTABLE",132],["T_WHITESPACE","\n        ",132],")",";",["T_WHITESPACE","\n        ",133],["T_DOC_COMMENT","\/** Set exception to Rest response to get in to the _renderMessages method. *\/",134],["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","responseRest",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setException",135],"(",["T_WHITESPACE","\n            ",135],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Webapi",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Exception",136],"(",["T_WHITESPACE","\n                ",136],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","Phrase",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Message.'",137],")",",",["T_WHITESPACE","\n                ",137],["T_LNUMBER","0",138],",",["T_WHITESPACE","\n                ",138],["T_NS_SEPARATOR","\\",139],["T_STRING","Magento",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Framework",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Webapi",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Exception",139],["T_DOUBLE_COLON","::",139],["T_STRING","HTTP_BAD_REQUEST",139],["T_WHITESPACE","\n            ",139],")",["T_WHITESPACE","\n        ",140],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","responseRest",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","sendResponse",142],"(",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Test sendResponse method with exception rendering.\n     *\/",145],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testSendResponseWithException",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_DOC_COMMENT","\/** Mock all required objects. *\/",150],["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","rendererMock",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","expects",151],"(",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","any",152],"(",")",["T_WHITESPACE","\n        ",152],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_WHITESPACE","\n            ",153],["T_CONSTANT_ENCAPSED_STRING","'getMimeType'",154],["T_WHITESPACE","\n        ",154],")",["T_OBJECT_OPERATOR","->",155],["T_STRING","will",155],"(",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","returnValue",156],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",156],")",["T_WHITESPACE","\n        ",156],")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","rendererMock",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","expects",158],"(",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","any",159],"(",")",["T_WHITESPACE","\n        ",159],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","method",160],"(",["T_WHITESPACE","\n            ",160],["T_CONSTANT_ENCAPSED_STRING","'render'",161],["T_WHITESPACE","\n        ",161],")",["T_OBJECT_OPERATOR","->",162],["T_STRING","will",162],"(",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","returnCallback",163],"(","[",["T_VARIABLE","$this",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'callbackForSendResponseTest'",163],"]",",",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","returnArgument",163],"(",["T_LNUMBER","0",163],")",")",["T_WHITESPACE","\n        ",163],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$exceptionMessage",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Message'",165],";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$exceptionHttpCode",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Framework",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Webapi",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Exception",166],["T_DOUBLE_COLON","::",166],["T_STRING","HTTP_BAD_REQUEST",166],";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$exception",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Magento",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Framework",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Webapi",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Exception",167],"(",["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Phrase",167],"(",["T_VARIABLE","$exceptionMessage",167],")",",",["T_WHITESPACE"," ",167],["T_LNUMBER","0",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$exceptionHttpCode",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","errorProcessorMock",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","expects",168],"(",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","any",169],"(",")",["T_WHITESPACE","\n        ",169],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","method",170],"(",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","'maskException'",171],["T_WHITESPACE","\n        ",171],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","will",172],"(",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","returnValue",173],"(",["T_VARIABLE","$exception",173],")",["T_WHITESPACE","\n        ",173],")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","responseRest",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setException",176],"(",["T_VARIABLE","$exception",176],")",";",["T_WHITESPACE","\n        ",176],["T_DOC_COMMENT","\/** Start output buffering. *\/",177],["T_WHITESPACE","\n        ",177],["T_STRING","ob_start",178],"(",")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","responseRest",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","sendResponse",179],"(",")",";",["T_WHITESPACE","\n        ",179],["T_DOC_COMMENT","\/** Clear output buffering. *\/",180],["T_WHITESPACE","\n        ",180],["T_STRING","ob_end_clean",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$actualResponse",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","responseRest",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getBody",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$expectedResult",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'{\"message\":\"'",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$exceptionMessage",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'\"}'",185],";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertStringStartsWith",186],"(",["T_VARIABLE","$expectedResult",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$actualResponse",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'Response body is invalid'",186],")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Callback for testSendResponseRenderMessages method.\n     *\n     * @param $data\n     * @return string\n     *\/",189],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","callbackForSendResponseTest",195],"(",["T_VARIABLE","$data",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_STRING","json_encode",197],"(",["T_VARIABLE","$data",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Test sendResponse method without any exception\n     *\/",200],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","testSendResponseSuccessHandling",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","responseRest",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","sendResponse",205],"(",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertTrue",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","responseRest",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getHttpResponseCode",206],"(",")",["T_WHITESPACE"," ",206],["T_IS_EQUAL","==",206],["T_WHITESPACE"," ",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Framework",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Webapi",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Response",206],["T_DOUBLE_COLON","::",206],["T_STRING","HTTP_OK",206],")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","testHasExceptionOfType",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","responseRest",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setException",211],"(",["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Exception",211],"(",")",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$hasException",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","responseRest",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","hasExceptionOfType",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception'",212],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertTrue",213],"(",["T_VARIABLE","$hasException",213],")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","testHasExceptionOfTypeIfExceptionsIsEmpty",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","responseRest",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setException",217],"(",["T_NEW","new",217],["T_WHITESPACE"," ",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Exception",217],"(",")",")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$hasException",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","responseRest",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","hasExceptionOfType",218],"(",["T_CONSTANT_ENCAPSED_STRING","'Test\\Exception'",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertFalse",219],"(",["T_VARIABLE","$hasException",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n",220],"}",["T_WHITESPACE","\n",221]]