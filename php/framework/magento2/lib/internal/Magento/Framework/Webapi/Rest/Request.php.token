[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * REST API request.\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",7],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Webapi",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Rest",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SimpleDataObjectConverter",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Phrase",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Request",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Webapi",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Request",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_COMMENT","\/**#@+\n     * HTTP methods supported by REST.\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","HTTP_METHOD_GET",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'GET'",19],";",["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","HTTP_METHOD_DELETE",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",20],";",["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","HTTP_METHOD_PUT",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'PUT'",21],";",["T_WHITESPACE","\n    ",21],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","HTTP_METHOD_POST",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'POST'",22],";",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/**#@-*\/",23],["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Character set which must be used in request.\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","REQUEST_CHARSET",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'utf-8'",28],";",["T_WHITESPACE","\n\n    ",28],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","DEFAULT_ACCEPT",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'*\/*'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/** @var string *\/",32],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_serviceName",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/** @var string *\/",35],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_serviceType",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Webapi\\Rest\\Request\\DeserializerInterface *\/",38],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_deserializer",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/** @var array *\/",41],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_bodyParams",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Webapi\\Rest\\Request\\DeserializerFactory *\/",44],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_deserializerFactory",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Initialize dependencies\n     *\n     * @param \\Magento\\Framework\\Stdlib\\Cookie\\CookieReaderInterface $cookieReader\n     * @param \\Magento\\Framework\\Stdlib\\StringUtils $converter\n     * @param \\Magento\\Framework\\App\\AreaList $areaList\n     * @param \\Magento\\Framework\\Config\\ScopeInterface $configScope\n     * @param \\Magento\\Framework\\Webapi\\Rest\\Request\\DeserializerFactory $deserializerFactory\n     * @param null|string $uri\n     *\/",47],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Framework",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Stdlib",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Cookie",58],["T_NS_SEPARATOR","\\",58],["T_STRING","CookieReaderInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$cookieReader",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Framework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Stdlib",59],["T_NS_SEPARATOR","\\",59],["T_STRING","StringUtils",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$converter",59],",",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Framework",60],["T_NS_SEPARATOR","\\",60],["T_STRING","App",60],["T_NS_SEPARATOR","\\",60],["T_STRING","AreaList",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$areaList",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Config",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ScopeInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$configScope",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Webapi",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Rest",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Request",62],["T_NS_SEPARATOR","\\",62],["T_STRING","DeserializerFactory",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$deserializerFactory",62],",",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$uri",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","null",63],["T_WHITESPACE","\n    ",63],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_STRING","parent",65],["T_DOUBLE_COLON","::",65],["T_STRING","__construct",65],"(",["T_VARIABLE","$cookieReader",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$converter",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$areaList",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$configScope",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$uri",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_deserializerFactory",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$deserializerFactory",66],";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Get request deserializer.\n     *\n     * @return \\Magento\\Framework\\Webapi\\Rest\\Request\\DeserializerInterface\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","_getDeserializer",74],"(",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_STRING","null",76],["T_WHITESPACE"," ",76],["T_IS_IDENTICAL","===",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_deserializer",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_deserializer",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_deserializerFactory",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getContentType",77],"(",")",")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_deserializer",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Retrieve accept types understandable by requester in a form of array sorted by quality in descending order.\n     *\n     * @return string[]\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getAcceptTypes",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$qualityToTypes",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[","]",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$orderedTypes",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[","]",";",["T_WHITESPACE","\n\n        ",90],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_STRING","preg_split",92],"(",["T_CONSTANT_ENCAPSED_STRING","'\/,\\s*\/'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getHeader",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept'",92],")",")",["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$definition",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$typeWithQ",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","explode",93],"(",["T_CONSTANT_ENCAPSED_STRING","';'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$definition",93],")",";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$mimeType",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","trim",94],"(",["T_STRING","array_shift",94],"(",["T_VARIABLE","$typeWithQ",94],")",")",";",["T_WHITESPACE","\n\n            ",94],["T_COMMENT","\/\/ check MIME type validity\n",96],["T_WHITESPACE","            ",97],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_STRING","preg_match",97],"(",["T_CONSTANT_ENCAPSED_STRING","'~^([0-9a-z*+\\-]+)(?:\/([0-9a-z*+\\-\\.]+))?$~i'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$mimeType",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_CONTINUE","continue",98],";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$quality",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'1.0'",100],";",["T_WHITESPACE","\n            ",100],["T_COMMENT","\/\/ default value for quality\n",101],["T_WHITESPACE","\n            ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$typeWithQ",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$qAndValue",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","explode",104],"(",["T_CONSTANT_ENCAPSED_STRING","'='",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$typeWithQ",104],"[",["T_LNUMBER","0",104],"]",")",";",["T_WHITESPACE","\n\n                ",104],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_LNUMBER","2",106],["T_WHITESPACE"," ",106],["T_IS_EQUAL","==",106],["T_WHITESPACE"," ",106],["T_STRING","count",106],"(",["T_VARIABLE","$qAndValue",106],")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$quality",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$qAndValue",107],"[",["T_LNUMBER","1",107],"]",";",["T_WHITESPACE","\n                ",107],"}",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$qualityToTypes",110],"[",["T_VARIABLE","$quality",110],"]","[",["T_VARIABLE","$mimeType",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","true",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_STRING","krsort",112],"(",["T_VARIABLE","$qualityToTypes",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$qualityToTypes",114],["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$typeList",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$orderedTypes",115],["T_WHITESPACE"," ",115],["T_PLUS_EQUAL","+=",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$typeList",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_EMPTY","empty",117],"(",["T_VARIABLE","$orderedTypes",117],")",["T_WHITESPACE"," ",117],"?",["T_WHITESPACE"," ",117],"[",["T_STRING","self",117],["T_DOUBLE_COLON","::",117],["T_STRING","DEFAULT_ACCEPT",117],"]",["T_WHITESPACE"," ",117],":",["T_WHITESPACE"," ",117],["T_STRING","array_keys",117],"(",["T_VARIABLE","$orderedTypes",117],")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Fetch data from HTTP Request body.\n     *\n     * @return array\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getBodyParams",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_STRING","null",127],["T_WHITESPACE"," ",127],["T_IS_EQUAL","==",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_bodyParams",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_bodyParams",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[","]",";",["T_WHITESPACE","\n            ",128],["T_COMMENT","\/\/avoid JSON decoding with empty string\n",129],["T_WHITESPACE","            ",130],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getContent",130],"(",")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_bodyParams",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY_CAST","(array)",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_getDeserializer",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","deserialize",131],"(",["T_STRING_CAST","(string)",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getContent",131],"(",")",")",";",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n\n        ",132],"}",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_bodyParams",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Get Content-Type of request.\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\InputException\n     *\/",138],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getContentType",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$headerValue",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getHeader",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",146],")",";",["T_WHITESPACE","\n\n        ",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_VARIABLE","$headerValue",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_THROW","throw",149],["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Framework",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Exception",149],["T_NS_SEPARATOR","\\",149],["T_STRING","InputException",149],"(",["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_STRING","Phrase",149],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type header is empty.'",149],")",")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","!",["T_STRING","preg_match",151],"(",["T_CONSTANT_ENCAPSED_STRING","'~^([a-z\\d\/\\-+.]+)(?:; *charset=(.+))?$~Ui'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$headerValue",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$matches",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_THROW","throw",152],["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Framework",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Exception",152],["T_NS_SEPARATOR","\\",152],["T_STRING","InputException",152],"(",["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","Phrase",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type header is invalid.'",152],")",")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_COMMENT","\/\/ request encoding check if it is specified in header\n",154],["T_WHITESPACE","        ",155],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_ISSET","isset",155],"(",["T_VARIABLE","$matches",155],"[",["T_LNUMBER","2",155],"]",")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_STRING","self",155],["T_DOUBLE_COLON","::",155],["T_STRING","REQUEST_CHARSET",155],["T_WHITESPACE"," ",155],["T_IS_NOT_EQUAL","!=",155],["T_WHITESPACE"," ",155],["T_STRING","strtolower",155],"(",["T_VARIABLE","$matches",155],"[",["T_LNUMBER","2",155],"]",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Exception",156],["T_NS_SEPARATOR","\\",156],["T_STRING","InputException",156],"(",["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","Phrase",156],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8 is the only supported charset.'",156],")",")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$matches",159],"[",["T_LNUMBER","1",159],"]",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Retrieve current HTTP method.\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\InputException\n     *\/",162],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getHttpMethod",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(","!",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","isGet",170],"(",")",["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],"!",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","isPost",170],"(",")",["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],"!",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","isPut",170],"(",")",["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],"!",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","isDelete",170],"(",")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_THROW","throw",171],["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Framework",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Exception",171],["T_NS_SEPARATOR","\\",171],["T_STRING","InputException",171],"(",["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","Phrase",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Request method is invalid.'",171],")",")",";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getMethod",173],"(",")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Fetch and return parameter data from the request.\n     *\n     * @return array\n     *\/",176],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getRequestData",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$requestBodyParams",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],"[","]",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$params",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getParams",184],"(",")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$httpMethod",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getHttpMethod",186],"(",")",";",["T_WHITESPACE","\n        ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$httpMethod",187],["T_WHITESPACE"," ",187],["T_IS_EQUAL","==",187],["T_WHITESPACE"," ",187],["T_STRING","self",187],["T_DOUBLE_COLON","::",187],["T_STRING","HTTP_METHOD_POST",187],["T_WHITESPACE"," ",187],["T_BOOLEAN_OR","||",187],["T_WHITESPACE","\n            ",187],["T_VARIABLE","$httpMethod",188],["T_WHITESPACE"," ",188],["T_IS_EQUAL","==",188],["T_WHITESPACE"," ",188],["T_STRING","self",188],["T_DOUBLE_COLON","::",188],["T_STRING","HTTP_METHOD_PUT",188],["T_WHITESPACE","\n        ",188],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$requestBodyParams",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getBodyParams",190],"(",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_STRING","array_merge",193],"(",["T_VARIABLE","$requestBodyParams",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$params",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Override request body property value with matching url path parameter value\n     *\n     * This method assumes that webapi.xml url defines the substitution parameter as camelCase to the actual\n     * snake case key described as part of the api contract. example: \/:parentId\/nestedResource\/:entityId.\n     * Here :entityId value will be used for overriding 'entity_id' property in the body.\n     * Since Webapi framework allows both camelCase and snakeCase, either of them will be substituted for now.\n     * If the request body is missing url path parameter as property, it will be added to the body.\n     * This method works only requests with scalar properties at top level or properties of single object embedded\n     * in the request body.\n     * Only the last path parameter value will be substituted from the url in case of multiple parameters.\n     *\n     * @param array $urlPathParams url path parameters as array\n     * @return array\n     *\n     * @deprecated\n     * @see \\Magento\\Webapi\\Controller\\Rest\\ParamsOverrider::overrideRequestBodyIdWithPathParam\n     *\/",196],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","overrideRequestBodyIdWithPathParam",214],"(",["T_VARIABLE","$urlPathParams",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$requestBodyParams",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getBodyParams",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$pathParamValue",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","end",217],"(",["T_VARIABLE","$urlPathParams",217],")",";",["T_WHITESPACE","\n        ",217],["T_COMMENT","\/\/ Self apis should not be overridden\n",218],["T_WHITESPACE","        ",219],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$pathParamValue",219],["T_WHITESPACE"," ",219],["T_IS_IDENTICAL","===",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'me'",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$requestBodyParams",220],";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$pathParamKey",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","key",222],"(",["T_VARIABLE","$urlPathParams",222],")",";",["T_WHITESPACE","\n        ",222],["T_COMMENT","\/\/ Check if the request data is a top level object of body\n",223],["T_WHITESPACE","        ",224],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_STRING","count",224],"(",["T_VARIABLE","$requestBodyParams",224],")",["T_WHITESPACE"," ",224],["T_IS_EQUAL","==",224],["T_WHITESPACE"," ",224],["T_LNUMBER","1",224],["T_WHITESPACE"," ",224],["T_BOOLEAN_AND","&&",224],["T_WHITESPACE"," ",224],["T_STRING","is_array",224],"(",["T_STRING","end",224],"(",["T_VARIABLE","$requestBodyParams",224],")",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$requestDataKey",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","key",225],"(",["T_VARIABLE","$requestBodyParams",225],")",";",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","substituteParameters",226],"(",["T_VARIABLE","$requestBodyParams",226],"[",["T_VARIABLE","$requestDataKey",226],"]",",",["T_WHITESPACE"," ",226],["T_VARIABLE","$pathParamKey",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$pathParamValue",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE"," ",227],["T_ELSE","else",227],["T_WHITESPACE"," ",227],"{",["T_WHITESPACE"," ",227],["T_COMMENT","\/\/ Else parameters passed as scalar values in body will be overridden\n",227],["T_WHITESPACE","            ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","substituteParameters",228],"(",["T_VARIABLE","$requestBodyParams",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$pathParamKey",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$pathParamValue",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$requestBodyParams",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Check presence for both camelCase and snake_case keys in array and substitute if either is present\n     *\n     * @param array $requestData\n     * @param string $key\n     * @param string $value\n     * @return void\n     * @deprecated\n     * @see \\Magento\\Webapi\\Controller\\Rest\\ParamsOverrider::substituteParameters\n     *\/",234],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","substituteParameters",244],"(","&",["T_VARIABLE","$requestData",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$key",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$value",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$snakeCaseKey",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","SimpleDataObjectConverter",246],["T_DOUBLE_COLON","::",246],["T_STRING","camelCaseToSnakeCase",246],"(",["T_VARIABLE","$key",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$camelCaseKey",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","SimpleDataObjectConverter",247],["T_DOUBLE_COLON","::",247],["T_STRING","snakeCaseToCamelCase",247],"(",["T_VARIABLE","$key",247],")",";",["T_WHITESPACE","\n\n        ",247],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_ISSET","isset",249],"(",["T_VARIABLE","$requestData",249],"[",["T_VARIABLE","$camelCaseKey",249],"]",")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$requestData",250],"[",["T_VARIABLE","$camelCaseKey",250],"]",["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$value",250],";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE"," ",251],["T_ELSE","else",251],["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$requestData",252],"[",["T_VARIABLE","$snakeCaseKey",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$value",252],";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n",254],"}",["T_WHITESPACE","\n",255]]