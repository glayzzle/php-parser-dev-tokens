[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Framework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Webapi",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Rest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Response",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Webapi",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Rest",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Request",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","RestRequest",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class to handle partial service response\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FieldsFilter",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","FILTER_PARAMETER",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'fields'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/** @var RestRequest *\/",18],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_request",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Initialize dependencies\n     *\n     * @param RestRequest $request\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","__construct",26],"(",["T_STRING","RestRequest",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$request",26],")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","_request",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$request",28],";",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Process filter from the request and apply over response to get the partial results\n     *\n     * @param array $response\n     * @return array partial response array or empty array if invalid filter criteria is provided\n     *\/",31],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","filter",37],"(",["T_VARIABLE","$response",37],")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$filter",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_request",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getParam",39],"(",["T_STRING","self",39],["T_DOUBLE_COLON","::",39],["T_STRING","FILTER_PARAMETER",39],")",";",["T_WHITESPACE","\n        ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(","!",["T_STRING","is_string",40],"(",["T_VARIABLE","$filter",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],"[","]",";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$filterArray",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","parse",43],"(",["T_VARIABLE","$filter",43],")",";",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$filterArray",44],["T_WHITESPACE"," ",44],["T_IS_IDENTICAL","===",44],["T_WHITESPACE"," ",44],["T_STRING","null",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_RETURN","return",45],["T_WHITESPACE"," ",45],"[","]",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$partialResponse",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","applyFilter",47],"(",["T_VARIABLE","$response",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$filterArray",47],")",";",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$partialResponse",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Parse filter string into associative array. Field names are returned as keys with values for scalar fields as 1.\n     *\n     * @param string $filterString\n     * <pre>\n     *  ex. customer[id,email],addresses[city,postcode,region[region_code,region]]\n     * <\/pre>\n     * @return array|null\n     * <pre>\n     *  ex.\n     * array(\n     *      'customer' =>\n     *           array(\n     *               'id' => 1,\n     *               'email' => 1,\n     *               ),\n     *      'addresses' =>\n     *           array(\n     *               'city' => 1,\n     *               'postcode' => 1,\n     *                   'region' =>\n     *                       array(\n     *                           'region_code' => 1,\n     *                           'region' => 1,\n     *                         ),\n     *               ),\n     *      )\n     * <\/pre>\n     *\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",51],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","parse",82],"(",["T_VARIABLE","$filterString",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$length",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","strlen",84],"(",["T_VARIABLE","$filterString",84],")",";",["T_WHITESPACE","\n        ",84],["T_COMMENT","\/\/Permissible characters in filter string: letter, number, underscore, square brackets and comma\n",85],["T_WHITESPACE","        ",86],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$length",86],["T_WHITESPACE"," ",86],["T_IS_EQUAL","==",86],["T_WHITESPACE"," ",86],["T_LNUMBER","0",86],["T_WHITESPACE"," ",86],["T_BOOLEAN_OR","||",86],["T_WHITESPACE"," ",86],["T_STRING","preg_match",86],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^\\w\\[\\],]+\/'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$filterString",86],")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","null",87],";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$start",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","null",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$current",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$stack",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[","]",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$parent",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"[","]",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$currentElement",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","null",94],";",["T_WHITESPACE","\n\n        ",94],["T_FOR","for",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$position",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_LNUMBER","0",96],";",["T_WHITESPACE"," ",96],["T_VARIABLE","$position",96],["T_WHITESPACE"," ",96],"<",["T_WHITESPACE"," ",96],["T_VARIABLE","$length",96],";",["T_WHITESPACE"," ",96],["T_VARIABLE","$position",96],["T_INC","++",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_COMMENT","\/\/Extracting field when encountering field separators\n",97],["T_WHITESPACE","            ",98],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_STRING","in_array",98],"(",["T_VARIABLE","$filterString",98],"[",["T_VARIABLE","$position",98],"]",",",["T_WHITESPACE"," ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'['",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","']'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","','",98],"]",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$start",99],["T_WHITESPACE"," ",99],["T_IS_NOT_IDENTICAL","!==",99],["T_WHITESPACE"," ",99],["T_STRING","null",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                    ",99],["T_VARIABLE","$currentElement",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","substr",100],"(",["T_VARIABLE","$filterString",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$start",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$position",100],["T_WHITESPACE"," ",100],"-",["T_WHITESPACE"," ",100],["T_VARIABLE","$start",100],")",";",["T_WHITESPACE","\n                    ",100],["T_VARIABLE","$current",101],"[",["T_VARIABLE","$currentElement",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_LNUMBER","1",101],";",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$start",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n            ",104],["T_SWITCH","switch",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$filterString",105],"[",["T_VARIABLE","$position",105],"]",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_CASE","case",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'['",106],":",["T_WHITESPACE","\n                    ",106],["T_STRING","array_push",107],"(",["T_VARIABLE","$parent",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$currentElement",107],")",";",["T_WHITESPACE","\n                    ",107],["T_COMMENT","\/\/ push current field in stack and initialize current\n",108],["T_WHITESPACE","                    ",109],["T_STRING","array_push",109],"(",["T_VARIABLE","$stack",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$current",109],")",";",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$current",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[","]",";",["T_WHITESPACE","\n                    ",110],["T_BREAK","break",111],";",["T_WHITESPACE","\n\n                ",111],["T_CASE","case",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","']'",113],":",["T_WHITESPACE","\n                    ",113],["T_COMMENT","\/\/cache current\n",114],["T_WHITESPACE","                    ",115],["T_VARIABLE","$temp",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$current",115],";",["T_WHITESPACE","\n                    ",115],["T_COMMENT","\/\/Initialize with previous\n",116],["T_WHITESPACE","                    ",117],["T_VARIABLE","$current",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","array_pop",117],"(",["T_VARIABLE","$stack",117],")",";",["T_WHITESPACE","\n                    ",117],["T_COMMENT","\/\/Add from cache\n",118],["T_WHITESPACE","                    ",119],["T_VARIABLE","$current",119],"[",["T_STRING","array_pop",119],"(",["T_VARIABLE","$parent",119],")","]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$temp",119],";",["T_WHITESPACE","\n                    ",119],["T_BREAK","break",120],";",["T_WHITESPACE","\n\n                ",120],["T_COMMENT","\/\/Do nothing on comma. On the next iteration field will be extracted\n",122],["T_WHITESPACE","                ",123],["T_CASE","case",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","','",123],":",["T_WHITESPACE","\n                    ",123],["T_BREAK","break",124],";",["T_WHITESPACE","\n\n                ",124],["T_DEFAULT","default",126],":",["T_WHITESPACE","\n                    ",126],["T_COMMENT","\/\/Move position if no field separators found\n",127],["T_WHITESPACE","                    ",128],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$start",128],["T_WHITESPACE"," ",128],["T_IS_IDENTICAL","===",128],["T_WHITESPACE"," ",128],["T_STRING","null",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                        ",128],["T_VARIABLE","$start",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$position",129],";",["T_WHITESPACE","\n                    ",129],"}",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_COMMENT","\/\/Check for wrongly formatted filter\n",133],["T_WHITESPACE","        ",134],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_EMPTY","empty",134],"(",["T_VARIABLE","$stack",134],")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","null",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_COMMENT","\/\/Check if there's any field remaining that's not added to response\n",137],["T_WHITESPACE","        ",138],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$start",138],["T_WHITESPACE"," ",138],["T_IS_NOT_IDENTICAL","!==",138],["T_WHITESPACE"," ",138],["T_STRING","null",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$currentElement",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","substr",139],"(",["T_VARIABLE","$filterString",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$start",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$position",139],["T_WHITESPACE"," ",139],"-",["T_WHITESPACE"," ",139],["T_VARIABLE","$start",139],")",";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$current",140],"[",["T_VARIABLE","$currentElement",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_LNUMBER","1",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$current",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Apply filter array\n     *\n     * @param array $responseArray\n     * @param array $filter\n     * @return array\n     *\/",145],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","applyFilter",152],"(",["T_ARRAY","array",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$responseArray",152],",",["T_WHITESPACE"," ",152],["T_ARRAY","array",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$filter",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$arrayIntersect",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","null",154],";",["T_WHITESPACE","\n        ",154],["T_COMMENT","\/\/Check if its a sequential array. Presence of sequential arrays mean that the filed is a collection\n",155],["T_WHITESPACE","        ",156],["T_COMMENT","\/\/and the filtering will be applied to all the collection items\n",156],["T_WHITESPACE","        ",157],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_BOOL_CAST","(bool)",157],["T_STRING","count",157],"(",["T_STRING","array_filter",157],"(",["T_STRING","array_keys",157],"(",["T_VARIABLE","$responseArray",157],")",",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'is_string'",157],")",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_FOREACH","foreach",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$responseArray",158],["T_WHITESPACE"," ",158],["T_AS","as",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$key",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],"&",["T_VARIABLE","$item",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$arrayIntersect",159],"[",["T_VARIABLE","$key",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","recursiveArrayIntersectKey",159],"(",["T_VARIABLE","$item",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$filter",159],")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE"," ",161],["T_ELSE","else",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$arrayIntersect",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","recursiveArrayIntersectKey",162],"(",["T_VARIABLE","$responseArray",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$filter",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$arrayIntersect",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Recursively compute intersection of response and filter arrays\n     *\n     * @param array $array1\n     * @param array $array2\n     * @return array\n     *\/",167],["T_WHITESPACE","\n    ",173],["T_PROTECTED","protected",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","recursiveArrayIntersectKey",174],"(",["T_ARRAY","array",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$array1",174],",",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$array2",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_COMMENT","\/\/If the field in array2 (filter) is not present in array1 (response) it will be removed after intersect\n",176],["T_WHITESPACE","        ",177],["T_VARIABLE","$arrayIntersect",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","array_intersect_key",177],"(",["T_VARIABLE","$array1",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$array2",177],")",";",["T_WHITESPACE","\n        ",177],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$arrayIntersect",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$key",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],"&",["T_VARIABLE","$value",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_STRING","is_array",179],"(",["T_VARIABLE","$value",179],")",["T_WHITESPACE"," ",179],["T_BOOLEAN_AND","&&",179],["T_WHITESPACE"," ",179],["T_STRING","is_array",179],"(",["T_VARIABLE","$array2",179],"[",["T_VARIABLE","$key",179],"]",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$value",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","applyFilter",180],"(",["T_VARIABLE","$value",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$array2",180],"[",["T_VARIABLE","$key",180],"]",")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$arrayIntersect",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n",184],"}",["T_WHITESPACE","\n",185]]