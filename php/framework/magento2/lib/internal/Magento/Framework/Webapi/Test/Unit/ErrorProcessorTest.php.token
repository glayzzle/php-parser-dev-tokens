[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Test Webapi Error Processor.\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Webapi",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Webapi",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ErrorProcessor",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AuthorizationException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","NoSuchEntityException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Webapi",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","WebapiException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Phrase",15],";",["T_WHITESPACE","\n\n",15],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","ErrorProcessorTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/** @var ErrorProcessor *\/",19],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_errorProcessor",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Json\\Encoder *\/",22],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$encoderMock",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/** @var \\PHPUnit_Framework_MockObject_MockObject *\/",25],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_appStateMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/** @var \\Psr\\Log\\LoggerInterface *\/",28],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_loggerMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_DOC_COMMENT","\/** Set up mocks for SUT. *\/",33],["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","encoderMock",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMockBuilder",34],"(",["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Json",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Encoder",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","disableOriginalConstructor",35],"(",")",["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","setMethods",36],"(","[",["T_CONSTANT_ENCAPSED_STRING","'encode'",36],"]",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","getMock",37],"(",")",";",["T_WHITESPACE","\n\n        ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_appStateMock",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getMockBuilder",39],"(",["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","App",39],["T_NS_SEPARATOR","\\",39],["T_STRING","State",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","disableOriginalConstructor",40],"(",")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMock",41],"(",")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_loggerMock",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMockBuilder",43],"(",["T_NS_SEPARATOR","\\",43],["T_STRING","Psr",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Log",43],["T_NS_SEPARATOR","\\",43],["T_STRING","LoggerInterface",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","getMock",43],"(",")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$filesystemMock",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMockBuilder",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Filesystem",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","disableOriginalConstructor",46],"(",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMock",47],"(",")",";",["T_WHITESPACE","\n\n        ",47],["T_DOC_COMMENT","\/** Initialize SUT. *\/",49],["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_errorProcessor",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","ErrorProcessor",50],"(",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","encoderMock",51],",",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_appStateMock",52],",",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_loggerMock",53],",",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$filesystemMock",54],["T_WHITESPACE","\n        ",54],")",";",["T_WHITESPACE","\n\n        ",55],["T_STRING","parent",57],["T_DOUBLE_COLON","::",57],["T_STRING","setUp",57],"(",")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","tearDown",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_UNSET","unset",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_errorProcessor",62],")",";",["T_WHITESPACE","\n        ",62],["T_UNSET","unset",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","encoderMock",63],")",";",["T_WHITESPACE","\n        ",63],["T_UNSET","unset",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_appStateMock",64],")",";",["T_WHITESPACE","\n        ",64],["T_STRING","parent",65],["T_DOUBLE_COLON","::",65],["T_STRING","tearDown",65],"(",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Test render method in JSON format.\n     *\n     * @return void\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","testRenderJson",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$_SERVER",75],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'json'",75],";",["T_WHITESPACE","\n        ",75],["T_DOC_COMMENT","\/** Assert that jsonEncode method will be executed once. *\/",76],["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","encoderMock",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","expects",77],"(",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","once",78],"(",")",["T_WHITESPACE","\n        ",78],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","method",79],"(",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'encode'",80],["T_WHITESPACE","\n        ",80],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","will",81],"(",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","returnCallback",82],"(","[",["T_VARIABLE","$this",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'callbackJsonEncode'",82],"]",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","returnArgument",82],"(",["T_LNUMBER","0",82],")",")",["T_WHITESPACE","\n        ",82],")",";",["T_WHITESPACE","\n        ",83],["T_DOC_COMMENT","\/** Init output buffering to catch output via echo function. *\/",84],["T_WHITESPACE","\n        ",84],["T_STRING","ob_start",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_errorProcessor",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","renderErrorMessage",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",86],")",";",["T_WHITESPACE","\n        ",86],["T_DOC_COMMENT","\/** Get output buffer. *\/",87],["T_WHITESPACE","\n        ",87],["T_VARIABLE","$actualResult",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","ob_get_contents",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_STRING","ob_end_clean",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$expectedResult",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'{\"messages\":{\"error\":[{\"code\":500,\"message\":\"Message\"}]}}'",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertEquals",91],"(",["T_VARIABLE","$expectedResult",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$actualResult",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Invalid rendering in JSON.'",91],")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Callback function for RenderJson and RenderJsonInDeveloperMode tests.\n     *\n     * Method encodes data to JSON and returns it.\n     *\n     * @param array $data\n     * @return string\n     *\/",94],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","callbackJsonEncode",102],"(",["T_VARIABLE","$data",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","json_encode",104],"(",["T_VARIABLE","$data",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Test render method in JSON format with turned on developer mode.\n     * @return void\n     *\/",107],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testRenderJsonInDeveloperMode",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$_SERVER",113],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'json'",113],";",["T_WHITESPACE","\n        ",113],["T_DOC_COMMENT","\/** Mock app to return enabled developer mode flag. *\/",114],["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_appStateMock",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","expects",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","any",115],"(",")",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","method",115],"(",["T_CONSTANT_ENCAPSED_STRING","'getMode'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","will",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","returnValue",115],"(",["T_CONSTANT_ENCAPSED_STRING","'developer'",115],")",")",";",["T_WHITESPACE","\n        ",115],["T_DOC_COMMENT","\/** Assert that jsonEncode method will be executed once. *\/",116],["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","encoderMock",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","once",118],"(",")",["T_WHITESPACE","\n        ",118],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","method",119],"(",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'encode'",120],["T_WHITESPACE","\n        ",120],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","will",121],"(",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","returnCallback",122],"(","[",["T_VARIABLE","$this",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'callbackJsonEncode'",122],"]",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","returnArgument",122],"(",["T_LNUMBER","0",122],")",")",["T_WHITESPACE","\n        ",122],")",";",["T_WHITESPACE","\n        ",123],["T_STRING","ob_start",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_errorProcessor",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","renderErrorMessage",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Message trace.'",125],",",["T_WHITESPACE"," ",125],["T_LNUMBER","401",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$actualResult",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","ob_get_contents",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_STRING","ob_end_clean",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$expectedResult",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'{\"messages\":{\"error\":[{\"code\":401,\"message\":\"Message\",\"trace\":\"Message trace.\"}]}}'",128],";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEquals",129],"(",["T_VARIABLE","$expectedResult",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$actualResult",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Invalid rendering in JSON.'",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Test render method in XML format.\n     * @return void\n     *\/",132],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","testRenderXml",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$_SERVER",138],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'xml'",138],";",["T_WHITESPACE","\n        ",138],["T_DOC_COMMENT","\/** Init output buffering to catch output via echo function. *\/",139],["T_WHITESPACE","\n        ",139],["T_STRING","ob_start",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_errorProcessor",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","renderErrorMessage",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",141],")",";",["T_WHITESPACE","\n        ",141],["T_DOC_COMMENT","\/** Get output buffer. *\/",142],["T_WHITESPACE","\n        ",142],["T_VARIABLE","$actualResult",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","ob_get_contents",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_STRING","ob_end_clean",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$expectedResult",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\"?><error><messages><error><data_item><code>500<\/code>'",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'<message><![CDATA[Message]]><\/message><\/data_item><\/error><\/messages><\/error>'",146],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEquals",147],"(",["T_VARIABLE","$expectedResult",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$actualResult",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Invalid rendering in XML.'",147],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Test render method in XML format with turned on developer mode.\n     * @return void\n     *\/",150],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","testRenderXmlInDeveloperMode",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$_SERVER",156],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",156],"]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'xml'",156],";",["T_WHITESPACE","\n        ",156],["T_DOC_COMMENT","\/** Mock app to return enabled developer mode flag. *\/",157],["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_appStateMock",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","expects",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","any",158],"(",")",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","method",158],"(",["T_CONSTANT_ENCAPSED_STRING","'getMode'",158],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","will",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","returnValue",158],"(",["T_CONSTANT_ENCAPSED_STRING","'developer'",158],")",")",";",["T_WHITESPACE","\n        ",158],["T_DOC_COMMENT","\/** Init output buffering to catch output via echo function. *\/",159],["T_WHITESPACE","\n        ",159],["T_STRING","ob_start",160],"(",")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_errorProcessor",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","renderErrorMessage",161],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Trace message.'",161],",",["T_WHITESPACE"," ",161],["T_LNUMBER","401",161],")",";",["T_WHITESPACE","\n        ",161],["T_DOC_COMMENT","\/** Get output buffer. *\/",162],["T_WHITESPACE","\n        ",162],["T_VARIABLE","$actualResult",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","ob_get_contents",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_STRING","ob_end_clean",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$expectedResult",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\"?><error><messages><error><data_item><code>401<\/code><message>'",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","'<![CDATA[Message]]><\/message><trace><![CDATA[Trace message.]]><\/trace><\/data_item><\/error>'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'<\/messages><\/error>'",167],";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEquals",168],"(",["T_VARIABLE","$expectedResult",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$actualResult",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'Invalid rendering in XML with turned on developer mode.'",168],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Test default render format is JSON.\n     * @return void\n     *\/",171],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","testRenderDefaultFormat",175],"(",")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_DOC_COMMENT","\/** Set undefined rendering format. *\/",177],["T_WHITESPACE","\n        ",177],["T_VARIABLE","$_SERVER",178],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",178],"]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'undefined'",178],";",["T_WHITESPACE","\n        ",178],["T_DOC_COMMENT","\/** Assert that jsonEncode method will be executed at least once. *\/",179],["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","encoderMock",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","expects",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","atLeastOnce",180],"(",")",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","method",180],"(",["T_CONSTANT_ENCAPSED_STRING","'encode'",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_errorProcessor",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","renderErrorMessage",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Test maskException method with turned on developer mode.\n     * @return void\n     *\/",184],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","testMaskExceptionInDeveloperMode",188],"(",")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_DOC_COMMENT","\/** Mock app isDeveloperMode to return true. *\/",190],["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_appStateMock",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","expects",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","once",191],"(",")",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'getMode'",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","will",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","returnValue",191],"(",["T_CONSTANT_ENCAPSED_STRING","'developer'",191],")",")",";",["T_WHITESPACE","\n        ",191],["T_DOC_COMMENT","\/** Init Logical exception. *\/",192],["T_WHITESPACE","\n        ",192],["T_VARIABLE","$errorMessage",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'Error Message'",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$logicalException",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_NS_SEPARATOR","\\",194],["T_STRING","LogicException",194],"(",["T_VARIABLE","$errorMessage",194],")",";",["T_WHITESPACE","\n        ",194],["T_DOC_COMMENT","\/** Assert that Logic exception is converted to WebapiException without message obfuscation. *\/",195],["T_WHITESPACE","\n        ",195],["T_VARIABLE","$maskedException",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_errorProcessor",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","maskException",196],"(",["T_VARIABLE","$logicalException",196],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertInstanceOf",197],"(",["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Framework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Webapi",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Exception",197],["T_DOUBLE_COLON","::",197],["T_CLASS","class",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$maskedException",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertEquals",198],"(",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$errorMessage",199],",",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$maskedException",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getMessage",200],"(",")",",",["T_WHITESPACE","\n            ",200],["T_CONSTANT_ENCAPSED_STRING","'Exception was masked incorrectly in developer mode.'",201],["T_WHITESPACE","\n        ",201],")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Test sendResponse method with various exceptions\n     *\n     * @param \\Exception $exception\n     * @param int $expectedHttpCode\n     * @param string $expectedMessage\n     * @param array $expectedDetails\n     * @return void\n     * @dataProvider dataProviderForSendResponseExceptions\n     *\/",205],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","testMaskException",215],"(",["T_VARIABLE","$exception",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$expectedHttpCode",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$expectedMessage",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$expectedDetails",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_DOC_COMMENT","\/** Assert that exception was logged. *\/",217],["T_WHITESPACE","\n        ",217],["T_COMMENT","\/\/ TODO:MAGETWO-21077 $this->_loggerMock->expects($this->once())->method('critical');\n",218],["T_WHITESPACE","        ",219],["T_VARIABLE","$maskedException",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_errorProcessor",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","maskException",219],"(",["T_VARIABLE","$exception",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","assertMaskedException",220],"(",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$maskedException",221],",",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$expectedHttpCode",222],",",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$expectedMessage",223],",",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$expectedDetails",224],["T_WHITESPACE","\n        ",224],")",";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Test logged exception is the same as the thrown one in production mode\n     *\/",228],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","testCriticalExceptionStackTrace",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$thrownException",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_NEW","new",233],["T_WHITESPACE"," ",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Exception",233],"(",["T_CONSTANT_ENCAPSED_STRING","''",233],",",["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],")",";",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_loggerMock",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","expects",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","once",235],"(",")",")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","method",236],"(",["T_CONSTANT_ENCAPSED_STRING","'critical'",236],")",["T_WHITESPACE","\n            ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","will",237],"(",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","returnCallback",238],"(",["T_WHITESPACE","\n                    ",238],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],"(",["T_NS_SEPARATOR","\\",239],["T_STRING","Exception",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$loggedException",239],")",["T_WHITESPACE"," ",239],["T_USE","use",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$thrownException",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertSame",240],"(",["T_VARIABLE","$thrownException",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$loggedException",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getPrevious",240],"(",")",")",";",["T_WHITESPACE","\n                    ",240],"}",["T_WHITESPACE","\n                ",241],")",["T_WHITESPACE","\n            ",242],")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_errorProcessor",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","maskException",244],"(",["T_VARIABLE","$thrownException",244],")",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",247],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","dataProviderForSendResponseExceptions",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],"[",["T_WHITESPACE","\n            ",252],["T_CONSTANT_ENCAPSED_STRING","'NoSuchEntityException'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],"[",["T_WHITESPACE","\n                ",253],["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_STRING","NoSuchEntityException",254],"(",["T_WHITESPACE","\n                    ",254],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_STRING","Phrase",255],"(",["T_WHITESPACE","\n                        ",255],["T_CONSTANT_ENCAPSED_STRING","'No such entity with %fieldName = %fieldValue, %field2Name = %field2Value'",256],",",["T_WHITESPACE","\n                        ",256],"[",["T_WHITESPACE","\n                            ",257],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'detail1'",258],",",["T_WHITESPACE","\n                            ",258],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'value1'",259],",",["T_WHITESPACE","\n                            ",259],["T_CONSTANT_ENCAPSED_STRING","'field2Name'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'resource_id'",260],",",["T_WHITESPACE","\n                            ",260],["T_CONSTANT_ENCAPSED_STRING","'field2Value'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'resource10'",261],",",["T_WHITESPACE","\n                        ",261],"]",["T_WHITESPACE","\n                    ",262],")",["T_WHITESPACE","\n                ",263],")",",",["T_WHITESPACE","\n                ",264],["T_NS_SEPARATOR","\\",265],["T_STRING","Magento",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Framework",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Webapi",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Exception",265],["T_DOUBLE_COLON","::",265],["T_STRING","HTTP_NOT_FOUND",265],",",["T_WHITESPACE","\n                ",265],["T_CONSTANT_ENCAPSED_STRING","'No such entity with %fieldName = %fieldValue, %field2Name = %field2Value'",266],",",["T_WHITESPACE","\n                ",266],"[",["T_WHITESPACE","\n                    ",267],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'detail1'",268],",",["T_WHITESPACE","\n                    ",268],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'value1'",269],",",["T_WHITESPACE","\n                    ",269],["T_CONSTANT_ENCAPSED_STRING","'field2Name'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'resource_id'",270],",",["T_WHITESPACE","\n                    ",270],["T_CONSTANT_ENCAPSED_STRING","'field2Value'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'resource10'",271],",",["T_WHITESPACE","\n                ",271],"]",",",["T_WHITESPACE","\n            ",272],"]",",",["T_WHITESPACE","\n            ",273],["T_CONSTANT_ENCAPSED_STRING","'NoSuchEntityException (Empty message)'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n                ",274],["T_NEW","new",275],["T_WHITESPACE"," ",275],["T_STRING","NoSuchEntityException",275],"(",")",",",["T_WHITESPACE","\n                ",275],["T_STRING","WebapiException",276],["T_DOUBLE_COLON","::",276],["T_STRING","HTTP_NOT_FOUND",276],",",["T_WHITESPACE","\n                ",276],["T_CONSTANT_ENCAPSED_STRING","'No such entity.'",277],",",["T_WHITESPACE","\n                ",277],"[","]",",",["T_WHITESPACE","\n            ",278],"]",",",["T_WHITESPACE","\n            ",279],["T_CONSTANT_ENCAPSED_STRING","'AuthorizationException'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],"[",["T_WHITESPACE","\n                ",280],["T_NEW","new",281],["T_WHITESPACE"," ",281],["T_STRING","AuthorizationException",281],"(",["T_WHITESPACE","\n                    ",281],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","Phrase",282],"(",["T_WHITESPACE","\n                        ",282],["T_CONSTANT_ENCAPSED_STRING","'Consumer %consumer_id is not authorized to access %resources'",283],",",["T_WHITESPACE","\n                        ",283],"[",["T_CONSTANT_ENCAPSED_STRING","'consumer_id'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'3'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'resources'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'4'",284],"]",["T_WHITESPACE","\n                    ",284],")",["T_WHITESPACE","\n                ",285],")",",",["T_WHITESPACE","\n                ",286],["T_STRING","WebapiException",287],["T_DOUBLE_COLON","::",287],["T_STRING","HTTP_UNAUTHORIZED",287],",",["T_WHITESPACE","\n                ",287],["T_CONSTANT_ENCAPSED_STRING","'Consumer %consumer_id is not authorized to access %resources'",288],",",["T_WHITESPACE","\n                ",288],"[",["T_CONSTANT_ENCAPSED_STRING","'consumer_id'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'3'",289],",",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'resources'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'4'",289],"]",",",["T_WHITESPACE","\n            ",289],"]",",",["T_WHITESPACE","\n            ",290],["T_CONSTANT_ENCAPSED_STRING","'Exception'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],"[",["T_WHITESPACE","\n                ",291],["T_NEW","new",292],["T_WHITESPACE"," ",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Exception",292],"(",["T_CONSTANT_ENCAPSED_STRING","'Non service exception'",292],",",["T_WHITESPACE"," ",292],["T_LNUMBER","5678",292],")",",",["T_WHITESPACE","\n                ",292],["T_STRING","WebapiException",293],["T_DOUBLE_COLON","::",293],["T_STRING","HTTP_INTERNAL_ERROR",293],",",["T_WHITESPACE","\n                ",293],["T_CONSTANT_ENCAPSED_STRING","'Internal Error. Details are available in Magento log file. Report ID:'",294],",",["T_WHITESPACE","\n                ",294],"[","]",",",["T_WHITESPACE","\n            ",295],"]",["T_WHITESPACE","\n        ",296],"]",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Assert that masked exception contains expected data.\n     *\n     * @param \\Exception $maskedException\n     * @param int $expectedHttpCode\n     * @param string $expectedMessage\n     * @param array $expectedDetails\n     * @return void\n     *\/",300],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","assertMaskedException",309],"(",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$maskedException",310],",",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$expectedHttpCode",311],",",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$expectedMessage",312],",",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$expectedDetails",313],["T_WHITESPACE","\n    ",313],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n        ",314],["T_DOC_COMMENT","\/** All masked exceptions must be WebapiException *\/",315],["T_WHITESPACE","\n        ",315],["T_VARIABLE","$expectedType",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Magento",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Framework",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Webapi",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Exception",316],["T_DOUBLE_COLON","::",316],["T_CLASS","class",316],";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","assertInstanceOf",317],"(",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$expectedType",318],",",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$maskedException",319],",",["T_WHITESPACE","\n            ",319],"\"",["T_ENCAPSED_AND_WHITESPACE","Masked exception type is invalid: expected '",320],["T_CURLY_OPEN","{",320],["T_VARIABLE","$expectedType",320],"}",["T_ENCAPSED_AND_WHITESPACE","', given '",320],"\"",["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_STRING","get_class",320],"(",["T_WHITESPACE","\n                ",320],["T_VARIABLE","$maskedException",321],["T_WHITESPACE","\n            ",321],")",["T_WHITESPACE"," ",322],".",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","\"'.\"",322],["T_WHITESPACE","\n        ",322],")",";",["T_WHITESPACE","\n        ",323],["T_DOC_COMMENT","\/** @var $maskedException WebapiException *\/",324],["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","assertEquals",325],"(",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$expectedHttpCode",326],",",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$maskedException",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getHttpCode",327],"(",")",",",["T_WHITESPACE","\n            ",327],"\"",["T_ENCAPSED_AND_WHITESPACE","Masked exception HTTP code is invalid: expected '",328],["T_CURLY_OPEN","{",328],["T_VARIABLE","$expectedHttpCode",328],"}",["T_ENCAPSED_AND_WHITESPACE","', ",328],"\"",["T_WHITESPACE"," ",328],".",["T_WHITESPACE","\n            ",328],"\"",["T_ENCAPSED_AND_WHITESPACE","given '",329],["T_CURLY_OPEN","{",329],["T_VARIABLE","$maskedException",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getHttpCode",329],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","'.",329],"\"",["T_WHITESPACE","\n        ",329],")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","assertContains",331],"(",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$expectedMessage",332],",",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$maskedException",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getMessage",333],"(",")",",",["T_WHITESPACE","\n            ",333],"\"",["T_ENCAPSED_AND_WHITESPACE","Masked exception message is invalid: expected '",334],["T_CURLY_OPEN","{",334],["T_VARIABLE","$expectedMessage",334],"}",["T_ENCAPSED_AND_WHITESPACE","', ",334],"\"",["T_WHITESPACE"," ",334],".",["T_WHITESPACE","\n            ",334],"\"",["T_ENCAPSED_AND_WHITESPACE","given '",335],["T_CURLY_OPEN","{",335],["T_VARIABLE","$maskedException",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getMessage",335],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","'.",335],"\"",["T_WHITESPACE","\n        ",335],")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","assertEquals",337],"(",["T_VARIABLE","$expectedDetails",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$maskedException",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getDetails",337],"(",")",",",["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","\"Masked exception details are invalid.\"",337],")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n",338],"}",["T_WHITESPACE","\n",339]]