[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","HTTP",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","AuthenticationTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @param array $server\n     * @param string $expectedLogin\n     * @param string $expectedPass\n     * @dataProvider getCredentialsDataProvider\n     *\/",10],["T_WHITESPACE","\n    ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","testGetCredentials",16],"(",["T_VARIABLE","$server",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$expectedLogin",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$expectedPass",16],")",["T_WHITESPACE","\n    ",16],"{",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$request",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","getMock",18],"(",["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","App",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Request",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Http",18],["T_DOUBLE_COLON","::",18],["T_CLASS","class",18],",",["T_WHITESPACE"," ",18],"[","]",",",["T_WHITESPACE"," ",18],"[","]",",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","''",18],",",["T_WHITESPACE"," ",18],["T_STRING","false",18],")",";",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$request",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","expects",19],"(",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","once",19],"(",")",")",["T_OBJECT_OPERATOR","->",19],["T_STRING","method",19],"(",["T_CONSTANT_ENCAPSED_STRING","'getServerValue'",19],")",["T_OBJECT_OPERATOR","->",19],["T_STRING","will",19],"(",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","returnValue",19],"(",["T_VARIABLE","$server",19],")",")",";",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$response",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","getMock",20],"(",["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Framework",20],["T_NS_SEPARATOR","\\",20],["T_STRING","App",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Response",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Http",20],["T_DOUBLE_COLON","::",20],["T_CLASS","class",20],",",["T_WHITESPACE"," ",20],"[","]",",",["T_WHITESPACE"," ",20],"[","]",",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","''",20],",",["T_WHITESPACE"," ",20],["T_STRING","false",20],")",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$authentication",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_NEW","new",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","HTTP",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Authentication",21],"(",["T_VARIABLE","$request",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$response",21],")",";",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","assertSame",22],"(","[",["T_VARIABLE","$expectedLogin",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$expectedPass",22],"]",",",["T_WHITESPACE"," ",22],["T_VARIABLE","$authentication",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getCredentials",22],"(",")",")",";",["T_WHITESPACE","\n    ",22],"}",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","getCredentialsDataProvider",28],"(",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$login",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'login'",30],";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$password",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'password'",31],";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$header",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'Basic bG9naW46cGFzc3dvcmQ='",32],";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$anotherLogin",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'another_login'",34],";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$anotherPassword",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'another_password'",35],";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$anotherHeader",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Basic YW5vdGhlcl9sb2dpbjphbm90aGVyX3Bhc3N3b3Jk'",36],";",["T_WHITESPACE","\n\n        ",36],["T_RETURN","return",38],["T_WHITESPACE"," ",38],"[",["T_WHITESPACE","\n            ",38],"[","[","]",",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","''",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","''",39],"]",",",["T_WHITESPACE","\n            ",39],"[","[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_HTTP_AUTHORIZATION'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$header",40],"]",",",["T_WHITESPACE"," ",40],["T_VARIABLE","$login",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$password",40],"]",",",["T_WHITESPACE","\n            ",40],"[","[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_AUTHORIZATION'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$header",41],"]",",",["T_WHITESPACE"," ",41],["T_VARIABLE","$login",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$password",41],"]",",",["T_WHITESPACE","\n            ",41],"[","[",["T_CONSTANT_ENCAPSED_STRING","'Authorization'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$header",42],"]",",",["T_WHITESPACE"," ",42],["T_VARIABLE","$login",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$password",42],"]",",",["T_WHITESPACE","\n            ",42],"[",["T_WHITESPACE","\n                ",43],"[",["T_WHITESPACE","\n                    ",44],["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_HTTP_AUTHORIZATION'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$header",45],",",["T_WHITESPACE","\n                    ",45],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$anotherLogin",46],",",["T_WHITESPACE","\n                    ",46],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$anotherPassword",47],",",["T_WHITESPACE","\n                ",47],"]",",",["T_WHITESPACE","\n                ",48],["T_VARIABLE","$anotherLogin",49],",",["T_WHITESPACE","\n                ",49],["T_VARIABLE","$anotherPassword",50],["T_WHITESPACE","\n            ",50],"]",",",["T_WHITESPACE","\n            ",51],"[",["T_WHITESPACE","\n                ",52],"[",["T_WHITESPACE","\n                    ",53],["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_HTTP_AUTHORIZATION'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$header",54],",",["T_WHITESPACE","\n                    ",54],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$anotherLogin",55],",",["T_WHITESPACE","\n                    ",55],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$anotherPassword",56],",",["T_WHITESPACE","\n                ",56],"]",",",["T_WHITESPACE","\n                ",57],["T_VARIABLE","$anotherLogin",58],",",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$anotherPassword",59],["T_WHITESPACE","\n            ",59],"]",",",["T_WHITESPACE","\n            ",60],"[",["T_WHITESPACE","\n                ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_HTTP_AUTHORIZATION'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$header",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'HTTP_AUTHORIZATION'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$anotherHeader",62],"]",",",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$anotherLogin",63],",",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$anotherPassword",64],["T_WHITESPACE","\n            ",64],"]",["T_WHITESPACE","\n        ",65],"]",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","testSetAuthenticationFailed",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$objectManager",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","TestFramework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Unit",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Helper",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ObjectManager",71],"(",["T_VARIABLE","$this",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$request",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$objectManager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getObject",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","App",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Request",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Http",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$response",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$objectManager",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getObject",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","App",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Response",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Http",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$authentication",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$objectManager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getObject",76],"(",["T_WHITESPACE","\n            ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","HTTP",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Authentication",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],",",["T_WHITESPACE","\n            ",77],"[",["T_WHITESPACE","\n                ",78],["T_CONSTANT_ENCAPSED_STRING","'httpRequest'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$request",79],",",["T_WHITESPACE","\n                ",79],["T_CONSTANT_ENCAPSED_STRING","'httpResponse'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$response",80],["T_WHITESPACE","\n            ",80],"]",["T_WHITESPACE","\n        ",81],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$realm",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","uniqid",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$authentication",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setAuthenticationFailed",84],"(",["T_VARIABLE","$realm",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$headers",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$response",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getHeaders",85],"(",")",";",["T_WHITESPACE","\n\n        ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertTrue",87],"(",["T_VARIABLE","$headers",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","has",87],"(",["T_CONSTANT_ENCAPSED_STRING","'WWW-Authenticate'",87],")",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$header",88],["T_WHITESPACE","  ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$headers",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_CONSTANT_ENCAPSED_STRING","'WWW-Authenticate'",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEquals",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Basic realm=\"'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$realm",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\"'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$header",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","current",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getFieldValue",89],"(",")",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertContains",90],"(",["T_CONSTANT_ENCAPSED_STRING","'401'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$response",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getBody",90],"(",")",")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n",91],"}",["T_WHITESPACE","\n",92]]