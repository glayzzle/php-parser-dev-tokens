[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_DOC_COMMENT","\/**\n * HTTP CURL Adapter\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",9],["T_WHITESPACE","\n",13],["T_NAMESPACE","namespace",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HTTP",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Adapter",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Curl",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Zend_Http_Client_Adapter_Interface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Parameters array\n     *\n     * @var array\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_config",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_WHITESPACE","\n        ",23],["T_CONSTANT_ENCAPSED_STRING","'protocols'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],"(",["T_STRING","CURLPROTO_HTTP",24],["T_WHITESPACE","\n            ",24],"|",["T_WHITESPACE"," ",25],["T_STRING","CURLPROTO_HTTPS",25],["T_WHITESPACE","\n            ",25],"|",["T_WHITESPACE"," ",26],["T_STRING","CURLPROTO_FTP",26],["T_WHITESPACE","\n            ",26],"|",["T_WHITESPACE"," ",27],["T_STRING","CURLPROTO_FTPS",27],["T_WHITESPACE","\n        ",27],")",",",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'verifypeer'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_STRING","true",29],",",["T_WHITESPACE","\n        ",29],["T_CONSTANT_ENCAPSED_STRING","'verifyhost'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","2",30],["T_WHITESPACE","\n    ",30],"]",";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Curl handle\n     *\n     * @var resource\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_resource",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Allow parameters\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_allowedParams",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'timeout'",46],["T_WHITESPACE","      ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","CURLOPT_TIMEOUT",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","CURLOPT_MAXREDIRS",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'proxy'",48],["T_WHITESPACE","        ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","CURLOPT_PROXY",48],",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'ssl_cert'",49],["T_WHITESPACE","     ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","CURLOPT_SSLCERT",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'userpwd'",50],["T_WHITESPACE","      ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","CURLOPT_USERPWD",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'useragent'",51],["T_WHITESPACE","    ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","CURLOPT_USERAGENT",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'referer'",52],["T_WHITESPACE","      ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","CURLOPT_REFERER",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'protocols'",53],["T_WHITESPACE","    ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","CURLOPT_PROTOCOLS",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'verifypeer'",54],["T_WHITESPACE","   ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_STRING","CURLOPT_SSL_VERIFYPEER",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'verifyhost'",55],["T_WHITESPACE","   ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","CURLOPT_SSL_VERIFYHOST",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'sslversion'",56],["T_WHITESPACE","   ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","CURLOPT_SSLVERSION",56],",",["T_WHITESPACE","\n    ",56],"]",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Array of CURL options\n     *\n     * @var array\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_options",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[","]",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Apply current configuration array to transport resource\n     *\n     * @return \\Magento\\Framework\\HTTP\\Adapter\\Curl\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","_applyConfig",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_COMMENT","\/\/ apply additional options to cURL\n",73],["T_WHITESPACE","        ",74],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_options",74],["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$option",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$value",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_STRING","curl_setopt",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_getResource",75],"(",")",",",["T_WHITESPACE"," ",75],["T_VARIABLE","$option",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$value",75],")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_COMMENT","\/\/ apply config options\n",78],["T_WHITESPACE","        ",79],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getDefaultConfig",79],"(",")",["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$option",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$value",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_STRING","curl_setopt",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_getResource",80],"(",")",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$option",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$value",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Get default options\n     *\n     * @return array\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PRIVATE","private",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","getDefaultConfig",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$config",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"[","]",";",["T_WHITESPACE","\n        ",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_STRING","array_keys",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_config",94],")",["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$param",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","array_key_exists",95],"(",["T_VARIABLE","$param",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_allowedParams",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$config",96],"[",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_allowedParams",96],"[",["T_VARIABLE","$param",96],"]","]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_config",96],"[",["T_VARIABLE","$param",96],"]",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$config",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Set array of additional cURL options\n     *\n     * @param array $options\n     * @return $this\n     *\/",102],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","setOptions",108],"(",["T_ARRAY","array",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$options",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[","]",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_options",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$options",110],";",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Add additional option to cURL\n     *\n     * @param  int $option      the CURLOPT_* constants\n     * @param  mixed $value\n     * @return $this\n     *\/",114],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","addOption",121],"(",["T_VARIABLE","$option",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$value",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_options",123],"[",["T_VARIABLE","$option",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$value",123],";",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Set the configuration array for the adapter\n     *\n     * @param array $config\n     * @return $this\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","setConfig",133],"(",["T_VARIABLE","$config",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],"[","]",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$config",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$key",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_config",136],"[",["T_VARIABLE","$key",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$value",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Connect to the remote server\n     *\n     * @param string  $host\n     * @param int     $port\n     * @param boolean $secure\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",141],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","connect",150],"(",["T_VARIABLE","$host",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$port",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","80",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$secure",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","false",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_applyConfig",152],"(",")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Send request to the remote server\n     *\n     * @param string $method\n     * @param \\Zend_Uri_Http|string $url\n     * @param string $http_ver\n     * @param array $headers\n     * @param string $body\n     * @return string Request as text\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",155],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","write",166],"(",["T_VARIABLE","$method",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$url",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$http_ver",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'1.1'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$headers",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],"[","]",",",["T_WHITESPACE"," ",166],["T_VARIABLE","$body",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$url",168],["T_WHITESPACE"," ",168],["T_INSTANCEOF","instanceof",168],["T_WHITESPACE"," ",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Zend_Uri_Http",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$url",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$url",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getUri",169],"(",")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_applyConfig",171],"(",")",";",["T_WHITESPACE","\n\n        ",171],["T_COMMENT","\/\/ set url to post to\n",173],["T_WHITESPACE","        ",174],["T_STRING","curl_setopt",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_getResource",174],"(",")",",",["T_WHITESPACE"," ",174],["T_STRING","CURLOPT_URL",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$url",174],")",";",["T_WHITESPACE","\n        ",174],["T_STRING","curl_setopt",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_getResource",175],"(",")",",",["T_WHITESPACE"," ",175],["T_STRING","CURLOPT_RETURNTRANSFER",175],",",["T_WHITESPACE"," ",175],["T_STRING","true",175],")",";",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$method",176],["T_WHITESPACE"," ",176],["T_IS_EQUAL","==",176],["T_WHITESPACE"," ",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Zend_Http_Client",176],["T_DOUBLE_COLON","::",176],["T_STRING","POST",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_STRING","curl_setopt",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_getResource",177],"(",")",",",["T_WHITESPACE"," ",177],["T_STRING","CURLOPT_POST",177],",",["T_WHITESPACE"," ",177],["T_STRING","true",177],")",";",["T_WHITESPACE","\n            ",177],["T_STRING","curl_setopt",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_getResource",178],"(",")",",",["T_WHITESPACE"," ",178],["T_STRING","CURLOPT_POSTFIELDS",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$body",178],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE"," ",179],["T_ELSEIF","elseif",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$method",179],["T_WHITESPACE"," ",179],["T_IS_EQUAL","==",179],["T_WHITESPACE"," ",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Zend_Http_Client",179],["T_DOUBLE_COLON","::",179],["T_STRING","GET",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_STRING","curl_setopt",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_getResource",180],"(",")",",",["T_WHITESPACE"," ",180],["T_STRING","CURLOPT_HTTPGET",180],",",["T_WHITESPACE"," ",180],["T_STRING","true",180],")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE"," ",181],["T_ELSEIF","elseif",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$method",181],["T_WHITESPACE"," ",181],["T_IS_EQUAL","==",181],["T_WHITESPACE"," ",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Zend_Http_Client",181],["T_DOUBLE_COLON","::",181],["T_STRING","PUT",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_STRING","curl_setopt",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_getResource",182],"(",")",",",["T_WHITESPACE"," ",182],["T_STRING","CURLOPT_CUSTOMREQUEST",182],",",["T_WHITESPACE"," ",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Zend_Http_Client",182],["T_DOUBLE_COLON","::",182],["T_STRING","PUT",182],")",";",["T_WHITESPACE","\n            ",182],["T_STRING","curl_setopt",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_getResource",183],"(",")",",",["T_WHITESPACE"," ",183],["T_STRING","CURLOPT_POSTFIELDS",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$body",183],")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_STRING","is_array",186],"(",["T_VARIABLE","$headers",186],")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_STRING","curl_setopt",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_getResource",187],"(",")",",",["T_WHITESPACE"," ",187],["T_STRING","CURLOPT_HTTPHEADER",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$headers",187],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_DOC_COMMENT","\/**\n         * @internal Curl options setter have to be re-factored\n         *\/",190],["T_WHITESPACE","\n        ",192],["T_VARIABLE","$header",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_ISSET","isset",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_config",193],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",193],"]",")",["T_WHITESPACE"," ",193],"?",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_config",193],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",193],"]",["T_WHITESPACE"," ",193],":",["T_WHITESPACE"," ",193],["T_STRING","true",193],";",["T_WHITESPACE","\n        ",193],["T_STRING","curl_setopt",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_getResource",194],"(",")",",",["T_WHITESPACE"," ",194],["T_STRING","CURLOPT_HEADER",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$header",194],")",";",["T_WHITESPACE","\n\n        ",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$body",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Read response from server\n     *\n     * @return string\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","read",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$response",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","curl_exec",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_getResource",206],"(",")",")",";",["T_WHITESPACE","\n\n        ",206],["T_COMMENT","\/\/ Remove 100 and 101 responses headers\n",208],["T_WHITESPACE","        ",209],["T_WHILE","while",209],["T_WHITESPACE"," ",209],"(",["T_NS_SEPARATOR","\\",209],["T_STRING","Zend_Http_Response",209],["T_DOUBLE_COLON","::",209],["T_STRING","extractCode",209],"(",["T_VARIABLE","$response",209],")",["T_WHITESPACE"," ",209],["T_IS_EQUAL","==",209],["T_WHITESPACE"," ",209],["T_LNUMBER","100",209],["T_WHITESPACE","\n            ",209],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Zend_Http_Response",210],["T_DOUBLE_COLON","::",210],["T_STRING","extractCode",210],"(",["T_VARIABLE","$response",210],")",["T_WHITESPACE"," ",210],["T_IS_EQUAL","==",210],["T_WHITESPACE"," ",210],["T_LNUMBER","101",210],["T_WHITESPACE","\n        ",210],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$response",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","preg_split",212],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\r?$\/m'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$response",212],",",["T_WHITESPACE"," ",212],["T_LNUMBER","2",212],")",";",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$response",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","trim",213],"(",["T_VARIABLE","$response",213],"[",["T_LNUMBER","1",213],"]",")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n\n        ",214],["T_COMMENT","\/\/ CUrl will handle chunked data but leave the header.\n",216],["T_WHITESPACE","        ",217],["T_VARIABLE","$response",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","preg_replace",217],"(",["T_CONSTANT_ENCAPSED_STRING","'\/Transfer-Encoding:\\s+chunked\\r?\\n\/i'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$response",217],")",";",["T_WHITESPACE","\n\n        ",217],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$response",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Close the connection to the server\n     *\n     * @return $this\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","close",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_STRING","curl_close",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_getResource",229],"(",")",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_resource",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","null",230],";",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Returns a cURL handle on success\n     *\n     * @return resource\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","_getResource",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_STRING","is_null",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_resource",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_resource",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","curl_init",242],"(",")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_resource",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Get last error number\n     *\n     * @return int\n     *\/",247],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","getErrno",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_STRING","curl_errno",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_getResource",254],"(",")",")",";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Get string with last error for the current session\n     *\n     * @return string\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getError",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","curl_error",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_getResource",264],"(",")",")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Get information regarding a specific transfer\n     *\n     * @param int $opt CURLINFO option\n     * @return mixed\n     *\/",267],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","getInfo",273],"(",["T_VARIABLE","$opt",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_LNUMBER","0",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_STRING","curl_getinfo",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_getResource",275],"(",")",",",["T_WHITESPACE"," ",275],["T_VARIABLE","$opt",275],")",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * curl_multi_* requests support\n     *\n     * @param array $urls\n     * @param array $options\n     * @return array\n     *\/",278],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","multiRequest",285],"(",["T_VARIABLE","$urls",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$options",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],"[","]",")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$handles",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[","]",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$result",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],"[","]",";",["T_WHITESPACE","\n\n        ",288],["T_VARIABLE","$multihandle",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_STRING","curl_multi_init",290],"(",")",";",["T_WHITESPACE","\n\n        ",290],["T_COMMENT","\/\/ add default parameters\n",292],["T_WHITESPACE","        ",293],["T_FOREACH","foreach",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getDefaultConfig",293],"(",")",["T_WHITESPACE"," ",293],["T_AS","as",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$defaultOption",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$defaultValue",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(","!",["T_ISSET","isset",294],"(",["T_VARIABLE","$options",294],"[",["T_VARIABLE","$defaultOption",294],"]",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$options",295],"[",["T_VARIABLE","$defaultOption",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$defaultValue",295],";",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n\n        ",297],["T_FOREACH","foreach",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$urls",299],["T_WHITESPACE"," ",299],["T_AS","as",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$key",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$url",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$handles",300],"[",["T_VARIABLE","$key",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_STRING","curl_init",300],"(",")",";",["T_WHITESPACE","\n            ",300],["T_STRING","curl_setopt",301],"(",["T_VARIABLE","$handles",301],"[",["T_VARIABLE","$key",301],"]",",",["T_WHITESPACE"," ",301],["T_STRING","CURLOPT_URL",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$url",301],")",";",["T_WHITESPACE","\n            ",301],["T_STRING","curl_setopt",302],"(",["T_VARIABLE","$handles",302],"[",["T_VARIABLE","$key",302],"]",",",["T_WHITESPACE"," ",302],["T_STRING","CURLOPT_HEADER",302],",",["T_WHITESPACE"," ",302],["T_LNUMBER","0",302],")",";",["T_WHITESPACE","\n            ",302],["T_STRING","curl_setopt",303],"(",["T_VARIABLE","$handles",303],"[",["T_VARIABLE","$key",303],"]",",",["T_WHITESPACE"," ",303],["T_STRING","CURLOPT_RETURNTRANSFER",303],",",["T_WHITESPACE"," ",303],["T_LNUMBER","1",303],")",";",["T_WHITESPACE","\n            ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(","!",["T_EMPTY","empty",304],"(",["T_VARIABLE","$options",304],")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_STRING","curl_setopt_array",305],"(",["T_VARIABLE","$handles",305],"[",["T_VARIABLE","$key",305],"]",",",["T_WHITESPACE"," ",305],["T_VARIABLE","$options",305],")",";",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE","\n            ",306],["T_STRING","curl_multi_add_handle",307],"(",["T_VARIABLE","$multihandle",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$handles",307],"[",["T_VARIABLE","$key",307],"]",")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$process",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","null",309],";",["T_WHITESPACE","\n        ",309],["T_DO","do",310],["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_STRING","curl_multi_exec",311],"(",["T_VARIABLE","$multihandle",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$process",311],")",";",["T_WHITESPACE","\n            ",311],["T_STRING","usleep",312],"(",["T_LNUMBER","100",312],")",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE"," ",313],["T_WHILE","while",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$process",313],["T_WHITESPACE"," ",313],">",["T_WHITESPACE"," ",313],["T_LNUMBER","0",313],")",";",["T_WHITESPACE","\n\n        ",313],["T_FOREACH","foreach",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$handles",315],["T_WHITESPACE"," ",315],["T_AS","as",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$key",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$handle",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$result",316],"[",["T_VARIABLE","$key",316],"]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","curl_multi_getcontent",316],"(",["T_VARIABLE","$handle",316],")",";",["T_WHITESPACE","\n            ",316],["T_STRING","curl_multi_remove_handle",317],"(",["T_VARIABLE","$multihandle",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$handle",317],")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n        ",318],["T_STRING","curl_multi_close",319],"(",["T_VARIABLE","$multihandle",319],")",";",["T_WHITESPACE","\n        ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$result",320],";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n",321],"}",["T_WHITESPACE","\n",322]]