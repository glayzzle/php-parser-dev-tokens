[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Collection of events\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Event",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Event",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Collection",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Array of events in the collection\n     *\n     * @var array\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$events",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Global observers\n     *\n     * For example regex observers will watch all events that\n     *\n     * @var Observer\\Collection\n     *\/",25],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$globalObservers",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Initializes global observers collection\n     *\n     * @param array $events\n     * @param Observer\\Collection $observerCollection\n     *\/",34],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_ARRAY","array",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$events",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"[","]",",",["T_WHITESPACE"," ",40],["T_STRING","Observer",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Collection",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$observerCollection",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","null",40],")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","events",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$events",42],";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","globalObservers",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"!",["T_VARIABLE","$observerCollection",43],["T_WHITESPACE"," ",43],"?",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","Observer",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Collection",43],"(",")",["T_WHITESPACE"," ",43],":",["T_WHITESPACE"," ",43],["T_VARIABLE","$observerCollection",43],";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Returns all registered events in collection\n     *\n     * @return array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getAllEvents",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","events",53],";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Returns all registered global observers for the collection of events\n     *\n     * @return Observer\\Collection\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","getGlobalObservers",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","globalObservers",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Returns event by its name\n     *\n     * If event doesn't exist creates new one and returns it\n     *\n     * @param string $eventName\n     * @return Event\n     *\/",66],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getEventByName",74],"(",["T_VARIABLE","$eventName",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_ISSET","isset",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","events",76],"[",["T_VARIABLE","$eventName",76],"]",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","addEvent",77],"(",["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Event",77],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$eventName",77],"]",")",")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","events",79],"[",["T_VARIABLE","$eventName",79],"]",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Register an event for this collection\n     *\n     * @param Event $event\n     * @return $this\n     *\/",82],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","addEvent",88],"(",["T_STRING","Event",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$event",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","events",90],"[",["T_VARIABLE","$event",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getName",90],"(",")","]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$event",90],";",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Register an observer\n     *\n     * If observer has event_name property it will be registered for this specific event.\n     * If not it will be registered as global observer\n     *\n     * @param Observer $observer\n     * @return $this\n     *\/",94],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","addObserver",103],"(",["T_STRING","Observer",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$observer",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$eventName",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$observer",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getEventName",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$eventName",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getEventByName",107],"(",["T_VARIABLE","$eventName",107],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","addObserver",107],"(",["T_VARIABLE","$observer",107],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE"," ",108],["T_ELSE","else",108],["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getGlobalObservers",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","addObserver",109],"(",["T_VARIABLE","$observer",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Dispatch event name with optional data\n     *\n     * Will dispatch specific event and will try all global observers\n     *\n     * @param string $eventName\n     * @param array $data\n     * @return $this\n     *\/",114],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","dispatch",123],"(",["T_VARIABLE","$eventName",123],",",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$data",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],"[","]",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$event",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getEventByName",125],"(",["T_VARIABLE","$eventName",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$event",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","addData",126],"(",["T_VARIABLE","$data",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","dispatch",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getGlobalObservers",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","dispatch",127],"(",["T_VARIABLE","$event",127],")",";",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n",129],"}",["T_WHITESPACE","\n",130]]