[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Layout",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Simplexml",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Element",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","Translator",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * Translate layout node\n     *\n     * @param Element $node\n     * @param array $args\n     * @return void\n     **\/",12],["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","translateActionParameters",19],"(",["T_STRING","Element",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$node",19],",",["T_WHITESPACE"," ",19],"&",["T_VARIABLE","$args",19],")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_IF","if",21],["T_WHITESPACE"," ",21],"(",["T_STRING","false",21],["T_WHITESPACE"," ",21],["T_IS_IDENTICAL","===",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","_isNodeTranslatable",21],"(",["T_VARIABLE","$node",21],")",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n            ",21],["T_RETURN","return",22],";",["T_WHITESPACE","\n        ",22],"}",["T_WHITESPACE","\n\n        ",23],["T_FOREACH","foreach",25],["T_WHITESPACE"," ",25],"(",["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","_getNodeNamesToTranslate",25],"(",["T_VARIABLE","$node",25],")",["T_WHITESPACE"," ",25],["T_AS","as",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$translatableArg",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n            ",25],["T_COMMENT","\/*\n             * .(dot) character is used as a path separator in nodes hierarchy\n             * e.g. info.title means that Magento needs to translate value of <title> node\n             * that is a child of <info> node\n             *\/",26],["T_WHITESPACE","\n            ",30],["T_COMMENT","\/\/ @var $argumentHierarchy array - path to translatable item in $args array\n",31],["T_WHITESPACE","            ",32],["T_VARIABLE","$argumentHierarchy",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","explode",32],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$translatableArg",32],")",";",["T_WHITESPACE","\n            ",32],["T_VARIABLE","$argumentStack",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"&",["T_WHITESPACE"," ",33],["T_VARIABLE","$args",33],";",["T_WHITESPACE","\n            ",33],["T_VARIABLE","$canTranslate",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","true",34],";",["T_WHITESPACE","\n            ",34],["T_WHILE","while",35],["T_WHITESPACE"," ",35],"(",["T_STRING","is_array",35],"(",["T_VARIABLE","$argumentStack",35],")",["T_WHITESPACE"," ",35],["T_BOOLEAN_AND","&&",35],["T_WHITESPACE"," ",35],["T_STRING","count",35],"(",["T_VARIABLE","$argumentStack",35],")",["T_WHITESPACE"," ",35],">",["T_WHITESPACE"," ",35],["T_LNUMBER","0",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n                ",35],["T_VARIABLE","$argumentName",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","array_shift",36],"(",["T_VARIABLE","$argumentHierarchy",36],")",";",["T_WHITESPACE","\n                ",36],["T_IF","if",37],["T_WHITESPACE"," ",37],"(",["T_ISSET","isset",37],"(",["T_VARIABLE","$argumentStack",37],"[",["T_VARIABLE","$argumentName",37],"]",")",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n                    ",37],["T_COMMENT","\/*\n                     * Move to the next element in arguments hierarchy\n                     * in order to find target translatable argument\n                     *\/",38],["T_WHITESPACE","\n                    ",41],["T_VARIABLE","$argumentStack",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"&",["T_WHITESPACE"," ",42],["T_VARIABLE","$argumentStack",42],"[",["T_VARIABLE","$argumentName",42],"]",";",["T_WHITESPACE","\n                ",42],"}",["T_WHITESPACE"," ",43],["T_ELSE","else",43],["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n                    ",43],["T_COMMENT","\/\/ Target argument cannot be found\n",44],["T_WHITESPACE","                    ",45],["T_VARIABLE","$canTranslate",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","false",45],";",["T_WHITESPACE","\n                    ",45],["T_BREAK","break",46],";",["T_WHITESPACE","\n                ",46],"}",["T_WHITESPACE","\n            ",47],"}",["T_WHITESPACE","\n            ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$canTranslate",49],["T_WHITESPACE"," ",49],["T_BOOLEAN_AND","&&",49],["T_WHITESPACE"," ",49],["T_STRING","is_string",49],"(",["T_VARIABLE","$argumentStack",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                ",49],["T_COMMENT","\/\/ $argumentStack is now a reference to target translatable argument so it can be translated\n",50],["T_WHITESPACE","                ",51],["T_VARIABLE","$argumentStack",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_translateValue",51],"(",["T_VARIABLE","$argumentStack",51],")",";",["T_WHITESPACE","\n            ",51],"}",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Translate argument value\n     *\n     * @param Element $node\n     * @return string\n     *\/",56],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","translateArgument",62],"(",["T_STRING","Element",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$node",62],")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$value",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_getNodeValue",64],"(",["T_VARIABLE","$node",64],")",";",["T_WHITESPACE","\n\n        ",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_isSelfTranslatable",66],"(",["T_VARIABLE","$node",66],")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$value",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_translateValue",67],"(",["T_VARIABLE","$value",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE"," ",68],["T_ELSEIF","elseif",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_isNodeTranslatable",68],"(",["T_VARIABLE","$node",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getParent",68],"(",")",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_STRING","true",69],["T_WHITESPACE"," ",69],["T_IS_IDENTICAL","===",69],["T_WHITESPACE"," ",69],["T_STRING","in_array",69],"(",["T_VARIABLE","$node",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getName",69],"(",")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_getNodeNamesToTranslate",69],"(",["T_VARIABLE","$node",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getParent",69],"(",")",")",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$value",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_translateValue",70],"(",["T_VARIABLE","$value",70],")",";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$value",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Get node names that have to be translated\n     *\n     * @param Element $node\n     * @return array\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","_getNodeNamesToTranslate",83],"(",["T_STRING","Element",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$node",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_STRING","explode",85],"(",["T_CONSTANT_ENCAPSED_STRING","' '",85],",",["T_WHITESPACE"," ",85],["T_STRING_CAST","(string)",85],["T_VARIABLE","$node",85],"[",["T_CONSTANT_ENCAPSED_STRING","'translate'",85],"]",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Check if node has to be translated\n     *\n     * @param Element $node\n     * @return bool\n     *\/",88],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","_isNodeTranslatable",94],"(",["T_STRING","Element",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$node",94],")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_ISSET","isset",96],"(",["T_VARIABLE","$node",96],"[",["T_CONSTANT_ENCAPSED_STRING","'translate'",96],"]",")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Check if node has to translate own value\n     *\n     * @param Element $node\n     * @return bool\n     *\/",99],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","_isSelfTranslatable",105],"(",["T_STRING","Element",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$node",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_isNodeTranslatable",107],"(",["T_VARIABLE","$node",107],")",["T_WHITESPACE"," ",107],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'true'",107],["T_WHITESPACE"," ",107],["T_IS_EQUAL","==",107],["T_WHITESPACE"," ",107],["T_STRING_CAST","(string)",107],["T_VARIABLE","$node",107],"[",["T_CONSTANT_ENCAPSED_STRING","'translate'",107],"]",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Get node value\n     *\n     * @param Element $node\n     * @return string\n     *\/",110],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","_getNodeValue",116],"(",["T_STRING","Element",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$node",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_STRING","trim",118],"(",["T_STRING_CAST","(string)",118],["T_VARIABLE","$node",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Translate node value\n     *\n     * @param string $value\n     * @return \\Magento\\Framework\\Phrase\n     *\/",121],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","_translateValue",127],"(",["T_VARIABLE","$value",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING_CAST","(string)",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Framework",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Phrase",129],"(",["T_VARIABLE","$value",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n",130],"}",["T_WHITESPACE","\n",131]]