[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Element",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UiComponent",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Dom",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Dom",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UrnResolver",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Module",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Dir",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Reader",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","DirectoryReader",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ValidationStateInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Class DomMerger\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","DomMerger",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","DomMergerInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Format of items in errors array to be used by default. Available placeholders - fields of \\LibXMLError.\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","ERROR_FORMAT_DEFAULT",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","\"Message: %message%\\nLine: %line%\\n\"",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Config\\ValidationStateInterface\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$validationState",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Location schema file\n     *\n     * @var string\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$schemaFilePath",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Result DOM document\n     *\n     * @var \\DOMDocument\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$domDocument",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Id attribute list\n     *\n     * @var array\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$idAttributes",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[","]",";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Context XPath\n     *\n     * @var array\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$contextXPath",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],"[","]",";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Is merge simple XML Element\n     *\n     * @var bool\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$isMergeSimpleXMLElement",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Build DOM with initial XML contents and specifying identifier attributes for merging\n     *\n     * Format of $schema: Absolute schema file path or URN\n     * Format of $idAttributes: array('name', 'id')\n     * Format of $contextXPath: array('\/config\/ui')\n     * The path to ID attribute name should not include any attribute notations or modifiers -- only node names\n     *\n     * @param ValidationStateInterface $validationState\n     * @param string $schema\n     * @param bool $isMergeSimpleXMLElement\n     * @param array $contextXPath\n     * @param array $idAttributes\n     *\/",63],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","__construct",77],"(",["T_WHITESPACE","\n        ",77],["T_STRING","ValidationStateInterface",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$validationState",78],",",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$schema",79],",",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$isMergeSimpleXMLElement",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","false",80],",",["T_WHITESPACE","\n        ",80],["T_ARRAY","array",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$contextXPath",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[","]",",",["T_WHITESPACE","\n        ",81],["T_ARRAY","array",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$idAttributes",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[","]",["T_WHITESPACE","\n    ",82],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","validationState",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$validationState",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","schema",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$schema",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","isMergeSimpleXMLElement",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$isMergeSimpleXMLElement",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","contextXPath",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$contextXPath",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","idAttributes",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$idAttributes",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Is id attribute\n     *\n     * @param string $attributeName\n     * @return bool\n     *\/",91],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","isIdAttribute",97],"(",["T_VARIABLE","$attributeName",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","in_array",99],"(",["T_VARIABLE","$attributeName",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","idAttributes",99],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Is merge context\n     *\n     * @param string $xPath\n     * @return bool\n     *\/",102],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","isMergeContext",108],"(",["T_VARIABLE","$xPath",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","contextXPath",110],["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$context",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_STRING","strpos",111],"(",["T_VARIABLE","$xPath",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$context",111],")",["T_WHITESPACE"," ",111],["T_IS_IDENTICAL","===",111],["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_STRING","true",112],";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","false",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Is context XPath\n     *\n     * @param array $xPath\n     * @return bool\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","isContextXPath",124],"(",["T_ARRAY","array",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$xPath",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_STRING","count",126],"(",["T_STRING","array_intersect",126],"(",["T_VARIABLE","$xPath",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","contextXPath",126],")",")",["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_STRING","count",126],"(",["T_VARIABLE","$xPath",126],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Merges attributes of the merge node to the base node\n     *\n     * @param \\DOMElement $baseNode\n     * @param \\DOMNode $mergeNode\n     * @return void\n     *\/",129],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","mergeAttributes",136],"(",["T_NS_SEPARATOR","\\",136],["T_STRING","DOMElement",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$baseNode",136],",",["T_WHITESPACE"," ",136],["T_NS_SEPARATOR","\\",136],["T_STRING","DOMNode",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$mergeNode",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_FOREACH","foreach",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$mergeNode",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","attributes",138],["T_WHITESPACE"," ",138],["T_AS","as",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$name",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$attribute",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$baseNode",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setAttribute",139],"(",["T_VARIABLE","$name",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$attribute",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","value",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Create XPath\n     *\n     * @param \\DOMNode $node\n     * @return string\n     *\/",143],["T_WHITESPACE","\n    ",148],["T_PROTECTED","protected",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","createXPath",149],"(",["T_NS_SEPARATOR","\\",149],["T_STRING","DOMNode",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$node",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$parentXPath",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","''",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$currentXPath",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$node",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getNodePath",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$node",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","parentNode",153],["T_WHITESPACE"," ",153],["T_IS_NOT_IDENTICAL","!==",153],["T_WHITESPACE"," ",153],["T_STRING","null",153],["T_WHITESPACE"," ",153],["T_BOOLEAN_AND","&&",153],["T_WHITESPACE"," ",153],"!",["T_VARIABLE","$node",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","isSameNode",153],"(",["T_VARIABLE","$node",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","parentNode",153],")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$parentXPath",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","createXPath",154],"(",["T_VARIABLE","$node",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","parentNode",154],")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$pathParts",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","explode",155],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$currentXPath",155],")",";",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$currentXPath",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\/'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_STRING","end",156],"(",["T_VARIABLE","$pathParts",156],")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$attributesXPath",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$node",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","hasAttributes",159],"(",")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$attributes",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],"[","]",";",["T_WHITESPACE","\n            ",160],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$node",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","attributes",161],["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$name",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$attribute",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","isIdAttribute",162],"(",["T_VARIABLE","$name",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$attributes",163],"[","]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","sprintf",163],"(",["T_CONSTANT_ENCAPSED_STRING","'@%s=\"%s\"'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$name",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$attribute",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","value",163],")",";",["T_WHITESPACE","\n                    ",163],["T_BREAK","break",164],";",["T_WHITESPACE","\n                ",164],"}",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n            ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_EMPTY","empty",167],"(",["T_VARIABLE","$attributes",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_STRING","substr",168],"(",["T_VARIABLE","$currentXPath",168],",",["T_WHITESPACE"," ",168],"-",["T_LNUMBER","1",168],")",["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","']'",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$currentXPath",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","substr",169],"(",["T_VARIABLE","$currentXPath",169],",",["T_WHITESPACE"," ",169],["T_LNUMBER","0",169],",",["T_WHITESPACE"," ",169],["T_STRING","strrpos",169],"(",["T_VARIABLE","$currentXPath",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'['",169],")",")",";",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$attributesXPath",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'['",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_STRING","implode",171],"(",["T_CONSTANT_ENCAPSED_STRING","' and '",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$attributes",171],")",["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","']'",171],";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/'",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_STRING","trim",174],"(",["T_VARIABLE","$parentXPath",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$currentXPath",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$attributesXPath",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/'",174],")",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Merge nested xml nodes\n     *\n     * @param \\DOMXPath $rootDomXPath\n     * @param \\DOMNodeList $insertedNodes\n     * @param \\DOMNode $contextNode\n     * @return void\n     *\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",177],["T_WHITESPACE","\n    ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","nestedMerge",188],"(",["T_NS_SEPARATOR","\\",188],["T_STRING","DOMXPath",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$rootDomXPath",188],",",["T_WHITESPACE"," ",188],["T_NS_SEPARATOR","\\",188],["T_STRING","DOMNodeList",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$insertedNodes",188],",",["T_WHITESPACE"," ",188],["T_NS_SEPARATOR","\\",188],["T_STRING","DOMNode",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$contextNode",188],")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_FOR","for",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$i",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_LNUMBER","0",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$iLength",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$insertedNodes",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","length",190],";",["T_WHITESPACE"," ",190],["T_VARIABLE","$i",190],["T_WHITESPACE"," ",190],"<",["T_WHITESPACE"," ",190],["T_VARIABLE","$iLength",190],";",["T_WHITESPACE"," ",190],["T_INC","++",190],["T_VARIABLE","$i",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$insertedItem",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$insertedNodes",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","item",191],"(",["T_VARIABLE","$i",191],")",";",["T_WHITESPACE","\n            ",191],["T_SWITCH","switch",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$insertedItem",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","nodeType",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_CASE","case",193],["T_WHITESPACE"," ",193],["T_STRING","XML_TEXT_NODE",193],":",["T_WHITESPACE","\n                ",193],["T_CASE","case",194],["T_WHITESPACE"," ",194],["T_STRING","XML_COMMENT_NODE",194],":",["T_WHITESPACE","\n                ",194],["T_CASE","case",195],["T_WHITESPACE"," ",195],["T_STRING","XML_CDATA_SECTION_NODE",195],":",["T_WHITESPACE","\n                    ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_STRING","trim",196],"(",["T_VARIABLE","$insertedItem",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","textContent",196],")",["T_WHITESPACE"," ",196],["T_IS_NOT_IDENTICAL","!==",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","''",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","insertBefore",197],"(",["T_VARIABLE","$contextNode",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$insertedItem",197],")",";",["T_WHITESPACE","\n                    ",197],"}",["T_WHITESPACE","\n                    ",198],["T_BREAK","break",199],";",["T_WHITESPACE","\n                ",199],["T_DEFAULT","default",200],":",["T_WHITESPACE","\n                    ",200],["T_VARIABLE","$insertedXPath",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","createXPath",201],"(",["T_VARIABLE","$insertedItem",201],")",";",["T_WHITESPACE","\n                    ",201],["T_VARIABLE","$rootMatchList",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$rootDomXPath",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","query",202],"(",["T_VARIABLE","$insertedXPath",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$contextNode",202],")",";",["T_WHITESPACE","\n                    ",202],["T_VARIABLE","$jLength",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$rootMatchList",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","length",203],";",["T_WHITESPACE","\n                    ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$jLength",204],["T_WHITESPACE"," ",204],">",["T_WHITESPACE"," ",204],["T_LNUMBER","0",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                        ",204],["T_FOR","for",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$j",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],";",["T_WHITESPACE"," ",205],["T_VARIABLE","$j",205],["T_WHITESPACE"," ",205],"<",["T_WHITESPACE"," ",205],["T_VARIABLE","$jLength",205],";",["T_WHITESPACE"," ",205],["T_INC","++",205],["T_VARIABLE","$j",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                            ",205],["T_VARIABLE","$rootItem",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$rootMatchList",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","item",206],"(",["T_VARIABLE","$j",206],")",";",["T_WHITESPACE","\n                            ",206],["T_VARIABLE","$rootItemXPath",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","createXPath",207],"(",["T_VARIABLE","$rootItem",207],")",";",["T_WHITESPACE","\n                            ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","isMergeContext",208],"(",["T_VARIABLE","$insertedXPath",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                                ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isTextNode",209],"(",["T_VARIABLE","$insertedItem",209],")",["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isTextNode",209],"(",["T_VARIABLE","$rootItem",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                                    ",209],["T_VARIABLE","$rootItem",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","nodeValue",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$insertedItem",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","nodeValue",210],";",["T_WHITESPACE","\n                                ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],["T_IF","if",211],["T_WHITESPACE"," ",211],"(","!",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","isContextXPath",211],"(","[",["T_VARIABLE","$rootItemXPath",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$insertedXPath",211],"]",")",["T_WHITESPACE","\n                                    ",211],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],"!",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","hasIdAttribute",212],"(",["T_VARIABLE","$rootItem",212],")",["T_WHITESPACE","\n                                    ",212],["T_BOOLEAN_AND","&&",213],["T_WHITESPACE"," ",213],"!",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","hasIdAttribute",213],"(",["T_VARIABLE","$insertedItem",213],")",["T_WHITESPACE","\n                                ",213],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                                    ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","isMergeSimpleXMLElement",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                                        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","nestedMerge",216],"(",["T_VARIABLE","$rootDomXPath",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$insertedItem",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","childNodes",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$rootItem",216],")",";",["T_WHITESPACE","\n                                        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","mergeAttributes",217],"(",["T_VARIABLE","$rootItem",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$insertedItem",217],")",";",["T_WHITESPACE","\n                                    ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                                        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","appendChild",219],"(",["T_VARIABLE","$contextNode",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$insertedItem",219],")",";",["T_WHITESPACE","\n                                    ",219],"}",["T_WHITESPACE","\n                                ",220],"}",["T_WHITESPACE"," ",221],["T_ELSE","else",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                                    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","nestedMerge",222],"(",["T_VARIABLE","$rootDomXPath",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$insertedItem",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","childNodes",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$rootItem",222],")",";",["T_WHITESPACE","\n                                    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","mergeAttributes",223],"(",["T_VARIABLE","$rootItem",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$insertedItem",223],")",";",["T_WHITESPACE","\n                                ",223],"}",["T_WHITESPACE","\n                            ",224],"}",["T_WHITESPACE"," ",225],["T_ELSE","else",225],["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                                ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","appendChild",226],"(",["T_VARIABLE","$contextNode",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$insertedItem",226],")",";",["T_WHITESPACE","\n                            ",226],"}",["T_WHITESPACE","\n                        ",227],"}",["T_WHITESPACE","\n                    ",228],"}",["T_WHITESPACE"," ",229],["T_ELSE","else",229],["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","appendChild",230],"(",["T_VARIABLE","$contextNode",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$insertedItem",230],")",";",["T_WHITESPACE","\n                    ",230],"}",["T_WHITESPACE","\n                    ",231],["T_BREAK","break",232],";",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Append child node\n     *\n     * @param \\DOMNode $parentNode\n     * @param \\DOMNode $childNode\n     * @return void\n     *\/",237],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","appendChild",244],"(",["T_NS_SEPARATOR","\\",244],["T_STRING","DOMNode",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$parentNode",244],",",["T_WHITESPACE"," ",244],["T_NS_SEPARATOR","\\",244],["T_STRING","DOMNode",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$childNode",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$importNode",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getDom",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","importNode",246],"(",["T_VARIABLE","$childNode",246],",",["T_WHITESPACE"," ",246],["T_STRING","true",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$parentNode",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","appendChild",247],"(",["T_VARIABLE","$importNode",247],")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Insert before\n     *\n     * @param \\DOMNode $parentNode\n     * @param \\DOMNode $childNode\n     * @return void\n     *\/",250],["T_WHITESPACE","\n    ",256],["T_PROTECTED","protected",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","insertBefore",257],"(",["T_NS_SEPARATOR","\\",257],["T_STRING","DOMNode",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$parentNode",257],",",["T_WHITESPACE"," ",257],["T_NS_SEPARATOR","\\",257],["T_STRING","DOMNode",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$childNode",257],")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$importNode",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getDom",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","importNode",259],"(",["T_VARIABLE","$childNode",259],",",["T_WHITESPACE"," ",259],["T_STRING","true",259],")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$parentNode",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","insertBefore",260],"(",["T_VARIABLE","$importNode",260],")",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Check if the node content is text\n     *\n     * @param \\DOMNode $node\n     * @return bool\n     *\/",263],["T_WHITESPACE","\n    ",268],["T_PROTECTED","protected",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","isTextNode",269],"(",["T_NS_SEPARATOR","\\",269],["T_STRING","DOMNode",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$node",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$node",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","childNodes",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","length",271],["T_WHITESPACE"," ",271],["T_IS_EQUAL","==",271],["T_WHITESPACE"," ",271],["T_LNUMBER","1",271],["T_WHITESPACE"," ",271],["T_BOOLEAN_AND","&&",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$node",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","childNodes",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","item",271],"(",["T_LNUMBER","0",271],")",["T_WHITESPACE"," ",271],["T_INSTANCEOF","instanceof",271],["T_WHITESPACE"," ",271],["T_NS_SEPARATOR","\\",271],["T_STRING","DOMText",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Has ID attribute\n     *\n     * @param \\DOMNode $node\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",274],["T_WHITESPACE","\n    ",280],["T_PROTECTED","protected",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","hasIdAttribute",281],"(",["T_NS_SEPARATOR","\\",281],["T_STRING","DOMNode",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$node",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_VARIABLE","$node",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","hasAttributes",283],"(",")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_STRING","false",284],";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$node",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","attributes",287],["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$name",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$attribute",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_STRING","in_array",288],"(",["T_VARIABLE","$name",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","idAttributes",288],")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n                ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_STRING","true",289],";",["T_WHITESPACE","\n            ",289],"}",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n\n        ",291],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_STRING","false",293],";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Recursive merging of the \\DOMElement into the original document\n     *\n     * Algorithm:\n     * 1. Find the same node in original document\n     * 2. Extend and override original document node attributes and scalar value if found\n     * 3. Append new node if original document doesn't have the same node\n     *\n     * @param \\DOMElement $node\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",296],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","mergeNode",308],"(",["T_NS_SEPARATOR","\\",308],["T_STRING","DOMElement",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$node",308],")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$parentDoom",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getDom",310],"(",")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","nestedMerge",311],"(",["T_NEW","new",311],["T_WHITESPACE"," ",311],["T_NS_SEPARATOR","\\",311],["T_STRING","DOMXPath",311],"(",["T_VARIABLE","$parentDoom",311],")",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$node",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","childNodes",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$parentDoom",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","documentElement",311],")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Create DOM document based on $xml parameter\n     *\n     * @param string $xml\n     * @return \\DOMDocument\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",314],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","createDomDocument",321],"(",["T_VARIABLE","$xml",321],")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$domDocument",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_NEW","new",323],["T_WHITESPACE"," ",323],["T_NS_SEPARATOR","\\",323],["T_STRING","DOMDocument",323],"(",")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$domDocument",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","loadXML",324],"(",["T_VARIABLE","$xml",324],")",";",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","validationState",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","isValidationRequired",325],"(",")",["T_WHITESPACE"," ",325],["T_BOOLEAN_AND","&&",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","schema",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$errors",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","validateDomDocument",326],"(",["T_VARIABLE","$domDocument",326],")",";",["T_WHITESPACE","\n            ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_STRING","count",327],"(",["T_VARIABLE","$errors",327],")",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_THROW","throw",328],["T_WHITESPACE"," ",328],["T_NEW","new",328],["T_WHITESPACE"," ",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Magento",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Framework",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Exception",328],["T_NS_SEPARATOR","\\",328],["T_STRING","LocalizedException",328],"(",["T_WHITESPACE","\n                    ",328],["T_NEW","new",329],["T_WHITESPACE"," ",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Magento",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Framework",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Phrase",329],"(",["T_STRING","implode",329],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$errors",329],")",")",["T_WHITESPACE","\n                ",329],")",";",["T_WHITESPACE","\n            ",330],"}",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n\n        ",332],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$domDocument",334],";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Validate dom document\n     *\n     * @param \\DOMDocument $domDocument\n     * @param string|null $schemaFilePath\n     * @return array of errors\n     * @throws \\Exception\n     *\/",337],["T_WHITESPACE","\n    ",344],["T_PROTECTED","protected",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","validateDomDocument",345],"(",["T_NS_SEPARATOR","\\",345],["T_STRING","DOMDocument",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$domDocument",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$schema",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","null",345],")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$schema",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$schema",347],["T_WHITESPACE"," ",347],["T_IS_NOT_IDENTICAL","!==",347],["T_WHITESPACE"," ",347],["T_STRING","null",347],["T_WHITESPACE"," ",347],"?",["T_WHITESPACE"," ",347],["T_VARIABLE","$schema",347],["T_WHITESPACE"," ",347],":",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","schema",347],";",["T_WHITESPACE","\n        ",347],["T_STRING","libxml_use_internal_errors",348],"(",["T_STRING","true",348],")",";",["T_WHITESPACE","\n        ",348],["T_TRY","try",349],["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$errors",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_NS_SEPARATOR","\\",350],["T_STRING","Magento",350],["T_NS_SEPARATOR","\\",350],["T_STRING","Framework",350],["T_NS_SEPARATOR","\\",350],["T_STRING","Config",350],["T_NS_SEPARATOR","\\",350],["T_STRING","Dom",350],["T_DOUBLE_COLON","::",350],["T_STRING","validateDomDocument",350],"(",["T_VARIABLE","$domDocument",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$schema",350],")",";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE"," ",351],["T_CATCH","catch",351],["T_WHITESPACE"," ",351],"(",["T_NS_SEPARATOR","\\",351],["T_STRING","Exception",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$exception",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_STRING","libxml_use_internal_errors",352],"(",["T_STRING","false",352],")",";",["T_WHITESPACE","\n            ",352],["T_THROW","throw",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$exception",353],";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n        ",354],["T_STRING","libxml_use_internal_errors",355],"(",["T_STRING","false",355],")",";",["T_WHITESPACE","\n\n        ",355],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$errors",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Render error message string by replacing placeholders '%field%' with properties of \\LibXMLError\n     *\n     * @param \\LibXMLError $errorInfo\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",360],["T_WHITESPACE","\n    ",366],["T_PROTECTED","protected",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","renderErrorMessage",367],"(",["T_NS_SEPARATOR","\\",367],["T_STRING","LibXMLError",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$errorInfo",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$result",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STATIC","static",369],["T_DOUBLE_COLON","::",369],["T_STRING","ERROR_FORMAT_DEFAULT",369],";",["T_WHITESPACE","\n        ",369],["T_FOREACH","foreach",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$errorInfo",370],["T_WHITESPACE"," ",370],["T_AS","as",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$field",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$value",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$result",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","str_replace",371],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_VARIABLE","$field",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'%'",371],",",["T_WHITESPACE"," ",371],["T_STRING","trim",371],"(",["T_STRING_CAST","(string)",371],["T_VARIABLE","$value",371],")",",",["T_WHITESPACE"," ",371],["T_VARIABLE","$result",371],")",";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n        ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_STRING","strpos",373],"(",["T_VARIABLE","$result",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'%'",373],")",["T_WHITESPACE"," ",373],["T_IS_NOT_IDENTICAL","!==",373],["T_WHITESPACE"," ",373],["T_STRING","false",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_THROW","throw",374],["T_WHITESPACE"," ",374],["T_NEW","new",374],["T_WHITESPACE"," ",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Magento",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Framework",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Exception",374],["T_NS_SEPARATOR","\\",374],["T_STRING","LocalizedException",374],"(",["T_WHITESPACE","\n                ",374],["T_NEW","new",375],["T_WHITESPACE"," ",375],["T_NS_SEPARATOR","\\",375],["T_STRING","Magento",375],["T_NS_SEPARATOR","\\",375],["T_STRING","Framework",375],["T_NS_SEPARATOR","\\",375],["T_STRING","Phrase",375],"(",["T_WHITESPACE","\n                    ",375],["T_CONSTANT_ENCAPSED_STRING","'Error format \"'",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_STATIC","static",376],["T_DOUBLE_COLON","::",376],["T_STRING","ERROR_FORMAT_DEFAULT",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'\" contains unsupported placeholders.'",376],["T_WHITESPACE","\n                ",376],")",["T_WHITESPACE","\n            ",377],")",";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$result",381],";",["T_WHITESPACE","\n    ",381],"}",["T_WHITESPACE","\n\n    ",382],["T_DOC_COMMENT","\/**\n     * Merge string $xml into DOM document\n     *\n     * @param string $xml\n     * @return void\n     *\/",384],["T_WHITESPACE","\n    ",389],["T_PUBLIC","public",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","merge",390],"(",["T_VARIABLE","$xml",390],")",["T_WHITESPACE","\n    ",390],"{",["T_WHITESPACE","\n        ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(","!",["T_ISSET","isset",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","domDocument",392],")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","domDocument",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","createDomDocument",393],"(",["T_VARIABLE","$xml",393],")",";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE"," ",394],["T_ELSE","else",394],["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","mergeNode",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","createDomDocument",395],"(",["T_VARIABLE","$xml",395],")",["T_OBJECT_OPERATOR","->",395],["T_STRING","documentElement",395],")",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n    ",396],"}",["T_WHITESPACE","\n\n    ",397],["T_DOC_COMMENT","\/**\n     * Get DOM document\n     *\n     * @return \\DOMDocument\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",399],["T_WHITESPACE","\n    ",404],["T_PUBLIC","public",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","getDom",405],"(",")",["T_WHITESPACE","\n    ",405],"{",["T_WHITESPACE","\n        ",406],["T_IF","if",407],["T_WHITESPACE"," ",407],"(","!",["T_ISSET","isset",407],"(",["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","domDocument",407],")",")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_THROW","throw",408],["T_WHITESPACE"," ",408],["T_NEW","new",408],["T_WHITESPACE"," ",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Magento",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Framework",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Exception",408],["T_NS_SEPARATOR","\\",408],["T_STRING","LocalizedException",408],"(",["T_WHITESPACE","\n                ",408],["T_NEW","new",409],["T_WHITESPACE"," ",409],["T_NS_SEPARATOR","\\",409],["T_STRING","Magento",409],["T_NS_SEPARATOR","\\",409],["T_STRING","Framework",409],["T_NS_SEPARATOR","\\",409],["T_STRING","Phrase",409],"(",["T_CONSTANT_ENCAPSED_STRING","'Object DOMDocument should be created.'",409],")",["T_WHITESPACE","\n            ",409],")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n\n        ",411],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","domDocument",413],";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Set DOM document\n     *\n     * @param \\DOMDocument $domDocument\n     * @return void\n     *\/",416],["T_WHITESPACE","\n    ",421],["T_PUBLIC","public",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","setDom",422],"(",["T_NS_SEPARATOR","\\",422],["T_STRING","DOMDocument",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$domDocument",422],")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","domDocument",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$domDocument",424],";",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n\n    ",425],["T_DOC_COMMENT","\/**\n     * Unset DOM document\n     *\n     * @return void\n     *\/",427],["T_WHITESPACE","\n    ",431],["T_PUBLIC","public",432],["T_WHITESPACE"," ",432],["T_FUNCTION","function",432],["T_WHITESPACE"," ",432],["T_STRING","unsetDom",432],"(",")",["T_WHITESPACE","\n    ",432],"{",["T_WHITESPACE","\n        ",433],["T_UNSET","unset",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","domDocument",434],")",";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Validate self contents towards to specified schema\n     *\n     * @param string|null $schemaFilePath\n     * @return array\n     *\/",437],["T_WHITESPACE","\n    ",442],["T_PUBLIC","public",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","validate",443],"(",["T_VARIABLE","$schemaFilePath",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_STRING","null",443],")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n        ",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(","!",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","validationState",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","isValidationRequired",445],"(",")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n            ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],"[","]",";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE","\n        ",447],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","validateDomDocument",448],"(",["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getDom",448],"(",")",",",["T_WHITESPACE"," ",448],["T_VARIABLE","$schemaFilePath",448],")",";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n",449],"}",["T_WHITESPACE","\n",450]]