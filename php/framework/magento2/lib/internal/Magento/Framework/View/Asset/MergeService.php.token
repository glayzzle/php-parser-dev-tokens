[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Asset",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Service model responsible for making a decision of whether to use the merged asset in place of original ones\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","MergeService",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Object Manager\n     *\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$objectManager",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Config\n     *\n     * @var ConfigInterface\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$config",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Filesystem\n     *\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$filesystem",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * State\n     *\n     * @var \\Magento\\Framework\\App\\State\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$state",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Framework\\ObjectManagerInterface $objectManager\n     * @param ConfigInterface $config\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Framework\\App\\State $state\n     *\/",43],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","__construct",51],"(",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ObjectManagerInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$objectManager",52],",",["T_WHITESPACE","\n        ",52],["T_STRING","ConfigInterface",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$config",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Filesystem",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$filesystem",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","App",55],["T_NS_SEPARATOR","\\",55],["T_STRING","State",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$state",55],["T_WHITESPACE","\n    ",55],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","objectManager",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$objectManager",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","config",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$config",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","filesystem",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$filesystem",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","state",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$state",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Return merged assets, if merging is enabled for a given content type\n     *\n     * @param MergeableInterface[] $assets\n     * @param string $contentType\n     * @return array|\\Iterator\n     * @throws \\InvalidArgumentException\n     *\/",63],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","getMergedAssets",71],"(",["T_ARRAY","array",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$assets",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$contentType",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$isCss",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$contentType",73],["T_WHITESPACE"," ",73],["T_IS_EQUAL","==",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'css'",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$isJs",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$contentType",74],["T_WHITESPACE"," ",74],["T_IS_EQUAL","==",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'js'",74],";",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(","!",["T_VARIABLE","$isCss",75],["T_WHITESPACE"," ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE"," ",75],"!",["T_VARIABLE","$isJs",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_THROW","throw",76],["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_NS_SEPARATOR","\\",76],["T_STRING","InvalidArgumentException",76],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Merge for content type '",76],["T_CURLY_OPEN","{",76],["T_VARIABLE","$contentType",76],"}",["T_ENCAPSED_AND_WHITESPACE","' is not supported.",76],"\"",")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$isCssMergeEnabled",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","config",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","isMergeCssFiles",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$isJsMergeEnabled",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","config",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","isMergeJsFiles",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","(",["T_VARIABLE","$isCss",81],["T_WHITESPACE"," ",81],["T_BOOLEAN_AND","&&",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$isCssMergeEnabled",81],")",["T_WHITESPACE"," ",81],["T_BOOLEAN_OR","||",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$isJs",81],["T_WHITESPACE"," ",81],["T_BOOLEAN_AND","&&",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$isJsMergeEnabled",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$mergeStrategyClass",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","View",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Asset",82],["T_NS_SEPARATOR","\\",82],["T_STRING","MergeStrategy",82],["T_NS_SEPARATOR","\\",82],["T_STRING","FileExists",82],["T_DOUBLE_COLON","::",82],["T_CLASS","class",82],";",["T_WHITESPACE","\n\n            ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","state",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMode",84],"(",")",["T_WHITESPACE"," ",84],["T_IS_IDENTICAL","===",84],["T_WHITESPACE"," ",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Framework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","App",84],["T_NS_SEPARATOR","\\",84],["T_STRING","State",84],["T_DOUBLE_COLON","::",84],["T_STRING","MODE_DEVELOPER",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$mergeStrategyClass",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","View",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Asset",85],["T_NS_SEPARATOR","\\",85],["T_STRING","MergeStrategy",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Checksum",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],";",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE","\n\n            ",86],["T_VARIABLE","$mergeStrategy",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","objectManager",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_VARIABLE","$mergeStrategyClass",88],")",";",["T_WHITESPACE","\n\n            ",88],["T_VARIABLE","$assets",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","objectManager",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","create",90],"(",["T_WHITESPACE","\n                ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","View",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Asset",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Merged",91],["T_DOUBLE_COLON","::",91],["T_CLASS","class",91],",",["T_WHITESPACE","\n                ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'assets'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$assets",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'mergeStrategy'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$mergeStrategy",92],"]",["T_WHITESPACE","\n            ",92],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$assets",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Remove all merged js\/css files\n     *\n     * @return void\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","cleanMergedJsCss",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","filesystem",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getDirectoryWrite",106],"(",["T_STRING","DirectoryList",106],["T_DOUBLE_COLON","::",106],["T_STRING","STATIC_VIEW",106],")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","delete",107],"(",["T_STRING","Merged",107],["T_DOUBLE_COLON","::",107],["T_STRING","getRelativeDir",107],"(",")",")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n",108],"}",["T_WHITESPACE","\n",109]]