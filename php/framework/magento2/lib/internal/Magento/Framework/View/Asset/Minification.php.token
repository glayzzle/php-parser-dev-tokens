[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Asset",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ScopeConfigInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","State",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Minification",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * XML path for asset minification configuration\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","XML_PATH_MINIFICATION_ENABLED",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'dev\/%s\/minify_files'",16],";",["T_WHITESPACE","\n\n    ",16],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","XML_PATH_MINIFICATION_EXCLUDES",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'dev\/%s\/minify_exclude'",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var ScopeConfigInterface\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$scopeConfig",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var State\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$appState",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$scope",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$configCache",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[","]",";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @param ScopeConfigInterface $scopeConfig\n     * @param State $appState\n     * @param string $scope\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","__construct",45],"(",["T_STRING","ScopeConfigInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$scopeConfig",45],",",["T_WHITESPACE"," ",45],["T_STRING","State",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$appState",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$scope",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'store'",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","scopeConfig",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$scopeConfig",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","appState",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$appState",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","scope",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$scope",49],";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Check whether asset minification is on for specified content type\n     *\n     * @param string $contentType\n     * @return bool\n     *\/",52],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","isEnabled",58],"(",["T_VARIABLE","$contentType",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_ISSET","isset",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","configCache",60],"[",["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","XML_PATH_MINIFICATION_ENABLED",60],"]","[",["T_VARIABLE","$contentType",60],"]",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","configCache",61],"[",["T_STRING","self",61],["T_DOUBLE_COLON","::",61],["T_STRING","XML_PATH_MINIFICATION_ENABLED",61],"]","[",["T_VARIABLE","$contentType",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","appState",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMode",62],"(",")",["T_WHITESPACE"," ",62],["T_IS_NOT_EQUAL","!=",62],["T_WHITESPACE"," ",62],["T_STRING","State",62],["T_DOUBLE_COLON","::",62],["T_STRING","MODE_DEVELOPER",62],["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE","\n                ",62],["T_BOOL_CAST","(bool)",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","scopeConfig",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isSetFlag",63],"(",["T_WHITESPACE","\n                    ",63],["T_STRING","sprintf",64],"(",["T_STRING","self",64],["T_DOUBLE_COLON","::",64],["T_STRING","XML_PATH_MINIFICATION_ENABLED",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$contentType",64],")",",",["T_WHITESPACE","\n                    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","scope",65],["T_WHITESPACE","\n                ",65],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","configCache",69],"[",["T_STRING","self",69],["T_DOUBLE_COLON","::",69],["T_STRING","XML_PATH_MINIFICATION_ENABLED",69],"]","[",["T_VARIABLE","$contentType",69],"]",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Add 'min' suffix if minification is enabled and $filename has no one.\n     *\n     * @param string $filename\n     * @return string\n     *\/",72],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","addMinifiedSign",78],"(",["T_VARIABLE","$filename",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$extension",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","pathinfo",80],"(",["T_VARIABLE","$filename",80],",",["T_WHITESPACE"," ",80],["T_STRING","PATHINFO_EXTENSION",80],")",";",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isEnabled",83],"(",["T_VARIABLE","$extension",83],")",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE","\n            ",83],"!",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","isExcluded",84],"(",["T_VARIABLE","$filename",84],")",["T_WHITESPACE"," ",84],["T_BOOLEAN_AND","&&",84],["T_WHITESPACE","\n            ",84],"!",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","isMinifiedFilename",85],"(",["T_VARIABLE","$filename",85],")",["T_WHITESPACE","\n        ",85],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$filename",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","substr",87],"(",["T_VARIABLE","$filename",87],",",["T_WHITESPACE"," ",87],["T_LNUMBER","0",87],",",["T_WHITESPACE"," ",87],"-",["T_STRING","strlen",87],"(",["T_VARIABLE","$extension",87],")",")",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'min.'",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_VARIABLE","$extension",87],";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$filename",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Remove 'min' suffix if exists and minification is enabled\n     *\n     * @param string $filename\n     * @return string\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","removeMinifiedSign",98],"(",["T_VARIABLE","$filename",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$extension",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","pathinfo",100],"(",["T_VARIABLE","$filename",100],",",["T_WHITESPACE"," ",100],["T_STRING","PATHINFO_EXTENSION",100],")",";",["T_WHITESPACE","\n\n        ",100],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","isEnabled",103],"(",["T_VARIABLE","$extension",103],")",["T_WHITESPACE"," ",103],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE","\n            ",103],"!",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","isExcluded",104],"(",["T_VARIABLE","$filename",104],")",["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE","\n            ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","isMinifiedFilename",105],"(",["T_VARIABLE","$filename",105],")",["T_WHITESPACE","\n        ",105],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$filename",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","substr",107],"(",["T_VARIABLE","$filename",107],",",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],",",["T_WHITESPACE"," ",107],"-",["T_STRING","strlen",107],"(",["T_VARIABLE","$extension",107],")",["T_WHITESPACE"," ",107],"-",["T_WHITESPACE"," ",107],["T_LNUMBER","4",107],")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$extension",107],";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$filename",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * @param string $filename\n     * @return bool\n     *\/",112],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","isMinifiedFilename",116],"(",["T_VARIABLE","$filename",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_STRING","substr",118],"(",["T_VARIABLE","$filename",118],",",["T_WHITESPACE"," ",118],["T_STRING","strrpos",118],"(",["T_VARIABLE","$filename",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'.'",118],")",["T_WHITESPACE"," ",118],"-",["T_WHITESPACE"," ",118],["T_LNUMBER","4",118],",",["T_WHITESPACE"," ",118],["T_LNUMBER","5",118],")",["T_WHITESPACE"," ",118],["T_IS_EQUAL","==",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'.min.'",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * @param string $filename\n     * @return boolean\n     *\/",121],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","isExcluded",125],"(",["T_VARIABLE","$filename",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_FOREACH","foreach",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getExcludes",127],"(",["T_STRING","pathinfo",127],"(",["T_VARIABLE","$filename",127],",",["T_WHITESPACE"," ",127],["T_STRING","PATHINFO_EXTENSION",127],")",")",["T_WHITESPACE"," ",127],["T_AS","as",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$exclude",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_STRING","preg_match",128],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_STRING","str_replace",128],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'\\\/'",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$exclude",128],")",["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'\/'",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$filename",128],")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","true",129],";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_STRING","false",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @param string $contentType\n     * @return string[]\n     *\/",135],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getExcludes",139],"(",["T_VARIABLE","$contentType",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(","!",["T_ISSET","isset",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","configCache",141],"[",["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_STRING","XML_PATH_MINIFICATION_EXCLUDES",141],"]","[",["T_VARIABLE","$contentType",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","configCache",142],"[",["T_STRING","self",142],["T_DOUBLE_COLON","::",142],["T_STRING","XML_PATH_MINIFICATION_EXCLUDES",142],"]","[",["T_VARIABLE","$contentType",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[","]",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$key",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","sprintf",143],"(",["T_STRING","self",143],["T_DOUBLE_COLON","::",143],["T_STRING","XML_PATH_MINIFICATION_EXCLUDES",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$contentType",143],")",";",["T_WHITESPACE","\n            ",143],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_STRING","explode",144],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","scopeConfig",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getValue",144],"(",["T_VARIABLE","$key",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","scope",144],")",")",["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$exclude",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_STRING","trim",145],"(",["T_VARIABLE","$exclude",145],")",["T_WHITESPACE"," ",145],["T_IS_NOT_EQUAL","!=",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","''",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","configCache",146],"[",["T_STRING","self",146],["T_DOUBLE_COLON","::",146],["T_STRING","XML_PATH_MINIFICATION_EXCLUDES",146],"]","[",["T_VARIABLE","$contentType",146],"]","[","]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","trim",146],"(",["T_VARIABLE","$exclude",146],")",";",["T_WHITESPACE","\n                ",146],"}",["T_WHITESPACE","\n            ",147],"}",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n        ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","configCache",150],"[",["T_STRING","self",150],["T_DOUBLE_COLON","::",150],["T_STRING","XML_PATH_MINIFICATION_EXCLUDES",150],"]","[",["T_VARIABLE","$contentType",150],"]",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n",151],"}",["T_WHITESPACE","\n",152]]