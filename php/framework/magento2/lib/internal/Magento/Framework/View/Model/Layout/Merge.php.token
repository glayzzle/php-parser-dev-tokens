[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Layout",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","State",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Dom",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ValidationException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filesystem",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DriverPool",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","File",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ReadFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","View",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Layout",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Update",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Layout merge model\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","Merge",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","View",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Layout",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ProcessorInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Layout abstraction based on designer prerogative.\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","DESIGN_ABSTRACTION_CUSTOM",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'custom'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Layout generalization guaranteed to load into View\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","DESIGN_ABSTRACTION_PAGE_LAYOUT",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * XPath of handles originally declared in layout updates\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","XPATH_HANDLE_DECLARATION",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'\/layout[@design_abstraction]'",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Name of an attribute that stands for data type of node values\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","TYPE_ATTRIBUTE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'xsi:type'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Cache id suffix for page layout\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","PAGE_LAYOUT_CACHE_SUFFIX",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\ThemeInterface\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$theme",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Url\\ScopeInterface\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$scope",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * In-memory cache for loaded layout updates\n     *\n     * @var \\Magento\\Framework\\View\\Layout\\Element\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$layoutUpdatesCache",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Cumulative array of update XML strings\n     *\n     * @var array\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$updates",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[","]",";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Handles used in this update\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$handles",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Page handle names sorted by from parent to child\n     *\n     * @var array\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$pageHandles",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[","]",";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Substitution values in structure array('from' => array(), 'to' => array())\n     *\n     * @var array|null\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$subst",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","null",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\File\\CollectorInterface\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PRIVATE","private",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$fileSource",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\File\\CollectorInterface\n     *\/",96],["T_WHITESPACE","\n    ",98],["T_PRIVATE","private",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$pageLayoutFileSource",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\State\n     *\/",101],["T_WHITESPACE","\n    ",103],["T_PRIVATE","private",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$appState",104],";",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Cache\\FrontendInterface\n     *\/",106],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$cache",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Model\\Layout\\Update\\Validator\n     *\/",111],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$layoutValidator",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$logger",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",121],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$pageLayout",124],";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$cacheSuffix",129],";",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * All processed handles used in this update\n     *\n     * @var array\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$allHandles",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],"[","]",";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Status for handle being processed\n     *\n     * @var int\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$handleProcessing",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Status for processed handle\n     *\n     * @var int\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$handleProcessed",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","2",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * @var ReadFactory\n     *\/",152],["T_WHITESPACE","\n    ",154],["T_PRIVATE","private",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$readFactory",155],";",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Init merge model\n     *\n     * @param \\Magento\\Framework\\View\\DesignInterface $design\n     * @param \\Magento\\Framework\\Url\\ScopeResolverInterface $scopeResolver\n     * @param \\Magento\\Framework\\View\\File\\CollectorInterface $fileSource\n     * @param \\Magento\\Framework\\View\\File\\CollectorInterface $pageLayoutFileSource\n     * @param \\Magento\\Framework\\App\\State $appState\n     * @param \\Magento\\Framework\\Cache\\FrontendInterface $cache\n     * @param \\Magento\\Framework\\View\\Model\\Layout\\Update\\Validator $validator\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param ReadFactory $readFactory,\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $theme Non-injectable theme instance\n     * @param string $cacheSuffix\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",157],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","__construct",173],"(",["T_WHITESPACE","\n        ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Framework",174],["T_NS_SEPARATOR","\\",174],["T_STRING","View",174],["T_NS_SEPARATOR","\\",174],["T_STRING","DesignInterface",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$design",174],",",["T_WHITESPACE","\n        ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Framework",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Url",175],["T_NS_SEPARATOR","\\",175],["T_STRING","ScopeResolverInterface",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$scopeResolver",175],",",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Framework",176],["T_NS_SEPARATOR","\\",176],["T_STRING","View",176],["T_NS_SEPARATOR","\\",176],["T_STRING","File",176],["T_NS_SEPARATOR","\\",176],["T_STRING","CollectorInterface",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$fileSource",176],",",["T_WHITESPACE","\n        ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Framework",177],["T_NS_SEPARATOR","\\",177],["T_STRING","View",177],["T_NS_SEPARATOR","\\",177],["T_STRING","File",177],["T_NS_SEPARATOR","\\",177],["T_STRING","CollectorInterface",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$pageLayoutFileSource",177],",",["T_WHITESPACE","\n        ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Framework",178],["T_NS_SEPARATOR","\\",178],["T_STRING","App",178],["T_NS_SEPARATOR","\\",178],["T_STRING","State",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$appState",178],",",["T_WHITESPACE","\n        ",178],["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Framework",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Cache",179],["T_NS_SEPARATOR","\\",179],["T_STRING","FrontendInterface",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$cache",179],",",["T_WHITESPACE","\n        ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Framework",180],["T_NS_SEPARATOR","\\",180],["T_STRING","View",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Layout",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Update",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Validator",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$validator",180],",",["T_WHITESPACE","\n        ",180],["T_NS_SEPARATOR","\\",181],["T_STRING","Psr",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Log",181],["T_NS_SEPARATOR","\\",181],["T_STRING","LoggerInterface",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$logger",181],",",["T_WHITESPACE","\n        ",181],["T_STRING","ReadFactory",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$readFactory",182],",",["T_WHITESPACE","\n        ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Framework",183],["T_NS_SEPARATOR","\\",183],["T_STRING","View",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Design",183],["T_NS_SEPARATOR","\\",183],["T_STRING","ThemeInterface",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$theme",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","null",183],",",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$cacheSuffix",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","''",184],["T_WHITESPACE","\n    ",184],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","theme",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$theme",186],["T_WHITESPACE"," ",186],"?",":",["T_WHITESPACE"," ",186],["T_VARIABLE","$design",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getDesignTheme",186],"(",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","scope",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$scopeResolver",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getScope",187],"(",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","fileSource",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$fileSource",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","pageLayoutFileSource",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$pageLayoutFileSource",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","appState",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$appState",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","cache",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$cache",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","layoutValidator",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$validator",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","logger",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$logger",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","readFactory",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$readFactory",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","cacheSuffix",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$cacheSuffix",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Add XML update instruction\n     *\n     * @param string $update\n     * @return $this\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","addUpdate",204],"(",["T_VARIABLE","$update",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(","!",["T_STRING","in_array",206],"(",["T_VARIABLE","$update",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","updates",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","updates",207],"[","]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$update",207],";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Get all registered updates as array\n     *\n     * @return array\n     *\/",212],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","asArray",217],"(",")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","updates",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Get all registered updates as string\n     *\n     * @return string\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","asString",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_STRING","implode",229],"(",["T_CONSTANT_ENCAPSED_STRING","''",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","updates",229],")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Add handle(s) to update\n     *\n     * @param array|string $handleName\n     * @return $this\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","addHandle",238],"(",["T_VARIABLE","$handleName",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_STRING","is_array",240],"(",["T_VARIABLE","$handleName",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_FOREACH","foreach",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$handleName",241],["T_WHITESPACE"," ",241],["T_AS","as",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$name",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","handles",242],"[",["T_VARIABLE","$name",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_LNUMBER","1",242],";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE"," ",244],["T_ELSE","else",244],["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","handles",245],"[",["T_VARIABLE","$handleName",245],"]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n        ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Remove handle from update\n     *\n     * @param string $handleName\n     * @return $this\n     *\/",250],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","removeHandle",256],"(",["T_VARIABLE","$handleName",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_UNSET","unset",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","handles",258],"[",["T_VARIABLE","$handleName",258],"]",")",";",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Get handle names array\n     *\n     * @return array\n     *\/",262],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","getHandles",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_STRING","array_keys",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","handles",269],")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Add the first existing (declared in layout updates) page handle along with all parents to the update.\n     * Return whether any page handles have been added or not.\n     *\n     * @param string[] $handlesToTry\n     * @return bool\n     *\/",272],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","addPageHandles",279],"(",["T_ARRAY","array",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$handlesToTry",279],")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$handlesAdded",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","false",281],";",["T_WHITESPACE","\n        ",281],["T_FOREACH","foreach",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$handlesToTry",282],["T_WHITESPACE"," ",282],["T_AS","as",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$handleName",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","pageHandleExists",283],"(",["T_VARIABLE","$handleName",283],")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_CONTINUE","continue",284],";",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$handles",286],"[","]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$handleName",286],";",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","pageHandles",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$handles",287],";",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","addHandle",288],"(",["T_VARIABLE","$handles",288],")",";",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$handlesAdded",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","true",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$handlesAdded",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Whether a page handle is declared in the system or not\n     *\n     * @param string $handleName\n     * @return bool\n     *\/",294],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","pageHandleExists",300],"(",["T_VARIABLE","$handleName",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_BOOL_CAST","(bool)",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_getPageHandleNode",302],"(",["T_VARIABLE","$handleName",302],")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * @return string|null\n     *\/",305],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","getPageLayout",308],"(",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","pageLayout",310],";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Check current handles if layout was defined on it\n     *\n     * @return bool\n     *\/",313],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","isLayoutDefined",318],"(",")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$fullLayoutXml",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getFileLayoutUpdatesXml",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_FOREACH","foreach",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getHandles",321],"(",")",["T_WHITESPACE"," ",321],["T_AS","as",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$handle",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$fullLayoutXml",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","xpath",322],"(","\"",["T_ENCAPSED_AND_WHITESPACE","layout[@id='",322],["T_CURLY_OPEN","{",322],["T_VARIABLE","$handle",322],"}",["T_ENCAPSED_AND_WHITESPACE","']",322],"\"",")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                ",322],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_STRING","true",323],";",["T_WHITESPACE","\n            ",323],"}",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_STRING","false",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Get handle xml node by handle name\n     *\n     * @param string $handleName\n     * @return \\Magento\\Framework\\View\\Layout\\Element|null\n     *\/",329],["T_WHITESPACE","\n    ",334],["T_PROTECTED","protected",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","_getPageHandleNode",335],"(",["T_VARIABLE","$handleName",335],")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_COMMENT","\/* quick validation for non-existing page types *\/",337],["T_WHITESPACE","\n        ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(","!",["T_VARIABLE","$handleName",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n            ",338],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_STRING","null",339],";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$handles",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getFileLayoutUpdatesXml",341],"(",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","xpath",341],"(","\"",["T_ENCAPSED_AND_WHITESPACE","handle[@id='",341],["T_CURLY_OPEN","{",341],["T_VARIABLE","$handleName",341],"}",["T_ENCAPSED_AND_WHITESPACE","']",341],"\"",")",";",["T_WHITESPACE","\n        ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_EMPTY","empty",342],"(",["T_VARIABLE","$handles",342],")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_STRING","null",343],";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$nodes",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getFileLayoutUpdatesXml",345],"(",")",["T_OBJECT_OPERATOR","->",345],["T_STRING","xpath",345],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/layouts\/handle[@id=\\\"",345],["T_CURLY_OPEN","{",345],["T_VARIABLE","$handleName",345],"}",["T_ENCAPSED_AND_WHITESPACE","\\\"]",345],"\"",")",";",["T_WHITESPACE","\n        ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$nodes",346],["T_WHITESPACE"," ",346],"?",["T_WHITESPACE"," ",346],["T_STRING","reset",346],"(",["T_VARIABLE","$nodes",346],")",["T_WHITESPACE"," ",346],":",["T_WHITESPACE"," ",346],["T_STRING","null",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Retrieve used page handle names sorted from parent to child\n     *\n     * @return array\n     *\/",349],["T_WHITESPACE","\n    ",353],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","getPageHandles",354],"(",")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","pageHandles",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Retrieve all design abstractions that exist in the system.\n     *\n     * Result format:\n     * array(\n     *     'handle_name_1' => array(\n     *         'name'     => 'handle_name_1',\n     *         'label'    => 'Handle Name 1',\n     *         'design_abstraction' => self::DESIGN_ABSTRACTION_PAGE_LAYOUT or self::DESIGN_ABSTRACTION_CUSTOM\n     *     ),\n     *     \/\/ ...\n     * )\n     *\n     * @return array\n     *\/",359],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","getAllDesignAbstractions",374],"(",")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$result",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],"[","]",";",["T_WHITESPACE","\n\n        ",376],["T_VARIABLE","$conditions",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],"[",["T_WHITESPACE","\n            ",378],["T_CONSTANT_ENCAPSED_STRING","'(@design_abstraction=\"'",379],["T_WHITESPACE"," ",379],".",["T_WHITESPACE"," ",379],["T_STRING","self",379],["T_DOUBLE_COLON","::",379],["T_STRING","DESIGN_ABSTRACTION_PAGE_LAYOUT",379],["T_WHITESPACE"," ",379],".",["T_WHITESPACE","\n            ",379],["T_CONSTANT_ENCAPSED_STRING","'\" or @design_abstraction=\"'",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_STRING","self",380],["T_DOUBLE_COLON","::",380],["T_STRING","DESIGN_ABSTRACTION_CUSTOM",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'\")'",380],",",["T_WHITESPACE","\n        ",380],"]",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$xpath",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'\/layouts\/*['",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_STRING","implode",382],"(",["T_CONSTANT_ENCAPSED_STRING","' or '",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$conditions",382],")",["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","']'",382],";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$nodes",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getFileLayoutUpdatesXml",383],"(",")",["T_OBJECT_OPERATOR","->",383],["T_STRING","xpath",383],"(",["T_VARIABLE","$xpath",383],")",["T_WHITESPACE"," ",383],"?",":",["T_WHITESPACE"," ",383],"[","]",";",["T_WHITESPACE","\n        ",383],["T_DOC_COMMENT","\/** @var $node \\Magento\\Framework\\View\\Layout\\Element *\/",384],["T_WHITESPACE","\n        ",384],["T_FOREACH","foreach",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$nodes",385],["T_WHITESPACE"," ",385],["T_AS","as",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$node",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$name",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$node",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getAttribute",386],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",386],")",";",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$info",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"[",["T_WHITESPACE","\n                ",387],["T_CONSTANT_ENCAPSED_STRING","'name'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$name",388],",",["T_WHITESPACE","\n                ",388],["T_CONSTANT_ENCAPSED_STRING","'label'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_STRING_CAST","(string)",389],["T_NEW","new",389],["T_WHITESPACE"," ",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Magento",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Framework",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Phrase",389],"(",["T_STRING_CAST","(string)",389],["T_VARIABLE","$node",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getAttribute",389],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",389],")",")",",",["T_WHITESPACE","\n                ",389],["T_CONSTANT_ENCAPSED_STRING","'design_abstraction'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$node",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getAttribute",390],"(",["T_CONSTANT_ENCAPSED_STRING","'design_abstraction'",390],")",",",["T_WHITESPACE","\n            ",390],"]",";",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$result",392],"[",["T_VARIABLE","$name",392],"]",["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$info",392],";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n        ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$result",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * Retrieve the type of a page handle\n     *\n     * @param string $handleName\n     * @return string|null\n     *\/",397],["T_WHITESPACE","\n    ",402],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","getPageHandleType",403],"(",["T_VARIABLE","$handleName",403],")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$node",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_getPageHandleNode",405],"(",["T_VARIABLE","$handleName",405],")",";",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$node",406],["T_WHITESPACE"," ",406],"?",["T_WHITESPACE"," ",406],["T_VARIABLE","$node",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getAttribute",406],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",406],")",["T_WHITESPACE"," ",406],":",["T_WHITESPACE"," ",406],["T_STRING","null",406],";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Load layout updates by handles\n     *\n     * @param array|string $handles\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return $this\n     *\/",409],["T_WHITESPACE","\n    ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","load",416],"(",["T_VARIABLE","$handles",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],"[","]",")",["T_WHITESPACE","\n    ",416],"{",["T_WHITESPACE","\n        ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_STRING","is_string",418],"(",["T_VARIABLE","$handles",418],")",")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$handles",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],"[",["T_VARIABLE","$handles",419],"]",";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE"," ",420],["T_ELSEIF","elseif",420],["T_WHITESPACE"," ",420],"(","!",["T_STRING","is_array",420],"(",["T_VARIABLE","$handles",420],")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n            ",420],["T_THROW","throw",421],["T_WHITESPACE"," ",421],["T_NEW","new",421],["T_WHITESPACE"," ",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Magento",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Framework",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Exception",421],["T_NS_SEPARATOR","\\",421],["T_STRING","LocalizedException",421],"(",["T_WHITESPACE","\n                ",421],["T_NEW","new",422],["T_WHITESPACE"," ",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Magento",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Framework",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Phrase",422],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid layout update handle'",422],")",["T_WHITESPACE","\n            ",422],")",";",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE","\n\n        ",424],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","addHandle",426],"(",["T_VARIABLE","$handles",426],")",";",["T_WHITESPACE","\n\n        ",426],["T_VARIABLE","$cacheId",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getCacheId",428],"(",")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$cacheIdPageLayout",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$cacheId",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'_'",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_STRING","self",429],["T_DOUBLE_COLON","::",429],["T_STRING","PAGE_LAYOUT_CACHE_SUFFIX",429],";",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$result",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_loadCache",430],"(",["T_VARIABLE","$cacheId",430],")",";",["T_WHITESPACE","\n        ",430],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_VARIABLE","$result",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n            ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","addUpdate",432],"(",["T_VARIABLE","$result",432],")",";",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","pageLayout",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_loadCache",433],"(",["T_VARIABLE","$cacheIdPageLayout",433],")",";",["T_WHITESPACE","\n            ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],";",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE","\n\n        ",435],["T_FOREACH","foreach",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","getHandles",437],"(",")",["T_WHITESPACE"," ",437],["T_AS","as",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$handle",437],")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_merge",438],"(",["T_VARIABLE","$handle",438],")",";",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n\n        ",439],["T_VARIABLE","$layout",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","asString",441],"(",")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_validateMergedLayout",442],"(",["T_VARIABLE","$cacheId",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$layout",442],")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_saveCache",443],"(",["T_VARIABLE","$layout",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$cacheId",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getHandles",443],"(",")",")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_saveCache",444],"(",["T_STRING_CAST","(string)",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","pageLayout",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$cacheIdPageLayout",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getHandles",444],"(",")",")",";",["T_WHITESPACE","\n        ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * Validate merged layout\n     *\n     * @param string $cacheId\n     * @param string $layout\n     * @return $this\n     * @throws \\Exception\n     *\/",448],["T_WHITESPACE","\n    ",455],["T_PROTECTED","protected",456],["T_WHITESPACE"," ",456],["T_FUNCTION","function",456],["T_WHITESPACE"," ",456],["T_STRING","_validateMergedLayout",456],"(",["T_VARIABLE","$cacheId",456],",",["T_WHITESPACE"," ",456],["T_VARIABLE","$layout",456],")",["T_WHITESPACE","\n    ",456],"{",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$layoutStr",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'<handle id=\"handle\">'",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_VARIABLE","$layout",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'<\/handle>'",458],";",["T_WHITESPACE","\n\n        ",458],["T_TRY","try",460],["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","layoutValidator",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","isValid",461],"(",["T_VARIABLE","$layoutStr",461],",",["T_WHITESPACE"," ",461],["T_STRING","Validator",461],["T_DOUBLE_COLON","::",461],["T_STRING","LAYOUT_SCHEMA_MERGED",461],",",["T_WHITESPACE"," ",461],["T_STRING","false",461],")",";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE"," ",462],["T_CATCH","catch",462],["T_WHITESPACE"," ",462],"(",["T_NS_SEPARATOR","\\",462],["T_STRING","Exception",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$e",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$messages",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","layoutValidator",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getMessages",463],"(",")",";",["T_WHITESPACE","\n            ",463],["T_COMMENT","\/\/Add first message to exception\n",464],["T_WHITESPACE","            ",465],["T_VARIABLE","$message",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_STRING","reset",465],"(",["T_VARIABLE","$messages",465],")",";",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","logger",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","info",466],"(",["T_WHITESPACE","\n                ",466],["T_CONSTANT_ENCAPSED_STRING","'Cache file with merged layout: '",467],["T_WHITESPACE"," ",467],".",["T_WHITESPACE"," ",467],["T_VARIABLE","$cacheId",467],["T_WHITESPACE","\n                ",467],".",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","' and handles '",468],["T_WHITESPACE"," ",468],".",["T_WHITESPACE"," ",468],["T_STRING","implode",468],"(",["T_CONSTANT_ENCAPSED_STRING","', '",468],",",["T_WHITESPACE"," ",468],["T_ARRAY_CAST","(array)",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getHandles",468],"(",")",")",["T_WHITESPACE"," ",468],".",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","': '",468],["T_WHITESPACE"," ",468],".",["T_WHITESPACE"," ",468],["T_VARIABLE","$message",468],["T_WHITESPACE","\n            ",468],")",";",["T_WHITESPACE","\n            ",469],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","appState",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getMode",470],"(",")",["T_WHITESPACE"," ",470],["T_IS_IDENTICAL","===",470],["T_WHITESPACE"," ",470],["T_NS_SEPARATOR","\\",470],["T_STRING","Magento",470],["T_NS_SEPARATOR","\\",470],["T_STRING","Framework",470],["T_NS_SEPARATOR","\\",470],["T_STRING","App",470],["T_NS_SEPARATOR","\\",470],["T_STRING","State",470],["T_DOUBLE_COLON","::",470],["T_STRING","MODE_DEVELOPER",470],")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n                ",470],["T_THROW","throw",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$e",471],";",["T_WHITESPACE","\n            ",471],"}",["T_WHITESPACE","\n        ",472],"}",["T_WHITESPACE","\n\n        ",473],["T_RETURN","return",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],";",["T_WHITESPACE","\n    ",475],"}",["T_WHITESPACE","\n\n    ",476],["T_DOC_COMMENT","\/**\n     * Get layout updates as \\Magento\\Framework\\View\\Layout\\Element object\n     *\n     * @return \\SimpleXMLElement\n     *\/",478],["T_WHITESPACE","\n    ",482],["T_PUBLIC","public",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","asSimplexml",483],"(",")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$updates",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_STRING","trim",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","asString",485],"(",")",")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$updates",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\"?>'",486],["T_WHITESPACE","\n            ",486],".",["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'<layout xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">'",487],["T_WHITESPACE","\n            ",487],".",["T_WHITESPACE"," ",488],["T_VARIABLE","$updates",488],["T_WHITESPACE","\n            ",488],".",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'<\/layout>'",489],";",["T_WHITESPACE","\n        ",489],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","_loadXmlString",490],"(",["T_VARIABLE","$updates",490],")",";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Return object representation of XML string\n     *\n     * @param string $xmlString\n     * @return \\SimpleXMLElement\n     *\/",493],["T_WHITESPACE","\n    ",498],["T_PROTECTED","protected",499],["T_WHITESPACE"," ",499],["T_FUNCTION","function",499],["T_WHITESPACE"," ",499],["T_STRING","_loadXmlString",499],"(",["T_VARIABLE","$xmlString",499],")",["T_WHITESPACE","\n    ",499],"{",["T_WHITESPACE","\n        ",500],["T_RETURN","return",501],["T_WHITESPACE"," ",501],["T_STRING","simplexml_load_string",501],"(",["T_VARIABLE","$xmlString",501],",",["T_WHITESPACE"," ",501],["T_NS_SEPARATOR","\\",501],["T_STRING","Magento",501],["T_NS_SEPARATOR","\\",501],["T_STRING","Framework",501],["T_NS_SEPARATOR","\\",501],["T_STRING","View",501],["T_NS_SEPARATOR","\\",501],["T_STRING","Layout",501],["T_NS_SEPARATOR","\\",501],["T_STRING","Element",501],["T_DOUBLE_COLON","::",501],["T_CLASS","class",501],")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_DOC_COMMENT","\/**\n     * Merge layout update by handle\n     *\n     * @param string $handle\n     * @return $this\n     *\/",504],["T_WHITESPACE","\n    ",509],["T_PROTECTED","protected",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","_merge",510],"(",["T_VARIABLE","$handle",510],")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_IF","if",512],["T_WHITESPACE"," ",512],"(","!",["T_ISSET","isset",512],"(",["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","allHandles",512],"[",["T_VARIABLE","$handle",512],"]",")",")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","allHandles",513],"[",["T_VARIABLE","$handle",513],"]",["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","handleProcessing",513],";",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","_fetchPackageLayoutUpdates",514],"(",["T_VARIABLE","$handle",514],")",";",["T_WHITESPACE","\n            ",514],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","_fetchDbLayoutUpdates",515],"(",["T_VARIABLE","$handle",515],")",";",["T_WHITESPACE","\n            ",515],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","allHandles",516],"[",["T_VARIABLE","$handle",516],"]",["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","handleProcessed",516],";",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE"," ",517],["T_ELSEIF","elseif",517],["T_WHITESPACE"," ",517],"(",["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","allHandles",517],"[",["T_VARIABLE","$handle",517],"]",["T_WHITESPACE"," ",517],["T_IS_EQUAL","==",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","handleProcessing",517],["T_WHITESPACE","\n            ",517],["T_BOOLEAN_AND","&&",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","appState",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getMode",518],"(",")",["T_WHITESPACE"," ",518],["T_IS_IDENTICAL","===",518],["T_WHITESPACE"," ",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Magento",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Framework",518],["T_NS_SEPARATOR","\\",518],["T_STRING","App",518],["T_NS_SEPARATOR","\\",518],["T_STRING","State",518],["T_DOUBLE_COLON","::",518],["T_STRING","MODE_DEVELOPER",518],["T_WHITESPACE","\n        ",518],")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n            ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","logger",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","info",520],"(",["T_CONSTANT_ENCAPSED_STRING","'Cyclic dependency in merged layout for handle: '",520],["T_WHITESPACE"," ",520],".",["T_WHITESPACE"," ",520],["T_VARIABLE","$handle",520],")",";",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n        ",521],["T_RETURN","return",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],";",["T_WHITESPACE","\n    ",522],"}",["T_WHITESPACE","\n\n    ",523],["T_DOC_COMMENT","\/**\n     * Add updates for the specified handle\n     *\n     * @param string $handle\n     * @return bool\n     *\/",525],["T_WHITESPACE","\n    ",530],["T_PROTECTED","protected",531],["T_WHITESPACE"," ",531],["T_FUNCTION","function",531],["T_WHITESPACE"," ",531],["T_STRING","_fetchPackageLayoutUpdates",531],"(",["T_VARIABLE","$handle",531],")",["T_WHITESPACE","\n    ",531],"{",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$_profilerKey",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","'layout_package_update:'",533],["T_WHITESPACE"," ",533],".",["T_WHITESPACE"," ",533],["T_VARIABLE","$handle",533],";",["T_WHITESPACE","\n        ",533],["T_NS_SEPARATOR","\\",534],["T_STRING","Magento",534],["T_NS_SEPARATOR","\\",534],["T_STRING","Framework",534],["T_NS_SEPARATOR","\\",534],["T_STRING","Profiler",534],["T_DOUBLE_COLON","::",534],["T_STRING","start",534],"(",["T_VARIABLE","$_profilerKey",534],")",";",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$layout",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getFileLayoutUpdatesXml",535],"(",")",";",["T_WHITESPACE","\n        ",535],["T_FOREACH","foreach",536],["T_WHITESPACE"," ",536],"(",["T_VARIABLE","$layout",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","xpath",536],"(","\"",["T_ENCAPSED_AND_WHITESPACE","*[self::handle or self::layout][@id='",536],["T_CURLY_OPEN","{",536],["T_VARIABLE","$handle",536],"}",["T_ENCAPSED_AND_WHITESPACE","']",536],"\"",")",["T_WHITESPACE"," ",536],["T_AS","as",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$updateXml",536],")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n            ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_fetchRecursiveUpdates",537],"(",["T_VARIABLE","$updateXml",537],")",";",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$updateInnerXml",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$updateXml",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","innerXml",538],"(",")",";",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","validateUpdate",539],"(",["T_VARIABLE","$handle",539],",",["T_WHITESPACE"," ",539],["T_VARIABLE","$updateInnerXml",539],")",";",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","addUpdate",540],"(",["T_VARIABLE","$updateInnerXml",540],")",";",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE","\n        ",541],["T_NS_SEPARATOR","\\",542],["T_STRING","Magento",542],["T_NS_SEPARATOR","\\",542],["T_STRING","Framework",542],["T_NS_SEPARATOR","\\",542],["T_STRING","Profiler",542],["T_DOUBLE_COLON","::",542],["T_STRING","stop",542],"(",["T_VARIABLE","$_profilerKey",542],")",";",["T_WHITESPACE","\n\n        ",542],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_STRING","true",544],";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Fetch & add layout updates for the specified handle from the database\n     *\n     * @param string $handle\n     * @return bool\n     *\/",547],["T_WHITESPACE","\n    ",552],["T_PROTECTED","protected",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","_fetchDbLayoutUpdates",553],"(",["T_VARIABLE","$handle",553],")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_VARIABLE","$_profilerKey",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'layout_db_update: '",555],["T_WHITESPACE"," ",555],".",["T_WHITESPACE"," ",555],["T_VARIABLE","$handle",555],";",["T_WHITESPACE","\n        ",555],["T_NS_SEPARATOR","\\",556],["T_STRING","Magento",556],["T_NS_SEPARATOR","\\",556],["T_STRING","Framework",556],["T_NS_SEPARATOR","\\",556],["T_STRING","Profiler",556],["T_DOUBLE_COLON","::",556],["T_STRING","start",556],"(",["T_VARIABLE","$_profilerKey",556],")",";",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$updateStr",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getDbUpdateString",557],"(",["T_VARIABLE","$handle",557],")",";",["T_WHITESPACE","\n        ",557],["T_IF","if",558],["T_WHITESPACE"," ",558],"(","!",["T_VARIABLE","$updateStr",558],")",["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n            ",558],["T_NS_SEPARATOR","\\",559],["T_STRING","Magento",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Framework",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Profiler",559],["T_DOUBLE_COLON","::",559],["T_STRING","stop",559],"(",["T_VARIABLE","$_profilerKey",559],")",";",["T_WHITESPACE","\n            ",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_STRING","false",560],";",["T_WHITESPACE","\n        ",560],"}",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$updateStr",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","'<update_xml xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">'",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE","\n            ",562],["T_VARIABLE","$updateStr",563],["T_WHITESPACE"," ",563],".",["T_WHITESPACE","\n            ",563],["T_CONSTANT_ENCAPSED_STRING","'<\/update_xml>'",564],";",["T_WHITESPACE","\n        ",564],["T_VARIABLE","$updateStr",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","_substitutePlaceholders",565],"(",["T_VARIABLE","$updateStr",565],")",";",["T_WHITESPACE","\n        ",565],["T_VARIABLE","$updateXml",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","_loadXmlString",566],"(",["T_VARIABLE","$updateStr",566],")",";",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_fetchRecursiveUpdates",567],"(",["T_VARIABLE","$updateXml",567],")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$updateInnerXml",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$updateXml",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","innerXml",568],"(",")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","validateUpdate",569],"(",["T_VARIABLE","$handle",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$updateInnerXml",569],")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","addUpdate",570],"(",["T_VARIABLE","$updateInnerXml",570],")",";",["T_WHITESPACE","\n\n        ",570],["T_NS_SEPARATOR","\\",572],["T_STRING","Magento",572],["T_NS_SEPARATOR","\\",572],["T_STRING","Framework",572],["T_NS_SEPARATOR","\\",572],["T_STRING","Profiler",572],["T_DOUBLE_COLON","::",572],["T_STRING","stop",572],"(",["T_VARIABLE","$_profilerKey",572],")",";",["T_WHITESPACE","\n        ",572],["T_RETURN","return",573],["T_WHITESPACE"," ",573],["T_BOOL_CAST","(bool)",573],["T_VARIABLE","$updateStr",573],";",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_DOC_COMMENT","\/**\n     * Validate layout update content, throw exception on failure.\n     *\n     * This method is used as a hook for plugins.\n     *\n     * @param string $handle\n     * @param string $updateXml\n     * @return void\n     * @throws \\Exception\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @codeCoverageIgnore\n     *\/",576],["T_WHITESPACE","\n    ",587],["T_PUBLIC","public",588],["T_WHITESPACE"," ",588],["T_FUNCTION","function",588],["T_WHITESPACE"," ",588],["T_STRING","validateUpdate",588],"(",["T_VARIABLE","$handle",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$updateXml",588],")",["T_WHITESPACE","\n    ",588],"{",["T_WHITESPACE","\n        ",589],["T_RETURN","return",590],";",["T_WHITESPACE","\n    ",590],"}",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * Substitute placeholders {{placeholder_name}} with their values in XML string\n     *\n     * @param string $xmlString\n     * @return string\n     *\/",593],["T_WHITESPACE","\n    ",598],["T_PROTECTED","protected",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","_substitutePlaceholders",599],"(",["T_VARIABLE","$xmlString",599],")",["T_WHITESPACE","\n    ",599],"{",["T_WHITESPACE","\n        ",600],["T_IF","if",601],["T_WHITESPACE"," ",601],"(",["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","subst",601],["T_WHITESPACE"," ",601],["T_IS_IDENTICAL","===",601],["T_WHITESPACE"," ",601],["T_STRING","null",601],")",["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n            ",601],["T_VARIABLE","$placeholders",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],"[",["T_WHITESPACE","\n                ",602],["T_CONSTANT_ENCAPSED_STRING","'baseUrl'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","scope",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getBaseUrl",603],"(",")",",",["T_WHITESPACE","\n                ",603],["T_CONSTANT_ENCAPSED_STRING","'baseSecureUrl'",604],["T_WHITESPACE"," ",604],["T_DOUBLE_ARROW","=>",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","scope",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getBaseUrl",604],"(",["T_NS_SEPARATOR","\\",604],["T_STRING","Magento",604],["T_NS_SEPARATOR","\\",604],["T_STRING","Framework",604],["T_NS_SEPARATOR","\\",604],["T_STRING","UrlInterface",604],["T_DOUBLE_COLON","::",604],["T_STRING","URL_TYPE_LINK",604],",",["T_WHITESPACE"," ",604],["T_STRING","true",604],")",",",["T_WHITESPACE","\n            ",604],"]",";",["T_WHITESPACE","\n            ",605],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","subst",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],"[","]",";",["T_WHITESPACE","\n            ",606],["T_FOREACH","foreach",607],["T_WHITESPACE"," ",607],"(",["T_VARIABLE","$placeholders",607],["T_WHITESPACE"," ",607],["T_AS","as",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$key",607],["T_WHITESPACE"," ",607],["T_DOUBLE_ARROW","=>",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$value",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n                ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","subst",608],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",608],"]","[","]",["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'{{'",608],["T_WHITESPACE"," ",608],".",["T_WHITESPACE"," ",608],["T_VARIABLE","$key",608],["T_WHITESPACE"," ",608],".",["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'}}'",608],";",["T_WHITESPACE","\n                ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","subst",609],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",609],"]","[","]",["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$value",609],";",["T_WHITESPACE","\n            ",609],"}",["T_WHITESPACE","\n        ",610],"}",["T_WHITESPACE","\n        ",611],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_STRING","str_replace",612],"(",["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","subst",612],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",612],"]",",",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","subst",612],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",612],"]",",",["T_WHITESPACE"," ",612],["T_VARIABLE","$xmlString",612],")",";",["T_WHITESPACE","\n    ",612],"}",["T_WHITESPACE","\n\n    ",613],["T_DOC_COMMENT","\/**\n     * Get update string\n     *\n     * @param string $handle\n     * @return string\n     *\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",615],["T_WHITESPACE","\n    ",622],["T_PUBLIC","public",623],["T_WHITESPACE"," ",623],["T_FUNCTION","function",623],["T_WHITESPACE"," ",623],["T_STRING","getDbUpdateString",623],"(",["T_VARIABLE","$handle",623],")",["T_WHITESPACE","\n    ",623],"{",["T_WHITESPACE","\n        ",624],["T_RETURN","return",625],["T_WHITESPACE"," ",625],["T_STRING","null",625],";",["T_WHITESPACE","\n    ",625],"}",["T_WHITESPACE","\n\n    ",626],["T_DOC_COMMENT","\/**\n     * Add handles declared as '<update handle=\"handle_name\"\/>' directives\n     *\n     * @param \\SimpleXMLElement $updateXml\n     * @return $this\n     *\/",628],["T_WHITESPACE","\n    ",633],["T_PROTECTED","protected",634],["T_WHITESPACE"," ",634],["T_FUNCTION","function",634],["T_WHITESPACE"," ",634],["T_STRING","_fetchRecursiveUpdates",634],"(",["T_VARIABLE","$updateXml",634],")",["T_WHITESPACE","\n    ",634],"{",["T_WHITESPACE","\n        ",635],["T_FOREACH","foreach",636],["T_WHITESPACE"," ",636],"(",["T_VARIABLE","$updateXml",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","children",636],"(",")",["T_WHITESPACE"," ",636],["T_AS","as",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$child",636],")",["T_WHITESPACE"," ",636],"{",["T_WHITESPACE","\n            ",636],["T_IF","if",637],["T_WHITESPACE"," ",637],"(",["T_STRING","strtolower",637],"(",["T_VARIABLE","$child",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getName",637],"(",")",")",["T_WHITESPACE"," ",637],["T_IS_EQUAL","==",637],["T_WHITESPACE"," ",637],["T_CONSTANT_ENCAPSED_STRING","'update'",637],["T_WHITESPACE"," ",637],["T_BOOLEAN_AND","&&",637],["T_WHITESPACE"," ",637],["T_ISSET","isset",637],"(",["T_VARIABLE","$child",637],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",637],"]",")",")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n                ",637],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","_merge",638],"(",["T_STRING_CAST","(string)",638],["T_VARIABLE","$child",638],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",638],"]",")",";",["T_WHITESPACE","\n            ",638],"}",["T_WHITESPACE","\n        ",639],"}",["T_WHITESPACE","\n        ",640],["T_IF","if",641],["T_WHITESPACE"," ",641],"(",["T_ISSET","isset",641],"(",["T_VARIABLE","$updateXml",641],"[",["T_CONSTANT_ENCAPSED_STRING","'layout'",641],"]",")",")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n            ",641],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","pageLayout",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_STRING_CAST","(string)",642],["T_VARIABLE","$updateXml",642],"[",["T_CONSTANT_ENCAPSED_STRING","'layout'",642],"]",";",["T_WHITESPACE","\n        ",642],"}",["T_WHITESPACE","\n        ",643],["T_RETURN","return",644],["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],";",["T_WHITESPACE","\n    ",644],"}",["T_WHITESPACE","\n\n    ",645],["T_DOC_COMMENT","\/**\n     * Retrieve already merged layout updates from files for specified area\/theme\/package\/store\n     *\n     * @return \\Magento\\Framework\\View\\Layout\\Element\n     *\/",647],["T_WHITESPACE","\n    ",651],["T_PUBLIC","public",652],["T_WHITESPACE"," ",652],["T_FUNCTION","function",652],["T_WHITESPACE"," ",652],["T_STRING","getFileLayoutUpdatesXml",652],"(",")",["T_WHITESPACE","\n    ",652],"{",["T_WHITESPACE","\n        ",653],["T_IF","if",654],["T_WHITESPACE"," ",654],"(",["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","layoutUpdatesCache",654],")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n            ",654],["T_RETURN","return",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","layoutUpdatesCache",655],";",["T_WHITESPACE","\n        ",655],"}",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$cacheId",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","generateCacheId",657],"(",["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","cacheSuffix",657],")",";",["T_WHITESPACE","\n        ",657],["T_VARIABLE","$result",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","_loadCache",658],"(",["T_VARIABLE","$cacheId",658],")",";",["T_WHITESPACE","\n        ",658],["T_IF","if",659],["T_WHITESPACE"," ",659],"(",["T_VARIABLE","$result",659],")",["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n            ",659],["T_VARIABLE","$result",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","_loadXmlString",660],"(",["T_VARIABLE","$result",660],")",";",["T_WHITESPACE","\n        ",660],"}",["T_WHITESPACE"," ",661],["T_ELSE","else",661],["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n            ",661],["T_VARIABLE","$result",662],["T_WHITESPACE"," ",662],"=",["T_WHITESPACE"," ",662],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","_loadFileLayoutUpdatesXml",662],"(",")",";",["T_WHITESPACE","\n            ",662],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_saveCache",663],"(",["T_VARIABLE","$result",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","asXml",663],"(",")",",",["T_WHITESPACE"," ",663],["T_VARIABLE","$cacheId",663],")",";",["T_WHITESPACE","\n        ",663],"}",["T_WHITESPACE","\n        ",664],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","layoutUpdatesCache",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_VARIABLE","$result",665],";",["T_WHITESPACE","\n        ",665],["T_RETURN","return",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$result",666],";",["T_WHITESPACE","\n    ",666],"}",["T_WHITESPACE","\n\n    ",667],["T_DOC_COMMENT","\/**\n     * Generate cache identifier taking into account current area\/package\/theme\/store\n     *\n     * @param string $suffix\n     * @return string\n     *\/",669],["T_WHITESPACE","\n    ",674],["T_PROTECTED","protected",675],["T_WHITESPACE"," ",675],["T_FUNCTION","function",675],["T_WHITESPACE"," ",675],["T_STRING","generateCacheId",675],"(",["T_VARIABLE","$suffix",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","''",675],")",["T_WHITESPACE","\n    ",675],"{",["T_WHITESPACE","\n        ",676],["T_RETURN","return",677],["T_WHITESPACE"," ",677],"\"",["T_ENCAPSED_AND_WHITESPACE","LAYOUT_",677],["T_CURLY_OPEN","{",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","theme",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getArea",677],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","_STORE",677],["T_CURLY_OPEN","{",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","scope",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getId",677],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","_",677],["T_CURLY_OPEN","{",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","theme",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getId",677],"(",")","}",["T_CURLY_OPEN","{",677],["T_VARIABLE","$suffix",677],"}","\"",";",["T_WHITESPACE","\n    ",677],"}",["T_WHITESPACE","\n\n    ",678],["T_DOC_COMMENT","\/**\n     * Retrieve data from the cache, if the layout caching is allowed, or FALSE otherwise\n     *\n     * @param string $cacheId\n     * @return string|bool\n     *\/",680],["T_WHITESPACE","\n    ",685],["T_PROTECTED","protected",686],["T_WHITESPACE"," ",686],["T_FUNCTION","function",686],["T_WHITESPACE"," ",686],["T_STRING","_loadCache",686],"(",["T_VARIABLE","$cacheId",686],")",["T_WHITESPACE","\n    ",686],"{",["T_WHITESPACE","\n        ",687],["T_RETURN","return",688],["T_WHITESPACE"," ",688],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","cache",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","load",688],"(",["T_VARIABLE","$cacheId",688],")",";",["T_WHITESPACE","\n    ",688],"}",["T_WHITESPACE","\n\n    ",689],["T_DOC_COMMENT","\/**\n     * Save data to the cache, if the layout caching is allowed\n     *\n     * @param string $data\n     * @param string $cacheId\n     * @param array $cacheTags\n     * @return void\n     *\/",691],["T_WHITESPACE","\n    ",698],["T_PROTECTED","protected",699],["T_WHITESPACE"," ",699],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","_saveCache",699],"(",["T_VARIABLE","$data",699],",",["T_WHITESPACE"," ",699],["T_VARIABLE","$cacheId",699],",",["T_WHITESPACE"," ",699],["T_ARRAY","array",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$cacheTags",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],"[","]",")",["T_WHITESPACE","\n    ",699],"{",["T_WHITESPACE","\n        ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","cache",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","save",701],"(",["T_VARIABLE","$data",701],",",["T_WHITESPACE"," ",701],["T_VARIABLE","$cacheId",701],",",["T_WHITESPACE"," ",701],["T_VARIABLE","$cacheTags",701],",",["T_WHITESPACE"," ",701],["T_STRING","null",701],")",";",["T_WHITESPACE","\n    ",701],"}",["T_WHITESPACE","\n\n    ",702],["T_DOC_COMMENT","\/**\n     * Collect and merge layout updates from files\n     *\n     * @return \\Magento\\Framework\\View\\Layout\\Element\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",704],["T_WHITESPACE","\n    ",709],["T_PROTECTED","protected",710],["T_WHITESPACE"," ",710],["T_FUNCTION","function",710],["T_WHITESPACE"," ",710],["T_STRING","_loadFileLayoutUpdatesXml",710],"(",")",["T_WHITESPACE","\n    ",710],"{",["T_WHITESPACE","\n        ",711],["T_VARIABLE","$layoutStr",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_CONSTANT_ENCAPSED_STRING","''",712],";",["T_WHITESPACE","\n        ",712],["T_VARIABLE","$theme",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","_getPhysicalTheme",713],"(",["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","theme",713],")",";",["T_WHITESPACE","\n        ",713],["T_VARIABLE","$updateFiles",714],["T_WHITESPACE"," ",714],"=",["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","fileSource",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","getFiles",714],"(",["T_VARIABLE","$theme",714],",",["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'*.xml'",714],")",";",["T_WHITESPACE","\n        ",714],["T_VARIABLE","$updateFiles",715],["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_STRING","array_merge",715],"(",["T_VARIABLE","$updateFiles",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","pageLayoutFileSource",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","getFiles",715],"(",["T_VARIABLE","$theme",715],",",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","'*.xml'",715],")",")",";",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$useErrors",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_STRING","libxml_use_internal_errors",716],"(",["T_STRING","true",716],")",";",["T_WHITESPACE","\n        ",716],["T_FOREACH","foreach",717],["T_WHITESPACE"," ",717],"(",["T_VARIABLE","$updateFiles",717],["T_WHITESPACE"," ",717],["T_AS","as",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$file",717],")",["T_WHITESPACE"," ",717],"{",["T_WHITESPACE","\n            ",717],["T_DOC_COMMENT","\/** @var $fileReader \\Magento\\Framework\\Filesystem\\File\\Read   *\/",718],["T_WHITESPACE","\n            ",718],["T_VARIABLE","$fileReader",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","readFactory",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","create",719],"(",["T_VARIABLE","$file",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","getFilename",719],"(",")",",",["T_WHITESPACE"," ",719],["T_STRING","DriverPool",719],["T_DOUBLE_COLON","::",719],["T_STRING","FILE",719],")",";",["T_WHITESPACE","\n            ",719],["T_VARIABLE","$fileStr",720],["T_WHITESPACE"," ",720],"=",["T_WHITESPACE"," ",720],["T_VARIABLE","$fileReader",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","readAll",720],"(",["T_VARIABLE","$file",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getName",720],"(",")",")",";",["T_WHITESPACE","\n            ",720],["T_VARIABLE","$fileStr",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","_substitutePlaceholders",721],"(",["T_VARIABLE","$fileStr",721],")",";",["T_WHITESPACE","\n            ",721],["T_DOC_COMMENT","\/** @var $fileXml \\Magento\\Framework\\View\\Layout\\Element *\/",722],["T_WHITESPACE","\n            ",722],["T_VARIABLE","$fileXml",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","_loadXmlString",723],"(",["T_VARIABLE","$fileStr",723],")",";",["T_WHITESPACE","\n            ",723],["T_IF","if",724],["T_WHITESPACE"," ",724],"(","!",["T_VARIABLE","$fileXml",724],["T_WHITESPACE"," ",724],["T_INSTANCEOF","instanceof",724],["T_WHITESPACE"," ",724],["T_NS_SEPARATOR","\\",724],["T_STRING","Magento",724],["T_NS_SEPARATOR","\\",724],["T_STRING","Framework",724],["T_NS_SEPARATOR","\\",724],["T_STRING","View",724],["T_NS_SEPARATOR","\\",724],["T_STRING","Layout",724],["T_NS_SEPARATOR","\\",724],["T_STRING","Element",724],")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n                ",724],["T_VARIABLE","$xmlErrors",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$this",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","getXmlErrors",725],"(",["T_STRING","libxml_get_errors",725],"(",")",")",";",["T_WHITESPACE","\n                ",725],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","_logXmlErrors",726],"(",["T_VARIABLE","$file",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getFilename",726],"(",")",",",["T_WHITESPACE"," ",726],["T_VARIABLE","$xmlErrors",726],")",";",["T_WHITESPACE","\n                ",726],["T_IF","if",727],["T_WHITESPACE"," ",727],"(",["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","appState",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getMode",727],"(",")",["T_WHITESPACE"," ",727],["T_IS_IDENTICAL","===",727],["T_WHITESPACE"," ",727],["T_STRING","State",727],["T_DOUBLE_COLON","::",727],["T_STRING","MODE_DEVELOPER",727],")",["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n                    ",727],["T_THROW","throw",728],["T_WHITESPACE"," ",728],["T_NEW","new",728],["T_WHITESPACE"," ",728],["T_STRING","ValidationException",728],"(",["T_WHITESPACE","\n                        ",728],["T_NEW","new",729],["T_WHITESPACE"," ",729],["T_NS_SEPARATOR","\\",729],["T_STRING","Magento",729],["T_NS_SEPARATOR","\\",729],["T_STRING","Framework",729],["T_NS_SEPARATOR","\\",729],["T_STRING","Phrase",729],"(",["T_WHITESPACE","\n                            ",729],["T_CONSTANT_ENCAPSED_STRING","\"Theme layout update file '%1' is not valid.\\n%2\"",730],",",["T_WHITESPACE","\n                            ",730],"[",["T_WHITESPACE","\n                                ",731],["T_VARIABLE","$file",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","getFilename",732],"(",")",",",["T_WHITESPACE","\n                                ",732],["T_STRING","implode",733],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",733],",",["T_WHITESPACE"," ",733],["T_VARIABLE","$xmlErrors",733],")",["T_WHITESPACE","\n                            ",733],"]",["T_WHITESPACE","\n                        ",734],")",["T_WHITESPACE","\n                    ",735],")",";",["T_WHITESPACE","\n                ",736],"}",["T_WHITESPACE","\n                ",737],["T_STRING","libxml_clear_errors",738],"(",")",";",["T_WHITESPACE","\n                ",738],["T_CONTINUE","continue",739],";",["T_WHITESPACE","\n            ",739],"}",["T_WHITESPACE","\n            ",740],["T_IF","if",741],["T_WHITESPACE"," ",741],"(","!",["T_VARIABLE","$file",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","isBase",741],"(",")",["T_WHITESPACE"," ",741],["T_BOOLEAN_AND","&&",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$fileXml",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","xpath",741],"(",["T_STRING","self",741],["T_DOUBLE_COLON","::",741],["T_STRING","XPATH_HANDLE_DECLARATION",741],")",")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n                ",741],["T_THROW","throw",742],["T_WHITESPACE"," ",742],["T_NEW","new",742],["T_WHITESPACE"," ",742],["T_NS_SEPARATOR","\\",742],["T_STRING","Magento",742],["T_NS_SEPARATOR","\\",742],["T_STRING","Framework",742],["T_NS_SEPARATOR","\\",742],["T_STRING","Exception",742],["T_NS_SEPARATOR","\\",742],["T_STRING","LocalizedException",742],"(",["T_WHITESPACE","\n                    ",742],["T_NEW","new",743],["T_WHITESPACE"," ",743],["T_NS_SEPARATOR","\\",743],["T_STRING","Magento",743],["T_NS_SEPARATOR","\\",743],["T_STRING","Framework",743],["T_NS_SEPARATOR","\\",743],["T_STRING","Phrase",743],"(",["T_WHITESPACE","\n                        ",743],["T_CONSTANT_ENCAPSED_STRING","'Theme layout update file \\'%1\\' must not declare page types.'",744],",",["T_WHITESPACE","\n                        ",744],"[",["T_VARIABLE","$file",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","getFileName",745],"(",")","]",["T_WHITESPACE","\n                    ",745],")",["T_WHITESPACE","\n                ",746],")",";",["T_WHITESPACE","\n            ",747],"}",["T_WHITESPACE","\n            ",748],["T_VARIABLE","$handleName",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_STRING","basename",749],"(",["T_VARIABLE","$file",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","getFilename",749],"(",")",",",["T_WHITESPACE"," ",749],["T_CONSTANT_ENCAPSED_STRING","'.xml'",749],")",";",["T_WHITESPACE","\n            ",749],["T_VARIABLE","$tagName",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$fileXml",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","getName",750],"(",")",["T_WHITESPACE"," ",750],["T_IS_IDENTICAL","===",750],["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'layout'",750],["T_WHITESPACE"," ",750],"?",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'layout'",750],["T_WHITESPACE"," ",750],":",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'handle'",750],";",["T_WHITESPACE","\n            ",750],["T_VARIABLE","$handleAttributes",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","' id=\"'",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_VARIABLE","$handleName",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","'\"'",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","_renderXmlAttributes",751],"(",["T_VARIABLE","$fileXml",751],")",";",["T_WHITESPACE","\n            ",751],["T_VARIABLE","$handleStr",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'<'",752],["T_WHITESPACE"," ",752],".",["T_WHITESPACE"," ",752],["T_VARIABLE","$tagName",752],["T_WHITESPACE"," ",752],".",["T_WHITESPACE"," ",752],["T_VARIABLE","$handleAttributes",752],["T_WHITESPACE"," ",752],".",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'>'",752],["T_WHITESPACE"," ",752],".",["T_WHITESPACE"," ",752],["T_VARIABLE","$fileXml",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","innerXml",752],"(",")",["T_WHITESPACE"," ",752],".",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'<\/'",752],["T_WHITESPACE"," ",752],".",["T_WHITESPACE"," ",752],["T_VARIABLE","$tagName",752],["T_WHITESPACE"," ",752],".",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'>'",752],";",["T_WHITESPACE","\n            ",752],["T_VARIABLE","$layoutStr",753],["T_WHITESPACE"," ",753],["T_CONCAT_EQUAL",".=",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$handleStr",753],";",["T_WHITESPACE","\n        ",753],"}",["T_WHITESPACE","\n        ",754],["T_STRING","libxml_use_internal_errors",755],"(",["T_VARIABLE","$useErrors",755],")",";",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$layoutStr",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_CONSTANT_ENCAPSED_STRING","'<layouts xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">'",756],["T_WHITESPACE"," ",756],".",["T_WHITESPACE"," ",756],["T_VARIABLE","$layoutStr",756],["T_WHITESPACE"," ",756],".",["T_WHITESPACE"," ",756],["T_CONSTANT_ENCAPSED_STRING","'<\/layouts>'",756],";",["T_WHITESPACE","\n        ",756],["T_VARIABLE","$layoutXml",757],["T_WHITESPACE"," ",757],"=",["T_WHITESPACE"," ",757],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","_loadXmlString",757],"(",["T_VARIABLE","$layoutStr",757],")",";",["T_WHITESPACE","\n        ",757],["T_RETURN","return",758],["T_WHITESPACE"," ",758],["T_VARIABLE","$layoutXml",758],";",["T_WHITESPACE","\n    ",758],"}",["T_WHITESPACE","\n\n    ",759],["T_DOC_COMMENT","\/**\n     * Log xml errors to system log\n     *\n     * @param string $fileName\n     * @param array $xmlErrors\n     * @return void\n     *\/",761],["T_WHITESPACE","\n    ",767],["T_PROTECTED","protected",768],["T_WHITESPACE"," ",768],["T_FUNCTION","function",768],["T_WHITESPACE"," ",768],["T_STRING","_logXmlErrors",768],"(",["T_VARIABLE","$fileName",768],",",["T_WHITESPACE"," ",768],["T_VARIABLE","$xmlErrors",768],")",["T_WHITESPACE","\n    ",768],"{",["T_WHITESPACE","\n        ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","logger",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","info",770],"(",["T_WHITESPACE","\n            ",770],["T_STRING","sprintf",771],"(",["T_CONSTANT_ENCAPSED_STRING","\"Theme layout update file '%s' is not valid.\\n%s\"",771],",",["T_WHITESPACE"," ",771],["T_VARIABLE","$fileName",771],",",["T_WHITESPACE"," ",771],["T_STRING","implode",771],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",771],",",["T_WHITESPACE"," ",771],["T_VARIABLE","$xmlErrors",771],")",")",["T_WHITESPACE","\n        ",771],")",";",["T_WHITESPACE","\n    ",772],"}",["T_WHITESPACE","\n\n    ",773],["T_DOC_COMMENT","\/**\n     * Get formatted xml errors\n     *\n     * @param array $libXmlErrors\n     * @return array\n     *\/",775],["T_WHITESPACE","\n    ",780],["T_PRIVATE","private",781],["T_WHITESPACE"," ",781],["T_FUNCTION","function",781],["T_WHITESPACE"," ",781],["T_STRING","getXmlErrors",781],"(",["T_VARIABLE","$libXmlErrors",781],")",["T_WHITESPACE","\n    ",781],"{",["T_WHITESPACE","\n        ",782],["T_VARIABLE","$errors",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],"[","]",";",["T_WHITESPACE","\n        ",783],["T_IF","if",784],["T_WHITESPACE"," ",784],"(",["T_STRING","count",784],"(",["T_VARIABLE","$libXmlErrors",784],")",")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n            ",784],["T_FOREACH","foreach",785],["T_WHITESPACE"," ",785],"(",["T_VARIABLE","$libXmlErrors",785],["T_WHITESPACE"," ",785],["T_AS","as",785],["T_WHITESPACE"," ",785],["T_VARIABLE","$error",785],")",["T_WHITESPACE"," ",785],"{",["T_WHITESPACE","\n                ",785],["T_VARIABLE","$errors",786],"[","]",["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],"\"",["T_CURLY_OPEN","{",786],["T_VARIABLE","$error",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","message",786],"}",["T_ENCAPSED_AND_WHITESPACE"," Line: ",786],["T_CURLY_OPEN","{",786],["T_VARIABLE","$error",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","line",786],"}","\"",";",["T_WHITESPACE","\n            ",786],"}",["T_WHITESPACE","\n        ",787],"}",["T_WHITESPACE","\n        ",788],["T_RETURN","return",789],["T_WHITESPACE"," ",789],["T_VARIABLE","$errors",789],";",["T_WHITESPACE","\n    ",789],"}",["T_WHITESPACE","\n\n    ",790],["T_DOC_COMMENT","\/**\n     * Find the closest physical theme among ancestors and a theme itself\n     *\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $theme\n     * @return \\Magento\\Theme\\Model\\Theme\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",792],["T_WHITESPACE","\n    ",798],["T_PROTECTED","protected",799],["T_WHITESPACE"," ",799],["T_FUNCTION","function",799],["T_WHITESPACE"," ",799],["T_STRING","_getPhysicalTheme",799],"(",["T_NS_SEPARATOR","\\",799],["T_STRING","Magento",799],["T_NS_SEPARATOR","\\",799],["T_STRING","Framework",799],["T_NS_SEPARATOR","\\",799],["T_STRING","View",799],["T_NS_SEPARATOR","\\",799],["T_STRING","Design",799],["T_NS_SEPARATOR","\\",799],["T_STRING","ThemeInterface",799],["T_WHITESPACE"," ",799],["T_VARIABLE","$theme",799],")",["T_WHITESPACE","\n    ",799],"{",["T_WHITESPACE","\n        ",800],["T_VARIABLE","$result",801],["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],["T_VARIABLE","$theme",801],";",["T_WHITESPACE","\n        ",801],["T_WHILE","while",802],["T_WHITESPACE"," ",802],"(",["T_VARIABLE","$result",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","getId",802],"(",")",["T_WHITESPACE"," ",802],["T_BOOLEAN_AND","&&",802],["T_WHITESPACE"," ",802],"!",["T_VARIABLE","$result",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","isPhysical",802],"(",")",")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n            ",802],["T_VARIABLE","$result",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_VARIABLE","$result",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","getParentTheme",803],"(",")",";",["T_WHITESPACE","\n        ",803],"}",["T_WHITESPACE","\n        ",804],["T_IF","if",805],["T_WHITESPACE"," ",805],"(","!",["T_VARIABLE","$result",805],")",["T_WHITESPACE"," ",805],"{",["T_WHITESPACE","\n            ",805],["T_THROW","throw",806],["T_WHITESPACE"," ",806],["T_NEW","new",806],["T_WHITESPACE"," ",806],["T_NS_SEPARATOR","\\",806],["T_STRING","Magento",806],["T_NS_SEPARATOR","\\",806],["T_STRING","Framework",806],["T_NS_SEPARATOR","\\",806],["T_STRING","Exception",806],["T_NS_SEPARATOR","\\",806],["T_STRING","LocalizedException",806],"(",["T_WHITESPACE","\n                ",806],["T_NEW","new",807],["T_WHITESPACE"," ",807],["T_NS_SEPARATOR","\\",807],["T_STRING","Magento",807],["T_NS_SEPARATOR","\\",807],["T_STRING","Framework",807],["T_NS_SEPARATOR","\\",807],["T_STRING","Phrase",807],"(",["T_WHITESPACE","\n                    ",807],["T_CONSTANT_ENCAPSED_STRING","'Unable to find a physical ancestor for a theme \\'%1\\'.'",808],",",["T_WHITESPACE","\n                    ",808],"[",["T_VARIABLE","$theme",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","getThemeTitle",809],"(",")","]",["T_WHITESPACE","\n                ",809],")",["T_WHITESPACE","\n            ",810],")",";",["T_WHITESPACE","\n        ",811],"}",["T_WHITESPACE","\n        ",812],["T_RETURN","return",813],["T_WHITESPACE"," ",813],["T_VARIABLE","$result",813],";",["T_WHITESPACE","\n    ",813],"}",["T_WHITESPACE","\n\n    ",814],["T_DOC_COMMENT","\/**\n     * Return attributes of XML node rendered as a string\n     *\n     * @param \\SimpleXMLElement $node\n     * @return string\n     *\/",816],["T_WHITESPACE","\n    ",821],["T_PROTECTED","protected",822],["T_WHITESPACE"," ",822],["T_FUNCTION","function",822],["T_WHITESPACE"," ",822],["T_STRING","_renderXmlAttributes",822],"(",["T_NS_SEPARATOR","\\",822],["T_STRING","SimpleXMLElement",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$node",822],")",["T_WHITESPACE","\n    ",822],"{",["T_WHITESPACE","\n        ",823],["T_VARIABLE","$result",824],["T_WHITESPACE"," ",824],"=",["T_WHITESPACE"," ",824],["T_CONSTANT_ENCAPSED_STRING","''",824],";",["T_WHITESPACE","\n        ",824],["T_FOREACH","foreach",825],["T_WHITESPACE"," ",825],"(",["T_VARIABLE","$node",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","attributes",825],"(",")",["T_WHITESPACE"," ",825],["T_AS","as",825],["T_WHITESPACE"," ",825],["T_VARIABLE","$attributeName",825],["T_WHITESPACE"," ",825],["T_DOUBLE_ARROW","=>",825],["T_WHITESPACE"," ",825],["T_VARIABLE","$attributeValue",825],")",["T_WHITESPACE"," ",825],"{",["T_WHITESPACE","\n            ",825],["T_VARIABLE","$result",826],["T_WHITESPACE"," ",826],["T_CONCAT_EQUAL",".=",826],["T_WHITESPACE"," ",826],["T_CONSTANT_ENCAPSED_STRING","' '",826],["T_WHITESPACE"," ",826],".",["T_WHITESPACE"," ",826],["T_VARIABLE","$attributeName",826],["T_WHITESPACE"," ",826],".",["T_WHITESPACE"," ",826],["T_CONSTANT_ENCAPSED_STRING","'=\"'",826],["T_WHITESPACE"," ",826],".",["T_WHITESPACE"," ",826],["T_VARIABLE","$attributeValue",826],["T_WHITESPACE"," ",826],".",["T_WHITESPACE"," ",826],["T_CONSTANT_ENCAPSED_STRING","'\"'",826],";",["T_WHITESPACE","\n        ",826],"}",["T_WHITESPACE","\n        ",827],["T_RETURN","return",828],["T_WHITESPACE"," ",828],["T_VARIABLE","$result",828],";",["T_WHITESPACE","\n    ",828],"}",["T_WHITESPACE","\n\n    ",829],["T_DOC_COMMENT","\/**\n     * Retrieve containers from the update handles that have been already loaded\n     *\n     * Result format:\n     * array(\n     *     'container_name' => 'Container Label',\n     *     \/\/ ...\n     * )\n     *\n     * @return array\n     *\/",831],["T_WHITESPACE","\n    ",841],["T_PUBLIC","public",842],["T_WHITESPACE"," ",842],["T_FUNCTION","function",842],["T_WHITESPACE"," ",842],["T_STRING","getContainers",842],"(",")",["T_WHITESPACE","\n    ",842],"{",["T_WHITESPACE","\n        ",843],["T_VARIABLE","$result",844],["T_WHITESPACE"," ",844],"=",["T_WHITESPACE"," ",844],"[","]",";",["T_WHITESPACE","\n        ",844],["T_VARIABLE","$containerNodes",845],["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","asSimplexml",845],"(",")",["T_OBJECT_OPERATOR","->",845],["T_STRING","xpath",845],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/container'",845],")",";",["T_WHITESPACE","\n        ",845],["T_DOC_COMMENT","\/** @var $oneContainerNode \\Magento\\Framework\\View\\Layout\\Element *\/",846],["T_WHITESPACE","\n        ",846],["T_FOREACH","foreach",847],["T_WHITESPACE"," ",847],"(",["T_VARIABLE","$containerNodes",847],["T_WHITESPACE"," ",847],["T_AS","as",847],["T_WHITESPACE"," ",847],["T_VARIABLE","$oneContainerNode",847],")",["T_WHITESPACE"," ",847],"{",["T_WHITESPACE","\n            ",847],["T_VARIABLE","$label",848],["T_WHITESPACE"," ",848],"=",["T_WHITESPACE"," ",848],["T_VARIABLE","$oneContainerNode",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","getAttribute",848],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",848],")",";",["T_WHITESPACE","\n            ",848],["T_IF","if",849],["T_WHITESPACE"," ",849],"(",["T_VARIABLE","$label",849],")",["T_WHITESPACE"," ",849],"{",["T_WHITESPACE","\n                ",849],["T_VARIABLE","$result",850],"[",["T_VARIABLE","$oneContainerNode",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","getAttribute",850],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",850],")","]",["T_WHITESPACE"," ",850],"=",["T_WHITESPACE"," ",850],["T_STRING_CAST","(string)",850],["T_NEW","new",850],["T_WHITESPACE"," ",850],["T_NS_SEPARATOR","\\",850],["T_STRING","Magento",850],["T_NS_SEPARATOR","\\",850],["T_STRING","Framework",850],["T_NS_SEPARATOR","\\",850],["T_STRING","Phrase",850],"(",["T_VARIABLE","$label",850],")",";",["T_WHITESPACE","\n            ",850],"}",["T_WHITESPACE","\n        ",851],"}",["T_WHITESPACE","\n        ",852],["T_RETURN","return",853],["T_WHITESPACE"," ",853],["T_VARIABLE","$result",853],";",["T_WHITESPACE","\n    ",853],"}",["T_WHITESPACE","\n\n    ",854],["T_DOC_COMMENT","\/**\n     * Cleanup circular references\n     *\n     * Destructor should be called explicitly in order to work around the PHP bug\n     * https:\/\/bugs.php.net\/bug.php?id=62468\n     *\/",856],["T_WHITESPACE","\n    ",861],["T_PUBLIC","public",862],["T_WHITESPACE"," ",862],["T_FUNCTION","function",862],["T_WHITESPACE"," ",862],["T_STRING","__destruct",862],"(",")",["T_WHITESPACE","\n    ",862],"{",["T_WHITESPACE","\n        ",863],["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","updates",864],["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],"[","]",";",["T_WHITESPACE","\n        ",864],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","layoutUpdatesCache",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_STRING","null",865],";",["T_WHITESPACE","\n    ",865],"}",["T_WHITESPACE","\n\n    ",866],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",868],["T_WHITESPACE","\n    ",870],["T_PUBLIC","public",871],["T_WHITESPACE"," ",871],["T_FUNCTION","function",871],["T_WHITESPACE"," ",871],["T_STRING","isCustomerDesignAbstraction",871],"(",["T_ARRAY","array",871],["T_WHITESPACE"," ",871],["T_VARIABLE","$abstraction",871],")",["T_WHITESPACE","\n    ",871],"{",["T_WHITESPACE","\n        ",872],["T_IF","if",873],["T_WHITESPACE"," ",873],"(","!",["T_ISSET","isset",873],"(",["T_VARIABLE","$abstraction",873],"[",["T_CONSTANT_ENCAPSED_STRING","'design_abstraction'",873],"]",")",")",["T_WHITESPACE"," ",873],"{",["T_WHITESPACE","\n            ",873],["T_RETURN","return",874],["T_WHITESPACE"," ",874],["T_STRING","false",874],";",["T_WHITESPACE","\n        ",874],"}",["T_WHITESPACE","\n        ",875],["T_RETURN","return",876],["T_WHITESPACE"," ",876],["T_VARIABLE","$abstraction",876],"[",["T_CONSTANT_ENCAPSED_STRING","'design_abstraction'",876],"]",["T_WHITESPACE"," ",876],["T_IS_IDENTICAL","===",876],["T_WHITESPACE"," ",876],["T_STRING","self",876],["T_DOUBLE_COLON","::",876],["T_STRING","DESIGN_ABSTRACTION_CUSTOM",876],";",["T_WHITESPACE","\n    ",876],"}",["T_WHITESPACE","\n\n    ",877],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",879],["T_WHITESPACE","\n    ",881],["T_PUBLIC","public",882],["T_WHITESPACE"," ",882],["T_FUNCTION","function",882],["T_WHITESPACE"," ",882],["T_STRING","isPageLayoutDesignAbstraction",882],"(",["T_ARRAY","array",882],["T_WHITESPACE"," ",882],["T_VARIABLE","$abstraction",882],")",["T_WHITESPACE","\n    ",882],"{",["T_WHITESPACE","\n        ",883],["T_IF","if",884],["T_WHITESPACE"," ",884],"(","!",["T_ISSET","isset",884],"(",["T_VARIABLE","$abstraction",884],"[",["T_CONSTANT_ENCAPSED_STRING","'design_abstraction'",884],"]",")",")",["T_WHITESPACE"," ",884],"{",["T_WHITESPACE","\n            ",884],["T_RETURN","return",885],["T_WHITESPACE"," ",885],["T_STRING","false",885],";",["T_WHITESPACE","\n        ",885],"}",["T_WHITESPACE","\n        ",886],["T_RETURN","return",887],["T_WHITESPACE"," ",887],["T_VARIABLE","$abstraction",887],"[",["T_CONSTANT_ENCAPSED_STRING","'design_abstraction'",887],"]",["T_WHITESPACE"," ",887],["T_IS_IDENTICAL","===",887],["T_WHITESPACE"," ",887],["T_STRING","self",887],["T_DOUBLE_COLON","::",887],["T_STRING","DESIGN_ABSTRACTION_PAGE_LAYOUT",887],";",["T_WHITESPACE","\n    ",887],"}",["T_WHITESPACE","\n\n    ",888],["T_DOC_COMMENT","\/**\n     * Retrieve theme\n     *\n     * @return \\Magento\\Framework\\View\\Design\\ThemeInterface\n     *\/",890],["T_WHITESPACE","\n    ",894],["T_PUBLIC","public",895],["T_WHITESPACE"," ",895],["T_FUNCTION","function",895],["T_WHITESPACE"," ",895],["T_STRING","getTheme",895],"(",")",["T_WHITESPACE","\n    ",895],"{",["T_WHITESPACE","\n        ",896],["T_RETURN","return",897],["T_WHITESPACE"," ",897],["T_VARIABLE","$this",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","theme",897],";",["T_WHITESPACE","\n    ",897],"}",["T_WHITESPACE","\n\n    ",898],["T_DOC_COMMENT","\/**\n     * Retrieve current scope\n     *\n     * @return \\Magento\\Framework\\Url\\ScopeInterface\n     *\/",900],["T_WHITESPACE","\n    ",904],["T_PUBLIC","public",905],["T_WHITESPACE"," ",905],["T_FUNCTION","function",905],["T_WHITESPACE"," ",905],["T_STRING","getScope",905],"(",")",["T_WHITESPACE","\n    ",905],"{",["T_WHITESPACE","\n        ",906],["T_RETURN","return",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$this",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","scope",907],";",["T_WHITESPACE","\n    ",907],"}",["T_WHITESPACE","\n\n    ",908],["T_DOC_COMMENT","\/**\n     * Return cache ID based current area\/package\/theme\/store and handles\n     *\n     * @return string\n     *\/",910],["T_WHITESPACE","\n    ",914],["T_PUBLIC","public",915],["T_WHITESPACE"," ",915],["T_FUNCTION","function",915],["T_WHITESPACE"," ",915],["T_STRING","getCacheId",915],"(",")",["T_WHITESPACE","\n    ",915],"{",["T_WHITESPACE","\n        ",916],["T_RETURN","return",917],["T_WHITESPACE"," ",917],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","generateCacheId",917],"(",["T_STRING","md5",917],"(",["T_STRING","implode",917],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",917],",",["T_WHITESPACE"," ",917],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","getHandles",917],"(",")",")",")",")",";",["T_WHITESPACE","\n    ",917],"}",["T_WHITESPACE","\n",918],"}",["T_WHITESPACE","\n",919]]