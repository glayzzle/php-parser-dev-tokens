[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Framework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","View",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Design",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Fallback",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DirectoryList",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","View",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Design",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fallback",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Rule",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Composite",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","View",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Design",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Fallback",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Rule",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RuleInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Fallback Factory\n *\n * Factory that produces all sorts of fallback rules\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","RulePool",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_COMMENT","\/**#@+\n     * Supported types of fallback rules\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","TYPE_FILE",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'file'",23],";",["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","TYPE_LOCALE_FILE",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'locale'",24],";",["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","TYPE_TEMPLATE_FILE",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'template'",25],";",["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","TYPE_STATIC_FILE",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'static'",26],";",["T_WHITESPACE","\n    ",26],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","TYPE_EMAIL_TEMPLATE",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'email'",27],";",["T_WHITESPACE","\n    ",27],["T_COMMENT","\/**#@-*\/",28],["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * File system\n     *\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$filesystem",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Rules\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$rules",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[","]",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Factory for simple rule\n     *\n     * @var \\Magento\\Framework\\View\\Design\\Fallback\\Rule\\SimpleFactory\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$simpleFactory",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Factory for theme rule\n     *\n     * @var Rule\\ThemeFactory\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$themeFactory",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Factory for modular switcher\n     *\n     * @var Rule\\ModularSwitchFactory\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PRIVATE","private",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$modularSwitchFactory",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Factory for module rule\n     *\n     * @var Rule\\ModuleFactory\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PRIVATE","private",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$moduleFactory",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param Rule\\SimpleFactory $simpleFactory\n     * @param Rule\\ThemeFactory $themeFactory\n     * @param Rule\\ModuleFactory $moduleFactory\n     * @param Rule\\ModularSwitchFactory $modularSwitchFactory\n     *\/",72],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Filesystem",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$filesystem",82],",",["T_WHITESPACE","\n        ",82],["T_STRING","Rule",83],["T_NS_SEPARATOR","\\",83],["T_STRING","SimpleFactory",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$simpleFactory",83],",",["T_WHITESPACE","\n        ",83],["T_STRING","Rule",84],["T_NS_SEPARATOR","\\",84],["T_STRING","ThemeFactory",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$themeFactory",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","Rule",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ModuleFactory",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$moduleFactory",85],",",["T_WHITESPACE","\n        ",85],["T_STRING","Rule",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ModularSwitchFactory",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$modularSwitchFactory",86],["T_WHITESPACE","\n    ",86],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","filesystem",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$filesystem",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","simpleFactory",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$simpleFactory",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","themeFactory",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$themeFactory",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","moduleFactory",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$moduleFactory",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","modularSwitchFactory",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$modularSwitchFactory",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Retrieve newly created fallback rule for locale files, such as CSV translation maps\n     *\n     * @return RuleInterface\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","createLocaleFileRule",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","themeFactory",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","create",102],"(",["T_WHITESPACE","\n            ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","simpleFactory",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","create",103],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\"",103],"]",")","]",["T_WHITESPACE","\n        ",103],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Retrieve newly created fallback rule for template files\n     *\n     * @return RuleInterface\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","createTemplateFileRule",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","modularSwitchFactory",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","create",114],"(",["T_WHITESPACE","\n            ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'ruleNonModular'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","themeFactory",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","create",116],"(",["T_WHITESPACE","\n                ",116],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","simpleFactory",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","create",117],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/templates\"",117],"]",")","]",["T_WHITESPACE","\n            ",117],")",",",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'ruleModular'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","Composite",119],"(",["T_WHITESPACE","\n                ",119],"[",["T_WHITESPACE","\n                    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","themeFactory",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","create",121],"(",["T_WHITESPACE","\n                        ",121],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","simpleFactory",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","create",122],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/<module_name>\/templates\"",122],"]",")","]",["T_WHITESPACE","\n                    ",122],")",",",["T_WHITESPACE","\n                    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","moduleFactory",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","create",124],"(",["T_WHITESPACE","\n                        ",124],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","simpleFactory",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","create",125],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/<area>\/templates\"",125],"]",")","]",["T_WHITESPACE","\n                    ",125],")",",",["T_WHITESPACE","\n                    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","moduleFactory",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","create",127],"(",["T_WHITESPACE","\n                        ",127],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","simpleFactory",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","create",128],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/base\/templates\"",128],"]",")","]",["T_WHITESPACE","\n                    ",128],")",",",["T_WHITESPACE","\n                ",129],"]",["T_WHITESPACE","\n            ",130],")","]",["T_WHITESPACE","\n        ",131],")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Retrieve newly created fallback rule for dynamic view files\n     *\n     * @return RuleInterface\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","createFileRule",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","modularSwitchFactory",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","create",142],"(",["T_WHITESPACE","\n            ",142],"[",["T_CONSTANT_ENCAPSED_STRING","'ruleNonModular'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","themeFactory",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","create",143],"(",["T_WHITESPACE","\n                ",143],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","simpleFactory",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","create",144],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\"",144],"]",")","]",["T_WHITESPACE","\n            ",144],")",",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'ruleModular'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_NEW","new",146],["T_WHITESPACE"," ",146],["T_STRING","Composite",146],"(",["T_WHITESPACE","\n                ",146],"[",["T_WHITESPACE","\n                    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","themeFactory",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","create",148],"(",["T_WHITESPACE","\n                        ",148],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","simpleFactory",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","create",149],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/<module_name>\"",149],"]",")","]",["T_WHITESPACE","\n                    ",149],")",",",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","moduleFactory",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","create",151],"(",["T_WHITESPACE","\n                        ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","simpleFactory",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","create",152],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/<area>\"",152],"]",")","]",["T_WHITESPACE","\n                    ",152],")",",",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","moduleFactory",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","create",154],"(",["T_WHITESPACE","\n                        ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","simpleFactory",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","create",155],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/base\"",155],"]",")","]",["T_WHITESPACE","\n                    ",155],")",",",["T_WHITESPACE","\n                ",156],"]",["T_WHITESPACE","\n            ",157],")","]",["T_WHITESPACE","\n        ",158],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Retrieve newly created fallback rule for static view files, such as CSS, JavaScript, images, etc.\n     *\n     * @return RuleInterface\n     *\/",162],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","createViewFileRule",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$libDir",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","rtrim",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","filesystem",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getDirectoryRead",169],"(",["T_STRING","DirectoryList",169],["T_DOUBLE_COLON","::",169],["T_STRING","LIB_WEB",169],")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getAbsolutePath",169],"(",")",",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'\/'",169],")",";",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","modularSwitchFactory",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","create",170],"(",["T_WHITESPACE","\n            ",170],"[",["T_CONSTANT_ENCAPSED_STRING","'ruleNonModular'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","Composite",171],"(",["T_WHITESPACE","\n                ",171],"[",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","themeFactory",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","create",173],"(",["T_WHITESPACE","\n                        ",173],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE","\n                        ",174],["T_NEW","new",175],["T_WHITESPACE"," ",175],["T_STRING","Composite",175],"(",["T_WHITESPACE","\n                            ",175],"[",["T_WHITESPACE","\n                                ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","simpleFactory",177],["T_WHITESPACE","\n                                    ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","create",178],"(","[",["T_WHITESPACE","\n                                        ",178],["T_CONSTANT_ENCAPSED_STRING","'pattern'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/web\/i18n\/<locale>\"",179],",",["T_WHITESPACE","\n                                        ",179],["T_CONSTANT_ENCAPSED_STRING","'optionalParams'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",180],"]",["T_WHITESPACE","\n                                    ",180],"]",")",",",["T_WHITESPACE","\n                                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","simpleFactory",182],["T_WHITESPACE","\n                                    ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","create",183],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/web\"",183],"]",")",",",["T_WHITESPACE","\n                                ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","simpleFactory",184],["T_WHITESPACE","\n                                    ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","create",185],"(","[",["T_WHITESPACE","\n                                        ",185],["T_CONSTANT_ENCAPSED_STRING","'pattern'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","\"<theme_pubstatic_dir>\"",186],",",["T_WHITESPACE","\n                                        ",186],["T_CONSTANT_ENCAPSED_STRING","'optionalParams'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],"[",["T_CONSTANT_ENCAPSED_STRING","'theme_pubstatic_dir'",187],"]",["T_WHITESPACE","\n                                    ",187],"]",")",",",["T_WHITESPACE","\n                            ",188],"]",["T_WHITESPACE","\n                        ",189],")","]",["T_WHITESPACE","\n                    ",190],")",",",["T_WHITESPACE","\n                    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","simpleFactory",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","create",192],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$libDir",192],"]",")",",",["T_WHITESPACE","\n                ",192],"]",["T_WHITESPACE","\n            ",193],")",",",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","'ruleModular'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","Composite",195],"(",["T_WHITESPACE","\n                ",195],"[",["T_WHITESPACE","\n                    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","themeFactory",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","create",197],"(",["T_WHITESPACE","\n                        ",197],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE","\n                        ",198],["T_NEW","new",199],["T_WHITESPACE"," ",199],["T_STRING","Composite",199],"(",["T_WHITESPACE","\n                            ",199],"[",["T_WHITESPACE","\n                                ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","simpleFactory",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","create",201],"(",["T_WHITESPACE","\n                                    ",201],"[",["T_WHITESPACE","\n                                        ",202],["T_CONSTANT_ENCAPSED_STRING","'pattern'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/<module_name>\/web\/i18n\/<locale>\"",203],",",["T_WHITESPACE","\n                                        ",203],["T_CONSTANT_ENCAPSED_STRING","'optionalParams'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",204],"]",",",["T_WHITESPACE","\n                                    ",204],"]",["T_WHITESPACE","\n                                ",205],")",",",["T_WHITESPACE","\n                                ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","simpleFactory",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","create",207],"(",["T_WHITESPACE","\n                                    ",207],"[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/<module_name>\/web\"",208],"]",["T_WHITESPACE","\n                                ",208],")",",",["T_WHITESPACE","\n                            ",209],"]",["T_WHITESPACE","\n                        ",210],")","]",["T_WHITESPACE","\n                    ",211],")",",",["T_WHITESPACE","\n                    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","moduleFactory",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","create",213],"(",["T_WHITESPACE","\n                        ",213],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","simpleFactory",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","create",214],"(",["T_WHITESPACE","\n                            ",214],"[",["T_WHITESPACE","\n                                ",215],["T_CONSTANT_ENCAPSED_STRING","'pattern'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/<area>\/web\/i18n\/<locale>\"",216],",",["T_WHITESPACE","\n                                ",216],["T_CONSTANT_ENCAPSED_STRING","'optionalParams'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",217],"]",["T_WHITESPACE","\n                            ",217],"]",["T_WHITESPACE","\n                        ",218],")","]",["T_WHITESPACE","\n                    ",219],")",",",["T_WHITESPACE","\n                    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","moduleFactory",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","create",221],"(",["T_WHITESPACE","\n                        ",221],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","simpleFactory",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","create",222],"(",["T_WHITESPACE","\n                            ",222],"[",["T_WHITESPACE","\n                                ",223],["T_CONSTANT_ENCAPSED_STRING","'pattern'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/base\/web\/i18n\/<locale>\"",224],",",["T_WHITESPACE","\n                                ",224],["T_CONSTANT_ENCAPSED_STRING","'optionalParams'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",225],"]",["T_WHITESPACE","\n                            ",225],"]",["T_WHITESPACE","\n                        ",226],")","]",["T_WHITESPACE","\n                    ",227],")",",",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","moduleFactory",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","create",229],"(",["T_WHITESPACE","\n                        ",229],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","simpleFactory",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","create",230],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/<area>\/web\"",230],"]",")","]",["T_WHITESPACE","\n                    ",230],")",",",["T_WHITESPACE","\n                    ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","moduleFactory",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","create",232],"(",["T_WHITESPACE","\n                        ",232],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","simpleFactory",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","create",233],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/base\/web\"",233],"]",")","]",["T_WHITESPACE","\n                    ",233],")",",",["T_WHITESPACE","\n                ",234],"]",["T_WHITESPACE","\n            ",235],")","]",["T_WHITESPACE","\n        ",236],")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * Retrieve newly created fallback rule for email templates.\n     *\n     * Emails are only loaded in a modular context, so a non-modular rule is not specified.\n     *\n     * @return RuleInterface\n     *\/",240],["T_WHITESPACE","\n    ",246],["T_PROTECTED","protected",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","createEmailTemplateFileRule",247],"(",")",["T_WHITESPACE","\n    ",247],"{",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","Composite",249],"(",["T_WHITESPACE","\n            ",249],"[",["T_WHITESPACE","\n                ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","themeFactory",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","create",251],"(",["T_WHITESPACE","\n                    ",251],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE","\n                    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","simpleFactory",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","create",253],"(",["T_WHITESPACE","\n                        ",253],"[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","\"<theme_dir>\/<module_name>\/email\"",254],"]",["T_WHITESPACE","\n                    ",254],")","]",["T_WHITESPACE","\n                ",255],")",",",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","moduleFactory",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","create",257],"(",["T_WHITESPACE","\n                    ",257],"[",["T_CONSTANT_ENCAPSED_STRING","'rule'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","simpleFactory",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","create",258],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","\"<module_dir>\/view\/<area>\/email\"",258],"]",")","]",["T_WHITESPACE","\n                ",258],")",",",["T_WHITESPACE","\n            ",259],"]",["T_WHITESPACE","\n        ",260],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Get rule by type\n     *\n     * @param string $type\n     * @return RuleInterface\n     * @throws \\InvalidArgumentException\n     *\/",264],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","getRule",271],"(",["T_VARIABLE","$type",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_ISSET","isset",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","rules",273],"[",["T_VARIABLE","$type",273],"]",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","rules",274],"[",["T_VARIABLE","$type",274],"]",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n        ",275],["T_SWITCH","switch",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$type",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_CASE","case",277],["T_WHITESPACE"," ",277],["T_STRING","self",277],["T_DOUBLE_COLON","::",277],["T_STRING","TYPE_FILE",277],":",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$rule",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","createFileRule",278],"(",")",";",["T_WHITESPACE","\n                ",278],["T_BREAK","break",279],";",["T_WHITESPACE","\n            ",279],["T_CASE","case",280],["T_WHITESPACE"," ",280],["T_STRING","self",280],["T_DOUBLE_COLON","::",280],["T_STRING","TYPE_LOCALE_FILE",280],":",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$rule",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","createLocaleFileRule",281],"(",")",";",["T_WHITESPACE","\n                ",281],["T_BREAK","break",282],";",["T_WHITESPACE","\n            ",282],["T_CASE","case",283],["T_WHITESPACE"," ",283],["T_STRING","self",283],["T_DOUBLE_COLON","::",283],["T_STRING","TYPE_TEMPLATE_FILE",283],":",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$rule",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","createTemplateFileRule",284],"(",")",";",["T_WHITESPACE","\n                ",284],["T_BREAK","break",285],";",["T_WHITESPACE","\n            ",285],["T_CASE","case",286],["T_WHITESPACE"," ",286],["T_STRING","self",286],["T_DOUBLE_COLON","::",286],["T_STRING","TYPE_STATIC_FILE",286],":",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$rule",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","createViewFileRule",287],"(",")",";",["T_WHITESPACE","\n                ",287],["T_BREAK","break",288],";",["T_WHITESPACE","\n            ",288],["T_CASE","case",289],["T_WHITESPACE"," ",289],["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","TYPE_EMAIL_TEMPLATE",289],":",["T_WHITESPACE","\n                ",289],["T_VARIABLE","$rule",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","createEmailTemplateFileRule",290],"(",")",";",["T_WHITESPACE","\n                ",290],["T_BREAK","break",291],";",["T_WHITESPACE","\n            ",291],["T_DEFAULT","default",292],":",["T_WHITESPACE","\n                ",292],["T_THROW","throw",293],["T_WHITESPACE"," ",293],["T_NEW","new",293],["T_WHITESPACE"," ",293],["T_NS_SEPARATOR","\\",293],["T_STRING","InvalidArgumentException",293],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Fallback rule '",293],["T_VARIABLE","$type",293],["T_ENCAPSED_AND_WHITESPACE","' is not supported",293],"\"",")",";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","rules",295],"[",["T_VARIABLE","$type",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$rule",295],";",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","rules",296],"[",["T_VARIABLE","$type",296],"]",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n",297],"}",["T_WHITESPACE","\n",298]]