[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","File",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Collector",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Override",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ComponentRegistrar",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ComponentRegistrarInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filesystem",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Directory",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ReadFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","View",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Design",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ThemeInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LocalizedException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","View",13],["T_NS_SEPARATOR","\\",13],["T_STRING","File",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CollectorInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","View",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Helper",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PathPattern",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","View",15],["T_NS_SEPARATOR","\\",15],["T_STRING","File",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Factory",15],["T_WHITESPACE"," ",15],["T_AS","as",15],["T_WHITESPACE"," ",15],["T_STRING","FileFactory",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Source of view files that explicitly override modular files of ancestor themes\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","ThemeModular",20],["T_WHITESPACE"," ",20],["T_IMPLEMENTS","implements",20],["T_WHITESPACE"," ",20],["T_STRING","CollectorInterface",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Path pattern helper\n     *\n     * @var \\Magento\\Framework\\View\\Helper\\PathPattern\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$pathPatternHelper",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * View file factopry\n     *\n     * @var FileFactory\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$fileFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Read directory factory\n     *\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\ReadFactory\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$readDirFactory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Component registrar\n     *\n     * @var ComponentRegistrarInterface\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$componentRegistrar",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Sub-directory path\n     *\n     * @var string\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$subDir",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param FileFactory $fileFactory\n     * @param ReadFactory $readDirFactory\n     * @param ComponentRegistrarInterface $componentRegistrar\n     * @param PathPattern $pathPatternHelper\n     * @param string $subDir\n     *\/",57],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","__construct",66],"(",["T_WHITESPACE","\n        ",66],["T_STRING","FileFactory",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$fileFactory",67],",",["T_WHITESPACE","\n        ",67],["T_STRING","ReadFactory",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$readDirFactory",68],",",["T_WHITESPACE","\n        ",68],["T_STRING","ComponentRegistrarInterface",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$componentRegistrar",69],",",["T_WHITESPACE","\n        ",69],["T_STRING","PathPattern",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$pathPatternHelper",70],",",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$subDir",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],["T_WHITESPACE","\n    ",71],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","pathPatternHelper",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$pathPatternHelper",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","fileFactory",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$fileFactory",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","readDirFactory",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$readDirFactory",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","componentRegistrar",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$componentRegistrar",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","subDir",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$subDir",77],["T_WHITESPACE"," ",77],"?",["T_WHITESPACE"," ",77],["T_VARIABLE","$subDir",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'\/'",77],["T_WHITESPACE"," ",77],":",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Retrieve files\n     *\n     * @param ThemeInterface $theme\n     * @param string $filePath\n     * @return \\Magento\\Framework\\View\\File[]\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",80],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getFiles",88],"(",["T_STRING","ThemeInterface",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$theme",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$filePath",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$namespace",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$module",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'*'",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$themePath",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$theme",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getFullPath",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_EMPTY","empty",92],"(",["T_VARIABLE","$themePath",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],"[","]",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$themeAbsolutePath",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","componentRegistrar",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getPath",95],"(",["T_STRING","ComponentRegistrar",95],["T_DOUBLE_COLON","::",95],["T_STRING","THEME",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$themePath",95],")",";",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(","!",["T_VARIABLE","$themeAbsolutePath",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],"[","]",";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$themeDir",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","readDirFactory",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","create",99],"(",["T_VARIABLE","$themeAbsolutePath",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$files",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$themeDir",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","search",100],"(","\"",["T_CURLY_OPEN","{",100],["T_VARIABLE","$namespace",100],"}",["T_ENCAPSED_AND_WHITESPACE","_",100],["T_CURLY_OPEN","{",100],["T_VARIABLE","$module",100],"}",["T_ENCAPSED_AND_WHITESPACE","\/",100],["T_CURLY_OPEN","{",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","subDir",100],"}",["T_ENCAPSED_AND_WHITESPACE","*\/*\/",100],["T_CURLY_OPEN","{",100],["T_VARIABLE","$filePath",100],"}","\"",")",";",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_EMPTY","empty",101],"(",["T_VARIABLE","$files",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],"[","]",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$themes",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],"[","]",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$currentTheme",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$theme",106],";",["T_WHITESPACE","\n        ",106],["T_WHILE","while",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$currentTheme",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$currentTheme",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getParentTheme",107],"(",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$themes",108],"[",["T_VARIABLE","$currentTheme",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getCode",108],"(",")","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$currentTheme",108],";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$result",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[","]",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$pattern",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"\"",["T_ENCAPSED_AND_WHITESPACE","#\/(?<module>[^\/]+)\/",111],["T_CURLY_OPEN","{",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","subDir",111],"}",["T_ENCAPSED_AND_WHITESPACE","(?<themeVendor>[^\/]+)\/(?<themeName>[^\/]+)\/",111],"\"",["T_WHITESPACE","\n            ",111],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","pathPatternHelper",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","translatePatternFromGlob",112],"(",["T_VARIABLE","$filePath",112],")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"$#i\"",112],";",["T_WHITESPACE","\n        ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$files",113],["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$file",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$filename",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$themeDir",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getAbsolutePath",114],"(",["T_VARIABLE","$file",114],")",";",["T_WHITESPACE","\n            ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(","!",["T_STRING","preg_match",115],"(",["T_VARIABLE","$pattern",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$filename",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$matches",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n                ",115],["T_CONTINUE","continue",116],";",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$moduleFull",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$matches",118],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",118],"]",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$ancestorThemeCode",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$matches",119],"[",["T_CONSTANT_ENCAPSED_STRING","'themeVendor'",119],"]",["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$matches",119],"[",["T_CONSTANT_ENCAPSED_STRING","'themeName'",119],"]",";",["T_WHITESPACE","\n            ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_ISSET","isset",120],"(",["T_VARIABLE","$themes",120],"[",["T_VARIABLE","$ancestorThemeCode",120],"]",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_THROW","throw",121],["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","LocalizedException",121],"(",["T_WHITESPACE","\n                    ",121],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Phrase",122],"(",["T_WHITESPACE","\n                        ",122],["T_CONSTANT_ENCAPSED_STRING","\"Trying to override modular view file '%1' for theme '%2', which is not ancestor of theme '%3'\"",123],",",["T_WHITESPACE","\n                        ",123],"[",["T_VARIABLE","$filename",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$ancestorThemeCode",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$theme",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getCode",124],"(",")","]",["T_WHITESPACE","\n                    ",124],")",["T_WHITESPACE","\n                ",125],")",";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$result",128],"[","]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","fileFactory",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","create",128],"(",["T_VARIABLE","$filename",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$moduleFull",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$themes",128],"[",["T_VARIABLE","$ancestorThemeCode",128],"]",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$result",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n",131],"}",["T_WHITESPACE","\n",132]]