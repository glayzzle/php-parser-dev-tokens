[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Model that finds file paths by their fileId\n *\n * @api\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","FileSystem",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\File\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_fileResolution",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\TemplateFile\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_templateFileResolution",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\LocaleFile\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_localeFileResolution",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\StaticFile\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_staticFileResolution",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\EmailTemplateFile\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_emailTemplateFileResolution",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * View service\n     *\n     * @var \\Magento\\Framework\\View\\Asset\\Repository\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_assetRepo",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\File $fallbackFile\n     * @param \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\TemplateFile $fallbackTemplateFile\n     * @param \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\LocaleFile $fallbackLocaleFile\n     * @param \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\StaticFile $fallbackStaticFile\n     * @param \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\EmailTemplateFile $fallbackEmailTemplateFile\n     * @param \\Magento\\Framework\\View\\Asset\\Repository $assetRepo\n     *\/",47],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Framework",58],["T_NS_SEPARATOR","\\",58],["T_STRING","View",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Design",58],["T_NS_SEPARATOR","\\",58],["T_STRING","FileResolution",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Fallback",58],["T_NS_SEPARATOR","\\",58],["T_STRING","File",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$fallbackFile",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Framework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","View",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Design",59],["T_NS_SEPARATOR","\\",59],["T_STRING","FileResolution",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Fallback",59],["T_NS_SEPARATOR","\\",59],["T_STRING","TemplateFile",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$fallbackTemplateFile",59],",",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Framework",60],["T_NS_SEPARATOR","\\",60],["T_STRING","View",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Design",60],["T_NS_SEPARATOR","\\",60],["T_STRING","FileResolution",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Fallback",60],["T_NS_SEPARATOR","\\",60],["T_STRING","LocaleFile",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$fallbackLocaleFile",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","View",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Design",61],["T_NS_SEPARATOR","\\",61],["T_STRING","FileResolution",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Fallback",61],["T_NS_SEPARATOR","\\",61],["T_STRING","StaticFile",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$fallbackStaticFile",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","View",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Design",62],["T_NS_SEPARATOR","\\",62],["T_STRING","FileResolution",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Fallback",62],["T_NS_SEPARATOR","\\",62],["T_STRING","EmailTemplateFile",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$fallbackEmailTemplateFile",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","View",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Asset",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Repository",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$assetRepo",63],["T_WHITESPACE","\n    ",63],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_fileResolution",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$fallbackFile",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_templateFileResolution",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$fallbackTemplateFile",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_localeFileResolution",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$fallbackLocaleFile",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_staticFileResolution",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$fallbackStaticFile",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_emailTemplateFileResolution",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$fallbackEmailTemplateFile",69],";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_assetRepo",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$assetRepo",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Get existing file name with fallback to default\n     *\n     * @param string $fileId\n     * @param array $params\n     * @return string\n     *\/",73],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getFilename",80],"(",["T_VARIABLE","$fileId",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$params",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_LIST","list",82],"(",["T_VARIABLE","$module",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$filePath",82],")",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","View",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Asset",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Repository",82],["T_DOUBLE_COLON","::",82],["T_STRING","extractModule",82],"(",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","normalizePath",83],"(",["T_VARIABLE","$fileId",83],")",["T_WHITESPACE","\n        ",83],")",";",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$module",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$params",86],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$module",86],";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_assetRepo",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","updateDesignParams",88],"(",["T_VARIABLE","$params",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$file",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_fileResolution",89],["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","getFile",90],"(",["T_VARIABLE","$params",90],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",90],"]",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$params",90],"[",["T_CONSTANT_ENCAPSED_STRING","'themeModel'",90],"]",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$filePath",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$params",90],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",90],"]",")",";",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$file",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Get a locale file\n     *\n     * @param string $file\n     * @param array $params\n     * @return string\n     *\/",94],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getLocaleFileName",101],"(",["T_VARIABLE","$file",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$params",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[","]",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_assetRepo",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","updateDesignParams",103],"(",["T_VARIABLE","$params",103],")",";",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_localeFileResolution",104],["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","getFile",105],"(",["T_VARIABLE","$params",105],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",105],"]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$params",105],"[",["T_CONSTANT_ENCAPSED_STRING","'themeModel'",105],"]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$params",105],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",105],"]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$file",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Get a template file\n     *\n     * @param string $fileId\n     * @param array $params\n     * @return string|bool\n     *\/",108],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getTemplateFileName",115],"(",["T_VARIABLE","$fileId",115],",",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$params",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[","]",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_LIST","list",117],"(",["T_VARIABLE","$module",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$filePath",117],")",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Framework",117],["T_NS_SEPARATOR","\\",117],["T_STRING","View",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Asset",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Repository",117],["T_DOUBLE_COLON","::",117],["T_STRING","extractModule",117],"(",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","normalizePath",118],"(",["T_VARIABLE","$fileId",118],")",["T_WHITESPACE","\n        ",118],")",";",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$module",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$params",121],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",121],"]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$module",121],";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_assetRepo",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","updateDesignParams",123],"(",["T_VARIABLE","$params",123],")",";",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_templateFileResolution",124],["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","getFile",125],"(",["T_VARIABLE","$params",125],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",125],"]",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$params",125],"[",["T_CONSTANT_ENCAPSED_STRING","'themeModel'",125],"]",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$filePath",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$params",125],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",125],"]",")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Find a static view file using fallback mechanism\n     *\n     * @param string $fileId\n     * @param array $params\n     * @return string\n     *\/",128],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getStaticFileName",135],"(",["T_VARIABLE","$fileId",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$params",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[","]",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_LIST","list",137],"(",["T_VARIABLE","$module",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$filePath",137],")",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Framework",137],["T_NS_SEPARATOR","\\",137],["T_STRING","View",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Asset",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Repository",137],["T_DOUBLE_COLON","::",137],["T_STRING","extractModule",137],"(",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","normalizePath",138],"(",["T_VARIABLE","$fileId",138],")",["T_WHITESPACE","\n        ",138],")",";",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$module",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$params",141],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$module",141],";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_assetRepo",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","updateDesignParams",143],"(",["T_VARIABLE","$params",143],")",";",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_staticFileResolution",144],["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","getFile",145],"(",["T_VARIABLE","$params",145],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",145],"]",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$params",145],"[",["T_CONSTANT_ENCAPSED_STRING","'themeModel'",145],"]",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$params",145],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",145],"]",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$filePath",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$params",145],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",145],"]",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Get an email template file\n     *\n     * @param string $fileId\n     * @param array $params\n     * @param string $module\n     * @return string|bool\n     *\/",148],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getEmailTemplateFileName",156],"(",["T_VARIABLE","$fileId",156],",",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$params",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$module",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_assetRepo",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","updateDesignParams",158],"(",["T_VARIABLE","$params",158],")",";",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_emailTemplateFileResolution",159],["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","getFile",160],"(",["T_VARIABLE","$params",160],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",160],"]",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$params",160],"[",["T_CONSTANT_ENCAPSED_STRING","'themeModel'",160],"]",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$params",160],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",160],"]",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$fileId",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$module",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Remove excessive \".\" and \"..\" parts from a path\n     *\n     * For example foo\/bar\/..\/file.ext -> foo\/file.ext\n     *\n     * @param string $path\n     * @return string\n     *\/",163],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_STATIC","static",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","normalizePath",171],"(",["T_VARIABLE","$path",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$parts",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","explode",173],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$path",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$result",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"[","]",";",["T_WHITESPACE","\n\n        ",174],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$parts",176],["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$part",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_CONSTANT_ENCAPSED_STRING","'..'",177],["T_WHITESPACE"," ",177],["T_IS_IDENTICAL","===",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$part",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(","!",["T_STRING","count",178],"(",["T_VARIABLE","$result",178],")",["T_WHITESPACE"," ",178],["T_BOOLEAN_OR","||",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$result",178],"[",["T_STRING","count",178],"(",["T_VARIABLE","$result",178],")",["T_WHITESPACE"," ",178],"-",["T_WHITESPACE"," ",178],["T_LNUMBER","1",178],"]",["T_WHITESPACE"," ",178],["T_IS_EQUAL","==",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'..'",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                    ",178],["T_VARIABLE","$result",179],"[","]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$part",179],";",["T_WHITESPACE","\n                ",179],"}",["T_WHITESPACE"," ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                    ",180],["T_STRING","array_pop",181],"(",["T_VARIABLE","$result",181],")",";",["T_WHITESPACE","\n                ",181],"}",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE"," ",183],["T_ELSEIF","elseif",183],["T_WHITESPACE"," ",183],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",183],["T_WHITESPACE"," ",183],["T_IS_NOT_IDENTICAL","!==",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$part",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$result",184],"[","]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$part",184],";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_STRING","implode",187],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$result",187],")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Get a relative path between $relatedPath and $path paths as if $path was to refer to $relatedPath\n     * relatively of itself\n     *\n     * Returns new calculated relative path.\n     * Examples:\n     *   $path: \/some\/directory\/one\/file.ext\n     *   $relatedPath: \/some\/directory\/two\/another\/file.ext\n     *   Result: ..\/two\/another\n     *\n     *   $path: http:\/\/example.com\/themes\/demo\/css\/styles.css\n     *   $relatedPath: http:\/\/example.com\/images\/logo.gif\n     *   Result: ..\/..\/..\/images\n     *\n     * @param string $relatedPath\n     * @param string $path\n     * @return string\n     *\/",190],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_STATIC","static",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","offsetPath",208],"(",["T_VARIABLE","$relatedPath",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$path",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$relatedPath",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","self",210],["T_DOUBLE_COLON","::",210],["T_STRING","normalizePath",210],"(",["T_VARIABLE","$relatedPath",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$path",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","self",211],["T_DOUBLE_COLON","::",211],["T_STRING","normalizePath",211],"(",["T_VARIABLE","$path",211],")",";",["T_WHITESPACE","\n        ",211],["T_LIST","list",212],"(",["T_VARIABLE","$relatedPath",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$path",212],")",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","self",212],["T_DOUBLE_COLON","::",212],["T_STRING","ltrimSamePart",212],"(",["T_VARIABLE","$relatedPath",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$path",212],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$toDir",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","ltrim",213],"(",["T_STRING","dirname",213],"(",["T_VARIABLE","$path",213],")",",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'\/'",213],")",";",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$toDir",214],["T_WHITESPACE"," ",214],["T_IS_EQUAL","==",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'.'",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$offset",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","''",215],";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE"," ",216],["T_ELSE","else",216],["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$offset",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","str_repeat",217],"(",["T_CONSTANT_ENCAPSED_STRING","'..\/'",217],",",["T_WHITESPACE"," ",217],["T_STRING","count",217],"(",["T_STRING","explode",217],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$toDir",217],")",")",")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_STRING","rtrim",219],"(",["T_VARIABLE","$offset",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_STRING","dirname",219],"(",["T_VARIABLE","$relatedPath",219],")",",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'\/'",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Concatenate\/normalize a path to another path as a relative, assuming it will be relative to its directory\n     *\n     * @param string $relativeTo\n     * @param string $path\n     * @return string\n     *\/",222],["T_WHITESPACE","\n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_STATIC","static",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","getRelatedPath",229],"(",["T_VARIABLE","$relativeTo",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$path",229],")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_STRING","self",231],["T_DOUBLE_COLON","::",231],["T_STRING","normalizePath",231],"(",["T_STRING","dirname",231],"(",["T_VARIABLE","$relativeTo",231],")",["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'\/'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$path",231],")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Left-trim same part of two paths\n     *\n     * @param string $pathOne\n     * @param string $pathTwo\n     * @return array\n     *\/",234],["T_WHITESPACE","\n    ",240],["T_PRIVATE","private",241],["T_WHITESPACE"," ",241],["T_STATIC","static",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","ltrimSamePart",241],"(",["T_VARIABLE","$pathOne",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$pathTwo",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$one",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","explode",243],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$pathOne",243],")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$two",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","explode",244],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$pathTwo",244],")",";",["T_WHITESPACE","\n        ",244],["T_WHILE","while",245],["T_WHITESPACE"," ",245],"(",["T_ISSET","isset",245],"(",["T_VARIABLE","$one",245],"[",["T_LNUMBER","0",245],"]",")",["T_WHITESPACE"," ",245],["T_BOOLEAN_AND","&&",245],["T_WHITESPACE"," ",245],["T_ISSET","isset",245],"(",["T_VARIABLE","$two",245],"[",["T_LNUMBER","0",245],"]",")",["T_WHITESPACE"," ",245],["T_BOOLEAN_AND","&&",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$one",245],"[",["T_LNUMBER","0",245],"]",["T_WHITESPACE"," ",245],["T_IS_EQUAL","==",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$two",245],"[",["T_LNUMBER","0",245],"]",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_STRING","array_shift",246],"(",["T_VARIABLE","$one",246],")",";",["T_WHITESPACE","\n            ",246],["T_STRING","array_shift",247],"(",["T_VARIABLE","$two",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],"[",["T_STRING","implode",249],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$one",249],")",",",["T_WHITESPACE"," ",249],["T_STRING","implode",249],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$two",249],")","]",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n",250],"}",["T_WHITESPACE","\n",251]]