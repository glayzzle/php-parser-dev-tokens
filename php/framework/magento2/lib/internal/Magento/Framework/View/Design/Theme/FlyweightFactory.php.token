[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Design",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Theme",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Theme factory\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","FlyweightFactory",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Theme provider\n     *\n     * @var ThemeProviderInterface\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$themeProvider",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * Themes\n     *\n     * @var \\Magento\\Framework\\View\\Design\\ThemeInterface[]\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$themes",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[","]",";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Themes by path\n     *\n     * @var \\Magento\\Framework\\View\\Design\\ThemeInterface[]\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$themesByPath",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],"[","]",";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param ThemeProviderInterface $themeProvider\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_STRING","ThemeProviderInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$themeProvider",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","themeProvider",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$themeProvider",41],";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Creates or returns a shared model of theme\n     *\n     * @param string $themeKey\n     * @param string $area\n     * @return \\Magento\\Framework\\View\\Design\\ThemeInterface|null\n     * @throws \\InvalidArgumentException\n     * @throws \\LogicException\n     *\/",44],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","create",53],"(",["T_VARIABLE","$themeKey",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$area",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","View",53],["T_NS_SEPARATOR","\\",53],["T_STRING","DesignInterface",53],["T_DOUBLE_COLON","::",53],["T_STRING","DEFAULT_AREA",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_STRING","is_numeric",55],"(",["T_VARIABLE","$themeKey",55],")",["T_WHITESPACE"," ",55],["T_BOOLEAN_AND","&&",55],["T_WHITESPACE"," ",55],"!",["T_STRING","is_string",55],"(",["T_VARIABLE","$themeKey",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_THROW","throw",56],["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_NS_SEPARATOR","\\",56],["T_STRING","InvalidArgumentException",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Incorrect theme identification key'",56],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$themeKey",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","extractThemeId",58],"(",["T_VARIABLE","$themeKey",58],")",";",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_STRING","is_numeric",59],"(",["T_VARIABLE","$themeKey",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$themeModel",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_loadById",60],"(",["T_VARIABLE","$themeKey",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE"," ",61],["T_ELSE","else",61],["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$themeModel",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_loadByPath",62],"(",["T_VARIABLE","$themeKey",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$area",62],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(","!",["T_VARIABLE","$themeModel",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getId",64],"(",")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_THROW","throw",65],["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","LogicException",65],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unable to load theme by specified key: '",65],["T_CURLY_OPEN","{",65],["T_VARIABLE","$themeKey",65],"}",["T_ENCAPSED_AND_WHITESPACE","'",65],"\"",")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_addTheme",67],"(",["T_VARIABLE","$themeModel",67],")",";",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$themeModel",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Attempt to determine a numeric theme ID from the specified path\n     *\n     * @param string $path\n     * @return string\n     *\/",71],["T_WHITESPACE","\n    ",76],["T_PRIVATE","private",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","extractThemeId",77],"(",["T_VARIABLE","$path",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$dir",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Framework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","View",79],["T_NS_SEPARATOR","\\",79],["T_STRING","DesignInterface",79],["T_DOUBLE_COLON","::",79],["T_STRING","PUBLIC_THEME_DIR",79],";",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","preg_match",80],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_STRING","preg_quote",80],"(",["T_VARIABLE","$dir",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'\/'",80],")",["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'(\\d+)$\/'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$path",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$matches",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$matches",81],"[",["T_LNUMBER","1",81],"]",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$path",83],";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Load theme by id\n     *\n     * @param int $themeId\n     * @return \\Magento\\Framework\\View\\Design\\ThemeInterface\n     *\/",86],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","_loadById",92],"(",["T_VARIABLE","$themeId",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","themes",94],"[",["T_VARIABLE","$themeId",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","themes",95],"[",["T_VARIABLE","$themeId",95],"]",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","themeProvider",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getThemeById",98],"(",["T_VARIABLE","$themeId",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Load theme by theme path\n     *\n     * @param string $themePath\n     * @param string $area\n     * @return \\Magento\\Framework\\View\\Design\\ThemeInterface\n     *\/",101],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","_loadByPath",108],"(",["T_VARIABLE","$themePath",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$area",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$fullPath",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$area",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Framework",110],["T_NS_SEPARATOR","\\",110],["T_STRING","View",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Design",110],["T_NS_SEPARATOR","\\",110],["T_STRING","ThemeInterface",110],["T_DOUBLE_COLON","::",110],["T_STRING","PATH_SEPARATOR",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$themePath",110],";",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_ISSET","isset",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","themesByPath",111],"[",["T_VARIABLE","$fullPath",111],"]",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","themesByPath",112],"[",["T_VARIABLE","$fullPath",112],"]",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","themeProvider",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getThemeByFullPath",115],"(",["T_VARIABLE","$fullPath",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Add theme to shared collection\n     *\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $themeModel\n     * @return $this\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","_addTheme",124],"(",["T_NS_SEPARATOR","\\",124],["T_STRING","Magento",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Framework",124],["T_NS_SEPARATOR","\\",124],["T_STRING","View",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Design",124],["T_NS_SEPARATOR","\\",124],["T_STRING","ThemeInterface",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$themeModel",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$themeModel",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getId",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","themes",127],"[",["T_VARIABLE","$themeModel",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getId",127],"(",")","]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$themeModel",127],";",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$themePath",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$themeModel",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getFullPath",128],"(",")",";",["T_WHITESPACE","\n            ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$themePath",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","themesByPath",130],"[",["T_VARIABLE","$themePath",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$themeModel",130],";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n",134],"}",["T_WHITESPACE","\n",135]]