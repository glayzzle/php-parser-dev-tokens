[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Design",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Theme",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Directory",9],["T_NS_SEPARATOR","\\",9],["T_STRING","WriteInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","View",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Design",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ThemeInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Theme Image model class\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Image",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Preview image width\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","PREVIEW_IMAGE_WIDTH",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_LNUMBER","800",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Preview image height\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","PREVIEW_IMAGE_HEIGHT",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_LNUMBER","800",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Media directory\n     *\n     * @var WriteInterface\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$mediaDirectory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Root directory\n     *\n     * @var WriteInterface\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$rootDirectory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Image factory\n     *\n     * @var \\Magento\\Framework\\Image\\Factory\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$imageFactory",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Image uploader\n     *\n     * @var Image\\Uploader\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$uploader",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Theme image path\n     *\n     * @var Image\\PathInterface\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$themeImagePath",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Logger\n     *\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$logger",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Theme\n     *\n     * @var ThemeInterface\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$theme",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Width and height of preview image\n     *\n     * @var array\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$imageParams",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Initialize dependencies\n     *\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Framework\\Image\\Factory $imageFactory\n     * @param Image\\Uploader $uploader\n     * @param Image\\PathInterface $themeImagePath\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param array $imageParams\n     * @param ThemeInterface $theme\n     * @codingStandardsIgnoreStart\n     *\/",85],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","__construct",97],"(",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Filesystem",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$filesystem",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Image",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Factory",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$imageFactory",99],",",["T_WHITESPACE","\n        ",99],["T_STRING","Image",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Uploader",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$uploader",100],",",["T_WHITESPACE","\n        ",100],["T_STRING","Image",101],["T_NS_SEPARATOR","\\",101],["T_STRING","PathInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$themeImagePath",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Psr",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Log",102],["T_NS_SEPARATOR","\\",102],["T_STRING","LoggerInterface",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$logger",102],",",["T_WHITESPACE","\n        ",102],["T_ARRAY","array",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$imageParams",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[",["T_STRING","self",103],["T_DOUBLE_COLON","::",103],["T_STRING","PREVIEW_IMAGE_WIDTH",103],",",["T_WHITESPACE"," ",103],["T_STRING","self",103],["T_DOUBLE_COLON","::",103],["T_STRING","PREVIEW_IMAGE_HEIGHT",103],"]",",",["T_WHITESPACE","\n        ",103],["T_STRING","ThemeInterface",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$theme",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","null",104],["T_WHITESPACE","\n    ",104],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","mediaDirectory",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$filesystem",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getDirectoryWrite",106],"(",["T_STRING","DirectoryList",106],["T_DOUBLE_COLON","::",106],["T_STRING","MEDIA",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","rootDirectory",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$filesystem",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getDirectoryWrite",107],"(",["T_STRING","DirectoryList",107],["T_DOUBLE_COLON","::",107],["T_STRING","ROOT",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","imageFactory",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$imageFactory",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","uploader",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$uploader",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","themeImagePath",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$themeImagePath",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","logger",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$logger",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","imageParams",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$imageParams",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","theme",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$theme",113],";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n    ",114],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",115],["T_WHITESPACE","\n    ",116],["T_DOC_COMMENT","\/**\n     * Create preview image\n     *\n     * @param string $imagePath\n     * @return $this\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","createPreviewImage",123],"(",["T_VARIABLE","$imagePath",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_LIST","list",125],"(",["T_VARIABLE","$imageWidth",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$imageHeight",125],")",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","imageParams",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$image",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","imageFactory",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","create",126],"(",["T_VARIABLE","$imagePath",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$image",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","keepTransparency",127],"(",["T_STRING","true",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$image",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","constrainOnly",128],"(",["T_STRING","true",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$image",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","keepFrame",129],"(",["T_STRING","true",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$image",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","keepAspectRatio",130],"(",["T_STRING","true",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$image",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","backgroundColor",131],"(","[",["T_LNUMBER","255",131],",",["T_WHITESPACE"," ",131],["T_LNUMBER","255",131],",",["T_WHITESPACE"," ",131],["T_LNUMBER","255",131],"]",")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$image",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","resize",132],"(",["T_VARIABLE","$imageWidth",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$imageHeight",132],")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$imageName",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","uniqid",134],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_'",134],")",["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_STRING","image_type_to_extension",134],"(",["T_VARIABLE","$image",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getImageType",134],"(",")",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$image",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","save",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","themeImagePath",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getImagePreviewDirectory",135],"(",")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$imageName",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","theme",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setPreviewImage",136],"(",["T_VARIABLE","$imageName",136],")",";",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Create preview image duplicate\n     *\n     * @param ThemeInterface $theme\n     * @return bool\n     *\/",140],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","createPreviewImageCopy",146],"(",["T_STRING","ThemeInterface",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$theme",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$previewDir",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","themeImagePath",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getImagePreviewDirectory",148],"(",")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$sourcePath",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$theme",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getThemeImage",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getPreviewImagePath",149],"(",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$sourceRelativePath",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","rootDirectory",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getRelativePath",150],"(",["T_VARIABLE","$sourcePath",150],")",";",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","!",["T_VARIABLE","$theme",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getPreviewImage",151],"(",")",["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],"!",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","mediaDirectory",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","isExist",151],"(",["T_VARIABLE","$sourceRelativePath",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_STRING","false",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$isCopied",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","false",154],";",["T_WHITESPACE","\n        ",154],["T_TRY","try",155],["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$destinationFileName",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","File",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Uploader",156],["T_DOUBLE_COLON","::",156],["T_STRING","getNewFileName",156],"(",["T_VARIABLE","$sourcePath",156],")",";",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$targetRelativePath",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE","  ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","mediaDirectory",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getRelativePath",157],"(",["T_VARIABLE","$previewDir",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'\/'",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$destinationFileName",157],")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$isCopied",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","rootDirectory",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","copyFile",158],"(",["T_VARIABLE","$sourceRelativePath",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$targetRelativePath",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","mediaDirectory",158],")",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","theme",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setPreviewImage",159],"(",["T_VARIABLE","$destinationFileName",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_CATCH","catch",160],["T_WHITESPACE"," ",160],"(",["T_NS_SEPARATOR","\\",160],["T_STRING","Magento",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Framework",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Exception",160],["T_NS_SEPARATOR","\\",160],["T_STRING","FileSystemException",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$e",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","theme",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setPreviewImage",161],"(",["T_STRING","null",161],")",";",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","logger",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","critical",162],"(",["T_VARIABLE","$e",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$isCopied",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Delete preview image\n     *\n     * @return bool\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","removePreviewImage",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$previewImage",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","theme",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getPreviewImage",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","theme",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setPreviewImage",175],"(",["T_STRING","null",175],")",";",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$previewImage",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$previewImagePath",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","themeImagePath",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getImagePreviewDirectory",177],"(",")",["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'\/'",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_VARIABLE","$previewImage",177],";",["T_WHITESPACE","\n            ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","mediaDirectory",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","delete",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","mediaDirectory",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getRelativePath",178],"(",["T_VARIABLE","$previewImagePath",178],")",")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_STRING","false",180],";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Upload and create preview image\n     *\n     * @param string $scope the request key for file\n     * @return $this\n     *\/",183],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","uploadPreviewImage",189],"(",["T_VARIABLE","$scope",189],")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$tmpDirPath",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","themeImagePath",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getTemporaryDirectory",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$tmpFilePath",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","uploader",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","uploadPreviewImage",192],"(",["T_VARIABLE","$scope",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$tmpDirPath",192],")",";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$tmpFilePath",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","theme",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getPreviewImage",194],"(",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","removePreviewImage",195],"(",")",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","createPreviewImage",197],"(",["T_VARIABLE","$tmpFilePath",197],")",";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","mediaDirectory",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","delete",198],"(",["T_VARIABLE","$tmpFilePath",198],")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Get path to preview image\n     *\n     * @return string\n     *\/",203],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getPreviewImagePath",208],"(",")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","themeImagePath",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getPreviewImagePath",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","theme",210],")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Get url of theme preview image\n     *\n     * @return string\n     *\/",213],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","getPreviewImageUrl",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$previewImage",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","theme",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getPreviewImage",220],"(",")",";",["T_WHITESPACE","\n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_EMPTY","empty",221],"(",["T_VARIABLE","$previewImage",221],")",["T_WHITESPACE","\n            ",221],"?",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","themeImagePath",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getPreviewImageDefaultUrl",222],"(",")",["T_WHITESPACE","\n            ",222],":",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","themeImagePath",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getPreviewImageUrl",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","theme",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n",224],"}",["T_WHITESPACE","\n",225]]