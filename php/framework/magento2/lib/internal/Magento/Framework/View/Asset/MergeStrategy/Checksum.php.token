[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Asset",6],["T_NS_SEPARATOR","\\",6],["T_STRING","MergeStrategy",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManager",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","View",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Asset",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Source",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Skip merging if all of the files that need to be merged were not modified\n *\n * Each file will be resolved and its mtime will be checked.\n * Then combination of all mtimes will be compared to a special .dat file that contains mtimes from previous merging\n *\/",12],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Checksum",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","View",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Asset",18],["T_NS_SEPARATOR","\\",18],["T_STRING","MergeStrategyInterface",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\MergeStrategyInterface\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$strategy",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$filesystem",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var Source\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$assetSource",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\View\\Asset\\MergeStrategyInterface $strategy\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     *\/",35],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","View",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Asset",40],["T_NS_SEPARATOR","\\",40],["T_STRING","MergeStrategyInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$strategy",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Filesystem",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$filesystem",41],["T_WHITESPACE","\n    ",41],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","strategy",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$strategy",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","filesystem",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$filesystem",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return Source\n     *\/",47],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getAssetSource",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(","!",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assetSource",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assetSource",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","ObjectManager",54],["T_DOUBLE_COLON","::",54],["T_STRING","getInstance",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_STRING","Source",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE","\n        ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assetSource",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","merge",62],"(",["T_ARRAY","array",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$assetsToMerge",62],",",["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","View",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Asset",62],["T_NS_SEPARATOR","\\",62],["T_STRING","LocalInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$resultAsset",62],")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$rootDir",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","filesystem",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getDirectoryRead",64],"(",["T_STRING","DirectoryList",64],["T_DOUBLE_COLON","::",64],["T_STRING","ROOT",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$mTime",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","null",65],";",["T_WHITESPACE","\n        ",65],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\View\\Asset\\MergeableInterface $asset *\/",66],["T_WHITESPACE","\n        ",66],["T_FOREACH","foreach",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$assetsToMerge",67],["T_WHITESPACE"," ",67],["T_AS","as",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$asset",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$sourceFile",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getAssetSource",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","findSource",68],"(",["T_VARIABLE","$asset",68],")",";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$mTime",69],["T_WHITESPACE"," ",69],["T_CONCAT_EQUAL",".=",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$rootDir",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","stat",69],"(",["T_VARIABLE","$rootDir",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getRelativePath",69],"(",["T_VARIABLE","$sourceFile",69],")",")","[",["T_CONSTANT_ENCAPSED_STRING","'mtime'",69],"]",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n\n        ",70],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_STRING","null",72],["T_WHITESPACE"," ",72],["T_IS_IDENTICAL","===",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$mTime",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_RETURN","return",73],";",["T_WHITESPACE"," ",73],["T_COMMENT","\/\/ nothing to merge\n",73],["T_WHITESPACE","        ",74],"}",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$dat",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$resultAsset",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getPath",76],"(",")",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'.dat'",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$targetDir",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","filesystem",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getDirectoryWrite",77],"(",["T_STRING","DirectoryList",77],["T_DOUBLE_COLON","::",77],["T_STRING","STATIC_VIEW",77],")",";",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_VARIABLE","$targetDir",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","isExist",78],"(",["T_VARIABLE","$dat",78],")",["T_WHITESPACE"," ",78],["T_BOOLEAN_OR","||",78],["T_WHITESPACE"," ",78],["T_STRING","strcmp",78],"(",["T_VARIABLE","$mTime",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$targetDir",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","readFile",78],"(",["T_VARIABLE","$dat",78],")",")",["T_WHITESPACE"," ",78],["T_IS_NOT_IDENTICAL","!==",78],["T_WHITESPACE"," ",78],["T_LNUMBER","0",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","strategy",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","merge",79],"(",["T_VARIABLE","$assetsToMerge",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$resultAsset",79],")",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$targetDir",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","writeFile",80],"(",["T_VARIABLE","$dat",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$mTime",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n",82],"}",["T_WHITESPACE","\n",83]]