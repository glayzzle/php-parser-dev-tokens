[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Framework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","App",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Automatic cache cleaner plugin\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FlushCacheByTags",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var Type\\FrontendPool\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$cachePool",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$cacheList",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var StateInterface\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$cacheState",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var Tag\\Resolver\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$tagResolver",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * FlushCacheByTags constructor.\n     *\n     * @param Type\\FrontendPool $cachePool\n     * @param StateInterface $cacheState\n     * @param array $cacheList\n     * @param Tag\\Resolver $tagResolver\n     *\/",34],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","__construct",42],"(",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","App",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Cache",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Type",43],["T_NS_SEPARATOR","\\",43],["T_STRING","FrontendPool",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$cachePool",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","App",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Cache",44],["T_NS_SEPARATOR","\\",44],["T_STRING","StateInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$cacheState",44],",",["T_WHITESPACE","\n        ",44],["T_ARRAY","array",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$cacheList",45],",",["T_WHITESPACE","\n        ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Framework",46],["T_NS_SEPARATOR","\\",46],["T_STRING","App",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Cache",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Tag",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Resolver",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$tagResolver",46],["T_WHITESPACE","\n    ",46],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","cachePool",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$cachePool",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","cacheState",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$cacheState",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","cacheList",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$cacheList",50],";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","tagResolver",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$tagResolver",51],";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Clean cache on save object\n     *\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $subject\n     * @param \\Closure $proceed\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",54],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","aroundSave",63],"(",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","ResourceModel",64],["T_NS_SEPARATOR","\\",64],["T_STRING","AbstractResource",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$subject",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Closure",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$proceed",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","AbstractModel",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$object",66],["T_WHITESPACE","\n    ",66],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$result",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$proceed",68],"(",["T_VARIABLE","$object",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$tags",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","tagResolver",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getTags",69],"(",["T_VARIABLE","$object",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","cleanCacheByTags",70],"(",["T_VARIABLE","$tags",70],")",";",["T_WHITESPACE","\n\n        ",70],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$result",72],";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Clean cache on delete object\n     *\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $subject\n     * @param \\Closure $proceed\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",75],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","aroundDelete",84],"(",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ResourceModel",85],["T_NS_SEPARATOR","\\",85],["T_STRING","AbstractResource",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$subject",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Closure",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$proceed",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Model",87],["T_NS_SEPARATOR","\\",87],["T_STRING","AbstractModel",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$object",87],["T_WHITESPACE","\n    ",87],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$tags",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","tagResolver",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getTags",89],"(",["T_VARIABLE","$object",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$result",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$proceed",90],"(",["T_VARIABLE","$object",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","cleanCacheByTags",91],"(",["T_VARIABLE","$tags",91],")",";",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$result",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Clean cache by tags\n     *\n     * @param  string[] $tags\n     * @return void\n     *\/",95],["T_WHITESPACE","\n    ",100],["T_PRIVATE","private",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","cleanCacheByTags",101],"(",["T_VARIABLE","$tags",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_EMPTY","empty",103],"(",["T_VARIABLE","$tags",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_RETURN","return",104],";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_FOREACH","foreach",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","cacheList",106],["T_WHITESPACE"," ",106],["T_AS","as",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$cacheType",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","cacheState",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","isEnabled",107],"(",["T_VARIABLE","$cacheType",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","cachePool",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","get",108],"(",["T_VARIABLE","$cacheType",108],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","clean",108],"(",["T_WHITESPACE","\n                    ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Zend_Cache",109],["T_DOUBLE_COLON","::",109],["T_STRING","CLEANING_MODE_MATCHING_TAG",109],",",["T_WHITESPACE","\n                    ",109],["T_STRING","array_unique",110],"(",["T_VARIABLE","$tags",110],")",["T_WHITESPACE","\n                ",110],")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n",114],"}",["T_WHITESPACE","\n",115]]