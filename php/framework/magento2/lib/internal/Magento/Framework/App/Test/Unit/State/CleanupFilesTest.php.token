[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Framework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","App",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","State",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","State",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CleanupFiles",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DirectoryList",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Filesystem",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DriverPool",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","CleanupFilesTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$filesystem",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var CleanupFiles\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$object",24],";",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","filesystem",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getMock",28],"(",["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Filesystem",28],["T_DOUBLE_COLON","::",28],["T_CLASS","class",28],",",["T_WHITESPACE"," ",28],"[","]",",",["T_WHITESPACE"," ",28],"[","]",",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","''",28],",",["T_WHITESPACE"," ",28],["T_STRING","false",28],")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","object",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NEW","new",29],["T_WHITESPACE"," ",29],["T_STRING","CleanupFiles",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","filesystem",29],")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testClearCodeGeneratedClasses",32],"(",")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$dir1",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getDirectoryCleanMock",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$dir2",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getDirectoryCleanMock",35],"(",")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","filesystem",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","expects",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","exactly",36],"(",["T_LNUMBER","2",36],")",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","method",37],"(",["T_CONSTANT_ENCAPSED_STRING","'getDirectoryWrite'",37],")",["T_WHITESPACE","\n            ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","will",38],"(",["T_WHITESPACE","\n                ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","returnValueMap",39],"(",["T_WHITESPACE","\n                    ",39],"[",["T_WHITESPACE","\n                        ",40],"[",["T_STRING","DirectoryList",41],["T_DOUBLE_COLON","::",41],["T_STRING","GENERATION",41],",",["T_WHITESPACE"," ",41],["T_STRING","DriverPool",41],["T_DOUBLE_COLON","::",41],["T_STRING","FILE",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$dir1",41],"]",",",["T_WHITESPACE","\n                        ",41],"[",["T_STRING","DirectoryList",42],["T_DOUBLE_COLON","::",42],["T_STRING","DI",42],",",["T_WHITESPACE"," ",42],["T_STRING","DriverPool",42],["T_DOUBLE_COLON","::",42],["T_STRING","FILE",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$dir2",42],"]",",",["T_WHITESPACE","\n                    ",42],"]",["T_WHITESPACE","\n                ",43],")",["T_WHITESPACE","\n            ",44],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","object",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","clearCodeGeneratedClasses",46],"(",")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","testClearMaterializedViewFiles",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$static",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getDirectoryCleanMock",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$var",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getDirectoryCleanMock",52],"(",["T_STRING","DirectoryList",52],["T_DOUBLE_COLON","::",52],["T_STRING","TMP_MATERIALIZATION_DIR",52],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","filesystem",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","expects",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","exactly",53],"(",["T_LNUMBER","2",53],")",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","method",53],"(",["T_CONSTANT_ENCAPSED_STRING","'getDirectoryWrite'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","will",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","returnValueMap",53],"(","[",["T_WHITESPACE","\n            ",53],"[",["T_STRING","DirectoryList",54],["T_DOUBLE_COLON","::",54],["T_STRING","STATIC_VIEW",54],",",["T_WHITESPACE"," ",54],["T_STRING","DriverPool",54],["T_DOUBLE_COLON","::",54],["T_STRING","FILE",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$static",54],"]",",",["T_WHITESPACE","\n            ",54],"[",["T_STRING","DirectoryList",55],["T_DOUBLE_COLON","::",55],["T_STRING","VAR_DIR",55],",",["T_WHITESPACE"," ",55],["T_STRING","DriverPool",55],["T_DOUBLE_COLON","::",55],["T_STRING","FILE",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$var",55],"]",",",["T_WHITESPACE","\n        ",55],"]",")",")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","object",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","clearMaterializedViewFiles",57],"(",")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Gets a mock of directory with expectation to be cleaned\n     *\n     * @param string|null $subPath\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",60],["T_WHITESPACE","\n    ",65],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","getDirectoryCleanMock",66],"(",["T_VARIABLE","$subPath",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","null",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$dir",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMockForAbstractClass",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Filesystem",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Directory",68],["T_NS_SEPARATOR","\\",68],["T_STRING","WriteInterface",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$dir",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","expects",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","once",69],"(",")",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'search'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","with",69],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$subPath",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","willReturn",69],"(","[",["T_CONSTANT_ENCAPSED_STRING","'one'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'two'",69],"]",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$dir",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","exactly",70],"(",["T_LNUMBER","2",70],")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$dir",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","once",71],"(",")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'isExist'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","will",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","returnValue",71],"(",["T_STRING","true",71],")",")",";",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$dir",72],";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n",73],"}",["T_WHITESPACE","\n",74]]