[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Resources and connections registry and factory\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DeploymentConfig",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceConnection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigInterface",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","ResourceConfigInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Type",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Db",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConnectionFactoryInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Config",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ConfigOptionsListConstants",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ResourceConnection",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","AUTO_UPDATE_ONCE",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_LNUMBER","0",17],";",["T_WHITESPACE","\n\n    ",17],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","AUTO_UPDATE_NEVER",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"-",["T_LNUMBER","1",19],";",["T_WHITESPACE","\n\n    ",19],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","AUTO_UPDATE_ALWAYS",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","1",21],";",["T_WHITESPACE","\n\n    ",21],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","DEFAULT_CONNECTION",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'default'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Instances of actual connections\n     *\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface[]\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$connections",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[","]",";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Mapped tables cache array\n     *\n     * @var array\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$mappedTableNames",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Resource config\n     *\n     * @var ResourceConfigInterface\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$config",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Resource connection adapter factory\n     *\n     * @var ConnectionFactoryInterface\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$connectionFactory",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var DeploymentConfig $deploymentConfig\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$deploymentConfig",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$tablePrefix",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @param ResourceConfigInterface $resourceConfig\n     * @param ConnectionFactoryInterface $connectionFactory\n     * @param DeploymentConfig $deploymentConfig\n     * @param string $tablePrefix\n     *\/",63],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_WHITESPACE","\n        ",69],["T_STRING","ResourceConfigInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$resourceConfig",70],",",["T_WHITESPACE","\n        ",70],["T_STRING","ConnectionFactoryInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$connectionFactory",71],",",["T_WHITESPACE","\n        ",71],["T_STRING","DeploymentConfig",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$deploymentConfig",72],",",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$tablePrefix",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","''",73],["T_WHITESPACE","\n    ",73],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","config",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$resourceConfig",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","connectionFactory",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$connectionFactory",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","deploymentConfig",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$deploymentConfig",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","tablePrefix",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$tablePrefix",78],["T_WHITESPACE"," ",78],"?",":",["T_WHITESPACE"," ",78],["T_STRING","null",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Retrieve connection to resource specified by $resourceName\n     *\n     * @param string $resourceName\n     * @return \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     * @throws \\DomainException\n     * @codeCoverageIgnore\n     *\/",81],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getConnection",89],"(",["T_VARIABLE","$resourceName",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","self",89],["T_DOUBLE_COLON","::",89],["T_STRING","DEFAULT_CONNECTION",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$connectionName",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getConnectionName",91],"(",["T_VARIABLE","$resourceName",91],")",";",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getConnectionByName",92],"(",["T_VARIABLE","$connectionName",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @param string $resourceName\n     * @return void\n     *\/",95],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","closeConnection",99],"(",["T_VARIABLE","$resourceName",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","self",99],["T_DOUBLE_COLON","::",99],["T_STRING","DEFAULT_CONNECTION",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$processConnectionName",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getProcessConnectionName",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","config",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getConnectionName",101],"(",["T_VARIABLE","$resourceName",101],")",")",";",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_ISSET","isset",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","connections",102],"[",["T_VARIABLE","$processConnectionName",102],"]",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","connections",103],"[",["T_VARIABLE","$processConnectionName",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Retrieve connection by $connectionName\n     *\n     * @param string $connectionName\n     * @return \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     * @throws \\DomainException\n     *\/",107],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","getConnectionByName",114],"(",["T_VARIABLE","$connectionName",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$processConnectionName",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getProcessConnectionName",116],"(",["T_VARIABLE","$connectionName",116],")",";",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_ISSET","isset",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","connections",117],"[",["T_VARIABLE","$processConnectionName",117],"]",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","connections",118],"[",["T_VARIABLE","$processConnectionName",118],"]",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$connectionConfig",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","deploymentConfig",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","get",121],"(",["T_WHITESPACE","\n            ",121],["T_STRING","ConfigOptionsListConstants",122],["T_DOUBLE_COLON","::",122],["T_STRING","CONFIG_PATH_DB_CONNECTIONS",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'\/'",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_VARIABLE","$connectionName",122],["T_WHITESPACE","\n        ",122],")",";",["T_WHITESPACE","\n\n        ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$connectionConfig",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$connection",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","connectionFactory",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","create",126],"(",["T_VARIABLE","$connectionConfig",126],")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE"," ",127],["T_ELSE","else",127],["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","DomainException",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Connection \"'",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_VARIABLE","$connectionName",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'\" is not defined'",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","connections",131],"[",["T_VARIABLE","$processConnectionName",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$connection",131],";",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$connection",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @param string $connectionName\n     * @return string\n     *\/",135],["T_WHITESPACE","\n    ",138],["T_PRIVATE","private",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getProcessConnectionName",139],"(",["T_VARIABLE","$connectionName",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE","  ",141],["T_VARIABLE","$connectionName",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'_process_'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_STRING","getmypid",141],"(",")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Get resource table name, validated by db adapter\n     *\n     * @param   string|string[] $modelEntity\n     * @param string $connectionName\n     * @return  string\n     * @api\n     *\/",144],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","getTableName",152],"(",["T_VARIABLE","$modelEntity",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$connectionName",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","self",152],["T_DOUBLE_COLON","::",152],["T_STRING","DEFAULT_CONNECTION",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$tableSuffix",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","null",154],";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","is_array",155],"(",["T_VARIABLE","$modelEntity",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_LIST","list",156],"(",["T_VARIABLE","$modelEntity",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$tableSuffix",156],")",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$modelEntity",156],";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$tableName",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$modelEntity",159],";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$mappedTableName",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getMappedTableName",161],"(",["T_VARIABLE","$tableName",161],")",";",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$mappedTableName",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$tableName",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$mappedTableName",163],";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE"," ",164],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$tablePrefix",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getTablePrefix",165],"(",")",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$tablePrefix",166],["T_WHITESPACE"," ",166],["T_BOOLEAN_AND","&&",166],["T_WHITESPACE"," ",166],["T_STRING","strpos",166],"(",["T_VARIABLE","$tableName",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$tablePrefix",166],")",["T_WHITESPACE"," ",166],["T_IS_NOT_IDENTICAL","!==",166],["T_WHITESPACE"," ",166],["T_LNUMBER","0",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$tableName",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$tablePrefix",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_VARIABLE","$tableName",167],";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$tableSuffix",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$tableName",172],["T_WHITESPACE"," ",172],["T_CONCAT_EQUAL",".=",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'_'",172],["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_VARIABLE","$tableSuffix",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getConnection",174],"(",["T_VARIABLE","$connectionName",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getTableName",174],"(",["T_VARIABLE","$tableName",174],")",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Gets table placeholder by table name\n     *\n     * @param string $tableName\n     * @return string\n     *\/",177],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","getTablePlaceholder",183],"(",["T_VARIABLE","$tableName",183],")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$tableName",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","preg_replace",185],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^'",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_STRING","preg_quote",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getTablePrefix",185],"(",")",")",["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'_\/'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$tableName",185],")",";",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$tableName",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Build a trigger name\n     *\n     * @param string $tableName  The table that is the subject of the trigger\n     * @param string $time  Either \"before\" or \"after\"\n     * @param string $event  The DB level event which activates the trigger, i.e. \"update\" or \"insert\"\n     * @return string\n     *\/",189],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getTriggerName",197],"(",["T_VARIABLE","$tableName",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$time",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$event",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getConnection",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","getTriggerName",199],"(",["T_VARIABLE","$tableName",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$time",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$event",199],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Set mapped table name\n     *\n     * @param string $tableName\n     * @param string $mappedName\n     * @return $this\n     * @codeCoverageIgnore\n     *\/",202],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","setMappedTableName",210],"(",["T_VARIABLE","$tableName",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$mappedName",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","mappedTableNames",212],"[",["T_VARIABLE","$tableName",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$mappedName",212],";",["T_WHITESPACE","\n        ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Get mapped table name\n     *\n     * @param string $tableName\n     * @return bool|string\n     *\/",216],["T_WHITESPACE","\n    ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","getMappedTableName",222],"(",["T_VARIABLE","$tableName",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_ISSET","isset",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","mappedTableNames",224],"[",["T_VARIABLE","$tableName",224],"]",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","mappedTableNames",225],"[",["T_VARIABLE","$tableName",225],"]",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_STRING","false",227],";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Retrieve 32bit UNIQUE HASH for a Table index\n     *\n     * @param string $tableName\n     * @param string|string[] $fields\n     * @param string $indexType\n     * @return string\n     *\/",231],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","getIdxName",239],"(",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$tableName",240],",",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$fields",241],",",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$indexType",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Magento",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Framework",242],["T_NS_SEPARATOR","\\",242],["T_STRING","DB",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Adapter",242],["T_NS_SEPARATOR","\\",242],["T_STRING","AdapterInterface",242],["T_DOUBLE_COLON","::",242],["T_STRING","INDEX_TYPE_INDEX",242],["T_WHITESPACE","\n    ",242],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getConnection",244],"(",")",["T_WHITESPACE","\n            ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","getIndexName",245],"(",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getTableName",246],"(",["T_VARIABLE","$tableName",246],")",",",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$fields",247],",",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$indexType",248],["T_WHITESPACE","\n            ",248],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Retrieve 32bit UNIQUE HASH for a Table foreign key\n     *\n     * @param string $priTableName  the target table name\n     * @param string $priColumnName the target table column name\n     * @param string $refTableName  the reference table name\n     * @param string $refColumnName the reference table column name\n     * @return string\n     *\/",252],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","getFkName",261],"(",["T_VARIABLE","$priTableName",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$priColumnName",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$refTableName",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$refColumnName",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getConnection",263],"(",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","getForeignKeyName",263],"(",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getTableName",264],"(",["T_VARIABLE","$priTableName",264],")",",",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$priColumnName",265],",",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getTableName",266],"(",["T_VARIABLE","$refTableName",266],")",",",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$refColumnName",267],["T_WHITESPACE","\n        ",267],")",";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_DOC_COMMENT","\/**\n     * Get table prefix\n     *\n     * @return string\n     *\/",271],["T_WHITESPACE","\n    ",275],["T_PRIVATE","private",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","getTablePrefix",276],"(",")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_STRING","null",278],["T_WHITESPACE"," ",278],["T_IS_IDENTICAL","===",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","tablePrefix",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","tablePrefix",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING_CAST","(string)",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","deploymentConfig",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","get",279],"(",["T_WHITESPACE","\n                ",279],["T_STRING","ConfigOptionsListConstants",280],["T_DOUBLE_COLON","::",280],["T_STRING","CONFIG_PATH_DB_PREFIX",280],["T_WHITESPACE","\n            ",280],")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n        ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","tablePrefix",283],";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n",284],"}",["T_WHITESPACE","\n",285]]