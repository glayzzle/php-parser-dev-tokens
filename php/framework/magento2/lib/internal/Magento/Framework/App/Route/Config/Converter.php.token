[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Routes configuration converter\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Route",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","Converter",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConverterInterface",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * Convert config\n     *\n     * @param \\DOMDocument $source\n     * @return array\n     *\/",12],["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","convert",18],"(",["T_VARIABLE","$source",18],")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$output",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[","]",";",["T_WHITESPACE","\n\n        ",20],["T_DOC_COMMENT","\/** @var \\DOMNodeList $routers *\/",22],["T_WHITESPACE","\n        ",22],["T_VARIABLE","$routers",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$source",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getElementsByTagName",23],"(",["T_CONSTANT_ENCAPSED_STRING","'router'",23],")",";",["T_WHITESPACE","\n\n        ",23],["T_DOC_COMMENT","\/** @var \\DOMNode $router *\/",25],["T_WHITESPACE","\n        ",25],["T_FOREACH","foreach",26],["T_WHITESPACE"," ",26],"(",["T_VARIABLE","$routers",26],["T_WHITESPACE"," ",26],["T_AS","as",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$router",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n            ",26],["T_VARIABLE","$routerConfig",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[","]",";",["T_WHITESPACE","\n            ",27],["T_FOREACH","foreach",28],["T_WHITESPACE"," ",28],"(",["T_VARIABLE","$router",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","attributes",28],["T_WHITESPACE"," ",28],["T_AS","as",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$attribute",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n                ",28],["T_VARIABLE","$routerConfig",29],"[",["T_VARIABLE","$attribute",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","nodeName",29],"]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$attribute",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","nodeValue",29],";",["T_WHITESPACE","\n            ",29],"}",["T_WHITESPACE","\n\n            ",30],["T_DOC_COMMENT","\/** @var \\DOMNode $routeData *\/",32],["T_WHITESPACE","\n            ",32],["T_FOREACH","foreach",33],["T_WHITESPACE"," ",33],"(",["T_VARIABLE","$router",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getElementsByTagName",33],"(",["T_CONSTANT_ENCAPSED_STRING","'route'",33],")",["T_WHITESPACE"," ",33],["T_AS","as",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$routeData",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n                ",33],["T_VARIABLE","$routeConfig",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[","]",";",["T_WHITESPACE","\n                ",34],["T_FOREACH","foreach",35],["T_WHITESPACE"," ",35],"(",["T_VARIABLE","$routeData",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","attributes",35],["T_WHITESPACE"," ",35],["T_AS","as",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$routeAttribute",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n                    ",35],["T_VARIABLE","$routeConfig",36],"[",["T_VARIABLE","$routeAttribute",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","nodeName",36],"]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$routeAttribute",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","nodeValue",36],";",["T_WHITESPACE","\n                ",36],"}",["T_WHITESPACE","\n\n                ",37],["T_DOC_COMMENT","\/** @var \\DOMNode $module *\/",39],["T_WHITESPACE","\n                ",39],["T_FOREACH","foreach",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$routeData",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getElementsByTagName",40],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",40],")",["T_WHITESPACE"," ",40],["T_AS","as",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$moduleData",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n                    ",40],["T_VARIABLE","$moduleConfig",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",";",["T_WHITESPACE","\n                    ",41],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$moduleData",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","attributes",42],["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$moduleAttribute",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n                        ",42],["T_VARIABLE","$moduleConfig",43],"[",["T_VARIABLE","$moduleAttribute",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","nodeName",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$moduleAttribute",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","nodeValue",43],";",["T_WHITESPACE","\n                    ",43],"}",["T_WHITESPACE","\n                    ",44],["T_VARIABLE","$routeConfig",45],"[",["T_CONSTANT_ENCAPSED_STRING","'modules'",45],"]","[","]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$moduleConfig",45],";",["T_WHITESPACE","\n                ",45],"}",["T_WHITESPACE","\n                ",46],["T_VARIABLE","$routeConfig",47],"[",["T_CONSTANT_ENCAPSED_STRING","'modules'",47],"]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_sortModulesList",47],"(",["T_VARIABLE","$routeConfig",47],"[",["T_CONSTANT_ENCAPSED_STRING","'modules'",47],"]",")",";",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$routerConfig",48],"[",["T_CONSTANT_ENCAPSED_STRING","'routes'",48],"]","[",["T_VARIABLE","$routeData",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","attributes",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getNamedItem",48],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","nodeValue",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$routeConfig",48],";",["T_WHITESPACE","\n            ",48],"}",["T_WHITESPACE","\n\n            ",49],["T_VARIABLE","$output",51],"[",["T_VARIABLE","$router",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","attributes",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getNamedItem",51],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","nodeValue",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$routerConfig",51],";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n\n        ",52],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$output",54],";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Sort modules list according to before\/after attributes\n     *\n     * @param array $modulesList\n     * @return array\n     *\/",57],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","_sortModulesList",63],"(",["T_VARIABLE","$modulesList",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$sortedModulesList",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",";",["T_WHITESPACE","\n\n        ",65],["T_FOREACH","foreach",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$modulesList",67],["T_WHITESPACE"," ",67],["T_AS","as",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$moduleData",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_ISSET","isset",68],"(",["T_VARIABLE","$moduleData",68],"[",["T_CONSTANT_ENCAPSED_STRING","'before'",68],"]",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                ",68],["T_VARIABLE","$position",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","array_search",69],"(",["T_VARIABLE","$moduleData",69],"[",["T_CONSTANT_ENCAPSED_STRING","'before'",69],"]",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$sortedModulesList",69],")",";",["T_WHITESPACE","\n                ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$position",70],["T_WHITESPACE"," ",70],["T_IS_IDENTICAL","===",70],["T_WHITESPACE"," ",70],["T_STRING","false",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                    ",70],["T_VARIABLE","$position",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],";",["T_WHITESPACE","\n                ",71],"}",["T_WHITESPACE","\n                ",72],["T_STRING","array_splice",73],"(",["T_VARIABLE","$sortedModulesList",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$position",73],",",["T_WHITESPACE"," ",73],["T_LNUMBER","0",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$moduleData",73],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",73],"]",")",";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE"," ",74],["T_ELSEIF","elseif",74],["T_WHITESPACE"," ",74],"(",["T_ISSET","isset",74],"(",["T_VARIABLE","$moduleData",74],"[",["T_CONSTANT_ENCAPSED_STRING","'after'",74],"]",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$position",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","array_search",75],"(",["T_VARIABLE","$moduleData",75],"[",["T_CONSTANT_ENCAPSED_STRING","'after'",75],"]",",",["T_WHITESPACE"," ",75],["T_VARIABLE","$sortedModulesList",75],")",";",["T_WHITESPACE","\n                ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$position",76],["T_WHITESPACE"," ",76],["T_IS_IDENTICAL","===",76],["T_WHITESPACE"," ",76],["T_STRING","false",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                    ",76],["T_VARIABLE","$position",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","count",77],"(",["T_VARIABLE","$modulesList",77],")",";",["T_WHITESPACE","\n                ",77],"}",["T_WHITESPACE","\n                ",78],["T_STRING","array_splice",79],"(",["T_VARIABLE","$sortedModulesList",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$position",79],["T_WHITESPACE"," ",79],"+",["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],",",["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$moduleData",79],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",79],"]",")",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$sortedModulesList",81],"[","]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$moduleData",81],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",81],"]",";",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$sortedModulesList",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n",86],"}",["T_WHITESPACE","\n",87]]