[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","App",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PageCache",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Builtin cache processor\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Kernel",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\PageCache\\Model\\Cache\\Type\n     *\n     * @deprecated\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$cache",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var Identifier\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$identifier",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Request\\Http\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$request",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\PageCache\\Model\\Cache\\Type\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$fullPageCache",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Serialize\\SerializerInterface\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$serializer",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Http\\Context\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$context",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Http\\ContextFactory\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$contextFactory",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Response\\HttpFactory\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$httpFactory",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @param Cache $cache\n     * @param Identifier $identifier\n     * @param \\Magento\\Framework\\App\\Request\\Http $request\n     * @param \\Magento\\Framework\\App\\Http\\Context|null $context\n     * @param \\Magento\\Framework\\App\\Http\\ContextFactory|null $contextFactory\n     * @param \\Magento\\Framework\\App\\Response\\HttpFactory|null $httpFactory\n     * @param \\Magento\\Framework\\Serialize\\SerializerInterface|null $serializer\n     *\/",55],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","__construct",64],"(",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","App",65],["T_NS_SEPARATOR","\\",65],["T_STRING","PageCache",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Cache",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$cache",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","App",66],["T_NS_SEPARATOR","\\",66],["T_STRING","PageCache",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Identifier",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$identifier",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","App",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Request",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Http",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$request",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","App",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Http",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Context",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$context",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","App",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Http",69],["T_NS_SEPARATOR","\\",69],["T_STRING","ContextFactory",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$contextFactory",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","null",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","App",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Response",70],["T_NS_SEPARATOR","\\",70],["T_STRING","HttpFactory",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$httpFactory",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","null",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Serialize",71],["T_NS_SEPARATOR","\\",71],["T_STRING","SerializerInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$serializer",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],["T_WHITESPACE","\n    ",71],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","cache",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$cache",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","identifier",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$identifier",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","request",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$request",75],";",["T_WHITESPACE","\n\n        ",75],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$context",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","context",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$context",78],";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE"," ",79],["T_ELSE","else",79],["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","context",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","App",80],["T_NS_SEPARATOR","\\",80],["T_STRING","ObjectManager",80],["T_DOUBLE_COLON","::",80],["T_STRING","getInstance",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_WHITESPACE","\n                ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","App",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Http",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Context",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],["T_WHITESPACE","\n            ",81],")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$contextFactory",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","contextFactory",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$contextFactory",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE"," ",86],["T_ELSE","else",86],["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","contextFactory",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","App",87],["T_NS_SEPARATOR","\\",87],["T_STRING","ObjectManager",87],["T_DOUBLE_COLON","::",87],["T_STRING","getInstance",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","get",87],"(",["T_WHITESPACE","\n                ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","App",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Http",88],["T_NS_SEPARATOR","\\",88],["T_STRING","ContextFactory",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],["T_WHITESPACE","\n            ",88],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$httpFactory",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","httpFactory",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$httpFactory",92],";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE"," ",93],["T_ELSE","else",93],["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","httpFactory",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","App",94],["T_NS_SEPARATOR","\\",94],["T_STRING","ObjectManager",94],["T_DOUBLE_COLON","::",94],["T_STRING","getInstance",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","get",94],"(",["T_WHITESPACE","\n                ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","App",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Response",95],["T_NS_SEPARATOR","\\",95],["T_STRING","HttpFactory",95],["T_DOUBLE_COLON","::",95],["T_CLASS","class",95],["T_WHITESPACE","\n            ",95],")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$serializer",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","serializer",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$serializer",99],";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE"," ",100],["T_ELSE","else",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","serializer",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Framework",101],["T_NS_SEPARATOR","\\",101],["T_STRING","App",101],["T_NS_SEPARATOR","\\",101],["T_STRING","ObjectManager",101],["T_DOUBLE_COLON","::",101],["T_STRING","getInstance",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_WHITESPACE","\n                ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Serialize",102],["T_NS_SEPARATOR","\\",102],["T_STRING","SerializerInterface",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],["T_WHITESPACE","\n            ",102],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Load response from cache\n     *\n     * @return \\Magento\\Framework\\App\\Response\\Http|false\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","load",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","request",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","isGet",114],"(",")",["T_WHITESPACE"," ",114],["T_BOOLEAN_OR","||",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","request",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","isHead",114],"(",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$responseData",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","serializer",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","unserialize",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getCache",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","load",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","identifier",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getValue",115],"(",")",")",")",";",["T_WHITESPACE","\n            ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_VARIABLE","$responseData",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","false",117],";",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE","\n\n            ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","buildResponse",120],"(",["T_VARIABLE","$responseData",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","false",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Modify and cache application response\n     *\n     * @param \\Magento\\Framework\\App\\Response\\Http $response\n     * @return void\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","process",131],"(",["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Framework",131],["T_NS_SEPARATOR","\\",131],["T_STRING","App",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Response",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Http",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$response",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_STRING","preg_match",133],"(",["T_CONSTANT_ENCAPSED_STRING","'\/public.*s-maxage=(\\d+)\/'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$response",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getHeader",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getFieldValue",133],"(",")",",",["T_WHITESPACE"," ",133],["T_VARIABLE","$matches",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$maxAge",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$matches",134],"[",["T_LNUMBER","1",134],"]",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$response",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setNoCacheHeaders",135],"(",")",";",["T_WHITESPACE","\n            ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","(",["T_VARIABLE","$response",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getHttpResponseCode",136],"(",")",["T_WHITESPACE"," ",136],["T_IS_EQUAL","==",136],["T_WHITESPACE"," ",136],["T_LNUMBER","200",136],["T_WHITESPACE"," ",136],["T_BOOLEAN_OR","||",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$response",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getHttpResponseCode",136],"(",")",["T_WHITESPACE"," ",136],["T_IS_EQUAL","==",136],["T_WHITESPACE"," ",136],["T_LNUMBER","404",136],")",["T_WHITESPACE","\n                ",136],["T_BOOLEAN_AND","&&",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","request",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","isGet",137],"(",")",["T_WHITESPACE"," ",137],["T_BOOLEAN_OR","||",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","request",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","isHead",137],"(",")",")",["T_WHITESPACE","\n            ",137],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$tagsHeader",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$response",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getHeader",139],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Magento-Tags'",139],")",";",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$tags",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$tagsHeader",140],["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_STRING","explode",140],"(",["T_CONSTANT_ENCAPSED_STRING","','",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$tagsHeader",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getFieldValue",140],"(",")",")",["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],"[","]",";",["T_WHITESPACE","\n\n                ",140],["T_VARIABLE","$response",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","clearHeader",142],"(",["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie'",142],")",";",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$response",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","clearHeader",143],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Magento-Tags'",143],")",";",["T_WHITESPACE","\n                ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_STRING","headers_sent",144],"(",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                    ",144],["T_STRING","header_remove",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie'",145],")",";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n\n                ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getCache",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","save",148],"(",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","serializer",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","serialize",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getPreparedData",149],"(",["T_VARIABLE","$response",149],")",")",",",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","identifier",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getValue",150],"(",")",",",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$tags",151],",",["T_WHITESPACE","\n                    ",151],["T_VARIABLE","$maxAge",152],["T_WHITESPACE","\n                ",152],")",";",["T_WHITESPACE","\n            ",153],"}",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Get prepared data for storage in the cache.\n     *\n     * @param \\Magento\\Framework\\App\\Response\\Http $response\n     * @return array\n     *\/",158],["T_WHITESPACE","\n    ",163],["T_PRIVATE","private",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","getPreparedData",164],"(",["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Framework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","App",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Response",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Http",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$response",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],"[",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'content'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$response",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getContent",167],"(",")",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'status_code'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$response",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getStatusCode",168],"(",")",",",["T_WHITESPACE","\n            ",168],["T_CONSTANT_ENCAPSED_STRING","'headers'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$response",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getHeaders",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","toArray",169],"(",")",",",["T_WHITESPACE","\n            ",169],["T_CONSTANT_ENCAPSED_STRING","'context'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","context",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","toArray",170],"(",")",["T_WHITESPACE","\n        ",170],"]",";",["T_WHITESPACE","\n\n    ",171],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Build response using response data.\n     *\n     * @param array $responseData\n     * @return \\Magento\\Framework\\App\\Response\\Http\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PRIVATE","private",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","buildResponse",181],"(",["T_VARIABLE","$responseData",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$context",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","contextFactory",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","create",183],"(",["T_WHITESPACE","\n            ",183],"[",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'data'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$responseData",185],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",185],"]",",",["T_WHITESPACE","\n                ",185],["T_CONSTANT_ENCAPSED_STRING","'default'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$responseData",186],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",186],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",186],"]",["T_WHITESPACE","\n            ",186],"]",["T_WHITESPACE","\n        ",187],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$response",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","httpFactory",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","create",190],"(",["T_WHITESPACE","\n            ",190],"[",["T_WHITESPACE","\n                ",191],["T_CONSTANT_ENCAPSED_STRING","'context'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$context",192],["T_WHITESPACE","\n            ",192],"]",["T_WHITESPACE","\n        ",193],")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$response",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","setStatusCode",195],"(",["T_VARIABLE","$responseData",195],"[",["T_CONSTANT_ENCAPSED_STRING","'status_code'",195],"]",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$response",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","setContent",196],"(",["T_VARIABLE","$responseData",196],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",196],"]",")",";",["T_WHITESPACE","\n        ",196],["T_FOREACH","foreach",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$responseData",197],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",197],"]",["T_WHITESPACE"," ",197],["T_AS","as",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$headerKey",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$headerValue",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$response",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setHeader",198],"(",["T_VARIABLE","$headerKey",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$headerValue",198],",",["T_WHITESPACE"," ",198],["T_STRING","true",198],")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$response",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * TODO: Workaround to support backwards compatibility, will rework to use Dependency Injection in MAGETWO-49547\n     *\n     * @return \\Magento\\PageCache\\Model\\Cache\\Type\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PRIVATE","private",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getCache",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(","!",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","fullPageCache",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","fullPageCache",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Magento",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Framework",212],["T_NS_SEPARATOR","\\",212],["T_STRING","App",212],["T_NS_SEPARATOR","\\",212],["T_STRING","ObjectManager",212],["T_DOUBLE_COLON","::",212],["T_STRING","getInstance",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","get",212],"(",["T_WHITESPACE","\n                ",212],["T_NS_SEPARATOR","\\",213],["T_STRING","Magento",213],["T_NS_SEPARATOR","\\",213],["T_STRING","PageCache",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Model",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Cache",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Type",213],["T_DOUBLE_COLON","::",213],["T_CLASS","class",213],["T_WHITESPACE","\n            ",213],")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","fullPageCache",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n",217],"}",["T_WHITESPACE","\n",218]]