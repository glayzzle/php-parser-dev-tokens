[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Validation configuration files handler\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Validator",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Validator",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Constraint",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Option",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Validator",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Constraint",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Option",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Callback",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Constraint",12],["T_NS_SEPARATOR","\\",12],["T_STRING","OptionInterface",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Config",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Config",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractXml",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_COMMENT","\/**#@+\n     * Constraints types\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","CONSTRAINT_TYPE_ENTITY",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'entity'",19],";",["T_WHITESPACE","\n\n    ",19],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","CONSTRAINT_TYPE_PROPERTY",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'property'",21],";",["T_WHITESPACE","\n    ",21],["T_COMMENT","\/**#@-*\/",22],["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_defaultBuilderClass",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Framework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Validator",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Builder",27],["T_DOUBLE_COLON","::",27],["T_CLASS","class",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Validator\\UniversalFactory\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_builderFactory",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @param array $configFiles\n     * @param \\Magento\\Framework\\Config\\DomFactory $domFactory\n     * @param \\Magento\\Framework\\Validator\\UniversalFactory $builderFactory\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$configFiles",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Config",41],["T_NS_SEPARATOR","\\",41],["T_STRING","DomFactory",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$domFactory",41],",",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Validator",42],["T_NS_SEPARATOR","\\",42],["T_STRING","UniversalFactory",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$builderFactory",42],["T_WHITESPACE","\n    ",42],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_builderFactory",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$builderFactory",44],";",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_VARIABLE","$configFiles",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$domFactory",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Create validator builder instance based on entity and group.\n     *\n     * @param string $entityName\n     * @param string $groupName\n     * @param array|null $builderConfig\n     * @throws \\InvalidArgumentException\n     * @return \\Magento\\Framework\\Validator\\Builder\n     *\/",48],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","createValidatorBuilder",57],"(",["T_VARIABLE","$entityName",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$groupName",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$builderConfig",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_ISSET","isset",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_data",59],"[",["T_VARIABLE","$entityName",59],"]",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_THROW","throw",60],["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","InvalidArgumentException",60],"(",["T_STRING","sprintf",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown validation entity \"%s\"'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$entityName",60],")",")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n\n        ",61],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_ISSET","isset",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_data",63],"[",["T_VARIABLE","$entityName",63],"]","[",["T_VARIABLE","$groupName",63],"]",")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_THROW","throw",64],["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","InvalidArgumentException",64],"(",["T_WHITESPACE","\n                ",64],["T_STRING","sprintf",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown validation group \"%s\" in entity \"%s\"'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$groupName",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$entityName",65],")",["T_WHITESPACE","\n            ",65],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$builderClass",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ISSET","isset",69],"(",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_data",70],"[",["T_VARIABLE","$entityName",70],"]","[",["T_VARIABLE","$groupName",70],"]","[",["T_CONSTANT_ENCAPSED_STRING","'builder'",70],"]",["T_WHITESPACE","\n        ",70],")",["T_WHITESPACE"," ",71],"?",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_data",71],"[",["T_VARIABLE","$entityName",71],"]","[",["T_VARIABLE","$groupName",71],"]","[",["T_CONSTANT_ENCAPSED_STRING","'builder'",71],"]",["T_WHITESPACE"," ",71],":",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_defaultBuilderClass",71],";",["T_WHITESPACE","\n\n        ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(","!",["T_STRING","class_exists",73],"(",["T_VARIABLE","$builderClass",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","InvalidArgumentException",74],"(",["T_STRING","sprintf",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Builder class \"%s\" was not found'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$builderClass",74],")",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$builder",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_builderFactory",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","create",77],"(",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$builderClass",78],",",["T_WHITESPACE","\n            ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'constraints'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_data",79],"[",["T_VARIABLE","$entityName",79],"]","[",["T_VARIABLE","$groupName",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'constraints'",79],"]","]",["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_VARIABLE","$builder",81],["T_WHITESPACE"," ",81],["T_INSTANCEOF","instanceof",81],["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Validator",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Builder",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_THROW","throw",82],["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","InvalidArgumentException",82],"(",["T_WHITESPACE","\n                ",82],["T_STRING","sprintf",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Builder \"%s\" must extend \\Magento\\Framework\\Validator\\Builder'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$builderClass",83],")",["T_WHITESPACE","\n            ",83],")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$builderConfig",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$builder",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","addConfigurations",87],"(",["T_VARIABLE","$builderConfig",87],")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$builder",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Create validator based on entity and group.\n     *\n     * @param string $entityName\n     * @param string $groupName\n     * @param array|null $builderConfig\n     * @return \\Magento\\Framework\\Validator\n     *\/",92],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","createValidator",100],"(",["T_VARIABLE","$entityName",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$groupName",100],",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$builderConfig",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","null",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","createValidatorBuilder",102],"(",["T_VARIABLE","$entityName",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$groupName",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$builderConfig",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","createValidator",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Extract configuration data from the DOM structure\n     *\n     * @param \\DOMDocument $dom\n     * @return array\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","_extractData",111],"(",["T_NS_SEPARATOR","\\",111],["T_STRING","DOMDocument",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$dom",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$result",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[","]",";",["T_WHITESPACE","\n\n        ",113],["T_DOC_COMMENT","\/** @var \\DOMElement $entity *\/",115],["T_WHITESPACE","\n        ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$dom",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getElementsByTagName",116],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",116],")",["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$entity",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$result",117],"[",["T_VARIABLE","$entity",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getAttribute",117],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",117],")","]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_extractEntityGroupsConstraintsData",117],"(",["T_VARIABLE","$entity",117],")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$result",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Extract constraints associated with entity group using rules\n     *\n     * @param \\DOMElement $entity\n     * @return array\n     *\/",122],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","_extractEntityGroupsConstraintsData",128],"(",["T_NS_SEPARATOR","\\",128],["T_STRING","DOMElement",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$entity",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$result",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],"[","]",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$rulesConstraints",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_extractRulesConstraintsData",131],"(",["T_VARIABLE","$entity",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_DOC_COMMENT","\/** @var \\DOMElement $group *\/",133],["T_WHITESPACE","\n        ",133],["T_FOREACH","foreach",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$entity",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getElementsByTagName",134],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",134],")",["T_WHITESPACE"," ",134],["T_AS","as",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$group",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$groupConstraints",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[","]",";",["T_WHITESPACE","\n\n            ",135],["T_DOC_COMMENT","\/** @var \\DOMElement $use *\/",137],["T_WHITESPACE","\n            ",137],["T_FOREACH","foreach",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$group",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getElementsByTagName",138],"(",["T_CONSTANT_ENCAPSED_STRING","'use'",138],")",["T_WHITESPACE"," ",138],["T_AS","as",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$use",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$ruleName",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$use",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getAttribute",139],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",139],")",";",["T_WHITESPACE","\n                ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_ISSET","isset",140],"(",["T_VARIABLE","$rulesConstraints",140],"[",["T_VARIABLE","$ruleName",140],"]",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                    ",140],["T_VARIABLE","$groupConstraints",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","array_merge",141],"(",["T_VARIABLE","$groupConstraints",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$rulesConstraints",141],"[",["T_VARIABLE","$ruleName",141],"]",")",";",["T_WHITESPACE","\n                ",141],"}",["T_WHITESPACE","\n            ",142],"}",["T_WHITESPACE","\n\n            ",143],["T_VARIABLE","$result",145],"[",["T_VARIABLE","$group",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAttribute",145],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",145],")","]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],"[",["T_CONSTANT_ENCAPSED_STRING","'constraints'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$groupConstraints",145],"]",";",["T_WHITESPACE","\n            ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$group",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","hasAttribute",146],"(",["T_CONSTANT_ENCAPSED_STRING","'builder'",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$result",147],"[",["T_VARIABLE","$group",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getAttribute",147],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",147],")","]","[",["T_CONSTANT_ENCAPSED_STRING","'builder'",147],"]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$group",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getAttribute",147],"(",["T_CONSTANT_ENCAPSED_STRING","'builder'",147],")",";",["T_WHITESPACE","\n            ",147],"}",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n\n        ",149],["T_UNSET","unset",151],"(",["T_VARIABLE","$groupConstraints",151],")",";",["T_WHITESPACE","\n        ",151],["T_UNSET","unset",152],"(",["T_VARIABLE","$rulesConstraints",152],")",";",["T_WHITESPACE","\n\n        ",152],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$result",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Extract constraints associated with rules\n     *\n     * @param \\DOMElement $entity\n     * @return array\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","_extractRulesConstraintsData",163],"(",["T_NS_SEPARATOR","\\",163],["T_STRING","DOMElement",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$entity",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$rules",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],"[","]",";",["T_WHITESPACE","\n        ",165],["T_DOC_COMMENT","\/** @var \\DOMElement $rule *\/",166],["T_WHITESPACE","\n        ",166],["T_FOREACH","foreach",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$entity",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getElementsByTagName",167],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",167],")",["T_WHITESPACE"," ",167],["T_AS","as",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$rule",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$ruleName",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$rule",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getAttribute",168],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",168],")",";",["T_WHITESPACE","\n\n            ",168],["T_DOC_COMMENT","\/** @var \\DOMElement $propertyConstraints *\/",170],["T_WHITESPACE","\n            ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$rule",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getElementsByTagName",171],"(",["T_CONSTANT_ENCAPSED_STRING","'property_constraints'",171],")",["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$propertyConstraints",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_DOC_COMMENT","\/** @var \\DOMElement $property *\/",172],["T_WHITESPACE","\n                ",172],["T_FOREACH","foreach",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$propertyConstraints",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getElementsByTagName",173],"(",["T_CONSTANT_ENCAPSED_STRING","'property'",173],")",["T_WHITESPACE"," ",173],["T_AS","as",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$property",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                    ",173],["T_DOC_COMMENT","\/** @var \\DOMElement $constraint *\/",174],["T_WHITESPACE","\n                    ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$property",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getElementsByTagName",175],"(",["T_CONSTANT_ENCAPSED_STRING","'constraint'",175],")",["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$constraint",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                        ",175],["T_VARIABLE","$rules",176],"[",["T_VARIABLE","$ruleName",176],"]","[","]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],"[",["T_WHITESPACE","\n                            ",176],["T_CONSTANT_ENCAPSED_STRING","'alias'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$constraint",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getAttribute",177],"(",["T_CONSTANT_ENCAPSED_STRING","'alias'",177],")",",",["T_WHITESPACE","\n                            ",177],["T_CONSTANT_ENCAPSED_STRING","'class'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$constraint",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getAttribute",178],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",178],")",",",["T_WHITESPACE","\n                            ",178],["T_CONSTANT_ENCAPSED_STRING","'options'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_extractConstraintOptions",179],"(",["T_VARIABLE","$constraint",179],")",",",["T_WHITESPACE","\n                            ",179],["T_CONSTANT_ENCAPSED_STRING","'property'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$property",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getAttribute",180],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",180],")",",",["T_WHITESPACE","\n                            ",180],["T_CONSTANT_ENCAPSED_STRING","'type'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","CONSTRAINT_TYPE_PROPERTY",181],",",["T_WHITESPACE","\n                        ",181],"]",";",["T_WHITESPACE","\n                    ",182],"}",["T_WHITESPACE","\n                ",183],"}",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n\n            ",185],["T_DOC_COMMENT","\/** @var \\DOMElement $entityConstraints *\/",187],["T_WHITESPACE","\n            ",187],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$rule",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getElementsByTagName",188],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_constraints'",188],")",["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$entityConstraints",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                ",188],["T_DOC_COMMENT","\/** @var \\DOMElement $constraint *\/",189],["T_WHITESPACE","\n                ",189],["T_FOREACH","foreach",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$entityConstraints",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getElementsByTagName",190],"(",["T_CONSTANT_ENCAPSED_STRING","'constraint'",190],")",["T_WHITESPACE"," ",190],["T_AS","as",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$constraint",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$rules",191],"[",["T_VARIABLE","$ruleName",191],"]","[","]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],"[",["T_WHITESPACE","\n                        ",191],["T_CONSTANT_ENCAPSED_STRING","'alias'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$constraint",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getAttribute",192],"(",["T_CONSTANT_ENCAPSED_STRING","'alias'",192],")",",",["T_WHITESPACE","\n                        ",192],["T_CONSTANT_ENCAPSED_STRING","'class'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$constraint",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getAttribute",193],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",193],")",",",["T_WHITESPACE","\n                        ",193],["T_CONSTANT_ENCAPSED_STRING","'options'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_extractConstraintOptions",194],"(",["T_VARIABLE","$constraint",194],")",",",["T_WHITESPACE","\n                        ",194],["T_CONSTANT_ENCAPSED_STRING","'type'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_STRING","self",195],["T_DOUBLE_COLON","::",195],["T_STRING","CONSTRAINT_TYPE_ENTITY",195],",",["T_WHITESPACE","\n                    ",195],"]",";",["T_WHITESPACE","\n                ",196],"}",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$rules",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Extract constraint options.\n     *\n     * @param \\DOMElement $constraint\n     * @return array|null\n     *\/",204],["T_WHITESPACE","\n    ",209],["T_PROTECTED","protected",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","_extractConstraintOptions",210],"(",["T_NS_SEPARATOR","\\",210],["T_STRING","DOMElement",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$constraint",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(","!",["T_VARIABLE","$constraint",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","hasChildNodes",212],"(",")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_STRING","null",213],";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$options",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],"[","]",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$children",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_collectChildren",216],"(",["T_VARIABLE","$constraint",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_DOC_COMMENT","\/**\n         * Read constructor arguments\n         *\n         * <constraint class=\"Constraint\">\n         *     <argument>\n         *         <option name=\"minValue\">123<\/option>\n         *         <option name=\"maxValue\">234<\/option>\n         *     <\/argument>\n         *     <argument>0<\/argument>\n         *     <argument>\n         *         <callback class=\"Class\" method=\"method\" \/>\n         *     <\/argument>\n         * <\/constraint>\n         *\/",218],["T_WHITESPACE","\n        ",231],["T_VARIABLE","$arguments",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_readArguments",232],"(",["T_VARIABLE","$children",232],")",";",["T_WHITESPACE","\n        ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$arguments",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$options",234],"[",["T_CONSTANT_ENCAPSED_STRING","'arguments'",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$arguments",234],";",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n\n        ",235],["T_DOC_COMMENT","\/**\n         * Read constraint configurator callback\n         *\n         * <constraint class=\"Constraint\">\n         *     <callback class=\"Magento\\Foo\\Helper\\Data\" method=\"configureValidator\"\/>\n         * <\/constraint>\n         *\/",237],["T_WHITESPACE","\n        ",243],["T_VARIABLE","$callback",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_readCallback",244],"(",["T_VARIABLE","$children",244],")",";",["T_WHITESPACE","\n        ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$callback",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$options",246],"[",["T_CONSTANT_ENCAPSED_STRING","'callback'",246],"]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$callback",246],";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_DOC_COMMENT","\/**\n         * Read constraint method configuration\n         *\/",249],["T_WHITESPACE","\n        ",251],["T_VARIABLE","$methods",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_readMethods",252],"(",["T_VARIABLE","$children",252],")",";",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$methods",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$options",254],"[",["T_CONSTANT_ENCAPSED_STRING","'methods'",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$methods",254],";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$options",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Get element children.\n     *\n     * @param \\DOMElement $element\n     * @return array\n     *\/",259],["T_WHITESPACE","\n    ",264],["T_PROTECTED","protected",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","_collectChildren",265],"(",["T_VARIABLE","$element",265],")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$children",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],"[","]",";",["T_WHITESPACE","\n        ",267],["T_DOC_COMMENT","\/** @var $node \\DOMElement *\/",268],["T_WHITESPACE","\n        ",268],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$element",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","childNodes",269],["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$node",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_VARIABLE","$node",270],["T_WHITESPACE"," ",270],["T_INSTANCEOF","instanceof",270],["T_WHITESPACE"," ",270],["T_NS_SEPARATOR","\\",270],["T_STRING","DOMElement",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_CONTINUE","continue",271],";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$nodeName",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","strtolower",273],"(",["T_VARIABLE","$node",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","nodeName",273],")",";",["T_WHITESPACE","\n            ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(","!",["T_STRING","array_key_exists",274],"(",["T_VARIABLE","$nodeName",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$children",274],")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$children",275],"[",["T_VARIABLE","$nodeName",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],"[","]",";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$children",277],"[",["T_VARIABLE","$nodeName",277],"]","[","]",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$node",277],";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$children",279],";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Get arguments.\n     *\n     * @param array $children\n     * @return OptionInterface[]|null\n     *\/",282],["T_WHITESPACE","\n    ",287],["T_PROTECTED","protected",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","_readArguments",288],"(",["T_VARIABLE","$children",288],")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_STRING","array_key_exists",290],"(",["T_CONSTANT_ENCAPSED_STRING","'argument'",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$children",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$arguments",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],"[","]",";",["T_WHITESPACE","\n            ",291],["T_DOC_COMMENT","\/** @var $node \\DOMElement *\/",292],["T_WHITESPACE","\n            ",292],["T_FOREACH","foreach",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$children",293],"[",["T_CONSTANT_ENCAPSED_STRING","'argument'",293],"]",["T_WHITESPACE"," ",293],["T_AS","as",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$node",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$nodeChildren",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_collectChildren",294],"(",["T_VARIABLE","$node",294],")",";",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$callback",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_readCallback",295],"(",["T_VARIABLE","$nodeChildren",295],")",";",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$options",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_readOptions",296],"(",["T_VARIABLE","$nodeChildren",296],")",";",["T_WHITESPACE","\n                ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$callback",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                    ",297],["T_VARIABLE","$arguments",298],"[","]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$callback",298],"[",["T_LNUMBER","0",298],"]",";",["T_WHITESPACE","\n                ",298],"}",["T_WHITESPACE"," ",299],["T_ELSEIF","elseif",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$options",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$arguments",300],"[","]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$options",300],";",["T_WHITESPACE","\n                ",300],"}",["T_WHITESPACE"," ",301],["T_ELSE","else",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                    ",301],["T_VARIABLE","$argument",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$node",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","textContent",302],";",["T_WHITESPACE","\n                    ",302],["T_VARIABLE","$arguments",303],"[","]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_NEW","new",303],["T_WHITESPACE"," ",303],["T_STRING","Option",303],"(",["T_STRING","trim",303],"(",["T_VARIABLE","$argument",303],")",")",";",["T_WHITESPACE","\n                ",303],"}",["T_WHITESPACE","\n            ",304],"}",["T_WHITESPACE","\n            ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$arguments",306],";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_STRING","null",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Get callback rules.\n     *\n     * @param array $children\n     * @return Callback[]|null\n     *\/",311],["T_WHITESPACE","\n    ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","_readCallback",317],"(",["T_VARIABLE","$children",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_STRING","array_key_exists",319],"(",["T_CONSTANT_ENCAPSED_STRING","'callback'",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$children",319],")",")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$callbacks",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],"[","]",";",["T_WHITESPACE","\n            ",320],["T_DOC_COMMENT","\/** @var $callbackData \\DOMElement *\/",321],["T_WHITESPACE","\n            ",321],["T_FOREACH","foreach",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$children",322],"[",["T_CONSTANT_ENCAPSED_STRING","'callback'",322],"]",["T_WHITESPACE"," ",322],["T_AS","as",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$callbackData",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                ",322],["T_VARIABLE","$callbacks",323],"[","]",["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_NEW","new",323],["T_WHITESPACE"," ",323],["T_STRING","Callback",323],"(",["T_WHITESPACE","\n                    ",323],"[",["T_STRING","trim",324],"(",["T_VARIABLE","$callbackData",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getAttribute",324],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",324],")",")",",",["T_WHITESPACE"," ",324],["T_STRING","trim",324],"(",["T_VARIABLE","$callbackData",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getAttribute",324],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",324],")",")","]",",",["T_WHITESPACE","\n                    ",324],["T_STRING","null",325],",",["T_WHITESPACE","\n                    ",325],["T_STRING","true",326],["T_WHITESPACE","\n                ",326],")",";",["T_WHITESPACE","\n            ",327],"}",["T_WHITESPACE","\n            ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$callbacks",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_STRING","null",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Get options array.\n     *\n     * @param array $children\n     * @return Option|null\n     *\/",334],["T_WHITESPACE","\n    ",339],["T_PROTECTED","protected",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","_readOptions",340],"(",["T_VARIABLE","$children",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_STRING","array_key_exists",342],"(",["T_CONSTANT_ENCAPSED_STRING","'option'",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$children",342],")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$data",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],"[","]",";",["T_WHITESPACE","\n            ",343],["T_DOC_COMMENT","\/** @var $option \\DOMElement *\/",344],["T_WHITESPACE","\n            ",344],["T_FOREACH","foreach",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$children",345],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",345],"]",["T_WHITESPACE"," ",345],["T_AS","as",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$option",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$value",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","trim",346],"(",["T_VARIABLE","$option",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","textContent",346],")",";",["T_WHITESPACE","\n                ",346],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$option",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","hasAttribute",347],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",347],")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n                    ",347],["T_VARIABLE","$data",348],"[",["T_VARIABLE","$option",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getAttribute",348],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",348],")","]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$value",348],";",["T_WHITESPACE","\n                ",348],"}",["T_WHITESPACE"," ",349],["T_ELSE","else",349],["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                    ",349],["T_VARIABLE","$data",350],"[","]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$value",350],";",["T_WHITESPACE","\n                ",350],"}",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE","\n            ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_STRING","Option",353],"(",["T_VARIABLE","$data",353],")",";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_STRING","null",355],";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Get methods configuration.\n     *\n     * Example of method configuration:\n     * <constraint class=\"Constraint\">\n     *     <method name=\"setMaxValue\">\n     *         <argument>\n     *             <option name=\"minValue\">123<\/option>\n     *             <option name=\"maxValue\">234<\/option>\n     *         <\/argument>\n     *         <argument>0<\/argument>\n     *         <argument>\n     *             <callback class=\"Class\" method=\"method\" \/>\n     *         <\/argument>\n     *     <\/method>\n     * <\/constraint>\n     *\n     * @param array $children\n     * @return array|null\n     *\/",358],["T_WHITESPACE","\n    ",377],["T_PROTECTED","protected",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","_readMethods",378],"(",["T_VARIABLE","$children",378],")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_STRING","array_key_exists",380],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$children",380],")",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n            ",380],["T_VARIABLE","$methods",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],"[","]",";",["T_WHITESPACE","\n            ",381],["T_DOC_COMMENT","\/** @var $method \\DOMElement *\/",382],["T_WHITESPACE","\n            ",382],["T_FOREACH","foreach",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$children",383],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",383],"]",["T_WHITESPACE"," ",383],["T_AS","as",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$method",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_VARIABLE","$children",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_collectChildren",384],"(",["T_VARIABLE","$method",384],")",";",["T_WHITESPACE","\n                ",384],["T_VARIABLE","$methodName",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$method",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getAttribute",385],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",385],")",";",["T_WHITESPACE","\n                ",385],["T_VARIABLE","$methodOptions",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$methodName",386],"]",";",["T_WHITESPACE","\n                ",386],["T_VARIABLE","$arguments",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_readArguments",387],"(",["T_VARIABLE","$children",387],")",";",["T_WHITESPACE","\n                ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$arguments",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                    ",388],["T_VARIABLE","$methodOptions",389],"[",["T_CONSTANT_ENCAPSED_STRING","'arguments'",389],"]",["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$arguments",389],";",["T_WHITESPACE","\n                ",389],"}",["T_WHITESPACE","\n                ",390],["T_VARIABLE","$methods",391],"[",["T_VARIABLE","$methodName",391],"]",["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$methodOptions",391],";",["T_WHITESPACE","\n            ",391],"}",["T_WHITESPACE","\n            ",392],["T_RETURN","return",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$methods",393],";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n        ",394],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_STRING","null",395],";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_DOC_COMMENT","\/**\n     * Get absolute path to validation.xsd\n     *\n     * @return string\n     *\/",398],["T_WHITESPACE","\n    ",402],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","getSchemaFile",403],"(",")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_DIR","__DIR__",405],["T_WHITESPACE"," ",405],".",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'\/etc\/validation.xsd'",405],";",["T_WHITESPACE","\n    ",405],"}",["T_WHITESPACE","\n\n    ",406],["T_DOC_COMMENT","\/**\n     * Get initial XML of a valid document.\n     *\n     * @return string\n     *\/",408],["T_WHITESPACE","\n    ",412],["T_PROTECTED","protected",413],["T_WHITESPACE"," ",413],["T_FUNCTION","function",413],["T_WHITESPACE"," ",413],["T_STRING","_getInitialXml",413],"(",")",["T_WHITESPACE","\n    ",413],"{",["T_WHITESPACE","\n        ",414],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\" encoding=\"UTF-8\"?>'",415],["T_WHITESPACE"," ",415],".",["T_WHITESPACE","\n               ",415],["T_CONSTANT_ENCAPSED_STRING","'<validation xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"><\/validation>'",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Define id attributes for entities\n     *\n     * @return array\n     *\/",419],["T_WHITESPACE","\n    ",423],["T_PROTECTED","protected",424],["T_WHITESPACE"," ",424],["T_FUNCTION","function",424],["T_WHITESPACE"," ",424],["T_STRING","_getIdAttributes",424],"(",")",["T_WHITESPACE","\n    ",424],"{",["T_WHITESPACE","\n        ",425],["T_RETURN","return",426],["T_WHITESPACE"," ",426],"[",["T_WHITESPACE","\n            ",426],["T_CONSTANT_ENCAPSED_STRING","'\/validation\/entity'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'name'",427],",",["T_WHITESPACE","\n            ",427],["T_CONSTANT_ENCAPSED_STRING","'\/validation\/entity\/rules\/rule'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'name'",428],",",["T_WHITESPACE","\n            ",428],["T_CONSTANT_ENCAPSED_STRING","'\/validation\/entity\/rules\/rule\/entity_constraints\/constraint'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'class'",429],",",["T_WHITESPACE","\n            ",429],["T_CONSTANT_ENCAPSED_STRING","'\/validation\/entity\/rules\/rule\/property_constraints\/property\/constraint'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'class'",430],",",["T_WHITESPACE","\n            ",430],["T_CONSTANT_ENCAPSED_STRING","'\/validation\/entity\/rules\/rule\/property_constraints\/property'",431],["T_WHITESPACE"," ",431],["T_DOUBLE_ARROW","=>",431],["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'name'",431],",",["T_WHITESPACE","\n            ",431],["T_CONSTANT_ENCAPSED_STRING","'\/validation\/entity\/groups\/group'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'name'",432],",",["T_WHITESPACE","\n            ",432],["T_CONSTANT_ENCAPSED_STRING","'\/validation\/entity\/groups\/group\/uses\/use'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'rule'",433],["T_WHITESPACE","\n        ",433],"]",";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n",435],"}",["T_WHITESPACE","\n",436]]