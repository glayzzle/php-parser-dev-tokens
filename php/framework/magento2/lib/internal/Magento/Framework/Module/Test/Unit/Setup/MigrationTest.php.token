[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests for resource setup model needed for migration process between Magento versions\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Module",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Unit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Setup",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","MigrationTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Result of update class aliases to compare with expected.\n     * Used in callback for \\Magento\\Framework\\DB\\Select::update.\n     *\n     * @var array\n     *\/",14],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_actualUpdateResult",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Where conditions to compare with expected.\n     * Used in callback for \\Magento\\Framework\\DB\\Select::where.\n     *\n     * @var array\n     *\/",22],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_actualWhere",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Framework\\DB\\Select\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_selectMock",33],";",["T_WHITESPACE","\n\n    ",33],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","tearDown",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_UNSET","unset",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","_actualUpdateResult",37],")",";",["T_WHITESPACE","\n        ",37],["T_UNSET","unset",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","_actualWhere",38],")",";",["T_WHITESPACE","\n        ",38],["T_UNSET","unset",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_selectMock",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Retrieve all necessary objects mocks which used inside customer storage\n     *\n     * @param int $tableRowsCount\n     * @param array $tableData\n     * @param array $aliasesMap\n     *\n     * @return array\n     *\/",42],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","_getModelDependencies",51],"(",["T_VARIABLE","$tableRowsCount",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","0",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$tableData",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$aliasesMap",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_selectMock",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMock",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","DB",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Select",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],",",["T_WHITESPACE"," ",53],"[","]",",",["T_WHITESPACE"," ",53],"[","]",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","''",53],",",["T_WHITESPACE"," ",53],["T_STRING","false",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_selectMock",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","expects",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","any",54],"(",")",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","method",54],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","will",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","returnSelf",54],"(",")",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_selectMock",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","expects",55],"(",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","any",56],"(",")",["T_WHITESPACE","\n        ",56],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","method",57],"(",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","'where'",58],["T_WHITESPACE","\n        ",58],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","will",59],"(",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","returnCallback",60],"(","[",["T_VARIABLE","$this",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'whereCallback'",60],"]",")",["T_WHITESPACE","\n        ",60],")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$connectionMock",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMock",63],"(",["T_WHITESPACE","\n            ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","DB",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Adapter",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Pdo",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Mysql",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],",",["T_WHITESPACE","\n            ",64],"[",["T_CONSTANT_ENCAPSED_STRING","'select'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'update'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'fetchAll'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'fetchOne'",65],"]",",",["T_WHITESPACE","\n            ",65],"[","]",",",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","''",67],",",["T_WHITESPACE","\n            ",67],["T_STRING","false",68],["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$connectionMock",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","any",70],"(",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'select'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","will",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","returnValue",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_selectMock",70],")",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$connectionMock",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","any",72],"(",")",["T_WHITESPACE","\n        ",72],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'update'",74],["T_WHITESPACE","\n        ",74],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","will",75],"(",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","returnCallback",76],"(","[",["T_VARIABLE","$this",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'updateCallback'",76],"]",")",["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$connectionMock",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","expects",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","any",78],"(",")",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","method",78],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchAll'",78],")",["T_OBJECT_OPERATOR","->",78],["T_STRING","will",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","returnValue",78],"(",["T_VARIABLE","$tableData",78],")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$connectionMock",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","any",79],"(",")",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","method",79],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchOne'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","will",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","returnValue",79],"(",["T_VARIABLE","$tableRowsCount",79],")",")",";",["T_WHITESPACE","\n\n        ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],"[",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'resource_config'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'not_used'",82],",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'connection_config'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'not_used'",83],",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'module_config'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'not_used'",84],",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'base_dir'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'not_used'",85],",",["T_WHITESPACE","\n            ",85],["T_CONSTANT_ENCAPSED_STRING","'path_to_map_file'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'not_used'",86],",",["T_WHITESPACE","\n            ",86],["T_CONSTANT_ENCAPSED_STRING","'connection'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$connectionMock",87],",",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'core_helper'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMock",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Json",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Helper",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Data",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","''",88],",",["T_WHITESPACE"," ",88],["T_STRING","false",88],",",["T_WHITESPACE"," ",88],["T_STRING","false",88],")",",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'aliases_map'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$aliasesMap",89],["T_WHITESPACE","\n        ",89],"]",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Callback for \\Magento\\Framework\\DB\\Select::update\n     *\n     * @param string $table\n     * @param array $bind\n     * @param array $where\n     *\/",93],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","updateCallback",100],"(",["T_VARIABLE","$table",100],",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$bind",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$where",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$fields",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","array_keys",102],"(",["T_VARIABLE","$bind",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$replacements",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","array_values",103],"(",["T_VARIABLE","$bind",103],")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_actualUpdateResult",105],"[","]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],"[",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'table'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$table",106],",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'field'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$fields",107],"[",["T_LNUMBER","0",107],"]",",",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'to'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$replacements",108],"[",["T_LNUMBER","0",108],"]",",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'from'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$where",109],",",["T_WHITESPACE","\n        ",109],"]",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Callback for \\Magento\\Framework\\DB\\Select::where\n     *\n     * @param string $condition\n     * @return \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Framework\\DB\\Select\n     *\/",113],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","whereCallback",119],"(",["T_VARIABLE","$condition",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_STRING","null",121],["T_WHITESPACE"," ",121],["T_IS_IDENTICAL","===",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_actualWhere",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_actualWhere",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[","]",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_EMPTY","empty",124],"(",["T_VARIABLE","$condition",124],")",["T_WHITESPACE"," ",124],["T_BOOLEAN_AND","&&",124],["T_WHITESPACE"," ",124],["T_STRING","false",124],["T_WHITESPACE"," ",124],["T_IS_IDENTICAL","===",124],["T_WHITESPACE"," ",124],["T_STRING","strpos",124],"(",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$condition",125],",",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","' IS NOT NULL'",126],["T_WHITESPACE","\n        ",126],")",["T_WHITESPACE"," ",127],["T_BOOLEAN_AND","&&",127],["T_WHITESPACE"," ",127],"!",["T_STRING","in_array",127],"(",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$condition",128],",",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_actualWhere",129],["T_WHITESPACE","\n        ",129],")",["T_WHITESPACE","\n        ",130],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_actualWhere",132],"[","]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$condition",132],";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_selectMock",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Framework\\Module\\Setup\\Migration::appendClassAliasReplace\n     *\/",137],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","testAppendClassAliasReplace",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$setupMock",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMockForAbstractClass",142],"(",["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Setup",142],["T_NS_SEPARATOR","\\",142],["T_STRING","ModuleDataSetupInterface",142],["T_DOUBLE_COLON","::",142],["T_CLASS","class",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$filesystemMock",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMock",143],"(",["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Framework",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Filesystem",143],["T_DOUBLE_COLON","::",143],["T_CLASS","class",143],",",["T_WHITESPACE"," ",143],"[","]",",",["T_WHITESPACE"," ",143],"[","]",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","''",143],",",["T_WHITESPACE"," ",143],["T_STRING","false",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$migrationData",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMock",144],"(",["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Framework",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Module",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Setup",144],["T_NS_SEPARATOR","\\",144],["T_STRING","MigrationData",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],",",["T_WHITESPACE"," ",144],"[","]",",",["T_WHITESPACE"," ",144],"[","]",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","''",144],",",["T_WHITESPACE"," ",144],["T_STRING","false",144],")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$setupModel",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_NEW","new",146],["T_WHITESPACE"," ",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Framework",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Module",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Setup",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Migration",146],"(",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$setupMock",147],",",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$filesystemMock",148],",",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$migrationData",149],",",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'app\/etc\/aliases_to_classes_map.json'",150],["T_WHITESPACE","\n        ",150],")",";",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$setupModel",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","appendClassAliasReplace",153],"(",["T_WHITESPACE","\n            ",153],["T_CONSTANT_ENCAPSED_STRING","'tableName'",154],",",["T_WHITESPACE","\n            ",154],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",155],",",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'entityType'",156],",",["T_WHITESPACE","\n            ",156],["T_CONSTANT_ENCAPSED_STRING","'fieldContentType'",157],",",["T_WHITESPACE","\n            ",157],"[",["T_CONSTANT_ENCAPSED_STRING","'pk_field1'",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'pk_field2'",158],"]",",",["T_WHITESPACE","\n            ",158],["T_CONSTANT_ENCAPSED_STRING","'additionalWhere'",159],["T_WHITESPACE","\n        ",159],")",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$expectedRulesList",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[",["T_WHITESPACE","\n            ",162],["T_CONSTANT_ENCAPSED_STRING","'tableName'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],"[",["T_WHITESPACE","\n                ",163],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],"[",["T_WHITESPACE","\n                    ",164],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'entityType'",165],",",["T_WHITESPACE","\n                    ",165],["T_CONSTANT_ENCAPSED_STRING","'content_type'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'fieldContentType'",166],",",["T_WHITESPACE","\n                    ",166],["T_CONSTANT_ENCAPSED_STRING","'pk_fields'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],"[",["T_CONSTANT_ENCAPSED_STRING","'pk_field1'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'pk_field2'",167],"]",",",["T_WHITESPACE","\n                    ",167],["T_CONSTANT_ENCAPSED_STRING","'additional_where'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'additionalWhere'",168],",",["T_WHITESPACE","\n                ",168],"]",",",["T_WHITESPACE","\n            ",169],"]",",",["T_WHITESPACE","\n        ",170],"]",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertAttributeEquals",173],"(",["T_VARIABLE","$expectedRulesList",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'_replaceRules'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$setupModel",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_COMMENT","\/\/ Check that replace for the same field is not set twice\n",175],["T_WHITESPACE","        ",176],["T_VARIABLE","$setupModel",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","appendClassAliasReplace",176],"(",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'tableName'",177],",",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",178],",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'newEntityType'",179],",",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'newFieldContentType'",180],",",["T_WHITESPACE","\n            ",180],"[",["T_CONSTANT_ENCAPSED_STRING","'new_pk_field1'",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'new_pk_field2'",181],"]",",",["T_WHITESPACE","\n            ",181],["T_CONSTANT_ENCAPSED_STRING","'newAdditionalWhere'",182],["T_WHITESPACE","\n        ",182],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertAttributeEquals",184],"(",["T_VARIABLE","$expectedRulesList",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'_replaceRules'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$setupModel",184],")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * @dataProvider updateClassAliasesDataProvider\n     *\/",187],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","testDoUpdateClassAliases",190],"(",["T_VARIABLE","$replaceRules",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$tableData",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$expected",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$aliasesMap",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],"[","]",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","markTestIncomplete",192],"(",["T_CONSTANT_ENCAPSED_STRING","'Requires refactoring of class that is tested, covers to many methods'",192],")",";",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_actualUpdateResult",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"[","]",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$tableRowsCount",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","count",195],"(",["T_VARIABLE","$tableData",195],")",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$setupMock",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getMockForAbstractClass",197],"(",["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Framework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Setup",197],["T_NS_SEPARATOR","\\",197],["T_STRING","ModuleDataSetupInterface",197],["T_DOUBLE_COLON","::",197],["T_CLASS","class",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$filesystemMock",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getMock",198],"(",["T_NS_SEPARATOR","\\",198],["T_STRING","Magento",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Framework",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Filesystem",198],["T_DOUBLE_COLON","::",198],["T_CLASS","class",198],",",["T_WHITESPACE"," ",198],"[","]",",",["T_WHITESPACE"," ",198],"[","]",",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","''",198],",",["T_WHITESPACE"," ",198],["T_STRING","false",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$migrationData",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getMock",199],"(",["T_NS_SEPARATOR","\\",199],["T_STRING","Magento",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Framework",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Module",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Setup",199],["T_NS_SEPARATOR","\\",199],["T_STRING","MigrationData",199],["T_DOUBLE_COLON","::",199],["T_CLASS","class",199],",",["T_WHITESPACE"," ",199],"[","]",",",["T_WHITESPACE"," ",199],"[","]",",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","''",199],",",["T_WHITESPACE"," ",199],["T_STRING","false",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$setupModel",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_NEW","new",201],["T_WHITESPACE"," ",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Magento",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Framework",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Module",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Setup",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Migration",201],"(",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$setupMock",202],",",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$filesystemMock",203],",",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$migrationData",204],",",["T_WHITESPACE","\n            ",204],["T_CONSTANT_ENCAPSED_STRING","'app\/etc\/aliases_to_classes_map.json'",205],",",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_getModelDependencies",206],"(",["T_VARIABLE","$tableRowsCount",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$tableData",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$aliasesMap",206],")",["T_WHITESPACE","\n        ",206],")",";",["T_WHITESPACE","\n\n        ",207],["T_FOREACH","foreach",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$replaceRules",209],["T_WHITESPACE"," ",209],["T_AS","as",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$replaceRule",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_STRING","call_user_func_array",210],"(","[",["T_VARIABLE","$setupModel",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'appendClassAliasReplace'",210],"]",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$replaceRule",210],")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$setupModel",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","doUpdateClassAliases",213],"(",")",";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertEquals",215],"(",["T_VARIABLE","$expected",215],"[",["T_CONSTANT_ENCAPSED_STRING","'updates'",215],"]",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_actualUpdateResult",215],")",";",["T_WHITESPACE","\n\n        ",215],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_ISSET","isset",217],"(",["T_VARIABLE","$expected",217],"[",["T_CONSTANT_ENCAPSED_STRING","'where'",217],"]",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertEquals",218],"(",["T_VARIABLE","$expected",218],"[",["T_CONSTANT_ENCAPSED_STRING","'where'",218],"]",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_actualWhere",218],")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_ISSET","isset",221],"(",["T_VARIABLE","$expected",221],"[",["T_CONSTANT_ENCAPSED_STRING","'aliases_map'",221],"]",")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertAttributeEquals",222],"(",["T_VARIABLE","$expected",222],"[",["T_CONSTANT_ENCAPSED_STRING","'aliases_map'",222],"]",",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'_aliasesMap'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$setupModel",222],")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Data provider for updating class aliases\n     *\n     * @return array\n     *\/",226],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","updateClassAliasesDataProvider",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],"[",["T_WHITESPACE","\n            ",233],["T_CONSTANT_ENCAPSED_STRING","'plain text replace model'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_INCLUDE","include",234],["T_WHITESPACE"," ",234],["T_DIR","__DIR__",234],["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/data_content_plain_model.php'",234],",",["T_WHITESPACE","\n            ",234],["T_CONSTANT_ENCAPSED_STRING","'plain text replace resource'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_INCLUDE","include",235],["T_WHITESPACE"," ",235],["T_DIR","__DIR__",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/data_content_plain_resource.php'",235],",",["T_WHITESPACE","\n            ",235],["T_CONSTANT_ENCAPSED_STRING","'plain text replace with pk field'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_INCLUDE","include",236],["T_WHITESPACE"," ",236],["T_DIR","__DIR__",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/data_content_plain_pk_fields.php'",236],",",["T_WHITESPACE","\n            ",236],["T_CONSTANT_ENCAPSED_STRING","'xml replace'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_INCLUDE","include",237],["T_WHITESPACE"," ",237],["T_DIR","__DIR__",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/data_content_xml.php'",237],",",["T_WHITESPACE","\n            ",237],["T_CONSTANT_ENCAPSED_STRING","'wiki markup replace'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_INCLUDE","include",238],["T_WHITESPACE"," ",238],["T_DIR","__DIR__",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/data_content_wiki.php'",238],",",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'serialized php replace'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_INCLUDE","include",239],["T_WHITESPACE"," ",239],["T_DIR","__DIR__",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/data_content_serialized.php'",239],["T_WHITESPACE","\n        ",239],"]",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * @return \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Framework\\Filesystem\n     *\/",243],["T_WHITESPACE","\n    ",245],["T_PROTECTED","protected",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","_getFilesystemMock",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$mock",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getMockBuilder",248],"(",["T_NS_SEPARATOR","\\",248],["T_STRING","Magento",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Framework",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Filesystem",248],["T_DOUBLE_COLON","::",248],["T_CLASS","class",248],")",["T_OBJECT_OPERATOR","->",248],["T_STRING","disableOriginalConstructor",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","getMock",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$mock",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n",250],"}",["T_WHITESPACE","\n",251]]