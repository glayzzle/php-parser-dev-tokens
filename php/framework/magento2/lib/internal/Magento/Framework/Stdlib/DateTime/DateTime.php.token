[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Framework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Stdlib",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DateTime",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Date conversion model\n *\n * @author Magento Core Team <core@magentocommerce.com>\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","DateTime",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Current config offset in seconds\n     *\n     * @var int\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PRIVATE","private",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_offset",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","0",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var TimezoneInterface\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_localeDate",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @param TimezoneInterface $localeDate\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","__construct",31],"(",["T_STRING","TimezoneInterface",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$localeDate",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","_localeDate",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$localeDate",33],";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","_offset",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","calculateOffset",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","_localeDate",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getConfigTimezone",34],"(",")",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Calculates timezone offset\n     *\n     * @param  string|null $timezone\n     * @return int offset between timezone and gmt\n     * @api\n     *\/",37],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","calculateOffset",44],"(",["T_VARIABLE","$timezone",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","null",44],")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$result",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","true",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$offset",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_LNUMBER","0",47],";",["T_WHITESPACE","\n        ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$timezone",48],["T_WHITESPACE"," ",48],["T_IS_NOT_IDENTICAL","!==",48],["T_WHITESPACE"," ",48],["T_STRING","null",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$oldZone",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"@",["T_STRING","date_default_timezone_get",49],"(",")",";",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$result",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","date_default_timezone_set",50],"(",["T_VARIABLE","$timezone",50],")",";",["T_WHITESPACE","\n        ",50],"}",["T_WHITESPACE","\n        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$result",52],["T_WHITESPACE"," ",52],["T_IS_IDENTICAL","===",52],["T_WHITESPACE"," ",52],["T_STRING","true",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$offset",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_INT_CAST","(int)",53],["T_STRING","date",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Z'",53],")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$timezone",55],["T_WHITESPACE"," ",55],["T_IS_NOT_IDENTICAL","!==",55],["T_WHITESPACE"," ",55],["T_STRING","null",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_STRING","date_default_timezone_set",56],"(",["T_VARIABLE","$oldZone",56],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$offset",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Forms GMT date\n     *\n     * @param  string $format\n     * @param  int|string $input date in current timezone\n     * @return string\n     *\/",61],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","gmtDate",68],"(",["T_VARIABLE","$format",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$input",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$format",70],["T_WHITESPACE"," ",70],["T_IS_IDENTICAL","===",70],["T_WHITESPACE"," ",70],["T_STRING","null",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$format",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",71],";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$date",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","gmtTimestamp",73],"(",["T_VARIABLE","$input",73],")",";",["T_WHITESPACE","\n        ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$date",74],["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_STRING","false",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_STRING","false",75],";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$result",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","date",77],"(",["T_VARIABLE","$format",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$date",77],")",";",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$result",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Converts input date into date with timezone offset\n     * Input date must be in GMT timezone\n     *\n     * @param  string $format\n     * @param  int|string $input date in GMT timezone\n     * @return string\n     * @api\n     *\/",81],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","date",90],"(",["T_VARIABLE","$format",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","null",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$input",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","null",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$format",92],["T_WHITESPACE"," ",92],["T_IS_IDENTICAL","===",92],["T_WHITESPACE"," ",92],["T_STRING","null",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$format",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",93],";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$result",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","date",95],"(",["T_VARIABLE","$format",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","timestamp",95],"(",["T_VARIABLE","$input",95],")",")",";",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$result",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Forms GMT timestamp\n     *\n     * @param  int|string $input date in current timezone\n     * @return int\n     *\/",99],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","gmtTimestamp",105],"(",["T_VARIABLE","$input",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$input",107],["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_STRING","null",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_INT_CAST","(int)",108],["T_STRING","gmdate",108],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE"," ",109],["T_ELSEIF","elseif",109],["T_WHITESPACE"," ",109],"(",["T_STRING","is_numeric",109],"(",["T_VARIABLE","$input",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$result",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$input",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE"," ",111],["T_ELSE","else",111],["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$result",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","strtotime",112],"(",["T_VARIABLE","$input",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$result",114],["T_WHITESPACE"," ",114],["T_IS_IDENTICAL","===",114],["T_WHITESPACE"," ",114],["T_STRING","false",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_COMMENT","\/\/ strtotime() unable to parse string (it's not a date or has incorrect format)\n",115],["T_WHITESPACE","            ",116],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_STRING","false",116],";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$date",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_localeDate",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","date",118],"(",["T_VARIABLE","$result",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$timestamp",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$date",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getTimestamp",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_UNSET","unset",120],"(",["T_VARIABLE","$date",120],")",";",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$timestamp",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Converts input date into timestamp with timezone offset\n     * Input date must be in GMT timezone\n     *\n     * @param  int|string $input date in GMT timezone\n     * @return int\n     *\/",124],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","timestamp",131],"(",["T_VARIABLE","$input",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","null",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$input",133],["T_WHITESPACE"," ",133],["T_IS_IDENTICAL","===",133],["T_WHITESPACE"," ",133],["T_STRING","null",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$result",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","gmtTimestamp",134],"(",")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE"," ",135],["T_ELSEIF","elseif",135],["T_WHITESPACE"," ",135],"(",["T_STRING","is_numeric",135],"(",["T_VARIABLE","$input",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$result",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$input",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$result",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","strtotime",138],"(",["T_VARIABLE","$input",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$date",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_localeDate",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","date",140],"(",["T_VARIABLE","$result",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$timestamp",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$date",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getTimestamp",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_UNSET","unset",142],"(",["T_VARIABLE","$date",142],")",";",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$timestamp",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Get current timezone offset in seconds\/minutes\/hours\n     *\n     * @param  string $type\n     * @return int\n     * @api\n     *\/",146],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","getGmtOffset",153],"(",["T_VARIABLE","$type",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'seconds'",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$result",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_offset",155],";",["T_WHITESPACE","\n        ",155],["T_SWITCH","switch",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$type",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_CASE","case",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'seconds'",157],":",["T_WHITESPACE","\n            ",157],["T_DEFAULT","default",158],":",["T_WHITESPACE","\n                ",158],["T_BREAK","break",159],";",["T_WHITESPACE","\n            ",159],["T_CASE","case",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'minutes'",160],":",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$result",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$result",161],["T_WHITESPACE"," ",161],"\/",["T_WHITESPACE"," ",161],["T_LNUMBER","60",161],";",["T_WHITESPACE","\n                ",161],["T_BREAK","break",162],";",["T_WHITESPACE","\n            ",162],["T_CASE","case",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'hours'",163],":",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$result",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$result",164],["T_WHITESPACE"," ",164],"\/",["T_WHITESPACE"," ",164],["T_LNUMBER","60",164],["T_WHITESPACE"," ",164],"\/",["T_WHITESPACE"," ",164],["T_LNUMBER","60",164],";",["T_WHITESPACE","\n                ",164],["T_BREAK","break",165],";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$result",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n",168],"}",["T_WHITESPACE","\n",169]]