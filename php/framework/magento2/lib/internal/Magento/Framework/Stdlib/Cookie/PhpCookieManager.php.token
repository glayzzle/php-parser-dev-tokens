[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Framework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Stdlib",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cookie",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InputException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Stdlib",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CookieManagerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Phrase",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * CookieManager helps manage the setting, retrieving and deleting of cookies.\n *\n * To aid in security, the cookie manager will make it possible for the application to indicate if the cookie contains\n * sensitive data so that extra protection can be added to the contents of the cookie as well as how the browser\n * stores the cookie.\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","PhpCookieManager",22],["T_WHITESPACE"," ",22],["T_IMPLEMENTS","implements",22],["T_WHITESPACE"," ",22],["T_STRING","CookieManagerInterface",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_COMMENT","\/**#@+\n     * Constants for Cookie manager.\n     * RFC 2109 - Page 15\n     * http:\/\/www.ietf.org\/rfc\/rfc6265.txt\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","MAX_NUM_COOKIES",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","50",29],";",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","MAX_COOKIE_SIZE",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_LNUMBER","4096",30],";",["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","EXPIRE_NOW_TIME",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_LNUMBER","1",31],";",["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","EXPIRE_AT_END_OF_SESSION_TIME",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_LNUMBER","0",32],";",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/**#@-*\/",33],["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/**#@+\n     * Constant for metadata array key\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","KEY_EXPIRE_TIME",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'expiry'",38],";",["T_WHITESPACE","\n    ",38],["T_COMMENT","\/**#@-*\/",39],["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var CookieScopeInterface\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$scope",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var CookieReaderInterface\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$reader",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param CookieScopeInterface $scope\n     * @param CookieReaderInterface $reader\n     *\/",51],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","__construct",55],"(",["T_STRING","CookieScopeInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$scope",55],",",["T_WHITESPACE"," ",55],["T_STRING","CookieReaderInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$reader",55],")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","scope",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$scope",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","reader",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$reader",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Set a value in a private cookie with the given $name $value pairing.\n     *\n     * Sensitive cookies cannot be accessed by JS. HttpOnly will always be set to true for these cookies.\n     *\n     * @param string $name\n     * @param string $value\n     * @param SensitiveCookieMetadata $metadata\n     * @return void\n     * @throws FailureToSendException Cookie couldn't be sent to the browser.  If this exception isn't thrown,\n     * there is still no guarantee that the browser received and accepted the cookie.\n     * @throws CookieSizeLimitReachedException Thrown when the cookie is too big to store any additional data.\n     * @throws InputException If the cookie name is empty or contains invalid characters.\n     *\/",61],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","setSensitiveCookie",75],"(",["T_VARIABLE","$name",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$value",75],",",["T_WHITESPACE"," ",75],["T_STRING","SensitiveCookieMetadata",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$metadata",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","null",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$metadataArray",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","scope",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getSensitiveCookieMetadata",77],"(",["T_VARIABLE","$metadata",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","__toArray",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setCookie",78],"(",["T_VARIABLE","$name",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$value",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$metadataArray",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Set a value in a public cookie with the given $name $value pairing.\n     *\n     * Public cookies can be accessed by JS. HttpOnly will be set to false by default for these cookies,\n     * but can be changed to true.\n     *\n     * @param string $name\n     * @param string $value\n     * @param PublicCookieMetadata $metadata\n     * @return void\n     * @throws FailureToSendException If cookie couldn't be sent to the browser.\n     * @throws CookieSizeLimitReachedException Thrown when the cookie is too big to store any additional data.\n     * @throws InputException If the cookie name is empty or contains invalid characters.\n     *\/",81],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","setPublicCookie",95],"(",["T_VARIABLE","$name",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$value",95],",",["T_WHITESPACE"," ",95],["T_STRING","PublicCookieMetadata",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$metadata",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","null",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$metadataArray",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","scope",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getPublicCookieMetadata",97],"(",["T_VARIABLE","$metadata",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","__toArray",97],"(",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setCookie",98],"(",["T_VARIABLE","$name",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$value",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$metadataArray",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Set a value in a cookie with the given $name $value pairing.\n     *\n     * @param string $name\n     * @param string $value\n     * @param array $metadataArray\n     * @return void\n     * @throws FailureToSendException If cookie couldn't be sent to the browser.\n     * @throws CookieSizeLimitReachedException Thrown when the cookie is too big to store any additional data.\n     * @throws InputException If the cookie name is empty or contains invalid characters.\n     *\/",101],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","setCookie",112],"(",["T_VARIABLE","$name",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$value",112],",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$metadataArray",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$expire",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","computeExpirationTime",114],"(",["T_VARIABLE","$metadataArray",114],")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","checkAbilityToSendCookie",116],"(",["T_VARIABLE","$name",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$value",116],")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$phpSetcookieSuccess",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","setcookie",118],"(",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$name",119],",",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$value",120],",",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$expire",121],",",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","extractValue",122],"(",["T_STRING","CookieMetadata",122],["T_DOUBLE_COLON","::",122],["T_STRING","KEY_PATH",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$metadataArray",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","''",122],")",",",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","extractValue",123],"(",["T_STRING","CookieMetadata",123],["T_DOUBLE_COLON","::",123],["T_STRING","KEY_DOMAIN",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$metadataArray",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","''",123],")",",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","extractValue",124],"(",["T_STRING","CookieMetadata",124],["T_DOUBLE_COLON","::",124],["T_STRING","KEY_SECURE",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$metadataArray",124],",",["T_WHITESPACE"," ",124],["T_STRING","false",124],")",",",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","extractValue",125],"(",["T_STRING","CookieMetadata",125],["T_DOUBLE_COLON","::",125],["T_STRING","KEY_HTTP_ONLY",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$metadataArray",125],",",["T_WHITESPACE"," ",125],["T_STRING","false",125],")",["T_WHITESPACE","\n        ",125],")",";",["T_WHITESPACE","\n\n        ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_VARIABLE","$phpSetcookieSuccess",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$params",129],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$name",129],";",["T_WHITESPACE","\n            ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$value",130],["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","''",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_THROW","throw",131],["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","FailureToSendException",131],"(",["T_WHITESPACE","\n                    ",131],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_STRING","Phrase",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to delete the cookie with cookieName = %name'",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$params",132],")",["T_WHITESPACE","\n                ",132],")",";",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE"," ",134],["T_ELSE","else",134],["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_THROW","throw",135],["T_WHITESPACE"," ",135],["T_NEW","new",135],["T_WHITESPACE"," ",135],["T_STRING","FailureToSendException",135],"(",["T_WHITESPACE","\n                    ",135],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_STRING","Phrase",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to send the cookie with cookieName = %name'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$params",136],")",["T_WHITESPACE","\n                ",136],")",";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Retrieve the size of a cookie.\n     * The size of a cookie is determined by the length of 'name=value' portion of the cookie.\n     *\n     * @param string $name\n     * @param string $value\n     * @return int\n     *\/",142],["T_WHITESPACE","\n    ",149],["T_PRIVATE","private",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","sizeOfCookie",150],"(",["T_VARIABLE","$name",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$value",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_COMMENT","\/\/ The constant '1' is the length of the equal sign in 'name=value'.\n",152],["T_WHITESPACE","        ",153],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_STRING","strlen",153],"(",["T_VARIABLE","$name",153],")",["T_WHITESPACE"," ",153],"+",["T_WHITESPACE"," ",153],["T_LNUMBER","1",153],["T_WHITESPACE"," ",153],"+",["T_WHITESPACE"," ",153],["T_STRING","strlen",153],"(",["T_VARIABLE","$value",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Determines whether or not it is possible to send the cookie, based on the number of cookies that already\n     * exist and the size of the cookie.\n     *\n     * @param string $name\n     * @param string|null $value\n     * @return void if it is possible to send the cookie\n     * @throws CookieSizeLimitReachedException Thrown when the cookie is too big to store any additional data.\n     * @throws InputException If the cookie name is empty or contains invalid characters.\n     *\/",156],["T_WHITESPACE","\n    ",165],["T_PRIVATE","private",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","checkAbilityToSendCookie",166],"(",["T_VARIABLE","$name",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$value",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$name",168],["T_WHITESPACE"," ",168],["T_IS_EQUAL","==",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","''",168],["T_WHITESPACE"," ",168],["T_BOOLEAN_OR","||",168],["T_WHITESPACE"," ",168],["T_STRING","preg_match",168],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/[=,; \\t\\r\\n\\013\\014]\/\"",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$name",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_THROW","throw",169],["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","InputException",169],"(",["T_WHITESPACE","\n                ",169],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_STRING","Phrase",170],"(",["T_WHITESPACE","\n                    ",170],["T_CONSTANT_ENCAPSED_STRING","'Cookie name cannot be empty and cannot contain these characters: =,; \\\\t\\\\r\\\\n\\\\013\\\\014'",171],["T_WHITESPACE","\n                ",171],")",["T_WHITESPACE","\n            ",172],")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$numCookies",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","count",176],"(",["T_VARIABLE","$_COOKIE",176],")",";",["T_WHITESPACE","\n\n        ",176],["T_IF","if",178],["T_WHITESPACE"," ",178],"(","!",["T_ISSET","isset",178],"(",["T_VARIABLE","$_COOKIE",178],"[",["T_VARIABLE","$name",178],"]",")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$numCookies",179],["T_INC","++",179],";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$sizeOfCookie",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","sizeOfCookie",182],"(",["T_VARIABLE","$name",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$value",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$numCookies",184],["T_WHITESPACE"," ",184],">",["T_WHITESPACE"," ",184],["T_STRING","PhpCookieManager",184],["T_DOUBLE_COLON","::",184],["T_STRING","MAX_NUM_COOKIES",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_THROW","throw",185],["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_STRING","CookieSizeLimitReachedException",185],"(",["T_WHITESPACE","\n                ",185],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Phrase",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to send the cookie. Maximum number of cookies would be exceeded.'",186],")",["T_WHITESPACE","\n            ",186],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$sizeOfCookie",190],["T_WHITESPACE"," ",190],">",["T_WHITESPACE"," ",190],["T_STRING","PhpCookieManager",190],["T_DOUBLE_COLON","::",190],["T_STRING","MAX_COOKIE_SIZE",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_THROW","throw",191],["T_WHITESPACE"," ",191],["T_NEW","new",191],["T_WHITESPACE"," ",191],["T_STRING","CookieSizeLimitReachedException",191],"(",["T_WHITESPACE","\n                ",191],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","Phrase",192],"(",["T_WHITESPACE","\n                    ",192],["T_CONSTANT_ENCAPSED_STRING","'Unable to send the cookie. Size of \\'%name\\' is %size bytes.'",193],",",["T_WHITESPACE","\n                    ",193],"[",["T_WHITESPACE","\n                        ",194],["T_CONSTANT_ENCAPSED_STRING","'name'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$name",195],",",["T_WHITESPACE","\n                        ",195],["T_CONSTANT_ENCAPSED_STRING","'size'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$sizeOfCookie",196],",",["T_WHITESPACE","\n                    ",196],"]",["T_WHITESPACE","\n                ",197],")",["T_WHITESPACE","\n            ",198],")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Determines the expiration time of a cookie.\n     *\n     * @param array $metadataArray\n     * @return int in seconds since the Unix epoch.\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PRIVATE","private",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","computeExpirationTime",209],"(",["T_ARRAY","array",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$metadataArray",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_ISSET","isset",211],"(",["T_VARIABLE","$metadataArray",211],"[",["T_STRING","PhpCookieManager",211],["T_DOUBLE_COLON","::",211],["T_STRING","KEY_EXPIRE_TIME",211],"]",")",["T_WHITESPACE","\n            ",211],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$metadataArray",212],"[",["T_STRING","PhpCookieManager",212],["T_DOUBLE_COLON","::",212],["T_STRING","KEY_EXPIRE_TIME",212],"]",["T_WHITESPACE"," ",212],"<",["T_WHITESPACE"," ",212],["T_STRING","time",212],"(",")",["T_WHITESPACE","\n        ",212],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$expireTime",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$metadataArray",214],"[",["T_STRING","PhpCookieManager",214],["T_DOUBLE_COLON","::",214],["T_STRING","KEY_EXPIRE_TIME",214],"]",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE"," ",215],["T_ELSE","else",215],["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_ISSET","isset",216],"(",["T_VARIABLE","$metadataArray",216],"[",["T_STRING","CookieMetadata",216],["T_DOUBLE_COLON","::",216],["T_STRING","KEY_DURATION",216],"]",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_VARIABLE","$expireTime",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$metadataArray",217],"[",["T_STRING","CookieMetadata",217],["T_DOUBLE_COLON","::",217],["T_STRING","KEY_DURATION",217],"]",["T_WHITESPACE"," ",217],"+",["T_WHITESPACE"," ",217],["T_STRING","time",217],"(",")",";",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$expireTime",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","PhpCookieManager",219],["T_DOUBLE_COLON","::",219],["T_STRING","EXPIRE_AT_END_OF_SESSION_TIME",219],";",["T_WHITESPACE","\n            ",219],"}",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n\n        ",221],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$expireTime",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Determines the value to be used as a $parameter.\n     * If $metadataArray[$parameter] is not set, returns the $defaultValue.\n     *\n     * @param string $parameter\n     * @param array $metadataArray\n     * @param string|boolean|int|null $defaultValue\n     * @return string|boolean|int|null\n     *\/",226],["T_WHITESPACE","\n    ",234],["T_PRIVATE","private",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","extractValue",235],"(",["T_VARIABLE","$parameter",235],",",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$metadataArray",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$defaultValue",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_STRING","array_key_exists",237],"(",["T_VARIABLE","$parameter",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$metadataArray",237],")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$metadataArray",238],"[",["T_VARIABLE","$parameter",238],"]",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE"," ",239],["T_ELSE","else",239],["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$defaultValue",240],";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Retrieve a value from a cookie.\n     *\n     * @param string $name\n     * @param string|null $default The default value to return if no value could be found for the given $name.\n     * @return string|null\n     *\/",244],["T_WHITESPACE","\n    ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","getCookie",251],"(",["T_VARIABLE","$name",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$default",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","null",251],")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","reader",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getCookie",253],"(",["T_VARIABLE","$name",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$default",253],")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Deletes a cookie with the given name.\n     *\n     * @param string $name\n     * @param CookieMetadata $metadata\n     * @return void\n     * @throws FailureToSendException If cookie couldn't be sent to the browser.\n     *     If this exception isn't thrown, there is still no guarantee that the browser\n     *     received and accepted the request to delete this cookie.\n     * @throws InputException If the cookie name is empty or contains invalid characters.\n     *\/",256],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","deleteCookie",267],"(",["T_VARIABLE","$name",267],",",["T_WHITESPACE"," ",267],["T_STRING","CookieMetadata",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$metadata",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","null",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$metadataArray",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","scope",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getCookieMetadata",269],"(",["T_VARIABLE","$metadata",269],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","__toArray",269],"(",")",";",["T_WHITESPACE","\n\n        ",269],["T_COMMENT","\/\/ explicitly set an expiration time in the metadataArray.\n",271],["T_WHITESPACE","        ",272],["T_VARIABLE","$metadataArray",272],"[",["T_STRING","PhpCookieManager",272],["T_DOUBLE_COLON","::",272],["T_STRING","KEY_EXPIRE_TIME",272],"]",["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","PhpCookieManager",272],["T_DOUBLE_COLON","::",272],["T_STRING","EXPIRE_NOW_TIME",272],";",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","checkAbilityToSendCookie",274],"(",["T_VARIABLE","$name",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","''",274],")",";",["T_WHITESPACE","\n\n        ",274],["T_COMMENT","\/\/ cookie value set to empty string to delete from the remote client\n",276],["T_WHITESPACE","        ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","setCookie",277],"(",["T_VARIABLE","$name",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","''",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$metadataArray",277],")",";",["T_WHITESPACE","\n\n        ",277],["T_COMMENT","\/\/ Remove the cookie\n",279],["T_WHITESPACE","        ",280],["T_UNSET","unset",280],"(",["T_VARIABLE","$_COOKIE",280],"[",["T_VARIABLE","$name",280],"]",")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n",281],"}",["T_WHITESPACE","\n",282]]