[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Api",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ExtensionAttribute",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","Converter",8],["T_WHITESPACE"," ",8],["T_IMPLEMENTS","implements",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConverterInterface",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_CONST","const",10],["T_WHITESPACE"," ",10],["T_STRING","RESOURCE_PERMISSIONS",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"resourceRefs\"",10],";",["T_WHITESPACE","\n    ",10],["T_CONST","const",11],["T_WHITESPACE"," ",11],["T_STRING","DATA_TYPE",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_CONSTANT_ENCAPSED_STRING","\"type\"",11],";",["T_WHITESPACE","\n\n    ",11],["T_CONST","const",13],["T_WHITESPACE"," ",13],["T_STRING","JOIN_DIRECTIVE",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"join\"",13],";",["T_WHITESPACE","\n    ",13],["T_CONST","const",14],["T_WHITESPACE"," ",14],["T_STRING","JOIN_REFERENCE_TABLE",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"join_reference_table\"",14],";",["T_WHITESPACE","\n    ",14],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","JOIN_REFERENCE_FIELD",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","\"join_reference_field\"",15],";",["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","JOIN_ON_FIELD",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","\"join_on_field\"",16],";",["T_WHITESPACE","\n\n    ",16],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","JOIN_FIELDS",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","\"fields\"",18],";",["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","JOIN_FIELD",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"field\"",19],";",["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","JOIN_FIELD_COLUMN",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\"column\"",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Convert dom node tree to array\n     *\n     * @param \\DOMDocument $source\n     * @return array\n     *\/",22],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","convert",28],"(",["T_VARIABLE","$source",28],")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$output",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[","]",";",["T_WHITESPACE","\n        ",30],["T_IF","if",31],["T_WHITESPACE"," ",31],"(","!",["T_VARIABLE","$source",31],["T_WHITESPACE"," ",31],["T_INSTANCEOF","instanceof",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","DOMDocument",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n            ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$output",32],";",["T_WHITESPACE","\n        ",32],"}",["T_WHITESPACE","\n\n        ",33],["T_DOC_COMMENT","\/** @var \\DOMNodeList $types *\/",35],["T_WHITESPACE","\n        ",35],["T_VARIABLE","$types",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$source",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getElementsByTagName",36],"(",["T_CONSTANT_ENCAPSED_STRING","'extension_attributes'",36],")",";",["T_WHITESPACE","\n        ",36],["T_DOC_COMMENT","\/** @var \\DOMNode $type *\/",37],["T_WHITESPACE","\n        ",37],["T_FOREACH","foreach",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$types",38],["T_WHITESPACE"," ",38],["T_AS","as",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$type",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$typeConfig",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],"[","]",";",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$typeName",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$type",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getAttribute",40],"(",["T_CONSTANT_ENCAPSED_STRING","'for'",40],")",";",["T_WHITESPACE","\n\n            ",40],["T_VARIABLE","$attributes",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$type",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getElementsByTagName",42],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute'",42],")",";",["T_WHITESPACE","\n            ",42],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$attributes",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$attribute",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n                ",43],["T_VARIABLE","$code",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$attribute",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getAttribute",44],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",44],")",";",["T_WHITESPACE","\n                ",44],["T_VARIABLE","$codeType",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$attribute",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getAttribute",45],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",45],")",";",["T_WHITESPACE","\n\n                ",45],["T_VARIABLE","$resourcesElement",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$attribute",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getElementsByTagName",47],"(",["T_CONSTANT_ENCAPSED_STRING","'resources'",47],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","item",47],"(",["T_LNUMBER","0",47],")",";",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$resourceRefs",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n                ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$resourcesElement",49],["T_WHITESPACE"," ",49],["T_BOOLEAN_AND","&&",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$resourcesElement",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","nodeType",49],["T_WHITESPACE"," ",49],["T_IS_IDENTICAL","===",49],["T_WHITESPACE"," ",49],["T_STRING","XML_ELEMENT_NODE",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                    ",49],["T_VARIABLE","$singleResourceElements",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$resourcesElement",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getElementsByTagName",50],"(",["T_CONSTANT_ENCAPSED_STRING","'resource'",50],")",";",["T_WHITESPACE","\n                    ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$singleResourceElements",51],["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$element",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$element",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","nodeType",52],["T_WHITESPACE"," ",52],["T_IS_NOT_EQUAL","!=",52],["T_WHITESPACE"," ",52],["T_STRING","XML_ELEMENT_NODE",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                            ",52],["T_CONTINUE","continue",53],";",["T_WHITESPACE","\n                        ",53],"}",["T_WHITESPACE","\n                        ",54],["T_VARIABLE","$resourceRefs",55],"[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$element",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","attributes",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getNamedItem",55],"(",["T_CONSTANT_ENCAPSED_STRING","'ref'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","nodeValue",55],";",["T_WHITESPACE","\n                    ",55],"}",["T_WHITESPACE","\n                ",56],"}",["T_WHITESPACE","\n\n                ",57],["T_VARIABLE","$joinElement",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$attribute",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getElementsByTagName",59],"(",["T_CONSTANT_ENCAPSED_STRING","'join'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","item",59],"(",["T_LNUMBER","0",59],")",";",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$join",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","processJoinElement",60],"(",["T_VARIABLE","$joinElement",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$attribute",60],")",";",["T_WHITESPACE","\n\n                ",60],["T_VARIABLE","$typeConfig",62],"[",["T_VARIABLE","$code",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"[",["T_WHITESPACE","\n                    ",62],["T_STRING","self",63],["T_DOUBLE_COLON","::",63],["T_STRING","DATA_TYPE",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$codeType",63],",",["T_WHITESPACE","\n                    ",63],["T_STRING","self",64],["T_DOUBLE_COLON","::",64],["T_STRING","RESOURCE_PERMISSIONS",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$resourceRefs",64],",",["T_WHITESPACE","\n                    ",64],["T_STRING","self",65],["T_DOUBLE_COLON","::",65],["T_STRING","JOIN_DIRECTIVE",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$join",65],",",["T_WHITESPACE","\n                ",65],"]",";",["T_WHITESPACE","\n            ",66],"}",["T_WHITESPACE","\n\n            ",67],["T_VARIABLE","$output",69],"[",["T_VARIABLE","$typeName",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$typeConfig",69],";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n        ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$output",71],";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Process the join element configuration\n     *\n     * @param \\DOMElement $joinElement\n     * @param \\DOMElement $attribute\n     * @return array\n     *\/",74],["T_WHITESPACE","\n    ",80],["T_PRIVATE","private",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","processJoinElement",81],"(",["T_VARIABLE","$joinElement",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$attribute",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$join",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$joinElement",84],["T_WHITESPACE"," ",84],["T_BOOLEAN_AND","&&",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$joinElement",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","nodeType",84],["T_WHITESPACE"," ",84],["T_IS_IDENTICAL","===",84],["T_WHITESPACE"," ",84],["T_STRING","XML_ELEMENT_NODE",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$joinAttributes",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$joinElement",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","attributes",85],";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$join",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n                ",86],["T_STRING","self",87],["T_DOUBLE_COLON","::",87],["T_STRING","JOIN_REFERENCE_TABLE",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$joinAttributes",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getNamedItem",87],"(",["T_CONSTANT_ENCAPSED_STRING","'reference_table'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","nodeValue",87],",",["T_WHITESPACE","\n                ",87],["T_STRING","self",88],["T_DOUBLE_COLON","::",88],["T_STRING","JOIN_ON_FIELD",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$joinAttributes",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getNamedItem",88],"(",["T_CONSTANT_ENCAPSED_STRING","'join_on_field'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","nodeValue",88],",",["T_WHITESPACE","\n                ",88],["T_STRING","self",89],["T_DOUBLE_COLON","::",89],["T_STRING","JOIN_REFERENCE_FIELD",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$joinAttributes",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getNamedItem",89],"(",["T_CONSTANT_ENCAPSED_STRING","'reference_field'",89],")",["T_OBJECT_OPERATOR","->",89],["T_STRING","nodeValue",89],",",["T_WHITESPACE","\n            ",89],"]",";",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$fields",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$attribute",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getElementsByTagName",91],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",91],")",";",["T_WHITESPACE","\n            ",91],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$fields",92],["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$field",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$column",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$field",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getAttribute",93],"(",["T_CONSTANT_ENCAPSED_STRING","'column'",93],")",";",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$join",94],"[",["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","JOIN_FIELDS",94],"]","[","]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_WHITESPACE","\n                    ",94],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","JOIN_FIELD",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$field",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","nodeValue",95],",",["T_WHITESPACE","\n                    ",95],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","JOIN_FIELD_COLUMN",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$column",96],["T_WHITESPACE","\n                ",96],"]",";",["T_WHITESPACE","\n            ",97],"}",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$join",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n",102],"}",["T_WHITESPACE","\n",103]]