[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Unit test class for \\Magento\\Framework\\Api\\ImageContentValidator\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ImageContentValidatorTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ImageContentValidator\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$imageContentValidator",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$objectManager",24],";",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","objectManager",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_NEW","new",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TestFramework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Unit",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Helper",28],["T_NS_SEPARATOR","\\",28],["T_STRING","ObjectManager",28],"(",["T_VARIABLE","$this",28],")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","imageContentValidator",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","objectManager",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getObject",29],"(",["T_WHITESPACE","\r\n            ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Framework",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Api",30],["T_NS_SEPARATOR","\\",30],["T_STRING","ImageContentValidator",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],["T_WHITESPACE","\r\n        ",30],")",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\InputException\n     * @expectedExceptionMessage The image content must be valid base64 encoded data.\n     *\/",34],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testIsValidEmptyContent",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$imageContent",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMockBuilder",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Api",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Data",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ImageContentInterface",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","disableOriginalConstructor",41],"(",")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMock",42],"(",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$imageContent",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","expects",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","any",43],"(",")",")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","method",44],"(",["T_CONSTANT_ENCAPSED_STRING","'getBase64EncodedData'",44],")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","willReturn",45],"(",["T_CONSTANT_ENCAPSED_STRING","''",45],")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","imageContentValidator",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","isValid",47],"(",["T_VARIABLE","$imageContent",47],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\InputException\n     * @expectedExceptionMessage The image content must be valid base64 encoded data.\n     *\/",50],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testIsValidEmptyProperties",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$imageContent",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMockBuilder",56],"(",["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Framework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Api",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Data",56],["T_NS_SEPARATOR","\\",56],["T_STRING","ImageContentInterface",56],["T_DOUBLE_COLON","::",56],["T_CLASS","class",56],")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","disableOriginalConstructor",57],"(",")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$imageContent",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","expects",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","any",59],"(",")",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","method",60],"(",["T_CONSTANT_ENCAPSED_STRING","'getBase64EncodedData'",60],")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","willReturn",61],"(",["T_CONSTANT_ENCAPSED_STRING","'testImageData'",61],")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","imageContentValidator",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isValid",63],"(",["T_VARIABLE","$imageContent",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\InputException\n     * @expectedExceptionMessage The image MIME type is not valid or not supported.\n     *\/",66],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testIsValidInvalidMIMEType",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$pathToImageFile",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_DIR","__DIR__",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/image.jpg'",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$encodedData",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"@",["T_STRING","base64_encode",73],"(",["T_STRING","file_get_contents",73],"(",["T_VARIABLE","$pathToImageFile",73],")",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$imageContent",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMockBuilder",75],"(",["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Framework",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Api",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Data",75],["T_NS_SEPARATOR","\\",75],["T_STRING","ImageContentInterface",75],["T_DOUBLE_COLON","::",75],["T_CLASS","class",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","disableOriginalConstructor",76],"(",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMock",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$imageContent",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","expects",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","any",78],"(",")",")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","method",79],"(",["T_CONSTANT_ENCAPSED_STRING","'getBase64EncodedData'",79],")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","willReturn",80],"(",["T_VARIABLE","$encodedData",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$imageContent",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","expects",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","any",81],"(",")",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","method",82],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",82],")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","willReturn",83],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidType'",83],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","imageContentValidator",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","isValid",85],"(",["T_VARIABLE","$imageContent",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\InputException\n     * @expectedExceptionMessage Provided image name contains forbidden characters.\n     *\/",88],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testIsValidInvalidName",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$pathToImageFile",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_DIR","__DIR__",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/image.jpg'",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$encodedData",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"@",["T_STRING","base64_encode",95],"(",["T_STRING","file_get_contents",95],"(",["T_VARIABLE","$pathToImageFile",95],")",")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$imageContent",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMockBuilder",97],"(",["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Api",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Data",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ImageContentInterface",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","disableOriginalConstructor",98],"(",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMock",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$imageContent",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","expects",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","any",100],"(",")",")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getBase64EncodedData'",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","willReturn",102],"(",["T_VARIABLE","$encodedData",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$imageContent",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","expects",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","any",103],"(",")",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","method",104],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","willReturn",105],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid:Name'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$imageContent",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","expects",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","any",106],"(",")",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","method",107],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","willReturn",108],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","imageContentValidator",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","isValid",110],"(",["T_VARIABLE","$imageContent",110],")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","testIsValid",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$pathToImageFile",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_DIR","__DIR__",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/image.jpg'",115],";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$encodedData",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"@",["T_STRING","base64_encode",116],"(",["T_STRING","file_get_contents",116],"(",["T_VARIABLE","$pathToImageFile",116],")",")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$imageContent",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getMockBuilder",118],"(",["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Framework",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Api",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Data",118],["T_NS_SEPARATOR","\\",118],["T_STRING","ImageContentInterface",118],["T_DOUBLE_COLON","::",118],["T_CLASS","class",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","disableOriginalConstructor",119],"(",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMock",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$imageContent",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","any",121],"(",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'getBase64EncodedData'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_VARIABLE","$encodedData",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$imageContent",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","any",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","willReturn",126],"(",["T_CONSTANT_ENCAPSED_STRING","'validName'",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$imageContent",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","expects",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","any",127],"(",")",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","method",128],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",128],")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","willReturn",129],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertTrue",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","imageContentValidator",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","isValid",131],"(",["T_VARIABLE","$imageContent",131],")",")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n",132],"}",["T_WHITESPACE","\n",133]]