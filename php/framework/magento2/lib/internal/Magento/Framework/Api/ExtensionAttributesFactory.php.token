[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Framework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Api",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Factory class for instantiation of extension attributes objects.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ExtensionAttributesFactory",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_CONST","const",14],["T_WHITESPACE"," ",14],["T_STRING","EXTENSIBLE_INTERFACE_NAME",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Api",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ExtensibleDataInterface",14],["T_DOUBLE_COLON","::",14],["T_CLASS","class",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * Object Manager instance\n     *\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$objectManager",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Map is used for performance optimization.\n     *\n     * @var array\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$classInterfaceMap",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[","]",";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Factory constructor\n     *\n     * @param \\Magento\\Framework\\ObjectManagerInterface $objectManager\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","__construct",35],"(",["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","ObjectManagerInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$objectManager",35],")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","objectManager",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$objectManager",37],";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Create extension attributes object, custom for each extensible class.\n     *\n     * @param string $extensibleClassName\n     * @param array $data\n     * @return object\n     *\/",40],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","create",47],"(",["T_VARIABLE","$extensibleClassName",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$data",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[","]",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$interfaceReflection",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ReflectionClass",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getExtensibleInterfaceName",49],"(",["T_VARIABLE","$extensibleClassName",49],")",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$methodReflection",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$interfaceReflection",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMethod",51],"(",["T_CONSTANT_ENCAPSED_STRING","'getExtensionAttributes'",51],")",";",["T_WHITESPACE","\n        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$methodReflection",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getDeclaringClass",52],"(",")",["T_WHITESPACE"," ",52],["T_IS_EQUAL","==",52],["T_WHITESPACE"," ",52],["T_STRING","self",52],["T_DOUBLE_COLON","::",52],["T_STRING","EXTENSIBLE_INTERFACE_NAME",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_THROW","throw",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","LogicException",53],"(",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","\"Method 'getExtensionAttributes' must be overridden in the interfaces \"",54],["T_WHITESPACE","\n                ",54],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"which extend '\"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","EXTENSIBLE_INTERFACE_NAME",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"'. \"",55],["T_WHITESPACE","\n                ",55],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","\"Concrete return type should be specified.\"",56],["T_WHITESPACE","\n            ",56],")",";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$interfaceName",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_VARIABLE","$interfaceReflection",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getName",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$extensionClassName",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","substr",61],"(",["T_VARIABLE","$interfaceName",61],",",["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],",",["T_WHITESPACE"," ",61],"-",["T_STRING","strlen",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Interface'",61],")",")",["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Extension'",61],";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$extensionInterfaceName",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$extensionClassName",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Interface'",62],";",["T_WHITESPACE","\n\n        ",62],["T_DOC_COMMENT","\/** Ensure that proper return type of getExtensionAttributes() method is specified *\/",64],["T_WHITESPACE","\n        ",64],["T_VARIABLE","$methodDocBlock",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$methodReflection",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getDocComment",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$pattern",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"\/@return\\s+\"",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","str_replace",66],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$extensionInterfaceName",66],")",["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",66],";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_STRING","preg_match",67],"(",["T_VARIABLE","$pattern",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$methodDocBlock",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_THROW","throw",68],["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_NS_SEPARATOR","\\",68],["T_STRING","LogicException",68],"(",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","\"Method 'getExtensionAttributes' must be overridden in the interfaces \"",69],["T_WHITESPACE","\n                ",69],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","\"which extend '\"",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_STRING","EXTENSIBLE_INTERFACE_NAME",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","\"'. \"",70],["T_WHITESPACE","\n                ",70],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","\"Concrete return type must be specified. Please fix :\"",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_VARIABLE","$interfaceName",71],["T_WHITESPACE","\n            ",71],")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$extensionFactoryName",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$extensionClassName",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Factory'",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$extensionFactory",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","objectManager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","create",76],"(",["T_VARIABLE","$extensionFactoryName",76],")",";",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$extensionFactory",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","create",77],"(",["T_VARIABLE","$data",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Identify concrete extensible interface name based on the class name.\n     *\n     * @param string $extensibleClassName\n     * @return string\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getExtensibleInterfaceName",86],"(",["T_VARIABLE","$extensibleClassName",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$exceptionMessage",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"\"",["T_ENCAPSED_AND_WHITESPACE","Class '",88],["T_CURLY_OPEN","{",88],["T_VARIABLE","$extensibleClassName",88],"}",["T_ENCAPSED_AND_WHITESPACE","' must implement an interface, ",88],"\"",["T_WHITESPACE","\n            ",88],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","\"which extends from '\"",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_STRING","self",89],["T_DOUBLE_COLON","::",89],["T_STRING","EXTENSIBLE_INTERFACE_NAME",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","\"'\"",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$notExtensibleClassFlag",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","''",90],";",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","classInterfaceMap",91],"[",["T_VARIABLE","$extensibleClassName",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$notExtensibleClassFlag",92],["T_WHITESPACE"," ",92],["T_IS_IDENTICAL","===",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","classInterfaceMap",92],"[",["T_VARIABLE","$extensibleClassName",92],"]",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_THROW","throw",93],["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","LogicException",93],"(",["T_VARIABLE","$exceptionMessage",93],")",";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE"," ",94],["T_ELSE","else",94],["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","classInterfaceMap",95],"[",["T_VARIABLE","$extensibleClassName",95],"]",";",["T_WHITESPACE","\n            ",95],"}",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$modelReflection",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ReflectionClass",98],"(",["T_VARIABLE","$extensibleClassName",98],")",";",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$modelReflection",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","isInterface",99],"(",")",["T_WHITESPACE","\n            ",99],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$modelReflection",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","isSubClassOf",100],"(",["T_STRING","self",100],["T_DOUBLE_COLON","::",100],["T_STRING","EXTENSIBLE_INTERFACE_NAME",100],")",["T_WHITESPACE","\n            ",100],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$modelReflection",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","hasMethod",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getExtensionAttributes'",101],")",["T_WHITESPACE","\n        ",101],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","classInterfaceMap",103],"[",["T_VARIABLE","$extensibleClassName",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$extensibleClassName",103],";",["T_WHITESPACE","\n            ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","classInterfaceMap",104],"[",["T_VARIABLE","$extensibleClassName",104],"]",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_FOREACH","foreach",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$modelReflection",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getInterfaces",106],"(",")",["T_WHITESPACE"," ",106],["T_AS","as",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$interfaceReflection",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$interfaceReflection",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","isSubclassOf",107],"(",["T_STRING","self",107],["T_DOUBLE_COLON","::",107],["T_STRING","EXTENSIBLE_INTERFACE_NAME",107],")",["T_WHITESPACE","\n                ",107],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$interfaceReflection",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","hasMethod",108],"(",["T_CONSTANT_ENCAPSED_STRING","'getExtensionAttributes'",108],")",["T_WHITESPACE","\n            ",108],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","classInterfaceMap",110],"[",["T_VARIABLE","$extensibleClassName",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$interfaceReflection",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getName",110],"(",")",";",["T_WHITESPACE","\n                ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","classInterfaceMap",111],"[",["T_VARIABLE","$extensibleClassName",111],"]",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","classInterfaceMap",114],"[",["T_VARIABLE","$extensibleClassName",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$notExtensibleClassFlag",114],";",["T_WHITESPACE","\n        ",114],["T_THROW","throw",115],["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_NS_SEPARATOR","\\",115],["T_STRING","LogicException",115],"(",["T_VARIABLE","$exceptionMessage",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n",116],"}",["T_WHITESPACE","\n",117]]