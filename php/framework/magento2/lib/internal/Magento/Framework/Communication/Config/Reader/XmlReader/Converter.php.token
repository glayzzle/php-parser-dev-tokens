[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Communication",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Reader",6],["T_NS_SEPARATOR","\\",6],["T_STRING","XmlReader",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Communication",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigInterface",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","Config",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Phrase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Communication",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ReflectionGenerator",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Stdlib",11],["T_NS_SEPARATOR","\\",11],["T_STRING","BooleanUtils",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Communication",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConfigParser",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Communication",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Config",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Reader",13],["T_NS_SEPARATOR","\\",13],["T_STRING","XmlReader",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Validator",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Converts Communication config from \\DOMDocument to array\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Converter",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Config",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ConverterInterface",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @see ConfigParser::SERVICE_METHOD_NAME_PATTERN\n     *\/",20],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","SERVICE_METHOD_NAME_PATTERN",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'\/^([a-zA-Z\\\\\\\\]+)::([a-zA-Z]+)$\/'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var ReflectionGenerator\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$reflectionGenerator",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var BooleanUtils\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$booleanUtils",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var Validator\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$xmlValidator",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var ConfigParser\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$configParser",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Initialize dependencies\n     *\n     * @param ReflectionGenerator $reflectionGenerator\n     * @param BooleanUtils $booleanUtils\n     * @param Validator $xmlValidator\n     *\/",46],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","__construct",53],"(",["T_WHITESPACE","\n        ",53],["T_STRING","ReflectionGenerator",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$reflectionGenerator",54],",",["T_WHITESPACE","\n        ",54],["T_STRING","BooleanUtils",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$booleanUtils",55],",",["T_WHITESPACE","\n        ",55],["T_STRING","Validator",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$xmlValidator",56],["T_WHITESPACE","\n    ",56],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","reflectionGenerator",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$reflectionGenerator",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","booleanUtils",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$booleanUtils",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","xmlValidator",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$xmlValidator",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * The getter function to get the new ConfigParser dependency.\n     *\n     * @return \\Magento\\Framework\\Communication\\Config\\ConfigParser\n     * @deprecated\n     *\/",63],["T_WHITESPACE","\n    ",68],["T_PRIVATE","private",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","getConfigParser",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","configParser",71],["T_WHITESPACE"," ",71],["T_IS_IDENTICAL","===",71],["T_WHITESPACE"," ",71],["T_STRING","null",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","configParser",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Framework",72],["T_NS_SEPARATOR","\\",72],["T_STRING","App",72],["T_NS_SEPARATOR","\\",72],["T_STRING","ObjectManager",72],["T_DOUBLE_COLON","::",72],["T_STRING","getInstance",72],"(",")",["T_WHITESPACE","\n                ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Communication",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Config",73],["T_NS_SEPARATOR","\\",73],["T_STRING","ConfigParser",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n        ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","configParser",75],";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Convert dom node tree to array\n     *\n     * @param \\DOMDocument $source\n     * @return array\n     *\/",78],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","convert",84],"(",["T_VARIABLE","$source",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$topics",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","extractTopics",86],"(",["T_VARIABLE","$source",86],")",";",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],"[",["T_WHITESPACE","\n            ",87],["T_STRING","Config",88],["T_DOUBLE_COLON","::",88],["T_STRING","TOPICS",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$topics",88],",",["T_WHITESPACE","\n        ",88],"]",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Extract topics configuration.\n     *\n     * @param \\DOMDocument $config\n     * @return array\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","extractTopics",98],"(",["T_VARIABLE","$config",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$output",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[","]",";",["T_WHITESPACE","\n        ",100],["T_DOC_COMMENT","\/** @var $topicNode \\DOMNode *\/",101],["T_WHITESPACE","\n        ",101],["T_FOREACH","foreach",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$config",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getElementsByTagName",102],"(",["T_CONSTANT_ENCAPSED_STRING","'topic'",102],")",["T_WHITESPACE"," ",102],["T_AS","as",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$topicNode",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$topicAttributes",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$topicNode",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","attributes",103],";",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$topicName",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$topicAttributes",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getNamedItem",104],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","nodeValue",104],";",["T_WHITESPACE","\n\n            ",104],["T_VARIABLE","$serviceMethod",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getServiceMethodBySchema",106],"(",["T_VARIABLE","$topicNode",106],")",";",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$requestResponseSchema",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$serviceMethod",107],["T_WHITESPACE","\n                ",107],"?",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","reflectionGenerator",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","extractMethodMetadata",108],"(",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$serviceMethod",109],"[",["T_STRING","ConfigParser",109],["T_DOUBLE_COLON","::",109],["T_STRING","TYPE_NAME",109],"]",",",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$serviceMethod",110],"[",["T_STRING","ConfigParser",110],["T_DOUBLE_COLON","::",110],["T_STRING","METHOD_NAME",110],"]",["T_WHITESPACE","\n                ",110],")",["T_WHITESPACE","\n                ",111],":",["T_WHITESPACE"," ",112],["T_STRING","null",112],";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$requestSchema",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","extractTopicRequestSchema",113],"(",["T_VARIABLE","$topicNode",113],")",";",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$responseSchema",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","extractTopicResponseSchema",114],"(",["T_VARIABLE","$topicNode",114],")",";",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$handlers",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","extractTopicResponseHandlers",115],"(",["T_VARIABLE","$topicNode",115],")",";",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","xmlValidator",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","validateResponseRequest",116],"(",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$requestResponseSchema",117],",",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$requestSchema",118],",",["T_WHITESPACE","\n                ",118],["T_VARIABLE","$topicName",119],",",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$responseSchema",120],",",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$handlers",121],["T_WHITESPACE","\n            ",121],")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","xmlValidator",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","validateDeclarationOfTopic",123],"(",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$requestResponseSchema",124],",",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$topicName",125],",",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$requestSchema",126],",",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$responseSchema",127],["T_WHITESPACE","\n            ",127],")",";",["T_WHITESPACE","\n            ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$serviceMethod",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$output",130],"[",["T_VARIABLE","$topicName",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","reflectionGenerator",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","generateTopicConfigForServiceMethod",130],"(",["T_WHITESPACE","\n                    ",130],["T_VARIABLE","$topicName",131],",",["T_WHITESPACE","\n                    ",131],["T_VARIABLE","$serviceMethod",132],"[",["T_STRING","ConfigParser",132],["T_DOUBLE_COLON","::",132],["T_STRING","TYPE_NAME",132],"]",",",["T_WHITESPACE","\n                    ",132],["T_VARIABLE","$serviceMethod",133],"[",["T_STRING","ConfigParser",133],["T_DOUBLE_COLON","::",133],["T_STRING","METHOD_NAME",133],"]",",",["T_WHITESPACE","\n                    ",133],["T_VARIABLE","$handlers",134],["T_WHITESPACE","\n                ",134],")",";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE"," ",136],["T_ELSE","else",136],["T_WHITESPACE"," ",136],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$requestSchema",136],["T_WHITESPACE"," ",136],["T_BOOLEAN_AND","&&",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$responseSchema",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$output",137],"[",["T_VARIABLE","$topicName",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[",["T_WHITESPACE","\n                    ",137],["T_STRING","Config",138],["T_DOUBLE_COLON","::",138],["T_STRING","TOPIC_NAME",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$topicName",138],",",["T_WHITESPACE","\n                    ",138],["T_STRING","Config",139],["T_DOUBLE_COLON","::",139],["T_STRING","TOPIC_IS_SYNCHRONOUS",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_STRING","true",139],",",["T_WHITESPACE","\n                    ",139],["T_STRING","Config",140],["T_DOUBLE_COLON","::",140],["T_STRING","TOPIC_REQUEST",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$requestSchema",140],",",["T_WHITESPACE","\n                    ",140],["T_STRING","Config",141],["T_DOUBLE_COLON","::",141],["T_STRING","TOPIC_REQUEST_TYPE",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_STRING","Config",141],["T_DOUBLE_COLON","::",141],["T_STRING","TOPIC_REQUEST_TYPE_CLASS",141],",",["T_WHITESPACE","\n                    ",141],["T_STRING","Config",142],["T_DOUBLE_COLON","::",142],["T_STRING","TOPIC_RESPONSE",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$responseSchema",142],",",["T_WHITESPACE","\n                    ",142],["T_STRING","Config",143],["T_DOUBLE_COLON","::",143],["T_STRING","TOPIC_HANDLERS",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$handlers",143],["T_WHITESPACE","\n                ",143],"]",";",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE"," ",145],["T_ELSE","else",145],["T_WHITESPACE"," ",145],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$requestSchema",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$output",146],"[",["T_VARIABLE","$topicName",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],"[",["T_WHITESPACE","\n                    ",146],["T_STRING","Config",147],["T_DOUBLE_COLON","::",147],["T_STRING","TOPIC_NAME",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$topicName",147],",",["T_WHITESPACE","\n                    ",147],["T_STRING","Config",148],["T_DOUBLE_COLON","::",148],["T_STRING","TOPIC_IS_SYNCHRONOUS",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_STRING","false",148],",",["T_WHITESPACE","\n                    ",148],["T_STRING","Config",149],["T_DOUBLE_COLON","::",149],["T_STRING","TOPIC_REQUEST",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$requestSchema",149],",",["T_WHITESPACE","\n                    ",149],["T_STRING","Config",150],["T_DOUBLE_COLON","::",150],["T_STRING","TOPIC_REQUEST_TYPE",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_STRING","Config",150],["T_DOUBLE_COLON","::",150],["T_STRING","TOPIC_REQUEST_TYPE_CLASS",150],",",["T_WHITESPACE","\n                    ",150],["T_STRING","Config",151],["T_DOUBLE_COLON","::",151],["T_STRING","TOPIC_RESPONSE",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","null",151],",",["T_WHITESPACE","\n                    ",151],["T_STRING","Config",152],["T_DOUBLE_COLON","::",152],["T_STRING","TOPIC_HANDLERS",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$handlers",152],["T_WHITESPACE","\n                ",152],"]",";",["T_WHITESPACE","\n            ",153],"}",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$output",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Extract response handlers.\n     *\n     * @param \\DOMNode $topicNode\n     * @return array List of handlers, each contain service name and method name\n     *\/",159],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","extractTopicResponseHandlers",165],"(",["T_VARIABLE","$topicNode",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$topicName",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$topicNode",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","attributes",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getNamedItem",167],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",167],")",["T_OBJECT_OPERATOR","->",167],["T_STRING","nodeValue",167],";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$topicChildNodes",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$topicNode",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","childNodes",168],";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$handlerNodes",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n        ",169],["T_DOC_COMMENT","\/** @var \\DOMNode $topicChildNode *\/",170],["T_WHITESPACE","\n        ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$topicChildNodes",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$topicChildNode",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$topicChildNode",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","nodeName",172],["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'handler'",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$handlerAttributes",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$topicChildNode",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","attributes",173],";",["T_WHITESPACE","\n                ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$handlerAttributes",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getNamedItem",174],"(",["T_CONSTANT_ENCAPSED_STRING","'disabled'",174],")",["T_WHITESPACE","\n                    ",174],["T_BOOLEAN_AND","&&",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","booleanUtils",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","toBoolean",175],"(",["T_VARIABLE","$handlerAttributes",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getNamedItem",175],"(",["T_CONSTANT_ENCAPSED_STRING","'disabled'",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","nodeValue",175],")",["T_WHITESPACE","\n                ",175],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_CONTINUE","continue",177],";",["T_WHITESPACE","\n                ",177],"}",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$handlerName",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$handlerAttributes",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getNamedItem",179],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","nodeValue",179],";",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$serviceType",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$handlerAttributes",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getNamedItem",180],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",180],")",["T_OBJECT_OPERATOR","->",180],["T_STRING","nodeValue",180],";",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$methodName",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$handlerAttributes",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getNamedItem",181],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",181],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","nodeValue",181],";",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","xmlValidator",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","validateResponseHandlersType",182],"(",["T_VARIABLE","$serviceType",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$methodName",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$handlerName",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$topicName",182],")",";",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$handlerNodes",183],"[",["T_VARIABLE","$handlerName",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],"[",["T_WHITESPACE","\n                    ",183],["T_STRING","Config",184],["T_DOUBLE_COLON","::",184],["T_STRING","HANDLER_TYPE",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$serviceType",184],",",["T_WHITESPACE","\n                    ",184],["T_STRING","Config",185],["T_DOUBLE_COLON","::",185],["T_STRING","HANDLER_METHOD",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$methodName",185],["T_WHITESPACE","\n                ",185],"]",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$handlerNodes",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Extract request schema class name.\n     *\n     * @param \\DOMNode $topicNode\n     * @return string|null\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","extractTopicRequestSchema",198],"(",["T_VARIABLE","$topicNode",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$topicAttributes",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$topicNode",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","attributes",200],";",["T_WHITESPACE","\n        ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_VARIABLE","$topicAttributes",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getNamedItem",201],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_STRING","null",202],";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$topicName",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$topicAttributes",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getNamedItem",204],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",204],")",["T_OBJECT_OPERATOR","->",204],["T_STRING","nodeValue",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$requestSchema",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$topicAttributes",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getNamedItem",205],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",205],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","nodeValue",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","xmlValidator",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","validateRequestSchemaType",206],"(",["T_VARIABLE","$requestSchema",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$topicName",206],")",";",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$requestSchema",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Extract response schema class name.\n     *\n     * @param \\DOMNode $topicNode\n     * @return string|null\n     *\/",210],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","extractTopicResponseSchema",216],"(",["T_VARIABLE","$topicNode",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$topicAttributes",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$topicNode",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","attributes",218],";",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_VARIABLE","$topicAttributes",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getNamedItem",219],"(",["T_CONSTANT_ENCAPSED_STRING","'response'",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_STRING","null",220],";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$topicName",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$topicAttributes",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getNamedItem",222],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",222],")",["T_OBJECT_OPERATOR","->",222],["T_STRING","nodeValue",222],";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$responseSchema",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$topicAttributes",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getNamedItem",223],"(",["T_CONSTANT_ENCAPSED_STRING","'response'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","nodeValue",223],";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","xmlValidator",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","validateResponseSchemaType",224],"(",["T_VARIABLE","$responseSchema",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$topicName",224],")",";",["T_WHITESPACE","\n        ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$responseSchema",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Get service class and method specified in schema attribute.\n     *\n     * @param \\DOMNode $topicNode\n     * @return array|null Contains class name and method name\n     *\/",228],["T_WHITESPACE","\n    ",233],["T_PROTECTED","protected",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getServiceMethodBySchema",234],"(",["T_VARIABLE","$topicNode",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$topicAttributes",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$topicNode",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","attributes",236],";",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(","!",["T_VARIABLE","$topicAttributes",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getNamedItem",237],"(",["T_CONSTANT_ENCAPSED_STRING","'schema'",237],")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_STRING","null",238],";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$topicName",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$topicAttributes",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getNamedItem",240],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",240],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","nodeValue",240],";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$serviceMethod",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$topicAttributes",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getNamedItem",241],"(",["T_CONSTANT_ENCAPSED_STRING","'schema'",241],")",["T_OBJECT_OPERATOR","->",241],["T_STRING","nodeValue",241],";",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","parseServiceMethod",242],"(",["T_VARIABLE","$serviceMethod",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$topicName",242],")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Parse service method name, also ensure that it exists.\n     *\n     * @param string $serviceMethod\n     * @param string $topicName\n     * @return array Contains class name and method name\n     *\/",245],["T_WHITESPACE","\n    ",251],["T_PROTECTED","protected",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","parseServiceMethod",252],"(",["T_VARIABLE","$serviceMethod",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$topicName",252],")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$parsedServiceMethod",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getConfigParser",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","parseServiceMethod",254],"(",["T_VARIABLE","$serviceMethod",254],")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","xmlValidator",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","validateServiceMethod",255],"(",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$serviceMethod",256],",",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$topicName",257],",",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$parsedServiceMethod",258],"[",["T_STRING","ConfigParser",258],["T_DOUBLE_COLON","::",258],["T_STRING","TYPE_NAME",258],"]",",",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$parsedServiceMethod",259],"[",["T_STRING","ConfigParser",259],["T_DOUBLE_COLON","::",259],["T_STRING","METHOD_NAME",259],"]",["T_WHITESPACE","\n        ",259],")",";",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$parsedServiceMethod",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n",262],"}",["T_WHITESPACE","\n",263]]