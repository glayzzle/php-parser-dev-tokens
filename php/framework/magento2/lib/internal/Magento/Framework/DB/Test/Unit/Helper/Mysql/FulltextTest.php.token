[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DB",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Mysql",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DB",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Mysql",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Fulltext",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DB",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Select",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Unit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ObjectManager",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FulltextTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_PUBLIC","public",14],["T_WHITESPACE"," ",14],["T_FUNCTION","function",14],["T_WHITESPACE"," ",14],["T_STRING","testGetMatchQuery",14],"(",")",["T_WHITESPACE","\n    ",14],"{",["T_WHITESPACE","\n        ",15],["T_DOC_COMMENT","\/** @var Fulltext $select *\/",16],["T_WHITESPACE","\n        ",16],["T_VARIABLE","$select",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"(",["T_NEW","new",17],["T_WHITESPACE"," ",17],["T_STRING","ObjectManager",17],"(",["T_VARIABLE","$this",17],")",")",["T_OBJECT_OPERATOR","->",17],["T_STRING","getObject",17],"(",["T_WHITESPACE","\n            ",17],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DB",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Helper",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Mysql",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Fulltext",18],["T_DOUBLE_COLON","::",18],["T_CLASS","class",18],",",["T_WHITESPACE","\n            ",18],"[",["T_CONSTANT_ENCAPSED_STRING","'resource'",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","getResourceMock",19],"(",")","]",["T_WHITESPACE","\n        ",19],")",";",["T_WHITESPACE","\n\n        ",20],["T_VARIABLE","$result",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$select",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getMatchQuery",22],"(",["T_WHITESPACE","\n            ",22],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'description'",23],"]",",",["T_WHITESPACE","\n            ",23],["T_CONSTANT_ENCAPSED_STRING","'some searchable text'",24],",",["T_WHITESPACE","\n            ",24],["T_STRING","Fulltext",25],["T_DOUBLE_COLON","::",25],["T_STRING","FULLTEXT_MODE_NATURAL",25],["T_WHITESPACE","\n        ",25],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$expectedResult",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"MATCH (title, description) AGAINST ('some searchable text' IN NATURAL LANGUAGE MODE)\"",27],";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertEquals",29],"(",["T_VARIABLE","$expectedResult",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$result",29],")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @param $isCondition\n     * @dataProvider matchProvider\n     *\/",32],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","testMatch",36],"(",["T_VARIABLE","$isCondition",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$fullCondition",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"MATCH (title, description) AGAINST ('some searchable text' IN NATURAL LANGUAGE MODE)\"",38],";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$resource",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getResourceMock",40],"(",")",";",["T_WHITESPACE","\n\n        ",40],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\DB\\Select|\\PHPUnit_Framework_MockObject_MockObject $select *\/",42],["T_WHITESPACE","\n        ",42],["T_VARIABLE","$select",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMockBuilder",43],"(",["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","DB",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Select",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","disableOriginalConstructor",44],"(",")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMock",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$select",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","expects",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","once",46],"(",")",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","method",47],"(",["T_VARIABLE","$isCondition",47],["T_WHITESPACE"," ",47],"?",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'where'",47],["T_WHITESPACE"," ",47],":",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'orWhere'",47],")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","with",48],"(",["T_VARIABLE","$fullCondition",48],")",";",["T_WHITESPACE","\n\n        ",48],["T_DOC_COMMENT","\/** @var Fulltext $fulltext *\/",50],["T_WHITESPACE","\n        ",50],["T_VARIABLE","$fulltext",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"(",["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","ObjectManager",51],"(",["T_VARIABLE","$this",51],")",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","getObject",51],"(",["T_WHITESPACE","\n            ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","DB",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Helper",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Mysql",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Fulltext",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],",",["T_WHITESPACE","\n            ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'resource'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$resource",53],"]",["T_WHITESPACE","\n        ",53],")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$result",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$fulltext",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","match",56],"(",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$select",57],",",["T_WHITESPACE","\n            ",57],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'description'",58],"]",",",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'some searchable text'",59],",",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$isCondition",60],",",["T_WHITESPACE","\n            ",60],["T_STRING","Fulltext",61],["T_DOUBLE_COLON","::",61],["T_STRING","FULLTEXT_MODE_NATURAL",61],["T_WHITESPACE","\n        ",61],")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEquals",64],"(",["T_VARIABLE","$select",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$result",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","matchProvider",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],"[","[",["T_STRING","true",69],"]",",",["T_WHITESPACE"," ",69],"[",["T_STRING","false",69],"]","]",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getResourceMock",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$connection",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMockBuilder",77],"(",["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","DB",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Adapter",77],["T_NS_SEPARATOR","\\",77],["T_STRING","AdapterInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","disableOriginalConstructor",78],"(",")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMockForAbstractClass",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$connection",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","expects",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","at",80],"(",["T_LNUMBER","0",80],")",")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","method",81],"(",["T_CONSTANT_ENCAPSED_STRING","'quote'",81],")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","with",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","equalTo",82],"(",["T_CONSTANT_ENCAPSED_STRING","'some searchable text'",82],")",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","will",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","returnValue",83],"(",["T_CONSTANT_ENCAPSED_STRING","\"'some searchable text'\"",83],")",")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$resource",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getMockBuilder",85],"(",["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","App",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ResourceConnection",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","disableOriginalConstructor",86],"(",")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$resource",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","expects",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","any",88],"(",")",")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","method",89],"(",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",89],")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","willReturn",90],"(",["T_VARIABLE","$connection",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$resource",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n",93],"}",["T_WHITESPACE","\n",94]]