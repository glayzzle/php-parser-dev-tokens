[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Abstract DB helper class\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DB",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],";",["T_WHITESPACE","\n\n",8],["T_ABSTRACT","abstract",10],["T_WHITESPACE"," ",10],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","AbstractHelper",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * Resource helper module prefix\n     *\n     * @var string\n     *\/",12],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$_modulePrefix",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_resource",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Initialize resource helper instance\n     *\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param string $modulePrefix\n     *\/",24],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Framework",30],["T_NS_SEPARATOR","\\",30],["T_STRING","App",30],["T_NS_SEPARATOR","\\",30],["T_STRING","ResourceConnection",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$resource",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$modulePrefix",30],")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","_resource",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$resource",32],";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","_modulePrefix",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING_CAST","(string)",33],["T_VARIABLE","$modulePrefix",33],";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Retrieves connection to the resource\n     *\n     * @return \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","getConnection",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_resource",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getConnection",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_modulePrefix",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Escapes value, that participates in LIKE, with '\\' symbol.\n     * Note: this func cannot be used on its own, because different RDMBS may use different default escape symbols,\n     * so you should either use addLikeEscape() to produce LIKE construction, or add escape symbol on your own.\n     *\n     * By default escapes '_', '%' and '\\' symbols. If some masking symbols must not be escaped, then you can set\n     * appropriate options in $options.\n     *\n     * $options can contain following flags:\n     * - 'allow_symbol_mask' - the '_' symbol will not be escaped\n     * - 'allow_string_mask' - the '%' symbol will not be escaped\n     * - 'position' ('any', 'start', 'end') - expression will be formed so that $value will be found at position\n     *      within string, by default when nothing set - string must be fully matched with $value\n     *\n     * @param string $value\n     * @param array $options\n     * @return string\n     *\/",47],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","escapeLikeValue",65],"(",["T_VARIABLE","$value",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$options",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$value",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","str_replace",67],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$value",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$replaceFrom",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$replaceTo",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"[","]",";",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_EMPTY","empty",71],"(",["T_VARIABLE","$options",71],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_symbol_mask'",71],"]",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$replaceFrom",72],"[","]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'_'",72],";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$replaceTo",73],"[","]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'\\_'",73],";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_EMPTY","empty",75],"(",["T_VARIABLE","$options",75],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_string_mask'",75],"]",")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$replaceFrom",76],"[","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'%'",76],";",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$replaceTo",77],"[","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'\\%'",77],";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$replaceFrom",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$value",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","str_replace",80],"(",["T_VARIABLE","$replaceFrom",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$replaceTo",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$value",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_ISSET","isset",83],"(",["T_VARIABLE","$options",83],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_SWITCH","switch",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$options",84],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",84],"]",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_CASE","case",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'any'",85],":",["T_WHITESPACE","\n                    ",85],["T_VARIABLE","$value",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'%'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$value",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'%'",86],";",["T_WHITESPACE","\n                    ",86],["T_BREAK","break",87],";",["T_WHITESPACE","\n                ",87],["T_CASE","case",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'start'",88],":",["T_WHITESPACE","\n                    ",88],["T_VARIABLE","$value",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$value",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'%'",89],";",["T_WHITESPACE","\n                    ",89],["T_BREAK","break",90],";",["T_WHITESPACE","\n                ",90],["T_CASE","case",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'end'",91],":",["T_WHITESPACE","\n                    ",91],["T_VARIABLE","$value",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'%'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_VARIABLE","$value",92],";",["T_WHITESPACE","\n                    ",92],["T_BREAK","break",93],";",["T_WHITESPACE","\n                ",93],["T_DEFAULT","default",94],":",["T_WHITESPACE","\n                    ",94],["T_BREAK","break",95],";",["T_WHITESPACE","\n            ",95],"}",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$value",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Escapes, quotes and adds escape symbol to LIKE expression.\n     * For options and escaping see escapeLikeValue().\n     *\n     * @param string $value\n     * @param array $options\n     * @return \\Zend_Db_Expr\n     *\n     * @see escapeLikeValue()\n     *\/",102],["T_WHITESPACE","\n    ",111],["T_ABSTRACT","abstract",112],["T_WHITESPACE"," ",112],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","addLikeEscape",112],"(",["T_VARIABLE","$value",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$options",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[","]",")",";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Returns case insensitive LIKE construction.\n     * For options and escaping see escapeLikeValue().\n     *\n     * @param string $field\n     * @param string $value\n     * @param array $options\n     * @return \\Zend_Db_Expr\n     *\n     * @see escapeLikeValue()\n     *\/",114],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getCILike",125],"(",["T_VARIABLE","$field",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$value",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$options",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[","]",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$quotedField",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getConnection",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","quoteIdentifier",127],"(",["T_VARIABLE","$field",127],")",";",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Zend_Db_Expr",128],"(",["T_VARIABLE","$quotedField",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","' LIKE '",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","addLikeEscape",128],"(",["T_VARIABLE","$value",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$options",128],")",")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n",129],"}",["T_WHITESPACE","\n",130]]