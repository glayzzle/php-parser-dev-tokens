[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DB",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CriteriaInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Class GenericMapper\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","GenericMapper",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","AbstractMapper",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Set initial conditions\n     *\n     * @return void\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","init",20],"(",")",["T_WHITESPACE","\n    ",20],"{",["T_WHITESPACE","\n        ",21],["T_COMMENT","\/\/\n",22],["T_WHITESPACE","    ",23],"}",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Map criteria list\n     *\n     * @param \\Magento\\Framework\\Api\\CriteriaInterface[] $criteriaList\n     * @return void\n     *\/",25],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","mapCriteriaList",31],"(",["T_ARRAY","array",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$criteriaList",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_FOREACH","foreach",33],["T_WHITESPACE"," ",33],"(",["T_VARIABLE","$criteriaList",33],["T_WHITESPACE"," ",33],["T_AS","as",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$criteria",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n            ",33],["T_DOC_COMMENT","\/** @var CriteriaInterface $criteria *\/",34],["T_WHITESPACE","\n            ",34],["T_VARIABLE","$mapper",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$criteria",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getMapperInterfaceName",35],"(",")",";",["T_WHITESPACE","\n            ",35],["T_VARIABLE","$mapperInstance",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","mapperFactory",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","create",36],"(",["T_VARIABLE","$mapper",36],",",["T_WHITESPACE"," ",36],"[",["T_CONSTANT_ENCAPSED_STRING","'select'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","select",36],"]",")",";",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","select",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$mapperInstance",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","map",37],"(",["T_VARIABLE","$criteria",37],")",";",["T_WHITESPACE","\n        ",37],"}",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Map filters\n     *\n     * @param array $filters\n     * @return void\n     *\/",41],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","mapFilters",47],"(",["T_ARRAY","array",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$filters",47],")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","renderFiltersBefore",49],"(",")",";",["T_WHITESPACE","\n        ",49],["T_FOREACH","foreach",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$filters",50],["T_WHITESPACE"," ",50],["T_AS","as",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$filter",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_SWITCH","switch",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$filter",51],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",51],"]",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                ",51],["T_CASE","case",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'or'",52],":",["T_WHITESPACE","\n                    ",52],["T_VARIABLE","$condition",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getConnection",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","quoteInto",53],"(",["T_VARIABLE","$filter",53],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",53],"]",["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'=?'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$filter",53],"[",["T_CONSTANT_ENCAPSED_STRING","'condition'",53],"]",")",";",["T_WHITESPACE","\n                    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getSelect",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","orWhere",54],"(",["T_VARIABLE","$condition",54],")",";",["T_WHITESPACE","\n                    ",54],["T_BREAK","break",55],";",["T_WHITESPACE","\n                ",55],["T_CASE","case",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'string'",56],":",["T_WHITESPACE","\n                    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getSelect",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","where",57],"(",["T_VARIABLE","$filter",57],"[",["T_CONSTANT_ENCAPSED_STRING","'condition'",57],"]",")",";",["T_WHITESPACE","\n                    ",57],["T_BREAK","break",58],";",["T_WHITESPACE","\n                ",58],["T_CASE","case",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'public'",59],":",["T_WHITESPACE","\n                    ",59],["T_VARIABLE","$field",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMappedField",60],"(",["T_VARIABLE","$filter",60],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",60],"]",")",";",["T_WHITESPACE","\n                    ",60],["T_VARIABLE","$condition",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$filter",61],"[",["T_CONSTANT_ENCAPSED_STRING","'condition'",61],"]",";",["T_WHITESPACE","\n                    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getSelect",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","where",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getConditionSql",62],"(",["T_VARIABLE","$field",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$condition",62],")",",",["T_WHITESPACE"," ",62],["T_STRING","null",62],",",["T_WHITESPACE"," ",62],["T_STRING","Select",62],["T_DOUBLE_COLON","::",62],["T_STRING","TYPE_CONDITION",62],")",";",["T_WHITESPACE","\n                    ",62],["T_BREAK","break",63],";",["T_WHITESPACE","\n                ",63],["T_DEFAULT","default",64],":",["T_WHITESPACE","\n                    ",64],["T_VARIABLE","$condition",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getConnection",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","quoteInto",65],"(",["T_VARIABLE","$filter",65],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",65],"]",["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'=?'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$filter",65],"[",["T_CONSTANT_ENCAPSED_STRING","'condition'",65],"]",")",";",["T_WHITESPACE","\n                    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getSelect",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","where",66],"(",["T_VARIABLE","$condition",66],")",";",["T_WHITESPACE","\n            ",66],"}",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Map order\n     *\n     * @param array $orders\n     * @return void\n     *\/",71],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","mapOrders",77],"(",["T_ARRAY","array",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$orders",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$orders",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$field",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$direction",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","select",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","order",80],"(",["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Zend_Db_Expr",80],"(",["T_VARIABLE","$field",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","' '",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$direction",80],")",")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Map fields\n     *\n     * @param array $fields\n     * @throws \\Zend_Db_Select_Exception\n     * @return void\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",84],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","mapFields",92],"(",["T_ARRAY","array",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$fields",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$columns",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getSelect",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getPart",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","DB",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Select",94],["T_DOUBLE_COLON","::",94],["T_STRING","COLUMNS",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$selectedUniqueNames",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[","]",";",["T_WHITESPACE","\n        ",95],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$fields",96],["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$fieldInfo",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_STRING","is_string",97],"(",["T_VARIABLE","$fieldInfo",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$fieldInfo",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ISSET","isset",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","map",98],"[",["T_VARIABLE","$fieldInfo",98],"]",")",["T_WHITESPACE"," ",98],"?",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","map",98],"[",["T_VARIABLE","$fieldInfo",98],"]",["T_WHITESPACE"," ",98],":",["T_WHITESPACE"," ",98],["T_VARIABLE","$fieldInfo",98],";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n            ",99],["T_LIST","list",100],"(",["T_VARIABLE","$correlationName",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$field",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$alias",100],")",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$fieldInfo",100],";",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_STRING","is_string",101],"(",["T_VARIABLE","$alias",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$alias",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","null",102],";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n            ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$field",104],["T_WHITESPACE"," ",104],["T_INSTANCEOF","instanceof",104],["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Zend_Db_Expr",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$field",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$field",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","__toString",105],"(",")",";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$selectedUniqueName",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$alias",107],["T_WHITESPACE"," ",107],"?",":",["T_WHITESPACE"," ",107],["T_VARIABLE","$field",107],";",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","in_array",108],"(",["T_VARIABLE","$selectedUniqueName",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$selectedUniqueNames",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_COMMENT","\/\/ ignore field since the alias is already used by another field\n",109],["T_WHITESPACE","                ",110],["T_CONTINUE","continue",110],";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$selectedUniqueNames",112],"[","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$selectedUniqueName",112],";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$columns",113],"[","]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[",["T_VARIABLE","$correlationName",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$field",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$alias",113],"]",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getSelect",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","setPart",115],"(",["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Framework",115],["T_NS_SEPARATOR","\\",115],["T_STRING","DB",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Select",115],["T_DOUBLE_COLON","::",115],["T_STRING","COLUMNS",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$columns",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Map limit\n     *\n     * @param int $offset\n     * @param int $size\n     * @return void\n     *\/",118],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","mapLimit",125],"(",["T_VARIABLE","$offset",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$size",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","select",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","limitPage",127],"(",["T_VARIABLE","$offset",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$size",127],")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Map distinct flag\n     *\n     * @param bool $flag\n     * @return void\n     *\/",130],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","mapDistinct",136],"(",["T_VARIABLE","$flag",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","select",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","distinct",138],"(",["T_VARIABLE","$flag",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n",139],"}",["T_WHITESPACE","\n",140]]