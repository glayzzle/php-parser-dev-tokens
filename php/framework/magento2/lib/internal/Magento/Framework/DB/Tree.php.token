[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DB",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DB",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Node",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DB",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tree",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NodeSet",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LocalizedException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Phrase",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Magento Library\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Tree",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var string|int\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_id",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_left",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_right",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_level",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_pid",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_nodesInfo",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Array of additional tables\n     *\n     * array(\n     *  [$tableName] => array(\n     *              ['joinCondition']\n     *              ['fields']\n     *          )\n     * )\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_extTables",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"[","]",";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PRIVATE","private",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_db",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PRIVATE","private",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_table",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @param array $config\n     * @throws LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","__construct",80],"(",["T_VARIABLE","$config",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_COMMENT","\/\/ set a \\Zend_Db_Adapter connection\n",82],["T_WHITESPACE","        ",83],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_EMPTY","empty",83],"(",["T_VARIABLE","$config",83],"[",["T_CONSTANT_ENCAPSED_STRING","'db'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_COMMENT","\/\/ convenience variable\n",84],["T_WHITESPACE","            ",85],["T_VARIABLE","$connection",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$config",85],"[",["T_CONSTANT_ENCAPSED_STRING","'db'",85],"]",";",["T_WHITESPACE","\n\n            ",85],["T_COMMENT","\/\/ use an object from the registry?\n",87],["T_WHITESPACE","            ",88],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_STRING","is_string",88],"(",["T_VARIABLE","$connection",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$connection",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Zend",89],["T_DOUBLE_COLON","::",89],["T_STRING","registry",89],"(",["T_VARIABLE","$connection",89],")",";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n\n            ",90],["T_COMMENT","\/\/ make sure it's a \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n",92],["T_WHITESPACE","            ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!",["T_VARIABLE","$connection",93],["T_WHITESPACE"," ",93],["T_INSTANCEOF","instanceof",93],["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","DB",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Adapter",93],["T_NS_SEPARATOR","\\",93],["T_STRING","AdapterInterface",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_THROW","throw",94],["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","LocalizedException",94],"(",["T_WHITESPACE","\n                    ",94],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","Phrase",95],"(",["T_CONSTANT_ENCAPSED_STRING","'db object does not implement \\Magento\\Framework\\DB\\Adapter\\AdapterInterface'",95],")",["T_WHITESPACE","\n                ",95],")",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n\n            ",97],["T_COMMENT","\/\/ save the connection\n",99],["T_WHITESPACE","            ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_db",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$connection",100],";",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$conn",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_db",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getConnection",101],"(",")",";",["T_WHITESPACE","\n            ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$conn",102],["T_WHITESPACE"," ",102],["T_INSTANCEOF","instanceof",102],["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","PDO",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$conn",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setAttribute",103],"(",["T_NS_SEPARATOR","\\",103],["T_STRING","PDO",103],["T_DOUBLE_COLON","::",103],["T_STRING","ATTR_EMULATE_PREPARES",103],",",["T_WHITESPACE"," ",103],["T_STRING","true",103],")",";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE"," ",105],["T_ELSE","else",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","LocalizedException",106],"(",["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","Phrase",106],"(",["T_CONSTANT_ENCAPSED_STRING","'db object is not set in config'",106],")",")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_EMPTY","empty",109],"(",["T_VARIABLE","$config",109],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setTable",110],"(",["T_VARIABLE","$config",110],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",110],"]",")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(","!",["T_EMPTY","empty",113],"(",["T_VARIABLE","$config",113],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",113],"]",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","setIdField",114],"(",["T_VARIABLE","$config",114],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",114],"]",")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE"," ",115],["T_ELSE","else",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","setIdField",116],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",116],")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_EMPTY","empty",119],"(",["T_VARIABLE","$config",119],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setLeftField",120],"(",["T_VARIABLE","$config",120],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",120],"]",")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE"," ",121],["T_ELSE","else",121],["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setLeftField",122],"(",["T_CONSTANT_ENCAPSED_STRING","'left_key'",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!",["T_EMPTY","empty",125],"(",["T_VARIABLE","$config",125],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",125],"]",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setRightField",126],"(",["T_VARIABLE","$config",126],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",126],"]",")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE"," ",127],["T_ELSE","else",127],["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","setRightField",128],"(",["T_CONSTANT_ENCAPSED_STRING","'right_key'",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_EMPTY","empty",131],"(",["T_VARIABLE","$config",131],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setLevelField",132],"(",["T_VARIABLE","$config",132],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",132],"]",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE"," ",133],["T_ELSE","else",133],["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setLevelField",134],"(",["T_CONSTANT_ENCAPSED_STRING","'level'",134],")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_EMPTY","empty",137],"(",["T_VARIABLE","$config",137],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",137],"]",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setPidField",138],"(",["T_VARIABLE","$config",138],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",138],"]",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setPidField",140],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",140],")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * set name of id field\n     *\n     * @param string $name\n     * @return $this\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","setIdField",150],"(",["T_VARIABLE","$name",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_id",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$name",152],";",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * set name of left field\n     *\n     * @param string $name\n     * @return $this\n     *\/",156],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","setLeftField",162],"(",["T_VARIABLE","$name",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_left",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$name",164],";",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * set name of right field\n     *\n     * @param string $name\n     * @return $this\n     *\/",168],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","setRightField",174],"(",["T_VARIABLE","$name",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_right",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$name",176],";",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * set name of level field\n     *\n     * @param string $name\n     * @return $this\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","setLevelField",186],"(",["T_VARIABLE","$name",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_level",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$name",188],";",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * set name of pid Field\n     *\n     * @param string $name\n     * @return $this\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","setPidField",198],"(",["T_VARIABLE","$name",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_pid",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$name",200],";",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * set table name\n     *\n     * @param string $name\n     * @return $this\n     *\/",204],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","setTable",210],"(",["T_VARIABLE","$name",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_table",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$name",212],";",["T_WHITESPACE","\n        ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",216],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","getKeys",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$keys",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],"[","]",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$keys",222],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",222],"]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_id",222],";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$keys",223],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_left",223],";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$keys",224],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",224],"]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_right",224],";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$keys",225],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_pid",225],";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$keys",226],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",226],"]",["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_level",226],";",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$keys",227],";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Clear table and add root element\n     *\n     * @param array $data\n     * @return string\n     *\/",230],["T_WHITESPACE","\n    ",235],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","clear",236],"(",["T_VARIABLE","$data",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],"[","]",")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_COMMENT","\/\/ clearing table\n",238],["T_WHITESPACE","        ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_db",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","query",239],"(",["T_CONSTANT_ENCAPSED_STRING","'TRUNCATE '",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_table",239],")",";",["T_WHITESPACE","\n\n        ",239],["T_COMMENT","\/\/ prepare data for root element\n",241],["T_WHITESPACE","        ",242],["T_VARIABLE","$data",242],"[",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_pid",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_LNUMBER","0",242],";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$data",243],"[",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_left",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_LNUMBER","1",243],";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$data",244],"[",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_right",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_LNUMBER","2",244],";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$data",245],"[",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_level",245],"]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_LNUMBER","0",245],";",["T_WHITESPACE","\n\n        ",245],["T_TRY","try",247],["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_db",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","insert",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_table",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$data",248],")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE"," ",249],["T_CATCH","catch",249],["T_WHITESPACE"," ",249],"(",["T_NS_SEPARATOR","\\",249],["T_STRING","PDOException",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$e",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_ECHO","echo",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$e",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getMessage",250],"(",")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_db",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","lastInsertId",252],"(",")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Get node information\n     *\n     * @param string|int $nodeId\n     * @return array\n     *\/",255],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","getNodeInfo",261],"(",["T_VARIABLE","$nodeId",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_EMPTY","empty",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_nodesInfo",263],"[",["T_VARIABLE","$nodeId",263],"]",")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$sql",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM '",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_table",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","' WHERE '",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_id",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'=:id'",264],";",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$res",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_db",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","query",265],"(",["T_VARIABLE","$sql",265],",",["T_WHITESPACE"," ",265],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$nodeId",265],"]",")",";",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$data",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$res",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","fetch",266],"(",")",";",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_nodesInfo",267],"[",["T_VARIABLE","$nodeId",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$data",267],";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE"," ",268],["T_ELSE","else",268],["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$data",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_nodesInfo",269],"[",["T_VARIABLE","$nodeId",269],"]",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$data",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * @param string|int $nodeId\n     * @param array $data\n     * @return false|string\n     * @SuppressWarnings(PHPMD.ExitExpression)\n     *\/",274],["T_WHITESPACE","\n    ",279],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","appendChild",280],"(",["T_VARIABLE","$nodeId",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$data",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$info",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getNodeInfo",282],"(",["T_VARIABLE","$nodeId",282],")",";",["T_WHITESPACE","\n        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_VARIABLE","$info",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_STRING","false",284],";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$data",287],"[",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_left",287],"]",["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$info",287],"[",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_right",287],"]",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$data",288],"[",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_right",288],"]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$info",288],"[",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_right",288],"]",["T_WHITESPACE"," ",288],"+",["T_WHITESPACE"," ",288],["T_LNUMBER","1",288],";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$data",289],"[",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_level",289],"]",["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$info",289],"[",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_level",289],"]",["T_WHITESPACE"," ",289],"+",["T_WHITESPACE"," ",289],["T_LNUMBER","1",289],";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$data",290],"[",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_pid",290],"]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$nodeId",290],";",["T_WHITESPACE","\n\n        ",290],["T_COMMENT","\/\/ creating a place for the record being inserted\n",292],["T_WHITESPACE","        ",293],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$nodeId",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_db",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","beginTransaction",294],"(",")",";",["T_WHITESPACE","\n            ",294],["T_TRY","try",295],["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$sql",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE","\n                    ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_table",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE","\n                    ",297],["T_CONSTANT_ENCAPSED_STRING","' SET'",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE","\n                    ",298],["T_CONSTANT_ENCAPSED_STRING","' `'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_left",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE","\n                    ",300],["T_CONSTANT_ENCAPSED_STRING","'` = IF( `'",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE","\n                    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_left",302],["T_WHITESPACE"," ",302],".",["T_WHITESPACE","\n                    ",302],["T_CONSTANT_ENCAPSED_STRING","'` > :left,'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE","\n                    ",303],["T_CONSTANT_ENCAPSED_STRING","' `'",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE","\n                    ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_left",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE","\n                    ",305],["T_CONSTANT_ENCAPSED_STRING","'`+2, `'",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE","\n                    ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_left",307],["T_WHITESPACE"," ",307],".",["T_WHITESPACE","\n                    ",307],["T_CONSTANT_ENCAPSED_STRING","'`),'",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE","\n                    ",308],["T_CONSTANT_ENCAPSED_STRING","' `'",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE","\n                    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_right",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE","\n                    ",310],["T_CONSTANT_ENCAPSED_STRING","'` = IF( `'",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE","\n                    ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_right",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE","\n                    ",312],["T_CONSTANT_ENCAPSED_STRING","'`>= :right,'",313],["T_WHITESPACE"," ",313],".",["T_WHITESPACE","\n                    ",313],["T_CONSTANT_ENCAPSED_STRING","' `'",314],["T_WHITESPACE"," ",314],".",["T_WHITESPACE","\n                    ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_right",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE","\n                    ",315],["T_CONSTANT_ENCAPSED_STRING","'`+2, `'",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE","\n                    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_right",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE","\n                    ",317],["T_CONSTANT_ENCAPSED_STRING","'`)'",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE","\n                    ",318],["T_CONSTANT_ENCAPSED_STRING","' WHERE `'",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE","\n                    ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_right",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE","\n                    ",320],["T_CONSTANT_ENCAPSED_STRING","'` >= :right'",321],";",["T_WHITESPACE","\n\n                ",321],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_db",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","query",323],"(",["T_VARIABLE","$sql",323],",",["T_WHITESPACE"," ",323],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$info",323],"[",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_left",323],"]",",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'right'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$info",323],"[",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_right",323],"]","]",")",";",["T_WHITESPACE","\n                ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_db",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","insert",324],"(",["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_table",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$data",324],")",";",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_db",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","commit",325],"(",")",";",["T_WHITESPACE","\n            ",325],"}",["T_WHITESPACE"," ",326],["T_CATCH","catch",326],["T_WHITESPACE"," ",326],"(",["T_NS_SEPARATOR","\\",326],["T_STRING","PDOException",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$p",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n                ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_db",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","rollBack",327],"(",")",";",["T_WHITESPACE","\n                ",327],["T_ECHO","echo",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$p",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getMessage",328],"(",")",";",["T_WHITESPACE","\n                ",328],["T_EXIT","exit",329],";",["T_WHITESPACE","\n            ",329],"}",["T_WHITESPACE"," ",330],["T_CATCH","catch",330],["T_WHITESPACE"," ",330],"(",["T_NS_SEPARATOR","\\",330],["T_STRING","Exception",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$e",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_db",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","rollBack",331],"(",")",";",["T_WHITESPACE","\n                ",331],["T_ECHO","echo",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$e",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getMessage",332],"(",")",";",["T_WHITESPACE","\n                ",332],["T_ECHO","echo",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$sql",333],";",["T_WHITESPACE","\n                ",333],["T_EXIT","exit",334],";",["T_WHITESPACE","\n            ",334],"}",["T_WHITESPACE","\n            ",335],["T_COMMENT","\/\/ TODO: change to ZEND LIBRARY\n",336],["T_WHITESPACE","            ",337],["T_VARIABLE","$res",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_db",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","fetchOne",337],"(",["T_CONSTANT_ENCAPSED_STRING","'select last_insert_id()'",337],")",";",["T_WHITESPACE","\n            ",337],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$res",338],";",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_STRING","false",340],";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",343],["T_WHITESPACE","\n    ",345],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","checkNodes",346],"(",")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$sql",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_db",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","select",348],"(",")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$sql",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","from",349],"(",["T_WHITESPACE","\n            ",349],"[",["T_CONSTANT_ENCAPSED_STRING","'t1'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_table",350],"]",",",["T_WHITESPACE","\n            ",350],"[",["T_CONSTANT_ENCAPSED_STRING","'t1.'",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_id",351],",",["T_WHITESPACE"," ",351],["T_NEW","new",351],["T_WHITESPACE"," ",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Zend_Db_Expr",351],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(t1.'",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_id",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","') AS rep'",351],")","]",["T_WHITESPACE","\n        ",351],")",["T_OBJECT_OPERATOR","->",352],["T_STRING","from",352],"(",["T_WHITESPACE","\n            ",352],"[",["T_CONSTANT_ENCAPSED_STRING","'t2'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_table",353],"]",["T_WHITESPACE","\n        ",353],")",["T_OBJECT_OPERATOR","->",354],["T_STRING","from",354],"(",["T_WHITESPACE","\n            ",354],"[",["T_CONSTANT_ENCAPSED_STRING","'t3'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_table",355],"]",",",["T_WHITESPACE","\n            ",355],["T_NEW","new",356],["T_WHITESPACE"," ",356],["T_NS_SEPARATOR","\\",356],["T_STRING","Zend_Db_Expr",356],"(",["T_CONSTANT_ENCAPSED_STRING","'MAX(t3.'",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_right",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","') AS max_right'",356],")",["T_WHITESPACE","\n        ",356],")",";",["T_WHITESPACE","\n\n        ",357],["T_VARIABLE","$sql",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","where",359],"(",["T_WHITESPACE","\n            ",359],["T_CONSTANT_ENCAPSED_STRING","'t1.'",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_left",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","' <> t2.'",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_left",360],["T_WHITESPACE","\n        ",360],")",["T_OBJECT_OPERATOR","->",361],["T_STRING","where",361],"(",["T_WHITESPACE","\n            ",361],["T_CONSTANT_ENCAPSED_STRING","'t1.'",362],["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","_left",362],["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","' <> t2.'",362],["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","_right",362],["T_WHITESPACE","\n        ",362],")",["T_OBJECT_OPERATOR","->",363],["T_STRING","where",363],"(",["T_WHITESPACE","\n            ",363],["T_CONSTANT_ENCAPSED_STRING","'t1.'",364],["T_WHITESPACE"," ",364],".",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_right",364],["T_WHITESPACE"," ",364],".",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","' <> t2.'",364],["T_WHITESPACE"," ",364],".",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_right",364],["T_WHITESPACE","\n        ",364],")",";",["T_WHITESPACE","\n\n        ",365],["T_VARIABLE","$sql",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","group",367],"(",["T_CONSTANT_ENCAPSED_STRING","'t1.'",367],["T_WHITESPACE"," ",367],".",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_id",367],")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$sql",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","having",368],"(",["T_CONSTANT_ENCAPSED_STRING","'max_right <> SQRT(4 * rep + 1) + 1'",368],")",";",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_db",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","fetchAll",369],"(",["T_VARIABLE","$sql",369],")",";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * @param string|int $nodeId\n     * @return bool|Node|void\n     *\/",372],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","removeNode",376],"(",["T_VARIABLE","$nodeId",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$info",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getNodeInfo",378],"(",["T_VARIABLE","$nodeId",378],")",";",["T_WHITESPACE","\n        ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(","!",["T_VARIABLE","$info",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_STRING","false",380],";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n\n        ",381],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$nodeId",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_db",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","beginTransaction",384],"(",")",";",["T_WHITESPACE","\n            ",384],["T_TRY","try",385],["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_DOC_COMMENT","\/**\n                 * DELETE FROM my_tree WHERE left_key >= $left_key AND right_key <= $right_key\n                 *\/",386],["T_WHITESPACE","\n                ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_db",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","delete",389],"(",["T_WHITESPACE","\n                    ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_table",390],",",["T_WHITESPACE","\n                    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_left",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE","\n                    ",391],["T_CONSTANT_ENCAPSED_STRING","' >= '",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE","\n                    ",392],["T_VARIABLE","$info",393],"[",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_left",393],"]",["T_WHITESPACE"," ",393],".",["T_WHITESPACE","\n                    ",393],["T_CONSTANT_ENCAPSED_STRING","' AND '",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE","\n                    ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_right",395],["T_WHITESPACE"," ",395],".",["T_WHITESPACE","\n                    ",395],["T_CONSTANT_ENCAPSED_STRING","' <= '",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE","\n                    ",396],["T_VARIABLE","$info",397],"[",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_right",397],"]",["T_WHITESPACE","\n                ",397],")",";",["T_WHITESPACE","\n                ",398],["T_DOC_COMMENT","\/**\n                 * UPDATE my_tree SET left_key = IF(left_key > $left_key, left_key \u00e2\u0080\u0093 ($right_key - $left_key + 1),\n                 *      left_key), right_key = right_key \u00e2\u0080\u0093 ($right_key - $left_key + 1) WHERE right_key > $right_key\n                 *\/",399],["T_WHITESPACE","\n                ",402],["T_VARIABLE","$sql",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",403],["T_WHITESPACE"," ",403],".",["T_WHITESPACE","\n                    ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_table",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE","\n                    ",404],["T_CONSTANT_ENCAPSED_STRING","' SET '",405],["T_WHITESPACE"," ",405],".",["T_WHITESPACE","\n                    ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_left",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE","\n                    ",406],["T_CONSTANT_ENCAPSED_STRING","' = IF('",407],["T_WHITESPACE"," ",407],".",["T_WHITESPACE","\n                    ",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_left",408],["T_WHITESPACE"," ",408],".",["T_WHITESPACE","\n                    ",408],["T_CONSTANT_ENCAPSED_STRING","' > '",409],["T_WHITESPACE"," ",409],".",["T_WHITESPACE","\n                    ",409],["T_VARIABLE","$info",410],"[",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_left",410],"]",["T_WHITESPACE"," ",410],".",["T_WHITESPACE","\n                    ",410],["T_CONSTANT_ENCAPSED_STRING","', '",411],["T_WHITESPACE"," ",411],".",["T_WHITESPACE","\n                    ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_left",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE","\n                    ",412],["T_CONSTANT_ENCAPSED_STRING","' - '",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE","\n                    ",413],"(",["T_VARIABLE","$info",414],"[",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_right",414],"]",["T_WHITESPACE"," ",414],"-",["T_WHITESPACE","\n                    ",414],["T_VARIABLE","$info",415],"[",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_left",415],"]",["T_WHITESPACE"," ",415],"+",["T_WHITESPACE","\n                    ",415],["T_LNUMBER","1",416],")",["T_WHITESPACE"," ",416],".",["T_WHITESPACE","\n                    ",416],["T_CONSTANT_ENCAPSED_STRING","', '",417],["T_WHITESPACE"," ",417],".",["T_WHITESPACE","\n                    ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_left",418],["T_WHITESPACE"," ",418],".",["T_WHITESPACE","\n                    ",418],["T_CONSTANT_ENCAPSED_STRING","'), '",419],["T_WHITESPACE"," ",419],".",["T_WHITESPACE","\n                    ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_right",420],["T_WHITESPACE"," ",420],".",["T_WHITESPACE","\n                    ",420],["T_CONSTANT_ENCAPSED_STRING","' = '",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE","\n                    ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_right",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE","\n                    ",422],["T_CONSTANT_ENCAPSED_STRING","' - '",423],["T_WHITESPACE"," ",423],".",["T_WHITESPACE","\n                    ",423],"(",["T_VARIABLE","$info",424],"[",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_right",424],"]",["T_WHITESPACE"," ",424],"-",["T_WHITESPACE","\n                    ",424],["T_VARIABLE","$info",425],"[",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_left",425],"]",["T_WHITESPACE"," ",425],"+",["T_WHITESPACE","\n                    ",425],["T_LNUMBER","1",426],")",["T_WHITESPACE"," ",426],".",["T_WHITESPACE","\n                    ",426],["T_CONSTANT_ENCAPSED_STRING","' WHERE '",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE","\n                    ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_right",428],["T_WHITESPACE"," ",428],".",["T_WHITESPACE","\n                    ",428],["T_CONSTANT_ENCAPSED_STRING","' > '",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE","\n                    ",429],["T_VARIABLE","$info",430],"[",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_right",430],"]",";",["T_WHITESPACE","\n                ",430],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","_db",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","query",431],"(",["T_VARIABLE","$sql",431],")",";",["T_WHITESPACE","\n                ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_db",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","commit",432],"(",")",";",["T_WHITESPACE","\n                ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_NEW","new",433],["T_WHITESPACE"," ",433],["T_STRING","Node",433],"(",["T_VARIABLE","$info",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getKeys",433],"(",")",")",";",["T_WHITESPACE","\n            ",433],"}",["T_WHITESPACE"," ",434],["T_CATCH","catch",434],["T_WHITESPACE"," ",434],"(",["T_NS_SEPARATOR","\\",434],["T_STRING","Exception",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$e",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_db",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","rollBack",435],"(",")",";",["T_WHITESPACE","\n                ",435],["T_ECHO","echo",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$e",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getMessage",436],"(",")",";",["T_WHITESPACE","\n            ",436],"}",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n    ",438],"}",["T_WHITESPACE","\n\n    ",439],["T_DOC_COMMENT","\/**\n     * @param string|int $eId\n     * @param string|int $pId\n     * @param string|int $aId\n     * @return bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @SuppressWarnings(PHPMD.ExitExpression)\n     *\/",441],["T_WHITESPACE","\n    ",450],["T_PUBLIC","public",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","moveNode",451],"(",["T_VARIABLE","$eId",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$pId",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$aId",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_LNUMBER","0",451],")",["T_WHITESPACE","\n    ",451],"{",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$eInfo",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getNodeInfo",453],"(",["T_VARIABLE","$eId",453],")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$pInfo",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getNodeInfo",454],"(",["T_VARIABLE","$pId",454],")",";",["T_WHITESPACE","\n\n        ",454],["T_VARIABLE","$leftId",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$eInfo",456],"[",["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_left",456],"]",";",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$rightId",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$eInfo",457],"[",["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_right",457],"]",";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$level",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$eInfo",458],"[",["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_level",458],"]",";",["T_WHITESPACE","\n\n        ",458],["T_VARIABLE","$leftIdP",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$pInfo",460],"[",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_left",460],"]",";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$rightIdP",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$pInfo",461],"[",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_right",461],"]",";",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$levelP",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$pInfo",462],"[",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_level",462],"]",";",["T_WHITESPACE","\n\n        ",462],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$eId",464],["T_WHITESPACE"," ",464],["T_IS_EQUAL","==",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$pId",464],["T_WHITESPACE"," ",464],["T_BOOLEAN_OR","||",464],["T_WHITESPACE","\n            ",464],["T_VARIABLE","$leftId",465],["T_WHITESPACE"," ",465],["T_IS_EQUAL","==",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$leftIdP",465],["T_WHITESPACE"," ",465],["T_BOOLEAN_OR","||",465],["T_WHITESPACE","\n            ",465],["T_VARIABLE","$leftIdP",466],["T_WHITESPACE"," ",466],["T_IS_GREATER_OR_EQUAL",">=",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$leftId",466],["T_WHITESPACE"," ",466],["T_BOOLEAN_AND","&&",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$leftIdP",466],["T_WHITESPACE"," ",466],["T_IS_SMALLER_OR_EQUAL","<=",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$rightId",466],["T_WHITESPACE"," ",466],["T_BOOLEAN_OR","||",466],["T_WHITESPACE","\n            ",466],["T_VARIABLE","$level",467],["T_WHITESPACE"," ",467],["T_IS_EQUAL","==",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$levelP",467],["T_WHITESPACE"," ",467],"+",["T_WHITESPACE"," ",467],["T_LNUMBER","1",467],["T_WHITESPACE"," ",467],["T_BOOLEAN_AND","&&",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$leftId",467],["T_WHITESPACE"," ",467],">",["T_WHITESPACE"," ",467],["T_VARIABLE","$leftIdP",467],["T_WHITESPACE"," ",467],["T_BOOLEAN_AND","&&",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$rightId",467],["T_WHITESPACE"," ",467],"<",["T_WHITESPACE"," ",467],["T_VARIABLE","$rightIdP",467],["T_WHITESPACE","\n        ",467],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n            ",468],["T_ECHO","echo",469],["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","\"alert('cant_move_tree');\"",469],";",["T_WHITESPACE","\n            ",469],["T_RETURN","return",470],["T_WHITESPACE"," ",470],["T_STRING","false",470],";",["T_WHITESPACE","\n        ",470],"}",["T_WHITESPACE","\n\n        ",471],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$leftIdP",473],["T_WHITESPACE"," ",473],"<",["T_WHITESPACE"," ",473],["T_VARIABLE","$leftId",473],["T_WHITESPACE"," ",473],["T_BOOLEAN_AND","&&",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$rightIdP",473],["T_WHITESPACE"," ",473],">",["T_WHITESPACE"," ",473],["T_VARIABLE","$rightId",473],["T_WHITESPACE"," ",473],["T_BOOLEAN_AND","&&",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$levelP",473],["T_WHITESPACE"," ",473],"<",["T_WHITESPACE"," ",473],["T_VARIABLE","$level",473],["T_WHITESPACE"," ",473],"-",["T_WHITESPACE"," ",473],["T_LNUMBER","1",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n            ",473],["T_VARIABLE","$sql",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE","\n                ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_table",475],["T_WHITESPACE"," ",475],".",["T_WHITESPACE","\n                ",475],["T_CONSTANT_ENCAPSED_STRING","' SET '",476],["T_WHITESPACE"," ",476],".",["T_WHITESPACE","\n                ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_level",477],["T_WHITESPACE"," ",477],".",["T_WHITESPACE","\n                ",477],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",478],["T_WHITESPACE"," ",478],".",["T_WHITESPACE","\n                ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_left",479],["T_WHITESPACE"," ",479],".",["T_WHITESPACE","\n                ",479],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",480],["T_WHITESPACE"," ",480],".",["T_WHITESPACE","\n                ",480],["T_VARIABLE","$leftId",481],["T_WHITESPACE"," ",481],".",["T_WHITESPACE","\n                ",481],["T_CONSTANT_ENCAPSED_STRING","' AND '",482],["T_WHITESPACE"," ",482],".",["T_WHITESPACE","\n                ",482],["T_VARIABLE","$rightId",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE","\n                ",483],["T_CONSTANT_ENCAPSED_STRING","' THEN '",484],["T_WHITESPACE"," ",484],".",["T_WHITESPACE","\n                ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_level",485],["T_WHITESPACE"," ",485],".",["T_WHITESPACE","\n                ",485],["T_STRING","sprintf",486],"(",["T_WHITESPACE","\n                    ",486],["T_CONSTANT_ENCAPSED_STRING","'%+d'",487],",",["T_WHITESPACE","\n                    ",487],"-","(",["T_VARIABLE","$level",488],["T_WHITESPACE"," ",488],"-",["T_WHITESPACE"," ",488],["T_LNUMBER","1",488],")",["T_WHITESPACE"," ",488],"+",["T_WHITESPACE"," ",488],["T_VARIABLE","$levelP",488],["T_WHITESPACE","\n                ",488],")",["T_WHITESPACE"," ",489],".",["T_WHITESPACE","\n                ",489],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",490],["T_WHITESPACE"," ",490],".",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_level",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE","\n                ",491],["T_CONSTANT_ENCAPSED_STRING","' END, '",492],["T_WHITESPACE"," ",492],".",["T_WHITESPACE","\n                ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_right",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE","\n                ",493],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",494],["T_WHITESPACE"," ",494],".",["T_WHITESPACE","\n                ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_right",495],["T_WHITESPACE"," ",495],".",["T_WHITESPACE","\n                ",495],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",496],["T_WHITESPACE"," ",496],".",["T_WHITESPACE","\n                ",496],"(",["T_VARIABLE","$rightId",497],["T_WHITESPACE"," ",497],"+",["T_WHITESPACE","\n                ",497],["T_LNUMBER","1",498],")",["T_WHITESPACE"," ",498],".",["T_WHITESPACE","\n                ",498],["T_CONSTANT_ENCAPSED_STRING","' AND '",499],["T_WHITESPACE"," ",499],".",["T_WHITESPACE","\n                ",499],"(",["T_VARIABLE","$rightIdP",500],["T_WHITESPACE"," ",500],"-",["T_WHITESPACE","\n                ",500],["T_LNUMBER","1",501],")",["T_WHITESPACE"," ",501],".",["T_WHITESPACE","\n                ",501],["T_CONSTANT_ENCAPSED_STRING","' THEN '",502],["T_WHITESPACE"," ",502],".",["T_WHITESPACE","\n                ",502],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","_right",503],["T_WHITESPACE"," ",503],".",["T_WHITESPACE","\n                ",503],["T_CONSTANT_ENCAPSED_STRING","'-'",504],["T_WHITESPACE"," ",504],".",["T_WHITESPACE","\n                ",504],"(",["T_VARIABLE","$rightId",505],["T_WHITESPACE"," ",505],"-",["T_WHITESPACE","\n                ",505],["T_VARIABLE","$leftId",506],["T_WHITESPACE"," ",506],"+",["T_WHITESPACE","\n                ",506],["T_LNUMBER","1",507],")",["T_WHITESPACE"," ",507],".",["T_WHITESPACE","\n                ",507],["T_CONSTANT_ENCAPSED_STRING","' '",508],["T_WHITESPACE"," ",508],".",["T_WHITESPACE","\n                ",508],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",509],["T_WHITESPACE"," ",509],".",["T_WHITESPACE","\n                ",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","_left",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE","\n                ",510],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",511],["T_WHITESPACE"," ",511],".",["T_WHITESPACE","\n                ",511],["T_VARIABLE","$leftId",512],["T_WHITESPACE"," ",512],".",["T_WHITESPACE","\n                ",512],["T_CONSTANT_ENCAPSED_STRING","' AND '",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE","\n                ",513],["T_VARIABLE","$rightId",514],["T_WHITESPACE"," ",514],".",["T_WHITESPACE","\n                ",514],["T_CONSTANT_ENCAPSED_STRING","' THEN '",515],["T_WHITESPACE"," ",515],".",["T_WHITESPACE","\n                ",515],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","_right",516],["T_WHITESPACE"," ",516],".",["T_WHITESPACE","\n                ",516],["T_CONSTANT_ENCAPSED_STRING","'+'",517],["T_WHITESPACE"," ",517],".",["T_WHITESPACE","\n                ",517],"(","(",["T_VARIABLE","$rightIdP",518],["T_WHITESPACE"," ",518],"-",["T_WHITESPACE","\n                ",518],["T_VARIABLE","$rightId",519],["T_WHITESPACE"," ",519],"-",["T_WHITESPACE","\n                ",519],["T_VARIABLE","$level",520],["T_WHITESPACE"," ",520],"+",["T_WHITESPACE","\n                ",520],["T_VARIABLE","$levelP",521],")",["T_WHITESPACE"," ",521],"\/",["T_WHITESPACE"," ",521],["T_LNUMBER","2",521],["T_WHITESPACE"," ",521],"*",["T_WHITESPACE"," ",521],["T_LNUMBER","2",521],["T_WHITESPACE"," ",521],"+",["T_WHITESPACE","\n                ",521],["T_VARIABLE","$level",522],["T_WHITESPACE"," ",522],"-",["T_WHITESPACE","\n                ",522],["T_VARIABLE","$levelP",523],["T_WHITESPACE"," ",523],"-",["T_WHITESPACE","\n                ",523],["T_LNUMBER","1",524],")",["T_WHITESPACE"," ",524],".",["T_WHITESPACE","\n                ",524],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE","\n                ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","_right",526],["T_WHITESPACE"," ",526],".",["T_WHITESPACE","\n                ",526],["T_CONSTANT_ENCAPSED_STRING","' END, '",527],["T_WHITESPACE"," ",527],".",["T_WHITESPACE","\n                ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_left",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE","\n                ",528],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",529],["T_WHITESPACE"," ",529],".",["T_WHITESPACE","\n                ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_left",530],["T_WHITESPACE"," ",530],".",["T_WHITESPACE","\n                ",530],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE","\n                ",531],"(",["T_VARIABLE","$rightId",532],["T_WHITESPACE"," ",532],"+",["T_WHITESPACE","\n                ",532],["T_LNUMBER","1",533],")",["T_WHITESPACE"," ",533],".",["T_WHITESPACE","\n                ",533],["T_CONSTANT_ENCAPSED_STRING","' AND '",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE","\n                ",534],"(",["T_VARIABLE","$rightIdP",535],["T_WHITESPACE"," ",535],"-",["T_WHITESPACE","\n                ",535],["T_LNUMBER","1",536],")",["T_WHITESPACE"," ",536],".",["T_WHITESPACE","\n                ",536],["T_CONSTANT_ENCAPSED_STRING","' THEN '",537],["T_WHITESPACE"," ",537],".",["T_WHITESPACE","\n                ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","_left",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE","\n                ",538],["T_CONSTANT_ENCAPSED_STRING","'-'",539],["T_WHITESPACE"," ",539],".",["T_WHITESPACE","\n                ",539],"(",["T_VARIABLE","$rightId",540],["T_WHITESPACE"," ",540],"-",["T_WHITESPACE","\n                ",540],["T_VARIABLE","$leftId",541],["T_WHITESPACE"," ",541],"+",["T_WHITESPACE","\n                ",541],["T_LNUMBER","1",542],")",["T_WHITESPACE"," ",542],".",["T_WHITESPACE","\n                ",542],["T_CONSTANT_ENCAPSED_STRING","' '",543],["T_WHITESPACE"," ",543],".",["T_WHITESPACE","\n                ",543],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",544],["T_WHITESPACE"," ",544],".",["T_WHITESPACE","\n                ",544],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","_left",545],["T_WHITESPACE"," ",545],".",["T_WHITESPACE","\n                ",545],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",546],["T_WHITESPACE"," ",546],".",["T_WHITESPACE","\n                ",546],["T_VARIABLE","$leftId",547],["T_WHITESPACE"," ",547],".",["T_WHITESPACE","\n                ",547],["T_CONSTANT_ENCAPSED_STRING","' AND '",548],["T_WHITESPACE"," ",548],".",["T_WHITESPACE","\n                ",548],["T_VARIABLE","$rightId",549],["T_WHITESPACE"," ",549],".",["T_WHITESPACE","\n                ",549],["T_CONSTANT_ENCAPSED_STRING","' THEN '",550],["T_WHITESPACE"," ",550],".",["T_WHITESPACE","\n                ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_left",551],["T_WHITESPACE"," ",551],".",["T_WHITESPACE","\n                ",551],["T_CONSTANT_ENCAPSED_STRING","'+'",552],["T_WHITESPACE"," ",552],".",["T_WHITESPACE","\n                ",552],"(","(",["T_VARIABLE","$rightIdP",553],["T_WHITESPACE"," ",553],"-",["T_WHITESPACE","\n                ",553],["T_VARIABLE","$rightId",554],["T_WHITESPACE"," ",554],"-",["T_WHITESPACE","\n                ",554],["T_VARIABLE","$level",555],["T_WHITESPACE"," ",555],"+",["T_WHITESPACE","\n                ",555],["T_VARIABLE","$levelP",556],")",["T_WHITESPACE"," ",556],"\/",["T_WHITESPACE"," ",556],["T_LNUMBER","2",556],["T_WHITESPACE"," ",556],"*",["T_WHITESPACE"," ",556],["T_LNUMBER","2",556],["T_WHITESPACE"," ",556],"+",["T_WHITESPACE","\n                ",556],["T_VARIABLE","$level",557],["T_WHITESPACE"," ",557],"-",["T_WHITESPACE","\n                ",557],["T_VARIABLE","$levelP",558],["T_WHITESPACE"," ",558],"-",["T_WHITESPACE","\n                ",558],["T_LNUMBER","1",559],")",["T_WHITESPACE"," ",559],".",["T_WHITESPACE","\n                ",559],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",560],["T_WHITESPACE"," ",560],".",["T_WHITESPACE","\n                ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_left",561],["T_WHITESPACE"," ",561],".",["T_WHITESPACE","\n                ",561],["T_CONSTANT_ENCAPSED_STRING","' END '",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE","\n                ",562],["T_CONSTANT_ENCAPSED_STRING","'WHERE '",563],["T_WHITESPACE"," ",563],".",["T_WHITESPACE","\n                ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","_left",564],["T_WHITESPACE"," ",564],".",["T_WHITESPACE","\n                ",564],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",565],["T_WHITESPACE"," ",565],".",["T_WHITESPACE","\n                ",565],"(",["T_VARIABLE","$leftIdP",566],["T_WHITESPACE"," ",566],"+",["T_WHITESPACE","\n                ",566],["T_LNUMBER","1",567],")",["T_WHITESPACE"," ",567],".",["T_WHITESPACE","\n                ",567],["T_CONSTANT_ENCAPSED_STRING","' AND '",568],["T_WHITESPACE"," ",568],".",["T_WHITESPACE","\n                ",568],"(",["T_VARIABLE","$rightIdP",569],["T_WHITESPACE"," ",569],"-",["T_WHITESPACE","\n                ",569],["T_LNUMBER","1",570],")",";",["T_WHITESPACE","\n        ",570],"}",["T_WHITESPACE"," ",571],["T_ELSEIF","elseif",571],["T_WHITESPACE"," ",571],"(",["T_VARIABLE","$leftIdP",571],["T_WHITESPACE"," ",571],"<",["T_WHITESPACE"," ",571],["T_VARIABLE","$leftId",571],")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n            ",571],["T_VARIABLE","$sql",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE","\n                ",572],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_table",573],["T_WHITESPACE"," ",573],".",["T_WHITESPACE","\n                ",573],["T_CONSTANT_ENCAPSED_STRING","' SET '",574],["T_WHITESPACE"," ",574],".",["T_WHITESPACE","\n                ",574],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_level",575],["T_WHITESPACE"," ",575],".",["T_WHITESPACE","\n                ",575],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",576],["T_WHITESPACE"," ",576],".",["T_WHITESPACE","\n                ",576],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","_left",577],["T_WHITESPACE"," ",577],".",["T_WHITESPACE","\n                ",577],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",578],["T_WHITESPACE"," ",578],".",["T_WHITESPACE","\n                ",578],["T_VARIABLE","$leftId",579],["T_WHITESPACE"," ",579],".",["T_WHITESPACE","\n                ",579],["T_CONSTANT_ENCAPSED_STRING","' AND '",580],["T_WHITESPACE"," ",580],".",["T_WHITESPACE","\n                ",580],["T_VARIABLE","$rightId",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE","\n                ",581],["T_CONSTANT_ENCAPSED_STRING","' THEN '",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE","\n                ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","_level",583],["T_WHITESPACE"," ",583],".",["T_WHITESPACE","\n                ",583],["T_STRING","sprintf",584],"(",["T_WHITESPACE","\n                    ",584],["T_CONSTANT_ENCAPSED_STRING","'%+d'",585],",",["T_WHITESPACE","\n                    ",585],"-","(",["T_VARIABLE","$level",586],["T_WHITESPACE"," ",586],"-",["T_WHITESPACE"," ",586],["T_LNUMBER","1",586],")",["T_WHITESPACE"," ",586],"+",["T_WHITESPACE"," ",586],["T_VARIABLE","$levelP",586],["T_WHITESPACE","\n                ",586],")",["T_WHITESPACE"," ",587],".",["T_WHITESPACE","\n                ",587],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",588],["T_WHITESPACE"," ",588],".",["T_WHITESPACE","\n                ",588],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_level",589],["T_WHITESPACE"," ",589],".",["T_WHITESPACE","\n                ",589],["T_CONSTANT_ENCAPSED_STRING","' END, '",590],["T_WHITESPACE"," ",590],".",["T_WHITESPACE","\n                ",590],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","_left",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE","\n                ",591],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",592],["T_WHITESPACE"," ",592],".",["T_WHITESPACE","\n                ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_left",593],["T_WHITESPACE"," ",593],".",["T_WHITESPACE","\n                ",593],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",594],["T_WHITESPACE"," ",594],".",["T_WHITESPACE","\n                ",594],["T_VARIABLE","$rightIdP",595],["T_WHITESPACE"," ",595],".",["T_WHITESPACE","\n                ",595],["T_CONSTANT_ENCAPSED_STRING","' AND '",596],["T_WHITESPACE"," ",596],".",["T_WHITESPACE","\n                ",596],"(",["T_VARIABLE","$leftId",597],["T_WHITESPACE"," ",597],"-",["T_WHITESPACE","\n                ",597],["T_LNUMBER","1",598],")",["T_WHITESPACE"," ",598],".",["T_WHITESPACE","\n                ",598],["T_CONSTANT_ENCAPSED_STRING","' THEN '",599],["T_WHITESPACE"," ",599],".",["T_WHITESPACE","\n                ",599],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","_left",600],["T_WHITESPACE"," ",600],".",["T_WHITESPACE","\n                ",600],["T_CONSTANT_ENCAPSED_STRING","'+'",601],["T_WHITESPACE"," ",601],".",["T_WHITESPACE","\n                ",601],"(",["T_VARIABLE","$rightId",602],["T_WHITESPACE"," ",602],"-",["T_WHITESPACE","\n                ",602],["T_VARIABLE","$leftId",603],["T_WHITESPACE"," ",603],"+",["T_WHITESPACE","\n                ",603],["T_LNUMBER","1",604],")",["T_WHITESPACE"," ",604],".",["T_WHITESPACE","\n                ",604],["T_CONSTANT_ENCAPSED_STRING","' '",605],["T_WHITESPACE"," ",605],".",["T_WHITESPACE","\n                ",605],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",606],["T_WHITESPACE"," ",606],".",["T_WHITESPACE","\n                ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","_left",607],["T_WHITESPACE"," ",607],".",["T_WHITESPACE","\n                ",607],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",608],["T_WHITESPACE"," ",608],".",["T_WHITESPACE","\n                ",608],["T_VARIABLE","$leftId",609],["T_WHITESPACE"," ",609],".",["T_WHITESPACE","\n                ",609],["T_CONSTANT_ENCAPSED_STRING","' AND '",610],["T_WHITESPACE"," ",610],".",["T_WHITESPACE","\n                ",610],["T_VARIABLE","$rightId",611],["T_WHITESPACE"," ",611],".",["T_WHITESPACE","\n                ",611],["T_CONSTANT_ENCAPSED_STRING","' THEN '",612],["T_WHITESPACE"," ",612],".",["T_WHITESPACE","\n                ",612],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","_left",613],["T_WHITESPACE"," ",613],".",["T_WHITESPACE","\n                ",613],["T_CONSTANT_ENCAPSED_STRING","'-'",614],["T_WHITESPACE"," ",614],".",["T_WHITESPACE","\n                ",614],"(",["T_VARIABLE","$leftId",615],["T_WHITESPACE"," ",615],"-",["T_WHITESPACE","\n                ",615],["T_VARIABLE","$rightIdP",616],")",["T_WHITESPACE"," ",616],".",["T_WHITESPACE","\n                ",616],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",617],["T_WHITESPACE"," ",617],".",["T_WHITESPACE","\n                ",617],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","_left",618],["T_WHITESPACE"," ",618],".",["T_WHITESPACE","\n                ",618],["T_CONSTANT_ENCAPSED_STRING","' END, '",619],["T_WHITESPACE"," ",619],".",["T_WHITESPACE","\n                ",619],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","_right",620],["T_WHITESPACE"," ",620],".",["T_WHITESPACE","\n                ",620],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",621],["T_WHITESPACE"," ",621],".",["T_WHITESPACE","\n                ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","_right",622],["T_WHITESPACE"," ",622],".",["T_WHITESPACE","\n                ",622],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",623],["T_WHITESPACE"," ",623],".",["T_WHITESPACE","\n                ",623],["T_VARIABLE","$rightIdP",624],["T_WHITESPACE"," ",624],".",["T_WHITESPACE","\n                ",624],["T_CONSTANT_ENCAPSED_STRING","' AND '",625],["T_WHITESPACE"," ",625],".",["T_WHITESPACE","\n                ",625],["T_VARIABLE","$leftId",626],["T_WHITESPACE"," ",626],".",["T_WHITESPACE","\n                ",626],["T_CONSTANT_ENCAPSED_STRING","' THEN '",627],["T_WHITESPACE"," ",627],".",["T_WHITESPACE","\n                ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","_right",628],["T_WHITESPACE"," ",628],".",["T_WHITESPACE","\n                ",628],["T_CONSTANT_ENCAPSED_STRING","'+'",629],["T_WHITESPACE"," ",629],".",["T_WHITESPACE","\n                ",629],"(",["T_VARIABLE","$rightId",630],["T_WHITESPACE"," ",630],"-",["T_WHITESPACE","\n                ",630],["T_VARIABLE","$leftId",631],["T_WHITESPACE"," ",631],"+",["T_WHITESPACE","\n                ",631],["T_LNUMBER","1",632],")",["T_WHITESPACE"," ",632],".",["T_WHITESPACE","\n                ",632],["T_CONSTANT_ENCAPSED_STRING","' '",633],["T_WHITESPACE"," ",633],".",["T_WHITESPACE","\n                ",633],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",634],["T_WHITESPACE"," ",634],".",["T_WHITESPACE","\n                ",634],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","_right",635],["T_WHITESPACE"," ",635],".",["T_WHITESPACE","\n                ",635],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",636],["T_WHITESPACE"," ",636],".",["T_WHITESPACE","\n                ",636],["T_VARIABLE","$leftId",637],["T_WHITESPACE"," ",637],".",["T_WHITESPACE","\n                ",637],["T_CONSTANT_ENCAPSED_STRING","' AND '",638],["T_WHITESPACE"," ",638],".",["T_WHITESPACE","\n                ",638],["T_VARIABLE","$rightId",639],["T_WHITESPACE"," ",639],".",["T_WHITESPACE","\n                ",639],["T_CONSTANT_ENCAPSED_STRING","' THEN '",640],["T_WHITESPACE"," ",640],".",["T_WHITESPACE","\n                ",640],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","_right",641],["T_WHITESPACE"," ",641],".",["T_WHITESPACE","\n                ",641],["T_CONSTANT_ENCAPSED_STRING","'-'",642],["T_WHITESPACE"," ",642],".",["T_WHITESPACE","\n                ",642],"(",["T_VARIABLE","$leftId",643],["T_WHITESPACE"," ",643],"-",["T_WHITESPACE","\n                ",643],["T_VARIABLE","$rightIdP",644],")",["T_WHITESPACE"," ",644],".",["T_WHITESPACE","\n                ",644],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",645],["T_WHITESPACE"," ",645],".",["T_WHITESPACE","\n                ",645],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","_right",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE","\n                ",646],["T_CONSTANT_ENCAPSED_STRING","' END '",647],["T_WHITESPACE"," ",647],".",["T_WHITESPACE","\n                ",647],["T_CONSTANT_ENCAPSED_STRING","'WHERE ('",648],["T_WHITESPACE"," ",648],".",["T_WHITESPACE","\n                ",648],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","_left",649],["T_WHITESPACE"," ",649],".",["T_WHITESPACE","\n                ",649],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",650],["T_WHITESPACE"," ",650],".",["T_WHITESPACE","\n                ",650],["T_VARIABLE","$leftIdP",651],["T_WHITESPACE"," ",651],".",["T_WHITESPACE","\n                ",651],["T_CONSTANT_ENCAPSED_STRING","' AND '",652],["T_WHITESPACE"," ",652],".",["T_WHITESPACE","\n                ",652],["T_VARIABLE","$rightId",653],["T_WHITESPACE"," ",653],".",["T_WHITESPACE","\n                ",653],["T_CONSTANT_ENCAPSED_STRING","' '",654],["T_WHITESPACE"," ",654],".",["T_WHITESPACE","\n                ",654],["T_CONSTANT_ENCAPSED_STRING","'OR '",655],["T_WHITESPACE"," ",655],".",["T_WHITESPACE","\n                ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","_right",656],["T_WHITESPACE"," ",656],".",["T_WHITESPACE","\n                ",656],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",657],["T_WHITESPACE"," ",657],".",["T_WHITESPACE","\n                ",657],["T_VARIABLE","$leftIdP",658],["T_WHITESPACE"," ",658],".",["T_WHITESPACE","\n                ",658],["T_CONSTANT_ENCAPSED_STRING","' AND '",659],["T_WHITESPACE"," ",659],".",["T_WHITESPACE","\n                ",659],["T_VARIABLE","$rightId",660],["T_WHITESPACE"," ",660],".",["T_WHITESPACE","\n                ",660],["T_CONSTANT_ENCAPSED_STRING","')'",661],";",["T_WHITESPACE","\n        ",661],"}",["T_WHITESPACE"," ",662],["T_ELSE","else",662],["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n            ",662],["T_VARIABLE","$sql",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",663],["T_WHITESPACE"," ",663],".",["T_WHITESPACE","\n                ",663],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","_table",664],["T_WHITESPACE"," ",664],".",["T_WHITESPACE","\n                ",664],["T_CONSTANT_ENCAPSED_STRING","' SET '",665],["T_WHITESPACE"," ",665],".",["T_WHITESPACE","\n                ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","_level",666],["T_WHITESPACE"," ",666],".",["T_WHITESPACE","\n                ",666],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",667],["T_WHITESPACE"," ",667],".",["T_WHITESPACE","\n                ",667],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","_left",668],["T_WHITESPACE"," ",668],".",["T_WHITESPACE","\n                ",668],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",669],["T_WHITESPACE"," ",669],".",["T_WHITESPACE","\n                ",669],["T_VARIABLE","$leftId",670],["T_WHITESPACE"," ",670],".",["T_WHITESPACE","\n                ",670],["T_CONSTANT_ENCAPSED_STRING","' AND '",671],["T_WHITESPACE"," ",671],".",["T_WHITESPACE","\n                ",671],["T_VARIABLE","$rightId",672],["T_WHITESPACE"," ",672],".",["T_WHITESPACE","\n                ",672],["T_CONSTANT_ENCAPSED_STRING","' THEN '",673],["T_WHITESPACE"," ",673],".",["T_WHITESPACE","\n                ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_level",674],["T_WHITESPACE"," ",674],".",["T_WHITESPACE","\n                ",674],["T_STRING","sprintf",675],"(",["T_WHITESPACE","\n                    ",675],["T_CONSTANT_ENCAPSED_STRING","'%+d'",676],",",["T_WHITESPACE","\n                    ",676],"-","(",["T_VARIABLE","$level",677],["T_WHITESPACE"," ",677],"-",["T_WHITESPACE"," ",677],["T_LNUMBER","1",677],")",["T_WHITESPACE"," ",677],"+",["T_WHITESPACE"," ",677],["T_VARIABLE","$levelP",677],["T_WHITESPACE","\n                ",677],")",["T_WHITESPACE"," ",678],".",["T_WHITESPACE","\n                ",678],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",679],["T_WHITESPACE"," ",679],".",["T_WHITESPACE","\n                ",679],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","_level",680],["T_WHITESPACE"," ",680],".",["T_WHITESPACE","\n                ",680],["T_CONSTANT_ENCAPSED_STRING","' END, '",681],["T_WHITESPACE"," ",681],".",["T_WHITESPACE","\n                ",681],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","_left",682],["T_WHITESPACE"," ",682],".",["T_WHITESPACE","\n                ",682],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",683],["T_WHITESPACE"," ",683],".",["T_WHITESPACE","\n                ",683],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","_left",684],["T_WHITESPACE"," ",684],".",["T_WHITESPACE","\n                ",684],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",685],["T_WHITESPACE"," ",685],".",["T_WHITESPACE","\n                ",685],["T_VARIABLE","$rightId",686],["T_WHITESPACE"," ",686],".",["T_WHITESPACE","\n                ",686],["T_CONSTANT_ENCAPSED_STRING","' AND '",687],["T_WHITESPACE"," ",687],".",["T_WHITESPACE","\n                ",687],["T_VARIABLE","$rightIdP",688],["T_WHITESPACE"," ",688],".",["T_WHITESPACE","\n                ",688],["T_CONSTANT_ENCAPSED_STRING","' THEN '",689],["T_WHITESPACE"," ",689],".",["T_WHITESPACE","\n                ",689],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","_left",690],["T_WHITESPACE"," ",690],".",["T_WHITESPACE","\n                ",690],["T_CONSTANT_ENCAPSED_STRING","'-'",691],["T_WHITESPACE"," ",691],".",["T_WHITESPACE","\n                ",691],"(",["T_VARIABLE","$rightId",692],["T_WHITESPACE"," ",692],"-",["T_WHITESPACE","\n                ",692],["T_VARIABLE","$leftId",693],["T_WHITESPACE"," ",693],"+",["T_WHITESPACE","\n                ",693],["T_LNUMBER","1",694],")",["T_WHITESPACE"," ",694],".",["T_WHITESPACE","\n                ",694],["T_CONSTANT_ENCAPSED_STRING","' '",695],["T_WHITESPACE"," ",695],".",["T_WHITESPACE","\n                ",695],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",696],["T_WHITESPACE"," ",696],".",["T_WHITESPACE","\n                ",696],["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","_left",697],["T_WHITESPACE"," ",697],".",["T_WHITESPACE","\n                ",697],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",698],["T_WHITESPACE"," ",698],".",["T_WHITESPACE","\n                ",698],["T_VARIABLE","$leftId",699],["T_WHITESPACE"," ",699],".",["T_WHITESPACE","\n                ",699],["T_CONSTANT_ENCAPSED_STRING","' AND '",700],["T_WHITESPACE"," ",700],".",["T_WHITESPACE","\n                ",700],["T_VARIABLE","$rightId",701],["T_WHITESPACE"," ",701],".",["T_WHITESPACE","\n                ",701],["T_CONSTANT_ENCAPSED_STRING","' THEN '",702],["T_WHITESPACE"," ",702],".",["T_WHITESPACE","\n                ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_left",703],["T_WHITESPACE"," ",703],".",["T_WHITESPACE","\n                ",703],["T_CONSTANT_ENCAPSED_STRING","'+'",704],["T_WHITESPACE"," ",704],".",["T_WHITESPACE","\n                ",704],"(",["T_VARIABLE","$rightIdP",705],["T_WHITESPACE"," ",705],"-",["T_WHITESPACE","\n                ",705],["T_LNUMBER","1",706],["T_WHITESPACE"," ",706],"-",["T_WHITESPACE","\n                ",706],["T_VARIABLE","$rightId",707],")",["T_WHITESPACE"," ",707],".",["T_WHITESPACE","\n                ",707],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",708],["T_WHITESPACE"," ",708],".",["T_WHITESPACE","\n                ",708],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","_left",709],["T_WHITESPACE"," ",709],".",["T_WHITESPACE","\n                ",709],["T_CONSTANT_ENCAPSED_STRING","' END, '",710],["T_WHITESPACE"," ",710],".",["T_WHITESPACE","\n                ",710],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","_right",711],["T_WHITESPACE"," ",711],".",["T_WHITESPACE","\n                ",711],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",712],["T_WHITESPACE"," ",712],".",["T_WHITESPACE","\n                ",712],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","_right",713],["T_WHITESPACE"," ",713],".",["T_WHITESPACE","\n                ",713],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",714],["T_WHITESPACE"," ",714],".",["T_WHITESPACE","\n                ",714],"(",["T_VARIABLE","$rightId",715],["T_WHITESPACE"," ",715],"+",["T_WHITESPACE","\n                ",715],["T_LNUMBER","1",716],")",["T_WHITESPACE"," ",716],".",["T_WHITESPACE","\n                ",716],["T_CONSTANT_ENCAPSED_STRING","' AND '",717],["T_WHITESPACE"," ",717],".",["T_WHITESPACE","\n                ",717],"(",["T_VARIABLE","$rightIdP",718],["T_WHITESPACE"," ",718],"-",["T_WHITESPACE","\n                ",718],["T_LNUMBER","1",719],")",["T_WHITESPACE"," ",719],".",["T_WHITESPACE","\n                ",719],["T_CONSTANT_ENCAPSED_STRING","' THEN '",720],["T_WHITESPACE"," ",720],".",["T_WHITESPACE","\n                ",720],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","_right",721],["T_WHITESPACE"," ",721],".",["T_WHITESPACE","\n                ",721],["T_CONSTANT_ENCAPSED_STRING","'-'",722],["T_WHITESPACE"," ",722],".",["T_WHITESPACE","\n                ",722],"(",["T_VARIABLE","$rightId",723],["T_WHITESPACE"," ",723],"-",["T_WHITESPACE","\n                ",723],["T_VARIABLE","$leftId",724],["T_WHITESPACE"," ",724],"+",["T_WHITESPACE","\n                ",724],["T_LNUMBER","1",725],")",["T_WHITESPACE"," ",725],".",["T_WHITESPACE","\n                ",725],["T_CONSTANT_ENCAPSED_STRING","' '",726],["T_WHITESPACE"," ",726],".",["T_WHITESPACE","\n                ",726],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",727],["T_WHITESPACE"," ",727],".",["T_WHITESPACE","\n                ",727],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","_right",728],["T_WHITESPACE"," ",728],".",["T_WHITESPACE","\n                ",728],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",729],["T_WHITESPACE"," ",729],".",["T_WHITESPACE","\n                ",729],["T_VARIABLE","$leftId",730],["T_WHITESPACE"," ",730],".",["T_WHITESPACE","\n                ",730],["T_CONSTANT_ENCAPSED_STRING","' AND '",731],["T_WHITESPACE"," ",731],".",["T_WHITESPACE","\n                ",731],["T_VARIABLE","$rightId",732],["T_WHITESPACE"," ",732],".",["T_WHITESPACE","\n                ",732],["T_CONSTANT_ENCAPSED_STRING","' THEN '",733],["T_WHITESPACE"," ",733],".",["T_WHITESPACE","\n                ",733],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","_right",734],["T_WHITESPACE"," ",734],".",["T_WHITESPACE","\n                ",734],["T_CONSTANT_ENCAPSED_STRING","'+'",735],["T_WHITESPACE"," ",735],".",["T_WHITESPACE","\n                ",735],"(",["T_VARIABLE","$rightIdP",736],["T_WHITESPACE"," ",736],"-",["T_WHITESPACE","\n                ",736],["T_LNUMBER","1",737],["T_WHITESPACE"," ",737],"-",["T_WHITESPACE","\n                ",737],["T_VARIABLE","$rightId",738],")",["T_WHITESPACE"," ",738],".",["T_WHITESPACE","\n                ",738],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",739],["T_WHITESPACE"," ",739],".",["T_WHITESPACE","\n                ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","_right",740],["T_WHITESPACE"," ",740],".",["T_WHITESPACE","\n                ",740],["T_CONSTANT_ENCAPSED_STRING","' END '",741],["T_WHITESPACE"," ",741],".",["T_WHITESPACE","\n                ",741],["T_CONSTANT_ENCAPSED_STRING","'WHERE ('",742],["T_WHITESPACE"," ",742],".",["T_WHITESPACE","\n                ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","_left",743],["T_WHITESPACE"," ",743],".",["T_WHITESPACE","\n                ",743],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",744],["T_WHITESPACE"," ",744],".",["T_WHITESPACE","\n                ",744],["T_VARIABLE","$leftId",745],["T_WHITESPACE"," ",745],".",["T_WHITESPACE","\n                ",745],["T_CONSTANT_ENCAPSED_STRING","' AND '",746],["T_WHITESPACE"," ",746],".",["T_WHITESPACE","\n                ",746],["T_VARIABLE","$rightIdP",747],["T_WHITESPACE"," ",747],".",["T_WHITESPACE","\n                ",747],["T_CONSTANT_ENCAPSED_STRING","' '",748],["T_WHITESPACE"," ",748],".",["T_WHITESPACE","\n                ",748],["T_CONSTANT_ENCAPSED_STRING","'OR '",749],["T_WHITESPACE"," ",749],".",["T_WHITESPACE","\n                ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","_right",750],["T_WHITESPACE"," ",750],".",["T_WHITESPACE","\n                ",750],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE","\n                ",751],["T_VARIABLE","$leftId",752],["T_WHITESPACE"," ",752],".",["T_WHITESPACE","\n                ",752],["T_CONSTANT_ENCAPSED_STRING","' AND '",753],["T_WHITESPACE"," ",753],".",["T_WHITESPACE","\n                ",753],["T_VARIABLE","$rightIdP",754],["T_WHITESPACE"," ",754],".",["T_WHITESPACE","\n                ",754],["T_CONSTANT_ENCAPSED_STRING","')'",755],";",["T_WHITESPACE","\n        ",755],"}",["T_WHITESPACE","\n\n        ",756],["T_VARIABLE","$this",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","_db",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","beginTransaction",758],"(",")",";",["T_WHITESPACE","\n        ",758],["T_TRY","try",759],["T_WHITESPACE"," ",759],"{",["T_WHITESPACE","\n            ",759],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","_db",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","query",760],"(",["T_VARIABLE","$sql",760],")",";",["T_WHITESPACE","\n            ",760],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","_db",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","commit",761],"(",")",";",["T_WHITESPACE","\n            ",761],["T_ECHO","echo",762],["T_WHITESPACE"," ",762],["T_CONSTANT_ENCAPSED_STRING","\"alert('node moved');\"",762],";",["T_WHITESPACE","\n            ",762],["T_RETURN","return",763],["T_WHITESPACE"," ",763],["T_STRING","true",763],";",["T_WHITESPACE","\n        ",763],"}",["T_WHITESPACE"," ",764],["T_CATCH","catch",764],["T_WHITESPACE"," ",764],"(",["T_NS_SEPARATOR","\\",764],["T_STRING","Exception",764],["T_WHITESPACE"," ",764],["T_VARIABLE","$e",764],")",["T_WHITESPACE"," ",764],"{",["T_WHITESPACE","\n            ",764],["T_VARIABLE","$this",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","_db",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","rollBack",765],"(",")",";",["T_WHITESPACE","\n            ",765],["T_ECHO","echo",766],["T_WHITESPACE"," ",766],["T_CONSTANT_ENCAPSED_STRING","\"alert('node not moved: fatal error');\"",766],";",["T_WHITESPACE","\n            ",766],["T_ECHO","echo",767],["T_WHITESPACE"," ",767],["T_VARIABLE","$e",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","getMessage",767],"(",")",";",["T_WHITESPACE","\n            ",767],["T_ECHO","echo",768],["T_WHITESPACE"," ",768],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",768],";",["T_WHITESPACE","\n            ",768],["T_ECHO","echo",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$sql",769],";",["T_WHITESPACE","\n            ",769],["T_ECHO","echo",770],["T_WHITESPACE"," ",770],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",770],";",["T_WHITESPACE","\n            ",770],["T_EXIT","exit",771],";",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n    ",772],"}",["T_WHITESPACE","\n\n    ",773],["T_DOC_COMMENT","\/**\n     * @param string|int $eId\n     * @param string|int $pId\n     * @param string|int $aId\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     * @SuppressWarnings(PHPMD.ExitExpression)\n     *\/",775],["T_WHITESPACE","\n    ",785],["T_PUBLIC","public",786],["T_WHITESPACE"," ",786],["T_FUNCTION","function",786],["T_WHITESPACE"," ",786],["T_STRING","moveNodes",786],"(",["T_VARIABLE","$eId",786],",",["T_WHITESPACE"," ",786],["T_VARIABLE","$pId",786],",",["T_WHITESPACE"," ",786],["T_VARIABLE","$aId",786],["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],["T_LNUMBER","0",786],")",["T_WHITESPACE","\n    ",786],"{",["T_WHITESPACE","\n        ",787],["T_VARIABLE","$eInfo",788],["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","getNodeInfo",788],"(",["T_VARIABLE","$eId",788],")",";",["T_WHITESPACE","\n        ",788],["T_IF","if",789],["T_WHITESPACE"," ",789],"(",["T_VARIABLE","$pId",789],["T_WHITESPACE"," ",789],["T_IS_NOT_EQUAL","!=",789],["T_WHITESPACE"," ",789],["T_LNUMBER","0",789],")",["T_WHITESPACE"," ",789],"{",["T_WHITESPACE","\n            ",789],["T_VARIABLE","$pInfo",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","getNodeInfo",790],"(",["T_VARIABLE","$pId",790],")",";",["T_WHITESPACE","\n        ",790],"}",["T_WHITESPACE","\n        ",791],["T_IF","if",792],["T_WHITESPACE"," ",792],"(",["T_VARIABLE","$aId",792],["T_WHITESPACE"," ",792],["T_IS_NOT_EQUAL","!=",792],["T_WHITESPACE"," ",792],["T_LNUMBER","0",792],")",["T_WHITESPACE"," ",792],"{",["T_WHITESPACE","\n            ",792],["T_VARIABLE","$aInfo",793],["T_WHITESPACE"," ",793],"=",["T_WHITESPACE"," ",793],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","getNodeInfo",793],"(",["T_VARIABLE","$aId",793],")",";",["T_WHITESPACE","\n        ",793],"}",["T_WHITESPACE","\n\n        ",794],["T_VARIABLE","$level",796],["T_WHITESPACE"," ",796],"=",["T_WHITESPACE"," ",796],["T_VARIABLE","$eInfo",796],"[",["T_VARIABLE","$this",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","_level",796],"]",";",["T_WHITESPACE","\n        ",796],["T_VARIABLE","$leftKey",797],["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_VARIABLE","$eInfo",797],"[",["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","_left",797],"]",";",["T_WHITESPACE","\n        ",797],["T_VARIABLE","$rightKey",798],["T_WHITESPACE"," ",798],"=",["T_WHITESPACE"," ",798],["T_VARIABLE","$eInfo",798],"[",["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","_right",798],"]",";",["T_WHITESPACE","\n        ",798],["T_IF","if",799],["T_WHITESPACE"," ",799],"(",["T_VARIABLE","$pId",799],["T_WHITESPACE"," ",799],["T_IS_EQUAL","==",799],["T_WHITESPACE"," ",799],["T_LNUMBER","0",799],")",["T_WHITESPACE"," ",799],"{",["T_WHITESPACE","\n            ",799],["T_VARIABLE","$levelUp",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_LNUMBER","0",800],";",["T_WHITESPACE","\n        ",800],"}",["T_WHITESPACE"," ",801],["T_ELSE","else",801],["T_WHITESPACE"," ",801],"{",["T_WHITESPACE","\n            ",801],["T_VARIABLE","$levelUp",802],["T_WHITESPACE"," ",802],"=",["T_WHITESPACE"," ",802],["T_VARIABLE","$pInfo",802],"[",["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","_level",802],"]",";",["T_WHITESPACE","\n        ",802],"}",["T_WHITESPACE","\n\n        ",803],["T_VARIABLE","$rightKeyNear",805],["T_WHITESPACE"," ",805],"=",["T_WHITESPACE"," ",805],["T_LNUMBER","0",805],";",["T_WHITESPACE","\n        ",805],["T_VARIABLE","$leftKeyNear",806],["T_WHITESPACE"," ",806],"=",["T_WHITESPACE"," ",806],["T_LNUMBER","0",806],";",["T_WHITESPACE","\n\n        ",806],["T_IF","if",808],["T_WHITESPACE"," ",808],"(",["T_VARIABLE","$pId",808],["T_WHITESPACE"," ",808],["T_IS_EQUAL","==",808],["T_WHITESPACE"," ",808],["T_LNUMBER","0",808],")",["T_WHITESPACE"," ",808],"{",["T_WHITESPACE","\n            ",808],["T_COMMENT","\/\/move to root\n",809],["T_WHITESPACE","            ",810],["T_VARIABLE","$rightKeyNear",810],["T_WHITESPACE"," ",810],"=",["T_WHITESPACE"," ",810],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","_db",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","fetchOne",810],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX('",810],["T_WHITESPACE"," ",810],".",["T_WHITESPACE"," ",810],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","_right",810],["T_WHITESPACE"," ",810],".",["T_WHITESPACE"," ",810],["T_CONSTANT_ENCAPSED_STRING","') FROM '",810],["T_WHITESPACE"," ",810],".",["T_WHITESPACE"," ",810],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","_table",810],")",";",["T_WHITESPACE","\n        ",810],"}",["T_WHITESPACE"," ",811],["T_ELSEIF","elseif",811],["T_WHITESPACE"," ",811],"(",["T_VARIABLE","$aId",811],["T_WHITESPACE"," ",811],["T_IS_NOT_EQUAL","!=",811],["T_WHITESPACE"," ",811],["T_LNUMBER","0",811],["T_WHITESPACE"," ",811],["T_BOOLEAN_AND","&&",811],["T_WHITESPACE"," ",811],["T_VARIABLE","$pId",811],["T_WHITESPACE"," ",811],["T_IS_EQUAL","==",811],["T_WHITESPACE"," ",811],["T_VARIABLE","$eInfo",811],"[",["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","_pid",811],"]",")",["T_WHITESPACE"," ",811],"{",["T_WHITESPACE","\n            ",811],["T_COMMENT","\/\/ if we have after ID\n",812],["T_WHITESPACE","            ",813],["T_VARIABLE","$rightKeyNear",813],["T_WHITESPACE"," ",813],"=",["T_WHITESPACE"," ",813],["T_VARIABLE","$aInfo",813],"[",["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","_right",813],"]",";",["T_WHITESPACE","\n            ",813],["T_VARIABLE","$leftKeyNear",814],["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_VARIABLE","$aInfo",814],"[",["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","_left",814],"]",";",["T_WHITESPACE","\n        ",814],"}",["T_WHITESPACE"," ",815],["T_ELSEIF","elseif",815],["T_WHITESPACE"," ",815],"(",["T_VARIABLE","$aId",815],["T_WHITESPACE"," ",815],["T_IS_EQUAL","==",815],["T_WHITESPACE"," ",815],["T_LNUMBER","0",815],["T_WHITESPACE"," ",815],["T_BOOLEAN_AND","&&",815],["T_WHITESPACE"," ",815],["T_VARIABLE","$pId",815],["T_WHITESPACE"," ",815],["T_IS_EQUAL","==",815],["T_WHITESPACE"," ",815],["T_VARIABLE","$eInfo",815],"[",["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","_pid",815],"]",")",["T_WHITESPACE"," ",815],"{",["T_WHITESPACE","\n            ",815],["T_COMMENT","\/\/ if we do not have after ID\n",816],["T_WHITESPACE","            ",817],["T_VARIABLE","$rightKeyNear",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$pInfo",817],"[",["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","_left",817],"]",";",["T_WHITESPACE","\n        ",817],"}",["T_WHITESPACE"," ",818],["T_ELSEIF","elseif",818],["T_WHITESPACE"," ",818],"(",["T_VARIABLE","$pId",818],["T_WHITESPACE"," ",818],["T_IS_NOT_EQUAL","!=",818],["T_WHITESPACE"," ",818],["T_VARIABLE","$eInfo",818],"[",["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","_pid",818],"]",")",["T_WHITESPACE"," ",818],"{",["T_WHITESPACE","\n            ",818],["T_VARIABLE","$rightKeyNear",819],["T_WHITESPACE"," ",819],"=",["T_WHITESPACE"," ",819],["T_VARIABLE","$pInfo",819],"[",["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","_right",819],"]",["T_WHITESPACE"," ",819],"-",["T_WHITESPACE"," ",819],["T_LNUMBER","1",819],";",["T_WHITESPACE","\n        ",819],"}",["T_WHITESPACE","\n\n        ",820],["T_VARIABLE","$skewLevel",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_VARIABLE","$pInfo",822],"[",["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","_level",822],"]",["T_WHITESPACE"," ",822],"-",["T_WHITESPACE"," ",822],["T_VARIABLE","$eInfo",822],"[",["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","_level",822],"]",["T_WHITESPACE"," ",822],"+",["T_WHITESPACE"," ",822],["T_LNUMBER","1",822],";",["T_WHITESPACE","\n        ",822],["T_VARIABLE","$skewTree",823],["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_VARIABLE","$eInfo",823],"[",["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","_right",823],"]",["T_WHITESPACE"," ",823],"-",["T_WHITESPACE"," ",823],["T_VARIABLE","$eInfo",823],"[",["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","_left",823],"]",["T_WHITESPACE"," ",823],"+",["T_WHITESPACE"," ",823],["T_LNUMBER","1",823],";",["T_WHITESPACE","\n\n        ",823],["T_ECHO","echo",825],["T_WHITESPACE"," ",825],["T_CONSTANT_ENCAPSED_STRING","\"alert('\"",825],["T_WHITESPACE"," ",825],".",["T_WHITESPACE"," ",825],["T_VARIABLE","$rightKeyNear",825],["T_WHITESPACE"," ",825],".",["T_WHITESPACE"," ",825],["T_CONSTANT_ENCAPSED_STRING","\"');\"",825],";",["T_WHITESPACE","\n\n        ",825],["T_IF","if",827],["T_WHITESPACE"," ",827],"(",["T_VARIABLE","$rightKeyNear",827],["T_WHITESPACE"," ",827],">",["T_WHITESPACE"," ",827],["T_VARIABLE","$rightKey",827],")",["T_WHITESPACE"," ",827],"{",["T_WHITESPACE","\n            ",827],["T_COMMENT","\/\/ up\n",828],["T_WHITESPACE","            ",829],["T_ECHO","echo",829],["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","\"alert('move up');\"",829],";",["T_WHITESPACE","\n            ",829],["T_VARIABLE","$skewEdit",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_VARIABLE","$rightKeyNear",830],["T_WHITESPACE"," ",830],"-",["T_WHITESPACE"," ",830],["T_VARIABLE","$leftKey",830],["T_WHITESPACE"," ",830],"+",["T_WHITESPACE"," ",830],["T_LNUMBER","1",830],";",["T_WHITESPACE","\n            ",830],["T_VARIABLE","$sql",831],["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",831],["T_WHITESPACE"," ",831],".",["T_WHITESPACE","\n                ",831],["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","_table",832],["T_WHITESPACE"," ",832],".",["T_WHITESPACE","\n                ",832],["T_CONSTANT_ENCAPSED_STRING","' SET '",833],["T_WHITESPACE"," ",833],".",["T_WHITESPACE","\n                ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","_right",834],["T_WHITESPACE"," ",834],".",["T_WHITESPACE","\n                ",834],["T_CONSTANT_ENCAPSED_STRING","' = IF('",835],["T_WHITESPACE"," ",835],".",["T_WHITESPACE","\n                ",835],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","_left",836],["T_WHITESPACE"," ",836],".",["T_WHITESPACE","\n                ",836],["T_CONSTANT_ENCAPSED_STRING","' >= '",837],["T_WHITESPACE"," ",837],".",["T_WHITESPACE","\n                ",837],["T_VARIABLE","$eInfo",838],"[",["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","_left",838],"]",["T_WHITESPACE"," ",838],".",["T_WHITESPACE","\n                ",838],["T_CONSTANT_ENCAPSED_STRING","', '",839],["T_WHITESPACE"," ",839],".",["T_WHITESPACE","\n                ",839],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","_right",840],["T_WHITESPACE"," ",840],".",["T_WHITESPACE","\n                ",840],["T_CONSTANT_ENCAPSED_STRING","' + '",841],["T_WHITESPACE"," ",841],".",["T_WHITESPACE","\n                ",841],["T_VARIABLE","$skewEdit",842],["T_WHITESPACE"," ",842],".",["T_WHITESPACE","\n                ",842],["T_CONSTANT_ENCAPSED_STRING","', IF('",843],["T_WHITESPACE"," ",843],".",["T_WHITESPACE","\n                ",843],["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","_right",844],["T_WHITESPACE"," ",844],".",["T_WHITESPACE","\n                ",844],["T_CONSTANT_ENCAPSED_STRING","' < '",845],["T_WHITESPACE"," ",845],".",["T_WHITESPACE","\n                ",845],["T_VARIABLE","$eInfo",846],"[",["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","_left",846],"]",["T_WHITESPACE"," ",846],".",["T_WHITESPACE","\n                ",846],["T_CONSTANT_ENCAPSED_STRING","', '",847],["T_WHITESPACE"," ",847],".",["T_WHITESPACE","\n                ",847],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","_right",848],["T_WHITESPACE"," ",848],".",["T_WHITESPACE","\n                ",848],["T_CONSTANT_ENCAPSED_STRING","' + '",849],["T_WHITESPACE"," ",849],".",["T_WHITESPACE","\n                ",849],["T_VARIABLE","$skewTree",850],["T_WHITESPACE"," ",850],".",["T_WHITESPACE","\n                ",850],["T_CONSTANT_ENCAPSED_STRING","', '",851],["T_WHITESPACE"," ",851],".",["T_WHITESPACE","\n                ",851],["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","_right",852],["T_WHITESPACE"," ",852],".",["T_WHITESPACE","\n                ",852],["T_CONSTANT_ENCAPSED_STRING","')), '",853],["T_WHITESPACE"," ",853],".",["T_WHITESPACE","\n                ",853],["T_VARIABLE","$this",854],["T_OBJECT_OPERATOR","->",854],["T_STRING","_level",854],["T_WHITESPACE"," ",854],".",["T_WHITESPACE","\n                ",854],["T_CONSTANT_ENCAPSED_STRING","' = IF('",855],["T_WHITESPACE"," ",855],".",["T_WHITESPACE","\n                ",855],["T_VARIABLE","$this",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","_left",856],["T_WHITESPACE"," ",856],".",["T_WHITESPACE","\n                ",856],["T_CONSTANT_ENCAPSED_STRING","' >= '",857],["T_WHITESPACE"," ",857],".",["T_WHITESPACE","\n                ",857],["T_VARIABLE","$eInfo",858],"[",["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","_left",858],"]",["T_WHITESPACE"," ",858],".",["T_WHITESPACE","\n                ",858],["T_CONSTANT_ENCAPSED_STRING","', '",859],["T_WHITESPACE"," ",859],".",["T_WHITESPACE","\n                ",859],["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","_level",860],["T_WHITESPACE"," ",860],".",["T_WHITESPACE","\n                ",860],["T_CONSTANT_ENCAPSED_STRING","' + '",861],["T_WHITESPACE"," ",861],".",["T_WHITESPACE","\n                ",861],["T_VARIABLE","$skewLevel",862],["T_WHITESPACE"," ",862],".",["T_WHITESPACE","\n                ",862],["T_CONSTANT_ENCAPSED_STRING","', '",863],["T_WHITESPACE"," ",863],".",["T_WHITESPACE","\n                ",863],["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","_level",864],["T_WHITESPACE"," ",864],".",["T_WHITESPACE","\n                ",864],["T_CONSTANT_ENCAPSED_STRING","'), '",865],["T_WHITESPACE"," ",865],".",["T_WHITESPACE","\n                ",865],["T_VARIABLE","$this",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","_left",866],["T_WHITESPACE"," ",866],".",["T_WHITESPACE","\n                ",866],["T_CONSTANT_ENCAPSED_STRING","' = IF('",867],["T_WHITESPACE"," ",867],".",["T_WHITESPACE","\n                ",867],["T_VARIABLE","$this",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","_left",868],["T_WHITESPACE"," ",868],".",["T_WHITESPACE","\n                ",868],["T_CONSTANT_ENCAPSED_STRING","' >= '",869],["T_WHITESPACE"," ",869],".",["T_WHITESPACE","\n                ",869],["T_VARIABLE","$eInfo",870],"[",["T_VARIABLE","$this",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","_left",870],"]",["T_WHITESPACE"," ",870],".",["T_WHITESPACE","\n                ",870],["T_CONSTANT_ENCAPSED_STRING","', '",871],["T_WHITESPACE"," ",871],".",["T_WHITESPACE","\n                ",871],["T_VARIABLE","$this",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","_left",872],["T_WHITESPACE"," ",872],".",["T_WHITESPACE","\n                ",872],["T_CONSTANT_ENCAPSED_STRING","' + '",873],["T_WHITESPACE"," ",873],".",["T_WHITESPACE","\n                ",873],["T_VARIABLE","$skewEdit",874],["T_WHITESPACE"," ",874],".",["T_WHITESPACE","\n                ",874],["T_CONSTANT_ENCAPSED_STRING","', IF('",875],["T_WHITESPACE"," ",875],".",["T_WHITESPACE","\n                ",875],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","_left",876],["T_WHITESPACE"," ",876],".",["T_WHITESPACE","\n                ",876],["T_CONSTANT_ENCAPSED_STRING","' > '",877],["T_WHITESPACE"," ",877],".",["T_WHITESPACE","\n                ",877],["T_VARIABLE","$rightKeyNear",878],["T_WHITESPACE"," ",878],".",["T_WHITESPACE","\n                ",878],["T_CONSTANT_ENCAPSED_STRING","', '",879],["T_WHITESPACE"," ",879],".",["T_WHITESPACE","\n                ",879],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","_left",880],["T_WHITESPACE"," ",880],".",["T_WHITESPACE","\n                ",880],["T_CONSTANT_ENCAPSED_STRING","' + '",881],["T_WHITESPACE"," ",881],".",["T_WHITESPACE","\n                ",881],["T_VARIABLE","$skewTree",882],["T_WHITESPACE"," ",882],".",["T_WHITESPACE","\n                ",882],["T_CONSTANT_ENCAPSED_STRING","', '",883],["T_WHITESPACE"," ",883],".",["T_WHITESPACE","\n                ",883],["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","_left",884],["T_WHITESPACE"," ",884],".",["T_WHITESPACE","\n                ",884],["T_CONSTANT_ENCAPSED_STRING","'))'",885],["T_WHITESPACE"," ",885],".",["T_WHITESPACE","\n                ",885],["T_CONSTANT_ENCAPSED_STRING","' WHERE '",886],["T_WHITESPACE"," ",886],".",["T_WHITESPACE","\n                ",886],["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","_right",887],["T_WHITESPACE"," ",887],".",["T_WHITESPACE","\n                ",887],["T_CONSTANT_ENCAPSED_STRING","' > '",888],["T_WHITESPACE"," ",888],".",["T_WHITESPACE","\n                ",888],["T_VARIABLE","$rightKeyNear",889],["T_WHITESPACE"," ",889],".",["T_WHITESPACE","\n                ",889],["T_CONSTANT_ENCAPSED_STRING","' AND '",890],["T_WHITESPACE"," ",890],".",["T_WHITESPACE","\n                ",890],["T_VARIABLE","$this",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","_left",891],["T_WHITESPACE"," ",891],".",["T_WHITESPACE","\n                ",891],["T_CONSTANT_ENCAPSED_STRING","' < '",892],["T_WHITESPACE"," ",892],".",["T_WHITESPACE","\n                ",892],["T_VARIABLE","$eInfo",893],"[",["T_VARIABLE","$this",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","_right",893],"]",";",["T_WHITESPACE","\n        ",893],"}",["T_WHITESPACE"," ",894],["T_ELSEIF","elseif",894],["T_WHITESPACE"," ",894],"(",["T_VARIABLE","$rightKeyNear",894],["T_WHITESPACE"," ",894],"<",["T_WHITESPACE"," ",894],["T_VARIABLE","$rightKey",894],")",["T_WHITESPACE"," ",894],"{",["T_WHITESPACE","\n            ",894],["T_COMMENT","\/\/ down\n",895],["T_WHITESPACE","            ",896],["T_ECHO","echo",896],["T_WHITESPACE"," ",896],["T_CONSTANT_ENCAPSED_STRING","\"alert('move down');\"",896],";",["T_WHITESPACE","\n            ",896],["T_VARIABLE","$skewEdit",897],["T_WHITESPACE"," ",897],"=",["T_WHITESPACE"," ",897],["T_VARIABLE","$rightKeyNear",897],["T_WHITESPACE"," ",897],"-",["T_WHITESPACE"," ",897],["T_VARIABLE","$leftKey",897],["T_WHITESPACE"," ",897],"+",["T_WHITESPACE"," ",897],["T_LNUMBER","1",897],["T_WHITESPACE"," ",897],"-",["T_WHITESPACE"," ",897],["T_VARIABLE","$skewTree",897],";",["T_WHITESPACE","\n            ",897],["T_VARIABLE","$sql",898],["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",898],["T_WHITESPACE"," ",898],".",["T_WHITESPACE","\n                ",898],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","_table",899],["T_WHITESPACE"," ",899],".",["T_WHITESPACE","\n                ",899],["T_CONSTANT_ENCAPSED_STRING","' SET '",900],["T_WHITESPACE"," ",900],".",["T_WHITESPACE","\n                ",900],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","_left",901],["T_WHITESPACE"," ",901],".",["T_WHITESPACE","\n                ",901],["T_CONSTANT_ENCAPSED_STRING","' = IF('",902],["T_WHITESPACE"," ",902],".",["T_WHITESPACE","\n                ",902],["T_VARIABLE","$this",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","_right",903],["T_WHITESPACE"," ",903],".",["T_WHITESPACE","\n                ",903],["T_CONSTANT_ENCAPSED_STRING","' <= '",904],["T_WHITESPACE"," ",904],".",["T_WHITESPACE","\n                ",904],["T_VARIABLE","$rightKey",905],["T_WHITESPACE"," ",905],".",["T_WHITESPACE","\n                ",905],["T_CONSTANT_ENCAPSED_STRING","', '",906],["T_WHITESPACE"," ",906],".",["T_WHITESPACE","\n                ",906],["T_VARIABLE","$this",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","_left",907],["T_WHITESPACE"," ",907],".",["T_WHITESPACE","\n                ",907],["T_CONSTANT_ENCAPSED_STRING","' + '",908],["T_WHITESPACE"," ",908],".",["T_WHITESPACE","\n                ",908],["T_VARIABLE","$skewEdit",909],["T_WHITESPACE"," ",909],".",["T_WHITESPACE","\n                ",909],["T_CONSTANT_ENCAPSED_STRING","', IF('",910],["T_WHITESPACE"," ",910],".",["T_WHITESPACE","\n                ",910],["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","_left",911],["T_WHITESPACE"," ",911],".",["T_WHITESPACE","\n                ",911],["T_CONSTANT_ENCAPSED_STRING","' > '",912],["T_WHITESPACE"," ",912],".",["T_WHITESPACE","\n                ",912],["T_VARIABLE","$rightKey",913],["T_WHITESPACE"," ",913],".",["T_WHITESPACE","\n                ",913],["T_CONSTANT_ENCAPSED_STRING","', '",914],["T_WHITESPACE"," ",914],".",["T_WHITESPACE","\n                ",914],["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","_left",915],["T_WHITESPACE"," ",915],".",["T_WHITESPACE","\n                ",915],["T_CONSTANT_ENCAPSED_STRING","' - '",916],["T_WHITESPACE"," ",916],".",["T_WHITESPACE","\n                ",916],["T_VARIABLE","$skewTree",917],["T_WHITESPACE"," ",917],".",["T_WHITESPACE","\n                ",917],["T_CONSTANT_ENCAPSED_STRING","', '",918],["T_WHITESPACE"," ",918],".",["T_WHITESPACE","\n                ",918],["T_VARIABLE","$this",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","_left",919],["T_WHITESPACE"," ",919],".",["T_WHITESPACE","\n                ",919],["T_CONSTANT_ENCAPSED_STRING","')), '",920],["T_WHITESPACE"," ",920],".",["T_WHITESPACE","\n                ",920],["T_VARIABLE","$this",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","_level",921],["T_WHITESPACE"," ",921],".",["T_WHITESPACE","\n                ",921],["T_CONSTANT_ENCAPSED_STRING","' = IF('",922],["T_WHITESPACE"," ",922],".",["T_WHITESPACE","\n                ",922],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","_right",923],["T_WHITESPACE"," ",923],".",["T_WHITESPACE","\n                ",923],["T_CONSTANT_ENCAPSED_STRING","' <= '",924],["T_WHITESPACE"," ",924],".",["T_WHITESPACE","\n                ",924],["T_VARIABLE","$rightKey",925],["T_WHITESPACE"," ",925],".",["T_WHITESPACE","\n                ",925],["T_CONSTANT_ENCAPSED_STRING","', '",926],["T_WHITESPACE"," ",926],".",["T_WHITESPACE","\n                ",926],["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","_level",927],["T_WHITESPACE"," ",927],".",["T_WHITESPACE","\n                ",927],["T_CONSTANT_ENCAPSED_STRING","' + '",928],["T_WHITESPACE"," ",928],".",["T_WHITESPACE","\n                ",928],["T_VARIABLE","$skewLevel",929],["T_WHITESPACE"," ",929],".",["T_WHITESPACE","\n                ",929],["T_CONSTANT_ENCAPSED_STRING","', '",930],["T_WHITESPACE"," ",930],".",["T_WHITESPACE","\n                ",930],["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","_level",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE","\n                ",931],["T_CONSTANT_ENCAPSED_STRING","'), '",932],["T_WHITESPACE"," ",932],".",["T_WHITESPACE","\n                ",932],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","_right",933],["T_WHITESPACE"," ",933],".",["T_WHITESPACE","\n                ",933],["T_CONSTANT_ENCAPSED_STRING","' = IF('",934],["T_WHITESPACE"," ",934],".",["T_WHITESPACE","\n                ",934],["T_VARIABLE","$this",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","_right",935],["T_WHITESPACE"," ",935],".",["T_WHITESPACE","\n                ",935],["T_CONSTANT_ENCAPSED_STRING","' <= '",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE","\n                ",936],["T_VARIABLE","$rightKey",937],["T_WHITESPACE"," ",937],".",["T_WHITESPACE","\n                ",937],["T_CONSTANT_ENCAPSED_STRING","', '",938],["T_WHITESPACE"," ",938],".",["T_WHITESPACE","\n                ",938],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","_right",939],["T_WHITESPACE"," ",939],".",["T_WHITESPACE","\n                ",939],["T_CONSTANT_ENCAPSED_STRING","' + '",940],["T_WHITESPACE"," ",940],".",["T_WHITESPACE","\n                ",940],["T_VARIABLE","$skewEdit",941],["T_WHITESPACE"," ",941],".",["T_WHITESPACE","\n                ",941],["T_CONSTANT_ENCAPSED_STRING","', IF('",942],["T_WHITESPACE"," ",942],".",["T_WHITESPACE","\n                ",942],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","_right",943],["T_WHITESPACE"," ",943],".",["T_WHITESPACE","\n                ",943],["T_CONSTANT_ENCAPSED_STRING","' <= '",944],["T_WHITESPACE"," ",944],".",["T_WHITESPACE","\n                ",944],["T_VARIABLE","$rightKeyNear",945],["T_WHITESPACE"," ",945],".",["T_WHITESPACE","\n                ",945],["T_CONSTANT_ENCAPSED_STRING","', '",946],["T_WHITESPACE"," ",946],".",["T_WHITESPACE","\n                ",946],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","_right",947],["T_WHITESPACE"," ",947],".",["T_WHITESPACE","\n                ",947],["T_CONSTANT_ENCAPSED_STRING","' - '",948],["T_WHITESPACE"," ",948],".",["T_WHITESPACE","\n                ",948],["T_VARIABLE","$skewTree",949],["T_WHITESPACE"," ",949],".",["T_WHITESPACE","\n                ",949],["T_CONSTANT_ENCAPSED_STRING","', '",950],["T_WHITESPACE"," ",950],".",["T_WHITESPACE","\n                ",950],["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","_right",951],["T_WHITESPACE"," ",951],".",["T_WHITESPACE","\n                ",951],["T_CONSTANT_ENCAPSED_STRING","'))'",952],["T_WHITESPACE"," ",952],".",["T_WHITESPACE","\n                ",952],["T_CONSTANT_ENCAPSED_STRING","' WHERE '",953],["T_WHITESPACE"," ",953],".",["T_WHITESPACE","\n                ",953],["T_VARIABLE","$this",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","_right",954],["T_WHITESPACE"," ",954],".",["T_WHITESPACE","\n                ",954],["T_CONSTANT_ENCAPSED_STRING","' > '",955],["T_WHITESPACE"," ",955],".",["T_WHITESPACE","\n                ",955],["T_VARIABLE","$leftKey",956],["T_WHITESPACE"," ",956],".",["T_WHITESPACE","\n                ",956],["T_CONSTANT_ENCAPSED_STRING","' AND '",957],["T_WHITESPACE"," ",957],".",["T_WHITESPACE","\n                ",957],["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","_left",958],["T_WHITESPACE"," ",958],".",["T_WHITESPACE","\n                ",958],["T_CONSTANT_ENCAPSED_STRING","' <= '",959],["T_WHITESPACE"," ",959],".",["T_WHITESPACE","\n                ",959],["T_VARIABLE","$rightKeyNear",960],";",["T_WHITESPACE","\n        ",960],"}",["T_WHITESPACE","\n\n        ",961],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","_db",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","beginTransaction",963],"(",")",";",["T_WHITESPACE","\n        ",963],["T_TRY","try",964],["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n            ",964],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","_db",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","query",965],"(",["T_VARIABLE","$sql",965],")",";",["T_WHITESPACE","\n            ",965],["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","_db",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","commit",966],"(",")",";",["T_WHITESPACE","\n        ",966],"}",["T_WHITESPACE"," ",967],["T_CATCH","catch",967],["T_WHITESPACE"," ",967],"(",["T_NS_SEPARATOR","\\",967],["T_STRING","Exception",967],["T_WHITESPACE"," ",967],["T_VARIABLE","$e",967],")",["T_WHITESPACE"," ",967],"{",["T_WHITESPACE","\n            ",967],["T_VARIABLE","$this",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","_db",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","rollBack",968],"(",")",";",["T_WHITESPACE","\n            ",968],["T_ECHO","echo",969],["T_WHITESPACE"," ",969],["T_VARIABLE","$e",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","getMessage",969],"(",")",";",["T_WHITESPACE","\n            ",969],["T_ECHO","echo",970],["T_WHITESPACE"," ",970],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",970],";",["T_WHITESPACE","\n            ",970],["T_ECHO","echo",971],["T_WHITESPACE"," ",971],["T_VARIABLE","$sql",971],";",["T_WHITESPACE","\n            ",971],["T_ECHO","echo",972],["T_WHITESPACE"," ",972],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",972],";",["T_WHITESPACE","\n            ",972],["T_EXIT","exit",973],";",["T_WHITESPACE","\n        ",973],"}",["T_WHITESPACE","\n        ",974],["T_ECHO","echo",975],["T_WHITESPACE"," ",975],["T_CONSTANT_ENCAPSED_STRING","\"alert('node added')\"",975],";",["T_WHITESPACE","\n    ",975],"}",["T_WHITESPACE","\n\n    ",976],["T_DOC_COMMENT","\/**\n     * @param string $tableName\n     * @param string $joinCondition\n     * @param string $fields\n     * @return void\n     *\/",978],["T_WHITESPACE","\n    ",983],["T_PUBLIC","public",984],["T_WHITESPACE"," ",984],["T_FUNCTION","function",984],["T_WHITESPACE"," ",984],["T_STRING","addTable",984],"(",["T_VARIABLE","$tableName",984],",",["T_WHITESPACE"," ",984],["T_VARIABLE","$joinCondition",984],",",["T_WHITESPACE"," ",984],["T_VARIABLE","$fields",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_CONSTANT_ENCAPSED_STRING","'*'",984],")",["T_WHITESPACE","\n    ",984],"{",["T_WHITESPACE","\n        ",985],["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","_extTables",986],"[",["T_VARIABLE","$tableName",986],"]",["T_WHITESPACE"," ",986],"=",["T_WHITESPACE"," ",986],"[",["T_CONSTANT_ENCAPSED_STRING","'joinCondition'",986],["T_WHITESPACE"," ",986],["T_DOUBLE_ARROW","=>",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$joinCondition",986],",",["T_WHITESPACE"," ",986],["T_CONSTANT_ENCAPSED_STRING","'fields'",986],["T_WHITESPACE"," ",986],["T_DOUBLE_ARROW","=>",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$fields",986],"]",";",["T_WHITESPACE","\n    ",986],"}",["T_WHITESPACE","\n\n    ",987],["T_DOC_COMMENT","\/**\n     * @param Select $select\n     * @return void\n     *\/",989],["T_WHITESPACE","\n    ",992],["T_PROTECTED","protected",993],["T_WHITESPACE"," ",993],["T_FUNCTION","function",993],["T_WHITESPACE"," ",993],["T_STRING","_addExtTablesToSelect",993],"(",["T_STRING","Select",993],["T_WHITESPACE"," ",993],"&",["T_VARIABLE","$select",993],")",["T_WHITESPACE","\n    ",993],"{",["T_WHITESPACE","\n        ",994],["T_FOREACH","foreach",995],["T_WHITESPACE"," ",995],"(",["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","_extTables",995],["T_WHITESPACE"," ",995],["T_AS","as",995],["T_WHITESPACE"," ",995],["T_VARIABLE","$tableName",995],["T_WHITESPACE"," ",995],["T_DOUBLE_ARROW","=>",995],["T_WHITESPACE"," ",995],["T_VARIABLE","$info",995],")",["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n            ",995],["T_VARIABLE","$select",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","joinInner",996],"(",["T_VARIABLE","$tableName",996],",",["T_WHITESPACE"," ",996],["T_VARIABLE","$info",996],"[",["T_CONSTANT_ENCAPSED_STRING","'joinCondition'",996],"]",",",["T_WHITESPACE"," ",996],["T_VARIABLE","$info",996],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",996],"]",")",";",["T_WHITESPACE","\n        ",996],"}",["T_WHITESPACE","\n    ",997],"}",["T_WHITESPACE","\n\n    ",998],["T_DOC_COMMENT","\/**\n     * @param string|int $nodeId\n     * @param int $startLevel\n     * @param int $endLevel\n     * @return NodeSet\n     * @SuppressWarnings(PHPMD.ExitExpression)\n     *\/",1000],["T_WHITESPACE","\n    ",1006],["T_PUBLIC","public",1007],["T_WHITESPACE"," ",1007],["T_FUNCTION","function",1007],["T_WHITESPACE"," ",1007],["T_STRING","getChildren",1007],"(",["T_VARIABLE","$nodeId",1007],",",["T_WHITESPACE"," ",1007],["T_VARIABLE","$startLevel",1007],["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE"," ",1007],["T_LNUMBER","0",1007],",",["T_WHITESPACE"," ",1007],["T_VARIABLE","$endLevel",1007],["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE"," ",1007],["T_LNUMBER","0",1007],")",["T_WHITESPACE","\n    ",1007],"{",["T_WHITESPACE","\n        ",1008],["T_TRY","try",1009],["T_WHITESPACE"," ",1009],"{",["T_WHITESPACE","\n            ",1009],["T_VARIABLE","$info",1010],["T_WHITESPACE"," ",1010],"=",["T_WHITESPACE"," ",1010],["T_VARIABLE","$this",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","getNodeInfo",1010],"(",["T_VARIABLE","$nodeId",1010],")",";",["T_WHITESPACE","\n        ",1010],"}",["T_WHITESPACE"," ",1011],["T_CATCH","catch",1011],["T_WHITESPACE"," ",1011],"(",["T_NS_SEPARATOR","\\",1011],["T_STRING","Exception",1011],["T_WHITESPACE"," ",1011],["T_VARIABLE","$e",1011],")",["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n            ",1011],["T_ECHO","echo",1012],["T_WHITESPACE"," ",1012],["T_VARIABLE","$e",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","getMessage",1012],"(",")",";",["T_WHITESPACE","\n            ",1012],["T_EXIT","exit",1013],";",["T_WHITESPACE","\n        ",1013],"}",["T_WHITESPACE","\n\n        ",1014],["T_VARIABLE","$dbSelect",1016],["T_WHITESPACE"," ",1016],"=",["T_WHITESPACE"," ",1016],["T_NEW","new",1016],["T_WHITESPACE"," ",1016],["T_STRING","Select",1016],"(",["T_VARIABLE","$this",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","_db",1016],")",";",["T_WHITESPACE","\n        ",1016],["T_VARIABLE","$dbSelect",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","from",1017],"(",["T_WHITESPACE","\n            ",1017],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","_table",1018],["T_WHITESPACE","\n        ",1018],")",["T_OBJECT_OPERATOR","->",1019],["T_STRING","where",1019],"(",["T_WHITESPACE","\n            ",1019],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","_left",1020],["T_WHITESPACE"," ",1020],".",["T_WHITESPACE"," ",1020],["T_CONSTANT_ENCAPSED_STRING","' >= :left'",1020],["T_WHITESPACE","\n        ",1020],")",["T_OBJECT_OPERATOR","->",1021],["T_STRING","where",1021],"(",["T_WHITESPACE","\n            ",1021],["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","_right",1022],["T_WHITESPACE"," ",1022],".",["T_WHITESPACE"," ",1022],["T_CONSTANT_ENCAPSED_STRING","' <= :right'",1022],["T_WHITESPACE","\n        ",1022],")",["T_OBJECT_OPERATOR","->",1023],["T_STRING","order",1023],"(",["T_WHITESPACE","\n            ",1023],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","_left",1024],["T_WHITESPACE","\n        ",1024],")",";",["T_WHITESPACE","\n\n        ",1025],["T_VARIABLE","$this",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","_addExtTablesToSelect",1027],"(",["T_VARIABLE","$dbSelect",1027],")",";",["T_WHITESPACE","\n\n        ",1027],["T_VARIABLE","$data",1029],["T_WHITESPACE"," ",1029],"=",["T_WHITESPACE"," ",1029],"[","]",";",["T_WHITESPACE","\n        ",1029],["T_VARIABLE","$data",1030],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",1030],"]",["T_WHITESPACE"," ",1030],"=",["T_WHITESPACE"," ",1030],["T_VARIABLE","$info",1030],"[",["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","_left",1030],"]",";",["T_WHITESPACE","\n        ",1030],["T_VARIABLE","$data",1031],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",1031],"]",["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_VARIABLE","$info",1031],"[",["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","_right",1031],"]",";",["T_WHITESPACE","\n\n        ",1031],["T_IF","if",1033],["T_WHITESPACE"," ",1033],"(","!",["T_EMPTY","empty",1033],"(",["T_VARIABLE","$startLevel",1033],")",["T_WHITESPACE"," ",1033],["T_BOOLEAN_AND","&&",1033],["T_WHITESPACE"," ",1033],["T_EMPTY","empty",1033],"(",["T_VARIABLE","$endLevel",1033],")",")",["T_WHITESPACE"," ",1033],"{",["T_WHITESPACE","\n            ",1033],["T_VARIABLE","$dbSelect",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","where",1034],"(",["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","_level",1034],["T_WHITESPACE"," ",1034],".",["T_WHITESPACE"," ",1034],["T_CONSTANT_ENCAPSED_STRING","' = :minLevel'",1034],")",";",["T_WHITESPACE","\n            ",1034],["T_VARIABLE","$data",1035],"[",["T_CONSTANT_ENCAPSED_STRING","'minLevel'",1035],"]",["T_WHITESPACE"," ",1035],"=",["T_WHITESPACE"," ",1035],["T_VARIABLE","$info",1035],"[",["T_VARIABLE","$this",1035],["T_OBJECT_OPERATOR","->",1035],["T_STRING","_level",1035],"]",["T_WHITESPACE"," ",1035],"+",["T_WHITESPACE"," ",1035],["T_VARIABLE","$startLevel",1035],";",["T_WHITESPACE","\n        ",1035],"}",["T_WHITESPACE","\n\n        ",1036],["T_COMMENT","\/\/echo $dbSelect->__toString();\n",1038],["T_WHITESPACE","        ",1039],["T_VARIABLE","$data",1039],["T_WHITESPACE"," ",1039],"=",["T_WHITESPACE"," ",1039],["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","_db",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","fetchAll",1039],"(",["T_VARIABLE","$dbSelect",1039],",",["T_WHITESPACE"," ",1039],["T_VARIABLE","$data",1039],")",";",["T_WHITESPACE","\n\n        ",1039],["T_VARIABLE","$nodeSet",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],["T_NEW","new",1041],["T_WHITESPACE"," ",1041],["T_STRING","NodeSet",1041],"(",")",";",["T_WHITESPACE","\n        ",1041],["T_FOREACH","foreach",1042],["T_WHITESPACE"," ",1042],"(",["T_VARIABLE","$data",1042],["T_WHITESPACE"," ",1042],["T_AS","as",1042],["T_WHITESPACE"," ",1042],["T_VARIABLE","$node",1042],")",["T_WHITESPACE"," ",1042],"{",["T_WHITESPACE","\n            ",1042],["T_VARIABLE","$nodeSet",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","addNode",1043],"(",["T_NEW","new",1043],["T_WHITESPACE"," ",1043],["T_STRING","Node",1043],"(",["T_VARIABLE","$node",1043],",",["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","getKeys",1043],"(",")",")",")",";",["T_WHITESPACE","\n        ",1043],"}",["T_WHITESPACE","\n        ",1044],["T_RETURN","return",1045],["T_WHITESPACE"," ",1045],["T_VARIABLE","$nodeSet",1045],";",["T_WHITESPACE","\n    ",1045],"}",["T_WHITESPACE","\n\n    ",1046],["T_DOC_COMMENT","\/**\n     * @param string|int $nodeId\n     * @return Node\n     *\/",1048],["T_WHITESPACE","\n    ",1051],["T_PUBLIC","public",1052],["T_WHITESPACE"," ",1052],["T_FUNCTION","function",1052],["T_WHITESPACE"," ",1052],["T_STRING","getNode",1052],"(",["T_VARIABLE","$nodeId",1052],")",["T_WHITESPACE","\n    ",1052],"{",["T_WHITESPACE","\n        ",1053],["T_VARIABLE","$dbSelect",1054],["T_WHITESPACE"," ",1054],"=",["T_WHITESPACE"," ",1054],["T_NEW","new",1054],["T_WHITESPACE"," ",1054],["T_STRING","Select",1054],"(",["T_VARIABLE","$this",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","_db",1054],")",";",["T_WHITESPACE","\n        ",1054],["T_VARIABLE","$dbSelect",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","from",1055],"(",["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","_table",1055],")",["T_OBJECT_OPERATOR","->",1055],["T_STRING","where",1055],"(",["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","_table",1055],["T_WHITESPACE"," ",1055],".",["T_WHITESPACE"," ",1055],["T_CONSTANT_ENCAPSED_STRING","'.'",1055],["T_WHITESPACE"," ",1055],".",["T_WHITESPACE"," ",1055],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","_id",1055],["T_WHITESPACE"," ",1055],".",["T_WHITESPACE"," ",1055],["T_CONSTANT_ENCAPSED_STRING","' >= :id'",1055],")",";",["T_WHITESPACE","\n\n        ",1055],["T_VARIABLE","$this",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","_addExtTablesToSelect",1057],"(",["T_VARIABLE","$dbSelect",1057],")",";",["T_WHITESPACE","\n\n        ",1057],["T_VARIABLE","$data",1059],["T_WHITESPACE"," ",1059],"=",["T_WHITESPACE"," ",1059],"[","]",";",["T_WHITESPACE","\n        ",1059],["T_VARIABLE","$data",1060],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1060],"]",["T_WHITESPACE"," ",1060],"=",["T_WHITESPACE"," ",1060],["T_VARIABLE","$nodeId",1060],";",["T_WHITESPACE","\n\n        ",1060],["T_VARIABLE","$data",1062],["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],["T_VARIABLE","$this",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","_db",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","fetchRow",1062],"(",["T_VARIABLE","$dbSelect",1062],",",["T_WHITESPACE"," ",1062],["T_VARIABLE","$data",1062],")",";",["T_WHITESPACE","\n\n        ",1062],["T_RETURN","return",1064],["T_WHITESPACE"," ",1064],["T_NEW","new",1064],["T_WHITESPACE"," ",1064],["T_STRING","Node",1064],"(",["T_VARIABLE","$data",1064],",",["T_WHITESPACE"," ",1064],["T_VARIABLE","$this",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","getKeys",1064],"(",")",")",";",["T_WHITESPACE","\n    ",1064],"}",["T_WHITESPACE","\n",1065],"}",["T_WHITESPACE","\n",1066]]