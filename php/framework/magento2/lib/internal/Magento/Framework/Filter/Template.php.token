[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Template constructions filter\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filter",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Template",12],["T_WHITESPACE"," ",12],["T_IMPLEMENTS","implements",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Zend_Filter_Interface",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Construction regular expression\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","CONSTRUCTION_PATTERN",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'\/{{([a-z]{0,10})(.*?)}}\/si'",17],";",["T_WHITESPACE","\n\n    ",17],["T_COMMENT","\/**#@+\n     * Construction logic regular expression\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","CONSTRUCTION_DEPEND_PATTERN",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'\/{{depend\\s*(.*?)}}(.*?){{\\\\\/depend\\s*}}\/si'",22],";",["T_WHITESPACE","\n\n    ",22],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","CONSTRUCTION_IF_PATTERN",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'\/{{if\\s*(.*?)}}(.*?)({{else}}(.*?))?{{\\\\\/if\\s*}}\/si'",24],";",["T_WHITESPACE","\n\n    ",24],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","CONSTRUCTION_TEMPLATE_PATTERN",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'\/{{(template)(.*?)}}\/si'",26],";",["T_WHITESPACE","\n\n    ",26],["T_COMMENT","\/**#@-*\/",28],["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Callbacks that will be applied after filtering\n     *\n     * @var array\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$afterFilterCallbacks",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],"[","]",";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Assigned template variables\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$templateVars",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[","]",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Template processor\n     *\n     * @var callable|null\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$templateProcessor",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\StringUtils\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$string",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Stdlib\\StringUtils $string\n     * @param array $variables\n     *\/",56],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","__construct",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Framework",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Stdlib",60],["T_NS_SEPARATOR","\\",60],["T_STRING","StringUtils",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$string",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$variables",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[","]",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","string",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$string",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setVariables",63],"(",["T_VARIABLE","$variables",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Sets template variables that's can be called through {var ...} statement\n     *\n     * @param array $variables\n     * @return \\Magento\\Framework\\Filter\\Template\n     *\/",66],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","setVariables",72],"(",["T_ARRAY","array",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$variables",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$variables",74],["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$name",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$value",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","templateVars",75],"[",["T_VARIABLE","$name",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$value",75],";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Sets the processor for template directive.\n     *\n     * @param callable $callback it must return string\n     * @return $this\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","setTemplateProcessor",86],"(",["T_CALLABLE","callable",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$callback",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","templateProcessor",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$callback",88],";",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Sets the processor for template directive.\n     *\n     * @return callable|null\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getTemplateProcessor",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","is_callable",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","templateProcessor",99],")",["T_WHITESPACE"," ",99],"?",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","templateProcessor",99],["T_WHITESPACE"," ",99],":",["T_WHITESPACE"," ",99],["T_STRING","null",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Filter the string as template.\n     *\n     * @param string $value\n     * @return string\n     * @throws \\Exception\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",102],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","filter",110],"(",["T_VARIABLE","$value",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_COMMENT","\/\/ \"depend\", \"if\", and \"template\" directives should be first\n",112],["T_WHITESPACE","        ",113],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(","[",["T_WHITESPACE","\n                     ",113],["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","CONSTRUCTION_DEPEND_PATTERN",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'dependDirective'",114],",",["T_WHITESPACE","\n                     ",114],["T_STRING","self",115],["T_DOUBLE_COLON","::",115],["T_STRING","CONSTRUCTION_IF_PATTERN",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'ifDirective'",115],",",["T_WHITESPACE","\n                     ",115],["T_STRING","self",116],["T_DOUBLE_COLON","::",116],["T_STRING","CONSTRUCTION_TEMPLATE_PATTERN",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'templateDirective'",116],",",["T_WHITESPACE","\n                 ",116],"]",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$pattern",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$directive",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_STRING","preg_match_all",118],"(",["T_VARIABLE","$pattern",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$value",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$constructions",118],",",["T_WHITESPACE"," ",118],["T_STRING","PREG_SET_ORDER",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$constructions",119],["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$construction",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                    ",119],["T_VARIABLE","$callback",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[",["T_VARIABLE","$this",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$directive",120],"]",";",["T_WHITESPACE","\n                    ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_STRING","is_callable",121],"(",["T_VARIABLE","$callback",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                        ",121],["T_CONTINUE","continue",122],";",["T_WHITESPACE","\n                    ",122],"}",["T_WHITESPACE","\n                    ",123],["T_TRY","try",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                        ",124],["T_VARIABLE","$replacedValue",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","call_user_func",125],"(",["T_VARIABLE","$callback",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$construction",125],")",";",["T_WHITESPACE","\n                    ",125],"}",["T_WHITESPACE"," ",126],["T_CATCH","catch",126],["T_WHITESPACE"," ",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Exception",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$e",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                        ",126],["T_THROW","throw",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$e",127],";",["T_WHITESPACE","\n                    ",127],"}",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$value",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","str_replace",129],"(",["T_VARIABLE","$construction",129],"[",["T_LNUMBER","0",129],"]",",",["T_WHITESPACE"," ",129],["T_VARIABLE","$replacedValue",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$value",129],")",";",["T_WHITESPACE","\n                ",129],"}",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_STRING","preg_match_all",134],"(",["T_STRING","self",134],["T_DOUBLE_COLON","::",134],["T_STRING","CONSTRUCTION_PATTERN",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$value",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$constructions",134],",",["T_WHITESPACE"," ",134],["T_STRING","PREG_SET_ORDER",134],")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$constructions",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$construction",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$callback",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],"[",["T_VARIABLE","$this",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$construction",136],"[",["T_LNUMBER","1",136],"]",["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'Directive'",136],"]",";",["T_WHITESPACE","\n                ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_STRING","is_callable",137],"(",["T_VARIABLE","$callback",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                    ",137],["T_CONTINUE","continue",138],";",["T_WHITESPACE","\n                ",138],"}",["T_WHITESPACE","\n                ",139],["T_TRY","try",140],["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                    ",140],["T_VARIABLE","$replacedValue",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","call_user_func",141],"(",["T_VARIABLE","$callback",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$construction",141],")",";",["T_WHITESPACE","\n                ",141],"}",["T_WHITESPACE"," ",142],["T_CATCH","catch",142],["T_WHITESPACE"," ",142],"(",["T_NS_SEPARATOR","\\",142],["T_STRING","Exception",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$e",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                    ",142],["T_THROW","throw",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$e",143],";",["T_WHITESPACE","\n                ",143],"}",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$value",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","str_replace",145],"(",["T_VARIABLE","$construction",145],"[",["T_LNUMBER","0",145],"]",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$replacedValue",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$value",145],")",";",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$value",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","afterFilter",149],"(",["T_VARIABLE","$value",149],")",";",["T_WHITESPACE","\n        ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$value",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Runs callbacks that have been added to filter content after directive processing is finished.\n     *\n     * @param string $value\n     * @return string\n     *\/",153],["T_WHITESPACE","\n    ",158],["T_PROTECTED","protected",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","afterFilter",159],"(",["T_VARIABLE","$value",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","afterFilterCallbacks",161],["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$callback",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$value",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","call_user_func",162],"(",["T_VARIABLE","$callback",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$value",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_COMMENT","\/\/ Since a single instance of this class can be used to filter content multiple times, reset callbacks to\n",164],["T_WHITESPACE","        ",165],["T_COMMENT","\/\/ prevent callbacks running for unrelated content (e.g., email subject and email body)\n",165],["T_WHITESPACE","        ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","resetAfterFilterCallbacks",166],"(",")",";",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$value",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Adds a callback to run after main filtering has happened. Callback must accept a single argument and return\n     * a string of the processed value.\n     *\n     * @param callable $afterFilterCallback\n     * @return $this\n     *\/",170],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","addAfterFilterCallback",177],"(",["T_CALLABLE","callable",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$afterFilterCallback",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_COMMENT","\/\/ Only add callback if it doesn't already exist\n",179],["T_WHITESPACE","        ",180],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_STRING","in_array",180],"(",["T_VARIABLE","$afterFilterCallback",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","afterFilterCallbacks",180],")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","afterFilterCallbacks",184],"[","]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$afterFilterCallback",184],";",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Resets the after filter callbacks\n     *\n     * @return $this\n     *\/",188],["T_WHITESPACE","\n    ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","resetAfterFilterCallbacks",193],"(",")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","afterFilterCallbacks",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],"[","]",";",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * @param string[] $construction\n     * @return string\n     *\/",199],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","varDirective",203],"(",["T_VARIABLE","$construction",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_STRING","count",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","templateVars",205],")",["T_WHITESPACE"," ",205],["T_IS_EQUAL","==",205],["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_COMMENT","\/\/ If template prepossessing\n",206],["T_WHITESPACE","            ",207],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$construction",207],"[",["T_LNUMBER","0",207],"]",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$replacedValue",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getVariable",210],"(",["T_VARIABLE","$construction",210],"[",["T_LNUMBER","2",210],"]",",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","''",210],")",";",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$replacedValue",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Allows templates to be included inside other templates\n     *\n     * Usage:\n     *\n     *     {{template config_path=\"<PATH>\"}}\n     *\n     * <PATH> equals the XPATH to the system configuration value that contains the value of the template.\n     * This directive is useful to include things like a global header\/footer.\n     *\n     * @param string[] $construction\n     * @return mixed\n     *\/",214],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","templateDirective",227],"(",["T_VARIABLE","$construction",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_COMMENT","\/\/ Processing of {template config_path=... [...]} statement\n",229],["T_WHITESPACE","        ",230],["T_VARIABLE","$templateParameters",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getParameters",230],"(",["T_VARIABLE","$construction",230],"[",["T_LNUMBER","2",230],"]",")",";",["T_WHITESPACE","\n        ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(","!",["T_ISSET","isset",231],"(",["T_VARIABLE","$templateParameters",231],"[",["T_CONSTANT_ENCAPSED_STRING","'config_path'",231],"]",")",["T_WHITESPACE"," ",231],["T_LOGICAL_OR","or",231],["T_WHITESPACE"," ",231],"!",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getTemplateProcessor",231],"(",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_COMMENT","\/\/ Not specified template or not set include processor\n",232],["T_WHITESPACE","            ",233],["T_VARIABLE","$replacedValue",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'{Error in template processing}'",233],";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE"," ",234],["T_ELSE","else",234],["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_COMMENT","\/\/ Including of template\n",235],["T_WHITESPACE","            ",236],["T_VARIABLE","$configPath",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$templateParameters",236],"[",["T_CONSTANT_ENCAPSED_STRING","'config_path'",236],"]",";",["T_WHITESPACE","\n            ",236],["T_UNSET","unset",237],"(",["T_VARIABLE","$templateParameters",237],"[",["T_CONSTANT_ENCAPSED_STRING","'config_path'",237],"]",")",";",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$templateParameters",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","array_merge_recursive",238],"(",["T_VARIABLE","$templateParameters",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","templateVars",238],")",";",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$replacedValue",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","call_user_func",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getTemplateProcessor",239],"(",")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$configPath",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$templateParameters",239],")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$replacedValue",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * @param string[] $construction\n     * @return string\n     *\/",244],["T_WHITESPACE","\n    ",247],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","dependDirective",248],"(",["T_VARIABLE","$construction",248],")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_STRING","count",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","templateVars",250],")",["T_WHITESPACE"," ",250],["T_IS_EQUAL","==",250],["T_WHITESPACE"," ",250],["T_LNUMBER","0",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_COMMENT","\/\/ If template processing\n",251],["T_WHITESPACE","            ",252],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$construction",252],"[",["T_LNUMBER","0",252],"]",";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n\n        ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getVariable",255],"(",["T_VARIABLE","$construction",255],"[",["T_LNUMBER","1",255],"]",",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","''",255],")",["T_WHITESPACE"," ",255],["T_IS_EQUAL","==",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","''",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","''",256],";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$construction",258],"[",["T_LNUMBER","2",258],"]",";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * @param string[] $construction\n     * @return string\n     *\/",262],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","ifDirective",266],"(",["T_VARIABLE","$construction",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_STRING","count",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","templateVars",268],")",["T_WHITESPACE"," ",268],["T_IS_EQUAL","==",268],["T_WHITESPACE"," ",268],["T_LNUMBER","0",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$construction",269],"[",["T_LNUMBER","0",269],"]",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n\n        ",270],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getVariable",272],"(",["T_VARIABLE","$construction",272],"[",["T_LNUMBER","1",272],"]",",",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","''",272],")",["T_WHITESPACE"," ",272],["T_IS_EQUAL","==",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","''",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_ISSET","isset",273],"(",["T_VARIABLE","$construction",273],"[",["T_LNUMBER","3",273],"]",")",["T_WHITESPACE"," ",273],["T_BOOLEAN_AND","&&",273],["T_WHITESPACE"," ",273],["T_ISSET","isset",273],"(",["T_VARIABLE","$construction",273],"[",["T_LNUMBER","4",273],"]",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$construction",274],"[",["T_LNUMBER","4",274],"]",";",["T_WHITESPACE","\n            ",274],"}",["T_WHITESPACE","\n            ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","''",276],";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE"," ",277],["T_ELSE","else",277],["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$construction",278],"[",["T_LNUMBER","2",278],"]",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Return associative array of parameters.\n     *\n     * @param string $value raw parameters\n     * @return array\n     *\/",282],["T_WHITESPACE","\n    ",287],["T_PROTECTED","protected",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","getParameters",288],"(",["T_VARIABLE","$value",288],")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$tokenizer",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","Template",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Tokenizer",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Parameter",290],"(",")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$tokenizer",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","setString",291],"(",["T_VARIABLE","$value",291],")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$params",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$tokenizer",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","tokenize",292],"(",")",";",["T_WHITESPACE","\n        ",292],["T_FOREACH","foreach",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$params",293],["T_WHITESPACE"," ",293],["T_AS","as",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$key",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$value",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_STRING","substr",294],"(",["T_VARIABLE","$value",294],",",["T_WHITESPACE"," ",294],["T_LNUMBER","0",294],",",["T_WHITESPACE"," ",294],["T_LNUMBER","1",294],")",["T_WHITESPACE"," ",294],["T_IS_IDENTICAL","===",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'$'",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$params",295],"[",["T_VARIABLE","$key",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getVariable",295],"(",["T_STRING","substr",295],"(",["T_VARIABLE","$value",295],",",["T_WHITESPACE"," ",295],["T_LNUMBER","1",295],")",",",["T_WHITESPACE"," ",295],["T_STRING","null",295],")",";",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n        ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$params",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Return variable value for var construction\n     *\n     * @param string $value raw parameters\n     * @param string $default default value\n     * @return string\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",301],["T_WHITESPACE","\n    ",308],["T_PROTECTED","protected",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","getVariable",309],"(",["T_VARIABLE","$value",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$default",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'{no_value_defined}'",309],")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_NS_SEPARATOR","\\",311],["T_STRING","Magento",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Framework",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Profiler",311],["T_DOUBLE_COLON","::",311],["T_STRING","start",311],"(",["T_CONSTANT_ENCAPSED_STRING","'email_template_processing_variables'",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$tokenizer",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_NEW","new",312],["T_WHITESPACE"," ",312],["T_STRING","Template",312],["T_NS_SEPARATOR","\\",312],["T_STRING","Tokenizer",312],["T_NS_SEPARATOR","\\",312],["T_STRING","Variable",312],"(",")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$tokenizer",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","setString",313],"(",["T_VARIABLE","$value",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$stackVars",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$tokenizer",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","tokenize",314],"(",")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$result",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$default",315],";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$last",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_LNUMBER","0",316],";",["T_WHITESPACE","\n        ",316],["T_FOR","for",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$i",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_LNUMBER","0",317],";",["T_WHITESPACE"," ",317],["T_VARIABLE","$i",317],["T_WHITESPACE"," ",317],"<",["T_WHITESPACE"," ",317],["T_STRING","count",317],"(",["T_VARIABLE","$stackVars",317],")",";",["T_WHITESPACE"," ",317],["T_VARIABLE","$i",317],["T_INC","++",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n            ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$i",318],["T_WHITESPACE"," ",318],["T_IS_EQUAL","==",318],["T_WHITESPACE"," ",318],["T_LNUMBER","0",318],["T_WHITESPACE"," ",318],["T_BOOLEAN_AND","&&",318],["T_WHITESPACE"," ",318],["T_ISSET","isset",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","templateVars",318],"[",["T_VARIABLE","$stackVars",318],"[",["T_VARIABLE","$i",318],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",318],"]","]",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                ",318],["T_COMMENT","\/\/ Getting of template value\n",319],["T_WHITESPACE","                ",320],["T_VARIABLE","$stackVars",320],"[",["T_VARIABLE","$i",320],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",320],"]",["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],"&",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","templateVars",320],"[",["T_VARIABLE","$stackVars",320],"[",["T_VARIABLE","$i",320],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",320],"]","]",";",["T_WHITESPACE","\n            ",320],"}",["T_WHITESPACE"," ",321],["T_ELSEIF","elseif",321],["T_WHITESPACE"," ",321],"(",["T_WHITESPACE","\n                    ",321],["T_ISSET","isset",322],"(",["T_VARIABLE","$stackVars",322],"[",["T_VARIABLE","$i",322],["T_WHITESPACE"," ",322],"-",["T_WHITESPACE"," ",322],["T_LNUMBER","1",322],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",322],"]",")",["T_WHITESPACE","\n                    ",322],["T_BOOLEAN_AND","&&",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$stackVars",323],"[",["T_VARIABLE","$i",323],["T_WHITESPACE"," ",323],"-",["T_WHITESPACE"," ",323],["T_LNUMBER","1",323],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",323],"]",["T_WHITESPACE"," ",323],["T_INSTANCEOF","instanceof",323],["T_WHITESPACE"," ",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Magento",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Framework",323],["T_NS_SEPARATOR","\\",323],["T_STRING","DataObject",323],["T_WHITESPACE","\n            ",323],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n                ",324],["T_COMMENT","\/\/ If object calling methods or getting properties\n",325],["T_WHITESPACE","                ",326],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$stackVars",326],"[",["T_VARIABLE","$i",326],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",326],"]",["T_WHITESPACE"," ",326],["T_IS_EQUAL","==",326],["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'property'",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n                    ",326],["T_VARIABLE","$caller",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'get'",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","string",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","upperCaseWords",327],"(",["T_VARIABLE","$stackVars",327],"[",["T_VARIABLE","$i",327],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",327],"]",",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'_'",327],",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","''",327],")",";",["T_WHITESPACE","\n                    ",327],["T_VARIABLE","$stackVars",328],"[",["T_VARIABLE","$i",328],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",328],"]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","method_exists",328],"(",["T_WHITESPACE","\n                        ",328],["T_VARIABLE","$stackVars",329],"[",["T_VARIABLE","$i",329],["T_WHITESPACE"," ",329],"-",["T_WHITESPACE"," ",329],["T_LNUMBER","1",329],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",329],"]",",",["T_WHITESPACE","\n                        ",329],["T_VARIABLE","$caller",330],["T_WHITESPACE","\n                    ",330],")",["T_WHITESPACE"," ",331],"?",["T_WHITESPACE"," ",331],["T_VARIABLE","$stackVars",331],"[",["T_VARIABLE","$i",331],["T_WHITESPACE"," ",331],"-",["T_WHITESPACE"," ",331],["T_LNUMBER","1",331],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",331],"]",["T_OBJECT_OPERATOR","->",331],"{",["T_VARIABLE","$caller",331],"}","(",")",["T_WHITESPACE"," ",331],":",["T_WHITESPACE"," ",331],["T_VARIABLE","$stackVars",331],"[",["T_VARIABLE","$i",331],["T_WHITESPACE"," ",331],"-",["T_WHITESPACE"," ",331],["T_LNUMBER","1",331],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",331],"]",["T_OBJECT_OPERATOR","->",331],["T_STRING","getData",331],"(",["T_WHITESPACE","\n                        ",331],["T_VARIABLE","$stackVars",332],"[",["T_VARIABLE","$i",332],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",332],"]",["T_WHITESPACE","\n                    ",332],")",";",["T_WHITESPACE","\n                ",333],"}",["T_WHITESPACE"," ",334],["T_ELSEIF","elseif",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$stackVars",334],"[",["T_VARIABLE","$i",334],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",334],"]",["T_WHITESPACE"," ",334],["T_IS_EQUAL","==",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'method'",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                    ",334],["T_COMMENT","\/\/ Calling of object method\n",335],["T_WHITESPACE","                    ",336],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_WHITESPACE","\n                            ",336],["T_STRING","method_exists",337],"(",["T_VARIABLE","$stackVars",337],"[",["T_VARIABLE","$i",337],["T_WHITESPACE"," ",337],"-",["T_WHITESPACE"," ",337],["T_LNUMBER","1",337],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",337],"]",",",["T_WHITESPACE"," ",337],["T_VARIABLE","$stackVars",337],"[",["T_VARIABLE","$i",337],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",337],"]",")",["T_WHITESPACE","\n                            ",337],["T_BOOLEAN_OR","||",338],["T_WHITESPACE"," ",338],["T_STRING","substr",338],"(",["T_VARIABLE","$stackVars",338],"[",["T_VARIABLE","$i",338],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",338],"]",",",["T_WHITESPACE"," ",338],["T_LNUMBER","0",338],",",["T_WHITESPACE"," ",338],["T_LNUMBER","3",338],")",["T_WHITESPACE"," ",338],["T_IS_EQUAL","==",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'get'",338],["T_WHITESPACE","\n                    ",338],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                        ",339],["T_VARIABLE","$stackVars",340],"[",["T_VARIABLE","$i",340],"]","[",["T_CONSTANT_ENCAPSED_STRING","'args'",340],"]",["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getStackArgs",340],"(",["T_VARIABLE","$stackVars",340],"[",["T_VARIABLE","$i",340],"]","[",["T_CONSTANT_ENCAPSED_STRING","'args'",340],"]",")",";",["T_WHITESPACE","\n                        ",340],["T_VARIABLE","$stackVars",341],"[",["T_VARIABLE","$i",341],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",341],"]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","call_user_func_array",341],"(",["T_WHITESPACE","\n                            ",341],"[",["T_VARIABLE","$stackVars",342],"[",["T_VARIABLE","$i",342],["T_WHITESPACE"," ",342],"-",["T_WHITESPACE"," ",342],["T_LNUMBER","1",342],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",342],"]",",",["T_WHITESPACE"," ",342],["T_VARIABLE","$stackVars",342],"[",["T_VARIABLE","$i",342],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",342],"]","]",",",["T_WHITESPACE","\n                            ",342],["T_VARIABLE","$stackVars",343],"[",["T_VARIABLE","$i",343],"]","[",["T_CONSTANT_ENCAPSED_STRING","'args'",343],"]",["T_WHITESPACE","\n                        ",343],")",";",["T_WHITESPACE","\n                    ",344],"}",["T_WHITESPACE","\n                ",345],"}",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$last",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$i",347],";",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n\n        ",349],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_ISSET","isset",351],"(",["T_VARIABLE","$stackVars",351],"[",["T_VARIABLE","$last",351],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",351],"]",")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_COMMENT","\/\/ If value for construction exists set it\n",352],["T_WHITESPACE","            ",353],["T_VARIABLE","$result",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$stackVars",353],"[",["T_VARIABLE","$last",353],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",353],"]",";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n        ",354],["T_NS_SEPARATOR","\\",355],["T_STRING","Magento",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Framework",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Profiler",355],["T_DOUBLE_COLON","::",355],["T_STRING","stop",355],"(",["T_CONSTANT_ENCAPSED_STRING","'email_template_processing_variables'",355],")",";",["T_WHITESPACE","\n        ",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$result",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Loops over a set of stack args to process variables into array argument values\n     *\n     * @param array $stack\n     * @return array\n     *\/",359],["T_WHITESPACE","\n    ",364],["T_PROTECTED","protected",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","getStackArgs",365],"(",["T_VARIABLE","$stack",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_FOREACH","foreach",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$stack",367],["T_WHITESPACE"," ",367],["T_AS","as",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$i",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$value",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_STRING","is_array",368],"(",["T_VARIABLE","$value",368],")",")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_VARIABLE","$stack",369],"[",["T_VARIABLE","$i",369],"]",["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getStackArgs",369],"(",["T_VARIABLE","$value",369],")",";",["T_WHITESPACE","\n            ",369],"}",["T_WHITESPACE"," ",370],["T_ELSEIF","elseif",370],["T_WHITESPACE"," ",370],"(",["T_STRING","substr",370],"(",["T_VARIABLE","$value",370],",",["T_WHITESPACE"," ",370],["T_LNUMBER","0",370],",",["T_WHITESPACE"," ",370],["T_LNUMBER","1",370],")",["T_WHITESPACE"," ",370],["T_IS_IDENTICAL","===",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'$'",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n                ",370],["T_VARIABLE","$stack",371],"[",["T_VARIABLE","$i",371],"]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getVariable",371],"(",["T_STRING","substr",371],"(",["T_VARIABLE","$value",371],",",["T_WHITESPACE"," ",371],["T_LNUMBER","1",371],")",",",["T_WHITESPACE"," ",371],["T_STRING","null",371],")",";",["T_WHITESPACE","\n            ",371],"}",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n        ",373],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$stack",374],";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n",375],"}",["T_WHITESPACE","\n",376]]