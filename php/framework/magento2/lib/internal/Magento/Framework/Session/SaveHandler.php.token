[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Session",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DeploymentConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManager",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SessionException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Session",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Magento session save handler\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","SaveHandler",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","SaveHandlerInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Session handler\n     *\n     * @var \\SessionHandler\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$saveHandlerAdapter",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Config\n     *\n     * @var ConfigInterface\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$config",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param SaveHandlerFactory $saveHandlerFactory\n     * @param DeploymentConfig $deploymentConfig\n     * @param string $default\n     *\/",32],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_STRING","SaveHandlerFactory",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$saveHandlerFactory",40],",",["T_WHITESPACE","\n        ",40],["T_STRING","DeploymentConfig",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$deploymentConfig",41],",",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$default",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","self",42],["T_DOUBLE_COLON","::",42],["T_STRING","DEFAULT_HANDLER",42],["T_WHITESPACE","\n    ",42],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],["T_DOC_COMMENT","\/**\n         * Session handler\n         *\n         * Save handler may be set to custom value in deployment config, which will override everything else.\n         * Otherwise, try to read PHP settings for session.save_handler value. Otherwise, use 'files' as default.\n         *\/",44],["T_WHITESPACE","\n        ",49],["T_VARIABLE","$defaultSaveHandler",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","ini_get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'session.save_handler'",50],")",["T_WHITESPACE"," ",50],"?",":",["T_WHITESPACE"," ",50],["T_STRING","SaveHandlerInterface",50],["T_DOUBLE_COLON","::",50],["T_STRING","DEFAULT_HANDLER",50],";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$saveMethod",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$deploymentConfig",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_STRING","Config",51],["T_DOUBLE_COLON","::",51],["T_STRING","PARAM_SESSION_SAVE_METHOD",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$defaultSaveHandler",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","setSaveHandler",52],"(",["T_VARIABLE","$saveMethod",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_TRY","try",54],["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$connection",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$saveHandlerFactory",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","create",55],"(",["T_VARIABLE","$saveMethod",55],")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE"," ",56],["T_CATCH","catch",56],["T_WHITESPACE"," ",56],"(",["T_STRING","SessionException",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$e",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$connection",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$saveHandlerFactory",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","create",57],"(",["T_VARIABLE","$default",57],")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setSaveHandler",58],"(",["T_VARIABLE","$default",58],")",";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","saveHandlerAdapter",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$connection",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Open Session - retrieve resources\n     *\n     * @param string $savePath\n     * @param string $name\n     * @return bool\n     *\/",63],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","open",70],"(",["T_VARIABLE","$savePath",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$name",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","saveHandlerAdapter",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","open",72],"(",["T_VARIABLE","$savePath",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$name",72],")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Close Session - free resources\n     *\n     * @return bool\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","close",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","saveHandlerAdapter",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","close",82],"(",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Read session data\n     *\n     * @param string $sessionId\n     * @return string\n     *\/",85],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","read",91],"(",["T_VARIABLE","$sessionId",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","saveHandlerAdapter",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","read",93],"(",["T_VARIABLE","$sessionId",93],")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Write Session - commit data to resource\n     *\n     * @param string $sessionId\n     * @param string $data\n     * @return bool\n     *\/",96],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","write",103],"(",["T_VARIABLE","$sessionId",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$data",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","saveHandlerAdapter",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","write",105],"(",["T_VARIABLE","$sessionId",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$data",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Destroy Session - remove data from resource for given session id\n     *\n     * @param string $sessionId\n     * @return bool\n     *\/",108],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","destroy",114],"(",["T_VARIABLE","$sessionId",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","saveHandlerAdapter",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","destroy",116],"(",["T_VARIABLE","$sessionId",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Garbage Collection - remove old session data older\n     * than $maxLifetime (in seconds)\n     *\n     * @param int $maxLifetime\n     * @return bool\n     * @SuppressWarnings(PHPMD.ShortMethodName)\n     *\/",119],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","gc",127],"(",["T_VARIABLE","$maxLifetime",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","saveHandlerAdapter",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","gc",129],"(",["T_VARIABLE","$maxLifetime",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Get config\n     *\n     * @return ConfigInterface\n     * @deprecated\n     *\/",132],["T_WHITESPACE","\n    ",137],["T_PRIVATE","private",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","getConfig",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","config",140],["T_WHITESPACE"," ",140],["T_IS_IDENTICAL","===",140],["T_WHITESPACE"," ",140],["T_STRING","null",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","config",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","ObjectManager",141],["T_DOUBLE_COLON","::",141],["T_STRING","getInstance",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","get",141],"(",["T_STRING","ConfigInterface",141],["T_DOUBLE_COLON","::",141],["T_CLASS","class",141],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","config",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Set session.save_handler option\n     *\n     * @param string $saveHandler\n     * @return $this\n     *\/",146],["T_WHITESPACE","\n    ",151],["T_PRIVATE","private",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","setSaveHandler",152],"(",["T_VARIABLE","$saveHandler",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$saveHandler",154],["T_WHITESPACE"," ",154],["T_IS_IDENTICAL","===",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'db'",154],["T_WHITESPACE"," ",154],["T_BOOLEAN_OR","||",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$saveHandler",154],["T_WHITESPACE"," ",154],["T_IS_IDENTICAL","===",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'redis'",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$saveHandler",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'user'",155],";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getConfig",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","setOption",157],"(",["T_CONSTANT_ENCAPSED_STRING","'session.save_handler'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$saveHandler",157],")",";",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n",159],"}",["T_WHITESPACE","\n",160]]