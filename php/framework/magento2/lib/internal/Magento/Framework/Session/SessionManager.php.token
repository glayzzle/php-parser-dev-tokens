[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento session manager\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Session",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Session",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Session Manager\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","SessionManager",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","SessionManagerInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Default options when a call destroy()\n     *\n     * Description:\n     * - send_expire_cookie: whether or not to send a cookie expiring the current session cookie\n     * - clear_storage: whether or not to empty the storage object of any stored values\n     *\n     * @var array\n     *\/",18],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$defaultDestroyOptions",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_CONSTANT_ENCAPSED_STRING","'send_expire_cookie'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_STRING","true",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'clear_storage'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_STRING","true",27],"]",";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * URL host cache\n     *\n     * @var array\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_STATIC","static",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$urlHostCache",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[","]",";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Validator\n     *\n     * @var \\Magento\\Framework\\Session\\ValidatorInterface\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$validator",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Request\n     *\n     * @var \\Magento\\Framework\\App\\Request\\Http\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$request",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * SID resolver\n     *\n     * @var \\Magento\\Framework\\Session\\SidResolverInterface\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$sidResolver",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Session config\n     *\n     * @var \\Magento\\Framework\\Session\\Config\\ConfigInterface\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$sessionConfig",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Save handler\n     *\n     * @var \\Magento\\Framework\\Session\\SaveHandlerInterface\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$saveHandler",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Storage\n     *\n     * @var \\Magento\\Framework\\Session\\StorageInterface\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$storage",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Cookie Manager\n     *\n     * @var \\Magento\\Framework\\Stdlib\\CookieManagerInterface\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$cookieManager",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\Cookie\\CookieMetadataFactory\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$cookieMetadataFactory",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\State\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PRIVATE","private",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$appState",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Request\\Http $request\n     * @param SidResolverInterface $sidResolver\n     * @param ConfigInterface $sessionConfig\n     * @param SaveHandlerInterface $saveHandler\n     * @param ValidatorInterface $validator\n     * @param StorageInterface $storage\n     * @param \\Magento\\Framework\\Stdlib\\CookieManagerInterface $cookieManager\n     * @param \\Magento\\Framework\\Stdlib\\Cookie\\CookieMetadataFactory $cookieMetadataFactory\n     * @param \\Magento\\Framework\\App\\State $appState\n     * @throws \\Magento\\Framework\\Exception\\SessionException\n     *\/",95],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","__construct",107],"(",["T_WHITESPACE","\n        ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Framework",108],["T_NS_SEPARATOR","\\",108],["T_STRING","App",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Request",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Http",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$request",108],",",["T_WHITESPACE","\n        ",108],["T_STRING","SidResolverInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$sidResolver",109],",",["T_WHITESPACE","\n        ",109],["T_STRING","ConfigInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$sessionConfig",110],",",["T_WHITESPACE","\n        ",110],["T_STRING","SaveHandlerInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$saveHandler",111],",",["T_WHITESPACE","\n        ",111],["T_STRING","ValidatorInterface",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$validator",112],",",["T_WHITESPACE","\n        ",112],["T_STRING","StorageInterface",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$storage",113],",",["T_WHITESPACE","\n        ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Framework",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Stdlib",114],["T_NS_SEPARATOR","\\",114],["T_STRING","CookieManagerInterface",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$cookieManager",114],",",["T_WHITESPACE","\n        ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Framework",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Stdlib",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Cookie",115],["T_NS_SEPARATOR","\\",115],["T_STRING","CookieMetadataFactory",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$cookieMetadataFactory",115],",",["T_WHITESPACE","\n        ",115],["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Framework",116],["T_NS_SEPARATOR","\\",116],["T_STRING","App",116],["T_NS_SEPARATOR","\\",116],["T_STRING","State",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$appState",116],["T_WHITESPACE","\n    ",116],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","request",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$request",118],";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","sidResolver",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$sidResolver",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","sessionConfig",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$sessionConfig",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","saveHandler",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$saveHandler",121],";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","validator",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$validator",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","storage",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$storage",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","cookieManager",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$cookieManager",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","cookieMetadataFactory",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$cookieMetadataFactory",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","appState",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$appState",126],";",["T_WHITESPACE","\n\n        ",126],["T_COMMENT","\/\/ Enable session.use_only_cookies\n",128],["T_WHITESPACE","        ",129],["T_STRING","ini_set",129],"(",["T_CONSTANT_ENCAPSED_STRING","'session.use_only_cookies'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'1'",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","start",130],"(",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * This method needs to support sessions with APC enabled\n     * @return void\n     *\/",133],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","writeClose",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_STRING","session_write_close",139],"(",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Storage accessor method\n     *\n     * @param string $method\n     * @param array $args\n     * @return mixed\n     * @throws \\InvalidArgumentException\n     *\/",142],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","__call",150],"(",["T_VARIABLE","$method",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$args",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(","!",["T_STRING","in_array",152],"(",["T_STRING","substr",152],"(",["T_VARIABLE","$method",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","0",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","3",152],")",",",["T_WHITESPACE"," ",152],"[",["T_CONSTANT_ENCAPSED_STRING","'get'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'set'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'uns'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'has'",152],"]",")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_THROW","throw",153],["T_WHITESPACE"," ",153],["T_NEW","new",153],["T_WHITESPACE"," ",153],["T_NS_SEPARATOR","\\",153],["T_STRING","InvalidArgumentException",153],"(",["T_WHITESPACE","\n                ",153],["T_STRING","sprintf",154],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid method %s::%s(%s)'",154],",",["T_WHITESPACE"," ",154],["T_STRING","get_class",154],"(",["T_VARIABLE","$this",154],")",",",["T_WHITESPACE"," ",154],["T_VARIABLE","$method",154],",",["T_WHITESPACE"," ",154],["T_STRING","print_r",154],"(",["T_VARIABLE","$args",154],",",["T_WHITESPACE"," ",154],["T_LNUMBER","1",154],")",")",["T_WHITESPACE","\n            ",154],")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$return",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","call_user_func_array",157],"(","[",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","storage",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$method",157],"]",",",["T_WHITESPACE"," ",157],["T_VARIABLE","$args",157],")",";",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$return",158],["T_WHITESPACE"," ",158],["T_IS_IDENTICAL","===",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","storage",158],["T_WHITESPACE"," ",158],"?",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_WHITESPACE"," ",158],":",["T_WHITESPACE"," ",158],["T_VARIABLE","$return",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Configure session handler and start session\n     *\n     * @throws \\Magento\\Framework\\Exception\\SessionException\n     * @return $this\n     *\/",161],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","start",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isSessionExists",169],"(",")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Framework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Profiler",170],["T_DOUBLE_COLON","::",170],["T_STRING","start",170],"(",["T_CONSTANT_ENCAPSED_STRING","'session_start'",170],")",";",["T_WHITESPACE","\n\n            ",170],["T_TRY","try",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","appState",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getAreaCode",173],"(",")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE"," ",174],["T_CATCH","catch",174],["T_WHITESPACE"," ",174],"(",["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Framework",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Exception",174],["T_NS_SEPARATOR","\\",174],["T_STRING","LocalizedException",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$e",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_THROW","throw",175],["T_WHITESPACE"," ",175],["T_NEW","new",175],["T_WHITESPACE"," ",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Framework",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Exception",175],["T_NS_SEPARATOR","\\",175],["T_STRING","SessionException",175],"(",["T_WHITESPACE","\n                    ",175],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Framework",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Phrase",176],"(",["T_WHITESPACE","\n                        ",176],["T_CONSTANT_ENCAPSED_STRING","'Area code not set: Area code must be set before starting a session.'",177],["T_WHITESPACE","\n                    ",177],")",",",["T_WHITESPACE","\n                    ",178],["T_VARIABLE","$e",179],["T_WHITESPACE","\n                ",179],")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n\n            ",181],["T_COMMENT","\/\/ Need to apply the config options so they can be ready by session_start\n",183],["T_WHITESPACE","            ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","initIniOptions",184],"(",")",";",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","registerSaveHandler",185],"(",")",";",["T_WHITESPACE","\n\n            ",185],["T_COMMENT","\/\/ potential custom logic for session id (ex. switching between hosts)\n",187],["T_WHITESPACE","            ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","setSessionId",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","sidResolver",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getSid",188],"(",["T_VARIABLE","$this",188],")",")",";",["T_WHITESPACE","\n            ",188],["T_STRING","session_start",189],"(",")",";",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","validator",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","validate",190],"(",["T_VARIABLE","$this",190],")",";",["T_WHITESPACE","\n\n            ",190],["T_STRING","register_shutdown_function",192],"(","[",["T_VARIABLE","$this",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'writeClose'",192],"]",")",";",["T_WHITESPACE","\n\n            ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_addHost",194],"(",")",";",["T_WHITESPACE","\n            ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Framework",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Profiler",195],["T_DOUBLE_COLON","::",195],["T_STRING","stop",195],"(",["T_CONSTANT_ENCAPSED_STRING","'session_start'",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","storage",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","init",197],"(",["T_ISSET","isset",197],"(",["T_VARIABLE","$_SESSION",197],")",["T_WHITESPACE"," ",197],"?",["T_WHITESPACE"," ",197],["T_VARIABLE","$_SESSION",197],["T_WHITESPACE"," ",197],":",["T_WHITESPACE"," ",197],"[","]",")",";",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Register save handler\n     *\n     * @return bool\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PROTECTED","protected",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","registerSaveHandler",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_STRING","session_set_save_handler",208],"(",["T_WHITESPACE","\n            ",208],"[",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","saveHandler",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'open'",209],"]",",",["T_WHITESPACE","\n            ",209],"[",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","saveHandler",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'close'",210],"]",",",["T_WHITESPACE","\n            ",210],"[",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","saveHandler",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'read'",211],"]",",",["T_WHITESPACE","\n            ",211],"[",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","saveHandler",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'write'",212],"]",",",["T_WHITESPACE","\n            ",212],"[",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","saveHandler",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'destroy'",213],"]",",",["T_WHITESPACE","\n            ",213],"[",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","saveHandler",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'gc'",214],"]",["T_WHITESPACE","\n        ",214],")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Does a session exist\n     *\n     * @return bool\n     *\/",218],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","isSessionExists",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_STRING","session_status",225],"(",")",["T_WHITESPACE"," ",225],["T_IS_IDENTICAL","===",225],["T_WHITESPACE"," ",225],["T_STRING","PHP_SESSION_NONE",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_AND","&&",225],["T_WHITESPACE"," ",225],"!",["T_STRING","headers_sent",225],"(",")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_STRING","false",226],";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_STRING","true",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Additional get data with clear mode\n     *\n     * @param string $key\n     * @param bool $clear\n     * @return mixed\n     *\/",231],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","getData",238],"(",["T_VARIABLE","$key",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","''",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$clear",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","false",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$data",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","storage",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getData",240],"(",["T_VARIABLE","$key",240],")",";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$clear",241],["T_WHITESPACE"," ",241],["T_BOOLEAN_AND","&&",241],["T_WHITESPACE"," ",241],["T_ISSET","isset",241],"(",["T_VARIABLE","$data",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","storage",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","unsetData",242],"(",["T_VARIABLE","$key",242],")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$data",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Retrieve session Id\n     *\n     * @return string\n     *\/",247],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","getSessionId",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_STRING","session_id",254],"(",")",";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Retrieve session name\n     *\n     * @return string\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getName",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","session_name",264],"(",")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Set session name\n     *\n     * @param string $name\n     * @return $this\n     *\/",267],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","setName",273],"(",["T_VARIABLE","$name",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_STRING","session_name",275],"(",["T_VARIABLE","$name",275],")",";",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Destroy\/end a session\n     *\n     * @param  array $options\n     * @return void\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","destroy",285],"(",["T_ARRAY","array",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$options",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","null",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_STRING","null",287],["T_WHITESPACE"," ",287],["T_IS_IDENTICAL","===",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$options",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$options",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","defaultDestroyOptions",288],";",["T_WHITESPACE","\n        ",288],"}",["T_WHITESPACE"," ",289],["T_ELSE","else",289],["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$options",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_STRING","array_merge",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","defaultDestroyOptions",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$options",290],")",";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n\n        ",291],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$options",293],"[",["T_CONSTANT_ENCAPSED_STRING","'clear_storage'",293],"]",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","clearStorage",294],"(",")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n\n        ",295],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_STRING","session_status",297],"(",")",["T_WHITESPACE"," ",297],["T_IS_NOT_IDENTICAL","!==",297],["T_WHITESPACE"," ",297],["T_STRING","PHP_SESSION_ACTIVE",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_RETURN","return",298],";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n\n        ",299],["T_STRING","session_regenerate_id",301],"(",["T_STRING","true",301],")",";",["T_WHITESPACE","\n        ",301],["T_STRING","session_destroy",302],"(",")",";",["T_WHITESPACE","\n        ",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$options",303],"[",["T_CONSTANT_ENCAPSED_STRING","'send_expire_cookie'",303],"]",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","expireSessionCookie",304],"(",")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Unset all session data\n     *\n     * @return $this\n     *\/",308],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","clearStorage",313],"(",")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","storage",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","unsetData",315],"(",")",";",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Retrieve Cookie domain\n     *\n     * @return string\n     *\/",319],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","getCookieDomain",324],"(",")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","sessionConfig",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getCookieDomain",326],"(",")",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Retrieve cookie path\n     *\n     * @return string\n     *\/",329],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","getCookiePath",334],"(",")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","sessionConfig",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getCookiePath",336],"(",")",";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Retrieve cookie lifetime\n     *\n     * @return int\n     *\/",339],["T_WHITESPACE","\n    ",343],["T_PUBLIC","public",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","getCookieLifetime",344],"(",")",["T_WHITESPACE","\n    ",344],"{",["T_WHITESPACE","\n        ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","sessionConfig",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getCookieLifetime",346],"(",")",";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Specify session identifier\n     *\n     * @param   string|null $sessionId\n     * @return  $this\n     *\/",349],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","setSessionId",355],"(",["T_VARIABLE","$sessionId",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_addHost",357],"(",")",";",["T_WHITESPACE","\n        ",357],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$sessionId",358],["T_WHITESPACE"," ",358],["T_IS_NOT_IDENTICAL","!==",358],["T_WHITESPACE"," ",358],["T_STRING","null",358],["T_WHITESPACE"," ",358],["T_BOOLEAN_AND","&&",358],["T_WHITESPACE"," ",358],["T_STRING","preg_match",358],"(",["T_CONSTANT_ENCAPSED_STRING","'#^[0-9a-zA-Z,-]+$#'",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$sessionId",358],")",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_STRING","session_id",359],"(",["T_VARIABLE","$sessionId",359],")",";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n        ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * If session cookie is not applicable due to host or path mismatch - add session id to query\n     *\n     * @param string $urlHost can be host or url\n     * @return string {session_id_key}={session_id_encrypted}\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",364],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","getSessionIdForHost",371],"(",["T_VARIABLE","$urlHost",371],")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$httpHost",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","request",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","getHttpHost",373],"(",")",";",["T_WHITESPACE","\n        ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(","!",["T_VARIABLE","$httpHost",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","''",375],";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n\n        ",376],["T_VARIABLE","$urlHostArr",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_STRING","explode",378],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$urlHost",378],",",["T_WHITESPACE"," ",378],["T_LNUMBER","4",378],")",";",["T_WHITESPACE","\n        ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(","!",["T_EMPTY","empty",379],"(",["T_VARIABLE","$urlHostArr",379],"[",["T_LNUMBER","2",379],"]",")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$urlHost",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$urlHostArr",380],"[",["T_LNUMBER","2",380],"]",";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$urlPath",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_EMPTY","empty",382],"(",["T_VARIABLE","$urlHostArr",382],"[",["T_LNUMBER","3",382],"]",")",["T_WHITESPACE"," ",382],"?",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","''",382],["T_WHITESPACE"," ",382],":",["T_WHITESPACE"," ",382],["T_VARIABLE","$urlHostArr",382],"[",["T_LNUMBER","3",382],"]",";",["T_WHITESPACE","\n\n        ",382],["T_IF","if",384],["T_WHITESPACE"," ",384],"(","!",["T_ISSET","isset",384],"(",["T_STRING","self",384],["T_DOUBLE_COLON","::",384],["T_VARIABLE","$urlHostCache",384],"[",["T_VARIABLE","$urlHost",384],"]",")",")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$urlHostArr",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_STRING","explode",385],"(",["T_CONSTANT_ENCAPSED_STRING","':'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$urlHost",385],")",";",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$urlHost",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$urlHostArr",386],"[",["T_LNUMBER","0",386],"]",";",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$sessionId",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$httpHost",387],["T_WHITESPACE"," ",387],["T_IS_NOT_IDENTICAL","!==",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$urlHost",387],["T_WHITESPACE"," ",387],["T_BOOLEAN_AND","&&",387],["T_WHITESPACE"," ",387],"!",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","isValidForHost",387],"(",["T_VARIABLE","$urlHost",387],")",["T_WHITESPACE"," ",387],"?",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getSessionId",387],"(",")",["T_WHITESPACE"," ",387],":",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","''",387],";",["T_WHITESPACE","\n            ",387],["T_STRING","self",388],["T_DOUBLE_COLON","::",388],["T_VARIABLE","$urlHostCache",388],"[",["T_VARIABLE","$urlHost",388],"]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$sessionId",388],";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n\n        ",389],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","isValidForPath",391],"(",["T_VARIABLE","$urlPath",391],")",["T_WHITESPACE"," ",391],"?",["T_WHITESPACE"," ",391],["T_STRING","self",391],["T_DOUBLE_COLON","::",391],["T_VARIABLE","$urlHostCache",391],"[",["T_VARIABLE","$urlHost",391],"]",["T_WHITESPACE"," ",391],":",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getSessionId",391],"(",")",";",["T_WHITESPACE","\n    ",391],"}",["T_WHITESPACE","\n\n    ",392],["T_DOC_COMMENT","\/**\n     * Check if session is valid for given hostname\n     *\n     * @param string $host\n     * @return bool\n     *\/",394],["T_WHITESPACE","\n    ",399],["T_PUBLIC","public",400],["T_WHITESPACE"," ",400],["T_FUNCTION","function",400],["T_WHITESPACE"," ",400],["T_STRING","isValidForHost",400],"(",["T_VARIABLE","$host",400],")",["T_WHITESPACE","\n    ",400],"{",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$hostArr",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","explode",402],"(",["T_CONSTANT_ENCAPSED_STRING","':'",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$host",402],")",";",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$hosts",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_getHosts",403],"(",")",";",["T_WHITESPACE","\n        ",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],"!",["T_EMPTY","empty",404],"(",["T_VARIABLE","$hosts",404],"[",["T_VARIABLE","$hostArr",404],"[",["T_LNUMBER","0",404],"]","]",")",";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * Check if session is valid for given path\n     *\n     * @param string $path\n     * @return bool\n     *\/",407],["T_WHITESPACE","\n    ",412],["T_PUBLIC","public",413],["T_WHITESPACE"," ",413],["T_FUNCTION","function",413],["T_WHITESPACE"," ",413],["T_STRING","isValidForPath",413],"(",["T_VARIABLE","$path",413],")",["T_WHITESPACE","\n    ",413],"{",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$cookiePath",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","trim",415],"(",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getCookiePath",415],"(",")",",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'\/'",415],")",["T_WHITESPACE"," ",415],".",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'\/'",415],";",["T_WHITESPACE","\n        ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$cookiePath",416],["T_WHITESPACE"," ",416],["T_IS_EQUAL","==",416],["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'\/'",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_STRING","true",417],";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n\n        ",418],["T_VARIABLE","$urlPath",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_STRING","trim",420],"(",["T_VARIABLE","$path",420],",",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'\/'",420],")",["T_WHITESPACE"," ",420],".",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'\/'",420],";",["T_WHITESPACE","\n        ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_STRING","strpos",421],"(",["T_VARIABLE","$urlPath",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$cookiePath",421],")",["T_WHITESPACE"," ",421],["T_IS_IDENTICAL","===",421],["T_WHITESPACE"," ",421],["T_LNUMBER","0",421],";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_DOC_COMMENT","\/**\n     * Register request host name as used with session\n     *\n     * @return $this\n     *\/",424],["T_WHITESPACE","\n    ",428],["T_PROTECTED","protected",429],["T_WHITESPACE"," ",429],["T_FUNCTION","function",429],["T_WHITESPACE"," ",429],["T_STRING","_addHost",429],"(",")",["T_WHITESPACE","\n    ",429],"{",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$host",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","request",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getHttpHost",431],"(",")",";",["T_WHITESPACE","\n        ",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(","!",["T_VARIABLE","$host",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n\n        ",434],["T_VARIABLE","$hosts",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_getHosts",436],"(",")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$hosts",437],"[",["T_VARIABLE","$host",437],"]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","true",437],";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$_SESSION",438],"[",["T_STRING","self",438],["T_DOUBLE_COLON","::",438],["T_STRING","HOST_KEY",438],"]",["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$hosts",438],";",["T_WHITESPACE","\n        ",438],["T_RETURN","return",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],";",["T_WHITESPACE","\n    ",439],"}",["T_WHITESPACE","\n\n    ",440],["T_DOC_COMMENT","\/**\n     * Get all host names where session was used\n     *\n     * @return array\n     *\/",442],["T_WHITESPACE","\n    ",446],["T_PROTECTED","protected",447],["T_WHITESPACE"," ",447],["T_FUNCTION","function",447],["T_WHITESPACE"," ",447],["T_STRING","_getHosts",447],"(",")",["T_WHITESPACE","\n    ",447],"{",["T_WHITESPACE","\n        ",448],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_ISSET","isset",449],"(",["T_VARIABLE","$_SESSION",449],"[",["T_STRING","self",449],["T_DOUBLE_COLON","::",449],["T_STRING","HOST_KEY",449],"]",")",["T_WHITESPACE"," ",449],"?",["T_WHITESPACE"," ",449],["T_VARIABLE","$_SESSION",449],"[",["T_STRING","self",449],["T_DOUBLE_COLON","::",449],["T_STRING","HOST_KEY",449],"]",["T_WHITESPACE"," ",449],":",["T_WHITESPACE"," ",449],"[","]",";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_DOC_COMMENT","\/**\n     * Clean all host names that were registered with session\n     *\n     * @return $this\n     *\/",452],["T_WHITESPACE","\n    ",456],["T_PROTECTED","protected",457],["T_WHITESPACE"," ",457],["T_FUNCTION","function",457],["T_WHITESPACE"," ",457],["T_STRING","_cleanHosts",457],"(",")",["T_WHITESPACE","\n    ",457],"{",["T_WHITESPACE","\n        ",458],["T_UNSET","unset",459],"(",["T_VARIABLE","$_SESSION",459],"[",["T_STRING","self",459],["T_DOUBLE_COLON","::",459],["T_STRING","HOST_KEY",459],"]",")",";",["T_WHITESPACE","\n        ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_DOC_COMMENT","\/**\n     * Renew session id and update session cookie\n     *\n     * @return $this\n     *\/",463],["T_WHITESPACE","\n    ",467],["T_PUBLIC","public",468],["T_WHITESPACE"," ",468],["T_FUNCTION","function",468],["T_WHITESPACE"," ",468],["T_STRING","regenerateId",468],"(",")",["T_WHITESPACE","\n    ",468],"{",["T_WHITESPACE","\n        ",469],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_STRING","headers_sent",470],"(",")",")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n            ",470],["T_RETURN","return",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],";",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n        ",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","isSessionExists",473],"(",")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n            ",473],["T_STRING","session_regenerate_id",474],"(",["T_STRING","false",474],")",";",["T_WHITESPACE","\n        ",474],"}",["T_WHITESPACE"," ",475],["T_ELSE","else",475],["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_STRING","session_start",476],"(",")",";",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","storage",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","init",478],"(",["T_ISSET","isset",478],"(",["T_VARIABLE","$_SESSION",478],")",["T_WHITESPACE"," ",478],"?",["T_WHITESPACE"," ",478],["T_VARIABLE","$_SESSION",478],["T_WHITESPACE"," ",478],":",["T_WHITESPACE"," ",478],"[","]",")",";",["T_WHITESPACE","\n\n        ",478],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","sessionConfig",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getUseCookies",480],"(",")",")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","clearSubDomainSessionCookie",481],"(",")",";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n        ",482],["T_RETURN","return",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],";",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_DOC_COMMENT","\/**\n     * Expire the session cookie for sub domains\n     *\n     * @return void\n     *\/",486],["T_WHITESPACE","\n    ",490],["T_PROTECTED","protected",491],["T_WHITESPACE"," ",491],["T_FUNCTION","function",491],["T_WHITESPACE"," ",491],["T_STRING","clearSubDomainSessionCookie",491],"(",")",["T_WHITESPACE","\n    ",491],"{",["T_WHITESPACE","\n        ",492],["T_FOREACH","foreach",493],["T_WHITESPACE"," ",493],"(",["T_STRING","array_keys",493],"(",["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_getHosts",493],"(",")",")",["T_WHITESPACE"," ",493],["T_AS","as",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$host",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n            ",493],["T_COMMENT","\/\/ Delete cookies with the same name for parent domains\n",494],["T_WHITESPACE","            ",495],["T_IF","if",495],["T_WHITESPACE"," ",495],"(",["T_STRING","strpos",495],"(",["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","sessionConfig",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getCookieDomain",495],"(",")",",",["T_WHITESPACE"," ",495],["T_VARIABLE","$host",495],")",["T_WHITESPACE"," ",495],">",["T_WHITESPACE"," ",495],["T_LNUMBER","0",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n                ",495],["T_VARIABLE","$metadata",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","cookieMetadataFactory",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","createPublicCookieMetadata",496],"(",")",";",["T_WHITESPACE","\n                ",496],["T_VARIABLE","$metadata",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","setPath",497],"(",["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","sessionConfig",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","getCookiePath",497],"(",")",")",";",["T_WHITESPACE","\n                ",497],["T_VARIABLE","$metadata",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","setDomain",498],"(",["T_VARIABLE","$host",498],")",";",["T_WHITESPACE","\n                ",498],["T_VARIABLE","$metadata",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","setSecure",499],"(",["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","sessionConfig",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getCookieSecure",499],"(",")",")",";",["T_WHITESPACE","\n                ",499],["T_VARIABLE","$metadata",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","setHttpOnly",500],"(",["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","sessionConfig",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getCookieHttpOnly",500],"(",")",")",";",["T_WHITESPACE","\n                ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","cookieManager",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","deleteCookie",501],"(",["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getName",501],"(",")",",",["T_WHITESPACE"," ",501],["T_VARIABLE","$metadata",501],")",";",["T_WHITESPACE","\n            ",501],"}",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE","\n    ",503],"}",["T_WHITESPACE","\n\n    ",504],["T_DOC_COMMENT","\/**\n     * Expire the session cookie\n     *\n     * Sends a session cookie with no value, and with an expiry in the past.\n     *\n     * @return void\n     *\/",506],["T_WHITESPACE","\n    ",512],["T_PUBLIC","public",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","expireSessionCookie",513],"(",")",["T_WHITESPACE","\n    ",513],"{",["T_WHITESPACE","\n        ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(","!",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","sessionConfig",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getUseCookies",515],"(",")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n            ",515],["T_RETURN","return",516],";",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n\n        ",517],["T_VARIABLE","$metadata",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","cookieMetadataFactory",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","createPublicCookieMetadata",519],"(",")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$metadata",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","setPath",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","sessionConfig",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getCookiePath",520],"(",")",")",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$metadata",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","setDomain",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","sessionConfig",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","getCookieDomain",521],"(",")",")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$metadata",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","setSecure",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","sessionConfig",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","getCookieSecure",522],"(",")",")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$metadata",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","setHttpOnly",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","sessionConfig",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getCookieHttpOnly",523],"(",")",")",";",["T_WHITESPACE","\n        ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","cookieManager",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","deleteCookie",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getName",524],"(",")",",",["T_WHITESPACE"," ",524],["T_VARIABLE","$metadata",524],")",";",["T_WHITESPACE","\n        ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","clearSubDomainSessionCookie",525],"(",")",";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * Performs ini_set for all of the config options so they can be read by session_start\n     *\n     * @return void\n     *\/",528],["T_WHITESPACE","\n    ",532],["T_PRIVATE","private",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","initIniOptions",533],"(",")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_FOREACH","foreach",535],["T_WHITESPACE"," ",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","sessionConfig",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getOptions",535],"(",")",["T_WHITESPACE"," ",535],["T_AS","as",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$option",535],["T_WHITESPACE"," ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$value",535],")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$result",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","ini_set",536],"(",["T_VARIABLE","$option",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$value",536],")",";",["T_WHITESPACE","\n            ",536],["T_IF","if",537],["T_WHITESPACE"," ",537],"(",["T_VARIABLE","$result",537],["T_WHITESPACE"," ",537],["T_IS_IDENTICAL","===",537],["T_WHITESPACE"," ",537],["T_STRING","false",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n                ",537],["T_VARIABLE","$error",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_STRING","error_get_last",538],"(",")",";",["T_WHITESPACE","\n                ",538],["T_THROW","throw",539],["T_WHITESPACE"," ",539],["T_NEW","new",539],["T_WHITESPACE"," ",539],["T_NS_SEPARATOR","\\",539],["T_STRING","InvalidArgumentException",539],"(",["T_WHITESPACE","\n                    ",539],["T_STRING","sprintf",540],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to set ini option \"%s\" to value \"%s\". %s'",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$option",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$value",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$error",540],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",540],"]",")",["T_WHITESPACE","\n                ",540],")",";",["T_WHITESPACE","\n            ",541],"}",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n",544],"}",["T_WHITESPACE","\n",545]]