[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Resolve URN path to a real schema path\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Dom",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ComponentRegistrar",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LocalizedException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","NotFoundException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Phrase",15],";",["T_WHITESPACE","\n\n",15],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","UrnResolver",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Get real file path by it's URN reference\n     *\n     * @param string $schema\n     * @return string\n     * @throws NotFoundException\n     *\/",19],["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","getRealPath",26],"(",["T_VARIABLE","$schema",26],")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_STRING","strpos",28],"(",["T_VARIABLE","$schema",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'urn:'",28],")",["T_WHITESPACE"," ",28],["T_IS_NOT_IDENTICAL","!==",28],["T_WHITESPACE"," ",28],["T_LNUMBER","0",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n            ",28],["T_RETURN","return",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$schema",29],";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE","\n\n        ",30],["T_VARIABLE","$componentRegistrar",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","ComponentRegistrar",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$matches",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$modulePattern",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'\/urn:(?<vendor>([a-zA-Z]*)):module:(?<module>([A-Za-z0-9\\_]*)):(?<path>(.+))\/'",34],";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$frameworkPattern",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'\/urn:(?<vendor>([a-zA-Z]*)):(?<framework>(framework[A-Za-z\\-]*)):(?<path>(.+))\/'",35],";",["T_WHITESPACE","\n        ",35],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_STRING","preg_match",36],"(",["T_VARIABLE","$modulePattern",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$schema",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$matches",36],")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n            ",36],["T_COMMENT","\/\/urn:magento:module:Magento_Catalog:etc\/catalog_attributes.xsd\n",37],["T_WHITESPACE","            ",38],["T_VARIABLE","$package",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$componentRegistrar",38],["T_WHITESPACE","\n                ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","getPath",39],"(",["T_STRING","ComponentRegistrar",39],["T_DOUBLE_COLON","::",39],["T_STRING","MODULE",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$matches",39],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",39],"]",")",";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE"," ",40],["T_ELSE","else",40],["T_WHITESPACE"," ",40],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_STRING","preg_match",40],"(",["T_VARIABLE","$frameworkPattern",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$schema",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$matches",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_COMMENT","\/\/urn:magento:framework:Module\/etc\/module.xsd\n",41],["T_WHITESPACE","            ",42],["T_COMMENT","\/\/urn:magento:framework-amqp:Module\/etc\/module.xsd\n",42],["T_WHITESPACE","            ",43],["T_VARIABLE","$package",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$componentRegistrar",43],["T_WHITESPACE","\n                ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","getPath",44],"(",["T_STRING","ComponentRegistrar",44],["T_DOUBLE_COLON","::",44],["T_STRING","LIBRARY",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$matches",44],"[",["T_CONSTANT_ENCAPSED_STRING","'vendor'",44],"]",["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'\/'",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_VARIABLE","$matches",44],"[",["T_CONSTANT_ENCAPSED_STRING","'framework'",44],"]",")",";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE"," ",45],["T_ELSE","else",45],["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_THROW","throw",46],["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","NotFoundException",46],"(",["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","Phrase",46],"(",["T_CONSTANT_ENCAPSED_STRING","\"Unsupported format of schema location: '%1'\"",46],",",["T_WHITESPACE"," ",46],"[",["T_VARIABLE","$schema",46],"]",")",")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$schemaPath",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$package",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'\/'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_VARIABLE","$matches",48],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",48],"]",";",["T_WHITESPACE","\n        ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_EMPTY","empty",49],"(",["T_VARIABLE","$package",49],")",["T_WHITESPACE"," ",49],["T_BOOLEAN_OR","||",49],["T_WHITESPACE"," ",49],"!",["T_STRING","file_exists",49],"(",["T_VARIABLE","$schemaPath",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_THROW","throw",50],["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","NotFoundException",50],"(",["T_WHITESPACE","\n                ",50],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","Phrase",51],"(",["T_CONSTANT_ENCAPSED_STRING","\"Could not locate schema: '%1' at '%2'\"",51],",",["T_WHITESPACE"," ",51],"[",["T_VARIABLE","$schema",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$schemaPath",51],"]",")",["T_WHITESPACE","\n            ",51],")",";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n        ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$schemaPath",54],";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Callback registered for libxml to resolve URN to the file path\n     *\n     * @param string $public\n     * @param string $system\n     * @param array $context\n     * @return resource\n     * @throws LocalizedException\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",57],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","registerEntityLoader",67],"(",["T_VARIABLE","$public",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$system",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$context",67],")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_STRING","strpos",69],"(",["T_VARIABLE","$system",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'urn:'",69],")",["T_WHITESPACE"," ",69],["T_IS_IDENTICAL","===",69],["T_WHITESPACE"," ",69],["T_LNUMBER","0",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$filePath",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getRealPath",70],"(",["T_VARIABLE","$system",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE"," ",71],["T_ELSE","else",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_STRING","file_exists",72],"(",["T_VARIABLE","$system",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$filePath",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$system",73],";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE"," ",74],["T_ELSE","else",74],["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_THROW","throw",75],["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","LocalizedException",75],"(",["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","Phrase",75],"(",["T_CONSTANT_ENCAPSED_STRING","\"File '%system' cannot be found\"",75],",",["T_WHITESPACE"," ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$system",75],"]",")",")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_STRING","fopen",78],"(",["T_VARIABLE","$filePath",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"r\"",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n",79],"}",["T_WHITESPACE","\n",80]]