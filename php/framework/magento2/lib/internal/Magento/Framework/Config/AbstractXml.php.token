[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Configuration XML-files merger\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],";",["T_WHITESPACE","\n\n",10],["T_ABSTRACT","abstract",12],["T_WHITESPACE"," ",12],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","AbstractXml",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Data extracted from the merged configuration files\n     *\n     * @var array\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_data",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Dom configuration model\n     * @var \\Magento\\Framework\\Config\\Dom\n     *\/",21],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_domConfig",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","null",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Config\\DomFactory\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$domFactory",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Instantiate with the list of files to merge\n     *\n     * @param array $configFiles\n     * @param \\Magento\\Framework\\Config\\DomFactory $domFactory\n     * @throws \\InvalidArgumentException\n     *\/",32],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$configFiles",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Config",41],["T_NS_SEPARATOR","\\",41],["T_STRING","DomFactory",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$domFactory",41],["T_WHITESPACE","\n    ",41],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","domFactory",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$domFactory",43],";",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_EMPTY","empty",44],"(",["T_VARIABLE","$configFiles",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_THROW","throw",45],["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","InvalidArgumentException",45],"(",["T_CONSTANT_ENCAPSED_STRING","'There must be at least one configuration file specified.'",45],")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_data",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_extractData",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_merge",47],"(",["T_VARIABLE","$configFiles",47],")",")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Get absolute path to the XML-schema file\n     *\n     * @return string\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_ABSTRACT","abstract",55],["T_WHITESPACE"," ",55],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","getSchemaFile",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Get absolute path to per-file XML-schema file\n     *\n     * @return string\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","getPerFileSchemaFile",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_STRING","null",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Extract configuration data from the DOM structure\n     *\n     * @param \\DOMDocument $dom\n     * @return array\n     *\/",67],["T_WHITESPACE","\n    ",72],["T_ABSTRACT","abstract",73],["T_WHITESPACE"," ",73],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","_extractData",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","DOMDocument",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$dom",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Merge the config XML-files\n     *\n     * @param array $configFiles\n     * @return \\DOMDocument\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException If a non-existing or invalid XML-file passed\n     *\/",75],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","_merge",82],"(",["T_VARIABLE","$configFiles",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$configFiles",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$key",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$content",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_TRY","try",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_getDomConfigModel",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","merge",86],"(",["T_VARIABLE","$content",86],")",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE"," ",87],["T_CATCH","catch",87],["T_WHITESPACE"," ",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Config",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Dom",87],["T_NS_SEPARATOR","\\",87],["T_STRING","ValidationException",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$e",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_THROW","throw",88],["T_WHITESPACE"," ",88],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Exception",88],["T_NS_SEPARATOR","\\",88],["T_STRING","LocalizedException",88],"(",["T_WHITESPACE","\n                    ",88],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Phrase",89],"(",["T_CONSTANT_ENCAPSED_STRING","\"Invalid XML in file %1:\\n%2\"",89],",",["T_WHITESPACE"," ",89],"[",["T_VARIABLE","$key",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$e",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMessage",89],"(",")","]",")",["T_WHITESPACE","\n                ",89],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_performValidate",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_getDomConfigModel",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getDom",94],"(",")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Perform xml validation\n     *\n     * @param string $file\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException If invalid XML-file passed\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","_performValidate",104],"(",["T_VARIABLE","$file",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","null",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$errors",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[","]",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_getDomConfigModel",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","validate",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getSchemaFile",107],"(",")",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$errors",107],")",";",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_EMPTY","empty",108],"(",["T_VARIABLE","$errors",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$phrase",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],"(",["T_STRING","null",109],["T_WHITESPACE"," ",109],["T_IS_IDENTICAL","===",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$file",109],")",["T_WHITESPACE","\n                ",109],"?",["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Framework",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Phrase",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Document %1%2'",110],",",["T_WHITESPACE"," ",110],"[",["T_STRING","PHP_EOL",110],",",["T_WHITESPACE"," ",110],["T_STRING","implode",110],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$errors",110],")","]",")",["T_WHITESPACE","\n                ",110],":",["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Framework",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Phrase",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid XML-file: %1%2%3'",111],",",["T_WHITESPACE"," ",111],"[",["T_VARIABLE","$file",111],",",["T_WHITESPACE"," ",111],["T_STRING","PHP_EOL",111],",",["T_WHITESPACE"," ",111],["T_STRING","implode",111],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$errors",111],")","]",")",";",["T_WHITESPACE","\n\n            ",111],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Framework",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Exception",113],["T_NS_SEPARATOR","\\",113],["T_STRING","LocalizedException",113],"(",["T_VARIABLE","$phrase",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Get Dom configuration model\n     *\n     * @return \\Magento\\Framework\\Config\\Dom\n     * @throws \\Magento\\Framework\\Config\\Dom\\ValidationException\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","_getDomConfigModel",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","null",126],["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_domConfig",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_domConfig",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","domFactory",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","createDom",127],"(",["T_WHITESPACE","\n                ",127],"[",["T_WHITESPACE","\n                    ",128],["T_CONSTANT_ENCAPSED_STRING","'xml'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_getInitialXml",129],"(",")",",",["T_WHITESPACE","\n                    ",129],["T_CONSTANT_ENCAPSED_STRING","'idAttributes'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_getIdAttributes",130],"(",")",",",["T_WHITESPACE","\n                    ",130],["T_CONSTANT_ENCAPSED_STRING","'schemaFile'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getPerFileSchemaFile",131],"(",")",["T_WHITESPACE","\n                ",131],"]",["T_WHITESPACE","\n            ",132],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_domConfig",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Get XML-contents, initial for merging\n     *\n     * @return string\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_ABSTRACT","abstract",143],["T_WHITESPACE"," ",143],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","_getInitialXml",143],"(",")",";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Get list of paths to identifiable nodes\n     *\n     * @return array\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_ABSTRACT","abstract",150],["T_WHITESPACE"," ",150],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","_getIdAttributes",150],"(",")",";",["T_WHITESPACE","\n",150],"}",["T_WHITESPACE","\n",151]]