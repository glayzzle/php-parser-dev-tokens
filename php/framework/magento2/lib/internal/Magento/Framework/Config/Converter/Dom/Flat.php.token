[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Converter",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Dom",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Dom",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ArrayNodeConfig",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Universal converter of any XML data to an array representation with no data loss\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Flat",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var ArrayNodeConfig\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$arrayNodeConfig",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param ArrayNodeConfig $arrayNodeConfig\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","__construct",25],"(",["T_STRING","ArrayNodeConfig",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$arrayNodeConfig",25],")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","arrayNodeConfig",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$arrayNodeConfig",27],";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Convert dom node tree to array in general case or to string in a case of a text node\n     *\n     * Example:\n     * <node attr=\"val\">\n     *     <subnode>val2<subnode>\n     * <\/node>\n     *\n     * is converted to\n     *\n     * array(\n     *     'node' => array(\n     *         'attr' => 'wal',\n     *         'subnode' => 'val2'\n     *     )\n     * )\n     *\n     * @param \\DOMNode $source\n     * @param string $basePath\n     * @return string|array\n     * @throws \\UnexpectedValueException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",30],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","convert",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","DOMNode",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$source",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$basePath",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","''",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$value",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[","]",";",["T_WHITESPACE","\n        ",55],["T_DOC_COMMENT","\/** @var \\DOMNode $node *\/",56],["T_WHITESPACE","\n        ",56],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$source",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","childNodes",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$node",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$node",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","nodeType",58],["T_WHITESPACE"," ",58],["T_IS_EQUAL","==",58],["T_WHITESPACE"," ",58],["T_STRING","XML_ELEMENT_NODE",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$nodeName",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$node",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","nodeName",59],";",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$nodePath",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$basePath",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'\/'",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_VARIABLE","$nodeName",60],";",["T_WHITESPACE","\n\n                ",60],["T_VARIABLE","$arrayKeyAttribute",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","arrayNodeConfig",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getAssocArrayKeyAttribute",62],"(",["T_VARIABLE","$nodePath",62],")",";",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$isNumericArrayNode",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","arrayNodeConfig",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isNumericArray",63],"(",["T_VARIABLE","$nodePath",63],")",";",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$isArrayNode",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$isNumericArrayNode",64],["T_WHITESPACE"," ",64],["T_BOOLEAN_OR","||",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$arrayKeyAttribute",64],";",["T_WHITESPACE","\n\n                ",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_ISSET","isset",66],"(",["T_VARIABLE","$value",66],"[",["T_VARIABLE","$nodeName",66],"]",")",["T_WHITESPACE"," ",66],["T_BOOLEAN_AND","&&",66],["T_WHITESPACE"," ",66],"!",["T_VARIABLE","$isArrayNode",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                    ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","UnexpectedValueException",67],"(",["T_WHITESPACE","\n                        ",67],"\"",["T_ENCAPSED_AND_WHITESPACE","Node path '",68],["T_CURLY_OPEN","{",68],["T_VARIABLE","$nodePath",68],"}",["T_ENCAPSED_AND_WHITESPACE","' is not unique, but it has not been marked as array.",68],"\"",["T_WHITESPACE","\n                    ",68],")",";",["T_WHITESPACE","\n                ",69],"}",["T_WHITESPACE","\n\n                ",70],["T_VARIABLE","$nodeData",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","convert",72],"(",["T_VARIABLE","$node",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$nodePath",72],")",";",["T_WHITESPACE","\n\n                ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$isArrayNode",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                    ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$isNumericArrayNode",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n                        ",75],["T_VARIABLE","$value",76],"[",["T_VARIABLE","$nodeName",76],"]","[","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$nodeData",76],";",["T_WHITESPACE","\n                    ",76],"}",["T_WHITESPACE"," ",77],["T_ELSEIF","elseif",77],["T_WHITESPACE"," ",77],"(",["T_ISSET","isset",77],"(",["T_VARIABLE","$nodeData",77],"[",["T_VARIABLE","$arrayKeyAttribute",77],"]",")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                        ",77],["T_VARIABLE","$arrayKeyValue",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$nodeData",78],"[",["T_VARIABLE","$arrayKeyAttribute",78],"]",";",["T_WHITESPACE","\n                        ",78],["T_VARIABLE","$value",79],"[",["T_VARIABLE","$nodeName",79],"]","[",["T_VARIABLE","$arrayKeyValue",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$nodeData",79],";",["T_WHITESPACE","\n                    ",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                        ",80],["T_THROW","throw",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","UnexpectedValueException",81],"(",["T_WHITESPACE","\n                            ",81],"\"",["T_ENCAPSED_AND_WHITESPACE","Array is expected to contain value for key '",82],["T_CURLY_OPEN","{",82],["T_VARIABLE","$arrayKeyAttribute",82],"}",["T_ENCAPSED_AND_WHITESPACE","'.",82],"\"",["T_WHITESPACE","\n                        ",82],")",";",["T_WHITESPACE","\n                    ",83],"}",["T_WHITESPACE","\n                ",84],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                    ",85],["T_VARIABLE","$value",86],"[",["T_VARIABLE","$nodeName",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$nodeData",86],";",["T_WHITESPACE","\n                ",86],"}",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE"," ",88],["T_ELSEIF","elseif",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$node",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","nodeType",88],["T_WHITESPACE"," ",88],["T_IS_EQUAL","==",88],["T_WHITESPACE"," ",88],["T_STRING","XML_CDATA_SECTION_NODE",88],["T_WHITESPACE","\n                ",88],["T_BOOLEAN_OR","||",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$node",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","nodeType",89],["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_STRING","XML_TEXT_NODE",89],["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],["T_STRING","trim",89],"(",["T_VARIABLE","$node",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","nodeValue",89],")",["T_WHITESPACE"," ",89],["T_IS_NOT_EQUAL","!=",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","''",89],")",["T_WHITESPACE","\n            ",89],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$value",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$node",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","nodeValue",91],";",["T_WHITESPACE","\n                ",91],["T_BREAK","break",92],";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$result",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getNodeAttributes",95],"(",["T_VARIABLE","$source",95],")",";",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_STRING","is_array",96],"(",["T_VARIABLE","$value",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$result",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","array_merge",97],"(",["T_VARIABLE","$result",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$value",97],")",";",["T_WHITESPACE","\n            ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_VARIABLE","$result",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$result",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","''",99],";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE"," ",101],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$result",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$result",103],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$value",103],";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE"," ",104],["T_ELSE","else",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$result",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$value",105],";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$result",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Retrieve key-value pairs of node attributes\n     *\n     * @param \\DOMNode $node\n     * @return array\n     *\/",111],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getNodeAttributes",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","DOMNode",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$node",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$result",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],"[","]",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$attributes",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$node",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","attributes",120],["T_WHITESPACE"," ",120],"?",":",["T_WHITESPACE"," ",120],"[","]",";",["T_WHITESPACE","\n        ",120],["T_DOC_COMMENT","\/** @var \\DOMNode $attribute *\/",121],["T_WHITESPACE","\n        ",121],["T_FOREACH","foreach",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$attributes",122],["T_WHITESPACE"," ",122],["T_AS","as",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$attribute",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$attribute",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","nodeType",123],["T_WHITESPACE"," ",123],["T_IS_EQUAL","==",123],["T_WHITESPACE"," ",123],["T_STRING","XML_ATTRIBUTE_NODE",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$result",124],"[",["T_VARIABLE","$attribute",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","nodeName",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$attribute",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","nodeValue",124],";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$result",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n",128],"}",["T_WHITESPACE","\n",129]]