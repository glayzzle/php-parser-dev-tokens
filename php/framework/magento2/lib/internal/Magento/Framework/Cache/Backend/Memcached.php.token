[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backend",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","Memcached",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Zend_Cache_Backend_Memcached",8],["T_WHITESPACE"," ",8],["T_IMPLEMENTS","implements",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Zend_Cache_Backend_ExtendedInterface",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * Maximum chunk of data that could be saved in one memcache cell (1 MiB)\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_CONST","const",13],["T_WHITESPACE"," ",13],["T_STRING","DEFAULT_SLAB_SIZE",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_LNUMBER","1048576",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * Used to tell chunked data from ordinary\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","CODE_WORD",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'{splitted}'",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param array $options @see \\Zend_Cache_Backend_Memcached::__construct()\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",20],["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","__construct",26],"(",["T_ARRAY","array",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$options",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[","]",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","__construct",28],"(",["T_VARIABLE","$options",28],")",";",["T_WHITESPACE","\n\n        ",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(","!",["T_ISSET","isset",30],"(",["T_VARIABLE","$options",30],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",30],"]",")",["T_WHITESPACE"," ",30],["T_BOOLEAN_OR","||",30],["T_WHITESPACE"," ",30],"!",["T_STRING","is_numeric",30],"(",["T_VARIABLE","$options",30],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",30],"]",")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n            ",30],["T_IF","if",31],["T_WHITESPACE"," ",31],"(",["T_ISSET","isset",31],"(",["T_VARIABLE","$options",31],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",31],"]",")",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n                ",31],["T_THROW","throw",32],["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Framework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Exception",32],["T_NS_SEPARATOR","\\",32],["T_STRING","LocalizedException",32],"(",["T_WHITESPACE","\n                    ",32],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Phrase",33],"(",["T_WHITESPACE","\n                        ",33],["T_CONSTANT_ENCAPSED_STRING","\"Invalid value for the node <slab_size>. Expected to be positive integer.\"",34],["T_WHITESPACE","\n                    ",34],")",["T_WHITESPACE","\n                ",35],")",";",["T_WHITESPACE","\n            ",36],"}",["T_WHITESPACE","\n\n            ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_options",39],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",39],"]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","self",39],["T_DOUBLE_COLON","::",39],["T_STRING","DEFAULT_SLAB_SIZE",39],";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE"," ",40],["T_ELSE","else",40],["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_options",41],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$options",41],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",41],"]",";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Returns ID of a specific chunk on the basis of data's ID\n     *\n     * @param string $id    Main data's ID\n     * @param int    $index Particular chunk number to return ID for\n     * @return string\n     *\/",45],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","_getChunkId",52],"(",["T_VARIABLE","$id",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$index",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],"\"",["T_CURLY_OPEN","{",54],["T_VARIABLE","$id",54],"}",["T_ENCAPSED_AND_WHITESPACE","[",54],["T_CURLY_OPEN","{",54],["T_VARIABLE","$index",54],"}",["T_ENCAPSED_AND_WHITESPACE","]",54],"\"",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Remove saved chunks in case something gone wrong (e.g. some chunk from the chain can not be found)\n     *\n     * @param string $id     ID of data's info cell\n     * @param int    $chunks Number of chunks to remove (basically, the number after '{splitted}|')\n     * @return null\n     *\/",57],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","_cleanTheMess",64],"(",["T_VARIABLE","$id",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$chunks",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_FOR","for",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$i",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],";",["T_WHITESPACE"," ",66],["T_VARIABLE","$i",66],["T_WHITESPACE"," ",66],"<",["T_WHITESPACE"," ",66],["T_VARIABLE","$chunks",66],";",["T_WHITESPACE"," ",66],["T_VARIABLE","$i",66],["T_INC","++",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","remove",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_getChunkId",67],"(",["T_VARIABLE","$id",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$i",67],")",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","remove",70],"(",["T_VARIABLE","$id",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Save data to memcached, split it into chunks if data size is bigger than memcached slab size.\n     *\n     * @param string $data             @see \\Zend_Cache_Backend_Memcached::save()\n     * @param string $id               @see \\Zend_Cache_Backend_Memcached::save()\n     * @param string[] $tags           @see \\Zend_Cache_Backend_Memcached::save()\n     * @param bool $specificLifetime   @see \\Zend_Cache_Backend_Memcached::save()\n     * @return bool\n     *\/",73],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","save",82],"(",["T_VARIABLE","$data",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$id",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$tags",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[","]",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$specificLifetime",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","false",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","is_string",84],"(",["T_VARIABLE","$data",84],")",["T_WHITESPACE"," ",84],["T_BOOLEAN_AND","&&",84],["T_WHITESPACE"," ",84],["T_STRING","strlen",84],"(",["T_VARIABLE","$data",84],")",["T_WHITESPACE"," ",84],">",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_options",84],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",84],"]",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$dataChunks",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","str_split",85],"(",["T_VARIABLE","$data",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_options",85],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",85],"]",")",";",["T_WHITESPACE","\n\n            ",85],["T_FOR","for",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$i",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_LNUMBER","0",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$cnt",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","count",87],"(",["T_VARIABLE","$dataChunks",87],")",";",["T_WHITESPACE"," ",87],["T_VARIABLE","$i",87],["T_WHITESPACE"," ",87],"<",["T_WHITESPACE"," ",87],["T_VARIABLE","$cnt",87],";",["T_WHITESPACE"," ",87],["T_VARIABLE","$i",87],["T_INC","++",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$chunkId",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_getChunkId",88],"(",["T_VARIABLE","$id",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$i",88],")",";",["T_WHITESPACE","\n\n                ",88],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_STRING","parent",90],["T_DOUBLE_COLON","::",90],["T_STRING","save",90],"(",["T_VARIABLE","$dataChunks",90],"[",["T_VARIABLE","$i",90],"]",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$chunkId",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$tags",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$specificLifetime",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_cleanTheMess",91],"(",["T_VARIABLE","$id",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$i",91],["T_WHITESPACE"," ",91],"+",["T_WHITESPACE"," ",91],["T_LNUMBER","1",91],")",";",["T_WHITESPACE","\n                    ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","false",92],";",["T_WHITESPACE","\n                ",92],"}",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE","\n\n            ",94],["T_VARIABLE","$data",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","CODE_WORD",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'|'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$i",96],";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","parent",99],["T_DOUBLE_COLON","::",99],["T_STRING","save",99],"(",["T_VARIABLE","$data",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$id",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$tags",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$specificLifetime",99],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Load data from memcached, glue from several chunks if it was splitted upon save.\n     *\n     * @param string $id                     @see \\Zend_Cache_Backend_Memcached::load()\n     * @param bool   $doNotTestCacheValidity @see \\Zend_Cache_Backend_Memcached::load()\n     * @return bool|false|string\n     *\/",102],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","load",109],"(",["T_VARIABLE","$id",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$doNotTestCacheValidity",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","false",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$data",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","parent",111],["T_DOUBLE_COLON","::",111],["T_STRING","load",111],"(",["T_VARIABLE","$id",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$doNotTestCacheValidity",111],")",";",["T_WHITESPACE","\n\n        ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_STRING","is_string",113],"(",["T_VARIABLE","$data",113],")",["T_WHITESPACE"," ",113],["T_BOOLEAN_AND","&&",113],["T_WHITESPACE"," ",113],["T_STRING","substr",113],"(",["T_VARIABLE","$data",113],",",["T_WHITESPACE"," ",113],["T_LNUMBER","0",113],",",["T_WHITESPACE"," ",113],["T_STRING","strlen",113],"(",["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_STRING","CODE_WORD",113],")",")",["T_WHITESPACE"," ",113],["T_IS_EQUAL","==",113],["T_WHITESPACE"," ",113],["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_STRING","CODE_WORD",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_COMMENT","\/\/ Seems we've got chunked data\n",114],["T_WHITESPACE","\n            ",115],["T_VARIABLE","$arr",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","explode",116],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$data",116],")",";",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$chunks",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ISSET","isset",117],"(",["T_VARIABLE","$arr",117],"[",["T_LNUMBER","1",117],"]",")",["T_WHITESPACE"," ",117],"?",["T_WHITESPACE"," ",117],["T_VARIABLE","$arr",117],"[",["T_LNUMBER","1",117],"]",["T_WHITESPACE"," ",117],":",["T_WHITESPACE"," ",117],["T_STRING","false",117],";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$chunkData",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],"[","]",";",["T_WHITESPACE","\n\n            ",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$chunks",120],["T_WHITESPACE"," ",120],["T_BOOLEAN_AND","&&",120],["T_WHITESPACE"," ",120],["T_STRING","is_numeric",120],"(",["T_VARIABLE","$chunks",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_FOR","for",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$i",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_LNUMBER","0",121],";",["T_WHITESPACE"," ",121],["T_VARIABLE","$i",121],["T_WHITESPACE"," ",121],"<",["T_WHITESPACE"," ",121],["T_VARIABLE","$chunks",121],";",["T_WHITESPACE"," ",121],["T_VARIABLE","$i",121],["T_INC","++",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                    ",121],["T_VARIABLE","$chunk",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","parent",122],["T_DOUBLE_COLON","::",122],["T_STRING","load",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_getChunkId",122],"(",["T_VARIABLE","$id",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$i",122],")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$doNotTestCacheValidity",122],")",";",["T_WHITESPACE","\n\n                    ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","false",124],["T_WHITESPACE"," ",124],["T_IS_IDENTICAL","===",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$chunk",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                        ",124],["T_COMMENT","\/\/ Some chunk in chain was not found, we can not glue-up the data:\n",125],["T_WHITESPACE","                        ",126],["T_COMMENT","\/\/ clean the mess and return nothing\n",126],["T_WHITESPACE","\n                        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_cleanTheMess",128],"(",["T_VARIABLE","$id",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$chunks",128],")",";",["T_WHITESPACE","\n                        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","false",129],";",["T_WHITESPACE","\n                    ",129],"}",["T_WHITESPACE","\n\n                    ",130],["T_VARIABLE","$chunkData",132],"[","]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$chunk",132],";",["T_WHITESPACE","\n                ",132],"}",["T_WHITESPACE","\n\n                ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","implode",135],"(",["T_CONSTANT_ENCAPSED_STRING","''",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$chunkData",135],")",";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_COMMENT","\/\/ Data has not been splitted to chunks on save\n",139],["T_WHITESPACE","        ",140],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$data",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n",141],"}",["T_WHITESPACE","\n",142]]