[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Data",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Graph data structure\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Graph",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_COMMENT","\/**#@+\n     * Search modes\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","DIRECTIONAL",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_LNUMBER","1",16],";",["T_WHITESPACE","\n\n    ",16],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","INVERSE",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_LNUMBER","2",18],";",["T_WHITESPACE","\n\n    ",18],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","NON_DIRECTIONAL",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_LNUMBER","3",20],";",["T_WHITESPACE","\n\n    ",20],["T_COMMENT","\/**#@-*\/",22],["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Registry of nodes\n     *\n     * @var array\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_nodes",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],"[","]",";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Declared relations directed \"from\" \"to\"\n     *\n     * @var array\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_from",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],"[","]",";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Inverse relations \"to\" \"from\"\n     *\n     * @var array\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_to",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[","]",";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Validate consistency of the declared structure and assign it to the object state\n     *\n     * @param array $nodes plain array with node identifiers\n     * @param array $relations array of 2-item plain arrays, which represent relations of nodes \"from\" \"to\"\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","__construct",51],"(",["T_ARRAY","array",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$nodes",51],",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$relations",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$nodes",53],["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$node",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_assertNode",54],"(",["T_VARIABLE","$node",54],",",["T_WHITESPACE"," ",54],["T_STRING","false",54],")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_nodes",55],"[",["T_VARIABLE","$node",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$node",55],";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$relations",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$pair",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_LIST","list",58],"(",["T_VARIABLE","$fromNode",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$toNode",58],")",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$pair",58],";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","addRelation",59],"(",["T_VARIABLE","$fromNode",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$toNode",59],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Set a relation between nodes\n     *\n     * @param string|int $fromNode\n     * @param string|int $toNode\n     * @return $this\n     * @throws \\InvalidArgumentException\n     *\/",63],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","addRelation",71],"(",["T_VARIABLE","$fromNode",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$toNode",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$fromNode",73],["T_WHITESPACE"," ",73],["T_IS_EQUAL","==",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$toNode",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","InvalidArgumentException",74],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Graph node '",74],["T_CURLY_OPEN","{",74],["T_VARIABLE","$fromNode",74],"}",["T_ENCAPSED_AND_WHITESPACE","' is linked to itself.",74],"\"",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_assertNode",76],"(",["T_VARIABLE","$fromNode",76],",",["T_WHITESPACE"," ",76],["T_STRING","true",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_assertNode",77],"(",["T_VARIABLE","$toNode",77],",",["T_WHITESPACE"," ",77],["T_STRING","true",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_from",78],"[",["T_VARIABLE","$fromNode",78],"]","[",["T_VARIABLE","$toNode",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$toNode",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_to",79],"[",["T_VARIABLE","$toNode",79],"]","[",["T_VARIABLE","$fromNode",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$fromNode",79],";",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Export relations between nodes. Can return inverse relations\n     *\n     * @param int $mode\n     * @return array\n     * @throws \\InvalidArgumentException\n     *\/",83],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getRelations",90],"(",["T_VARIABLE","$mode",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","self",90],["T_DOUBLE_COLON","::",90],["T_STRING","DIRECTIONAL",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_SWITCH","switch",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$mode",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_CASE","case",93],["T_WHITESPACE"," ",93],["T_STRING","self",93],["T_DOUBLE_COLON","::",93],["T_STRING","DIRECTIONAL",93],":",["T_WHITESPACE","\n                ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_from",94],";",["T_WHITESPACE","\n            ",94],["T_CASE","case",95],["T_WHITESPACE"," ",95],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","INVERSE",95],":",["T_WHITESPACE","\n                ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_to",96],";",["T_WHITESPACE","\n            ",96],["T_CASE","case",97],["T_WHITESPACE"," ",97],["T_STRING","self",97],["T_DOUBLE_COLON","::",97],["T_STRING","NON_DIRECTIONAL",97],":",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$graph",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_from",98],";",["T_WHITESPACE","\n                ",98],["T_FOREACH","foreach",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_to",99],["T_WHITESPACE"," ",99],["T_AS","as",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$idTo",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$relations",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                    ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$relations",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$idFrom",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                        ",100],["T_VARIABLE","$graph",101],"[",["T_VARIABLE","$idTo",101],"]","[",["T_VARIABLE","$idFrom",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$idFrom",101],";",["T_WHITESPACE","\n                    ",101],"}",["T_WHITESPACE","\n                ",102],"}",["T_WHITESPACE","\n                ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$graph",104],";",["T_WHITESPACE","\n            ",104],["T_DEFAULT","default",105],":",["T_WHITESPACE","\n                ",105],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_NS_SEPARATOR","\\",106],["T_STRING","InvalidArgumentException",106],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unknown search mode: '",106],["T_CURLY_OPEN","{",106],["T_VARIABLE","$mode",106],"}",["T_ENCAPSED_AND_WHITESPACE","'",106],"\"",")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Find a cycle in the graph\n     *\n     * Returns first\/all found cycle\n     * Optionally may specify a node to return a cycle if it is in any\n     *\n     * @param string|int $node\n     * @param boolean $firstOnly found only first cycle\n     * @return array\n     *\/",110],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","findCycle",120],"(",["T_VARIABLE","$node",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","null",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$firstOnly",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","true",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$nodes",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","null",122],["T_WHITESPACE"," ",122],["T_IS_IDENTICAL","===",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$node",122],["T_WHITESPACE"," ",122],"?",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_nodes",122],["T_WHITESPACE"," ",122],":",["T_WHITESPACE"," ",122],"[",["T_VARIABLE","$node",122],"]",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$results",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],"[","]",";",["T_WHITESPACE","\n        ",123],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$nodes",124],["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$node",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$result",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","dfs",125],"(",["T_VARIABLE","$node",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$node",125],")",";",["T_WHITESPACE","\n            ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$result",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$firstOnly",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                    ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$result",128],";",["T_WHITESPACE","\n                ",128],"}",["T_WHITESPACE"," ",129],["T_ELSE","else",129],["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                    ",129],["T_VARIABLE","$results",130],"[","]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$result",130],";",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$results",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Find paths to reachable nodes from root node\n     *\n     * Returns array of paths, key is destination node and value is path (an array) from rootNode to destination node\n     * Eg. dest => [root, A, dest] means root -> A -> dest\n     *\n     * @param string|int $rootNode\n     * @param int $mode\n     * @return array\n     *\/",137],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","findPathsToReachableNodes",147],"(",["T_VARIABLE","$rootNode",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$mode",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","self",147],["T_DOUBLE_COLON","::",147],["T_STRING","DIRECTIONAL",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$graph",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getRelations",149],"(",["T_VARIABLE","$mode",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$paths",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"[","]",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$queue",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],"[",["T_VARIABLE","$rootNode",151],"]",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$visited",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],"[",["T_VARIABLE","$rootNode",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$rootNode",152],"]",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$paths",153],"[",["T_VARIABLE","$rootNode",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],"[",["T_VARIABLE","$rootNode",153],"]",";",["T_WHITESPACE","\n        ",153],["T_WHILE","while",154],["T_WHITESPACE"," ",154],"(","!",["T_EMPTY","empty",154],"(",["T_VARIABLE","$queue",154],")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$node",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","array_shift",155],"(",["T_VARIABLE","$queue",155],")",";",["T_WHITESPACE","\n            ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_EMPTY","empty",156],"(",["T_VARIABLE","$graph",156],"[",["T_VARIABLE","$node",156],"]",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_FOREACH","foreach",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$graph",157],"[",["T_VARIABLE","$node",157],"]",["T_WHITESPACE"," ",157],["T_AS","as",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$child",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                    ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_ISSET","isset",158],"(",["T_VARIABLE","$visited",158],"[",["T_VARIABLE","$child",158],"]",")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                        ",158],["T_VARIABLE","$paths",159],"[",["T_VARIABLE","$child",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$paths",159],"[",["T_VARIABLE","$node",159],"]",";",["T_WHITESPACE","\n                        ",159],["T_VARIABLE","$paths",160],"[",["T_VARIABLE","$child",160],"]","[","]",["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$child",160],";",["T_WHITESPACE","\n                        ",160],["T_VARIABLE","$visited",161],"[",["T_VARIABLE","$child",161],"]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$child",161],";",["T_WHITESPACE","\n                        ",161],["T_VARIABLE","$queue",162],"[","]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$child",162],";",["T_WHITESPACE","\n                    ",162],"}",["T_WHITESPACE","\n                ",163],"}",["T_WHITESPACE","\n            ",164],"}",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$paths",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * \"Depth-first search\" of a path between nodes\n     *\n     * Returns path as array of nodes or empty array if path does not exist.\n     * Only first found path is returned. It will be not necessary the shortest or optimal in any way.\n     *\n     * @param string|int $fromNode\n     * @param string|int $toNode\n     * @param int $mode\n     * @return array\n     *\/",170],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","dfs",181],"(",["T_VARIABLE","$fromNode",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$toNode",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$mode",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","DIRECTIONAL",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_assertNode",183],"(",["T_VARIABLE","$fromNode",183],",",["T_WHITESPACE"," ",183],["T_STRING","true",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_assertNode",184],"(",["T_VARIABLE","$toNode",184],",",["T_WHITESPACE"," ",184],["T_STRING","true",184],")",";",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_dfs",185],"(",["T_VARIABLE","$fromNode",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$toNode",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getRelations",185],"(",["T_VARIABLE","$mode",185],")",")",";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Recursive sub-routine of dfs()\n     *\n     * @param string|int $fromNode\n     * @param string|int $toNode\n     * @param array $graph\n     * @param array &$visited\n     * @param array $stack\n     * @return array\n     * @link http:\/\/en.wikipedia.org\/wiki\/Depth-first_search\n     *\/",188],["T_WHITESPACE","\n    ",198],["T_PROTECTED","protected",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","_dfs",199],"(",["T_VARIABLE","$fromNode",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$toNode",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$graph",199],",",["T_WHITESPACE"," ",199],"&",["T_VARIABLE","$visited",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"[","]",",",["T_WHITESPACE"," ",199],["T_VARIABLE","$stack",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"[","]",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$stack",201],"[","]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$fromNode",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$visited",202],"[",["T_VARIABLE","$fromNode",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$fromNode",202],";",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_ISSET","isset",203],"(",["T_VARIABLE","$graph",203],"[",["T_VARIABLE","$fromNode",203],"]","[",["T_VARIABLE","$toNode",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$stack",204],"[","]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$toNode",204],";",["T_WHITESPACE","\n            ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$stack",205],";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_ISSET","isset",207],"(",["T_VARIABLE","$graph",207],"[",["T_VARIABLE","$fromNode",207],"]",")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_FOREACH","foreach",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$graph",208],"[",["T_VARIABLE","$fromNode",208],"]",["T_WHITESPACE"," ",208],["T_AS","as",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$node",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_ISSET","isset",209],"(",["T_VARIABLE","$visited",209],"[",["T_VARIABLE","$node",209],"]",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                    ",209],["T_VARIABLE","$result",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_dfs",210],"(",["T_VARIABLE","$node",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$toNode",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$graph",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$visited",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$stack",210],")",";",["T_WHITESPACE","\n                    ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$result",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$result",212],";",["T_WHITESPACE","\n                    ",212],"}",["T_WHITESPACE","\n                ",213],"}",["T_WHITESPACE","\n            ",214],"}",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],"[","]",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Verify existence or non-existence of a node\n     *\n     * @param string|int $node\n     * @param bool $mustExist\n     * @return void\n     * @throws \\InvalidArgumentException according to assertion rules\n     *\/",220],["T_WHITESPACE","\n    ",227],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","_assertNode",228],"(",["T_VARIABLE","$node",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$mustExist",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_ISSET","isset",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_nodes",230],"[",["T_VARIABLE","$node",230],"]",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(","!",["T_VARIABLE","$mustExist",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                ",231],["T_THROW","throw",232],["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_NS_SEPARATOR","\\",232],["T_STRING","InvalidArgumentException",232],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Graph node '",232],["T_CURLY_OPEN","{",232],["T_VARIABLE","$node",232],"}",["T_ENCAPSED_AND_WHITESPACE","' already exists'.",232],"\"",")",";",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE"," ",234],["T_ELSE","else",234],["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$mustExist",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                ",235],["T_THROW","throw",236],["T_WHITESPACE"," ",236],["T_NEW","new",236],["T_WHITESPACE"," ",236],["T_NS_SEPARATOR","\\",236],["T_STRING","InvalidArgumentException",236],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Graph node '",236],["T_CURLY_OPEN","{",236],["T_VARIABLE","$node",236],"}",["T_ENCAPSED_AND_WHITESPACE","' does not exist.",236],"\"",")",";",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n",239],"}",["T_WHITESPACE","\n",240]]