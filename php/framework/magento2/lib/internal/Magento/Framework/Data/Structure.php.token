[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Data",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LocalizedException",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * An associative data structure, that features \"nested set\" parent-child relations\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Structure",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Reserved keys for storing structural relations\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","PARENT",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'parent'",18],";",["T_WHITESPACE","\n\n    ",18],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","CHILDREN",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'children'",20],";",["T_WHITESPACE","\n\n    ",20],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","GROUPS",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'groups'",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_elements",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[","]",";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Set elements in constructor\n     *\n     * @param array $elements\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","__construct",34],"(",["T_ARRAY","array",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$elements",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","null",34],")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_STRING","null",36],["T_WHITESPACE"," ",36],["T_IS_NOT_IDENTICAL","!==",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$elements",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","importElements",37],"(",["T_VARIABLE","$elements",37],")",";",["T_WHITESPACE","\n        ",37],"}",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Set elements from external source\n     *\n     * @param array $elements\n     * @return void\n     * @throws LocalizedException if any format issues identified\n     *\/",41],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","importElements",48],"(",["T_ARRAY","array",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$elements",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_elements",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$elements",50],";",["T_WHITESPACE","\n        ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$elements",51],["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$elementId",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$element",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_STRING","is_numeric",52],"(",["T_VARIABLE","$elementId",52],")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_THROW","throw",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","LocalizedException",53],"(",["T_WHITESPACE","\n                    ",53],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Phrase",54],"(",["T_CONSTANT_ENCAPSED_STRING","\"Element ID must not be numeric: '%1'.\"",54],",",["T_WHITESPACE"," ",54],"[",["T_VARIABLE","$elementId",54],"]",")",["T_WHITESPACE","\n                ",54],")",";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_assertParentRelation",57],"(",["T_VARIABLE","$elementId",57],")",";",["T_WHITESPACE","\n            ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_ISSET","isset",58],"(",["T_VARIABLE","$element",58],"[",["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_STRING","GROUPS",58],"]",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$groups",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$element",59],"[",["T_STRING","self",59],["T_DOUBLE_COLON","::",59],["T_STRING","GROUPS",59],"]",";",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_assertArray",60],"(",["T_VARIABLE","$groups",60],")",";",["T_WHITESPACE","\n                ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$groups",61],["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$groupName",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$group",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_assertArray",62],"(",["T_VARIABLE","$group",62],")",";",["T_WHITESPACE","\n                    ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$group",63],["T_WHITESPACE"," ",63],["T_IS_NOT_IDENTICAL","!==",63],["T_WHITESPACE"," ",63],["T_STRING","array_flip",63],"(",["T_VARIABLE","$group",63],")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                        ",63],["T_THROW","throw",64],["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","LocalizedException",64],"(",["T_WHITESPACE","\n                            ",64],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Phrase",65],"(",["T_WHITESPACE","\n                                ",65],["T_CONSTANT_ENCAPSED_STRING","\"Invalid format of group '%1': %2\"",66],",",["T_WHITESPACE","\n                                ",66],"[",["T_VARIABLE","$groupName",67],",",["T_WHITESPACE"," ",67],["T_STRING","var_export",67],"(",["T_VARIABLE","$group",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],")","]",["T_WHITESPACE","\n                            ",67],")",["T_WHITESPACE","\n                        ",68],")",";",["T_WHITESPACE","\n                    ",69],"}",["T_WHITESPACE","\n                    ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$group",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$groupElementId",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_assertElementExists",72],"(",["T_VARIABLE","$groupElementId",72],")",";",["T_WHITESPACE","\n                    ",72],"}",["T_WHITESPACE","\n                ",73],"}",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Verify relations of parent-child\n     *\n     * @param string $elementId\n     * @return void\n     * @throws LocalizedException\n     *\/",79],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","_assertParentRelation",86],"(",["T_VARIABLE","$elementId",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$element",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_elements",88],"[",["T_VARIABLE","$elementId",88],"]",";",["T_WHITESPACE","\n\n        ",88],["T_COMMENT","\/\/ element presence in its parent's nested set\n",90],["T_WHITESPACE","        ",91],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$element",91],"[",["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","PARENT",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$parentId",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$element",92],"[",["T_STRING","self",92],["T_DOUBLE_COLON","::",92],["T_STRING","PARENT",92],"]",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_assertElementExists",93],"(",["T_VARIABLE","$parentId",93],")",";",["T_WHITESPACE","\n            ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_EMPTY","empty",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_elements",94],"[",["T_VARIABLE","$parentId",94],"]","[",["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","CHILDREN",94],"]","[",["T_VARIABLE","$elementId",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_THROW","throw",95],["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","LocalizedException",95],"(",["T_WHITESPACE","\n                    ",95],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Phrase",96],"(",["T_WHITESPACE","\n                        ",96],["T_CONSTANT_ENCAPSED_STRING","\"Broken parent-child relation: the '%1' is not in the nested set of '%2'.\"",97],",",["T_WHITESPACE","\n                        ",97],"[",["T_VARIABLE","$elementId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$parentId",98],"]",["T_WHITESPACE","\n                    ",98],")",["T_WHITESPACE","\n                ",99],")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n\n        ",102],["T_COMMENT","\/\/ element presence in its children\n",104],["T_WHITESPACE","        ",105],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_ISSET","isset",105],"(",["T_VARIABLE","$element",105],"[",["T_STRING","self",105],["T_DOUBLE_COLON","::",105],["T_STRING","CHILDREN",105],"]",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$children",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$element",106],"[",["T_STRING","self",106],["T_DOUBLE_COLON","::",106],["T_STRING","CHILDREN",106],"]",";",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_assertArray",107],"(",["T_VARIABLE","$children",107],")",";",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$children",108],["T_WHITESPACE"," ",108],["T_IS_NOT_IDENTICAL","!==",108],["T_WHITESPACE"," ",108],["T_STRING","array_flip",108],"(",["T_STRING","array_flip",108],"(",["T_VARIABLE","$children",108],")",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_THROW","throw",109],["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","LocalizedException",109],"(",["T_WHITESPACE","\n                    ",109],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Framework",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Phrase",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid format of children: %1'",110],",",["T_WHITESPACE"," ",110],"[",["T_STRING","var_export",110],"(",["T_VARIABLE","$children",110],",",["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],")","]",")",["T_WHITESPACE","\n                ",110],")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n            ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_STRING","array_keys",113],"(",["T_VARIABLE","$children",113],")",["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$childId",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_assertElementExists",114],"(",["T_VARIABLE","$childId",114],")",";",["T_WHITESPACE","\n                ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(","!",["T_ISSET","isset",115],"(",["T_WHITESPACE","\n                    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_elements",116],"[",["T_VARIABLE","$childId",116],"]","[",["T_STRING","self",116],["T_DOUBLE_COLON","::",116],["T_STRING","PARENT",116],"]",["T_WHITESPACE","\n                ",116],")",["T_WHITESPACE"," ",117],["T_BOOLEAN_OR","||",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$elementId",117],["T_WHITESPACE"," ",117],["T_IS_NOT_IDENTICAL","!==",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_elements",117],"[",["T_VARIABLE","$childId",117],"]","[",["T_STRING","self",117],["T_DOUBLE_COLON","::",117],["T_STRING","PARENT",117],"]",["T_WHITESPACE","\n                ",117],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                    ",118],["T_THROW","throw",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","LocalizedException",119],"(",["T_WHITESPACE","\n                        ",119],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Framework",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Phrase",120],"(",["T_WHITESPACE","\n                            ",120],["T_CONSTANT_ENCAPSED_STRING","\"Broken parent-child relation: the '%1' is supposed to have '%2' as parent.\"",121],",",["T_WHITESPACE","\n                            ",121],"[",["T_VARIABLE","$childId",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$elementId",122],"]",["T_WHITESPACE","\n                        ",122],")",["T_WHITESPACE","\n                    ",123],")",";",["T_WHITESPACE","\n                ",124],"}",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Dump all elements\n     *\n     * @return array\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","exportElements",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_elements",137],";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Create new element\n     *\n     * @param string $elementId\n     * @param array $data\n     * @return void\n     * @throws LocalizedException if an element with this id already exists\n     *\/",140],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","createElement",148],"(",["T_VARIABLE","$elementId",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$data",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_ISSET","isset",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_elements",150],"[",["T_VARIABLE","$elementId",150],"]",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_THROW","throw",151],["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_STRING","LocalizedException",151],"(",["T_WHITESPACE","\n                ",151],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Framework",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Phrase",152],"(",["T_CONSTANT_ENCAPSED_STRING","\"Element with ID '%1' already exists.\"",152],",",["T_WHITESPACE"," ",152],"[",["T_VARIABLE","$elementId",152],"]",")",["T_WHITESPACE","\n            ",152],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_elements",155],"[",["T_VARIABLE","$elementId",155],"]",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"[","]",";",["T_WHITESPACE","\n        ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$data",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$key",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$value",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","setAttribute",157],"(",["T_VARIABLE","$elementId",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$key",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$value",157],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Get existing element\n     *\n     * @param string $elementId\n     * @return array|bool\n     *\/",161],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","getElement",167],"(",["T_VARIABLE","$elementId",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_ISSET","isset",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_elements",169],"[",["T_VARIABLE","$elementId",169],"]",")",["T_WHITESPACE"," ",169],"?",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_elements",169],"[",["T_VARIABLE","$elementId",169],"]",["T_WHITESPACE"," ",169],":",["T_WHITESPACE"," ",169],["T_STRING","false",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Whether specified element exists\n     *\n     * @param string $elementId\n     * @return bool\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","hasElement",178],"(",["T_VARIABLE","$elementId",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_ISSET","isset",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_elements",180],"[",["T_VARIABLE","$elementId",180],"]",")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Remove element with specified ID from the structure\n     *\n     * Can recursively delete all child elements.\n     * Returns false if there was no element found, therefore was nothing to delete.\n     *\n     * @param string $elementId\n     * @param bool $recursive\n     * @return bool\n     *\/",183],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","unsetElement",193],"(",["T_VARIABLE","$elementId",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$recursive",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","true",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_ISSET","isset",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_elements",195],"[",["T_VARIABLE","$elementId",195],"]","[",["T_STRING","self",195],["T_DOUBLE_COLON","::",195],["T_STRING","CHILDREN",195],"]",")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_STRING","array_keys",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_elements",196],"[",["T_VARIABLE","$elementId",196],"]","[",["T_STRING","self",196],["T_DOUBLE_COLON","::",196],["T_STRING","CHILDREN",196],"]",")",["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$childId",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_assertElementExists",197],"(",["T_VARIABLE","$childId",197],")",";",["T_WHITESPACE","\n                ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$recursive",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","unsetElement",199],"(",["T_VARIABLE","$childId",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$recursive",199],")",";",["T_WHITESPACE","\n                ",199],"}",["T_WHITESPACE"," ",200],["T_ELSE","else",200],["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                    ",200],["T_UNSET","unset",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_elements",201],"[",["T_VARIABLE","$childId",201],"]","[",["T_STRING","self",201],["T_DOUBLE_COLON","::",201],["T_STRING","PARENT",201],"]",")",";",["T_WHITESPACE","\n                ",201],"}",["T_WHITESPACE","\n            ",202],"}",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","unsetChild",205],"(",["T_VARIABLE","$elementId",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$wasFound",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_ISSET","isset",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_elements",206],"[",["T_VARIABLE","$elementId",206],"]",")",";",["T_WHITESPACE","\n        ",206],["T_UNSET","unset",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_elements",207],"[",["T_VARIABLE","$elementId",207],"]",")",";",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$wasFound",208],";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Set an arbitrary value to specified element attribute\n     *\n     * @param string $elementId\n     * @param string $attribute\n     * @param mixed $value\n     * @throws \\InvalidArgumentException\n     * @return $this\n     *\/",211],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","setAttribute",220],"(",["T_VARIABLE","$elementId",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$attribute",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$value",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_assertElementExists",222],"(",["T_VARIABLE","$elementId",222],")",";",["T_WHITESPACE","\n        ",222],["T_SWITCH","switch",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$attribute",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_CASE","case",224],["T_WHITESPACE"," ",224],["T_STRING","self",224],["T_DOUBLE_COLON","::",224],["T_STRING","PARENT",224],":",["T_WHITESPACE","\n                ",224],["T_COMMENT","\/\/ break is intentionally omitted\n",225],["T_WHITESPACE","            ",226],["T_CASE","case",226],["T_WHITESPACE"," ",226],["T_STRING","self",226],["T_DOUBLE_COLON","::",226],["T_STRING","CHILDREN",226],":",["T_WHITESPACE","\n            ",226],["T_CASE","case",227],["T_WHITESPACE"," ",227],["T_STRING","self",227],["T_DOUBLE_COLON","::",227],["T_STRING","GROUPS",227],":",["T_WHITESPACE","\n                ",227],["T_THROW","throw",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_NS_SEPARATOR","\\",228],["T_STRING","InvalidArgumentException",228],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Attribute '",228],["T_CURLY_OPEN","{",228],["T_VARIABLE","$attribute",228],"}",["T_ENCAPSED_AND_WHITESPACE","' is reserved and cannot be set.",228],"\"",")",";",["T_WHITESPACE","\n            ",228],["T_DEFAULT","default",229],":",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_elements",230],"[",["T_VARIABLE","$elementId",230],"]","[",["T_VARIABLE","$attribute",230],"]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$value",230],";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Get element attribute\n     *\n     * @param string $elementId\n     * @param string $attribute\n     * @return mixed\n     *\/",235],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","getAttribute",242],"(",["T_VARIABLE","$elementId",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$attribute",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_assertElementExists",244],"(",["T_VARIABLE","$elementId",244],")",";",["T_WHITESPACE","\n        ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_ISSET","isset",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_elements",245],"[",["T_VARIABLE","$elementId",245],"]","[",["T_VARIABLE","$attribute",245],"]",")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_elements",246],"[",["T_VARIABLE","$elementId",246],"]","[",["T_VARIABLE","$attribute",246],"]",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n        ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_STRING","false",248],";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Rename element ID\n     *\n     * @param string $oldId\n     * @param string $newId\n     * @return $this\n     * @throws LocalizedException if trying to overwrite another element\n     *\/",251],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","renameElement",259],"(",["T_VARIABLE","$oldId",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$newId",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_assertElementExists",261],"(",["T_VARIABLE","$oldId",261],")",";",["T_WHITESPACE","\n        ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(","!",["T_VARIABLE","$newId",262],["T_WHITESPACE"," ",262],["T_BOOLEAN_OR","||",262],["T_WHITESPACE"," ",262],["T_ISSET","isset",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_elements",262],"[",["T_VARIABLE","$newId",262],"]",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_THROW","throw",263],["T_WHITESPACE"," ",263],["T_NEW","new",263],["T_WHITESPACE"," ",263],["T_STRING","LocalizedException",263],"(",["T_WHITESPACE","\n                ",263],["T_NEW","new",264],["T_WHITESPACE"," ",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Magento",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Framework",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Phrase",264],"(",["T_CONSTANT_ENCAPSED_STRING","\"Element with ID '%1' is already defined.\"",264],",",["T_WHITESPACE"," ",264],"[",["T_VARIABLE","$newId",264],"]",")",["T_WHITESPACE","\n            ",264],")",";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n\n        ",266],["T_COMMENT","\/\/ rename in registry\n",268],["T_WHITESPACE","        ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_elements",269],"[",["T_VARIABLE","$newId",269],"]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_elements",269],"[",["T_VARIABLE","$oldId",269],"]",";",["T_WHITESPACE","\n\n        ",269],["T_COMMENT","\/\/ rename references in children\n",271],["T_WHITESPACE","        ",272],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_ISSET","isset",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_elements",272],"[",["T_VARIABLE","$oldId",272],"]","[",["T_STRING","self",272],["T_DOUBLE_COLON","::",272],["T_STRING","CHILDREN",272],"]",")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_FOREACH","foreach",273],["T_WHITESPACE"," ",273],"(",["T_STRING","array_keys",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_elements",273],"[",["T_VARIABLE","$oldId",273],"]","[",["T_STRING","self",273],["T_DOUBLE_COLON","::",273],["T_STRING","CHILDREN",273],"]",")",["T_WHITESPACE"," ",273],["T_AS","as",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$childId",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_assertElementExists",274],"(",["T_VARIABLE","$childId",274],")",";",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_elements",275],"[",["T_VARIABLE","$childId",275],"]","[",["T_STRING","self",275],["T_DOUBLE_COLON","::",275],["T_STRING","PARENT",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$newId",275],";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n\n        ",277],["T_COMMENT","\/\/ rename key in its parent's children array\n",279],["T_WHITESPACE","        ",280],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_ISSET","isset",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_elements",280],"[",["T_VARIABLE","$oldId",280],"]","[",["T_STRING","self",280],["T_DOUBLE_COLON","::",280],["T_STRING","PARENT",280],"]",")",["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$parentId",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_elements",280],"[",["T_VARIABLE","$oldId",280],"]","[",["T_STRING","self",280],["T_DOUBLE_COLON","::",280],["T_STRING","PARENT",280],"]",")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$alias",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_elements",281],"[",["T_VARIABLE","$parentId",281],"]","[",["T_STRING","self",281],["T_DOUBLE_COLON","::",281],["T_STRING","CHILDREN",281],"]","[",["T_VARIABLE","$oldId",281],"]",";",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$offset",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_getChildOffset",282],"(",["T_VARIABLE","$parentId",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$oldId",282],")",";",["T_WHITESPACE","\n            ",282],["T_UNSET","unset",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_elements",283],"[",["T_VARIABLE","$parentId",283],"]","[",["T_STRING","self",283],["T_DOUBLE_COLON","::",283],["T_STRING","CHILDREN",283],"]","[",["T_VARIABLE","$oldId",283],"]",")",";",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","setAsChild",284],"(",["T_VARIABLE","$newId",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$parentId",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$alias",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$offset",284],")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_UNSET","unset",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_elements",287],"[",["T_VARIABLE","$oldId",287],"]",")",";",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Set element as a child to another element\n     *\n     * @param string $elementId\n     * @param string $parentId\n     * @param string $alias\n     * @param int|null $position\n     * @see _insertChild() for position explanation\n     * @return void\n     * @throws LocalizedException if attempting to set parent as child to its child (recursively)\n     *\/",291],["T_WHITESPACE","\n    ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","setAsChild",302],"(",["T_VARIABLE","$elementId",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$parentId",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$alias",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","''",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$position",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","null",302],")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$elementId",304],["T_WHITESPACE"," ",304],["T_IS_EQUAL","==",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$parentId",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_THROW","throw",305],["T_WHITESPACE"," ",305],["T_NEW","new",305],["T_WHITESPACE"," ",305],["T_STRING","LocalizedException",305],"(",["T_WHITESPACE","\n                ",305],["T_NEW","new",306],["T_WHITESPACE"," ",306],["T_NS_SEPARATOR","\\",306],["T_STRING","Magento",306],["T_NS_SEPARATOR","\\",306],["T_STRING","Framework",306],["T_NS_SEPARATOR","\\",306],["T_STRING","Phrase",306],"(",["T_CONSTANT_ENCAPSED_STRING","\"The '%1' cannot be set as child to itself.\"",306],",",["T_WHITESPACE"," ",306],"[",["T_VARIABLE","$elementId",306],"]",")",["T_WHITESPACE","\n            ",306],")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n        ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_isParentRecursively",309],"(",["T_VARIABLE","$elementId",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$parentId",309],")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_THROW","throw",310],["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_STRING","LocalizedException",310],"(",["T_WHITESPACE","\n                ",310],["T_NEW","new",311],["T_WHITESPACE"," ",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Magento",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Framework",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Phrase",311],"(",["T_WHITESPACE","\n                    ",311],["T_CONSTANT_ENCAPSED_STRING","\"The '%1' is a parent of '%2' recursively, therefore '%3' cannot be set as child to it.\"",312],",",["T_WHITESPACE","\n                    ",312],"[",["T_VARIABLE","$elementId",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$parentId",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$elementId",313],"]",["T_WHITESPACE","\n                ",313],")",["T_WHITESPACE","\n            ",314],")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","unsetChild",317],"(",["T_VARIABLE","$elementId",317],")",";",["T_WHITESPACE","\n        ",317],["T_UNSET","unset",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_elements",318],"[",["T_VARIABLE","$parentId",318],"]","[",["T_STRING","self",318],["T_DOUBLE_COLON","::",318],["T_STRING","CHILDREN",318],"]","[",["T_VARIABLE","$elementId",318],"]",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_insertChild",319],"(",["T_VARIABLE","$parentId",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$elementId",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$position",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$alias",319],")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Unset element as a child of another element\n     *\n     * Note that only parent-child relations will be deleted. Element itself will be retained.\n     * The method is polymorphic:\n     *   1 argument: element ID which is supposedly a child of some element\n     *   2 arguments: parent element ID and child alias\n     *\n     * @param string $elementId ID of an element or its parent element\n     * @param string|null $alias\n     * @return $this\n     *\/",322],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","unsetChild",334],"(",["T_VARIABLE","$elementId",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$alias",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","null",334],")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_STRING","null",336],["T_WHITESPACE"," ",336],["T_IS_IDENTICAL","===",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$alias",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$childId",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$elementId",337],";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE"," ",338],["T_ELSE","else",338],["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n            ",338],["T_VARIABLE","$childId",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getChildId",339],"(",["T_VARIABLE","$elementId",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$alias",339],")",";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$parentId",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getParentId",341],"(",["T_VARIABLE","$childId",341],")",";",["T_WHITESPACE","\n        ",341],["T_UNSET","unset",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_elements",342],"[",["T_VARIABLE","$childId",342],"]","[",["T_STRING","self",342],["T_DOUBLE_COLON","::",342],["T_STRING","PARENT",342],"]",")",";",["T_WHITESPACE","\n        ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$parentId",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_UNSET","unset",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_elements",344],"[",["T_VARIABLE","$parentId",344],"]","[",["T_STRING","self",344],["T_DOUBLE_COLON","::",344],["T_STRING","CHILDREN",344],"]","[",["T_VARIABLE","$childId",344],"]",")",";",["T_WHITESPACE","\n            ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(",["T_EMPTY","empty",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_elements",345],"[",["T_VARIABLE","$parentId",345],"]","[",["T_STRING","self",345],["T_DOUBLE_COLON","::",345],["T_STRING","CHILDREN",345],"]",")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                ",345],["T_UNSET","unset",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_elements",346],"[",["T_VARIABLE","$parentId",346],"]","[",["T_STRING","self",346],["T_DOUBLE_COLON","::",346],["T_STRING","CHILDREN",346],"]",")",";",["T_WHITESPACE","\n            ",346],"}",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n        ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n    ",350],["T_DOC_COMMENT","\/**\n     * Reorder a child element relatively to specified position\n     *\n     * Returns new position of the reordered element\n     *\n     * @param string $parentId\n     * @param string $childId\n     * @param int|null $position\n     * @return int\n     * @see _insertChild() for position explanation\n     *\/",352],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","reorderChild",363],"(",["T_VARIABLE","$parentId",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$childId",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$position",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$alias",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getChildAlias",365],"(",["T_VARIABLE","$parentId",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$childId",365],")",";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$currentOffset",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_getChildOffset",366],"(",["T_VARIABLE","$parentId",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$childId",366],")",";",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$offset",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$position",367],";",["T_WHITESPACE","\n        ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$position",368],["T_WHITESPACE"," ",368],">",["T_WHITESPACE"," ",368],["T_LNUMBER","0",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$position",369],["T_WHITESPACE"," ",369],["T_IS_GREATER_OR_EQUAL",">=",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$currentOffset",369],["T_WHITESPACE"," ",369],"+",["T_WHITESPACE"," ",369],["T_LNUMBER","1",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n                ",369],["T_VARIABLE","$offset",370],["T_WHITESPACE"," ",370],["T_MINUS_EQUAL","-=",370],["T_WHITESPACE"," ",370],["T_LNUMBER","1",370],";",["T_WHITESPACE","\n            ",370],"}",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE"," ",372],["T_ELSEIF","elseif",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$position",372],["T_WHITESPACE"," ",372],"<",["T_WHITESPACE"," ",372],["T_LNUMBER","0",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$position",373],["T_WHITESPACE"," ",373],"<",["T_WHITESPACE"," ",373],["T_VARIABLE","$currentOffset",373],["T_WHITESPACE"," ",373],"+",["T_WHITESPACE"," ",373],["T_LNUMBER","1",373],["T_WHITESPACE"," ",373],"-",["T_WHITESPACE"," ",373],["T_STRING","count",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_elements",373],"[",["T_VARIABLE","$parentId",373],"]","[",["T_STRING","self",373],["T_DOUBLE_COLON","::",373],["T_STRING","CHILDREN",373],"]",")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n                ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$position",374],["T_WHITESPACE"," ",374],["T_IS_IDENTICAL","===",374],["T_WHITESPACE"," ",374],"-",["T_LNUMBER","1",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                    ",374],["T_VARIABLE","$offset",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","null",375],";",["T_WHITESPACE","\n                ",375],"}",["T_WHITESPACE"," ",376],["T_ELSE","else",376],["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n                    ",376],["T_VARIABLE","$offset",377],["T_WHITESPACE"," ",377],["T_PLUS_EQUAL","+=",377],["T_WHITESPACE"," ",377],["T_LNUMBER","1",377],";",["T_WHITESPACE","\n                ",377],"}",["T_WHITESPACE","\n            ",378],"}",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","unsetChild",381],"(",["T_VARIABLE","$childId",381],")",["T_OBJECT_OPERATOR","->",381],["T_STRING","_insertChild",381],"(",["T_VARIABLE","$parentId",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$childId",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$offset",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$alias",381],")",";",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_getChildOffset",382],"(",["T_VARIABLE","$parentId",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$childId",382],")",["T_WHITESPACE"," ",382],"+",["T_WHITESPACE"," ",382],["T_LNUMBER","1",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Reorder an element relatively to its sibling\n     *\n     * $offset possible values:\n     *    1,  2 -- set after the sibling towards end -- by 1, by 2 positions, etc\n     *   -1, -2 -- set before the sibling towards start -- by 1, by 2 positions, etc...\n     *\n     * Both $childId and $siblingId must be children of the specified $parentId\n     * Returns new position of the reordered element\n     *\n     * @param string $parentId\n     * @param string $childId\n     * @param string $siblingId\n     * @param int $offset\n     * @return int\n     *\/",385],["T_WHITESPACE","\n    ",400],["T_PUBLIC","public",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","reorderToSibling",401],"(",["T_VARIABLE","$parentId",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$childId",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$siblingId",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$offset",401],")",["T_WHITESPACE","\n    ",401],"{",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_getChildOffset",403],"(",["T_VARIABLE","$parentId",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$childId",403],")",";",["T_WHITESPACE","\n        ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$childId",404],["T_WHITESPACE"," ",404],["T_IS_IDENTICAL","===",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$siblingId",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_VARIABLE","$newOffset",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_getRelativeOffset",405],"(",["T_VARIABLE","$parentId",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$siblingId",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$offset",405],")",";",["T_WHITESPACE","\n            ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","reorderChild",406],"(",["T_VARIABLE","$parentId",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$childId",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$newOffset",406],")",";",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$alias",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getChildAlias",408],"(",["T_VARIABLE","$parentId",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$childId",408],")",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$newOffset",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","unsetChild",409],"(",["T_VARIABLE","$childId",409],")",["T_OBJECT_OPERATOR","->",409],["T_STRING","_getRelativeOffset",409],"(",["T_VARIABLE","$parentId",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$siblingId",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$offset",409],")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_insertChild",410],"(",["T_VARIABLE","$parentId",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$childId",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$newOffset",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$alias",410],")",";",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_getChildOffset",411],"(",["T_VARIABLE","$parentId",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$childId",411],")",["T_WHITESPACE"," ",411],"+",["T_WHITESPACE"," ",411],["T_LNUMBER","1",411],";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Calculate new offset for placing an element relatively specified sibling under the same parent\n     *\n     * @param string $parentId\n     * @param string $siblingId\n     * @param int $delta\n     * @return int\n     *\/",414],["T_WHITESPACE","\n    ",421],["T_PRIVATE","private",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","_getRelativeOffset",422],"(",["T_VARIABLE","$parentId",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$siblingId",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$delta",422],")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$newOffset",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_getChildOffset",424],"(",["T_VARIABLE","$parentId",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$siblingId",424],")",["T_WHITESPACE"," ",424],"+",["T_WHITESPACE"," ",424],["T_VARIABLE","$delta",424],";",["T_WHITESPACE","\n        ",424],["T_IF","if",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$delta",425],["T_WHITESPACE"," ",425],"<",["T_WHITESPACE"," ",425],["T_LNUMBER","0",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$newOffset",426],["T_WHITESPACE"," ",426],["T_PLUS_EQUAL","+=",426],["T_WHITESPACE"," ",426],["T_LNUMBER","1",426],";",["T_WHITESPACE","\n        ",426],"}",["T_WHITESPACE","\n        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$newOffset",428],["T_WHITESPACE"," ",428],"<",["T_WHITESPACE"," ",428],["T_LNUMBER","0",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$newOffset",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_LNUMBER","0",429],";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n        ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$newOffset",431],";",["T_WHITESPACE","\n    ",431],"}",["T_WHITESPACE","\n\n    ",432],["T_DOC_COMMENT","\/**\n     * Get child ID by parent ID and alias\n     *\n     * @param string $parentId\n     * @param string $alias\n     * @return string|bool\n     *\/",434],["T_WHITESPACE","\n    ",440],["T_PUBLIC","public",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","getChildId",441],"(",["T_VARIABLE","$parentId",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$alias",441],")",["T_WHITESPACE","\n    ",441],"{",["T_WHITESPACE","\n        ",442],["T_IF","if",443],["T_WHITESPACE"," ",443],"(",["T_ISSET","isset",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_elements",443],"[",["T_VARIABLE","$parentId",443],"]","[",["T_STRING","self",443],["T_DOUBLE_COLON","::",443],["T_STRING","CHILDREN",443],"]",")",")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_STRING","array_search",444],"(",["T_VARIABLE","$alias",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_elements",444],"[",["T_VARIABLE","$parentId",444],"]","[",["T_STRING","self",444],["T_DOUBLE_COLON","::",444],["T_STRING","CHILDREN",444],"]",")",";",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n        ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_STRING","false",446],";",["T_WHITESPACE","\n    ",446],"}",["T_WHITESPACE","\n\n    ",447],["T_DOC_COMMENT","\/**\n     * Get all children\n     *\n     * Returns in format 'id' => 'alias'\n     *\n     * @param string $parentId\n     * @return array\n     *\/",449],["T_WHITESPACE","\n    ",456],["T_PUBLIC","public",457],["T_WHITESPACE"," ",457],["T_FUNCTION","function",457],["T_WHITESPACE"," ",457],["T_STRING","getChildren",457],"(",["T_VARIABLE","$parentId",457],")",["T_WHITESPACE","\n    ",457],"{",["T_WHITESPACE","\n        ",458],["T_RETURN","return",459],["T_WHITESPACE"," ",459],["T_ISSET","isset",459],"(",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_elements",460],"[",["T_VARIABLE","$parentId",460],"]","[",["T_STRING","self",460],["T_DOUBLE_COLON","::",460],["T_STRING","CHILDREN",460],"]",["T_WHITESPACE","\n        ",460],")",["T_WHITESPACE"," ",461],"?",["T_WHITESPACE"," ",461],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_elements",461],"[",["T_VARIABLE","$parentId",461],"]","[",["T_STRING","self",461],["T_DOUBLE_COLON","::",461],["T_STRING","CHILDREN",461],"]",["T_WHITESPACE"," ",461],":",["T_WHITESPACE"," ",461],"[","]",";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * Get name of parent element\n     *\n     * @param string $childId\n     * @return string|bool\n     *\/",464],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","getParentId",470],"(",["T_VARIABLE","$childId",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_ISSET","isset",472],"(",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_elements",472],"[",["T_VARIABLE","$childId",472],"]","[",["T_STRING","self",472],["T_DOUBLE_COLON","::",472],["T_STRING","PARENT",472],"]",")",["T_WHITESPACE"," ",472],"?",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_elements",472],"[",["T_VARIABLE","$childId",472],"]","[",["T_STRING","self",472],["T_DOUBLE_COLON","::",472],["T_STRING","PARENT",472],"]",["T_WHITESPACE"," ",472],":",["T_WHITESPACE"," ",472],["T_STRING","false",472],";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Get element alias by name\n     *\n     * @param string $parentId\n     * @param string $childId\n     * @return string|bool\n     *\/",475],["T_WHITESPACE","\n    ",481],["T_PUBLIC","public",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","getChildAlias",482],"(",["T_VARIABLE","$parentId",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$childId",482],")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_ISSET","isset",484],"(",["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_elements",484],"[",["T_VARIABLE","$parentId",484],"]","[",["T_STRING","self",484],["T_DOUBLE_COLON","::",484],["T_STRING","CHILDREN",484],"]","[",["T_VARIABLE","$childId",484],"]",")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_RETURN","return",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_elements",485],"[",["T_VARIABLE","$parentId",485],"]","[",["T_STRING","self",485],["T_DOUBLE_COLON","::",485],["T_STRING","CHILDREN",485],"]","[",["T_VARIABLE","$childId",485],"]",";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n        ",486],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_STRING","false",487],";",["T_WHITESPACE","\n    ",487],"}",["T_WHITESPACE","\n\n    ",488],["T_DOC_COMMENT","\/**\n     * Add element to parent group\n     *\n     * @param string $childId\n     * @param string $groupName\n     * @return bool\n     *\/",490],["T_WHITESPACE","\n    ",496],["T_PUBLIC","public",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","addToParentGroup",497],"(",["T_VARIABLE","$childId",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$groupName",497],")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$parentId",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getParentId",499],"(",["T_VARIABLE","$childId",499],")",";",["T_WHITESPACE","\n        ",499],["T_IF","if",500],["T_WHITESPACE"," ",500],"(",["T_VARIABLE","$parentId",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n            ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_assertElementExists",501],"(",["T_VARIABLE","$parentId",501],")",";",["T_WHITESPACE","\n            ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_elements",502],"[",["T_VARIABLE","$parentId",502],"]","[",["T_STRING","self",502],["T_DOUBLE_COLON","::",502],["T_STRING","GROUPS",502],"]","[",["T_VARIABLE","$groupName",502],"]","[",["T_VARIABLE","$childId",502],"]",["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$childId",502],";",["T_WHITESPACE","\n            ",502],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_STRING","true",503],";",["T_WHITESPACE","\n        ",503],"}",["T_WHITESPACE","\n        ",504],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_STRING","false",505],";",["T_WHITESPACE","\n    ",505],"}",["T_WHITESPACE","\n\n    ",506],["T_DOC_COMMENT","\/**\n     * Get element IDs for specified group\n     *\n     * Note that it is expected behavior if a child has been moved out from this parent,\n     * but still remained in the group of old parent. The method will return only actual children.\n     * This is intentional, in case if the child returns back to the old parent.\n     *\n     * @param string $parentId Name of an element containing group\n     * @param string $groupName\n     * @return array\n     *\/",508],["T_WHITESPACE","\n    ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","getGroupChildNames",519],"(",["T_VARIABLE","$parentId",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$groupName",519],")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$result",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],"[","]",";",["T_WHITESPACE","\n        ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_ISSET","isset",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_elements",522],"[",["T_VARIABLE","$parentId",522],"]","[",["T_STRING","self",522],["T_DOUBLE_COLON","::",522],["T_STRING","GROUPS",522],"]","[",["T_VARIABLE","$groupName",522],"]",")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_FOREACH","foreach",523],["T_WHITESPACE"," ",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_elements",523],"[",["T_VARIABLE","$parentId",523],"]","[",["T_STRING","self",523],["T_DOUBLE_COLON","::",523],["T_STRING","GROUPS",523],"]","[",["T_VARIABLE","$groupName",523],"]",["T_WHITESPACE"," ",523],["T_AS","as",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$childId",523],")",["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n                ",523],["T_IF","if",524],["T_WHITESPACE"," ",524],"(",["T_ISSET","isset",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_elements",524],"[",["T_VARIABLE","$parentId",524],"]","[",["T_STRING","self",524],["T_DOUBLE_COLON","::",524],["T_STRING","CHILDREN",524],"]","[",["T_VARIABLE","$childId",524],"]",")",")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n                    ",524],["T_VARIABLE","$result",525],"[","]",["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$childId",525],";",["T_WHITESPACE","\n                ",525],"}",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n        ",527],"}",["T_WHITESPACE","\n        ",528],["T_RETURN","return",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$result",529],";",["T_WHITESPACE","\n    ",529],"}",["T_WHITESPACE","\n\n    ",530],["T_DOC_COMMENT","\/**\n     * Calculate a relative offset of a child element in specified parent\n     *\n     * @param string $parentId\n     * @param string $childId\n     * @return int\n     * @throws LocalizedException if specified elements have no parent-child relation\n     *\/",532],["T_WHITESPACE","\n    ",539],["T_PROTECTED","protected",540],["T_WHITESPACE"," ",540],["T_FUNCTION","function",540],["T_WHITESPACE"," ",540],["T_STRING","_getChildOffset",540],"(",["T_VARIABLE","$parentId",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$childId",540],")",["T_WHITESPACE","\n    ",540],"{",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$index",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","array_search",542],"(",["T_VARIABLE","$childId",542],",",["T_WHITESPACE"," ",542],["T_STRING","array_keys",542],"(",["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getChildren",542],"(",["T_VARIABLE","$parentId",542],")",")",")",";",["T_WHITESPACE","\n        ",542],["T_IF","if",543],["T_WHITESPACE"," ",543],"(",["T_STRING","false",543],["T_WHITESPACE"," ",543],["T_IS_IDENTICAL","===",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$index",543],")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_THROW","throw",544],["T_WHITESPACE"," ",544],["T_NEW","new",544],["T_WHITESPACE"," ",544],["T_STRING","LocalizedException",544],"(",["T_WHITESPACE","\n                ",544],["T_NEW","new",545],["T_WHITESPACE"," ",545],["T_NS_SEPARATOR","\\",545],["T_STRING","Magento",545],["T_NS_SEPARATOR","\\",545],["T_STRING","Framework",545],["T_NS_SEPARATOR","\\",545],["T_STRING","Phrase",545],"(",["T_CONSTANT_ENCAPSED_STRING","\"The '%1' is not a child of '%2'.\"",545],",",["T_WHITESPACE"," ",545],"[",["T_VARIABLE","$childId",545],",",["T_WHITESPACE"," ",545],["T_VARIABLE","$parentId",545],"]",")",["T_WHITESPACE","\n            ",545],")",";",["T_WHITESPACE","\n        ",546],"}",["T_WHITESPACE","\n        ",547],["T_RETURN","return",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$index",548],";",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n\n    ",549],["T_DOC_COMMENT","\/**\n     * Traverse through hierarchy and detect if the \"potential parent\" is a parent recursively to specified \"child\"\n     *\n     * @param string $childId\n     * @param string $potentialParentId\n     * @return bool\n     *\/",551],["T_WHITESPACE","\n    ",557],["T_PRIVATE","private",558],["T_WHITESPACE"," ",558],["T_FUNCTION","function",558],["T_WHITESPACE"," ",558],["T_STRING","_isParentRecursively",558],"(",["T_VARIABLE","$childId",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$potentialParentId",558],")",["T_WHITESPACE","\n    ",558],"{",["T_WHITESPACE","\n        ",559],["T_VARIABLE","$parentId",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getParentId",560],"(",["T_VARIABLE","$potentialParentId",560],")",";",["T_WHITESPACE","\n        ",560],["T_IF","if",561],["T_WHITESPACE"," ",561],"(","!",["T_VARIABLE","$parentId",561],")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n            ",561],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_STRING","false",562],";",["T_WHITESPACE","\n        ",562],"}",["T_WHITESPACE","\n        ",563],["T_IF","if",564],["T_WHITESPACE"," ",564],"(",["T_VARIABLE","$parentId",564],["T_WHITESPACE"," ",564],["T_IS_IDENTICAL","===",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$childId",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_STRING","true",565],";",["T_WHITESPACE","\n        ",565],"}",["T_WHITESPACE","\n        ",566],["T_RETURN","return",567],["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_isParentRecursively",567],"(",["T_VARIABLE","$childId",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$parentId",567],")",";",["T_WHITESPACE","\n    ",567],"}",["T_WHITESPACE","\n\n    ",568],["T_DOC_COMMENT","\/**\n     * Insert an existing element as a child to existing element\n     *\n     * The element must not be a child to any other element\n     * The target parent element must not have it as a child already\n     *\n     * Offset -- into which position to insert:\n     *   0     -- set as 1st\n     *   1,  2 -- after 1st, second, etc...\n     *  -1, -2 -- before last, before second last, etc...\n     *   null  -- set as last\n     *\n     * @param string $targetParentId\n     * @param string $elementId\n     * @param int|null $offset\n     * @param string $alias\n     * @return void\n     * @throws LocalizedException\n     *\/",570],["T_WHITESPACE","\n    ",588],["T_PROTECTED","protected",589],["T_WHITESPACE"," ",589],["T_FUNCTION","function",589],["T_WHITESPACE"," ",589],["T_STRING","_insertChild",589],"(",["T_VARIABLE","$targetParentId",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$elementId",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$offset",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$alias",589],")",["T_WHITESPACE","\n    ",589],"{",["T_WHITESPACE","\n        ",590],["T_VARIABLE","$alias",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_VARIABLE","$alias",591],["T_WHITESPACE"," ",591],"?",":",["T_WHITESPACE"," ",591],["T_VARIABLE","$elementId",591],";",["T_WHITESPACE","\n\n        ",591],["T_COMMENT","\/\/ validate\n",593],["T_WHITESPACE","        ",594],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","_assertElementExists",594],"(",["T_VARIABLE","$elementId",594],")",";",["T_WHITESPACE","\n        ",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(","!",["T_EMPTY","empty",595],"(",["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_elements",595],"[",["T_VARIABLE","$elementId",595],"]","[",["T_STRING","self",595],["T_DOUBLE_COLON","::",595],["T_STRING","PARENT",595],"]",")",")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_THROW","throw",596],["T_WHITESPACE"," ",596],["T_NEW","new",596],["T_WHITESPACE"," ",596],["T_STRING","LocalizedException",596],"(",["T_WHITESPACE","\n                ",596],["T_NEW","new",597],["T_WHITESPACE"," ",597],["T_NS_SEPARATOR","\\",597],["T_STRING","Magento",597],["T_NS_SEPARATOR","\\",597],["T_STRING","Framework",597],["T_NS_SEPARATOR","\\",597],["T_STRING","Phrase",597],"(",["T_WHITESPACE","\n                    ",597],["T_CONSTANT_ENCAPSED_STRING","\"The element '%1' already has a parent: '%2'\"",598],",",["T_WHITESPACE","\n                    ",598],"[",["T_VARIABLE","$elementId",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","_elements",599],"[",["T_VARIABLE","$elementId",599],"]","[",["T_STRING","self",599],["T_DOUBLE_COLON","::",599],["T_STRING","PARENT",599],"]","]",["T_WHITESPACE","\n                ",599],")",["T_WHITESPACE","\n            ",600],")",";",["T_WHITESPACE","\n        ",601],"}",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","_assertElementExists",603],"(",["T_VARIABLE","$targetParentId",603],")",";",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$children",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getChildren",604],"(",["T_VARIABLE","$targetParentId",604],")",";",["T_WHITESPACE","\n        ",604],["T_IF","if",605],["T_WHITESPACE"," ",605],"(",["T_ISSET","isset",605],"(",["T_VARIABLE","$children",605],"[",["T_VARIABLE","$elementId",605],"]",")",")",["T_WHITESPACE"," ",605],"{",["T_WHITESPACE","\n            ",605],["T_THROW","throw",606],["T_WHITESPACE"," ",606],["T_NEW","new",606],["T_WHITESPACE"," ",606],["T_STRING","LocalizedException",606],"(",["T_WHITESPACE","\n                ",606],["T_NEW","new",607],["T_WHITESPACE"," ",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Magento",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Framework",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Phrase",607],"(",["T_CONSTANT_ENCAPSED_STRING","\"The element '%1' already a child of '%2'\"",607],",",["T_WHITESPACE"," ",607],"[",["T_VARIABLE","$elementId",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$targetParentId",607],"]",")",["T_WHITESPACE","\n            ",607],")",";",["T_WHITESPACE","\n        ",608],"}",["T_WHITESPACE","\n        ",609],["T_IF","if",610],["T_WHITESPACE"," ",610],"(",["T_STRING","false",610],["T_WHITESPACE"," ",610],["T_IS_NOT_IDENTICAL","!==",610],["T_WHITESPACE"," ",610],["T_STRING","array_search",610],"(",["T_VARIABLE","$alias",610],",",["T_WHITESPACE"," ",610],["T_VARIABLE","$children",610],")",")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n            ",610],["T_THROW","throw",611],["T_WHITESPACE"," ",611],["T_NEW","new",611],["T_WHITESPACE"," ",611],["T_STRING","LocalizedException",611],"(",["T_WHITESPACE","\n                ",611],["T_NEW","new",612],["T_WHITESPACE"," ",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Magento",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Framework",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Phrase",612],"(",["T_WHITESPACE","\n                    ",612],["T_CONSTANT_ENCAPSED_STRING","\"The element '%1' already has a child with alias '%2'\"",613],",",["T_WHITESPACE","\n                    ",613],"[",["T_VARIABLE","$targetParentId",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$alias",614],"]",["T_WHITESPACE","\n                ",614],")",["T_WHITESPACE","\n            ",615],")",";",["T_WHITESPACE","\n        ",616],"}",["T_WHITESPACE","\n\n        ",617],["T_COMMENT","\/\/ insert\n",619],["T_WHITESPACE","        ",620],["T_IF","if",620],["T_WHITESPACE"," ",620],"(",["T_STRING","null",620],["T_WHITESPACE"," ",620],["T_IS_IDENTICAL","===",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$offset",620],")",["T_WHITESPACE"," ",620],"{",["T_WHITESPACE","\n            ",620],["T_VARIABLE","$offset",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_STRING","count",621],"(",["T_VARIABLE","$children",621],")",";",["T_WHITESPACE","\n        ",621],"}",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_elements",623],"[",["T_VARIABLE","$targetParentId",623],"]","[",["T_STRING","self",623],["T_DOUBLE_COLON","::",623],["T_STRING","CHILDREN",623],"]",["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_STRING","array_merge",623],"(",["T_WHITESPACE","\n            ",623],["T_STRING","array_slice",624],"(",["T_VARIABLE","$children",624],",",["T_WHITESPACE"," ",624],["T_LNUMBER","0",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$offset",624],")",",",["T_WHITESPACE","\n            ",624],"[",["T_VARIABLE","$elementId",625],["T_WHITESPACE"," ",625],["T_DOUBLE_ARROW","=>",625],["T_WHITESPACE"," ",625],["T_VARIABLE","$alias",625],"]",",",["T_WHITESPACE","\n            ",625],["T_STRING","array_slice",626],"(",["T_VARIABLE","$children",626],",",["T_WHITESPACE"," ",626],["T_VARIABLE","$offset",626],")",["T_WHITESPACE","\n        ",626],")",";",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","_elements",628],"[",["T_VARIABLE","$elementId",628],"]","[",["T_STRING","self",628],["T_DOUBLE_COLON","::",628],["T_STRING","PARENT",628],"]",["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_VARIABLE","$targetParentId",628],";",["T_WHITESPACE","\n    ",628],"}",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * Check if specified element exists\n     *\n     * @param string $elementId\n     * @return void\n     * @throws LocalizedException if doesn't exist\n     *\/",631],["T_WHITESPACE","\n    ",637],["T_PRIVATE","private",638],["T_WHITESPACE"," ",638],["T_FUNCTION","function",638],["T_WHITESPACE"," ",638],["T_STRING","_assertElementExists",638],"(",["T_VARIABLE","$elementId",638],")",["T_WHITESPACE","\n    ",638],"{",["T_WHITESPACE","\n        ",639],["T_IF","if",640],["T_WHITESPACE"," ",640],"(","!",["T_ISSET","isset",640],"(",["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","_elements",640],"[",["T_VARIABLE","$elementId",640],"]",")",")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n            ",640],["T_THROW","throw",641],["T_WHITESPACE"," ",641],["T_NEW","new",641],["T_WHITESPACE"," ",641],["T_NS_SEPARATOR","\\",641],["T_STRING","OutOfBoundsException",641],"(","\"",["T_ENCAPSED_AND_WHITESPACE","No element found with ID '",641],["T_CURLY_OPEN","{",641],["T_VARIABLE","$elementId",641],"}",["T_ENCAPSED_AND_WHITESPACE","'.",641],"\"",")",";",["T_WHITESPACE","\n        ",641],"}",["T_WHITESPACE","\n    ",642],"}",["T_WHITESPACE","\n\n    ",643],["T_DOC_COMMENT","\/**\n     * Check if it is an array\n     *\n     * @param array $value\n     * @return void\n     * @throws LocalizedException\n     *\/",645],["T_WHITESPACE","\n    ",651],["T_PRIVATE","private",652],["T_WHITESPACE"," ",652],["T_FUNCTION","function",652],["T_WHITESPACE"," ",652],["T_STRING","_assertArray",652],"(",["T_VARIABLE","$value",652],")",["T_WHITESPACE","\n    ",652],"{",["T_WHITESPACE","\n        ",653],["T_IF","if",654],["T_WHITESPACE"," ",654],"(","!",["T_STRING","is_array",654],"(",["T_VARIABLE","$value",654],")",")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n            ",654],["T_THROW","throw",655],["T_WHITESPACE"," ",655],["T_NEW","new",655],["T_WHITESPACE"," ",655],["T_STRING","LocalizedException",655],"(",["T_WHITESPACE","\n                ",655],["T_NEW","new",656],["T_WHITESPACE"," ",656],["T_NS_SEPARATOR","\\",656],["T_STRING","Magento",656],["T_NS_SEPARATOR","\\",656],["T_STRING","Framework",656],["T_NS_SEPARATOR","\\",656],["T_STRING","Phrase",656],"(",["T_CONSTANT_ENCAPSED_STRING","\"An array expected: %1\"",656],",",["T_WHITESPACE"," ",656],"[",["T_STRING","var_export",656],"(",["T_VARIABLE","$value",656],",",["T_WHITESPACE"," ",656],["T_LNUMBER","1",656],")","]",")",["T_WHITESPACE","\n            ",656],")",";",["T_WHITESPACE","\n        ",657],"}",["T_WHITESPACE","\n    ",658],"}",["T_WHITESPACE","\n",659],"}",["T_WHITESPACE","\n",660]]