[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Data",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Argument",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Interpreter",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Argument",8],["T_NS_SEPARATOR","\\",8],["T_STRING","InterpreterInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Interpreter of array data type that supports arrays of unlimited depth\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ArrayType",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","InterpreterInterface",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Interpreter of individual array item\n     *\n     * @var InterpreterInterface\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$itemInterpreter",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @param InterpreterInterface $itemInterpreter\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","__construct",25],"(",["T_STRING","InterpreterInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$itemInterpreter",25],")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","itemInterpreter",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$itemInterpreter",27],";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @return array\n     * @throws \\InvalidArgumentException\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","evaluate",35],"(",["T_ARRAY","array",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$data",35],")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$items",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ISSET","isset",37],"(",["T_VARIABLE","$data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'item'",37],"]",")",["T_WHITESPACE"," ",37],"?",["T_WHITESPACE"," ",37],["T_VARIABLE","$data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'item'",37],"]",["T_WHITESPACE"," ",37],":",["T_WHITESPACE"," ",37],"[","]",";",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_STRING","is_array",38],"(",["T_VARIABLE","$items",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_THROW","throw",39],["T_WHITESPACE"," ",39],["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","InvalidArgumentException",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Array items are expected.'",39],")",";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$result",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$items",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","sortItems",42],"(",["T_VARIABLE","$items",42],")",";",["T_WHITESPACE","\n        ",42],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$items",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$itemKey",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$itemData",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$result",44],"[",["T_VARIABLE","$itemKey",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","itemInterpreter",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","evaluate",44],"(",["T_VARIABLE","$itemData",44],")",";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n        ",45],["T_RETURN","return",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$result",46],";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Sort items by sort order attribute.\n     *\n     * @param array $items\n     * @return array\n     *\/",49],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","sortItems",55],"(",["T_VARIABLE","$items",55],")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$sortOrderDefined",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","isSortOrderDefined",57],"(",["T_VARIABLE","$items",57],")",";",["T_WHITESPACE","\n        ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$sortOrderDefined",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$indexedItems",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[","]",";",["T_WHITESPACE","\n            ",59],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$items",60],["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$key",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$item",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$indexedItems",61],"[","]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$key",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'item'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$item",61],"]",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE","\n            ",62],["T_STRING","uksort",63],"(",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$indexedItems",64],",",["T_WHITESPACE","\n                ",64],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$firstItemKey",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$secondItemKey",65],")",["T_WHITESPACE"," ",65],["T_USE","use",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$indexedItems",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                    ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","compareItems",66],"(",["T_VARIABLE","$firstItemKey",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$secondItemKey",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$indexedItems",66],")",";",["T_WHITESPACE","\n                ",66],"}",["T_WHITESPACE","\n            ",67],")",";",["T_WHITESPACE","\n            ",68],["T_COMMENT","\/\/ Convert array of sorted items back to initial format\n",69],["T_WHITESPACE","            ",70],["T_VARIABLE","$items",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"[","]",";",["T_WHITESPACE","\n            ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$indexedItems",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$indexedItem",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                ",71],["T_VARIABLE","$items",72],"[",["T_VARIABLE","$indexedItem",72],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",72],"]","]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$indexedItem",72],"[",["T_CONSTANT_ENCAPSED_STRING","'item'",72],"]",";",["T_WHITESPACE","\n            ",72],"}",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n        ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$items",75],";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Compare sortOrder of item\n     *\n     * @param mixed $firstItemKey\n     * @param mixed $secondItemKey\n     * @param array $indexedItems\n     * @return int\n     *\/",78],["T_WHITESPACE","\n    ",85],["T_PRIVATE","private",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","compareItems",86],"(",["T_VARIABLE","$firstItemKey",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$secondItemKey",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$indexedItems",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$firstItem",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$indexedItems",88],"[",["T_VARIABLE","$firstItemKey",88],"]","[",["T_CONSTANT_ENCAPSED_STRING","'item'",88],"]",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$secondItem",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$indexedItems",89],"[",["T_VARIABLE","$secondItemKey",89],"]","[",["T_CONSTANT_ENCAPSED_STRING","'item'",89],"]",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$firstValue",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_LNUMBER","0",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$secondValue",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_ISSET","isset",92],"(",["T_VARIABLE","$firstItem",92],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$firstValue",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","intval",93],"(",["T_VARIABLE","$firstItem",93],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",93],"]",")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_ISSET","isset",96],"(",["T_VARIABLE","$secondItem",96],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$secondValue",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","intval",97],"(",["T_VARIABLE","$secondItem",97],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",97],"]",")",";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$firstValue",100],["T_WHITESPACE"," ",100],["T_IS_EQUAL","==",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$secondValue",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_COMMENT","\/\/ These keys reflect initial relative position of items.\n",101],["T_WHITESPACE","            ",102],["T_COMMENT","\/\/ Allows stable sort for items with equal 'sortOrder'\n",102],["T_WHITESPACE","            ",103],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$firstItemKey",103],["T_WHITESPACE"," ",103],"<",["T_WHITESPACE"," ",103],["T_VARIABLE","$secondItemKey",103],["T_WHITESPACE"," ",103],"?",["T_WHITESPACE"," ",103],"-",["T_LNUMBER","1",103],["T_WHITESPACE"," ",103],":",["T_WHITESPACE"," ",103],["T_LNUMBER","1",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$firstValue",105],["T_WHITESPACE"," ",105],"<",["T_WHITESPACE"," ",105],["T_VARIABLE","$secondValue",105],["T_WHITESPACE"," ",105],"?",["T_WHITESPACE"," ",105],"-",["T_LNUMBER","1",105],["T_WHITESPACE"," ",105],":",["T_WHITESPACE"," ",105],["T_LNUMBER","1",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Determine if a sort order exists for any of the items.\n     *\n     * @param array $items\n     * @return bool\n     *\/",108],["T_WHITESPACE","\n    ",113],["T_PRIVATE","private",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","isSortOrderDefined",114],"(",["T_VARIABLE","$items",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$items",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$itemData",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_ISSET","isset",117],"(",["T_VARIABLE","$itemData",117],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",117],"]",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_STRING","true",118],";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STRING","false",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n",122],"}",["T_WHITESPACE","\n",123]]