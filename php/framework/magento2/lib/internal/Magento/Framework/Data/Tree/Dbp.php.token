[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Data",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tree",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DB",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Select",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Data DB tree\n *\n * Data model:\n * id  |  path  |  order\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",10],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Dbp",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Data",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Tree",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","ID_FIELD",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'id'",20],";",["T_WHITESPACE","\n\n    ",20],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","PATH_FIELD",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'path'",22],";",["T_WHITESPACE","\n\n    ",22],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","ORDER_FIELD",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'order'",24],";",["T_WHITESPACE","\n\n    ",24],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","LEVEL_FIELD",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'level'",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * DB connection\n     *\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_conn",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Data table name\n     *\n     * @var string\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_table",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Indicates if loaded\n     *\n     * @var bool\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_loaded",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","false",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * SQL select object\n     *\n     * @var \\Magento\\Framework\\DB\\Select\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_select",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Tree structure field: id\n     *\n     * @var string\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_idField",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Tree structure field: path\n     *\n     * @var string\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_pathField",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Tree structure field: order\n     *\n     * @var string\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_orderField",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Tree structure field: level\n     *\n     * @var string\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_levelField",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Db tree constructor\n     *\n     * $fields = array(\n     *      \\Magento\\Framework\\Data\\Tree\\Dbp::ID_FIELD       => string,\n     *      \\Magento\\Framework\\Data\\Tree\\Dbp::PATH_FIELD     => string,\n     *      \\Magento\\Framework\\Data\\Tree\\Dbp::ORDER_FIELD    => string\n     *      \\Magento\\Framework\\Data\\Tree\\Dbp::LEVEL_FIELD    => string\n     * )\n     *\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface $connection\n     * @param string $table\n     * @param array $fields\n     * @throws \\Exception\n     *\/",84],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","__construct",99],"(",["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","DB",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Adapter",99],["T_NS_SEPARATOR","\\",99],["T_STRING","AdapterInterface",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$connection",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$table",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$fields",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_STRING","parent",101],["T_DOUBLE_COLON","::",101],["T_STRING","__construct",101],"(",")",";",["T_WHITESPACE","\n\n        ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_VARIABLE","$connection",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_THROW","throw",104],["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Exception",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong \"$connection\" parametr'",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_conn",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$connection",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_table",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$table",108],";",["T_WHITESPACE","\n\n        ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_ISSET","isset",110],"(",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$fields",111],"[",["T_STRING","self",111],["T_DOUBLE_COLON","::",111],["T_STRING","ID_FIELD",111],"]",["T_WHITESPACE","\n        ",111],")",["T_WHITESPACE"," ",112],["T_BOOLEAN_OR","||",112],["T_WHITESPACE"," ",112],"!",["T_ISSET","isset",112],"(",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$fields",113],"[",["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_STRING","PATH_FIELD",113],"]",["T_WHITESPACE","\n        ",113],")",["T_WHITESPACE"," ",114],["T_BOOLEAN_OR","||",114],["T_WHITESPACE"," ",114],"!",["T_ISSET","isset",114],"(",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$fields",115],"[",["T_STRING","self",115],["T_DOUBLE_COLON","::",115],["T_STRING","LEVEL_FIELD",115],"]",["T_WHITESPACE","\n        ",115],")",["T_WHITESPACE"," ",116],["T_BOOLEAN_OR","||",116],["T_WHITESPACE"," ",116],"!",["T_ISSET","isset",116],"(",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$fields",117],"[",["T_STRING","self",117],["T_DOUBLE_COLON","::",117],["T_STRING","ORDER_FIELD",117],"]",["T_WHITESPACE","\n        ",117],")",["T_WHITESPACE","\n        ",118],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_THROW","throw",120],["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Exception",120],"(",["T_CONSTANT_ENCAPSED_STRING","'\"$fields\" tree configuratin array'",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_idField",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$fields",123],"[",["T_STRING","self",123],["T_DOUBLE_COLON","::",123],["T_STRING","ID_FIELD",123],"]",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_pathField",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$fields",124],"[",["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_STRING","PATH_FIELD",124],"]",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_orderField",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$fields",125],"[",["T_STRING","self",125],["T_DOUBLE_COLON","::",125],["T_STRING","ORDER_FIELD",125],"]",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_levelField",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$fields",126],"[",["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","LEVEL_FIELD",126],"]",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_select",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_conn",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","select",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_select",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","from",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_table",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Retrieve current select object\n     *\n     * @return Select\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getDbSelect",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_select",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Set Select object\n     *\n     * @param Select $select\n     * @return void\n     *\/",142],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","setDbSelect",148],"(",["T_VARIABLE","$select",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_select",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$select",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Load tree\n     *\n     * @param   int|Node|string $parentNode\n     * @param   int $recursionLevel\n     * @return  $this\n     *\/",153],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","load",160],"(",["T_VARIABLE","$parentNode",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$recursionLevel",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_LNUMBER","0",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(","!",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_loaded",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$startLevel",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_LNUMBER","1",163],";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$parentPath",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","''",164],";",["T_WHITESPACE","\n\n            ",164],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$parentNode",166],["T_WHITESPACE"," ",166],["T_INSTANCEOF","instanceof",166],["T_WHITESPACE"," ",166],["T_STRING","Node",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$parentPath",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$parentNode",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getData",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_pathField",167],")",";",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$startLevel",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$parentNode",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getData",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_levelField",168],")",";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE"," ",169],["T_ELSEIF","elseif",169],["T_WHITESPACE"," ",169],"(",["T_STRING","is_numeric",169],"(",["T_VARIABLE","$parentNode",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$select",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_conn",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","select",170],"(",")",["T_WHITESPACE","\n                    ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","from",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_table",171],",",["T_WHITESPACE"," ",171],"[",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_pathField",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_levelField",171],"]",")",["T_WHITESPACE","\n                    ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","where",172],"(","\"",["T_CURLY_OPEN","{",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_idField",172],"}",["T_ENCAPSED_AND_WHITESPACE"," = ?",172],"\"",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$parentNode",172],")",";",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$parent",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_conn",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","fetchRow",173],"(",["T_VARIABLE","$select",173],")",";",["T_WHITESPACE","\n\n                ",173],["T_VARIABLE","$startLevel",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$parent",175],"[",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_levelField",175],"]",";",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$parentPath",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$parent",176],"[",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_pathField",176],"]",";",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$parentNode",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","null",177],";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE"," ",178],["T_ELSEIF","elseif",178],["T_WHITESPACE"," ",178],"(",["T_STRING","is_string",178],"(",["T_VARIABLE","$parentNode",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$parentPath",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$parentNode",179],";",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$startLevel",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","count",180],"(",["T_STRING","explode",180],"(",["T_CONSTANT_ENCAPSED_STRING","','",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$parentPath",180],")",")",["T_WHITESPACE"," ",180],"-",["T_WHITESPACE"," ",180],["T_LNUMBER","1",180],";",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$parentNode",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","null",181],";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n\n            ",182],["T_VARIABLE","$select",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_CLONE","clone",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_select",184],";",["T_WHITESPACE","\n\n            ",184],["T_VARIABLE","$select",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","order",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_table",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'.'",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_orderField",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","' ASC'",186],")",";",["T_WHITESPACE","\n            ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$parentPath",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$pathField",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_conn",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","quoteIdentifier",188],"(","[",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_table",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_pathField",188],"]",")",";",["T_WHITESPACE","\n                ",188],["T_VARIABLE","$select",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","where",189],"(","\"",["T_CURLY_OPEN","{",189],["T_VARIABLE","$pathField",189],"}",["T_ENCAPSED_AND_WHITESPACE"," LIKE ?",189],"\"",",",["T_WHITESPACE"," ",189],"\"",["T_CURLY_OPEN","{",189],["T_VARIABLE","$parentPath",189],"}",["T_ENCAPSED_AND_WHITESPACE","\/%",189],"\"",")",";",["T_WHITESPACE","\n            ",189],"}",["T_WHITESPACE","\n            ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$recursionLevel",191],["T_WHITESPACE"," ",191],["T_IS_NOT_EQUAL","!=",191],["T_WHITESPACE"," ",191],["T_LNUMBER","0",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$levelField",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_conn",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","quoteIdentifier",192],"(","[",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_table",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_levelField",192],"]",")",";",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$select",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","where",193],"(","\"",["T_CURLY_OPEN","{",193],["T_VARIABLE","$levelField",193],"}",["T_ENCAPSED_AND_WHITESPACE"," <= ?",193],"\"",",",["T_WHITESPACE"," ",193],["T_VARIABLE","$startLevel",193],["T_WHITESPACE"," ",193],"+",["T_WHITESPACE"," ",193],["T_VARIABLE","$recursionLevel",193],")",";",["T_WHITESPACE","\n            ",193],"}",["T_WHITESPACE","\n\n            ",194],["T_VARIABLE","$arrNodes",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_conn",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","fetchAll",196],"(",["T_VARIABLE","$select",196],")",";",["T_WHITESPACE","\n\n            ",196],["T_VARIABLE","$childrenItems",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[","]",";",["T_WHITESPACE","\n\n            ",198],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$arrNodes",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$nodeInfo",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$pathToParent",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","explode",201],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$nodeInfo",201],"[",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_pathField",201],"]",")",";",["T_WHITESPACE","\n                ",201],["T_STRING","array_pop",202],"(",["T_VARIABLE","$pathToParent",202],")",";",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$pathToParent",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","implode",203],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$pathToParent",203],")",";",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$childrenItems",204],"[",["T_VARIABLE","$pathToParent",204],"]","[","]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$nodeInfo",204],";",["T_WHITESPACE","\n            ",204],"}",["T_WHITESPACE","\n\n            ",205],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","addChildNodes",207],"(",["T_VARIABLE","$childrenItems",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$parentPath",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$parentNode",207],")",";",["T_WHITESPACE","\n\n            ",207],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_loaded",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","true",209],";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n\n        ",210],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Add child nodes\n     *\n     * @param array $children\n     * @param string $path\n     * @param Node $parentNode\n     * @param int $level\n     * @return void\n     *\/",215],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","addChildNodes",224],"(",["T_VARIABLE","$children",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$path",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$parentNode",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$level",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_LNUMBER","0",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_ISSET","isset",226],"(",["T_VARIABLE","$children",226],"[",["T_VARIABLE","$path",226],"]",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$children",227],"[",["T_VARIABLE","$path",227],"]",["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$child",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                ",227],["T_VARIABLE","$nodeId",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_ISSET","isset",228],"(",["T_VARIABLE","$child",228],"[",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_idField",228],"]",")",["T_WHITESPACE"," ",228],"?",["T_WHITESPACE"," ",228],["T_VARIABLE","$child",228],"[",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_idField",228],"]",["T_WHITESPACE"," ",228],":",["T_WHITESPACE"," ",228],["T_STRING","false",228],";",["T_WHITESPACE","\n                ",228],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$parentNode",229],["T_WHITESPACE"," ",229],["T_BOOLEAN_AND","&&",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$nodeId",229],["T_WHITESPACE"," ",229],["T_BOOLEAN_AND","&&",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$node",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$parentNode",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getChildren",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","searchById",229],"(",["T_VARIABLE","$nodeId",229],")",")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                    ",229],["T_VARIABLE","$node",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","addData",230],"(",["T_VARIABLE","$child",230],")",";",["T_WHITESPACE","\n                ",230],"}",["T_WHITESPACE"," ",231],["T_ELSE","else",231],["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_VARIABLE","$node",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_STRING","Node",232],"(",["T_VARIABLE","$child",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_idField",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$parentNode",232],")",";",["T_WHITESPACE","\n                ",232],"}",["T_WHITESPACE","\n\n                ",233],["T_COMMENT","\/\/$node->setLevel(count(explode('\/', $node->getData($this->_pathField)))-1);\n",235],["T_WHITESPACE","                ",236],["T_VARIABLE","$node",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","setLevel",236],"(",["T_VARIABLE","$node",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getData",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_levelField",236],")",")",";",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$node",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","setPathId",237],"(",["T_VARIABLE","$node",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getData",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_pathField",237],")",")",";",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","addNode",238],"(",["T_VARIABLE","$node",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$parentNode",238],")",";",["T_WHITESPACE","\n\n                ",238],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$path",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                    ",240],["T_VARIABLE","$childrenPath",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","explode",241],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$path",241],")",";",["T_WHITESPACE","\n                ",241],"}",["T_WHITESPACE"," ",242],["T_ELSE","else",242],["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                    ",242],["T_VARIABLE","$childrenPath",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"[","]",";",["T_WHITESPACE","\n                ",243],"}",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$childrenPath",245],"[","]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$node",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getId",245],"(",")",";",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$childrenPath",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","implode",246],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$childrenPath",246],")",";",["T_WHITESPACE","\n\n                ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","addChildNodes",248],"(",["T_VARIABLE","$children",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$childrenPath",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$node",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$level",248],["T_WHITESPACE"," ",248],"+",["T_WHITESPACE"," ",248],["T_LNUMBER","1",248],")",";",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Load node\n     *\n     * @param int|string $nodeId\n     * @return Node\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","loadNode",259],"(",["T_VARIABLE","$nodeId",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$select",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_CLONE","clone",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_select",261],";",["T_WHITESPACE","\n        ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_STRING","is_numeric",262],"(",["T_VARIABLE","$nodeId",262],")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$condField",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_conn",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","quoteIdentifier",263],"(","[",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_table",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_idField",263],"]",")",";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE"," ",264],["T_ELSE","else",264],["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$condField",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_conn",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","quoteIdentifier",265],"(","[",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_table",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_pathField",265],"]",")",";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$select",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","where",268],"(","\"",["T_CURLY_OPEN","{",268],["T_VARIABLE","$condField",268],"}",["T_ENCAPSED_AND_WHITESPACE"," = ?",268],"\"",",",["T_WHITESPACE"," ",268],["T_VARIABLE","$nodeId",268],")",";",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$node",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_NEW","new",270],["T_WHITESPACE"," ",270],["T_STRING","Node",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_conn",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","fetchRow",270],"(",["T_VARIABLE","$select",270],")",",",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_idField",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","addNode",271],"(",["T_VARIABLE","$node",271],")",";",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$node",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Get children\n     *\n     * @param Node $node\n     * @param bool $recursive\n     * @param array $result\n     * @return array\n     *\/",275],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","getChildren",283],"(",["T_VARIABLE","$node",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$recursive",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","true",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$result",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],"[","]",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_STRING","is_numeric",285],"(",["T_VARIABLE","$node",285],")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$node",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getNodeById",286],"(",["T_VARIABLE","$node",286],")",";",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(","!",["T_VARIABLE","$node",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$result",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n\n        ",290],["T_FOREACH","foreach",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$node",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getChildren",292],"(",")",["T_WHITESPACE"," ",292],["T_AS","as",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$child",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$recursive",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$child",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getChildren",294],"(",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                    ",294],["T_VARIABLE","$result",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getChildren",295],"(",["T_VARIABLE","$child",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$recursive",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$result",295],")",";",["T_WHITESPACE","\n                ",295],"}",["T_WHITESPACE","\n            ",296],"}",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$result",298],"[","]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$child",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getId",298],"(",")",";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$result",300],";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_DOC_COMMENT","\/**\n     * Move tree node\n     *\n     * @param Node $node\n     * @param Node $newParent\n     * @param Node $prevNode\n     * @return void\n     * @throws \\Exception\n     * @todo Use adapter for generate conditions\n     *\/",303],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","move",313],"(",["T_VARIABLE","$node",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$newParent",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$prevNode",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","null",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$position",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_LNUMBER","1",315],";",["T_WHITESPACE","\n\n        ",315],["T_VARIABLE","$oldPath",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$node",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getData",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_pathField",317],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$newPath",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$newParent",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getData",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_pathField",318],")",";",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$newPath",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$newPath",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'\/'",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_VARIABLE","$node",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getId",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$oldPathLength",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","strlen",321],"(",["T_VARIABLE","$oldPath",321],")",";",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$newLevel",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$newParent",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getLevel",323],"(",")",["T_WHITESPACE"," ",323],"+",["T_WHITESPACE"," ",323],["T_LNUMBER","1",323],";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$levelDisposition",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$newLevel",324],["T_WHITESPACE"," ",324],"-",["T_WHITESPACE"," ",324],["T_VARIABLE","$node",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getLevel",324],"(",")",";",["T_WHITESPACE","\n\n        ",324],["T_VARIABLE","$data",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],"[",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_levelField",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_NEW","new",327],["T_WHITESPACE"," ",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Zend_Db_Expr",327],"(","\"",["T_CURLY_OPEN","{",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_levelField",327],"}",["T_ENCAPSED_AND_WHITESPACE"," + '",327],["T_CURLY_OPEN","{",327],["T_VARIABLE","$levelDisposition",327],"}",["T_ENCAPSED_AND_WHITESPACE","'",327],"\"",")",",",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_pathField",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_NEW","new",328],["T_WHITESPACE"," ",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Zend_Db_Expr",328],"(",["T_WHITESPACE","\n                ",328],"\"",["T_ENCAPSED_AND_WHITESPACE","CONCAT('",329],["T_CURLY_OPEN","{",329],["T_VARIABLE","$newPath",329],"}",["T_ENCAPSED_AND_WHITESPACE","', RIGHT(",329],["T_CURLY_OPEN","{",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_pathField",329],"}",["T_ENCAPSED_AND_WHITESPACE",", LENGTH(",329],["T_CURLY_OPEN","{",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_pathField",329],"}",["T_ENCAPSED_AND_WHITESPACE",") - ",329],["T_CURLY_OPEN","{",329],["T_VARIABLE","$oldPathLength",329],"}",["T_ENCAPSED_AND_WHITESPACE","))",329],"\"",["T_WHITESPACE","\n            ",329],")",",",["T_WHITESPACE","\n        ",330],"]",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$condition",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_conn",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","quoteInto",332],"(","\"",["T_CURLY_OPEN","{",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_pathField",332],"}",["T_ENCAPSED_AND_WHITESPACE"," REGEXP ?",332],"\"",",",["T_WHITESPACE"," ",332],"\"",["T_ENCAPSED_AND_WHITESPACE","^",332],["T_CURLY_OPEN","{",332],["T_VARIABLE","$oldPath",332],"}",["T_ENCAPSED_AND_WHITESPACE","(\/|\\$)",332],"\"",")",";",["T_WHITESPACE","\n\n        ",332],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_conn",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","beginTransaction",334],"(",")",";",["T_WHITESPACE","\n\n        ",334],["T_VARIABLE","$reorderData",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],"[",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_orderField",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_NEW","new",336],["T_WHITESPACE"," ",336],["T_NS_SEPARATOR","\\",336],["T_STRING","Zend_Db_Expr",336],"(","\"",["T_CURLY_OPEN","{",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_orderField",336],"}",["T_ENCAPSED_AND_WHITESPACE"," + 1",336],"\"",")","]",";",["T_WHITESPACE","\n        ",336],["T_TRY","try",337],["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$prevNode",338],["T_WHITESPACE"," ",338],["T_BOOLEAN_AND","&&",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$prevNode",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getId",338],"(",")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$reorderCondition",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],"\"",["T_CURLY_OPEN","{",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_orderField",339],"}",["T_ENCAPSED_AND_WHITESPACE"," > ",339],["T_CURLY_OPEN","{",339],["T_VARIABLE","$prevNode",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getData",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_orderField",339],")","}","\"",";",["T_WHITESPACE","\n                ",339],["T_VARIABLE","$position",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$prevNode",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getData",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_orderField",340],")",["T_WHITESPACE"," ",340],"+",["T_WHITESPACE"," ",340],["T_LNUMBER","1",340],";",["T_WHITESPACE","\n            ",340],"}",["T_WHITESPACE"," ",341],["T_ELSE","else",341],["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$reorderCondition",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_conn",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","quoteInto",342],"(",["T_WHITESPACE","\n                    ",342],"\"",["T_CURLY_OPEN","{",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_pathField",343],"}",["T_ENCAPSED_AND_WHITESPACE"," REGEXP ?",343],"\"",",",["T_WHITESPACE","\n                    ",343],"\"",["T_ENCAPSED_AND_WHITESPACE","^",344],["T_CURLY_OPEN","{",344],["T_VARIABLE","$newParent",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getData",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_pathField",344],")","}",["T_ENCAPSED_AND_WHITESPACE","\/[0-9]+\\$",344],"\"",["T_WHITESPACE","\n                ",344],")",";",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$select",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_conn",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","select",346],"(",")",["T_OBJECT_OPERATOR","->",346],["T_STRING","from",346],"(",["T_WHITESPACE","\n                    ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_table",347],",",["T_WHITESPACE","\n                    ",347],["T_NEW","new",348],["T_WHITESPACE"," ",348],["T_NS_SEPARATOR","\\",348],["T_STRING","Zend_Db_Expr",348],"(","\"",["T_ENCAPSED_AND_WHITESPACE","MIN(",348],["T_CURLY_OPEN","{",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_orderField",348],"}",["T_ENCAPSED_AND_WHITESPACE",")",348],"\"",")",["T_WHITESPACE","\n                ",348],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","where",349],"(",["T_WHITESPACE","\n                    ",349],["T_VARIABLE","$reorderCondition",350],["T_WHITESPACE","\n                ",350],")",";",["T_WHITESPACE","\n\n                ",351],["T_VARIABLE","$position",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_INT_CAST","(int)",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_conn",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","fetchOne",353],"(",["T_VARIABLE","$select",353],")",";",["T_WHITESPACE","\n            ",353],"}",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_conn",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","update",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_table",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$reorderData",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$reorderCondition",355],")",";",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_conn",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","update",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_table",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$data",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$condition",356],")",";",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_conn",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","update",357],"(",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_table",358],",",["T_WHITESPACE","\n                ",358],"[",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_orderField",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$position",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_levelField",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$newLevel",359],"]",",",["T_WHITESPACE","\n                ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_conn",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","quoteInto",360],"(","\"",["T_CURLY_OPEN","{",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_idField",360],"}",["T_ENCAPSED_AND_WHITESPACE"," = ?",360],"\"",",",["T_WHITESPACE"," ",360],["T_VARIABLE","$node",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getId",360],"(",")",")",["T_WHITESPACE","\n            ",360],")",";",["T_WHITESPACE","\n\n            ",361],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_conn",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","commit",363],"(",")",";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE"," ",364],["T_CATCH","catch",364],["T_WHITESPACE"," ",364],"(",["T_NS_SEPARATOR","\\",364],["T_STRING","Exception",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$e",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_conn",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","rollBack",365],"(",")",";",["T_WHITESPACE","\n            ",365],["T_THROW","throw",366],["T_WHITESPACE"," ",366],["T_NEW","new",366],["T_WHITESPACE"," ",366],["T_NS_SEPARATOR","\\",366],["T_STRING","Exception",366],"(",["T_CONSTANT_ENCAPSED_STRING","\"Can't move tree node due to error: \"",366],["T_WHITESPACE"," ",366],".",["T_WHITESPACE"," ",366],["T_VARIABLE","$e",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getMessage",366],"(",")",")",";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Load ensured nodes\n     *\n     * @param object $category\n     * @param Node $rootNode\n     * @return void\n     *\/",370],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","loadEnsuredNodes",377],"(",["T_VARIABLE","$category",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$rootNode",377],")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$pathIds",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$category",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getPathIds",379],"(",")",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$rootNodeId",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$rootNode",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","getId",380],"(",")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$rootNodePath",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$rootNode",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getData",381],"(",["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_pathField",381],")",";",["T_WHITESPACE","\n\n        ",381],["T_VARIABLE","$select",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_CLONE","clone",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_select",383],";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$select",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","order",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_table",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'.'",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_orderField",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","' ASC'",384],")",";",["T_WHITESPACE","\n\n        ",384],["T_IF","if",386],["T_WHITESPACE"," ",386],"(",["T_VARIABLE","$pathIds",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$condition",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_conn",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","quoteInto",387],"(","\"",["T_CURLY_OPEN","{",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_table",387],"}",["T_ENCAPSED_AND_WHITESPACE",".",387],["T_CURLY_OPEN","{",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_idField",387],"}",["T_ENCAPSED_AND_WHITESPACE"," in (?)",387],"\"",",",["T_WHITESPACE"," ",387],["T_VARIABLE","$pathIds",387],")",";",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$select",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","where",388],"(",["T_VARIABLE","$condition",388],")",";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n\n        ",389],["T_VARIABLE","$arrNodes",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_conn",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","fetchAll",391],"(",["T_VARIABLE","$select",391],")",";",["T_WHITESPACE","\n\n        ",391],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$arrNodes",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_VARIABLE","$childrenItems",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],"[","]",";",["T_WHITESPACE","\n            ",394],["T_FOREACH","foreach",395],["T_WHITESPACE"," ",395],"(",["T_VARIABLE","$arrNodes",395],["T_WHITESPACE"," ",395],["T_AS","as",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$nodeInfo",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n                ",395],["T_VARIABLE","$nodeId",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$nodeInfo",396],"[",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_idField",396],"]",";",["T_WHITESPACE","\n                ",396],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$nodeId",397],["T_WHITESPACE"," ",397],["T_IS_SMALLER_OR_EQUAL","<=",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$rootNodeId",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n                    ",397],["T_CONTINUE","continue",398],";",["T_WHITESPACE","\n                ",398],"}",["T_WHITESPACE","\n\n                ",399],["T_VARIABLE","$pathToParent",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","explode",401],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$nodeInfo",401],"[",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_pathField",401],"]",")",";",["T_WHITESPACE","\n                ",401],["T_STRING","array_pop",402],"(",["T_VARIABLE","$pathToParent",402],")",";",["T_WHITESPACE","\n                ",402],["T_VARIABLE","$pathToParent",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_STRING","implode",403],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$pathToParent",403],")",";",["T_WHITESPACE","\n                ",403],["T_VARIABLE","$childrenItems",404],"[",["T_VARIABLE","$pathToParent",404],"]","[","]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$nodeInfo",404],";",["T_WHITESPACE","\n            ",404],"}",["T_WHITESPACE","\n\n            ",405],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_addChildNodes",407],"(",["T_VARIABLE","$childrenItems",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$rootNodePath",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$rootNode",407],",",["T_WHITESPACE"," ",407],["T_STRING","true",407],")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n    ",408],"}",["T_WHITESPACE","\n\n    ",409],["T_DOC_COMMENT","\/**\n     * Add child nodes\n     *\n     * @param array $children\n     * @param string $path\n     * @param Node $parentNode\n     * @param bool $withChildren\n     * @param int $level\n     * @return void\n     *\/",411],["T_WHITESPACE","\n    ",420],["T_PROTECTED","protected",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","_addChildNodes",421],"(",["T_VARIABLE","$children",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$path",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$parentNode",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$withChildren",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_STRING","false",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$level",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_LNUMBER","0",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_ISSET","isset",423],"(",["T_VARIABLE","$children",423],"[",["T_VARIABLE","$path",423],"]",")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_FOREACH","foreach",424],["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$children",424],"[",["T_VARIABLE","$path",424],"]",["T_WHITESPACE"," ",424],["T_AS","as",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$child",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n                ",424],["T_VARIABLE","$nodeId",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_ISSET","isset",425],"(",["T_VARIABLE","$child",425],"[",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_idField",425],"]",")",["T_WHITESPACE"," ",425],"?",["T_WHITESPACE"," ",425],["T_VARIABLE","$child",425],"[",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_idField",425],"]",["T_WHITESPACE"," ",425],":",["T_WHITESPACE"," ",425],["T_STRING","false",425],";",["T_WHITESPACE","\n                ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$parentNode",426],["T_WHITESPACE"," ",426],["T_BOOLEAN_AND","&&",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$nodeId",426],["T_WHITESPACE"," ",426],["T_BOOLEAN_AND","&&",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$node",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$parentNode",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getChildren",426],"(",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","searchById",426],"(",["T_VARIABLE","$nodeId",426],")",")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                    ",426],["T_VARIABLE","$node",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","addData",427],"(",["T_VARIABLE","$child",427],")",";",["T_WHITESPACE","\n                ",427],"}",["T_WHITESPACE"," ",428],["T_ELSE","else",428],["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n                    ",428],["T_VARIABLE","$node",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_NEW","new",429],["T_WHITESPACE"," ",429],["T_STRING","Node",429],"(",["T_VARIABLE","$child",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_idField",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$parentNode",429],")",";",["T_WHITESPACE","\n                    ",429],["T_VARIABLE","$node",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","setLevel",430],"(",["T_VARIABLE","$node",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getData",430],"(",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_levelField",430],")",")",";",["T_WHITESPACE","\n                    ",430],["T_VARIABLE","$node",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","setPathId",431],"(",["T_VARIABLE","$node",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getData",431],"(",["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","_pathField",431],")",")",";",["T_WHITESPACE","\n                    ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","addNode",432],"(",["T_VARIABLE","$node",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$parentNode",432],")",";",["T_WHITESPACE","\n                ",432],"}",["T_WHITESPACE","\n\n                ",433],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$withChildren",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                    ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_loaded",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_STRING","false",436],";",["T_WHITESPACE","\n                    ",436],["T_VARIABLE","$node",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","loadChildren",437],"(",["T_LNUMBER","1",437],")",";",["T_WHITESPACE","\n                    ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_loaded",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_STRING","false",438],";",["T_WHITESPACE","\n                ",438],"}",["T_WHITESPACE","\n\n                ",439],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$path",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n                    ",441],["T_VARIABLE","$childrenPath",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","explode",442],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$path",442],")",";",["T_WHITESPACE","\n                ",442],"}",["T_WHITESPACE"," ",443],["T_ELSE","else",443],["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n                    ",443],["T_VARIABLE","$childrenPath",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],"[","]",";",["T_WHITESPACE","\n                ",444],"}",["T_WHITESPACE","\n                ",445],["T_VARIABLE","$childrenPath",446],"[","]",["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$node",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getId",446],"(",")",";",["T_WHITESPACE","\n                ",446],["T_VARIABLE","$childrenPath",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_STRING","implode",447],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$childrenPath",447],")",";",["T_WHITESPACE","\n\n                ",447],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_addChildNodes",449],"(",["T_VARIABLE","$children",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$childrenPath",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$node",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$withChildren",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$level",449],["T_WHITESPACE"," ",449],"+",["T_WHITESPACE"," ",449],["T_LNUMBER","1",449],")",";",["T_WHITESPACE","\n            ",449],"}",["T_WHITESPACE","\n        ",450],"}",["T_WHITESPACE","\n    ",451],"}",["T_WHITESPACE","\n",452],"}",["T_WHITESPACE","\n",453]]