[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Image",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adapter",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * \\Magento\\Framework\\Image\\Adapter\\Gd2 class test\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Gd2Test",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Value to mock ini_get('memory_limit')\n     *\n     * @var string\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$memoryLimit",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var array simulation of getimagesize()\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$imageData",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[","]",";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Adapter for testing\n     * @var \\Magento\\Framework\\Image\\Adapter\\Gd2\n     *\/",27],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$adapter",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$objectManager",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Setup testing object\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","setUp",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_REQUIRE_ONCE","require_once",43],["T_WHITESPACE"," ",43],["T_DIR","__DIR__",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/global_php_mock.php'",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","objectManager",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","ObjectManager",44],"(",["T_VARIABLE","$this",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","adapter",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","objectManager",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getObject",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Image",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Adapter",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Gd2",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Test parent class\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testParentClass",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertInstanceOf",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Image",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Adapter",53],["T_NS_SEPARATOR","\\",53],["T_STRING","AbstractAdapter",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","adapter",53],")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Test open() method\n     *\n     * @param array $fileData\n     * @param string|bool|null $exception\n     * @param string $limit\n     * @dataProvider filesProvider\n     *\/",56],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testOpen",64],"(",["T_VARIABLE","$fileData",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$exception",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$limit",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_STRING","self",66],["T_DOUBLE_COLON","::",66],["T_VARIABLE","$memoryLimit",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$limit",66],";",["T_WHITESPACE","\n        ",66],["T_STRING","self",67],["T_DOUBLE_COLON","::",67],["T_VARIABLE","$imageData",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$fileData",67],";",["T_WHITESPACE","\n\n        ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_EMPTY","empty",69],"(",["T_VARIABLE","$exception",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setExpectedException",70],"(",["T_VARIABLE","$exception",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","adapter",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","open",73],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","filesProvider",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$smallFile",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[",["T_WHITESPACE","\n            ",78],["T_LNUMBER","0",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","480",79],",",["T_WHITESPACE","\n            ",79],["T_LNUMBER","1",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_LNUMBER","320",80],",",["T_WHITESPACE","\n            ",80],["T_LNUMBER","2",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","2",81],",",["T_WHITESPACE","\n            ",81],["T_LNUMBER","3",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'width=\"480\" height=\"320\"'",82],",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'bits'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_LNUMBER","8",83],",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'channels'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_LNUMBER","3",84],",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'mime'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",85],",",["T_WHITESPACE","\n        ",85],"]",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$bigFile",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[",["T_WHITESPACE","\n            ",88],["T_LNUMBER","0",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_LNUMBER","3579",89],",",["T_WHITESPACE","\n            ",89],["T_LNUMBER","1",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_LNUMBER","2398",90],",",["T_WHITESPACE","\n            ",90],["T_LNUMBER","2",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_LNUMBER","2",91],",",["T_WHITESPACE","\n            ",91],["T_LNUMBER","3",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'width=\"3579\" height=\"2398\"'",92],",",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'bits'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_LNUMBER","8",93],",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'channels'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_LNUMBER","3",94],",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'mime'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",95],",",["T_WHITESPACE","\n        ",95],"]",";",["T_WHITESPACE","\n\n        ",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n            ",98],["T_CONSTANT_ENCAPSED_STRING","'positive_M'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],"[",["T_VARIABLE","$smallFile",99],",",["T_WHITESPACE"," ",99],["T_STRING","false",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'2M'",99],"]",",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'positive_KB'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],"[",["T_VARIABLE","$smallFile",100],",",["T_WHITESPACE"," ",100],["T_STRING","false",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'2048K'",100],"]",",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'negative_KB'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],"[",["T_VARIABLE","$bigFile",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'OverflowException'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'2048K'",101],"]",",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","'negative_bytes'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],"[",["T_VARIABLE","$bigFile",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'OverflowException'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'2048000'",102],"]",",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","'no_limit'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],"[",["T_VARIABLE","$bigFile",103],",",["T_WHITESPACE"," ",103],["T_STRING","false",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'-1'",103],"]",",",["T_WHITESPACE","\n        ",103],"]",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Test if open() method resets cached fileType\n     *\n     *\/",107],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testOpenDifferentTypes",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_VARIABLE","$imageData",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[",["T_WHITESPACE","\n            ",113],["T_LNUMBER","0",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_LNUMBER","480",114],",",["T_WHITESPACE","\n            ",114],["T_LNUMBER","1",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_LNUMBER","320",115],",",["T_WHITESPACE","\n            ",115],["T_LNUMBER","2",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_LNUMBER","2",116],",",["T_WHITESPACE","\n            ",116],["T_LNUMBER","3",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'width=\"480\" height=\"320\"'",117],",",["T_WHITESPACE","\n            ",117],["T_CONSTANT_ENCAPSED_STRING","'bits'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_LNUMBER","8",118],",",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'channels'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_LNUMBER","3",119],",",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'mime'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",120],",",["T_WHITESPACE","\n        ",120],"]",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","adapter",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","open",123],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$type1",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","adapter",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getImageType",124],"(",")",";",["T_WHITESPACE","\n\n        ",124],["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_VARIABLE","$imageData",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[",["T_WHITESPACE","\n            ",126],["T_LNUMBER","0",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_LNUMBER","480",127],",",["T_WHITESPACE","\n            ",127],["T_LNUMBER","1",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_LNUMBER","320",128],",",["T_WHITESPACE","\n            ",128],["T_LNUMBER","2",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_LNUMBER","3",129],",",["T_WHITESPACE","\n            ",129],["T_LNUMBER","3",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'width=\"480\" height=\"320\"'",130],",",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","'bits'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_LNUMBER","8",131],",",["T_WHITESPACE","\n            ",131],["T_CONSTANT_ENCAPSED_STRING","'channels'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_LNUMBER","3",132],",",["T_WHITESPACE","\n            ",132],["T_CONSTANT_ENCAPSED_STRING","'mime'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'image\/png'",133],",",["T_WHITESPACE","\n        ",133],"]",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","adapter",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","open",136],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$type2",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","adapter",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getImageType",137],"(",")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertNotEquals",139],"(",["T_VARIABLE","$type1",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$type2",139],")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n",140],"}",["T_WHITESPACE","\n",141]]