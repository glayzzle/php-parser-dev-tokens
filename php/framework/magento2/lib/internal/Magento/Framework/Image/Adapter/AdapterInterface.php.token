[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Image",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adapter",6],";",["T_WHITESPACE","\n\n",6],["T_INTERFACE","interface",8],["T_WHITESPACE"," ",8],["T_STRING","AdapterInterface",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * Adapter type\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_CONST","const",13],["T_WHITESPACE"," ",13],["T_STRING","ADAPTER_GD2",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'GD2'",13],";",["T_WHITESPACE","\n\n    ",13],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","ADAPTER_IM",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'IMAGEMAGICK'",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * Returns rgba array of the specified pixel\n     *\n     * @param int $x\n     * @param int $y\n     * @return array\n     *\/",17],["T_WHITESPACE","\n    ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","getColorAt",24],"(",["T_VARIABLE","$x",24],",",["T_WHITESPACE"," ",24],["T_VARIABLE","$y",24],")",";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @see \\Magento\\Framework\\Image\\Adapter\\AbstractAdapter::getImage\n     * @return string\n     *\/",26],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","getImage",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Add watermark to image\n     *\n     * @param string $imagePath\n     * @param int $positionX\n     * @param int $positionY\n     * @param int $opacity\n     * @param bool $tile\n     * @return void\n     *\/",32],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","watermark",42],"(",["T_VARIABLE","$imagePath",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$positionX",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$positionY",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$opacity",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","30",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$tile",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","false",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Reassign image dimensions\n     *\n     * @return void\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","refreshImageDimensions",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Checks required dependencies\n     *\n     * @return void\n     * @throws \\Exception If some of dependencies are missing\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","checkDependencies",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Create Image from string\n     *\n     * @param string $text\n     * @param string $font\n     * @return \\Magento\\Framework\\Image\\Adapter\\AbstractAdapter\n     *\/",59],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","createPngFromString",66],"(",["T_VARIABLE","$text",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$font",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","''",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Open image for processing\n     *\n     * @param string $filename\n     * @return void\n     *\/",68],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","open",74],"(",["T_VARIABLE","$filename",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Change the image size\n     *\n     * @param null|int $frameWidth\n     * @param null|int $frameHeight\n     * @return void\n     *\/",76],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","resize",83],"(",["T_VARIABLE","$frameWidth",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$frameHeight",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Crop image\n     *\n     * @param int $top\n     * @param int $left\n     * @param int $right\n     * @param int $bottom\n     * @return bool\n     *\/",85],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","crop",94],"(",["T_VARIABLE","$top",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$left",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$right",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$bottom",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Save image to specific path.\n     * If some folders of path does not exist they will be created\n     *\n     * @param null|string $destination\n     * @param null|string $newName\n     * @return void\n     * @throws \\Exception  If destination path is not writable\n     *\/",96],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","save",105],"(",["T_VARIABLE","$destination",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$newName",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Rotate image on specific angle\n     *\n     * @param int $angle\n     * @return void\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","rotate",113],"(",["T_VARIABLE","$angle",113],")",";",["T_WHITESPACE","\n",113],"}",["T_WHITESPACE","\n",114]]