[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Framework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Image",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adapter",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @file        Abstract.php\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.TooManyFields)\n *\/",10],["T_WHITESPACE","\n",14],["T_ABSTRACT","abstract",15],["T_WHITESPACE"," ",15],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","AbstractAdapter",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","AdapterInterface",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Background color\n     * @var int|string\n     *\/",17],["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$imageBackgroundColor",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","0",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Position constants\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","POSITION_TOP_LEFT",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'top-left'",26],";",["T_WHITESPACE","\n\n    ",26],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","POSITION_TOP_RIGHT",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'top-right'",28],";",["T_WHITESPACE","\n\n    ",28],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","POSITION_BOTTOM_LEFT",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'bottom-left'",30],";",["T_WHITESPACE","\n\n    ",30],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","POSITION_BOTTOM_RIGHT",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'bottom-right'",32],";",["T_WHITESPACE","\n\n    ",32],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","POSITION_STRETCH",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'stretch'",34],";",["T_WHITESPACE","\n\n    ",34],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","POSITION_TILE",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'tile'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","POSITION_CENTER",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'center'",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Default font size\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","DEFAULT_FONT_SIZE",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","15",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var  int\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_fileType",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var  string\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_fileName",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var  string\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_fileMimeType",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var  string\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_fileSrcName",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var  string\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_fileSrcPath",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @var resource\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_imageHandler",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @var  int\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_imageSrcWidth",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @var  int\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_imageSrcHeight",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_requiredExtensions",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var  string\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_watermarkPosition",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @var  int\n     *\/",95],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_watermarkWidth",98],";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @var  int\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$_watermarkHeight",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * @var  int\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_watermarkImageOpacity",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @var  int\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$_quality",113],";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",115],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$_fontSize",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","self",118],["T_DOUBLE_COLON","::",118],["T_STRING","DEFAULT_FONT_SIZE",118],";",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * @var  bool\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$_keepAspectRatio",123],";",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * @var  bool\n     *\/",125],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_keepFrame",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * @var  bool\n     *\/",130],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$_keepTransparency",133],";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @var  array\n     *\/",135],["T_WHITESPACE","\n    ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$_backgroundColor",138],";",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * @var  bool\n     *\/",140],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_constrainOnly",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Filesystem instance\n     *\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$_filesystem",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\Write\n     *\/",152],["T_WHITESPACE","\n    ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$directoryWrite",155],";",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",157],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$logger",160],";",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Open image for processing\n     *\n     * @param string $fileName\n     * @return void\n     *\/",162],["T_WHITESPACE","\n    ",167],["T_ABSTRACT","abstract",168],["T_WHITESPACE"," ",168],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","open",168],"(",["T_VARIABLE","$fileName",168],")",";",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Save image to specific path.\n     * If some folders of path does not exist they will be created\n     *\n     * @param null|string $destination\n     * @param null|string $newName\n     * @return void\n     * @throws \\Exception  If destination path is not writable\n     *\/",170],["T_WHITESPACE","\n    ",178],["T_ABSTRACT","abstract",179],["T_WHITESPACE"," ",179],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","save",179],"(",["T_VARIABLE","$destination",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","null",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$newName",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","null",179],")",";",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Render image and return its binary contents\n     *\n     * @return string\n     *\/",181],["T_WHITESPACE","\n    ",185],["T_ABSTRACT","abstract",186],["T_WHITESPACE"," ",186],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getImage",186],"(",")",";",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Change the image size\n     *\n     * @param null|int $width\n     * @param null|int $height\n     * @return void\n     *\/",188],["T_WHITESPACE","\n    ",194],["T_ABSTRACT","abstract",195],["T_WHITESPACE"," ",195],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","resize",195],"(",["T_VARIABLE","$width",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","null",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$height",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","null",195],")",";",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Rotate image on specific angle\n     *\n     * @param int $angle\n     * @return void\n     *\/",197],["T_WHITESPACE","\n    ",202],["T_ABSTRACT","abstract",203],["T_WHITESPACE"," ",203],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","rotate",203],"(",["T_VARIABLE","$angle",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Crop image\n     *\n     * @param int $top\n     * @param int $left\n     * @param int $right\n     * @param int $bottom\n     * @return bool\n     *\/",205],["T_WHITESPACE","\n    ",213],["T_ABSTRACT","abstract",214],["T_WHITESPACE"," ",214],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","crop",214],"(",["T_VARIABLE","$top",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_LNUMBER","0",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$left",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_LNUMBER","0",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$right",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_LNUMBER","0",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$bottom",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_LNUMBER","0",214],")",";",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Add watermark to image\n     *\n     * @param string $imagePath\n     * @param int $positionX\n     * @param int $positionY\n     * @param int $opacity\n     * @param bool $tile\n     * @return void\n     *\/",216],["T_WHITESPACE","\n    ",225],["T_ABSTRACT","abstract",226],["T_WHITESPACE"," ",226],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","watermark",226],"(",["T_VARIABLE","$imagePath",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$positionX",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_LNUMBER","0",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$positionY",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_LNUMBER","0",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$opacity",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_LNUMBER","30",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$tile",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","false",226],")",";",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Checks required dependencies\n     *\n     * @return void\n     * @throws \\Exception If some of dependencies are missing\n     *\/",228],["T_WHITESPACE","\n    ",233],["T_ABSTRACT","abstract",234],["T_WHITESPACE"," ",234],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","checkDependencies",234],"(",")",";",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Create Image from string\n     *\n     * @param string $text\n     * @param string $font Path to font file\n     * @return AbstractAdapter\n     *\/",236],["T_WHITESPACE","\n    ",242],["T_ABSTRACT","abstract",243],["T_WHITESPACE"," ",243],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","createPngFromString",243],"(",["T_VARIABLE","$text",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$font",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","''",243],")",";",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Reassign image dimensions\n     *\n     * @return void\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_ABSTRACT","abstract",250],["T_WHITESPACE"," ",250],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","refreshImageDimensions",250],"(",")",";",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Returns rgba array of the specified pixel\n     *\n     * @param int $x\n     * @param int $y\n     * @return array\n     *\/",252],["T_WHITESPACE","\n    ",258],["T_ABSTRACT","abstract",259],["T_WHITESPACE"," ",259],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","getColorAt",259],"(",["T_VARIABLE","$x",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$y",259],")",";",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Initialize default values\n     *\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param array $data\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",261],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","__construct",269],"(",["T_WHITESPACE","\n        ",269],["T_NS_SEPARATOR","\\",270],["T_STRING","Magento",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Framework",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Filesystem",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$filesystem",270],",",["T_WHITESPACE","\n        ",270],["T_NS_SEPARATOR","\\",271],["T_STRING","Psr",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Log",271],["T_NS_SEPARATOR","\\",271],["T_STRING","LoggerInterface",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$logger",271],",",["T_WHITESPACE","\n        ",271],["T_ARRAY","array",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$data",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],"[","]",["T_WHITESPACE","\n    ",272],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_filesystem",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$filesystem",274],";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","logger",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$logger",275],";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","directoryWrite",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_filesystem",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getDirectoryWrite",276],"(",["T_STRING","DirectoryList",276],["T_DOUBLE_COLON","::",276],["T_STRING","ROOT",276],")",";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Assign image width, height, fileMimeType to object properties\n     *\n     * @return string|null\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","getMimeType",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_fileMimeType",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_fileMimeType",287],";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE"," ",288],["T_ELSE","else",288],["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_fileMimeType",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","image_type_to_mime_type",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getImageType",289],"(",")",")",";",["T_WHITESPACE","\n            ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_fileMimeType",290],";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Assign image width, height, fileType to object properties using getimagesize function\n     *\n     * @return int|null\n     *\/",294],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getImageType",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_fileType",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_fileType",302],";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE"," ",303],["T_ELSE","else",303],["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_LIST","list",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_imageSrcWidth",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_imageSrcHeight",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_fileType",304],")",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","getimagesize",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_fileName",304],")",";",["T_WHITESPACE","\n            ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_fileType",305],";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Retrieve Original Image Width\n     *\n     * @return int|null\n     *\/",309],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","getOriginalWidth",314],"(",")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getImageType",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_imageSrcWidth",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Retrieve Original Image Height\n     *\n     * @return int|null\n     *\/",320],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getOriginalHeight",325],"(",")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getImageType",327],"(",")",";",["T_WHITESPACE","\n        ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_imageSrcHeight",328],";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Set watermark position\n     *\n     * @param string $position\n     * @return $this\n     *\/",331],["T_WHITESPACE","\n    ",336],["T_PUBLIC","public",337],["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],["T_STRING","setWatermarkPosition",337],"(",["T_VARIABLE","$position",337],")",["T_WHITESPACE","\n    ",337],"{",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_watermarkPosition",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$position",339],";",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Get watermark position\n     *\n     * @return string\n     *\/",343],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","getWatermarkPosition",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_watermarkPosition",350],";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * Set watermark opacity\n     *\n     * @param int $imageOpacity\n     * @return $this\n     *\/",353],["T_WHITESPACE","\n    ",358],["T_PUBLIC","public",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","setWatermarkImageOpacity",359],"(",["T_VARIABLE","$imageOpacity",359],")",["T_WHITESPACE","\n    ",359],"{",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","_watermarkImageOpacity",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$imageOpacity",361],";",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Get watermark opacity\n     *\n     * @return int\n     *\/",365],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","getWatermarkImageOpacity",370],"(",")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_watermarkImageOpacity",372],";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Set watermark width\n     *\n     * @param int $width\n     * @return $this\n     *\/",375],["T_WHITESPACE","\n    ",380],["T_PUBLIC","public",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","setWatermarkWidth",381],"(",["T_VARIABLE","$width",381],")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_watermarkWidth",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$width",383],";",["T_WHITESPACE","\n        ",383],["T_RETURN","return",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * Get watermark width\n     *\n     * @return int\n     *\/",387],["T_WHITESPACE","\n    ",391],["T_PUBLIC","public",392],["T_WHITESPACE"," ",392],["T_FUNCTION","function",392],["T_WHITESPACE"," ",392],["T_STRING","getWatermarkWidth",392],"(",")",["T_WHITESPACE","\n    ",392],"{",["T_WHITESPACE","\n        ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_watermarkWidth",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * Set watermark height\n     *\n     * @param int $height\n     * @return $this\n     *\/",397],["T_WHITESPACE","\n    ",402],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","setWatermarkHeight",403],"(",["T_VARIABLE","$height",403],")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_watermarkHeight",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$height",405],";",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Return watermark height\n     *\n     * @return int\n     *\/",409],["T_WHITESPACE","\n    ",413],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","getWatermarkHeight",414],"(",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_watermarkHeight",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Get\/set keepAspectRatio\n     *\n     * @param bool $value\n     * @return bool|\\Magento\\Framework\\Image\\Adapter\\AbstractAdapter\n     *\/",419],["T_WHITESPACE","\n    ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","keepAspectRatio",425],"(",["T_VARIABLE","$value",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","null",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_STRING","null",427],["T_WHITESPACE"," ",427],["T_IS_NOT_IDENTICAL","!==",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$value",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_keepAspectRatio",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_BOOL_CAST","(bool)",428],["T_VARIABLE","$value",428],";",["T_WHITESPACE","\n        ",428],"}",["T_WHITESPACE","\n        ",429],["T_RETURN","return",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_keepAspectRatio",430],";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n\n    ",431],["T_DOC_COMMENT","\/**\n     * Get\/set keepFrame\n     *\n     * @param bool $value\n     * @return bool\n     *\/",433],["T_WHITESPACE","\n    ",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","keepFrame",439],"(",["T_VARIABLE","$value",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_STRING","null",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_STRING","null",441],["T_WHITESPACE"," ",441],["T_IS_NOT_IDENTICAL","!==",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$value",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_keepFrame",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_BOOL_CAST","(bool)",442],["T_VARIABLE","$value",442],";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n        ",443],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_keepFrame",444],";",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n\n    ",445],["T_DOC_COMMENT","\/**\n     * Get\/set keepTransparency\n     *\n     * @param bool $value\n     * @return bool\n     *\/",447],["T_WHITESPACE","\n    ",452],["T_PUBLIC","public",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","keepTransparency",453],"(",["T_VARIABLE","$value",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","null",453],")",["T_WHITESPACE","\n    ",453],"{",["T_WHITESPACE","\n        ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(",["T_STRING","null",455],["T_WHITESPACE"," ",455],["T_IS_NOT_IDENTICAL","!==",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$value",455],")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_keepTransparency",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_BOOL_CAST","(bool)",456],["T_VARIABLE","$value",456],";",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n        ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_keepTransparency",458],";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * Get\/set constrainOnly\n     *\n     * @param bool $value\n     * @return bool\n     *\/",461],["T_WHITESPACE","\n    ",466],["T_PUBLIC","public",467],["T_WHITESPACE"," ",467],["T_FUNCTION","function",467],["T_WHITESPACE"," ",467],["T_STRING","constrainOnly",467],"(",["T_VARIABLE","$value",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","null",467],")",["T_WHITESPACE","\n    ",467],"{",["T_WHITESPACE","\n        ",468],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_STRING","null",469],["T_WHITESPACE"," ",469],["T_IS_NOT_IDENTICAL","!==",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$value",469],")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_constrainOnly",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_BOOL_CAST","(bool)",470],["T_VARIABLE","$value",470],";",["T_WHITESPACE","\n        ",470],"}",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_constrainOnly",472],";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Get\/set quality, values in percentage from 0 to 100\n     *\n     * @param int $value\n     * @return int\n     *\/",475],["T_WHITESPACE","\n    ",480],["T_PUBLIC","public",481],["T_WHITESPACE"," ",481],["T_FUNCTION","function",481],["T_WHITESPACE"," ",481],["T_STRING","quality",481],"(",["T_VARIABLE","$value",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","null",481],")",["T_WHITESPACE","\n    ",481],"{",["T_WHITESPACE","\n        ",482],["T_IF","if",483],["T_WHITESPACE"," ",483],"(",["T_STRING","null",483],["T_WHITESPACE"," ",483],["T_IS_NOT_IDENTICAL","!==",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$value",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_quality",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_INT_CAST","(int)",484],["T_VARIABLE","$value",484],";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n        ",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","_quality",486],";",["T_WHITESPACE","\n    ",486],"}",["T_WHITESPACE","\n\n    ",487],["T_DOC_COMMENT","\/**\n     * Get\/set keepBackgroundColor\n     *\n     * @param null|array $value\n     * @return array|void\n     *\/",489],["T_WHITESPACE","\n    ",494],["T_PUBLIC","public",495],["T_WHITESPACE"," ",495],["T_FUNCTION","function",495],["T_WHITESPACE"," ",495],["T_STRING","backgroundColor",495],"(",["T_VARIABLE","$value",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","null",495],")",["T_WHITESPACE","\n    ",495],"{",["T_WHITESPACE","\n        ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_STRING","null",497],["T_WHITESPACE"," ",497],["T_IS_NOT_IDENTICAL","!==",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$value",497],")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n            ",497],["T_IF","if",498],["T_WHITESPACE"," ",498],"(","!",["T_STRING","is_array",498],"(",["T_VARIABLE","$value",498],")",["T_WHITESPACE"," ",498],["T_BOOLEAN_OR","||",498],["T_WHITESPACE"," ",498],["T_LNUMBER","3",498],["T_WHITESPACE"," ",498],["T_IS_NOT_IDENTICAL","!==",498],["T_WHITESPACE"," ",498],["T_STRING","count",498],"(",["T_VARIABLE","$value",498],")",")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n                ",498],["T_RETURN","return",499],";",["T_WHITESPACE","\n            ",499],"}",["T_WHITESPACE","\n            ",500],["T_FOREACH","foreach",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$value",501],["T_WHITESPACE"," ",501],["T_AS","as",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$color",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n                ",501],["T_IF","if",502],["T_WHITESPACE"," ",502],"(","!",["T_STRING","is_integer",502],"(",["T_VARIABLE","$color",502],")",["T_WHITESPACE"," ",502],["T_BOOLEAN_OR","||",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$color",502],["T_WHITESPACE"," ",502],"<",["T_WHITESPACE"," ",502],["T_LNUMBER","0",502],["T_WHITESPACE"," ",502],["T_BOOLEAN_OR","||",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$color",502],["T_WHITESPACE"," ",502],">",["T_WHITESPACE"," ",502],["T_LNUMBER","255",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n                    ",502],["T_RETURN","return",503],";",["T_WHITESPACE","\n                ",503],"}",["T_WHITESPACE","\n            ",504],"}",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_backgroundColor",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$value",507],";",["T_WHITESPACE","\n        ",507],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_backgroundColor",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Assign file dirname and basename to object properties\n     *\n     * @return void\n     *\/",511],["T_WHITESPACE","\n    ",515],["T_PROTECTED","protected",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","_getFileAttributes",516],"(",")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$pathinfo",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","pathinfo",518],"(",["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","_fileName",518],")",";",["T_WHITESPACE","\n\n        ",518],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_fileSrcPath",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$pathinfo",520],"[",["T_CONSTANT_ENCAPSED_STRING","'dirname'",520],"]",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_fileSrcName",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$pathinfo",521],"[",["T_CONSTANT_ENCAPSED_STRING","'basename'",521],"]",";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Adapt resize values based on image configuration\n     *\n     * @param int $frameWidth\n     * @param int $frameHeight\n     * @return array\n     * @throws \\Exception\n     *\/",524],["T_WHITESPACE","\n    ",531],["T_PROTECTED","protected",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","_adaptResizeValues",532],"(",["T_VARIABLE","$frameWidth",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$frameHeight",532],")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","_checkDimensions",534],"(",["T_VARIABLE","$frameWidth",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$frameHeight",534],")",";",["T_WHITESPACE","\n\n        ",534],["T_COMMENT","\/\/ calculate lacking dimension\n",536],["T_WHITESPACE","        ",537],["T_IF","if",537],["T_WHITESPACE"," ",537],"(","!",["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_keepFrame",537],["T_WHITESPACE"," ",537],["T_BOOLEAN_AND","&&",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_checkSrcDimensions",537],"(",")",")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_IF","if",538],["T_WHITESPACE"," ",538],"(",["T_STRING","null",538],["T_WHITESPACE"," ",538],["T_IS_IDENTICAL","===",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$frameWidth",538],")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n                ",538],["T_VARIABLE","$frameWidth",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_STRING","round",539],"(",["T_VARIABLE","$frameHeight",539],["T_WHITESPACE"," ",539],"*",["T_WHITESPACE"," ",539],"(",["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","_imageSrcWidth",539],["T_WHITESPACE"," ",539],"\/",["T_WHITESPACE"," ",539],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","_imageSrcHeight",539],")",")",";",["T_WHITESPACE","\n            ",539],"}",["T_WHITESPACE"," ",540],["T_ELSEIF","elseif",540],["T_WHITESPACE"," ",540],"(",["T_STRING","null",540],["T_WHITESPACE"," ",540],["T_IS_IDENTICAL","===",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$frameHeight",540],")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n                ",540],["T_VARIABLE","$frameHeight",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","round",541],"(",["T_VARIABLE","$frameWidth",541],["T_WHITESPACE"," ",541],"*",["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_imageSrcHeight",541],["T_WHITESPACE"," ",541],"\/",["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_imageSrcWidth",541],")",")",";",["T_WHITESPACE","\n            ",541],"}",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE"," ",543],["T_ELSE","else",543],["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_IF","if",544],["T_WHITESPACE"," ",544],"(",["T_STRING","null",544],["T_WHITESPACE"," ",544],["T_IS_IDENTICAL","===",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$frameWidth",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n                ",544],["T_VARIABLE","$frameWidth",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$frameHeight",545],";",["T_WHITESPACE","\n            ",545],"}",["T_WHITESPACE"," ",546],["T_ELSEIF","elseif",546],["T_WHITESPACE"," ",546],"(",["T_STRING","null",546],["T_WHITESPACE"," ",546],["T_IS_IDENTICAL","===",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$frameHeight",546],")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n                ",546],["T_VARIABLE","$frameHeight",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_VARIABLE","$frameWidth",547],";",["T_WHITESPACE","\n            ",547],"}",["T_WHITESPACE","\n        ",548],"}",["T_WHITESPACE","\n\n        ",549],["T_COMMENT","\/\/ define coordinates of image inside new frame\n",551],["T_WHITESPACE","        ",552],["T_VARIABLE","$srcX",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_LNUMBER","0",552],";",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$srcY",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_LNUMBER","0",553],";",["T_WHITESPACE","\n        ",553],["T_LIST","list",554],"(",["T_VARIABLE","$dstWidth",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$dstHeight",554],")",["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_checkAspectRatio",554],"(",["T_VARIABLE","$frameWidth",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$frameHeight",554],")",";",["T_WHITESPACE","\n\n        ",554],["T_COMMENT","\/\/ define position in center\n",556],["T_WHITESPACE","        ",557],["T_COMMENT","\/\/ TODO: add positions option\n",557],["T_WHITESPACE","        ",558],["T_VARIABLE","$dstY",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_STRING","round",558],"(","(",["T_VARIABLE","$frameHeight",558],["T_WHITESPACE"," ",558],"-",["T_WHITESPACE"," ",558],["T_VARIABLE","$dstHeight",558],")",["T_WHITESPACE"," ",558],"\/",["T_WHITESPACE"," ",558],["T_LNUMBER","2",558],")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$dstX",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","round",559],"(","(",["T_VARIABLE","$frameWidth",559],["T_WHITESPACE"," ",559],"-",["T_WHITESPACE"," ",559],["T_VARIABLE","$dstWidth",559],")",["T_WHITESPACE"," ",559],"\/",["T_WHITESPACE"," ",559],["T_LNUMBER","2",559],")",";",["T_WHITESPACE","\n\n        ",559],["T_COMMENT","\/\/ get rid of frame (fallback to zero position coordinates)\n",561],["T_WHITESPACE","        ",562],["T_IF","if",562],["T_WHITESPACE"," ",562],"(","!",["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","_keepFrame",562],")",["T_WHITESPACE"," ",562],"{",["T_WHITESPACE","\n            ",562],["T_VARIABLE","$frameWidth",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_VARIABLE","$dstWidth",563],";",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$frameHeight",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_VARIABLE","$dstHeight",564],";",["T_WHITESPACE","\n            ",564],["T_VARIABLE","$dstY",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_LNUMBER","0",565],";",["T_WHITESPACE","\n            ",565],["T_VARIABLE","$dstX",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_LNUMBER","0",566],";",["T_WHITESPACE","\n        ",566],"}",["T_WHITESPACE","\n\n        ",567],["T_RETURN","return",569],["T_WHITESPACE"," ",569],"[",["T_WHITESPACE","\n            ",569],["T_CONSTANT_ENCAPSED_STRING","'src'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],"[",["T_CONSTANT_ENCAPSED_STRING","'x'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$srcX",570],",",["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","'y'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$srcY",570],"]",",",["T_WHITESPACE","\n            ",570],["T_CONSTANT_ENCAPSED_STRING","'dst'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],"[",["T_CONSTANT_ENCAPSED_STRING","'x'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$dstX",571],",",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","'y'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$dstY",571],",",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","'width'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$dstWidth",571],",",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","'height'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$dstHeight",571],"]",",",["T_WHITESPACE","\n            ",571],["T_COMMENT","\/\/ size for new image\n",572],["T_WHITESPACE","            ",573],["T_CONSTANT_ENCAPSED_STRING","'frame'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$frameWidth",573],",",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","'height'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$frameHeight",573],"]",["T_WHITESPACE","\n        ",573],"]",";",["T_WHITESPACE","\n    ",574],"}",["T_WHITESPACE","\n\n    ",575],["T_DOC_COMMENT","\/**\n     * Check aspect ratio\n     *\n     * @param int $frameWidth\n     * @param int $frameHeight\n     * @return int[]\n     *\/",577],["T_WHITESPACE","\n    ",583],["T_PROTECTED","protected",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","_checkAspectRatio",584],"(",["T_VARIABLE","$frameWidth",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$frameHeight",584],")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$dstWidth",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_VARIABLE","$frameWidth",586],";",["T_WHITESPACE","\n        ",586],["T_VARIABLE","$dstHeight",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_VARIABLE","$frameHeight",587],";",["T_WHITESPACE","\n        ",587],["T_IF","if",588],["T_WHITESPACE"," ",588],"(",["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_keepAspectRatio",588],["T_WHITESPACE"," ",588],["T_BOOLEAN_AND","&&",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_checkSrcDimensions",588],"(",")",")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n            ",588],["T_COMMENT","\/\/ do not make picture bigger, than it is, if required\n",589],["T_WHITESPACE","            ",590],["T_IF","if",590],["T_WHITESPACE"," ",590],"(",["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","_constrainOnly",590],")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n                ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_VARIABLE","$frameWidth",591],["T_WHITESPACE"," ",591],["T_IS_GREATER_OR_EQUAL",">=",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","_imageSrcWidth",591],["T_WHITESPACE"," ",591],["T_BOOLEAN_AND","&&",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$frameHeight",591],["T_WHITESPACE"," ",591],["T_IS_GREATER_OR_EQUAL",">=",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","_imageSrcHeight",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n                    ",591],["T_VARIABLE","$dstWidth",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_imageSrcWidth",592],";",["T_WHITESPACE","\n                    ",592],["T_VARIABLE","$dstHeight",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_imageSrcHeight",593],";",["T_WHITESPACE","\n                ",593],"}",["T_WHITESPACE","\n            ",594],"}",["T_WHITESPACE","\n            ",595],["T_COMMENT","\/\/ keep aspect ratio\n",596],["T_WHITESPACE","            ",597],["T_IF","if",597],["T_WHITESPACE"," ",597],"(",["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","_imageSrcWidth",597],["T_WHITESPACE"," ",597],"\/",["T_WHITESPACE"," ",597],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","_imageSrcHeight",597],["T_WHITESPACE"," ",597],["T_IS_GREATER_OR_EQUAL",">=",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$frameWidth",597],["T_WHITESPACE"," ",597],"\/",["T_WHITESPACE"," ",597],["T_VARIABLE","$frameHeight",597],")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n                ",597],["T_VARIABLE","$dstHeight",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_STRING","round",598],"(",["T_VARIABLE","$dstWidth",598],["T_WHITESPACE"," ",598],"\/",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_imageSrcWidth",598],["T_WHITESPACE"," ",598],"*",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_imageSrcHeight",598],")",";",["T_WHITESPACE","\n            ",598],"}",["T_WHITESPACE"," ",599],["T_ELSE","else",599],["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n                ",599],["T_VARIABLE","$dstWidth",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_STRING","round",600],"(",["T_VARIABLE","$dstHeight",600],["T_WHITESPACE"," ",600],"\/",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","_imageSrcHeight",600],["T_WHITESPACE"," ",600],"*",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","_imageSrcWidth",600],")",";",["T_WHITESPACE","\n            ",600],"}",["T_WHITESPACE","\n        ",601],"}",["T_WHITESPACE","\n        ",602],["T_RETURN","return",603],["T_WHITESPACE"," ",603],"[",["T_VARIABLE","$dstWidth",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$dstHeight",603],"]",";",["T_WHITESPACE","\n    ",603],"}",["T_WHITESPACE","\n\n    ",604],["T_DOC_COMMENT","\/**\n     * Check Frame dimensions and throw exception if they are not valid\n     *\n     * @param int $frameWidth\n     * @param int $frameHeight\n     * @return void\n     * @throws \\Exception\n     *\/",606],["T_WHITESPACE","\n    ",613],["T_PROTECTED","protected",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","_checkDimensions",614],"(",["T_VARIABLE","$frameWidth",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$frameHeight",614],")",["T_WHITESPACE","\n    ",614],"{",["T_WHITESPACE","\n        ",615],["T_IF","if",616],["T_WHITESPACE"," ",616],"(",["T_VARIABLE","$frameWidth",616],["T_WHITESPACE"," ",616],["T_IS_NOT_IDENTICAL","!==",616],["T_WHITESPACE"," ",616],["T_STRING","null",616],["T_WHITESPACE"," ",616],["T_BOOLEAN_AND","&&",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$frameWidth",616],["T_WHITESPACE"," ",616],["T_IS_SMALLER_OR_EQUAL","<=",616],["T_WHITESPACE"," ",616],["T_LNUMBER","0",616],["T_WHITESPACE"," ",616],["T_BOOLEAN_OR","||",616],["T_WHITESPACE","\n            ",616],["T_VARIABLE","$frameHeight",617],["T_WHITESPACE"," ",617],["T_IS_NOT_IDENTICAL","!==",617],["T_WHITESPACE"," ",617],["T_STRING","null",617],["T_WHITESPACE"," ",617],["T_BOOLEAN_AND","&&",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$frameHeight",617],["T_WHITESPACE"," ",617],["T_IS_SMALLER_OR_EQUAL","<=",617],["T_WHITESPACE"," ",617],["T_LNUMBER","0",617],["T_WHITESPACE"," ",617],["T_BOOLEAN_OR","||",617],["T_WHITESPACE","\n            ",617],["T_EMPTY","empty",618],"(",["T_VARIABLE","$frameWidth",618],")",["T_WHITESPACE"," ",618],["T_BOOLEAN_AND","&&",618],["T_WHITESPACE"," ",618],["T_EMPTY","empty",618],"(",["T_VARIABLE","$frameHeight",618],")",["T_WHITESPACE","\n        ",618],")",["T_WHITESPACE"," ",619],"{",["T_WHITESPACE","\n            ",619],["T_THROW","throw",620],["T_WHITESPACE"," ",620],["T_NEW","new",620],["T_WHITESPACE"," ",620],["T_NS_SEPARATOR","\\",620],["T_STRING","Exception",620],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid image dimensions.'",620],")",";",["T_WHITESPACE","\n        ",620],"}",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n\n    ",622],["T_DOC_COMMENT","\/**\n     * Return false if source width or height is empty\n     *\n     * @return bool\n     *\/",624],["T_WHITESPACE","\n    ",628],["T_PROTECTED","protected",629],["T_WHITESPACE"," ",629],["T_FUNCTION","function",629],["T_WHITESPACE"," ",629],["T_STRING","_checkSrcDimensions",629],"(",")",["T_WHITESPACE","\n    ",629],"{",["T_WHITESPACE","\n        ",630],["T_RETURN","return",631],["T_WHITESPACE"," ",631],"!",["T_EMPTY","empty",631],"(",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_imageSrcWidth",631],")",["T_WHITESPACE"," ",631],["T_BOOLEAN_AND","&&",631],["T_WHITESPACE"," ",631],"!",["T_EMPTY","empty",631],"(",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_imageSrcHeight",631],")",";",["T_WHITESPACE","\n    ",631],"}",["T_WHITESPACE","\n\n    ",632],["T_DOC_COMMENT","\/**\n     * Return information about image using getimagesize function\n     *\n     * @param string $filePath\n     * @return array\n     *\/",634],["T_WHITESPACE","\n    ",639],["T_PROTECTED","protected",640],["T_WHITESPACE"," ",640],["T_FUNCTION","function",640],["T_WHITESPACE"," ",640],["T_STRING","_getImageOptions",640],"(",["T_VARIABLE","$filePath",640],")",["T_WHITESPACE","\n    ",640],"{",["T_WHITESPACE","\n        ",641],["T_RETURN","return",642],["T_WHITESPACE"," ",642],["T_STRING","getimagesize",642],"(",["T_VARIABLE","$filePath",642],")",";",["T_WHITESPACE","\n    ",642],"}",["T_WHITESPACE","\n\n    ",643],["T_DOC_COMMENT","\/**\n     * Return supported image formats\n     *\n     * @return string[]\n     *\/",645],["T_WHITESPACE","\n    ",649],["T_PUBLIC","public",650],["T_WHITESPACE"," ",650],["T_FUNCTION","function",650],["T_WHITESPACE"," ",650],["T_STRING","getSupportedFormats",650],"(",")",["T_WHITESPACE","\n    ",650],"{",["T_WHITESPACE","\n        ",651],["T_RETURN","return",652],["T_WHITESPACE"," ",652],"[",["T_CONSTANT_ENCAPSED_STRING","'gif'",652],",",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",652],",",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'jpg'",652],",",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'png'",652],"]",";",["T_WHITESPACE","\n    ",652],"}",["T_WHITESPACE","\n\n    ",653],["T_DOC_COMMENT","\/**\n     * Create destination folder if not exists and return full file path\n     *\n     * @param string $destination\n     * @param string $newName\n     * @return string\n     * @throws \\Exception\n     *\/",655],["T_WHITESPACE","\n    ",662],["T_PROTECTED","protected",663],["T_WHITESPACE"," ",663],["T_FUNCTION","function",663],["T_WHITESPACE"," ",663],["T_STRING","_prepareDestination",663],"(",["T_VARIABLE","$destination",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_STRING","null",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$newName",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_STRING","null",663],")",["T_WHITESPACE","\n    ",663],"{",["T_WHITESPACE","\n        ",664],["T_IF","if",665],["T_WHITESPACE"," ",665],"(",["T_EMPTY","empty",665],"(",["T_VARIABLE","$destination",665],")",")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n            ",665],["T_VARIABLE","$destination",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","_fileSrcPath",666],";",["T_WHITESPACE","\n        ",666],"}",["T_WHITESPACE"," ",667],["T_ELSE","else",667],["T_WHITESPACE"," ",667],"{",["T_WHITESPACE","\n            ",667],["T_IF","if",668],["T_WHITESPACE"," ",668],"(",["T_EMPTY","empty",668],"(",["T_VARIABLE","$newName",668],")",")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n                ",668],["T_VARIABLE","$info",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_STRING","pathinfo",669],"(",["T_VARIABLE","$destination",669],")",";",["T_WHITESPACE","\n                ",669],["T_VARIABLE","$newName",670],["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_VARIABLE","$info",670],"[",["T_CONSTANT_ENCAPSED_STRING","'basename'",670],"]",";",["T_WHITESPACE","\n                ",670],["T_VARIABLE","$destination",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_VARIABLE","$info",671],"[",["T_CONSTANT_ENCAPSED_STRING","'dirname'",671],"]",";",["T_WHITESPACE","\n            ",671],"}",["T_WHITESPACE","\n        ",672],"}",["T_WHITESPACE","\n\n        ",673],["T_IF","if",675],["T_WHITESPACE"," ",675],"(",["T_EMPTY","empty",675],"(",["T_VARIABLE","$newName",675],")",")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n            ",675],["T_VARIABLE","$newFileName",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","_fileSrcName",676],";",["T_WHITESPACE","\n        ",676],"}",["T_WHITESPACE"," ",677],["T_ELSE","else",677],["T_WHITESPACE"," ",677],"{",["T_WHITESPACE","\n            ",677],["T_VARIABLE","$newFileName",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_VARIABLE","$newName",678],";",["T_WHITESPACE","\n        ",678],"}",["T_WHITESPACE","\n        ",679],["T_VARIABLE","$fileName",680],["T_WHITESPACE"," ",680],"=",["T_WHITESPACE"," ",680],["T_VARIABLE","$destination",680],["T_WHITESPACE"," ",680],".",["T_WHITESPACE"," ",680],["T_CONSTANT_ENCAPSED_STRING","'\/'",680],["T_WHITESPACE"," ",680],".",["T_WHITESPACE"," ",680],["T_VARIABLE","$newFileName",680],";",["T_WHITESPACE","\n\n        ",680],["T_IF","if",682],["T_WHITESPACE"," ",682],"(","!",["T_STRING","is_writable",682],"(",["T_VARIABLE","$destination",682],")",")",["T_WHITESPACE"," ",682],"{",["T_WHITESPACE","\n            ",682],["T_TRY","try",683],["T_WHITESPACE"," ",683],"{",["T_WHITESPACE","\n                ",683],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","directoryWrite",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","create",684],"(",["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","directoryWrite",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","getRelativePath",684],"(",["T_VARIABLE","$destination",684],")",")",";",["T_WHITESPACE","\n            ",684],"}",["T_WHITESPACE"," ",685],["T_CATCH","catch",685],["T_WHITESPACE"," ",685],"(",["T_NS_SEPARATOR","\\",685],["T_STRING","Magento",685],["T_NS_SEPARATOR","\\",685],["T_STRING","Framework",685],["T_NS_SEPARATOR","\\",685],["T_STRING","Exception",685],["T_NS_SEPARATOR","\\",685],["T_STRING","FileSystemException",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$e",685],")",["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n                ",685],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","logger",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","critical",686],"(",["T_VARIABLE","$e",686],")",";",["T_WHITESPACE","\n                ",686],["T_THROW","throw",687],["T_WHITESPACE"," ",687],["T_NEW","new",687],["T_WHITESPACE"," ",687],["T_NS_SEPARATOR","\\",687],["T_STRING","Exception",687],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to write file into directory '",687],["T_WHITESPACE"," ",687],".",["T_WHITESPACE"," ",687],["T_VARIABLE","$destination",687],["T_WHITESPACE"," ",687],".",["T_WHITESPACE"," ",687],["T_CONSTANT_ENCAPSED_STRING","'. Access forbidden.'",687],")",";",["T_WHITESPACE","\n            ",687],"}",["T_WHITESPACE","\n        ",688],"}",["T_WHITESPACE","\n\n        ",689],["T_RETURN","return",691],["T_WHITESPACE"," ",691],["T_VARIABLE","$fileName",691],";",["T_WHITESPACE","\n    ",691],"}",["T_WHITESPACE","\n\n    ",692],["T_DOC_COMMENT","\/**\n     * Checks is adapter can work with image\n     *\n     * @return bool\n     *\/",694],["T_WHITESPACE","\n    ",698],["T_PROTECTED","protected",699],["T_WHITESPACE"," ",699],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","_canProcess",699],"(",")",["T_WHITESPACE","\n    ",699],"{",["T_WHITESPACE","\n        ",700],["T_RETURN","return",701],["T_WHITESPACE"," ",701],"!",["T_EMPTY","empty",701],"(",["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","_fileName",701],")",";",["T_WHITESPACE","\n    ",701],"}",["T_WHITESPACE","\n\n    ",702],["T_DOC_COMMENT","\/**\n     * Check - is this file an image\n     *\n     * @param string $filePath\n     * @return bool\n     * @throws \\InvalidArgumentException\n     *\/",704],["T_WHITESPACE","\n    ",710],["T_PUBLIC","public",711],["T_WHITESPACE"," ",711],["T_FUNCTION","function",711],["T_WHITESPACE"," ",711],["T_STRING","validateUploadFile",711],"(",["T_VARIABLE","$filePath",711],")",["T_WHITESPACE","\n    ",711],"{",["T_WHITESPACE","\n        ",712],["T_IF","if",713],["T_WHITESPACE"," ",713],"(","!",["T_STRING","file_exists",713],"(",["T_VARIABLE","$filePath",713],")",")",["T_WHITESPACE"," ",713],"{",["T_WHITESPACE","\n            ",713],["T_THROW","throw",714],["T_WHITESPACE"," ",714],["T_NEW","new",714],["T_WHITESPACE"," ",714],["T_NS_SEPARATOR","\\",714],["T_STRING","InvalidArgumentException",714],"(","\"",["T_ENCAPSED_AND_WHITESPACE","File '",714],["T_CURLY_OPEN","{",714],["T_VARIABLE","$filePath",714],"}",["T_ENCAPSED_AND_WHITESPACE","' does not exists.",714],"\"",")",";",["T_WHITESPACE","\n        ",714],"}",["T_WHITESPACE","\n        ",715],["T_IF","if",716],["T_WHITESPACE"," ",716],"(","!",["T_STRING","getimagesize",716],"(",["T_VARIABLE","$filePath",716],")",")",["T_WHITESPACE"," ",716],"{",["T_WHITESPACE","\n            ",716],["T_THROW","throw",717],["T_WHITESPACE"," ",717],["T_NEW","new",717],["T_WHITESPACE"," ",717],["T_NS_SEPARATOR","\\",717],["T_STRING","InvalidArgumentException",717],"(",["T_CONSTANT_ENCAPSED_STRING","'Disallowed file type.'",717],")",";",["T_WHITESPACE","\n        ",717],"}",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","checkDependencies",719],"(",")",";",["T_WHITESPACE","\n        ",719],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","open",720],"(",["T_VARIABLE","$filePath",720],")",";",["T_WHITESPACE","\n\n        ",720],["T_RETURN","return",722],["T_WHITESPACE"," ",722],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","getImageType",722],"(",")",["T_WHITESPACE"," ",722],["T_IS_NOT_IDENTICAL","!==",722],["T_WHITESPACE"," ",722],["T_STRING","null",722],";",["T_WHITESPACE","\n    ",722],"}",["T_WHITESPACE","\n",723],"}",["T_WHITESPACE","\n",724]]