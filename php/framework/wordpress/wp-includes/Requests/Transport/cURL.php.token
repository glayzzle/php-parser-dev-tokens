[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * cURL HTTP transport\n *\n * @package Requests\n * @subpackage Transport\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * cURL HTTP transport\n *\n * @package Requests\n * @subpackage Transport\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Requests_Transport_cURL",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","Requests_Transport",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\t",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","CURL_7_10_5",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_LNUMBER","0x070A05",16],";",["T_WHITESPACE","\n\t",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","CURL_7_16_2",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_LNUMBER","0x071002",17],";",["T_WHITESPACE","\n\n\t",17],["T_DOC_COMMENT","\/**\n\t * Raw HTTP data\n\t *\n\t * @var string\n\t *\/",19],["T_WHITESPACE","\n\t",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$headers",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","''",24],";",["T_WHITESPACE","\n\n\t",24],["T_DOC_COMMENT","\/**\n\t * Raw body data\n\t *\n\t * @var string\n\t *\/",26],["T_WHITESPACE","\n\t",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$response_data",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","''",31],";",["T_WHITESPACE","\n\n\t",31],["T_DOC_COMMENT","\/**\n\t * Information on the current request\n\t *\n\t * @var array cURL information array, see {@see https:\/\/secure.php.net\/curl_getinfo}\n\t *\/",33],["T_WHITESPACE","\n\t",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$info",38],";",["T_WHITESPACE","\n\n\t",38],["T_DOC_COMMENT","\/**\n\t * Version string\n\t *\n\t * @var long\n\t *\/",40],["T_WHITESPACE","\n\t",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$version",45],";",["T_WHITESPACE","\n\n\t",45],["T_DOC_COMMENT","\/**\n\t * cURL handle\n\t *\n\t * @var resource\n\t *\/",47],["T_WHITESPACE","\n\t",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$handle",52],";",["T_WHITESPACE","\n\n\t",52],["T_DOC_COMMENT","\/**\n\t * Hook dispatcher instance\n\t *\n\t * @var Requests_Hooks\n\t *\/",54],["T_WHITESPACE","\n\t",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$hooks",59],";",["T_WHITESPACE","\n\n\t",59],["T_DOC_COMMENT","\/**\n\t * Have we finished the headers yet?\n\t *\n\t * @var boolean\n\t *\/",61],["T_WHITESPACE","\n\t",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$done_headers",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","false",66],";",["T_WHITESPACE","\n\n\t",66],["T_DOC_COMMENT","\/**\n\t * If streaming to a file, keep the file pointer\n\t *\n\t * @var resource\n\t *\/",68],["T_WHITESPACE","\n\t",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$stream_handle",73],";",["T_WHITESPACE","\n\n\t",73],["T_DOC_COMMENT","\/**\n\t * How many bytes are in the response body?\n\t *\n\t * @var int\n\t *\/",75],["T_WHITESPACE","\n\t",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$response_bytes",80],";",["T_WHITESPACE","\n\n\t",80],["T_DOC_COMMENT","\/**\n\t * What's the maximum number of bytes we should keep?\n\t *\n\t * @var int|bool Byte count, or false if no limit.\n\t *\/",82],["T_WHITESPACE","\n\t",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$response_byte_limit",87],";",["T_WHITESPACE","\n\n\t",87],["T_DOC_COMMENT","\/**\n\t * Constructor\n\t *\/",89],["T_WHITESPACE","\n\t",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","__construct",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\t\t",92],["T_VARIABLE","$curl",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","curl_version",93],"(",")",";",["T_WHITESPACE","\n\t\t",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","version",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$curl",94],"[",["T_CONSTANT_ENCAPSED_STRING","'version_number'",94],"]",";",["T_WHITESPACE","\n\t\t",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","handle",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","curl_init",95],"(",")",";",["T_WHITESPACE","\n\n\t\t",95],["T_STRING","curl_setopt",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","handle",97],",",["T_WHITESPACE"," ",97],["T_STRING","CURLOPT_HEADER",97],",",["T_WHITESPACE"," ",97],["T_STRING","false",97],")",";",["T_WHITESPACE","\n\t\t",97],["T_STRING","curl_setopt",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","handle",98],",",["T_WHITESPACE"," ",98],["T_STRING","CURLOPT_RETURNTRANSFER",98],",",["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],")",";",["T_WHITESPACE","\n\t\t",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","version",99],["T_WHITESPACE"," ",99],["T_IS_GREATER_OR_EQUAL",">=",99],["T_WHITESPACE"," ",99],["T_STRING","self",99],["T_DOUBLE_COLON","::",99],["T_STRING","CURL_7_10_5",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t",99],["T_STRING","curl_setopt",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","handle",100],",",["T_WHITESPACE"," ",100],["T_STRING","CURLOPT_ENCODING",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","''",100],")",";",["T_WHITESPACE","\n\t\t",100],"}",["T_WHITESPACE","\n\t\t",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_STRING","defined",102],"(",["T_CONSTANT_ENCAPSED_STRING","'CURLOPT_PROTOCOLS'",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t\t\t",102],["T_STRING","curl_setopt",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","handle",103],",",["T_WHITESPACE"," ",103],["T_STRING","CURLOPT_PROTOCOLS",103],",",["T_WHITESPACE"," ",103],["T_STRING","CURLPROTO_HTTP",103],["T_WHITESPACE"," ",103],"|",["T_WHITESPACE"," ",103],["T_STRING","CURLPROTO_HTTPS",103],")",";",["T_WHITESPACE","\n\t\t",103],"}",["T_WHITESPACE","\n\t\t",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_STRING","defined",105],"(",["T_CONSTANT_ENCAPSED_STRING","'CURLOPT_REDIR_PROTOCOLS'",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t",105],["T_STRING","curl_setopt",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","handle",106],",",["T_WHITESPACE"," ",106],["T_STRING","CURLOPT_REDIR_PROTOCOLS",106],",",["T_WHITESPACE"," ",106],["T_STRING","CURLPROTO_HTTP",106],["T_WHITESPACE"," ",106],"|",["T_WHITESPACE"," ",106],["T_STRING","CURLPROTO_HTTPS",106],")",";",["T_WHITESPACE","\n\t\t",106],"}",["T_WHITESPACE","\n\t",107],"}",["T_WHITESPACE","\n\n\t",108],["T_DOC_COMMENT","\/**\n\t * Destructor\n\t *\/",110],["T_WHITESPACE","\n\t",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","__destruct",113],"(",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n\t\t",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_STRING","is_resource",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","handle",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n\t\t\t",114],["T_STRING","curl_close",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","handle",115],")",";",["T_WHITESPACE","\n\t\t",115],"}",["T_WHITESPACE","\n\t",116],"}",["T_WHITESPACE","\n\n\t",117],["T_DOC_COMMENT","\/**\n\t * Perform a request\n\t *\n\t * @throws Requests_Exception On a cURL error (`curlerror`)\n\t *\n\t * @param string $url URL to request\n\t * @param array $headers Associative array of request headers\n\t * @param string|array $data Data to send either as the POST body, or as parameters in the URL for a GET\/HEAD\n\t * @param array $options Request options, see {@see Requests::response()} for documentation\n\t * @return string Raw HTTP result\n\t *\/",119],["T_WHITESPACE","\n\t",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","request",130],"(",["T_VARIABLE","$url",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$headers",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",",",["T_WHITESPACE"," ",130],["T_VARIABLE","$data",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",",",["T_WHITESPACE"," ",130],["T_VARIABLE","$options",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t\t",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","hooks",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$options",131],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",131],"]",";",["T_WHITESPACE","\n\n\t\t",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setup_handle",133],"(",["T_VARIABLE","$url",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$headers",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$data",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$options",133],")",";",["T_WHITESPACE","\n\n\t\t",133],["T_VARIABLE","$options",135],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",135],"]",["T_OBJECT_OPERATOR","->",135],["T_STRING","dispatch",135],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.before_send'",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(","&",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","handle",135],")",")",";",["T_WHITESPACE","\n\n\t\t",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$options",137],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",137],"]",["T_WHITESPACE"," ",137],["T_IS_NOT_IDENTICAL","!==",137],["T_WHITESPACE"," ",137],["T_STRING","false",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n\t\t\t",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","stream_handle",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","fopen",138],"(",["T_VARIABLE","$options",138],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",138],"]",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'wb'",138],")",";",["T_WHITESPACE","\n\t\t",138],"}",["T_WHITESPACE","\n\n\t\t",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","response_data",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","''",141],";",["T_WHITESPACE","\n\t\t",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","response_bytes",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],";",["T_WHITESPACE","\n\t\t",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","response_byte_limit",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","false",143],";",["T_WHITESPACE","\n\t\t",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$options",144],"[",["T_CONSTANT_ENCAPSED_STRING","'max_bytes'",144],"]",["T_WHITESPACE"," ",144],["T_IS_NOT_IDENTICAL","!==",144],["T_WHITESPACE"," ",144],["T_STRING","false",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n\t\t\t",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","response_byte_limit",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$options",145],"[",["T_CONSTANT_ENCAPSED_STRING","'max_bytes'",145],"]",";",["T_WHITESPACE","\n\t\t",145],"}",["T_WHITESPACE","\n\n\t\t",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_ISSET","isset",148],"(",["T_VARIABLE","$options",148],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",148],"]",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\t\t\t",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$options",149],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",149],"]",["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_STRING","false",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n\t\t\t\t",149],["T_STRING","curl_setopt",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","handle",150],",",["T_WHITESPACE"," ",150],["T_STRING","CURLOPT_SSL_VERIFYHOST",150],",",["T_WHITESPACE"," ",150],["T_LNUMBER","0",150],")",";",["T_WHITESPACE","\n\t\t\t\t",150],["T_STRING","curl_setopt",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","handle",151],",",["T_WHITESPACE"," ",151],["T_STRING","CURLOPT_SSL_VERIFYPEER",151],",",["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],")",";",["T_WHITESPACE","\n\t\t\t",151],"}",["T_WHITESPACE","\n\t\t\t",152],["T_ELSEIF","elseif",153],["T_WHITESPACE"," ",153],"(",["T_STRING","is_string",153],"(",["T_VARIABLE","$options",153],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",153],"]",")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n\t\t\t\t",153],["T_STRING","curl_setopt",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","handle",154],",",["T_WHITESPACE"," ",154],["T_STRING","CURLOPT_CAINFO",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$options",154],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",154],"]",")",";",["T_WHITESPACE","\n\t\t\t",154],"}",["T_WHITESPACE","\n\t\t",155],"}",["T_WHITESPACE","\n\n\t\t",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_ISSET","isset",158],"(",["T_VARIABLE","$options",158],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyname'",158],"]",")",["T_WHITESPACE"," ",158],["T_BOOLEAN_AND","&&",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$options",158],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyname'",158],"]",["T_WHITESPACE"," ",158],["T_IS_IDENTICAL","===",158],["T_WHITESPACE"," ",158],["T_STRING","false",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n\t\t\t",158],["T_STRING","curl_setopt",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","handle",159],",",["T_WHITESPACE"," ",159],["T_STRING","CURLOPT_SSL_VERIFYHOST",159],",",["T_WHITESPACE"," ",159],["T_LNUMBER","0",159],")",";",["T_WHITESPACE","\n\t\t",159],"}",["T_WHITESPACE","\n\n\t\t",160],["T_STRING","curl_exec",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","handle",162],")",";",["T_WHITESPACE","\n\t\t",162],["T_VARIABLE","$response",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","response_data",163],";",["T_WHITESPACE","\n\n\t\t",163],["T_VARIABLE","$options",165],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",165],"]",["T_OBJECT_OPERATOR","->",165],["T_STRING","dispatch",165],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.after_send'",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",")",";",["T_WHITESPACE","\n\n\t\t",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_STRING","curl_errno",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","handle",167],")",["T_WHITESPACE"," ",167],["T_IS_IDENTICAL","===",167],["T_WHITESPACE"," ",167],["T_LNUMBER","23",167],["T_WHITESPACE"," ",167],["T_BOOLEAN_OR","||",167],["T_WHITESPACE"," ",167],["T_STRING","curl_errno",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","handle",167],")",["T_WHITESPACE"," ",167],["T_IS_IDENTICAL","===",167],["T_WHITESPACE"," ",167],["T_LNUMBER","61",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n\t\t\t",167],["T_COMMENT","\/\/ Reset encoding and try again\n",168],["T_WHITESPACE","\t\t\t",169],["T_STRING","curl_setopt",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","handle",169],",",["T_WHITESPACE"," ",169],["T_STRING","CURLOPT_ENCODING",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'none'",169],")",";",["T_WHITESPACE","\n\n\t\t\t",169],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","response_data",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],";",["T_WHITESPACE","\n\t\t\t",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","response_bytes",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_LNUMBER","0",172],";",["T_WHITESPACE","\n\t\t\t",172],["T_STRING","curl_exec",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","handle",173],")",";",["T_WHITESPACE","\n\t\t\t",173],["T_VARIABLE","$response",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","response_data",174],";",["T_WHITESPACE","\n\t\t",174],"}",["T_WHITESPACE","\n\n\t\t",175],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","process_response",177],"(",["T_VARIABLE","$response",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$options",177],")",";",["T_WHITESPACE","\n\n\t\t",177],["T_COMMENT","\/\/ Need to remove the $this reference from the curl handle.\n",179],["T_WHITESPACE","\t\t",180],["T_COMMENT","\/\/ Otherwise Requests_Transport_cURL wont be garbage collected and the curl_close() will never be called.\n",180],["T_WHITESPACE","\t\t",181],["T_STRING","curl_setopt",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","handle",181],",",["T_WHITESPACE"," ",181],["T_STRING","CURLOPT_HEADERFUNCTION",181],",",["T_WHITESPACE"," ",181],["T_STRING","null",181],")",";",["T_WHITESPACE","\n\t\t",181],["T_STRING","curl_setopt",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","handle",182],",",["T_WHITESPACE"," ",182],["T_STRING","CURLOPT_WRITEFUNCTION",182],",",["T_WHITESPACE"," ",182],["T_STRING","null",182],")",";",["T_WHITESPACE","\n\n\t\t",182],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","headers",184],";",["T_WHITESPACE","\n\t",184],"}",["T_WHITESPACE","\n\n\t",185],["T_DOC_COMMENT","\/**\n\t * Send multiple requests simultaneously\n\t *\n\t * @param array $requests Request data\n\t * @param array $options Global options\n\t * @return array Array of Requests_Response objects (may contain Requests_Exception or string responses as well)\n\t *\/",187],["T_WHITESPACE","\n\t",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","request_multiple",194],"(",["T_VARIABLE","$requests",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$options",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n\t\t",194],["T_COMMENT","\/\/ If you're not requesting, we can't get any responses \u00c2\u00af\\_(\u00e3\u0083\u0084)_\/\u00c2\u00af\n",195],["T_WHITESPACE","\t\t",196],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_EMPTY","empty",196],"(",["T_VARIABLE","$requests",196],")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n\t\t\t",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",")",";",["T_WHITESPACE","\n\t\t",197],"}",["T_WHITESPACE","\n\n\t\t",198],["T_VARIABLE","$multihandle",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","curl_multi_init",200],"(",")",";",["T_WHITESPACE","\n\t\t",200],["T_VARIABLE","$subrequests",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",")",";",["T_WHITESPACE","\n\t\t",201],["T_VARIABLE","$subhandles",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",")",";",["T_WHITESPACE","\n\n\t\t",202],["T_VARIABLE","$class",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","get_class",204],"(",["T_VARIABLE","$this",204],")",";",["T_WHITESPACE","\n\t\t",204],["T_FOREACH","foreach",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$requests",205],["T_WHITESPACE"," ",205],["T_AS","as",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$id",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$request",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n\t\t\t",205],["T_VARIABLE","$subrequests",206],"[",["T_VARIABLE","$id",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$class",206],"(",")",";",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$subhandles",207],"[",["T_VARIABLE","$id",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$subrequests",207],"[",["T_VARIABLE","$id",207],"]",["T_OBJECT_OPERATOR","->",207],["T_STRING","get_subrequest_handle",207],"(",["T_VARIABLE","$request",207],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",207],"]",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$request",207],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",207],"]",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$request",207],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",207],"]",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$request",207],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",207],"]",")",";",["T_WHITESPACE","\n\t\t\t",207],["T_VARIABLE","$request",208],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",208],"]","[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",208],"]",["T_OBJECT_OPERATOR","->",208],["T_STRING","dispatch",208],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.before_multi_add'",208],",",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(","&",["T_VARIABLE","$subhandles",208],"[",["T_VARIABLE","$id",208],"]",")",")",";",["T_WHITESPACE","\n\t\t\t",208],["T_STRING","curl_multi_add_handle",209],"(",["T_VARIABLE","$multihandle",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$subhandles",209],"[",["T_VARIABLE","$id",209],"]",")",";",["T_WHITESPACE","\n\t\t",209],"}",["T_WHITESPACE","\n\n\t\t",210],["T_VARIABLE","$completed",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_LNUMBER","0",212],";",["T_WHITESPACE","\n\t\t",212],["T_VARIABLE","$responses",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",")",";",["T_WHITESPACE","\n\n\t\t",213],["T_VARIABLE","$request",215],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",215],"]",["T_OBJECT_OPERATOR","->",215],["T_STRING","dispatch",215],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.before_multi_exec'",215],",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(","&",["T_VARIABLE","$multihandle",215],")",")",";",["T_WHITESPACE","\n\n\t\t",215],["T_DO","do",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n\t\t\t",217],["T_VARIABLE","$active",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","false",218],";",["T_WHITESPACE","\n\n\t\t\t",218],["T_DO","do",220],["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n\t\t\t\t",220],["T_VARIABLE","$status",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","curl_multi_exec",221],"(",["T_VARIABLE","$multihandle",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$active",221],")",";",["T_WHITESPACE","\n\t\t\t",221],"}",["T_WHITESPACE","\n\t\t\t",222],["T_WHILE","while",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$status",223],["T_WHITESPACE"," ",223],["T_IS_IDENTICAL","===",223],["T_WHITESPACE"," ",223],["T_STRING","CURLM_CALL_MULTI_PERFORM",223],")",";",["T_WHITESPACE","\n\n\t\t\t",223],["T_VARIABLE","$to_process",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",225],["T_COMMENT","\/\/ Read the information as needed\n",227],["T_WHITESPACE","\t\t\t",228],["T_WHILE","while",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$done",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","curl_multi_info_read",228],"(",["T_VARIABLE","$multihandle",228],")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t\t\t",228],["T_VARIABLE","$key",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_STRING","array_search",229],"(",["T_VARIABLE","$done",229],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",229],"]",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$subhandles",229],",",["T_WHITESPACE"," ",229],["T_STRING","true",229],")",";",["T_WHITESPACE","\n\t\t\t\t",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(","!",["T_ISSET","isset",230],"(",["T_VARIABLE","$to_process",230],"[",["T_VARIABLE","$key",230],"]",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n\t\t\t\t\t",230],["T_VARIABLE","$to_process",231],"[",["T_VARIABLE","$key",231],"]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$done",231],";",["T_WHITESPACE","\n\t\t\t\t",231],"}",["T_WHITESPACE","\n\t\t\t",232],"}",["T_WHITESPACE","\n\n\t\t\t",233],["T_COMMENT","\/\/ Parse the finished requests before we start getting the new ones\n",235],["T_WHITESPACE","\t\t\t",236],["T_FOREACH","foreach",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$to_process",236],["T_WHITESPACE"," ",236],["T_AS","as",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$key",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$done",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n\t\t\t\t",236],["T_VARIABLE","$options",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$requests",237],"[",["T_VARIABLE","$key",237],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",237],"]",";",["T_WHITESPACE","\n\t\t\t\t",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_STRING","CURLE_OK",238],["T_WHITESPACE"," ",238],["T_IS_NOT_IDENTICAL","!==",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$done",238],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",238],"]",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n\t\t\t\t\t",238],["T_COMMENT","\/\/get error string for handle.\n",239],["T_WHITESPACE","\t\t\t\t\t",240],["T_VARIABLE","$reason",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","curl_error",240],"(",["T_VARIABLE","$done",240],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",240],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",240],["T_VARIABLE","$exception",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_STRING","Requests_Exception_Transport_cURL",241],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",241],["T_VARIABLE","$reason",242],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",242],["T_STRING","Requests_Exception_Transport_cURL",243],["T_DOUBLE_COLON","::",243],["T_STRING","EASY",243],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",243],["T_VARIABLE","$done",244],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",244],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",244],["T_VARIABLE","$done",245],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",245],"]",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",245],")",";",["T_WHITESPACE","\n\t\t\t\t\t",246],["T_VARIABLE","$responses",247],"[",["T_VARIABLE","$key",247],"]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$exception",247],";",["T_WHITESPACE","\n\t\t\t\t\t",247],["T_VARIABLE","$options",248],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",248],"]",["T_OBJECT_OPERATOR","->",248],["T_STRING","dispatch",248],"(",["T_CONSTANT_ENCAPSED_STRING","'transport.internal.parse_error'",248],",",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(","&",["T_VARIABLE","$responses",248],"[",["T_VARIABLE","$key",248],"]",",",["T_WHITESPACE"," ",248],["T_VARIABLE","$requests",248],"[",["T_VARIABLE","$key",248],"]",")",")",";",["T_WHITESPACE","\n\t\t\t\t",248],"}",["T_WHITESPACE","\n\t\t\t\t",249],["T_ELSE","else",250],["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n\t\t\t\t\t",250],["T_VARIABLE","$responses",251],"[",["T_VARIABLE","$key",251],"]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$subrequests",251],"[",["T_VARIABLE","$key",251],"]",["T_OBJECT_OPERATOR","->",251],["T_STRING","process_response",251],"(",["T_VARIABLE","$subrequests",251],"[",["T_VARIABLE","$key",251],"]",["T_OBJECT_OPERATOR","->",251],["T_STRING","response_data",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$options",251],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",251],["T_VARIABLE","$options",253],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",253],"]",["T_OBJECT_OPERATOR","->",253],["T_STRING","dispatch",253],"(",["T_CONSTANT_ENCAPSED_STRING","'transport.internal.parse_response'",253],",",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(","&",["T_VARIABLE","$responses",253],"[",["T_VARIABLE","$key",253],"]",",",["T_WHITESPACE"," ",253],["T_VARIABLE","$requests",253],"[",["T_VARIABLE","$key",253],"]",")",")",";",["T_WHITESPACE","\n\t\t\t\t",253],"}",["T_WHITESPACE","\n\n\t\t\t\t",254],["T_STRING","curl_multi_remove_handle",256],"(",["T_VARIABLE","$multihandle",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$done",256],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",256],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",256],["T_STRING","curl_close",257],"(",["T_VARIABLE","$done",257],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",257],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",257],["T_IF","if",259],["T_WHITESPACE"," ",259],"(","!",["T_STRING","is_string",259],"(",["T_VARIABLE","$responses",259],"[",["T_VARIABLE","$key",259],"]",")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\t\t\t\t\t",259],["T_VARIABLE","$options",260],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",260],"]",["T_OBJECT_OPERATOR","->",260],["T_STRING","dispatch",260],"(",["T_CONSTANT_ENCAPSED_STRING","'multiple.request.complete'",260],",",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(","&",["T_VARIABLE","$responses",260],"[",["T_VARIABLE","$key",260],"]",",",["T_WHITESPACE"," ",260],["T_VARIABLE","$key",260],")",")",";",["T_WHITESPACE","\n\t\t\t\t",260],"}",["T_WHITESPACE","\n\t\t\t\t",261],["T_VARIABLE","$completed",262],["T_INC","++",262],";",["T_WHITESPACE","\n\t\t\t",262],"}",["T_WHITESPACE","\n\t\t",263],"}",["T_WHITESPACE","\n\t\t",264],["T_WHILE","while",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$active",265],["T_WHITESPACE"," ",265],["T_BOOLEAN_OR","||",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$completed",265],["T_WHITESPACE"," ",265],"<",["T_WHITESPACE"," ",265],["T_STRING","count",265],"(",["T_VARIABLE","$subrequests",265],")",")",";",["T_WHITESPACE","\n\n\t\t",265],["T_VARIABLE","$request",267],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",267],"]","[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",267],"]",["T_OBJECT_OPERATOR","->",267],["T_STRING","dispatch",267],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.after_multi_exec'",267],",",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(","&",["T_VARIABLE","$multihandle",267],")",")",";",["T_WHITESPACE","\n\n\t\t",267],["T_STRING","curl_multi_close",269],"(",["T_VARIABLE","$multihandle",269],")",";",["T_WHITESPACE","\n\n\t\t",269],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$responses",271],";",["T_WHITESPACE","\n\t",271],"}",["T_WHITESPACE","\n\n\t",272],["T_DOC_COMMENT","\/**\n\t * Get the cURL handle for use in a multi-request\n\t *\n\t * @param string $url URL to request\n\t * @param array $headers Associative array of request headers\n\t * @param string|array $data Data to send either as the POST body, or as parameters in the URL for a GET\/HEAD\n\t * @param array $options Request options, see {@see Requests::response()} for documentation\n\t * @return resource Subrequest's cURL handle\n\t *\/",274],["T_WHITESPACE","\n\t",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],"&",["T_STRING","get_subrequest_handle",283],"(",["T_VARIABLE","$url",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$headers",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$data",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$options",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n\t\t",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","setup_handle",284],"(",["T_VARIABLE","$url",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$headers",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$data",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$options",284],")",";",["T_WHITESPACE","\n\n\t\t",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$options",286],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",286],"]",["T_WHITESPACE"," ",286],["T_IS_NOT_IDENTICAL","!==",286],["T_WHITESPACE"," ",286],["T_STRING","false",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n\t\t\t",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","stream_handle",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","fopen",287],"(",["T_VARIABLE","$options",287],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",287],"]",",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'wb'",287],")",";",["T_WHITESPACE","\n\t\t",287],"}",["T_WHITESPACE","\n\n\t\t",288],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","response_data",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","''",290],";",["T_WHITESPACE","\n\t\t",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","response_bytes",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_LNUMBER","0",291],";",["T_WHITESPACE","\n\t\t",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","response_byte_limit",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","false",292],";",["T_WHITESPACE","\n\t\t",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$options",293],"[",["T_CONSTANT_ENCAPSED_STRING","'max_bytes'",293],"]",["T_WHITESPACE"," ",293],["T_IS_NOT_IDENTICAL","!==",293],["T_WHITESPACE"," ",293],["T_STRING","false",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n\t\t\t",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","response_byte_limit",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$options",294],"[",["T_CONSTANT_ENCAPSED_STRING","'max_bytes'",294],"]",";",["T_WHITESPACE","\n\t\t",294],"}",["T_WHITESPACE","\n\t\t",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","hooks",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$options",296],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",296],"]",";",["T_WHITESPACE","\n\n\t\t",296],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","handle",298],";",["T_WHITESPACE","\n\t",298],"}",["T_WHITESPACE","\n\n\t",299],["T_DOC_COMMENT","\/**\n\t * Setup the cURL handle for the given data\n\t *\n\t * @param string $url URL to request\n\t * @param array $headers Associative array of request headers\n\t * @param string|array $data Data to send either as the POST body, or as parameters in the URL for a GET\/HEAD\n\t * @param array $options Request options, see {@see Requests::response()} for documentation\n\t *\/",301],["T_WHITESPACE","\n\t",308],["T_PROTECTED","protected",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","setup_handle",309],"(",["T_VARIABLE","$url",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$headers",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$data",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$options",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n\t\t",309],["T_VARIABLE","$options",310],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",310],"]",["T_OBJECT_OPERATOR","->",310],["T_STRING","dispatch",310],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.before_request'",310],",",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(","&",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","handle",310],")",")",";",["T_WHITESPACE","\n\n\t\t",310],["T_COMMENT","\/\/ Force closing the connection for old versions of cURL (<7.22).\n",312],["T_WHITESPACE","\t\t",313],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_WHITESPACE"," ",313],"!",["T_WHITESPACE"," ",313],["T_ISSET","isset",313],"(",["T_WHITESPACE"," ",313],["T_VARIABLE","$headers",313],"[",["T_CONSTANT_ENCAPSED_STRING","'Connection'",313],"]",["T_WHITESPACE"," ",313],")",["T_WHITESPACE"," ",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n\t\t\t",313],["T_VARIABLE","$headers",314],"[",["T_CONSTANT_ENCAPSED_STRING","'Connection'",314],"]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'close'",314],";",["T_WHITESPACE","\n\t\t",314],"}",["T_WHITESPACE","\n\n\t\t",315],["T_VARIABLE","$headers",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","Requests",317],["T_DOUBLE_COLON","::",317],["T_STRING","flatten",317],"(",["T_VARIABLE","$headers",317],")",";",["T_WHITESPACE","\n\n\t\t",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(","!",["T_EMPTY","empty",319],"(",["T_VARIABLE","$data",319],")",")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n\t\t\t",319],["T_VARIABLE","$data_format",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$options",320],"[",["T_CONSTANT_ENCAPSED_STRING","'data_format'",320],"]",";",["T_WHITESPACE","\n\n\t\t\t",320],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$data_format",322],["T_WHITESPACE"," ",322],["T_IS_IDENTICAL","===",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'query'",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n\t\t\t\t",322],["T_VARIABLE","$url",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","self",323],["T_DOUBLE_COLON","::",323],["T_STRING","format_get",323],"(",["T_VARIABLE","$url",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$data",323],")",";",["T_WHITESPACE","\n\t\t\t\t",323],["T_VARIABLE","$data",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","''",324],";",["T_WHITESPACE","\n\t\t\t",324],"}",["T_WHITESPACE","\n\t\t\t",325],["T_ELSEIF","elseif",326],["T_WHITESPACE"," ",326],"(","!",["T_STRING","is_string",326],"(",["T_VARIABLE","$data",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n\t\t\t\t",326],["T_VARIABLE","$data",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","http_build_query",327],"(",["T_VARIABLE","$data",327],",",["T_WHITESPACE"," ",327],["T_STRING","null",327],",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'&'",327],")",";",["T_WHITESPACE","\n\t\t\t",327],"}",["T_WHITESPACE","\n\t\t",328],"}",["T_WHITESPACE","\n\n\t\t",329],["T_SWITCH","switch",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$options",331],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",331],"]",")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n\t\t\t",331],["T_CASE","case",332],["T_WHITESPACE"," ",332],["T_STRING","Requests",332],["T_DOUBLE_COLON","::",332],["T_STRING","POST",332],":",["T_WHITESPACE","\n\t\t\t\t",332],["T_STRING","curl_setopt",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","handle",333],",",["T_WHITESPACE"," ",333],["T_STRING","CURLOPT_POST",333],",",["T_WHITESPACE"," ",333],["T_STRING","true",333],")",";",["T_WHITESPACE","\n\t\t\t\t",333],["T_STRING","curl_setopt",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","handle",334],",",["T_WHITESPACE"," ",334],["T_STRING","CURLOPT_POSTFIELDS",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$data",334],")",";",["T_WHITESPACE","\n\t\t\t\t",334],["T_BREAK","break",335],";",["T_WHITESPACE","\n\t\t\t",335],["T_CASE","case",336],["T_WHITESPACE"," ",336],["T_STRING","Requests",336],["T_DOUBLE_COLON","::",336],["T_STRING","HEAD",336],":",["T_WHITESPACE","\n\t\t\t\t",336],["T_STRING","curl_setopt",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","handle",337],",",["T_WHITESPACE"," ",337],["T_STRING","CURLOPT_CUSTOMREQUEST",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$options",337],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",337],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",337],["T_STRING","curl_setopt",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","handle",338],",",["T_WHITESPACE"," ",338],["T_STRING","CURLOPT_NOBODY",338],",",["T_WHITESPACE"," ",338],["T_STRING","true",338],")",";",["T_WHITESPACE","\n\t\t\t\t",338],["T_BREAK","break",339],";",["T_WHITESPACE","\n\t\t\t",339],["T_CASE","case",340],["T_WHITESPACE"," ",340],["T_STRING","Requests",340],["T_DOUBLE_COLON","::",340],["T_STRING","TRACE",340],":",["T_WHITESPACE","\n\t\t\t\t",340],["T_STRING","curl_setopt",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","handle",341],",",["T_WHITESPACE"," ",341],["T_STRING","CURLOPT_CUSTOMREQUEST",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$options",341],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",341],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",341],["T_BREAK","break",342],";",["T_WHITESPACE","\n\t\t\t",342],["T_CASE","case",343],["T_WHITESPACE"," ",343],["T_STRING","Requests",343],["T_DOUBLE_COLON","::",343],["T_STRING","PATCH",343],":",["T_WHITESPACE","\n\t\t\t",343],["T_CASE","case",344],["T_WHITESPACE"," ",344],["T_STRING","Requests",344],["T_DOUBLE_COLON","::",344],["T_STRING","PUT",344],":",["T_WHITESPACE","\n\t\t\t",344],["T_CASE","case",345],["T_WHITESPACE"," ",345],["T_STRING","Requests",345],["T_DOUBLE_COLON","::",345],["T_STRING","DELETE",345],":",["T_WHITESPACE","\n\t\t\t",345],["T_CASE","case",346],["T_WHITESPACE"," ",346],["T_STRING","Requests",346],["T_DOUBLE_COLON","::",346],["T_STRING","OPTIONS",346],":",["T_WHITESPACE","\n\t\t\t",346],["T_DEFAULT","default",347],":",["T_WHITESPACE","\n\t\t\t\t",347],["T_STRING","curl_setopt",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","handle",348],",",["T_WHITESPACE"," ",348],["T_STRING","CURLOPT_CUSTOMREQUEST",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$options",348],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",348],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(","!",["T_EMPTY","empty",349],"(",["T_VARIABLE","$data",349],")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n\t\t\t\t\t",349],["T_STRING","curl_setopt",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","handle",350],",",["T_WHITESPACE"," ",350],["T_STRING","CURLOPT_POSTFIELDS",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$data",350],")",";",["T_WHITESPACE","\n\t\t\t\t",350],"}",["T_WHITESPACE","\n\t\t",351],"}",["T_WHITESPACE","\n\n\t\t",352],["T_COMMENT","\/\/ cURL requires a minimum timeout of 1 second when using the system\n",354],["T_WHITESPACE","\t\t",355],["T_COMMENT","\/\/ DNS resolver, as it uses `alarm()`, which is second resolution only.\n",355],["T_WHITESPACE","\t\t",356],["T_COMMENT","\/\/ There's no way to detect which DNS resolver is being used from our\n",356],["T_WHITESPACE","\t\t",357],["T_COMMENT","\/\/ end, so we need to round up regardless of the supplied timeout.\n",357],["T_WHITESPACE","\t\t",358],["T_COMMENT","\/\/\n",358],["T_WHITESPACE","\t\t",359],["T_COMMENT","\/\/ https:\/\/github.com\/curl\/curl\/blob\/4f45240bc84a9aa648c8f7243be7b79e9f9323a5\/lib\/hostip.c#L606-L609\n",359],["T_WHITESPACE","\t\t",360],["T_VARIABLE","$timeout",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","max",360],"(",["T_VARIABLE","$options",360],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",360],"]",",",["T_WHITESPACE"," ",360],["T_LNUMBER","1",360],")",";",["T_WHITESPACE","\n\n\t\t",360],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_STRING","is_int",362],"(",["T_VARIABLE","$timeout",362],")",["T_WHITESPACE"," ",362],["T_BOOLEAN_OR","||",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","version",362],["T_WHITESPACE"," ",362],"<",["T_WHITESPACE"," ",362],["T_STRING","self",362],["T_DOUBLE_COLON","::",362],["T_STRING","CURL_7_16_2",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n\t\t\t",362],["T_STRING","curl_setopt",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","handle",363],",",["T_WHITESPACE"," ",363],["T_STRING","CURLOPT_TIMEOUT",363],",",["T_WHITESPACE"," ",363],["T_STRING","ceil",363],"(",["T_VARIABLE","$timeout",363],")",")",";",["T_WHITESPACE","\n\t\t",363],"}",["T_WHITESPACE","\n\t\t",364],["T_ELSE","else",365],["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n\t\t\t",365],["T_STRING","curl_setopt",366],"(",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","handle",366],",",["T_WHITESPACE"," ",366],["T_STRING","CURLOPT_TIMEOUT_MS",366],",",["T_WHITESPACE"," ",366],["T_STRING","round",366],"(",["T_VARIABLE","$timeout",366],["T_WHITESPACE"," ",366],"*",["T_WHITESPACE"," ",366],["T_LNUMBER","1000",366],")",")",";",["T_WHITESPACE","\n\t\t",366],"}",["T_WHITESPACE","\n\n\t\t",367],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_STRING","is_int",369],"(",["T_VARIABLE","$options",369],"[",["T_CONSTANT_ENCAPSED_STRING","'connect_timeout'",369],"]",")",["T_WHITESPACE"," ",369],["T_BOOLEAN_OR","||",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","version",369],["T_WHITESPACE"," ",369],"<",["T_WHITESPACE"," ",369],["T_STRING","self",369],["T_DOUBLE_COLON","::",369],["T_STRING","CURL_7_16_2",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n\t\t\t",369],["T_STRING","curl_setopt",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","handle",370],",",["T_WHITESPACE"," ",370],["T_STRING","CURLOPT_CONNECTTIMEOUT",370],",",["T_WHITESPACE"," ",370],["T_STRING","ceil",370],"(",["T_VARIABLE","$options",370],"[",["T_CONSTANT_ENCAPSED_STRING","'connect_timeout'",370],"]",")",")",";",["T_WHITESPACE","\n\t\t",370],"}",["T_WHITESPACE","\n\t\t",371],["T_ELSE","else",372],["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n\t\t\t",372],["T_STRING","curl_setopt",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","handle",373],",",["T_WHITESPACE"," ",373],["T_STRING","CURLOPT_CONNECTTIMEOUT_MS",373],",",["T_WHITESPACE"," ",373],["T_STRING","round",373],"(",["T_VARIABLE","$options",373],"[",["T_CONSTANT_ENCAPSED_STRING","'connect_timeout'",373],"]",["T_WHITESPACE"," ",373],"*",["T_WHITESPACE"," ",373],["T_LNUMBER","1000",373],")",")",";",["T_WHITESPACE","\n\t\t",373],"}",["T_WHITESPACE","\n\t\t",374],["T_STRING","curl_setopt",375],"(",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","handle",375],",",["T_WHITESPACE"," ",375],["T_STRING","CURLOPT_URL",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$url",375],")",";",["T_WHITESPACE","\n\t\t",375],["T_STRING","curl_setopt",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","handle",376],",",["T_WHITESPACE"," ",376],["T_STRING","CURLOPT_REFERER",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$url",376],")",";",["T_WHITESPACE","\n\t\t",376],["T_STRING","curl_setopt",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","handle",377],",",["T_WHITESPACE"," ",377],["T_STRING","CURLOPT_USERAGENT",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$options",377],"[",["T_CONSTANT_ENCAPSED_STRING","'useragent'",377],"]",")",";",["T_WHITESPACE","\n\t\t",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(","!",["T_EMPTY","empty",378],"(",["T_VARIABLE","$headers",378],")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n\t\t\t",378],["T_STRING","curl_setopt",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","handle",379],",",["T_WHITESPACE"," ",379],["T_STRING","CURLOPT_HTTPHEADER",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$headers",379],")",";",["T_WHITESPACE","\n\t\t",379],"}",["T_WHITESPACE","\n\t\t",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$options",381],"[",["T_CONSTANT_ENCAPSED_STRING","'protocol_version'",381],"]",["T_WHITESPACE"," ",381],["T_IS_IDENTICAL","===",381],["T_WHITESPACE"," ",381],["T_DNUMBER","1.1",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n\t\t\t",381],["T_STRING","curl_setopt",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","handle",382],",",["T_WHITESPACE"," ",382],["T_STRING","CURLOPT_HTTP_VERSION",382],",",["T_WHITESPACE"," ",382],["T_STRING","CURL_HTTP_VERSION_1_1",382],")",";",["T_WHITESPACE","\n\t\t",382],"}",["T_WHITESPACE","\n\t\t",383],["T_ELSE","else",384],["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n\t\t\t",384],["T_STRING","curl_setopt",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","handle",385],",",["T_WHITESPACE"," ",385],["T_STRING","CURLOPT_HTTP_VERSION",385],",",["T_WHITESPACE"," ",385],["T_STRING","CURL_HTTP_VERSION_1_0",385],")",";",["T_WHITESPACE","\n\t\t",385],"}",["T_WHITESPACE","\n\n\t\t",386],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_STRING","true",388],["T_WHITESPACE"," ",388],["T_IS_IDENTICAL","===",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$options",388],"[",["T_CONSTANT_ENCAPSED_STRING","'blocking'",388],"]",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n\t\t\t",388],["T_STRING","curl_setopt",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","handle",389],",",["T_WHITESPACE"," ",389],["T_STRING","CURLOPT_HEADERFUNCTION",389],",",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(","&",["T_VARIABLE","$this",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'stream_headers'",389],")",")",";",["T_WHITESPACE","\n\t\t\t",389],["T_STRING","curl_setopt",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","handle",390],",",["T_WHITESPACE"," ",390],["T_STRING","CURLOPT_WRITEFUNCTION",390],",",["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(","&",["T_VARIABLE","$this",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'stream_body'",390],")",")",";",["T_WHITESPACE","\n\t\t\t",390],["T_STRING","curl_setopt",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","handle",391],",",["T_WHITESPACE"," ",391],["T_STRING","CURLOPT_BUFFERSIZE",391],",",["T_WHITESPACE"," ",391],["T_STRING","Requests",391],["T_DOUBLE_COLON","::",391],["T_STRING","BUFFER_SIZE",391],")",";",["T_WHITESPACE","\n\t\t",391],"}",["T_WHITESPACE","\n\t",392],"}",["T_WHITESPACE","\n\n\t",393],["T_DOC_COMMENT","\/**\n\t * Process a response\n\t *\n\t * @param string $response Response data from the body\n\t * @param array $options Request options\n\t * @return string HTTP response data including headers\n\t *\/",395],["T_WHITESPACE","\n\t",401],["T_PUBLIC","public",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","process_response",402],"(",["T_VARIABLE","$response",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$options",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n\t\t",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$options",403],"[",["T_CONSTANT_ENCAPSED_STRING","'blocking'",403],"]",["T_WHITESPACE"," ",403],["T_IS_IDENTICAL","===",403],["T_WHITESPACE"," ",403],["T_STRING","false",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n\t\t\t",403],["T_VARIABLE","$fake_headers",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","''",404],";",["T_WHITESPACE","\n\t\t\t",404],["T_VARIABLE","$options",405],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",405],"]",["T_OBJECT_OPERATOR","->",405],["T_STRING","dispatch",405],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.after_request'",405],",",["T_WHITESPACE"," ",405],["T_ARRAY","array",405],"(","&",["T_VARIABLE","$fake_headers",405],")",")",";",["T_WHITESPACE","\n\t\t\t",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_STRING","false",406],";",["T_WHITESPACE","\n\t\t",406],"}",["T_WHITESPACE","\n\t\t",407],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$options",408],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",408],"]",["T_WHITESPACE"," ",408],["T_IS_NOT_IDENTICAL","!==",408],["T_WHITESPACE"," ",408],["T_STRING","false",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n\t\t\t",408],["T_STRING","fclose",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","stream_handle",409],")",";",["T_WHITESPACE","\n\t\t\t",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","headers",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","trim",410],"(",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","headers",410],")",";",["T_WHITESPACE","\n\t\t",410],"}",["T_WHITESPACE","\n\t\t",411],["T_ELSE","else",412],["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n\t\t\t",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","headers",413],["T_WHITESPACE"," ",413],["T_CONCAT_EQUAL",".=",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$response",413],";",["T_WHITESPACE","\n\t\t",413],"}",["T_WHITESPACE","\n\n\t\t",414],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_STRING","curl_errno",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","handle",416],")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n\t\t\t",416],["T_VARIABLE","$error",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_STRING","sprintf",417],"(",["T_WHITESPACE","\n\t\t\t\t",417],["T_CONSTANT_ENCAPSED_STRING","'cURL error %s: %s'",418],",",["T_WHITESPACE","\n\t\t\t\t",418],["T_STRING","curl_errno",419],"(",["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","handle",419],")",",",["T_WHITESPACE","\n\t\t\t\t",419],["T_STRING","curl_error",420],"(",["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","handle",420],")",["T_WHITESPACE","\n\t\t\t",420],")",";",["T_WHITESPACE","\n\t\t\t",421],["T_THROW","throw",422],["T_WHITESPACE"," ",422],["T_NEW","new",422],["T_WHITESPACE"," ",422],["T_STRING","Requests_Exception",422],"(",["T_VARIABLE","$error",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'curlerror'",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","handle",422],")",";",["T_WHITESPACE","\n\t\t",422],"}",["T_WHITESPACE","\n\t\t",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","info",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","curl_getinfo",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","handle",424],")",";",["T_WHITESPACE","\n\n\t\t",424],["T_VARIABLE","$options",426],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",426],"]",["T_OBJECT_OPERATOR","->",426],["T_STRING","dispatch",426],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.after_request'",426],",",["T_WHITESPACE"," ",426],["T_ARRAY","array",426],"(","&",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","headers",426],",",["T_WHITESPACE"," ",426],"&",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","info",426],")",")",";",["T_WHITESPACE","\n\t\t",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","headers",427],";",["T_WHITESPACE","\n\t",427],"}",["T_WHITESPACE","\n\n\t",428],["T_DOC_COMMENT","\/**\n\t * Collect the headers as they are received\n\t *\n\t * @param resource $handle cURL resource\n\t * @param string $headers Header string\n\t * @return integer Length of provided header\n\t *\/",430],["T_WHITESPACE","\n\t",436],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","stream_headers",437],"(",["T_VARIABLE","$handle",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$headers",437],")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n\t\t",437],["T_COMMENT","\/\/ Why do we do this? cURL will send both the final response and any\n",438],["T_WHITESPACE","\t\t",439],["T_COMMENT","\/\/ interim responses, such as a 100 Continue. We don't need that.\n",439],["T_WHITESPACE","\t\t",440],["T_COMMENT","\/\/ (We may want to keep this somewhere just in case)\n",440],["T_WHITESPACE","\t\t",441],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","done_headers",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n\t\t\t",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","headers",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","''",442],";",["T_WHITESPACE","\n\t\t\t",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","done_headers",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_STRING","false",443],";",["T_WHITESPACE","\n\t\t",443],"}",["T_WHITESPACE","\n\t\t",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","headers",445],["T_WHITESPACE"," ",445],["T_CONCAT_EQUAL",".=",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$headers",445],";",["T_WHITESPACE","\n\n\t\t",445],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$headers",447],["T_WHITESPACE"," ",447],["T_IS_IDENTICAL","===",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n\t\t\t",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","done_headers",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_STRING","true",448],";",["T_WHITESPACE","\n\t\t",448],"}",["T_WHITESPACE","\n\t\t",449],["T_RETURN","return",450],["T_WHITESPACE"," ",450],["T_STRING","strlen",450],"(",["T_VARIABLE","$headers",450],")",";",["T_WHITESPACE","\n\t",450],"}",["T_WHITESPACE","\n\n\t",451],["T_DOC_COMMENT","\/**\n\t * Collect data as it's received\n\t *\n\t * @since 1.6.1\n\t *\n\t * @param resource $handle cURL resource\n\t * @param string $data Body data\n\t * @return integer Length of provided data\n\t *\/",453],["T_WHITESPACE","\n\t",461],["T_PUBLIC","public",462],["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","stream_body",462],"(",["T_VARIABLE","$handle",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$data",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n\t\t",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","hooks",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","dispatch",463],"(",["T_CONSTANT_ENCAPSED_STRING","'request.progress'",463],",",["T_WHITESPACE"," ",463],["T_ARRAY","array",463],"(",["T_VARIABLE","$data",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","response_bytes",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","response_byte_limit",463],")",")",";",["T_WHITESPACE","\n\t\t",463],["T_VARIABLE","$data_length",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_STRING","strlen",464],"(",["T_VARIABLE","$data",464],")",";",["T_WHITESPACE","\n\n\t\t",464],["T_COMMENT","\/\/ Are we limiting the response size?\n",466],["T_WHITESPACE","\t\t",467],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","response_byte_limit",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n\t\t\t",467],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","response_bytes",468],["T_WHITESPACE"," ",468],["T_IS_IDENTICAL","===",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","response_byte_limit",468],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n\t\t\t\t",468],["T_COMMENT","\/\/ Already at maximum, move on\n",469],["T_WHITESPACE","\t\t\t\t",470],["T_RETURN","return",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$data_length",470],";",["T_WHITESPACE","\n\t\t\t",470],"}",["T_WHITESPACE","\n\n\t\t\t",471],["T_IF","if",473],["T_WHITESPACE"," ",473],"(","(",["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","response_bytes",473],["T_WHITESPACE"," ",473],"+",["T_WHITESPACE"," ",473],["T_VARIABLE","$data_length",473],")",["T_WHITESPACE"," ",473],">",["T_WHITESPACE"," ",473],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","response_byte_limit",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n\t\t\t\t",473],["T_COMMENT","\/\/ Limit the length\n",474],["T_WHITESPACE","\t\t\t\t",475],["T_VARIABLE","$limited_length",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","response_byte_limit",475],["T_WHITESPACE"," ",475],"-",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","response_bytes",475],")",";",["T_WHITESPACE","\n\t\t\t\t",475],["T_VARIABLE","$data",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","substr",476],"(",["T_VARIABLE","$data",476],",",["T_WHITESPACE"," ",476],["T_LNUMBER","0",476],",",["T_WHITESPACE"," ",476],["T_VARIABLE","$limited_length",476],")",";",["T_WHITESPACE","\n\t\t\t",476],"}",["T_WHITESPACE","\n\t\t",477],"}",["T_WHITESPACE","\n\n\t\t",478],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","stream_handle",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n\t\t\t",480],["T_STRING","fwrite",481],"(",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","stream_handle",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$data",481],")",";",["T_WHITESPACE","\n\t\t",481],"}",["T_WHITESPACE","\n\t\t",482],["T_ELSE","else",483],["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n\t\t\t",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","response_data",484],["T_WHITESPACE"," ",484],["T_CONCAT_EQUAL",".=",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$data",484],";",["T_WHITESPACE","\n\t\t",484],"}",["T_WHITESPACE","\n\n\t\t",485],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","response_bytes",487],["T_WHITESPACE"," ",487],["T_PLUS_EQUAL","+=",487],["T_WHITESPACE"," ",487],["T_STRING","strlen",487],"(",["T_VARIABLE","$data",487],")",";",["T_WHITESPACE","\n\t\t",487],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$data_length",488],";",["T_WHITESPACE","\n\t",488],"}",["T_WHITESPACE","\n\n\t",489],["T_DOC_COMMENT","\/**\n\t * Format a URL given GET data\n\t *\n\t * @param string $url\n\t * @param array|object $data Data to build query using, see {@see https:\/\/secure.php.net\/http_build_query}\n\t * @return string URL with data\n\t *\/",491],["T_WHITESPACE","\n\t",497],["T_PROTECTED","protected",498],["T_WHITESPACE"," ",498],["T_STATIC","static",498],["T_WHITESPACE"," ",498],["T_FUNCTION","function",498],["T_WHITESPACE"," ",498],["T_STRING","format_get",498],"(",["T_VARIABLE","$url",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$data",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n\t\t",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(","!",["T_EMPTY","empty",499],"(",["T_VARIABLE","$data",499],")",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n\t\t\t",499],["T_VARIABLE","$url_parts",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_STRING","parse_url",500],"(",["T_VARIABLE","$url",500],")",";",["T_WHITESPACE","\n\t\t\t",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_EMPTY","empty",501],"(",["T_VARIABLE","$url_parts",501],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",501],"]",")",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n\t\t\t\t",501],["T_VARIABLE","$query",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$url_parts",502],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",502],"]",["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","''",502],";",["T_WHITESPACE","\n\t\t\t",502],"}",["T_WHITESPACE","\n\t\t\t",503],["T_ELSE","else",504],["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n\t\t\t\t",504],["T_VARIABLE","$query",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$url_parts",505],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",505],"]",";",["T_WHITESPACE","\n\t\t\t",505],"}",["T_WHITESPACE","\n\n\t\t\t",506],["T_VARIABLE","$query",508],["T_WHITESPACE"," ",508],["T_CONCAT_EQUAL",".=",508],["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'&'",508],["T_WHITESPACE"," ",508],".",["T_WHITESPACE"," ",508],["T_STRING","http_build_query",508],"(",["T_VARIABLE","$data",508],",",["T_WHITESPACE"," ",508],["T_STRING","null",508],",",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'&'",508],")",";",["T_WHITESPACE","\n\t\t\t",508],["T_VARIABLE","$query",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","trim",509],"(",["T_VARIABLE","$query",509],",",["T_WHITESPACE"," ",509],["T_CONSTANT_ENCAPSED_STRING","'&'",509],")",";",["T_WHITESPACE","\n\n\t\t\t",509],["T_IF","if",511],["T_WHITESPACE"," ",511],"(",["T_EMPTY","empty",511],"(",["T_VARIABLE","$url_parts",511],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",511],"]",")",")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n\t\t\t\t",511],["T_VARIABLE","$url",512],["T_WHITESPACE"," ",512],["T_CONCAT_EQUAL",".=",512],["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","'?'",512],["T_WHITESPACE"," ",512],".",["T_WHITESPACE"," ",512],["T_VARIABLE","$query",512],";",["T_WHITESPACE","\n\t\t\t",512],"}",["T_WHITESPACE","\n\t\t\t",513],["T_ELSE","else",514],["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n\t\t\t\t",514],["T_VARIABLE","$url",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_STRING","str_replace",515],"(",["T_VARIABLE","$url_parts",515],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",515],"]",",",["T_WHITESPACE"," ",515],["T_VARIABLE","$query",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$url",515],")",";",["T_WHITESPACE","\n\t\t\t",515],"}",["T_WHITESPACE","\n\t\t",516],"}",["T_WHITESPACE","\n\t\t",517],["T_RETURN","return",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$url",518],";",["T_WHITESPACE","\n\t",518],"}",["T_WHITESPACE","\n\n\t",519],["T_DOC_COMMENT","\/**\n\t * Whether this transport is valid\n\t *\n\t * @codeCoverageIgnore\n\t * @return boolean True if the transport is valid, false otherwise.\n\t *\/",521],["T_WHITESPACE","\n\t",526],["T_PUBLIC","public",527],["T_WHITESPACE"," ",527],["T_STATIC","static",527],["T_WHITESPACE"," ",527],["T_FUNCTION","function",527],["T_WHITESPACE"," ",527],["T_STRING","test",527],"(",["T_VARIABLE","$capabilities",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_ARRAY","array",527],"(",")",")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n\t\t",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(","!",["T_STRING","function_exists",528],"(",["T_CONSTANT_ENCAPSED_STRING","'curl_init'",528],")",["T_WHITESPACE"," ",528],["T_BOOLEAN_OR","||",528],["T_WHITESPACE"," ",528],"!",["T_STRING","function_exists",528],"(",["T_CONSTANT_ENCAPSED_STRING","'curl_exec'",528],")",")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n\t\t\t",528],["T_RETURN","return",529],["T_WHITESPACE"," ",529],["T_STRING","false",529],";",["T_WHITESPACE","\n\t\t",529],"}",["T_WHITESPACE","\n\n\t\t",530],["T_COMMENT","\/\/ If needed, check that our installed curl version supports SSL\n",532],["T_WHITESPACE","\t\t",533],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_ISSET","isset",533],"(",["T_VARIABLE","$capabilities",533],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",533],"]",")",["T_WHITESPACE"," ",533],["T_BOOLEAN_AND","&&",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$capabilities",533],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",533],"]",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n\t\t\t",533],["T_VARIABLE","$curl_version",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","curl_version",534],"(",")",";",["T_WHITESPACE","\n\t\t\t",534],["T_IF","if",535],["T_WHITESPACE"," ",535],"(","!","(",["T_STRING","CURL_VERSION_SSL",535],["T_WHITESPACE"," ",535],"&",["T_WHITESPACE"," ",535],["T_VARIABLE","$curl_version",535],"[",["T_CONSTANT_ENCAPSED_STRING","'features'",535],"]",")",")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n\t\t\t\t",535],["T_RETURN","return",536],["T_WHITESPACE"," ",536],["T_STRING","false",536],";",["T_WHITESPACE","\n\t\t\t",536],"}",["T_WHITESPACE","\n\t\t",537],"}",["T_WHITESPACE","\n\n\t\t",538],["T_RETURN","return",540],["T_WHITESPACE"," ",540],["T_STRING","true",540],";",["T_WHITESPACE","\n\t",540],"}",["T_WHITESPACE","\n",541],"}",["T_WHITESPACE","\n",542]]