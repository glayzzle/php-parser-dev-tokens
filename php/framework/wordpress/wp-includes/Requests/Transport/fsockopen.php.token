[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * fsockopen HTTP transport\n *\n * @package Requests\n * @subpackage Transport\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * fsockopen HTTP transport\n *\n * @package Requests\n * @subpackage Transport\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Requests_Transport_fsockopen",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","Requests_Transport",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\t",15],["T_DOC_COMMENT","\/**\n\t * Second to microsecond conversion\n\t *\n\t * @var integer\n\t *\/",16],["T_WHITESPACE","\n\t",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","SECOND_IN_MICROSECONDS",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","1000000",21],";",["T_WHITESPACE","\n\n\t",21],["T_DOC_COMMENT","\/**\n\t * Raw HTTP data\n\t *\n\t * @var string\n\t *\/",23],["T_WHITESPACE","\n\t",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$headers",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","''",28],";",["T_WHITESPACE","\n\n\t",28],["T_DOC_COMMENT","\/**\n\t * Stream metadata\n\t *\n\t * @var array Associative array of properties, see {@see https:\/\/secure.php.net\/stream_get_meta_data}\n\t *\/",30],["T_WHITESPACE","\n\t",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$info",35],";",["T_WHITESPACE","\n\n\t",35],["T_DOC_COMMENT","\/**\n\t * What's the maximum number of bytes we should keep?\n\t *\n\t * @var int|bool Byte count, or false if no limit.\n\t *\/",37],["T_WHITESPACE","\n\t",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$max_bytes",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","false",42],";",["T_WHITESPACE","\n\n\t",42],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$connect_error",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","''",44],";",["T_WHITESPACE","\n\n\t",44],["T_DOC_COMMENT","\/**\n\t * Perform a request\n\t *\n\t * @throws Requests_Exception On failure to connect to socket (`fsockopenerror`)\n\t * @throws Requests_Exception On socket timeout (`timeout`)\n\t *\n\t * @param string $url URL to request\n\t * @param array $headers Associative array of request headers\n\t * @param string|array $data Data to send either as the POST body, or as parameters in the URL for a GET\/HEAD\n\t * @param array $options Request options, see {@see Requests::response()} for documentation\n\t * @return string Raw HTTP result\n\t *\/",46],["T_WHITESPACE","\n\t",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","request",58],"(",["T_VARIABLE","$url",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$headers",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",",",["T_WHITESPACE"," ",58],["T_VARIABLE","$data",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",",",["T_WHITESPACE"," ",58],["T_VARIABLE","$options",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n\t\t",58],["T_VARIABLE","$options",59],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",59],"]",["T_OBJECT_OPERATOR","->",59],["T_STRING","dispatch",59],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.before_request'",59],")",";",["T_WHITESPACE","\n\n\t\t",59],["T_VARIABLE","$url_parts",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","parse_url",61],"(",["T_VARIABLE","$url",61],")",";",["T_WHITESPACE","\n\t\t",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_EMPTY","empty",62],"(",["T_VARIABLE","$url_parts",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\t\t\t",62],["T_THROW","throw",63],["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Requests_Exception",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid URL.'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'invalidurl'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$url",63],")",";",["T_WHITESPACE","\n\t\t",63],"}",["T_WHITESPACE","\n\t\t",64],["T_VARIABLE","$host",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$url_parts",65],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",65],"]",";",["T_WHITESPACE","\n\t\t",65],["T_VARIABLE","$context",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","stream_context_create",66],"(",")",";",["T_WHITESPACE","\n\t\t",66],["T_VARIABLE","$verifyname",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","false",67],";",["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$case_insensitive_headers",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","Requests_Utility_CaseInsensitiveDictionary",68],"(",["T_VARIABLE","$headers",68],")",";",["T_WHITESPACE","\n\n\t\t",68],["T_COMMENT","\/\/ HTTPS support\n",70],["T_WHITESPACE","\t\t",71],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_ISSET","isset",71],"(",["T_VARIABLE","$url_parts",71],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",71],"]",")",["T_WHITESPACE"," ",71],["T_BOOLEAN_AND","&&",71],["T_WHITESPACE"," ",71],["T_STRING","strtolower",71],"(",["T_VARIABLE","$url_parts",71],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",71],"]",")",["T_WHITESPACE"," ",71],["T_IS_IDENTICAL","===",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'https'",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n\t\t\t",71],["T_VARIABLE","$remote_socket",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'ssl:\/\/'",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$host",72],";",["T_WHITESPACE","\n\t\t\t",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(","!",["T_ISSET","isset",73],"(",["T_VARIABLE","$url_parts",73],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",73],"]",")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n\t\t\t\t",73],["T_VARIABLE","$url_parts",74],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_LNUMBER","443",74],";",["T_WHITESPACE","\n\t\t\t",74],"}",["T_WHITESPACE","\n\n\t\t\t",75],["T_VARIABLE","$context_options",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_WHITESPACE","\n\t\t\t\t",77],["T_CONSTANT_ENCAPSED_STRING","'verify_peer'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","true",78],",",["T_WHITESPACE","\n\t\t\t\t",78],["T_COMMENT","\/\/ 'CN_match' => $host,\n",79],["T_WHITESPACE","\t\t\t\t",80],["T_CONSTANT_ENCAPSED_STRING","'capture_peer_cert'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","true",80],["T_WHITESPACE","\n\t\t\t",80],")",";",["T_WHITESPACE","\n\t\t\t",81],["T_VARIABLE","$verifyname",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","true",82],";",["T_WHITESPACE","\n\n\t\t\t",82],["T_COMMENT","\/\/ SNI, if enabled (OpenSSL >=0.9.8j)\n",84],["T_WHITESPACE","\t\t\t",85],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_STRING","defined",85],"(",["T_CONSTANT_ENCAPSED_STRING","'OPENSSL_TLSEXT_SERVER_NAME'",85],")",["T_WHITESPACE"," ",85],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE"," ",85],["T_STRING","OPENSSL_TLSEXT_SERVER_NAME",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t\t\t",85],["T_VARIABLE","$context_options",86],"[",["T_CONSTANT_ENCAPSED_STRING","'SNI_enabled'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","true",86],";",["T_WHITESPACE","\n\t\t\t\t",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_ISSET","isset",87],"(",["T_VARIABLE","$options",87],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyname'",87],"]",")",["T_WHITESPACE"," ",87],["T_BOOLEAN_AND","&&",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$options",87],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyname'",87],"]",["T_WHITESPACE"," ",87],["T_IS_IDENTICAL","===",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n\t\t\t\t\t",87],["T_VARIABLE","$context_options",88],"[",["T_CONSTANT_ENCAPSED_STRING","'SNI_enabled'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","false",88],";",["T_WHITESPACE","\n\t\t\t\t",88],"}",["T_WHITESPACE","\n\t\t\t",89],"}",["T_WHITESPACE","\n\n\t\t\t",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_ISSET","isset",92],"(",["T_VARIABLE","$options",92],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\t\t\t\t",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$options",93],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",93],"]",["T_WHITESPACE"," ",93],["T_IS_IDENTICAL","===",93],["T_WHITESPACE"," ",93],["T_STRING","false",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n\t\t\t\t\t",93],["T_VARIABLE","$context_options",94],"[",["T_CONSTANT_ENCAPSED_STRING","'verify_peer'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","false",94],";",["T_WHITESPACE","\n\t\t\t\t",94],"}",["T_WHITESPACE","\n\t\t\t\t",95],["T_ELSEIF","elseif",96],["T_WHITESPACE"," ",96],"(",["T_STRING","is_string",96],"(",["T_VARIABLE","$options",96],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n\t\t\t\t\t",96],["T_VARIABLE","$context_options",97],"[",["T_CONSTANT_ENCAPSED_STRING","'cafile'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$options",97],"[",["T_CONSTANT_ENCAPSED_STRING","'verify'",97],"]",";",["T_WHITESPACE","\n\t\t\t\t",97],"}",["T_WHITESPACE","\n\t\t\t",98],"}",["T_WHITESPACE","\n\n\t\t\t",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_ISSET","isset",101],"(",["T_VARIABLE","$options",101],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyname'",101],"]",")",["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$options",101],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyname'",101],"]",["T_WHITESPACE"," ",101],["T_IS_IDENTICAL","===",101],["T_WHITESPACE"," ",101],["T_STRING","false",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n\t\t\t\t",101],["T_VARIABLE","$context_options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'verify_peer_name'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","false",102],";",["T_WHITESPACE","\n\t\t\t\t",102],["T_VARIABLE","$verifyname",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","false",103],";",["T_WHITESPACE","\n\t\t\t",103],"}",["T_WHITESPACE","\n\n\t\t\t",104],["T_STRING","stream_context_set_option",106],"(",["T_VARIABLE","$context",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'ssl'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$context_options",106],")",")",";",["T_WHITESPACE","\n\t\t",106],"}",["T_WHITESPACE","\n\t\t",107],["T_ELSE","else",108],["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n\t\t\t",108],["T_VARIABLE","$remote_socket",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'tcp:\/\/'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$host",109],";",["T_WHITESPACE","\n\t\t",109],"}",["T_WHITESPACE","\n\n\t\t",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","max_bytes",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$options",112],"[",["T_CONSTANT_ENCAPSED_STRING","'max_bytes'",112],"]",";",["T_WHITESPACE","\n\n\t\t",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(","!",["T_ISSET","isset",114],"(",["T_VARIABLE","$url_parts",114],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",114],"]",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n\t\t\t",114],["T_VARIABLE","$url_parts",115],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_LNUMBER","80",115],";",["T_WHITESPACE","\n\t\t",115],"}",["T_WHITESPACE","\n\t\t",116],["T_VARIABLE","$remote_socket",117],["T_WHITESPACE"," ",117],["T_CONCAT_EQUAL",".=",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","':'",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$url_parts",117],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",117],"]",";",["T_WHITESPACE","\n\n\t\t",117],["T_STRING","set_error_handler",119],"(",["T_ARRAY","array",119],"(",["T_VARIABLE","$this",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'connect_error_handler'",119],")",",",["T_WHITESPACE"," ",119],["T_STRING","E_WARNING",119],["T_WHITESPACE"," ",119],"|",["T_WHITESPACE"," ",119],["T_STRING","E_NOTICE",119],")",";",["T_WHITESPACE","\n\n\t\t",119],["T_VARIABLE","$options",121],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",121],"]",["T_OBJECT_OPERATOR","->",121],["T_STRING","dispatch",121],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.remote_socket'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(","&",["T_VARIABLE","$remote_socket",121],")",")",";",["T_WHITESPACE","\n\n\t\t",121],["T_VARIABLE","$socket",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","stream_socket_client",123],"(",["T_VARIABLE","$remote_socket",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$errno",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$errstr",123],",",["T_WHITESPACE"," ",123],["T_STRING","ceil",123],"(",["T_VARIABLE","$options",123],"[",["T_CONSTANT_ENCAPSED_STRING","'connect_timeout'",123],"]",")",",",["T_WHITESPACE"," ",123],["T_STRING","STREAM_CLIENT_CONNECT",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$context",123],")",";",["T_WHITESPACE","\n\n\t\t",123],["T_STRING","restore_error_handler",125],"(",")",";",["T_WHITESPACE","\n\n\t\t",125],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$verifyname",127],["T_WHITESPACE"," ",127],["T_BOOLEAN_AND","&&",127],["T_WHITESPACE"," ",127],"!",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","verify_certificate_from_context",127],"(",["T_VARIABLE","$host",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$context",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n\t\t\t",127],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","Requests_Exception",128],"(",["T_CONSTANT_ENCAPSED_STRING","'SSL certificate did not match the requested domain name'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'ssl.no_match'",128],")",";",["T_WHITESPACE","\n\t\t",128],"}",["T_WHITESPACE","\n\n\t\t",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_VARIABLE","$socket",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\t\t\t",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$errno",132],["T_WHITESPACE"," ",132],["T_IS_IDENTICAL","===",132],["T_WHITESPACE"," ",132],["T_LNUMBER","0",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n\t\t\t\t",132],["T_COMMENT","\/\/ Connection issue\n",133],["T_WHITESPACE","\t\t\t\t",134],["T_THROW","throw",134],["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","Requests_Exception",134],"(",["T_STRING","rtrim",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","connect_error",134],")",",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'fsockopen.connect_error'",134],")",";",["T_WHITESPACE","\n\t\t\t",134],"}",["T_WHITESPACE","\n\n\t\t\t",135],["T_THROW","throw",137],["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","Requests_Exception",137],"(",["T_VARIABLE","$errstr",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'fsockopenerror'",137],",",["T_WHITESPACE"," ",137],["T_STRING","null",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$errno",137],")",";",["T_WHITESPACE","\n\t\t",137],"}",["T_WHITESPACE","\n\n\t\t",138],["T_VARIABLE","$data_format",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'data_format'",140],"]",";",["T_WHITESPACE","\n\n\t\t",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$data_format",142],["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'query'",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n\t\t\t",142],["T_VARIABLE","$path",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","self",143],["T_DOUBLE_COLON","::",143],["T_STRING","format_get",143],"(",["T_VARIABLE","$url_parts",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$data",143],")",";",["T_WHITESPACE","\n\t\t\t",143],["T_VARIABLE","$data",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","''",144],";",["T_WHITESPACE","\n\t\t",144],"}",["T_WHITESPACE","\n\t\t",145],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n\t\t\t",146],["T_VARIABLE","$path",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","self",147],["T_DOUBLE_COLON","::",147],["T_STRING","format_get",147],"(",["T_VARIABLE","$url_parts",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",")",")",";",["T_WHITESPACE","\n\t\t",147],"}",["T_WHITESPACE","\n\n\t\t",148],["T_VARIABLE","$options",150],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",150],"]",["T_OBJECT_OPERATOR","->",150],["T_STRING","dispatch",150],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.remote_host_path'",150],",",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(","&",["T_VARIABLE","$path",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$url",150],")",")",";",["T_WHITESPACE","\n\n\t\t",150],["T_VARIABLE","$request_body",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],";",["T_WHITESPACE","\n\t\t",152],["T_VARIABLE","$out",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","sprintf",153],"(",["T_CONSTANT_ENCAPSED_STRING","\"%s %s HTTP\/%.1f\\r\\n\"",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$options",153],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",153],"]",",",["T_WHITESPACE"," ",153],["T_VARIABLE","$path",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$options",153],"[",["T_CONSTANT_ENCAPSED_STRING","'protocol_version'",153],"]",")",";",["T_WHITESPACE","\n\n\t\t",153],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$options",155],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",155],"]",["T_WHITESPACE"," ",155],["T_IS_NOT_IDENTICAL","!==",155],["T_WHITESPACE"," ",155],["T_STRING","Requests",155],["T_DOUBLE_COLON","::",155],["T_STRING","TRACE",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n\t\t\t",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_STRING","is_array",156],"(",["T_VARIABLE","$data",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n\t\t\t\t",156],["T_VARIABLE","$request_body",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","http_build_query",157],"(",["T_VARIABLE","$data",157],",",["T_WHITESPACE"," ",157],["T_STRING","null",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'&'",157],")",";",["T_WHITESPACE","\n\t\t\t",157],"}",["T_WHITESPACE","\n\t\t\t",158],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t\t\t",159],["T_VARIABLE","$request_body",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$data",160],";",["T_WHITESPACE","\n\t\t\t",160],"}",["T_WHITESPACE","\n\n\t\t\t",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","!",["T_EMPTY","empty",163],"(",["T_VARIABLE","$data",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n\t\t\t\t",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_ISSET","isset",164],"(",["T_VARIABLE","$case_insensitive_headers",164],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",164],"]",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n\t\t\t\t\t",164],["T_VARIABLE","$headers",165],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","strlen",165],"(",["T_VARIABLE","$request_body",165],")",";",["T_WHITESPACE","\n\t\t\t\t",165],"}",["T_WHITESPACE","\n\n\t\t\t\t",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_ISSET","isset",168],"(",["T_VARIABLE","$case_insensitive_headers",168],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",168],"]",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n\t\t\t\t\t",168],["T_VARIABLE","$headers",169],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded; charset=UTF-8'",169],";",["T_WHITESPACE","\n\t\t\t\t",169],"}",["T_WHITESPACE","\n\t\t\t",170],"}",["T_WHITESPACE","\n\t\t",171],"}",["T_WHITESPACE","\n\n\t\t",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!",["T_ISSET","isset",174],"(",["T_VARIABLE","$case_insensitive_headers",174],"[",["T_CONSTANT_ENCAPSED_STRING","'Host'",174],"]",")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n\t\t\t",174],["T_VARIABLE","$out",175],["T_WHITESPACE"," ",175],["T_CONCAT_EQUAL",".=",175],["T_WHITESPACE"," ",175],["T_STRING","sprintf",175],"(",["T_CONSTANT_ENCAPSED_STRING","'Host: %s'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$url_parts",175],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",175],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",175],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","(",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'http'",177],["T_WHITESPACE"," ",177],["T_IS_IDENTICAL","===",177],["T_WHITESPACE"," ",177],["T_STRING","strtolower",177],"(",["T_VARIABLE","$url_parts",177],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",177],"]",")",["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$url_parts",177],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",177],"]",["T_WHITESPACE"," ",177],["T_IS_NOT_IDENTICAL","!==",177],["T_WHITESPACE"," ",177],["T_LNUMBER","80",177],["T_WHITESPACE"," ",177],")",["T_WHITESPACE"," ",177],["T_BOOLEAN_OR","||",177],["T_WHITESPACE"," ",177],"(",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'https'",177],["T_WHITESPACE"," ",177],["T_IS_IDENTICAL","===",177],["T_WHITESPACE"," ",177],["T_STRING","strtolower",177],"(",["T_VARIABLE","$url_parts",177],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",177],"]",")",["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$url_parts",177],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",177],"]",["T_WHITESPACE"," ",177],["T_IS_NOT_IDENTICAL","!==",177],["T_WHITESPACE"," ",177],["T_LNUMBER","443",177],["T_WHITESPACE"," ",177],")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n\t\t\t\t",177],["T_VARIABLE","$out",178],["T_WHITESPACE"," ",178],["T_CONCAT_EQUAL",".=",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","':'",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_VARIABLE","$url_parts",178],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",178],"]",";",["T_WHITESPACE","\n\t\t\t",178],"}",["T_WHITESPACE","\n\t\t\t",179],["T_VARIABLE","$out",180],["T_WHITESPACE"," ",180],["T_CONCAT_EQUAL",".=",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",180],";",["T_WHITESPACE","\n\t\t",180],"}",["T_WHITESPACE","\n\n\t\t",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!",["T_ISSET","isset",183],"(",["T_VARIABLE","$case_insensitive_headers",183],"[",["T_CONSTANT_ENCAPSED_STRING","'User-Agent'",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n\t\t\t",183],["T_VARIABLE","$out",184],["T_WHITESPACE"," ",184],["T_CONCAT_EQUAL",".=",184],["T_WHITESPACE"," ",184],["T_STRING","sprintf",184],"(",["T_CONSTANT_ENCAPSED_STRING","\"User-Agent: %s\\r\\n\"",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$options",184],"[",["T_CONSTANT_ENCAPSED_STRING","'useragent'",184],"]",")",";",["T_WHITESPACE","\n\t\t",184],"}",["T_WHITESPACE","\n\n\t\t",185],["T_VARIABLE","$accept_encoding",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","accept_encoding",187],"(",")",";",["T_WHITESPACE","\n\t\t",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_ISSET","isset",188],"(",["T_VARIABLE","$case_insensitive_headers",188],"[",["T_CONSTANT_ENCAPSED_STRING","'Accept-Encoding'",188],"]",")",["T_WHITESPACE"," ",188],["T_BOOLEAN_AND","&&",188],["T_WHITESPACE"," ",188],"!",["T_EMPTY","empty",188],"(",["T_VARIABLE","$accept_encoding",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n\t\t\t",188],["T_VARIABLE","$out",189],["T_WHITESPACE"," ",189],["T_CONCAT_EQUAL",".=",189],["T_WHITESPACE"," ",189],["T_STRING","sprintf",189],"(",["T_CONSTANT_ENCAPSED_STRING","\"Accept-Encoding: %s\\r\\n\"",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$accept_encoding",189],")",";",["T_WHITESPACE","\n\t\t",189],"}",["T_WHITESPACE","\n\n\t\t",190],["T_VARIABLE","$headers",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","Requests",192],["T_DOUBLE_COLON","::",192],["T_STRING","flatten",192],"(",["T_VARIABLE","$headers",192],")",";",["T_WHITESPACE","\n\n\t\t",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(","!",["T_EMPTY","empty",194],"(",["T_VARIABLE","$headers",194],")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n\t\t\t",194],["T_VARIABLE","$out",195],["T_WHITESPACE"," ",195],["T_CONCAT_EQUAL",".=",195],["T_WHITESPACE"," ",195],["T_STRING","implode",195],"(",["T_VARIABLE","$headers",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",195],")",["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",195],";",["T_WHITESPACE","\n\t\t",195],"}",["T_WHITESPACE","\n\n\t\t",196],["T_VARIABLE","$options",198],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",198],"]",["T_OBJECT_OPERATOR","->",198],["T_STRING","dispatch",198],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.after_headers'",198],",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(","&",["T_VARIABLE","$out",198],")",")",";",["T_WHITESPACE","\n\n\t\t",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_STRING","substr",200],"(",["T_VARIABLE","$out",200],",",["T_WHITESPACE"," ",200],"-",["T_LNUMBER","2",200],")",["T_WHITESPACE"," ",200],["T_IS_NOT_IDENTICAL","!==",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n\t\t\t",200],["T_VARIABLE","$out",201],["T_WHITESPACE"," ",201],["T_CONCAT_EQUAL",".=",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",201],";",["T_WHITESPACE","\n\t\t",201],"}",["T_WHITESPACE","\n\n\t\t",202],["T_IF","if",204],["T_WHITESPACE"," ",204],"(","!",["T_ISSET","isset",204],"(",["T_VARIABLE","$case_insensitive_headers",204],"[",["T_CONSTANT_ENCAPSED_STRING","'Connection'",204],"]",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t\t\t",204],["T_VARIABLE","$out",205],["T_WHITESPACE"," ",205],["T_CONCAT_EQUAL",".=",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","\"Connection: Close\\r\\n\"",205],";",["T_WHITESPACE","\n\t\t",205],"}",["T_WHITESPACE","\n\n\t\t",206],["T_VARIABLE","$out",208],["T_WHITESPACE"," ",208],["T_CONCAT_EQUAL",".=",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_VARIABLE","$request_body",208],";",["T_WHITESPACE","\n\n\t\t",208],["T_VARIABLE","$options",210],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",210],"]",["T_OBJECT_OPERATOR","->",210],["T_STRING","dispatch",210],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.before_send'",210],",",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(","&",["T_VARIABLE","$out",210],")",")",";",["T_WHITESPACE","\n\n\t\t",210],["T_STRING","fwrite",212],"(",["T_VARIABLE","$socket",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$out",212],")",";",["T_WHITESPACE","\n\t\t",212],["T_VARIABLE","$options",213],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",213],"]",["T_OBJECT_OPERATOR","->",213],["T_STRING","dispatch",213],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.after_send'",213],",",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_VARIABLE","$out",213],")",")",";",["T_WHITESPACE","\n\n\t\t",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(","!",["T_VARIABLE","$options",215],"[",["T_CONSTANT_ENCAPSED_STRING","'blocking'",215],"]",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n\t\t\t",215],["T_STRING","fclose",216],"(",["T_VARIABLE","$socket",216],")",";",["T_WHITESPACE","\n\t\t\t",216],["T_VARIABLE","$fake_headers",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],";",["T_WHITESPACE","\n\t\t\t",217],["T_VARIABLE","$options",218],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",218],"]",["T_OBJECT_OPERATOR","->",218],["T_STRING","dispatch",218],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.after_request'",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(","&",["T_VARIABLE","$fake_headers",218],")",")",";",["T_WHITESPACE","\n\t\t\t",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","''",219],";",["T_WHITESPACE","\n\t\t",219],"}",["T_WHITESPACE","\n\n\t\t",220],["T_VARIABLE","$timeout_sec",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_INT_CAST","(int)",222],["T_WHITESPACE"," ",222],["T_STRING","floor",222],"(",["T_VARIABLE","$options",222],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",222],"]",")",";",["T_WHITESPACE","\n\t\t",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$timeout_sec",223],["T_WHITESPACE"," ",223],["T_IS_EQUAL","==",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$options",223],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",223],"]",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n\t\t\t",223],["T_VARIABLE","$timeout_msec",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_LNUMBER","0",224],";",["T_WHITESPACE","\n\t\t",224],"}",["T_WHITESPACE","\n\t\t",225],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n\t\t\t",226],["T_VARIABLE","$timeout_msec",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","self",227],["T_DOUBLE_COLON","::",227],["T_STRING","SECOND_IN_MICROSECONDS",227],["T_WHITESPACE"," ",227],"*",["T_WHITESPACE"," ",227],["T_VARIABLE","$options",227],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",227],"]",["T_WHITESPACE"," ",227],"%",["T_WHITESPACE"," ",227],["T_STRING","self",227],["T_DOUBLE_COLON","::",227],["T_STRING","SECOND_IN_MICROSECONDS",227],";",["T_WHITESPACE","\n\t\t",227],"}",["T_WHITESPACE","\n\t\t",228],["T_STRING","stream_set_timeout",229],"(",["T_VARIABLE","$socket",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$timeout_sec",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$timeout_msec",229],")",";",["T_WHITESPACE","\n\n\t\t",229],["T_VARIABLE","$response",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$body",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$headers",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","''",231],";",["T_WHITESPACE","\n\t\t",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","info",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","stream_get_meta_data",232],"(",["T_VARIABLE","$socket",232],")",";",["T_WHITESPACE","\n\t\t",232],["T_VARIABLE","$size",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],";",["T_WHITESPACE","\n\t\t",233],["T_VARIABLE","$doingbody",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","false",234],";",["T_WHITESPACE","\n\t\t",234],["T_VARIABLE","$download",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","false",235],";",["T_WHITESPACE","\n\t\t",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$options",236],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",236],"]",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n\t\t\t",236],["T_VARIABLE","$download",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","fopen",237],"(",["T_VARIABLE","$options",237],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",237],"]",",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'wb'",237],")",";",["T_WHITESPACE","\n\t\t",237],"}",["T_WHITESPACE","\n\n\t\t",238],["T_WHILE","while",240],["T_WHITESPACE"," ",240],"(","!",["T_STRING","feof",240],"(",["T_VARIABLE","$socket",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n\t\t\t",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","info",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","stream_get_meta_data",241],"(",["T_VARIABLE","$socket",241],")",";",["T_WHITESPACE","\n\t\t\t",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","info",242],"[",["T_CONSTANT_ENCAPSED_STRING","'timed_out'",242],"]",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n\t\t\t\t",242],["T_THROW","throw",243],["T_WHITESPACE"," ",243],["T_NEW","new",243],["T_WHITESPACE"," ",243],["T_STRING","Requests_Exception",243],"(",["T_CONSTANT_ENCAPSED_STRING","'fsocket timed out'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'timeout'",243],")",";",["T_WHITESPACE","\n\t\t\t",243],"}",["T_WHITESPACE","\n\n\t\t\t",244],["T_VARIABLE","$block",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","fread",246],"(",["T_VARIABLE","$socket",246],",",["T_WHITESPACE"," ",246],["T_STRING","Requests",246],["T_DOUBLE_COLON","::",246],["T_STRING","BUFFER_SIZE",246],")",";",["T_WHITESPACE","\n\t\t\t",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(","!",["T_VARIABLE","$doingbody",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n\t\t\t\t",247],["T_VARIABLE","$response",248],["T_WHITESPACE"," ",248],["T_CONCAT_EQUAL",".=",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$block",248],";",["T_WHITESPACE","\n\t\t\t\t",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_STRING","strpos",249],"(",["T_VARIABLE","$response",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",249],")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n\t\t\t\t\t",249],["T_LIST","list",250],"(",["T_VARIABLE","$headers",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$block",250],")",["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","explode",250],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$response",250],",",["T_WHITESPACE"," ",250],["T_LNUMBER","2",250],")",";",["T_WHITESPACE","\n\t\t\t\t\t",250],["T_VARIABLE","$doingbody",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","true",251],";",["T_WHITESPACE","\n\t\t\t\t",251],"}",["T_WHITESPACE","\n\t\t\t",252],"}",["T_WHITESPACE","\n\n\t\t\t",253],["T_COMMENT","\/\/ Are we in body mode now?\n",255],["T_WHITESPACE","\t\t\t",256],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$doingbody",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n\t\t\t\t",256],["T_VARIABLE","$options",257],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",257],"]",["T_OBJECT_OPERATOR","->",257],["T_STRING","dispatch",257],"(",["T_CONSTANT_ENCAPSED_STRING","'request.progress'",257],",",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",["T_VARIABLE","$block",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$size",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","max_bytes",257],")",")",";",["T_WHITESPACE","\n\t\t\t\t",257],["T_VARIABLE","$data_length",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","strlen",258],"(",["T_VARIABLE","$block",258],")",";",["T_WHITESPACE","\n\t\t\t\t",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","max_bytes",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\t\t\t\t\t",259],["T_COMMENT","\/\/ Have we already hit a limit?\n",260],["T_WHITESPACE","\t\t\t\t\t",261],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$size",261],["T_WHITESPACE"," ",261],["T_IS_IDENTICAL","===",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","max_bytes",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",261],["T_CONTINUE","continue",262],";",["T_WHITESPACE","\n\t\t\t\t\t",262],"}",["T_WHITESPACE","\n\t\t\t\t\t",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(","(",["T_VARIABLE","$size",264],["T_WHITESPACE"," ",264],"+",["T_WHITESPACE"," ",264],["T_VARIABLE","$data_length",264],")",["T_WHITESPACE"," ",264],">",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","max_bytes",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",264],["T_COMMENT","\/\/ Limit the length\n",265],["T_WHITESPACE","\t\t\t\t\t\t",266],["T_VARIABLE","$limited_length",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","max_bytes",266],["T_WHITESPACE"," ",266],"-",["T_WHITESPACE"," ",266],["T_VARIABLE","$size",266],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",266],["T_VARIABLE","$block",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","substr",267],"(",["T_VARIABLE","$block",267],",",["T_WHITESPACE"," ",267],["T_LNUMBER","0",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$limited_length",267],")",";",["T_WHITESPACE","\n\t\t\t\t\t",267],"}",["T_WHITESPACE","\n\t\t\t\t",268],"}",["T_WHITESPACE","\n\n\t\t\t\t",269],["T_VARIABLE","$size",271],["T_WHITESPACE"," ",271],["T_PLUS_EQUAL","+=",271],["T_WHITESPACE"," ",271],["T_STRING","strlen",271],"(",["T_VARIABLE","$block",271],")",";",["T_WHITESPACE","\n\t\t\t\t",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$download",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n\t\t\t\t\t",272],["T_STRING","fwrite",273],"(",["T_VARIABLE","$download",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$block",273],")",";",["T_WHITESPACE","\n\t\t\t\t",273],"}",["T_WHITESPACE","\n\t\t\t\t",274],["T_ELSE","else",275],["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n\t\t\t\t\t",275],["T_VARIABLE","$body",276],["T_WHITESPACE"," ",276],["T_CONCAT_EQUAL",".=",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$block",276],";",["T_WHITESPACE","\n\t\t\t\t",276],"}",["T_WHITESPACE","\n\t\t\t",277],"}",["T_WHITESPACE","\n\t\t",278],"}",["T_WHITESPACE","\n\t\t",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","headers",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$headers",280],";",["T_WHITESPACE","\n\n\t\t",280],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$download",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n\t\t\t",282],["T_STRING","fclose",283],"(",["T_VARIABLE","$download",283],")",";",["T_WHITESPACE","\n\t\t",283],"}",["T_WHITESPACE","\n\t\t",284],["T_ELSE","else",285],["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n\t\t\t",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","headers",286],["T_WHITESPACE"," ",286],["T_CONCAT_EQUAL",".=",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",286],["T_WHITESPACE"," ",286],".",["T_WHITESPACE"," ",286],["T_VARIABLE","$body",286],";",["T_WHITESPACE","\n\t\t",286],"}",["T_WHITESPACE","\n\t\t",287],["T_STRING","fclose",288],"(",["T_VARIABLE","$socket",288],")",";",["T_WHITESPACE","\n\n\t\t",288],["T_VARIABLE","$options",290],"[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",290],"]",["T_OBJECT_OPERATOR","->",290],["T_STRING","dispatch",290],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.after_request'",290],",",["T_WHITESPACE"," ",290],["T_ARRAY","array",290],"(","&",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","headers",290],",",["T_WHITESPACE"," ",290],"&",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","info",290],")",")",";",["T_WHITESPACE","\n\t\t",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","headers",291],";",["T_WHITESPACE","\n\t",291],"}",["T_WHITESPACE","\n\n\t",292],["T_DOC_COMMENT","\/**\n\t * Send multiple requests simultaneously\n\t *\n\t * @param array $requests Request data (array of 'url', 'headers', 'data', 'options') as per {@see Requests_Transport::request}\n\t * @param array $options Global options, see {@see Requests::response()} for documentation\n\t * @return array Array of Requests_Response objects (may contain Requests_Exception or string responses as well)\n\t *\/",294],["T_WHITESPACE","\n\t",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","request_multiple",301],"(",["T_VARIABLE","$requests",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$options",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n\t\t",301],["T_VARIABLE","$responses",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",")",";",["T_WHITESPACE","\n\t\t",302],["T_VARIABLE","$class",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","get_class",303],"(",["T_VARIABLE","$this",303],")",";",["T_WHITESPACE","\n\t\t",303],["T_FOREACH","foreach",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$requests",304],["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$id",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$request",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n\t\t\t",304],["T_TRY","try",305],["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n\t\t\t\t",305],["T_VARIABLE","$handler",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_NEW","new",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$class",306],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",306],["T_VARIABLE","$responses",307],"[",["T_VARIABLE","$id",307],"]",["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$handler",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","request",307],"(",["T_VARIABLE","$request",307],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",307],"]",",",["T_WHITESPACE"," ",307],["T_VARIABLE","$request",307],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",307],"]",",",["T_WHITESPACE"," ",307],["T_VARIABLE","$request",307],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",307],"]",",",["T_WHITESPACE"," ",307],["T_VARIABLE","$request",307],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",307],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",307],["T_VARIABLE","$request",309],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",309],"]","[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",309],"]",["T_OBJECT_OPERATOR","->",309],["T_STRING","dispatch",309],"(",["T_CONSTANT_ENCAPSED_STRING","'transport.internal.parse_response'",309],",",["T_WHITESPACE"," ",309],["T_ARRAY","array",309],"(","&",["T_VARIABLE","$responses",309],"[",["T_VARIABLE","$id",309],"]",",",["T_WHITESPACE"," ",309],["T_VARIABLE","$request",309],")",")",";",["T_WHITESPACE","\n\t\t\t",309],"}",["T_WHITESPACE","\n\t\t\t",310],["T_CATCH","catch",311],["T_WHITESPACE"," ",311],"(",["T_STRING","Requests_Exception",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$e",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n\t\t\t\t",311],["T_VARIABLE","$responses",312],"[",["T_VARIABLE","$id",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$e",312],";",["T_WHITESPACE","\n\t\t\t",312],"}",["T_WHITESPACE","\n\n\t\t\t",313],["T_IF","if",315],["T_WHITESPACE"," ",315],"(","!",["T_STRING","is_string",315],"(",["T_VARIABLE","$responses",315],"[",["T_VARIABLE","$id",315],"]",")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n\t\t\t\t",315],["T_VARIABLE","$request",316],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",316],"]","[",["T_CONSTANT_ENCAPSED_STRING","'hooks'",316],"]",["T_OBJECT_OPERATOR","->",316],["T_STRING","dispatch",316],"(",["T_CONSTANT_ENCAPSED_STRING","'multiple.request.complete'",316],",",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(","&",["T_VARIABLE","$responses",316],"[",["T_VARIABLE","$id",316],"]",",",["T_WHITESPACE"," ",316],["T_VARIABLE","$id",316],")",")",";",["T_WHITESPACE","\n\t\t\t",316],"}",["T_WHITESPACE","\n\t\t",317],"}",["T_WHITESPACE","\n\n\t\t",318],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$responses",320],";",["T_WHITESPACE","\n\t",320],"}",["T_WHITESPACE","\n\n\t",321],["T_DOC_COMMENT","\/**\n\t * Retrieve the encodings we can accept\n\t *\n\t * @return string Accept-Encoding header value\n\t *\/",323],["T_WHITESPACE","\n\t",327],["T_PROTECTED","protected",328],["T_WHITESPACE"," ",328],["T_STATIC","static",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","accept_encoding",328],"(",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n\t\t",328],["T_VARIABLE","$type",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",")",";",["T_WHITESPACE","\n\t\t",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_STRING","function_exists",330],"(",["T_CONSTANT_ENCAPSED_STRING","'gzinflate'",330],")",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n\t\t\t",330],["T_VARIABLE","$type",331],"[","]",["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'deflate;q=1.0'",331],";",["T_WHITESPACE","\n\t\t",331],"}",["T_WHITESPACE","\n\n\t\t",332],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_STRING","function_exists",334],"(",["T_CONSTANT_ENCAPSED_STRING","'gzuncompress'",334],")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n\t\t\t",334],["T_VARIABLE","$type",335],"[","]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'compress;q=0.5'",335],";",["T_WHITESPACE","\n\t\t",335],"}",["T_WHITESPACE","\n\n\t\t",336],["T_VARIABLE","$type",338],"[","]",["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'gzip;q=0.5'",338],";",["T_WHITESPACE","\n\n\t\t",338],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_STRING","implode",340],"(",["T_CONSTANT_ENCAPSED_STRING","', '",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$type",340],")",";",["T_WHITESPACE","\n\t",340],"}",["T_WHITESPACE","\n\n\t",341],["T_DOC_COMMENT","\/**\n\t * Format a URL given GET data\n\t *\n\t * @param array $url_parts\n\t * @param array|object $data Data to build query using, see {@see https:\/\/secure.php.net\/http_build_query}\n\t * @return string URL with data\n\t *\/",343],["T_WHITESPACE","\n\t",349],["T_PROTECTED","protected",350],["T_WHITESPACE"," ",350],["T_STATIC","static",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","format_get",350],"(",["T_VARIABLE","$url_parts",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$data",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n\t\t",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(","!",["T_EMPTY","empty",351],"(",["T_VARIABLE","$data",351],")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n\t\t\t",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_EMPTY","empty",352],"(",["T_VARIABLE","$url_parts",352],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",352],"]",")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n\t\t\t\t",352],["T_VARIABLE","$url_parts",353],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","''",353],";",["T_WHITESPACE","\n\t\t\t",353],"}",["T_WHITESPACE","\n\n\t\t\t",354],["T_VARIABLE","$url_parts",356],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",356],"]",["T_WHITESPACE"," ",356],["T_CONCAT_EQUAL",".=",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'&'",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_STRING","http_build_query",356],"(",["T_VARIABLE","$data",356],",",["T_WHITESPACE"," ",356],["T_STRING","null",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'&'",356],")",";",["T_WHITESPACE","\n\t\t\t",356],["T_VARIABLE","$url_parts",357],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",357],"]",["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","trim",357],"(",["T_VARIABLE","$url_parts",357],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",357],"]",",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'&'",357],")",";",["T_WHITESPACE","\n\t\t",357],"}",["T_WHITESPACE","\n\t\t",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_ISSET","isset",359],"(",["T_VARIABLE","$url_parts",359],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",359],"]",")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n\t\t\t",359],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_ISSET","isset",360],"(",["T_VARIABLE","$url_parts",360],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",360],"]",")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n\t\t\t\t",360],["T_VARIABLE","$get",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$url_parts",361],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",361],"]",["T_WHITESPACE"," ",361],".",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'?'",361],["T_WHITESPACE"," ",361],".",["T_WHITESPACE"," ",361],["T_VARIABLE","$url_parts",361],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",361],"]",";",["T_WHITESPACE","\n\t\t\t",361],"}",["T_WHITESPACE","\n\t\t\t",362],["T_ELSE","else",363],["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n\t\t\t\t",363],["T_VARIABLE","$get",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$url_parts",364],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",364],"]",";",["T_WHITESPACE","\n\t\t\t",364],"}",["T_WHITESPACE","\n\t\t",365],"}",["T_WHITESPACE","\n\t\t",366],["T_ELSE","else",367],["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n\t\t\t",367],["T_VARIABLE","$get",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'\/'",368],";",["T_WHITESPACE","\n\t\t",368],"}",["T_WHITESPACE","\n\t\t",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$get",370],";",["T_WHITESPACE","\n\t",370],"}",["T_WHITESPACE","\n\n\t",371],["T_DOC_COMMENT","\/**\n\t * Error handler for stream_socket_client()\n\t *\n\t * @param int $errno Error number (e.g. E_WARNING)\n\t * @param string $errstr Error message\n\t *\/",373],["T_WHITESPACE","\n\t",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","connect_error_handler",379],"(",["T_VARIABLE","$errno",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$errstr",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n\t\t",379],["T_COMMENT","\/\/ Double-check we can handle it\n",380],["T_WHITESPACE","\t\t",381],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","(",["T_VARIABLE","$errno",381],["T_WHITESPACE"," ",381],"&",["T_WHITESPACE"," ",381],["T_STRING","E_WARNING",381],")",["T_WHITESPACE"," ",381],["T_IS_IDENTICAL","===",381],["T_WHITESPACE"," ",381],["T_LNUMBER","0",381],["T_WHITESPACE"," ",381],["T_BOOLEAN_AND","&&",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$errno",381],["T_WHITESPACE"," ",381],"&",["T_WHITESPACE"," ",381],["T_STRING","E_NOTICE",381],")",["T_WHITESPACE"," ",381],["T_IS_IDENTICAL","===",381],["T_WHITESPACE"," ",381],["T_LNUMBER","0",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n\t\t\t",381],["T_COMMENT","\/\/ Return false to indicate the default error handler should engage\n",382],["T_WHITESPACE","\t\t\t",383],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_STRING","false",383],";",["T_WHITESPACE","\n\t\t",383],"}",["T_WHITESPACE","\n\n\t\t",384],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","connect_error",386],["T_WHITESPACE"," ",386],["T_CONCAT_EQUAL",".=",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$errstr",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",386],";",["T_WHITESPACE","\n\t\t",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_STRING","true",387],";",["T_WHITESPACE","\n\t",387],"}",["T_WHITESPACE","\n\n\t",388],["T_DOC_COMMENT","\/**\n\t * Verify the certificate against common name and subject alternative names\n\t *\n\t * Unfortunately, PHP doesn't check the certificate against the alternative\n\t * names, leading things like 'https:\/\/www.github.com\/' to be invalid.\n\t * Instead\n\t *\n\t * @see https:\/\/tools.ietf.org\/html\/rfc2818#section-3.1 RFC2818, Section 3.1\n\t *\n\t * @throws Requests_Exception On failure to connect via TLS (`fsockopen.ssl.connect_error`)\n\t * @throws Requests_Exception On not obtaining a match for the host (`fsockopen.ssl.no_match`)\n\t * @param string $host Host name to verify against\n\t * @param resource $context Stream context\n\t * @return bool\n\t *\/",390],["T_WHITESPACE","\n\t",404],["T_PUBLIC","public",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","verify_certificate_from_context",405],"(",["T_VARIABLE","$host",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$context",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n\t\t",405],["T_VARIABLE","$meta",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_STRING","stream_context_get_options",406],"(",["T_VARIABLE","$context",406],")",";",["T_WHITESPACE","\n\n\t\t",406],["T_COMMENT","\/\/ If we don't have SSL options, then we couldn't make the connection at\n",408],["T_WHITESPACE","\t\t",409],["T_COMMENT","\/\/ all\n",409],["T_WHITESPACE","\t\t",410],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_EMPTY","empty",410],"(",["T_VARIABLE","$meta",410],")",["T_WHITESPACE"," ",410],["T_BOOLEAN_OR","||",410],["T_WHITESPACE"," ",410],["T_EMPTY","empty",410],"(",["T_VARIABLE","$meta",410],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",410],"]",")",["T_WHITESPACE"," ",410],["T_BOOLEAN_OR","||",410],["T_WHITESPACE"," ",410],["T_EMPTY","empty",410],"(",["T_VARIABLE","$meta",410],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",410],"]","[",["T_CONSTANT_ENCAPSED_STRING","'peer_certificate'",410],"]",")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n\t\t\t",410],["T_THROW","throw",411],["T_WHITESPACE"," ",411],["T_NEW","new",411],["T_WHITESPACE"," ",411],["T_STRING","Requests_Exception",411],"(",["T_STRING","rtrim",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","connect_error",411],")",",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'ssl.connect_error'",411],")",";",["T_WHITESPACE","\n\t\t",411],"}",["T_WHITESPACE","\n\n\t\t",412],["T_VARIABLE","$cert",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_STRING","openssl_x509_parse",414],"(",["T_VARIABLE","$meta",414],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",414],"]","[",["T_CONSTANT_ENCAPSED_STRING","'peer_certificate'",414],"]",")",";",["T_WHITESPACE","\n\n\t\t",414],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_STRING","Requests_SSL",416],["T_DOUBLE_COLON","::",416],["T_STRING","verify_certificate",416],"(",["T_VARIABLE","$host",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$cert",416],")",";",["T_WHITESPACE","\n\t",416],"}",["T_WHITESPACE","\n\n\t",417],["T_DOC_COMMENT","\/**\n\t * Whether this transport is valid\n\t *\n\t * @codeCoverageIgnore\n\t * @return boolean True if the transport is valid, false otherwise.\n\t *\/",419],["T_WHITESPACE","\n\t",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_STATIC","static",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","test",425],"(",["T_VARIABLE","$capabilities",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_ARRAY","array",425],"(",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n\t\t",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(","!",["T_STRING","function_exists",426],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen'",426],")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n\t\t\t",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_STRING","false",427],";",["T_WHITESPACE","\n\t\t",427],"}",["T_WHITESPACE","\n\n\t\t",428],["T_COMMENT","\/\/ If needed, check that streams support SSL\n",430],["T_WHITESPACE","\t\t",431],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_ISSET","isset",431],"(",["T_VARIABLE","$capabilities",431],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",431],"]",")",["T_WHITESPACE"," ",431],["T_BOOLEAN_AND","&&",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$capabilities",431],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",431],"]",")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n\t\t\t",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(","!",["T_STRING","extension_loaded",432],"(",["T_CONSTANT_ENCAPSED_STRING","'openssl'",432],")",["T_WHITESPACE"," ",432],["T_BOOLEAN_OR","||",432],["T_WHITESPACE"," ",432],"!",["T_STRING","function_exists",432],"(",["T_CONSTANT_ENCAPSED_STRING","'openssl_x509_parse'",432],")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n\t\t\t\t",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_STRING","false",433],";",["T_WHITESPACE","\n\t\t\t",433],"}",["T_WHITESPACE","\n\n\t\t\t",434],["T_COMMENT","\/\/ Currently broken, thanks to https:\/\/github.com\/facebook\/hhvm\/issues\/2156\n",436],["T_WHITESPACE","\t\t\t",437],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_STRING","defined",437],"(",["T_CONSTANT_ENCAPSED_STRING","'HHVM_VERSION'",437],")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n\t\t\t\t",437],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_STRING","false",438],";",["T_WHITESPACE","\n\t\t\t",438],"}",["T_WHITESPACE","\n\t\t",439],"}",["T_WHITESPACE","\n\n\t\t",440],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_STRING","true",442],";",["T_WHITESPACE","\n\t",442],"}",["T_WHITESPACE","\n",443],"}",["T_WHITESPACE","\n",444]]