[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * HTTP Proxy connection interface\n *\n * @package Requests\n * @subpackage Proxy\n * @since 1.6\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * HTTP Proxy connection interface\n *\n * Provides a handler for connection via an HTTP proxy\n *\n * @package Requests\n * @subpackage Proxy\n * @since 1.6\n *\/",10],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","Requests_Proxy_HTTP",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","Requests_Proxy",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\t",19],["T_DOC_COMMENT","\/**\n\t * Proxy host and port\n\t *\n\t * Notation: \"host:port\" (eg 127.0.0.1:8080 or someproxy.com:3128)\n\t *\n\t * @var string\n\t *\/",20],["T_WHITESPACE","\n\t",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$proxy",27],";",["T_WHITESPACE","\n\n\t",27],["T_DOC_COMMENT","\/**\n\t * Username\n\t *\n\t * @var string\n\t *\/",29],["T_WHITESPACE","\n\t",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$user",34],";",["T_WHITESPACE","\n\n\t",34],["T_DOC_COMMENT","\/**\n\t * Password\n\t *\n\t * @var string\n\t *\/",36],["T_WHITESPACE","\n\t",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$pass",41],";",["T_WHITESPACE","\n\n\t",41],["T_DOC_COMMENT","\/**\n\t * Do we need to authenticate? (ie username & password have been provided)\n\t *\n\t * @var boolean\n\t *\/",43],["T_WHITESPACE","\n\t",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$use_authentication",48],";",["T_WHITESPACE","\n\n\t",48],["T_DOC_COMMENT","\/**\n\t * Constructor\n\t *\n\t * @since 1.6\n\t * @throws Requests_Exception On incorrect number of arguments (`authbasicbadargs`)\n\t * @param array|null $args Array of user and password. Must have exactly two elements\n\t *\/",50],["T_WHITESPACE","\n\t",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_VARIABLE","$args",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n\t\t",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_STRING","is_string",58],"(",["T_VARIABLE","$args",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n\t\t\t",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","proxy",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$args",59],";",["T_WHITESPACE","\n\t\t",59],"}",["T_WHITESPACE","\n\t\t",60],["T_ELSEIF","elseif",61],["T_WHITESPACE"," ",61],"(",["T_STRING","is_array",61],"(",["T_VARIABLE","$args",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n\t\t\t",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_STRING","count",62],"(",["T_VARIABLE","$args",62],")",["T_WHITESPACE"," ",62],["T_IS_EQUAL","==",62],["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\t\t\t\t",62],["T_LIST","list",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","proxy",63],")",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$args",63],";",["T_WHITESPACE","\n\t\t\t",63],"}",["T_WHITESPACE","\n\t\t\t",64],["T_ELSEIF","elseif",65],["T_WHITESPACE"," ",65],"(",["T_STRING","count",65],"(",["T_VARIABLE","$args",65],")",["T_WHITESPACE"," ",65],["T_IS_EQUAL","==",65],["T_WHITESPACE"," ",65],["T_LNUMBER","3",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n\t\t\t\t",65],["T_LIST","list",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","proxy",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","user",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","pass",66],")",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$args",66],";",["T_WHITESPACE","\n\t\t\t\t",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","use_authentication",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","true",67],";",["T_WHITESPACE","\n\t\t\t",67],"}",["T_WHITESPACE","\n\t\t\t",68],["T_ELSE","else",69],["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n\t\t\t\t",69],["T_THROW","throw",70],["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","Requests_Exception",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid number of arguments'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'proxyhttpbadargs'",70],")",";",["T_WHITESPACE","\n\t\t\t",70],"}",["T_WHITESPACE","\n\t\t",71],"}",["T_WHITESPACE","\n\t",72],"}",["T_WHITESPACE","\n\n\t",73],["T_DOC_COMMENT","\/**\n\t * Register the necessary callbacks\n\t *\n\t * @since 1.6\n\t * @see curl_before_send\n\t * @see fsockopen_remote_socket\n\t * @see fsockopen_remote_host_path\n\t * @see fsockopen_header\n\t * @param Requests_Hooks $hooks Hook system\n\t *\/",75],["T_WHITESPACE","\n\t",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","register",85],"(",["T_STRING","Requests_Hooks",85],["T_WHITESPACE"," ",85],"&",["T_VARIABLE","$hooks",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t",85],["T_VARIABLE","$hooks",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","register",86],"(",["T_CONSTANT_ENCAPSED_STRING","'curl.before_send'",86],",",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(","&",["T_VARIABLE","$this",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'curl_before_send'",86],")",")",";",["T_WHITESPACE","\n\n\t\t",86],["T_VARIABLE","$hooks",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","register",88],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.remote_socket'",88],",",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(","&",["T_VARIABLE","$this",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'fsockopen_remote_socket'",88],")",")",";",["T_WHITESPACE","\n\t\t",88],["T_VARIABLE","$hooks",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","register",89],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.remote_host_path'",89],",",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(","&",["T_VARIABLE","$this",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'fsockopen_remote_host_path'",89],")",")",";",["T_WHITESPACE","\n\t\t",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","use_authentication",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n\t\t\t",90],["T_VARIABLE","$hooks",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","register",91],"(",["T_CONSTANT_ENCAPSED_STRING","'fsockopen.after_headers'",91],",",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(","&",["T_VARIABLE","$this",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'fsockopen_header'",91],")",")",";",["T_WHITESPACE","\n\t\t",91],"}",["T_WHITESPACE","\n\t",92],"}",["T_WHITESPACE","\n\n\t",93],["T_DOC_COMMENT","\/**\n\t * Set cURL parameters before the data is sent\n\t *\n\t * @since 1.6\n\t * @param resource $handle cURL resource\n\t *\/",95],["T_WHITESPACE","\n\t",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","curl_before_send",101],"(","&",["T_VARIABLE","$handle",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n\t\t",101],["T_STRING","curl_setopt",102],"(",["T_VARIABLE","$handle",102],",",["T_WHITESPACE"," ",102],["T_STRING","CURLOPT_PROXYTYPE",102],",",["T_WHITESPACE"," ",102],["T_STRING","CURLPROXY_HTTP",102],")",";",["T_WHITESPACE","\n\t\t",102],["T_STRING","curl_setopt",103],"(",["T_VARIABLE","$handle",103],",",["T_WHITESPACE"," ",103],["T_STRING","CURLOPT_PROXY",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","proxy",103],")",";",["T_WHITESPACE","\n\n\t\t",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","use_authentication",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t",105],["T_STRING","curl_setopt",106],"(",["T_VARIABLE","$handle",106],",",["T_WHITESPACE"," ",106],["T_STRING","CURLOPT_PROXYAUTH",106],",",["T_WHITESPACE"," ",106],["T_STRING","CURLAUTH_ANY",106],")",";",["T_WHITESPACE","\n\t\t\t",106],["T_STRING","curl_setopt",107],"(",["T_VARIABLE","$handle",107],",",["T_WHITESPACE"," ",107],["T_STRING","CURLOPT_PROXYUSERPWD",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get_auth_string",107],"(",")",")",";",["T_WHITESPACE","\n\t\t",107],"}",["T_WHITESPACE","\n\t",108],"}",["T_WHITESPACE","\n\n\t",109],["T_DOC_COMMENT","\/**\n\t * Alter remote socket information before opening socket connection\n\t *\n\t * @since 1.6\n\t * @param string $remote_socket Socket connection string\n\t *\/",111],["T_WHITESPACE","\n\t",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","fsockopen_remote_socket",117],"(","&",["T_VARIABLE","$remote_socket",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n\t\t",117],["T_VARIABLE","$remote_socket",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","proxy",118],";",["T_WHITESPACE","\n\t",118],"}",["T_WHITESPACE","\n\n\t",119],["T_DOC_COMMENT","\/**\n\t * Alter remote path before getting stream data\n\t *\n\t * @since 1.6\n\t * @param string $path Path to send in HTTP request string (\"GET ...\")\n\t * @param string $url Full URL we're requesting\n\t *\/",121],["T_WHITESPACE","\n\t",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","fsockopen_remote_host_path",128],"(","&",["T_VARIABLE","$path",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$url",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n\t\t",128],["T_VARIABLE","$path",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$url",129],";",["T_WHITESPACE","\n\t",129],"}",["T_WHITESPACE","\n\n\t",130],["T_DOC_COMMENT","\/**\n\t * Add extra headers to the request before sending\n\t *\n\t * @since 1.6\n\t * @param string $out HTTP header string\n\t *\/",132],["T_WHITESPACE","\n\t",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","fsockopen_header",138],"(","&",["T_VARIABLE","$out",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n\t\t",138],["T_VARIABLE","$out",139],["T_WHITESPACE"," ",139],["T_CONCAT_EQUAL",".=",139],["T_WHITESPACE"," ",139],["T_STRING","sprintf",139],"(",["T_CONSTANT_ENCAPSED_STRING","\"Proxy-Authorization: Basic %s\\r\\n\"",139],",",["T_WHITESPACE"," ",139],["T_STRING","base64_encode",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get_auth_string",139],"(",")",")",")",";",["T_WHITESPACE","\n\t",139],"}",["T_WHITESPACE","\n\n\t",140],["T_DOC_COMMENT","\/**\n\t * Get the authentication string (user:pass)\n\t *\n\t * @since 1.6\n\t * @return string\n\t *\/",142],["T_WHITESPACE","\n\t",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","get_auth_string",148],"(",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\t\t",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","user",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","':'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","pass",149],";",["T_WHITESPACE","\n\t",149],"}",["T_WHITESPACE","\n",150],"}"]