[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * IDNA URL encoder\n *\n * Note: Not fully compliant, as nameprep does nothing yet.\n *\n * @package Requests\n * @subpackage Utilities\n * @see https:\/\/tools.ietf.org\/html\/rfc3490 IDNA specification\n * @see https:\/\/tools.ietf.org\/html\/rfc3492 Punycode\/Bootstrap specification\n *\/",3],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Requests_IDNAEncoder",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t",13],["T_DOC_COMMENT","\/**\n\t * ACE prefix used for IDNA\n\t *\n\t * @see https:\/\/tools.ietf.org\/html\/rfc3490#section-5\n\t * @var string\n\t *\/",14],["T_WHITESPACE","\n\t",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","ACE_PREFIX",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'xn--'",20],";",["T_WHITESPACE","\n\n\t",20],["T_COMMENT","\/**#@+\n\t * Bootstrap constant for Punycode\n\t *\n\t * @see https:\/\/tools.ietf.org\/html\/rfc3492#section-5\n\t * @var int\n\t *\/",22],["T_WHITESPACE","\n\t",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","BOOTSTRAP_BASE",28],["T_WHITESPACE","         ",28],"=",["T_WHITESPACE"," ",28],["T_LNUMBER","36",28],";",["T_WHITESPACE","\n\t",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","BOOTSTRAP_TMIN",29],["T_WHITESPACE","         ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","1",29],";",["T_WHITESPACE","\n\t",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","BOOTSTRAP_TMAX",30],["T_WHITESPACE","         ",30],"=",["T_WHITESPACE"," ",30],["T_LNUMBER","26",30],";",["T_WHITESPACE","\n\t",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","BOOTSTRAP_SKEW",31],["T_WHITESPACE","         ",31],"=",["T_WHITESPACE"," ",31],["T_LNUMBER","38",31],";",["T_WHITESPACE","\n\t",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","BOOTSTRAP_DAMP",32],["T_WHITESPACE","         ",32],"=",["T_WHITESPACE"," ",32],["T_LNUMBER","700",32],";",["T_WHITESPACE","\n\t",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","BOOTSTRAP_INITIAL_BIAS",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_LNUMBER","72",33],";",["T_WHITESPACE","\n\t",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","BOOTSTRAP_INITIAL_N",34],["T_WHITESPACE","    ",34],"=",["T_WHITESPACE"," ",34],["T_LNUMBER","128",34],";",["T_WHITESPACE","\n\t",34],["T_COMMENT","\/**#@-*\/",35],["T_WHITESPACE","\n\n\t",35],["T_DOC_COMMENT","\/**\n\t * Encode a hostname using Punycode\n\t *\n\t * @param string $string Hostname\n\t * @return string Punycode-encoded hostname\n\t *\/",37],["T_WHITESPACE","\n\t",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_STATIC","static",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","encode",43],"(",["T_VARIABLE","$string",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t",43],["T_VARIABLE","$parts",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","explode",44],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$string",44],")",";",["T_WHITESPACE","\n\t\t",44],["T_FOREACH","foreach",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$parts",45],["T_WHITESPACE"," ",45],["T_AS","as",45],["T_WHITESPACE"," ",45],"&",["T_VARIABLE","$part",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n\t\t\t",45],["T_VARIABLE","$part",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","self",46],["T_DOUBLE_COLON","::",46],["T_STRING","to_ascii",46],"(",["T_VARIABLE","$part",46],")",";",["T_WHITESPACE","\n\t\t",46],"}",["T_WHITESPACE","\n\t\t",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_STRING","implode",48],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$parts",48],")",";",["T_WHITESPACE","\n\t",48],"}",["T_WHITESPACE","\n\n\t",49],["T_DOC_COMMENT","\/**\n\t * Convert a UTF-8 string to an ASCII string using Punycode\n\t *\n\t * @throws Requests_Exception Provided string longer than 64 ASCII characters (`idna.provided_too_long`)\n\t * @throws Requests_Exception Prepared string longer than 64 ASCII characters (`idna.prepared_too_long`)\n\t * @throws Requests_Exception Provided string already begins with xn-- (`idna.provided_is_prefixed`)\n\t * @throws Requests_Exception Encoded string longer than 64 ASCII characters (`idna.encoded_too_long`)\n\t *\n\t * @param string $string ASCII or UTF-8 string (max length 64 characters)\n\t * @return string ASCII string\n\t *\/",51],["T_WHITESPACE","\n\t",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_STATIC","static",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","to_ascii",62],"(",["T_VARIABLE","$string",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\t\t",62],["T_COMMENT","\/\/ Step 1: Check if the string is already ASCII\n",63],["T_WHITESPACE","\t\t",64],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_STRING","self",64],["T_DOUBLE_COLON","::",64],["T_STRING","is_ascii",64],"(",["T_VARIABLE","$string",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t\t",64],["T_COMMENT","\/\/ Skip to step 7\n",65],["T_WHITESPACE","\t\t\t",66],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_STRING","strlen",66],"(",["T_VARIABLE","$string",66],")",["T_WHITESPACE"," ",66],"<",["T_WHITESPACE"," ",66],["T_LNUMBER","64",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t\t",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$string",67],";",["T_WHITESPACE","\n\t\t\t",67],"}",["T_WHITESPACE","\n\n\t\t\t",68],["T_THROW","throw",70],["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","Requests_Exception",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Provided string is too long'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'idna.provided_too_long'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$string",70],")",";",["T_WHITESPACE","\n\t\t",70],"}",["T_WHITESPACE","\n\n\t\t",71],["T_COMMENT","\/\/ Step 2: nameprep\n",73],["T_WHITESPACE","\t\t",74],["T_VARIABLE","$string",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","self",74],["T_DOUBLE_COLON","::",74],["T_STRING","nameprep",74],"(",["T_VARIABLE","$string",74],")",";",["T_WHITESPACE","\n\n\t\t",74],["T_COMMENT","\/\/ Step 3: UseSTD3ASCIIRules is false, continue\n",76],["T_WHITESPACE","\t\t",77],["T_COMMENT","\/\/ Step 4: Check if it's ASCII now\n",77],["T_WHITESPACE","\t\t",78],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_STRING","self",78],["T_DOUBLE_COLON","::",78],["T_STRING","is_ascii",78],"(",["T_VARIABLE","$string",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_COMMENT","\/\/ Skip to step 7\n",79],["T_WHITESPACE","\t\t\t",80],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","strlen",80],"(",["T_VARIABLE","$string",80],")",["T_WHITESPACE"," ",80],"<",["T_WHITESPACE"," ",80],["T_LNUMBER","64",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t\t\t",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$string",81],";",["T_WHITESPACE","\n\t\t\t",81],"}",["T_WHITESPACE","\n\n\t\t\t",82],["T_THROW","throw",84],["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","Requests_Exception",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Prepared string is too long'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'idna.prepared_too_long'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$string",84],")",";",["T_WHITESPACE","\n\t\t",84],"}",["T_WHITESPACE","\n\n\t\t",85],["T_COMMENT","\/\/ Step 5: Check ACE prefix\n",87],["T_WHITESPACE","\t\t",88],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_STRING","strpos",88],"(",["T_VARIABLE","$string",88],",",["T_WHITESPACE"," ",88],["T_STRING","self",88],["T_DOUBLE_COLON","::",88],["T_STRING","ACE_PREFIX",88],")",["T_WHITESPACE"," ",88],["T_IS_IDENTICAL","===",88],["T_WHITESPACE"," ",88],["T_LNUMBER","0",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n\t\t\t",88],["T_THROW","throw",89],["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","Requests_Exception",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Provided string begins with ACE prefix'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'idna.provided_is_prefixed'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$string",89],")",";",["T_WHITESPACE","\n\t\t",89],"}",["T_WHITESPACE","\n\n\t\t",90],["T_COMMENT","\/\/ Step 6: Encode with Punycode\n",92],["T_WHITESPACE","\t\t",93],["T_VARIABLE","$string",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","self",93],["T_DOUBLE_COLON","::",93],["T_STRING","punycode_encode",93],"(",["T_VARIABLE","$string",93],")",";",["T_WHITESPACE","\n\n\t\t",93],["T_COMMENT","\/\/ Step 7: Prepend ACE prefix\n",95],["T_WHITESPACE","\t\t",96],["T_VARIABLE","$string",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","ACE_PREFIX",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$string",96],";",["T_WHITESPACE","\n\n\t\t",96],["T_COMMENT","\/\/ Step 8: Check size\n",98],["T_WHITESPACE","\t\t",99],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","strlen",99],"(",["T_VARIABLE","$string",99],")",["T_WHITESPACE"," ",99],"<",["T_WHITESPACE"," ",99],["T_LNUMBER","64",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$string",100],";",["T_WHITESPACE","\n\t\t",100],"}",["T_WHITESPACE","\n\n\t\t",101],["T_THROW","throw",103],["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","Requests_Exception",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Encoded string is too long'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'idna.encoded_too_long'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$string",103],")",";",["T_WHITESPACE","\n\t",103],"}",["T_WHITESPACE","\n\n\t",104],["T_DOC_COMMENT","\/**\n\t * Check whether a given string contains only ASCII characters\n\t *\n\t * @internal (Testing found regex was the fastest implementation)\n\t *\n\t * @param string $string\n\t * @return bool Is the string ASCII-only?\n\t *\/",106],["T_WHITESPACE","\n\t",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_STATIC","static",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","is_ascii",114],"(",["T_VARIABLE","$string",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n\t\t",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],"(",["T_STRING","preg_match",115],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?:[^\\x00-\\x7F])\/'",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$string",115],")",["T_WHITESPACE"," ",115],["T_IS_NOT_IDENTICAL","!==",115],["T_WHITESPACE"," ",115],["T_LNUMBER","1",115],")",";",["T_WHITESPACE","\n\t",115],"}",["T_WHITESPACE","\n\n\t",116],["T_DOC_COMMENT","\/**\n\t * Prepare a string for use as an IDNA name\n\t *\n\t * @todo Implement this based on RFC 3491 and the newer 5891\n\t * @param string $string\n\t * @return string Prepared string\n\t *\/",118],["T_WHITESPACE","\n\t",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_STATIC","static",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","nameprep",125],"(",["T_VARIABLE","$string",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n\t\t",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$string",126],";",["T_WHITESPACE","\n\t",126],"}",["T_WHITESPACE","\n\n\t",127],["T_DOC_COMMENT","\/**\n\t * Convert a UTF-8 string to a UCS-4 codepoint array\n\t *\n\t * Based on Requests_IRI::replace_invalid_with_pct_encoding()\n\t *\n\t * @throws Requests_Exception Invalid UTF-8 codepoint (`idna.invalidcodepoint`)\n\t * @param string $input\n\t * @return array Unicode code points\n\t *\/",129],["T_WHITESPACE","\n\t",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_STATIC","static",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","utf8_to_codepoints",138],"(",["T_VARIABLE","$input",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n\t\t",138],["T_VARIABLE","$codepoints",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",")",";",["T_WHITESPACE","\n\n\t\t",139],["T_COMMENT","\/\/ Get number of bytes\n",141],["T_WHITESPACE","\t\t",142],["T_VARIABLE","$strlen",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","strlen",142],"(",["T_VARIABLE","$input",142],")",";",["T_WHITESPACE","\n\n\t\t",142],["T_FOR","for",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$position",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_LNUMBER","0",144],";",["T_WHITESPACE"," ",144],["T_VARIABLE","$position",144],["T_WHITESPACE"," ",144],"<",["T_WHITESPACE"," ",144],["T_VARIABLE","$strlen",144],";",["T_WHITESPACE"," ",144],["T_VARIABLE","$position",144],["T_INC","++",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n\t\t\t",144],["T_VARIABLE","$value",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","ord",145],"(",["T_VARIABLE","$input",145],"[",["T_VARIABLE","$position",145],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",145],["T_COMMENT","\/\/ One byte sequence:\n",147],["T_WHITESPACE","\t\t\t",148],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","(","~",["T_VARIABLE","$value",148],["T_WHITESPACE"," ",148],"&",["T_WHITESPACE"," ",148],["T_LNUMBER","0x80",148],")",["T_WHITESPACE"," ",148],["T_IS_IDENTICAL","===",148],["T_WHITESPACE"," ",148],["T_LNUMBER","0x80",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\t\t\t\t",148],["T_VARIABLE","$character",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$value",149],";",["T_WHITESPACE","\n\t\t\t\t",149],["T_VARIABLE","$length",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","1",150],";",["T_WHITESPACE","\n\t\t\t\t",150],["T_VARIABLE","$remaining",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],";",["T_WHITESPACE","\n\t\t\t",151],"}",["T_WHITESPACE","\n\t\t\t",152],["T_COMMENT","\/\/ Two byte sequence:\n",153],["T_WHITESPACE","\t\t\t",154],["T_ELSEIF","elseif",154],["T_WHITESPACE"," ",154],"(","(",["T_VARIABLE","$value",154],["T_WHITESPACE"," ",154],"&",["T_WHITESPACE"," ",154],["T_LNUMBER","0xE0",154],")",["T_WHITESPACE"," ",154],["T_IS_IDENTICAL","===",154],["T_WHITESPACE"," ",154],["T_LNUMBER","0xC0",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n\t\t\t\t",154],["T_VARIABLE","$character",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$value",155],["T_WHITESPACE"," ",155],"&",["T_WHITESPACE"," ",155],["T_LNUMBER","0x1F",155],")",["T_WHITESPACE"," ",155],["T_SL","<<",155],["T_WHITESPACE"," ",155],["T_LNUMBER","6",155],";",["T_WHITESPACE","\n\t\t\t\t",155],["T_VARIABLE","$length",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_LNUMBER","2",156],";",["T_WHITESPACE","\n\t\t\t\t",156],["T_VARIABLE","$remaining",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_LNUMBER","1",157],";",["T_WHITESPACE","\n\t\t\t",157],"}",["T_WHITESPACE","\n\t\t\t",158],["T_COMMENT","\/\/ Three byte sequence:\n",159],["T_WHITESPACE","\t\t\t",160],["T_ELSEIF","elseif",160],["T_WHITESPACE"," ",160],"(","(",["T_VARIABLE","$value",160],["T_WHITESPACE"," ",160],"&",["T_WHITESPACE"," ",160],["T_LNUMBER","0xF0",160],")",["T_WHITESPACE"," ",160],["T_IS_IDENTICAL","===",160],["T_WHITESPACE"," ",160],["T_LNUMBER","0xE0",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n\t\t\t\t",160],["T_VARIABLE","$character",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$value",161],["T_WHITESPACE"," ",161],"&",["T_WHITESPACE"," ",161],["T_LNUMBER","0x0F",161],")",["T_WHITESPACE"," ",161],["T_SL","<<",161],["T_WHITESPACE"," ",161],["T_LNUMBER","12",161],";",["T_WHITESPACE","\n\t\t\t\t",161],["T_VARIABLE","$length",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_LNUMBER","3",162],";",["T_WHITESPACE","\n\t\t\t\t",162],["T_VARIABLE","$remaining",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_LNUMBER","2",163],";",["T_WHITESPACE","\n\t\t\t",163],"}",["T_WHITESPACE","\n\t\t\t",164],["T_COMMENT","\/\/ Four byte sequence:\n",165],["T_WHITESPACE","\t\t\t",166],["T_ELSEIF","elseif",166],["T_WHITESPACE"," ",166],"(","(",["T_VARIABLE","$value",166],["T_WHITESPACE"," ",166],"&",["T_WHITESPACE"," ",166],["T_LNUMBER","0xF8",166],")",["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_LNUMBER","0xF0",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n\t\t\t\t",166],["T_VARIABLE","$character",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$value",167],["T_WHITESPACE"," ",167],"&",["T_WHITESPACE"," ",167],["T_LNUMBER","0x07",167],")",["T_WHITESPACE"," ",167],["T_SL","<<",167],["T_WHITESPACE"," ",167],["T_LNUMBER","18",167],";",["T_WHITESPACE","\n\t\t\t\t",167],["T_VARIABLE","$length",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_LNUMBER","4",168],";",["T_WHITESPACE","\n\t\t\t\t",168],["T_VARIABLE","$remaining",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_LNUMBER","3",169],";",["T_WHITESPACE","\n\t\t\t",169],"}",["T_WHITESPACE","\n\t\t\t",170],["T_COMMENT","\/\/ Invalid byte:\n",171],["T_WHITESPACE","\t\t\t",172],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n\t\t\t\t",172],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","Requests_Exception",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Unicode codepoint'",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'idna.invalidcodepoint'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$value",173],")",";",["T_WHITESPACE","\n\t\t\t",173],"}",["T_WHITESPACE","\n\n\t\t\t",174],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$remaining",176],["T_WHITESPACE"," ",176],">",["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n\t\t\t\t",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$position",177],["T_WHITESPACE"," ",177],"+",["T_WHITESPACE"," ",177],["T_VARIABLE","$length",177],["T_WHITESPACE"," ",177],">",["T_WHITESPACE"," ",177],["T_VARIABLE","$strlen",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n\t\t\t\t\t",177],["T_THROW","throw",178],["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","Requests_Exception",178],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Unicode codepoint'",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'idna.invalidcodepoint'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$character",178],")",";",["T_WHITESPACE","\n\t\t\t\t",178],"}",["T_WHITESPACE","\n\t\t\t\t",179],["T_FOR","for",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$position",180],["T_INC","++",180],";",["T_WHITESPACE"," ",180],["T_VARIABLE","$remaining",180],["T_WHITESPACE"," ",180],">",["T_WHITESPACE"," ",180],["T_LNUMBER","0",180],";",["T_WHITESPACE"," ",180],["T_VARIABLE","$position",180],["T_INC","++",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t\t\t",180],["T_VARIABLE","$value",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","ord",181],"(",["T_VARIABLE","$input",181],"[",["T_VARIABLE","$position",181],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",181],["T_COMMENT","\/\/ If it is invalid, count the sequence as invalid and reprocess the current byte:\n",183],["T_WHITESPACE","\t\t\t\t\t",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","(",["T_VARIABLE","$value",184],["T_WHITESPACE"," ",184],"&",["T_WHITESPACE"," ",184],["T_LNUMBER","0xC0",184],")",["T_WHITESPACE"," ",184],["T_IS_NOT_IDENTICAL","!==",184],["T_WHITESPACE"," ",184],["T_LNUMBER","0x80",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",184],["T_THROW","throw",185],["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_STRING","Requests_Exception",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Unicode codepoint'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'idna.invalidcodepoint'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$character",185],")",";",["T_WHITESPACE","\n\t\t\t\t\t",185],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",186],["T_VARIABLE","$character",188],["T_WHITESPACE"," ",188],["T_OR_EQUAL","|=",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$value",188],["T_WHITESPACE"," ",188],"&",["T_WHITESPACE"," ",188],["T_LNUMBER","0x3F",188],")",["T_WHITESPACE"," ",188],["T_SL","<<",188],["T_WHITESPACE"," ",188],"(",["T_DEC","--",188],["T_VARIABLE","$remaining",188],["T_WHITESPACE"," ",188],"*",["T_WHITESPACE"," ",188],["T_LNUMBER","6",188],")",";",["T_WHITESPACE","\n\t\t\t\t",188],"}",["T_WHITESPACE","\n\t\t\t\t",189],["T_VARIABLE","$position",190],["T_DEC","--",190],";",["T_WHITESPACE","\n\t\t\t",190],"}",["T_WHITESPACE","\n\n\t\t\t",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_WHITESPACE","\n\t\t\t\t",193],["T_COMMENT","\/\/ Non-shortest form sequences are invalid\n",194],["T_WHITESPACE","\t\t\t\t   ",195],["T_VARIABLE","$length",195],["T_WHITESPACE"," ",195],">",["T_WHITESPACE"," ",195],["T_LNUMBER","1",195],["T_WHITESPACE"," ",195],["T_BOOLEAN_AND","&&",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$character",195],["T_WHITESPACE"," ",195],["T_IS_SMALLER_OR_EQUAL","<=",195],["T_WHITESPACE"," ",195],["T_LNUMBER","0x7F",195],["T_WHITESPACE","\n\t\t\t\t",195],["T_BOOLEAN_OR","||",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$length",196],["T_WHITESPACE"," ",196],">",["T_WHITESPACE"," ",196],["T_LNUMBER","2",196],["T_WHITESPACE"," ",196],["T_BOOLEAN_AND","&&",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$character",196],["T_WHITESPACE"," ",196],["T_IS_SMALLER_OR_EQUAL","<=",196],["T_WHITESPACE"," ",196],["T_LNUMBER","0x7FF",196],["T_WHITESPACE","\n\t\t\t\t",196],["T_BOOLEAN_OR","||",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$length",197],["T_WHITESPACE"," ",197],">",["T_WHITESPACE"," ",197],["T_LNUMBER","3",197],["T_WHITESPACE"," ",197],["T_BOOLEAN_AND","&&",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$character",197],["T_WHITESPACE"," ",197],["T_IS_SMALLER_OR_EQUAL","<=",197],["T_WHITESPACE"," ",197],["T_LNUMBER","0xFFFF",197],["T_WHITESPACE","\n\t\t\t\t",197],["T_COMMENT","\/\/ Outside of range of ucschar codepoints\n",198],["T_WHITESPACE","\t\t\t\t",199],["T_COMMENT","\/\/ Noncharacters\n",199],["T_WHITESPACE","\t\t\t\t",200],["T_BOOLEAN_OR","||",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$character",200],["T_WHITESPACE"," ",200],"&",["T_WHITESPACE"," ",200],["T_LNUMBER","0xFFFE",200],")",["T_WHITESPACE"," ",200],["T_IS_IDENTICAL","===",200],["T_WHITESPACE"," ",200],["T_LNUMBER","0xFFFE",200],["T_WHITESPACE","\n\t\t\t\t",200],["T_BOOLEAN_OR","||",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$character",201],["T_WHITESPACE"," ",201],["T_IS_GREATER_OR_EQUAL",">=",201],["T_WHITESPACE"," ",201],["T_LNUMBER","0xFDD0",201],["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$character",201],["T_WHITESPACE"," ",201],["T_IS_SMALLER_OR_EQUAL","<=",201],["T_WHITESPACE"," ",201],["T_LNUMBER","0xFDEF",201],["T_WHITESPACE","\n\t\t\t\t",201],["T_BOOLEAN_OR","||",202],["T_WHITESPACE"," ",202],"(",["T_WHITESPACE","\n\t\t\t\t\t",202],["T_COMMENT","\/\/ Everything else not in ucschar\n",203],["T_WHITESPACE","\t\t\t\t\t   ",204],["T_VARIABLE","$character",204],["T_WHITESPACE"," ",204],">",["T_WHITESPACE"," ",204],["T_LNUMBER","0xD7FF",204],["T_WHITESPACE"," ",204],["T_BOOLEAN_AND","&&",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$character",204],["T_WHITESPACE"," ",204],"<",["T_WHITESPACE"," ",204],["T_LNUMBER","0xF900",204],["T_WHITESPACE","\n\t\t\t\t\t",204],["T_BOOLEAN_OR","||",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$character",205],["T_WHITESPACE"," ",205],"<",["T_WHITESPACE"," ",205],["T_LNUMBER","0x20",205],["T_WHITESPACE","\n\t\t\t\t\t",205],["T_BOOLEAN_OR","||",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$character",206],["T_WHITESPACE"," ",206],">",["T_WHITESPACE"," ",206],["T_LNUMBER","0x7E",206],["T_WHITESPACE"," ",206],["T_BOOLEAN_AND","&&",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$character",206],["T_WHITESPACE"," ",206],"<",["T_WHITESPACE"," ",206],["T_LNUMBER","0xA0",206],["T_WHITESPACE","\n\t\t\t\t\t",206],["T_BOOLEAN_OR","||",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$character",207],["T_WHITESPACE"," ",207],">",["T_WHITESPACE"," ",207],["T_LNUMBER","0xEFFFD",207],["T_WHITESPACE","\n\t\t\t\t",207],")",["T_WHITESPACE","\n\t\t\t",208],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t\t",209],["T_THROW","throw",210],["T_WHITESPACE"," ",210],["T_NEW","new",210],["T_WHITESPACE"," ",210],["T_STRING","Requests_Exception",210],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Unicode codepoint'",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'idna.invalidcodepoint'",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$character",210],")",";",["T_WHITESPACE","\n\t\t\t",210],"}",["T_WHITESPACE","\n\n\t\t\t",211],["T_VARIABLE","$codepoints",213],"[","]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$character",213],";",["T_WHITESPACE","\n\t\t",213],"}",["T_WHITESPACE","\n\n\t\t",214],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$codepoints",216],";",["T_WHITESPACE","\n\t",216],"}",["T_WHITESPACE","\n\n\t",217],["T_DOC_COMMENT","\/**\n\t * RFC3492-compliant encoder\n\t *\n\t * @internal Pseudo-code from Section 6.3 is commented with \"#\" next to relevant code\n\t * @throws Requests_Exception On character outside of the domain (never happens with Punycode) (`idna.character_outside_domain`)\n\t *\n\t * @param string $input UTF-8 encoded string to encode\n\t * @return string Punycode-encoded string\n\t *\/",219],["T_WHITESPACE","\n\t",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_STATIC","static",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","punycode_encode",228],"(",["T_VARIABLE","$input",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t",228],["T_VARIABLE","$output",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","''",229],";",["T_WHITESPACE","\n",229],["T_COMMENT","#\t\tlet n = initial_n\n",230],["T_WHITESPACE","\t\t",231],["T_VARIABLE","$n",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","self",231],["T_DOUBLE_COLON","::",231],["T_STRING","BOOTSTRAP_INITIAL_N",231],";",["T_WHITESPACE","\n",231],["T_COMMENT","#\t\tlet delta = 0\n",232],["T_WHITESPACE","\t\t",233],["T_VARIABLE","$delta",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],";",["T_WHITESPACE","\n",233],["T_COMMENT","#\t\tlet bias = initial_bias\n",234],["T_WHITESPACE","\t\t",235],["T_VARIABLE","$bias",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","self",235],["T_DOUBLE_COLON","::",235],["T_STRING","BOOTSTRAP_INITIAL_BIAS",235],";",["T_WHITESPACE","\n",235],["T_COMMENT","#\t\tlet h = b = the number of basic code points in the input\n",236],["T_WHITESPACE","\t\t",237],["T_VARIABLE","$h",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$b",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_LNUMBER","0",237],";",["T_WHITESPACE"," ",237],["T_COMMENT","\/\/ see loop\n",237],["T_COMMENT","#\t\tcopy them to the output in order\n",238],["T_WHITESPACE","\t\t",239],["T_VARIABLE","$codepoints",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","self",239],["T_DOUBLE_COLON","::",239],["T_STRING","utf8_to_codepoints",239],"(",["T_VARIABLE","$input",239],")",";",["T_WHITESPACE","\n\t\t",239],["T_VARIABLE","$extended",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",")",";",["T_WHITESPACE","\n\n\t\t",240],["T_FOREACH","foreach",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$codepoints",242],["T_WHITESPACE"," ",242],["T_AS","as",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$char",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n\t\t\t",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$char",243],["T_WHITESPACE"," ",243],"<",["T_WHITESPACE"," ",243],["T_LNUMBER","128",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n\t\t\t\t",243],["T_COMMENT","\/\/ Character is valid ASCII\n",244],["T_WHITESPACE","\t\t\t\t",245],["T_COMMENT","\/\/ TODO: this should also check if it's valid for a URL\n",245],["T_WHITESPACE","\t\t\t\t",246],["T_VARIABLE","$output",246],["T_WHITESPACE"," ",246],["T_CONCAT_EQUAL",".=",246],["T_WHITESPACE"," ",246],["T_STRING","chr",246],"(",["T_VARIABLE","$char",246],")",";",["T_WHITESPACE","\n\t\t\t\t",246],["T_VARIABLE","$h",247],["T_INC","++",247],";",["T_WHITESPACE","\n\t\t\t",247],"}",["T_WHITESPACE","\n\t\t\t",248],["T_COMMENT","\/\/ Check if the character is non-ASCII, but below initial n\n",249],["T_WHITESPACE","\t\t\t",250],["T_COMMENT","\/\/ This never occurs for Punycode, so ignore in coverage\n",250],["T_WHITESPACE","\t\t\t",251],["T_COMMENT","\/\/ @codeCoverageIgnoreStart\n",251],["T_WHITESPACE","\t\t\t",252],["T_ELSEIF","elseif",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$char",252],["T_WHITESPACE"," ",252],"<",["T_WHITESPACE"," ",252],["T_VARIABLE","$n",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n\t\t\t\t",252],["T_THROW","throw",253],["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_STRING","Requests_Exception",253],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid character'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'idna.character_outside_domain'",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$char",253],")",";",["T_WHITESPACE","\n\t\t\t",253],"}",["T_WHITESPACE","\n\t\t\t",254],["T_COMMENT","\/\/ @codeCoverageIgnoreEnd\n",255],["T_WHITESPACE","\t\t\t",256],["T_ELSE","else",256],["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n\t\t\t\t",256],["T_VARIABLE","$extended",257],"[",["T_VARIABLE","$char",257],"]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","true",257],";",["T_WHITESPACE","\n\t\t\t",257],"}",["T_WHITESPACE","\n\t\t",258],"}",["T_WHITESPACE","\n\t\t",259],["T_VARIABLE","$extended",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","array_keys",260],"(",["T_VARIABLE","$extended",260],")",";",["T_WHITESPACE","\n\t\t",260],["T_STRING","sort",261],"(",["T_VARIABLE","$extended",261],")",";",["T_WHITESPACE","\n\t\t",261],["T_VARIABLE","$b",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$h",262],";",["T_WHITESPACE","\n",262],["T_COMMENT","#\t\t[copy them] followed by a delimiter if b > 0\n",263],["T_WHITESPACE","\t\t",264],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_STRING","strlen",264],"(",["T_VARIABLE","$output",264],")",["T_WHITESPACE"," ",264],">",["T_WHITESPACE"," ",264],["T_LNUMBER","0",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n\t\t\t",264],["T_VARIABLE","$output",265],["T_WHITESPACE"," ",265],["T_CONCAT_EQUAL",".=",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'-'",265],";",["T_WHITESPACE","\n\t\t",265],"}",["T_WHITESPACE","\n",266],["T_COMMENT","#\t\t{if the input contains a non-basic code point < n then fail}\n",267],["T_COMMENT","#\t\twhile h < length(input) do begin\n",268],["T_WHITESPACE","\t\t",269],["T_WHILE","while",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$h",269],["T_WHITESPACE"," ",269],"<",["T_WHITESPACE"," ",269],["T_STRING","count",269],"(",["T_VARIABLE","$codepoints",269],")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n",269],["T_COMMENT","#\t\t\tlet m = the minimum code point >= n in the input\n",270],["T_WHITESPACE","\t\t\t",271],["T_VARIABLE","$m",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","array_shift",271],"(",["T_VARIABLE","$extended",271],")",";",["T_WHITESPACE","\n\t\t\t",271],["T_COMMENT","\/\/printf('next code point to insert is %s' . PHP_EOL, dechex($m));\n",272],["T_COMMENT","#\t\t\tlet delta = delta + (m - n) * (h + 1), fail on overflow\n",273],["T_WHITESPACE","\t\t\t",274],["T_VARIABLE","$delta",274],["T_WHITESPACE"," ",274],["T_PLUS_EQUAL","+=",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$m",274],["T_WHITESPACE"," ",274],"-",["T_WHITESPACE"," ",274],["T_VARIABLE","$n",274],")",["T_WHITESPACE"," ",274],"*",["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$h",274],["T_WHITESPACE"," ",274],"+",["T_WHITESPACE"," ",274],["T_LNUMBER","1",274],")",";",["T_WHITESPACE","\n",274],["T_COMMENT","#\t\t\tlet n = m\n",275],["T_WHITESPACE","\t\t\t",276],["T_VARIABLE","$n",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$m",276],";",["T_WHITESPACE","\n",276],["T_COMMENT","#\t\t\tfor each code point c in the input (in order) do begin\n",277],["T_WHITESPACE","\t\t\t",278],["T_FOR","for",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$num",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_LNUMBER","0",278],";",["T_WHITESPACE"," ",278],["T_VARIABLE","$num",278],["T_WHITESPACE"," ",278],"<",["T_WHITESPACE"," ",278],["T_STRING","count",278],"(",["T_VARIABLE","$codepoints",278],")",";",["T_WHITESPACE"," ",278],["T_VARIABLE","$num",278],["T_INC","++",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n\t\t\t\t",278],["T_VARIABLE","$c",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$codepoints",279],"[",["T_VARIABLE","$num",279],"]",";",["T_WHITESPACE","\n",279],["T_COMMENT","#\t\t\t\tif c < n then increment delta, fail on overflow\n",280],["T_WHITESPACE","\t\t\t\t",281],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$c",281],["T_WHITESPACE"," ",281],"<",["T_WHITESPACE"," ",281],["T_VARIABLE","$n",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n\t\t\t\t\t",281],["T_VARIABLE","$delta",282],["T_INC","++",282],";",["T_WHITESPACE","\n\t\t\t\t",282],"}",["T_WHITESPACE","\n",283],["T_COMMENT","#\t\t\t\tif c == n then begin\n",284],["T_WHITESPACE","\t\t\t\t",285],["T_ELSEIF","elseif",285],["T_WHITESPACE"," ",285],"(",["T_VARIABLE","$c",285],["T_WHITESPACE"," ",285],["T_IS_IDENTICAL","===",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$n",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n",285],["T_COMMENT","#\t\t\t\t\tlet q = delta\n",286],["T_WHITESPACE","\t\t\t\t\t",287],["T_VARIABLE","$q",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$delta",287],";",["T_WHITESPACE","\n",287],["T_COMMENT","#\t\t\t\t\tfor k = base to infinity in steps of base do begin\n",288],["T_WHITESPACE","\t\t\t\t\t",289],["T_FOR","for",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$k",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","BOOTSTRAP_BASE",289],";",["T_WHITESPACE"," ",289],";",["T_WHITESPACE"," ",289],["T_VARIABLE","$k",289],["T_WHITESPACE"," ",289],["T_PLUS_EQUAL","+=",289],["T_WHITESPACE"," ",289],["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","BOOTSTRAP_BASE",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n",289],["T_COMMENT","#\t\t\t\t\t\tlet t = tmin if k <= bias {+ tmin}, or\n",290],["T_COMMENT","#\t\t\t\t\t\t\t\ttmax if k >= bias + tmax, or k - bias otherwise\n",291],["T_WHITESPACE","\t\t\t\t\t\t",292],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$k",292],["T_WHITESPACE"," ",292],["T_IS_SMALLER_OR_EQUAL","<=",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$bias",292],["T_WHITESPACE"," ",292],"+",["T_WHITESPACE"," ",292],["T_STRING","self",292],["T_DOUBLE_COLON","::",292],["T_STRING","BOOTSTRAP_TMIN",292],")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",292],["T_VARIABLE","$t",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","self",293],["T_DOUBLE_COLON","::",293],["T_STRING","BOOTSTRAP_TMIN",293],";",["T_WHITESPACE","\n\t\t\t\t\t\t",293],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",294],["T_ELSEIF","elseif",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$k",295],["T_WHITESPACE"," ",295],["T_IS_GREATER_OR_EQUAL",">=",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$bias",295],["T_WHITESPACE"," ",295],"+",["T_WHITESPACE"," ",295],["T_STRING","self",295],["T_DOUBLE_COLON","::",295],["T_STRING","BOOTSTRAP_TMAX",295],")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",295],["T_VARIABLE","$t",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","self",296],["T_DOUBLE_COLON","::",296],["T_STRING","BOOTSTRAP_TMAX",296],";",["T_WHITESPACE","\n\t\t\t\t\t\t",296],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",297],["T_ELSE","else",298],["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",298],["T_VARIABLE","$t",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$k",299],["T_WHITESPACE"," ",299],"-",["T_WHITESPACE"," ",299],["T_VARIABLE","$bias",299],";",["T_WHITESPACE","\n\t\t\t\t\t\t",299],"}",["T_WHITESPACE","\n",300],["T_COMMENT","#\t\t\t\t\t\tif q < t then break\n",301],["T_WHITESPACE","\t\t\t\t\t\t",302],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$q",302],["T_WHITESPACE"," ",302],"<",["T_WHITESPACE"," ",302],["T_VARIABLE","$t",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",302],["T_BREAK","break",303],";",["T_WHITESPACE","\n\t\t\t\t\t\t",303],"}",["T_WHITESPACE","\n",304],["T_COMMENT","#\t\t\t\t\t\toutput the code point for digit t + ((q - t) mod (base - t))\n",305],["T_WHITESPACE","\t\t\t\t\t\t",306],["T_VARIABLE","$digit",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$t",306],["T_WHITESPACE"," ",306],"+",["T_WHITESPACE"," ",306],"(","(",["T_VARIABLE","$q",306],["T_WHITESPACE"," ",306],"-",["T_WHITESPACE"," ",306],["T_VARIABLE","$t",306],")",["T_WHITESPACE"," ",306],"%",["T_WHITESPACE"," ",306],"(",["T_STRING","self",306],["T_DOUBLE_COLON","::",306],["T_STRING","BOOTSTRAP_BASE",306],["T_WHITESPACE"," ",306],"-",["T_WHITESPACE"," ",306],["T_VARIABLE","$t",306],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",306],["T_VARIABLE","$output",307],["T_WHITESPACE"," ",307],["T_CONCAT_EQUAL",".=",307],["T_WHITESPACE"," ",307],["T_STRING","self",307],["T_DOUBLE_COLON","::",307],["T_STRING","digit_to_char",307],"(",["T_VARIABLE","$digit",307],")",";",["T_WHITESPACE","\n",307],["T_COMMENT","#\t\t\t\t\t\tlet q = (q - t) div (base - t)\n",308],["T_WHITESPACE","\t\t\t\t\t\t",309],["T_VARIABLE","$q",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","floor",309],"(","(",["T_VARIABLE","$q",309],["T_WHITESPACE"," ",309],"-",["T_WHITESPACE"," ",309],["T_VARIABLE","$t",309],")",["T_WHITESPACE"," ",309],"\/",["T_WHITESPACE"," ",309],"(",["T_STRING","self",309],["T_DOUBLE_COLON","::",309],["T_STRING","BOOTSTRAP_BASE",309],["T_WHITESPACE"," ",309],"-",["T_WHITESPACE"," ",309],["T_VARIABLE","$t",309],")",")",";",["T_WHITESPACE","\n",309],["T_COMMENT","#\t\t\t\t\tend\n",310],["T_WHITESPACE","\t\t\t\t\t",311],"}",["T_WHITESPACE","\n",311],["T_COMMENT","#\t\t\t\t\toutput the code point for digit q\n",312],["T_WHITESPACE","\t\t\t\t\t",313],["T_VARIABLE","$output",313],["T_WHITESPACE"," ",313],["T_CONCAT_EQUAL",".=",313],["T_WHITESPACE"," ",313],["T_STRING","self",313],["T_DOUBLE_COLON","::",313],["T_STRING","digit_to_char",313],"(",["T_VARIABLE","$q",313],")",";",["T_WHITESPACE","\n",313],["T_COMMENT","#\t\t\t\t\tlet bias = adapt(delta, h + 1, test h equals b?)\n",314],["T_WHITESPACE","\t\t\t\t\t",315],["T_VARIABLE","$bias",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","self",315],["T_DOUBLE_COLON","::",315],["T_STRING","adapt",315],"(",["T_VARIABLE","$delta",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$h",315],["T_WHITESPACE"," ",315],"+",["T_WHITESPACE"," ",315],["T_LNUMBER","1",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$h",315],["T_WHITESPACE"," ",315],["T_IS_IDENTICAL","===",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$b",315],")",";",["T_WHITESPACE","\n",315],["T_COMMENT","#\t\t\t\t\tlet delta = 0\n",316],["T_WHITESPACE","\t\t\t\t\t",317],["T_VARIABLE","$delta",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_LNUMBER","0",317],";",["T_WHITESPACE","\n",317],["T_COMMENT","#\t\t\t\t\tincrement h\n",318],["T_WHITESPACE","\t\t\t\t\t",319],["T_VARIABLE","$h",319],["T_INC","++",319],";",["T_WHITESPACE","\n",319],["T_COMMENT","#\t\t\t\tend\n",320],["T_WHITESPACE","\t\t\t\t",321],"}",["T_WHITESPACE","\n",321],["T_COMMENT","#\t\t\tend\n",322],["T_WHITESPACE","\t\t\t",323],"}",["T_WHITESPACE","\n",323],["T_COMMENT","#\t\t\tincrement delta and n\n",324],["T_WHITESPACE","\t\t\t",325],["T_VARIABLE","$delta",325],["T_INC","++",325],";",["T_WHITESPACE","\n\t\t\t",325],["T_VARIABLE","$n",326],["T_INC","++",326],";",["T_WHITESPACE","\n",326],["T_COMMENT","#\t\tend\n",327],["T_WHITESPACE","\t\t",328],"}",["T_WHITESPACE","\n\n\t\t",328],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$output",330],";",["T_WHITESPACE","\n\t",330],"}",["T_WHITESPACE","\n\n\t",331],["T_DOC_COMMENT","\/**\n\t * Convert a digit to its respective character\n\t *\n\t * @see https:\/\/tools.ietf.org\/html\/rfc3492#section-5\n\t * @throws Requests_Exception On invalid digit (`idna.invalid_digit`)\n\t *\n\t * @param int $digit Digit in the range 0-35\n\t * @return string Single character corresponding to digit\n\t *\/",333],["T_WHITESPACE","\n\t",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_STATIC","static",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","digit_to_char",342],"(",["T_VARIABLE","$digit",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n\t\t",342],["T_COMMENT","\/\/ @codeCoverageIgnoreStart\n",343],["T_WHITESPACE","\t\t",344],["T_COMMENT","\/\/ As far as I know, this never happens, but still good to be sure.\n",344],["T_WHITESPACE","\t\t",345],["T_IF","if",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$digit",345],["T_WHITESPACE"," ",345],"<",["T_WHITESPACE"," ",345],["T_LNUMBER","0",345],["T_WHITESPACE"," ",345],["T_BOOLEAN_OR","||",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$digit",345],["T_WHITESPACE"," ",345],">",["T_WHITESPACE"," ",345],["T_LNUMBER","35",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n\t\t\t",345],["T_THROW","throw",346],["T_WHITESPACE"," ",346],["T_NEW","new",346],["T_WHITESPACE"," ",346],["T_STRING","Requests_Exception",346],"(",["T_STRING","sprintf",346],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid digit %d'",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$digit",346],")",",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'idna.invalid_digit'",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$digit",346],")",";",["T_WHITESPACE","\n\t\t",346],"}",["T_WHITESPACE","\n\t\t",347],["T_COMMENT","\/\/ @codeCoverageIgnoreEnd\n",348],["T_WHITESPACE","\t\t",349],["T_VARIABLE","$digits",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'abcdefghijklmnopqrstuvwxyz0123456789'",349],";",["T_WHITESPACE","\n\t\t",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_STRING","substr",350],"(",["T_VARIABLE","$digits",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$digit",350],",",["T_WHITESPACE"," ",350],["T_LNUMBER","1",350],")",";",["T_WHITESPACE","\n\t",350],"}",["T_WHITESPACE","\n\n\t",351],["T_DOC_COMMENT","\/**\n\t * Adapt the bias\n\t *\n\t * @see https:\/\/tools.ietf.org\/html\/rfc3492#section-6.1\n\t * @param int $delta\n\t * @param int $numpoints\n\t * @param bool $firsttime\n\t * @return int New bias\n\t *\/",353],["T_WHITESPACE","\n\t",361],["T_PROTECTED","protected",362],["T_WHITESPACE"," ",362],["T_STATIC","static",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","adapt",362],"(",["T_VARIABLE","$delta",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$numpoints",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$firsttime",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n",362],["T_COMMENT","#\tfunction adapt(delta,numpoints,firsttime):\n",363],["T_COMMENT","#\t\tif firsttime then let delta = delta div damp\n",364],["T_WHITESPACE","\t\t",365],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$firsttime",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n\t\t\t",365],["T_VARIABLE","$delta",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","floor",366],"(",["T_VARIABLE","$delta",366],["T_WHITESPACE"," ",366],"\/",["T_WHITESPACE"," ",366],["T_STRING","self",366],["T_DOUBLE_COLON","::",366],["T_STRING","BOOTSTRAP_DAMP",366],")",";",["T_WHITESPACE","\n\t\t",366],"}",["T_WHITESPACE","\n",367],["T_COMMENT","#\t\telse let delta = delta div 2\n",368],["T_WHITESPACE","\t\t",369],["T_ELSE","else",369],["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n\t\t\t",369],["T_VARIABLE","$delta",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","floor",370],"(",["T_VARIABLE","$delta",370],["T_WHITESPACE"," ",370],"\/",["T_WHITESPACE"," ",370],["T_LNUMBER","2",370],")",";",["T_WHITESPACE","\n\t\t",370],"}",["T_WHITESPACE","\n",371],["T_COMMENT","#\t\tlet delta = delta + (delta div numpoints)\n",372],["T_WHITESPACE","\t\t",373],["T_VARIABLE","$delta",373],["T_WHITESPACE"," ",373],["T_PLUS_EQUAL","+=",373],["T_WHITESPACE"," ",373],["T_STRING","floor",373],"(",["T_VARIABLE","$delta",373],["T_WHITESPACE"," ",373],"\/",["T_WHITESPACE"," ",373],["T_VARIABLE","$numpoints",373],")",";",["T_WHITESPACE","\n",373],["T_COMMENT","#\t\tlet k = 0\n",374],["T_WHITESPACE","\t\t",375],["T_VARIABLE","$k",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_LNUMBER","0",375],";",["T_WHITESPACE","\n",375],["T_COMMENT","#\t\twhile delta > ((base - tmin) * tmax) div 2 do begin\n",376],["T_WHITESPACE","\t\t",377],["T_VARIABLE","$max",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","floor",377],"(","(","(",["T_STRING","self",377],["T_DOUBLE_COLON","::",377],["T_STRING","BOOTSTRAP_BASE",377],["T_WHITESPACE"," ",377],"-",["T_WHITESPACE"," ",377],["T_STRING","self",377],["T_DOUBLE_COLON","::",377],["T_STRING","BOOTSTRAP_TMIN",377],")",["T_WHITESPACE"," ",377],"*",["T_WHITESPACE"," ",377],["T_STRING","self",377],["T_DOUBLE_COLON","::",377],["T_STRING","BOOTSTRAP_TMAX",377],")",["T_WHITESPACE"," ",377],"\/",["T_WHITESPACE"," ",377],["T_LNUMBER","2",377],")",";",["T_WHITESPACE","\n\t\t",377],["T_WHILE","while",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$delta",378],["T_WHITESPACE"," ",378],">",["T_WHITESPACE"," ",378],["T_VARIABLE","$max",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n",378],["T_COMMENT","#\t\t\tlet delta = delta div (base - tmin)\n",379],["T_WHITESPACE","\t\t\t",380],["T_VARIABLE","$delta",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_STRING","floor",380],"(",["T_VARIABLE","$delta",380],["T_WHITESPACE"," ",380],"\/",["T_WHITESPACE"," ",380],"(",["T_STRING","self",380],["T_DOUBLE_COLON","::",380],["T_STRING","BOOTSTRAP_BASE",380],["T_WHITESPACE"," ",380],"-",["T_WHITESPACE"," ",380],["T_STRING","self",380],["T_DOUBLE_COLON","::",380],["T_STRING","BOOTSTRAP_TMIN",380],")",")",";",["T_WHITESPACE","\n",380],["T_COMMENT","#\t\t\tlet k = k + base\n",381],["T_WHITESPACE","\t\t\t",382],["T_VARIABLE","$k",382],["T_WHITESPACE"," ",382],["T_PLUS_EQUAL","+=",382],["T_WHITESPACE"," ",382],["T_STRING","self",382],["T_DOUBLE_COLON","::",382],["T_STRING","BOOTSTRAP_BASE",382],";",["T_WHITESPACE","\n",382],["T_COMMENT","#\t\tend\n",383],["T_WHITESPACE","\t\t",384],"}",["T_WHITESPACE","\n",384],["T_COMMENT","#\t\treturn k + (((base - tmin + 1) * delta) div (delta + skew))\n",385],["T_WHITESPACE","\t\t",386],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$k",386],["T_WHITESPACE"," ",386],"+",["T_WHITESPACE"," ",386],["T_STRING","floor",386],"(","(","(",["T_STRING","self",386],["T_DOUBLE_COLON","::",386],["T_STRING","BOOTSTRAP_BASE",386],["T_WHITESPACE"," ",386],"-",["T_WHITESPACE"," ",386],["T_STRING","self",386],["T_DOUBLE_COLON","::",386],["T_STRING","BOOTSTRAP_TMIN",386],["T_WHITESPACE"," ",386],"+",["T_WHITESPACE"," ",386],["T_LNUMBER","1",386],")",["T_WHITESPACE"," ",386],"*",["T_WHITESPACE"," ",386],["T_VARIABLE","$delta",386],")",["T_WHITESPACE"," ",386],"\/",["T_WHITESPACE"," ",386],"(",["T_VARIABLE","$delta",386],["T_WHITESPACE"," ",386],"+",["T_WHITESPACE"," ",386],["T_STRING","self",386],["T_DOUBLE_COLON","::",386],["T_STRING","BOOTSTRAP_SKEW",386],")",")",";",["T_WHITESPACE","\n\t",386],"}",["T_WHITESPACE","\n",387],"}"]