[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * SimplePie\n *\n * A PHP-Based RSS and Atom Feed Framework.\n * Takes the hard work out of managing a complete RSS\/Atom solution.\n *\n * Copyright (c) 2004-2012, Ryan Parman, Geoffrey Sneddon, Ryan McCue, and contributors\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n * \t* Redistributions of source code must retain the above copyright notice, this list of\n * \t  conditions and the following disclaimer.\n *\n * \t* Redistributions in binary form must reproduce the above copyright notice, this list\n * \t  of conditions and the following disclaimer in the documentation and\/or other materials\n * \t  provided with the distribution.\n *\n * \t* Neither the name of the SimplePie Team nor the names of its contributors may be used\n * \t  to endorse or promote products derived from this software without specific prior\n * \t  written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDERS\n * AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n *\n * @package SimplePie\n * @version 1.3.1\n * @copyright 2004-2012 Ryan Parman, Geoffrey Sneddon, Ryan McCue\n * @author Ryan Parman\n * @author Geoffrey Sneddon\n * @author Ryan McCue\n * @link http:\/\/simplepie.org\/ SimplePie\n * @license http:\/\/www.opensource.org\/licenses\/bsd-license.php BSD License\n *\/",2],["T_WHITESPACE","\n\n",43],["T_DOC_COMMENT","\/**\n * Used for data cleanup and post-processing\n *\n *\n * This class can be overloaded with {@see SimplePie::set_sanitize_class()}\n *\n * @package SimplePie\n * @todo Move to using an actual HTML parser (this will allow tags to be properly stripped, and to switch between HTML and XHTML), this will also make it easier to shorten a string while preserving HTML tags\n *\/",45],["T_WHITESPACE","\n",53],["T_CLASS","class",54],["T_WHITESPACE"," ",54],["T_STRING","SimplePie_Sanitize",54],["T_WHITESPACE","\n",54],"{",["T_WHITESPACE","\n\t",55],["T_COMMENT","\/\/ Private vars\n",56],["T_WHITESPACE","\t",57],["T_VAR","var",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$base",57],";",["T_WHITESPACE","\n\n\t",57],["T_COMMENT","\/\/ Options\n",59],["T_WHITESPACE","\t",60],["T_VAR","var",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$remove_div",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","true",60],";",["T_WHITESPACE","\n\t",60],["T_VAR","var",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$image_handler",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","''",61],";",["T_WHITESPACE","\n\t",61],["T_VAR","var",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$strip_htmltags",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'base'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'blink'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'body'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'doctype'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'embed'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'font'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'form'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'frame'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'frameset'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'html'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'iframe'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'input'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'marquee'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'meta'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'noscript'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'object'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'param'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'script'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'style'",62],")",";",["T_WHITESPACE","\n\t",62],["T_VAR","var",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$encode_instead_of_strip",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","false",63],";",["T_WHITESPACE","\n\t",63],["T_VAR","var",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$strip_attributes",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'bgsound'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'class'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'expr'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'id'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'style'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'onclick'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'onerror'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'onfinish'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'onmouseover'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'onmouseout'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'onfocus'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'onblur'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'lowsrc'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'dynsrc'",64],")",";",["T_WHITESPACE","\n\t",64],["T_VAR","var",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$strip_comments",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","false",65],";",["T_WHITESPACE","\n\t",65],["T_VAR","var",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$output_encoding",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",66],";",["T_WHITESPACE","\n\t",66],["T_VAR","var",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$enable_cache",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","true",67],";",["T_WHITESPACE","\n\t",67],["T_VAR","var",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$cache_location",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'.\/cache'",68],";",["T_WHITESPACE","\n\t",68],["T_VAR","var",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$cache_name_function",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'md5'",69],";",["T_WHITESPACE","\n\t",69],["T_VAR","var",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$timeout",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_LNUMBER","10",70],";",["T_WHITESPACE","\n\t",70],["T_VAR","var",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$useragent",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],";",["T_WHITESPACE","\n\t",71],["T_VAR","var",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$force_fsockopen",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","false",72],";",["T_WHITESPACE","\n\t",72],["T_VAR","var",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$replace_url_attributes",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],";",["T_WHITESPACE","\n\n\t",73],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",")",["T_WHITESPACE","\n\t",75],"{",["T_WHITESPACE","\n\t\t",76],["T_COMMENT","\/\/ Set defaults\n",77],["T_WHITESPACE","\t\t",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","set_url_replacements",78],"(",["T_STRING","null",78],")",";",["T_WHITESPACE","\n\t",78],"}",["T_WHITESPACE","\n\n\t",79],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","remove_div",81],"(",["T_VARIABLE","$enable",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","true",81],")",["T_WHITESPACE","\n\t",81],"{",["T_WHITESPACE","\n\t\t",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","remove_div",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_BOOL_CAST","(bool)",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$enable",83],";",["T_WHITESPACE","\n\t",83],"}",["T_WHITESPACE","\n\n\t",84],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","set_image_handler",86],"(",["T_VARIABLE","$page",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","false",86],")",["T_WHITESPACE","\n\t",86],"{",["T_WHITESPACE","\n\t\t",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$page",88],")",["T_WHITESPACE","\n\t\t",88],"{",["T_WHITESPACE","\n\t\t\t",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","image_handler",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING_CAST","(string)",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$page",90],";",["T_WHITESPACE","\n\t\t",90],"}",["T_WHITESPACE","\n\t\t",91],["T_ELSE","else",92],["T_WHITESPACE","\n\t\t",92],"{",["T_WHITESPACE","\n\t\t\t",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","image_handler",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","false",94],";",["T_WHITESPACE","\n\t\t",94],"}",["T_WHITESPACE","\n\t",95],"}",["T_WHITESPACE","\n\n\t",96],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","set_registry",98],"(",["T_STRING","SimplePie_Registry",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$registry",98],")",["T_WHITESPACE","\n\t",98],"{",["T_WHITESPACE","\n\t\t",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","registry",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$registry",100],";",["T_WHITESPACE","\n\t",100],"}",["T_WHITESPACE","\n\n\t",101],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","pass_cache_data",103],"(",["T_VARIABLE","$enable_cache",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","true",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$cache_location",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'.\/cache'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$cache_name_function",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'md5'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$cache_class",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'SimplePie_Cache'",103],")",["T_WHITESPACE","\n\t",103],"{",["T_WHITESPACE","\n\t\t",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_ISSET","isset",105],"(",["T_VARIABLE","$enable_cache",105],")",")",["T_WHITESPACE","\n\t\t",105],"{",["T_WHITESPACE","\n\t\t\t",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","enable_cache",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_BOOL_CAST","(bool)",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$enable_cache",107],";",["T_WHITESPACE","\n\t\t",107],"}",["T_WHITESPACE","\n\n\t\t",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$cache_location",110],")",["T_WHITESPACE","\n\t\t",110],"{",["T_WHITESPACE","\n\t\t\t",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","cache_location",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING_CAST","(string)",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$cache_location",112],";",["T_WHITESPACE","\n\t\t",112],"}",["T_WHITESPACE","\n\n\t\t",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$cache_name_function",115],")",["T_WHITESPACE","\n\t\t",115],"{",["T_WHITESPACE","\n\t\t\t",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","cache_name_function",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING_CAST","(string)",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$cache_name_function",117],";",["T_WHITESPACE","\n\t\t",117],"}",["T_WHITESPACE","\n\t",118],"}",["T_WHITESPACE","\n\n\t",119],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","pass_file_data",121],"(",["T_VARIABLE","$file_class",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'SimplePie_File'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$timeout",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_LNUMBER","10",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$useragent",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","''",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$force_fsockopen",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","false",121],")",["T_WHITESPACE","\n\t",121],"{",["T_WHITESPACE","\n\t\t",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$timeout",123],")",["T_WHITESPACE","\n\t\t",123],"{",["T_WHITESPACE","\n\t\t\t",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","timeout",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING_CAST","(string)",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$timeout",125],";",["T_WHITESPACE","\n\t\t",125],"}",["T_WHITESPACE","\n\n\t\t",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$useragent",128],")",["T_WHITESPACE","\n\t\t",128],"{",["T_WHITESPACE","\n\t\t\t",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","useragent",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING_CAST","(string)",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$useragent",130],";",["T_WHITESPACE","\n\t\t",130],"}",["T_WHITESPACE","\n\n\t\t",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$force_fsockopen",133],")",["T_WHITESPACE","\n\t\t",133],"{",["T_WHITESPACE","\n\t\t\t",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","force_fsockopen",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING_CAST","(string)",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$force_fsockopen",135],";",["T_WHITESPACE","\n\t\t",135],"}",["T_WHITESPACE","\n\t",136],"}",["T_WHITESPACE","\n\n\t",137],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","strip_htmltags",139],"(",["T_VARIABLE","$tags",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'base'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'blink'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'body'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'doctype'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'embed'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'font'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'form'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'frame'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'frameset'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'html'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'iframe'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'input'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'marquee'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'meta'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'noscript'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'object'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'param'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'script'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'style'",139],")",")",["T_WHITESPACE","\n\t",139],"{",["T_WHITESPACE","\n\t\t",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$tags",141],")",["T_WHITESPACE","\n\t\t",141],"{",["T_WHITESPACE","\n\t\t\t",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_STRING","is_array",143],"(",["T_VARIABLE","$tags",143],")",")",["T_WHITESPACE","\n\t\t\t",143],"{",["T_WHITESPACE","\n\t\t\t\t",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","strip_htmltags",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$tags",145],";",["T_WHITESPACE","\n\t\t\t",145],"}",["T_WHITESPACE","\n\t\t\t",146],["T_ELSE","else",147],["T_WHITESPACE","\n\t\t\t",147],"{",["T_WHITESPACE","\n\t\t\t\t",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","strip_htmltags",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","explode",149],"(",["T_CONSTANT_ENCAPSED_STRING","','",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$tags",149],")",";",["T_WHITESPACE","\n\t\t\t",149],"}",["T_WHITESPACE","\n\t\t",150],"}",["T_WHITESPACE","\n\t\t",151],["T_ELSE","else",152],["T_WHITESPACE","\n\t\t",152],"{",["T_WHITESPACE","\n\t\t\t",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","strip_htmltags",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","false",154],";",["T_WHITESPACE","\n\t\t",154],"}",["T_WHITESPACE","\n\t",155],"}",["T_WHITESPACE","\n\n\t",156],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","encode_instead_of_strip",158],"(",["T_VARIABLE","$encode",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","false",158],")",["T_WHITESPACE","\n\t",158],"{",["T_WHITESPACE","\n\t\t",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","encode_instead_of_strip",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_BOOL_CAST","(bool)",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$encode",160],";",["T_WHITESPACE","\n\t",160],"}",["T_WHITESPACE","\n\n\t",161],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","strip_attributes",163],"(",["T_VARIABLE","$attribs",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_CONSTANT_ENCAPSED_STRING","'bgsound'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'class'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'expr'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'id'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'style'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'onclick'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'onerror'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'onfinish'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'onmouseover'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'onmouseout'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'onfocus'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'onblur'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'lowsrc'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'dynsrc'",163],")",")",["T_WHITESPACE","\n\t",163],"{",["T_WHITESPACE","\n\t\t",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$attribs",165],")",["T_WHITESPACE","\n\t\t",165],"{",["T_WHITESPACE","\n\t\t\t",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_STRING","is_array",167],"(",["T_VARIABLE","$attribs",167],")",")",["T_WHITESPACE","\n\t\t\t",167],"{",["T_WHITESPACE","\n\t\t\t\t",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","strip_attributes",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$attribs",169],";",["T_WHITESPACE","\n\t\t\t",169],"}",["T_WHITESPACE","\n\t\t\t",170],["T_ELSE","else",171],["T_WHITESPACE","\n\t\t\t",171],"{",["T_WHITESPACE","\n\t\t\t\t",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","strip_attributes",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","explode",173],"(",["T_CONSTANT_ENCAPSED_STRING","','",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$attribs",173],")",";",["T_WHITESPACE","\n\t\t\t",173],"}",["T_WHITESPACE","\n\t\t",174],"}",["T_WHITESPACE","\n\t\t",175],["T_ELSE","else",176],["T_WHITESPACE","\n\t\t",176],"{",["T_WHITESPACE","\n\t\t\t",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","strip_attributes",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","false",178],";",["T_WHITESPACE","\n\t\t",178],"}",["T_WHITESPACE","\n\t",179],"}",["T_WHITESPACE","\n\n\t",180],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","strip_comments",182],"(",["T_VARIABLE","$strip",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","false",182],")",["T_WHITESPACE","\n\t",182],"{",["T_WHITESPACE","\n\t\t",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","strip_comments",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_BOOL_CAST","(bool)",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$strip",184],";",["T_WHITESPACE","\n\t",184],"}",["T_WHITESPACE","\n\n\t",185],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","set_output_encoding",187],"(",["T_VARIABLE","$encoding",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",187],")",["T_WHITESPACE","\n\t",187],"{",["T_WHITESPACE","\n\t\t",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","output_encoding",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING_CAST","(string)",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$encoding",189],";",["T_WHITESPACE","\n\t",189],"}",["T_WHITESPACE","\n\n\t",190],["T_DOC_COMMENT","\/**\n\t * Set element\/attribute key\/value pairs of HTML attributes\n\t * containing URLs that need to be resolved relative to the feed\n\t *\n\t * Defaults to |a|@href, |area|@href, |blockquote|@cite, |del|@cite,\n\t * |form|@action, |img|@longdesc, |img|@src, |input|@src, |ins|@cite,\n\t * |q|@cite\n\t *\n\t * @since 1.0\n\t * @param array|null $element_attribute Element\/attribute key\/value pairs, null for default\n\t *\/",192],["T_WHITESPACE","\n\t",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","set_url_replacements",203],"(",["T_VARIABLE","$element_attribute",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","null",203],")",["T_WHITESPACE","\n\t",203],"{",["T_WHITESPACE","\n\t\t",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$element_attribute",205],["T_WHITESPACE"," ",205],["T_IS_IDENTICAL","===",205],["T_WHITESPACE"," ",205],["T_STRING","null",205],")",["T_WHITESPACE","\n\t\t",205],"{",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$element_attribute",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",["T_WHITESPACE","\n\t\t\t\t",207],["T_CONSTANT_ENCAPSED_STRING","'a'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'href'",208],",",["T_WHITESPACE","\n\t\t\t\t",208],["T_CONSTANT_ENCAPSED_STRING","'area'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'href'",209],",",["T_WHITESPACE","\n\t\t\t\t",209],["T_CONSTANT_ENCAPSED_STRING","'blockquote'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'cite'",210],",",["T_WHITESPACE","\n\t\t\t\t",210],["T_CONSTANT_ENCAPSED_STRING","'del'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'cite'",211],",",["T_WHITESPACE","\n\t\t\t\t",211],["T_CONSTANT_ENCAPSED_STRING","'form'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'action'",212],",",["T_WHITESPACE","\n\t\t\t\t",212],["T_CONSTANT_ENCAPSED_STRING","'img'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_WHITESPACE","\n\t\t\t\t\t",213],["T_CONSTANT_ENCAPSED_STRING","'longdesc'",214],",",["T_WHITESPACE","\n\t\t\t\t\t",214],["T_CONSTANT_ENCAPSED_STRING","'src'",215],["T_WHITESPACE","\n\t\t\t\t",215],")",",",["T_WHITESPACE","\n\t\t\t\t",216],["T_CONSTANT_ENCAPSED_STRING","'input'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'src'",217],",",["T_WHITESPACE","\n\t\t\t\t",217],["T_CONSTANT_ENCAPSED_STRING","'ins'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'cite'",218],",",["T_WHITESPACE","\n\t\t\t\t",218],["T_CONSTANT_ENCAPSED_STRING","'q'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'cite'",219],["T_WHITESPACE","\n\t\t\t",219],")",";",["T_WHITESPACE","\n\t\t",220],"}",["T_WHITESPACE","\n\t\t",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","replace_url_attributes",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_ARRAY_CAST","(array)",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$element_attribute",222],";",["T_WHITESPACE","\n\t",222],"}",["T_WHITESPACE","\n\n\t",223],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","sanitize",225],"(",["T_VARIABLE","$data",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$type",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$base",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","''",225],")",["T_WHITESPACE","\n\t",225],"{",["T_WHITESPACE","\n\t\t",226],["T_VARIABLE","$data",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","trim",227],"(",["T_VARIABLE","$data",227],")",";",["T_WHITESPACE","\n\t\t",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$data",228],["T_WHITESPACE"," ",228],["T_IS_NOT_IDENTICAL","!==",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","''",228],["T_WHITESPACE"," ",228],["T_BOOLEAN_OR","||",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$type",228],["T_WHITESPACE"," ",228],"&",["T_WHITESPACE"," ",228],["T_STRING","SIMPLEPIE_CONSTRUCT_IRI",228],")",["T_WHITESPACE","\n\t\t",228],"{",["T_WHITESPACE","\n\t\t\t",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$type",230],["T_WHITESPACE"," ",230],"&",["T_WHITESPACE"," ",230],["T_STRING","SIMPLEPIE_CONSTRUCT_MAYBE_HTML",230],")",["T_WHITESPACE","\n\t\t\t",230],"{",["T_WHITESPACE","\n\t\t\t\t",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_STRING","preg_match",232],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(&(#(x[0-9a-fA-F]+|[0-9]+)|[a-zA-Z0-9]+)|<\\\/[A-Za-z][^\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\x2F\\x3E]*'",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_STRING","SIMPLEPIE_PCRE_HTML_ATTRIBUTE",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'>)\/'",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$data",232],")",")",["T_WHITESPACE","\n\t\t\t\t",232],"{",["T_WHITESPACE","\n\t\t\t\t\t",233],["T_VARIABLE","$type",234],["T_WHITESPACE"," ",234],["T_OR_EQUAL","|=",234],["T_WHITESPACE"," ",234],["T_STRING","SIMPLEPIE_CONSTRUCT_HTML",234],";",["T_WHITESPACE","\n\t\t\t\t",234],"}",["T_WHITESPACE","\n\t\t\t\t",235],["T_ELSE","else",236],["T_WHITESPACE","\n\t\t\t\t",236],"{",["T_WHITESPACE","\n\t\t\t\t\t",237],["T_VARIABLE","$type",238],["T_WHITESPACE"," ",238],["T_OR_EQUAL","|=",238],["T_WHITESPACE"," ",238],["T_STRING","SIMPLEPIE_CONSTRUCT_TEXT",238],";",["T_WHITESPACE","\n\t\t\t\t",238],"}",["T_WHITESPACE","\n\t\t\t",239],"}",["T_WHITESPACE","\n\n\t\t\t",240],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$type",242],["T_WHITESPACE"," ",242],"&",["T_WHITESPACE"," ",242],["T_STRING","SIMPLEPIE_CONSTRUCT_BASE64",242],")",["T_WHITESPACE","\n\t\t\t",242],"{",["T_WHITESPACE","\n\t\t\t\t",243],["T_VARIABLE","$data",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","base64_decode",244],"(",["T_VARIABLE","$data",244],")",";",["T_WHITESPACE","\n\t\t\t",244],"}",["T_WHITESPACE","\n\n\t\t\t",245],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$type",247],["T_WHITESPACE"," ",247],"&",["T_WHITESPACE"," ",247],"(",["T_STRING","SIMPLEPIE_CONSTRUCT_HTML",247],["T_WHITESPACE"," ",247],"|",["T_WHITESPACE"," ",247],["T_STRING","SIMPLEPIE_CONSTRUCT_XHTML",247],")",")",["T_WHITESPACE","\n\t\t\t",247],"{",["T_WHITESPACE","\n\n\t\t\t\t",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_STRING","class_exists",250],"(",["T_CONSTANT_ENCAPSED_STRING","'DOMDocument'",250],")",")",["T_WHITESPACE","\n\t\t\t\t",250],"{",["T_WHITESPACE","\n\t\t\t\t\t",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","registry",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","call",252],"(",["T_CONSTANT_ENCAPSED_STRING","'Misc'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'error'",252],",",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_CONSTANT_ENCAPSED_STRING","'DOMDocument not found, unable to use sanitizer'",252],",",["T_WHITESPACE"," ",252],["T_STRING","E_USER_WARNING",252],",",["T_WHITESPACE"," ",252],["T_FILE","__FILE__",252],",",["T_WHITESPACE"," ",252],["T_LINE","__LINE__",252],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","''",253],";",["T_WHITESPACE","\n\t\t\t\t",253],"}",["T_WHITESPACE","\n\t\t\t\t",254],["T_VARIABLE","$document",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_STRING","DOMDocument",255],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",255],["T_VARIABLE","$document",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","encoding",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",256],";",["T_WHITESPACE","\n\t\t\t\t",256],["T_VARIABLE","$data",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","preprocess",257],"(",["T_VARIABLE","$data",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$type",257],")",";",["T_WHITESPACE","\n\n\t\t\t\t",257],["T_STRING","set_error_handler",259],"(",["T_ARRAY","array",259],"(",["T_CONSTANT_ENCAPSED_STRING","'SimplePie_Misc'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'silence_errors'",259],")",")",";",["T_WHITESPACE","\n\t\t\t\t",259],["T_VARIABLE","$document",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","loadHTML",260],"(",["T_VARIABLE","$data",260],")",";",["T_WHITESPACE","\n\t\t\t\t",260],["T_STRING","restore_error_handler",261],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",261],["T_COMMENT","\/\/ Strip comments\n",263],["T_WHITESPACE","\t\t\t\t",264],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","strip_comments",264],")",["T_WHITESPACE","\n\t\t\t\t",264],"{",["T_WHITESPACE","\n\t\t\t\t\t",265],["T_VARIABLE","$xpath",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","DOMXPath",266],"(",["T_VARIABLE","$document",266],")",";",["T_WHITESPACE","\n\t\t\t\t\t",266],["T_VARIABLE","$comments",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$xpath",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","query",267],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/comment()'",267],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",267],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$comments",269],["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$comment",269],")",["T_WHITESPACE","\n\t\t\t\t\t",269],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",270],["T_VARIABLE","$comment",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","parentNode",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","removeChild",271],"(",["T_VARIABLE","$comment",271],")",";",["T_WHITESPACE","\n\t\t\t\t\t",271],"}",["T_WHITESPACE","\n\t\t\t\t",272],"}",["T_WHITESPACE","\n\n\t\t\t\t",273],["T_COMMENT","\/\/ Strip out HTML tags and attributes that might cause various security problems.\n",275],["T_WHITESPACE","\t\t\t\t",276],["T_COMMENT","\/\/ Based on recommendations by Mark Pilgrim at:\n",276],["T_WHITESPACE","\t\t\t\t",277],["T_COMMENT","\/\/ http:\/\/diveintomark.org\/archives\/2003\/06\/12\/how_to_consume_rss_safely\n",277],["T_WHITESPACE","\t\t\t\t",278],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","strip_htmltags",278],")",["T_WHITESPACE","\n\t\t\t\t",278],"{",["T_WHITESPACE","\n\t\t\t\t\t",279],["T_FOREACH","foreach",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","strip_htmltags",280],["T_WHITESPACE"," ",280],["T_AS","as",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$tag",280],")",["T_WHITESPACE","\n\t\t\t\t\t",280],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","strip_tag",282],"(",["T_VARIABLE","$tag",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$document",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$type",282],")",";",["T_WHITESPACE","\n\t\t\t\t\t",282],"}",["T_WHITESPACE","\n\t\t\t\t",283],"}",["T_WHITESPACE","\n\n\t\t\t\t",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","strip_attributes",286],")",["T_WHITESPACE","\n\t\t\t\t",286],"{",["T_WHITESPACE","\n\t\t\t\t\t",287],["T_FOREACH","foreach",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","strip_attributes",288],["T_WHITESPACE"," ",288],["T_AS","as",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$attrib",288],")",["T_WHITESPACE","\n\t\t\t\t\t",288],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","strip_attr",290],"(",["T_VARIABLE","$attrib",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$document",290],")",";",["T_WHITESPACE","\n\t\t\t\t\t",290],"}",["T_WHITESPACE","\n\t\t\t\t",291],"}",["T_WHITESPACE","\n\n\t\t\t\t",292],["T_COMMENT","\/\/ Replace relative URLs\n",294],["T_WHITESPACE","\t\t\t\t",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","base",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$base",295],";",["T_WHITESPACE","\n\t\t\t\t",295],["T_FOREACH","foreach",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","replace_url_attributes",296],["T_WHITESPACE"," ",296],["T_AS","as",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$element",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$attributes",296],")",["T_WHITESPACE","\n\t\t\t\t",296],"{",["T_WHITESPACE","\n\t\t\t\t\t",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","replace_urls",298],"(",["T_VARIABLE","$document",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$element",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$attributes",298],")",";",["T_WHITESPACE","\n\t\t\t\t",298],"}",["T_WHITESPACE","\n\n\t\t\t\t",299],["T_COMMENT","\/\/ If image handling (caching, etc.) is enabled, cache and rewrite all the image tags.\n",301],["T_WHITESPACE","\t\t\t\t",302],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_ISSET","isset",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","image_handler",302],")",["T_WHITESPACE"," ",302],["T_BOOLEAN_AND","&&",302],["T_WHITESPACE"," ",302],"(",["T_STRING_CAST","(string)",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","image_handler",302],")",["T_WHITESPACE"," ",302],["T_IS_NOT_IDENTICAL","!==",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","''",302],["T_WHITESPACE"," ",302],["T_BOOLEAN_AND","&&",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","enable_cache",302],")",["T_WHITESPACE","\n\t\t\t\t",302],"{",["T_WHITESPACE","\n\t\t\t\t\t",303],["T_VARIABLE","$images",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$document",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getElementsByTagName",304],"(",["T_CONSTANT_ENCAPSED_STRING","'img'",304],")",";",["T_WHITESPACE","\n\t\t\t\t\t",304],["T_FOREACH","foreach",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$images",305],["T_WHITESPACE"," ",305],["T_AS","as",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$img",305],")",["T_WHITESPACE","\n\t\t\t\t\t",305],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",306],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$img",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","hasAttribute",307],"(",["T_CONSTANT_ENCAPSED_STRING","'src'",307],")",")",["T_WHITESPACE","\n\t\t\t\t\t\t",307],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",308],["T_VARIABLE","$image_url",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","call_user_func",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","cache_name_function",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$img",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getAttribute",309],"(",["T_CONSTANT_ENCAPSED_STRING","'src'",309],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",309],["T_VARIABLE","$cache",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","registry",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","call",310],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache'",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'get_handler'",310],",",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","cache_location",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$image_url",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'spi'",310],")",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",310],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$cache",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","load",312],"(",")",")",["T_WHITESPACE","\n\t\t\t\t\t\t\t",312],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",313],["T_VARIABLE","$img",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","setAttribute",314],"(",["T_CONSTANT_ENCAPSED_STRING","'src'",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","image_handler",314],["T_WHITESPACE"," ",314],".",["T_WHITESPACE"," ",314],["T_VARIABLE","$image_url",314],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",314],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",315],["T_ELSE","else",316],["T_WHITESPACE","\n\t\t\t\t\t\t\t",316],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",317],["T_VARIABLE","$file",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","registry",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","create",318],"(",["T_CONSTANT_ENCAPSED_STRING","'File'",318],",",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",["T_VARIABLE","$img",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getAttribute",318],"(",["T_CONSTANT_ENCAPSED_STRING","'src'",318],")",",",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","timeout",318],",",["T_WHITESPACE"," ",318],["T_LNUMBER","5",318],",",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",["T_CONSTANT_ENCAPSED_STRING","'X-FORWARDED-FOR'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$_SERVER",318],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",318],"]",")",",",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","useragent",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","force_fsockopen",318],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",318],["T_VARIABLE","$headers",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$file",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","headers",319],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",319],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$file",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","success",321],["T_WHITESPACE"," ",321],["T_BOOLEAN_AND","&&",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$file",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","method",321],["T_WHITESPACE"," ",321],"&",["T_WHITESPACE"," ",321],["T_STRING","SIMPLEPIE_FILE_SOURCE_REMOTE",321],["T_WHITESPACE"," ",321],["T_IS_IDENTICAL","===",321],["T_WHITESPACE"," ",321],["T_LNUMBER","0",321],["T_WHITESPACE"," ",321],["T_BOOLEAN_OR","||",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$file",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","status_code",321],["T_WHITESPACE"," ",321],["T_IS_IDENTICAL","===",321],["T_WHITESPACE"," ",321],["T_LNUMBER","200",321],["T_WHITESPACE"," ",321],["T_BOOLEAN_OR","||",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$file",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","status_code",321],["T_WHITESPACE"," ",321],">",["T_WHITESPACE"," ",321],["T_LNUMBER","206",321],["T_WHITESPACE"," ",321],["T_BOOLEAN_AND","&&",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$file",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","status_code",321],["T_WHITESPACE"," ",321],"<",["T_WHITESPACE"," ",321],["T_LNUMBER","300",321],")",")",")",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",321],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$cache",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","save",323],"(",["T_ARRAY","array",323],"(",["T_CONSTANT_ENCAPSED_STRING","'headers'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$file",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","headers",323],",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'body'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$file",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","body",323],")",")",")",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",323],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",324],["T_VARIABLE","$img",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","setAttribute",325],"(",["T_CONSTANT_ENCAPSED_STRING","'src'",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","image_handler",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$image_url",325],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",325],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",326],["T_ELSE","else",327],["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",327],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",328],["T_STRING","trigger_error",329],"(","\"",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","cache_location",329],["T_ENCAPSED_AND_WHITESPACE"," is not writeable. Make sure you've set the correct relative or absolute path, and that the location is server-writable.",329],"\"",",",["T_WHITESPACE"," ",329],["T_STRING","E_USER_WARNING",329],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",329],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",330],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",331],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",332],"}",["T_WHITESPACE","\n\t\t\t\t\t",333],"}",["T_WHITESPACE","\n\t\t\t\t",334],"}",["T_WHITESPACE","\n\n\t\t\t\t",335],["T_COMMENT","\/\/ Remove the DOCTYPE\n",337],["T_WHITESPACE","\t\t\t\t",338],["T_COMMENT","\/\/ Seems to cause segfaulting if we don't do this\n",338],["T_WHITESPACE","\t\t\t\t",339],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$document",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","firstChild",339],["T_WHITESPACE"," ",339],["T_INSTANCEOF","instanceof",339],["T_WHITESPACE"," ",339],["T_STRING","DOMDocumentType",339],")",["T_WHITESPACE","\n\t\t\t\t",339],"{",["T_WHITESPACE","\n\t\t\t\t\t",340],["T_VARIABLE","$document",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","removeChild",341],"(",["T_VARIABLE","$document",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","firstChild",341],")",";",["T_WHITESPACE","\n\t\t\t\t",341],"}",["T_WHITESPACE","\n\n\t\t\t\t",342],["T_COMMENT","\/\/ Move everything from the body to the root\n",344],["T_WHITESPACE","\t\t\t\t",345],["T_VARIABLE","$real_body",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$document",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getElementsByTagName",345],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",345],")",["T_OBJECT_OPERATOR","->",345],["T_STRING","item",345],"(",["T_LNUMBER","0",345],")",["T_OBJECT_OPERATOR","->",345],["T_STRING","childNodes",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","item",345],"(",["T_LNUMBER","0",345],")",";",["T_WHITESPACE","\n\t\t\t\t",345],["T_VARIABLE","$document",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","replaceChild",346],"(",["T_VARIABLE","$real_body",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$document",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","firstChild",346],")",";",["T_WHITESPACE","\n\n\t\t\t\t",346],["T_COMMENT","\/\/ Finally, convert to a HTML string\n",348],["T_WHITESPACE","\t\t\t\t",349],["T_VARIABLE","$data",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_STRING","trim",349],"(",["T_VARIABLE","$document",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","saveHTML",349],"(",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",349],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","remove_div",351],")",["T_WHITESPACE","\n\t\t\t\t",351],"{",["T_WHITESPACE","\n\t\t\t\t\t",352],["T_VARIABLE","$data",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","preg_replace",353],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^<div'",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_STRING","SIMPLEPIE_PCRE_XML_ATTRIBUTE",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'>\/'",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","''",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$data",353],")",";",["T_WHITESPACE","\n\t\t\t\t\t",353],["T_VARIABLE","$data",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","preg_replace",354],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<\\\/div>$\/'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","''",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$data",354],")",";",["T_WHITESPACE","\n\t\t\t\t",354],"}",["T_WHITESPACE","\n\t\t\t\t",355],["T_ELSE","else",356],["T_WHITESPACE","\n\t\t\t\t",356],"{",["T_WHITESPACE","\n\t\t\t\t\t",357],["T_VARIABLE","$data",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","preg_replace",358],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^<div'",358],["T_WHITESPACE"," ",358],".",["T_WHITESPACE"," ",358],["T_STRING","SIMPLEPIE_PCRE_XML_ATTRIBUTE",358],["T_WHITESPACE"," ",358],".",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'>\/'",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'<div>'",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$data",358],")",";",["T_WHITESPACE","\n\t\t\t\t",358],"}",["T_WHITESPACE","\n\t\t\t",359],"}",["T_WHITESPACE","\n\n\t\t\t",360],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$type",362],["T_WHITESPACE"," ",362],"&",["T_WHITESPACE"," ",362],["T_STRING","SIMPLEPIE_CONSTRUCT_IRI",362],")",["T_WHITESPACE","\n\t\t\t",362],"{",["T_WHITESPACE","\n\t\t\t\t",363],["T_VARIABLE","$absolute",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","registry",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","call",364],"(",["T_CONSTANT_ENCAPSED_STRING","'Misc'",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'absolutize_url'",364],",",["T_WHITESPACE"," ",364],["T_ARRAY","array",364],"(",["T_VARIABLE","$data",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$base",364],")",")",";",["T_WHITESPACE","\n\t\t\t\t",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$absolute",365],["T_WHITESPACE"," ",365],["T_IS_NOT_IDENTICAL","!==",365],["T_WHITESPACE"," ",365],["T_STRING","false",365],")",["T_WHITESPACE","\n\t\t\t\t",365],"{",["T_WHITESPACE","\n\t\t\t\t\t",366],["T_VARIABLE","$data",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$absolute",367],";",["T_WHITESPACE","\n\t\t\t\t",367],"}",["T_WHITESPACE","\n\t\t\t",368],"}",["T_WHITESPACE","\n\n\t\t\t",369],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_VARIABLE","$type",371],["T_WHITESPACE"," ",371],"&",["T_WHITESPACE"," ",371],"(",["T_STRING","SIMPLEPIE_CONSTRUCT_TEXT",371],["T_WHITESPACE"," ",371],"|",["T_WHITESPACE"," ",371],["T_STRING","SIMPLEPIE_CONSTRUCT_IRI",371],")",")",["T_WHITESPACE","\n\t\t\t",371],"{",["T_WHITESPACE","\n\t\t\t\t",372],["T_VARIABLE","$data",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","htmlspecialchars",373],"(",["T_VARIABLE","$data",373],",",["T_WHITESPACE"," ",373],["T_STRING","ENT_COMPAT",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",373],")",";",["T_WHITESPACE","\n\t\t\t",373],"}",["T_WHITESPACE","\n\n\t\t\t",374],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","output_encoding",376],["T_WHITESPACE"," ",376],["T_IS_NOT_IDENTICAL","!==",376],["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",376],")",["T_WHITESPACE","\n\t\t\t",376],"{",["T_WHITESPACE","\n\t\t\t\t",377],["T_VARIABLE","$data",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","registry",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","call",378],"(",["T_CONSTANT_ENCAPSED_STRING","'Misc'",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'change_encoding'",378],",",["T_WHITESPACE"," ",378],["T_ARRAY","array",378],"(",["T_VARIABLE","$data",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","output_encoding",378],")",")",";",["T_WHITESPACE","\n\t\t\t",378],"}",["T_WHITESPACE","\n\t\t",379],"}",["T_WHITESPACE","\n\t\t",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$data",381],";",["T_WHITESPACE","\n\t",381],"}",["T_WHITESPACE","\n\n\t",382],["T_PROTECTED","protected",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","preprocess",384],"(",["T_VARIABLE","$html",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$type",384],")",["T_WHITESPACE","\n\t",384],"{",["T_WHITESPACE","\n\t\t",385],["T_VARIABLE","$ret",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","''",386],";",["T_WHITESPACE","\n\t\t",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$type",387],["T_WHITESPACE"," ",387],"&",["T_WHITESPACE"," ",387],"~",["T_STRING","SIMPLEPIE_CONSTRUCT_XHTML",387],")",["T_WHITESPACE","\n\t\t",387],"{",["T_WHITESPACE","\n\t\t\t",388],["T_COMMENT","\/\/ Atom XHTML constructs are wrapped with a div by default\n",389],["T_WHITESPACE","\t\t\t",390],["T_COMMENT","\/\/ Note: No protection if $html contains a stray <\/div>!\n",390],["T_WHITESPACE","\t\t\t",391],["T_VARIABLE","$html",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'<div>'",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_VARIABLE","$html",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",391],";",["T_WHITESPACE","\n\t\t\t",391],["T_VARIABLE","$ret",392],["T_WHITESPACE"," ",392],["T_CONCAT_EQUAL",".=",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'<!DOCTYPE html>'",392],";",["T_WHITESPACE","\n\t\t\t",392],["T_VARIABLE","$content_type",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",393],";",["T_WHITESPACE","\n\t\t",393],"}",["T_WHITESPACE","\n\t\t",394],["T_ELSE","else",395],["T_WHITESPACE","\n\t\t",395],"{",["T_WHITESPACE","\n\t\t\t",396],["T_VARIABLE","$ret",397],["T_WHITESPACE"," ",397],["T_CONCAT_EQUAL",".=",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'<!DOCTYPE html PUBLIC \"-\/\/W3C\/\/DTD XHTML 1.0 Strict\/\/EN\" \"http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-strict.dtd\">'",397],";",["T_WHITESPACE","\n\t\t\t",397],["T_VARIABLE","$content_type",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'application\/xhtml+xml'",398],";",["T_WHITESPACE","\n\t\t",398],"}",["T_WHITESPACE","\n\n\t\t",399],["T_VARIABLE","$ret",401],["T_WHITESPACE"," ",401],["T_CONCAT_EQUAL",".=",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'<html><head>'",401],";",["T_WHITESPACE","\n\t\t",401],["T_VARIABLE","$ret",402],["T_WHITESPACE"," ",402],["T_CONCAT_EQUAL",".=",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'<meta http-equiv=\"Content-Type\" content=\"'",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_VARIABLE","$content_type",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'; charset=utf-8\" \/>'",402],";",["T_WHITESPACE","\n\t\t",402],["T_VARIABLE","$ret",403],["T_WHITESPACE"," ",403],["T_CONCAT_EQUAL",".=",403],["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'<\/head><body>'",403],["T_WHITESPACE"," ",403],".",["T_WHITESPACE"," ",403],["T_VARIABLE","$html",403],["T_WHITESPACE"," ",403],".",["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'<\/body><\/html>'",403],";",["T_WHITESPACE","\n\t\t",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$ret",404],";",["T_WHITESPACE","\n\t",404],"}",["T_WHITESPACE","\n\n\t",405],["T_PUBLIC","public",407],["T_WHITESPACE"," ",407],["T_FUNCTION","function",407],["T_WHITESPACE"," ",407],["T_STRING","replace_urls",407],"(",["T_VARIABLE","$document",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$tag",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$attributes",407],")",["T_WHITESPACE","\n\t",407],"{",["T_WHITESPACE","\n\t\t",408],["T_IF","if",409],["T_WHITESPACE"," ",409],"(","!",["T_STRING","is_array",409],"(",["T_VARIABLE","$attributes",409],")",")",["T_WHITESPACE","\n\t\t",409],"{",["T_WHITESPACE","\n\t\t\t",410],["T_VARIABLE","$attributes",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_VARIABLE","$attributes",411],")",";",["T_WHITESPACE","\n\t\t",411],"}",["T_WHITESPACE","\n\n\t\t",412],["T_IF","if",414],["T_WHITESPACE"," ",414],"(","!",["T_STRING","is_array",414],"(",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","strip_htmltags",414],")",["T_WHITESPACE"," ",414],["T_BOOLEAN_OR","||",414],["T_WHITESPACE"," ",414],"!",["T_STRING","in_array",414],"(",["T_VARIABLE","$tag",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","strip_htmltags",414],")",")",["T_WHITESPACE","\n\t\t",414],"{",["T_WHITESPACE","\n\t\t\t",415],["T_VARIABLE","$elements",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$document",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getElementsByTagName",416],"(",["T_VARIABLE","$tag",416],")",";",["T_WHITESPACE","\n\t\t\t",416],["T_FOREACH","foreach",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$elements",417],["T_WHITESPACE"," ",417],["T_AS","as",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$element",417],")",["T_WHITESPACE","\n\t\t\t",417],"{",["T_WHITESPACE","\n\t\t\t\t",418],["T_FOREACH","foreach",419],["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$attributes",419],["T_WHITESPACE"," ",419],["T_AS","as",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$attribute",419],")",["T_WHITESPACE","\n\t\t\t\t",419],"{",["T_WHITESPACE","\n\t\t\t\t\t",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_VARIABLE","$element",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","hasAttribute",421],"(",["T_VARIABLE","$attribute",421],")",")",["T_WHITESPACE","\n\t\t\t\t\t",421],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",422],["T_VARIABLE","$value",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","registry",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","call",423],"(",["T_CONSTANT_ENCAPSED_STRING","'Misc'",423],",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'absolutize_url'",423],",",["T_WHITESPACE"," ",423],["T_ARRAY","array",423],"(",["T_VARIABLE","$element",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getAttribute",423],"(",["T_VARIABLE","$attribute",423],")",",",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","base",423],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$value",424],["T_WHITESPACE"," ",424],["T_IS_NOT_IDENTICAL","!==",424],["T_WHITESPACE"," ",424],["T_STRING","false",424],")",["T_WHITESPACE","\n\t\t\t\t\t\t",424],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",425],["T_VARIABLE","$element",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","setAttribute",426],"(",["T_VARIABLE","$attribute",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$value",426],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",426],"}",["T_WHITESPACE","\n\t\t\t\t\t",427],"}",["T_WHITESPACE","\n\t\t\t\t",428],"}",["T_WHITESPACE","\n\t\t\t",429],"}",["T_WHITESPACE","\n\t\t",430],"}",["T_WHITESPACE","\n\t",431],"}",["T_WHITESPACE","\n\n\t",432],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","do_strip_htmltags",434],"(",["T_VARIABLE","$match",434],")",["T_WHITESPACE","\n\t",434],"{",["T_WHITESPACE","\n\t\t",435],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","encode_instead_of_strip",436],")",["T_WHITESPACE","\n\t\t",436],"{",["T_WHITESPACE","\n\t\t\t",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(",["T_ISSET","isset",438],"(",["T_VARIABLE","$match",438],"[",["T_LNUMBER","4",438],"]",")",["T_WHITESPACE"," ",438],["T_BOOLEAN_AND","&&",438],["T_WHITESPACE"," ",438],"!",["T_STRING","in_array",438],"(",["T_STRING","strtolower",438],"(",["T_VARIABLE","$match",438],"[",["T_LNUMBER","1",438],"]",")",",",["T_WHITESPACE"," ",438],["T_ARRAY","array",438],"(",["T_CONSTANT_ENCAPSED_STRING","'script'",438],",",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'style'",438],")",")",")",["T_WHITESPACE","\n\t\t\t",438],"{",["T_WHITESPACE","\n\t\t\t\t",439],["T_VARIABLE","$match",440],"[",["T_LNUMBER","1",440],"]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","htmlspecialchars",440],"(",["T_VARIABLE","$match",440],"[",["T_LNUMBER","1",440],"]",",",["T_WHITESPACE"," ",440],["T_STRING","ENT_COMPAT",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",440],")",";",["T_WHITESPACE","\n\t\t\t\t",440],["T_VARIABLE","$match",441],"[",["T_LNUMBER","2",441],"]",["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","htmlspecialchars",441],"(",["T_VARIABLE","$match",441],"[",["T_LNUMBER","2",441],"]",",",["T_WHITESPACE"," ",441],["T_STRING","ENT_COMPAT",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",441],")",";",["T_WHITESPACE","\n\t\t\t\t",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],"\"",["T_ENCAPSED_AND_WHITESPACE","&lt;",442],["T_VARIABLE","$match",442],"[",["T_NUM_STRING","1",442],"]",["T_VARIABLE","$match",442],"[",["T_NUM_STRING","2",442],"]",["T_ENCAPSED_AND_WHITESPACE","&gt;",442],["T_VARIABLE","$match",442],"[",["T_NUM_STRING","3",442],"]",["T_ENCAPSED_AND_WHITESPACE","&lt;\/",442],["T_VARIABLE","$match",442],"[",["T_NUM_STRING","1",442],"]",["T_ENCAPSED_AND_WHITESPACE","&gt;",442],"\"",";",["T_WHITESPACE","\n\t\t\t",442],"}",["T_WHITESPACE","\n\t\t\t",443],["T_ELSE","else",444],["T_WHITESPACE","\n\t\t\t",444],"{",["T_WHITESPACE","\n\t\t\t\t",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_STRING","htmlspecialchars",446],"(",["T_VARIABLE","$match",446],"[",["T_LNUMBER","0",446],"]",",",["T_WHITESPACE"," ",446],["T_STRING","ENT_COMPAT",446],",",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",446],")",";",["T_WHITESPACE","\n\t\t\t",446],"}",["T_WHITESPACE","\n\t\t",447],"}",["T_WHITESPACE","\n\t\t",448],["T_ELSEIF","elseif",449],["T_WHITESPACE"," ",449],"(",["T_ISSET","isset",449],"(",["T_VARIABLE","$match",449],"[",["T_LNUMBER","4",449],"]",")",["T_WHITESPACE"," ",449],["T_BOOLEAN_AND","&&",449],["T_WHITESPACE"," ",449],"!",["T_STRING","in_array",449],"(",["T_STRING","strtolower",449],"(",["T_VARIABLE","$match",449],"[",["T_LNUMBER","1",449],"]",")",",",["T_WHITESPACE"," ",449],["T_ARRAY","array",449],"(",["T_CONSTANT_ENCAPSED_STRING","'script'",449],",",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'style'",449],")",")",")",["T_WHITESPACE","\n\t\t",449],"{",["T_WHITESPACE","\n\t\t\t",450],["T_RETURN","return",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$match",451],"[",["T_LNUMBER","4",451],"]",";",["T_WHITESPACE","\n\t\t",451],"}",["T_WHITESPACE","\n\t\t",452],["T_ELSE","else",453],["T_WHITESPACE","\n\t\t",453],"{",["T_WHITESPACE","\n\t\t\t",454],["T_RETURN","return",455],["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","''",455],";",["T_WHITESPACE","\n\t\t",455],"}",["T_WHITESPACE","\n\t",456],"}",["T_WHITESPACE","\n\n\t",457],["T_PROTECTED","protected",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","strip_tag",459],"(",["T_VARIABLE","$tag",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$document",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$type",459],")",["T_WHITESPACE","\n\t",459],"{",["T_WHITESPACE","\n\t\t",460],["T_VARIABLE","$xpath",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_NEW","new",461],["T_WHITESPACE"," ",461],["T_STRING","DOMXPath",461],"(",["T_VARIABLE","$document",461],")",";",["T_WHITESPACE","\n\t\t",461],["T_VARIABLE","$elements",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$xpath",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","query",462],"(",["T_CONSTANT_ENCAPSED_STRING","'body\/\/'",462],["T_WHITESPACE"," ",462],".",["T_WHITESPACE"," ",462],["T_VARIABLE","$tag",462],")",";",["T_WHITESPACE","\n\t\t",462],["T_IF","if",463],["T_WHITESPACE"," ",463],"(",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","encode_instead_of_strip",463],")",["T_WHITESPACE","\n\t\t",463],"{",["T_WHITESPACE","\n\t\t\t",464],["T_FOREACH","foreach",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$elements",465],["T_WHITESPACE"," ",465],["T_AS","as",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$element",465],")",["T_WHITESPACE","\n\t\t\t",465],"{",["T_WHITESPACE","\n\t\t\t\t",466],["T_VARIABLE","$fragment",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$document",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","createDocumentFragment",467],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",467],["T_COMMENT","\/\/ For elements which aren't script or style, include the tag itself\n",469],["T_WHITESPACE","\t\t\t\t",470],["T_IF","if",470],["T_WHITESPACE"," ",470],"(","!",["T_STRING","in_array",470],"(",["T_VARIABLE","$tag",470],",",["T_WHITESPACE"," ",470],["T_ARRAY","array",470],"(",["T_CONSTANT_ENCAPSED_STRING","'script'",470],",",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'style'",470],")",")",")",["T_WHITESPACE","\n\t\t\t\t",470],"{",["T_WHITESPACE","\n\t\t\t\t\t",471],["T_VARIABLE","$text",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'<'",472],["T_WHITESPACE"," ",472],".",["T_WHITESPACE"," ",472],["T_VARIABLE","$tag",472],";",["T_WHITESPACE","\n\t\t\t\t\t",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$element",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","hasAttributes",473],"(",")",")",["T_WHITESPACE","\n\t\t\t\t\t",473],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",474],["T_VARIABLE","$attrs",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_ARRAY","array",475],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",475],["T_FOREACH","foreach",476],["T_WHITESPACE"," ",476],"(",["T_VARIABLE","$element",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","attributes",476],["T_WHITESPACE"," ",476],["T_AS","as",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$name",476],["T_WHITESPACE"," ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$attr",476],")",["T_WHITESPACE","\n\t\t\t\t\t\t",476],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",477],["T_VARIABLE","$value",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_VARIABLE","$attr",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","value",478],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",478],["T_COMMENT","\/\/ In XHTML, empty values should never exist, so we repeat the value\n",480],["T_WHITESPACE","\t\t\t\t\t\t\t",481],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_EMPTY","empty",481],"(",["T_VARIABLE","$value",481],")",["T_WHITESPACE"," ",481],["T_BOOLEAN_AND","&&",481],["T_WHITESPACE"," ",481],"(",["T_VARIABLE","$type",481],["T_WHITESPACE"," ",481],"&",["T_WHITESPACE"," ",481],["T_STRING","SIMPLEPIE_CONSTRUCT_XHTML",481],")",")",["T_WHITESPACE","\n\t\t\t\t\t\t\t",481],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",482],["T_VARIABLE","$value",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$name",483],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",483],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",484],["T_COMMENT","\/\/ For HTML, empty is fine\n",485],["T_WHITESPACE","\t\t\t\t\t\t\t",486],["T_ELSEIF","elseif",486],["T_WHITESPACE"," ",486],"(",["T_EMPTY","empty",486],"(",["T_VARIABLE","$value",486],")",["T_WHITESPACE"," ",486],["T_BOOLEAN_AND","&&",486],["T_WHITESPACE"," ",486],"(",["T_VARIABLE","$type",486],["T_WHITESPACE"," ",486],"&",["T_WHITESPACE"," ",486],["T_STRING","SIMPLEPIE_CONSTRUCT_HTML",486],")",")",["T_WHITESPACE","\n\t\t\t\t\t\t\t",486],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",487],["T_VARIABLE","$attrs",488],"[","]",["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$name",488],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",488],["T_CONTINUE","continue",489],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",489],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",490],["T_COMMENT","\/\/ Standard attribute text\n",492],["T_WHITESPACE","\t\t\t\t\t\t\t",493],["T_VARIABLE","$attrs",493],"[","]",["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$name",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'=\"'",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_VARIABLE","$attr",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","value",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'\"'",493],";",["T_WHITESPACE","\n\t\t\t\t\t\t",493],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",494],["T_VARIABLE","$text",495],["T_WHITESPACE"," ",495],["T_CONCAT_EQUAL",".=",495],["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","' '",495],["T_WHITESPACE"," ",495],".",["T_WHITESPACE"," ",495],["T_STRING","implode",495],"(",["T_CONSTANT_ENCAPSED_STRING","' '",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$attrs",495],")",";",["T_WHITESPACE","\n\t\t\t\t\t",495],"}",["T_WHITESPACE","\n\t\t\t\t\t",496],["T_VARIABLE","$text",497],["T_WHITESPACE"," ",497],["T_CONCAT_EQUAL",".=",497],["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","'>'",497],";",["T_WHITESPACE","\n\t\t\t\t\t",497],["T_VARIABLE","$fragment",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","appendChild",498],"(",["T_NEW","new",498],["T_WHITESPACE"," ",498],["T_STRING","DOMText",498],"(",["T_VARIABLE","$text",498],")",")",";",["T_WHITESPACE","\n\t\t\t\t",498],"}",["T_WHITESPACE","\n\n\t\t\t\t",499],["T_VARIABLE","$number",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$element",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","childNodes",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","length",501],";",["T_WHITESPACE","\n\t\t\t\t",501],["T_FOR","for",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$i",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$number",502],";",["T_WHITESPACE"," ",502],["T_VARIABLE","$i",502],["T_WHITESPACE"," ",502],">",["T_WHITESPACE"," ",502],["T_LNUMBER","0",502],";",["T_WHITESPACE"," ",502],["T_VARIABLE","$i",502],["T_DEC","--",502],")",["T_WHITESPACE","\n\t\t\t\t",502],"{",["T_WHITESPACE","\n\t\t\t\t\t",503],["T_VARIABLE","$child",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$element",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","childNodes",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","item",504],"(",["T_LNUMBER","0",504],")",";",["T_WHITESPACE","\n\t\t\t\t\t",504],["T_VARIABLE","$fragment",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","appendChild",505],"(",["T_VARIABLE","$child",505],")",";",["T_WHITESPACE","\n\t\t\t\t",505],"}",["T_WHITESPACE","\n\n\t\t\t\t",506],["T_IF","if",508],["T_WHITESPACE"," ",508],"(","!",["T_STRING","in_array",508],"(",["T_VARIABLE","$tag",508],",",["T_WHITESPACE"," ",508],["T_ARRAY","array",508],"(",["T_CONSTANT_ENCAPSED_STRING","'script'",508],",",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'style'",508],")",")",")",["T_WHITESPACE","\n\t\t\t\t",508],"{",["T_WHITESPACE","\n\t\t\t\t\t",509],["T_VARIABLE","$fragment",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","appendChild",510],"(",["T_NEW","new",510],["T_WHITESPACE"," ",510],["T_STRING","DOMText",510],"(",["T_CONSTANT_ENCAPSED_STRING","'<\/'",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_VARIABLE","$tag",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","'>'",510],")",")",";",["T_WHITESPACE","\n\t\t\t\t",510],"}",["T_WHITESPACE","\n\n\t\t\t\t",511],["T_VARIABLE","$element",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","parentNode",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","replaceChild",513],"(",["T_VARIABLE","$fragment",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$element",513],")",";",["T_WHITESPACE","\n\t\t\t",513],"}",["T_WHITESPACE","\n\n\t\t\t",514],["T_RETURN","return",516],";",["T_WHITESPACE","\n\t\t",516],"}",["T_WHITESPACE","\n\t\t",517],["T_ELSEIF","elseif",518],["T_WHITESPACE"," ",518],"(",["T_STRING","in_array",518],"(",["T_VARIABLE","$tag",518],",",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",["T_CONSTANT_ENCAPSED_STRING","'script'",518],",",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'style'",518],")",")",")",["T_WHITESPACE","\n\t\t",518],"{",["T_WHITESPACE","\n\t\t\t",519],["T_FOREACH","foreach",520],["T_WHITESPACE"," ",520],"(",["T_VARIABLE","$elements",520],["T_WHITESPACE"," ",520],["T_AS","as",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$element",520],")",["T_WHITESPACE","\n\t\t\t",520],"{",["T_WHITESPACE","\n\t\t\t\t",521],["T_VARIABLE","$element",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","parentNode",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","removeChild",522],"(",["T_VARIABLE","$element",522],")",";",["T_WHITESPACE","\n\t\t\t",522],"}",["T_WHITESPACE","\n\n\t\t\t",523],["T_RETURN","return",525],";",["T_WHITESPACE","\n\t\t",525],"}",["T_WHITESPACE","\n\t\t",526],["T_ELSE","else",527],["T_WHITESPACE","\n\t\t",527],"{",["T_WHITESPACE","\n\t\t\t",528],["T_FOREACH","foreach",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$elements",529],["T_WHITESPACE"," ",529],["T_AS","as",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$element",529],")",["T_WHITESPACE","\n\t\t\t",529],"{",["T_WHITESPACE","\n\t\t\t\t",530],["T_VARIABLE","$fragment",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_VARIABLE","$document",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","createDocumentFragment",531],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",531],["T_VARIABLE","$number",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_VARIABLE","$element",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","childNodes",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","length",532],";",["T_WHITESPACE","\n\t\t\t\t",532],["T_FOR","for",533],["T_WHITESPACE"," ",533],"(",["T_VARIABLE","$i",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$number",533],";",["T_WHITESPACE"," ",533],["T_VARIABLE","$i",533],["T_WHITESPACE"," ",533],">",["T_WHITESPACE"," ",533],["T_LNUMBER","0",533],";",["T_WHITESPACE"," ",533],["T_VARIABLE","$i",533],["T_DEC","--",533],")",["T_WHITESPACE","\n\t\t\t\t",533],"{",["T_WHITESPACE","\n\t\t\t\t\t",534],["T_VARIABLE","$child",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$element",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","childNodes",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","item",535],"(",["T_LNUMBER","0",535],")",";",["T_WHITESPACE","\n\t\t\t\t\t",535],["T_VARIABLE","$fragment",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","appendChild",536],"(",["T_VARIABLE","$child",536],")",";",["T_WHITESPACE","\n\t\t\t\t",536],"}",["T_WHITESPACE","\n\n\t\t\t\t",537],["T_VARIABLE","$element",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","parentNode",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","replaceChild",539],"(",["T_VARIABLE","$fragment",539],",",["T_WHITESPACE"," ",539],["T_VARIABLE","$element",539],")",";",["T_WHITESPACE","\n\t\t\t",539],"}",["T_WHITESPACE","\n\t\t",540],"}",["T_WHITESPACE","\n\t",541],"}",["T_WHITESPACE","\n\n\t",542],["T_PROTECTED","protected",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","strip_attr",544],"(",["T_VARIABLE","$attrib",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$document",544],")",["T_WHITESPACE","\n\t",544],"{",["T_WHITESPACE","\n\t\t",545],["T_VARIABLE","$xpath",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_NEW","new",546],["T_WHITESPACE"," ",546],["T_STRING","DOMXPath",546],"(",["T_VARIABLE","$document",546],")",";",["T_WHITESPACE","\n\t\t",546],["T_VARIABLE","$elements",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_VARIABLE","$xpath",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","query",547],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[@'",547],["T_WHITESPACE"," ",547],".",["T_WHITESPACE"," ",547],["T_VARIABLE","$attrib",547],["T_WHITESPACE"," ",547],".",["T_WHITESPACE"," ",547],["T_CONSTANT_ENCAPSED_STRING","']'",547],")",";",["T_WHITESPACE","\n\n\t\t",547],["T_FOREACH","foreach",549],["T_WHITESPACE"," ",549],"(",["T_VARIABLE","$elements",549],["T_WHITESPACE"," ",549],["T_AS","as",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$element",549],")",["T_WHITESPACE","\n\t\t",549],"{",["T_WHITESPACE","\n\t\t\t",550],["T_VARIABLE","$element",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","removeAttribute",551],"(",["T_VARIABLE","$attrib",551],")",";",["T_WHITESPACE","\n\t\t",551],"}",["T_WHITESPACE","\n\t",552],"}",["T_WHITESPACE","\n",553],"}",["T_WHITESPACE","\n",554]]