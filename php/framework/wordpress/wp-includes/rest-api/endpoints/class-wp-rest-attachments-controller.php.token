[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * REST API: WP_REST_Attachments_Controller class\n *\n * @package WordPress\n * @subpackage REST_API\n * @since 4.7.0\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Core controller used to access attachments via the REST API.\n *\n * @since 4.7.0\n *\n * @see WP_REST_Posts_Controller\n *\/",10],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","WP_REST_Attachments_Controller",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WP_REST_Posts_Controller",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n\t",17],["T_DOC_COMMENT","\/**\n\t * Determines the allowed query_vars for a get_items() response and\n\t * prepares for WP_Query.\n\t *\n\t * @since 4.7.0\n\t * @access protected\n\t *\n\t * @param array           $prepared_args Optional. Array of prepared arguments. Default empty array.\n\t * @param WP_REST_Request $request       Optional. Request to prepare items for.\n\t * @return array Array of query arguments.\n\t *\/",19],["T_WHITESPACE","\n\t",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","prepare_items_query",30],"(",["T_WHITESPACE"," ",30],["T_VARIABLE","$prepared_args",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$request",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","null",30],["T_WHITESPACE"," ",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t",30],["T_VARIABLE","$query_args",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","prepare_items_query",31],"(",["T_WHITESPACE"," ",31],["T_VARIABLE","$prepared_args",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$request",31],["T_WHITESPACE"," ",31],")",";",["T_WHITESPACE","\n\n\t\t",31],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_WHITESPACE"," ",33],["T_EMPTY","empty",33],"(",["T_WHITESPACE"," ",33],["T_VARIABLE","$query_args",33],"[",["T_CONSTANT_ENCAPSED_STRING","'post_status'",33],"]",["T_WHITESPACE"," ",33],")",["T_WHITESPACE"," ",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n\t\t\t",33],["T_VARIABLE","$query_args",34],"[",["T_CONSTANT_ENCAPSED_STRING","'post_status'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'inherit'",34],";",["T_WHITESPACE","\n\t\t",34],"}",["T_WHITESPACE","\n\n\t\t",35],["T_VARIABLE","$media_types",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","get_media_types",37],"(",")",";",["T_WHITESPACE","\n\n\t\t",37],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_WHITESPACE"," ",39],"!",["T_WHITESPACE"," ",39],["T_EMPTY","empty",39],"(",["T_WHITESPACE"," ",39],["T_VARIABLE","$request",39],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",39],"]",["T_WHITESPACE"," ",39],")",["T_WHITESPACE"," ",39],["T_BOOLEAN_AND","&&",39],["T_WHITESPACE"," ",39],["T_ISSET","isset",39],"(",["T_WHITESPACE"," ",39],["T_VARIABLE","$media_types",39],"[",["T_WHITESPACE"," ",39],["T_VARIABLE","$request",39],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",39],"]",["T_WHITESPACE"," ",39],"]",["T_WHITESPACE"," ",39],")",["T_WHITESPACE"," ",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n\t\t\t",39],["T_VARIABLE","$query_args",40],"[",["T_CONSTANT_ENCAPSED_STRING","'post_mime_type'",40],"]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$media_types",40],"[",["T_WHITESPACE"," ",40],["T_VARIABLE","$request",40],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",40],"]",["T_WHITESPACE"," ",40],"]",";",["T_WHITESPACE","\n\t\t",40],"}",["T_WHITESPACE","\n\n\t\t",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_WHITESPACE"," ",43],"!",["T_WHITESPACE"," ",43],["T_EMPTY","empty",43],"(",["T_WHITESPACE"," ",43],["T_VARIABLE","$request",43],"[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",43],"]",["T_WHITESPACE"," ",43],")",["T_WHITESPACE"," ",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t",43],["T_VARIABLE","$parts",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","explode",44],"(",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'\/'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$request",44],"[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",44],"]",["T_WHITESPACE"," ",44],")",";",["T_WHITESPACE","\n\t\t\t",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_WHITESPACE"," ",45],["T_ISSET","isset",45],"(",["T_WHITESPACE"," ",45],["T_VARIABLE","$media_types",45],"[",["T_WHITESPACE"," ",45],["T_VARIABLE","$parts",45],"[",["T_LNUMBER","0",45],"]",["T_WHITESPACE"," ",45],"]",["T_WHITESPACE"," ",45],")",["T_WHITESPACE"," ",45],["T_BOOLEAN_AND","&&",45],["T_WHITESPACE"," ",45],["T_STRING","in_array",45],"(",["T_WHITESPACE"," ",45],["T_VARIABLE","$request",45],"[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",45],"]",",",["T_WHITESPACE"," ",45],["T_VARIABLE","$media_types",45],"[",["T_WHITESPACE"," ",45],["T_VARIABLE","$parts",45],"[",["T_LNUMBER","0",45],"]",["T_WHITESPACE"," ",45],"]",",",["T_WHITESPACE"," ",45],["T_STRING","true",45],["T_WHITESPACE"," ",45],")",["T_WHITESPACE"," ",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n\t\t\t\t",45],["T_VARIABLE","$query_args",46],"[",["T_CONSTANT_ENCAPSED_STRING","'post_mime_type'",46],"]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$request",46],"[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",46],"]",";",["T_WHITESPACE","\n\t\t\t",46],"}",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\n\t\t",48],["T_COMMENT","\/\/ Filter query clauses to include filenames.\n",50],["T_WHITESPACE","\t\t",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_WHITESPACE"," ",51],["T_ISSET","isset",51],"(",["T_WHITESPACE"," ",51],["T_VARIABLE","$query_args",51],"[",["T_CONSTANT_ENCAPSED_STRING","'s'",51],"]",["T_WHITESPACE"," ",51],")",["T_WHITESPACE"," ",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n\t\t\t",51],["T_STRING","add_filter",52],"(",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'posts_clauses'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'_filter_query_attachment_filenames'",52],["T_WHITESPACE"," ",52],")",";",["T_WHITESPACE","\n\t\t",52],"}",["T_WHITESPACE","\n\n\t\t",53],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$query_args",55],";",["T_WHITESPACE","\n\t",55],"}",["T_WHITESPACE","\n\n\t",56],["T_DOC_COMMENT","\/**\n\t * Checks if a given request has access to create an attachment.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_REST_Request $request Full details about the request.\n\t * @return WP_Error|true Boolean true if the attachment may be created, or a WP_Error if not.\n\t *\/",58],["T_WHITESPACE","\n\t",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","create_item_permissions_check",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$request",67],["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$ret",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","parent",68],["T_DOUBLE_COLON","::",68],["T_STRING","create_item_permissions_check",68],"(",["T_WHITESPACE"," ",68],["T_VARIABLE","$request",68],["T_WHITESPACE"," ",68],")",";",["T_WHITESPACE","\n\n\t\t",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_WHITESPACE"," ",70],"!",["T_WHITESPACE"," ",70],["T_VARIABLE","$ret",70],["T_WHITESPACE"," ",70],["T_BOOLEAN_OR","||",70],["T_WHITESPACE"," ",70],["T_STRING","is_wp_error",70],"(",["T_WHITESPACE"," ",70],["T_VARIABLE","$ret",70],["T_WHITESPACE"," ",70],")",["T_WHITESPACE"," ",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$ret",71],";",["T_WHITESPACE","\n\t\t",71],"}",["T_WHITESPACE","\n\n\t\t",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_WHITESPACE"," ",74],"!",["T_WHITESPACE"," ",74],["T_STRING","current_user_can",74],"(",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'upload_files'",74],["T_WHITESPACE"," ",74],")",["T_WHITESPACE"," ",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t\t",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","WP_Error",75],"(",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'rest_cannot_create'",75],",",["T_WHITESPACE"," ",75],["T_STRING","__",75],"(",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Sorry, you are not allowed to upload media on this site.'",75],["T_WHITESPACE"," ",75],")",",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'status'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_LNUMBER","400",75],["T_WHITESPACE"," ",75],")",["T_WHITESPACE"," ",75],")",";",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE","\n\n\t\t",76],["T_COMMENT","\/\/ Attaching media to a post requires ability to edit said post.\n",78],["T_WHITESPACE","\t\t",79],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_WHITESPACE"," ",79],"!",["T_WHITESPACE"," ",79],["T_EMPTY","empty",79],"(",["T_WHITESPACE"," ",79],["T_VARIABLE","$request",79],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",79],"]",["T_WHITESPACE"," ",79],")",["T_WHITESPACE"," ",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n\t\t\t",79],["T_VARIABLE","$parent",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","get_post",80],"(",["T_WHITESPACE"," ",80],["T_INT_CAST","(int)",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$request",80],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",80],"]",["T_WHITESPACE"," ",80],")",";",["T_WHITESPACE","\n\t\t\t",80],["T_VARIABLE","$post_parent_type",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","get_post_type_object",81],"(",["T_WHITESPACE"," ",81],["T_VARIABLE","$parent",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","post_type",81],["T_WHITESPACE"," ",81],")",";",["T_WHITESPACE","\n\n\t\t\t",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_WHITESPACE"," ",83],"!",["T_WHITESPACE"," ",83],["T_STRING","current_user_can",83],"(",["T_WHITESPACE"," ",83],["T_VARIABLE","$post_parent_type",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","cap",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","edit_post",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$request",83],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",83],"]",["T_WHITESPACE"," ",83],")",["T_WHITESPACE"," ",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t\t",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","WP_Error",84],"(",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'rest_cannot_edit'",84],",",["T_WHITESPACE"," ",84],["T_STRING","__",84],"(",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Sorry, you are not allowed to upload media to this post.'",84],["T_WHITESPACE"," ",84],")",",",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'status'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","rest_authorization_required_code",84],"(",")",["T_WHITESPACE"," ",84],")",["T_WHITESPACE"," ",84],")",";",["T_WHITESPACE","\n\t\t\t",84],"}",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\n\t\t",86],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","true",88],";",["T_WHITESPACE","\n\t",88],"}",["T_WHITESPACE","\n\n\t",89],["T_DOC_COMMENT","\/**\n\t * Creates a single attachment.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_REST_Request $request Full details about the request.\n\t * @return WP_Error|WP_REST_Response Response object on success, WP_Error object on failure.\n\t *\/",91],["T_WHITESPACE","\n\t",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","create_item",100],"(",["T_WHITESPACE"," ",100],["T_VARIABLE","$request",100],["T_WHITESPACE"," ",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\n\t\t",100],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_WHITESPACE"," ",102],"!",["T_WHITESPACE"," ",102],["T_EMPTY","empty",102],"(",["T_WHITESPACE"," ",102],["T_VARIABLE","$request",102],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",102],"]",["T_WHITESPACE"," ",102],")",["T_WHITESPACE"," ",102],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE"," ",102],["T_STRING","in_array",102],"(",["T_WHITESPACE"," ",102],["T_STRING","get_post_type",102],"(",["T_WHITESPACE"," ",102],["T_VARIABLE","$request",102],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",102],"]",["T_WHITESPACE"," ",102],")",",",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'revision'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'attachment'",102],["T_WHITESPACE"," ",102],")",",",["T_WHITESPACE"," ",102],["T_STRING","true",102],["T_WHITESPACE"," ",102],")",["T_WHITESPACE"," ",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t\t\t",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","WP_Error",103],"(",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'rest_invalid_param'",103],",",["T_WHITESPACE"," ",103],["T_STRING","__",103],"(",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Invalid parent type.'",103],["T_WHITESPACE"," ",103],")",",",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'status'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_LNUMBER","400",103],["T_WHITESPACE"," ",103],")",["T_WHITESPACE"," ",103],")",";",["T_WHITESPACE","\n\t\t",103],"}",["T_WHITESPACE","\n\n\t\t",104],["T_COMMENT","\/\/ Get the file via $_FILES or raw data.\n",106],["T_WHITESPACE","\t\t",107],["T_VARIABLE","$files",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$request",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get_file_params",107],"(",")",";",["T_WHITESPACE","\n\t\t",107],["T_VARIABLE","$headers",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$request",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","get_headers",108],"(",")",";",["T_WHITESPACE","\n\n\t\t",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_WHITESPACE"," ",110],"!",["T_WHITESPACE"," ",110],["T_EMPTY","empty",110],"(",["T_WHITESPACE"," ",110],["T_VARIABLE","$files",110],["T_WHITESPACE"," ",110],")",["T_WHITESPACE"," ",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\t\t\t",110],["T_VARIABLE","$file",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","upload_from_file",111],"(",["T_WHITESPACE"," ",111],["T_VARIABLE","$files",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$headers",111],["T_WHITESPACE"," ",111],")",";",["T_WHITESPACE","\n\t\t",111],"}",["T_WHITESPACE"," ",112],["T_ELSE","else",112],["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n\t\t\t",112],["T_VARIABLE","$file",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","upload_from_data",113],"(",["T_WHITESPACE"," ",113],["T_VARIABLE","$request",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","get_body",113],"(",")",",",["T_WHITESPACE"," ",113],["T_VARIABLE","$headers",113],["T_WHITESPACE"," ",113],")",";",["T_WHITESPACE","\n\t\t",113],"}",["T_WHITESPACE","\n\n\t\t",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_WHITESPACE"," ",116],["T_STRING","is_wp_error",116],"(",["T_WHITESPACE"," ",116],["T_VARIABLE","$file",116],["T_WHITESPACE"," ",116],")",["T_WHITESPACE"," ",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n\t\t\t",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$file",117],";",["T_WHITESPACE","\n\t\t",117],"}",["T_WHITESPACE","\n\n\t\t",118],["T_VARIABLE","$name",120],["T_WHITESPACE","       ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","basename",120],"(",["T_WHITESPACE"," ",120],["T_VARIABLE","$file",120],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",120],"]",["T_WHITESPACE"," ",120],")",";",["T_WHITESPACE","\n\t\t",120],["T_VARIABLE","$name_parts",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","pathinfo",121],"(",["T_WHITESPACE"," ",121],["T_VARIABLE","$name",121],["T_WHITESPACE"," ",121],")",";",["T_WHITESPACE","\n\t\t",121],["T_VARIABLE","$name",122],["T_WHITESPACE","       ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","trim",122],"(",["T_WHITESPACE"," ",122],["T_STRING","substr",122],"(",["T_WHITESPACE"," ",122],["T_VARIABLE","$name",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","0",122],",",["T_WHITESPACE"," ",122],"-","(",["T_LNUMBER","1",122],["T_WHITESPACE"," ",122],"+",["T_WHITESPACE"," ",122],["T_STRING","strlen",122],"(",["T_WHITESPACE"," ",122],["T_VARIABLE","$name_parts",122],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",122],"]",["T_WHITESPACE"," ",122],")",["T_WHITESPACE"," ",122],")",["T_WHITESPACE"," ",122],")",["T_WHITESPACE"," ",122],")",";",["T_WHITESPACE","\n\n\t\t",122],["T_VARIABLE","$url",124],["T_WHITESPACE","     ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$file",124],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",124],"]",";",["T_WHITESPACE","\n\t\t",124],["T_VARIABLE","$type",125],["T_WHITESPACE","    ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$file",125],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",125],"]",";",["T_WHITESPACE","\n\t\t",125],["T_VARIABLE","$file",126],["T_WHITESPACE","    ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$file",126],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",126],"]",";",["T_WHITESPACE","\n\n\t\t",126],["T_COMMENT","\/\/ use image exif\/iptc data for title and caption defaults if possible\n",128],["T_WHITESPACE","\t\t",129],["T_VARIABLE","$image_meta",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],"@",["T_STRING","wp_read_image_metadata",129],"(",["T_WHITESPACE"," ",129],["T_VARIABLE","$file",129],["T_WHITESPACE"," ",129],")",";",["T_WHITESPACE","\n\n\t\t",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_WHITESPACE"," ",131],"!",["T_WHITESPACE"," ",131],["T_EMPTY","empty",131],"(",["T_WHITESPACE"," ",131],["T_VARIABLE","$image_meta",131],["T_WHITESPACE"," ",131],")",["T_WHITESPACE"," ",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\t\t\t",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_WHITESPACE"," ",132],["T_EMPTY","empty",132],"(",["T_WHITESPACE"," ",132],["T_VARIABLE","$request",132],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",132],"]",["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],["T_BOOLEAN_AND","&&",132],["T_WHITESPACE"," ",132],["T_STRING","trim",132],"(",["T_WHITESPACE"," ",132],["T_VARIABLE","$image_meta",132],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",132],"]",["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],["T_BOOLEAN_AND","&&",132],["T_WHITESPACE"," ",132],"!",["T_WHITESPACE"," ",132],["T_STRING","is_numeric",132],"(",["T_WHITESPACE"," ",132],["T_STRING","sanitize_title",132],"(",["T_WHITESPACE"," ",132],["T_VARIABLE","$image_meta",132],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",132],"]",["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n\t\t\t\t",132],["T_VARIABLE","$request",133],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",133],"]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$image_meta",133],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",133],"]",";",["T_WHITESPACE","\n\t\t\t",133],"}",["T_WHITESPACE","\n\n\t\t\t",134],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_WHITESPACE"," ",136],["T_EMPTY","empty",136],"(",["T_WHITESPACE"," ",136],["T_VARIABLE","$request",136],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",136],"]",["T_WHITESPACE"," ",136],")",["T_WHITESPACE"," ",136],["T_BOOLEAN_AND","&&",136],["T_WHITESPACE"," ",136],["T_STRING","trim",136],"(",["T_WHITESPACE"," ",136],["T_VARIABLE","$image_meta",136],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",136],"]",["T_WHITESPACE"," ",136],")",["T_WHITESPACE"," ",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n\t\t\t\t",136],["T_VARIABLE","$request",137],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$image_meta",137],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",137],"]",";",["T_WHITESPACE","\n\t\t\t",137],"}",["T_WHITESPACE","\n\t\t",138],"}",["T_WHITESPACE","\n\n\t\t",139],["T_VARIABLE","$attachment",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","prepare_item_for_database",141],"(",["T_WHITESPACE"," ",141],["T_VARIABLE","$request",141],["T_WHITESPACE"," ",141],")",";",["T_WHITESPACE","\n\t\t",141],["T_VARIABLE","$attachment",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","file",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$file",142],";",["T_WHITESPACE","\n\t\t",142],["T_VARIABLE","$attachment",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","post_mime_type",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$type",143],";",["T_WHITESPACE","\n\t\t",143],["T_VARIABLE","$attachment",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","guid",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$url",144],";",["T_WHITESPACE","\n\n\t\t",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_WHITESPACE"," ",146],["T_EMPTY","empty",146],"(",["T_WHITESPACE"," ",146],["T_VARIABLE","$attachment",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","post_title",146],["T_WHITESPACE"," ",146],")",["T_WHITESPACE"," ",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n\t\t\t",146],["T_VARIABLE","$attachment",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","post_title",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","preg_replace",147],"(",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'\/\\.[^.]+$\/'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","''",147],",",["T_WHITESPACE"," ",147],["T_STRING","basename",147],"(",["T_WHITESPACE"," ",147],["T_VARIABLE","$file",147],["T_WHITESPACE"," ",147],")",["T_WHITESPACE"," ",147],")",";",["T_WHITESPACE","\n\t\t",147],"}",["T_WHITESPACE","\n\n\t\t",148],["T_VARIABLE","$id",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","wp_insert_post",150],"(",["T_WHITESPACE"," ",150],["T_STRING","wp_slash",150],"(",["T_WHITESPACE"," ",150],["T_ARRAY_CAST","(array)",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$attachment",150],["T_WHITESPACE"," ",150],")",",",["T_WHITESPACE"," ",150],["T_STRING","true",150],["T_WHITESPACE"," ",150],")",";",["T_WHITESPACE","\n\n\t\t",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_WHITESPACE"," ",152],["T_STRING","is_wp_error",152],"(",["T_WHITESPACE"," ",152],["T_VARIABLE","$id",152],["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'db_update_error'",153],["T_WHITESPACE"," ",153],["T_IS_IDENTICAL","===",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$id",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","get_error_code",153],"(",")",["T_WHITESPACE"," ",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n\t\t\t\t",153],["T_VARIABLE","$id",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","add_data",154],"(",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'status'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_LNUMBER","500",154],["T_WHITESPACE"," ",154],")",["T_WHITESPACE"," ",154],")",";",["T_WHITESPACE","\n\t\t\t",154],"}",["T_WHITESPACE"," ",155],["T_ELSE","else",155],["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n\t\t\t\t",155],["T_VARIABLE","$id",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","add_data",156],"(",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'status'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_LNUMBER","400",156],["T_WHITESPACE"," ",156],")",["T_WHITESPACE"," ",156],")",";",["T_WHITESPACE","\n\t\t\t",156],"}",["T_WHITESPACE","\n\t\t\t",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$id",158],";",["T_WHITESPACE","\n\t\t",158],"}",["T_WHITESPACE","\n\n\t\t",159],["T_VARIABLE","$attachment",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","get_post",161],"(",["T_WHITESPACE"," ",161],["T_VARIABLE","$id",161],["T_WHITESPACE"," ",161],")",";",["T_WHITESPACE","\n\n\t\t",161],["T_DOC_COMMENT","\/**\n\t\t * Fires after a single attachment is created or updated via the REST API.\n\t\t *\n\t\t * @since 4.7.0\n\t\t *\n\t\t * @param WP_Post         $attachment Inserted or updated attachment\n\t\t *                                    object.\n\t\t * @param WP_REST_Request $request    The request sent to the API.\n\t\t * @param bool            $creating   True when creating an attachment, false when updating.\n\t\t *\/",163],["T_WHITESPACE","\n\t\t",172],["T_STRING","do_action",173],"(",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'rest_insert_attachment'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$attachment",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$request",173],",",["T_WHITESPACE"," ",173],["T_STRING","true",173],["T_WHITESPACE"," ",173],")",";",["T_WHITESPACE","\n\n\t\t",173],["T_COMMENT","\/\/ Include admin functions to get access to wp_generate_attachment_metadata().\n",175],["T_WHITESPACE","\t\t",176],["T_REQUIRE_ONCE","require_once",176],["T_WHITESPACE"," ",176],["T_STRING","ABSPATH",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/admin.php'",176],";",["T_WHITESPACE","\n\n\t\t",176],["T_STRING","wp_update_attachment_metadata",178],"(",["T_WHITESPACE"," ",178],["T_VARIABLE","$id",178],",",["T_WHITESPACE"," ",178],["T_STRING","wp_generate_attachment_metadata",178],"(",["T_WHITESPACE"," ",178],["T_VARIABLE","$id",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$file",178],["T_WHITESPACE"," ",178],")",["T_WHITESPACE"," ",178],")",";",["T_WHITESPACE","\n\n\t\t",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_WHITESPACE"," ",180],["T_ISSET","isset",180],"(",["T_WHITESPACE"," ",180],["T_VARIABLE","$request",180],"[",["T_CONSTANT_ENCAPSED_STRING","'alt_text'",180],"]",["T_WHITESPACE"," ",180],")",["T_WHITESPACE"," ",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t",180],["T_STRING","update_post_meta",181],"(",["T_WHITESPACE"," ",181],["T_VARIABLE","$id",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_image_alt'",181],",",["T_WHITESPACE"," ",181],["T_STRING","sanitize_text_field",181],"(",["T_WHITESPACE"," ",181],["T_VARIABLE","$request",181],"[",["T_CONSTANT_ENCAPSED_STRING","'alt_text'",181],"]",["T_WHITESPACE"," ",181],")",["T_WHITESPACE"," ",181],")",";",["T_WHITESPACE","\n\t\t",181],"}",["T_WHITESPACE","\n\n\t\t",182],["T_VARIABLE","$fields_update",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","update_additional_fields_for_object",184],"(",["T_WHITESPACE"," ",184],["T_VARIABLE","$attachment",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$request",184],["T_WHITESPACE"," ",184],")",";",["T_WHITESPACE","\n\n\t\t",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_WHITESPACE"," ",186],["T_STRING","is_wp_error",186],"(",["T_WHITESPACE"," ",186],["T_VARIABLE","$fields_update",186],["T_WHITESPACE"," ",186],")",["T_WHITESPACE"," ",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n\t\t\t",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$fields_update",187],";",["T_WHITESPACE","\n\t\t",187],"}",["T_WHITESPACE","\n\n\t\t",188],["T_VARIABLE","$request",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","set_param",190],"(",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'context'",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'edit'",190],["T_WHITESPACE"," ",190],")",";",["T_WHITESPACE","\n\t\t",190],["T_VARIABLE","$response",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","prepare_item_for_response",191],"(",["T_WHITESPACE"," ",191],["T_VARIABLE","$attachment",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$request",191],["T_WHITESPACE"," ",191],")",";",["T_WHITESPACE","\n\t\t",191],["T_VARIABLE","$response",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","rest_ensure_response",192],"(",["T_WHITESPACE"," ",192],["T_VARIABLE","$response",192],["T_WHITESPACE"," ",192],")",";",["T_WHITESPACE","\n\t\t",192],["T_VARIABLE","$response",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","set_status",193],"(",["T_WHITESPACE"," ",193],["T_LNUMBER","201",193],["T_WHITESPACE"," ",193],")",";",["T_WHITESPACE","\n\t\t",193],["T_VARIABLE","$response",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","header",194],"(",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'Location'",194],",",["T_WHITESPACE"," ",194],["T_STRING","rest_url",194],"(",["T_WHITESPACE"," ",194],["T_STRING","sprintf",194],"(",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'%s\/%s\/%d'",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","namespace",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","rest_base",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$id",194],["T_WHITESPACE"," ",194],")",["T_WHITESPACE"," ",194],")",["T_WHITESPACE"," ",194],")",";",["T_WHITESPACE","\n\n\t\t",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$response",196],";",["T_WHITESPACE","\n\t",196],"}",["T_WHITESPACE","\n\n\t",197],["T_DOC_COMMENT","\/**\n\t * Updates a single attachment.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_REST_Request $request Full details about the request.\n\t * @return WP_Error|WP_REST_Response Response object on success, WP_Error object on failure.\n\t *\/",199],["T_WHITESPACE","\n\t",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","update_item",208],"(",["T_WHITESPACE"," ",208],["T_VARIABLE","$request",208],["T_WHITESPACE"," ",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n\t\t",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_WHITESPACE"," ",209],"!",["T_WHITESPACE"," ",209],["T_EMPTY","empty",209],"(",["T_WHITESPACE"," ",209],["T_VARIABLE","$request",209],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",209],"]",["T_WHITESPACE"," ",209],")",["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],["T_STRING","in_array",209],"(",["T_WHITESPACE"," ",209],["T_STRING","get_post_type",209],"(",["T_WHITESPACE"," ",209],["T_VARIABLE","$request",209],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",209],"]",["T_WHITESPACE"," ",209],")",",",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'revision'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'attachment'",209],["T_WHITESPACE"," ",209],")",",",["T_WHITESPACE"," ",209],["T_STRING","true",209],["T_WHITESPACE"," ",209],")",["T_WHITESPACE"," ",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_NEW","new",210],["T_WHITESPACE"," ",210],["T_STRING","WP_Error",210],"(",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'rest_invalid_param'",210],",",["T_WHITESPACE"," ",210],["T_STRING","__",210],"(",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'Invalid parent type.'",210],["T_WHITESPACE"," ",210],")",",",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'status'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_LNUMBER","400",210],["T_WHITESPACE"," ",210],")",["T_WHITESPACE"," ",210],")",";",["T_WHITESPACE","\n\t\t",210],"}",["T_WHITESPACE","\n\n\t\t",211],["T_VARIABLE","$response",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","parent",213],["T_DOUBLE_COLON","::",213],["T_STRING","update_item",213],"(",["T_WHITESPACE"," ",213],["T_VARIABLE","$request",213],["T_WHITESPACE"," ",213],")",";",["T_WHITESPACE","\n\n\t\t",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_WHITESPACE"," ",215],["T_STRING","is_wp_error",215],"(",["T_WHITESPACE"," ",215],["T_VARIABLE","$response",215],["T_WHITESPACE"," ",215],")",["T_WHITESPACE"," ",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n\t\t\t",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$response",216],";",["T_WHITESPACE","\n\t\t",216],"}",["T_WHITESPACE","\n\n\t\t",217],["T_VARIABLE","$response",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","rest_ensure_response",219],"(",["T_WHITESPACE"," ",219],["T_VARIABLE","$response",219],["T_WHITESPACE"," ",219],")",";",["T_WHITESPACE","\n\t\t",219],["T_VARIABLE","$data",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$response",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","get_data",220],"(",")",";",["T_WHITESPACE","\n\n\t\t",220],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_WHITESPACE"," ",222],["T_ISSET","isset",222],"(",["T_WHITESPACE"," ",222],["T_VARIABLE","$request",222],"[",["T_CONSTANT_ENCAPSED_STRING","'alt_text'",222],"]",["T_WHITESPACE"," ",222],")",["T_WHITESPACE"," ",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n\t\t\t",222],["T_STRING","update_post_meta",223],"(",["T_WHITESPACE"," ",223],["T_VARIABLE","$data",223],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",223],"]",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_image_alt'",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$request",223],"[",["T_CONSTANT_ENCAPSED_STRING","'alt_text'",223],"]",["T_WHITESPACE"," ",223],")",";",["T_WHITESPACE","\n\t\t",223],"}",["T_WHITESPACE","\n\n\t\t",224],["T_VARIABLE","$attachment",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","get_post",226],"(",["T_WHITESPACE"," ",226],["T_VARIABLE","$request",226],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",226],"]",["T_WHITESPACE"," ",226],")",";",["T_WHITESPACE","\n\n\t\t",226],["T_DOC_COMMENT","\/** This action is documented in wp-includes\/rest-api\/endpoints\/class-wp-rest-attachments-controller.php *\/",228],["T_WHITESPACE","\n\t\t",228],["T_STRING","do_action",229],"(",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'rest_insert_attachment'",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$data",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$request",229],",",["T_WHITESPACE"," ",229],["T_STRING","false",229],["T_WHITESPACE"," ",229],")",";",["T_WHITESPACE","\n\n\t\t",229],["T_VARIABLE","$fields_update",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","update_additional_fields_for_object",231],"(",["T_WHITESPACE"," ",231],["T_VARIABLE","$attachment",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$request",231],["T_WHITESPACE"," ",231],")",";",["T_WHITESPACE","\n\n\t\t",231],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_WHITESPACE"," ",233],["T_STRING","is_wp_error",233],"(",["T_WHITESPACE"," ",233],["T_VARIABLE","$fields_update",233],["T_WHITESPACE"," ",233],")",["T_WHITESPACE"," ",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n\t\t\t",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$fields_update",234],";",["T_WHITESPACE","\n\t\t",234],"}",["T_WHITESPACE","\n\n\t\t",235],["T_VARIABLE","$request",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","set_param",237],"(",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'context'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'edit'",237],["T_WHITESPACE"," ",237],")",";",["T_WHITESPACE","\n\t\t",237],["T_VARIABLE","$response",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","prepare_item_for_response",238],"(",["T_WHITESPACE"," ",238],["T_VARIABLE","$attachment",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$request",238],["T_WHITESPACE"," ",238],")",";",["T_WHITESPACE","\n\t\t",238],["T_VARIABLE","$response",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","rest_ensure_response",239],"(",["T_WHITESPACE"," ",239],["T_VARIABLE","$response",239],["T_WHITESPACE"," ",239],")",";",["T_WHITESPACE","\n\n\t\t",239],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$response",241],";",["T_WHITESPACE","\n\t",241],"}",["T_WHITESPACE","\n\n\t",242],["T_DOC_COMMENT","\/**\n\t * Prepares a single attachment for create or update.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_REST_Request $request Request object.\n\t * @return WP_Error|stdClass $prepared_attachment Post object.\n\t *\/",244],["T_WHITESPACE","\n\t",252],["T_PROTECTED","protected",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","prepare_item_for_database",253],"(",["T_WHITESPACE"," ",253],["T_VARIABLE","$request",253],["T_WHITESPACE"," ",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n\t\t",253],["T_VARIABLE","$prepared_attachment",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","parent",254],["T_DOUBLE_COLON","::",254],["T_STRING","prepare_item_for_database",254],"(",["T_WHITESPACE"," ",254],["T_VARIABLE","$request",254],["T_WHITESPACE"," ",254],")",";",["T_WHITESPACE","\n\n\t\t",254],["T_COMMENT","\/\/ Attachment caption (post_excerpt internally)\n",256],["T_WHITESPACE","\t\t",257],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_WHITESPACE"," ",257],["T_ISSET","isset",257],"(",["T_WHITESPACE"," ",257],["T_VARIABLE","$request",257],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",257],"]",["T_WHITESPACE"," ",257],")",["T_WHITESPACE"," ",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n\t\t\t",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_WHITESPACE"," ",258],["T_STRING","is_string",258],"(",["T_WHITESPACE"," ",258],["T_VARIABLE","$request",258],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",258],"]",["T_WHITESPACE"," ",258],")",["T_WHITESPACE"," ",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\t\t\t\t",258],["T_VARIABLE","$prepared_attachment",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","post_excerpt",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$request",259],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",259],"]",";",["T_WHITESPACE","\n\t\t\t",259],"}",["T_WHITESPACE"," ",260],["T_ELSEIF","elseif",260],["T_WHITESPACE"," ",260],"(",["T_WHITESPACE"," ",260],["T_ISSET","isset",260],"(",["T_WHITESPACE"," ",260],["T_VARIABLE","$request",260],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'raw'",260],"]",["T_WHITESPACE"," ",260],")",["T_WHITESPACE"," ",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n\t\t\t\t",260],["T_VARIABLE","$prepared_attachment",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","post_excerpt",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$request",261],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",261],"]","[",["T_CONSTANT_ENCAPSED_STRING","'raw'",261],"]",";",["T_WHITESPACE","\n\t\t\t",261],"}",["T_WHITESPACE","\n\t\t",262],"}",["T_WHITESPACE","\n\n\t\t",263],["T_COMMENT","\/\/ Attachment description (post_content internally)\n",265],["T_WHITESPACE","\t\t",266],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_WHITESPACE"," ",266],["T_ISSET","isset",266],"(",["T_WHITESPACE"," ",266],["T_VARIABLE","$request",266],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",266],"]",["T_WHITESPACE"," ",266],")",["T_WHITESPACE"," ",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n\t\t\t",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_WHITESPACE"," ",267],["T_STRING","is_string",267],"(",["T_WHITESPACE"," ",267],["T_VARIABLE","$request",267],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",267],"]",["T_WHITESPACE"," ",267],")",["T_WHITESPACE"," ",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n\t\t\t\t",267],["T_VARIABLE","$prepared_attachment",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","post_content",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$request",268],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",268],"]",";",["T_WHITESPACE","\n\t\t\t",268],"}",["T_WHITESPACE"," ",269],["T_ELSEIF","elseif",269],["T_WHITESPACE"," ",269],"(",["T_WHITESPACE"," ",269],["T_ISSET","isset",269],"(",["T_WHITESPACE"," ",269],["T_VARIABLE","$request",269],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",269],"]","[",["T_CONSTANT_ENCAPSED_STRING","'raw'",269],"]",["T_WHITESPACE"," ",269],")",["T_WHITESPACE"," ",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n\t\t\t\t",269],["T_VARIABLE","$prepared_attachment",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","post_content",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$request",270],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'raw'",270],"]",";",["T_WHITESPACE","\n\t\t\t",270],"}",["T_WHITESPACE","\n\t\t",271],"}",["T_WHITESPACE","\n\n\t\t",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_WHITESPACE"," ",274],["T_ISSET","isset",274],"(",["T_WHITESPACE"," ",274],["T_VARIABLE","$request",274],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",274],"]",["T_WHITESPACE"," ",274],")",["T_WHITESPACE"," ",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n\t\t\t",274],["T_VARIABLE","$prepared_attachment",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","post_parent",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_INT_CAST","(int)",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$request",275],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",275],"]",";",["T_WHITESPACE","\n\t\t",275],"}",["T_WHITESPACE","\n\n\t\t",276],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$prepared_attachment",278],";",["T_WHITESPACE","\n\t",278],"}",["T_WHITESPACE","\n\n\t",279],["T_DOC_COMMENT","\/**\n\t * Prepares a single attachment output for response.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_Post         $post    Attachment object.\n\t * @param WP_REST_Request $request Request object.\n\t * @return WP_REST_Response Response object.\n\t *\/",281],["T_WHITESPACE","\n\t",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","prepare_item_for_response",291],"(",["T_WHITESPACE"," ",291],["T_VARIABLE","$post",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$request",291],["T_WHITESPACE"," ",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n\t\t",291],["T_VARIABLE","$response",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","parent",292],["T_DOUBLE_COLON","::",292],["T_STRING","prepare_item_for_response",292],"(",["T_WHITESPACE"," ",292],["T_VARIABLE","$post",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$request",292],["T_WHITESPACE"," ",292],")",";",["T_WHITESPACE","\n\t\t",292],["T_VARIABLE","$data",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$response",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","get_data",293],"(",")",";",["T_WHITESPACE","\n\n\t\t",293],["T_VARIABLE","$data",295],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",["T_WHITESPACE","\n\t\t\t",295],["T_CONSTANT_ENCAPSED_STRING","'raw'",296],["T_WHITESPACE","       ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$post",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","post_content",296],",",["T_WHITESPACE","\n\t\t\t",296],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/post-template.php *\/",297],["T_WHITESPACE","\n\t\t\t",297],["T_CONSTANT_ENCAPSED_STRING","'rendered'",298],["T_WHITESPACE","  ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_STRING","apply_filters",298],"(",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'the_content'",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$post",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","post_content",298],["T_WHITESPACE"," ",298],")",",",["T_WHITESPACE","\n\t\t",298],")",";",["T_WHITESPACE","\n\n\t\t",299],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/post-template.php *\/",301],["T_WHITESPACE","\n\t\t",301],["T_VARIABLE","$caption",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","apply_filters",302],"(",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'the_excerpt'",302],",",["T_WHITESPACE"," ",302],["T_STRING","apply_filters",302],"(",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'get_the_excerpt'",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$post",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","post_excerpt",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$post",302],["T_WHITESPACE"," ",302],")",["T_WHITESPACE"," ",302],")",";",["T_WHITESPACE","\n\t\t",302],["T_VARIABLE","$data",303],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",303],"]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_ARRAY","array",303],"(",["T_WHITESPACE","\n\t\t\t",303],["T_CONSTANT_ENCAPSED_STRING","'raw'",304],["T_WHITESPACE","       ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$post",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","post_excerpt",304],",",["T_WHITESPACE","\n\t\t\t",304],["T_CONSTANT_ENCAPSED_STRING","'rendered'",305],["T_WHITESPACE","  ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$caption",305],",",["T_WHITESPACE","\n\t\t",305],")",";",["T_WHITESPACE","\n\n\t\t",306],["T_VARIABLE","$data",308],"[",["T_CONSTANT_ENCAPSED_STRING","'alt_text'",308],"]",["T_WHITESPACE","      ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","get_post_meta",308],"(",["T_WHITESPACE"," ",308],["T_VARIABLE","$post",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","ID",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_image_alt'",308],",",["T_WHITESPACE"," ",308],["T_STRING","true",308],["T_WHITESPACE"," ",308],")",";",["T_WHITESPACE","\n\t\t",308],["T_VARIABLE","$data",309],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",309],"]",["T_WHITESPACE","    ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","wp_attachment_is_image",309],"(",["T_WHITESPACE"," ",309],["T_VARIABLE","$post",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","ID",309],["T_WHITESPACE"," ",309],")",["T_WHITESPACE"," ",309],"?",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'image'",309],["T_WHITESPACE"," ",309],":",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'file'",309],";",["T_WHITESPACE","\n\t\t",309],["T_VARIABLE","$data",310],"[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",310],"]",["T_WHITESPACE","     ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$post",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","post_mime_type",310],";",["T_WHITESPACE","\n\t\t",310],["T_VARIABLE","$data",311],"[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",311],"]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","wp_get_attachment_metadata",311],"(",["T_WHITESPACE"," ",311],["T_VARIABLE","$post",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","ID",311],["T_WHITESPACE"," ",311],")",";",["T_WHITESPACE","\n\t\t",311],["T_VARIABLE","$data",312],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",312],"]",["T_WHITESPACE","          ",312],"=",["T_WHITESPACE"," ",312],"!",["T_WHITESPACE"," ",312],["T_EMPTY","empty",312],"(",["T_WHITESPACE"," ",312],["T_VARIABLE","$post",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","post_parent",312],["T_WHITESPACE"," ",312],")",["T_WHITESPACE"," ",312],"?",["T_WHITESPACE"," ",312],["T_INT_CAST","(int)",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$post",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","post_parent",312],["T_WHITESPACE"," ",312],":",["T_WHITESPACE"," ",312],["T_STRING","null",312],";",["T_WHITESPACE","\n\t\t",312],["T_VARIABLE","$data",313],"[",["T_CONSTANT_ENCAPSED_STRING","'source_url'",313],"]",["T_WHITESPACE","    ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","wp_get_attachment_url",313],"(",["T_WHITESPACE"," ",313],["T_VARIABLE","$post",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","ID",313],["T_WHITESPACE"," ",313],")",";",["T_WHITESPACE","\n\n\t\t",313],["T_COMMENT","\/\/ Ensure empty details is an empty object.\n",315],["T_WHITESPACE","\t\t",316],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_WHITESPACE"," ",316],["T_EMPTY","empty",316],"(",["T_WHITESPACE"," ",316],["T_VARIABLE","$data",316],"[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",316],"]",["T_WHITESPACE"," ",316],")",["T_WHITESPACE"," ",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n\t\t\t",316],["T_VARIABLE","$data",317],"[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",317],"]",["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_NEW","new",317],["T_WHITESPACE"," ",317],["T_STRING","stdClass",317],";",["T_WHITESPACE","\n\t\t",317],"}",["T_WHITESPACE"," ",318],["T_ELSEIF","elseif",318],["T_WHITESPACE"," ",318],"(",["T_WHITESPACE"," ",318],"!",["T_WHITESPACE"," ",318],["T_EMPTY","empty",318],"(",["T_WHITESPACE"," ",318],["T_VARIABLE","$data",318],"[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",318],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",318],"]",["T_WHITESPACE"," ",318],")",["T_WHITESPACE"," ",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n\n\t\t\t",318],["T_FOREACH","foreach",320],["T_WHITESPACE"," ",320],"(",["T_WHITESPACE"," ",320],["T_VARIABLE","$data",320],"[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",320],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",320],"]",["T_WHITESPACE"," ",320],["T_AS","as",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$size",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],"&",["T_VARIABLE","$size_data",320],["T_WHITESPACE"," ",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n\n\t\t\t\t",320],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_WHITESPACE"," ",322],["T_ISSET","isset",322],"(",["T_WHITESPACE"," ",322],["T_VARIABLE","$size_data",322],"[",["T_CONSTANT_ENCAPSED_STRING","'mime-type'",322],"]",["T_WHITESPACE"," ",322],")",["T_WHITESPACE"," ",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n\t\t\t\t\t",322],["T_VARIABLE","$size_data",323],"[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",323],"]",["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$size_data",323],"[",["T_CONSTANT_ENCAPSED_STRING","'mime-type'",323],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",323],["T_UNSET","unset",324],"(",["T_WHITESPACE"," ",324],["T_VARIABLE","$size_data",324],"[",["T_CONSTANT_ENCAPSED_STRING","'mime-type'",324],"]",["T_WHITESPACE"," ",324],")",";",["T_WHITESPACE","\n\t\t\t\t",324],"}",["T_WHITESPACE","\n\n\t\t\t\t",325],["T_COMMENT","\/\/ Use the same method image_downsize() does.\n",327],["T_WHITESPACE","\t\t\t\t",328],["T_VARIABLE","$image_src",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","wp_get_attachment_image_src",328],"(",["T_WHITESPACE"," ",328],["T_VARIABLE","$post",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","ID",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$size",328],["T_WHITESPACE"," ",328],")",";",["T_WHITESPACE","\n\t\t\t\t",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(",["T_WHITESPACE"," ",329],"!",["T_WHITESPACE"," ",329],["T_VARIABLE","$image_src",329],["T_WHITESPACE"," ",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n\t\t\t\t\t",329],["T_CONTINUE","continue",330],";",["T_WHITESPACE","\n\t\t\t\t",330],"}",["T_WHITESPACE","\n\n\t\t\t\t",331],["T_VARIABLE","$size_data",333],"[",["T_CONSTANT_ENCAPSED_STRING","'source_url'",333],"]",["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$image_src",333],"[",["T_LNUMBER","0",333],"]",";",["T_WHITESPACE","\n\t\t\t",333],"}",["T_WHITESPACE","\n\n\t\t\t",334],["T_VARIABLE","$full_src",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_STRING","wp_get_attachment_image_src",336],"(",["T_WHITESPACE"," ",336],["T_VARIABLE","$post",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","ID",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'full'",336],["T_WHITESPACE"," ",336],")",";",["T_WHITESPACE","\n\n\t\t\t",336],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_WHITESPACE"," ",338],"!",["T_WHITESPACE"," ",338],["T_EMPTY","empty",338],"(",["T_WHITESPACE"," ",338],["T_VARIABLE","$full_src",338],["T_WHITESPACE"," ",338],")",["T_WHITESPACE"," ",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n\t\t\t\t",338],["T_VARIABLE","$data",339],"[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",339],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",339],"]","[",["T_CONSTANT_ENCAPSED_STRING","'full'",339],"]",["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_ARRAY","array",339],"(",["T_WHITESPACE","\n\t\t\t\t\t",339],["T_CONSTANT_ENCAPSED_STRING","'file'",340],["T_WHITESPACE","       ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_STRING","wp_basename",340],"(",["T_WHITESPACE"," ",340],["T_VARIABLE","$full_src",340],"[",["T_LNUMBER","0",340],"]",["T_WHITESPACE"," ",340],")",",",["T_WHITESPACE","\n\t\t\t\t\t",340],["T_CONSTANT_ENCAPSED_STRING","'width'",341],["T_WHITESPACE","      ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$full_src",341],"[",["T_LNUMBER","1",341],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",341],["T_CONSTANT_ENCAPSED_STRING","'height'",342],["T_WHITESPACE","     ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$full_src",342],"[",["T_LNUMBER","2",342],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",342],["T_CONSTANT_ENCAPSED_STRING","'mime_type'",343],["T_WHITESPACE","  ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$post",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","post_mime_type",343],",",["T_WHITESPACE","\n\t\t\t\t\t",343],["T_CONSTANT_ENCAPSED_STRING","'source_url'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$full_src",344],"[",["T_LNUMBER","0",344],"]",",",["T_WHITESPACE","\n\t\t\t\t",344],")",";",["T_WHITESPACE","\n\t\t\t",345],"}",["T_WHITESPACE","\n\t\t",346],"}",["T_WHITESPACE"," ",347],["T_ELSE","else",347],["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n\t\t\t",347],["T_VARIABLE","$data",348],"[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",348],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",348],"]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_NEW","new",348],["T_WHITESPACE"," ",348],["T_STRING","stdClass",348],";",["T_WHITESPACE","\n\t\t",348],"}",["T_WHITESPACE","\n\n\t\t",349],["T_VARIABLE","$context",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],"!",["T_WHITESPACE"," ",351],["T_EMPTY","empty",351],"(",["T_WHITESPACE"," ",351],["T_VARIABLE","$request",351],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",351],"]",["T_WHITESPACE"," ",351],")",["T_WHITESPACE"," ",351],"?",["T_WHITESPACE"," ",351],["T_VARIABLE","$request",351],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",351],"]",["T_WHITESPACE"," ",351],":",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'view'",351],";",["T_WHITESPACE","\n\n\t\t",351],["T_VARIABLE","$data",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","filter_response_by_context",353],"(",["T_WHITESPACE"," ",353],["T_VARIABLE","$data",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$context",353],["T_WHITESPACE"," ",353],")",";",["T_WHITESPACE","\n\n\t\t",353],["T_COMMENT","\/\/ Wrap the data in a response object.\n",355],["T_WHITESPACE","\t\t",356],["T_VARIABLE","$response",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","rest_ensure_response",356],"(",["T_WHITESPACE"," ",356],["T_VARIABLE","$data",356],["T_WHITESPACE"," ",356],")",";",["T_WHITESPACE","\n\n\t\t",356],["T_VARIABLE","$response",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","add_links",358],"(",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","prepare_links",358],"(",["T_WHITESPACE"," ",358],["T_VARIABLE","$post",358],["T_WHITESPACE"," ",358],")",["T_WHITESPACE"," ",358],")",";",["T_WHITESPACE","\n\n\t\t",358],["T_DOC_COMMENT","\/**\n\t\t * Filters an attachment returned from the REST API.\n\t\t *\n\t\t * Allows modification of the attachment right before it is returned.\n\t\t *\n\t\t * @since 4.7.0\n\t\t *\n\t\t * @param WP_REST_Response $response The response object.\n\t\t * @param WP_Post          $post     The original attachment post.\n\t\t * @param WP_REST_Request  $request  Request used to generate the response.\n\t\t *\/",360],["T_WHITESPACE","\n\t\t",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_STRING","apply_filters",371],"(",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'rest_prepare_attachment'",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$response",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$post",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$request",371],["T_WHITESPACE"," ",371],")",";",["T_WHITESPACE","\n\t",371],"}",["T_WHITESPACE","\n\n\t",372],["T_DOC_COMMENT","\/**\n\t * Retrieves the attachment's schema, conforming to JSON Schema.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @return array Item schema as an array.\n\t *\/",374],["T_WHITESPACE","\n\t",381],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","get_item_schema",382],"(",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n\n\t\t",382],["T_VARIABLE","$schema",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","parent",384],["T_DOUBLE_COLON","::",384],["T_STRING","get_item_schema",384],"(",")",";",["T_WHITESPACE","\n\n\t\t",384],["T_VARIABLE","$schema",386],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",386],"]","[",["T_CONSTANT_ENCAPSED_STRING","'alt_text'",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",["T_WHITESPACE","\n\t\t\t",386],["T_CONSTANT_ENCAPSED_STRING","'description'",387],["T_WHITESPACE","     ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_STRING","__",387],"(",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'Alternative text to display when attachment is not displayed.'",387],["T_WHITESPACE"," ",387],")",",",["T_WHITESPACE","\n\t\t\t",387],["T_CONSTANT_ENCAPSED_STRING","'type'",388],["T_WHITESPACE","            ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'string'",388],",",["T_WHITESPACE","\n\t\t\t",388],["T_CONSTANT_ENCAPSED_STRING","'context'",389],["T_WHITESPACE","         ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'view'",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'edit'",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'embed'",389],["T_WHITESPACE"," ",389],")",",",["T_WHITESPACE","\n\t\t\t",389],["T_CONSTANT_ENCAPSED_STRING","'arg_options'",390],["T_WHITESPACE","     ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(",["T_WHITESPACE","\n\t\t\t\t",390],["T_CONSTANT_ENCAPSED_STRING","'sanitize_callback'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'sanitize_text_field'",391],",",["T_WHITESPACE","\n\t\t\t",391],")",",",["T_WHITESPACE","\n\t\t",392],")",";",["T_WHITESPACE","\n\n\t\t",393],["T_VARIABLE","$schema",395],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",395],"]","[",["T_CONSTANT_ENCAPSED_STRING","'caption'",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_ARRAY","array",395],"(",["T_WHITESPACE","\n\t\t\t",395],["T_CONSTANT_ENCAPSED_STRING","'description'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_STRING","__",396],"(",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'The attachment caption.'",396],["T_WHITESPACE"," ",396],")",",",["T_WHITESPACE","\n\t\t\t",396],["T_CONSTANT_ENCAPSED_STRING","'type'",397],["T_WHITESPACE","        ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'object'",397],",",["T_WHITESPACE","\n\t\t\t",397],["T_CONSTANT_ENCAPSED_STRING","'context'",398],["T_WHITESPACE","     ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_ARRAY","array",398],"(",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'view'",398],",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'edit'",398],",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'embed'",398],["T_WHITESPACE"," ",398],")",",",["T_WHITESPACE","\n\t\t\t",398],["T_CONSTANT_ENCAPSED_STRING","'arg_options'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_ARRAY","array",399],"(",["T_WHITESPACE","\n\t\t\t\t",399],["T_CONSTANT_ENCAPSED_STRING","'sanitize_callback'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_STRING","null",400],",",["T_WHITESPACE"," ",400],["T_COMMENT","\/\/ Note: sanitization implemented in self::prepare_item_for_database()\n",400],["T_WHITESPACE","\t\t\t",401],")",",",["T_WHITESPACE","\n\t\t\t",401],["T_CONSTANT_ENCAPSED_STRING","'properties'",402],["T_WHITESPACE","  ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_ARRAY","array",402],"(",["T_WHITESPACE","\n\t\t\t\t",402],["T_CONSTANT_ENCAPSED_STRING","'raw'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_ARRAY","array",403],"(",["T_WHITESPACE","\n\t\t\t\t\t",403],["T_CONSTANT_ENCAPSED_STRING","'description'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_STRING","__",404],"(",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'Caption for the attachment, as it exists in the database.'",404],["T_WHITESPACE"," ",404],")",",",["T_WHITESPACE","\n\t\t\t\t\t",404],["T_CONSTANT_ENCAPSED_STRING","'type'",405],["T_WHITESPACE","        ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'string'",405],",",["T_WHITESPACE","\n\t\t\t\t\t",405],["T_CONSTANT_ENCAPSED_STRING","'context'",406],["T_WHITESPACE","     ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'edit'",406],["T_WHITESPACE"," ",406],")",",",["T_WHITESPACE","\n\t\t\t\t",406],")",",",["T_WHITESPACE","\n\t\t\t\t",407],["T_CONSTANT_ENCAPSED_STRING","'rendered'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_ARRAY","array",408],"(",["T_WHITESPACE","\n\t\t\t\t\t",408],["T_CONSTANT_ENCAPSED_STRING","'description'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_STRING","__",409],"(",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'HTML caption for the attachment, transformed for display.'",409],["T_WHITESPACE"," ",409],")",",",["T_WHITESPACE","\n\t\t\t\t\t",409],["T_CONSTANT_ENCAPSED_STRING","'type'",410],["T_WHITESPACE","        ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'string'",410],",",["T_WHITESPACE","\n\t\t\t\t\t",410],["T_CONSTANT_ENCAPSED_STRING","'context'",411],["T_WHITESPACE","     ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'view'",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'edit'",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'embed'",411],["T_WHITESPACE"," ",411],")",",",["T_WHITESPACE","\n\t\t\t\t\t",411],["T_CONSTANT_ENCAPSED_STRING","'readonly'",412],["T_WHITESPACE","    ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_STRING","true",412],",",["T_WHITESPACE","\n\t\t\t\t",412],")",",",["T_WHITESPACE","\n\t\t\t",413],")",",",["T_WHITESPACE","\n\t\t",414],")",";",["T_WHITESPACE","\n\n\t\t",415],["T_VARIABLE","$schema",417],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",417],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",417],"]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_ARRAY","array",417],"(",["T_WHITESPACE","\n\t\t\t",417],["T_CONSTANT_ENCAPSED_STRING","'description'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_STRING","__",418],"(",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'The attachment description.'",418],["T_WHITESPACE"," ",418],")",",",["T_WHITESPACE","\n\t\t\t",418],["T_CONSTANT_ENCAPSED_STRING","'type'",419],["T_WHITESPACE","        ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'object'",419],",",["T_WHITESPACE","\n\t\t\t",419],["T_CONSTANT_ENCAPSED_STRING","'context'",420],["T_WHITESPACE","     ",420],["T_DOUBLE_ARROW","=>",420],["T_WHITESPACE"," ",420],["T_ARRAY","array",420],"(",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'view'",420],",",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'edit'",420],["T_WHITESPACE"," ",420],")",",",["T_WHITESPACE","\n\t\t\t",420],["T_CONSTANT_ENCAPSED_STRING","'arg_options'",421],["T_WHITESPACE"," ",421],["T_DOUBLE_ARROW","=>",421],["T_WHITESPACE"," ",421],["T_ARRAY","array",421],"(",["T_WHITESPACE","\n\t\t\t\t",421],["T_CONSTANT_ENCAPSED_STRING","'sanitize_callback'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_STRING","null",422],",",["T_WHITESPACE"," ",422],["T_COMMENT","\/\/ Note: sanitization implemented in self::prepare_item_for_database()\n",422],["T_WHITESPACE","\t\t\t",423],")",",",["T_WHITESPACE","\n\t\t\t",423],["T_CONSTANT_ENCAPSED_STRING","'properties'",424],["T_WHITESPACE","  ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],["T_ARRAY","array",424],"(",["T_WHITESPACE","\n\t\t\t\t",424],["T_CONSTANT_ENCAPSED_STRING","'raw'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_ARRAY","array",425],"(",["T_WHITESPACE","\n\t\t\t\t\t",425],["T_CONSTANT_ENCAPSED_STRING","'description'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_STRING","__",426],"(",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'Description for the object, as it exists in the database.'",426],["T_WHITESPACE"," ",426],")",",",["T_WHITESPACE","\n\t\t\t\t\t",426],["T_CONSTANT_ENCAPSED_STRING","'type'",427],["T_WHITESPACE","        ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'string'",427],",",["T_WHITESPACE","\n\t\t\t\t\t",427],["T_CONSTANT_ENCAPSED_STRING","'context'",428],["T_WHITESPACE","     ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'edit'",428],["T_WHITESPACE"," ",428],")",",",["T_WHITESPACE","\n\t\t\t\t",428],")",",",["T_WHITESPACE","\n\t\t\t\t",429],["T_CONSTANT_ENCAPSED_STRING","'rendered'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],["T_ARRAY","array",430],"(",["T_WHITESPACE","\n\t\t\t\t\t",430],["T_CONSTANT_ENCAPSED_STRING","'description'",431],["T_WHITESPACE"," ",431],["T_DOUBLE_ARROW","=>",431],["T_WHITESPACE"," ",431],["T_STRING","__",431],"(",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'HTML description for the object, transformed for display.'",431],["T_WHITESPACE"," ",431],")",",",["T_WHITESPACE","\n\t\t\t\t\t",431],["T_CONSTANT_ENCAPSED_STRING","'type'",432],["T_WHITESPACE","        ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'string'",432],",",["T_WHITESPACE","\n\t\t\t\t\t",432],["T_CONSTANT_ENCAPSED_STRING","'context'",433],["T_WHITESPACE","     ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_ARRAY","array",433],"(",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'view'",433],",",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'edit'",433],["T_WHITESPACE"," ",433],")",",",["T_WHITESPACE","\n\t\t\t\t\t",433],["T_CONSTANT_ENCAPSED_STRING","'readonly'",434],["T_WHITESPACE","    ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_STRING","true",434],",",["T_WHITESPACE","\n\t\t\t\t",434],")",",",["T_WHITESPACE","\n\t\t\t",435],")",",",["T_WHITESPACE","\n\t\t",436],")",";",["T_WHITESPACE","\n\n\t\t",437],["T_VARIABLE","$schema",439],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",439],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",439],"]",["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_ARRAY","array",439],"(",["T_WHITESPACE","\n\t\t\t",439],["T_CONSTANT_ENCAPSED_STRING","'description'",440],["T_WHITESPACE","     ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_STRING","__",440],"(",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'Attachment type.'",440],["T_WHITESPACE"," ",440],")",",",["T_WHITESPACE","\n\t\t\t",440],["T_CONSTANT_ENCAPSED_STRING","'type'",441],["T_WHITESPACE","            ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'string'",441],",",["T_WHITESPACE","\n\t\t\t",441],["T_CONSTANT_ENCAPSED_STRING","'enum'",442],["T_WHITESPACE","            ",442],["T_DOUBLE_ARROW","=>",442],["T_WHITESPACE"," ",442],["T_ARRAY","array",442],"(",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'image'",442],",",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'file'",442],["T_WHITESPACE"," ",442],")",",",["T_WHITESPACE","\n\t\t\t",442],["T_CONSTANT_ENCAPSED_STRING","'context'",443],["T_WHITESPACE","         ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_ARRAY","array",443],"(",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'view'",443],",",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'edit'",443],",",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'embed'",443],["T_WHITESPACE"," ",443],")",",",["T_WHITESPACE","\n\t\t\t",443],["T_CONSTANT_ENCAPSED_STRING","'readonly'",444],["T_WHITESPACE","        ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],["T_STRING","true",444],",",["T_WHITESPACE","\n\t\t",444],")",";",["T_WHITESPACE","\n\n\t\t",445],["T_VARIABLE","$schema",447],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",447],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",447],"]",["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_ARRAY","array",447],"(",["T_WHITESPACE","\n\t\t\t",447],["T_CONSTANT_ENCAPSED_STRING","'description'",448],["T_WHITESPACE","     ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_STRING","__",448],"(",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'The attachment MIME type.'",448],["T_WHITESPACE"," ",448],")",",",["T_WHITESPACE","\n\t\t\t",448],["T_CONSTANT_ENCAPSED_STRING","'type'",449],["T_WHITESPACE","            ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'string'",449],",",["T_WHITESPACE","\n\t\t\t",449],["T_CONSTANT_ENCAPSED_STRING","'context'",450],["T_WHITESPACE","         ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_ARRAY","array",450],"(",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'view'",450],",",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'edit'",450],",",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'embed'",450],["T_WHITESPACE"," ",450],")",",",["T_WHITESPACE","\n\t\t\t",450],["T_CONSTANT_ENCAPSED_STRING","'readonly'",451],["T_WHITESPACE","        ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_STRING","true",451],",",["T_WHITESPACE","\n\t\t",451],")",";",["T_WHITESPACE","\n\n\t\t",452],["T_VARIABLE","$schema",454],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",454],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media_details'",454],"]",["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_ARRAY","array",454],"(",["T_WHITESPACE","\n\t\t\t",454],["T_CONSTANT_ENCAPSED_STRING","'description'",455],["T_WHITESPACE","     ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_STRING","__",455],"(",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'Details about the media file, specific to its type.'",455],["T_WHITESPACE"," ",455],")",",",["T_WHITESPACE","\n\t\t\t",455],["T_CONSTANT_ENCAPSED_STRING","'type'",456],["T_WHITESPACE","            ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'object'",456],",",["T_WHITESPACE","\n\t\t\t",456],["T_CONSTANT_ENCAPSED_STRING","'context'",457],["T_WHITESPACE","         ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_ARRAY","array",457],"(",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'view'",457],",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'edit'",457],",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'embed'",457],["T_WHITESPACE"," ",457],")",",",["T_WHITESPACE","\n\t\t\t",457],["T_CONSTANT_ENCAPSED_STRING","'readonly'",458],["T_WHITESPACE","        ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_STRING","true",458],",",["T_WHITESPACE","\n\t\t",458],")",";",["T_WHITESPACE","\n\n\t\t",459],["T_VARIABLE","$schema",461],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",461],"]","[",["T_CONSTANT_ENCAPSED_STRING","'post'",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_ARRAY","array",461],"(",["T_WHITESPACE","\n\t\t\t",461],["T_CONSTANT_ENCAPSED_STRING","'description'",462],["T_WHITESPACE","     ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_STRING","__",462],"(",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'The ID for the associated post of the attachment.'",462],["T_WHITESPACE"," ",462],")",",",["T_WHITESPACE","\n\t\t\t",462],["T_CONSTANT_ENCAPSED_STRING","'type'",463],["T_WHITESPACE","            ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'integer'",463],",",["T_WHITESPACE","\n\t\t\t",463],["T_CONSTANT_ENCAPSED_STRING","'context'",464],["T_WHITESPACE","         ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_ARRAY","array",464],"(",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'view'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'edit'",464],["T_WHITESPACE"," ",464],")",",",["T_WHITESPACE","\n\t\t",464],")",";",["T_WHITESPACE","\n\n\t\t",465],["T_VARIABLE","$schema",467],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",467],"]","[",["T_CONSTANT_ENCAPSED_STRING","'source_url'",467],"]",["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_ARRAY","array",467],"(",["T_WHITESPACE","\n\t\t\t",467],["T_CONSTANT_ENCAPSED_STRING","'description'",468],["T_WHITESPACE","     ",468],["T_DOUBLE_ARROW","=>",468],["T_WHITESPACE"," ",468],["T_STRING","__",468],"(",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'URL to the original attachment file.'",468],["T_WHITESPACE"," ",468],")",",",["T_WHITESPACE","\n\t\t\t",468],["T_CONSTANT_ENCAPSED_STRING","'type'",469],["T_WHITESPACE","            ",469],["T_DOUBLE_ARROW","=>",469],["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","'string'",469],",",["T_WHITESPACE","\n\t\t\t",469],["T_CONSTANT_ENCAPSED_STRING","'format'",470],["T_WHITESPACE","          ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'uri'",470],",",["T_WHITESPACE","\n\t\t\t",470],["T_CONSTANT_ENCAPSED_STRING","'context'",471],["T_WHITESPACE","         ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],["T_ARRAY","array",471],"(",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'view'",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'edit'",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'embed'",471],["T_WHITESPACE"," ",471],")",",",["T_WHITESPACE","\n\t\t\t",471],["T_CONSTANT_ENCAPSED_STRING","'readonly'",472],["T_WHITESPACE","        ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],["T_STRING","true",472],",",["T_WHITESPACE","\n\t\t",472],")",";",["T_WHITESPACE","\n\n\t\t",473],["T_UNSET","unset",475],"(",["T_WHITESPACE"," ",475],["T_VARIABLE","$schema",475],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",475],"]","[",["T_CONSTANT_ENCAPSED_STRING","'password'",475],"]",["T_WHITESPACE"," ",475],")",";",["T_WHITESPACE","\n\n\t\t",475],["T_RETURN","return",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$schema",477],";",["T_WHITESPACE","\n\t",477],"}",["T_WHITESPACE","\n\n\t",478],["T_DOC_COMMENT","\/**\n\t * Handles an upload via raw POST data.\n\t *\n\t * @since 4.7.0\n\t * @access protected\n\t *\n\t * @param array $data    Supplied file data.\n\t * @param array $headers HTTP headers from the request.\n\t * @return array|WP_Error Data from wp_handle_sideload().\n\t *\/",480],["T_WHITESPACE","\n\t",489],["T_PROTECTED","protected",490],["T_WHITESPACE"," ",490],["T_FUNCTION","function",490],["T_WHITESPACE"," ",490],["T_STRING","upload_from_data",490],"(",["T_WHITESPACE"," ",490],["T_VARIABLE","$data",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$headers",490],["T_WHITESPACE"," ",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n\t\t",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_WHITESPACE"," ",491],["T_EMPTY","empty",491],"(",["T_WHITESPACE"," ",491],["T_VARIABLE","$data",491],["T_WHITESPACE"," ",491],")",["T_WHITESPACE"," ",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n\t\t\t",491],["T_RETURN","return",492],["T_WHITESPACE"," ",492],["T_NEW","new",492],["T_WHITESPACE"," ",492],["T_STRING","WP_Error",492],"(",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_no_data'",492],",",["T_WHITESPACE"," ",492],["T_STRING","__",492],"(",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'No data supplied.'",492],["T_WHITESPACE"," ",492],")",",",["T_WHITESPACE"," ",492],["T_ARRAY","array",492],"(",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'status'",492],["T_WHITESPACE"," ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_LNUMBER","400",492],["T_WHITESPACE"," ",492],")",["T_WHITESPACE"," ",492],")",";",["T_WHITESPACE","\n\t\t",492],"}",["T_WHITESPACE","\n\n\t\t",493],["T_IF","if",495],["T_WHITESPACE"," ",495],"(",["T_WHITESPACE"," ",495],["T_EMPTY","empty",495],"(",["T_WHITESPACE"," ",495],["T_VARIABLE","$headers",495],"[",["T_CONSTANT_ENCAPSED_STRING","'content_type'",495],"]",["T_WHITESPACE"," ",495],")",["T_WHITESPACE"," ",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n\t\t\t",495],["T_RETURN","return",496],["T_WHITESPACE"," ",496],["T_NEW","new",496],["T_WHITESPACE"," ",496],["T_STRING","WP_Error",496],"(",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_no_content_type'",496],",",["T_WHITESPACE"," ",496],["T_STRING","__",496],"(",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'No Content-Type supplied.'",496],["T_WHITESPACE"," ",496],")",",",["T_WHITESPACE"," ",496],["T_ARRAY","array",496],"(",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'status'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_LNUMBER","400",496],["T_WHITESPACE"," ",496],")",["T_WHITESPACE"," ",496],")",";",["T_WHITESPACE","\n\t\t",496],"}",["T_WHITESPACE","\n\n\t\t",497],["T_IF","if",499],["T_WHITESPACE"," ",499],"(",["T_WHITESPACE"," ",499],["T_EMPTY","empty",499],"(",["T_WHITESPACE"," ",499],["T_VARIABLE","$headers",499],"[",["T_CONSTANT_ENCAPSED_STRING","'content_disposition'",499],"]",["T_WHITESPACE"," ",499],")",["T_WHITESPACE"," ",499],")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n\t\t\t",499],["T_RETURN","return",500],["T_WHITESPACE"," ",500],["T_NEW","new",500],["T_WHITESPACE"," ",500],["T_STRING","WP_Error",500],"(",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_no_content_disposition'",500],",",["T_WHITESPACE"," ",500],["T_STRING","__",500],"(",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'No Content-Disposition supplied.'",500],["T_WHITESPACE"," ",500],")",",",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'status'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_LNUMBER","400",500],["T_WHITESPACE"," ",500],")",["T_WHITESPACE"," ",500],")",";",["T_WHITESPACE","\n\t\t",500],"}",["T_WHITESPACE","\n\n\t\t",501],["T_VARIABLE","$filename",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","self",503],["T_DOUBLE_COLON","::",503],["T_STRING","get_filename_from_disposition",503],"(",["T_WHITESPACE"," ",503],["T_VARIABLE","$headers",503],"[",["T_CONSTANT_ENCAPSED_STRING","'content_disposition'",503],"]",["T_WHITESPACE"," ",503],")",";",["T_WHITESPACE","\n\n\t\t",503],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_WHITESPACE"," ",505],["T_EMPTY","empty",505],"(",["T_WHITESPACE"," ",505],["T_VARIABLE","$filename",505],["T_WHITESPACE"," ",505],")",["T_WHITESPACE"," ",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n\t\t\t",505],["T_RETURN","return",506],["T_WHITESPACE"," ",506],["T_NEW","new",506],["T_WHITESPACE"," ",506],["T_STRING","WP_Error",506],"(",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_invalid_disposition'",506],",",["T_WHITESPACE"," ",506],["T_STRING","__",506],"(",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'Invalid Content-Disposition supplied. Content-Disposition needs to be formatted as `attachment; filename=\"image.png\"` or similar.'",506],["T_WHITESPACE"," ",506],")",",",["T_WHITESPACE"," ",506],["T_ARRAY","array",506],"(",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'status'",506],["T_WHITESPACE"," ",506],["T_DOUBLE_ARROW","=>",506],["T_WHITESPACE"," ",506],["T_LNUMBER","400",506],["T_WHITESPACE"," ",506],")",["T_WHITESPACE"," ",506],")",";",["T_WHITESPACE","\n\t\t",506],"}",["T_WHITESPACE","\n\n\t\t",507],["T_IF","if",509],["T_WHITESPACE"," ",509],"(",["T_WHITESPACE"," ",509],"!",["T_WHITESPACE"," ",509],["T_EMPTY","empty",509],"(",["T_WHITESPACE"," ",509],["T_VARIABLE","$headers",509],"[",["T_CONSTANT_ENCAPSED_STRING","'content_md5'",509],"]",["T_WHITESPACE"," ",509],")",["T_WHITESPACE"," ",509],")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n\t\t\t",509],["T_VARIABLE","$content_md5",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_STRING","array_shift",510],"(",["T_WHITESPACE"," ",510],["T_VARIABLE","$headers",510],"[",["T_CONSTANT_ENCAPSED_STRING","'content_md5'",510],"]",["T_WHITESPACE"," ",510],")",";",["T_WHITESPACE","\n\t\t\t",510],["T_VARIABLE","$expected",511],["T_WHITESPACE","    ",511],"=",["T_WHITESPACE"," ",511],["T_STRING","trim",511],"(",["T_WHITESPACE"," ",511],["T_VARIABLE","$content_md5",511],["T_WHITESPACE"," ",511],")",";",["T_WHITESPACE","\n\t\t\t",511],["T_VARIABLE","$actual",512],["T_WHITESPACE","      ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","md5",512],"(",["T_WHITESPACE"," ",512],["T_VARIABLE","$data",512],["T_WHITESPACE"," ",512],")",";",["T_WHITESPACE","\n\n\t\t\t",512],["T_IF","if",514],["T_WHITESPACE"," ",514],"(",["T_WHITESPACE"," ",514],["T_VARIABLE","$expected",514],["T_WHITESPACE"," ",514],["T_IS_NOT_IDENTICAL","!==",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$actual",514],["T_WHITESPACE"," ",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n\t\t\t\t",514],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_NEW","new",515],["T_WHITESPACE"," ",515],["T_STRING","WP_Error",515],"(",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_hash_mismatch'",515],",",["T_WHITESPACE"," ",515],["T_STRING","__",515],"(",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'Content hash did not match expected.'",515],["T_WHITESPACE"," ",515],")",",",["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'status'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_LNUMBER","412",515],["T_WHITESPACE"," ",515],")",["T_WHITESPACE"," ",515],")",";",["T_WHITESPACE","\n\t\t\t",515],"}",["T_WHITESPACE","\n\t\t",516],"}",["T_WHITESPACE","\n\n\t\t",517],["T_COMMENT","\/\/ Get the content-type.\n",519],["T_WHITESPACE","\t\t",520],["T_VARIABLE","$type",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_STRING","array_shift",520],"(",["T_WHITESPACE"," ",520],["T_VARIABLE","$headers",520],"[",["T_CONSTANT_ENCAPSED_STRING","'content_type'",520],"]",["T_WHITESPACE"," ",520],")",";",["T_WHITESPACE","\n\n\t\t",520],["T_DOC_COMMENT","\/** Include admin functions to get access to wp_tempnam() and wp_handle_sideload() *\/",522],["T_WHITESPACE","\n\t\t",522],["T_REQUIRE_ONCE","require_once",523],["T_WHITESPACE"," ",523],["T_STRING","ABSPATH",523],["T_WHITESPACE"," ",523],".",["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/admin.php'",523],";",["T_WHITESPACE","\n\n\t\t",523],["T_COMMENT","\/\/ Save the file.\n",525],["T_WHITESPACE","\t\t",526],["T_VARIABLE","$tmpfname",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_STRING","wp_tempnam",526],"(",["T_WHITESPACE"," ",526],["T_VARIABLE","$filename",526],["T_WHITESPACE"," ",526],")",";",["T_WHITESPACE","\n\n\t\t",526],["T_VARIABLE","$fp",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_STRING","fopen",528],"(",["T_WHITESPACE"," ",528],["T_VARIABLE","$tmpfname",528],",",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'w+'",528],["T_WHITESPACE"," ",528],")",";",["T_WHITESPACE","\n\n\t\t",528],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_WHITESPACE"," ",530],"!",["T_WHITESPACE"," ",530],["T_VARIABLE","$fp",530],["T_WHITESPACE"," ",530],")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n\t\t\t",530],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_NEW","new",531],["T_WHITESPACE"," ",531],["T_STRING","WP_Error",531],"(",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_file_error'",531],",",["T_WHITESPACE"," ",531],["T_STRING","__",531],"(",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'Could not open file handle.'",531],["T_WHITESPACE"," ",531],")",",",["T_WHITESPACE"," ",531],["T_ARRAY","array",531],"(",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'status'",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_LNUMBER","500",531],["T_WHITESPACE"," ",531],")",["T_WHITESPACE"," ",531],")",";",["T_WHITESPACE","\n\t\t",531],"}",["T_WHITESPACE","\n\n\t\t",532],["T_STRING","fwrite",534],"(",["T_WHITESPACE"," ",534],["T_VARIABLE","$fp",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$data",534],["T_WHITESPACE"," ",534],")",";",["T_WHITESPACE","\n\t\t",534],["T_STRING","fclose",535],"(",["T_WHITESPACE"," ",535],["T_VARIABLE","$fp",535],["T_WHITESPACE"," ",535],")",";",["T_WHITESPACE","\n\n\t\t",535],["T_COMMENT","\/\/ Now, sideload it in.\n",537],["T_WHITESPACE","\t\t",538],["T_VARIABLE","$file_data",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_ARRAY","array",538],"(",["T_WHITESPACE","\n\t\t\t",538],["T_CONSTANT_ENCAPSED_STRING","'error'",539],["T_WHITESPACE","    ",539],["T_DOUBLE_ARROW","=>",539],["T_WHITESPACE"," ",539],["T_STRING","null",539],",",["T_WHITESPACE","\n\t\t\t",539],["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",540],["T_WHITESPACE"," ",540],["T_DOUBLE_ARROW","=>",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$tmpfname",540],",",["T_WHITESPACE","\n\t\t\t",540],["T_CONSTANT_ENCAPSED_STRING","'name'",541],["T_WHITESPACE","     ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$filename",541],",",["T_WHITESPACE","\n\t\t\t",541],["T_CONSTANT_ENCAPSED_STRING","'type'",542],["T_WHITESPACE","     ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$type",542],",",["T_WHITESPACE","\n\t\t",542],")",";",["T_WHITESPACE","\n\n\t\t",543],["T_VARIABLE","$overrides",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_ARRAY","array",545],"(",["T_WHITESPACE","\n\t\t\t",545],["T_CONSTANT_ENCAPSED_STRING","'test_form'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_STRING","false",546],",",["T_WHITESPACE","\n\t\t",546],")",";",["T_WHITESPACE","\n\n\t\t",547],["T_VARIABLE","$sideloaded",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_STRING","wp_handle_sideload",549],"(",["T_WHITESPACE"," ",549],["T_VARIABLE","$file_data",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$overrides",549],["T_WHITESPACE"," ",549],")",";",["T_WHITESPACE","\n\n\t\t",549],["T_IF","if",551],["T_WHITESPACE"," ",551],"(",["T_WHITESPACE"," ",551],["T_ISSET","isset",551],"(",["T_WHITESPACE"," ",551],["T_VARIABLE","$sideloaded",551],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",551],"]",["T_WHITESPACE"," ",551],")",["T_WHITESPACE"," ",551],")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n\t\t\t",551],"@",["T_STRING","unlink",552],"(",["T_WHITESPACE"," ",552],["T_VARIABLE","$tmpfname",552],["T_WHITESPACE"," ",552],")",";",["T_WHITESPACE","\n\n\t\t\t",552],["T_RETURN","return",554],["T_WHITESPACE"," ",554],["T_NEW","new",554],["T_WHITESPACE"," ",554],["T_STRING","WP_Error",554],"(",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_sideload_error'",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$sideloaded",554],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",554],"]",",",["T_WHITESPACE"," ",554],["T_ARRAY","array",554],"(",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'status'",554],["T_WHITESPACE"," ",554],["T_DOUBLE_ARROW","=>",554],["T_WHITESPACE"," ",554],["T_LNUMBER","500",554],["T_WHITESPACE"," ",554],")",["T_WHITESPACE"," ",554],")",";",["T_WHITESPACE","\n\t\t",554],"}",["T_WHITESPACE","\n\n\t\t",555],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$sideloaded",557],";",["T_WHITESPACE","\n\t",557],"}",["T_WHITESPACE","\n\n\t",558],["T_DOC_COMMENT","\/**\n\t * Parses filename from a Content-Disposition header value.\n\t *\n\t * As per RFC6266:\n\t *\n\t *     content-disposition = \"Content-Disposition\" \":\"\n\t *                            disposition-type *( \";\" disposition-parm )\n\t *\n\t *     disposition-type    = \"inline\" | \"attachment\" | disp-ext-type\n\t *                         ; case-insensitive\n\t *     disp-ext-type       = token\n\t *\n\t *     disposition-parm    = filename-parm | disp-ext-parm\n\t *\n\t *     filename-parm       = \"filename\" \"=\" value\n\t *                         | \"filename*\" \"=\" ext-value\n\t *\n\t *     disp-ext-parm       = token \"=\" value\n\t *                         | ext-token \"=\" ext-value\n\t *     ext-token           = <the characters in token, followed by \"*\">\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @link http:\/\/tools.ietf.org\/html\/rfc2388\n\t * @link http:\/\/tools.ietf.org\/html\/rfc6266\n\t *\n\t * @param string[] $disposition_header List of Content-Disposition header values.\n\t * @return string|null Filename if available, or null if not found.\n\t *\/",560],["T_WHITESPACE","\n\t",589],["T_PUBLIC","public",590],["T_WHITESPACE"," ",590],["T_STATIC","static",590],["T_WHITESPACE"," ",590],["T_FUNCTION","function",590],["T_WHITESPACE"," ",590],["T_STRING","get_filename_from_disposition",590],"(",["T_WHITESPACE"," ",590],["T_VARIABLE","$disposition_header",590],["T_WHITESPACE"," ",590],")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n\t\t",590],["T_COMMENT","\/\/ Get the filename.\n",591],["T_WHITESPACE","\t\t",592],["T_VARIABLE","$filename",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","null",592],";",["T_WHITESPACE","\n\n\t\t",592],["T_FOREACH","foreach",594],["T_WHITESPACE"," ",594],"(",["T_WHITESPACE"," ",594],["T_VARIABLE","$disposition_header",594],["T_WHITESPACE"," ",594],["T_AS","as",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$value",594],["T_WHITESPACE"," ",594],")",["T_WHITESPACE"," ",594],"{",["T_WHITESPACE","\n\t\t\t",594],["T_VARIABLE","$value",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_STRING","trim",595],"(",["T_WHITESPACE"," ",595],["T_VARIABLE","$value",595],["T_WHITESPACE"," ",595],")",";",["T_WHITESPACE","\n\n\t\t\t",595],["T_IF","if",597],["T_WHITESPACE"," ",597],"(",["T_WHITESPACE"," ",597],["T_STRING","strpos",597],"(",["T_WHITESPACE"," ",597],["T_VARIABLE","$value",597],",",["T_WHITESPACE"," ",597],["T_CONSTANT_ENCAPSED_STRING","';'",597],["T_WHITESPACE"," ",597],")",["T_WHITESPACE"," ",597],["T_IS_IDENTICAL","===",597],["T_WHITESPACE"," ",597],["T_STRING","false",597],["T_WHITESPACE"," ",597],")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n\t\t\t\t",597],["T_CONTINUE","continue",598],";",["T_WHITESPACE","\n\t\t\t",598],"}",["T_WHITESPACE","\n\n\t\t\t",599],["T_LIST","list",601],"(",["T_WHITESPACE"," ",601],["T_VARIABLE","$type",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$attr_parts",601],["T_WHITESPACE"," ",601],")",["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_STRING","explode",601],"(",["T_WHITESPACE"," ",601],["T_CONSTANT_ENCAPSED_STRING","';'",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$value",601],",",["T_WHITESPACE"," ",601],["T_LNUMBER","2",601],["T_WHITESPACE"," ",601],")",";",["T_WHITESPACE","\n\n\t\t\t",601],["T_VARIABLE","$attr_parts",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_STRING","explode",603],"(",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","';'",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$attr_parts",603],["T_WHITESPACE"," ",603],")",";",["T_WHITESPACE","\n\t\t\t",603],["T_VARIABLE","$attributes",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_ARRAY","array",604],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",604],["T_FOREACH","foreach",606],["T_WHITESPACE"," ",606],"(",["T_WHITESPACE"," ",606],["T_VARIABLE","$attr_parts",606],["T_WHITESPACE"," ",606],["T_AS","as",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$part",606],["T_WHITESPACE"," ",606],")",["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n\t\t\t\t",606],["T_IF","if",607],["T_WHITESPACE"," ",607],"(",["T_WHITESPACE"," ",607],["T_STRING","strpos",607],"(",["T_WHITESPACE"," ",607],["T_VARIABLE","$part",607],",",["T_WHITESPACE"," ",607],["T_CONSTANT_ENCAPSED_STRING","'='",607],["T_WHITESPACE"," ",607],")",["T_WHITESPACE"," ",607],["T_IS_IDENTICAL","===",607],["T_WHITESPACE"," ",607],["T_STRING","false",607],["T_WHITESPACE"," ",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n\t\t\t\t\t",607],["T_CONTINUE","continue",608],";",["T_WHITESPACE","\n\t\t\t\t",608],"}",["T_WHITESPACE","\n\n\t\t\t\t",609],["T_LIST","list",611],"(",["T_WHITESPACE"," ",611],["T_VARIABLE","$key",611],",",["T_WHITESPACE"," ",611],["T_VARIABLE","$value",611],["T_WHITESPACE"," ",611],")",["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_STRING","explode",611],"(",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'='",611],",",["T_WHITESPACE"," ",611],["T_VARIABLE","$part",611],",",["T_WHITESPACE"," ",611],["T_LNUMBER","2",611],["T_WHITESPACE"," ",611],")",";",["T_WHITESPACE","\n\n\t\t\t\t",611],["T_VARIABLE","$attributes",613],"[",["T_WHITESPACE"," ",613],["T_STRING","trim",613],"(",["T_WHITESPACE"," ",613],["T_VARIABLE","$key",613],["T_WHITESPACE"," ",613],")",["T_WHITESPACE"," ",613],"]",["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_STRING","trim",613],"(",["T_WHITESPACE"," ",613],["T_VARIABLE","$value",613],["T_WHITESPACE"," ",613],")",";",["T_WHITESPACE","\n\t\t\t",613],"}",["T_WHITESPACE","\n\n\t\t\t",614],["T_IF","if",616],["T_WHITESPACE"," ",616],"(",["T_WHITESPACE"," ",616],["T_EMPTY","empty",616],"(",["T_WHITESPACE"," ",616],["T_VARIABLE","$attributes",616],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",616],"]",["T_WHITESPACE"," ",616],")",["T_WHITESPACE"," ",616],")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n\t\t\t\t",616],["T_CONTINUE","continue",617],";",["T_WHITESPACE","\n\t\t\t",617],"}",["T_WHITESPACE","\n\n\t\t\t",618],["T_VARIABLE","$filename",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_STRING","trim",620],"(",["T_WHITESPACE"," ",620],["T_VARIABLE","$attributes",620],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",620],"]",["T_WHITESPACE"," ",620],")",";",["T_WHITESPACE","\n\n\t\t\t",620],["T_COMMENT","\/\/ Unquote quoted filename, but after trimming.\n",622],["T_WHITESPACE","\t\t\t",623],["T_IF","if",623],["T_WHITESPACE"," ",623],"(",["T_WHITESPACE"," ",623],["T_STRING","substr",623],"(",["T_WHITESPACE"," ",623],["T_VARIABLE","$filename",623],",",["T_WHITESPACE"," ",623],["T_LNUMBER","0",623],",",["T_WHITESPACE"," ",623],["T_LNUMBER","1",623],["T_WHITESPACE"," ",623],")",["T_WHITESPACE"," ",623],["T_IS_IDENTICAL","===",623],["T_WHITESPACE"," ",623],["T_CONSTANT_ENCAPSED_STRING","'\"'",623],["T_WHITESPACE"," ",623],["T_BOOLEAN_AND","&&",623],["T_WHITESPACE"," ",623],["T_STRING","substr",623],"(",["T_WHITESPACE"," ",623],["T_VARIABLE","$filename",623],",",["T_WHITESPACE"," ",623],"-",["T_LNUMBER","1",623],",",["T_WHITESPACE"," ",623],["T_LNUMBER","1",623],["T_WHITESPACE"," ",623],")",["T_WHITESPACE"," ",623],["T_IS_IDENTICAL","===",623],["T_WHITESPACE"," ",623],["T_CONSTANT_ENCAPSED_STRING","'\"'",623],["T_WHITESPACE"," ",623],")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n\t\t\t\t",623],["T_VARIABLE","$filename",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","substr",624],"(",["T_WHITESPACE"," ",624],["T_VARIABLE","$filename",624],",",["T_WHITESPACE"," ",624],["T_LNUMBER","1",624],",",["T_WHITESPACE"," ",624],"-",["T_LNUMBER","1",624],["T_WHITESPACE"," ",624],")",";",["T_WHITESPACE","\n\t\t\t",624],"}",["T_WHITESPACE","\n\t\t",625],"}",["T_WHITESPACE","\n\n\t\t",626],["T_RETURN","return",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$filename",628],";",["T_WHITESPACE","\n\t",628],"}",["T_WHITESPACE","\n\n\t",629],["T_DOC_COMMENT","\/**\n\t * Retrieves the query params for collections of attachments.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @return array Query parameters for the attachment collection as an array.\n\t *\/",631],["T_WHITESPACE","\n\t",638],["T_PUBLIC","public",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","get_collection_params",639],"(",")",["T_WHITESPACE"," ",639],"{",["T_WHITESPACE","\n\t\t",639],["T_VARIABLE","$params",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_STRING","parent",640],["T_DOUBLE_COLON","::",640],["T_STRING","get_collection_params",640],"(",")",";",["T_WHITESPACE","\n\t\t",640],["T_VARIABLE","$params",641],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",641],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",641],"]",["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_CONSTANT_ENCAPSED_STRING","'inherit'",641],";",["T_WHITESPACE","\n\t\t",641],["T_VARIABLE","$params",642],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",642],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",642],"]","[",["T_CONSTANT_ENCAPSED_STRING","'enum'",642],"]",["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_ARRAY","array",642],"(",["T_WHITESPACE"," ",642],["T_CONSTANT_ENCAPSED_STRING","'inherit'",642],",",["T_WHITESPACE"," ",642],["T_CONSTANT_ENCAPSED_STRING","'private'",642],",",["T_WHITESPACE"," ",642],["T_CONSTANT_ENCAPSED_STRING","'trash'",642],["T_WHITESPACE"," ",642],")",";",["T_WHITESPACE","\n\t\t",642],["T_VARIABLE","$media_types",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","get_media_types",643],"(",")",";",["T_WHITESPACE","\n\n\t\t",643],["T_VARIABLE","$params",645],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",645],"]",["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_ARRAY","array",645],"(",["T_WHITESPACE","\n\t\t\t",645],["T_CONSTANT_ENCAPSED_STRING","'default'",646],["T_WHITESPACE","           ",646],["T_DOUBLE_ARROW","=>",646],["T_WHITESPACE"," ",646],["T_STRING","null",646],",",["T_WHITESPACE","\n\t\t\t",646],["T_CONSTANT_ENCAPSED_STRING","'description'",647],["T_WHITESPACE","       ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],["T_STRING","__",647],"(",["T_WHITESPACE"," ",647],["T_CONSTANT_ENCAPSED_STRING","'Limit result set to attachments of a particular media type.'",647],["T_WHITESPACE"," ",647],")",",",["T_WHITESPACE","\n\t\t\t",647],["T_CONSTANT_ENCAPSED_STRING","'type'",648],["T_WHITESPACE","              ",648],["T_DOUBLE_ARROW","=>",648],["T_WHITESPACE"," ",648],["T_CONSTANT_ENCAPSED_STRING","'string'",648],",",["T_WHITESPACE","\n\t\t\t",648],["T_CONSTANT_ENCAPSED_STRING","'enum'",649],["T_WHITESPACE","              ",649],["T_DOUBLE_ARROW","=>",649],["T_WHITESPACE"," ",649],["T_STRING","array_keys",649],"(",["T_WHITESPACE"," ",649],["T_VARIABLE","$media_types",649],["T_WHITESPACE"," ",649],")",",",["T_WHITESPACE","\n\t\t",649],")",";",["T_WHITESPACE","\n\n\t\t",650],["T_VARIABLE","$params",652],"[",["T_CONSTANT_ENCAPSED_STRING","'mime_type'",652],"]",["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_ARRAY","array",652],"(",["T_WHITESPACE","\n\t\t\t",652],["T_CONSTANT_ENCAPSED_STRING","'default'",653],["T_WHITESPACE","     ",653],["T_DOUBLE_ARROW","=>",653],["T_WHITESPACE"," ",653],["T_STRING","null",653],",",["T_WHITESPACE","\n\t\t\t",653],["T_CONSTANT_ENCAPSED_STRING","'description'",654],["T_WHITESPACE"," ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],["T_STRING","__",654],"(",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'Limit result set to attachments of a particular MIME type.'",654],["T_WHITESPACE"," ",654],")",",",["T_WHITESPACE","\n\t\t\t",654],["T_CONSTANT_ENCAPSED_STRING","'type'",655],["T_WHITESPACE","        ",655],["T_DOUBLE_ARROW","=>",655],["T_WHITESPACE"," ",655],["T_CONSTANT_ENCAPSED_STRING","'string'",655],",",["T_WHITESPACE","\n\t\t",655],")",";",["T_WHITESPACE","\n\n\t\t",656],["T_RETURN","return",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$params",658],";",["T_WHITESPACE","\n\t",658],"}",["T_WHITESPACE","\n\n\t",659],["T_DOC_COMMENT","\/**\n\t * Validates whether the user can query private statuses.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param mixed           $value     Status value.\n\t * @param WP_REST_Request $request   Request object.\n\t * @param string          $parameter Additional parameter to pass for validation.\n\t * @return WP_Error|bool True if the user may query, WP_Error if not.\n\t *\/",661],["T_WHITESPACE","\n\t",671],["T_PUBLIC","public",672],["T_WHITESPACE"," ",672],["T_FUNCTION","function",672],["T_WHITESPACE"," ",672],["T_STRING","validate_user_can_query_private_statuses",672],"(",["T_WHITESPACE"," ",672],["T_VARIABLE","$value",672],",",["T_WHITESPACE"," ",672],["T_VARIABLE","$request",672],",",["T_WHITESPACE"," ",672],["T_VARIABLE","$parameter",672],["T_WHITESPACE"," ",672],")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n\t\t",672],["T_IF","if",673],["T_WHITESPACE"," ",673],"(",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","'inherit'",673],["T_WHITESPACE"," ",673],["T_IS_IDENTICAL","===",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$value",673],["T_WHITESPACE"," ",673],")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n\t\t\t",673],["T_RETURN","return",674],["T_WHITESPACE"," ",674],["T_STRING","true",674],";",["T_WHITESPACE","\n\t\t",674],"}",["T_WHITESPACE","\n\n\t\t",675],["T_RETURN","return",677],["T_WHITESPACE"," ",677],["T_STRING","parent",677],["T_DOUBLE_COLON","::",677],["T_STRING","validate_user_can_query_private_statuses",677],"(",["T_WHITESPACE"," ",677],["T_VARIABLE","$value",677],",",["T_WHITESPACE"," ",677],["T_VARIABLE","$request",677],",",["T_WHITESPACE"," ",677],["T_VARIABLE","$parameter",677],["T_WHITESPACE"," ",677],")",";",["T_WHITESPACE","\n\t",677],"}",["T_WHITESPACE","\n\n\t",678],["T_DOC_COMMENT","\/**\n\t * Handles an upload via multipart\/form-data ($_FILES).\n\t *\n\t * @since 4.7.0\n\t * @access protected\n\t *\n\t * @param array $files   Data from the `$_FILES` superglobal.\n\t * @param array $headers HTTP headers from the request.\n\t * @return array|WP_Error Data from wp_handle_upload().\n\t *\/",680],["T_WHITESPACE","\n\t",689],["T_PROTECTED","protected",690],["T_WHITESPACE"," ",690],["T_FUNCTION","function",690],["T_WHITESPACE"," ",690],["T_STRING","upload_from_file",690],"(",["T_WHITESPACE"," ",690],["T_VARIABLE","$files",690],",",["T_WHITESPACE"," ",690],["T_VARIABLE","$headers",690],["T_WHITESPACE"," ",690],")",["T_WHITESPACE"," ",690],"{",["T_WHITESPACE","\n\t\t",690],["T_IF","if",691],["T_WHITESPACE"," ",691],"(",["T_WHITESPACE"," ",691],["T_EMPTY","empty",691],"(",["T_WHITESPACE"," ",691],["T_VARIABLE","$files",691],["T_WHITESPACE"," ",691],")",["T_WHITESPACE"," ",691],")",["T_WHITESPACE"," ",691],"{",["T_WHITESPACE","\n\t\t\t",691],["T_RETURN","return",692],["T_WHITESPACE"," ",692],["T_NEW","new",692],["T_WHITESPACE"," ",692],["T_STRING","WP_Error",692],"(",["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_no_data'",692],",",["T_WHITESPACE"," ",692],["T_STRING","__",692],"(",["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'No data supplied.'",692],["T_WHITESPACE"," ",692],")",",",["T_WHITESPACE"," ",692],["T_ARRAY","array",692],"(",["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'status'",692],["T_WHITESPACE"," ",692],["T_DOUBLE_ARROW","=>",692],["T_WHITESPACE"," ",692],["T_LNUMBER","400",692],["T_WHITESPACE"," ",692],")",["T_WHITESPACE"," ",692],")",";",["T_WHITESPACE","\n\t\t",692],"}",["T_WHITESPACE","\n\n\t\t",693],["T_COMMENT","\/\/ Verify hash, if given.\n",695],["T_WHITESPACE","\t\t",696],["T_IF","if",696],["T_WHITESPACE"," ",696],"(",["T_WHITESPACE"," ",696],"!",["T_WHITESPACE"," ",696],["T_EMPTY","empty",696],"(",["T_WHITESPACE"," ",696],["T_VARIABLE","$headers",696],"[",["T_CONSTANT_ENCAPSED_STRING","'content_md5'",696],"]",["T_WHITESPACE"," ",696],")",["T_WHITESPACE"," ",696],")",["T_WHITESPACE"," ",696],"{",["T_WHITESPACE","\n\t\t\t",696],["T_VARIABLE","$content_md5",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_STRING","array_shift",697],"(",["T_WHITESPACE"," ",697],["T_VARIABLE","$headers",697],"[",["T_CONSTANT_ENCAPSED_STRING","'content_md5'",697],"]",["T_WHITESPACE"," ",697],")",";",["T_WHITESPACE","\n\t\t\t",697],["T_VARIABLE","$expected",698],["T_WHITESPACE","    ",698],"=",["T_WHITESPACE"," ",698],["T_STRING","trim",698],"(",["T_WHITESPACE"," ",698],["T_VARIABLE","$content_md5",698],["T_WHITESPACE"," ",698],")",";",["T_WHITESPACE","\n\t\t\t",698],["T_VARIABLE","$actual",699],["T_WHITESPACE","      ",699],"=",["T_WHITESPACE"," ",699],["T_STRING","md5_file",699],"(",["T_WHITESPACE"," ",699],["T_VARIABLE","$files",699],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",699],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",699],"]",["T_WHITESPACE"," ",699],")",";",["T_WHITESPACE","\n\n\t\t\t",699],["T_IF","if",701],["T_WHITESPACE"," ",701],"(",["T_WHITESPACE"," ",701],["T_VARIABLE","$expected",701],["T_WHITESPACE"," ",701],["T_IS_NOT_IDENTICAL","!==",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$actual",701],["T_WHITESPACE"," ",701],")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n\t\t\t\t",701],["T_RETURN","return",702],["T_WHITESPACE"," ",702],["T_NEW","new",702],["T_WHITESPACE"," ",702],["T_STRING","WP_Error",702],"(",["T_WHITESPACE"," ",702],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_hash_mismatch'",702],",",["T_WHITESPACE"," ",702],["T_STRING","__",702],"(",["T_WHITESPACE"," ",702],["T_CONSTANT_ENCAPSED_STRING","'Content hash did not match expected.'",702],["T_WHITESPACE"," ",702],")",",",["T_WHITESPACE"," ",702],["T_ARRAY","array",702],"(",["T_WHITESPACE"," ",702],["T_CONSTANT_ENCAPSED_STRING","'status'",702],["T_WHITESPACE"," ",702],["T_DOUBLE_ARROW","=>",702],["T_WHITESPACE"," ",702],["T_LNUMBER","412",702],["T_WHITESPACE"," ",702],")",["T_WHITESPACE"," ",702],")",";",["T_WHITESPACE","\n\t\t\t",702],"}",["T_WHITESPACE","\n\t\t",703],"}",["T_WHITESPACE","\n\n\t\t",704],["T_COMMENT","\/\/ Pass off to WP to handle the actual upload.\n",706],["T_WHITESPACE","\t\t",707],["T_VARIABLE","$overrides",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_ARRAY","array",707],"(",["T_WHITESPACE","\n\t\t\t",707],["T_CONSTANT_ENCAPSED_STRING","'test_form'",708],["T_WHITESPACE","   ",708],["T_DOUBLE_ARROW","=>",708],["T_WHITESPACE"," ",708],["T_STRING","false",708],",",["T_WHITESPACE","\n\t\t",708],")",";",["T_WHITESPACE","\n\n\t\t",709],["T_COMMENT","\/\/ Bypasses is_uploaded_file() when running unit tests.\n",711],["T_WHITESPACE","\t\t",712],["T_IF","if",712],["T_WHITESPACE"," ",712],"(",["T_WHITESPACE"," ",712],["T_STRING","defined",712],"(",["T_WHITESPACE"," ",712],["T_CONSTANT_ENCAPSED_STRING","'DIR_TESTDATA'",712],["T_WHITESPACE"," ",712],")",["T_WHITESPACE"," ",712],["T_BOOLEAN_AND","&&",712],["T_WHITESPACE"," ",712],["T_STRING","DIR_TESTDATA",712],["T_WHITESPACE"," ",712],")",["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n\t\t\t",712],["T_VARIABLE","$overrides",713],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",713],"]",["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_CONSTANT_ENCAPSED_STRING","'wp_handle_mock_upload'",713],";",["T_WHITESPACE","\n\t\t",713],"}",["T_WHITESPACE","\n\n\t\t",714],["T_DOC_COMMENT","\/** Include admin functions to get access to wp_handle_upload() *\/",716],["T_WHITESPACE","\n\t\t",716],["T_REQUIRE_ONCE","require_once",717],["T_WHITESPACE"," ",717],["T_STRING","ABSPATH",717],["T_WHITESPACE"," ",717],".",["T_WHITESPACE"," ",717],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/admin.php'",717],";",["T_WHITESPACE","\n\n\t\t",717],["T_VARIABLE","$file",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_STRING","wp_handle_upload",719],"(",["T_WHITESPACE"," ",719],["T_VARIABLE","$files",719],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",719],"]",",",["T_WHITESPACE"," ",719],["T_VARIABLE","$overrides",719],["T_WHITESPACE"," ",719],")",";",["T_WHITESPACE","\n\n\t\t",719],["T_IF","if",721],["T_WHITESPACE"," ",721],"(",["T_WHITESPACE"," ",721],["T_ISSET","isset",721],"(",["T_WHITESPACE"," ",721],["T_VARIABLE","$file",721],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",721],"]",["T_WHITESPACE"," ",721],")",["T_WHITESPACE"," ",721],")",["T_WHITESPACE"," ",721],"{",["T_WHITESPACE","\n\t\t\t",721],["T_RETURN","return",722],["T_WHITESPACE"," ",722],["T_NEW","new",722],["T_WHITESPACE"," ",722],["T_STRING","WP_Error",722],"(",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'rest_upload_unknown_error'",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$file",722],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",722],"]",",",["T_WHITESPACE"," ",722],["T_ARRAY","array",722],"(",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'status'",722],["T_WHITESPACE"," ",722],["T_DOUBLE_ARROW","=>",722],["T_WHITESPACE"," ",722],["T_LNUMBER","500",722],["T_WHITESPACE"," ",722],")",["T_WHITESPACE"," ",722],")",";",["T_WHITESPACE","\n\t\t",722],"}",["T_WHITESPACE","\n\n\t\t",723],["T_RETURN","return",725],["T_WHITESPACE"," ",725],["T_VARIABLE","$file",725],";",["T_WHITESPACE","\n\t",725],"}",["T_WHITESPACE","\n\n\t",726],["T_DOC_COMMENT","\/**\n\t * Retrieves the supported media types.\n\t *\n\t * Media types are considered the MIME type category.\n\t *\n\t * @since 4.7.0\n\t * @access protected\n\t *\n\t * @return array Array of supported media types.\n\t *\/",728],["T_WHITESPACE","\n\t",737],["T_PROTECTED","protected",738],["T_WHITESPACE"," ",738],["T_FUNCTION","function",738],["T_WHITESPACE"," ",738],["T_STRING","get_media_types",738],"(",")",["T_WHITESPACE"," ",738],"{",["T_WHITESPACE","\n\t\t",738],["T_VARIABLE","$media_types",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_ARRAY","array",739],"(",")",";",["T_WHITESPACE","\n\n\t\t",739],["T_FOREACH","foreach",741],["T_WHITESPACE"," ",741],"(",["T_WHITESPACE"," ",741],["T_STRING","get_allowed_mime_types",741],"(",")",["T_WHITESPACE"," ",741],["T_AS","as",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$mime_type",741],["T_WHITESPACE"," ",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n\t\t\t",741],["T_VARIABLE","$parts",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_STRING","explode",742],"(",["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","'\/'",742],",",["T_WHITESPACE"," ",742],["T_VARIABLE","$mime_type",742],["T_WHITESPACE"," ",742],")",";",["T_WHITESPACE","\n\n\t\t\t",742],["T_IF","if",744],["T_WHITESPACE"," ",744],"(",["T_WHITESPACE"," ",744],"!",["T_WHITESPACE"," ",744],["T_ISSET","isset",744],"(",["T_WHITESPACE"," ",744],["T_VARIABLE","$media_types",744],"[",["T_WHITESPACE"," ",744],["T_VARIABLE","$parts",744],"[",["T_LNUMBER","0",744],"]",["T_WHITESPACE"," ",744],"]",["T_WHITESPACE"," ",744],")",["T_WHITESPACE"," ",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n\t\t\t\t",744],["T_VARIABLE","$media_types",745],"[",["T_WHITESPACE"," ",745],["T_VARIABLE","$parts",745],"[",["T_LNUMBER","0",745],"]",["T_WHITESPACE"," ",745],"]",["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_ARRAY","array",745],"(",")",";",["T_WHITESPACE","\n\t\t\t",745],"}",["T_WHITESPACE","\n\n\t\t\t",746],["T_VARIABLE","$media_types",748],"[",["T_WHITESPACE"," ",748],["T_VARIABLE","$parts",748],"[",["T_LNUMBER","0",748],"]",["T_WHITESPACE"," ",748],"]","[","]",["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$mime_type",748],";",["T_WHITESPACE","\n\t\t",748],"}",["T_WHITESPACE","\n\n\t\t",749],["T_RETURN","return",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$media_types",751],";",["T_WHITESPACE","\n\t",751],"}",["T_WHITESPACE","\n\n",752],"}",["T_WHITESPACE","\n",754]]