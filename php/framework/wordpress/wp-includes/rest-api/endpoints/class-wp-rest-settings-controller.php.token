[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * REST API: WP_REST_Settings_Controller class\n *\n * @package WordPress\n * @subpackage REST_API\n * @since 4.7.0\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Core class used to manage a site's settings via the REST API.\n *\n * @since 4.7.0\n *\n * @see WP_REST_Controller\n *\/",10],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","WP_REST_Settings_Controller",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WP_REST_Controller",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n\t",17],["T_DOC_COMMENT","\/**\n\t * Constructor.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\/",19],["T_WHITESPACE","\n\t",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","__construct",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\t\t",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","namespace",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'wp\/v2'",26],";",["T_WHITESPACE","\n\t\t",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","rest_base",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'settings'",27],";",["T_WHITESPACE","\n\t",27],"}",["T_WHITESPACE","\n\n\t",28],["T_DOC_COMMENT","\/**\n\t * Registers the routes for the objects of the controller.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @see register_rest_route()\n\t *\/",30],["T_WHITESPACE","\n\t",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","register_routes",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\n\t\t",38],["T_STRING","register_rest_route",40],"(",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","namespace",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'\/'",40],["T_WHITESPACE"," ",40],".",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","rest_base",40],",",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_WHITESPACE","\n\t\t\t",40],["T_ARRAY","array",41],"(",["T_WHITESPACE","\n\t\t\t\t",41],["T_CONSTANT_ENCAPSED_STRING","'methods'",42],["T_WHITESPACE","             ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","WP_REST_Server",42],["T_DOUBLE_COLON","::",42],["T_STRING","READABLE",42],",",["T_WHITESPACE","\n\t\t\t\t",42],["T_CONSTANT_ENCAPSED_STRING","'callback'",43],["T_WHITESPACE","            ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'get_item'",43],["T_WHITESPACE"," ",43],")",",",["T_WHITESPACE","\n\t\t\t\t",43],["T_CONSTANT_ENCAPSED_STRING","'args'",44],["T_WHITESPACE","                ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",",",["T_WHITESPACE","\n\t\t\t\t",44],["T_CONSTANT_ENCAPSED_STRING","'permission_callback'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'get_item_permissions_check'",45],["T_WHITESPACE"," ",45],")",",",["T_WHITESPACE","\n\t\t\t",45],")",",",["T_WHITESPACE","\n\t\t\t",46],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n\t\t\t\t",47],["T_CONSTANT_ENCAPSED_STRING","'methods'",48],["T_WHITESPACE","             ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","WP_REST_Server",48],["T_DOUBLE_COLON","::",48],["T_STRING","EDITABLE",48],",",["T_WHITESPACE","\n\t\t\t\t",48],["T_CONSTANT_ENCAPSED_STRING","'callback'",49],["T_WHITESPACE","            ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'update_item'",49],["T_WHITESPACE"," ",49],")",",",["T_WHITESPACE","\n\t\t\t\t",49],["T_CONSTANT_ENCAPSED_STRING","'args'",50],["T_WHITESPACE","                ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get_endpoint_args_for_item_schema",50],"(",["T_WHITESPACE"," ",50],["T_STRING","WP_REST_Server",50],["T_DOUBLE_COLON","::",50],["T_STRING","EDITABLE",50],["T_WHITESPACE"," ",50],")",",",["T_WHITESPACE","\n\t\t\t\t",50],["T_CONSTANT_ENCAPSED_STRING","'permission_callback'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'get_item_permissions_check'",51],["T_WHITESPACE"," ",51],")",",",["T_WHITESPACE","\n\t\t\t",51],")",",",["T_WHITESPACE","\n\t\t\t",52],["T_CONSTANT_ENCAPSED_STRING","'schema'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'get_public_item_schema'",53],["T_WHITESPACE"," ",53],")",",",["T_WHITESPACE","\n\t\t",53],")",["T_WHITESPACE"," ",54],")",";",["T_WHITESPACE","\n\n\t",54],"}",["T_WHITESPACE","\n\n\t",56],["T_DOC_COMMENT","\/**\n\t * Checks if a given request has access to read and manage settings.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_REST_Request $request Full details about the request.\n\t * @return bool True if the request has read access for the item, otherwise false.\n\t *\/",58],["T_WHITESPACE","\n\t",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","get_item_permissions_check",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$request",67],["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_STRING","current_user_can",68],"(",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'manage_options'",68],["T_WHITESPACE"," ",68],")",";",["T_WHITESPACE","\n\t",68],"}",["T_WHITESPACE","\n\n\t",69],["T_DOC_COMMENT","\/**\n\t * Retrieves the settings.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_REST_Request $request Full details about the request.\n\t * @return array|WP_Error Array on success, or WP_Error object on failure.\n\t *\/",71],["T_WHITESPACE","\n\t",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","get_item",80],"(",["T_WHITESPACE"," ",80],["T_VARIABLE","$request",80],["T_WHITESPACE"," ",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t",80],["T_VARIABLE","$options",81],["T_WHITESPACE","  ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","get_registered_options",81],"(",")",";",["T_WHITESPACE","\n\t\t",81],["T_VARIABLE","$response",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",")",";",["T_WHITESPACE","\n\n\t\t",82],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_WHITESPACE"," ",84],["T_VARIABLE","$options",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$name",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$args",84],["T_WHITESPACE"," ",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t",84],["T_DOC_COMMENT","\/**\n\t\t\t * Filters the value of a setting recognized by the REST API.\n\t\t\t *\n\t\t\t * Allow hijacking the setting value and overriding the built-in behavior by returning a\n\t\t\t * non-null value.  The returned value will be presented as the setting value instead.\n\t\t\t *\n\t\t\t * @since 4.7.0\n\t\t\t *\n\t\t\t * @param mixed  $result Value to use for the requested setting. Can be a scalar\n\t\t\t *                       matching the registered schema for the setting, or null to\n\t\t\t *                       follow the default get_option() behavior.\n\t\t\t * @param string $name   Setting name (as shown in REST API responses).\n\t\t\t * @param array  $args   Arguments passed to register_setting() for this setting.\n\t\t\t *\/",85],["T_WHITESPACE","\n\t\t\t",98],["T_VARIABLE","$response",99],"[",["T_WHITESPACE"," ",99],["T_VARIABLE","$name",99],["T_WHITESPACE"," ",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","apply_filters",99],"(",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'rest_pre_get_setting'",99],",",["T_WHITESPACE"," ",99],["T_STRING","null",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$name",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$args",99],["T_WHITESPACE"," ",99],")",";",["T_WHITESPACE","\n\n\t\t\t",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_WHITESPACE"," ",101],["T_STRING","is_null",101],"(",["T_WHITESPACE"," ",101],["T_VARIABLE","$response",101],"[",["T_WHITESPACE"," ",101],["T_VARIABLE","$name",101],["T_WHITESPACE"," ",101],"]",["T_WHITESPACE"," ",101],")",["T_WHITESPACE"," ",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n\t\t\t\t",101],["T_COMMENT","\/\/ Default to a null value as \"null\" in the response means \"not set\".\n",102],["T_WHITESPACE","\t\t\t\t",103],["T_VARIABLE","$response",103],"[",["T_WHITESPACE"," ",103],["T_VARIABLE","$name",103],["T_WHITESPACE"," ",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","get_option",103],"(",["T_WHITESPACE"," ",103],["T_VARIABLE","$args",103],"[",["T_CONSTANT_ENCAPSED_STRING","'option_name'",103],"]",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$args",103],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",103],"]",["T_WHITESPACE"," ",103],")",";",["T_WHITESPACE","\n\t\t\t",103],"}",["T_WHITESPACE","\n\n\t\t\t",104],["T_COMMENT","\/*\n\t\t\t * Because get_option() is lossy, we have to\n\t\t\t * cast values to the type they are registered with.\n\t\t\t *\/",106],["T_WHITESPACE","\n\t\t\t",109],["T_VARIABLE","$response",110],"[",["T_WHITESPACE"," ",110],["T_VARIABLE","$name",110],["T_WHITESPACE"," ",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","prepare_value",110],"(",["T_WHITESPACE"," ",110],["T_VARIABLE","$response",110],"[",["T_WHITESPACE"," ",110],["T_VARIABLE","$name",110],["T_WHITESPACE"," ",110],"]",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$args",110],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",110],"]",["T_WHITESPACE"," ",110],")",";",["T_WHITESPACE","\n\t\t",110],"}",["T_WHITESPACE","\n\n\t\t",111],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$response",113],";",["T_WHITESPACE","\n\t",113],"}",["T_WHITESPACE","\n\n\t",114],["T_DOC_COMMENT","\/**\n\t * Prepares a value for output based off a schema array.\n\t *\n\t * @since 4.7.0\n\t * @access protected\n\t *\n\t * @param mixed $value  Value to prepare.\n\t * @param array $schema Schema to match.\n\t * @return mixed The prepared value.\n\t *\/",116],["T_WHITESPACE","\n\t",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","prepare_value",126],"(",["T_WHITESPACE"," ",126],["T_VARIABLE","$value",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$schema",126],["T_WHITESPACE"," ",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n\t\t",126],["T_COMMENT","\/\/ If the value is not a scalar, it's not possible to cast it to anything.\n",127],["T_WHITESPACE","\t\t",128],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_WHITESPACE"," ",128],"!",["T_WHITESPACE"," ",128],["T_STRING","is_scalar",128],"(",["T_WHITESPACE"," ",128],["T_VARIABLE","$value",128],["T_WHITESPACE"," ",128],")",["T_WHITESPACE"," ",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n\t\t\t",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","null",129],";",["T_WHITESPACE","\n\t\t",129],"}",["T_WHITESPACE","\n\n\t\t",130],["T_SWITCH","switch",132],["T_WHITESPACE"," ",132],"(",["T_WHITESPACE"," ",132],["T_VARIABLE","$schema",132],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",132],"]",["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n\t\t\t",132],["T_CASE","case",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'string'",133],":",["T_WHITESPACE","\n\t\t\t\t",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_STRING_CAST","(string)",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$value",134],";",["T_WHITESPACE","\n\t\t\t",134],["T_CASE","case",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'integer'",135],":",["T_WHITESPACE","\n\t\t\t\t",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_INT_CAST","(int)",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$value",136],";",["T_WHITESPACE","\n\t\t\t",136],["T_CASE","case",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'number'",137],":",["T_WHITESPACE","\n\t\t\t\t",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_DOUBLE_CAST","(float)",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$value",138],";",["T_WHITESPACE","\n\t\t\t",138],["T_CASE","case",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'boolean'",139],":",["T_WHITESPACE","\n\t\t\t\t",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_BOOL_CAST","(bool)",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$value",140],";",["T_WHITESPACE","\n\t\t\t",140],["T_DEFAULT","default",141],":",["T_WHITESPACE","\n\t\t\t\t",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","null",142],";",["T_WHITESPACE","\n\t\t",142],"}",["T_WHITESPACE","\n\t",143],"}",["T_WHITESPACE","\n\n\t",144],["T_DOC_COMMENT","\/**\n\t * Updates settings for the settings object.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param WP_REST_Request $request Full details about the request.\n\t * @return array|WP_Error Array on success, or error object on failure.\n\t *\/",146],["T_WHITESPACE","\n\t",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","update_item",155],"(",["T_WHITESPACE"," ",155],["T_VARIABLE","$request",155],["T_WHITESPACE"," ",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n\t\t",155],["T_VARIABLE","$options",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","get_registered_options",156],"(",")",";",["T_WHITESPACE","\n\t\t",156],["T_VARIABLE","$params",157],["T_WHITESPACE","  ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$request",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","get_params",157],"(",")",";",["T_WHITESPACE","\n\n\t\t",157],["T_FOREACH","foreach",159],["T_WHITESPACE"," ",159],"(",["T_WHITESPACE"," ",159],["T_VARIABLE","$options",159],["T_WHITESPACE"," ",159],["T_AS","as",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$name",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$args",159],["T_WHITESPACE"," ",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t\t",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_WHITESPACE"," ",160],"!",["T_WHITESPACE"," ",160],["T_STRING","array_key_exists",160],"(",["T_WHITESPACE"," ",160],["T_VARIABLE","$name",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$params",160],["T_WHITESPACE"," ",160],")",["T_WHITESPACE"," ",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n\t\t\t\t",160],["T_CONTINUE","continue",161],";",["T_WHITESPACE","\n\t\t\t",161],"}",["T_WHITESPACE","\n\n\t\t\t",162],["T_DOC_COMMENT","\/**\n\t\t\t * Filters whether to preempt a setting value update.\n\t\t\t *\n\t\t\t * Allows hijacking the setting update logic and overriding the built-in behavior by\n\t\t\t * returning true.\n\t\t\t *\n\t\t\t * @since 4.7.0\n\t\t\t *\n\t\t\t * @param bool   $result Whether to override the default behavior for updating the\n\t\t\t *                       value of a setting.\n\t\t\t * @param string $name   Setting name (as shown in REST API responses).\n\t\t\t * @param mixed  $value  Updated setting value.\n\t\t\t * @param array  $args   Arguments passed to register_setting() for this setting.\n\t\t\t *\/",164],["T_WHITESPACE","\n\t\t\t",177],["T_VARIABLE","$updated",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","apply_filters",178],"(",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'rest_pre_update_setting'",178],",",["T_WHITESPACE"," ",178],["T_STRING","false",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$name",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$request",178],"[",["T_WHITESPACE"," ",178],["T_VARIABLE","$name",178],["T_WHITESPACE"," ",178],"]",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$args",178],["T_WHITESPACE"," ",178],")",";",["T_WHITESPACE","\n\n\t\t\t",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_WHITESPACE"," ",180],["T_VARIABLE","$updated",180],["T_WHITESPACE"," ",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t\t",180],["T_CONTINUE","continue",181],";",["T_WHITESPACE","\n\t\t\t",181],"}",["T_WHITESPACE","\n\n\t\t\t",182],["T_COMMENT","\/*\n\t\t\t * A null value for an option would have the same effect as\n\t\t\t * deleting the option from the database, and relying on the\n\t\t\t * default value.\n\t\t\t *\/",184],["T_WHITESPACE","\n\t\t\t",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_WHITESPACE"," ",189],["T_STRING","is_null",189],"(",["T_WHITESPACE"," ",189],["T_VARIABLE","$request",189],"[",["T_WHITESPACE"," ",189],["T_VARIABLE","$name",189],["T_WHITESPACE"," ",189],"]",["T_WHITESPACE"," ",189],")",["T_WHITESPACE"," ",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n\t\t\t\t",189],["T_COMMENT","\/*\n\t\t\t\t * A null value is returned in the response for any option\n\t\t\t\t * that has a non-scalar value.\n\t\t\t\t *\n\t\t\t\t * To protect clients from accidentally including the null\n\t\t\t\t * values from a response object in a request, we do not allow\n\t\t\t\t * options with non-scalar values to be updated to null.\n\t\t\t\t * Without this added protection a client could mistakenly\n\t\t\t\t * delete all options that have non-scalar values from the\n\t\t\t\t * database.\n\t\t\t\t *\/",190],["T_WHITESPACE","\n\t\t\t\t",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_WHITESPACE"," ",201],"!",["T_WHITESPACE"," ",201],["T_STRING","is_scalar",201],"(",["T_WHITESPACE"," ",201],["T_STRING","get_option",201],"(",["T_WHITESPACE"," ",201],["T_VARIABLE","$args",201],"[",["T_CONSTANT_ENCAPSED_STRING","'option_name'",201],"]",",",["T_WHITESPACE"," ",201],["T_STRING","false",201],["T_WHITESPACE"," ",201],")",["T_WHITESPACE"," ",201],")",["T_WHITESPACE"," ",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n\t\t\t\t\t",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_NEW","new",202],["T_WHITESPACE"," ",202],["T_STRING","WP_Error",202],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",202],["T_CONSTANT_ENCAPSED_STRING","'rest_invalid_stored_value'",203],",",["T_WHITESPACE"," ",203],["T_STRING","sprintf",203],"(",["T_WHITESPACE"," ",203],["T_STRING","__",203],"(",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'The %s property has an invalid stored value, and cannot be updated to null.'",203],["T_WHITESPACE"," ",203],")",",",["T_WHITESPACE"," ",203],["T_VARIABLE","$name",203],["T_WHITESPACE"," ",203],")",",",["T_WHITESPACE"," ",203],["T_ARRAY","array",203],"(",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'status'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_LNUMBER","500",203],["T_WHITESPACE"," ",203],")",["T_WHITESPACE","\n\t\t\t\t\t",203],")",";",["T_WHITESPACE","\n\t\t\t\t",204],"}",["T_WHITESPACE","\n\n\t\t\t\t",205],["T_STRING","delete_option",207],"(",["T_WHITESPACE"," ",207],["T_VARIABLE","$args",207],"[",["T_CONSTANT_ENCAPSED_STRING","'option_name'",207],"]",["T_WHITESPACE"," ",207],")",";",["T_WHITESPACE","\n\t\t\t",207],"}",["T_WHITESPACE"," ",208],["T_ELSE","else",208],["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n\t\t\t\t",208],["T_STRING","update_option",209],"(",["T_WHITESPACE"," ",209],["T_VARIABLE","$args",209],"[",["T_CONSTANT_ENCAPSED_STRING","'option_name'",209],"]",",",["T_WHITESPACE"," ",209],["T_VARIABLE","$request",209],"[",["T_WHITESPACE"," ",209],["T_VARIABLE","$name",209],["T_WHITESPACE"," ",209],"]",["T_WHITESPACE"," ",209],")",";",["T_WHITESPACE","\n\t\t\t",209],"}",["T_WHITESPACE","\n\t\t",210],"}",["T_WHITESPACE","\n\n\t\t",211],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","get_item",213],"(",["T_WHITESPACE"," ",213],["T_VARIABLE","$request",213],["T_WHITESPACE"," ",213],")",";",["T_WHITESPACE","\n\t",213],"}",["T_WHITESPACE","\n\n\t",214],["T_DOC_COMMENT","\/**\n\t * Retrieves all of the registered options for the Settings API.\n\t *\n\t * @since 4.7.0\n\t * @access protected\n\t *\n\t * @return array Array of registered options.\n\t *\/",216],["T_WHITESPACE","\n\t",223],["T_PROTECTED","protected",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","get_registered_options",224],"(",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n\t\t",224],["T_VARIABLE","$rest_options",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",")",";",["T_WHITESPACE","\n\n\t\t",225],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_WHITESPACE"," ",227],["T_STRING","get_registered_settings",227],"(",")",["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$name",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$args",227],["T_WHITESPACE"," ",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n\t\t\t",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_WHITESPACE"," ",228],["T_EMPTY","empty",228],"(",["T_WHITESPACE"," ",228],["T_VARIABLE","$args",228],"[",["T_CONSTANT_ENCAPSED_STRING","'show_in_rest'",228],"]",["T_WHITESPACE"," ",228],")",["T_WHITESPACE"," ",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t\t\t",228],["T_CONTINUE","continue",229],";",["T_WHITESPACE","\n\t\t\t",229],"}",["T_WHITESPACE","\n\n\t\t\t",230],["T_VARIABLE","$rest_args",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",232],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_WHITESPACE"," ",234],["T_STRING","is_array",234],"(",["T_WHITESPACE"," ",234],["T_VARIABLE","$args",234],"[",["T_CONSTANT_ENCAPSED_STRING","'show_in_rest'",234],"]",["T_WHITESPACE"," ",234],")",["T_WHITESPACE"," ",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n\t\t\t\t",234],["T_VARIABLE","$rest_args",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$args",235],"[",["T_CONSTANT_ENCAPSED_STRING","'show_in_rest'",235],"]",";",["T_WHITESPACE","\n\t\t\t",235],"}",["T_WHITESPACE","\n\n\t\t\t",236],["T_VARIABLE","$defaults",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_WHITESPACE","\n\t\t\t\t",238],["T_CONSTANT_ENCAPSED_STRING","'name'",239],["T_WHITESPACE","   ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],"!",["T_WHITESPACE"," ",239],["T_EMPTY","empty",239],"(",["T_WHITESPACE"," ",239],["T_VARIABLE","$rest_args",239],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",239],"]",["T_WHITESPACE"," ",239],")",["T_WHITESPACE"," ",239],"?",["T_WHITESPACE"," ",239],["T_VARIABLE","$rest_args",239],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",239],"]",["T_WHITESPACE"," ",239],":",["T_WHITESPACE"," ",239],["T_VARIABLE","$name",239],",",["T_WHITESPACE","\n\t\t\t\t",239],["T_CONSTANT_ENCAPSED_STRING","'schema'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",")",",",["T_WHITESPACE","\n\t\t\t",240],")",";",["T_WHITESPACE","\n\n\t\t\t",241],["T_VARIABLE","$rest_args",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","array_merge",243],"(",["T_WHITESPACE"," ",243],["T_VARIABLE","$defaults",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$rest_args",243],["T_WHITESPACE"," ",243],")",";",["T_WHITESPACE","\n\n\t\t\t",243],["T_VARIABLE","$default_schema",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",["T_WHITESPACE","\n\t\t\t\t",245],["T_CONSTANT_ENCAPSED_STRING","'type'",246],["T_WHITESPACE","        ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_EMPTY","empty",246],"(",["T_WHITESPACE"," ",246],["T_VARIABLE","$args",246],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",246],"]",["T_WHITESPACE"," ",246],")",["T_WHITESPACE"," ",246],"?",["T_WHITESPACE"," ",246],["T_STRING","null",246],["T_WHITESPACE"," ",246],":",["T_WHITESPACE"," ",246],["T_VARIABLE","$args",246],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",246],"]",",",["T_WHITESPACE","\n\t\t\t\t",246],["T_CONSTANT_ENCAPSED_STRING","'description'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_EMPTY","empty",247],"(",["T_WHITESPACE"," ",247],["T_VARIABLE","$args",247],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",247],"]",["T_WHITESPACE"," ",247],")",["T_WHITESPACE"," ",247],"?",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","''",247],["T_WHITESPACE"," ",247],":",["T_WHITESPACE"," ",247],["T_VARIABLE","$args",247],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",247],"]",",",["T_WHITESPACE","\n\t\t\t\t",247],["T_CONSTANT_ENCAPSED_STRING","'default'",248],["T_WHITESPACE","     ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_ISSET","isset",248],"(",["T_WHITESPACE"," ",248],["T_VARIABLE","$args",248],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",248],"]",["T_WHITESPACE"," ",248],")",["T_WHITESPACE"," ",248],"?",["T_WHITESPACE"," ",248],["T_VARIABLE","$args",248],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",248],"]",["T_WHITESPACE"," ",248],":",["T_WHITESPACE"," ",248],["T_STRING","null",248],",",["T_WHITESPACE","\n\t\t\t",248],")",";",["T_WHITESPACE","\n\n\t\t\t",249],["T_VARIABLE","$rest_args",251],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",251],"]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","array_merge",251],"(",["T_WHITESPACE"," ",251],["T_VARIABLE","$default_schema",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$rest_args",251],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",251],"]",["T_WHITESPACE"," ",251],")",";",["T_WHITESPACE","\n\t\t\t",251],["T_VARIABLE","$rest_args",252],"[",["T_CONSTANT_ENCAPSED_STRING","'option_name'",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$name",252],";",["T_WHITESPACE","\n\n\t\t\t",252],["T_COMMENT","\/\/ Skip over settings that don't have a defined type in the schema.\n",254],["T_WHITESPACE","\t\t\t",255],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_WHITESPACE"," ",255],["T_EMPTY","empty",255],"(",["T_WHITESPACE"," ",255],["T_VARIABLE","$rest_args",255],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",255],"]",["T_WHITESPACE"," ",255],")",["T_WHITESPACE"," ",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n\t\t\t\t",255],["T_CONTINUE","continue",256],";",["T_WHITESPACE","\n\t\t\t",256],"}",["T_WHITESPACE","\n\n\t\t\t",257],["T_COMMENT","\/*\n\t\t\t * Whitelist the supported types for settings, as we don't want invalid types\n\t\t\t * to be updated with arbitrary values that we can't do decent sanitizing for.\n\t\t\t *\/",259],["T_WHITESPACE","\n\t\t\t",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_WHITESPACE"," ",263],"!",["T_WHITESPACE"," ",263],["T_STRING","in_array",263],"(",["T_WHITESPACE"," ",263],["T_VARIABLE","$rest_args",263],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",263],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",263],"]",",",["T_WHITESPACE"," ",263],["T_ARRAY","array",263],"(",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'number'",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'integer'",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'string'",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'boolean'",263],["T_WHITESPACE"," ",263],")",",",["T_WHITESPACE"," ",263],["T_STRING","true",263],["T_WHITESPACE"," ",263],")",["T_WHITESPACE"," ",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n\t\t\t\t",263],["T_CONTINUE","continue",264],";",["T_WHITESPACE","\n\t\t\t",264],"}",["T_WHITESPACE","\n\n\t\t\t",265],["T_VARIABLE","$rest_options",267],"[",["T_WHITESPACE"," ",267],["T_VARIABLE","$rest_args",267],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",267],"]",["T_WHITESPACE"," ",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$rest_args",267],";",["T_WHITESPACE","\n\t\t",267],"}",["T_WHITESPACE","\n\n\t\t",268],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$rest_options",270],";",["T_WHITESPACE","\n\t",270],"}",["T_WHITESPACE","\n\n\t",271],["T_DOC_COMMENT","\/**\n\t * Retrieves the site setting schema, conforming to JSON Schema.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @return array Item schema data.\n\t *\/",273],["T_WHITESPACE","\n\t",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","get_item_schema",281],"(",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n\t\t",281],["T_VARIABLE","$options",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","get_registered_options",282],"(",")",";",["T_WHITESPACE","\n\n\t\t",282],["T_VARIABLE","$schema",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_ARRAY","array",284],"(",["T_WHITESPACE","\n\t\t\t",284],["T_CONSTANT_ENCAPSED_STRING","'$schema'",285],["T_WHITESPACE","    ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/json-schema.org\/schema#'",285],",",["T_WHITESPACE","\n\t\t\t",285],["T_CONSTANT_ENCAPSED_STRING","'title'",286],["T_WHITESPACE","      ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'settings'",286],",",["T_WHITESPACE","\n\t\t\t",286],["T_CONSTANT_ENCAPSED_STRING","'type'",287],["T_WHITESPACE","       ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'object'",287],",",["T_WHITESPACE","\n\t\t\t",287],["T_CONSTANT_ENCAPSED_STRING","'properties'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",")",",",["T_WHITESPACE","\n\t\t",288],")",";",["T_WHITESPACE","\n\n\t\t",289],["T_FOREACH","foreach",291],["T_WHITESPACE"," ",291],"(",["T_WHITESPACE"," ",291],["T_VARIABLE","$options",291],["T_WHITESPACE"," ",291],["T_AS","as",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$option_name",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$option",291],["T_WHITESPACE"," ",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n\t\t\t",291],["T_VARIABLE","$schema",292],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",292],"]","[",["T_WHITESPACE"," ",292],["T_VARIABLE","$option_name",292],["T_WHITESPACE"," ",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$option",292],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",292],"]",";",["T_WHITESPACE","\n\t\t\t",292],["T_VARIABLE","$schema",293],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",293],"]","[",["T_WHITESPACE"," ",293],["T_VARIABLE","$option_name",293],["T_WHITESPACE"," ",293],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arg_options'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_ARRAY","array",293],"(",["T_WHITESPACE","\n\t\t\t\t",293],["T_CONSTANT_ENCAPSED_STRING","'sanitize_callback'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'sanitize_callback'",294],["T_WHITESPACE"," ",294],")",",",["T_WHITESPACE","\n\t\t\t",294],")",";",["T_WHITESPACE","\n\t\t",295],"}",["T_WHITESPACE","\n\n\t\t",296],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","add_additional_fields_schema",298],"(",["T_WHITESPACE"," ",298],["T_VARIABLE","$schema",298],["T_WHITESPACE"," ",298],")",";",["T_WHITESPACE","\n\t",298],"}",["T_WHITESPACE","\n\n\t",299],["T_DOC_COMMENT","\/**\n\t * Custom sanitize callback used for all options to allow the use of 'null'.\n\t *\n\t * By default, the schema of settings will throw an error if a value is set to\n\t * `null` as it's not a valid value for something like \"type => string\". We\n\t * provide a wrapper sanitizer to whitelist the use of `null`.\n\t *\n\t * @since 4.7.0\n\t * @access public\n\t *\n\t * @param  mixed           $value   The value for the setting.\n\t * @param  WP_REST_Request $request The request object.\n\t * @param  string          $param   The parameter name.\n\t * @return mixed|WP_Error\n\t *\/",301],["T_WHITESPACE","\n\t",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","sanitize_callback",316],"(",["T_WHITESPACE"," ",316],["T_VARIABLE","$value",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$request",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$param",316],["T_WHITESPACE"," ",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n\t\t",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_WHITESPACE"," ",317],["T_STRING","is_null",317],"(",["T_WHITESPACE"," ",317],["T_VARIABLE","$value",317],["T_WHITESPACE"," ",317],")",["T_WHITESPACE"," ",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n\t\t\t",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$value",318],";",["T_WHITESPACE","\n\t\t",318],"}",["T_WHITESPACE","\n\t\t",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_STRING","rest_parse_request_arg",320],"(",["T_WHITESPACE"," ",320],["T_VARIABLE","$value",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$request",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$param",320],["T_WHITESPACE"," ",320],")",";",["T_WHITESPACE","\n\t",320],"}",["T_WHITESPACE","\n",321],"}",["T_WHITESPACE","\n",322]]