[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * API for easily embedding rich media such as videos and images into content.\n *\n * @package WordPress\n * @subpackage Embed\n * @since 2.9.0\n *\/",2],["T_WHITESPACE","\n",8],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","WP_Embed",9],["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t",9],["T_PUBLIC","public",10],["T_WHITESPACE"," ",10],["T_VARIABLE","$handlers",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_ARRAY","array",10],"(",")",";",["T_WHITESPACE","\n\t",10],["T_PUBLIC","public",11],["T_WHITESPACE"," ",11],["T_VARIABLE","$post_ID",11],";",["T_WHITESPACE","\n\t",11],["T_PUBLIC","public",12],["T_WHITESPACE"," ",12],["T_VARIABLE","$usecache",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_STRING","true",12],";",["T_WHITESPACE","\n\t",12],["T_PUBLIC","public",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$linkifunknown",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_STRING","true",13],";",["T_WHITESPACE","\n\t",13],["T_PUBLIC","public",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$last_attr",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_ARRAY","array",14],"(",")",";",["T_WHITESPACE","\n\t",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$last_url",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","''",15],";",["T_WHITESPACE","\n\n\t",15],["T_DOC_COMMENT","\/**\n\t * When a URL cannot be embedded, return false instead of returning a link\n\t * or the URL.\n\t *\n\t * Bypasses the {@see 'embed_maybe_make_link'} filter.\n\t *\n\t * @access public\n\t * @var bool\n\t *\/",17],["T_WHITESPACE","\n\t",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$return_false_on_fail",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","false",26],";",["T_WHITESPACE","\n\n\t",26],["T_DOC_COMMENT","\/**\n\t * Constructor\n\t *\/",28],["T_WHITESPACE","\n\t",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","__construct",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\t\t",31],["T_COMMENT","\/\/ Hack to get the [embed] shortcode to run before wpautop()\n",32],["T_WHITESPACE","\t\t",33],["T_STRING","add_filter",33],"(",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'the_content'",33],",",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'run_shortcode'",33],["T_WHITESPACE"," ",33],")",",",["T_WHITESPACE"," ",33],["T_LNUMBER","8",33],["T_WHITESPACE"," ",33],")",";",["T_WHITESPACE","\n\n\t\t",33],["T_COMMENT","\/\/ Shortcode placeholder for strip_shortcodes()\n",35],["T_WHITESPACE","\t\t",36],["T_STRING","add_shortcode",36],"(",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'embed'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'__return_false'",36],["T_WHITESPACE"," ",36],")",";",["T_WHITESPACE","\n\n\t\t",36],["T_COMMENT","\/\/ Attempts to embed all URLs in a post\n",38],["T_WHITESPACE","\t\t",39],["T_STRING","add_filter",39],"(",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'the_content'",39],",",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'autoembed'",39],["T_WHITESPACE"," ",39],")",",",["T_WHITESPACE"," ",39],["T_LNUMBER","8",39],["T_WHITESPACE"," ",39],")",";",["T_WHITESPACE","\n\n\t\t",39],["T_COMMENT","\/\/ After a post is saved, cache oEmbed items via Ajax\n",41],["T_WHITESPACE","\t\t",42],["T_STRING","add_action",42],"(",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'edit_form_advanced'",42],",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'maybe_run_ajax_cache'",42],["T_WHITESPACE"," ",42],")",["T_WHITESPACE"," ",42],")",";",["T_WHITESPACE","\n\t\t",42],["T_STRING","add_action",43],"(",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'edit_page_form'",43],",",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'maybe_run_ajax_cache'",43],["T_WHITESPACE"," ",43],")",["T_WHITESPACE"," ",43],")",";",["T_WHITESPACE","\n\t",43],"}",["T_WHITESPACE","\n\n\t",44],["T_DOC_COMMENT","\/**\n\t * Process the [embed] shortcode.\n\t *\n\t * Since the [embed] shortcode needs to be run earlier than other shortcodes,\n\t * this function removes all existing shortcodes, registers the [embed] shortcode,\n\t * calls do_shortcode(), and then re-registers the old shortcodes.\n\t *\n\t * @global array $shortcode_tags\n\t *\n\t * @param string $content Content to parse\n\t * @return string Content with shortcode parsed\n\t *\/",46],["T_WHITESPACE","\n\t",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","run_shortcode",58],"(",["T_WHITESPACE"," ",58],["T_VARIABLE","$content",58],["T_WHITESPACE"," ",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n\t\t",58],["T_GLOBAL","global",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$shortcode_tags",59],";",["T_WHITESPACE","\n\n\t\t",59],["T_COMMENT","\/\/ Back up current registered shortcodes and clear them all out\n",61],["T_WHITESPACE","\t\t",62],["T_VARIABLE","$orig_shortcode_tags",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$shortcode_tags",62],";",["T_WHITESPACE","\n\t\t",62],["T_STRING","remove_all_shortcodes",63],"(",")",";",["T_WHITESPACE","\n\n\t\t",63],["T_STRING","add_shortcode",65],"(",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'embed'",65],",",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'shortcode'",65],["T_WHITESPACE"," ",65],")",["T_WHITESPACE"," ",65],")",";",["T_WHITESPACE","\n\n\t\t",65],["T_COMMENT","\/\/ Do the shortcode (only the [embed] one is registered)\n",67],["T_WHITESPACE","\t\t",68],["T_VARIABLE","$content",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","do_shortcode",68],"(",["T_WHITESPACE"," ",68],["T_VARIABLE","$content",68],",",["T_WHITESPACE"," ",68],["T_STRING","true",68],["T_WHITESPACE"," ",68],")",";",["T_WHITESPACE","\n\n\t\t",68],["T_COMMENT","\/\/ Put the original shortcodes back\n",70],["T_WHITESPACE","\t\t",71],["T_VARIABLE","$shortcode_tags",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$orig_shortcode_tags",71],";",["T_WHITESPACE","\n\n\t\t",71],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$content",73],";",["T_WHITESPACE","\n\t",73],"}",["T_WHITESPACE","\n\n\t",74],["T_DOC_COMMENT","\/**\n\t * If a post\/page was saved, then output JavaScript to make\n\t * an Ajax request that will call WP_Embed::cache_oembed().\n\t *\/",76],["T_WHITESPACE","\n\t",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","maybe_run_ajax_cache",80],"(",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t",80],["T_VARIABLE","$post",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","get_post",81],"(",")",";",["T_WHITESPACE","\n\n\t\t",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_WHITESPACE"," ",83],"!",["T_WHITESPACE"," ",83],["T_VARIABLE","$post",83],["T_WHITESPACE"," ",83],["T_BOOLEAN_OR","||",83],["T_WHITESPACE"," ",83],["T_EMPTY","empty",83],"(",["T_WHITESPACE"," ",83],["T_VARIABLE","$_GET",83],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",83],"]",["T_WHITESPACE"," ",83],")",["T_WHITESPACE"," ",83],")",["T_WHITESPACE","\n\t\t\t",83],["T_RETURN","return",84],";",["T_WHITESPACE","\n\n",84],["T_CLOSE_TAG","?>\n",86],["T_INLINE_HTML","<script type=\"text\/javascript\">\n\tjQuery(document).ready(function($){\n\t\t$.get(\"",87],["T_OPEN_TAG","<?php ",89],["T_ECHO","echo",89],["T_WHITESPACE"," ",89],["T_STRING","admin_url",89],"(",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'admin-ajax.php?action=oembed-cache&post='",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$post",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","ID",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'relative'",89],["T_WHITESPACE"," ",89],")",";",["T_WHITESPACE"," ",89],["T_CLOSE_TAG","?>",89],["T_INLINE_HTML","\");\n\t});\n<\/script>\n",89],["T_OPEN_TAG","<?php\n",92],["T_WHITESPACE","\t",93],"}",["T_WHITESPACE","\n\n\t",93],["T_DOC_COMMENT","\/**\n\t * Registers an embed handler.\n\t *\n\t * Do not use this function directly, use wp_embed_register_handler() instead.\n\t *\n\t * This function should probably also only be used for sites that do not support oEmbed.\n\t *\n\t * @param string $id An internal ID\/name for the handler. Needs to be unique.\n\t * @param string $regex The regex that will be used to see if this handler should be used for a URL.\n\t * @param callable $callback The callback function that will be called if the regex is matched.\n\t * @param int $priority Optional. Used to specify the order in which the registered handlers will be tested (default: 10). Lower numbers correspond with earlier testing, and handlers with the same priority are tested in the order in which they were added to the action.\n\t *\/",95],["T_WHITESPACE","\n\t",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","register_handler",107],"(",["T_WHITESPACE"," ",107],["T_VARIABLE","$id",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$regex",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$callback",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$priority",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_LNUMBER","10",107],["T_WHITESPACE"," ",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n\t\t",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","handlers",108],"[",["T_VARIABLE","$priority",108],"]","[",["T_VARIABLE","$id",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n\t\t\t",108],["T_CONSTANT_ENCAPSED_STRING","'regex'",109],["T_WHITESPACE","    ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$regex",109],",",["T_WHITESPACE","\n\t\t\t",109],["T_CONSTANT_ENCAPSED_STRING","'callback'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$callback",110],",",["T_WHITESPACE","\n\t\t",110],")",";",["T_WHITESPACE","\n\t",111],"}",["T_WHITESPACE","\n\n\t",112],["T_DOC_COMMENT","\/**\n\t * Unregisters a previously-registered embed handler.\n\t *\n\t * Do not use this function directly, use wp_embed_unregister_handler() instead.\n\t *\n\t * @param string $id The handler ID that should be removed.\n\t * @param int $priority Optional. The priority of the handler to be removed (default: 10).\n\t *\/",114],["T_WHITESPACE","\n\t",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","unregister_handler",122],"(",["T_WHITESPACE"," ",122],["T_VARIABLE","$id",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$priority",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_LNUMBER","10",122],["T_WHITESPACE"," ",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n\t\t",122],["T_UNSET","unset",123],"(",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","handlers",123],"[",["T_WHITESPACE"," ",123],["T_VARIABLE","$priority",123],["T_WHITESPACE"," ",123],"]","[",["T_WHITESPACE"," ",123],["T_VARIABLE","$id",123],["T_WHITESPACE"," ",123],"]",["T_WHITESPACE"," ",123],")",";",["T_WHITESPACE","\n\t",123],"}",["T_WHITESPACE","\n\n\t",124],["T_DOC_COMMENT","\/**\n\t * The do_shortcode() callback function.\n\t *\n\t * Attempts to convert a URL into embed HTML. Starts by checking the URL against the regex of\n\t * the registered embed handlers. If none of the regex matches and it's enabled, then the URL\n\t * will be given to the WP_oEmbed class.\n\t *\n\t * @param array $attr {\n\t *     Shortcode attributes. Optional.\n\t *\n\t *     @type int $width  Width of the embed in pixels.\n\t *     @type int $height Height of the embed in pixels.\n\t * }\n\t * @param string $url The URL attempting to be embedded.\n\t * @return string|false The embed HTML on success, otherwise the original URL.\n\t *                      `->maybe_make_link()` can return false on failure.\n\t *\/",126],["T_WHITESPACE","\n\t",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","shortcode",143],"(",["T_WHITESPACE"," ",143],["T_VARIABLE","$attr",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$url",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","''",143],["T_WHITESPACE"," ",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n\t\t",143],["T_VARIABLE","$post",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","get_post",144],"(",")",";",["T_WHITESPACE","\n\n\t\t",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_WHITESPACE"," ",146],["T_EMPTY","empty",146],"(",["T_WHITESPACE"," ",146],["T_VARIABLE","$url",146],["T_WHITESPACE"," ",146],")",["T_WHITESPACE"," ",146],["T_BOOLEAN_AND","&&",146],["T_WHITESPACE"," ",146],"!",["T_WHITESPACE"," ",146],["T_EMPTY","empty",146],"(",["T_WHITESPACE"," ",146],["T_VARIABLE","$attr",146],"[",["T_CONSTANT_ENCAPSED_STRING","'src'",146],"]",["T_WHITESPACE"," ",146],")",["T_WHITESPACE"," ",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n\t\t\t",146],["T_VARIABLE","$url",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$attr",147],"[",["T_CONSTANT_ENCAPSED_STRING","'src'",147],"]",";",["T_WHITESPACE","\n\t\t",147],"}",["T_WHITESPACE","\n\n\t\t",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","last_url",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$url",150],";",["T_WHITESPACE","\n\n\t\t",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_WHITESPACE"," ",152],["T_EMPTY","empty",152],"(",["T_WHITESPACE"," ",152],["T_VARIABLE","$url",152],["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","last_attr",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$attr",153],";",["T_WHITESPACE","\n\t\t\t",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],";",["T_WHITESPACE","\n\t\t",154],"}",["T_WHITESPACE","\n\n\t\t",155],["T_VARIABLE","$rawattr",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$attr",157],";",["T_WHITESPACE","\n\t\t",157],["T_VARIABLE","$attr",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","wp_parse_args",158],"(",["T_WHITESPACE"," ",158],["T_VARIABLE","$attr",158],",",["T_WHITESPACE"," ",158],["T_STRING","wp_embed_defaults",158],"(",["T_WHITESPACE"," ",158],["T_VARIABLE","$url",158],["T_WHITESPACE"," ",158],")",["T_WHITESPACE"," ",158],")",";",["T_WHITESPACE","\n\n\t\t",158],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","last_attr",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$attr",160],";",["T_WHITESPACE","\n\n\t\t",160],["T_COMMENT","\/\/ kses converts & into &amp; and we need to undo this\n",162],["T_WHITESPACE","\t\t",163],["T_COMMENT","\/\/ See https:\/\/core.trac.wordpress.org\/ticket\/11311\n",163],["T_WHITESPACE","\t\t",164],["T_VARIABLE","$url",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","str_replace",164],"(",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'&'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$url",164],["T_WHITESPACE"," ",164],")",";",["T_WHITESPACE","\n\n\t\t",164],["T_COMMENT","\/\/ Look for known internal handlers\n",166],["T_WHITESPACE","\t\t",167],["T_STRING","ksort",167],"(",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","handlers",167],["T_WHITESPACE"," ",167],")",";",["T_WHITESPACE","\n\t\t",167],["T_FOREACH","foreach",168],["T_WHITESPACE"," ",168],"(",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","handlers",168],["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$priority",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$handlers",168],["T_WHITESPACE"," ",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n\t\t\t",168],["T_FOREACH","foreach",169],["T_WHITESPACE"," ",169],"(",["T_WHITESPACE"," ",169],["T_VARIABLE","$handlers",169],["T_WHITESPACE"," ",169],["T_AS","as",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$id",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$handler",169],["T_WHITESPACE"," ",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t\t",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_WHITESPACE"," ",170],["T_STRING","preg_match",170],"(",["T_WHITESPACE"," ",170],["T_VARIABLE","$handler",170],"[",["T_CONSTANT_ENCAPSED_STRING","'regex'",170],"]",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$url",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$matches",170],["T_WHITESPACE"," ",170],")",["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],["T_STRING","is_callable",170],"(",["T_WHITESPACE"," ",170],["T_VARIABLE","$handler",170],"[",["T_CONSTANT_ENCAPSED_STRING","'callback'",170],"]",["T_WHITESPACE"," ",170],")",["T_WHITESPACE"," ",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n\t\t\t\t\t",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_WHITESPACE"," ",171],["T_STRING","false",171],["T_WHITESPACE"," ",171],["T_IS_NOT_IDENTICAL","!==",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$return",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","call_user_func",171],"(",["T_WHITESPACE"," ",171],["T_VARIABLE","$handler",171],"[",["T_CONSTANT_ENCAPSED_STRING","'callback'",171],"]",",",["T_WHITESPACE"," ",171],["T_VARIABLE","$matches",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$attr",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$url",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$rawattr",171],["T_WHITESPACE"," ",171],")",["T_WHITESPACE"," ",171],")",["T_WHITESPACE","\n\t\t\t\t\t\t",171],["T_DOC_COMMENT","\/**\n\t\t\t\t\t\t * Filters the returned embed handler.\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * @since 2.9.0\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * @see WP_Embed::shortcode()\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * @param mixed  $return The shortcode callback function to call.\n\t\t\t\t\t\t * @param string $url    The attempted embed URL.\n\t\t\t\t\t\t * @param array  $attr   An array of shortcode attributes.\n\t\t\t\t\t\t *\/",172],["T_WHITESPACE","\n\t\t\t\t\t\t",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_STRING","apply_filters",183],"(",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'embed_handler_html'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$return",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$url",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$attr",183],["T_WHITESPACE"," ",183],")",";",["T_WHITESPACE","\n\t\t\t\t",183],"}",["T_WHITESPACE","\n\t\t\t",184],"}",["T_WHITESPACE","\n\t\t",185],"}",["T_WHITESPACE","\n\n\t\t",186],["T_VARIABLE","$post_ID",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],"(",["T_WHITESPACE"," ",188],"!",["T_WHITESPACE"," ",188],["T_EMPTY","empty",188],"(",["T_WHITESPACE"," ",188],["T_VARIABLE","$post",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","ID",188],["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],"?",["T_WHITESPACE"," ",188],["T_VARIABLE","$post",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","ID",188],["T_WHITESPACE"," ",188],":",["T_WHITESPACE"," ",188],["T_STRING","null",188],";",["T_WHITESPACE","\n\t\t",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_WHITESPACE"," ",189],"!",["T_WHITESPACE"," ",189],["T_EMPTY","empty",189],"(",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","post_ID",189],["T_WHITESPACE"," ",189],")",["T_WHITESPACE"," ",189],")",["T_WHITESPACE"," ",189],["T_COMMENT","\/\/ Potentially set by WP_Embed::cache_oembed()\n",189],["T_WHITESPACE","\t\t\t",190],["T_VARIABLE","$post_ID",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","post_ID",190],";",["T_WHITESPACE","\n\n\t\t",190],["T_COMMENT","\/\/ Unknown URL format. Let oEmbed have a go.\n",192],["T_WHITESPACE","\t\t",193],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_WHITESPACE"," ",193],["T_VARIABLE","$post_ID",193],["T_WHITESPACE"," ",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n\n\t\t\t",193],["T_COMMENT","\/\/ Check for a cached result (stored in the post meta)\n",195],["T_WHITESPACE","\t\t\t",196],["T_VARIABLE","$key_suffix",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","md5",196],"(",["T_WHITESPACE"," ",196],["T_VARIABLE","$url",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_STRING","serialize",196],"(",["T_WHITESPACE"," ",196],["T_VARIABLE","$attr",196],["T_WHITESPACE"," ",196],")",["T_WHITESPACE"," ",196],")",";",["T_WHITESPACE","\n\t\t\t",196],["T_VARIABLE","$cachekey",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'_oembed_'",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_VARIABLE","$key_suffix",197],";",["T_WHITESPACE","\n\t\t\t",197],["T_VARIABLE","$cachekey_time",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'_oembed_time_'",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_VARIABLE","$key_suffix",198],";",["T_WHITESPACE","\n\n\t\t\t",198],["T_DOC_COMMENT","\/**\n\t\t\t * Filters the oEmbed TTL value (time to live).\n\t\t\t *\n\t\t\t * @since 4.0.0\n\t\t\t *\n\t\t\t * @param int    $time    Time to live (in seconds).\n\t\t\t * @param string $url     The attempted embed URL.\n\t\t\t * @param array  $attr    An array of shortcode attributes.\n\t\t\t * @param int    $post_ID Post ID.\n\t\t\t *\/",200],["T_WHITESPACE","\n\t\t\t",209],["T_VARIABLE","$ttl",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","apply_filters",210],"(",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'oembed_ttl'",210],",",["T_WHITESPACE"," ",210],["T_STRING","DAY_IN_SECONDS",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$url",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$attr",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$post_ID",210],["T_WHITESPACE"," ",210],")",";",["T_WHITESPACE","\n\n\t\t\t",210],["T_VARIABLE","$cache",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","get_post_meta",212],"(",["T_WHITESPACE"," ",212],["T_VARIABLE","$post_ID",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$cachekey",212],",",["T_WHITESPACE"," ",212],["T_STRING","true",212],["T_WHITESPACE"," ",212],")",";",["T_WHITESPACE","\n\t\t\t",212],["T_VARIABLE","$cache_time",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","get_post_meta",213],"(",["T_WHITESPACE"," ",213],["T_VARIABLE","$post_ID",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$cachekey_time",213],",",["T_WHITESPACE"," ",213],["T_STRING","true",213],["T_WHITESPACE"," ",213],")",";",["T_WHITESPACE","\n\n\t\t\t",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_WHITESPACE"," ",215],"!",["T_WHITESPACE"," ",215],["T_VARIABLE","$cache_time",215],["T_WHITESPACE"," ",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n\t\t\t\t",215],["T_VARIABLE","$cache_time",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_LNUMBER","0",216],";",["T_WHITESPACE","\n\t\t\t",216],"}",["T_WHITESPACE","\n\n\t\t\t",217],["T_VARIABLE","$cached_recently",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],"(",["T_WHITESPACE"," ",219],["T_STRING","time",219],"(",")",["T_WHITESPACE"," ",219],"-",["T_WHITESPACE"," ",219],["T_VARIABLE","$cache_time",219],["T_WHITESPACE"," ",219],")",["T_WHITESPACE"," ",219],"<",["T_WHITESPACE"," ",219],["T_VARIABLE","$ttl",219],";",["T_WHITESPACE","\n\n\t\t\t",219],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","usecache",221],["T_WHITESPACE"," ",221],["T_BOOLEAN_OR","||",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$cached_recently",221],["T_WHITESPACE"," ",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t\t\t",221],["T_COMMENT","\/\/ Failures are cached. Serve one if we're using the cache.\n",222],["T_WHITESPACE","\t\t\t\t",223],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'{{unknown}}'",223],["T_WHITESPACE"," ",223],["T_IS_IDENTICAL","===",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$cache",223],["T_WHITESPACE"," ",223],")",["T_WHITESPACE","\n\t\t\t\t\t",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","maybe_make_link",224],"(",["T_WHITESPACE"," ",224],["T_VARIABLE","$url",224],["T_WHITESPACE"," ",224],")",";",["T_WHITESPACE","\n\n\t\t\t\t",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_WHITESPACE"," ",226],"!",["T_WHITESPACE"," ",226],["T_EMPTY","empty",226],"(",["T_WHITESPACE"," ",226],["T_VARIABLE","$cache",226],["T_WHITESPACE"," ",226],")",["T_WHITESPACE"," ",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n\t\t\t\t\t",226],["T_DOC_COMMENT","\/**\n\t\t\t\t\t * Filters the cached oEmbed HTML.\n\t\t\t\t\t *\n\t\t\t\t\t * @since 2.9.0\n\t\t\t\t\t *\n\t\t\t\t\t * @see WP_Embed::shortcode()\n\t\t\t\t\t *\n\t\t\t\t\t * @param mixed  $cache   The cached HTML result, stored in post meta.\n\t\t\t\t\t * @param string $url     The attempted embed URL.\n\t\t\t\t\t * @param array  $attr    An array of shortcode attributes.\n\t\t\t\t\t * @param int    $post_ID Post ID.\n\t\t\t\t\t *\/",227],["T_WHITESPACE","\n\t\t\t\t\t",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_STRING","apply_filters",239],"(",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'embed_oembed_html'",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$cache",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$url",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$attr",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$post_ID",239],["T_WHITESPACE"," ",239],")",";",["T_WHITESPACE","\n\t\t\t\t",239],"}",["T_WHITESPACE","\n\t\t\t",240],"}",["T_WHITESPACE","\n\n\t\t\t",241],["T_DOC_COMMENT","\/**\n\t\t\t * Filters whether to inspect the given URL for discoverable link tags.\n\t\t\t *\n\t\t\t * @since 2.9.0\n\t\t\t * @since 4.4.0 The default value changed to true.\n\t\t\t *\n\t\t\t * @see WP_oEmbed::discover()\n\t\t\t *\n\t\t\t * @param bool $enable Whether to enable `<link>` tag discovery. Default true.\n\t\t\t *\/",243],["T_WHITESPACE","\n\t\t\t",252],["T_VARIABLE","$attr",253],"[",["T_CONSTANT_ENCAPSED_STRING","'discover'",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],"(",["T_WHITESPACE"," ",253],["T_STRING","apply_filters",253],"(",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'embed_oembed_discover'",253],",",["T_WHITESPACE"," ",253],["T_STRING","true",253],["T_WHITESPACE"," ",253],")",["T_WHITESPACE"," ",253],")",";",["T_WHITESPACE","\n\n\t\t\t",253],["T_COMMENT","\/\/ Use oEmbed to get the HTML\n",255],["T_WHITESPACE","\t\t\t",256],["T_VARIABLE","$html",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","wp_oembed_get",256],"(",["T_WHITESPACE"," ",256],["T_VARIABLE","$url",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$attr",256],["T_WHITESPACE"," ",256],")",";",["T_WHITESPACE","\n\n\t\t\t",256],["T_COMMENT","\/\/ Maybe cache the result\n",258],["T_WHITESPACE","\t\t\t",259],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_WHITESPACE"," ",259],["T_VARIABLE","$html",259],["T_WHITESPACE"," ",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\t\t\t\t",259],["T_STRING","update_post_meta",260],"(",["T_WHITESPACE"," ",260],["T_VARIABLE","$post_ID",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$cachekey",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$html",260],["T_WHITESPACE"," ",260],")",";",["T_WHITESPACE","\n\t\t\t\t",260],["T_STRING","update_post_meta",261],"(",["T_WHITESPACE"," ",261],["T_VARIABLE","$post_ID",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$cachekey_time",261],",",["T_WHITESPACE"," ",261],["T_STRING","time",261],"(",")",["T_WHITESPACE"," ",261],")",";",["T_WHITESPACE","\n\t\t\t",261],"}",["T_WHITESPACE"," ",262],["T_ELSEIF","elseif",262],["T_WHITESPACE"," ",262],"(",["T_WHITESPACE"," ",262],"!",["T_WHITESPACE"," ",262],["T_VARIABLE","$cache",262],["T_WHITESPACE"," ",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n\t\t\t\t",262],["T_STRING","update_post_meta",263],"(",["T_WHITESPACE"," ",263],["T_VARIABLE","$post_ID",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$cachekey",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'{{unknown}}'",263],["T_WHITESPACE"," ",263],")",";",["T_WHITESPACE","\n\t\t\t",263],"}",["T_WHITESPACE","\n\n\t\t\t",264],["T_COMMENT","\/\/ If there was a result, return it\n",266],["T_WHITESPACE","\t\t\t",267],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_WHITESPACE"," ",267],["T_VARIABLE","$html",267],["T_WHITESPACE"," ",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n\t\t\t\t",267],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/class-wp-embed.php *\/",268],["T_WHITESPACE","\n\t\t\t\t",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_STRING","apply_filters",269],"(",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'embed_oembed_html'",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$html",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$url",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$attr",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$post_ID",269],["T_WHITESPACE"," ",269],")",";",["T_WHITESPACE","\n\t\t\t",269],"}",["T_WHITESPACE","\n\t\t",270],"}",["T_WHITESPACE","\n\n\t\t",271],["T_COMMENT","\/\/ Still unknown\n",273],["T_WHITESPACE","\t\t",274],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","maybe_make_link",274],"(",["T_WHITESPACE"," ",274],["T_VARIABLE","$url",274],["T_WHITESPACE"," ",274],")",";",["T_WHITESPACE","\n\t",274],"}",["T_WHITESPACE","\n\n\t",275],["T_DOC_COMMENT","\/**\n\t * Delete all oEmbed caches. Unused by core as of 4.0.0.\n\t *\n\t * @param int $post_ID Post ID to delete the caches for.\n\t *\/",277],["T_WHITESPACE","\n\t",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","delete_oembed_caches",282],"(",["T_WHITESPACE"," ",282],["T_VARIABLE","$post_ID",282],["T_WHITESPACE"," ",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n\t\t",282],["T_VARIABLE","$post_metas",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","get_post_custom_keys",283],"(",["T_WHITESPACE"," ",283],["T_VARIABLE","$post_ID",283],["T_WHITESPACE"," ",283],")",";",["T_WHITESPACE","\n\t\t",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_WHITESPACE"," ",284],["T_EMPTY","empty",284],"(",["T_VARIABLE","$post_metas",284],")",["T_WHITESPACE"," ",284],")",["T_WHITESPACE","\n\t\t\t",284],["T_RETURN","return",285],";",["T_WHITESPACE","\n\n\t\t",285],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_WHITESPACE"," ",287],["T_VARIABLE","$post_metas",287],["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$post_meta_key",287],["T_WHITESPACE"," ",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n\t\t\t",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'_oembed_'",288],["T_WHITESPACE"," ",288],["T_IS_EQUAL","==",288],["T_WHITESPACE"," ",288],["T_STRING","substr",288],"(",["T_WHITESPACE"," ",288],["T_VARIABLE","$post_meta_key",288],",",["T_WHITESPACE"," ",288],["T_LNUMBER","0",288],",",["T_WHITESPACE"," ",288],["T_LNUMBER","8",288],["T_WHITESPACE"," ",288],")",["T_WHITESPACE"," ",288],")",["T_WHITESPACE","\n\t\t\t\t",288],["T_STRING","delete_post_meta",289],"(",["T_WHITESPACE"," ",289],["T_VARIABLE","$post_ID",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$post_meta_key",289],["T_WHITESPACE"," ",289],")",";",["T_WHITESPACE","\n\t\t",289],"}",["T_WHITESPACE","\n\t",290],"}",["T_WHITESPACE","\n\n\t",291],["T_DOC_COMMENT","\/**\n\t * Triggers a caching of all oEmbed results.\n\t *\n\t * @param int $post_ID Post ID to do the caching for.\n\t *\/",293],["T_WHITESPACE","\n\t",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","cache_oembed",298],"(",["T_WHITESPACE"," ",298],["T_VARIABLE","$post_ID",298],["T_WHITESPACE"," ",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n\t\t",298],["T_VARIABLE","$post",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","get_post",299],"(",["T_WHITESPACE"," ",299],["T_VARIABLE","$post_ID",299],["T_WHITESPACE"," ",299],")",";",["T_WHITESPACE","\n\n\t\t",299],["T_VARIABLE","$post_types",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","get_post_types",301],"(",["T_WHITESPACE"," ",301],["T_ARRAY","array",301],"(",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'show_ui'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_STRING","true",301],["T_WHITESPACE"," ",301],")",["T_WHITESPACE"," ",301],")",";",["T_WHITESPACE","\n\t\t",301],["T_DOC_COMMENT","\/**\n\t\t * Filters the array of post types to cache oEmbed results for.\n\t\t *\n\t\t * @since 2.9.0\n\t\t *\n\t\t * @param array $post_types Array of post types to cache oEmbed results for. Defaults to post types with `show_ui` set to true.\n\t\t *\/",302],["T_WHITESPACE","\n\t\t",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_WHITESPACE"," ",309],["T_EMPTY","empty",309],"(",["T_WHITESPACE"," ",309],["T_VARIABLE","$post",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","ID",309],["T_WHITESPACE"," ",309],")",["T_WHITESPACE"," ",309],["T_BOOLEAN_OR","||",309],["T_WHITESPACE"," ",309],"!",["T_WHITESPACE"," ",309],["T_STRING","in_array",309],"(",["T_WHITESPACE"," ",309],["T_VARIABLE","$post",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","post_type",309],",",["T_WHITESPACE"," ",309],["T_STRING","apply_filters",309],"(",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'embed_cache_oembed_types'",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$post_types",309],["T_WHITESPACE"," ",309],")",["T_WHITESPACE"," ",309],")",["T_WHITESPACE"," ",309],")","{",["T_WHITESPACE","\n\t\t\t",309],["T_RETURN","return",310],";",["T_WHITESPACE","\n\t\t",310],"}",["T_WHITESPACE","\n\n\t\t",311],["T_COMMENT","\/\/ Trigger a caching\n",313],["T_WHITESPACE","\t\t",314],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_WHITESPACE"," ",314],"!",["T_WHITESPACE"," ",314],["T_EMPTY","empty",314],"(",["T_WHITESPACE"," ",314],["T_VARIABLE","$post",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","post_content",314],["T_WHITESPACE"," ",314],")",["T_WHITESPACE"," ",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n\t\t\t",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","post_ID",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$post",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","ID",315],";",["T_WHITESPACE","\n\t\t\t",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","usecache",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","false",316],";",["T_WHITESPACE","\n\n\t\t\t",316],["T_VARIABLE","$content",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","run_shortcode",318],"(",["T_WHITESPACE"," ",318],["T_VARIABLE","$post",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","post_content",318],["T_WHITESPACE"," ",318],")",";",["T_WHITESPACE","\n\t\t\t",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","autoembed",319],"(",["T_WHITESPACE"," ",319],["T_VARIABLE","$content",319],["T_WHITESPACE"," ",319],")",";",["T_WHITESPACE","\n\n\t\t\t",319],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","usecache",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","true",321],";",["T_WHITESPACE","\n\t\t",321],"}",["T_WHITESPACE","\n\t",322],"}",["T_WHITESPACE","\n\n\t",323],["T_DOC_COMMENT","\/**\n\t * Passes any unlinked URLs that are on their own line to WP_Embed::shortcode() for potential embedding.\n\t *\n\t * @see WP_Embed::autoembed_callback()\n\t *\n\t * @param string $content The content to be searched.\n\t * @return string Potentially modified $content.\n\t *\/",325],["T_WHITESPACE","\n\t",332],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","autoembed",333],"(",["T_WHITESPACE"," ",333],["T_VARIABLE","$content",333],["T_WHITESPACE"," ",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n\t\t",333],["T_COMMENT","\/\/ Replace line breaks from all HTML elements with placeholders.\n",334],["T_WHITESPACE","\t\t",335],["T_VARIABLE","$content",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","wp_replace_in_html_tags",335],"(",["T_WHITESPACE"," ",335],["T_VARIABLE","$content",335],",",["T_WHITESPACE"," ",335],["T_ARRAY","array",335],"(",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'<!-- wp-line-break -->'",335],["T_WHITESPACE"," ",335],")",["T_WHITESPACE"," ",335],")",";",["T_WHITESPACE","\n\n\t\t",335],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_WHITESPACE"," ",337],["T_STRING","preg_match",337],"(",["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'#(^|\\s|>)https?:\/\/#i'",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$content",337],["T_WHITESPACE"," ",337],")",["T_WHITESPACE"," ",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n\t\t\t",337],["T_COMMENT","\/\/ Find URLs on their own line.\n",338],["T_WHITESPACE","\t\t\t",339],["T_VARIABLE","$content",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_STRING","preg_replace_callback",339],"(",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'|^(\\s*)(https?:\/\/[^\\s<>\"]+)(\\s*)$|im'",339],",",["T_WHITESPACE"," ",339],["T_ARRAY","array",339],"(",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'autoembed_callback'",339],["T_WHITESPACE"," ",339],")",",",["T_WHITESPACE"," ",339],["T_VARIABLE","$content",339],["T_WHITESPACE"," ",339],")",";",["T_WHITESPACE","\n\t\t\t",339],["T_COMMENT","\/\/ Find URLs in their own paragraph.\n",340],["T_WHITESPACE","\t\t\t",341],["T_VARIABLE","$content",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","preg_replace_callback",341],"(",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'|(<p(?: [^>]*)?>\\s*)(https?:\/\/[^\\s<>\"]+)(\\s*<\\\/p>)|i'",341],",",["T_WHITESPACE"," ",341],["T_ARRAY","array",341],"(",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'autoembed_callback'",341],["T_WHITESPACE"," ",341],")",",",["T_WHITESPACE"," ",341],["T_VARIABLE","$content",341],["T_WHITESPACE"," ",341],")",";",["T_WHITESPACE","\n\t\t",341],"}",["T_WHITESPACE","\n\n\t\t",342],["T_COMMENT","\/\/ Put the line breaks back.\n",344],["T_WHITESPACE","\t\t",345],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_STRING","str_replace",345],"(",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'<!-- wp-line-break -->'",345],",",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$content",345],["T_WHITESPACE"," ",345],")",";",["T_WHITESPACE","\n\t",345],"}",["T_WHITESPACE","\n\n\t",346],["T_DOC_COMMENT","\/**\n\t * Callback function for WP_Embed::autoembed().\n\t *\n\t * @param array $match A regex match array.\n\t * @return string The embed HTML on success, otherwise the original URL.\n\t *\/",348],["T_WHITESPACE","\n\t",353],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","autoembed_callback",354],"(",["T_WHITESPACE"," ",354],["T_VARIABLE","$match",354],["T_WHITESPACE"," ",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n\t\t",354],["T_VARIABLE","$oldval",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","linkifunknown",355],";",["T_WHITESPACE","\n\t\t",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","linkifunknown",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","false",356],";",["T_WHITESPACE","\n\t\t",356],["T_VARIABLE","$return",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","shortcode",357],"(",["T_WHITESPACE"," ",357],["T_ARRAY","array",357],"(",")",",",["T_WHITESPACE"," ",357],["T_VARIABLE","$match",357],"[",["T_LNUMBER","2",357],"]",["T_WHITESPACE"," ",357],")",";",["T_WHITESPACE","\n\t\t",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","linkifunknown",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$oldval",358],";",["T_WHITESPACE","\n\n\t\t",358],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$match",360],"[",["T_LNUMBER","1",360],"]",["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_VARIABLE","$return",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_VARIABLE","$match",360],"[",["T_LNUMBER","3",360],"]",";",["T_WHITESPACE","\n\t",360],"}",["T_WHITESPACE","\n\n\t",361],["T_DOC_COMMENT","\/**\n\t * Conditionally makes a hyperlink based on an internal class variable.\n\t *\n\t * @param string $url URL to potentially be linked.\n\t * @return false|string Linked URL or the original URL. False if 'return_false_on_fail' is true.\n\t *\/",363],["T_WHITESPACE","\n\t",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","maybe_make_link",369],"(",["T_WHITESPACE"," ",369],["T_VARIABLE","$url",369],["T_WHITESPACE"," ",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n\t\t",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","return_false_on_fail",370],["T_WHITESPACE"," ",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n\t\t\t",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_STRING","false",371],";",["T_WHITESPACE","\n\t\t",371],"}",["T_WHITESPACE","\n\n\t\t",372],["T_VARIABLE","$output",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],"(",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","linkifunknown",374],["T_WHITESPACE"," ",374],")",["T_WHITESPACE"," ",374],"?",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'<a href=\"'",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_STRING","esc_url",374],"(",["T_VARIABLE","$url",374],")",["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'\">'",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_STRING","esc_html",374],"(",["T_VARIABLE","$url",374],")",["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'<\/a>'",374],["T_WHITESPACE"," ",374],":",["T_WHITESPACE"," ",374],["T_VARIABLE","$url",374],";",["T_WHITESPACE","\n\n\t\t",374],["T_DOC_COMMENT","\/**\n\t\t * Filters the returned, maybe-linked embed URL.\n\t\t *\n\t\t * @since 2.9.0\n\t\t *\n\t\t * @param string $output The linked or original URL.\n\t\t * @param string $url    The original URL.\n\t\t *\/",376],["T_WHITESPACE","\n\t\t",383],["T_RETURN","return",384],["T_WHITESPACE"," ",384],["T_STRING","apply_filters",384],"(",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'embed_maybe_make_link'",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$output",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$url",384],["T_WHITESPACE"," ",384],")",";",["T_WHITESPACE","\n\t",384],"}",["T_WHITESPACE","\n",385],"}",["T_WHITESPACE","\n",386]]