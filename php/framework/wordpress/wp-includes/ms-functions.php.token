[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Multisite WordPress API\n *\n * @package WordPress\n * @subpackage Multisite\n * @since 3.0.0\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Gets the network's site and user counts.\n *\n * @since MU 1.0\n *\n * @return array Site and user count for the network.\n *\/",10],["T_WHITESPACE","\n",16],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","get_sitestats",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t",17],["T_VARIABLE","$stats",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",["T_WHITESPACE","\n\t\t",18],["T_CONSTANT_ENCAPSED_STRING","'blogs'",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_STRING","get_blog_count",19],"(",")",",",["T_WHITESPACE","\n\t\t",19],["T_CONSTANT_ENCAPSED_STRING","'users'",20],["T_WHITESPACE"," ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],["T_STRING","get_user_count",20],"(",")",",",["T_WHITESPACE","\n\t",20],")",";",["T_WHITESPACE","\n\n\t",21],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$stats",23],";",["T_WHITESPACE","\n",23],"}",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Get one of a user's active blogs\n *\n * Returns the user's primary blog, if they have one and\n * it is active. If it's inactive, function returns another\n * active blog of the user. If none are found, the user\n * is added as a Subscriber to the Dashboard Blog and that blog\n * is returned.\n *\n * @since MU 1.0\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param int $user_id The unique ID of the user\n * @return WP_Site|void The blog object\n *\/",26],["T_WHITESPACE","\n",41],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","get_active_blog_for_user",42],"(",["T_WHITESPACE"," ",42],["T_VARIABLE","$user_id",42],["T_WHITESPACE"," ",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t",42],["T_GLOBAL","global",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$wpdb",43],";",["T_WHITESPACE","\n\t",43],["T_VARIABLE","$blogs",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","get_blogs_of_user",44],"(",["T_WHITESPACE"," ",44],["T_VARIABLE","$user_id",44],["T_WHITESPACE"," ",44],")",";",["T_WHITESPACE","\n\t",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_WHITESPACE"," ",45],["T_EMPTY","empty",45],"(",["T_WHITESPACE"," ",45],["T_VARIABLE","$blogs",45],["T_WHITESPACE"," ",45],")",["T_WHITESPACE"," ",45],")",["T_WHITESPACE","\n\t\t",45],["T_RETURN","return",46],";",["T_WHITESPACE","\n\n\t",46],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_WHITESPACE"," ",48],"!",["T_STRING","is_multisite",48],"(",")",["T_WHITESPACE"," ",48],")",["T_WHITESPACE","\n\t\t",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$blogs",49],"[",["T_VARIABLE","$wpdb",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","blogid",49],"]",";",["T_WHITESPACE","\n\n\t",49],["T_VARIABLE","$primary_blog",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","get_user_meta",51],"(",["T_WHITESPACE"," ",51],["T_VARIABLE","$user_id",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",51],",",["T_WHITESPACE"," ",51],["T_STRING","true",51],["T_WHITESPACE"," ",51],")",";",["T_WHITESPACE","\n\t",51],["T_VARIABLE","$first_blog",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","current",52],"(",["T_VARIABLE","$blogs",52],")",";",["T_WHITESPACE","\n\t",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_WHITESPACE"," ",53],["T_STRING","false",53],["T_WHITESPACE"," ",53],["T_IS_NOT_IDENTICAL","!==",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$primary_blog",53],["T_WHITESPACE"," ",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n\t\t",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_WHITESPACE"," ",54],"!",["T_WHITESPACE"," ",54],["T_ISSET","isset",54],"(",["T_WHITESPACE"," ",54],["T_VARIABLE","$blogs",54],"[",["T_WHITESPACE"," ",54],["T_VARIABLE","$primary_blog",54],["T_WHITESPACE"," ",54],"]",["T_WHITESPACE"," ",54],")",["T_WHITESPACE"," ",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t",54],["T_STRING","update_user_meta",55],"(",["T_WHITESPACE"," ",55],["T_VARIABLE","$user_id",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$first_blog",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","userblog_id",55],["T_WHITESPACE"," ",55],")",";",["T_WHITESPACE","\n\t\t\t",55],["T_VARIABLE","$primary",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","get_site",56],"(",["T_WHITESPACE"," ",56],["T_VARIABLE","$first_blog",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","userblog_id",56],["T_WHITESPACE"," ",56],")",";",["T_WHITESPACE","\n\t\t",56],"}",["T_WHITESPACE"," ",57],["T_ELSE","else",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n\t\t\t",57],["T_VARIABLE","$primary",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","get_site",58],"(",["T_WHITESPACE"," ",58],["T_VARIABLE","$primary_blog",58],["T_WHITESPACE"," ",58],")",";",["T_WHITESPACE","\n\t\t",58],"}",["T_WHITESPACE","\n\t",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t",60],["T_COMMENT","\/\/TODO Review this call to add_user_to_blog too - to get here the user must have a role on this blog?\n",61],["T_WHITESPACE","\t\t",62],["T_STRING","add_user_to_blog",62],"(",["T_WHITESPACE"," ",62],["T_VARIABLE","$first_blog",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","userblog_id",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$user_id",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'subscriber'",62],["T_WHITESPACE"," ",62],")",";",["T_WHITESPACE","\n\t\t",62],["T_STRING","update_user_meta",63],"(",["T_WHITESPACE"," ",63],["T_VARIABLE","$user_id",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$first_blog",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","userblog_id",63],["T_WHITESPACE"," ",63],")",";",["T_WHITESPACE","\n\t\t",63],["T_VARIABLE","$primary",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$first_blog",64],";",["T_WHITESPACE","\n\t",64],"}",["T_WHITESPACE","\n\n\t",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_WHITESPACE"," ",67],"(",["T_WHITESPACE"," ",67],"!",["T_WHITESPACE"," ",67],["T_STRING","is_object",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$primary",67],["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$primary",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","archived",67],["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$primary",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","spam",67],["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$primary",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","deleted",67],["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$blogs",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","get_blogs_of_user",68],"(",["T_WHITESPACE"," ",68],["T_VARIABLE","$user_id",68],",",["T_WHITESPACE"," ",68],["T_STRING","true",68],["T_WHITESPACE"," ",68],")",";",["T_WHITESPACE"," ",68],["T_COMMENT","\/\/ if a user's primary blog is shut down, check their other blogs.\n",68],["T_WHITESPACE","\t\t",69],["T_VARIABLE","$ret",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","false",69],";",["T_WHITESPACE","\n\t\t",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_WHITESPACE"," ",70],["T_STRING","is_array",70],"(",["T_WHITESPACE"," ",70],["T_VARIABLE","$blogs",70],["T_WHITESPACE"," ",70],")",["T_WHITESPACE"," ",70],["T_BOOLEAN_AND","&&",70],["T_WHITESPACE"," ",70],["T_STRING","count",70],"(",["T_WHITESPACE"," ",70],["T_VARIABLE","$blogs",70],["T_WHITESPACE"," ",70],")",["T_WHITESPACE"," ",70],">",["T_WHITESPACE"," ",70],["T_LNUMBER","0",70],["T_WHITESPACE"," ",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_WHITESPACE"," ",71],["T_ARRAY_CAST","(array)",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$blogs",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$blog_id",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$blog",71],["T_WHITESPACE"," ",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n\t\t\t\t",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_WHITESPACE"," ",72],["T_VARIABLE","$blog",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","site_id",72],["T_WHITESPACE"," ",72],["T_IS_NOT_EQUAL","!=",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$wpdb",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","siteid",72],["T_WHITESPACE"," ",72],")",["T_WHITESPACE","\n\t\t\t\t\t",72],["T_CONTINUE","continue",73],";",["T_WHITESPACE","\n\t\t\t\t",73],["T_VARIABLE","$details",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","get_site",74],"(",["T_WHITESPACE"," ",74],["T_VARIABLE","$blog_id",74],["T_WHITESPACE"," ",74],")",";",["T_WHITESPACE","\n\t\t\t\t",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_WHITESPACE"," ",75],["T_STRING","is_object",75],"(",["T_WHITESPACE"," ",75],["T_VARIABLE","$details",75],["T_WHITESPACE"," ",75],")",["T_WHITESPACE"," ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$details",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","archived",75],["T_WHITESPACE"," ",75],["T_IS_EQUAL","==",75],["T_WHITESPACE"," ",75],["T_LNUMBER","0",75],["T_WHITESPACE"," ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$details",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","spam",75],["T_WHITESPACE"," ",75],["T_IS_EQUAL","==",75],["T_WHITESPACE"," ",75],["T_LNUMBER","0",75],["T_WHITESPACE"," ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$details",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","deleted",75],["T_WHITESPACE"," ",75],["T_IS_EQUAL","==",75],["T_WHITESPACE"," ",75],["T_LNUMBER","0",75],["T_WHITESPACE"," ",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n\t\t\t\t\t",75],["T_VARIABLE","$ret",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$blog",76],";",["T_WHITESPACE","\n\t\t\t\t\t",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_WHITESPACE"," ",77],["T_STRING","get_user_meta",77],"(",["T_WHITESPACE"," ",77],["T_VARIABLE","$user_id",77],["T_WHITESPACE"," ",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",77],",",["T_WHITESPACE"," ",77],["T_STRING","true",77],["T_WHITESPACE"," ",77],")",["T_WHITESPACE"," ",77],["T_IS_NOT_EQUAL","!=",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$blog_id",77],["T_WHITESPACE"," ",77],")",["T_WHITESPACE","\n\t\t\t\t\t\t",77],["T_STRING","update_user_meta",78],"(",["T_WHITESPACE"," ",78],["T_VARIABLE","$user_id",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$blog_id",78],["T_WHITESPACE"," ",78],")",";",["T_WHITESPACE","\n\t\t\t\t\t",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_WHITESPACE"," ",79],"!",["T_STRING","get_user_meta",79],"(",["T_VARIABLE","$user_id",79],["T_WHITESPACE"," ",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'source_domain'",79],",",["T_WHITESPACE"," ",79],["T_STRING","true",79],")",["T_WHITESPACE"," ",79],")",["T_WHITESPACE","\n\t\t\t\t\t\t",79],["T_STRING","update_user_meta",80],"(",["T_WHITESPACE"," ",80],["T_VARIABLE","$user_id",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'source_domain'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$blog",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","domain",80],["T_WHITESPACE"," ",80],")",";",["T_WHITESPACE","\n\t\t\t\t\t",80],["T_BREAK","break",81],";",["T_WHITESPACE","\n\t\t\t\t",81],"}",["T_WHITESPACE","\n\t\t\t",82],"}",["T_WHITESPACE","\n\t\t",83],"}",["T_WHITESPACE"," ",84],["T_ELSE","else",84],["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t",84],["T_RETURN","return",85],";",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\t\t",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$ret",87],";",["T_WHITESPACE","\n\t",87],"}",["T_WHITESPACE"," ",88],["T_ELSE","else",88],["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n\t\t",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$primary",89],";",["T_WHITESPACE","\n\t",89],"}",["T_WHITESPACE","\n",90],"}",["T_WHITESPACE","\n\n",91],["T_DOC_COMMENT","\/**\n * The number of active users in your installation.\n *\n * The count is cached and updated twice daily. This is not a live count.\n *\n * @since MU 2.7\n *\n * @return int\n *\/",93],["T_WHITESPACE","\n",101],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","get_user_count",102],"(",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","get_site_option",103],"(",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'user_count'",103],["T_WHITESPACE"," ",103],")",";",["T_WHITESPACE","\n",103],"}",["T_WHITESPACE","\n\n",104],["T_DOC_COMMENT","\/**\n * The number of active sites on your installation.\n *\n * The count is cached and updated twice daily. This is not a live count.\n *\n * @since MU 1.0\n *\n * @param int $network_id Deprecated, not supported.\n * @return int\n *\/",106],["T_WHITESPACE","\n",115],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","get_blog_count",116],"(",["T_WHITESPACE"," ",116],["T_VARIABLE","$network_id",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],["T_WHITESPACE"," ",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n\t",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_WHITESPACE"," ",117],["T_STRING","func_num_args",117],"(",")",["T_WHITESPACE"," ",117],")",["T_WHITESPACE","\n\t\t",117],["T_STRING","_deprecated_argument",118],"(",["T_WHITESPACE"," ",118],["T_FUNC_C","__FUNCTION__",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'3.1.0'",118],["T_WHITESPACE"," ",118],")",";",["T_WHITESPACE","\n\n\t",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_STRING","get_site_option",120],"(",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'blog_count'",120],["T_WHITESPACE"," ",120],")",";",["T_WHITESPACE","\n",120],"}",["T_WHITESPACE","\n\n",121],["T_DOC_COMMENT","\/**\n * Get a blog post from any site on the network.\n *\n * @since MU 1.0\n *\n * @param int $blog_id ID of the blog.\n * @param int $post_id ID of the post you're looking for.\n * @return WP_Post|null WP_Post on success or null on failure\n *\/",123],["T_WHITESPACE","\n",131],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","get_blog_post",132],"(",["T_WHITESPACE"," ",132],["T_VARIABLE","$blog_id",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$post_id",132],["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n\t",132],["T_STRING","switch_to_blog",133],"(",["T_WHITESPACE"," ",133],["T_VARIABLE","$blog_id",133],["T_WHITESPACE"," ",133],")",";",["T_WHITESPACE","\n\t",133],["T_VARIABLE","$post",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","get_post",134],"(",["T_WHITESPACE"," ",134],["T_VARIABLE","$post_id",134],["T_WHITESPACE"," ",134],")",";",["T_WHITESPACE","\n\t",134],["T_STRING","restore_current_blog",135],"(",")",";",["T_WHITESPACE","\n\n\t",135],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$post",137],";",["T_WHITESPACE","\n",137],"}",["T_WHITESPACE","\n\n",138],["T_DOC_COMMENT","\/**\n * Adds a user to a blog.\n *\n * Use the {@see 'add_user_to_blog'} action to fire an event when users are added to a blog.\n *\n * @since MU 1.0\n *\n * @param int    $blog_id ID of the blog you're adding the user to.\n * @param int    $user_id ID of the user you're adding.\n * @param string $role    The role you want the user to have\n * @return true|WP_Error\n *\/",140],["T_WHITESPACE","\n",151],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","add_user_to_blog",152],"(",["T_WHITESPACE"," ",152],["T_VARIABLE","$blog_id",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$user_id",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$role",152],["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t",152],["T_STRING","switch_to_blog",153],"(",["T_VARIABLE","$blog_id",153],")",";",["T_WHITESPACE","\n\n\t",153],["T_VARIABLE","$user",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","get_userdata",155],"(",["T_WHITESPACE"," ",155],["T_VARIABLE","$user_id",155],["T_WHITESPACE"," ",155],")",";",["T_WHITESPACE","\n\n\t",155],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_WHITESPACE"," ",157],"!",["T_WHITESPACE"," ",157],["T_VARIABLE","$user",157],["T_WHITESPACE"," ",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n\t\t",157],["T_STRING","restore_current_blog",158],"(",")",";",["T_WHITESPACE","\n\t\t",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","WP_Error",159],"(",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'user_does_not_exist'",159],",",["T_WHITESPACE"," ",159],["T_STRING","__",159],"(",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'The requested user does not exist.'",159],["T_WHITESPACE"," ",159],")",["T_WHITESPACE"," ",159],")",";",["T_WHITESPACE","\n\t",159],"}",["T_WHITESPACE","\n\n\t",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_WHITESPACE"," ",162],"!",["T_STRING","get_user_meta",162],"(",["T_VARIABLE","$user_id",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",162],",",["T_WHITESPACE"," ",162],["T_STRING","true",162],")",["T_WHITESPACE"," ",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n\t\t",162],["T_STRING","update_user_meta",163],"(",["T_VARIABLE","$user_id",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$blog_id",163],")",";",["T_WHITESPACE","\n\t\t",163],["T_VARIABLE","$site",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","get_site",164],"(",["T_WHITESPACE"," ",164],["T_VARIABLE","$blog_id",164],["T_WHITESPACE"," ",164],")",";",["T_WHITESPACE","\n\t\t",164],["T_STRING","update_user_meta",165],"(",["T_WHITESPACE"," ",165],["T_VARIABLE","$user_id",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'source_domain'",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$site",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","domain",165],["T_WHITESPACE"," ",165],")",";",["T_WHITESPACE","\n\t",165],"}",["T_WHITESPACE","\n\n\t",166],["T_VARIABLE","$user",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","set_role",168],"(",["T_VARIABLE","$role",168],")",";",["T_WHITESPACE","\n\n\t",168],["T_DOC_COMMENT","\/**\n\t * Fires immediately after a user is added to a site.\n\t *\n\t * @since MU\n\t *\n\t * @param int    $user_id User ID.\n\t * @param string $role    User role.\n\t * @param int    $blog_id Blog ID.\n\t *\/",170],["T_WHITESPACE","\n\t",178],["T_STRING","do_action",179],"(",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'add_user_to_blog'",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$user_id",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$role",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$blog_id",179],["T_WHITESPACE"," ",179],")",";",["T_WHITESPACE","\n\t",179],["T_STRING","wp_cache_delete",180],"(",["T_WHITESPACE"," ",180],["T_VARIABLE","$user_id",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'users'",180],["T_WHITESPACE"," ",180],")",";",["T_WHITESPACE","\n\t",180],["T_STRING","wp_cache_delete",181],"(",["T_WHITESPACE"," ",181],["T_VARIABLE","$blog_id",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'_user_count'",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'blog-details'",181],["T_WHITESPACE"," ",181],")",";",["T_WHITESPACE","\n\t",181],["T_STRING","restore_current_blog",182],"(",")",";",["T_WHITESPACE","\n\t",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_STRING","true",183],";",["T_WHITESPACE","\n",183],"}",["T_WHITESPACE","\n\n",184],["T_DOC_COMMENT","\/**\n * Remove a user from a blog.\n *\n * Use the {@see 'remove_user_from_blog'} action to fire an event when\n * users are removed from a blog.\n *\n * Accepts an optional `$reassign` parameter, if you want to\n * reassign the user's blog posts to another user upon removal.\n *\n * @since MU 1.0\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param int    $user_id  ID of the user you're removing.\n * @param int    $blog_id  ID of the blog you're removing the user from.\n * @param string $reassign Optional. A user to whom to reassign posts.\n * @return true|WP_Error\n *\/",186],["T_WHITESPACE","\n",203],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","remove_user_from_blog",204],"(",["T_VARIABLE","$user_id",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$blog_id",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","''",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$reassign",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","''",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t",204],["T_GLOBAL","global",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$wpdb",205],";",["T_WHITESPACE","\n\t",205],["T_STRING","switch_to_blog",206],"(",["T_VARIABLE","$blog_id",206],")",";",["T_WHITESPACE","\n\t",206],["T_VARIABLE","$user_id",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_INT_CAST","(int)",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$user_id",207],";",["T_WHITESPACE","\n\t",207],["T_DOC_COMMENT","\/**\n\t * Fires before a user is removed from a site.\n\t *\n\t * @since MU\n\t *\n\t * @param int $user_id User ID.\n\t * @param int $blog_id Blog ID.\n\t *\/",208],["T_WHITESPACE","\n\t",215],["T_STRING","do_action",216],"(",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'remove_user_from_blog'",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$user_id",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$blog_id",216],["T_WHITESPACE"," ",216],")",";",["T_WHITESPACE","\n\n\t",216],["T_COMMENT","\/\/ If being removed from the primary blog, set a new primary if the user is assigned\n",218],["T_WHITESPACE","\t",219],["T_COMMENT","\/\/ to multiple blogs.\n",219],["T_WHITESPACE","\t",220],["T_VARIABLE","$primary_blog",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","get_user_meta",220],"(",["T_VARIABLE","$user_id",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",220],",",["T_WHITESPACE"," ",220],["T_STRING","true",220],")",";",["T_WHITESPACE","\n\t",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_WHITESPACE"," ",221],["T_VARIABLE","$primary_blog",221],["T_WHITESPACE"," ",221],["T_IS_EQUAL","==",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$blog_id",221],["T_WHITESPACE"," ",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t",221],["T_VARIABLE","$new_id",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","''",222],";",["T_WHITESPACE","\n\t\t",222],["T_VARIABLE","$new_domain",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],";",["T_WHITESPACE","\n\t\t",223],["T_VARIABLE","$blogs",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","get_blogs_of_user",224],"(",["T_VARIABLE","$user_id",224],")",";",["T_WHITESPACE","\n\t\t",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_WHITESPACE"," ",225],["T_ARRAY_CAST","(array)",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$blogs",225],["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$blog",225],["T_WHITESPACE"," ",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n\t\t\t",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_WHITESPACE"," ",226],["T_VARIABLE","$blog",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","userblog_id",226],["T_WHITESPACE"," ",226],["T_IS_EQUAL","==",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$blog_id",226],["T_WHITESPACE"," ",226],")",["T_WHITESPACE","\n\t\t\t\t",226],["T_CONTINUE","continue",227],";",["T_WHITESPACE","\n\t\t\t",227],["T_VARIABLE","$new_id",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$blog",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","userblog_id",228],";",["T_WHITESPACE","\n\t\t\t",228],["T_VARIABLE","$new_domain",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$blog",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","domain",229],";",["T_WHITESPACE","\n\t\t\t",229],["T_BREAK","break",230],";",["T_WHITESPACE","\n\t\t",230],"}",["T_WHITESPACE","\n\n\t\t",231],["T_STRING","update_user_meta",233],"(",["T_VARIABLE","$user_id",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$new_id",233],")",";",["T_WHITESPACE","\n\t\t",233],["T_STRING","update_user_meta",234],"(",["T_VARIABLE","$user_id",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'source_domain'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$new_domain",234],")",";",["T_WHITESPACE","\n\t",234],"}",["T_WHITESPACE","\n\n\t",235],["T_COMMENT","\/\/ wp_revoke_user($user_id);\n",237],["T_WHITESPACE","\t",238],["T_VARIABLE","$user",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","get_userdata",238],"(",["T_WHITESPACE"," ",238],["T_VARIABLE","$user_id",238],["T_WHITESPACE"," ",238],")",";",["T_WHITESPACE","\n\t",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_WHITESPACE"," ",239],"!",["T_WHITESPACE"," ",239],["T_VARIABLE","$user",239],["T_WHITESPACE"," ",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n\t\t",239],["T_STRING","restore_current_blog",240],"(",")",";",["T_WHITESPACE","\n\t\t",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_STRING","WP_Error",241],"(",["T_CONSTANT_ENCAPSED_STRING","'user_does_not_exist'",241],",",["T_WHITESPACE"," ",241],["T_STRING","__",241],"(",["T_CONSTANT_ENCAPSED_STRING","'That user does not exist.'",241],")",")",";",["T_WHITESPACE","\n\t",241],"}",["T_WHITESPACE","\n\n\t",242],["T_VARIABLE","$user",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","remove_all_caps",244],"(",")",";",["T_WHITESPACE","\n\n\t",244],["T_VARIABLE","$blogs",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","get_blogs_of_user",246],"(",["T_VARIABLE","$user_id",246],")",";",["T_WHITESPACE","\n\t",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_WHITESPACE"," ",247],["T_STRING","count",247],"(",["T_VARIABLE","$blogs",247],")",["T_WHITESPACE"," ",247],["T_IS_EQUAL","==",247],["T_WHITESPACE"," ",247],["T_LNUMBER","0",247],["T_WHITESPACE"," ",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n\t\t",247],["T_STRING","update_user_meta",248],"(",["T_VARIABLE","$user_id",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","''",248],")",";",["T_WHITESPACE","\n\t\t",248],["T_STRING","update_user_meta",249],"(",["T_VARIABLE","$user_id",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'source_domain'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","''",249],")",";",["T_WHITESPACE","\n\t",249],"}",["T_WHITESPACE","\n\n\t",250],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_WHITESPACE"," ",252],["T_VARIABLE","$reassign",252],["T_WHITESPACE"," ",252],["T_IS_NOT_EQUAL","!=",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","''",252],["T_WHITESPACE"," ",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n\t\t",252],["T_VARIABLE","$reassign",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_INT_CAST","(int)",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$reassign",253],";",["T_WHITESPACE","\n\t\t",253],["T_VARIABLE","$post_ids",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$wpdb",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","get_col",254],"(",["T_WHITESPACE"," ",254],["T_VARIABLE","$wpdb",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","prepare",254],"(",["T_WHITESPACE"," ",254],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT ID FROM ",254],["T_VARIABLE","$wpdb",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","posts",254],["T_ENCAPSED_AND_WHITESPACE"," WHERE post_author = %d",254],"\"",",",["T_WHITESPACE"," ",254],["T_VARIABLE","$user_id",254],["T_WHITESPACE"," ",254],")",["T_WHITESPACE"," ",254],")",";",["T_WHITESPACE","\n\t\t",254],["T_VARIABLE","$link_ids",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$wpdb",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","get_col",255],"(",["T_WHITESPACE"," ",255],["T_VARIABLE","$wpdb",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","prepare",255],"(",["T_WHITESPACE"," ",255],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT link_id FROM ",255],["T_VARIABLE","$wpdb",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","links",255],["T_ENCAPSED_AND_WHITESPACE"," WHERE link_owner = %d",255],"\"",",",["T_WHITESPACE"," ",255],["T_VARIABLE","$user_id",255],["T_WHITESPACE"," ",255],")",["T_WHITESPACE"," ",255],")",";",["T_WHITESPACE","\n\n\t\t",255],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_WHITESPACE"," ",257],"!",["T_WHITESPACE"," ",257],["T_EMPTY","empty",257],"(",["T_WHITESPACE"," ",257],["T_VARIABLE","$post_ids",257],["T_WHITESPACE"," ",257],")",["T_WHITESPACE"," ",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n\t\t\t",257],["T_VARIABLE","$wpdb",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","query",258],"(",["T_WHITESPACE"," ",258],["T_VARIABLE","$wpdb",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","prepare",258],"(",["T_WHITESPACE"," ",258],"\"",["T_ENCAPSED_AND_WHITESPACE","UPDATE ",258],["T_VARIABLE","$wpdb",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","posts",258],["T_ENCAPSED_AND_WHITESPACE"," SET post_author = %d WHERE post_author = %d",258],"\"",",",["T_WHITESPACE"," ",258],["T_VARIABLE","$reassign",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$user_id",258],["T_WHITESPACE"," ",258],")",["T_WHITESPACE"," ",258],")",";",["T_WHITESPACE","\n\t\t\t",258],["T_STRING","array_walk",259],"(",["T_WHITESPACE"," ",259],["T_VARIABLE","$post_ids",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'clean_post_cache'",259],["T_WHITESPACE"," ",259],")",";",["T_WHITESPACE","\n\t\t",259],"}",["T_WHITESPACE","\n\n\t\t",260],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_WHITESPACE"," ",262],"!",["T_WHITESPACE"," ",262],["T_EMPTY","empty",262],"(",["T_WHITESPACE"," ",262],["T_VARIABLE","$link_ids",262],["T_WHITESPACE"," ",262],")",["T_WHITESPACE"," ",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n\t\t\t",262],["T_VARIABLE","$wpdb",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","query",263],"(",["T_WHITESPACE"," ",263],["T_VARIABLE","$wpdb",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","prepare",263],"(",["T_WHITESPACE"," ",263],"\"",["T_ENCAPSED_AND_WHITESPACE","UPDATE ",263],["T_VARIABLE","$wpdb",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","links",263],["T_ENCAPSED_AND_WHITESPACE"," SET link_owner = %d WHERE link_owner = %d",263],"\"",",",["T_WHITESPACE"," ",263],["T_VARIABLE","$reassign",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$user_id",263],["T_WHITESPACE"," ",263],")",["T_WHITESPACE"," ",263],")",";",["T_WHITESPACE","\n\t\t\t",263],["T_STRING","array_walk",264],"(",["T_WHITESPACE"," ",264],["T_VARIABLE","$link_ids",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'clean_bookmark_cache'",264],["T_WHITESPACE"," ",264],")",";",["T_WHITESPACE","\n\t\t",264],"}",["T_WHITESPACE","\n\t",265],"}",["T_WHITESPACE","\n\n\t",266],["T_STRING","restore_current_blog",268],"(",")",";",["T_WHITESPACE","\n\n\t",268],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_STRING","true",270],";",["T_WHITESPACE","\n",270],"}",["T_WHITESPACE","\n\n",271],["T_DOC_COMMENT","\/**\n * Get the permalink for a post on another blog.\n *\n * @since MU 1.0\n *\n * @param int $blog_id ID of the source blog.\n * @param int $post_id ID of the desired post.\n * @return string The post's permalink\n *\/",273],["T_WHITESPACE","\n",281],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","get_blog_permalink",282],"(",["T_WHITESPACE"," ",282],["T_VARIABLE","$blog_id",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$post_id",282],["T_WHITESPACE"," ",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n\t",282],["T_STRING","switch_to_blog",283],"(",["T_WHITESPACE"," ",283],["T_VARIABLE","$blog_id",283],["T_WHITESPACE"," ",283],")",";",["T_WHITESPACE","\n\t",283],["T_VARIABLE","$link",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","get_permalink",284],"(",["T_WHITESPACE"," ",284],["T_VARIABLE","$post_id",284],["T_WHITESPACE"," ",284],")",";",["T_WHITESPACE","\n\t",284],["T_STRING","restore_current_blog",285],"(",")",";",["T_WHITESPACE","\n\n\t",285],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$link",287],";",["T_WHITESPACE","\n",287],"}",["T_WHITESPACE","\n\n",288],["T_DOC_COMMENT","\/**\n * Get a blog's numeric ID from its URL.\n *\n * On a subdirectory installation like example.com\/blog1\/,\n * $domain will be the root 'example.com' and $path the\n * subdirectory '\/blog1\/'. With subdomains like blog1.example.com,\n * $domain is 'blog1.example.com' and $path is '\/'.\n *\n * @since MU 2.6.5\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $domain\n * @param string $path   Optional. Not required for subdomain installations.\n * @return int 0 if no blog found, otherwise the ID of the matching blog\n *\/",290],["T_WHITESPACE","\n",305],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","get_blog_id_from_url",306],"(",["T_WHITESPACE"," ",306],["T_VARIABLE","$domain",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$path",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'\/'",306],["T_WHITESPACE"," ",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n\t",306],["T_VARIABLE","$domain",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","strtolower",307],"(",["T_WHITESPACE"," ",307],["T_VARIABLE","$domain",307],["T_WHITESPACE"," ",307],")",";",["T_WHITESPACE","\n\t",307],["T_VARIABLE","$path",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","strtolower",308],"(",["T_WHITESPACE"," ",308],["T_VARIABLE","$path",308],["T_WHITESPACE"," ",308],")",";",["T_WHITESPACE","\n\t",308],["T_VARIABLE","$id",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","wp_cache_get",309],"(",["T_WHITESPACE"," ",309],["T_STRING","md5",309],"(",["T_WHITESPACE"," ",309],["T_VARIABLE","$domain",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_VARIABLE","$path",309],["T_WHITESPACE"," ",309],")",",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'blog-id-cache'",309],["T_WHITESPACE"," ",309],")",";",["T_WHITESPACE","\n\n\t",309],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_WHITESPACE"," ",311],["T_VARIABLE","$id",311],["T_WHITESPACE"," ",311],["T_IS_EQUAL","==",311],["T_WHITESPACE"," ",311],"-",["T_LNUMBER","1",311],["T_WHITESPACE"," ",311],")",["T_WHITESPACE"," ",311],["T_COMMENT","\/\/ blog does not exist\n",311],["T_WHITESPACE","\t\t",312],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_LNUMBER","0",312],";",["T_WHITESPACE","\n\t",312],["T_ELSEIF","elseif",313],["T_WHITESPACE"," ",313],"(",["T_WHITESPACE"," ",313],["T_VARIABLE","$id",313],["T_WHITESPACE"," ",313],")",["T_WHITESPACE","\n\t\t",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_INT_CAST","(int)",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$id",314],";",["T_WHITESPACE","\n\n\t",314],["T_VARIABLE","$args",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_WHITESPACE","\n\t\t",316],["T_CONSTANT_ENCAPSED_STRING","'domain'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$domain",317],",",["T_WHITESPACE","\n\t\t",317],["T_CONSTANT_ENCAPSED_STRING","'path'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$path",318],",",["T_WHITESPACE","\n\t\t",318],["T_CONSTANT_ENCAPSED_STRING","'fields'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'ids'",319],",",["T_WHITESPACE","\n\t",319],")",";",["T_WHITESPACE","\n\t",320],["T_VARIABLE","$result",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","get_sites",321],"(",["T_WHITESPACE"," ",321],["T_VARIABLE","$args",321],["T_WHITESPACE"," ",321],")",";",["T_WHITESPACE","\n\t",321],["T_VARIABLE","$id",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","array_shift",322],"(",["T_WHITESPACE"," ",322],["T_VARIABLE","$result",322],["T_WHITESPACE"," ",322],")",";",["T_WHITESPACE","\n\n\t",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_WHITESPACE"," ",324],"!",["T_WHITESPACE"," ",324],["T_VARIABLE","$id",324],["T_WHITESPACE"," ",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n\t\t",324],["T_STRING","wp_cache_set",325],"(",["T_WHITESPACE"," ",325],["T_STRING","md5",325],"(",["T_WHITESPACE"," ",325],["T_VARIABLE","$domain",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$path",325],["T_WHITESPACE"," ",325],")",",",["T_WHITESPACE"," ",325],"-",["T_LNUMBER","1",325],",",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'blog-id-cache'",325],["T_WHITESPACE"," ",325],")",";",["T_WHITESPACE","\n\t\t",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_LNUMBER","0",326],";",["T_WHITESPACE","\n\t",326],"}",["T_WHITESPACE","\n\n\t",327],["T_STRING","wp_cache_set",329],"(",["T_WHITESPACE"," ",329],["T_STRING","md5",329],"(",["T_WHITESPACE"," ",329],["T_VARIABLE","$domain",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_VARIABLE","$path",329],["T_WHITESPACE"," ",329],")",",",["T_WHITESPACE"," ",329],["T_VARIABLE","$id",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'blog-id-cache'",329],["T_WHITESPACE"," ",329],")",";",["T_WHITESPACE","\n\n\t",329],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$id",331],";",["T_WHITESPACE","\n",331],"}",["T_WHITESPACE","\n\n",332],["T_COMMENT","\/\/ Admin functions\n",334],["T_WHITESPACE","\n",335],["T_DOC_COMMENT","\/**\n * Checks an email address against a list of banned domains.\n *\n * This function checks against the Banned Email Domains list\n * at wp-admin\/network\/settings.php. The check is only run on\n * self-registrations; user creation at wp-admin\/network\/users.php\n * bypasses this check.\n *\n * @since MU\n *\n * @param string $user_email The email provided by the user at registration.\n * @return bool Returns true when the email address is banned.\n *\/",336],["T_WHITESPACE","\n",348],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","is_email_address_unsafe",349],"(",["T_WHITESPACE"," ",349],["T_VARIABLE","$user_email",349],["T_WHITESPACE"," ",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n\t",349],["T_VARIABLE","$banned_names",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","get_site_option",350],"(",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'banned_email_domains'",350],["T_WHITESPACE"," ",350],")",";",["T_WHITESPACE","\n\t",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_WHITESPACE"," ",351],["T_VARIABLE","$banned_names",351],["T_WHITESPACE"," ",351],["T_BOOLEAN_AND","&&",351],["T_WHITESPACE"," ",351],"!",["T_WHITESPACE"," ",351],["T_STRING","is_array",351],"(",["T_WHITESPACE"," ",351],["T_VARIABLE","$banned_names",351],["T_WHITESPACE"," ",351],")",["T_WHITESPACE"," ",351],")",["T_WHITESPACE","\n\t\t",351],["T_VARIABLE","$banned_names",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","explode",352],"(",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$banned_names",352],["T_WHITESPACE"," ",352],")",";",["T_WHITESPACE","\n\n\t",352],["T_VARIABLE","$is_email_address_unsafe",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","false",354],";",["T_WHITESPACE","\n\n\t",354],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_WHITESPACE"," ",356],["T_VARIABLE","$banned_names",356],["T_WHITESPACE"," ",356],["T_BOOLEAN_AND","&&",356],["T_WHITESPACE"," ",356],["T_STRING","is_array",356],"(",["T_WHITESPACE"," ",356],["T_VARIABLE","$banned_names",356],["T_WHITESPACE"," ",356],")",["T_WHITESPACE"," ",356],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n\t\t",356],["T_VARIABLE","$banned_names",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","array_map",357],"(",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'strtolower'",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$banned_names",357],["T_WHITESPACE"," ",357],")",";",["T_WHITESPACE","\n\t\t",357],["T_VARIABLE","$normalized_email",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","strtolower",358],"(",["T_WHITESPACE"," ",358],["T_VARIABLE","$user_email",358],["T_WHITESPACE"," ",358],")",";",["T_WHITESPACE","\n\n\t\t",358],["T_LIST","list",360],"(",["T_WHITESPACE"," ",360],["T_VARIABLE","$email_local_part",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$email_domain",360],["T_WHITESPACE"," ",360],")",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","explode",360],"(",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'@'",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$normalized_email",360],["T_WHITESPACE"," ",360],")",";",["T_WHITESPACE","\n\n\t\t",360],["T_FOREACH","foreach",362],["T_WHITESPACE"," ",362],"(",["T_WHITESPACE"," ",362],["T_VARIABLE","$banned_names",362],["T_WHITESPACE"," ",362],["T_AS","as",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$banned_domain",362],["T_WHITESPACE"," ",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n\t\t\t",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_WHITESPACE"," ",363],"!",["T_WHITESPACE"," ",363],["T_VARIABLE","$banned_domain",363],["T_WHITESPACE"," ",363],")",["T_WHITESPACE","\n\t\t\t\t",363],["T_CONTINUE","continue",364],";",["T_WHITESPACE","\n\n\t\t\t",364],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_WHITESPACE"," ",366],["T_VARIABLE","$email_domain",366],["T_WHITESPACE"," ",366],["T_IS_EQUAL","==",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$banned_domain",366],["T_WHITESPACE"," ",366],")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n\t\t\t\t",366],["T_VARIABLE","$is_email_address_unsafe",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","true",367],";",["T_WHITESPACE","\n\t\t\t\t",367],["T_BREAK","break",368],";",["T_WHITESPACE","\n\t\t\t",368],"}",["T_WHITESPACE","\n\n\t\t\t",369],["T_VARIABLE","$dotted_domain",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],"\"",["T_ENCAPSED_AND_WHITESPACE",".",371],["T_VARIABLE","$banned_domain",371],"\"",";",["T_WHITESPACE","\n\t\t\t",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_WHITESPACE"," ",372],["T_VARIABLE","$dotted_domain",372],["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_STRING","substr",372],"(",["T_WHITESPACE"," ",372],["T_VARIABLE","$normalized_email",372],",",["T_WHITESPACE"," ",372],"-",["T_STRING","strlen",372],"(",["T_WHITESPACE"," ",372],["T_VARIABLE","$dotted_domain",372],["T_WHITESPACE"," ",372],")",["T_WHITESPACE"," ",372],")",["T_WHITESPACE"," ",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n\t\t\t\t",372],["T_VARIABLE","$is_email_address_unsafe",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","true",373],";",["T_WHITESPACE","\n\t\t\t\t",373],["T_BREAK","break",374],";",["T_WHITESPACE","\n\t\t\t",374],"}",["T_WHITESPACE","\n\t\t",375],"}",["T_WHITESPACE","\n\t",376],"}",["T_WHITESPACE","\n\n\t",377],["T_DOC_COMMENT","\/**\n\t * Filters whether an email address is unsafe.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param bool   $is_email_address_unsafe Whether the email address is \"unsafe\". Default false.\n\t * @param string $user_email              User email address.\n\t *\/",379],["T_WHITESPACE","\n\t",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_STRING","apply_filters",387],"(",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'is_email_address_unsafe'",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$is_email_address_unsafe",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$user_email",387],["T_WHITESPACE"," ",387],")",";",["T_WHITESPACE","\n",387],"}",["T_WHITESPACE","\n\n",388],["T_DOC_COMMENT","\/**\n * Sanitize and validate data required for a user sign-up.\n *\n * Verifies the validity and uniqueness of user names and user email addresses,\n * and checks email addresses against admin-provided domain whitelists and blacklists.\n *\n * The {@see 'wpmu_validate_user_signup'} hook provides an easy way to modify the sign-up\n * process. The value $result, which is passed to the hook, contains both the user-provided\n * info and the error messages created by the function. {@see 'wpmu_validate_user_signup'}\n * allows you to process the data in any way you'd like, and unset the relevant errors if\n * necessary.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $user_name  The login name provided by the user.\n * @param string $user_email The email provided by the user.\n * @return array Contains username, email, and error messages.\n *\/",390],["T_WHITESPACE","\n",409],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","wpmu_validate_user_signup",410],"(",["T_VARIABLE","$user_name",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$user_email",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n\t",410],["T_GLOBAL","global",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$wpdb",411],";",["T_WHITESPACE","\n\n\t",411],["T_VARIABLE","$errors",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_NEW","new",413],["T_WHITESPACE"," ",413],["T_STRING","WP_Error",413],"(",")",";",["T_WHITESPACE","\n\n\t",413],["T_VARIABLE","$orig_username",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$user_name",415],";",["T_WHITESPACE","\n\t",415],["T_VARIABLE","$user_name",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","preg_replace",416],"(",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",416],",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","''",416],",",["T_WHITESPACE"," ",416],["T_STRING","sanitize_user",416],"(",["T_WHITESPACE"," ",416],["T_VARIABLE","$user_name",416],",",["T_WHITESPACE"," ",416],["T_STRING","true",416],["T_WHITESPACE"," ",416],")",["T_WHITESPACE"," ",416],")",";",["T_WHITESPACE","\n\n\t",416],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_WHITESPACE"," ",418],["T_VARIABLE","$user_name",418],["T_WHITESPACE"," ",418],["T_IS_NOT_EQUAL","!=",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$orig_username",418],["T_WHITESPACE"," ",418],["T_BOOLEAN_OR","||",418],["T_WHITESPACE"," ",418],["T_STRING","preg_match",418],"(",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'\/[^a-z0-9]\/'",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$user_name",418],["T_WHITESPACE"," ",418],")",["T_WHITESPACE"," ",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n\t\t",418],["T_VARIABLE","$errors",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","add",419],"(",["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'user_name'",419],",",["T_WHITESPACE"," ",419],["T_STRING","__",419],"(",["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'Usernames can only contain lowercase letters (a-z) and numbers.'",419],["T_WHITESPACE"," ",419],")",["T_WHITESPACE"," ",419],")",";",["T_WHITESPACE","\n\t\t",419],["T_VARIABLE","$user_name",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$orig_username",420],";",["T_WHITESPACE","\n\t",420],"}",["T_WHITESPACE","\n\n\t",421],["T_VARIABLE","$user_email",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","sanitize_email",423],"(",["T_WHITESPACE"," ",423],["T_VARIABLE","$user_email",423],["T_WHITESPACE"," ",423],")",";",["T_WHITESPACE","\n\n\t",423],["T_IF","if",425],["T_WHITESPACE"," ",425],"(",["T_WHITESPACE"," ",425],["T_EMPTY","empty",425],"(",["T_WHITESPACE"," ",425],["T_VARIABLE","$user_name",425],["T_WHITESPACE"," ",425],")",["T_WHITESPACE"," ",425],")",["T_WHITESPACE","\n\t   \t",425],["T_VARIABLE","$errors",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","add",426],"(",["T_CONSTANT_ENCAPSED_STRING","'user_name'",426],",",["T_WHITESPACE"," ",426],["T_STRING","__",426],"(",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'Please enter a username.'",426],["T_WHITESPACE"," ",426],")",["T_WHITESPACE"," ",426],")",";",["T_WHITESPACE","\n\n\t",426],["T_VARIABLE","$illegal_names",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_STRING","get_site_option",428],"(",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'illegal_names'",428],["T_WHITESPACE"," ",428],")",";",["T_WHITESPACE","\n\t",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_WHITESPACE"," ",429],"!",["T_WHITESPACE"," ",429],["T_STRING","is_array",429],"(",["T_WHITESPACE"," ",429],["T_VARIABLE","$illegal_names",429],["T_WHITESPACE"," ",429],")",["T_WHITESPACE"," ",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n\t\t",429],["T_VARIABLE","$illegal_names",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_ARRAY","array",430],"(",["T_WHITESPACE","  ",430],["T_CONSTANT_ENCAPSED_STRING","'www'",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'web'",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'root'",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'admin'",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'main'",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'invite'",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'administrator'",430],["T_WHITESPACE"," ",430],")",";",["T_WHITESPACE","\n\t\t",430],["T_STRING","add_site_option",431],"(",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'illegal_names'",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$illegal_names",431],["T_WHITESPACE"," ",431],")",";",["T_WHITESPACE","\n\t",431],"}",["T_WHITESPACE","\n\t",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(",["T_WHITESPACE"," ",433],["T_STRING","in_array",433],"(",["T_WHITESPACE"," ",433],["T_VARIABLE","$user_name",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$illegal_names",433],["T_WHITESPACE"," ",433],")",["T_WHITESPACE"," ",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n\t\t",433],["T_VARIABLE","$errors",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","add",434],"(",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'user_name'",434],",",["T_WHITESPACE","  ",434],["T_STRING","__",434],"(",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'Sorry, that username is not allowed.'",434],["T_WHITESPACE"," ",434],")",["T_WHITESPACE"," ",434],")",";",["T_WHITESPACE","\n\t",434],"}",["T_WHITESPACE","\n\n\t",435],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/user.php *\/",437],["T_WHITESPACE","\n\t",437],["T_VARIABLE","$illegal_logins",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_ARRAY_CAST","(array)",438],["T_WHITESPACE"," ",438],["T_STRING","apply_filters",438],"(",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'illegal_user_logins'",438],",",["T_WHITESPACE"," ",438],["T_ARRAY","array",438],"(",")",["T_WHITESPACE"," ",438],")",";",["T_WHITESPACE","\n\n\t",438],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_WHITESPACE"," ",440],["T_STRING","in_array",440],"(",["T_WHITESPACE"," ",440],["T_STRING","strtolower",440],"(",["T_WHITESPACE"," ",440],["T_VARIABLE","$user_name",440],["T_WHITESPACE"," ",440],")",",",["T_WHITESPACE"," ",440],["T_STRING","array_map",440],"(",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'strtolower'",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$illegal_logins",440],["T_WHITESPACE"," ",440],")",["T_WHITESPACE"," ",440],")",["T_WHITESPACE"," ",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n\t\t",440],["T_VARIABLE","$errors",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","add",441],"(",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'user_name'",441],",",["T_WHITESPACE","  ",441],["T_STRING","__",441],"(",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'Sorry, that username is not allowed.'",441],["T_WHITESPACE"," ",441],")",["T_WHITESPACE"," ",441],")",";",["T_WHITESPACE","\n\t",441],"}",["T_WHITESPACE","\n\n\t",442],["T_IF","if",444],["T_WHITESPACE"," ",444],"(",["T_WHITESPACE"," ",444],["T_STRING","is_email_address_unsafe",444],"(",["T_WHITESPACE"," ",444],["T_VARIABLE","$user_email",444],["T_WHITESPACE"," ",444],")",["T_WHITESPACE"," ",444],")",["T_WHITESPACE","\n\t\t",444],["T_VARIABLE","$errors",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","add",445],"(",["T_CONSTANT_ENCAPSED_STRING","'user_email'",445],",",["T_WHITESPACE","  ",445],["T_STRING","__",445],"(",["T_CONSTANT_ENCAPSED_STRING","'You cannot use that email address to signup. We are having problems with them blocking some of our email. Please use another email provider.'",445],")",")",";",["T_WHITESPACE","\n\n\t",445],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_WHITESPACE"," ",447],["T_STRING","strlen",447],"(",["T_WHITESPACE"," ",447],["T_VARIABLE","$user_name",447],["T_WHITESPACE"," ",447],")",["T_WHITESPACE"," ",447],"<",["T_WHITESPACE"," ",447],["T_LNUMBER","4",447],["T_WHITESPACE"," ",447],")",["T_WHITESPACE","\n\t\t",447],["T_VARIABLE","$errors",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","add",448],"(",["T_CONSTANT_ENCAPSED_STRING","'user_name'",448],",",["T_WHITESPACE","  ",448],["T_STRING","__",448],"(",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'Username must be at least 4 characters.'",448],["T_WHITESPACE"," ",448],")",["T_WHITESPACE"," ",448],")",";",["T_WHITESPACE","\n\n\t",448],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_WHITESPACE"," ",450],["T_STRING","strlen",450],"(",["T_WHITESPACE"," ",450],["T_VARIABLE","$user_name",450],["T_WHITESPACE"," ",450],")",["T_WHITESPACE"," ",450],">",["T_WHITESPACE"," ",450],["T_LNUMBER","60",450],["T_WHITESPACE"," ",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n\t\t",450],["T_VARIABLE","$errors",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","add",451],"(",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'user_name'",451],",",["T_WHITESPACE"," ",451],["T_STRING","__",451],"(",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'Username may not be longer than 60 characters.'",451],["T_WHITESPACE"," ",451],")",["T_WHITESPACE"," ",451],")",";",["T_WHITESPACE","\n\t",451],"}",["T_WHITESPACE","\n\n\t",452],["T_COMMENT","\/\/ all numeric?\n",454],["T_WHITESPACE","\t",455],["T_IF","if",455],["T_WHITESPACE"," ",455],"(",["T_WHITESPACE"," ",455],["T_STRING","preg_match",455],"(",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]*$\/'",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$user_name",455],["T_WHITESPACE"," ",455],")",["T_WHITESPACE"," ",455],")",["T_WHITESPACE","\n\t\t",455],["T_VARIABLE","$errors",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","add",456],"(",["T_CONSTANT_ENCAPSED_STRING","'user_name'",456],",",["T_WHITESPACE"," ",456],["T_STRING","__",456],"(",["T_CONSTANT_ENCAPSED_STRING","'Sorry, usernames must have letters too!'",456],")",")",";",["T_WHITESPACE","\n\n\t",456],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_WHITESPACE"," ",458],"!",["T_STRING","is_email",458],"(",["T_WHITESPACE"," ",458],["T_VARIABLE","$user_email",458],["T_WHITESPACE"," ",458],")",["T_WHITESPACE"," ",458],")",["T_WHITESPACE","\n\t\t",458],["T_VARIABLE","$errors",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","add",459],"(",["T_CONSTANT_ENCAPSED_STRING","'user_email'",459],",",["T_WHITESPACE"," ",459],["T_STRING","__",459],"(",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'Please enter a valid email address.'",459],["T_WHITESPACE"," ",459],")",["T_WHITESPACE"," ",459],")",";",["T_WHITESPACE","\n\n\t",459],["T_VARIABLE","$limited_email_domains",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","get_site_option",461],"(",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'limited_email_domains'",461],["T_WHITESPACE"," ",461],")",";",["T_WHITESPACE","\n\t",461],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_WHITESPACE"," ",462],["T_STRING","is_array",462],"(",["T_WHITESPACE"," ",462],["T_VARIABLE","$limited_email_domains",462],["T_WHITESPACE"," ",462],")",["T_WHITESPACE"," ",462],["T_BOOLEAN_AND","&&",462],["T_WHITESPACE"," ",462],"!",["T_WHITESPACE"," ",462],["T_EMPTY","empty",462],"(",["T_WHITESPACE"," ",462],["T_VARIABLE","$limited_email_domains",462],["T_WHITESPACE"," ",462],")",["T_WHITESPACE"," ",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n\t\t",462],["T_VARIABLE","$emaildomain",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_STRING","substr",463],"(",["T_WHITESPACE"," ",463],["T_VARIABLE","$user_email",463],",",["T_WHITESPACE"," ",463],["T_LNUMBER","1",463],["T_WHITESPACE"," ",463],"+",["T_WHITESPACE"," ",463],["T_STRING","strpos",463],"(",["T_WHITESPACE"," ",463],["T_VARIABLE","$user_email",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'@'",463],["T_WHITESPACE"," ",463],")",["T_WHITESPACE"," ",463],")",";",["T_WHITESPACE","\n\t\t",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_WHITESPACE"," ",464],"!",["T_WHITESPACE"," ",464],["T_STRING","in_array",464],"(",["T_WHITESPACE"," ",464],["T_VARIABLE","$emaildomain",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$limited_email_domains",464],["T_WHITESPACE"," ",464],")",["T_WHITESPACE"," ",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n\t\t\t",464],["T_VARIABLE","$errors",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","add",465],"(",["T_CONSTANT_ENCAPSED_STRING","'user_email'",465],",",["T_WHITESPACE"," ",465],["T_STRING","__",465],"(",["T_CONSTANT_ENCAPSED_STRING","'Sorry, that email address is not allowed!'",465],")",")",";",["T_WHITESPACE","\n\t\t",465],"}",["T_WHITESPACE","\n\t",466],"}",["T_WHITESPACE","\n\n\t",467],["T_COMMENT","\/\/ Check if the username has been used already.\n",469],["T_WHITESPACE","\t",470],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_WHITESPACE"," ",470],["T_STRING","username_exists",470],"(",["T_VARIABLE","$user_name",470],")",["T_WHITESPACE"," ",470],")",["T_WHITESPACE","\n\t\t",470],["T_VARIABLE","$errors",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","add",471],"(",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'user_name'",471],",",["T_WHITESPACE"," ",471],["T_STRING","__",471],"(",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'Sorry, that username already exists!'",471],["T_WHITESPACE"," ",471],")",["T_WHITESPACE"," ",471],")",";",["T_WHITESPACE","\n\n\t",471],["T_COMMENT","\/\/ Check if the email address has been used already.\n",473],["T_WHITESPACE","\t",474],["T_IF","if",474],["T_WHITESPACE"," ",474],"(",["T_WHITESPACE"," ",474],["T_STRING","email_exists",474],"(",["T_VARIABLE","$user_email",474],")",["T_WHITESPACE"," ",474],")",["T_WHITESPACE","\n\t\t",474],["T_VARIABLE","$errors",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","add",475],"(",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'user_email'",475],",",["T_WHITESPACE"," ",475],["T_STRING","__",475],"(",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'Sorry, that email address is already used!'",475],["T_WHITESPACE"," ",475],")",["T_WHITESPACE"," ",475],")",";",["T_WHITESPACE","\n\n\t",475],["T_COMMENT","\/\/ Has someone already signed up for this username?\n",477],["T_WHITESPACE","\t",478],["T_VARIABLE","$signup",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_VARIABLE","$wpdb",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","get_row",478],"(",["T_WHITESPACE"," ",478],["T_VARIABLE","$wpdb",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","prepare",478],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT * FROM ",478],["T_VARIABLE","$wpdb",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","signups",478],["T_ENCAPSED_AND_WHITESPACE"," WHERE user_login = %s",478],"\"",",",["T_WHITESPACE"," ",478],["T_VARIABLE","$user_name",478],")",["T_WHITESPACE"," ",478],")",";",["T_WHITESPACE","\n\t",478],["T_IF","if",479],["T_WHITESPACE"," ",479],"(",["T_WHITESPACE"," ",479],["T_VARIABLE","$signup",479],["T_WHITESPACE"," ",479],["T_IS_NOT_EQUAL","!=",479],["T_WHITESPACE"," ",479],["T_STRING","null",479],["T_WHITESPACE"," ",479],")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n\t\t",479],["T_VARIABLE","$registered_at",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE","  ",480],["T_STRING","mysql2date",480],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$signup",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","registered",480],")",";",["T_WHITESPACE","\n\t\t",480],["T_VARIABLE","$now",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","current_time",481],"(",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",481],",",["T_WHITESPACE"," ",481],["T_STRING","true",481],["T_WHITESPACE"," ",481],")",";",["T_WHITESPACE","\n\t\t",481],["T_VARIABLE","$diff",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$now",482],["T_WHITESPACE"," ",482],"-",["T_WHITESPACE"," ",482],["T_VARIABLE","$registered_at",482],";",["T_WHITESPACE","\n\t\t",482],["T_COMMENT","\/\/ If registered more than two days ago, cancel registration and let this signup go through.\n",483],["T_WHITESPACE","\t\t",484],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_WHITESPACE"," ",484],["T_VARIABLE","$diff",484],["T_WHITESPACE"," ",484],">",["T_WHITESPACE"," ",484],["T_LNUMBER","2",484],["T_WHITESPACE"," ",484],"*",["T_WHITESPACE"," ",484],["T_STRING","DAY_IN_SECONDS",484],["T_WHITESPACE"," ",484],")",["T_WHITESPACE","\n\t\t\t",484],["T_VARIABLE","$wpdb",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","delete",485],"(",["T_WHITESPACE"," ",485],["T_VARIABLE","$wpdb",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","signups",485],",",["T_WHITESPACE"," ",485],["T_ARRAY","array",485],"(",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'user_login'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$user_name",485],["T_WHITESPACE"," ",485],")",["T_WHITESPACE"," ",485],")",";",["T_WHITESPACE","\n\t\t",485],["T_ELSE","else",486],["T_WHITESPACE","\n\t\t\t",486],["T_VARIABLE","$errors",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","add",487],"(",["T_CONSTANT_ENCAPSED_STRING","'user_name'",487],",",["T_WHITESPACE"," ",487],["T_STRING","__",487],"(",["T_CONSTANT_ENCAPSED_STRING","'That username is currently reserved but may be available in a couple of days.'",487],")",")",";",["T_WHITESPACE","\n\t",487],"}",["T_WHITESPACE","\n\n\t",488],["T_VARIABLE","$signup",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$wpdb",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","get_row",490],"(",["T_WHITESPACE"," ",490],["T_VARIABLE","$wpdb",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","prepare",490],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT * FROM ",490],["T_VARIABLE","$wpdb",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","signups",490],["T_ENCAPSED_AND_WHITESPACE"," WHERE user_email = %s",490],"\"",",",["T_WHITESPACE"," ",490],["T_VARIABLE","$user_email",490],")",["T_WHITESPACE"," ",490],")",";",["T_WHITESPACE","\n\t",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_WHITESPACE"," ",491],["T_VARIABLE","$signup",491],["T_WHITESPACE"," ",491],["T_IS_NOT_EQUAL","!=",491],["T_WHITESPACE"," ",491],["T_STRING","null",491],["T_WHITESPACE"," ",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n\t\t",491],["T_VARIABLE","$diff",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","current_time",492],"(",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",492],",",["T_WHITESPACE"," ",492],["T_STRING","true",492],["T_WHITESPACE"," ",492],")",["T_WHITESPACE"," ",492],"-",["T_WHITESPACE"," ",492],["T_STRING","mysql2date",492],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$signup",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","registered",492],")",";",["T_WHITESPACE","\n\t\t",492],["T_COMMENT","\/\/ If registered more than two days ago, cancel registration and let this signup go through.\n",493],["T_WHITESPACE","\t\t",494],["T_IF","if",494],["T_WHITESPACE"," ",494],"(",["T_WHITESPACE"," ",494],["T_VARIABLE","$diff",494],["T_WHITESPACE"," ",494],">",["T_WHITESPACE"," ",494],["T_LNUMBER","2",494],["T_WHITESPACE"," ",494],"*",["T_WHITESPACE"," ",494],["T_STRING","DAY_IN_SECONDS",494],["T_WHITESPACE"," ",494],")",["T_WHITESPACE","\n\t\t\t",494],["T_VARIABLE","$wpdb",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","delete",495],"(",["T_WHITESPACE"," ",495],["T_VARIABLE","$wpdb",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","signups",495],",",["T_WHITESPACE"," ",495],["T_ARRAY","array",495],"(",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'user_email'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$user_email",495],["T_WHITESPACE"," ",495],")",["T_WHITESPACE"," ",495],")",";",["T_WHITESPACE","\n\t\t",495],["T_ELSE","else",496],["T_WHITESPACE","\n\t\t\t",496],["T_VARIABLE","$errors",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","add",497],"(",["T_CONSTANT_ENCAPSED_STRING","'user_email'",497],",",["T_WHITESPACE"," ",497],["T_STRING","__",497],"(",["T_CONSTANT_ENCAPSED_STRING","'That email address has already been used. Please check your inbox for an activation email. It will become available in a couple of days if you do nothing.'",497],")",")",";",["T_WHITESPACE","\n\t",497],"}",["T_WHITESPACE","\n\n\t",498],["T_VARIABLE","$result",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",["T_CONSTANT_ENCAPSED_STRING","'user_name'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$user_name",500],",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'orig_username'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$orig_username",500],",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'user_email'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$user_email",500],",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'errors'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$errors",500],")",";",["T_WHITESPACE","\n\n\t",500],["T_DOC_COMMENT","\/**\n\t * Filters the validated user registration details.\n\t *\n\t * This does not allow you to override the username or email of the user during\n\t * registration. The values are solely used for validation and error handling.\n\t *\n\t * @since MU\n\t *\n\t * @param array $result {\n\t *     The array of user name, email and the error messages.\n\t *\n\t *     @type string   $user_name     Sanitized and unique username.\n\t *     @type string   $orig_username Original username.\n\t *     @type string   $user_email    User email address.\n\t *     @type WP_Error $errors        WP_Error object containing any errors found.\n\t * }\n\t *\/",502],["T_WHITESPACE","\n\t",518],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_STRING","apply_filters",519],"(",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'wpmu_validate_user_signup'",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$result",519],["T_WHITESPACE"," ",519],")",";",["T_WHITESPACE","\n",519],"}",["T_WHITESPACE","\n\n",520],["T_DOC_COMMENT","\/**\n * Processes new site registrations.\n *\n * Checks the data provided by the user during blog signup. Verifies\n * the validity and uniqueness of blog paths and domains.\n *\n * This function prevents the current user from registering a new site\n * with a blogname equivalent to another user's login name. Passing the\n * $user parameter to the function, where $user is the other user, is\n * effectively an override of this limitation.\n *\n * Filter {@see 'wpmu_validate_blog_signup'} if you want to modify\n * the way that WordPress validates new site signups.\n *\n * @since MU\n *\n * @global wpdb   $wpdb\n * @global string $domain\n *\n * @param string         $blogname   The blog name provided by the user. Must be unique.\n * @param string         $blog_title The blog title provided by the user.\n * @param WP_User|string $user       Optional. The user object to check against the new site name.\n * @return array Contains the new site data and error messages.\n *\/",522],["T_WHITESPACE","\n",545],["T_FUNCTION","function",546],["T_WHITESPACE"," ",546],["T_STRING","wpmu_validate_blog_signup",546],"(",["T_WHITESPACE"," ",546],["T_VARIABLE","$blogname",546],",",["T_WHITESPACE"," ",546],["T_VARIABLE","$blog_title",546],",",["T_WHITESPACE"," ",546],["T_VARIABLE","$user",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","''",546],["T_WHITESPACE"," ",546],")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n\t",546],["T_GLOBAL","global",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$wpdb",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$domain",547],";",["T_WHITESPACE","\n\n\t",547],["T_VARIABLE","$current_network",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_STRING","get_network",549],"(",")",";",["T_WHITESPACE","\n\t",549],["T_VARIABLE","$base",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$current_network",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","path",550],";",["T_WHITESPACE","\n\n\t",550],["T_VARIABLE","$blog_title",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_STRING","strip_tags",552],"(",["T_WHITESPACE"," ",552],["T_VARIABLE","$blog_title",552],["T_WHITESPACE"," ",552],")",";",["T_WHITESPACE","\n\n\t",552],["T_VARIABLE","$errors",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_NEW","new",554],["T_WHITESPACE"," ",554],["T_STRING","WP_Error",554],"(",")",";",["T_WHITESPACE","\n\t",554],["T_VARIABLE","$illegal_names",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","get_site_option",555],"(",["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'illegal_names'",555],["T_WHITESPACE"," ",555],")",";",["T_WHITESPACE","\n\t",555],["T_IF","if",556],["T_WHITESPACE"," ",556],"(",["T_WHITESPACE"," ",556],["T_VARIABLE","$illegal_names",556],["T_WHITESPACE"," ",556],["T_IS_EQUAL","==",556],["T_WHITESPACE"," ",556],["T_STRING","false",556],["T_WHITESPACE"," ",556],")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n\t\t",556],["T_VARIABLE","$illegal_names",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_ARRAY","array",557],"(",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'www'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'web'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'root'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'admin'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'main'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'invite'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'administrator'",557],["T_WHITESPACE"," ",557],")",";",["T_WHITESPACE","\n\t\t",557],["T_STRING","add_site_option",558],"(",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'illegal_names'",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$illegal_names",558],["T_WHITESPACE"," ",558],")",";",["T_WHITESPACE","\n\t",558],"}",["T_WHITESPACE","\n\n\t",559],["T_COMMENT","\/*\n\t * On sub dir installs, some names are so illegal, only a filter can\n\t * spring them from jail.\n\t *\/",561],["T_WHITESPACE","\n\t",564],["T_IF","if",565],["T_WHITESPACE"," ",565],"(",["T_WHITESPACE"," ",565],"!",["T_WHITESPACE"," ",565],["T_STRING","is_subdomain_install",565],"(",")",["T_WHITESPACE"," ",565],")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n\t\t",565],["T_VARIABLE","$illegal_names",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_STRING","array_merge",566],"(",["T_WHITESPACE"," ",566],["T_VARIABLE","$illegal_names",566],",",["T_WHITESPACE"," ",566],["T_STRING","get_subdirectory_reserved_names",566],"(",")",["T_WHITESPACE"," ",566],")",";",["T_WHITESPACE","\n\t",566],"}",["T_WHITESPACE","\n\n\t",567],["T_IF","if",569],["T_WHITESPACE"," ",569],"(",["T_WHITESPACE"," ",569],["T_EMPTY","empty",569],"(",["T_WHITESPACE"," ",569],["T_VARIABLE","$blogname",569],["T_WHITESPACE"," ",569],")",["T_WHITESPACE"," ",569],")",["T_WHITESPACE","\n\t\t",569],["T_VARIABLE","$errors",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","add",570],"(",["T_CONSTANT_ENCAPSED_STRING","'blogname'",570],",",["T_WHITESPACE"," ",570],["T_STRING","__",570],"(",["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","'Please enter a site name.'",570],["T_WHITESPACE"," ",570],")",["T_WHITESPACE"," ",570],")",";",["T_WHITESPACE","\n\n\t",570],["T_IF","if",572],["T_WHITESPACE"," ",572],"(",["T_WHITESPACE"," ",572],["T_STRING","preg_match",572],"(",["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'\/[^a-z0-9]+\/'",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$blogname",572],["T_WHITESPACE"," ",572],")",["T_WHITESPACE"," ",572],")",["T_WHITESPACE"," ",572],"{",["T_WHITESPACE","\n\t\t",572],["T_VARIABLE","$errors",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","add",573],"(",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","'blogname'",573],",",["T_WHITESPACE"," ",573],["T_STRING","__",573],"(",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","'Site names can only contain lowercase letters (a-z) and numbers.'",573],["T_WHITESPACE"," ",573],")",["T_WHITESPACE"," ",573],")",";",["T_WHITESPACE","\n\t",573],"}",["T_WHITESPACE","\n\n\t",574],["T_IF","if",576],["T_WHITESPACE"," ",576],"(",["T_WHITESPACE"," ",576],["T_STRING","in_array",576],"(",["T_WHITESPACE"," ",576],["T_VARIABLE","$blogname",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$illegal_names",576],["T_WHITESPACE"," ",576],")",["T_WHITESPACE"," ",576],")",["T_WHITESPACE","\n\t\t",576],["T_VARIABLE","$errors",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","add",577],"(",["T_CONSTANT_ENCAPSED_STRING","'blogname'",577],",",["T_WHITESPACE","  ",577],["T_STRING","__",577],"(",["T_WHITESPACE"," ",577],["T_CONSTANT_ENCAPSED_STRING","'That name is not allowed.'",577],["T_WHITESPACE"," ",577],")",["T_WHITESPACE"," ",577],")",";",["T_WHITESPACE","\n\n\t",577],["T_IF","if",579],["T_WHITESPACE"," ",579],"(",["T_WHITESPACE"," ",579],["T_STRING","strlen",579],"(",["T_WHITESPACE"," ",579],["T_VARIABLE","$blogname",579],["T_WHITESPACE"," ",579],")",["T_WHITESPACE"," ",579],"<",["T_WHITESPACE"," ",579],["T_LNUMBER","4",579],["T_WHITESPACE"," ",579],["T_BOOLEAN_AND","&&",579],["T_WHITESPACE"," ",579],"!",["T_STRING","is_super_admin",579],"(",")",["T_WHITESPACE"," ",579],")",["T_WHITESPACE","\n\t\t",579],["T_VARIABLE","$errors",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","add",580],"(",["T_CONSTANT_ENCAPSED_STRING","'blogname'",580],",",["T_WHITESPACE","  ",580],["T_STRING","__",580],"(",["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","'Site name must be at least 4 characters.'",580],["T_WHITESPACE"," ",580],")",["T_WHITESPACE"," ",580],")",";",["T_WHITESPACE","\n\n\t",580],["T_COMMENT","\/\/ do not allow users to create a blog that conflicts with a page on the main blog.\n",582],["T_WHITESPACE","\t",583],["T_IF","if",583],["T_WHITESPACE"," ",583],"(",["T_WHITESPACE"," ",583],"!",["T_STRING","is_subdomain_install",583],"(",")",["T_WHITESPACE"," ",583],["T_BOOLEAN_AND","&&",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$wpdb",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","get_var",583],"(",["T_WHITESPACE"," ",583],["T_VARIABLE","$wpdb",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","prepare",583],"(",["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","\"SELECT post_name FROM \"",583],["T_WHITESPACE"," ",583],".",["T_WHITESPACE"," ",583],["T_VARIABLE","$wpdb",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","get_blog_prefix",583],"(",["T_WHITESPACE"," ",583],["T_VARIABLE","$current_network",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","site_id",583],["T_WHITESPACE"," ",583],")",["T_WHITESPACE"," ",583],".",["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","\"posts WHERE post_type = 'page' AND post_name = %s\"",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$blogname",583],["T_WHITESPACE"," ",583],")",["T_WHITESPACE"," ",583],")",["T_WHITESPACE"," ",583],")",["T_WHITESPACE","\n\t\t",583],["T_VARIABLE","$errors",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","add",584],"(",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'blogname'",584],",",["T_WHITESPACE"," ",584],["T_STRING","__",584],"(",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'Sorry, you may not use that site name.'",584],["T_WHITESPACE"," ",584],")",["T_WHITESPACE"," ",584],")",";",["T_WHITESPACE","\n\n\t",584],["T_COMMENT","\/\/ all numeric?\n",586],["T_WHITESPACE","\t",587],["T_IF","if",587],["T_WHITESPACE"," ",587],"(",["T_WHITESPACE"," ",587],["T_STRING","preg_match",587],"(",["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]*$\/'",587],",",["T_WHITESPACE"," ",587],["T_VARIABLE","$blogname",587],["T_WHITESPACE"," ",587],")",["T_WHITESPACE"," ",587],")",["T_WHITESPACE","\n\t\t",587],["T_VARIABLE","$errors",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","add",588],"(",["T_CONSTANT_ENCAPSED_STRING","'blogname'",588],",",["T_WHITESPACE"," ",588],["T_STRING","__",588],"(",["T_CONSTANT_ENCAPSED_STRING","'Sorry, site names must have letters too!'",588],")",")",";",["T_WHITESPACE","\n\n\t",588],["T_DOC_COMMENT","\/**\n\t * Filters the new site name during registration.\n\t *\n\t * The name is the site's subdomain or the site's subdirectory\n\t * path depending on the network settings.\n\t *\n\t * @since MU\n\t *\n\t * @param string $blogname Site name.\n\t *\/",590],["T_WHITESPACE","\n\t",599],["T_VARIABLE","$blogname",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_STRING","apply_filters",600],"(",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'newblogname'",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$blogname",600],["T_WHITESPACE"," ",600],")",";",["T_WHITESPACE","\n\n\t",600],["T_VARIABLE","$blog_title",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_STRING","wp_unslash",602],"(",["T_WHITESPACE","  ",602],["T_VARIABLE","$blog_title",602],["T_WHITESPACE"," ",602],")",";",["T_WHITESPACE","\n\n\t",602],["T_IF","if",604],["T_WHITESPACE"," ",604],"(",["T_WHITESPACE"," ",604],["T_EMPTY","empty",604],"(",["T_WHITESPACE"," ",604],["T_VARIABLE","$blog_title",604],["T_WHITESPACE"," ",604],")",["T_WHITESPACE"," ",604],")",["T_WHITESPACE","\n\t\t",604],["T_VARIABLE","$errors",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","add",605],"(",["T_CONSTANT_ENCAPSED_STRING","'blog_title'",605],",",["T_WHITESPACE"," ",605],["T_STRING","__",605],"(",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'Please enter a site title.'",605],["T_WHITESPACE"," ",605],")",["T_WHITESPACE"," ",605],")",";",["T_WHITESPACE","\n\n\t",605],["T_COMMENT","\/\/ Check if the domain\/path has been used already.\n",607],["T_WHITESPACE","\t",608],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_WHITESPACE"," ",608],["T_STRING","is_subdomain_install",608],"(",")",["T_WHITESPACE"," ",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n\t\t",608],["T_VARIABLE","$mydomain",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$blogname",609],["T_WHITESPACE"," ",609],".",["T_WHITESPACE"," ",609],["T_CONSTANT_ENCAPSED_STRING","'.'",609],["T_WHITESPACE"," ",609],".",["T_WHITESPACE"," ",609],["T_STRING","preg_replace",609],"(",["T_WHITESPACE"," ",609],["T_CONSTANT_ENCAPSED_STRING","'|^www\\.|'",609],",",["T_WHITESPACE"," ",609],["T_CONSTANT_ENCAPSED_STRING","''",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$domain",609],["T_WHITESPACE"," ",609],")",";",["T_WHITESPACE","\n\t\t",609],["T_VARIABLE","$path",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],["T_VARIABLE","$base",610],";",["T_WHITESPACE","\n\t",610],"}",["T_WHITESPACE"," ",611],["T_ELSE","else",611],["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n\t\t",611],["T_VARIABLE","$mydomain",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],"\"",["T_VARIABLE","$domain",612],"\"",";",["T_WHITESPACE","\n\t\t",612],["T_VARIABLE","$path",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_VARIABLE","$base",613],".",["T_VARIABLE","$blogname",613],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",613],";",["T_WHITESPACE","\n\t",613],"}",["T_WHITESPACE","\n\t",614],["T_IF","if",615],["T_WHITESPACE"," ",615],"(",["T_WHITESPACE"," ",615],["T_STRING","domain_exists",615],"(",["T_VARIABLE","$mydomain",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$path",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$current_network",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","id",615],")",["T_WHITESPACE"," ",615],")",["T_WHITESPACE","\n\t\t",615],["T_VARIABLE","$errors",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","add",616],"(",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'blogname'",616],",",["T_WHITESPACE"," ",616],["T_STRING","__",616],"(",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'Sorry, that site already exists!'",616],["T_WHITESPACE"," ",616],")",["T_WHITESPACE"," ",616],")",";",["T_WHITESPACE","\n\n\t",616],["T_IF","if",618],["T_WHITESPACE"," ",618],"(",["T_WHITESPACE"," ",618],["T_STRING","username_exists",618],"(",["T_WHITESPACE"," ",618],["T_VARIABLE","$blogname",618],["T_WHITESPACE"," ",618],")",["T_WHITESPACE"," ",618],")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n\t\t",618],["T_IF","if",619],["T_WHITESPACE"," ",619],"(",["T_WHITESPACE"," ",619],"!",["T_WHITESPACE"," ",619],["T_STRING","is_object",619],"(",["T_WHITESPACE"," ",619],["T_VARIABLE","$user",619],["T_WHITESPACE"," ",619],")",["T_WHITESPACE"," ",619],["T_BOOLEAN_OR","||",619],["T_WHITESPACE"," ",619],"(",["T_WHITESPACE"," ",619],["T_STRING","is_object",619],"(",["T_VARIABLE","$user",619],")",["T_WHITESPACE"," ",619],["T_BOOLEAN_AND","&&",619],["T_WHITESPACE"," ",619],"(",["T_WHITESPACE"," ",619],["T_VARIABLE","$user",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","user_login",619],["T_WHITESPACE"," ",619],["T_IS_NOT_EQUAL","!=",619],["T_WHITESPACE"," ",619],["T_VARIABLE","$blogname",619],["T_WHITESPACE"," ",619],")",["T_WHITESPACE"," ",619],")",["T_WHITESPACE"," ",619],")",["T_WHITESPACE","\n\t\t\t",619],["T_VARIABLE","$errors",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","add",620],"(",["T_WHITESPACE"," ",620],["T_CONSTANT_ENCAPSED_STRING","'blogname'",620],",",["T_WHITESPACE"," ",620],["T_STRING","__",620],"(",["T_WHITESPACE"," ",620],["T_CONSTANT_ENCAPSED_STRING","'Sorry, that site is reserved!'",620],["T_WHITESPACE"," ",620],")",["T_WHITESPACE"," ",620],")",";",["T_WHITESPACE","\n\t",620],"}",["T_WHITESPACE","\n\n\t",621],["T_COMMENT","\/\/ Has someone already signed up for this domain?\n",623],["T_WHITESPACE","\t",624],["T_VARIABLE","$signup",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_VARIABLE","$wpdb",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","get_row",624],"(",["T_WHITESPACE"," ",624],["T_VARIABLE","$wpdb",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","prepare",624],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT * FROM ",624],["T_VARIABLE","$wpdb",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","signups",624],["T_ENCAPSED_AND_WHITESPACE"," WHERE domain = %s AND path = %s",624],"\"",",",["T_WHITESPACE"," ",624],["T_VARIABLE","$mydomain",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$path",624],")",["T_WHITESPACE"," ",624],")",";",["T_WHITESPACE"," ",624],["T_COMMENT","\/\/ TODO: Check email too?\n",624],["T_WHITESPACE","\t",625],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_WHITESPACE"," ",625],"!",["T_WHITESPACE"," ",625],["T_EMPTY","empty",625],"(",["T_VARIABLE","$signup",625],")",["T_WHITESPACE"," ",625],")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n\t\t",625],["T_VARIABLE","$diff",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_STRING","current_time",626],"(",["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",626],",",["T_WHITESPACE"," ",626],["T_STRING","true",626],["T_WHITESPACE"," ",626],")",["T_WHITESPACE"," ",626],"-",["T_WHITESPACE"," ",626],["T_STRING","mysql2date",626],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",626],",",["T_WHITESPACE"," ",626],["T_VARIABLE","$signup",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","registered",626],")",";",["T_WHITESPACE","\n\t\t",626],["T_COMMENT","\/\/ If registered more than two days ago, cancel registration and let this signup go through.\n",627],["T_WHITESPACE","\t\t",628],["T_IF","if",628],["T_WHITESPACE"," ",628],"(",["T_WHITESPACE"," ",628],["T_VARIABLE","$diff",628],["T_WHITESPACE"," ",628],">",["T_WHITESPACE"," ",628],["T_LNUMBER","2",628],["T_WHITESPACE"," ",628],"*",["T_WHITESPACE"," ",628],["T_STRING","DAY_IN_SECONDS",628],["T_WHITESPACE"," ",628],")",["T_WHITESPACE","\n\t\t\t",628],["T_VARIABLE","$wpdb",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","delete",629],"(",["T_WHITESPACE"," ",629],["T_VARIABLE","$wpdb",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","signups",629],",",["T_WHITESPACE"," ",629],["T_ARRAY","array",629],"(",["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","'domain'",629],["T_WHITESPACE"," ",629],["T_DOUBLE_ARROW","=>",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$mydomain",629],["T_WHITESPACE"," ",629],",",["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","'path'",629],["T_WHITESPACE"," ",629],["T_DOUBLE_ARROW","=>",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$path",629],["T_WHITESPACE"," ",629],")",["T_WHITESPACE"," ",629],")",";",["T_WHITESPACE","\n\t\t",629],["T_ELSE","else",630],["T_WHITESPACE","\n\t\t\t",630],["T_VARIABLE","$errors",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","add",631],"(",["T_CONSTANT_ENCAPSED_STRING","'blogname'",631],",",["T_WHITESPACE"," ",631],["T_STRING","__",631],"(",["T_CONSTANT_ENCAPSED_STRING","'That site is currently reserved but may be available in a couple days.'",631],")",")",";",["T_WHITESPACE","\n\t",631],"}",["T_WHITESPACE","\n\n\t",632],["T_VARIABLE","$result",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_ARRAY","array",634],"(",["T_CONSTANT_ENCAPSED_STRING","'domain'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$mydomain",634],",",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'path'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$path",634],",",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'blogname'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$blogname",634],",",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'blog_title'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$blog_title",634],",",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'user'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$user",634],",",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'errors'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$errors",634],")",";",["T_WHITESPACE","\n\n\t",634],["T_DOC_COMMENT","\/**\n\t * Filters site details and error messages following registration.\n\t *\n\t * @since MU\n\t *\n\t * @param array $result {\n\t *     Array of domain, path, blog name, blog title, user and error messages.\n\t *\n\t *     @type string         $domain     Domain for the site.\n\t *     @type string         $path       Path for the site. Used in subdirectory installs.\n\t *     @type string         $blogname   The unique site name (slug).\n\t *     @type string         $blog_title Blog title.\n\t *     @type string|WP_User $user       By default, an empty string. A user object if provided.\n\t *     @type WP_Error       $errors     WP_Error containing any errors found.\n\t * }\n\t *\/",636],["T_WHITESPACE","\n\t",651],["T_RETURN","return",652],["T_WHITESPACE"," ",652],["T_STRING","apply_filters",652],"(",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'wpmu_validate_blog_signup'",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$result",652],["T_WHITESPACE"," ",652],")",";",["T_WHITESPACE","\n",652],"}",["T_WHITESPACE","\n\n",653],["T_DOC_COMMENT","\/**\n * Record site signup information for future activation.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $domain     The requested domain.\n * @param string $path       The requested path.\n * @param string $title      The requested site title.\n * @param string $user       The user's requested login name.\n * @param string $user_email The user's email address.\n * @param array  $meta       Optional. Signup meta data. By default, contains the requested privacy setting and lang_id.\n *\/",655],["T_WHITESPACE","\n",668],["T_FUNCTION","function",669],["T_WHITESPACE"," ",669],["T_STRING","wpmu_signup_blog",669],"(",["T_WHITESPACE"," ",669],["T_VARIABLE","$domain",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$path",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$title",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$user",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$user_email",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$meta",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_ARRAY","array",669],"(",")",["T_WHITESPACE"," ",669],")",["T_WHITESPACE","  ",669],"{",["T_WHITESPACE","\n\t",669],["T_GLOBAL","global",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$wpdb",670],";",["T_WHITESPACE","\n\n\t",670],["T_VARIABLE","$key",672],["T_WHITESPACE"," ",672],"=",["T_WHITESPACE"," ",672],["T_STRING","substr",672],"(",["T_WHITESPACE"," ",672],["T_STRING","md5",672],"(",["T_WHITESPACE"," ",672],["T_STRING","time",672],"(",")",["T_WHITESPACE"," ",672],".",["T_WHITESPACE"," ",672],["T_STRING","wp_rand",672],"(",")",["T_WHITESPACE"," ",672],".",["T_WHITESPACE"," ",672],["T_VARIABLE","$domain",672],["T_WHITESPACE"," ",672],")",",",["T_WHITESPACE"," ",672],["T_LNUMBER","0",672],",",["T_WHITESPACE"," ",672],["T_LNUMBER","16",672],["T_WHITESPACE"," ",672],")",";",["T_WHITESPACE","\n\n\t",672],["T_DOC_COMMENT","\/**\n\t * Filters the metadata for a site signup.\n\t *\n\t * The metadata will be serialized prior to storing it in the database.\n\t *\n\t * @since 4.8.0\n\t *\n\t * @param array  $meta       Signup meta data. Default empty array.\n\t * @param string $domain     The requested domain.\n\t * @param string $path       The requested path.\n\t * @param string $title      The requested site title.\n\t * @param string $user       The user's requested login name.\n\t * @param string $user_email The user's email address.\n\t * @param string $key        The user's activation key.\n\t *\/",674],["T_WHITESPACE","\n\t",688],["T_VARIABLE","$meta",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_STRING","apply_filters",689],"(",["T_WHITESPACE"," ",689],["T_CONSTANT_ENCAPSED_STRING","'signup_site_meta'",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$meta",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$domain",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$path",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$title",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$user",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$user_email",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$key",689],["T_WHITESPACE"," ",689],")",";",["T_WHITESPACE","\n\n\t",689],["T_VARIABLE","$wpdb",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","insert",691],"(",["T_WHITESPACE"," ",691],["T_VARIABLE","$wpdb",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","signups",691],",",["T_WHITESPACE"," ",691],["T_ARRAY","array",691],"(",["T_WHITESPACE","\n\t\t",691],["T_CONSTANT_ENCAPSED_STRING","'domain'",692],["T_WHITESPACE"," ",692],["T_DOUBLE_ARROW","=>",692],["T_WHITESPACE"," ",692],["T_VARIABLE","$domain",692],",",["T_WHITESPACE","\n\t\t",692],["T_CONSTANT_ENCAPSED_STRING","'path'",693],["T_WHITESPACE"," ",693],["T_DOUBLE_ARROW","=>",693],["T_WHITESPACE"," ",693],["T_VARIABLE","$path",693],",",["T_WHITESPACE","\n\t\t",693],["T_CONSTANT_ENCAPSED_STRING","'title'",694],["T_WHITESPACE"," ",694],["T_DOUBLE_ARROW","=>",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$title",694],",",["T_WHITESPACE","\n\t\t",694],["T_CONSTANT_ENCAPSED_STRING","'user_login'",695],["T_WHITESPACE"," ",695],["T_DOUBLE_ARROW","=>",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$user",695],",",["T_WHITESPACE","\n\t\t",695],["T_CONSTANT_ENCAPSED_STRING","'user_email'",696],["T_WHITESPACE"," ",696],["T_DOUBLE_ARROW","=>",696],["T_WHITESPACE"," ",696],["T_VARIABLE","$user_email",696],",",["T_WHITESPACE","\n\t\t",696],["T_CONSTANT_ENCAPSED_STRING","'registered'",697],["T_WHITESPACE"," ",697],["T_DOUBLE_ARROW","=>",697],["T_WHITESPACE"," ",697],["T_STRING","current_time",697],"(",["T_CONSTANT_ENCAPSED_STRING","'mysql'",697],",",["T_WHITESPACE"," ",697],["T_STRING","true",697],")",",",["T_WHITESPACE","\n\t\t",697],["T_CONSTANT_ENCAPSED_STRING","'activation_key'",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],["T_VARIABLE","$key",698],",",["T_WHITESPACE","\n\t\t",698],["T_CONSTANT_ENCAPSED_STRING","'meta'",699],["T_WHITESPACE"," ",699],["T_DOUBLE_ARROW","=>",699],["T_WHITESPACE"," ",699],["T_STRING","serialize",699],"(",["T_WHITESPACE"," ",699],["T_VARIABLE","$meta",699],["T_WHITESPACE"," ",699],")",["T_WHITESPACE","\n\t",699],")",["T_WHITESPACE"," ",700],")",";",["T_WHITESPACE","\n\n\t",700],["T_DOC_COMMENT","\/**\n\t * Fires after site signup information has been written to the database.\n\t *\n\t * @since 4.4.0\n\t *\n\t * @param string $domain     The requested domain.\n\t * @param string $path       The requested path.\n\t * @param string $title      The requested site title.\n\t * @param string $user       The user's requested login name.\n\t * @param string $user_email The user's email address.\n\t * @param string $key        The user's activation key.\n\t * @param array  $meta       Signup meta data. By default, contains the requested privacy setting and lang_id.\n\t *\/",702],["T_WHITESPACE","\n\t",714],["T_STRING","do_action",715],"(",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","'after_signup_site'",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$domain",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$path",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$title",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$user",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$user_email",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$key",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$meta",715],["T_WHITESPACE"," ",715],")",";",["T_WHITESPACE","\n",715],"}",["T_WHITESPACE","\n\n",716],["T_DOC_COMMENT","\/**\n * Record user signup information for future activation.\n *\n * This function is used when user registration is open but\n * new site registration is not.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $user       The user's requested login name.\n * @param string $user_email The user's email address.\n * @param array  $meta       Optional. Signup meta data. Default empty array.\n *\/",718],["T_WHITESPACE","\n",731],["T_FUNCTION","function",732],["T_WHITESPACE"," ",732],["T_STRING","wpmu_signup_user",732],"(",["T_WHITESPACE"," ",732],["T_VARIABLE","$user",732],",",["T_WHITESPACE"," ",732],["T_VARIABLE","$user_email",732],",",["T_WHITESPACE"," ",732],["T_VARIABLE","$meta",732],["T_WHITESPACE"," ",732],"=",["T_WHITESPACE"," ",732],["T_ARRAY","array",732],"(",")",["T_WHITESPACE"," ",732],")",["T_WHITESPACE"," ",732],"{",["T_WHITESPACE","\n\t",732],["T_GLOBAL","global",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$wpdb",733],";",["T_WHITESPACE","\n\n\t",733],["T_COMMENT","\/\/ Format data\n",735],["T_WHITESPACE","\t",736],["T_VARIABLE","$user",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_STRING","preg_replace",736],"(",["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",736],",",["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","''",736],",",["T_WHITESPACE"," ",736],["T_STRING","sanitize_user",736],"(",["T_WHITESPACE"," ",736],["T_VARIABLE","$user",736],",",["T_WHITESPACE"," ",736],["T_STRING","true",736],["T_WHITESPACE"," ",736],")",["T_WHITESPACE"," ",736],")",";",["T_WHITESPACE","\n\t",736],["T_VARIABLE","$user_email",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_STRING","sanitize_email",737],"(",["T_WHITESPACE"," ",737],["T_VARIABLE","$user_email",737],["T_WHITESPACE"," ",737],")",";",["T_WHITESPACE","\n\t",737],["T_VARIABLE","$key",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","substr",738],"(",["T_WHITESPACE"," ",738],["T_STRING","md5",738],"(",["T_WHITESPACE"," ",738],["T_STRING","time",738],"(",")",["T_WHITESPACE"," ",738],".",["T_WHITESPACE"," ",738],["T_STRING","wp_rand",738],"(",")",["T_WHITESPACE"," ",738],".",["T_WHITESPACE"," ",738],["T_VARIABLE","$user_email",738],["T_WHITESPACE"," ",738],")",",",["T_WHITESPACE"," ",738],["T_LNUMBER","0",738],",",["T_WHITESPACE"," ",738],["T_LNUMBER","16",738],["T_WHITESPACE"," ",738],")",";",["T_WHITESPACE","\n\n\t",738],["T_DOC_COMMENT","\/**\n\t * Filters the metadata for a user signup.\n\t *\n\t * The metadata will be serialized prior to storing it in the database.\n\t *\n\t * @since 4.8.0\n\t *\n\t * @param array  $meta       Signup meta data. Default empty array.\n\t * @param string $user       The user's requested login name.\n\t * @param string $user_email The user's email address.\n\t * @param string $key        The user's activation key.\n\t *\/",740],["T_WHITESPACE","\n\t",751],["T_VARIABLE","$meta",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_STRING","apply_filters",752],"(",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'signup_user_meta'",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$meta",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$user",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$user_email",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$key",752],["T_WHITESPACE"," ",752],")",";",["T_WHITESPACE","\n\n\t",752],["T_VARIABLE","$wpdb",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","insert",754],"(",["T_WHITESPACE"," ",754],["T_VARIABLE","$wpdb",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","signups",754],",",["T_WHITESPACE"," ",754],["T_ARRAY","array",754],"(",["T_WHITESPACE","\n\t\t",754],["T_CONSTANT_ENCAPSED_STRING","'domain'",755],["T_WHITESPACE"," ",755],["T_DOUBLE_ARROW","=>",755],["T_WHITESPACE"," ",755],["T_CONSTANT_ENCAPSED_STRING","''",755],",",["T_WHITESPACE","\n\t\t",755],["T_CONSTANT_ENCAPSED_STRING","'path'",756],["T_WHITESPACE"," ",756],["T_DOUBLE_ARROW","=>",756],["T_WHITESPACE"," ",756],["T_CONSTANT_ENCAPSED_STRING","''",756],",",["T_WHITESPACE","\n\t\t",756],["T_CONSTANT_ENCAPSED_STRING","'title'",757],["T_WHITESPACE"," ",757],["T_DOUBLE_ARROW","=>",757],["T_WHITESPACE"," ",757],["T_CONSTANT_ENCAPSED_STRING","''",757],",",["T_WHITESPACE","\n\t\t",757],["T_CONSTANT_ENCAPSED_STRING","'user_login'",758],["T_WHITESPACE"," ",758],["T_DOUBLE_ARROW","=>",758],["T_WHITESPACE"," ",758],["T_VARIABLE","$user",758],",",["T_WHITESPACE","\n\t\t",758],["T_CONSTANT_ENCAPSED_STRING","'user_email'",759],["T_WHITESPACE"," ",759],["T_DOUBLE_ARROW","=>",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$user_email",759],",",["T_WHITESPACE","\n\t\t",759],["T_CONSTANT_ENCAPSED_STRING","'registered'",760],["T_WHITESPACE"," ",760],["T_DOUBLE_ARROW","=>",760],["T_WHITESPACE"," ",760],["T_STRING","current_time",760],"(",["T_CONSTANT_ENCAPSED_STRING","'mysql'",760],",",["T_WHITESPACE"," ",760],["T_STRING","true",760],")",",",["T_WHITESPACE","\n\t\t",760],["T_CONSTANT_ENCAPSED_STRING","'activation_key'",761],["T_WHITESPACE"," ",761],["T_DOUBLE_ARROW","=>",761],["T_WHITESPACE"," ",761],["T_VARIABLE","$key",761],",",["T_WHITESPACE","\n\t\t",761],["T_CONSTANT_ENCAPSED_STRING","'meta'",762],["T_WHITESPACE"," ",762],["T_DOUBLE_ARROW","=>",762],["T_WHITESPACE"," ",762],["T_STRING","serialize",762],"(",["T_WHITESPACE"," ",762],["T_VARIABLE","$meta",762],["T_WHITESPACE"," ",762],")",["T_WHITESPACE","\n\t",762],")",["T_WHITESPACE"," ",763],")",";",["T_WHITESPACE","\n\n\t",763],["T_DOC_COMMENT","\/**\n\t * Fires after a user's signup information has been written to the database.\n\t *\n\t * @since 4.4.0\n\t *\n\t * @param string $user       The user's requested login name.\n\t * @param string $user_email The user's email address.\n\t * @param string $key        The user's activation key.\n\t * @param array  $meta       Signup meta data. Default empty array.\n\t *\/",765],["T_WHITESPACE","\n\t",774],["T_STRING","do_action",775],"(",["T_WHITESPACE"," ",775],["T_CONSTANT_ENCAPSED_STRING","'after_signup_user'",775],",",["T_WHITESPACE"," ",775],["T_VARIABLE","$user",775],",",["T_WHITESPACE"," ",775],["T_VARIABLE","$user_email",775],",",["T_WHITESPACE"," ",775],["T_VARIABLE","$key",775],",",["T_WHITESPACE"," ",775],["T_VARIABLE","$meta",775],["T_WHITESPACE"," ",775],")",";",["T_WHITESPACE","\n",775],"}",["T_WHITESPACE","\n\n",776],["T_DOC_COMMENT","\/**\n * Notify user of signup success.\n *\n * This is the notification function used when site registration\n * is enabled.\n *\n * Filter {@see 'wpmu_signup_blog_notification'} to bypass this function or\n * replace it with your own notification behavior.\n *\n * Filter {@see 'wpmu_signup_blog_notification_email'} and\n * {@see 'wpmu_signup_blog_notification_subject'} to change the content\n * and subject line of the email sent to newly registered users.\n *\n * @since MU\n *\n * @param string $domain     The new blog domain.\n * @param string $path       The new blog path.\n * @param string $title      The site title.\n * @param string $user_login The user's login name.\n * @param string $user_email The user's email address.\n * @param string $key        The activation key created in wpmu_signup_blog()\n * @param array  $meta       Optional. Signup meta data. By default, contains the requested privacy setting and lang_id.\n * @return bool\n *\/",778],["T_WHITESPACE","\n",801],["T_FUNCTION","function",802],["T_WHITESPACE"," ",802],["T_STRING","wpmu_signup_blog_notification",802],"(",["T_WHITESPACE"," ",802],["T_VARIABLE","$domain",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$path",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$title",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$user_login",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$user_email",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$key",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$meta",802],["T_WHITESPACE"," ",802],"=",["T_WHITESPACE"," ",802],["T_ARRAY","array",802],"(",")",["T_WHITESPACE"," ",802],")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n\t",802],["T_DOC_COMMENT","\/**\n\t * Filters whether to bypass the new site email notification.\n\t *\n\t * @since MU\n\t *\n\t * @param string|bool $domain     Site domain.\n\t * @param string      $path       Site path.\n\t * @param string      $title      Site title.\n\t * @param string      $user_login User login name.\n\t * @param string      $user_email User email address.\n\t * @param string      $key        Activation key created in wpmu_signup_blog().\n\t * @param array       $meta       Signup meta data. By default, contains the requested privacy setting and lang_id.\n\t *\/",803],["T_WHITESPACE","\n\t",815],["T_IF","if",816],["T_WHITESPACE"," ",816],"(",["T_WHITESPACE"," ",816],"!",["T_WHITESPACE"," ",816],["T_STRING","apply_filters",816],"(",["T_WHITESPACE"," ",816],["T_CONSTANT_ENCAPSED_STRING","'wpmu_signup_blog_notification'",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$domain",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$path",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$title",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$user_login",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$user_email",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$key",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$meta",816],["T_WHITESPACE"," ",816],")",["T_WHITESPACE"," ",816],")",["T_WHITESPACE"," ",816],"{",["T_WHITESPACE","\n\t\t",816],["T_RETURN","return",817],["T_WHITESPACE"," ",817],["T_STRING","false",817],";",["T_WHITESPACE","\n\t",817],"}",["T_WHITESPACE","\n\n\t",818],["T_COMMENT","\/\/ Send email with activation link.\n",820],["T_WHITESPACE","\t",821],["T_IF","if",821],["T_WHITESPACE"," ",821],"(",["T_WHITESPACE"," ",821],"!",["T_STRING","is_subdomain_install",821],"(",")",["T_WHITESPACE"," ",821],["T_BOOLEAN_OR","||",821],["T_WHITESPACE"," ",821],["T_STRING","get_current_network_id",821],"(",")",["T_WHITESPACE"," ",821],["T_IS_NOT_EQUAL","!=",821],["T_WHITESPACE"," ",821],["T_LNUMBER","1",821],["T_WHITESPACE"," ",821],")",["T_WHITESPACE","\n\t\t",821],["T_VARIABLE","$activate_url",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_STRING","network_site_url",822],"(","\"",["T_ENCAPSED_AND_WHITESPACE","wp-activate.php?key=",822],["T_VARIABLE","$key",822],"\"",")",";",["T_WHITESPACE","\n\t",822],["T_ELSE","else",823],["T_WHITESPACE","\n\t\t",823],["T_VARIABLE","$activate_url",824],["T_WHITESPACE"," ",824],"=",["T_WHITESPACE"," ",824],"\"",["T_ENCAPSED_AND_WHITESPACE","http:\/\/",824],["T_CURLY_OPEN","{",824],["T_VARIABLE","$domain",824],"}",["T_CURLY_OPEN","{",824],["T_VARIABLE","$path",824],"}",["T_ENCAPSED_AND_WHITESPACE","wp-activate.php?key=",824],["T_VARIABLE","$key",824],"\"",";",["T_WHITESPACE"," ",824],["T_COMMENT","\/\/ @todo use *_url() API\n",824],["T_WHITESPACE","\n\t",825],["T_VARIABLE","$activate_url",826],["T_WHITESPACE"," ",826],"=",["T_WHITESPACE"," ",826],["T_STRING","esc_url",826],"(",["T_VARIABLE","$activate_url",826],")",";",["T_WHITESPACE","\n\t",826],["T_VARIABLE","$admin_email",827],["T_WHITESPACE"," ",827],"=",["T_WHITESPACE"," ",827],["T_STRING","get_site_option",827],"(",["T_WHITESPACE"," ",827],["T_CONSTANT_ENCAPSED_STRING","'admin_email'",827],["T_WHITESPACE"," ",827],")",";",["T_WHITESPACE","\n\t",827],["T_IF","if",828],["T_WHITESPACE"," ",828],"(",["T_WHITESPACE"," ",828],["T_VARIABLE","$admin_email",828],["T_WHITESPACE"," ",828],["T_IS_EQUAL","==",828],["T_WHITESPACE"," ",828],["T_CONSTANT_ENCAPSED_STRING","''",828],["T_WHITESPACE"," ",828],")",["T_WHITESPACE","\n\t\t",828],["T_VARIABLE","$admin_email",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","'support@'",829],["T_WHITESPACE"," ",829],".",["T_WHITESPACE"," ",829],["T_VARIABLE","$_SERVER",829],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",829],"]",";",["T_WHITESPACE","\n\t",829],["T_VARIABLE","$from_name",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_STRING","get_site_option",830],"(",["T_WHITESPACE"," ",830],["T_CONSTANT_ENCAPSED_STRING","'site_name'",830],["T_WHITESPACE"," ",830],")",["T_WHITESPACE"," ",830],["T_IS_EQUAL","==",830],["T_WHITESPACE"," ",830],["T_CONSTANT_ENCAPSED_STRING","''",830],["T_WHITESPACE"," ",830],"?",["T_WHITESPACE"," ",830],["T_CONSTANT_ENCAPSED_STRING","'WordPress'",830],["T_WHITESPACE"," ",830],":",["T_WHITESPACE"," ",830],["T_STRING","esc_html",830],"(",["T_WHITESPACE"," ",830],["T_STRING","get_site_option",830],"(",["T_WHITESPACE"," ",830],["T_CONSTANT_ENCAPSED_STRING","'site_name'",830],["T_WHITESPACE"," ",830],")",["T_WHITESPACE"," ",830],")",";",["T_WHITESPACE","\n\t",830],["T_VARIABLE","$message_headers",831],["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],"\"",["T_ENCAPSED_AND_WHITESPACE","From: \\\"",831],["T_CURLY_OPEN","{",831],["T_VARIABLE","$from_name",831],"}",["T_ENCAPSED_AND_WHITESPACE","\\\" <",831],["T_CURLY_OPEN","{",831],["T_VARIABLE","$admin_email",831],"}",["T_ENCAPSED_AND_WHITESPACE",">\\n",831],"\"",["T_WHITESPACE"," ",831],".",["T_WHITESPACE"," ",831],["T_CONSTANT_ENCAPSED_STRING","\"Content-Type: text\/plain; charset=\\\"\"",831],["T_WHITESPACE"," ",831],".",["T_WHITESPACE"," ",831],["T_STRING","get_option",831],"(",["T_CONSTANT_ENCAPSED_STRING","'blog_charset'",831],")",["T_WHITESPACE"," ",831],".",["T_WHITESPACE"," ",831],["T_CONSTANT_ENCAPSED_STRING","\"\\\"\\n\"",831],";",["T_WHITESPACE","\n\n\t",831],["T_VARIABLE","$user",833],["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_STRING","get_user_by",833],"(",["T_WHITESPACE"," ",833],["T_CONSTANT_ENCAPSED_STRING","'login'",833],",",["T_WHITESPACE"," ",833],["T_VARIABLE","$user_login",833],["T_WHITESPACE"," ",833],")",";",["T_WHITESPACE","\n\t",833],["T_VARIABLE","$switched_locale",834],["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_STRING","switch_to_locale",834],"(",["T_WHITESPACE"," ",834],["T_STRING","get_user_locale",834],"(",["T_WHITESPACE"," ",834],["T_VARIABLE","$user",834],["T_WHITESPACE"," ",834],")",["T_WHITESPACE"," ",834],")",";",["T_WHITESPACE","\n\n\t",834],["T_VARIABLE","$message",836],["T_WHITESPACE"," ",836],"=",["T_WHITESPACE"," ",836],["T_STRING","sprintf",836],"(",["T_WHITESPACE","\n\t\t",836],["T_DOC_COMMENT","\/**\n\t\t * Filters the message content of the new blog notification email.\n\t\t *\n\t\t * Content should be formatted for transmission via wp_mail().\n\t\t *\n\t\t * @since MU\n\t\t *\n\t\t * @param string $content    Content of the notification email.\n\t\t * @param string $domain     Site domain.\n\t\t * @param string $path       Site path.\n\t\t * @param string $title      Site title.\n\t\t * @param string $user_login User login name.\n\t\t * @param string $user_email User email address.\n\t\t * @param string $key        Activation key created in wpmu_signup_blog().\n\t\t * @param array  $meta       Signup meta data. By default, contains the requested privacy setting and lang_id.\n\t\t *\/",837],["T_WHITESPACE","\n\t\t",852],["T_STRING","apply_filters",853],"(",["T_WHITESPACE"," ",853],["T_CONSTANT_ENCAPSED_STRING","'wpmu_signup_blog_notification_email'",853],",",["T_WHITESPACE","\n\t\t\t",853],["T_STRING","__",854],"(",["T_WHITESPACE"," ",854],["T_CONSTANT_ENCAPSED_STRING","\"To activate your blog, please click the following link:\\n\\n%s\\n\\nAfter you activate, you will receive *another email* with your login.\\n\\nAfter you activate, you can visit your site here:\\n\\n%s\"",854],["T_WHITESPACE"," ",854],")",",",["T_WHITESPACE","\n\t\t\t",854],["T_VARIABLE","$domain",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$path",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$title",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$user_login",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$user_email",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$key",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$meta",855],["T_WHITESPACE","\n\t\t",855],")",",",["T_WHITESPACE","\n\t\t",856],["T_VARIABLE","$activate_url",857],",",["T_WHITESPACE","\n\t\t",857],["T_STRING","esc_url",858],"(",["T_WHITESPACE"," ",858],"\"",["T_ENCAPSED_AND_WHITESPACE","http:\/\/",858],["T_CURLY_OPEN","{",858],["T_VARIABLE","$domain",858],"}",["T_CURLY_OPEN","{",858],["T_VARIABLE","$path",858],"}","\"",["T_WHITESPACE"," ",858],")",",",["T_WHITESPACE","\n\t\t",858],["T_VARIABLE","$key",859],["T_WHITESPACE","\n\t",859],")",";",["T_WHITESPACE","\n\t",860],["T_COMMENT","\/\/ TODO: Don't hard code activation link.\n",861],["T_WHITESPACE","\t",862],["T_VARIABLE","$subject",862],["T_WHITESPACE"," ",862],"=",["T_WHITESPACE"," ",862],["T_STRING","sprintf",862],"(",["T_WHITESPACE","\n\t\t",862],["T_DOC_COMMENT","\/**\n\t\t * Filters the subject of the new blog notification email.\n\t\t *\n\t\t * @since MU\n\t\t *\n\t\t * @param string $subject    Subject of the notification email.\n\t\t * @param string $domain     Site domain.\n\t\t * @param string $path       Site path.\n\t\t * @param string $title      Site title.\n\t\t * @param string $user_login User login name.\n\t\t * @param string $user_email User email address.\n\t\t * @param string $key        Activation key created in wpmu_signup_blog().\n\t\t * @param array  $meta       Signup meta data. By default, contains the requested privacy setting and lang_id.\n\t\t *\/",863],["T_WHITESPACE","\n\t\t",876],["T_STRING","apply_filters",877],"(",["T_WHITESPACE"," ",877],["T_CONSTANT_ENCAPSED_STRING","'wpmu_signup_blog_notification_subject'",877],",",["T_WHITESPACE","\n\t\t\t",877],["T_COMMENT","\/* translators: New site notification email subject. 1: Network name, 2: New site URL *\/",878],["T_WHITESPACE","\n\t\t\t",878],["T_STRING","_x",879],"(",["T_WHITESPACE"," ",879],["T_CONSTANT_ENCAPSED_STRING","'[%1$s] Activate %2$s'",879],",",["T_WHITESPACE"," ",879],["T_CONSTANT_ENCAPSED_STRING","'New site notification email subject'",879],["T_WHITESPACE"," ",879],")",",",["T_WHITESPACE","\n\t\t\t",879],["T_VARIABLE","$domain",880],",",["T_WHITESPACE"," ",880],["T_VARIABLE","$path",880],",",["T_WHITESPACE"," ",880],["T_VARIABLE","$title",880],",",["T_WHITESPACE"," ",880],["T_VARIABLE","$user_login",880],",",["T_WHITESPACE"," ",880],["T_VARIABLE","$user_email",880],",",["T_WHITESPACE"," ",880],["T_VARIABLE","$key",880],",",["T_WHITESPACE"," ",880],["T_VARIABLE","$meta",880],["T_WHITESPACE","\n\t\t",880],")",",",["T_WHITESPACE","\n\t\t",881],["T_VARIABLE","$from_name",882],",",["T_WHITESPACE","\n\t\t",882],["T_STRING","esc_url",883],"(",["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",883],["T_WHITESPACE"," ",883],".",["T_WHITESPACE"," ",883],["T_VARIABLE","$domain",883],["T_WHITESPACE"," ",883],".",["T_WHITESPACE"," ",883],["T_VARIABLE","$path",883],["T_WHITESPACE"," ",883],")",["T_WHITESPACE","\n\t",883],")",";",["T_WHITESPACE","\n\t",884],["T_STRING","wp_mail",885],"(",["T_WHITESPACE"," ",885],["T_VARIABLE","$user_email",885],",",["T_WHITESPACE"," ",885],["T_STRING","wp_specialchars_decode",885],"(",["T_WHITESPACE"," ",885],["T_VARIABLE","$subject",885],["T_WHITESPACE"," ",885],")",",",["T_WHITESPACE"," ",885],["T_VARIABLE","$message",885],",",["T_WHITESPACE"," ",885],["T_VARIABLE","$message_headers",885],["T_WHITESPACE"," ",885],")",";",["T_WHITESPACE","\n\n\t",885],["T_IF","if",887],["T_WHITESPACE"," ",887],"(",["T_WHITESPACE"," ",887],["T_VARIABLE","$switched_locale",887],["T_WHITESPACE"," ",887],")",["T_WHITESPACE"," ",887],"{",["T_WHITESPACE","\n\t\t",887],["T_STRING","restore_previous_locale",888],"(",")",";",["T_WHITESPACE","\n\t",888],"}",["T_WHITESPACE","\n\n\t",889],["T_RETURN","return",891],["T_WHITESPACE"," ",891],["T_STRING","true",891],";",["T_WHITESPACE","\n",891],"}",["T_WHITESPACE","\n\n",892],["T_DOC_COMMENT","\/**\n * Notify user of signup success.\n *\n * This is the notification function used when no new site has\n * been requested.\n *\n * Filter {@see 'wpmu_signup_user_notification'} to bypass this function or\n * replace it with your own notification behavior.\n *\n * Filter {@see 'wpmu_signup_user_notification_email'} and\n * {@see 'wpmu_signup_user_notification_subject'} to change the content\n * and subject line of the email sent to newly registered users.\n *\n * @since MU\n *\n * @param string $user_login The user's login name.\n * @param string $user_email The user's email address.\n * @param string $key        The activation key created in wpmu_signup_user()\n * @param array  $meta       Optional. Signup meta data. Default empty array.\n * @return bool\n *\/",894],["T_WHITESPACE","\n",914],["T_FUNCTION","function",915],["T_WHITESPACE"," ",915],["T_STRING","wpmu_signup_user_notification",915],"(",["T_WHITESPACE"," ",915],["T_VARIABLE","$user_login",915],",",["T_WHITESPACE"," ",915],["T_VARIABLE","$user_email",915],",",["T_WHITESPACE"," ",915],["T_VARIABLE","$key",915],",",["T_WHITESPACE"," ",915],["T_VARIABLE","$meta",915],["T_WHITESPACE"," ",915],"=",["T_WHITESPACE"," ",915],["T_ARRAY","array",915],"(",")",["T_WHITESPACE"," ",915],")",["T_WHITESPACE"," ",915],"{",["T_WHITESPACE","\n\t",915],["T_DOC_COMMENT","\/**\n\t * Filters whether to bypass the email notification for new user sign-up.\n\t *\n\t * @since MU\n\t *\n\t * @param string $user_login User login name.\n\t * @param string $user_email User email address.\n\t * @param string $key        Activation key created in wpmu_signup_user().\n\t * @param array  $meta       Signup meta data. Default empty array.\n\t *\/",916],["T_WHITESPACE","\n\t",925],["T_IF","if",926],["T_WHITESPACE"," ",926],"(",["T_WHITESPACE"," ",926],"!",["T_WHITESPACE"," ",926],["T_STRING","apply_filters",926],"(",["T_WHITESPACE"," ",926],["T_CONSTANT_ENCAPSED_STRING","'wpmu_signup_user_notification'",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$user_login",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$user_email",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$key",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$meta",926],["T_WHITESPACE"," ",926],")",["T_WHITESPACE"," ",926],")",["T_WHITESPACE","\n\t\t",926],["T_RETURN","return",927],["T_WHITESPACE"," ",927],["T_STRING","false",927],";",["T_WHITESPACE","\n\n\t",927],["T_VARIABLE","$user",929],["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],["T_STRING","get_user_by",929],"(",["T_WHITESPACE"," ",929],["T_CONSTANT_ENCAPSED_STRING","'login'",929],",",["T_WHITESPACE"," ",929],["T_VARIABLE","$user_login",929],["T_WHITESPACE"," ",929],")",";",["T_WHITESPACE","\n\t",929],["T_VARIABLE","$switched_locale",930],["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_STRING","switch_to_locale",930],"(",["T_WHITESPACE"," ",930],["T_STRING","get_user_locale",930],"(",["T_WHITESPACE"," ",930],["T_VARIABLE","$user",930],["T_WHITESPACE"," ",930],")",["T_WHITESPACE"," ",930],")",";",["T_WHITESPACE","\n\n\t",930],["T_COMMENT","\/\/ Send email with activation link.\n",932],["T_WHITESPACE","\t",933],["T_VARIABLE","$admin_email",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_STRING","get_site_option",933],"(",["T_WHITESPACE"," ",933],["T_CONSTANT_ENCAPSED_STRING","'admin_email'",933],["T_WHITESPACE"," ",933],")",";",["T_WHITESPACE","\n\t",933],["T_IF","if",934],["T_WHITESPACE"," ",934],"(",["T_WHITESPACE"," ",934],["T_VARIABLE","$admin_email",934],["T_WHITESPACE"," ",934],["T_IS_EQUAL","==",934],["T_WHITESPACE"," ",934],["T_CONSTANT_ENCAPSED_STRING","''",934],["T_WHITESPACE"," ",934],")",["T_WHITESPACE","\n\t\t",934],["T_VARIABLE","$admin_email",935],["T_WHITESPACE"," ",935],"=",["T_WHITESPACE"," ",935],["T_CONSTANT_ENCAPSED_STRING","'support@'",935],["T_WHITESPACE"," ",935],".",["T_WHITESPACE"," ",935],["T_VARIABLE","$_SERVER",935],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",935],"]",";",["T_WHITESPACE","\n\t",935],["T_VARIABLE","$from_name",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_STRING","get_site_option",936],"(",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'site_name'",936],["T_WHITESPACE"," ",936],")",["T_WHITESPACE"," ",936],["T_IS_EQUAL","==",936],["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","''",936],["T_WHITESPACE"," ",936],"?",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'WordPress'",936],["T_WHITESPACE"," ",936],":",["T_WHITESPACE"," ",936],["T_STRING","esc_html",936],"(",["T_WHITESPACE"," ",936],["T_STRING","get_site_option",936],"(",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'site_name'",936],["T_WHITESPACE"," ",936],")",["T_WHITESPACE"," ",936],")",";",["T_WHITESPACE","\n\t",936],["T_VARIABLE","$message_headers",937],["T_WHITESPACE"," ",937],"=",["T_WHITESPACE"," ",937],"\"",["T_ENCAPSED_AND_WHITESPACE","From: \\\"",937],["T_CURLY_OPEN","{",937],["T_VARIABLE","$from_name",937],"}",["T_ENCAPSED_AND_WHITESPACE","\\\" <",937],["T_CURLY_OPEN","{",937],["T_VARIABLE","$admin_email",937],"}",["T_ENCAPSED_AND_WHITESPACE",">\\n",937],"\"",["T_WHITESPACE"," ",937],".",["T_WHITESPACE"," ",937],["T_CONSTANT_ENCAPSED_STRING","\"Content-Type: text\/plain; charset=\\\"\"",937],["T_WHITESPACE"," ",937],".",["T_WHITESPACE"," ",937],["T_STRING","get_option",937],"(",["T_CONSTANT_ENCAPSED_STRING","'blog_charset'",937],")",["T_WHITESPACE"," ",937],".",["T_WHITESPACE"," ",937],["T_CONSTANT_ENCAPSED_STRING","\"\\\"\\n\"",937],";",["T_WHITESPACE","\n\t",937],["T_VARIABLE","$message",938],["T_WHITESPACE"," ",938],"=",["T_WHITESPACE"," ",938],["T_STRING","sprintf",938],"(",["T_WHITESPACE","\n\t\t",938],["T_DOC_COMMENT","\/**\n\t\t * Filters the content of the notification email for new user sign-up.\n\t\t *\n\t\t * Content should be formatted for transmission via wp_mail().\n\t\t *\n\t\t * @since MU\n\t\t *\n\t\t * @param string $content    Content of the notification email.\n\t\t * @param string $user_login User login name.\n\t\t * @param string $user_email User email address.\n\t\t * @param string $key        Activation key created in wpmu_signup_user().\n\t\t * @param array  $meta       Signup meta data. Default empty array.\n\t\t *\/",939],["T_WHITESPACE","\n\t\t",951],["T_STRING","apply_filters",952],"(",["T_WHITESPACE"," ",952],["T_CONSTANT_ENCAPSED_STRING","'wpmu_signup_user_notification_email'",952],",",["T_WHITESPACE","\n\t\t\t",952],["T_STRING","__",953],"(",["T_WHITESPACE"," ",953],["T_CONSTANT_ENCAPSED_STRING","\"To activate your user, please click the following link:\\n\\n%s\\n\\nAfter you activate, you will receive *another email* with your login.\"",953],["T_WHITESPACE"," ",953],")",",",["T_WHITESPACE","\n\t\t\t",953],["T_VARIABLE","$user_login",954],",",["T_WHITESPACE"," ",954],["T_VARIABLE","$user_email",954],",",["T_WHITESPACE"," ",954],["T_VARIABLE","$key",954],",",["T_WHITESPACE"," ",954],["T_VARIABLE","$meta",954],["T_WHITESPACE","\n\t\t",954],")",",",["T_WHITESPACE","\n\t\t",955],["T_STRING","site_url",956],"(",["T_WHITESPACE"," ",956],"\"",["T_ENCAPSED_AND_WHITESPACE","wp-activate.php?key=",956],["T_VARIABLE","$key",956],"\"",["T_WHITESPACE"," ",956],")",["T_WHITESPACE","\n\t",956],")",";",["T_WHITESPACE","\n\t",957],["T_COMMENT","\/\/ TODO: Don't hard code activation link.\n",958],["T_WHITESPACE","\t",959],["T_VARIABLE","$subject",959],["T_WHITESPACE"," ",959],"=",["T_WHITESPACE"," ",959],["T_STRING","sprintf",959],"(",["T_WHITESPACE","\n\t\t",959],["T_DOC_COMMENT","\/**\n\t\t * Filters the subject of the notification email of new user signup.\n\t\t *\n\t\t * @since MU\n\t\t *\n\t\t * @param string $subject    Subject of the notification email.\n\t\t * @param string $user_login User login name.\n\t\t * @param string $user_email User email address.\n\t\t * @param string $key        Activation key created in wpmu_signup_user().\n\t\t * @param array  $meta       Signup meta data. Default empty array.\n\t\t *\/",960],["T_WHITESPACE","\n\t\t",970],["T_STRING","apply_filters",971],"(",["T_WHITESPACE"," ",971],["T_CONSTANT_ENCAPSED_STRING","'wpmu_signup_user_notification_subject'",971],",",["T_WHITESPACE","\n\t\t\t",971],["T_COMMENT","\/* translators: New user notification email subject. 1: Network name, 2: New user login *\/",972],["T_WHITESPACE","\n\t\t\t",972],["T_STRING","_x",973],"(",["T_WHITESPACE"," ",973],["T_CONSTANT_ENCAPSED_STRING","'[%1$s] Activate %2$s'",973],",",["T_WHITESPACE"," ",973],["T_CONSTANT_ENCAPSED_STRING","'New user notification email subject'",973],["T_WHITESPACE"," ",973],")",",",["T_WHITESPACE","\n\t\t\t",973],["T_VARIABLE","$user_login",974],",",["T_WHITESPACE"," ",974],["T_VARIABLE","$user_email",974],",",["T_WHITESPACE"," ",974],["T_VARIABLE","$key",974],",",["T_WHITESPACE"," ",974],["T_VARIABLE","$meta",974],["T_WHITESPACE","\n\t\t",974],")",",",["T_WHITESPACE","\n\t\t",975],["T_VARIABLE","$from_name",976],",",["T_WHITESPACE","\n\t\t",976],["T_VARIABLE","$user_login",977],["T_WHITESPACE","\n\t",977],")",";",["T_WHITESPACE","\n\t",978],["T_STRING","wp_mail",979],"(",["T_WHITESPACE"," ",979],["T_VARIABLE","$user_email",979],",",["T_WHITESPACE"," ",979],["T_STRING","wp_specialchars_decode",979],"(",["T_WHITESPACE"," ",979],["T_VARIABLE","$subject",979],["T_WHITESPACE"," ",979],")",",",["T_WHITESPACE"," ",979],["T_VARIABLE","$message",979],",",["T_WHITESPACE"," ",979],["T_VARIABLE","$message_headers",979],["T_WHITESPACE"," ",979],")",";",["T_WHITESPACE","\n\n\t",979],["T_IF","if",981],["T_WHITESPACE"," ",981],"(",["T_WHITESPACE"," ",981],["T_VARIABLE","$switched_locale",981],["T_WHITESPACE"," ",981],")",["T_WHITESPACE"," ",981],"{",["T_WHITESPACE","\n\t\t",981],["T_STRING","restore_previous_locale",982],"(",")",";",["T_WHITESPACE","\n\t",982],"}",["T_WHITESPACE","\n\n\t",983],["T_RETURN","return",985],["T_WHITESPACE"," ",985],["T_STRING","true",985],";",["T_WHITESPACE","\n",985],"}",["T_WHITESPACE","\n\n",986],["T_DOC_COMMENT","\/**\n * Activate a signup.\n *\n * Hook to {@see 'wpmu_activate_user'} or {@see 'wpmu_activate_blog'} for events\n * that should happen only when users or sites are self-created (since\n * those actions are not called when users and sites are created\n * by a Super Admin).\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $key The activation key provided to the user.\n * @return array|WP_Error An array containing information about the activated user and\/or blog\n *\/",988],["T_WHITESPACE","\n",1002],["T_FUNCTION","function",1003],["T_WHITESPACE"," ",1003],["T_STRING","wpmu_activate_signup",1003],"(",["T_VARIABLE","$key",1003],")",["T_WHITESPACE"," ",1003],"{",["T_WHITESPACE","\n\t",1003],["T_GLOBAL","global",1004],["T_WHITESPACE"," ",1004],["T_VARIABLE","$wpdb",1004],";",["T_WHITESPACE","\n\n\t",1004],["T_VARIABLE","$signup",1006],["T_WHITESPACE"," ",1006],"=",["T_WHITESPACE"," ",1006],["T_VARIABLE","$wpdb",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","get_row",1006],"(",["T_WHITESPACE"," ",1006],["T_VARIABLE","$wpdb",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","prepare",1006],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT * FROM ",1006],["T_VARIABLE","$wpdb",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","signups",1006],["T_ENCAPSED_AND_WHITESPACE"," WHERE activation_key = %s",1006],"\"",",",["T_WHITESPACE"," ",1006],["T_VARIABLE","$key",1006],")",["T_WHITESPACE"," ",1006],")",";",["T_WHITESPACE","\n\n\t",1006],["T_IF","if",1008],["T_WHITESPACE"," ",1008],"(",["T_WHITESPACE"," ",1008],["T_EMPTY","empty",1008],"(",["T_WHITESPACE"," ",1008],["T_VARIABLE","$signup",1008],["T_WHITESPACE"," ",1008],")",["T_WHITESPACE"," ",1008],")",["T_WHITESPACE","\n\t\t",1008],["T_RETURN","return",1009],["T_WHITESPACE"," ",1009],["T_NEW","new",1009],["T_WHITESPACE"," ",1009],["T_STRING","WP_Error",1009],"(",["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'invalid_key'",1009],",",["T_WHITESPACE"," ",1009],["T_STRING","__",1009],"(",["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'Invalid activation key.'",1009],["T_WHITESPACE"," ",1009],")",["T_WHITESPACE"," ",1009],")",";",["T_WHITESPACE","\n\n\t",1009],["T_IF","if",1011],["T_WHITESPACE"," ",1011],"(",["T_WHITESPACE"," ",1011],["T_VARIABLE","$signup",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","active",1011],["T_WHITESPACE"," ",1011],")",["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n\t\t",1011],["T_IF","if",1012],["T_WHITESPACE"," ",1012],"(",["T_WHITESPACE"," ",1012],["T_EMPTY","empty",1012],"(",["T_WHITESPACE"," ",1012],["T_VARIABLE","$signup",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","domain",1012],["T_WHITESPACE"," ",1012],")",["T_WHITESPACE"," ",1012],")",["T_WHITESPACE","\n\t\t\t",1012],["T_RETURN","return",1013],["T_WHITESPACE"," ",1013],["T_NEW","new",1013],["T_WHITESPACE"," ",1013],["T_STRING","WP_Error",1013],"(",["T_WHITESPACE"," ",1013],["T_CONSTANT_ENCAPSED_STRING","'already_active'",1013],",",["T_WHITESPACE"," ",1013],["T_STRING","__",1013],"(",["T_WHITESPACE"," ",1013],["T_CONSTANT_ENCAPSED_STRING","'The user is already active.'",1013],["T_WHITESPACE"," ",1013],")",",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$signup",1013],["T_WHITESPACE"," ",1013],")",";",["T_WHITESPACE","\n\t\t",1013],["T_ELSE","else",1014],["T_WHITESPACE","\n\t\t\t",1014],["T_RETURN","return",1015],["T_WHITESPACE"," ",1015],["T_NEW","new",1015],["T_WHITESPACE"," ",1015],["T_STRING","WP_Error",1015],"(",["T_WHITESPACE"," ",1015],["T_CONSTANT_ENCAPSED_STRING","'already_active'",1015],",",["T_WHITESPACE"," ",1015],["T_STRING","__",1015],"(",["T_WHITESPACE"," ",1015],["T_CONSTANT_ENCAPSED_STRING","'The site is already active.'",1015],["T_WHITESPACE"," ",1015],")",",",["T_WHITESPACE"," ",1015],["T_VARIABLE","$signup",1015],["T_WHITESPACE"," ",1015],")",";",["T_WHITESPACE","\n\t",1015],"}",["T_WHITESPACE","\n\n\t",1016],["T_VARIABLE","$meta",1018],["T_WHITESPACE"," ",1018],"=",["T_WHITESPACE"," ",1018],["T_STRING","maybe_unserialize",1018],"(",["T_VARIABLE","$signup",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","meta",1018],")",";",["T_WHITESPACE","\n\t",1018],["T_VARIABLE","$password",1019],["T_WHITESPACE"," ",1019],"=",["T_WHITESPACE"," ",1019],["T_STRING","wp_generate_password",1019],"(",["T_WHITESPACE"," ",1019],["T_LNUMBER","12",1019],",",["T_WHITESPACE"," ",1019],["T_STRING","false",1019],["T_WHITESPACE"," ",1019],")",";",["T_WHITESPACE","\n\n\t",1019],["T_VARIABLE","$user_id",1021],["T_WHITESPACE"," ",1021],"=",["T_WHITESPACE"," ",1021],["T_STRING","username_exists",1021],"(",["T_VARIABLE","$signup",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","user_login",1021],")",";",["T_WHITESPACE","\n\n\t",1021],["T_IF","if",1023],["T_WHITESPACE"," ",1023],"(",["T_WHITESPACE"," ",1023],"!",["T_WHITESPACE"," ",1023],["T_VARIABLE","$user_id",1023],["T_WHITESPACE"," ",1023],")",["T_WHITESPACE","\n\t\t",1023],["T_VARIABLE","$user_id",1024],["T_WHITESPACE"," ",1024],"=",["T_WHITESPACE"," ",1024],["T_STRING","wpmu_create_user",1024],"(",["T_VARIABLE","$signup",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","user_login",1024],",",["T_WHITESPACE"," ",1024],["T_VARIABLE","$password",1024],",",["T_WHITESPACE"," ",1024],["T_VARIABLE","$signup",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","user_email",1024],")",";",["T_WHITESPACE","\n\t",1024],["T_ELSE","else",1025],["T_WHITESPACE","\n\t\t",1025],["T_VARIABLE","$user_already_exists",1026],["T_WHITESPACE"," ",1026],"=",["T_WHITESPACE"," ",1026],["T_STRING","true",1026],";",["T_WHITESPACE","\n\n\t",1026],["T_IF","if",1028],["T_WHITESPACE"," ",1028],"(",["T_WHITESPACE"," ",1028],"!",["T_WHITESPACE"," ",1028],["T_VARIABLE","$user_id",1028],["T_WHITESPACE"," ",1028],")",["T_WHITESPACE","\n\t\t",1028],["T_RETURN","return",1029],["T_WHITESPACE"," ",1029],["T_NEW","new",1029],["T_WHITESPACE"," ",1029],["T_STRING","WP_Error",1029],"(",["T_CONSTANT_ENCAPSED_STRING","'create_user'",1029],",",["T_WHITESPACE"," ",1029],["T_STRING","__",1029],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not create user'",1029],")",",",["T_WHITESPACE"," ",1029],["T_VARIABLE","$signup",1029],")",";",["T_WHITESPACE","\n\n\t",1029],["T_VARIABLE","$now",1031],["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_STRING","current_time",1031],"(",["T_CONSTANT_ENCAPSED_STRING","'mysql'",1031],",",["T_WHITESPACE"," ",1031],["T_STRING","true",1031],")",";",["T_WHITESPACE","\n\n\t",1031],["T_IF","if",1033],["T_WHITESPACE"," ",1033],"(",["T_WHITESPACE"," ",1033],["T_EMPTY","empty",1033],"(",["T_VARIABLE","$signup",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","domain",1033],")",["T_WHITESPACE"," ",1033],")",["T_WHITESPACE"," ",1033],"{",["T_WHITESPACE","\n\t\t",1033],["T_VARIABLE","$wpdb",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","update",1034],"(",["T_WHITESPACE"," ",1034],["T_VARIABLE","$wpdb",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","signups",1034],",",["T_WHITESPACE"," ",1034],["T_ARRAY","array",1034],"(",["T_CONSTANT_ENCAPSED_STRING","'active'",1034],["T_WHITESPACE"," ",1034],["T_DOUBLE_ARROW","=>",1034],["T_WHITESPACE"," ",1034],["T_LNUMBER","1",1034],",",["T_WHITESPACE"," ",1034],["T_CONSTANT_ENCAPSED_STRING","'activated'",1034],["T_WHITESPACE"," ",1034],["T_DOUBLE_ARROW","=>",1034],["T_WHITESPACE"," ",1034],["T_VARIABLE","$now",1034],")",",",["T_WHITESPACE"," ",1034],["T_ARRAY","array",1034],"(",["T_CONSTANT_ENCAPSED_STRING","'activation_key'",1034],["T_WHITESPACE"," ",1034],["T_DOUBLE_ARROW","=>",1034],["T_WHITESPACE"," ",1034],["T_VARIABLE","$key",1034],")",["T_WHITESPACE"," ",1034],")",";",["T_WHITESPACE","\n\n\t\t",1034],["T_IF","if",1036],["T_WHITESPACE"," ",1036],"(",["T_WHITESPACE"," ",1036],["T_ISSET","isset",1036],"(",["T_WHITESPACE"," ",1036],["T_VARIABLE","$user_already_exists",1036],["T_WHITESPACE"," ",1036],")",["T_WHITESPACE"," ",1036],")",["T_WHITESPACE","\n\t\t\t",1036],["T_RETURN","return",1037],["T_WHITESPACE"," ",1037],["T_NEW","new",1037],["T_WHITESPACE"," ",1037],["T_STRING","WP_Error",1037],"(",["T_WHITESPACE"," ",1037],["T_CONSTANT_ENCAPSED_STRING","'user_already_exists'",1037],",",["T_WHITESPACE"," ",1037],["T_STRING","__",1037],"(",["T_WHITESPACE"," ",1037],["T_CONSTANT_ENCAPSED_STRING","'That username is already activated.'",1037],["T_WHITESPACE"," ",1037],")",",",["T_WHITESPACE"," ",1037],["T_VARIABLE","$signup",1037],")",";",["T_WHITESPACE","\n\n\t\t",1037],["T_DOC_COMMENT","\/**\n\t\t * Fires immediately after a new user is activated.\n\t\t *\n\t\t * @since MU\n\t\t *\n\t\t * @param int   $user_id  User ID.\n\t\t * @param int   $password User password.\n\t\t * @param array $meta     Signup meta data.\n\t\t *\/",1039],["T_WHITESPACE","\n\t\t",1047],["T_STRING","do_action",1048],"(",["T_WHITESPACE"," ",1048],["T_CONSTANT_ENCAPSED_STRING","'wpmu_activate_user'",1048],",",["T_WHITESPACE"," ",1048],["T_VARIABLE","$user_id",1048],",",["T_WHITESPACE"," ",1048],["T_VARIABLE","$password",1048],",",["T_WHITESPACE"," ",1048],["T_VARIABLE","$meta",1048],["T_WHITESPACE"," ",1048],")",";",["T_WHITESPACE","\n\t\t",1048],["T_RETURN","return",1049],["T_WHITESPACE"," ",1049],["T_ARRAY","array",1049],"(",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","'user_id'",1049],["T_WHITESPACE"," ",1049],["T_DOUBLE_ARROW","=>",1049],["T_WHITESPACE"," ",1049],["T_VARIABLE","$user_id",1049],",",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","'password'",1049],["T_WHITESPACE"," ",1049],["T_DOUBLE_ARROW","=>",1049],["T_WHITESPACE"," ",1049],["T_VARIABLE","$password",1049],",",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","'meta'",1049],["T_WHITESPACE"," ",1049],["T_DOUBLE_ARROW","=>",1049],["T_WHITESPACE"," ",1049],["T_VARIABLE","$meta",1049],["T_WHITESPACE"," ",1049],")",";",["T_WHITESPACE","\n\t",1049],"}",["T_WHITESPACE","\n\n\t",1050],["T_VARIABLE","$blog_id",1052],["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_STRING","wpmu_create_blog",1052],"(",["T_WHITESPACE"," ",1052],["T_VARIABLE","$signup",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","domain",1052],",",["T_WHITESPACE"," ",1052],["T_VARIABLE","$signup",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","path",1052],",",["T_WHITESPACE"," ",1052],["T_VARIABLE","$signup",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","title",1052],",",["T_WHITESPACE"," ",1052],["T_VARIABLE","$user_id",1052],",",["T_WHITESPACE"," ",1052],["T_VARIABLE","$meta",1052],",",["T_WHITESPACE"," ",1052],["T_VARIABLE","$wpdb",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","siteid",1052],["T_WHITESPACE"," ",1052],")",";",["T_WHITESPACE","\n\n\t",1052],["T_COMMENT","\/\/ TODO: What to do if we create a user but cannot create a blog?\n",1054],["T_WHITESPACE","\t",1055],["T_IF","if",1055],["T_WHITESPACE"," ",1055],"(",["T_WHITESPACE"," ",1055],["T_STRING","is_wp_error",1055],"(",["T_VARIABLE","$blog_id",1055],")",["T_WHITESPACE"," ",1055],")",["T_WHITESPACE"," ",1055],"{",["T_WHITESPACE","\n\t\t",1055],["T_COMMENT","\/\/ If blog is taken, that means a previous attempt to activate this blog failed in between creating the blog and\n",1056],["T_WHITESPACE","\t\t",1057],["T_COMMENT","\/\/ setting the activation flag. Let's just set the active flag and instruct the user to reset their password.\n",1057],["T_WHITESPACE","\t\t",1058],["T_IF","if",1058],["T_WHITESPACE"," ",1058],"(",["T_WHITESPACE"," ",1058],["T_CONSTANT_ENCAPSED_STRING","'blog_taken'",1058],["T_WHITESPACE"," ",1058],["T_IS_EQUAL","==",1058],["T_WHITESPACE"," ",1058],["T_VARIABLE","$blog_id",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","get_error_code",1058],"(",")",["T_WHITESPACE"," ",1058],")",["T_WHITESPACE"," ",1058],"{",["T_WHITESPACE","\n\t\t\t",1058],["T_VARIABLE","$blog_id",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","add_data",1059],"(",["T_WHITESPACE"," ",1059],["T_VARIABLE","$signup",1059],["T_WHITESPACE"," ",1059],")",";",["T_WHITESPACE","\n\t\t\t",1059],["T_VARIABLE","$wpdb",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","update",1060],"(",["T_WHITESPACE"," ",1060],["T_VARIABLE","$wpdb",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","signups",1060],",",["T_WHITESPACE"," ",1060],["T_ARRAY","array",1060],"(",["T_WHITESPACE"," ",1060],["T_CONSTANT_ENCAPSED_STRING","'active'",1060],["T_WHITESPACE"," ",1060],["T_DOUBLE_ARROW","=>",1060],["T_WHITESPACE"," ",1060],["T_LNUMBER","1",1060],",",["T_WHITESPACE"," ",1060],["T_CONSTANT_ENCAPSED_STRING","'activated'",1060],["T_WHITESPACE"," ",1060],["T_DOUBLE_ARROW","=>",1060],["T_WHITESPACE"," ",1060],["T_VARIABLE","$now",1060],["T_WHITESPACE"," ",1060],")",",",["T_WHITESPACE"," ",1060],["T_ARRAY","array",1060],"(",["T_WHITESPACE"," ",1060],["T_CONSTANT_ENCAPSED_STRING","'activation_key'",1060],["T_WHITESPACE"," ",1060],["T_DOUBLE_ARROW","=>",1060],["T_WHITESPACE"," ",1060],["T_VARIABLE","$key",1060],["T_WHITESPACE"," ",1060],")",["T_WHITESPACE"," ",1060],")",";",["T_WHITESPACE","\n\t\t",1060],"}",["T_WHITESPACE","\n\t\t",1061],["T_RETURN","return",1062],["T_WHITESPACE"," ",1062],["T_VARIABLE","$blog_id",1062],";",["T_WHITESPACE","\n\t",1062],"}",["T_WHITESPACE","\n\n\t",1063],["T_VARIABLE","$wpdb",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","update",1065],"(",["T_WHITESPACE"," ",1065],["T_VARIABLE","$wpdb",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","signups",1065],",",["T_WHITESPACE"," ",1065],["T_ARRAY","array",1065],"(",["T_CONSTANT_ENCAPSED_STRING","'active'",1065],["T_WHITESPACE"," ",1065],["T_DOUBLE_ARROW","=>",1065],["T_WHITESPACE"," ",1065],["T_LNUMBER","1",1065],",",["T_WHITESPACE"," ",1065],["T_CONSTANT_ENCAPSED_STRING","'activated'",1065],["T_WHITESPACE"," ",1065],["T_DOUBLE_ARROW","=>",1065],["T_WHITESPACE"," ",1065],["T_VARIABLE","$now",1065],")",",",["T_WHITESPACE"," ",1065],["T_ARRAY","array",1065],"(",["T_CONSTANT_ENCAPSED_STRING","'activation_key'",1065],["T_WHITESPACE"," ",1065],["T_DOUBLE_ARROW","=>",1065],["T_WHITESPACE"," ",1065],["T_VARIABLE","$key",1065],")",["T_WHITESPACE"," ",1065],")",";",["T_WHITESPACE","\n\t",1065],["T_DOC_COMMENT","\/**\n\t * Fires immediately after a site is activated.\n\t *\n\t * @since MU\n\t *\n\t * @param int    $blog_id       Blog ID.\n\t * @param int    $user_id       User ID.\n\t * @param int    $password      User password.\n\t * @param string $signup_title  Site title.\n\t * @param array  $meta          Signup meta data. By default, contains the requested privacy setting and lang_id.\n\t *\/",1066],["T_WHITESPACE","\n\t",1076],["T_STRING","do_action",1077],"(",["T_WHITESPACE"," ",1077],["T_CONSTANT_ENCAPSED_STRING","'wpmu_activate_blog'",1077],",",["T_WHITESPACE"," ",1077],["T_VARIABLE","$blog_id",1077],",",["T_WHITESPACE"," ",1077],["T_VARIABLE","$user_id",1077],",",["T_WHITESPACE"," ",1077],["T_VARIABLE","$password",1077],",",["T_WHITESPACE"," ",1077],["T_VARIABLE","$signup",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","title",1077],",",["T_WHITESPACE"," ",1077],["T_VARIABLE","$meta",1077],["T_WHITESPACE"," ",1077],")",";",["T_WHITESPACE","\n\n\t",1077],["T_RETURN","return",1079],["T_WHITESPACE"," ",1079],["T_ARRAY","array",1079],"(",["T_CONSTANT_ENCAPSED_STRING","'blog_id'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$blog_id",1079],",",["T_WHITESPACE"," ",1079],["T_CONSTANT_ENCAPSED_STRING","'user_id'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$user_id",1079],",",["T_WHITESPACE"," ",1079],["T_CONSTANT_ENCAPSED_STRING","'password'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$password",1079],",",["T_WHITESPACE"," ",1079],["T_CONSTANT_ENCAPSED_STRING","'title'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$signup",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","title",1079],",",["T_WHITESPACE"," ",1079],["T_CONSTANT_ENCAPSED_STRING","'meta'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$meta",1079],")",";",["T_WHITESPACE","\n",1079],"}",["T_WHITESPACE","\n\n",1080],["T_DOC_COMMENT","\/**\n * Create a user.\n *\n * This function runs when a user self-registers as well as when\n * a Super Admin creates a new user. Hook to {@see 'wpmu_new_user'} for events\n * that should affect all new users, but only on Multisite (otherwise\n * use {@see'user_register'}).\n *\n * @since MU\n *\n * @param string $user_name The new user's login name.\n * @param string $password  The new user's password.\n * @param string $email     The new user's email address.\n * @return int|false Returns false on failure, or int $user_id on success\n *\/",1082],["T_WHITESPACE","\n",1096],["T_FUNCTION","function",1097],["T_WHITESPACE"," ",1097],["T_STRING","wpmu_create_user",1097],"(",["T_WHITESPACE"," ",1097],["T_VARIABLE","$user_name",1097],",",["T_WHITESPACE"," ",1097],["T_VARIABLE","$password",1097],",",["T_WHITESPACE"," ",1097],["T_VARIABLE","$email",1097],["T_WHITESPACE"," ",1097],")",["T_WHITESPACE"," ",1097],"{",["T_WHITESPACE","\n\t",1097],["T_VARIABLE","$user_name",1098],["T_WHITESPACE"," ",1098],"=",["T_WHITESPACE"," ",1098],["T_STRING","preg_replace",1098],"(",["T_WHITESPACE"," ",1098],["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",1098],",",["T_WHITESPACE"," ",1098],["T_CONSTANT_ENCAPSED_STRING","''",1098],",",["T_WHITESPACE"," ",1098],["T_STRING","sanitize_user",1098],"(",["T_WHITESPACE"," ",1098],["T_VARIABLE","$user_name",1098],",",["T_WHITESPACE"," ",1098],["T_STRING","true",1098],["T_WHITESPACE"," ",1098],")",["T_WHITESPACE"," ",1098],")",";",["T_WHITESPACE","\n\n\t",1098],["T_VARIABLE","$user_id",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_STRING","wp_create_user",1100],"(",["T_WHITESPACE"," ",1100],["T_VARIABLE","$user_name",1100],",",["T_WHITESPACE"," ",1100],["T_VARIABLE","$password",1100],",",["T_WHITESPACE"," ",1100],["T_VARIABLE","$email",1100],["T_WHITESPACE"," ",1100],")",";",["T_WHITESPACE","\n\t",1100],["T_IF","if",1101],["T_WHITESPACE"," ",1101],"(",["T_WHITESPACE"," ",1101],["T_STRING","is_wp_error",1101],"(",["T_WHITESPACE"," ",1101],["T_VARIABLE","$user_id",1101],["T_WHITESPACE"," ",1101],")",["T_WHITESPACE"," ",1101],")",["T_WHITESPACE","\n\t\t",1101],["T_RETURN","return",1102],["T_WHITESPACE"," ",1102],["T_STRING","false",1102],";",["T_WHITESPACE","\n\n\t",1102],["T_COMMENT","\/\/ Newly created users have no roles or caps until they are added to a blog.\n",1104],["T_WHITESPACE","\t",1105],["T_STRING","delete_user_option",1105],"(",["T_WHITESPACE"," ",1105],["T_VARIABLE","$user_id",1105],",",["T_WHITESPACE"," ",1105],["T_CONSTANT_ENCAPSED_STRING","'capabilities'",1105],["T_WHITESPACE"," ",1105],")",";",["T_WHITESPACE","\n\t",1105],["T_STRING","delete_user_option",1106],"(",["T_WHITESPACE"," ",1106],["T_VARIABLE","$user_id",1106],",",["T_WHITESPACE"," ",1106],["T_CONSTANT_ENCAPSED_STRING","'user_level'",1106],["T_WHITESPACE"," ",1106],")",";",["T_WHITESPACE","\n\n\t",1106],["T_DOC_COMMENT","\/**\n\t * Fires immediately after a new user is created.\n\t *\n\t * @since MU\n\t *\n\t * @param int $user_id User ID.\n\t *\/",1108],["T_WHITESPACE","\n\t",1114],["T_STRING","do_action",1115],"(",["T_WHITESPACE"," ",1115],["T_CONSTANT_ENCAPSED_STRING","'wpmu_new_user'",1115],",",["T_WHITESPACE"," ",1115],["T_VARIABLE","$user_id",1115],["T_WHITESPACE"," ",1115],")",";",["T_WHITESPACE","\n\n\t",1115],["T_RETURN","return",1117],["T_WHITESPACE"," ",1117],["T_VARIABLE","$user_id",1117],";",["T_WHITESPACE","\n",1117],"}",["T_WHITESPACE","\n\n",1118],["T_DOC_COMMENT","\/**\n * Create a site.\n *\n * This function runs when a user self-registers a new site as well\n * as when a Super Admin creates a new site. Hook to {@see 'wpmu_new_blog'}\n * for events that should affect all new sites.\n *\n * On subdirectory installs, $domain is the same as the main site's\n * domain, and the path is the subdirectory name (eg 'example.com'\n * and '\/blog1\/'). On subdomain installs, $domain is the new subdomain +\n * root domain (eg 'blog1.example.com'), and $path is '\/'.\n *\n * @since MU\n *\n * @param string $domain  The new site's domain.\n * @param string $path    The new site's path.\n * @param string $title   The new site's title.\n * @param int    $user_id The user ID of the new site's admin.\n * @param array  $meta    Optional. Used to set initial site options.\n * @param int    $site_id Optional. Only relevant on multi-network installs.\n * @return int|WP_Error Returns WP_Error object on failure, int $blog_id on success\n *\/",1120],["T_WHITESPACE","\n",1141],["T_FUNCTION","function",1142],["T_WHITESPACE"," ",1142],["T_STRING","wpmu_create_blog",1142],"(",["T_WHITESPACE"," ",1142],["T_VARIABLE","$domain",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$path",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$title",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$user_id",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$meta",1142],["T_WHITESPACE"," ",1142],"=",["T_WHITESPACE"," ",1142],["T_ARRAY","array",1142],"(",")",",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$site_id",1142],["T_WHITESPACE"," ",1142],"=",["T_WHITESPACE"," ",1142],["T_LNUMBER","1",1142],["T_WHITESPACE"," ",1142],")",["T_WHITESPACE"," ",1142],"{",["T_WHITESPACE","\n\t",1142],["T_VARIABLE","$defaults",1143],["T_WHITESPACE"," ",1143],"=",["T_WHITESPACE"," ",1143],["T_ARRAY","array",1143],"(",["T_WHITESPACE","\n\t\t",1143],["T_CONSTANT_ENCAPSED_STRING","'public'",1144],["T_WHITESPACE"," ",1144],["T_DOUBLE_ARROW","=>",1144],["T_WHITESPACE"," ",1144],["T_LNUMBER","0",1144],",",["T_WHITESPACE","\n\t\t",1144],["T_CONSTANT_ENCAPSED_STRING","'WPLANG'",1145],["T_WHITESPACE"," ",1145],["T_DOUBLE_ARROW","=>",1145],["T_WHITESPACE"," ",1145],["T_STRING","get_site_option",1145],"(",["T_WHITESPACE"," ",1145],["T_CONSTANT_ENCAPSED_STRING","'WPLANG'",1145],["T_WHITESPACE"," ",1145],")",",",["T_WHITESPACE","\n\t",1145],")",";",["T_WHITESPACE","\n\t",1146],["T_VARIABLE","$meta",1147],["T_WHITESPACE"," ",1147],"=",["T_WHITESPACE"," ",1147],["T_STRING","wp_parse_args",1147],"(",["T_WHITESPACE"," ",1147],["T_VARIABLE","$meta",1147],",",["T_WHITESPACE"," ",1147],["T_VARIABLE","$defaults",1147],["T_WHITESPACE"," ",1147],")",";",["T_WHITESPACE","\n\n\t",1147],["T_VARIABLE","$domain",1149],["T_WHITESPACE"," ",1149],"=",["T_WHITESPACE"," ",1149],["T_STRING","preg_replace",1149],"(",["T_WHITESPACE"," ",1149],["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",1149],",",["T_WHITESPACE"," ",1149],["T_CONSTANT_ENCAPSED_STRING","''",1149],",",["T_WHITESPACE"," ",1149],["T_STRING","sanitize_user",1149],"(",["T_WHITESPACE"," ",1149],["T_VARIABLE","$domain",1149],",",["T_WHITESPACE"," ",1149],["T_STRING","true",1149],["T_WHITESPACE"," ",1149],")",["T_WHITESPACE"," ",1149],")",";",["T_WHITESPACE","\n\n\t",1149],["T_IF","if",1151],["T_WHITESPACE"," ",1151],"(",["T_WHITESPACE"," ",1151],["T_STRING","is_subdomain_install",1151],"(",")",["T_WHITESPACE"," ",1151],")",["T_WHITESPACE","\n\t\t",1151],["T_VARIABLE","$domain",1152],["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],["T_STRING","str_replace",1152],"(",["T_WHITESPACE"," ",1152],["T_CONSTANT_ENCAPSED_STRING","'@'",1152],",",["T_WHITESPACE"," ",1152],["T_CONSTANT_ENCAPSED_STRING","''",1152],",",["T_WHITESPACE"," ",1152],["T_VARIABLE","$domain",1152],["T_WHITESPACE"," ",1152],")",";",["T_WHITESPACE","\n\n\t",1152],["T_VARIABLE","$title",1154],["T_WHITESPACE"," ",1154],"=",["T_WHITESPACE"," ",1154],["T_STRING","strip_tags",1154],"(",["T_WHITESPACE"," ",1154],["T_VARIABLE","$title",1154],["T_WHITESPACE"," ",1154],")",";",["T_WHITESPACE","\n\t",1154],["T_VARIABLE","$user_id",1155],["T_WHITESPACE"," ",1155],"=",["T_WHITESPACE"," ",1155],["T_INT_CAST","(int)",1155],["T_WHITESPACE"," ",1155],["T_VARIABLE","$user_id",1155],";",["T_WHITESPACE","\n\n\t",1155],["T_IF","if",1157],["T_WHITESPACE"," ",1157],"(",["T_WHITESPACE"," ",1157],["T_EMPTY","empty",1157],"(",["T_VARIABLE","$path",1157],")",["T_WHITESPACE"," ",1157],")",["T_WHITESPACE","\n\t\t",1157],["T_VARIABLE","$path",1158],["T_WHITESPACE"," ",1158],"=",["T_WHITESPACE"," ",1158],["T_CONSTANT_ENCAPSED_STRING","'\/'",1158],";",["T_WHITESPACE","\n\n\t",1158],["T_COMMENT","\/\/ Check if the domain has been used already. We should return an error message.\n",1160],["T_WHITESPACE","\t",1161],["T_IF","if",1161],["T_WHITESPACE"," ",1161],"(",["T_WHITESPACE"," ",1161],["T_STRING","domain_exists",1161],"(",["T_VARIABLE","$domain",1161],",",["T_WHITESPACE"," ",1161],["T_VARIABLE","$path",1161],",",["T_WHITESPACE"," ",1161],["T_VARIABLE","$site_id",1161],")",["T_WHITESPACE"," ",1161],")",["T_WHITESPACE","\n\t\t",1161],["T_RETURN","return",1162],["T_WHITESPACE"," ",1162],["T_NEW","new",1162],["T_WHITESPACE"," ",1162],["T_STRING","WP_Error",1162],"(",["T_WHITESPACE"," ",1162],["T_CONSTANT_ENCAPSED_STRING","'blog_taken'",1162],",",["T_WHITESPACE"," ",1162],["T_STRING","__",1162],"(",["T_WHITESPACE"," ",1162],["T_CONSTANT_ENCAPSED_STRING","'Sorry, that site already exists!'",1162],["T_WHITESPACE"," ",1162],")",["T_WHITESPACE"," ",1162],")",";",["T_WHITESPACE","\n\n\t",1162],["T_IF","if",1164],["T_WHITESPACE"," ",1164],"(",["T_WHITESPACE"," ",1164],"!",["T_WHITESPACE"," ",1164],["T_STRING","wp_installing",1164],"(",")",["T_WHITESPACE"," ",1164],")",["T_WHITESPACE"," ",1164],"{",["T_WHITESPACE","\n\t\t",1164],["T_STRING","wp_installing",1165],"(",["T_WHITESPACE"," ",1165],["T_STRING","true",1165],["T_WHITESPACE"," ",1165],")",";",["T_WHITESPACE","\n\t",1165],"}",["T_WHITESPACE","\n\n\t",1166],["T_IF","if",1168],["T_WHITESPACE"," ",1168],"(",["T_WHITESPACE"," ",1168],"!",["T_WHITESPACE"," ",1168],["T_VARIABLE","$blog_id",1168],["T_WHITESPACE"," ",1168],"=",["T_WHITESPACE"," ",1168],["T_STRING","insert_blog",1168],"(",["T_VARIABLE","$domain",1168],",",["T_WHITESPACE"," ",1168],["T_VARIABLE","$path",1168],",",["T_WHITESPACE"," ",1168],["T_VARIABLE","$site_id",1168],")",["T_WHITESPACE"," ",1168],")",["T_WHITESPACE","\n\t\t",1168],["T_RETURN","return",1169],["T_WHITESPACE"," ",1169],["T_NEW","new",1169],["T_WHITESPACE"," ",1169],["T_STRING","WP_Error",1169],"(",["T_CONSTANT_ENCAPSED_STRING","'insert_blog'",1169],",",["T_WHITESPACE"," ",1169],["T_STRING","__",1169],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not create site.'",1169],")",")",";",["T_WHITESPACE","\n\n\t",1169],["T_STRING","switch_to_blog",1171],"(",["T_VARIABLE","$blog_id",1171],")",";",["T_WHITESPACE","\n\t",1171],["T_STRING","install_blog",1172],"(",["T_VARIABLE","$blog_id",1172],",",["T_WHITESPACE"," ",1172],["T_VARIABLE","$title",1172],")",";",["T_WHITESPACE","\n\t",1172],["T_STRING","wp_install_defaults",1173],"(",["T_VARIABLE","$user_id",1173],")",";",["T_WHITESPACE","\n\n\t",1173],["T_STRING","add_user_to_blog",1175],"(",["T_VARIABLE","$blog_id",1175],",",["T_WHITESPACE"," ",1175],["T_VARIABLE","$user_id",1175],",",["T_WHITESPACE"," ",1175],["T_CONSTANT_ENCAPSED_STRING","'administrator'",1175],")",";",["T_WHITESPACE","\n\n\t",1175],["T_FOREACH","foreach",1177],["T_WHITESPACE"," ",1177],"(",["T_WHITESPACE"," ",1177],["T_VARIABLE","$meta",1177],["T_WHITESPACE"," ",1177],["T_AS","as",1177],["T_WHITESPACE"," ",1177],["T_VARIABLE","$key",1177],["T_WHITESPACE"," ",1177],["T_DOUBLE_ARROW","=>",1177],["T_WHITESPACE"," ",1177],["T_VARIABLE","$value",1177],["T_WHITESPACE"," ",1177],")",["T_WHITESPACE"," ",1177],"{",["T_WHITESPACE","\n\t\t",1177],["T_IF","if",1178],["T_WHITESPACE"," ",1178],"(",["T_WHITESPACE"," ",1178],["T_STRING","in_array",1178],"(",["T_WHITESPACE"," ",1178],["T_VARIABLE","$key",1178],",",["T_WHITESPACE"," ",1178],["T_ARRAY","array",1178],"(",["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'public'",1178],",",["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'archived'",1178],",",["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'mature'",1178],",",["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'spam'",1178],",",["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'deleted'",1178],",",["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'lang_id'",1178],["T_WHITESPACE"," ",1178],")",["T_WHITESPACE"," ",1178],")",["T_WHITESPACE"," ",1178],")",["T_WHITESPACE","\n\t\t\t",1178],["T_STRING","update_blog_status",1179],"(",["T_WHITESPACE"," ",1179],["T_VARIABLE","$blog_id",1179],",",["T_WHITESPACE"," ",1179],["T_VARIABLE","$key",1179],",",["T_WHITESPACE"," ",1179],["T_VARIABLE","$value",1179],["T_WHITESPACE"," ",1179],")",";",["T_WHITESPACE","\n\t\t",1179],["T_ELSE","else",1180],["T_WHITESPACE","\n\t\t\t",1180],["T_STRING","update_option",1181],"(",["T_WHITESPACE"," ",1181],["T_VARIABLE","$key",1181],",",["T_WHITESPACE"," ",1181],["T_VARIABLE","$value",1181],["T_WHITESPACE"," ",1181],")",";",["T_WHITESPACE","\n\t",1181],"}",["T_WHITESPACE","\n\n\t",1182],["T_STRING","update_option",1184],"(",["T_WHITESPACE"," ",1184],["T_CONSTANT_ENCAPSED_STRING","'blog_public'",1184],",",["T_WHITESPACE"," ",1184],["T_INT_CAST","(int)",1184],["T_WHITESPACE"," ",1184],["T_VARIABLE","$meta",1184],"[",["T_CONSTANT_ENCAPSED_STRING","'public'",1184],"]",["T_WHITESPACE"," ",1184],")",";",["T_WHITESPACE","\n\n\t",1184],["T_IF","if",1186],["T_WHITESPACE"," ",1186],"(",["T_WHITESPACE"," ",1186],"!",["T_WHITESPACE"," ",1186],["T_STRING","is_super_admin",1186],"(",["T_WHITESPACE"," ",1186],["T_VARIABLE","$user_id",1186],["T_WHITESPACE"," ",1186],")",["T_WHITESPACE"," ",1186],["T_BOOLEAN_AND","&&",1186],["T_WHITESPACE"," ",1186],"!",["T_WHITESPACE"," ",1186],["T_STRING","get_user_meta",1186],"(",["T_WHITESPACE"," ",1186],["T_VARIABLE","$user_id",1186],",",["T_WHITESPACE"," ",1186],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",1186],",",["T_WHITESPACE"," ",1186],["T_STRING","true",1186],["T_WHITESPACE"," ",1186],")",["T_WHITESPACE"," ",1186],")",["T_WHITESPACE","\n\t\t",1186],["T_STRING","update_user_meta",1187],"(",["T_WHITESPACE"," ",1187],["T_VARIABLE","$user_id",1187],",",["T_WHITESPACE"," ",1187],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",1187],",",["T_WHITESPACE"," ",1187],["T_VARIABLE","$blog_id",1187],["T_WHITESPACE"," ",1187],")",";",["T_WHITESPACE","\n\n\t",1187],["T_STRING","restore_current_blog",1189],"(",")",";",["T_WHITESPACE","\n\t",1189],["T_DOC_COMMENT","\/**\n\t * Fires immediately after a new site is created.\n\t *\n\t * @since MU\n\t *\n\t * @param int    $blog_id Blog ID.\n\t * @param int    $user_id User ID.\n\t * @param string $domain  Site domain.\n\t * @param string $path    Site path.\n\t * @param int    $site_id Site ID. Only relevant on multi-network installs.\n\t * @param array  $meta    Meta data. Used to set initial site options.\n\t *\/",1190],["T_WHITESPACE","\n\t",1201],["T_STRING","do_action",1202],"(",["T_WHITESPACE"," ",1202],["T_CONSTANT_ENCAPSED_STRING","'wpmu_new_blog'",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$blog_id",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$user_id",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$domain",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$path",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$site_id",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$meta",1202],["T_WHITESPACE"," ",1202],")",";",["T_WHITESPACE","\n\n\t",1202],["T_STRING","wp_cache_set",1204],"(",["T_WHITESPACE"," ",1204],["T_CONSTANT_ENCAPSED_STRING","'last_changed'",1204],",",["T_WHITESPACE"," ",1204],["T_STRING","microtime",1204],"(",")",",",["T_WHITESPACE"," ",1204],["T_CONSTANT_ENCAPSED_STRING","'sites'",1204],["T_WHITESPACE"," ",1204],")",";",["T_WHITESPACE","\n\n\t",1204],["T_RETURN","return",1206],["T_WHITESPACE"," ",1206],["T_VARIABLE","$blog_id",1206],";",["T_WHITESPACE","\n",1206],"}",["T_WHITESPACE","\n\n",1207],["T_DOC_COMMENT","\/**\n * Notifies the network admin that a new site has been activated.\n *\n * Filter {@see 'newblog_notify_siteadmin'} to change the content of\n * the notification email.\n *\n * @since MU\n *\n * @param int    $blog_id    The new site's ID.\n * @param string $deprecated Not used.\n * @return bool\n *\/",1209],["T_WHITESPACE","\n",1220],["T_FUNCTION","function",1221],["T_WHITESPACE"," ",1221],["T_STRING","newblog_notify_siteadmin",1221],"(",["T_WHITESPACE"," ",1221],["T_VARIABLE","$blog_id",1221],",",["T_WHITESPACE"," ",1221],["T_VARIABLE","$deprecated",1221],["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_CONSTANT_ENCAPSED_STRING","''",1221],["T_WHITESPACE"," ",1221],")",["T_WHITESPACE"," ",1221],"{",["T_WHITESPACE","\n\t",1221],["T_IF","if",1222],["T_WHITESPACE"," ",1222],"(",["T_WHITESPACE"," ",1222],["T_STRING","get_site_option",1222],"(",["T_WHITESPACE"," ",1222],["T_CONSTANT_ENCAPSED_STRING","'registrationnotification'",1222],["T_WHITESPACE"," ",1222],")",["T_WHITESPACE"," ",1222],["T_IS_NOT_EQUAL","!=",1222],["T_WHITESPACE"," ",1222],["T_CONSTANT_ENCAPSED_STRING","'yes'",1222],["T_WHITESPACE"," ",1222],")",["T_WHITESPACE","\n\t\t",1222],["T_RETURN","return",1223],["T_WHITESPACE"," ",1223],["T_STRING","false",1223],";",["T_WHITESPACE","\n\n\t",1223],["T_VARIABLE","$email",1225],["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_STRING","get_site_option",1225],"(",["T_WHITESPACE"," ",1225],["T_CONSTANT_ENCAPSED_STRING","'admin_email'",1225],["T_WHITESPACE"," ",1225],")",";",["T_WHITESPACE","\n\t",1225],["T_IF","if",1226],["T_WHITESPACE"," ",1226],"(",["T_WHITESPACE"," ",1226],["T_STRING","is_email",1226],"(",["T_VARIABLE","$email",1226],")",["T_WHITESPACE"," ",1226],["T_IS_EQUAL","==",1226],["T_WHITESPACE"," ",1226],["T_STRING","false",1226],["T_WHITESPACE"," ",1226],")",["T_WHITESPACE","\n\t\t",1226],["T_RETURN","return",1227],["T_WHITESPACE"," ",1227],["T_STRING","false",1227],";",["T_WHITESPACE","\n\n\t",1227],["T_VARIABLE","$options_site_url",1229],["T_WHITESPACE"," ",1229],"=",["T_WHITESPACE"," ",1229],["T_STRING","esc_url",1229],"(",["T_STRING","network_admin_url",1229],"(",["T_CONSTANT_ENCAPSED_STRING","'settings.php'",1229],")",")",";",["T_WHITESPACE","\n\n\t",1229],["T_STRING","switch_to_blog",1231],"(",["T_WHITESPACE"," ",1231],["T_VARIABLE","$blog_id",1231],["T_WHITESPACE"," ",1231],")",";",["T_WHITESPACE","\n\t",1231],["T_VARIABLE","$blogname",1232],["T_WHITESPACE"," ",1232],"=",["T_WHITESPACE"," ",1232],["T_STRING","get_option",1232],"(",["T_WHITESPACE"," ",1232],["T_CONSTANT_ENCAPSED_STRING","'blogname'",1232],["T_WHITESPACE"," ",1232],")",";",["T_WHITESPACE","\n\t",1232],["T_VARIABLE","$siteurl",1233],["T_WHITESPACE"," ",1233],"=",["T_WHITESPACE"," ",1233],["T_STRING","site_url",1233],"(",")",";",["T_WHITESPACE","\n\t",1233],["T_STRING","restore_current_blog",1234],"(",")",";",["T_WHITESPACE","\n\n\t",1234],["T_COMMENT","\/* translators: New site notification email. 1: Site URL, 2: User IP address, 3: Settings screen URL *\/",1236],["T_WHITESPACE","\n\t",1236],["T_VARIABLE","$msg",1237],["T_WHITESPACE"," ",1237],"=",["T_WHITESPACE"," ",1237],["T_STRING","sprintf",1237],"(",["T_WHITESPACE"," ",1237],["T_STRING","__",1237],"(",["T_WHITESPACE"," ",1237],["T_CONSTANT_ENCAPSED_STRING","'New Site: %1$s\nURL: %2$s\nRemote IP: %3$s\n\nDisable these notifications: %4$s'",1237],["T_WHITESPACE"," ",1241],")",",",["T_WHITESPACE"," ",1241],["T_VARIABLE","$blogname",1241],",",["T_WHITESPACE"," ",1241],["T_VARIABLE","$siteurl",1241],",",["T_WHITESPACE"," ",1241],["T_STRING","wp_unslash",1241],"(",["T_WHITESPACE"," ",1241],["T_VARIABLE","$_SERVER",1241],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1241],"]",["T_WHITESPACE"," ",1241],")",",",["T_WHITESPACE"," ",1241],["T_VARIABLE","$options_site_url",1241],")",";",["T_WHITESPACE","\n\t",1241],["T_DOC_COMMENT","\/**\n\t * Filters the message body of the new site activation email sent\n\t * to the network administrator.\n\t *\n\t * @since MU\n\t *\n\t * @param string $msg Email body.\n\t *\/",1242],["T_WHITESPACE","\n\t",1249],["T_VARIABLE","$msg",1250],["T_WHITESPACE"," ",1250],"=",["T_WHITESPACE"," ",1250],["T_STRING","apply_filters",1250],"(",["T_WHITESPACE"," ",1250],["T_CONSTANT_ENCAPSED_STRING","'newblog_notify_siteadmin'",1250],",",["T_WHITESPACE"," ",1250],["T_VARIABLE","$msg",1250],["T_WHITESPACE"," ",1250],")",";",["T_WHITESPACE","\n\n\t",1250],["T_STRING","wp_mail",1252],"(",["T_WHITESPACE"," ",1252],["T_VARIABLE","$email",1252],",",["T_WHITESPACE"," ",1252],["T_STRING","sprintf",1252],"(",["T_WHITESPACE"," ",1252],["T_STRING","__",1252],"(",["T_WHITESPACE"," ",1252],["T_CONSTANT_ENCAPSED_STRING","'New Site Registration: %s'",1252],["T_WHITESPACE"," ",1252],")",",",["T_WHITESPACE"," ",1252],["T_VARIABLE","$siteurl",1252],["T_WHITESPACE"," ",1252],")",",",["T_WHITESPACE"," ",1252],["T_VARIABLE","$msg",1252],["T_WHITESPACE"," ",1252],")",";",["T_WHITESPACE","\n\t",1252],["T_RETURN","return",1253],["T_WHITESPACE"," ",1253],["T_STRING","true",1253],";",["T_WHITESPACE","\n",1253],"}",["T_WHITESPACE","\n\n",1254],["T_DOC_COMMENT","\/**\n * Notifies the network admin that a new user has been activated.\n *\n * Filter {@see 'newuser_notify_siteadmin'} to change the content of\n * the notification email.\n *\n * @since MU\n *\n * @param int $user_id The new user's ID.\n * @return bool\n *\/",1256],["T_WHITESPACE","\n",1266],["T_FUNCTION","function",1267],["T_WHITESPACE"," ",1267],["T_STRING","newuser_notify_siteadmin",1267],"(",["T_WHITESPACE"," ",1267],["T_VARIABLE","$user_id",1267],["T_WHITESPACE"," ",1267],")",["T_WHITESPACE"," ",1267],"{",["T_WHITESPACE","\n\t",1267],["T_IF","if",1268],["T_WHITESPACE"," ",1268],"(",["T_WHITESPACE"," ",1268],["T_STRING","get_site_option",1268],"(",["T_WHITESPACE"," ",1268],["T_CONSTANT_ENCAPSED_STRING","'registrationnotification'",1268],["T_WHITESPACE"," ",1268],")",["T_WHITESPACE"," ",1268],["T_IS_NOT_EQUAL","!=",1268],["T_WHITESPACE"," ",1268],["T_CONSTANT_ENCAPSED_STRING","'yes'",1268],["T_WHITESPACE"," ",1268],")",["T_WHITESPACE","\n\t\t",1268],["T_RETURN","return",1269],["T_WHITESPACE"," ",1269],["T_STRING","false",1269],";",["T_WHITESPACE","\n\n\t",1269],["T_VARIABLE","$email",1271],["T_WHITESPACE"," ",1271],"=",["T_WHITESPACE"," ",1271],["T_STRING","get_site_option",1271],"(",["T_WHITESPACE"," ",1271],["T_CONSTANT_ENCAPSED_STRING","'admin_email'",1271],["T_WHITESPACE"," ",1271],")",";",["T_WHITESPACE","\n\n\t",1271],["T_IF","if",1273],["T_WHITESPACE"," ",1273],"(",["T_WHITESPACE"," ",1273],["T_STRING","is_email",1273],"(",["T_VARIABLE","$email",1273],")",["T_WHITESPACE"," ",1273],["T_IS_EQUAL","==",1273],["T_WHITESPACE"," ",1273],["T_STRING","false",1273],["T_WHITESPACE"," ",1273],")",["T_WHITESPACE","\n\t\t",1273],["T_RETURN","return",1274],["T_WHITESPACE"," ",1274],["T_STRING","false",1274],";",["T_WHITESPACE","\n\n\t",1274],["T_VARIABLE","$user",1276],["T_WHITESPACE"," ",1276],"=",["T_WHITESPACE"," ",1276],["T_STRING","get_userdata",1276],"(",["T_WHITESPACE"," ",1276],["T_VARIABLE","$user_id",1276],["T_WHITESPACE"," ",1276],")",";",["T_WHITESPACE","\n\n\t",1276],["T_VARIABLE","$options_site_url",1278],["T_WHITESPACE"," ",1278],"=",["T_WHITESPACE"," ",1278],["T_STRING","esc_url",1278],"(",["T_STRING","network_admin_url",1278],"(",["T_CONSTANT_ENCAPSED_STRING","'settings.php'",1278],")",")",";",["T_WHITESPACE","\n\t",1278],["T_COMMENT","\/* translators: New user notification email. 1: User login, 2: User IP address, 3: Settings screen URL *\/",1279],["T_WHITESPACE","\n\t",1279],["T_VARIABLE","$msg",1280],["T_WHITESPACE"," ",1280],"=",["T_WHITESPACE"," ",1280],["T_STRING","sprintf",1280],"(",["T_STRING","__",1280],"(",["T_CONSTANT_ENCAPSED_STRING","'New User: %1$s\nRemote IP: %2$s\n\nDisable these notifications: %3$s'",1280],")",",",["T_WHITESPACE"," ",1283],["T_VARIABLE","$user",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","user_login",1283],",",["T_WHITESPACE"," ",1283],["T_STRING","wp_unslash",1283],"(",["T_WHITESPACE"," ",1283],["T_VARIABLE","$_SERVER",1283],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1283],"]",["T_WHITESPACE"," ",1283],")",",",["T_WHITESPACE"," ",1283],["T_VARIABLE","$options_site_url",1283],")",";",["T_WHITESPACE","\n\n\t",1283],["T_DOC_COMMENT","\/**\n\t * Filters the message body of the new user activation email sent\n\t * to the network administrator.\n\t *\n\t * @since MU\n\t *\n\t * @param string  $msg  Email body.\n\t * @param WP_User $user WP_User instance of the new user.\n\t *\/",1285],["T_WHITESPACE","\n\t",1293],["T_VARIABLE","$msg",1294],["T_WHITESPACE"," ",1294],"=",["T_WHITESPACE"," ",1294],["T_STRING","apply_filters",1294],"(",["T_WHITESPACE"," ",1294],["T_CONSTANT_ENCAPSED_STRING","'newuser_notify_siteadmin'",1294],",",["T_WHITESPACE"," ",1294],["T_VARIABLE","$msg",1294],",",["T_WHITESPACE"," ",1294],["T_VARIABLE","$user",1294],["T_WHITESPACE"," ",1294],")",";",["T_WHITESPACE","\n\t",1294],["T_STRING","wp_mail",1295],"(",["T_WHITESPACE"," ",1295],["T_VARIABLE","$email",1295],",",["T_WHITESPACE"," ",1295],["T_STRING","sprintf",1295],"(",["T_STRING","__",1295],"(",["T_CONSTANT_ENCAPSED_STRING","'New User Registration: %s'",1295],")",",",["T_WHITESPACE"," ",1295],["T_VARIABLE","$user",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","user_login",1295],")",",",["T_WHITESPACE"," ",1295],["T_VARIABLE","$msg",1295],["T_WHITESPACE"," ",1295],")",";",["T_WHITESPACE","\n\t",1295],["T_RETURN","return",1296],["T_WHITESPACE"," ",1296],["T_STRING","true",1296],";",["T_WHITESPACE","\n",1296],"}",["T_WHITESPACE","\n\n",1297],["T_DOC_COMMENT","\/**\n * Check whether a blogname is already taken.\n *\n * Used during the new site registration process to ensure\n * that each blogname is unique.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $domain  The domain to be checked.\n * @param string $path    The path to be checked.\n * @param int    $site_id Optional. Relevant only on multi-network installs.\n * @return int\n *\/",1299],["T_WHITESPACE","\n",1313],["T_FUNCTION","function",1314],["T_WHITESPACE"," ",1314],["T_STRING","domain_exists",1314],"(",["T_VARIABLE","$domain",1314],",",["T_WHITESPACE"," ",1314],["T_VARIABLE","$path",1314],",",["T_WHITESPACE"," ",1314],["T_VARIABLE","$site_id",1314],["T_WHITESPACE"," ",1314],"=",["T_WHITESPACE"," ",1314],["T_LNUMBER","1",1314],")",["T_WHITESPACE"," ",1314],"{",["T_WHITESPACE","\n\t",1314],["T_VARIABLE","$path",1315],["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_STRING","trailingslashit",1315],"(",["T_WHITESPACE"," ",1315],["T_VARIABLE","$path",1315],["T_WHITESPACE"," ",1315],")",";",["T_WHITESPACE","\n\t",1315],["T_VARIABLE","$args",1316],["T_WHITESPACE"," ",1316],"=",["T_WHITESPACE"," ",1316],["T_ARRAY","array",1316],"(",["T_WHITESPACE","\n\t\t",1316],["T_CONSTANT_ENCAPSED_STRING","'network_id'",1317],["T_WHITESPACE"," ",1317],["T_DOUBLE_ARROW","=>",1317],["T_WHITESPACE"," ",1317],["T_VARIABLE","$site_id",1317],",",["T_WHITESPACE","\n\t\t",1317],["T_CONSTANT_ENCAPSED_STRING","'domain'",1318],["T_WHITESPACE"," ",1318],["T_DOUBLE_ARROW","=>",1318],["T_WHITESPACE"," ",1318],["T_VARIABLE","$domain",1318],",",["T_WHITESPACE","\n\t\t",1318],["T_CONSTANT_ENCAPSED_STRING","'path'",1319],["T_WHITESPACE"," ",1319],["T_DOUBLE_ARROW","=>",1319],["T_WHITESPACE"," ",1319],["T_VARIABLE","$path",1319],",",["T_WHITESPACE","\n\t\t",1319],["T_CONSTANT_ENCAPSED_STRING","'fields'",1320],["T_WHITESPACE"," ",1320],["T_DOUBLE_ARROW","=>",1320],["T_WHITESPACE"," ",1320],["T_CONSTANT_ENCAPSED_STRING","'ids'",1320],",",["T_WHITESPACE","\n\t",1320],")",";",["T_WHITESPACE","\n\t",1321],["T_VARIABLE","$result",1322],["T_WHITESPACE"," ",1322],"=",["T_WHITESPACE"," ",1322],["T_STRING","get_sites",1322],"(",["T_WHITESPACE"," ",1322],["T_VARIABLE","$args",1322],["T_WHITESPACE"," ",1322],")",";",["T_WHITESPACE","\n\t",1322],["T_VARIABLE","$result",1323],["T_WHITESPACE"," ",1323],"=",["T_WHITESPACE"," ",1323],["T_STRING","array_shift",1323],"(",["T_WHITESPACE"," ",1323],["T_VARIABLE","$result",1323],["T_WHITESPACE"," ",1323],")",";",["T_WHITESPACE","\n\n\t",1323],["T_DOC_COMMENT","\/**\n\t * Filters whether a blogname is taken.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int|null $result  The blog_id if the blogname exists, null otherwise.\n\t * @param string   $domain  Domain to be checked.\n\t * @param string   $path    Path to be checked.\n\t * @param int      $site_id Site ID. Relevant only on multi-network installs.\n\t *\/",1325],["T_WHITESPACE","\n\t",1334],["T_RETURN","return",1335],["T_WHITESPACE"," ",1335],["T_STRING","apply_filters",1335],"(",["T_WHITESPACE"," ",1335],["T_CONSTANT_ENCAPSED_STRING","'domain_exists'",1335],",",["T_WHITESPACE"," ",1335],["T_VARIABLE","$result",1335],",",["T_WHITESPACE"," ",1335],["T_VARIABLE","$domain",1335],",",["T_WHITESPACE"," ",1335],["T_VARIABLE","$path",1335],",",["T_WHITESPACE"," ",1335],["T_VARIABLE","$site_id",1335],["T_WHITESPACE"," ",1335],")",";",["T_WHITESPACE","\n",1335],"}",["T_WHITESPACE","\n\n",1336],["T_DOC_COMMENT","\/**\n * Store basic site info in the blogs table.\n *\n * This function creates a row in the wp_blogs table and returns\n * the new blog's ID. It is the first step in creating a new blog.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $domain  The domain of the new site.\n * @param string $path    The path of the new site.\n * @param int    $site_id Unless you're running a multi-network install, be sure to set this value to 1.\n * @return int|false The ID of the new row\n *\/",1338],["T_WHITESPACE","\n",1352],["T_FUNCTION","function",1353],["T_WHITESPACE"," ",1353],["T_STRING","insert_blog",1353],"(",["T_VARIABLE","$domain",1353],",",["T_WHITESPACE"," ",1353],["T_VARIABLE","$path",1353],",",["T_WHITESPACE"," ",1353],["T_VARIABLE","$site_id",1353],")",["T_WHITESPACE"," ",1353],"{",["T_WHITESPACE","\n\t",1353],["T_GLOBAL","global",1354],["T_WHITESPACE"," ",1354],["T_VARIABLE","$wpdb",1354],";",["T_WHITESPACE","\n\n\t",1354],["T_VARIABLE","$path",1356],["T_WHITESPACE"," ",1356],"=",["T_WHITESPACE"," ",1356],["T_STRING","trailingslashit",1356],"(",["T_VARIABLE","$path",1356],")",";",["T_WHITESPACE","\n\t",1356],["T_VARIABLE","$site_id",1357],["T_WHITESPACE"," ",1357],"=",["T_WHITESPACE"," ",1357],["T_INT_CAST","(int)",1357],["T_WHITESPACE"," ",1357],["T_VARIABLE","$site_id",1357],";",["T_WHITESPACE","\n\n\t",1357],["T_VARIABLE","$result",1359],["T_WHITESPACE"," ",1359],"=",["T_WHITESPACE"," ",1359],["T_VARIABLE","$wpdb",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","insert",1359],"(",["T_WHITESPACE"," ",1359],["T_VARIABLE","$wpdb",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","blogs",1359],",",["T_WHITESPACE"," ",1359],["T_ARRAY","array",1359],"(",["T_CONSTANT_ENCAPSED_STRING","'site_id'",1359],["T_WHITESPACE"," ",1359],["T_DOUBLE_ARROW","=>",1359],["T_WHITESPACE"," ",1359],["T_VARIABLE","$site_id",1359],",",["T_WHITESPACE"," ",1359],["T_CONSTANT_ENCAPSED_STRING","'domain'",1359],["T_WHITESPACE"," ",1359],["T_DOUBLE_ARROW","=>",1359],["T_WHITESPACE"," ",1359],["T_VARIABLE","$domain",1359],",",["T_WHITESPACE"," ",1359],["T_CONSTANT_ENCAPSED_STRING","'path'",1359],["T_WHITESPACE"," ",1359],["T_DOUBLE_ARROW","=>",1359],["T_WHITESPACE"," ",1359],["T_VARIABLE","$path",1359],",",["T_WHITESPACE"," ",1359],["T_CONSTANT_ENCAPSED_STRING","'registered'",1359],["T_WHITESPACE"," ",1359],["T_DOUBLE_ARROW","=>",1359],["T_WHITESPACE"," ",1359],["T_STRING","current_time",1359],"(",["T_CONSTANT_ENCAPSED_STRING","'mysql'",1359],")",")",["T_WHITESPACE"," ",1359],")",";",["T_WHITESPACE","\n\t",1359],["T_IF","if",1360],["T_WHITESPACE"," ",1360],"(",["T_WHITESPACE"," ",1360],"!",["T_WHITESPACE"," ",1360],["T_VARIABLE","$result",1360],["T_WHITESPACE"," ",1360],")",["T_WHITESPACE","\n\t\t",1360],["T_RETURN","return",1361],["T_WHITESPACE"," ",1361],["T_STRING","false",1361],";",["T_WHITESPACE","\n\n\t",1361],["T_VARIABLE","$blog_id",1363],["T_WHITESPACE"," ",1363],"=",["T_WHITESPACE"," ",1363],["T_VARIABLE","$wpdb",1363],["T_OBJECT_OPERATOR","->",1363],["T_STRING","insert_id",1363],";",["T_WHITESPACE","\n\t",1363],["T_STRING","refresh_blog_details",1364],"(",["T_WHITESPACE"," ",1364],["T_VARIABLE","$blog_id",1364],["T_WHITESPACE"," ",1364],")",";",["T_WHITESPACE","\n\n\t",1364],["T_STRING","wp_maybe_update_network_site_counts",1366],"(",")",";",["T_WHITESPACE","\n\n\t",1366],["T_RETURN","return",1368],["T_WHITESPACE"," ",1368],["T_VARIABLE","$blog_id",1368],";",["T_WHITESPACE","\n",1368],"}",["T_WHITESPACE","\n\n",1369],["T_DOC_COMMENT","\/**\n * Install an empty blog.\n *\n * Creates the new blog tables and options. If calling this function\n * directly, be sure to use switch_to_blog() first, so that $wpdb\n * points to the new blog.\n *\n * @since MU\n *\n * @global wpdb     $wpdb\n * @global WP_Roles $wp_roles\n *\n * @param int    $blog_id    The value returned by insert_blog().\n * @param string $blog_title The title of the new site.\n *\/",1371],["T_WHITESPACE","\n",1385],["T_FUNCTION","function",1386],["T_WHITESPACE"," ",1386],["T_STRING","install_blog",1386],"(",["T_WHITESPACE"," ",1386],["T_VARIABLE","$blog_id",1386],",",["T_WHITESPACE"," ",1386],["T_VARIABLE","$blog_title",1386],["T_WHITESPACE"," ",1386],"=",["T_WHITESPACE"," ",1386],["T_CONSTANT_ENCAPSED_STRING","''",1386],["T_WHITESPACE"," ",1386],")",["T_WHITESPACE"," ",1386],"{",["T_WHITESPACE","\n\t",1386],["T_GLOBAL","global",1387],["T_WHITESPACE"," ",1387],["T_VARIABLE","$wpdb",1387],",",["T_WHITESPACE"," ",1387],["T_VARIABLE","$wp_roles",1387],";",["T_WHITESPACE","\n\n\t",1387],["T_COMMENT","\/\/ Cast for security\n",1389],["T_WHITESPACE","\t",1390],["T_VARIABLE","$blog_id",1390],["T_WHITESPACE"," ",1390],"=",["T_WHITESPACE"," ",1390],["T_INT_CAST","(int)",1390],["T_WHITESPACE"," ",1390],["T_VARIABLE","$blog_id",1390],";",["T_WHITESPACE","\n\n\t",1390],["T_REQUIRE_ONCE","require_once",1392],"(",["T_WHITESPACE"," ",1392],["T_STRING","ABSPATH",1392],["T_WHITESPACE"," ",1392],".",["T_WHITESPACE"," ",1392],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/upgrade.php'",1392],["T_WHITESPACE"," ",1392],")",";",["T_WHITESPACE","\n\n\t",1392],["T_VARIABLE","$suppress",1394],["T_WHITESPACE"," ",1394],"=",["T_WHITESPACE"," ",1394],["T_VARIABLE","$wpdb",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","suppress_errors",1394],"(",")",";",["T_WHITESPACE","\n\t",1394],["T_IF","if",1395],["T_WHITESPACE"," ",1395],"(",["T_WHITESPACE"," ",1395],["T_VARIABLE","$wpdb",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","get_results",1395],"(",["T_WHITESPACE"," ",1395],"\"",["T_ENCAPSED_AND_WHITESPACE","DESCRIBE ",1395],["T_CURLY_OPEN","{",1395],["T_VARIABLE","$wpdb",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","posts",1395],"}","\"",["T_WHITESPACE"," ",1395],")",["T_WHITESPACE"," ",1395],")",["T_WHITESPACE","\n\t\t",1395],["T_EXIT","die",1396],"(",["T_WHITESPACE"," ",1396],["T_CONSTANT_ENCAPSED_STRING","'<h1>'",1396],["T_WHITESPACE"," ",1396],".",["T_WHITESPACE"," ",1396],["T_STRING","__",1396],"(",["T_WHITESPACE"," ",1396],["T_CONSTANT_ENCAPSED_STRING","'Already Installed'",1396],["T_WHITESPACE"," ",1396],")",["T_WHITESPACE"," ",1396],".",["T_WHITESPACE"," ",1396],["T_CONSTANT_ENCAPSED_STRING","'<\/h1><p>'",1396],["T_WHITESPACE"," ",1396],".",["T_WHITESPACE"," ",1396],["T_STRING","__",1396],"(",["T_WHITESPACE"," ",1396],["T_CONSTANT_ENCAPSED_STRING","'You appear to have already installed WordPress. To reinstall please clear your old database tables first.'",1396],["T_WHITESPACE"," ",1396],")",["T_WHITESPACE"," ",1396],".",["T_WHITESPACE"," ",1396],["T_CONSTANT_ENCAPSED_STRING","'<\/p><\/body><\/html>'",1396],["T_WHITESPACE"," ",1396],")",";",["T_WHITESPACE","\n\t",1396],["T_VARIABLE","$wpdb",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","suppress_errors",1397],"(",["T_WHITESPACE"," ",1397],["T_VARIABLE","$suppress",1397],["T_WHITESPACE"," ",1397],")",";",["T_WHITESPACE","\n\n\t",1397],["T_VARIABLE","$url",1399],["T_WHITESPACE"," ",1399],"=",["T_WHITESPACE"," ",1399],["T_STRING","get_blogaddress_by_id",1399],"(",["T_WHITESPACE"," ",1399],["T_VARIABLE","$blog_id",1399],["T_WHITESPACE"," ",1399],")",";",["T_WHITESPACE","\n\n\t",1399],["T_COMMENT","\/\/ Set everything up\n",1401],["T_WHITESPACE","\t",1402],["T_STRING","make_db_current_silent",1402],"(",["T_WHITESPACE"," ",1402],["T_CONSTANT_ENCAPSED_STRING","'blog'",1402],["T_WHITESPACE"," ",1402],")",";",["T_WHITESPACE","\n\t",1402],["T_STRING","populate_options",1403],"(",")",";",["T_WHITESPACE","\n\t",1403],["T_STRING","populate_roles",1404],"(",")",";",["T_WHITESPACE","\n\n\t",1404],["T_COMMENT","\/\/ populate_roles() clears previous role definitions so we start over.\n",1406],["T_WHITESPACE","\t",1407],["T_VARIABLE","$wp_roles",1407],["T_WHITESPACE"," ",1407],"=",["T_WHITESPACE"," ",1407],["T_NEW","new",1407],["T_WHITESPACE"," ",1407],["T_STRING","WP_Roles",1407],"(",")",";",["T_WHITESPACE","\n\n\t",1407],["T_VARIABLE","$siteurl",1409],["T_WHITESPACE"," ",1409],"=",["T_WHITESPACE"," ",1409],["T_VARIABLE","$home",1409],["T_WHITESPACE"," ",1409],"=",["T_WHITESPACE"," ",1409],["T_STRING","untrailingslashit",1409],"(",["T_WHITESPACE"," ",1409],["T_VARIABLE","$url",1409],["T_WHITESPACE"," ",1409],")",";",["T_WHITESPACE","\n\n\t",1409],["T_IF","if",1411],["T_WHITESPACE"," ",1411],"(",["T_WHITESPACE"," ",1411],"!",["T_WHITESPACE"," ",1411],["T_STRING","is_subdomain_install",1411],"(",")",["T_WHITESPACE"," ",1411],")",["T_WHITESPACE"," ",1411],"{",["T_WHITESPACE","\n\n \t\t",1411],["T_IF","if",1413],["T_WHITESPACE"," ",1413],"(",["T_WHITESPACE"," ",1413],["T_CONSTANT_ENCAPSED_STRING","'https'",1413],["T_WHITESPACE"," ",1413],["T_IS_IDENTICAL","===",1413],["T_WHITESPACE"," ",1413],["T_STRING","parse_url",1413],"(",["T_WHITESPACE"," ",1413],["T_STRING","get_site_option",1413],"(",["T_WHITESPACE"," ",1413],["T_CONSTANT_ENCAPSED_STRING","'siteurl'",1413],["T_WHITESPACE"," ",1413],")",",",["T_WHITESPACE"," ",1413],["T_STRING","PHP_URL_SCHEME",1413],["T_WHITESPACE"," ",1413],")",["T_WHITESPACE"," ",1413],")",["T_WHITESPACE"," ",1413],"{",["T_WHITESPACE","\n \t\t\t",1413],["T_VARIABLE","$siteurl",1414],["T_WHITESPACE"," ",1414],"=",["T_WHITESPACE"," ",1414],["T_STRING","set_url_scheme",1414],"(",["T_WHITESPACE"," ",1414],["T_VARIABLE","$siteurl",1414],",",["T_WHITESPACE"," ",1414],["T_CONSTANT_ENCAPSED_STRING","'https'",1414],["T_WHITESPACE"," ",1414],")",";",["T_WHITESPACE","\n \t\t",1414],"}",["T_WHITESPACE","\n \t\t",1415],["T_IF","if",1416],["T_WHITESPACE"," ",1416],"(",["T_WHITESPACE"," ",1416],["T_CONSTANT_ENCAPSED_STRING","'https'",1416],["T_WHITESPACE"," ",1416],["T_IS_IDENTICAL","===",1416],["T_WHITESPACE"," ",1416],["T_STRING","parse_url",1416],"(",["T_WHITESPACE"," ",1416],["T_STRING","get_home_url",1416],"(",["T_WHITESPACE"," ",1416],["T_STRING","get_network",1416],"(",")",["T_OBJECT_OPERATOR","->",1416],["T_STRING","site_id",1416],["T_WHITESPACE"," ",1416],")",",",["T_WHITESPACE"," ",1416],["T_STRING","PHP_URL_SCHEME",1416],["T_WHITESPACE"," ",1416],")",["T_WHITESPACE"," ",1416],")",["T_WHITESPACE"," ",1416],"{",["T_WHITESPACE","\n \t\t\t",1416],["T_VARIABLE","$home",1417],["T_WHITESPACE"," ",1417],"=",["T_WHITESPACE"," ",1417],["T_STRING","set_url_scheme",1417],"(",["T_WHITESPACE"," ",1417],["T_VARIABLE","$home",1417],",",["T_WHITESPACE"," ",1417],["T_CONSTANT_ENCAPSED_STRING","'https'",1417],["T_WHITESPACE"," ",1417],")",";",["T_WHITESPACE","\n \t\t",1417],"}",["T_WHITESPACE","\n\n\t",1418],"}",["T_WHITESPACE","\n\n\t",1420],["T_STRING","update_option",1422],"(",["T_WHITESPACE"," ",1422],["T_CONSTANT_ENCAPSED_STRING","'siteurl'",1422],",",["T_WHITESPACE"," ",1422],["T_VARIABLE","$siteurl",1422],["T_WHITESPACE"," ",1422],")",";",["T_WHITESPACE","\n\t",1422],["T_STRING","update_option",1423],"(",["T_WHITESPACE"," ",1423],["T_CONSTANT_ENCAPSED_STRING","'home'",1423],",",["T_WHITESPACE"," ",1423],["T_VARIABLE","$home",1423],["T_WHITESPACE"," ",1423],")",";",["T_WHITESPACE","\n\n\t",1423],["T_IF","if",1425],["T_WHITESPACE"," ",1425],"(",["T_WHITESPACE"," ",1425],["T_STRING","get_site_option",1425],"(",["T_WHITESPACE"," ",1425],["T_CONSTANT_ENCAPSED_STRING","'ms_files_rewriting'",1425],["T_WHITESPACE"," ",1425],")",["T_WHITESPACE"," ",1425],")",["T_WHITESPACE","\n\t\t",1425],["T_STRING","update_option",1426],"(",["T_WHITESPACE"," ",1426],["T_CONSTANT_ENCAPSED_STRING","'upload_path'",1426],",",["T_WHITESPACE"," ",1426],["T_STRING","UPLOADBLOGSDIR",1426],["T_WHITESPACE"," ",1426],".",["T_WHITESPACE"," ",1426],"\"",["T_ENCAPSED_AND_WHITESPACE","\/",1426],["T_VARIABLE","$blog_id",1426],["T_ENCAPSED_AND_WHITESPACE","\/files",1426],"\"",["T_WHITESPACE"," ",1426],")",";",["T_WHITESPACE","\n\t",1426],["T_ELSE","else",1427],["T_WHITESPACE","\n\t\t",1427],["T_STRING","update_option",1428],"(",["T_WHITESPACE"," ",1428],["T_CONSTANT_ENCAPSED_STRING","'upload_path'",1428],",",["T_WHITESPACE"," ",1428],["T_STRING","get_blog_option",1428],"(",["T_WHITESPACE"," ",1428],["T_STRING","get_network",1428],"(",")",["T_OBJECT_OPERATOR","->",1428],["T_STRING","site_id",1428],",",["T_WHITESPACE"," ",1428],["T_CONSTANT_ENCAPSED_STRING","'upload_path'",1428],["T_WHITESPACE"," ",1428],")",["T_WHITESPACE"," ",1428],")",";",["T_WHITESPACE","\n\n\t",1428],["T_STRING","update_option",1430],"(",["T_WHITESPACE"," ",1430],["T_CONSTANT_ENCAPSED_STRING","'blogname'",1430],",",["T_WHITESPACE"," ",1430],["T_STRING","wp_unslash",1430],"(",["T_WHITESPACE"," ",1430],["T_VARIABLE","$blog_title",1430],["T_WHITESPACE"," ",1430],")",["T_WHITESPACE"," ",1430],")",";",["T_WHITESPACE","\n\t",1430],["T_STRING","update_option",1431],"(",["T_WHITESPACE"," ",1431],["T_CONSTANT_ENCAPSED_STRING","'admin_email'",1431],",",["T_WHITESPACE"," ",1431],["T_CONSTANT_ENCAPSED_STRING","''",1431],["T_WHITESPACE"," ",1431],")",";",["T_WHITESPACE","\n\n\t",1431],["T_COMMENT","\/\/ remove all perms\n",1433],["T_WHITESPACE","\t",1434],["T_VARIABLE","$table_prefix",1434],["T_WHITESPACE"," ",1434],"=",["T_WHITESPACE"," ",1434],["T_VARIABLE","$wpdb",1434],["T_OBJECT_OPERATOR","->",1434],["T_STRING","get_blog_prefix",1434],"(",")",";",["T_WHITESPACE","\n\t",1434],["T_STRING","delete_metadata",1435],"(",["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'user'",1435],",",["T_WHITESPACE"," ",1435],["T_LNUMBER","0",1435],",",["T_WHITESPACE"," ",1435],["T_VARIABLE","$table_prefix",1435],["T_WHITESPACE"," ",1435],".",["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'user_level'",1435],",",["T_WHITESPACE","   ",1435],["T_STRING","null",1435],",",["T_WHITESPACE"," ",1435],["T_STRING","true",1435],["T_WHITESPACE"," ",1435],")",";",["T_WHITESPACE"," ",1435],["T_COMMENT","\/\/ delete all\n",1435],["T_WHITESPACE","\t",1436],["T_STRING","delete_metadata",1436],"(",["T_WHITESPACE"," ",1436],["T_CONSTANT_ENCAPSED_STRING","'user'",1436],",",["T_WHITESPACE"," ",1436],["T_LNUMBER","0",1436],",",["T_WHITESPACE"," ",1436],["T_VARIABLE","$table_prefix",1436],["T_WHITESPACE"," ",1436],".",["T_WHITESPACE"," ",1436],["T_CONSTANT_ENCAPSED_STRING","'capabilities'",1436],",",["T_WHITESPACE"," ",1436],["T_STRING","null",1436],",",["T_WHITESPACE"," ",1436],["T_STRING","true",1436],["T_WHITESPACE"," ",1436],")",";",["T_WHITESPACE"," ",1436],["T_COMMENT","\/\/ delete all\n",1436],"}",["T_WHITESPACE","\n\n",1437],["T_DOC_COMMENT","\/**\n * Set blog defaults.\n *\n * This function creates a row in the wp_blogs table.\n *\n * @since MU\n * @deprecated MU\n * @deprecated Use wp_install_defaults()\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param int $blog_id Ignored in this function.\n * @param int $user_id\n *\/",1439],["T_WHITESPACE","\n",1452],["T_FUNCTION","function",1453],["T_WHITESPACE"," ",1453],["T_STRING","install_blog_defaults",1453],"(",["T_VARIABLE","$blog_id",1453],",",["T_WHITESPACE"," ",1453],["T_VARIABLE","$user_id",1453],")",["T_WHITESPACE"," ",1453],"{",["T_WHITESPACE","\n\t",1453],["T_GLOBAL","global",1454],["T_WHITESPACE"," ",1454],["T_VARIABLE","$wpdb",1454],";",["T_WHITESPACE","\n\n\t",1454],["T_REQUIRE_ONCE","require_once",1456],"(",["T_WHITESPACE"," ",1456],["T_STRING","ABSPATH",1456],["T_WHITESPACE"," ",1456],".",["T_WHITESPACE"," ",1456],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/upgrade.php'",1456],["T_WHITESPACE"," ",1456],")",";",["T_WHITESPACE","\n\n\t",1456],["T_VARIABLE","$suppress",1458],["T_WHITESPACE"," ",1458],"=",["T_WHITESPACE"," ",1458],["T_VARIABLE","$wpdb",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","suppress_errors",1458],"(",")",";",["T_WHITESPACE","\n\n\t",1458],["T_STRING","wp_install_defaults",1460],"(",["T_VARIABLE","$user_id",1460],")",";",["T_WHITESPACE","\n\n\t",1460],["T_VARIABLE","$wpdb",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","suppress_errors",1462],"(",["T_WHITESPACE"," ",1462],["T_VARIABLE","$suppress",1462],["T_WHITESPACE"," ",1462],")",";",["T_WHITESPACE","\n",1462],"}",["T_WHITESPACE","\n\n",1463],["T_DOC_COMMENT","\/**\n * Notify a user that their blog activation has been successful.\n *\n * Filter {@see 'wpmu_welcome_notification'} to disable or bypass.\n *\n * Filter {@see 'update_welcome_email'} and {@see 'update_welcome_subject'} to\n * modify the content and subject line of the notification email.\n *\n * @since MU\n *\n * @param int    $blog_id  Blog ID.\n * @param int    $user_id  User ID.\n * @param string $password User password.\n * @param string $title    Site title.\n * @param array  $meta     Optional. Signup meta data. By default, contains the requested privacy setting and lang_id.\n * @return bool\n *\/",1465],["T_WHITESPACE","\n",1481],["T_FUNCTION","function",1482],["T_WHITESPACE"," ",1482],["T_STRING","wpmu_welcome_notification",1482],"(",["T_WHITESPACE"," ",1482],["T_VARIABLE","$blog_id",1482],",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$user_id",1482],",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$password",1482],",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$title",1482],",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$meta",1482],["T_WHITESPACE"," ",1482],"=",["T_WHITESPACE"," ",1482],["T_ARRAY","array",1482],"(",")",["T_WHITESPACE"," ",1482],")",["T_WHITESPACE"," ",1482],"{",["T_WHITESPACE","\n\t",1482],["T_VARIABLE","$current_network",1483],["T_WHITESPACE"," ",1483],"=",["T_WHITESPACE"," ",1483],["T_STRING","get_network",1483],"(",")",";",["T_WHITESPACE","\n\n\t",1483],["T_DOC_COMMENT","\/**\n\t * Filters whether to bypass the welcome email after site activation.\n\t *\n\t * Returning false disables the welcome email.\n\t *\n\t * @since MU\n\t *\n\t * @param int|bool $blog_id  Blog ID.\n\t * @param int      $user_id  User ID.\n\t * @param string   $password User password.\n\t * @param string   $title    Site title.\n\t * @param array    $meta     Signup meta data. By default, contains the requested privacy setting and lang_id.\n\t *\/",1485],["T_WHITESPACE","\n\t",1497],["T_IF","if",1498],["T_WHITESPACE"," ",1498],"(",["T_WHITESPACE"," ",1498],"!",["T_WHITESPACE"," ",1498],["T_STRING","apply_filters",1498],"(",["T_WHITESPACE"," ",1498],["T_CONSTANT_ENCAPSED_STRING","'wpmu_welcome_notification'",1498],",",["T_WHITESPACE"," ",1498],["T_VARIABLE","$blog_id",1498],",",["T_WHITESPACE"," ",1498],["T_VARIABLE","$user_id",1498],",",["T_WHITESPACE"," ",1498],["T_VARIABLE","$password",1498],",",["T_WHITESPACE"," ",1498],["T_VARIABLE","$title",1498],",",["T_WHITESPACE"," ",1498],["T_VARIABLE","$meta",1498],["T_WHITESPACE"," ",1498],")",["T_WHITESPACE"," ",1498],")",["T_WHITESPACE","\n\t\t",1498],["T_RETURN","return",1499],["T_WHITESPACE"," ",1499],["T_STRING","false",1499],";",["T_WHITESPACE","\n\n\t",1499],["T_VARIABLE","$user",1501],["T_WHITESPACE"," ",1501],"=",["T_WHITESPACE"," ",1501],["T_STRING","get_userdata",1501],"(",["T_WHITESPACE"," ",1501],["T_VARIABLE","$user_id",1501],["T_WHITESPACE"," ",1501],")",";",["T_WHITESPACE","\n\n\t",1501],["T_VARIABLE","$switched_locale",1503],["T_WHITESPACE"," ",1503],"=",["T_WHITESPACE"," ",1503],["T_STRING","switch_to_locale",1503],"(",["T_WHITESPACE"," ",1503],["T_STRING","get_user_locale",1503],"(",["T_WHITESPACE"," ",1503],["T_VARIABLE","$user",1503],["T_WHITESPACE"," ",1503],")",["T_WHITESPACE"," ",1503],")",";",["T_WHITESPACE","\n\n\t",1503],["T_VARIABLE","$welcome_email",1505],["T_WHITESPACE"," ",1505],"=",["T_WHITESPACE"," ",1505],["T_STRING","get_site_option",1505],"(",["T_WHITESPACE"," ",1505],["T_CONSTANT_ENCAPSED_STRING","'welcome_email'",1505],["T_WHITESPACE"," ",1505],")",";",["T_WHITESPACE","\n\t",1505],["T_IF","if",1506],["T_WHITESPACE"," ",1506],"(",["T_WHITESPACE"," ",1506],["T_VARIABLE","$welcome_email",1506],["T_WHITESPACE"," ",1506],["T_IS_EQUAL","==",1506],["T_WHITESPACE"," ",1506],["T_STRING","false",1506],["T_WHITESPACE"," ",1506],")",["T_WHITESPACE"," ",1506],"{",["T_WHITESPACE","\n\t\t",1506],["T_COMMENT","\/* translators: Do not translate USERNAME, SITE_NAME, BLOG_URL, PASSWORD: those are placeholders. *\/",1507],["T_WHITESPACE","\n\t\t",1507],["T_VARIABLE","$welcome_email",1508],["T_WHITESPACE"," ",1508],"=",["T_WHITESPACE"," ",1508],["T_STRING","__",1508],"(",["T_WHITESPACE"," ",1508],["T_CONSTANT_ENCAPSED_STRING","'Howdy USERNAME,\n\nYour new SITE_NAME site has been successfully set up at:\nBLOG_URL\n\nYou can log in to the administrator account with the following information:\n\nUsername: USERNAME\nPassword: PASSWORD\nLog in here: BLOG_URLwp-login.php\n\nWe hope you enjoy your new site. Thanks!\n\n--The Team @ SITE_NAME'",1508],["T_WHITESPACE"," ",1521],")",";",["T_WHITESPACE","\n\t",1521],"}",["T_WHITESPACE","\n\n\t",1522],["T_VARIABLE","$url",1524],["T_WHITESPACE"," ",1524],"=",["T_WHITESPACE"," ",1524],["T_STRING","get_blogaddress_by_id",1524],"(",["T_VARIABLE","$blog_id",1524],")",";",["T_WHITESPACE","\n\n\t",1524],["T_VARIABLE","$welcome_email",1526],["T_WHITESPACE"," ",1526],"=",["T_WHITESPACE"," ",1526],["T_STRING","str_replace",1526],"(",["T_WHITESPACE"," ",1526],["T_CONSTANT_ENCAPSED_STRING","'SITE_NAME'",1526],",",["T_WHITESPACE"," ",1526],["T_VARIABLE","$current_network",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","site_name",1526],",",["T_WHITESPACE"," ",1526],["T_VARIABLE","$welcome_email",1526],["T_WHITESPACE"," ",1526],")",";",["T_WHITESPACE","\n\t",1526],["T_VARIABLE","$welcome_email",1527],["T_WHITESPACE"," ",1527],"=",["T_WHITESPACE"," ",1527],["T_STRING","str_replace",1527],"(",["T_WHITESPACE"," ",1527],["T_CONSTANT_ENCAPSED_STRING","'BLOG_TITLE'",1527],",",["T_WHITESPACE"," ",1527],["T_VARIABLE","$title",1527],",",["T_WHITESPACE"," ",1527],["T_VARIABLE","$welcome_email",1527],["T_WHITESPACE"," ",1527],")",";",["T_WHITESPACE","\n\t",1527],["T_VARIABLE","$welcome_email",1528],["T_WHITESPACE"," ",1528],"=",["T_WHITESPACE"," ",1528],["T_STRING","str_replace",1528],"(",["T_WHITESPACE"," ",1528],["T_CONSTANT_ENCAPSED_STRING","'BLOG_URL'",1528],",",["T_WHITESPACE"," ",1528],["T_VARIABLE","$url",1528],",",["T_WHITESPACE"," ",1528],["T_VARIABLE","$welcome_email",1528],["T_WHITESPACE"," ",1528],")",";",["T_WHITESPACE","\n\t",1528],["T_VARIABLE","$welcome_email",1529],["T_WHITESPACE"," ",1529],"=",["T_WHITESPACE"," ",1529],["T_STRING","str_replace",1529],"(",["T_WHITESPACE"," ",1529],["T_CONSTANT_ENCAPSED_STRING","'USERNAME'",1529],",",["T_WHITESPACE"," ",1529],["T_VARIABLE","$user",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","user_login",1529],",",["T_WHITESPACE"," ",1529],["T_VARIABLE","$welcome_email",1529],["T_WHITESPACE"," ",1529],")",";",["T_WHITESPACE","\n\t",1529],["T_VARIABLE","$welcome_email",1530],["T_WHITESPACE"," ",1530],"=",["T_WHITESPACE"," ",1530],["T_STRING","str_replace",1530],"(",["T_WHITESPACE"," ",1530],["T_CONSTANT_ENCAPSED_STRING","'PASSWORD'",1530],",",["T_WHITESPACE"," ",1530],["T_VARIABLE","$password",1530],",",["T_WHITESPACE"," ",1530],["T_VARIABLE","$welcome_email",1530],["T_WHITESPACE"," ",1530],")",";",["T_WHITESPACE","\n\n\t",1530],["T_DOC_COMMENT","\/**\n\t * Filters the content of the welcome email after site activation.\n\t *\n\t * Content should be formatted for transmission via wp_mail().\n\t *\n\t * @since MU\n\t *\n\t * @param string $welcome_email Message body of the email.\n\t * @param int    $blog_id       Blog ID.\n\t * @param int    $user_id       User ID.\n\t * @param string $password      User password.\n\t * @param string $title         Site title.\n\t * @param array  $meta          Signup meta data. By default, contains the requested privacy setting and lang_id.\n\t *\/",1532],["T_WHITESPACE","\n\t",1545],["T_VARIABLE","$welcome_email",1546],["T_WHITESPACE"," ",1546],"=",["T_WHITESPACE"," ",1546],["T_STRING","apply_filters",1546],"(",["T_WHITESPACE"," ",1546],["T_CONSTANT_ENCAPSED_STRING","'update_welcome_email'",1546],",",["T_WHITESPACE"," ",1546],["T_VARIABLE","$welcome_email",1546],",",["T_WHITESPACE"," ",1546],["T_VARIABLE","$blog_id",1546],",",["T_WHITESPACE"," ",1546],["T_VARIABLE","$user_id",1546],",",["T_WHITESPACE"," ",1546],["T_VARIABLE","$password",1546],",",["T_WHITESPACE"," ",1546],["T_VARIABLE","$title",1546],",",["T_WHITESPACE"," ",1546],["T_VARIABLE","$meta",1546],["T_WHITESPACE"," ",1546],")",";",["T_WHITESPACE","\n\t",1546],["T_VARIABLE","$admin_email",1547],["T_WHITESPACE"," ",1547],"=",["T_WHITESPACE"," ",1547],["T_STRING","get_site_option",1547],"(",["T_WHITESPACE"," ",1547],["T_CONSTANT_ENCAPSED_STRING","'admin_email'",1547],["T_WHITESPACE"," ",1547],")",";",["T_WHITESPACE","\n\n\t",1547],["T_IF","if",1549],["T_WHITESPACE"," ",1549],"(",["T_WHITESPACE"," ",1549],["T_VARIABLE","$admin_email",1549],["T_WHITESPACE"," ",1549],["T_IS_EQUAL","==",1549],["T_WHITESPACE"," ",1549],["T_CONSTANT_ENCAPSED_STRING","''",1549],["T_WHITESPACE"," ",1549],")",["T_WHITESPACE","\n\t\t",1549],["T_VARIABLE","$admin_email",1550],["T_WHITESPACE"," ",1550],"=",["T_WHITESPACE"," ",1550],["T_CONSTANT_ENCAPSED_STRING","'support@'",1550],["T_WHITESPACE"," ",1550],".",["T_WHITESPACE"," ",1550],["T_VARIABLE","$_SERVER",1550],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",1550],"]",";",["T_WHITESPACE","\n\n\t",1550],["T_VARIABLE","$from_name",1552],["T_WHITESPACE"," ",1552],"=",["T_WHITESPACE"," ",1552],["T_STRING","get_site_option",1552],"(",["T_WHITESPACE"," ",1552],["T_CONSTANT_ENCAPSED_STRING","'site_name'",1552],["T_WHITESPACE"," ",1552],")",["T_WHITESPACE"," ",1552],["T_IS_EQUAL","==",1552],["T_WHITESPACE"," ",1552],["T_CONSTANT_ENCAPSED_STRING","''",1552],["T_WHITESPACE"," ",1552],"?",["T_WHITESPACE"," ",1552],["T_CONSTANT_ENCAPSED_STRING","'WordPress'",1552],["T_WHITESPACE"," ",1552],":",["T_WHITESPACE"," ",1552],["T_STRING","esc_html",1552],"(",["T_WHITESPACE"," ",1552],["T_STRING","get_site_option",1552],"(",["T_WHITESPACE"," ",1552],["T_CONSTANT_ENCAPSED_STRING","'site_name'",1552],["T_WHITESPACE"," ",1552],")",["T_WHITESPACE"," ",1552],")",";",["T_WHITESPACE","\n\t",1552],["T_VARIABLE","$message_headers",1553],["T_WHITESPACE"," ",1553],"=",["T_WHITESPACE"," ",1553],"\"",["T_ENCAPSED_AND_WHITESPACE","From: \\\"",1553],["T_CURLY_OPEN","{",1553],["T_VARIABLE","$from_name",1553],"}",["T_ENCAPSED_AND_WHITESPACE","\\\" <",1553],["T_CURLY_OPEN","{",1553],["T_VARIABLE","$admin_email",1553],"}",["T_ENCAPSED_AND_WHITESPACE",">\\n",1553],"\"",["T_WHITESPACE"," ",1553],".",["T_WHITESPACE"," ",1553],["T_CONSTANT_ENCAPSED_STRING","\"Content-Type: text\/plain; charset=\\\"\"",1553],["T_WHITESPACE"," ",1553],".",["T_WHITESPACE"," ",1553],["T_STRING","get_option",1553],"(",["T_CONSTANT_ENCAPSED_STRING","'blog_charset'",1553],")",["T_WHITESPACE"," ",1553],".",["T_WHITESPACE"," ",1553],["T_CONSTANT_ENCAPSED_STRING","\"\\\"\\n\"",1553],";",["T_WHITESPACE","\n\t",1553],["T_VARIABLE","$message",1554],["T_WHITESPACE"," ",1554],"=",["T_WHITESPACE"," ",1554],["T_VARIABLE","$welcome_email",1554],";",["T_WHITESPACE","\n\n\t",1554],["T_IF","if",1556],["T_WHITESPACE"," ",1556],"(",["T_WHITESPACE"," ",1556],["T_EMPTY","empty",1556],"(",["T_WHITESPACE"," ",1556],["T_VARIABLE","$current_network",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","site_name",1556],["T_WHITESPACE"," ",1556],")",["T_WHITESPACE"," ",1556],")",["T_WHITESPACE","\n\t\t",1556],["T_VARIABLE","$current_network",1557],["T_OBJECT_OPERATOR","->",1557],["T_STRING","site_name",1557],["T_WHITESPACE"," ",1557],"=",["T_WHITESPACE"," ",1557],["T_CONSTANT_ENCAPSED_STRING","'WordPress'",1557],";",["T_WHITESPACE","\n\n\t",1557],["T_COMMENT","\/* translators: New site notification email subject. 1: Network name, 2: New site name *\/",1559],["T_WHITESPACE","\n\t",1559],["T_VARIABLE","$subject",1560],["T_WHITESPACE"," ",1560],"=",["T_WHITESPACE"," ",1560],["T_STRING","__",1560],"(",["T_WHITESPACE"," ",1560],["T_CONSTANT_ENCAPSED_STRING","'New %1$s Site: %2$s'",1560],["T_WHITESPACE"," ",1560],")",";",["T_WHITESPACE","\n\n\t",1560],["T_DOC_COMMENT","\/**\n\t * Filters the subject of the welcome email after site activation.\n\t *\n\t * @since MU\n\t *\n\t * @param string $subject Subject of the email.\n\t *\/",1562],["T_WHITESPACE","\n\t",1568],["T_VARIABLE","$subject",1569],["T_WHITESPACE"," ",1569],"=",["T_WHITESPACE"," ",1569],["T_STRING","apply_filters",1569],"(",["T_WHITESPACE"," ",1569],["T_CONSTANT_ENCAPSED_STRING","'update_welcome_subject'",1569],",",["T_WHITESPACE"," ",1569],["T_STRING","sprintf",1569],"(",["T_WHITESPACE"," ",1569],["T_VARIABLE","$subject",1569],",",["T_WHITESPACE"," ",1569],["T_VARIABLE","$current_network",1569],["T_OBJECT_OPERATOR","->",1569],["T_STRING","site_name",1569],",",["T_WHITESPACE"," ",1569],["T_STRING","wp_unslash",1569],"(",["T_WHITESPACE"," ",1569],["T_VARIABLE","$title",1569],["T_WHITESPACE"," ",1569],")",["T_WHITESPACE"," ",1569],")",["T_WHITESPACE"," ",1569],")",";",["T_WHITESPACE","\n\t",1569],["T_STRING","wp_mail",1570],"(",["T_WHITESPACE"," ",1570],["T_VARIABLE","$user",1570],["T_OBJECT_OPERATOR","->",1570],["T_STRING","user_email",1570],",",["T_WHITESPACE"," ",1570],["T_STRING","wp_specialchars_decode",1570],"(",["T_WHITESPACE"," ",1570],["T_VARIABLE","$subject",1570],["T_WHITESPACE"," ",1570],")",",",["T_WHITESPACE"," ",1570],["T_VARIABLE","$message",1570],",",["T_WHITESPACE"," ",1570],["T_VARIABLE","$message_headers",1570],["T_WHITESPACE"," ",1570],")",";",["T_WHITESPACE","\n\n\t",1570],["T_IF","if",1572],["T_WHITESPACE"," ",1572],"(",["T_WHITESPACE"," ",1572],["T_VARIABLE","$switched_locale",1572],["T_WHITESPACE"," ",1572],")",["T_WHITESPACE"," ",1572],"{",["T_WHITESPACE","\n\t\t",1572],["T_STRING","restore_previous_locale",1573],"(",")",";",["T_WHITESPACE","\n\t",1573],"}",["T_WHITESPACE","\n\n\t",1574],["T_RETURN","return",1576],["T_WHITESPACE"," ",1576],["T_STRING","true",1576],";",["T_WHITESPACE","\n",1576],"}",["T_WHITESPACE","\n\n",1577],["T_DOC_COMMENT","\/**\n * Notify a user that their account activation has been successful.\n *\n * Filter {@see 'wpmu_welcome_user_notification'} to disable or bypass.\n *\n * Filter {@see 'update_welcome_user_email'} and {@see 'update_welcome_user_subject'} to\n * modify the content and subject line of the notification email.\n *\n * @since MU\n *\n * @param int    $user_id  User ID.\n * @param string $password User password.\n * @param array  $meta     Optional. Signup meta data. Default empty array.\n * @return bool\n *\/",1579],["T_WHITESPACE","\n",1593],["T_FUNCTION","function",1594],["T_WHITESPACE"," ",1594],["T_STRING","wpmu_welcome_user_notification",1594],"(",["T_WHITESPACE"," ",1594],["T_VARIABLE","$user_id",1594],",",["T_WHITESPACE"," ",1594],["T_VARIABLE","$password",1594],",",["T_WHITESPACE"," ",1594],["T_VARIABLE","$meta",1594],["T_WHITESPACE"," ",1594],"=",["T_WHITESPACE"," ",1594],["T_ARRAY","array",1594],"(",")",["T_WHITESPACE"," ",1594],")",["T_WHITESPACE"," ",1594],"{",["T_WHITESPACE","\n\t",1594],["T_VARIABLE","$current_network",1595],["T_WHITESPACE"," ",1595],"=",["T_WHITESPACE"," ",1595],["T_STRING","get_network",1595],"(",")",";",["T_WHITESPACE","\n\n\t",1595],["T_DOC_COMMENT","\/**\n \t * Filters whether to bypass the welcome email after user activation.\n\t *\n\t * Returning false disables the welcome email.\n\t *\n\t * @since MU\n\t *\n\t * @param int    $user_id  User ID.\n\t * @param string $password User password.\n\t * @param array  $meta     Signup meta data. Default empty array.\n\t *\/",1597],["T_WHITESPACE","\n\t",1607],["T_IF","if",1608],["T_WHITESPACE"," ",1608],"(",["T_WHITESPACE"," ",1608],"!",["T_WHITESPACE"," ",1608],["T_STRING","apply_filters",1608],"(",["T_WHITESPACE"," ",1608],["T_CONSTANT_ENCAPSED_STRING","'wpmu_welcome_user_notification'",1608],",",["T_WHITESPACE"," ",1608],["T_VARIABLE","$user_id",1608],",",["T_WHITESPACE"," ",1608],["T_VARIABLE","$password",1608],",",["T_WHITESPACE"," ",1608],["T_VARIABLE","$meta",1608],["T_WHITESPACE"," ",1608],")",["T_WHITESPACE"," ",1608],")",["T_WHITESPACE","\n\t\t",1608],["T_RETURN","return",1609],["T_WHITESPACE"," ",1609],["T_STRING","false",1609],";",["T_WHITESPACE","\n\n\t",1609],["T_VARIABLE","$welcome_email",1611],["T_WHITESPACE"," ",1611],"=",["T_WHITESPACE"," ",1611],["T_STRING","get_site_option",1611],"(",["T_WHITESPACE"," ",1611],["T_CONSTANT_ENCAPSED_STRING","'welcome_user_email'",1611],["T_WHITESPACE"," ",1611],")",";",["T_WHITESPACE","\n\n\t",1611],["T_VARIABLE","$user",1613],["T_WHITESPACE"," ",1613],"=",["T_WHITESPACE"," ",1613],["T_STRING","get_userdata",1613],"(",["T_WHITESPACE"," ",1613],["T_VARIABLE","$user_id",1613],["T_WHITESPACE"," ",1613],")",";",["T_WHITESPACE","\n\n\t",1613],["T_VARIABLE","$switched_locale",1615],["T_WHITESPACE"," ",1615],"=",["T_WHITESPACE"," ",1615],["T_STRING","switch_to_locale",1615],"(",["T_WHITESPACE"," ",1615],["T_STRING","get_user_locale",1615],"(",["T_WHITESPACE"," ",1615],["T_VARIABLE","$user",1615],["T_WHITESPACE"," ",1615],")",["T_WHITESPACE"," ",1615],")",";",["T_WHITESPACE","\n\n\t",1615],["T_DOC_COMMENT","\/**\n\t * Filters the content of the welcome email after user activation.\n\t *\n\t * Content should be formatted for transmission via wp_mail().\n\t *\n\t * @since MU\n\t *\n\t * @param string $welcome_email The message body of the account activation success email.\n\t * @param int    $user_id       User ID.\n\t * @param string $password      User password.\n\t * @param array  $meta          Signup meta data. Default empty array.\n\t *\/",1617],["T_WHITESPACE","\n\t",1628],["T_VARIABLE","$welcome_email",1629],["T_WHITESPACE"," ",1629],"=",["T_WHITESPACE"," ",1629],["T_STRING","apply_filters",1629],"(",["T_WHITESPACE"," ",1629],["T_CONSTANT_ENCAPSED_STRING","'update_welcome_user_email'",1629],",",["T_WHITESPACE"," ",1629],["T_VARIABLE","$welcome_email",1629],",",["T_WHITESPACE"," ",1629],["T_VARIABLE","$user_id",1629],",",["T_WHITESPACE"," ",1629],["T_VARIABLE","$password",1629],",",["T_WHITESPACE"," ",1629],["T_VARIABLE","$meta",1629],["T_WHITESPACE"," ",1629],")",";",["T_WHITESPACE","\n\t",1629],["T_VARIABLE","$welcome_email",1630],["T_WHITESPACE"," ",1630],"=",["T_WHITESPACE"," ",1630],["T_STRING","str_replace",1630],"(",["T_WHITESPACE"," ",1630],["T_CONSTANT_ENCAPSED_STRING","'SITE_NAME'",1630],",",["T_WHITESPACE"," ",1630],["T_VARIABLE","$current_network",1630],["T_OBJECT_OPERATOR","->",1630],["T_STRING","site_name",1630],",",["T_WHITESPACE"," ",1630],["T_VARIABLE","$welcome_email",1630],["T_WHITESPACE"," ",1630],")",";",["T_WHITESPACE","\n\t",1630],["T_VARIABLE","$welcome_email",1631],["T_WHITESPACE"," ",1631],"=",["T_WHITESPACE"," ",1631],["T_STRING","str_replace",1631],"(",["T_WHITESPACE"," ",1631],["T_CONSTANT_ENCAPSED_STRING","'USERNAME'",1631],",",["T_WHITESPACE"," ",1631],["T_VARIABLE","$user",1631],["T_OBJECT_OPERATOR","->",1631],["T_STRING","user_login",1631],",",["T_WHITESPACE"," ",1631],["T_VARIABLE","$welcome_email",1631],["T_WHITESPACE"," ",1631],")",";",["T_WHITESPACE","\n\t",1631],["T_VARIABLE","$welcome_email",1632],["T_WHITESPACE"," ",1632],"=",["T_WHITESPACE"," ",1632],["T_STRING","str_replace",1632],"(",["T_WHITESPACE"," ",1632],["T_CONSTANT_ENCAPSED_STRING","'PASSWORD'",1632],",",["T_WHITESPACE"," ",1632],["T_VARIABLE","$password",1632],",",["T_WHITESPACE"," ",1632],["T_VARIABLE","$welcome_email",1632],["T_WHITESPACE"," ",1632],")",";",["T_WHITESPACE","\n\t",1632],["T_VARIABLE","$welcome_email",1633],["T_WHITESPACE"," ",1633],"=",["T_WHITESPACE"," ",1633],["T_STRING","str_replace",1633],"(",["T_WHITESPACE"," ",1633],["T_CONSTANT_ENCAPSED_STRING","'LOGINLINK'",1633],",",["T_WHITESPACE"," ",1633],["T_STRING","wp_login_url",1633],"(",")",",",["T_WHITESPACE"," ",1633],["T_VARIABLE","$welcome_email",1633],["T_WHITESPACE"," ",1633],")",";",["T_WHITESPACE","\n\n\t",1633],["T_VARIABLE","$admin_email",1635],["T_WHITESPACE"," ",1635],"=",["T_WHITESPACE"," ",1635],["T_STRING","get_site_option",1635],"(",["T_WHITESPACE"," ",1635],["T_CONSTANT_ENCAPSED_STRING","'admin_email'",1635],["T_WHITESPACE"," ",1635],")",";",["T_WHITESPACE","\n\n\t",1635],["T_IF","if",1637],["T_WHITESPACE"," ",1637],"(",["T_WHITESPACE"," ",1637],["T_VARIABLE","$admin_email",1637],["T_WHITESPACE"," ",1637],["T_IS_EQUAL","==",1637],["T_WHITESPACE"," ",1637],["T_CONSTANT_ENCAPSED_STRING","''",1637],["T_WHITESPACE"," ",1637],")",["T_WHITESPACE","\n\t\t",1637],["T_VARIABLE","$admin_email",1638],["T_WHITESPACE"," ",1638],"=",["T_WHITESPACE"," ",1638],["T_CONSTANT_ENCAPSED_STRING","'support@'",1638],["T_WHITESPACE"," ",1638],".",["T_WHITESPACE"," ",1638],["T_VARIABLE","$_SERVER",1638],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",1638],"]",";",["T_WHITESPACE","\n\n\t",1638],["T_VARIABLE","$from_name",1640],["T_WHITESPACE"," ",1640],"=",["T_WHITESPACE"," ",1640],["T_STRING","get_site_option",1640],"(",["T_WHITESPACE"," ",1640],["T_CONSTANT_ENCAPSED_STRING","'site_name'",1640],["T_WHITESPACE"," ",1640],")",["T_WHITESPACE"," ",1640],["T_IS_EQUAL","==",1640],["T_WHITESPACE"," ",1640],["T_CONSTANT_ENCAPSED_STRING","''",1640],["T_WHITESPACE"," ",1640],"?",["T_WHITESPACE"," ",1640],["T_CONSTANT_ENCAPSED_STRING","'WordPress'",1640],["T_WHITESPACE"," ",1640],":",["T_WHITESPACE"," ",1640],["T_STRING","esc_html",1640],"(",["T_WHITESPACE"," ",1640],["T_STRING","get_site_option",1640],"(",["T_WHITESPACE"," ",1640],["T_CONSTANT_ENCAPSED_STRING","'site_name'",1640],["T_WHITESPACE"," ",1640],")",["T_WHITESPACE"," ",1640],")",";",["T_WHITESPACE","\n\t",1640],["T_VARIABLE","$message_headers",1641],["T_WHITESPACE"," ",1641],"=",["T_WHITESPACE"," ",1641],"\"",["T_ENCAPSED_AND_WHITESPACE","From: \\\"",1641],["T_CURLY_OPEN","{",1641],["T_VARIABLE","$from_name",1641],"}",["T_ENCAPSED_AND_WHITESPACE","\\\" <",1641],["T_CURLY_OPEN","{",1641],["T_VARIABLE","$admin_email",1641],"}",["T_ENCAPSED_AND_WHITESPACE",">\\n",1641],"\"",["T_WHITESPACE"," ",1641],".",["T_WHITESPACE"," ",1641],["T_CONSTANT_ENCAPSED_STRING","\"Content-Type: text\/plain; charset=\\\"\"",1641],["T_WHITESPACE"," ",1641],".",["T_WHITESPACE"," ",1641],["T_STRING","get_option",1641],"(",["T_CONSTANT_ENCAPSED_STRING","'blog_charset'",1641],")",["T_WHITESPACE"," ",1641],".",["T_WHITESPACE"," ",1641],["T_CONSTANT_ENCAPSED_STRING","\"\\\"\\n\"",1641],";",["T_WHITESPACE","\n\t",1641],["T_VARIABLE","$message",1642],["T_WHITESPACE"," ",1642],"=",["T_WHITESPACE"," ",1642],["T_VARIABLE","$welcome_email",1642],";",["T_WHITESPACE","\n\n\t",1642],["T_IF","if",1644],["T_WHITESPACE"," ",1644],"(",["T_WHITESPACE"," ",1644],["T_EMPTY","empty",1644],"(",["T_WHITESPACE"," ",1644],["T_VARIABLE","$current_network",1644],["T_OBJECT_OPERATOR","->",1644],["T_STRING","site_name",1644],["T_WHITESPACE"," ",1644],")",["T_WHITESPACE"," ",1644],")",["T_WHITESPACE","\n\t\t",1644],["T_VARIABLE","$current_network",1645],["T_OBJECT_OPERATOR","->",1645],["T_STRING","site_name",1645],["T_WHITESPACE"," ",1645],"=",["T_WHITESPACE"," ",1645],["T_CONSTANT_ENCAPSED_STRING","'WordPress'",1645],";",["T_WHITESPACE","\n\n\t",1645],["T_COMMENT","\/* translators: New user notification email subject. 1: Network name, 2: New user login *\/",1647],["T_WHITESPACE","\n\t",1647],["T_VARIABLE","$subject",1648],["T_WHITESPACE"," ",1648],"=",["T_WHITESPACE"," ",1648],["T_STRING","__",1648],"(",["T_WHITESPACE"," ",1648],["T_CONSTANT_ENCAPSED_STRING","'New %1$s User: %2$s'",1648],["T_WHITESPACE"," ",1648],")",";",["T_WHITESPACE","\n\n\t",1648],["T_DOC_COMMENT","\/**\n\t * Filters the subject of the welcome email after user activation.\n\t *\n\t * @since MU\n\t *\n\t * @param string $subject Subject of the email.\n\t *\/",1650],["T_WHITESPACE","\n\t",1656],["T_VARIABLE","$subject",1657],["T_WHITESPACE"," ",1657],"=",["T_WHITESPACE"," ",1657],["T_STRING","apply_filters",1657],"(",["T_WHITESPACE"," ",1657],["T_CONSTANT_ENCAPSED_STRING","'update_welcome_user_subject'",1657],",",["T_WHITESPACE"," ",1657],["T_STRING","sprintf",1657],"(",["T_WHITESPACE"," ",1657],["T_VARIABLE","$subject",1657],",",["T_WHITESPACE"," ",1657],["T_VARIABLE","$current_network",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","site_name",1657],",",["T_WHITESPACE"," ",1657],["T_VARIABLE","$user",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","user_login",1657],")",["T_WHITESPACE"," ",1657],")",";",["T_WHITESPACE","\n\t",1657],["T_STRING","wp_mail",1658],"(",["T_WHITESPACE"," ",1658],["T_VARIABLE","$user",1658],["T_OBJECT_OPERATOR","->",1658],["T_STRING","user_email",1658],",",["T_WHITESPACE"," ",1658],["T_STRING","wp_specialchars_decode",1658],"(",["T_WHITESPACE"," ",1658],["T_VARIABLE","$subject",1658],["T_WHITESPACE"," ",1658],")",",",["T_WHITESPACE"," ",1658],["T_VARIABLE","$message",1658],",",["T_WHITESPACE"," ",1658],["T_VARIABLE","$message_headers",1658],["T_WHITESPACE"," ",1658],")",";",["T_WHITESPACE","\n\n\t",1658],["T_IF","if",1660],["T_WHITESPACE"," ",1660],"(",["T_WHITESPACE"," ",1660],["T_VARIABLE","$switched_locale",1660],["T_WHITESPACE"," ",1660],")",["T_WHITESPACE"," ",1660],"{",["T_WHITESPACE","\n\t\t",1660],["T_STRING","restore_previous_locale",1661],"(",")",";",["T_WHITESPACE","\n\t",1661],"}",["T_WHITESPACE","\n\n\t",1662],["T_RETURN","return",1664],["T_WHITESPACE"," ",1664],["T_STRING","true",1664],";",["T_WHITESPACE","\n",1664],"}",["T_WHITESPACE","\n\n",1665],["T_DOC_COMMENT","\/**\n * Get the current network.\n *\n * Returns an object containing the 'id', 'domain', 'path', and 'site_name'\n * properties of the network being viewed.\n *\n * @see wpmu_current_site()\n *\n * @since MU\n *\n * @global WP_Network $current_site\n *\n * @return WP_Network\n *\/",1667],["T_WHITESPACE","\n",1680],["T_FUNCTION","function",1681],["T_WHITESPACE"," ",1681],["T_STRING","get_current_site",1681],"(",")",["T_WHITESPACE"," ",1681],"{",["T_WHITESPACE","\n\t",1681],["T_GLOBAL","global",1682],["T_WHITESPACE"," ",1682],["T_VARIABLE","$current_site",1682],";",["T_WHITESPACE","\n\t",1682],["T_RETURN","return",1683],["T_WHITESPACE"," ",1683],["T_VARIABLE","$current_site",1683],";",["T_WHITESPACE","\n",1683],"}",["T_WHITESPACE","\n\n",1684],["T_DOC_COMMENT","\/**\n * Get a user's most recent post.\n *\n * Walks through each of a user's blogs to find the post with\n * the most recent post_date_gmt.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param int $user_id\n * @return array Contains the blog_id, post_id, post_date_gmt, and post_gmt_ts\n *\/",1686],["T_WHITESPACE","\n",1698],["T_FUNCTION","function",1699],["T_WHITESPACE"," ",1699],["T_STRING","get_most_recent_post_of_user",1699],"(",["T_WHITESPACE"," ",1699],["T_VARIABLE","$user_id",1699],["T_WHITESPACE"," ",1699],")",["T_WHITESPACE"," ",1699],"{",["T_WHITESPACE","\n\t",1699],["T_GLOBAL","global",1700],["T_WHITESPACE"," ",1700],["T_VARIABLE","$wpdb",1700],";",["T_WHITESPACE","\n\n\t",1700],["T_VARIABLE","$user_blogs",1702],["T_WHITESPACE"," ",1702],"=",["T_WHITESPACE"," ",1702],["T_STRING","get_blogs_of_user",1702],"(",["T_WHITESPACE"," ",1702],["T_INT_CAST","(int)",1702],["T_WHITESPACE"," ",1702],["T_VARIABLE","$user_id",1702],["T_WHITESPACE"," ",1702],")",";",["T_WHITESPACE","\n\t",1702],["T_VARIABLE","$most_recent_post",1703],["T_WHITESPACE"," ",1703],"=",["T_WHITESPACE"," ",1703],["T_ARRAY","array",1703],"(",")",";",["T_WHITESPACE","\n\n\t",1703],["T_COMMENT","\/\/ Walk through each blog and get the most recent post\n",1705],["T_WHITESPACE","\t",1706],["T_COMMENT","\/\/ published by $user_id\n",1706],["T_WHITESPACE","\t",1707],["T_FOREACH","foreach",1707],["T_WHITESPACE"," ",1707],"(",["T_WHITESPACE"," ",1707],["T_ARRAY_CAST","(array)",1707],["T_WHITESPACE"," ",1707],["T_VARIABLE","$user_blogs",1707],["T_WHITESPACE"," ",1707],["T_AS","as",1707],["T_WHITESPACE"," ",1707],["T_VARIABLE","$blog",1707],["T_WHITESPACE"," ",1707],")",["T_WHITESPACE"," ",1707],"{",["T_WHITESPACE","\n\t\t",1707],["T_VARIABLE","$prefix",1708],["T_WHITESPACE"," ",1708],"=",["T_WHITESPACE"," ",1708],["T_VARIABLE","$wpdb",1708],["T_OBJECT_OPERATOR","->",1708],["T_STRING","get_blog_prefix",1708],"(",["T_WHITESPACE"," ",1708],["T_VARIABLE","$blog",1708],["T_OBJECT_OPERATOR","->",1708],["T_STRING","userblog_id",1708],["T_WHITESPACE"," ",1708],")",";",["T_WHITESPACE","\n\t\t",1708],["T_VARIABLE","$recent_post",1709],["T_WHITESPACE"," ",1709],"=",["T_WHITESPACE"," ",1709],["T_VARIABLE","$wpdb",1709],["T_OBJECT_OPERATOR","->",1709],["T_STRING","get_row",1709],"(",["T_WHITESPACE"," ",1709],["T_VARIABLE","$wpdb",1709],["T_OBJECT_OPERATOR","->",1709],["T_STRING","prepare",1709],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT ID, post_date_gmt FROM ",1709],["T_CURLY_OPEN","{",1709],["T_VARIABLE","$prefix",1709],"}",["T_ENCAPSED_AND_WHITESPACE","posts WHERE post_author = %d AND post_type = 'post' AND post_status = 'publish' ORDER BY post_date_gmt DESC LIMIT 1",1709],"\"",",",["T_WHITESPACE"," ",1709],["T_VARIABLE","$user_id",1709],["T_WHITESPACE"," ",1709],")",",",["T_WHITESPACE"," ",1709],["T_STRING","ARRAY_A",1709],")",";",["T_WHITESPACE","\n\n\t\t",1709],["T_COMMENT","\/\/ Make sure we found a post\n",1711],["T_WHITESPACE","\t\t",1712],["T_IF","if",1712],["T_WHITESPACE"," ",1712],"(",["T_WHITESPACE"," ",1712],["T_ISSET","isset",1712],"(",["T_VARIABLE","$recent_post",1712],"[",["T_CONSTANT_ENCAPSED_STRING","'ID'",1712],"]",")",["T_WHITESPACE"," ",1712],")",["T_WHITESPACE"," ",1712],"{",["T_WHITESPACE","\n\t\t\t",1712],["T_VARIABLE","$post_gmt_ts",1713],["T_WHITESPACE"," ",1713],"=",["T_WHITESPACE"," ",1713],["T_STRING","strtotime",1713],"(",["T_VARIABLE","$recent_post",1713],"[",["T_CONSTANT_ENCAPSED_STRING","'post_date_gmt'",1713],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",1713],["T_COMMENT","\/\/ If this is the first post checked or if this post is\n",1715],["T_WHITESPACE","\t\t\t",1716],["T_COMMENT","\/\/ newer than the current recent post, make it the new\n",1716],["T_WHITESPACE","\t\t\t",1717],["T_COMMENT","\/\/ most recent post.\n",1717],["T_WHITESPACE","\t\t\t",1718],["T_IF","if",1718],["T_WHITESPACE"," ",1718],"(",["T_WHITESPACE"," ",1718],"!",["T_ISSET","isset",1718],"(",["T_VARIABLE","$most_recent_post",1718],"[",["T_CONSTANT_ENCAPSED_STRING","'post_gmt_ts'",1718],"]",")",["T_WHITESPACE"," ",1718],["T_BOOLEAN_OR","||",1718],["T_WHITESPACE"," ",1718],"(",["T_WHITESPACE"," ",1718],["T_VARIABLE","$post_gmt_ts",1718],["T_WHITESPACE"," ",1718],">",["T_WHITESPACE"," ",1718],["T_VARIABLE","$most_recent_post",1718],"[",["T_CONSTANT_ENCAPSED_STRING","'post_gmt_ts'",1718],"]",["T_WHITESPACE"," ",1718],")",["T_WHITESPACE"," ",1718],")",["T_WHITESPACE"," ",1718],"{",["T_WHITESPACE","\n\t\t\t\t",1718],["T_VARIABLE","$most_recent_post",1719],["T_WHITESPACE"," ",1719],"=",["T_WHITESPACE"," ",1719],["T_ARRAY","array",1719],"(",["T_WHITESPACE","\n\t\t\t\t\t",1719],["T_CONSTANT_ENCAPSED_STRING","'blog_id'",1720],["T_WHITESPACE","\t\t",1720],["T_DOUBLE_ARROW","=>",1720],["T_WHITESPACE"," ",1720],["T_VARIABLE","$blog",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","userblog_id",1720],",",["T_WHITESPACE","\n\t\t\t\t\t",1720],["T_CONSTANT_ENCAPSED_STRING","'post_id'",1721],["T_WHITESPACE","\t\t",1721],["T_DOUBLE_ARROW","=>",1721],["T_WHITESPACE"," ",1721],["T_VARIABLE","$recent_post",1721],"[",["T_CONSTANT_ENCAPSED_STRING","'ID'",1721],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1721],["T_CONSTANT_ENCAPSED_STRING","'post_date_gmt'",1722],["T_WHITESPACE","\t",1722],["T_DOUBLE_ARROW","=>",1722],["T_WHITESPACE"," ",1722],["T_VARIABLE","$recent_post",1722],"[",["T_CONSTANT_ENCAPSED_STRING","'post_date_gmt'",1722],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1722],["T_CONSTANT_ENCAPSED_STRING","'post_gmt_ts'",1723],["T_WHITESPACE","\t",1723],["T_DOUBLE_ARROW","=>",1723],["T_WHITESPACE"," ",1723],["T_VARIABLE","$post_gmt_ts",1723],["T_WHITESPACE","\n\t\t\t\t",1723],")",";",["T_WHITESPACE","\n\t\t\t",1724],"}",["T_WHITESPACE","\n\t\t",1725],"}",["T_WHITESPACE","\n\t",1726],"}",["T_WHITESPACE","\n\n\t",1727],["T_RETURN","return",1729],["T_WHITESPACE"," ",1729],["T_VARIABLE","$most_recent_post",1729],";",["T_WHITESPACE","\n",1729],"}",["T_WHITESPACE","\n\n",1730],["T_COMMENT","\/\/ Misc functions\n",1732],["T_WHITESPACE","\n",1733],["T_DOC_COMMENT","\/**\n * Get the size of a directory.\n *\n * A helper function that is used primarily to check whether\n * a blog has exceeded its allowed upload space.\n *\n * @since MU\n *\n * @param string $directory Full path of a directory.\n * @return int Size of the directory in MB.\n *\/",1734],["T_WHITESPACE","\n",1744],["T_FUNCTION","function",1745],["T_WHITESPACE"," ",1745],["T_STRING","get_dirsize",1745],"(",["T_WHITESPACE"," ",1745],["T_VARIABLE","$directory",1745],["T_WHITESPACE"," ",1745],")",["T_WHITESPACE"," ",1745],"{",["T_WHITESPACE","\n\t",1745],["T_VARIABLE","$dirsize",1746],["T_WHITESPACE"," ",1746],"=",["T_WHITESPACE"," ",1746],["T_STRING","get_transient",1746],"(",["T_WHITESPACE"," ",1746],["T_CONSTANT_ENCAPSED_STRING","'dirsize_cache'",1746],["T_WHITESPACE"," ",1746],")",";",["T_WHITESPACE","\n\t",1746],["T_IF","if",1747],["T_WHITESPACE"," ",1747],"(",["T_WHITESPACE"," ",1747],["T_STRING","is_array",1747],"(",["T_WHITESPACE"," ",1747],["T_VARIABLE","$dirsize",1747],["T_WHITESPACE"," ",1747],")",["T_WHITESPACE"," ",1747],["T_BOOLEAN_AND","&&",1747],["T_WHITESPACE"," ",1747],["T_ISSET","isset",1747],"(",["T_WHITESPACE"," ",1747],["T_VARIABLE","$dirsize",1747],"[",["T_WHITESPACE"," ",1747],["T_VARIABLE","$directory",1747],["T_WHITESPACE"," ",1747],"]","[",["T_WHITESPACE"," ",1747],["T_CONSTANT_ENCAPSED_STRING","'size'",1747],["T_WHITESPACE"," ",1747],"]",["T_WHITESPACE"," ",1747],")",["T_WHITESPACE"," ",1747],")",["T_WHITESPACE","\n\t\t",1747],["T_RETURN","return",1748],["T_WHITESPACE"," ",1748],["T_VARIABLE","$dirsize",1748],"[",["T_WHITESPACE"," ",1748],["T_VARIABLE","$directory",1748],["T_WHITESPACE"," ",1748],"]","[",["T_WHITESPACE"," ",1748],["T_CONSTANT_ENCAPSED_STRING","'size'",1748],["T_WHITESPACE"," ",1748],"]",";",["T_WHITESPACE","\n\n\t",1748],["T_IF","if",1750],["T_WHITESPACE"," ",1750],"(",["T_WHITESPACE"," ",1750],"!",["T_WHITESPACE"," ",1750],["T_STRING","is_array",1750],"(",["T_WHITESPACE"," ",1750],["T_VARIABLE","$dirsize",1750],["T_WHITESPACE"," ",1750],")",["T_WHITESPACE"," ",1750],")",["T_WHITESPACE","\n\t\t",1750],["T_VARIABLE","$dirsize",1751],["T_WHITESPACE"," ",1751],"=",["T_WHITESPACE"," ",1751],["T_ARRAY","array",1751],"(",")",";",["T_WHITESPACE","\n\n\t",1751],["T_COMMENT","\/\/ Exclude individual site directories from the total when checking the main site,\n",1753],["T_WHITESPACE","\t",1754],["T_COMMENT","\/\/ as they are subdirectories and should not be counted.\n",1754],["T_WHITESPACE","\t",1755],["T_IF","if",1755],["T_WHITESPACE"," ",1755],"(",["T_WHITESPACE"," ",1755],["T_STRING","is_main_site",1755],"(",")",["T_WHITESPACE"," ",1755],")",["T_WHITESPACE"," ",1755],"{",["T_WHITESPACE","\n\t\t",1755],["T_VARIABLE","$dirsize",1756],"[",["T_WHITESPACE"," ",1756],["T_VARIABLE","$directory",1756],["T_WHITESPACE"," ",1756],"]","[",["T_WHITESPACE"," ",1756],["T_CONSTANT_ENCAPSED_STRING","'size'",1756],["T_WHITESPACE"," ",1756],"]",["T_WHITESPACE"," ",1756],"=",["T_WHITESPACE"," ",1756],["T_STRING","recurse_dirsize",1756],"(",["T_WHITESPACE"," ",1756],["T_VARIABLE","$directory",1756],",",["T_WHITESPACE"," ",1756],["T_VARIABLE","$directory",1756],["T_WHITESPACE"," ",1756],".",["T_WHITESPACE"," ",1756],["T_CONSTANT_ENCAPSED_STRING","'\/sites'",1756],["T_WHITESPACE"," ",1756],")",";",["T_WHITESPACE","\n\t",1756],"}",["T_WHITESPACE"," ",1757],["T_ELSE","else",1757],["T_WHITESPACE"," ",1757],"{",["T_WHITESPACE","\n\t\t",1757],["T_VARIABLE","$dirsize",1758],"[",["T_WHITESPACE"," ",1758],["T_VARIABLE","$directory",1758],["T_WHITESPACE"," ",1758],"]","[",["T_WHITESPACE"," ",1758],["T_CONSTANT_ENCAPSED_STRING","'size'",1758],["T_WHITESPACE"," ",1758],"]",["T_WHITESPACE"," ",1758],"=",["T_WHITESPACE"," ",1758],["T_STRING","recurse_dirsize",1758],"(",["T_WHITESPACE"," ",1758],["T_VARIABLE","$directory",1758],["T_WHITESPACE"," ",1758],")",";",["T_WHITESPACE","\n\t",1758],"}",["T_WHITESPACE","\n\n\t",1759],["T_STRING","set_transient",1761],"(",["T_WHITESPACE"," ",1761],["T_CONSTANT_ENCAPSED_STRING","'dirsize_cache'",1761],",",["T_WHITESPACE"," ",1761],["T_VARIABLE","$dirsize",1761],",",["T_WHITESPACE"," ",1761],["T_STRING","HOUR_IN_SECONDS",1761],["T_WHITESPACE"," ",1761],")",";",["T_WHITESPACE","\n\t",1761],["T_RETURN","return",1762],["T_WHITESPACE"," ",1762],["T_VARIABLE","$dirsize",1762],"[",["T_WHITESPACE"," ",1762],["T_VARIABLE","$directory",1762],["T_WHITESPACE"," ",1762],"]","[",["T_WHITESPACE"," ",1762],["T_CONSTANT_ENCAPSED_STRING","'size'",1762],["T_WHITESPACE"," ",1762],"]",";",["T_WHITESPACE","\n",1762],"}",["T_WHITESPACE","\n\n",1763],["T_DOC_COMMENT","\/**\n * Get the size of a directory recursively.\n *\n * Used by get_dirsize() to get a directory's size when it contains\n * other directories.\n *\n * @since MU\n * @since 4.3.0 $exclude parameter added.\n *\n * @param string $directory Full path of a directory.\n * @param string $exclude   Optional. Full path of a subdirectory to exclude from the total.\n * @return int|false Size in MB if a valid directory. False if not.\n *\/",1765],["T_WHITESPACE","\n",1777],["T_FUNCTION","function",1778],["T_WHITESPACE"," ",1778],["T_STRING","recurse_dirsize",1778],"(",["T_WHITESPACE"," ",1778],["T_VARIABLE","$directory",1778],",",["T_WHITESPACE"," ",1778],["T_VARIABLE","$exclude",1778],["T_WHITESPACE"," ",1778],"=",["T_WHITESPACE"," ",1778],["T_STRING","null",1778],["T_WHITESPACE"," ",1778],")",["T_WHITESPACE"," ",1778],"{",["T_WHITESPACE","\n\t",1778],["T_VARIABLE","$size",1779],["T_WHITESPACE"," ",1779],"=",["T_WHITESPACE"," ",1779],["T_LNUMBER","0",1779],";",["T_WHITESPACE","\n\n\t",1779],["T_VARIABLE","$directory",1781],["T_WHITESPACE"," ",1781],"=",["T_WHITESPACE"," ",1781],["T_STRING","untrailingslashit",1781],"(",["T_WHITESPACE"," ",1781],["T_VARIABLE","$directory",1781],["T_WHITESPACE"," ",1781],")",";",["T_WHITESPACE","\n\n\t",1781],["T_IF","if",1783],["T_WHITESPACE"," ",1783],"(",["T_WHITESPACE"," ",1783],"!",["T_WHITESPACE"," ",1783],["T_STRING","file_exists",1783],"(",["T_WHITESPACE"," ",1783],["T_VARIABLE","$directory",1783],["T_WHITESPACE"," ",1783],")",["T_WHITESPACE"," ",1783],["T_BOOLEAN_OR","||",1783],["T_WHITESPACE"," ",1783],"!",["T_WHITESPACE"," ",1783],["T_STRING","is_dir",1783],"(",["T_WHITESPACE"," ",1783],["T_VARIABLE","$directory",1783],["T_WHITESPACE"," ",1783],")",["T_WHITESPACE"," ",1783],["T_BOOLEAN_OR","||",1783],["T_WHITESPACE"," ",1783],"!",["T_WHITESPACE"," ",1783],["T_STRING","is_readable",1783],"(",["T_WHITESPACE"," ",1783],["T_VARIABLE","$directory",1783],["T_WHITESPACE"," ",1783],")",["T_WHITESPACE"," ",1783],["T_BOOLEAN_OR","||",1783],["T_WHITESPACE"," ",1783],["T_VARIABLE","$directory",1783],["T_WHITESPACE"," ",1783],["T_IS_IDENTICAL","===",1783],["T_WHITESPACE"," ",1783],["T_VARIABLE","$exclude",1783],["T_WHITESPACE"," ",1783],")",["T_WHITESPACE"," ",1783],"{",["T_WHITESPACE","\n\t\t",1783],["T_RETURN","return",1784],["T_WHITESPACE"," ",1784],["T_STRING","false",1784],";",["T_WHITESPACE","\n\t",1784],"}",["T_WHITESPACE","\n\n\t",1785],["T_IF","if",1787],["T_WHITESPACE"," ",1787],"(",["T_VARIABLE","$handle",1787],["T_WHITESPACE"," ",1787],"=",["T_WHITESPACE"," ",1787],["T_STRING","opendir",1787],"(",["T_VARIABLE","$directory",1787],")",")",["T_WHITESPACE"," ",1787],"{",["T_WHITESPACE","\n\t\t",1787],["T_WHILE","while",1788],"(","(",["T_VARIABLE","$file",1788],["T_WHITESPACE"," ",1788],"=",["T_WHITESPACE"," ",1788],["T_STRING","readdir",1788],"(",["T_VARIABLE","$handle",1788],")",")",["T_WHITESPACE"," ",1788],["T_IS_NOT_IDENTICAL","!==",1788],["T_WHITESPACE"," ",1788],["T_STRING","false",1788],")",["T_WHITESPACE"," ",1788],"{",["T_WHITESPACE","\n\t\t\t",1788],["T_VARIABLE","$path",1789],["T_WHITESPACE"," ",1789],"=",["T_WHITESPACE"," ",1789],["T_VARIABLE","$directory",1789],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",1789],".",["T_VARIABLE","$file",1789],";",["T_WHITESPACE","\n\t\t\t",1789],["T_IF","if",1790],["T_WHITESPACE"," ",1790],"(",["T_VARIABLE","$file",1790],["T_WHITESPACE"," ",1790],["T_IS_NOT_EQUAL","!=",1790],["T_WHITESPACE"," ",1790],["T_CONSTANT_ENCAPSED_STRING","'.'",1790],["T_WHITESPACE"," ",1790],["T_BOOLEAN_AND","&&",1790],["T_WHITESPACE"," ",1790],["T_VARIABLE","$file",1790],["T_WHITESPACE"," ",1790],["T_IS_NOT_EQUAL","!=",1790],["T_WHITESPACE"," ",1790],["T_CONSTANT_ENCAPSED_STRING","'..'",1790],")",["T_WHITESPACE"," ",1790],"{",["T_WHITESPACE","\n\t\t\t\t",1790],["T_IF","if",1791],["T_WHITESPACE"," ",1791],"(",["T_STRING","is_file",1791],"(",["T_VARIABLE","$path",1791],")",")",["T_WHITESPACE"," ",1791],"{",["T_WHITESPACE","\n\t\t\t\t\t",1791],["T_VARIABLE","$size",1792],["T_WHITESPACE"," ",1792],["T_PLUS_EQUAL","+=",1792],["T_WHITESPACE"," ",1792],["T_STRING","filesize",1792],"(",["T_VARIABLE","$path",1792],")",";",["T_WHITESPACE","\n\t\t\t\t",1792],"}",["T_WHITESPACE"," ",1793],["T_ELSEIF","elseif",1793],["T_WHITESPACE"," ",1793],"(",["T_STRING","is_dir",1793],"(",["T_VARIABLE","$path",1793],")",")",["T_WHITESPACE"," ",1793],"{",["T_WHITESPACE","\n\t\t\t\t\t",1793],["T_VARIABLE","$handlesize",1794],["T_WHITESPACE"," ",1794],"=",["T_WHITESPACE"," ",1794],["T_STRING","recurse_dirsize",1794],"(",["T_WHITESPACE"," ",1794],["T_VARIABLE","$path",1794],",",["T_WHITESPACE"," ",1794],["T_VARIABLE","$exclude",1794],["T_WHITESPACE"," ",1794],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1794],["T_IF","if",1795],["T_WHITESPACE"," ",1795],"(",["T_VARIABLE","$handlesize",1795],["T_WHITESPACE"," ",1795],">",["T_WHITESPACE"," ",1795],["T_LNUMBER","0",1795],")",["T_WHITESPACE","\n\t\t\t\t\t\t",1795],["T_VARIABLE","$size",1796],["T_WHITESPACE"," ",1796],["T_PLUS_EQUAL","+=",1796],["T_WHITESPACE"," ",1796],["T_VARIABLE","$handlesize",1796],";",["T_WHITESPACE","\n\t\t\t\t",1796],"}",["T_WHITESPACE","\n\t\t\t",1797],"}",["T_WHITESPACE","\n\t\t",1798],"}",["T_WHITESPACE","\n\t\t",1799],["T_STRING","closedir",1800],"(",["T_VARIABLE","$handle",1800],")",";",["T_WHITESPACE","\n\t",1800],"}",["T_WHITESPACE","\n\t",1801],["T_RETURN","return",1802],["T_WHITESPACE"," ",1802],["T_VARIABLE","$size",1802],";",["T_WHITESPACE","\n",1802],"}",["T_WHITESPACE","\n\n",1803],["T_DOC_COMMENT","\/**\n * Check an array of MIME types against a whitelist.\n *\n * WordPress ships with a set of allowed upload filetypes,\n * which is defined in wp-includes\/functions.php in\n * get_allowed_mime_types(). This function is used to filter\n * that list against the filetype whitelist provided by Multisite\n * Super Admins at wp-admin\/network\/settings.php.\n *\n * @since MU\n *\n * @param array $mimes\n * @return array\n *\/",1805],["T_WHITESPACE","\n",1818],["T_FUNCTION","function",1819],["T_WHITESPACE"," ",1819],["T_STRING","check_upload_mimes",1819],"(",["T_WHITESPACE"," ",1819],["T_VARIABLE","$mimes",1819],["T_WHITESPACE"," ",1819],")",["T_WHITESPACE"," ",1819],"{",["T_WHITESPACE","\n\t",1819],["T_VARIABLE","$site_exts",1820],["T_WHITESPACE"," ",1820],"=",["T_WHITESPACE"," ",1820],["T_STRING","explode",1820],"(",["T_WHITESPACE"," ",1820],["T_CONSTANT_ENCAPSED_STRING","' '",1820],",",["T_WHITESPACE"," ",1820],["T_STRING","get_site_option",1820],"(",["T_WHITESPACE"," ",1820],["T_CONSTANT_ENCAPSED_STRING","'upload_filetypes'",1820],",",["T_WHITESPACE"," ",1820],["T_CONSTANT_ENCAPSED_STRING","'jpg jpeg png gif'",1820],["T_WHITESPACE"," ",1820],")",["T_WHITESPACE"," ",1820],")",";",["T_WHITESPACE","\n\t",1820],["T_VARIABLE","$site_mimes",1821],["T_WHITESPACE"," ",1821],"=",["T_WHITESPACE"," ",1821],["T_ARRAY","array",1821],"(",")",";",["T_WHITESPACE","\n\t",1821],["T_FOREACH","foreach",1822],["T_WHITESPACE"," ",1822],"(",["T_WHITESPACE"," ",1822],["T_VARIABLE","$site_exts",1822],["T_WHITESPACE"," ",1822],["T_AS","as",1822],["T_WHITESPACE"," ",1822],["T_VARIABLE","$ext",1822],["T_WHITESPACE"," ",1822],")",["T_WHITESPACE"," ",1822],"{",["T_WHITESPACE","\n\t\t",1822],["T_FOREACH","foreach",1823],["T_WHITESPACE"," ",1823],"(",["T_WHITESPACE"," ",1823],["T_VARIABLE","$mimes",1823],["T_WHITESPACE"," ",1823],["T_AS","as",1823],["T_WHITESPACE"," ",1823],["T_VARIABLE","$ext_pattern",1823],["T_WHITESPACE"," ",1823],["T_DOUBLE_ARROW","=>",1823],["T_WHITESPACE"," ",1823],["T_VARIABLE","$mime",1823],["T_WHITESPACE"," ",1823],")",["T_WHITESPACE"," ",1823],"{",["T_WHITESPACE","\n\t\t\t",1823],["T_IF","if",1824],["T_WHITESPACE"," ",1824],"(",["T_WHITESPACE"," ",1824],["T_VARIABLE","$ext",1824],["T_WHITESPACE"," ",1824],["T_IS_NOT_EQUAL","!=",1824],["T_WHITESPACE"," ",1824],["T_CONSTANT_ENCAPSED_STRING","''",1824],["T_WHITESPACE"," ",1824],["T_BOOLEAN_AND","&&",1824],["T_WHITESPACE"," ",1824],["T_STRING","strpos",1824],"(",["T_WHITESPACE"," ",1824],["T_VARIABLE","$ext_pattern",1824],",",["T_WHITESPACE"," ",1824],["T_VARIABLE","$ext",1824],["T_WHITESPACE"," ",1824],")",["T_WHITESPACE"," ",1824],["T_IS_NOT_IDENTICAL","!==",1824],["T_WHITESPACE"," ",1824],["T_STRING","false",1824],["T_WHITESPACE"," ",1824],")",["T_WHITESPACE","\n\t\t\t\t",1824],["T_VARIABLE","$site_mimes",1825],"[",["T_VARIABLE","$ext_pattern",1825],"]",["T_WHITESPACE"," ",1825],"=",["T_WHITESPACE"," ",1825],["T_VARIABLE","$mime",1825],";",["T_WHITESPACE","\n\t\t",1825],"}",["T_WHITESPACE","\n\t",1826],"}",["T_WHITESPACE","\n\t",1827],["T_RETURN","return",1828],["T_WHITESPACE"," ",1828],["T_VARIABLE","$site_mimes",1828],";",["T_WHITESPACE","\n",1828],"}",["T_WHITESPACE","\n\n",1829],["T_DOC_COMMENT","\/**\n * Update a blog's post count.\n *\n * WordPress MS stores a blog's post count as an option so as\n * to avoid extraneous COUNTs when a blog's details are fetched\n * with get_site(). This function is called when posts are published\n * or unpublished to make sure the count stays current.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $deprecated Not used.\n *\/",1831],["T_WHITESPACE","\n",1844],["T_FUNCTION","function",1845],["T_WHITESPACE"," ",1845],["T_STRING","update_posts_count",1845],"(",["T_WHITESPACE"," ",1845],["T_VARIABLE","$deprecated",1845],["T_WHITESPACE"," ",1845],"=",["T_WHITESPACE"," ",1845],["T_CONSTANT_ENCAPSED_STRING","''",1845],["T_WHITESPACE"," ",1845],")",["T_WHITESPACE"," ",1845],"{",["T_WHITESPACE","\n\t",1845],["T_GLOBAL","global",1846],["T_WHITESPACE"," ",1846],["T_VARIABLE","$wpdb",1846],";",["T_WHITESPACE","\n\t",1846],["T_STRING","update_option",1847],"(",["T_WHITESPACE"," ",1847],["T_CONSTANT_ENCAPSED_STRING","'post_count'",1847],",",["T_WHITESPACE"," ",1847],["T_INT_CAST","(int)",1847],["T_WHITESPACE"," ",1847],["T_VARIABLE","$wpdb",1847],["T_OBJECT_OPERATOR","->",1847],["T_STRING","get_var",1847],"(",["T_WHITESPACE"," ",1847],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT COUNT(ID) FROM ",1847],["T_CURLY_OPEN","{",1847],["T_VARIABLE","$wpdb",1847],["T_OBJECT_OPERATOR","->",1847],["T_STRING","posts",1847],"}",["T_ENCAPSED_AND_WHITESPACE"," WHERE post_status = 'publish' and post_type = 'post'",1847],"\"",["T_WHITESPACE"," ",1847],")",["T_WHITESPACE"," ",1847],")",";",["T_WHITESPACE","\n",1847],"}",["T_WHITESPACE","\n\n",1848],["T_DOC_COMMENT","\/**\n * Logs user registrations.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param int $blog_id\n * @param int $user_id\n *\/",1850],["T_WHITESPACE","\n",1859],["T_FUNCTION","function",1860],["T_WHITESPACE"," ",1860],["T_STRING","wpmu_log_new_registrations",1860],"(",["T_WHITESPACE"," ",1860],["T_VARIABLE","$blog_id",1860],",",["T_WHITESPACE"," ",1860],["T_VARIABLE","$user_id",1860],["T_WHITESPACE"," ",1860],")",["T_WHITESPACE"," ",1860],"{",["T_WHITESPACE","\n\t",1860],["T_GLOBAL","global",1861],["T_WHITESPACE"," ",1861],["T_VARIABLE","$wpdb",1861],";",["T_WHITESPACE","\n\t",1861],["T_VARIABLE","$user",1862],["T_WHITESPACE"," ",1862],"=",["T_WHITESPACE"," ",1862],["T_STRING","get_userdata",1862],"(",["T_WHITESPACE"," ",1862],["T_INT_CAST","(int)",1862],["T_WHITESPACE"," ",1862],["T_VARIABLE","$user_id",1862],["T_WHITESPACE"," ",1862],")",";",["T_WHITESPACE","\n\t",1862],["T_IF","if",1863],["T_WHITESPACE"," ",1863],"(",["T_WHITESPACE"," ",1863],["T_VARIABLE","$user",1863],["T_WHITESPACE"," ",1863],")",["T_WHITESPACE","\n\t\t",1863],["T_VARIABLE","$wpdb",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","insert",1864],"(",["T_WHITESPACE"," ",1864],["T_VARIABLE","$wpdb",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","registration_log",1864],",",["T_WHITESPACE"," ",1864],["T_ARRAY","array",1864],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",1864],["T_WHITESPACE"," ",1864],["T_DOUBLE_ARROW","=>",1864],["T_WHITESPACE"," ",1864],["T_VARIABLE","$user",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","user_email",1864],",",["T_WHITESPACE"," ",1864],["T_CONSTANT_ENCAPSED_STRING","'IP'",1864],["T_WHITESPACE"," ",1864],["T_DOUBLE_ARROW","=>",1864],["T_WHITESPACE"," ",1864],["T_STRING","preg_replace",1864],"(",["T_WHITESPACE"," ",1864],["T_CONSTANT_ENCAPSED_STRING","'\/[^0-9., ]\/'",1864],",",["T_WHITESPACE"," ",1864],["T_CONSTANT_ENCAPSED_STRING","''",1864],",",["T_WHITESPACE"," ",1864],["T_STRING","wp_unslash",1864],"(",["T_WHITESPACE"," ",1864],["T_VARIABLE","$_SERVER",1864],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1864],"]",["T_WHITESPACE"," ",1864],")",["T_WHITESPACE"," ",1864],")",",",["T_WHITESPACE"," ",1864],["T_CONSTANT_ENCAPSED_STRING","'blog_id'",1864],["T_WHITESPACE"," ",1864],["T_DOUBLE_ARROW","=>",1864],["T_WHITESPACE"," ",1864],["T_VARIABLE","$blog_id",1864],",",["T_WHITESPACE"," ",1864],["T_CONSTANT_ENCAPSED_STRING","'date_registered'",1864],["T_WHITESPACE"," ",1864],["T_DOUBLE_ARROW","=>",1864],["T_WHITESPACE"," ",1864],["T_STRING","current_time",1864],"(",["T_CONSTANT_ENCAPSED_STRING","'mysql'",1864],")",")",["T_WHITESPACE"," ",1864],")",";",["T_WHITESPACE","\n",1864],"}",["T_WHITESPACE","\n\n",1865],["T_DOC_COMMENT","\/**\n * Maintains a canonical list of terms by syncing terms created for each blog with the global terms table.\n *\n * @since 3.0.0\n *\n * @see term_id_filter\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n * @staticvar int $global_terms_recurse\n *\n * @param int    $term_id    An ID for a term on the current blog.\n * @param string $deprecated Not used.\n * @return int An ID from the global terms table mapped from $term_id.\n *\/",1867],["T_WHITESPACE","\n",1880],["T_FUNCTION","function",1881],["T_WHITESPACE"," ",1881],["T_STRING","global_terms",1881],"(",["T_WHITESPACE"," ",1881],["T_VARIABLE","$term_id",1881],",",["T_WHITESPACE"," ",1881],["T_VARIABLE","$deprecated",1881],["T_WHITESPACE"," ",1881],"=",["T_WHITESPACE"," ",1881],["T_CONSTANT_ENCAPSED_STRING","''",1881],["T_WHITESPACE"," ",1881],")",["T_WHITESPACE"," ",1881],"{",["T_WHITESPACE","\n\t",1881],["T_GLOBAL","global",1882],["T_WHITESPACE"," ",1882],["T_VARIABLE","$wpdb",1882],";",["T_WHITESPACE","\n\t",1882],["T_STATIC","static",1883],["T_WHITESPACE"," ",1883],["T_VARIABLE","$global_terms_recurse",1883],["T_WHITESPACE"," ",1883],"=",["T_WHITESPACE"," ",1883],["T_STRING","null",1883],";",["T_WHITESPACE","\n\n\t",1883],["T_IF","if",1885],["T_WHITESPACE"," ",1885],"(",["T_WHITESPACE"," ",1885],"!",["T_STRING","global_terms_enabled",1885],"(",")",["T_WHITESPACE"," ",1885],")",["T_WHITESPACE","\n\t\t",1885],["T_RETURN","return",1886],["T_WHITESPACE"," ",1886],["T_VARIABLE","$term_id",1886],";",["T_WHITESPACE","\n\n\t",1886],["T_COMMENT","\/\/ prevent a race condition\n",1888],["T_WHITESPACE","\t",1889],["T_VARIABLE","$recurse_start",1889],["T_WHITESPACE"," ",1889],"=",["T_WHITESPACE"," ",1889],["T_STRING","false",1889],";",["T_WHITESPACE","\n\t",1889],["T_IF","if",1890],["T_WHITESPACE"," ",1890],"(",["T_WHITESPACE"," ",1890],["T_VARIABLE","$global_terms_recurse",1890],["T_WHITESPACE"," ",1890],["T_IS_IDENTICAL","===",1890],["T_WHITESPACE"," ",1890],["T_STRING","null",1890],["T_WHITESPACE"," ",1890],")",["T_WHITESPACE"," ",1890],"{",["T_WHITESPACE","\n\t\t",1890],["T_VARIABLE","$recurse_start",1891],["T_WHITESPACE"," ",1891],"=",["T_WHITESPACE"," ",1891],["T_STRING","true",1891],";",["T_WHITESPACE","\n\t\t",1891],["T_VARIABLE","$global_terms_recurse",1892],["T_WHITESPACE"," ",1892],"=",["T_WHITESPACE"," ",1892],["T_LNUMBER","1",1892],";",["T_WHITESPACE","\n\t",1892],"}",["T_WHITESPACE"," ",1893],["T_ELSEIF","elseif",1893],["T_WHITESPACE"," ",1893],"(",["T_WHITESPACE"," ",1893],["T_LNUMBER","10",1893],["T_WHITESPACE"," ",1893],"<",["T_WHITESPACE"," ",1893],["T_VARIABLE","$global_terms_recurse",1893],["T_INC","++",1893],["T_WHITESPACE"," ",1893],")",["T_WHITESPACE"," ",1893],"{",["T_WHITESPACE","\n\t\t",1893],["T_RETURN","return",1894],["T_WHITESPACE"," ",1894],["T_VARIABLE","$term_id",1894],";",["T_WHITESPACE","\n\t",1894],"}",["T_WHITESPACE","\n\n\t",1895],["T_VARIABLE","$term_id",1897],["T_WHITESPACE"," ",1897],"=",["T_WHITESPACE"," ",1897],["T_STRING","intval",1897],"(",["T_WHITESPACE"," ",1897],["T_VARIABLE","$term_id",1897],["T_WHITESPACE"," ",1897],")",";",["T_WHITESPACE","\n\t",1897],["T_VARIABLE","$c",1898],["T_WHITESPACE"," ",1898],"=",["T_WHITESPACE"," ",1898],["T_VARIABLE","$wpdb",1898],["T_OBJECT_OPERATOR","->",1898],["T_STRING","get_row",1898],"(",["T_WHITESPACE"," ",1898],["T_VARIABLE","$wpdb",1898],["T_OBJECT_OPERATOR","->",1898],["T_STRING","prepare",1898],"(",["T_WHITESPACE"," ",1898],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT * FROM ",1898],["T_VARIABLE","$wpdb",1898],["T_OBJECT_OPERATOR","->",1898],["T_STRING","terms",1898],["T_ENCAPSED_AND_WHITESPACE"," WHERE term_id = %d",1898],"\"",",",["T_WHITESPACE"," ",1898],["T_VARIABLE","$term_id",1898],["T_WHITESPACE"," ",1898],")",["T_WHITESPACE"," ",1898],")",";",["T_WHITESPACE","\n\n\t",1898],["T_VARIABLE","$global_id",1900],["T_WHITESPACE"," ",1900],"=",["T_WHITESPACE"," ",1900],["T_VARIABLE","$wpdb",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","get_var",1900],"(",["T_WHITESPACE"," ",1900],["T_VARIABLE","$wpdb",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","prepare",1900],"(",["T_WHITESPACE"," ",1900],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT cat_ID FROM ",1900],["T_VARIABLE","$wpdb",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","sitecategories",1900],["T_ENCAPSED_AND_WHITESPACE"," WHERE category_nicename = %s",1900],"\"",",",["T_WHITESPACE"," ",1900],["T_VARIABLE","$c",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","slug",1900],["T_WHITESPACE"," ",1900],")",["T_WHITESPACE"," ",1900],")",";",["T_WHITESPACE","\n\t",1900],["T_IF","if",1901],["T_WHITESPACE"," ",1901],"(",["T_WHITESPACE"," ",1901],["T_VARIABLE","$global_id",1901],["T_WHITESPACE"," ",1901],["T_IS_EQUAL","==",1901],["T_WHITESPACE"," ",1901],["T_STRING","null",1901],["T_WHITESPACE"," ",1901],")",["T_WHITESPACE"," ",1901],"{",["T_WHITESPACE","\n\t\t",1901],["T_VARIABLE","$used_global_id",1902],["T_WHITESPACE"," ",1902],"=",["T_WHITESPACE"," ",1902],["T_VARIABLE","$wpdb",1902],["T_OBJECT_OPERATOR","->",1902],["T_STRING","get_var",1902],"(",["T_WHITESPACE"," ",1902],["T_VARIABLE","$wpdb",1902],["T_OBJECT_OPERATOR","->",1902],["T_STRING","prepare",1902],"(",["T_WHITESPACE"," ",1902],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT cat_ID FROM ",1902],["T_VARIABLE","$wpdb",1902],["T_OBJECT_OPERATOR","->",1902],["T_STRING","sitecategories",1902],["T_ENCAPSED_AND_WHITESPACE"," WHERE cat_ID = %d",1902],"\"",",",["T_WHITESPACE"," ",1902],["T_VARIABLE","$c",1902],["T_OBJECT_OPERATOR","->",1902],["T_STRING","term_id",1902],["T_WHITESPACE"," ",1902],")",["T_WHITESPACE"," ",1902],")",";",["T_WHITESPACE","\n\t\t",1902],["T_IF","if",1903],["T_WHITESPACE"," ",1903],"(",["T_WHITESPACE"," ",1903],["T_STRING","null",1903],["T_WHITESPACE"," ",1903],["T_IS_EQUAL","==",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$used_global_id",1903],["T_WHITESPACE"," ",1903],")",["T_WHITESPACE"," ",1903],"{",["T_WHITESPACE","\n\t\t\t",1903],["T_VARIABLE","$wpdb",1904],["T_OBJECT_OPERATOR","->",1904],["T_STRING","insert",1904],"(",["T_WHITESPACE"," ",1904],["T_VARIABLE","$wpdb",1904],["T_OBJECT_OPERATOR","->",1904],["T_STRING","sitecategories",1904],",",["T_WHITESPACE"," ",1904],["T_ARRAY","array",1904],"(",["T_WHITESPACE"," ",1904],["T_CONSTANT_ENCAPSED_STRING","'cat_ID'",1904],["T_WHITESPACE"," ",1904],["T_DOUBLE_ARROW","=>",1904],["T_WHITESPACE"," ",1904],["T_VARIABLE","$term_id",1904],",",["T_WHITESPACE"," ",1904],["T_CONSTANT_ENCAPSED_STRING","'cat_name'",1904],["T_WHITESPACE"," ",1904],["T_DOUBLE_ARROW","=>",1904],["T_WHITESPACE"," ",1904],["T_VARIABLE","$c",1904],["T_OBJECT_OPERATOR","->",1904],["T_STRING","name",1904],",",["T_WHITESPACE"," ",1904],["T_CONSTANT_ENCAPSED_STRING","'category_nicename'",1904],["T_WHITESPACE"," ",1904],["T_DOUBLE_ARROW","=>",1904],["T_WHITESPACE"," ",1904],["T_VARIABLE","$c",1904],["T_OBJECT_OPERATOR","->",1904],["T_STRING","slug",1904],["T_WHITESPACE"," ",1904],")",["T_WHITESPACE"," ",1904],")",";",["T_WHITESPACE","\n\t\t\t",1904],["T_VARIABLE","$global_id",1905],["T_WHITESPACE"," ",1905],"=",["T_WHITESPACE"," ",1905],["T_VARIABLE","$wpdb",1905],["T_OBJECT_OPERATOR","->",1905],["T_STRING","insert_id",1905],";",["T_WHITESPACE","\n\t\t\t",1905],["T_IF","if",1906],["T_WHITESPACE"," ",1906],"(",["T_WHITESPACE"," ",1906],["T_EMPTY","empty",1906],"(",["T_WHITESPACE"," ",1906],["T_VARIABLE","$global_id",1906],["T_WHITESPACE"," ",1906],")",["T_WHITESPACE"," ",1906],")",["T_WHITESPACE","\n\t\t\t\t",1906],["T_RETURN","return",1907],["T_WHITESPACE"," ",1907],["T_VARIABLE","$term_id",1907],";",["T_WHITESPACE","\n\t\t",1907],"}",["T_WHITESPACE"," ",1908],["T_ELSE","else",1908],["T_WHITESPACE"," ",1908],"{",["T_WHITESPACE","\n\t\t\t",1908],["T_VARIABLE","$max_global_id",1909],["T_WHITESPACE"," ",1909],"=",["T_WHITESPACE"," ",1909],["T_VARIABLE","$wpdb",1909],["T_OBJECT_OPERATOR","->",1909],["T_STRING","get_var",1909],"(",["T_WHITESPACE"," ",1909],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT MAX(cat_ID) FROM ",1909],["T_VARIABLE","$wpdb",1909],["T_OBJECT_OPERATOR","->",1909],["T_STRING","sitecategories",1909],"\"",["T_WHITESPACE"," ",1909],")",";",["T_WHITESPACE","\n\t\t\t",1909],["T_VARIABLE","$max_local_id",1910],["T_WHITESPACE"," ",1910],"=",["T_WHITESPACE"," ",1910],["T_VARIABLE","$wpdb",1910],["T_OBJECT_OPERATOR","->",1910],["T_STRING","get_var",1910],"(",["T_WHITESPACE"," ",1910],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT MAX(term_id) FROM ",1910],["T_VARIABLE","$wpdb",1910],["T_OBJECT_OPERATOR","->",1910],["T_STRING","terms",1910],"\"",["T_WHITESPACE"," ",1910],")",";",["T_WHITESPACE","\n\t\t\t",1910],["T_VARIABLE","$new_global_id",1911],["T_WHITESPACE"," ",1911],"=",["T_WHITESPACE"," ",1911],["T_STRING","max",1911],"(",["T_WHITESPACE"," ",1911],["T_VARIABLE","$max_global_id",1911],",",["T_WHITESPACE"," ",1911],["T_VARIABLE","$max_local_id",1911],["T_WHITESPACE"," ",1911],")",["T_WHITESPACE"," ",1911],"+",["T_WHITESPACE"," ",1911],["T_STRING","mt_rand",1911],"(",["T_WHITESPACE"," ",1911],["T_LNUMBER","100",1911],",",["T_WHITESPACE"," ",1911],["T_LNUMBER","400",1911],["T_WHITESPACE"," ",1911],")",";",["T_WHITESPACE","\n\t\t\t",1911],["T_VARIABLE","$wpdb",1912],["T_OBJECT_OPERATOR","->",1912],["T_STRING","insert",1912],"(",["T_WHITESPACE"," ",1912],["T_VARIABLE","$wpdb",1912],["T_OBJECT_OPERATOR","->",1912],["T_STRING","sitecategories",1912],",",["T_WHITESPACE"," ",1912],["T_ARRAY","array",1912],"(",["T_WHITESPACE"," ",1912],["T_CONSTANT_ENCAPSED_STRING","'cat_ID'",1912],["T_WHITESPACE"," ",1912],["T_DOUBLE_ARROW","=>",1912],["T_WHITESPACE"," ",1912],["T_VARIABLE","$new_global_id",1912],",",["T_WHITESPACE"," ",1912],["T_CONSTANT_ENCAPSED_STRING","'cat_name'",1912],["T_WHITESPACE"," ",1912],["T_DOUBLE_ARROW","=>",1912],["T_WHITESPACE"," ",1912],["T_VARIABLE","$c",1912],["T_OBJECT_OPERATOR","->",1912],["T_STRING","name",1912],",",["T_WHITESPACE"," ",1912],["T_CONSTANT_ENCAPSED_STRING","'category_nicename'",1912],["T_WHITESPACE"," ",1912],["T_DOUBLE_ARROW","=>",1912],["T_WHITESPACE"," ",1912],["T_VARIABLE","$c",1912],["T_OBJECT_OPERATOR","->",1912],["T_STRING","slug",1912],["T_WHITESPACE"," ",1912],")",["T_WHITESPACE"," ",1912],")",";",["T_WHITESPACE","\n\t\t\t",1912],["T_VARIABLE","$global_id",1913],["T_WHITESPACE"," ",1913],"=",["T_WHITESPACE"," ",1913],["T_VARIABLE","$wpdb",1913],["T_OBJECT_OPERATOR","->",1913],["T_STRING","insert_id",1913],";",["T_WHITESPACE","\n\t\t",1913],"}",["T_WHITESPACE","\n\t",1914],"}",["T_WHITESPACE"," ",1915],["T_ELSEIF","elseif",1915],["T_WHITESPACE"," ",1915],"(",["T_WHITESPACE"," ",1915],["T_VARIABLE","$global_id",1915],["T_WHITESPACE"," ",1915],["T_IS_NOT_EQUAL","!=",1915],["T_WHITESPACE"," ",1915],["T_VARIABLE","$term_id",1915],["T_WHITESPACE"," ",1915],")",["T_WHITESPACE"," ",1915],"{",["T_WHITESPACE","\n\t\t",1915],["T_VARIABLE","$local_id",1916],["T_WHITESPACE"," ",1916],"=",["T_WHITESPACE"," ",1916],["T_VARIABLE","$wpdb",1916],["T_OBJECT_OPERATOR","->",1916],["T_STRING","get_var",1916],"(",["T_WHITESPACE"," ",1916],["T_VARIABLE","$wpdb",1916],["T_OBJECT_OPERATOR","->",1916],["T_STRING","prepare",1916],"(",["T_WHITESPACE"," ",1916],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT term_id FROM ",1916],["T_VARIABLE","$wpdb",1916],["T_OBJECT_OPERATOR","->",1916],["T_STRING","terms",1916],["T_ENCAPSED_AND_WHITESPACE"," WHERE term_id = %d",1916],"\"",",",["T_WHITESPACE"," ",1916],["T_VARIABLE","$global_id",1916],["T_WHITESPACE"," ",1916],")",["T_WHITESPACE"," ",1916],")",";",["T_WHITESPACE","\n\t\t",1916],["T_IF","if",1917],["T_WHITESPACE"," ",1917],"(",["T_WHITESPACE"," ",1917],["T_STRING","null",1917],["T_WHITESPACE"," ",1917],["T_IS_NOT_EQUAL","!=",1917],["T_WHITESPACE"," ",1917],["T_VARIABLE","$local_id",1917],["T_WHITESPACE"," ",1917],")",["T_WHITESPACE"," ",1917],"{",["T_WHITESPACE","\n\t\t\t",1917],["T_STRING","global_terms",1918],"(",["T_WHITESPACE"," ",1918],["T_VARIABLE","$local_id",1918],["T_WHITESPACE"," ",1918],")",";",["T_WHITESPACE","\n\t\t\t",1918],["T_IF","if",1919],["T_WHITESPACE"," ",1919],"(",["T_WHITESPACE"," ",1919],["T_LNUMBER","10",1919],["T_WHITESPACE"," ",1919],"<",["T_WHITESPACE"," ",1919],["T_VARIABLE","$global_terms_recurse",1919],["T_WHITESPACE"," ",1919],")",["T_WHITESPACE"," ",1919],"{",["T_WHITESPACE","\n\t\t\t\t",1919],["T_VARIABLE","$global_id",1920],["T_WHITESPACE"," ",1920],"=",["T_WHITESPACE"," ",1920],["T_VARIABLE","$term_id",1920],";",["T_WHITESPACE","\n\t\t\t",1920],"}",["T_WHITESPACE","\n\t\t",1921],"}",["T_WHITESPACE","\n\t",1922],"}",["T_WHITESPACE","\n\n\t",1923],["T_IF","if",1925],["T_WHITESPACE"," ",1925],"(",["T_WHITESPACE"," ",1925],["T_VARIABLE","$global_id",1925],["T_WHITESPACE"," ",1925],["T_IS_NOT_EQUAL","!=",1925],["T_WHITESPACE"," ",1925],["T_VARIABLE","$term_id",1925],["T_WHITESPACE"," ",1925],")",["T_WHITESPACE"," ",1925],"{",["T_WHITESPACE","\n\t\t",1925],["T_IF","if",1926],["T_WHITESPACE"," ",1926],"(",["T_WHITESPACE"," ",1926],["T_STRING","get_option",1926],"(",["T_WHITESPACE"," ",1926],["T_CONSTANT_ENCAPSED_STRING","'default_category'",1926],["T_WHITESPACE"," ",1926],")",["T_WHITESPACE"," ",1926],["T_IS_EQUAL","==",1926],["T_WHITESPACE"," ",1926],["T_VARIABLE","$term_id",1926],["T_WHITESPACE"," ",1926],")",["T_WHITESPACE","\n\t\t\t",1926],["T_STRING","update_option",1927],"(",["T_WHITESPACE"," ",1927],["T_CONSTANT_ENCAPSED_STRING","'default_category'",1927],",",["T_WHITESPACE"," ",1927],["T_VARIABLE","$global_id",1927],["T_WHITESPACE"," ",1927],")",";",["T_WHITESPACE","\n\n\t\t",1927],["T_VARIABLE","$wpdb",1929],["T_OBJECT_OPERATOR","->",1929],["T_STRING","update",1929],"(",["T_WHITESPACE"," ",1929],["T_VARIABLE","$wpdb",1929],["T_OBJECT_OPERATOR","->",1929],["T_STRING","terms",1929],",",["T_WHITESPACE"," ",1929],["T_ARRAY","array",1929],"(",["T_CONSTANT_ENCAPSED_STRING","'term_id'",1929],["T_WHITESPACE"," ",1929],["T_DOUBLE_ARROW","=>",1929],["T_WHITESPACE"," ",1929],["T_VARIABLE","$global_id",1929],")",",",["T_WHITESPACE"," ",1929],["T_ARRAY","array",1929],"(",["T_CONSTANT_ENCAPSED_STRING","'term_id'",1929],["T_WHITESPACE"," ",1929],["T_DOUBLE_ARROW","=>",1929],["T_WHITESPACE"," ",1929],["T_VARIABLE","$term_id",1929],")",["T_WHITESPACE"," ",1929],")",";",["T_WHITESPACE","\n\t\t",1929],["T_VARIABLE","$wpdb",1930],["T_OBJECT_OPERATOR","->",1930],["T_STRING","update",1930],"(",["T_WHITESPACE"," ",1930],["T_VARIABLE","$wpdb",1930],["T_OBJECT_OPERATOR","->",1930],["T_STRING","term_taxonomy",1930],",",["T_WHITESPACE"," ",1930],["T_ARRAY","array",1930],"(",["T_CONSTANT_ENCAPSED_STRING","'term_id'",1930],["T_WHITESPACE"," ",1930],["T_DOUBLE_ARROW","=>",1930],["T_WHITESPACE"," ",1930],["T_VARIABLE","$global_id",1930],")",",",["T_WHITESPACE"," ",1930],["T_ARRAY","array",1930],"(",["T_CONSTANT_ENCAPSED_STRING","'term_id'",1930],["T_WHITESPACE"," ",1930],["T_DOUBLE_ARROW","=>",1930],["T_WHITESPACE"," ",1930],["T_VARIABLE","$term_id",1930],")",["T_WHITESPACE"," ",1930],")",";",["T_WHITESPACE","\n\t\t",1930],["T_VARIABLE","$wpdb",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","update",1931],"(",["T_WHITESPACE"," ",1931],["T_VARIABLE","$wpdb",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","term_taxonomy",1931],",",["T_WHITESPACE"," ",1931],["T_ARRAY","array",1931],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",1931],["T_WHITESPACE"," ",1931],["T_DOUBLE_ARROW","=>",1931],["T_WHITESPACE"," ",1931],["T_VARIABLE","$global_id",1931],")",",",["T_WHITESPACE"," ",1931],["T_ARRAY","array",1931],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",1931],["T_WHITESPACE"," ",1931],["T_DOUBLE_ARROW","=>",1931],["T_WHITESPACE"," ",1931],["T_VARIABLE","$term_id",1931],")",["T_WHITESPACE"," ",1931],")",";",["T_WHITESPACE","\n\n\t\t",1931],["T_STRING","clean_term_cache",1933],"(",["T_VARIABLE","$term_id",1933],")",";",["T_WHITESPACE","\n\t",1933],"}",["T_WHITESPACE","\n\t",1934],["T_IF","if",1935],["T_WHITESPACE"," ",1935],"(",["T_WHITESPACE"," ",1935],["T_VARIABLE","$recurse_start",1935],["T_WHITESPACE"," ",1935],")",["T_WHITESPACE","\n\t\t",1935],["T_VARIABLE","$global_terms_recurse",1936],["T_WHITESPACE"," ",1936],"=",["T_WHITESPACE"," ",1936],["T_STRING","null",1936],";",["T_WHITESPACE","\n\n\t",1936],["T_RETURN","return",1938],["T_WHITESPACE"," ",1938],["T_VARIABLE","$global_id",1938],";",["T_WHITESPACE","\n",1938],"}",["T_WHITESPACE","\n\n",1939],["T_DOC_COMMENT","\/**\n * Ensure that the current site's domain is listed in the allowed redirect host list.\n *\n * @see wp_validate_redirect()\n * @since MU\n *\n * @param array|string $deprecated Not used.\n * @return array The current site's domain\n *\/",1941],["T_WHITESPACE","\n",1949],["T_FUNCTION","function",1950],["T_WHITESPACE"," ",1950],["T_STRING","redirect_this_site",1950],"(",["T_WHITESPACE"," ",1950],["T_VARIABLE","$deprecated",1950],["T_WHITESPACE"," ",1950],"=",["T_WHITESPACE"," ",1950],["T_CONSTANT_ENCAPSED_STRING","''",1950],["T_WHITESPACE"," ",1950],")",["T_WHITESPACE"," ",1950],"{",["T_WHITESPACE","\n\t",1950],["T_RETURN","return",1951],["T_WHITESPACE"," ",1951],["T_ARRAY","array",1951],"(",["T_WHITESPACE"," ",1951],["T_STRING","get_network",1951],"(",")",["T_OBJECT_OPERATOR","->",1951],["T_STRING","domain",1951],["T_WHITESPACE"," ",1951],")",";",["T_WHITESPACE","\n",1951],"}",["T_WHITESPACE","\n\n",1952],["T_DOC_COMMENT","\/**\n * Check whether an upload is too big.\n *\n * @since MU\n *\n * @blessed\n *\n * @param array $upload\n * @return string|array If the upload is under the size limit, $upload is returned. Otherwise returns an error message.\n *\/",1954],["T_WHITESPACE","\n",1963],["T_FUNCTION","function",1964],["T_WHITESPACE"," ",1964],["T_STRING","upload_is_file_too_big",1964],"(",["T_WHITESPACE"," ",1964],["T_VARIABLE","$upload",1964],["T_WHITESPACE"," ",1964],")",["T_WHITESPACE"," ",1964],"{",["T_WHITESPACE","\n\t",1964],["T_IF","if",1965],["T_WHITESPACE"," ",1965],"(",["T_WHITESPACE"," ",1965],"!",["T_WHITESPACE"," ",1965],["T_STRING","is_array",1965],"(",["T_WHITESPACE"," ",1965],["T_VARIABLE","$upload",1965],["T_WHITESPACE"," ",1965],")",["T_WHITESPACE"," ",1965],["T_BOOLEAN_OR","||",1965],["T_WHITESPACE"," ",1965],["T_STRING","defined",1965],"(",["T_WHITESPACE"," ",1965],["T_CONSTANT_ENCAPSED_STRING","'WP_IMPORTING'",1965],["T_WHITESPACE"," ",1965],")",["T_WHITESPACE"," ",1965],["T_BOOLEAN_OR","||",1965],["T_WHITESPACE"," ",1965],["T_STRING","get_site_option",1965],"(",["T_WHITESPACE"," ",1965],["T_CONSTANT_ENCAPSED_STRING","'upload_space_check_disabled'",1965],["T_WHITESPACE"," ",1965],")",["T_WHITESPACE"," ",1965],")",["T_WHITESPACE","\n\t\t",1965],["T_RETURN","return",1966],["T_WHITESPACE"," ",1966],["T_VARIABLE","$upload",1966],";",["T_WHITESPACE","\n\n\t",1966],["T_IF","if",1968],["T_WHITESPACE"," ",1968],"(",["T_WHITESPACE"," ",1968],["T_STRING","strlen",1968],"(",["T_WHITESPACE"," ",1968],["T_VARIABLE","$upload",1968],"[",["T_CONSTANT_ENCAPSED_STRING","'bits'",1968],"]",["T_WHITESPACE"," ",1968],")",["T_WHITESPACE","  ",1968],">",["T_WHITESPACE"," ",1968],"(",["T_WHITESPACE"," ",1968],["T_STRING","KB_IN_BYTES",1968],["T_WHITESPACE"," ",1968],"*",["T_WHITESPACE"," ",1968],["T_STRING","get_site_option",1968],"(",["T_WHITESPACE"," ",1968],["T_CONSTANT_ENCAPSED_STRING","'fileupload_maxk'",1968],",",["T_WHITESPACE"," ",1968],["T_LNUMBER","1500",1968],["T_WHITESPACE"," ",1968],")",["T_WHITESPACE"," ",1968],")",["T_WHITESPACE"," ",1968],")",["T_WHITESPACE"," ",1968],"{",["T_WHITESPACE","\n\t\t",1968],["T_RETURN","return",1969],["T_WHITESPACE"," ",1969],["T_STRING","sprintf",1969],"(",["T_WHITESPACE"," ",1969],["T_STRING","__",1969],"(",["T_WHITESPACE"," ",1969],["T_CONSTANT_ENCAPSED_STRING","'This file is too big. Files must be less than %d KB in size.'",1969],["T_WHITESPACE"," ",1969],")",["T_WHITESPACE"," ",1969],".",["T_WHITESPACE"," ",1969],["T_CONSTANT_ENCAPSED_STRING","'<br \/>'",1969],",",["T_WHITESPACE"," ",1969],["T_STRING","get_site_option",1969],"(",["T_WHITESPACE"," ",1969],["T_CONSTANT_ENCAPSED_STRING","'fileupload_maxk'",1969],",",["T_WHITESPACE"," ",1969],["T_LNUMBER","1500",1969],["T_WHITESPACE"," ",1969],")",["T_WHITESPACE"," ",1969],")",";",["T_WHITESPACE","\n\t",1969],"}",["T_WHITESPACE","\n\n\t",1970],["T_RETURN","return",1972],["T_WHITESPACE"," ",1972],["T_VARIABLE","$upload",1972],";",["T_WHITESPACE","\n",1972],"}",["T_WHITESPACE","\n\n",1973],["T_DOC_COMMENT","\/**\n * Add a nonce field to the signup page.\n *\n * @since MU\n *\/",1975],["T_WHITESPACE","\n",1979],["T_FUNCTION","function",1980],["T_WHITESPACE"," ",1980],["T_STRING","signup_nonce_fields",1980],"(",")",["T_WHITESPACE"," ",1980],"{",["T_WHITESPACE","\n\t",1980],["T_VARIABLE","$id",1981],["T_WHITESPACE"," ",1981],"=",["T_WHITESPACE"," ",1981],["T_STRING","mt_rand",1981],"(",")",";",["T_WHITESPACE","\n\t",1981],["T_ECHO","echo",1982],["T_WHITESPACE"," ",1982],"\"",["T_ENCAPSED_AND_WHITESPACE","<input type='hidden' name='signup_form_id' value='",1982],["T_CURLY_OPEN","{",1982],["T_VARIABLE","$id",1982],"}",["T_ENCAPSED_AND_WHITESPACE","' \/>",1982],"\"",";",["T_WHITESPACE","\n\t",1982],["T_STRING","wp_nonce_field",1983],"(",["T_CONSTANT_ENCAPSED_STRING","'signup_form_'",1983],["T_WHITESPACE"," ",1983],".",["T_WHITESPACE"," ",1983],["T_VARIABLE","$id",1983],",",["T_WHITESPACE"," ",1983],["T_CONSTANT_ENCAPSED_STRING","'_signup_form'",1983],",",["T_WHITESPACE"," ",1983],["T_STRING","false",1983],")",";",["T_WHITESPACE","\n",1983],"}",["T_WHITESPACE","\n\n",1984],["T_DOC_COMMENT","\/**\n * Process the signup nonce created in signup_nonce_fields().\n *\n * @since MU\n *\n * @param array $result\n * @return array\n *\/",1986],["T_WHITESPACE","\n",1993],["T_FUNCTION","function",1994],["T_WHITESPACE"," ",1994],["T_STRING","signup_nonce_check",1994],"(",["T_WHITESPACE"," ",1994],["T_VARIABLE","$result",1994],["T_WHITESPACE"," ",1994],")",["T_WHITESPACE"," ",1994],"{",["T_WHITESPACE","\n\t",1994],["T_IF","if",1995],["T_WHITESPACE"," ",1995],"(",["T_WHITESPACE"," ",1995],"!",["T_STRING","strpos",1995],"(",["T_WHITESPACE"," ",1995],["T_VARIABLE","$_SERVER",1995],"[",["T_WHITESPACE"," ",1995],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1995],["T_WHITESPACE"," ",1995],"]",",",["T_WHITESPACE"," ",1995],["T_CONSTANT_ENCAPSED_STRING","'wp-signup.php'",1995],["T_WHITESPACE"," ",1995],")",["T_WHITESPACE"," ",1995],")",["T_WHITESPACE","\n\t\t",1995],["T_RETURN","return",1996],["T_WHITESPACE"," ",1996],["T_VARIABLE","$result",1996],";",["T_WHITESPACE","\n\n\t",1996],["T_IF","if",1998],["T_WHITESPACE"," ",1998],"(",["T_WHITESPACE"," ",1998],["T_STRING","wp_create_nonce",1998],"(",["T_CONSTANT_ENCAPSED_STRING","'signup_form_'",1998],["T_WHITESPACE"," ",1998],".",["T_WHITESPACE"," ",1998],["T_VARIABLE","$_POST",1998],"[",["T_WHITESPACE"," ",1998],["T_CONSTANT_ENCAPSED_STRING","'signup_form_id'",1998],["T_WHITESPACE"," ",1998],"]",")",["T_WHITESPACE"," ",1998],["T_IS_NOT_EQUAL","!=",1998],["T_WHITESPACE"," ",1998],["T_VARIABLE","$_POST",1998],"[",["T_CONSTANT_ENCAPSED_STRING","'_signup_form'",1998],"]",["T_WHITESPACE"," ",1998],")",["T_WHITESPACE","\n\t\t",1998],["T_STRING","wp_die",1999],"(",["T_WHITESPACE"," ",1999],["T_STRING","__",1999],"(",["T_WHITESPACE"," ",1999],["T_CONSTANT_ENCAPSED_STRING","'Please try again.'",1999],["T_WHITESPACE"," ",1999],")",["T_WHITESPACE"," ",1999],")",";",["T_WHITESPACE","\n\n\t",1999],["T_RETURN","return",2001],["T_WHITESPACE"," ",2001],["T_VARIABLE","$result",2001],";",["T_WHITESPACE","\n",2001],"}",["T_WHITESPACE","\n\n",2002],["T_DOC_COMMENT","\/**\n * Correct 404 redirects when NOBLOGREDIRECT is defined.\n *\n * @since MU\n *\/",2004],["T_WHITESPACE","\n",2008],["T_FUNCTION","function",2009],["T_WHITESPACE"," ",2009],["T_STRING","maybe_redirect_404",2009],"(",")",["T_WHITESPACE"," ",2009],"{",["T_WHITESPACE","\n\t",2009],["T_DOC_COMMENT","\/**\n\t * Filters the redirect URL for 404s on the main site.\n\t *\n\t * The filter is only evaluated if the NOBLOGREDIRECT constant is defined.\n\t *\n\t * @since 3.0.0\n\t *\n\t * @param string $no_blog_redirect The redirect URL defined in NOBLOGREDIRECT.\n\t *\/",2010],["T_WHITESPACE","\n\t",2018],["T_IF","if",2019],["T_WHITESPACE"," ",2019],"(",["T_WHITESPACE"," ",2019],["T_STRING","is_main_site",2019],"(",")",["T_WHITESPACE"," ",2019],["T_BOOLEAN_AND","&&",2019],["T_WHITESPACE"," ",2019],["T_STRING","is_404",2019],"(",")",["T_WHITESPACE"," ",2019],["T_BOOLEAN_AND","&&",2019],["T_WHITESPACE"," ",2019],["T_STRING","defined",2019],"(",["T_WHITESPACE"," ",2019],["T_CONSTANT_ENCAPSED_STRING","'NOBLOGREDIRECT'",2019],["T_WHITESPACE"," ",2019],")",["T_WHITESPACE"," ",2019],["T_BOOLEAN_AND","&&",2019],["T_WHITESPACE"," ",2019],"(",["T_WHITESPACE"," ",2019],["T_VARIABLE","$destination",2019],["T_WHITESPACE"," ",2019],"=",["T_WHITESPACE"," ",2019],["T_STRING","apply_filters",2019],"(",["T_WHITESPACE"," ",2019],["T_CONSTANT_ENCAPSED_STRING","'blog_redirect_404'",2019],",",["T_WHITESPACE"," ",2019],["T_STRING","NOBLOGREDIRECT",2019],["T_WHITESPACE"," ",2019],")",["T_WHITESPACE"," ",2019],")",["T_WHITESPACE"," ",2019],")",["T_WHITESPACE"," ",2019],"{",["T_WHITESPACE","\n\t\t",2019],["T_IF","if",2020],["T_WHITESPACE"," ",2020],"(",["T_WHITESPACE"," ",2020],["T_VARIABLE","$destination",2020],["T_WHITESPACE"," ",2020],["T_IS_EQUAL","==",2020],["T_WHITESPACE"," ",2020],["T_CONSTANT_ENCAPSED_STRING","'%siteurl%'",2020],["T_WHITESPACE"," ",2020],")",["T_WHITESPACE","\n\t\t\t",2020],["T_VARIABLE","$destination",2021],["T_WHITESPACE"," ",2021],"=",["T_WHITESPACE"," ",2021],["T_STRING","network_home_url",2021],"(",")",";",["T_WHITESPACE","\n\t\t",2021],["T_STRING","wp_redirect",2022],"(",["T_WHITESPACE"," ",2022],["T_VARIABLE","$destination",2022],["T_WHITESPACE"," ",2022],")",";",["T_WHITESPACE","\n\t\t",2022],["T_EXIT","exit",2023],"(",")",";",["T_WHITESPACE","\n\t",2023],"}",["T_WHITESPACE","\n",2024],"}",["T_WHITESPACE","\n\n",2025],["T_DOC_COMMENT","\/**\n * Add a new user to a blog by visiting \/newbloguser\/username\/.\n *\n * This will only work when the user's details are saved as an option\n * keyed as 'new_user_x', where 'x' is the username of the user to be\n * added, as when a user is invited through the regular WP Add User interface.\n *\n * @since MU\n *\/",2027],["T_WHITESPACE","\n",2035],["T_FUNCTION","function",2036],["T_WHITESPACE"," ",2036],["T_STRING","maybe_add_existing_user_to_blog",2036],"(",")",["T_WHITESPACE"," ",2036],"{",["T_WHITESPACE","\n\t",2036],["T_IF","if",2037],["T_WHITESPACE"," ",2037],"(",["T_WHITESPACE"," ",2037],["T_STRING","false",2037],["T_WHITESPACE"," ",2037],["T_IS_IDENTICAL","===",2037],["T_WHITESPACE"," ",2037],["T_STRING","strpos",2037],"(",["T_WHITESPACE"," ",2037],["T_VARIABLE","$_SERVER",2037],"[",["T_WHITESPACE"," ",2037],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",2037],["T_WHITESPACE"," ",2037],"]",",",["T_WHITESPACE"," ",2037],["T_CONSTANT_ENCAPSED_STRING","'\/newbloguser\/'",2037],["T_WHITESPACE"," ",2037],")",["T_WHITESPACE"," ",2037],")",["T_WHITESPACE","\n\t\t",2037],["T_RETURN","return",2038],";",["T_WHITESPACE","\n\n\t",2038],["T_VARIABLE","$parts",2040],["T_WHITESPACE"," ",2040],"=",["T_WHITESPACE"," ",2040],["T_STRING","explode",2040],"(",["T_WHITESPACE"," ",2040],["T_CONSTANT_ENCAPSED_STRING","'\/'",2040],",",["T_WHITESPACE"," ",2040],["T_VARIABLE","$_SERVER",2040],"[",["T_WHITESPACE"," ",2040],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",2040],["T_WHITESPACE"," ",2040],"]",["T_WHITESPACE"," ",2040],")",";",["T_WHITESPACE","\n\t",2040],["T_VARIABLE","$key",2041],["T_WHITESPACE"," ",2041],"=",["T_WHITESPACE"," ",2041],["T_STRING","array_pop",2041],"(",["T_WHITESPACE"," ",2041],["T_VARIABLE","$parts",2041],["T_WHITESPACE"," ",2041],")",";",["T_WHITESPACE","\n\n\t",2041],["T_IF","if",2043],["T_WHITESPACE"," ",2043],"(",["T_WHITESPACE"," ",2043],["T_VARIABLE","$key",2043],["T_WHITESPACE"," ",2043],["T_IS_EQUAL","==",2043],["T_WHITESPACE"," ",2043],["T_CONSTANT_ENCAPSED_STRING","''",2043],["T_WHITESPACE"," ",2043],")",["T_WHITESPACE","\n\t\t",2043],["T_VARIABLE","$key",2044],["T_WHITESPACE"," ",2044],"=",["T_WHITESPACE"," ",2044],["T_STRING","array_pop",2044],"(",["T_WHITESPACE"," ",2044],["T_VARIABLE","$parts",2044],["T_WHITESPACE"," ",2044],")",";",["T_WHITESPACE","\n\n\t",2044],["T_VARIABLE","$details",2046],["T_WHITESPACE"," ",2046],"=",["T_WHITESPACE"," ",2046],["T_STRING","get_option",2046],"(",["T_WHITESPACE"," ",2046],["T_CONSTANT_ENCAPSED_STRING","'new_user_'",2046],["T_WHITESPACE"," ",2046],".",["T_WHITESPACE"," ",2046],["T_VARIABLE","$key",2046],["T_WHITESPACE"," ",2046],")",";",["T_WHITESPACE","\n\t",2046],["T_IF","if",2047],["T_WHITESPACE"," ",2047],"(",["T_WHITESPACE"," ",2047],"!",["T_EMPTY","empty",2047],"(",["T_WHITESPACE"," ",2047],["T_VARIABLE","$details",2047],["T_WHITESPACE"," ",2047],")",["T_WHITESPACE"," ",2047],")",["T_WHITESPACE","\n\t\t",2047],["T_STRING","delete_option",2048],"(",["T_WHITESPACE"," ",2048],["T_CONSTANT_ENCAPSED_STRING","'new_user_'",2048],["T_WHITESPACE"," ",2048],".",["T_WHITESPACE"," ",2048],["T_VARIABLE","$key",2048],["T_WHITESPACE"," ",2048],")",";",["T_WHITESPACE","\n\n\t",2048],["T_IF","if",2050],["T_WHITESPACE"," ",2050],"(",["T_WHITESPACE"," ",2050],["T_EMPTY","empty",2050],"(",["T_WHITESPACE"," ",2050],["T_VARIABLE","$details",2050],["T_WHITESPACE"," ",2050],")",["T_WHITESPACE"," ",2050],["T_BOOLEAN_OR","||",2050],["T_WHITESPACE"," ",2050],["T_STRING","is_wp_error",2050],"(",["T_WHITESPACE"," ",2050],["T_STRING","add_existing_user_to_blog",2050],"(",["T_WHITESPACE"," ",2050],["T_VARIABLE","$details",2050],["T_WHITESPACE"," ",2050],")",["T_WHITESPACE"," ",2050],")",["T_WHITESPACE"," ",2050],")",["T_WHITESPACE","\n\t\t",2050],["T_STRING","wp_die",2051],"(",["T_WHITESPACE"," ",2051],["T_STRING","sprintf",2051],"(",["T_STRING","__",2051],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred adding you to this site. Back to the <a href=\"%s\">homepage<\/a>.'",2051],")",",",["T_WHITESPACE"," ",2051],["T_STRING","home_url",2051],"(",")",["T_WHITESPACE"," ",2051],")",["T_WHITESPACE"," ",2051],")",";",["T_WHITESPACE","\n\n\t",2051],["T_STRING","wp_die",2053],"(",["T_WHITESPACE"," ",2053],["T_STRING","sprintf",2053],"(",["T_WHITESPACE"," ",2053],["T_STRING","__",2053],"(",["T_WHITESPACE"," ",2053],["T_CONSTANT_ENCAPSED_STRING","'You have been added to this site. Please visit the <a href=\"%s\">homepage<\/a> or <a href=\"%s\">log in<\/a> using your username and password.'",2053],["T_WHITESPACE"," ",2053],")",",",["T_WHITESPACE"," ",2053],["T_STRING","home_url",2053],"(",")",",",["T_WHITESPACE"," ",2053],["T_STRING","admin_url",2053],"(",")",["T_WHITESPACE"," ",2053],")",",",["T_WHITESPACE"," ",2053],["T_STRING","__",2053],"(",["T_WHITESPACE"," ",2053],["T_CONSTANT_ENCAPSED_STRING","'WordPress &rsaquo; Success'",2053],["T_WHITESPACE"," ",2053],")",",",["T_WHITESPACE"," ",2053],["T_ARRAY","array",2053],"(",["T_WHITESPACE"," ",2053],["T_CONSTANT_ENCAPSED_STRING","'response'",2053],["T_WHITESPACE"," ",2053],["T_DOUBLE_ARROW","=>",2053],["T_WHITESPACE"," ",2053],["T_LNUMBER","200",2053],["T_WHITESPACE"," ",2053],")",["T_WHITESPACE"," ",2053],")",";",["T_WHITESPACE","\n",2053],"}",["T_WHITESPACE","\n\n",2054],["T_DOC_COMMENT","\/**\n * Add a user to a blog based on details from maybe_add_existing_user_to_blog().\n *\n * @since MU\n *\n * @param array $details\n * @return true|WP_Error|void\n *\/",2056],["T_WHITESPACE","\n",2063],["T_FUNCTION","function",2064],["T_WHITESPACE"," ",2064],["T_STRING","add_existing_user_to_blog",2064],"(",["T_WHITESPACE"," ",2064],["T_VARIABLE","$details",2064],["T_WHITESPACE"," ",2064],"=",["T_WHITESPACE"," ",2064],["T_STRING","false",2064],["T_WHITESPACE"," ",2064],")",["T_WHITESPACE"," ",2064],"{",["T_WHITESPACE","\n\t",2064],["T_IF","if",2065],["T_WHITESPACE"," ",2065],"(",["T_WHITESPACE"," ",2065],["T_STRING","is_array",2065],"(",["T_WHITESPACE"," ",2065],["T_VARIABLE","$details",2065],["T_WHITESPACE"," ",2065],")",["T_WHITESPACE"," ",2065],")",["T_WHITESPACE"," ",2065],"{",["T_WHITESPACE","\n\t\t",2065],["T_VARIABLE","$blog_id",2066],["T_WHITESPACE"," ",2066],"=",["T_WHITESPACE"," ",2066],["T_STRING","get_current_blog_id",2066],"(",")",";",["T_WHITESPACE","\n\t\t",2066],["T_VARIABLE","$result",2067],["T_WHITESPACE"," ",2067],"=",["T_WHITESPACE"," ",2067],["T_STRING","add_user_to_blog",2067],"(",["T_WHITESPACE"," ",2067],["T_VARIABLE","$blog_id",2067],",",["T_WHITESPACE"," ",2067],["T_VARIABLE","$details",2067],"[",["T_WHITESPACE"," ",2067],["T_CONSTANT_ENCAPSED_STRING","'user_id'",2067],["T_WHITESPACE"," ",2067],"]",",",["T_WHITESPACE"," ",2067],["T_VARIABLE","$details",2067],"[",["T_WHITESPACE"," ",2067],["T_CONSTANT_ENCAPSED_STRING","'role'",2067],["T_WHITESPACE"," ",2067],"]",["T_WHITESPACE"," ",2067],")",";",["T_WHITESPACE","\n\t\t",2067],["T_DOC_COMMENT","\/**\n\t\t * Fires immediately after an existing user is added to a site.\n\t\t *\n\t\t * @since MU\n\t\t *\n\t\t * @param int   $user_id User ID.\n\t\t * @param mixed $result  True on success or a WP_Error object if the user doesn't exist.\n\t\t *\/",2068],["T_WHITESPACE","\n\t\t",2075],["T_STRING","do_action",2076],"(",["T_WHITESPACE"," ",2076],["T_CONSTANT_ENCAPSED_STRING","'added_existing_user'",2076],",",["T_WHITESPACE"," ",2076],["T_VARIABLE","$details",2076],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",2076],"]",",",["T_WHITESPACE"," ",2076],["T_VARIABLE","$result",2076],["T_WHITESPACE"," ",2076],")",";",["T_WHITESPACE","\n\t\t",2076],["T_RETURN","return",2077],["T_WHITESPACE"," ",2077],["T_VARIABLE","$result",2077],";",["T_WHITESPACE","\n\t",2077],"}",["T_WHITESPACE","\n",2078],"}",["T_WHITESPACE","\n\n",2079],["T_DOC_COMMENT","\/**\n * Adds a newly created user to the appropriate blog\n *\n * To add a user in general, use add_user_to_blog(). This function\n * is specifically hooked into the {@see 'wpmu_activate_user'} action.\n *\n * @since MU\n * @see add_user_to_blog()\n *\n * @param int   $user_id\n * @param mixed $password Ignored.\n * @param array $meta\n *\/",2081],["T_WHITESPACE","\n",2093],["T_FUNCTION","function",2094],["T_WHITESPACE"," ",2094],["T_STRING","add_new_user_to_blog",2094],"(",["T_WHITESPACE"," ",2094],["T_VARIABLE","$user_id",2094],",",["T_WHITESPACE"," ",2094],["T_VARIABLE","$password",2094],",",["T_WHITESPACE"," ",2094],["T_VARIABLE","$meta",2094],["T_WHITESPACE"," ",2094],")",["T_WHITESPACE"," ",2094],"{",["T_WHITESPACE","\n\t",2094],["T_IF","if",2095],["T_WHITESPACE"," ",2095],"(",["T_WHITESPACE"," ",2095],"!",["T_EMPTY","empty",2095],"(",["T_WHITESPACE"," ",2095],["T_VARIABLE","$meta",2095],"[",["T_WHITESPACE"," ",2095],["T_CONSTANT_ENCAPSED_STRING","'add_to_blog'",2095],["T_WHITESPACE"," ",2095],"]",["T_WHITESPACE"," ",2095],")",["T_WHITESPACE"," ",2095],")",["T_WHITESPACE"," ",2095],"{",["T_WHITESPACE","\n\t\t",2095],["T_VARIABLE","$blog_id",2096],["T_WHITESPACE"," ",2096],"=",["T_WHITESPACE"," ",2096],["T_VARIABLE","$meta",2096],"[",["T_WHITESPACE"," ",2096],["T_CONSTANT_ENCAPSED_STRING","'add_to_blog'",2096],["T_WHITESPACE"," ",2096],"]",";",["T_WHITESPACE","\n\t\t",2096],["T_VARIABLE","$role",2097],["T_WHITESPACE"," ",2097],"=",["T_WHITESPACE"," ",2097],["T_VARIABLE","$meta",2097],"[",["T_WHITESPACE"," ",2097],["T_CONSTANT_ENCAPSED_STRING","'new_role'",2097],["T_WHITESPACE"," ",2097],"]",";",["T_WHITESPACE","\n\t\t",2097],["T_STRING","remove_user_from_blog",2098],"(",["T_VARIABLE","$user_id",2098],",",["T_WHITESPACE"," ",2098],["T_STRING","get_network",2098],"(",")",["T_OBJECT_OPERATOR","->",2098],["T_STRING","site_id",2098],")",";",["T_WHITESPACE"," ",2098],["T_COMMENT","\/\/ remove user from main blog.\n",2098],["T_WHITESPACE","\t\t",2099],["T_STRING","add_user_to_blog",2099],"(",["T_WHITESPACE"," ",2099],["T_VARIABLE","$blog_id",2099],",",["T_WHITESPACE"," ",2099],["T_VARIABLE","$user_id",2099],",",["T_WHITESPACE"," ",2099],["T_VARIABLE","$role",2099],["T_WHITESPACE"," ",2099],")",";",["T_WHITESPACE","\n\t\t",2099],["T_STRING","update_user_meta",2100],"(",["T_WHITESPACE"," ",2100],["T_VARIABLE","$user_id",2100],",",["T_WHITESPACE"," ",2100],["T_CONSTANT_ENCAPSED_STRING","'primary_blog'",2100],",",["T_WHITESPACE"," ",2100],["T_VARIABLE","$blog_id",2100],["T_WHITESPACE"," ",2100],")",";",["T_WHITESPACE","\n\t",2100],"}",["T_WHITESPACE","\n",2101],"}",["T_WHITESPACE","\n\n",2102],["T_DOC_COMMENT","\/**\n * Correct From host on outgoing mail to match the site domain\n *\n * @since MU\n *\n * @param PHPMailer $phpmailer The PHPMailer instance, passed by reference.\n *\/",2104],["T_WHITESPACE","\n",2110],["T_FUNCTION","function",2111],["T_WHITESPACE"," ",2111],["T_STRING","fix_phpmailer_messageid",2111],"(",["T_WHITESPACE"," ",2111],["T_VARIABLE","$phpmailer",2111],["T_WHITESPACE"," ",2111],")",["T_WHITESPACE"," ",2111],"{",["T_WHITESPACE","\n\t",2111],["T_VARIABLE","$phpmailer",2112],["T_OBJECT_OPERATOR","->",2112],["T_STRING","Hostname",2112],["T_WHITESPACE"," ",2112],"=",["T_WHITESPACE"," ",2112],["T_STRING","get_network",2112],"(",")",["T_OBJECT_OPERATOR","->",2112],["T_STRING","domain",2112],";",["T_WHITESPACE","\n",2112],"}",["T_WHITESPACE","\n\n",2113],["T_DOC_COMMENT","\/**\n * Check to see whether a user is marked as a spammer, based on user login.\n *\n * @since MU\n *\n * @param string|WP_User $user Optional. Defaults to current user. WP_User object,\n * \t                           or user login name as a string.\n * @return bool\n *\/",2115],["T_WHITESPACE","\n",2123],["T_FUNCTION","function",2124],["T_WHITESPACE"," ",2124],["T_STRING","is_user_spammy",2124],"(",["T_WHITESPACE"," ",2124],["T_VARIABLE","$user",2124],["T_WHITESPACE"," ",2124],"=",["T_WHITESPACE"," ",2124],["T_STRING","null",2124],["T_WHITESPACE"," ",2124],")",["T_WHITESPACE"," ",2124],"{",["T_WHITESPACE","\n    ",2124],["T_IF","if",2125],["T_WHITESPACE"," ",2125],"(",["T_WHITESPACE"," ",2125],"!",["T_WHITESPACE"," ",2125],"(",["T_WHITESPACE"," ",2125],["T_VARIABLE","$user",2125],["T_WHITESPACE"," ",2125],["T_INSTANCEOF","instanceof",2125],["T_WHITESPACE"," ",2125],["T_STRING","WP_User",2125],["T_WHITESPACE"," ",2125],")",["T_WHITESPACE"," ",2125],")",["T_WHITESPACE"," ",2125],"{",["T_WHITESPACE","\n\t\t",2125],["T_IF","if",2126],["T_WHITESPACE"," ",2126],"(",["T_WHITESPACE"," ",2126],["T_VARIABLE","$user",2126],["T_WHITESPACE"," ",2126],")",["T_WHITESPACE"," ",2126],"{",["T_WHITESPACE","\n\t\t\t",2126],["T_VARIABLE","$user",2127],["T_WHITESPACE"," ",2127],"=",["T_WHITESPACE"," ",2127],["T_STRING","get_user_by",2127],"(",["T_WHITESPACE"," ",2127],["T_CONSTANT_ENCAPSED_STRING","'login'",2127],",",["T_WHITESPACE"," ",2127],["T_VARIABLE","$user",2127],["T_WHITESPACE"," ",2127],")",";",["T_WHITESPACE","\n\t\t",2127],"}",["T_WHITESPACE"," ",2128],["T_ELSE","else",2128],["T_WHITESPACE"," ",2128],"{",["T_WHITESPACE","\n\t\t\t",2128],["T_VARIABLE","$user",2129],["T_WHITESPACE"," ",2129],"=",["T_WHITESPACE"," ",2129],["T_STRING","wp_get_current_user",2129],"(",")",";",["T_WHITESPACE","\n\t\t",2129],"}",["T_WHITESPACE","\n\t",2130],"}",["T_WHITESPACE","\n\n\t",2131],["T_RETURN","return",2133],["T_WHITESPACE"," ",2133],["T_VARIABLE","$user",2133],["T_WHITESPACE"," ",2133],["T_BOOLEAN_AND","&&",2133],["T_WHITESPACE"," ",2133],["T_ISSET","isset",2133],"(",["T_WHITESPACE"," ",2133],["T_VARIABLE","$user",2133],["T_OBJECT_OPERATOR","->",2133],["T_STRING","spam",2133],["T_WHITESPACE"," ",2133],")",["T_WHITESPACE"," ",2133],["T_BOOLEAN_AND","&&",2133],["T_WHITESPACE"," ",2133],["T_LNUMBER","1",2133],["T_WHITESPACE"," ",2133],["T_IS_EQUAL","==",2133],["T_WHITESPACE"," ",2133],["T_VARIABLE","$user",2133],["T_OBJECT_OPERATOR","->",2133],["T_STRING","spam",2133],";",["T_WHITESPACE","\n",2133],"}",["T_WHITESPACE","\n\n",2134],["T_DOC_COMMENT","\/**\n * Update this blog's 'public' setting in the global blogs table.\n *\n * Public blogs have a setting of 1, private blogs are 0.\n *\n * @since MU\n *\n * @param int $old_value\n * @param int $value     The new public value\n *\/",2136],["T_WHITESPACE","\n",2145],["T_FUNCTION","function",2146],["T_WHITESPACE"," ",2146],["T_STRING","update_blog_public",2146],"(",["T_WHITESPACE"," ",2146],["T_VARIABLE","$old_value",2146],",",["T_WHITESPACE"," ",2146],["T_VARIABLE","$value",2146],["T_WHITESPACE"," ",2146],")",["T_WHITESPACE"," ",2146],"{",["T_WHITESPACE","\n\t",2146],["T_STRING","update_blog_status",2147],"(",["T_WHITESPACE"," ",2147],["T_STRING","get_current_blog_id",2147],"(",")",",",["T_WHITESPACE"," ",2147],["T_CONSTANT_ENCAPSED_STRING","'public'",2147],",",["T_WHITESPACE"," ",2147],["T_INT_CAST","(int)",2147],["T_WHITESPACE"," ",2147],["T_VARIABLE","$value",2147],["T_WHITESPACE"," ",2147],")",";",["T_WHITESPACE","\n",2147],"}",["T_WHITESPACE","\n\n",2148],["T_DOC_COMMENT","\/**\n * Check whether a usermeta key has to do with the current blog.\n *\n * @since MU\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param string $key\n * @param int    $user_id Optional. Defaults to current user.\n * @param int    $blog_id Optional. Defaults to current blog.\n * @return bool\n *\/",2150],["T_WHITESPACE","\n",2161],["T_FUNCTION","function",2162],["T_WHITESPACE"," ",2162],["T_STRING","is_user_option_local",2162],"(",["T_WHITESPACE"," ",2162],["T_VARIABLE","$key",2162],",",["T_WHITESPACE"," ",2162],["T_VARIABLE","$user_id",2162],["T_WHITESPACE"," ",2162],"=",["T_WHITESPACE"," ",2162],["T_LNUMBER","0",2162],",",["T_WHITESPACE"," ",2162],["T_VARIABLE","$blog_id",2162],["T_WHITESPACE"," ",2162],"=",["T_WHITESPACE"," ",2162],["T_LNUMBER","0",2162],["T_WHITESPACE"," ",2162],")",["T_WHITESPACE"," ",2162],"{",["T_WHITESPACE","\n\t",2162],["T_GLOBAL","global",2163],["T_WHITESPACE"," ",2163],["T_VARIABLE","$wpdb",2163],";",["T_WHITESPACE","\n\n\t",2163],["T_VARIABLE","$current_user",2165],["T_WHITESPACE"," ",2165],"=",["T_WHITESPACE"," ",2165],["T_STRING","wp_get_current_user",2165],"(",")",";",["T_WHITESPACE","\n\t",2165],["T_IF","if",2166],["T_WHITESPACE"," ",2166],"(",["T_WHITESPACE"," ",2166],["T_VARIABLE","$blog_id",2166],["T_WHITESPACE"," ",2166],["T_IS_EQUAL","==",2166],["T_WHITESPACE"," ",2166],["T_LNUMBER","0",2166],["T_WHITESPACE"," ",2166],")",["T_WHITESPACE"," ",2166],"{",["T_WHITESPACE","\n\t\t",2166],["T_VARIABLE","$blog_id",2167],["T_WHITESPACE"," ",2167],"=",["T_WHITESPACE"," ",2167],["T_VARIABLE","$wpdb",2167],["T_OBJECT_OPERATOR","->",2167],["T_STRING","blogid",2167],";",["T_WHITESPACE","\n\t",2167],"}",["T_WHITESPACE","\n\t",2168],["T_VARIABLE","$local_key",2169],["T_WHITESPACE"," ",2169],"=",["T_WHITESPACE"," ",2169],["T_VARIABLE","$wpdb",2169],["T_OBJECT_OPERATOR","->",2169],["T_STRING","get_blog_prefix",2169],"(",["T_WHITESPACE"," ",2169],["T_VARIABLE","$blog_id",2169],["T_WHITESPACE"," ",2169],")",["T_WHITESPACE"," ",2169],".",["T_WHITESPACE"," ",2169],["T_VARIABLE","$key",2169],";",["T_WHITESPACE","\n\n\t",2169],["T_RETURN","return",2171],["T_WHITESPACE"," ",2171],["T_ISSET","isset",2171],"(",["T_WHITESPACE"," ",2171],["T_VARIABLE","$current_user",2171],["T_OBJECT_OPERATOR","->",2171],["T_VARIABLE","$local_key",2171],["T_WHITESPACE"," ",2171],")",";",["T_WHITESPACE","\n",2171],"}",["T_WHITESPACE","\n\n",2172],["T_DOC_COMMENT","\/**\n * Check whether users can self-register, based on Network settings.\n *\n * @since MU\n *\n * @return bool\n *\/",2174],["T_WHITESPACE","\n",2180],["T_FUNCTION","function",2181],["T_WHITESPACE"," ",2181],["T_STRING","users_can_register_signup_filter",2181],"(",")",["T_WHITESPACE"," ",2181],"{",["T_WHITESPACE","\n\t",2181],["T_VARIABLE","$registration",2182],["T_WHITESPACE"," ",2182],"=",["T_WHITESPACE"," ",2182],["T_STRING","get_site_option",2182],"(",["T_CONSTANT_ENCAPSED_STRING","'registration'",2182],")",";",["T_WHITESPACE","\n\t",2182],["T_RETURN","return",2183],["T_WHITESPACE"," ",2183],"(",["T_WHITESPACE"," ",2183],["T_VARIABLE","$registration",2183],["T_WHITESPACE"," ",2183],["T_IS_EQUAL","==",2183],["T_WHITESPACE"," ",2183],["T_CONSTANT_ENCAPSED_STRING","'all'",2183],["T_WHITESPACE"," ",2183],["T_BOOLEAN_OR","||",2183],["T_WHITESPACE"," ",2183],["T_VARIABLE","$registration",2183],["T_WHITESPACE"," ",2183],["T_IS_EQUAL","==",2183],["T_WHITESPACE"," ",2183],["T_CONSTANT_ENCAPSED_STRING","'user'",2183],["T_WHITESPACE"," ",2183],")",";",["T_WHITESPACE","\n",2183],"}",["T_WHITESPACE","\n\n",2184],["T_DOC_COMMENT","\/**\n * Ensure that the welcome message is not empty. Currently unused.\n *\n * @since MU\n *\n * @param string $text\n * @return string\n *\/",2186],["T_WHITESPACE","\n",2193],["T_FUNCTION","function",2194],["T_WHITESPACE"," ",2194],["T_STRING","welcome_user_msg_filter",2194],"(",["T_WHITESPACE"," ",2194],["T_VARIABLE","$text",2194],["T_WHITESPACE"," ",2194],")",["T_WHITESPACE"," ",2194],"{",["T_WHITESPACE","\n\t",2194],["T_IF","if",2195],["T_WHITESPACE"," ",2195],"(",["T_WHITESPACE"," ",2195],"!",["T_VARIABLE","$text",2195],["T_WHITESPACE"," ",2195],")",["T_WHITESPACE"," ",2195],"{",["T_WHITESPACE","\n\t\t",2195],["T_STRING","remove_filter",2196],"(",["T_WHITESPACE"," ",2196],["T_CONSTANT_ENCAPSED_STRING","'site_option_welcome_user_email'",2196],",",["T_WHITESPACE"," ",2196],["T_CONSTANT_ENCAPSED_STRING","'welcome_user_msg_filter'",2196],["T_WHITESPACE"," ",2196],")",";",["T_WHITESPACE","\n\n\t\t",2196],["T_COMMENT","\/* translators: Do not translate USERNAME, PASSWORD, LOGINLINK, SITE_NAME: those are placeholders. *\/",2198],["T_WHITESPACE","\n\t\t",2198],["T_VARIABLE","$text",2199],["T_WHITESPACE"," ",2199],"=",["T_WHITESPACE"," ",2199],["T_STRING","__",2199],"(",["T_WHITESPACE"," ",2199],["T_CONSTANT_ENCAPSED_STRING","'Howdy USERNAME,\n\nYour new account is set up.\n\nYou can log in with the following information:\nUsername: USERNAME\nPassword: PASSWORD\nLOGINLINK\n\nThanks!\n\n--The Team @ SITE_NAME'",2199],["T_WHITESPACE"," ",2210],")",";",["T_WHITESPACE","\n\t\t",2210],["T_STRING","update_site_option",2211],"(",["T_WHITESPACE"," ",2211],["T_CONSTANT_ENCAPSED_STRING","'welcome_user_email'",2211],",",["T_WHITESPACE"," ",2211],["T_VARIABLE","$text",2211],["T_WHITESPACE"," ",2211],")",";",["T_WHITESPACE","\n\t",2211],"}",["T_WHITESPACE","\n\t",2212],["T_RETURN","return",2213],["T_WHITESPACE"," ",2213],["T_VARIABLE","$text",2213],";",["T_WHITESPACE","\n",2213],"}",["T_WHITESPACE","\n\n",2214],["T_DOC_COMMENT","\/**\n * Whether to force SSL on content.\n *\n * @since 2.8.5\n *\n * @staticvar bool $forced_content\n *\n * @param bool $force\n * @return bool True if forced, false if not forced.\n *\/",2216],["T_WHITESPACE","\n",2225],["T_FUNCTION","function",2226],["T_WHITESPACE"," ",2226],["T_STRING","force_ssl_content",2226],"(",["T_WHITESPACE"," ",2226],["T_VARIABLE","$force",2226],["T_WHITESPACE"," ",2226],"=",["T_WHITESPACE"," ",2226],["T_CONSTANT_ENCAPSED_STRING","''",2226],["T_WHITESPACE"," ",2226],")",["T_WHITESPACE"," ",2226],"{",["T_WHITESPACE","\n\t",2226],["T_STATIC","static",2227],["T_WHITESPACE"," ",2227],["T_VARIABLE","$forced_content",2227],["T_WHITESPACE"," ",2227],"=",["T_WHITESPACE"," ",2227],["T_STRING","false",2227],";",["T_WHITESPACE","\n\n\t",2227],["T_IF","if",2229],["T_WHITESPACE"," ",2229],"(",["T_WHITESPACE"," ",2229],["T_CONSTANT_ENCAPSED_STRING","''",2229],["T_WHITESPACE"," ",2229],["T_IS_NOT_EQUAL","!=",2229],["T_WHITESPACE"," ",2229],["T_VARIABLE","$force",2229],["T_WHITESPACE"," ",2229],")",["T_WHITESPACE"," ",2229],"{",["T_WHITESPACE","\n\t\t",2229],["T_VARIABLE","$old_forced",2230],["T_WHITESPACE"," ",2230],"=",["T_WHITESPACE"," ",2230],["T_VARIABLE","$forced_content",2230],";",["T_WHITESPACE","\n\t\t",2230],["T_VARIABLE","$forced_content",2231],["T_WHITESPACE"," ",2231],"=",["T_WHITESPACE"," ",2231],["T_VARIABLE","$force",2231],";",["T_WHITESPACE","\n\t\t",2231],["T_RETURN","return",2232],["T_WHITESPACE"," ",2232],["T_VARIABLE","$old_forced",2232],";",["T_WHITESPACE","\n\t",2232],"}",["T_WHITESPACE","\n\n\t",2233],["T_RETURN","return",2235],["T_WHITESPACE"," ",2235],["T_VARIABLE","$forced_content",2235],";",["T_WHITESPACE","\n",2235],"}",["T_WHITESPACE","\n\n",2236],["T_DOC_COMMENT","\/**\n * Formats a URL to use https.\n *\n * Useful as a filter.\n *\n * @since 2.8.5\n *\n * @param string $url URL\n * @return string URL with https as the scheme\n *\/",2238],["T_WHITESPACE","\n",2247],["T_FUNCTION","function",2248],["T_WHITESPACE"," ",2248],["T_STRING","filter_SSL",2248],"(",["T_WHITESPACE"," ",2248],["T_VARIABLE","$url",2248],["T_WHITESPACE"," ",2248],")",["T_WHITESPACE"," ",2248],"{",["T_WHITESPACE","\n\t",2248],["T_IF","if",2249],["T_WHITESPACE"," ",2249],"(",["T_WHITESPACE"," ",2249],"!",["T_WHITESPACE"," ",2249],["T_STRING","is_string",2249],"(",["T_WHITESPACE"," ",2249],["T_VARIABLE","$url",2249],["T_WHITESPACE"," ",2249],")",["T_WHITESPACE"," ",2249],")",["T_WHITESPACE","\n\t\t",2249],["T_RETURN","return",2250],["T_WHITESPACE"," ",2250],["T_STRING","get_bloginfo",2250],"(",["T_WHITESPACE"," ",2250],["T_CONSTANT_ENCAPSED_STRING","'url'",2250],["T_WHITESPACE"," ",2250],")",";",["T_WHITESPACE"," ",2250],["T_COMMENT","\/\/ Return home blog url with proper scheme\n",2250],["T_WHITESPACE","\n\t",2251],["T_IF","if",2252],["T_WHITESPACE"," ",2252],"(",["T_WHITESPACE"," ",2252],["T_STRING","force_ssl_content",2252],"(",")",["T_WHITESPACE"," ",2252],["T_BOOLEAN_AND","&&",2252],["T_WHITESPACE"," ",2252],["T_STRING","is_ssl",2252],"(",")",["T_WHITESPACE"," ",2252],")",["T_WHITESPACE","\n\t\t",2252],["T_VARIABLE","$url",2253],["T_WHITESPACE"," ",2253],"=",["T_WHITESPACE"," ",2253],["T_STRING","set_url_scheme",2253],"(",["T_WHITESPACE"," ",2253],["T_VARIABLE","$url",2253],",",["T_WHITESPACE"," ",2253],["T_CONSTANT_ENCAPSED_STRING","'https'",2253],["T_WHITESPACE"," ",2253],")",";",["T_WHITESPACE","\n\n\t",2253],["T_RETURN","return",2255],["T_WHITESPACE"," ",2255],["T_VARIABLE","$url",2255],";",["T_WHITESPACE","\n",2255],"}",["T_WHITESPACE","\n\n",2256],["T_DOC_COMMENT","\/**\n * Schedule update of the network-wide counts for the current network.\n *\n * @since 3.1.0\n *\/",2258],["T_WHITESPACE","\n",2262],["T_FUNCTION","function",2263],["T_WHITESPACE"," ",2263],["T_STRING","wp_schedule_update_network_counts",2263],"(",")",["T_WHITESPACE"," ",2263],"{",["T_WHITESPACE","\n\t",2263],["T_IF","if",2264],["T_WHITESPACE"," ",2264],"(",["T_WHITESPACE"," ",2264],"!",["T_STRING","is_main_site",2264],"(",")",["T_WHITESPACE"," ",2264],")",["T_WHITESPACE","\n\t\t",2264],["T_RETURN","return",2265],";",["T_WHITESPACE","\n\n\t",2265],["T_IF","if",2267],["T_WHITESPACE"," ",2267],"(",["T_WHITESPACE"," ",2267],"!",["T_WHITESPACE"," ",2267],["T_STRING","wp_next_scheduled",2267],"(",["T_CONSTANT_ENCAPSED_STRING","'update_network_counts'",2267],")",["T_WHITESPACE"," ",2267],["T_BOOLEAN_AND","&&",2267],["T_WHITESPACE"," ",2267],"!",["T_WHITESPACE"," ",2267],["T_STRING","wp_installing",2267],"(",")",["T_WHITESPACE"," ",2267],")",["T_WHITESPACE","\n\t\t",2267],["T_STRING","wp_schedule_event",2268],"(",["T_STRING","time",2268],"(",")",",",["T_WHITESPACE"," ",2268],["T_CONSTANT_ENCAPSED_STRING","'twicedaily'",2268],",",["T_WHITESPACE"," ",2268],["T_CONSTANT_ENCAPSED_STRING","'update_network_counts'",2268],")",";",["T_WHITESPACE","\n",2268],"}",["T_WHITESPACE","\n\n",2269],["T_DOC_COMMENT","\/**\n * Update the network-wide counts for the current network.\n *\n * @since 3.1.0\n *\/",2271],["T_WHITESPACE","\n",2275],["T_FUNCTION","function",2276],["T_WHITESPACE"," ",2276],["T_STRING","wp_update_network_counts",2276],"(",")",["T_WHITESPACE"," ",2276],"{",["T_WHITESPACE","\n\t",2276],["T_STRING","wp_update_network_user_counts",2277],"(",")",";",["T_WHITESPACE","\n\t",2277],["T_STRING","wp_update_network_site_counts",2278],"(",")",";",["T_WHITESPACE","\n",2278],"}",["T_WHITESPACE","\n\n",2279],["T_DOC_COMMENT","\/**\n * Update the count of sites for the current network.\n *\n * If enabled through the {@see 'enable_live_network_counts'} filter, update the sites count\n * on a network when a site is created or its status is updated.\n *\n * @since 3.7.0\n *\/",2281],["T_WHITESPACE","\n",2288],["T_FUNCTION","function",2289],["T_WHITESPACE"," ",2289],["T_STRING","wp_maybe_update_network_site_counts",2289],"(",")",["T_WHITESPACE"," ",2289],"{",["T_WHITESPACE","\n\t",2289],["T_VARIABLE","$is_small_network",2290],["T_WHITESPACE"," ",2290],"=",["T_WHITESPACE"," ",2290],"!",["T_WHITESPACE"," ",2290],["T_STRING","wp_is_large_network",2290],"(",["T_WHITESPACE"," ",2290],["T_CONSTANT_ENCAPSED_STRING","'sites'",2290],["T_WHITESPACE"," ",2290],")",";",["T_WHITESPACE","\n\n\t",2290],["T_DOC_COMMENT","\/**\n\t * Filters whether to update network site or user counts when a new site is created.\n\t *\n\t * @since 3.7.0\n\t *\n\t * @see wp_is_large_network()\n\t *\n\t * @param bool   $small_network Whether the network is considered small.\n\t * @param string $context       Context. Either 'users' or 'sites'.\n\t *\/",2292],["T_WHITESPACE","\n\t",2301],["T_IF","if",2302],["T_WHITESPACE"," ",2302],"(",["T_WHITESPACE"," ",2302],"!",["T_WHITESPACE"," ",2302],["T_STRING","apply_filters",2302],"(",["T_WHITESPACE"," ",2302],["T_CONSTANT_ENCAPSED_STRING","'enable_live_network_counts'",2302],",",["T_WHITESPACE"," ",2302],["T_VARIABLE","$is_small_network",2302],",",["T_WHITESPACE"," ",2302],["T_CONSTANT_ENCAPSED_STRING","'sites'",2302],["T_WHITESPACE"," ",2302],")",["T_WHITESPACE"," ",2302],")",["T_WHITESPACE","\n\t\t",2302],["T_RETURN","return",2303],";",["T_WHITESPACE","\n\n\t",2303],["T_STRING","wp_update_network_site_counts",2305],"(",")",";",["T_WHITESPACE","\n",2305],"}",["T_WHITESPACE","\n\n",2306],["T_DOC_COMMENT","\/**\n * Update the network-wide users count.\n *\n * If enabled through the {@see 'enable_live_network_counts'} filter, update the users count\n * on a network when a user is created or its status is updated.\n *\n * @since 3.7.0\n *\/",2308],["T_WHITESPACE","\n",2315],["T_FUNCTION","function",2316],["T_WHITESPACE"," ",2316],["T_STRING","wp_maybe_update_network_user_counts",2316],"(",")",["T_WHITESPACE"," ",2316],"{",["T_WHITESPACE","\n\t",2316],["T_VARIABLE","$is_small_network",2317],["T_WHITESPACE"," ",2317],"=",["T_WHITESPACE"," ",2317],"!",["T_WHITESPACE"," ",2317],["T_STRING","wp_is_large_network",2317],"(",["T_WHITESPACE"," ",2317],["T_CONSTANT_ENCAPSED_STRING","'users'",2317],["T_WHITESPACE"," ",2317],")",";",["T_WHITESPACE","\n\n\t",2317],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/ms-functions.php *\/",2319],["T_WHITESPACE","\n\t",2319],["T_IF","if",2320],["T_WHITESPACE"," ",2320],"(",["T_WHITESPACE"," ",2320],"!",["T_WHITESPACE"," ",2320],["T_STRING","apply_filters",2320],"(",["T_WHITESPACE"," ",2320],["T_CONSTANT_ENCAPSED_STRING","'enable_live_network_counts'",2320],",",["T_WHITESPACE"," ",2320],["T_VARIABLE","$is_small_network",2320],",",["T_WHITESPACE"," ",2320],["T_CONSTANT_ENCAPSED_STRING","'users'",2320],["T_WHITESPACE"," ",2320],")",["T_WHITESPACE"," ",2320],")",["T_WHITESPACE","\n\t\t",2320],["T_RETURN","return",2321],";",["T_WHITESPACE","\n\n\t",2321],["T_STRING","wp_update_network_user_counts",2323],"(",")",";",["T_WHITESPACE","\n",2323],"}",["T_WHITESPACE","\n\n",2324],["T_DOC_COMMENT","\/**\n * Update the network-wide site count.\n *\n * @since 3.7.0\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\/",2326],["T_WHITESPACE","\n",2332],["T_FUNCTION","function",2333],["T_WHITESPACE"," ",2333],["T_STRING","wp_update_network_site_counts",2333],"(",")",["T_WHITESPACE"," ",2333],"{",["T_WHITESPACE","\n\t",2333],["T_GLOBAL","global",2334],["T_WHITESPACE"," ",2334],["T_VARIABLE","$wpdb",2334],";",["T_WHITESPACE","\n\n\t",2334],["T_VARIABLE","$count",2336],["T_WHITESPACE"," ",2336],"=",["T_WHITESPACE"," ",2336],["T_STRING","get_sites",2336],"(",["T_WHITESPACE"," ",2336],["T_ARRAY","array",2336],"(",["T_WHITESPACE","\n\t\t",2336],["T_CONSTANT_ENCAPSED_STRING","'network_id'",2337],["T_WHITESPACE"," ",2337],["T_DOUBLE_ARROW","=>",2337],["T_WHITESPACE"," ",2337],["T_VARIABLE","$wpdb",2337],["T_OBJECT_OPERATOR","->",2337],["T_STRING","siteid",2337],",",["T_WHITESPACE","\n\t\t",2337],["T_CONSTANT_ENCAPSED_STRING","'spam'",2338],["T_WHITESPACE","       ",2338],["T_DOUBLE_ARROW","=>",2338],["T_WHITESPACE"," ",2338],["T_LNUMBER","0",2338],",",["T_WHITESPACE","\n\t\t",2338],["T_CONSTANT_ENCAPSED_STRING","'deleted'",2339],["T_WHITESPACE","    ",2339],["T_DOUBLE_ARROW","=>",2339],["T_WHITESPACE"," ",2339],["T_LNUMBER","0",2339],",",["T_WHITESPACE","\n\t\t",2339],["T_CONSTANT_ENCAPSED_STRING","'archived'",2340],["T_WHITESPACE","   ",2340],["T_DOUBLE_ARROW","=>",2340],["T_WHITESPACE"," ",2340],["T_LNUMBER","0",2340],",",["T_WHITESPACE","\n\t\t",2340],["T_CONSTANT_ENCAPSED_STRING","'count'",2341],["T_WHITESPACE","      ",2341],["T_DOUBLE_ARROW","=>",2341],["T_WHITESPACE"," ",2341],["T_STRING","true",2341],",",["T_WHITESPACE","\n\t",2341],")",["T_WHITESPACE"," ",2342],")",";",["T_WHITESPACE","\n\n\t",2342],["T_STRING","update_site_option",2344],"(",["T_WHITESPACE"," ",2344],["T_CONSTANT_ENCAPSED_STRING","'blog_count'",2344],",",["T_WHITESPACE"," ",2344],["T_VARIABLE","$count",2344],["T_WHITESPACE"," ",2344],")",";",["T_WHITESPACE","\n",2344],"}",["T_WHITESPACE","\n\n",2345],["T_DOC_COMMENT","\/**\n * Update the network-wide user count.\n *\n * @since 3.7.0\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\/",2347],["T_WHITESPACE","\n",2353],["T_FUNCTION","function",2354],["T_WHITESPACE"," ",2354],["T_STRING","wp_update_network_user_counts",2354],"(",")",["T_WHITESPACE"," ",2354],"{",["T_WHITESPACE","\n\t",2354],["T_GLOBAL","global",2355],["T_WHITESPACE"," ",2355],["T_VARIABLE","$wpdb",2355],";",["T_WHITESPACE","\n\n\t",2355],["T_VARIABLE","$count",2357],["T_WHITESPACE"," ",2357],"=",["T_WHITESPACE"," ",2357],["T_VARIABLE","$wpdb",2357],["T_OBJECT_OPERATOR","->",2357],["T_STRING","get_var",2357],"(",["T_WHITESPACE"," ",2357],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT COUNT(ID) as c FROM ",2357],["T_VARIABLE","$wpdb",2357],["T_OBJECT_OPERATOR","->",2357],["T_STRING","users",2357],["T_ENCAPSED_AND_WHITESPACE"," WHERE spam = '0' AND deleted = '0'",2357],"\"",["T_WHITESPACE"," ",2357],")",";",["T_WHITESPACE","\n\t",2357],["T_STRING","update_site_option",2358],"(",["T_WHITESPACE"," ",2358],["T_CONSTANT_ENCAPSED_STRING","'user_count'",2358],",",["T_WHITESPACE"," ",2358],["T_VARIABLE","$count",2358],["T_WHITESPACE"," ",2358],")",";",["T_WHITESPACE","\n",2358],"}",["T_WHITESPACE","\n\n",2359],["T_DOC_COMMENT","\/**\n * Returns the space used by the current blog.\n *\n * @since 3.5.0\n *\n * @return int Used space in megabytes\n *\/",2361],["T_WHITESPACE","\n",2367],["T_FUNCTION","function",2368],["T_WHITESPACE"," ",2368],["T_STRING","get_space_used",2368],"(",")",["T_WHITESPACE"," ",2368],"{",["T_WHITESPACE","\n\t",2368],["T_DOC_COMMENT","\/**\n\t * Filters the amount of storage space used by the current site.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int|bool $space_used The amount of used space, in megabytes. Default false.\n\t *\/",2369],["T_WHITESPACE","\n\t",2375],["T_VARIABLE","$space_used",2376],["T_WHITESPACE"," ",2376],"=",["T_WHITESPACE"," ",2376],["T_STRING","apply_filters",2376],"(",["T_WHITESPACE"," ",2376],["T_CONSTANT_ENCAPSED_STRING","'pre_get_space_used'",2376],",",["T_WHITESPACE"," ",2376],["T_STRING","false",2376],["T_WHITESPACE"," ",2376],")",";",["T_WHITESPACE","\n\t",2376],["T_IF","if",2377],["T_WHITESPACE"," ",2377],"(",["T_WHITESPACE"," ",2377],["T_STRING","false",2377],["T_WHITESPACE"," ",2377],["T_IS_IDENTICAL","===",2377],["T_WHITESPACE"," ",2377],["T_VARIABLE","$space_used",2377],["T_WHITESPACE"," ",2377],")",["T_WHITESPACE"," ",2377],"{",["T_WHITESPACE","\n\t\t",2377],["T_VARIABLE","$upload_dir",2378],["T_WHITESPACE"," ",2378],"=",["T_WHITESPACE"," ",2378],["T_STRING","wp_upload_dir",2378],"(",")",";",["T_WHITESPACE","\n\t\t",2378],["T_VARIABLE","$space_used",2379],["T_WHITESPACE"," ",2379],"=",["T_WHITESPACE"," ",2379],["T_STRING","get_dirsize",2379],"(",["T_WHITESPACE"," ",2379],["T_VARIABLE","$upload_dir",2379],"[",["T_CONSTANT_ENCAPSED_STRING","'basedir'",2379],"]",["T_WHITESPACE"," ",2379],")",["T_WHITESPACE"," ",2379],"\/",["T_WHITESPACE"," ",2379],["T_STRING","MB_IN_BYTES",2379],";",["T_WHITESPACE","\n\t",2379],"}",["T_WHITESPACE","\n\n\t",2380],["T_RETURN","return",2382],["T_WHITESPACE"," ",2382],["T_VARIABLE","$space_used",2382],";",["T_WHITESPACE","\n",2382],"}",["T_WHITESPACE","\n\n",2383],["T_DOC_COMMENT","\/**\n * Returns the upload quota for the current blog.\n *\n * @since MU\n *\n * @return int Quota in megabytes\n *\/",2385],["T_WHITESPACE","\n",2391],["T_FUNCTION","function",2392],["T_WHITESPACE"," ",2392],["T_STRING","get_space_allowed",2392],"(",")",["T_WHITESPACE"," ",2392],"{",["T_WHITESPACE","\n\t",2392],["T_VARIABLE","$space_allowed",2393],["T_WHITESPACE"," ",2393],"=",["T_WHITESPACE"," ",2393],["T_STRING","get_option",2393],"(",["T_WHITESPACE"," ",2393],["T_CONSTANT_ENCAPSED_STRING","'blog_upload_space'",2393],["T_WHITESPACE"," ",2393],")",";",["T_WHITESPACE","\n\n\t",2393],["T_IF","if",2395],["T_WHITESPACE"," ",2395],"(",["T_WHITESPACE"," ",2395],"!",["T_WHITESPACE"," ",2395],["T_STRING","is_numeric",2395],"(",["T_WHITESPACE"," ",2395],["T_VARIABLE","$space_allowed",2395],["T_WHITESPACE"," ",2395],")",["T_WHITESPACE"," ",2395],")",["T_WHITESPACE","\n\t\t",2395],["T_VARIABLE","$space_allowed",2396],["T_WHITESPACE"," ",2396],"=",["T_WHITESPACE"," ",2396],["T_STRING","get_site_option",2396],"(",["T_WHITESPACE"," ",2396],["T_CONSTANT_ENCAPSED_STRING","'blog_upload_space'",2396],["T_WHITESPACE"," ",2396],")",";",["T_WHITESPACE","\n\n\t",2396],["T_IF","if",2398],["T_WHITESPACE"," ",2398],"(",["T_WHITESPACE"," ",2398],"!",["T_WHITESPACE"," ",2398],["T_STRING","is_numeric",2398],"(",["T_WHITESPACE"," ",2398],["T_VARIABLE","$space_allowed",2398],["T_WHITESPACE"," ",2398],")",["T_WHITESPACE"," ",2398],")",["T_WHITESPACE","\n\t\t",2398],["T_VARIABLE","$space_allowed",2399],["T_WHITESPACE"," ",2399],"=",["T_WHITESPACE"," ",2399],["T_LNUMBER","100",2399],";",["T_WHITESPACE","\n\n\t",2399],["T_DOC_COMMENT","\/**\n\t * Filters the upload quota for the current site.\n\t *\n\t * @since 3.7.0\n\t *\n\t * @param int $space_allowed Upload quota in megabytes for the current blog.\n\t *\/",2401],["T_WHITESPACE","\n\t",2407],["T_RETURN","return",2408],["T_WHITESPACE"," ",2408],["T_STRING","apply_filters",2408],"(",["T_WHITESPACE"," ",2408],["T_CONSTANT_ENCAPSED_STRING","'get_space_allowed'",2408],",",["T_WHITESPACE"," ",2408],["T_VARIABLE","$space_allowed",2408],["T_WHITESPACE"," ",2408],")",";",["T_WHITESPACE","\n",2408],"}",["T_WHITESPACE","\n\n",2409],["T_DOC_COMMENT","\/**\n * Determines if there is any upload space left in the current blog's quota.\n *\n * @since 3.0.0\n *\n * @return int of upload space available in bytes\n *\/",2411],["T_WHITESPACE","\n",2417],["T_FUNCTION","function",2418],["T_WHITESPACE"," ",2418],["T_STRING","get_upload_space_available",2418],"(",")",["T_WHITESPACE"," ",2418],"{",["T_WHITESPACE","\n\t",2418],["T_VARIABLE","$allowed",2419],["T_WHITESPACE"," ",2419],"=",["T_WHITESPACE"," ",2419],["T_STRING","get_space_allowed",2419],"(",")",";",["T_WHITESPACE","\n\t",2419],["T_IF","if",2420],["T_WHITESPACE"," ",2420],"(",["T_WHITESPACE"," ",2420],["T_VARIABLE","$allowed",2420],["T_WHITESPACE"," ",2420],"<",["T_WHITESPACE"," ",2420],["T_LNUMBER","0",2420],["T_WHITESPACE"," ",2420],")",["T_WHITESPACE"," ",2420],"{",["T_WHITESPACE","\n\t\t",2420],["T_VARIABLE","$allowed",2421],["T_WHITESPACE"," ",2421],"=",["T_WHITESPACE"," ",2421],["T_LNUMBER","0",2421],";",["T_WHITESPACE","\n\t",2421],"}",["T_WHITESPACE","\n\t",2422],["T_VARIABLE","$space_allowed",2423],["T_WHITESPACE"," ",2423],"=",["T_WHITESPACE"," ",2423],["T_VARIABLE","$allowed",2423],["T_WHITESPACE"," ",2423],"*",["T_WHITESPACE"," ",2423],["T_STRING","MB_IN_BYTES",2423],";",["T_WHITESPACE","\n\t",2423],["T_IF","if",2424],["T_WHITESPACE"," ",2424],"(",["T_WHITESPACE"," ",2424],["T_STRING","get_site_option",2424],"(",["T_WHITESPACE"," ",2424],["T_CONSTANT_ENCAPSED_STRING","'upload_space_check_disabled'",2424],["T_WHITESPACE"," ",2424],")",["T_WHITESPACE"," ",2424],")",["T_WHITESPACE","\n\t\t",2424],["T_RETURN","return",2425],["T_WHITESPACE"," ",2425],["T_VARIABLE","$space_allowed",2425],";",["T_WHITESPACE","\n\n\t",2425],["T_VARIABLE","$space_used",2427],["T_WHITESPACE"," ",2427],"=",["T_WHITESPACE"," ",2427],["T_STRING","get_space_used",2427],"(",")",["T_WHITESPACE"," ",2427],"*",["T_WHITESPACE"," ",2427],["T_STRING","MB_IN_BYTES",2427],";",["T_WHITESPACE","\n\n\t",2427],["T_IF","if",2429],["T_WHITESPACE"," ",2429],"(",["T_WHITESPACE"," ",2429],"(",["T_WHITESPACE"," ",2429],["T_VARIABLE","$space_allowed",2429],["T_WHITESPACE"," ",2429],"-",["T_WHITESPACE"," ",2429],["T_VARIABLE","$space_used",2429],["T_WHITESPACE"," ",2429],")",["T_WHITESPACE"," ",2429],["T_IS_SMALLER_OR_EQUAL","<=",2429],["T_WHITESPACE"," ",2429],["T_LNUMBER","0",2429],["T_WHITESPACE"," ",2429],")",["T_WHITESPACE","\n\t\t",2429],["T_RETURN","return",2430],["T_WHITESPACE"," ",2430],["T_LNUMBER","0",2430],";",["T_WHITESPACE","\n\n\t",2430],["T_RETURN","return",2432],["T_WHITESPACE"," ",2432],["T_VARIABLE","$space_allowed",2432],["T_WHITESPACE"," ",2432],"-",["T_WHITESPACE"," ",2432],["T_VARIABLE","$space_used",2432],";",["T_WHITESPACE","\n",2432],"}",["T_WHITESPACE","\n\n",2433],["T_DOC_COMMENT","\/**\n * Determines if there is any upload space left in the current blog's quota.\n *\n * @since 3.0.0\n * @return bool True if space is available, false otherwise.\n *\/",2435],["T_WHITESPACE","\n",2440],["T_FUNCTION","function",2441],["T_WHITESPACE"," ",2441],["T_STRING","is_upload_space_available",2441],"(",")",["T_WHITESPACE"," ",2441],"{",["T_WHITESPACE","\n\t",2441],["T_IF","if",2442],["T_WHITESPACE"," ",2442],"(",["T_WHITESPACE"," ",2442],["T_STRING","get_site_option",2442],"(",["T_WHITESPACE"," ",2442],["T_CONSTANT_ENCAPSED_STRING","'upload_space_check_disabled'",2442],["T_WHITESPACE"," ",2442],")",["T_WHITESPACE"," ",2442],")",["T_WHITESPACE","\n\t\t",2442],["T_RETURN","return",2443],["T_WHITESPACE"," ",2443],["T_STRING","true",2443],";",["T_WHITESPACE","\n\n\t",2443],["T_RETURN","return",2445],["T_WHITESPACE"," ",2445],["T_BOOL_CAST","(bool)",2445],["T_WHITESPACE"," ",2445],["T_STRING","get_upload_space_available",2445],"(",")",";",["T_WHITESPACE","\n",2445],"}",["T_WHITESPACE","\n\n",2446],["T_DOC_COMMENT","\/**\n * Filters the maximum upload file size allowed, in bytes.\n *\n * @since 3.0.0\n *\n * @param  int $size Upload size limit in bytes.\n * @return int       Upload size limit in bytes.\n *\/",2448],["T_WHITESPACE","\n",2455],["T_FUNCTION","function",2456],["T_WHITESPACE"," ",2456],["T_STRING","upload_size_limit_filter",2456],"(",["T_WHITESPACE"," ",2456],["T_VARIABLE","$size",2456],["T_WHITESPACE"," ",2456],")",["T_WHITESPACE"," ",2456],"{",["T_WHITESPACE","\n\t",2456],["T_VARIABLE","$fileupload_maxk",2457],["T_WHITESPACE"," ",2457],"=",["T_WHITESPACE"," ",2457],["T_STRING","KB_IN_BYTES",2457],["T_WHITESPACE"," ",2457],"*",["T_WHITESPACE"," ",2457],["T_STRING","get_site_option",2457],"(",["T_WHITESPACE"," ",2457],["T_CONSTANT_ENCAPSED_STRING","'fileupload_maxk'",2457],",",["T_WHITESPACE"," ",2457],["T_LNUMBER","1500",2457],["T_WHITESPACE"," ",2457],")",";",["T_WHITESPACE","\n\t",2457],["T_IF","if",2458],["T_WHITESPACE"," ",2458],"(",["T_WHITESPACE"," ",2458],["T_STRING","get_site_option",2458],"(",["T_WHITESPACE"," ",2458],["T_CONSTANT_ENCAPSED_STRING","'upload_space_check_disabled'",2458],["T_WHITESPACE"," ",2458],")",["T_WHITESPACE"," ",2458],")",["T_WHITESPACE","\n\t\t",2458],["T_RETURN","return",2459],["T_WHITESPACE"," ",2459],["T_STRING","min",2459],"(",["T_WHITESPACE"," ",2459],["T_VARIABLE","$size",2459],",",["T_WHITESPACE"," ",2459],["T_VARIABLE","$fileupload_maxk",2459],["T_WHITESPACE"," ",2459],")",";",["T_WHITESPACE","\n\n\t",2459],["T_RETURN","return",2461],["T_WHITESPACE"," ",2461],["T_STRING","min",2461],"(",["T_WHITESPACE"," ",2461],["T_VARIABLE","$size",2461],",",["T_WHITESPACE"," ",2461],["T_VARIABLE","$fileupload_maxk",2461],",",["T_WHITESPACE"," ",2461],["T_STRING","get_upload_space_available",2461],"(",")",["T_WHITESPACE"," ",2461],")",";",["T_WHITESPACE","\n",2461],"}",["T_WHITESPACE","\n\n",2462],["T_DOC_COMMENT","\/**\n * Whether or not we have a large network.\n *\n * The default criteria for a large network is either more than 10,000 users or more than 10,000 sites.\n * Plugins can alter this criteria using the {@see 'wp_is_large_network'} filter.\n *\n * @since 3.3.0\n * @param string $using 'sites or 'users'. Default is 'sites'.\n * @return bool True if the network meets the criteria for large. False otherwise.\n *\/",2464],["T_WHITESPACE","\n",2473],["T_FUNCTION","function",2474],["T_WHITESPACE"," ",2474],["T_STRING","wp_is_large_network",2474],"(",["T_WHITESPACE"," ",2474],["T_VARIABLE","$using",2474],["T_WHITESPACE"," ",2474],"=",["T_WHITESPACE"," ",2474],["T_CONSTANT_ENCAPSED_STRING","'sites'",2474],["T_WHITESPACE"," ",2474],")",["T_WHITESPACE"," ",2474],"{",["T_WHITESPACE","\n\t",2474],["T_IF","if",2475],["T_WHITESPACE"," ",2475],"(",["T_WHITESPACE"," ",2475],["T_CONSTANT_ENCAPSED_STRING","'users'",2475],["T_WHITESPACE"," ",2475],["T_IS_EQUAL","==",2475],["T_WHITESPACE"," ",2475],["T_VARIABLE","$using",2475],["T_WHITESPACE"," ",2475],")",["T_WHITESPACE"," ",2475],"{",["T_WHITESPACE","\n\t\t",2475],["T_VARIABLE","$count",2476],["T_WHITESPACE"," ",2476],"=",["T_WHITESPACE"," ",2476],["T_STRING","get_user_count",2476],"(",")",";",["T_WHITESPACE","\n\t\t",2476],["T_DOC_COMMENT","\/**\n\t\t * Filters whether the network is considered large.\n\t\t *\n\t\t * @since 3.3.0\n\t\t *\n\t\t * @param bool   $is_large_network Whether the network has more than 10000 users or sites.\n\t\t * @param string $component        The component to count. Accepts 'users', or 'sites'.\n\t\t * @param int    $count            The count of items for the component.\n\t\t *\/",2477],["T_WHITESPACE","\n\t\t",2485],["T_RETURN","return",2486],["T_WHITESPACE"," ",2486],["T_STRING","apply_filters",2486],"(",["T_WHITESPACE"," ",2486],["T_CONSTANT_ENCAPSED_STRING","'wp_is_large_network'",2486],",",["T_WHITESPACE"," ",2486],["T_VARIABLE","$count",2486],["T_WHITESPACE"," ",2486],">",["T_WHITESPACE"," ",2486],["T_LNUMBER","10000",2486],",",["T_WHITESPACE"," ",2486],["T_CONSTANT_ENCAPSED_STRING","'users'",2486],",",["T_WHITESPACE"," ",2486],["T_VARIABLE","$count",2486],["T_WHITESPACE"," ",2486],")",";",["T_WHITESPACE","\n\t",2486],"}",["T_WHITESPACE","\n\n\t",2487],["T_VARIABLE","$count",2489],["T_WHITESPACE"," ",2489],"=",["T_WHITESPACE"," ",2489],["T_STRING","get_blog_count",2489],"(",")",";",["T_WHITESPACE","\n\t",2489],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/ms-functions.php *\/",2490],["T_WHITESPACE","\n\t",2490],["T_RETURN","return",2491],["T_WHITESPACE"," ",2491],["T_STRING","apply_filters",2491],"(",["T_WHITESPACE"," ",2491],["T_CONSTANT_ENCAPSED_STRING","'wp_is_large_network'",2491],",",["T_WHITESPACE"," ",2491],["T_VARIABLE","$count",2491],["T_WHITESPACE"," ",2491],">",["T_WHITESPACE"," ",2491],["T_LNUMBER","10000",2491],",",["T_WHITESPACE"," ",2491],["T_CONSTANT_ENCAPSED_STRING","'sites'",2491],",",["T_WHITESPACE"," ",2491],["T_VARIABLE","$count",2491],["T_WHITESPACE"," ",2491],")",";",["T_WHITESPACE","\n",2491],"}",["T_WHITESPACE","\n\n",2492],["T_DOC_COMMENT","\/**\n * Retrieves a list of reserved site on a sub-directory Multisite install.\n *\n * @since 4.4.0\n *\n * @return array $names Array of reserved subdirectory names.\n *\/",2494],["T_WHITESPACE","\n",2500],["T_FUNCTION","function",2501],["T_WHITESPACE"," ",2501],["T_STRING","get_subdirectory_reserved_names",2501],"(",")",["T_WHITESPACE"," ",2501],"{",["T_WHITESPACE","\n\t",2501],["T_VARIABLE","$names",2502],["T_WHITESPACE"," ",2502],"=",["T_WHITESPACE"," ",2502],["T_ARRAY","array",2502],"(",["T_WHITESPACE","\n\t\t",2502],["T_CONSTANT_ENCAPSED_STRING","'page'",2503],",",["T_WHITESPACE"," ",2503],["T_CONSTANT_ENCAPSED_STRING","'comments'",2503],",",["T_WHITESPACE"," ",2503],["T_CONSTANT_ENCAPSED_STRING","'blog'",2503],",",["T_WHITESPACE"," ",2503],["T_CONSTANT_ENCAPSED_STRING","'files'",2503],",",["T_WHITESPACE"," ",2503],["T_CONSTANT_ENCAPSED_STRING","'feed'",2503],",",["T_WHITESPACE"," ",2503],["T_CONSTANT_ENCAPSED_STRING","'wp-admin'",2503],",",["T_WHITESPACE","\n\t\t",2503],["T_CONSTANT_ENCAPSED_STRING","'wp-content'",2504],",",["T_WHITESPACE"," ",2504],["T_CONSTANT_ENCAPSED_STRING","'wp-includes'",2504],",",["T_WHITESPACE"," ",2504],["T_CONSTANT_ENCAPSED_STRING","'wp-json'",2504],",",["T_WHITESPACE"," ",2504],["T_CONSTANT_ENCAPSED_STRING","'embed'",2504],["T_WHITESPACE","\n\t",2504],")",";",["T_WHITESPACE","\n\n\t",2505],["T_DOC_COMMENT","\/**\n\t * Filters reserved site names on a sub-directory Multisite install.\n\t *\n\t * @since 3.0.0\n\t * @since 4.4.0 'wp-admin', 'wp-content', 'wp-includes', 'wp-json', and 'embed' were added\n\t *              to the reserved names list.\n\t *\n\t * @param array $subdirectory_reserved_names Array of reserved names.\n\t *\/",2507],["T_WHITESPACE","\n\t",2515],["T_RETURN","return",2516],["T_WHITESPACE"," ",2516],["T_STRING","apply_filters",2516],"(",["T_WHITESPACE"," ",2516],["T_CONSTANT_ENCAPSED_STRING","'subdirectory_reserved_names'",2516],",",["T_WHITESPACE"," ",2516],["T_VARIABLE","$names",2516],["T_WHITESPACE"," ",2516],")",";",["T_WHITESPACE","\n",2516],"}",["T_WHITESPACE","\n",2517]]