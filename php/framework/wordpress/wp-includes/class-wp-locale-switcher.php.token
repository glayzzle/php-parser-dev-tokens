[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Locale API: WP_Locale_Switcher class\n *\n * @package WordPress\n * @subpackage i18n\n * @since 4.7.0\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Core class used for switching locales.\n *\n * @since 4.7.0\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","WP_Locale_Switcher",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\t",15],["T_DOC_COMMENT","\/**\n\t * Locale stack.\n\t *\n\t * @since 4.7.0\n\t * @access private\n\t * @var string[]\n\t *\/",16],["T_WHITESPACE","\n\t",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$locales",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",")",";",["T_WHITESPACE","\n\n\t",23],["T_DOC_COMMENT","\/**\n\t * Original locale.\n\t *\n\t * @since 4.7.0\n\t * @access private\n\t * @var string\n\t *\/",25],["T_WHITESPACE","\n\t",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$original_locale",32],";",["T_WHITESPACE","\n\n\t",32],["T_DOC_COMMENT","\/**\n\t * Holds all available languages.\n\t *\n\t * @since 4.7.0\n\t * @access private\n\t * @var array An array of language codes (file names without the .mo extension).\n\t *\/",34],["T_WHITESPACE","\n\t",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$available_languages",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n\n\t",41],["T_DOC_COMMENT","\/**\n\t * Constructor.\n\t *\n\t * Stores the original locale as well as a list of all available languages.\n\t *\n\t * @since 4.7.0\n\t *\/",43],["T_WHITESPACE","\n\t",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","__construct",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n\t\t",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","original_locale",51],["T_WHITESPACE","     ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","is_admin",51],"(",")",["T_WHITESPACE"," ",51],"?",["T_WHITESPACE"," ",51],["T_STRING","get_user_locale",51],"(",")",["T_WHITESPACE"," ",51],":",["T_WHITESPACE"," ",51],["T_STRING","get_locale",51],"(",")",";",["T_WHITESPACE","\n\t\t",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","available_languages",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","array_merge",52],"(",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'en_US'",52],["T_WHITESPACE"," ",52],")",",",["T_WHITESPACE"," ",52],["T_STRING","get_available_languages",52],"(",")",["T_WHITESPACE"," ",52],")",";",["T_WHITESPACE","\n\t",52],"}",["T_WHITESPACE","\n\n\t",53],["T_DOC_COMMENT","\/**\n\t * Initializes the locale switcher.\n\t *\n\t * Hooks into the {@see 'locale'} filter to change the locale on the fly.\n\t *\/",55],["T_WHITESPACE","\n\t",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","init",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t",60],["T_STRING","add_filter",61],"(",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'locale'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'filter_locale'",61],["T_WHITESPACE"," ",61],")",["T_WHITESPACE"," ",61],")",";",["T_WHITESPACE","\n\t",61],"}",["T_WHITESPACE","\n\n\t",62],["T_DOC_COMMENT","\/**\n\t * Switches the translations according to the given locale.\n\t *\n\t * @since 4.7.0\n\t *\n\t * @param string $locale The locale to switch to.\n\t * @return bool True on success, false on failure.\n\t *\/",64],["T_WHITESPACE","\n\t",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","switch_to_locale",72],"(",["T_WHITESPACE"," ",72],["T_VARIABLE","$locale",72],["T_WHITESPACE"," ",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n\t\t",72],["T_VARIABLE","$current_locale",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","is_admin",73],"(",")",["T_WHITESPACE"," ",73],"?",["T_WHITESPACE"," ",73],["T_STRING","get_user_locale",73],"(",")",["T_WHITESPACE"," ",73],":",["T_WHITESPACE"," ",73],["T_STRING","get_locale",73],"(",")",";",["T_WHITESPACE","\n\t\t",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_WHITESPACE"," ",74],["T_VARIABLE","$current_locale",74],["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$locale",74],["T_WHITESPACE"," ",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t\t",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_STRING","false",75],";",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE","\n\n\t\t",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_WHITESPACE"," ",78],"!",["T_WHITESPACE"," ",78],["T_STRING","in_array",78],"(",["T_WHITESPACE"," ",78],["T_VARIABLE","$locale",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","available_languages",78],",",["T_WHITESPACE"," ",78],["T_STRING","true",78],["T_WHITESPACE"," ",78],")",["T_WHITESPACE"," ",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_STRING","false",79],";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE","\n\n\t\t",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","locales",82],"[","]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$locale",82],";",["T_WHITESPACE","\n\n\t\t",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","change_locale",84],"(",["T_WHITESPACE"," ",84],["T_VARIABLE","$locale",84],["T_WHITESPACE"," ",84],")",";",["T_WHITESPACE","\n\n\t\t",84],["T_DOC_COMMENT","\/**\n\t\t * Fires when the locale is switched.\n\t\t *\n\t\t * @since 4.7.0\n\t\t *\n\t\t * @param string $locale The new locale.\n\t\t *\/",86],["T_WHITESPACE","\n\t\t",92],["T_STRING","do_action",93],"(",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'switch_locale'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$locale",93],["T_WHITESPACE"," ",93],")",";",["T_WHITESPACE","\n\n\t\t",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_STRING","true",95],";",["T_WHITESPACE","\n\t",95],"}",["T_WHITESPACE","\n\n\t",96],["T_DOC_COMMENT","\/**\n\t * Restores the translations according to the previous locale.\n\t *\n\t * @since 4.7.0\n\t *\n\t * @return string|false Locale on success, false on failure.\n\t *\/",98],["T_WHITESPACE","\n\t",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","restore_previous_locale",105],"(",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t",105],["T_VARIABLE","$previous_locale",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","array_pop",106],"(",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","locales",106],["T_WHITESPACE"," ",106],")",";",["T_WHITESPACE","\n\n\t\t",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_WHITESPACE"," ",108],["T_STRING","null",108],["T_WHITESPACE"," ",108],["T_IS_IDENTICAL","===",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$previous_locale",108],["T_WHITESPACE"," ",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n\t\t\t",108],["T_COMMENT","\/\/ The stack is empty, bail.\n",109],["T_WHITESPACE","\t\t\t",110],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","false",110],";",["T_WHITESPACE","\n\t\t",110],"}",["T_WHITESPACE","\n\n\t\t",111],["T_VARIABLE","$locale",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","end",113],"(",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","locales",113],["T_WHITESPACE"," ",113],")",";",["T_WHITESPACE","\n\n\t\t",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_WHITESPACE"," ",115],"!",["T_WHITESPACE"," ",115],["T_VARIABLE","$locale",115],["T_WHITESPACE"," ",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n\t\t\t",115],["T_COMMENT","\/\/ There's nothing left in the stack: go back to the original locale.\n",116],["T_WHITESPACE","\t\t\t",117],["T_VARIABLE","$locale",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","original_locale",117],";",["T_WHITESPACE","\n\t\t",117],"}",["T_WHITESPACE","\n\n\t\t",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","change_locale",120],"(",["T_WHITESPACE"," ",120],["T_VARIABLE","$locale",120],["T_WHITESPACE"," ",120],")",";",["T_WHITESPACE","\n\n\t\t",120],["T_DOC_COMMENT","\/**\n\t\t * Fires when the locale is restored to the previous one.\n\t\t *\n\t\t * @since 4.7.0\n\t\t *\n\t\t * @param string $locale          The new locale.\n\t\t * @param string $previous_locale The previous locale.\n\t\t *\/",122],["T_WHITESPACE","\n\t\t",129],["T_STRING","do_action",130],"(",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'restore_previous_locale'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$locale",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$previous_locale",130],["T_WHITESPACE"," ",130],")",";",["T_WHITESPACE","\n\n\t\t",130],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$locale",132],";",["T_WHITESPACE","\n\t",132],"}",["T_WHITESPACE","\n\n\t",133],["T_DOC_COMMENT","\/**\n\t * Restores the translations according to the original locale.\n\t *\n\t * @since 4.7.0\n\t *\n\t * @return string|false Locale on success, false on failure.\n\t *\/",135],["T_WHITESPACE","\n\t",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","restore_current_locale",142],"(",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n\t\t",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_WHITESPACE"," ",143],["T_EMPTY","empty",143],"(",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","locales",143],["T_WHITESPACE"," ",143],")",["T_WHITESPACE"," ",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n\t\t\t",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","false",144],";",["T_WHITESPACE","\n\t\t",144],"}",["T_WHITESPACE","\n\n\t\t",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","locales",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","original_locale",147],["T_WHITESPACE"," ",147],")",";",["T_WHITESPACE","\n\n\t\t",147],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","restore_previous_locale",149],"(",")",";",["T_WHITESPACE","\n\t",149],"}",["T_WHITESPACE","\n\n\t",150],["T_DOC_COMMENT","\/**\n\t * Whether switch_to_locale() is in effect.\n\t *\n\t * @since 4.7.0\n\t *\n\t * @return bool True if the locale has been switched, false otherwise.\n\t *\/",152],["T_WHITESPACE","\n\t",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","is_switched",159],"(",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],"!",["T_WHITESPACE"," ",160],["T_EMPTY","empty",160],"(",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","locales",160],["T_WHITESPACE"," ",160],")",";",["T_WHITESPACE","\n\t",160],"}",["T_WHITESPACE","\n\n\t",161],["T_DOC_COMMENT","\/**\n\t * Filters the WordPress install's locale.\n\t *\n\t * @since 4.7.0\n\t *\n\t * @param string $locale The WordPress install's locale.\n\t * @return string The locale currently being switched to.\n\t *\/",163],["T_WHITESPACE","\n\t",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","filter_locale",171],"(",["T_WHITESPACE"," ",171],["T_VARIABLE","$locale",171],["T_WHITESPACE"," ",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t",171],["T_VARIABLE","$switched_locale",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","end",172],"(",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","locales",172],["T_WHITESPACE"," ",172],")",";",["T_WHITESPACE","\n\n\t\t",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_WHITESPACE"," ",174],["T_VARIABLE","$switched_locale",174],["T_WHITESPACE"," ",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n\t\t\t",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$switched_locale",175],";",["T_WHITESPACE","\n\t\t",175],"}",["T_WHITESPACE","\n\n\t\t",176],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$locale",178],";",["T_WHITESPACE","\n\t",178],"}",["T_WHITESPACE","\n\n\t",179],["T_DOC_COMMENT","\/**\n\t * Load translations for a given locale.\n\t *\n\t * When switching to a locale, translations for this locale must be loaded from scratch.\n\t *\n\t * @since 4.7.0\n\t * @access private\n\t *\n\t * @global Mo[] $l10n An array of all currently loaded text domains.\n\t *\n\t * @param string $locale The locale to load translations for.\n\t *\/",181],["T_WHITESPACE","\n\t",192],["T_PRIVATE","private",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","load_translations",193],"(",["T_WHITESPACE"," ",193],["T_VARIABLE","$locale",193],["T_WHITESPACE"," ",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n\t\t",193],["T_GLOBAL","global",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$l10n",194],";",["T_WHITESPACE","\n\n\t\t",194],["T_VARIABLE","$domains",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$l10n",196],["T_WHITESPACE"," ",196],"?",["T_WHITESPACE"," ",196],["T_STRING","array_keys",196],"(",["T_WHITESPACE"," ",196],["T_VARIABLE","$l10n",196],["T_WHITESPACE"," ",196],")",["T_WHITESPACE"," ",196],":",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",")",";",["T_WHITESPACE","\n\n\t\t",196],["T_STRING","load_default_textdomain",198],"(",["T_WHITESPACE"," ",198],["T_VARIABLE","$locale",198],["T_WHITESPACE"," ",198],")",";",["T_WHITESPACE","\n\n\t\t",198],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_WHITESPACE"," ",200],["T_VARIABLE","$domains",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$domain",200],["T_WHITESPACE"," ",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n\t\t\t",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'default'",201],["T_WHITESPACE"," ",201],["T_IS_IDENTICAL","===",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$domain",201],["T_WHITESPACE"," ",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n\t\t\t\t",201],["T_CONTINUE","continue",202],";",["T_WHITESPACE","\n\t\t\t",202],"}",["T_WHITESPACE","\n\n\t\t\t",203],["T_STRING","unload_textdomain",205],"(",["T_WHITESPACE"," ",205],["T_VARIABLE","$domain",205],["T_WHITESPACE"," ",205],")",";",["T_WHITESPACE","\n\t\t\t",205],["T_STRING","get_translations_for_domain",206],"(",["T_WHITESPACE"," ",206],["T_VARIABLE","$domain",206],["T_WHITESPACE"," ",206],")",";",["T_WHITESPACE","\n\t\t",206],"}",["T_WHITESPACE","\n\t",207],"}",["T_WHITESPACE","\n\n\t",208],["T_DOC_COMMENT","\/**\n\t * Changes the site's locale to the given one.\n\t *\n\t * Loads the translations, changes the global `$wp_locale` object and updates\n\t * all post type labels.\n\t *\n\t * @since 4.7.0\n\t * @access private\n\t *\n\t * @global WP_Locale $wp_locale The WordPress date and time locale object.\n\t *\n\t * @param string $locale The locale to change to.\n\t *\/",210],["T_WHITESPACE","\n\t",222],["T_PRIVATE","private",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","change_locale",223],"(",["T_WHITESPACE"," ",223],["T_VARIABLE","$locale",223],["T_WHITESPACE"," ",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n\t\t",223],["T_COMMENT","\/\/ Reset translation availability information.\n",224],["T_WHITESPACE","\t\t",225],["T_STRING","_get_path_to_translation",225],"(",["T_WHITESPACE"," ",225],["T_STRING","null",225],",",["T_WHITESPACE"," ",225],["T_STRING","true",225],["T_WHITESPACE"," ",225],")",";",["T_WHITESPACE","\n\n\t\t",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","load_translations",227],"(",["T_WHITESPACE"," ",227],["T_VARIABLE","$locale",227],["T_WHITESPACE"," ",227],")",";",["T_WHITESPACE","\n\n\t\t",227],["T_VARIABLE","$GLOBALS",229],"[",["T_CONSTANT_ENCAPSED_STRING","'wp_locale'",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_NEW","new",229],["T_WHITESPACE"," ",229],["T_STRING","WP_Locale",229],"(",")",";",["T_WHITESPACE","\n\n\t\t",229],["T_DOC_COMMENT","\/**\n\t\t * Fires when the locale is switched to or restored.\n\t\t *\n\t\t * @since 4.7.0\n\t\t *\n\t\t * @param string $locale The new locale.\n\t\t *\/",231],["T_WHITESPACE","\n\t\t",237],["T_STRING","do_action",238],"(",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'change_locale'",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$locale",238],["T_WHITESPACE"," ",238],")",";",["T_WHITESPACE","\n\t",238],"}",["T_WHITESPACE","\n",239],"}",["T_WHITESPACE","\n",240]]