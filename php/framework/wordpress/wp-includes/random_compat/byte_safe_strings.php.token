[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Random_* Compatibility Library\n * for using the new PHP 7 random_* API in PHP 5 projects\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 Paragon Initiative Enterprises\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\/",2],["T_WHITESPACE","\n\n",27],["T_IF","if",29],["T_WHITESPACE"," ",29],"(","!",["T_STRING","function_exists",29],"(",["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_strlen'",29],")",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_WHITESPACE","\n        ",30],["T_STRING","defined",31],"(",["T_CONSTANT_ENCAPSED_STRING","'MB_OVERLOAD_STRING'",31],")",["T_WHITESPACE"," ",31],["T_BOOLEAN_AND","&&",31],["T_WHITESPACE","\n        ",31],["T_STRING","ini_get",32],"(",["T_CONSTANT_ENCAPSED_STRING","'mbstring.func_overload'",32],")",["T_WHITESPACE"," ",32],"&",["T_WHITESPACE"," ",32],["T_STRING","MB_OVERLOAD_STRING",32],["T_WHITESPACE","\n    ",32],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n        ",33],["T_DOC_COMMENT","\/**\n         * strlen() implementation that isn't brittle to mbstring.func_overload\n         *\n         * This version uses mb_strlen() in '8bit' mode to treat strings as raw\n         * binary rather than UTF-8, ISO-8859-1, etc\n         *\n         * @param string $binary_string\n         *\n         * @throws TypeError\n         *\n         * @return int\n         *\/",34],["T_WHITESPACE","\n        ",45],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","RandomCompat_strlen",46],"(",["T_VARIABLE","$binary_string",46],")",["T_WHITESPACE","\n        ",46],"{",["T_WHITESPACE","\n            ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(","!",["T_STRING","is_string",48],"(",["T_VARIABLE","$binary_string",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n                ",48],["T_THROW","throw",49],["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STRING","TypeError",49],"(",["T_WHITESPACE","\n                    ",49],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_strlen() expects a string'",50],["T_WHITESPACE","\n                ",50],")",";",["T_WHITESPACE","\n            ",51],"}",["T_WHITESPACE","\n\n            ",52],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_STRING","mb_strlen",54],"(",["T_VARIABLE","$binary_string",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'8bit'",54],")",";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE","\n\n    ",55],"}",["T_WHITESPACE"," ",57],["T_ELSE","else",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n        ",57],["T_DOC_COMMENT","\/**\n         * strlen() implementation that isn't brittle to mbstring.func_overload\n         *\n         * This version just used the default strlen()\n         *\n         * @param string $binary_string\n         *\n         * @throws TypeError\n         *\n         * @return int\n         *\/",58],["T_WHITESPACE","\n        ",68],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","RandomCompat_strlen",69],"(",["T_VARIABLE","$binary_string",69],")",["T_WHITESPACE","\n        ",69],"{",["T_WHITESPACE","\n            ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","!",["T_STRING","is_string",71],"(",["T_VARIABLE","$binary_string",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                ",71],["T_THROW","throw",72],["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","TypeError",72],"(",["T_WHITESPACE","\n                    ",72],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_strlen() expects a string'",73],["T_WHITESPACE","\n                ",73],")",";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n            ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_STRING","strlen",76],"(",["T_VARIABLE","$binary_string",76],")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n",78],"}",["T_WHITESPACE","\n\n",79],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_STRING","function_exists",81],"(",["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_substr'",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n\n    ",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_WHITESPACE","\n        ",83],["T_STRING","defined",84],"(",["T_CONSTANT_ENCAPSED_STRING","'MB_OVERLOAD_STRING'",84],")",["T_WHITESPACE","\n        ",84],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE","\n        ",85],["T_STRING","ini_get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'mbstring.func_overload'",86],")",["T_WHITESPACE"," ",86],"&",["T_WHITESPACE"," ",86],["T_STRING","MB_OVERLOAD_STRING",86],["T_WHITESPACE","\n    ",86],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_DOC_COMMENT","\/**\n         * substr() implementation that isn't brittle to mbstring.func_overload\n         *\n         * This version uses mb_substr() in '8bit' mode to treat strings as raw\n         * binary rather than UTF-8, ISO-8859-1, etc\n         *\n         * @param string $binary_string\n         * @param int $start\n         * @param int $length (optional)\n         *\n         * @throws TypeError\n         *\n         * @return string\n         *\/",88],["T_WHITESPACE","\n        ",101],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","RandomCompat_substr",102],"(",["T_VARIABLE","$binary_string",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$start",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$length",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","null",102],")",["T_WHITESPACE","\n        ",102],"{",["T_WHITESPACE","\n            ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_STRING","is_string",104],"(",["T_VARIABLE","$binary_string",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_THROW","throw",105],["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","TypeError",105],"(",["T_WHITESPACE","\n                    ",105],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_substr(): First argument should be a string'",106],["T_WHITESPACE","\n                ",106],")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n\n            ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_STRING","is_int",110],"(",["T_VARIABLE","$start",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_THROW","throw",111],["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","TypeError",111],"(",["T_WHITESPACE","\n                    ",111],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_substr(): Second argument should be an integer'",112],["T_WHITESPACE","\n                ",112],")",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n\n            ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$length",116],["T_WHITESPACE"," ",116],["T_IS_IDENTICAL","===",116],["T_WHITESPACE"," ",116],["T_STRING","null",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_DOC_COMMENT","\/**\n                 * mb_substr($str, 0, NULL, '8bit') returns an empty string on\n                 * PHP 5.3, so we have to find the length ourselves.\n                 *\/",117],["T_WHITESPACE","\n                ",120],["T_VARIABLE","$length",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","RandomCompat_strlen",121],"(",["T_VARIABLE","$length",121],")",["T_WHITESPACE"," ",121],"-",["T_WHITESPACE"," ",121],["T_VARIABLE","$start",121],";",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE"," ",122],["T_ELSEIF","elseif",122],["T_WHITESPACE"," ",122],"(","!",["T_STRING","is_int",122],"(",["T_VARIABLE","$length",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_THROW","throw",123],["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","TypeError",123],"(",["T_WHITESPACE","\n                    ",123],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_substr(): Third argument should be an integer, or omitted'",124],["T_WHITESPACE","\n                ",124],")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n\n            ",126],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_STRING","mb_substr",128],"(",["T_VARIABLE","$binary_string",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$start",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$length",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'8bit'",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n    ",129],"}",["T_WHITESPACE"," ",131],["T_ELSE","else",131],["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\n        ",131],["T_DOC_COMMENT","\/**\n         * substr() implementation that isn't brittle to mbstring.func_overload\n         *\n         * This version just uses the default substr()\n         *\n         * @param string $binary_string\n         * @param int $start\n         * @param int $length (optional)\n         *\n         * @throws TypeError\n         *\n         * @return string\n         *\/",133],["T_WHITESPACE","\n        ",145],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","RandomCompat_substr",146],"(",["T_VARIABLE","$binary_string",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$start",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$length",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","null",146],")",["T_WHITESPACE","\n        ",146],"{",["T_WHITESPACE","\n            ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_STRING","is_string",148],"(",["T_VARIABLE","$binary_string",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_THROW","throw",149],["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_STRING","TypeError",149],"(",["T_WHITESPACE","\n                    ",149],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_substr(): First argument should be a string'",150],["T_WHITESPACE","\n                ",150],")",";",["T_WHITESPACE","\n            ",151],"}",["T_WHITESPACE","\n\n            ",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(","!",["T_STRING","is_int",154],"(",["T_VARIABLE","$start",154],")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                ",154],["T_THROW","throw",155],["T_WHITESPACE"," ",155],["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_STRING","TypeError",155],"(",["T_WHITESPACE","\n                    ",155],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_substr(): Second argument should be an integer'",156],["T_WHITESPACE","\n                ",156],")",";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n\n            ",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$length",160],["T_WHITESPACE"," ",160],["T_IS_NOT_IDENTICAL","!==",160],["T_WHITESPACE"," ",160],["T_STRING","null",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_STRING","is_int",161],"(",["T_VARIABLE","$length",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                    ",161],["T_THROW","throw",162],["T_WHITESPACE"," ",162],["T_NEW","new",162],["T_WHITESPACE"," ",162],["T_STRING","TypeError",162],"(",["T_WHITESPACE","\n                        ",162],["T_CONSTANT_ENCAPSED_STRING","'RandomCompat_substr(): Third argument should be an integer, or omitted'",163],["T_WHITESPACE","\n                    ",163],")",";",["T_WHITESPACE","\n                ",164],"}",["T_WHITESPACE","\n\n                ",165],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_STRING","substr",167],"(",["T_VARIABLE","$binary_string",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$start",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$length",167],")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n\n            ",168],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","substr",170],"(",["T_VARIABLE","$binary_string",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$start",170],")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n",172],"}",["T_WHITESPACE","\n",173]]