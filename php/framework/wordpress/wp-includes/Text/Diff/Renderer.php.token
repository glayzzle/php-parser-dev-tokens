[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * A class to render Diffs in different formats.\n *\n * This class renders the diff in classic diff format. It is intended that\n * this class be customized via inheritance, to obtain fancier outputs.\n *\n * Copyright 2004-2010 The Horde Project (http:\/\/www.horde.org\/)\n *\n * See the enclosed file COPYING for license information (LGPL). If you did\n * not receive this file, see http:\/\/opensource.org\/licenses\/lgpl-license.php.\n *\n * @package Text_Diff\n *\/",2],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Text_Diff_Renderer",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * Number of leading context \"lines\" to preserve.\n     *\n     * This should be left at zero for this class, but subclasses may want to\n     * set this to other values.\n     *\/",17],["T_WHITESPACE","\n    ",22],["T_VAR","var",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_leading_context_lines",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_LNUMBER","0",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Number of trailing context \"lines\" to preserve.\n     *\n     * This should be left at zero for this class, but subclasses may want to\n     * set this to other values.\n     *\/",25],["T_WHITESPACE","\n    ",30],["T_VAR","var",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_trailing_context_lines",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_LNUMBER","0",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE"," ",36],["T_VARIABLE","$params",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",["T_WHITESPACE"," ",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_FOREACH","foreach",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$params",38],["T_WHITESPACE"," ",38],["T_AS","as",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$param",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$value",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$v",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'_'",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$param",39],";",["T_WHITESPACE","\n            ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_ISSET","isset",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_VARIABLE","$v",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n                ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_VARIABLE","$v",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$value",41],";",["T_WHITESPACE","\n            ",41],"}",["T_WHITESPACE","\n        ",42],"}",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n\t",44],["T_DOC_COMMENT","\/**\n\t * PHP4 constructor.\n\t *\/",46],["T_WHITESPACE","\n\t",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","Text_Diff_Renderer",49],"(",["T_WHITESPACE"," ",49],["T_VARIABLE","$params",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",["T_WHITESPACE"," ",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n\t\t",49],["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_STRING","__construct",50],"(",["T_WHITESPACE"," ",50],["T_VARIABLE","$params",50],["T_WHITESPACE"," ",50],")",";",["T_WHITESPACE","\n\t",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Get any renderer parameters.\n     *\n     * @return array  All parameters of this renderer object.\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","getParams",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$params",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_STRING","get_object_vars",61],"(",["T_VARIABLE","$this",61],")",["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$k",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$v",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$k",62],"[",["T_LNUMBER","0",62],"]",["T_WHITESPACE"," ",62],["T_IS_EQUAL","==",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'_'",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$params",63],"[",["T_STRING","substr",63],"(",["T_VARIABLE","$k",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","1",63],")","]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$v",63],";",["T_WHITESPACE","\n            ",63],"}",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n\n        ",65],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$params",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Renders a diff.\n     *\n     * @param Text_Diff $diff  A Text_Diff object.\n     *\n     * @return string  The formatted output.\n     *\/",70],["T_WHITESPACE","\n    ",76],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","render",77],"(",["T_VARIABLE","$diff",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$xi",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$yi",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$block",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","false",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$context",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$nlead",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_leading_context_lines",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$ntrail",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_trailing_context_lines",84],";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$output",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_startDiff",86],"(",")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$diffs",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$diff",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getDiff",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$diffs",89],["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$i",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$edit",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_COMMENT","\/* If these are unchanged (copied) lines, and we want to keep\n             * leading or trailing context lines, extract them from the copy\n             * block. *\/",90],["T_WHITESPACE","\n            ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_STRING","is_a",93],"(",["T_VARIABLE","$edit",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Text_Diff_Op_copy'",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_COMMENT","\/* Do we have any diff blocks yet? *\/",94],["T_WHITESPACE","\n                ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","is_array",95],"(",["T_VARIABLE","$block",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                    ",95],["T_COMMENT","\/* How many lines to keep as context from the copy\n                     * block. *\/",96],["T_WHITESPACE","\n                    ",97],["T_VARIABLE","$keep",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$i",98],["T_WHITESPACE"," ",98],["T_IS_EQUAL","==",98],["T_WHITESPACE"," ",98],["T_STRING","count",98],"(",["T_VARIABLE","$diffs",98],")",["T_WHITESPACE"," ",98],"-",["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],["T_WHITESPACE"," ",98],"?",["T_WHITESPACE"," ",98],["T_VARIABLE","$ntrail",98],["T_WHITESPACE"," ",98],":",["T_WHITESPACE"," ",98],["T_VARIABLE","$nlead",98],["T_WHITESPACE"," ",98],"+",["T_WHITESPACE"," ",98],["T_VARIABLE","$ntrail",98],";",["T_WHITESPACE","\n                    ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","count",99],"(",["T_VARIABLE","$edit",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","orig",99],")",["T_WHITESPACE"," ",99],["T_IS_SMALLER_OR_EQUAL","<=",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$keep",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                        ",99],["T_COMMENT","\/* We have less lines in the block than we want for\n                         * context => keep the whole block. *\/",100],["T_WHITESPACE","\n                        ",101],["T_VARIABLE","$block",102],"[","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$edit",102],";",["T_WHITESPACE","\n                    ",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$ntrail",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                            ",104],["T_COMMENT","\/* Create a new block with as many lines as we need\n                             * for the trailing context. *\/",105],["T_WHITESPACE","\n                            ",106],["T_VARIABLE","$context",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","array_slice",107],"(",["T_VARIABLE","$edit",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","orig",107],",",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$ntrail",107],")",";",["T_WHITESPACE","\n                            ",107],["T_VARIABLE","$block",108],"[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_NEW","new",108],["T_WHITESPACE"," ",108],["T_STRING","Text_Diff_Op_copy",108],"(",["T_VARIABLE","$context",108],")",";",["T_WHITESPACE","\n                        ",108],"}",["T_WHITESPACE","\n                        ",109],["T_COMMENT","\/* @todo *\/",110],["T_WHITESPACE","\n                        ",110],["T_VARIABLE","$output",111],["T_WHITESPACE"," ",111],["T_CONCAT_EQUAL",".=",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_block",111],"(",["T_VARIABLE","$x0",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$ntrail",111],["T_WHITESPACE"," ",111],"+",["T_WHITESPACE"," ",111],["T_VARIABLE","$xi",111],["T_WHITESPACE"," ",111],"-",["T_WHITESPACE"," ",111],["T_VARIABLE","$x0",111],",",["T_WHITESPACE","\n                                                 ",111],["T_VARIABLE","$y0",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$ntrail",112],["T_WHITESPACE"," ",112],"+",["T_WHITESPACE"," ",112],["T_VARIABLE","$yi",112],["T_WHITESPACE"," ",112],"-",["T_WHITESPACE"," ",112],["T_VARIABLE","$y0",112],",",["T_WHITESPACE","\n                                                 ",112],["T_VARIABLE","$block",113],")",";",["T_WHITESPACE","\n                        ",113],["T_VARIABLE","$block",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","false",114],";",["T_WHITESPACE","\n                    ",114],"}",["T_WHITESPACE","\n                ",115],"}",["T_WHITESPACE","\n                ",116],["T_COMMENT","\/* Keep the copy block as the context for the next block. *\/",117],["T_WHITESPACE","\n                ",117],["T_VARIABLE","$context",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$edit",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","orig",118],";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE"," ",119],["T_ELSE","else",119],["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                ",119],["T_COMMENT","\/* Don't we have any diff blocks yet? *\/",120],["T_WHITESPACE","\n                ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_STRING","is_array",121],"(",["T_VARIABLE","$block",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                    ",121],["T_COMMENT","\/* Extract context lines from the preceding copy block. *\/",122],["T_WHITESPACE","\n                    ",122],["T_VARIABLE","$context",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","array_slice",123],"(",["T_VARIABLE","$context",123],",",["T_WHITESPACE"," ",123],["T_STRING","count",123],"(",["T_VARIABLE","$context",123],")",["T_WHITESPACE"," ",123],"-",["T_WHITESPACE"," ",123],["T_VARIABLE","$nlead",123],")",";",["T_WHITESPACE","\n                    ",123],["T_VARIABLE","$x0",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$xi",124],["T_WHITESPACE"," ",124],"-",["T_WHITESPACE"," ",124],["T_STRING","count",124],"(",["T_VARIABLE","$context",124],")",";",["T_WHITESPACE","\n                    ",124],["T_VARIABLE","$y0",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$yi",125],["T_WHITESPACE"," ",125],"-",["T_WHITESPACE"," ",125],["T_STRING","count",125],"(",["T_VARIABLE","$context",125],")",";",["T_WHITESPACE","\n                    ",125],["T_VARIABLE","$block",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",";",["T_WHITESPACE","\n                    ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$context",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                        ",127],["T_VARIABLE","$block",128],"[","]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","Text_Diff_Op_copy",128],"(",["T_VARIABLE","$context",128],")",";",["T_WHITESPACE","\n                    ",128],"}",["T_WHITESPACE","\n                ",129],"}",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$block",131],"[","]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$edit",131],";",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n\n            ",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$edit",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","orig",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$xi",135],["T_WHITESPACE"," ",135],["T_PLUS_EQUAL","+=",135],["T_WHITESPACE"," ",135],["T_STRING","count",135],"(",["T_VARIABLE","$edit",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","orig",135],")",";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n            ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$edit",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","final",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$yi",138],["T_WHITESPACE"," ",138],["T_PLUS_EQUAL","+=",138],["T_WHITESPACE"," ",138],["T_STRING","count",138],"(",["T_VARIABLE","$edit",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","final",138],")",";",["T_WHITESPACE","\n            ",138],"}",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_STRING","is_array",142],"(",["T_VARIABLE","$block",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$output",143],["T_WHITESPACE"," ",143],["T_CONCAT_EQUAL",".=",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_block",143],"(",["T_VARIABLE","$x0",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$xi",143],["T_WHITESPACE"," ",143],"-",["T_WHITESPACE"," ",143],["T_VARIABLE","$x0",143],",",["T_WHITESPACE","\n                                     ",143],["T_VARIABLE","$y0",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$yi",144],["T_WHITESPACE"," ",144],"-",["T_WHITESPACE"," ",144],["T_VARIABLE","$y0",144],",",["T_WHITESPACE","\n                                     ",144],["T_VARIABLE","$block",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$output",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_endDiff",148],"(",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","_block",151],"(",["T_VARIABLE","$xbeg",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$xlen",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$ybeg",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$ylen",151],",",["T_WHITESPACE"," ",151],"&",["T_VARIABLE","$edits",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$output",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_startBlock",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_blockHeader",153],"(",["T_VARIABLE","$xbeg",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$xlen",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$ybeg",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$ylen",153],")",")",";",["T_WHITESPACE","\n\n        ",153],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$edits",155],["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$edit",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_SWITCH","switch",156],["T_WHITESPACE"," ",156],"(",["T_STRING","strtolower",156],"(",["T_STRING","get_class",156],"(",["T_VARIABLE","$edit",156],")",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_CASE","case",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'text_diff_op_copy'",157],":",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$output",158],["T_WHITESPACE"," ",158],["T_CONCAT_EQUAL",".=",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_context",158],"(",["T_VARIABLE","$edit",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","orig",158],")",";",["T_WHITESPACE","\n                ",158],["T_BREAK","break",159],";",["T_WHITESPACE","\n\n            ",159],["T_CASE","case",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'text_diff_op_add'",161],":",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$output",162],["T_WHITESPACE"," ",162],["T_CONCAT_EQUAL",".=",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_added",162],"(",["T_VARIABLE","$edit",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","final",162],")",";",["T_WHITESPACE","\n                ",162],["T_BREAK","break",163],";",["T_WHITESPACE","\n\n            ",163],["T_CASE","case",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'text_diff_op_delete'",165],":",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$output",166],["T_WHITESPACE"," ",166],["T_CONCAT_EQUAL",".=",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_deleted",166],"(",["T_VARIABLE","$edit",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","orig",166],")",";",["T_WHITESPACE","\n                ",166],["T_BREAK","break",167],";",["T_WHITESPACE","\n\n            ",167],["T_CASE","case",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'text_diff_op_change'",169],":",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$output",170],["T_WHITESPACE"," ",170],["T_CONCAT_EQUAL",".=",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_changed",170],"(",["T_VARIABLE","$edit",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","orig",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$edit",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","final",170],")",";",["T_WHITESPACE","\n                ",170],["T_BREAK","break",171],";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n\n        ",173],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$output",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_endBlock",175],"(",")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","_startDiff",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","''",180],";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","_endDiff",183],"(",")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","_blockHeader",188],"(",["T_VARIABLE","$xbeg",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$xlen",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$ybeg",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$ylen",188],")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$xlen",190],["T_WHITESPACE"," ",190],">",["T_WHITESPACE"," ",190],["T_LNUMBER","1",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$xbeg",191],["T_WHITESPACE"," ",191],["T_CONCAT_EQUAL",".=",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","','",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$xbeg",191],["T_WHITESPACE"," ",191],"+",["T_WHITESPACE"," ",191],["T_VARIABLE","$xlen",191],["T_WHITESPACE"," ",191],"-",["T_WHITESPACE"," ",191],["T_LNUMBER","1",191],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$ylen",193],["T_WHITESPACE"," ",193],">",["T_WHITESPACE"," ",193],["T_LNUMBER","1",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$ybeg",194],["T_WHITESPACE"," ",194],["T_CONCAT_EQUAL",".=",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","','",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$ybeg",194],["T_WHITESPACE"," ",194],"+",["T_WHITESPACE"," ",194],["T_VARIABLE","$ylen",194],["T_WHITESPACE"," ",194],"-",["T_WHITESPACE"," ",194],["T_LNUMBER","1",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_COMMENT","\/\/ this matches the GNU Diff behaviour\n",197],["T_WHITESPACE","        ",198],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$xlen",198],["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],"!",["T_VARIABLE","$ylen",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$ybeg",199],["T_DEC","--",199],";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE"," ",200],["T_ELSEIF","elseif",200],["T_WHITESPACE"," ",200],"(","!",["T_VARIABLE","$xlen",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$xbeg",201],["T_DEC","--",201],";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n\n        ",202],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$xbeg",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$xlen",204],["T_WHITESPACE"," ",204],"?",["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$ylen",204],["T_WHITESPACE"," ",204],"?",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'c'",204],["T_WHITESPACE"," ",204],":",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'d'",204],")",["T_WHITESPACE"," ",204],":",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'a'",204],")",["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_VARIABLE","$ybeg",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","_startBlock",207],"(",["T_VARIABLE","$header",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$header",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","_endBlock",212],"(",")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","''",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","_lines",217],"(",["T_VARIABLE","$lines",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$prefix",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","' '",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$prefix",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_STRING","implode",219],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\\n",219],["T_VARIABLE","$prefix",219],"\"",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$lines",219],")",["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","_context",222],"(",["T_VARIABLE","$lines",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_lines",224],"(",["T_VARIABLE","$lines",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'  '",224],")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","_added",227],"(",["T_VARIABLE","$lines",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_lines",229],"(",["T_VARIABLE","$lines",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'> '",229],")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","_deleted",232],"(",["T_VARIABLE","$lines",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_lines",234],"(",["T_VARIABLE","$lines",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'< '",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_changed",237],"(",["T_VARIABLE","$orig",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$final",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_deleted",239],"(",["T_VARIABLE","$orig",239],")",["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","\"---\\n\"",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_added",239],"(",["T_VARIABLE","$final",239],")",";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n",240],"}",["T_WHITESPACE","\n",242]]