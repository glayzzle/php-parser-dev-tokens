[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Class used internally by Text_Diff to actually compute the diffs.\n *\n * This class is implemented using native PHP code.\n *\n * The algorithm used here is mostly lifted from the perl module\n * Algorithm::Diff (version 1.06) by Ned Konz, which is available at:\n * http:\/\/www.perl.com\/CPAN\/authors\/id\/N\/NE\/NEDKONZ\/Algorithm-Diff-1.06.zip\n *\n * More ideas are taken from: http:\/\/www.ics.uci.edu\/~eppstein\/161\/960229.html\n *\n * Some ideas (and a bit of code) are taken from analyze.c, of GNU\n * diffutils-2.7, which can be found at:\n * ftp:\/\/gnudist.gnu.org\/pub\/gnu\/diffutils\/diffutils-2.7.tar.gz\n *\n * Some ideas (subdivision by NCHUNKS > 2, and some optimizations) are from\n * Geoffrey T. Dairiki <dairiki@dairiki.org>. The original PHP version of this\n * code was written by him, and is used\/adapted with his permission.\n *\n * Copyright 2004-2010 The Horde Project (http:\/\/www.horde.org\/)\n *\n * See the enclosed file COPYING for license information (LGPL). If you did\n * not receive this file, see http:\/\/opensource.org\/licenses\/lgpl-license.php.\n *\n * @author  Geoffrey T. Dairiki <dairiki@dairiki.org>\n * @package Text_Diff\n *\/",2],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Text_Diff_Engine_native",29],["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\n    ",29],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","diff",31],"(",["T_VARIABLE","$from_lines",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$to_lines",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_STRING","array_walk",33],"(",["T_VARIABLE","$from_lines",33],",",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Text_Diff'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'trimNewlines'",33],")",")",";",["T_WHITESPACE","\n        ",33],["T_STRING","array_walk",34],"(",["T_VARIABLE","$to_lines",34],",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Text_Diff'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'trimNewlines'",34],")",")",";",["T_WHITESPACE","\n\n        ",34],["T_VARIABLE","$n_from",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","count",36],"(",["T_VARIABLE","$from_lines",36],")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$n_to",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","count",37],"(",["T_VARIABLE","$to_lines",37],")",";",["T_WHITESPACE","\n\n        ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","xchanged",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","ychanged",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","xv",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","yv",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","xind",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","yind",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_UNSET","unset",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","seq",42],")",";",["T_WHITESPACE","\n        ",42],["T_UNSET","unset",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","in_seq",43],")",";",["T_WHITESPACE","\n        ",43],["T_UNSET","unset",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","lcs",44],")",";",["T_WHITESPACE","\n\n        ",44],["T_COMMENT","\/\/ Skip leading common lines.\n",46],["T_WHITESPACE","        ",47],["T_FOR","for",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$skip",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_LNUMBER","0",47],";",["T_WHITESPACE"," ",47],["T_VARIABLE","$skip",47],["T_WHITESPACE"," ",47],"<",["T_WHITESPACE"," ",47],["T_VARIABLE","$n_from",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$skip",47],["T_WHITESPACE"," ",47],"<",["T_WHITESPACE"," ",47],["T_VARIABLE","$n_to",47],";",["T_WHITESPACE"," ",47],["T_VARIABLE","$skip",47],["T_INC","++",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$from_lines",48],"[",["T_VARIABLE","$skip",48],"]",["T_WHITESPACE"," ",48],["T_IS_NOT_IDENTICAL","!==",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$to_lines",48],"[",["T_VARIABLE","$skip",48],"]",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n                ",48],["T_BREAK","break",49],";",["T_WHITESPACE","\n            ",49],"}",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","xchanged",51],"[",["T_VARIABLE","$skip",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","ychanged",51],"[",["T_VARIABLE","$skip",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","false",51],";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n\n        ",52],["T_COMMENT","\/\/ Skip trailing common lines.\n",54],["T_WHITESPACE","        ",55],["T_VARIABLE","$xi",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$n_from",55],";",["T_WHITESPACE"," ",55],["T_VARIABLE","$yi",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$n_to",55],";",["T_WHITESPACE","\n        ",55],["T_FOR","for",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$endskip",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],";",["T_WHITESPACE"," ",56],["T_DEC","--",56],["T_VARIABLE","$xi",56],["T_WHITESPACE"," ",56],">",["T_WHITESPACE"," ",56],["T_VARIABLE","$skip",56],["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],["T_DEC","--",56],["T_VARIABLE","$yi",56],["T_WHITESPACE"," ",56],">",["T_WHITESPACE"," ",56],["T_VARIABLE","$skip",56],";",["T_WHITESPACE"," ",56],["T_VARIABLE","$endskip",56],["T_INC","++",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$from_lines",57],"[",["T_VARIABLE","$xi",57],"]",["T_WHITESPACE"," ",57],["T_IS_NOT_IDENTICAL","!==",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$to_lines",57],"[",["T_VARIABLE","$yi",57],"]",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                ",57],["T_BREAK","break",58],";",["T_WHITESPACE","\n            ",58],"}",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","xchanged",60],"[",["T_VARIABLE","$xi",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","ychanged",60],"[",["T_VARIABLE","$yi",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","false",60],";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n\n        ",61],["T_COMMENT","\/\/ Ignore lines which do not exist in both files.\n",63],["T_WHITESPACE","        ",64],["T_FOR","for",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$xi",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$skip",64],";",["T_WHITESPACE"," ",64],["T_VARIABLE","$xi",64],["T_WHITESPACE"," ",64],"<",["T_WHITESPACE"," ",64],["T_VARIABLE","$n_from",64],["T_WHITESPACE"," ",64],"-",["T_WHITESPACE"," ",64],["T_VARIABLE","$endskip",64],";",["T_WHITESPACE"," ",64],["T_VARIABLE","$xi",64],["T_INC","++",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$xhash",65],"[",["T_VARIABLE","$from_lines",65],"[",["T_VARIABLE","$xi",65],"]","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_LNUMBER","1",65],";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_FOR","for",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$yi",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$skip",67],";",["T_WHITESPACE"," ",67],["T_VARIABLE","$yi",67],["T_WHITESPACE"," ",67],"<",["T_WHITESPACE"," ",67],["T_VARIABLE","$n_to",67],["T_WHITESPACE"," ",67],"-",["T_WHITESPACE"," ",67],["T_VARIABLE","$endskip",67],";",["T_WHITESPACE"," ",67],["T_VARIABLE","$yi",67],["T_INC","++",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$line",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$to_lines",68],"[",["T_VARIABLE","$yi",68],"]",";",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","ychanged",69],"[",["T_VARIABLE","$yi",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_EMPTY","empty",69],"(",["T_VARIABLE","$xhash",69],"[",["T_VARIABLE","$line",69],"]",")",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_CONTINUE","continue",70],";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$yhash",72],"[",["T_VARIABLE","$line",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_LNUMBER","1",72],";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","yv",73],"[","]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$line",73],";",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","yind",74],"[","]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$yi",74],";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_FOR","for",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$xi",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$skip",76],";",["T_WHITESPACE"," ",76],["T_VARIABLE","$xi",76],["T_WHITESPACE"," ",76],"<",["T_WHITESPACE"," ",76],["T_VARIABLE","$n_from",76],["T_WHITESPACE"," ",76],"-",["T_WHITESPACE"," ",76],["T_VARIABLE","$endskip",76],";",["T_WHITESPACE"," ",76],["T_VARIABLE","$xi",76],["T_INC","++",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$line",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$from_lines",77],"[",["T_VARIABLE","$xi",77],"]",";",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","xchanged",78],"[",["T_VARIABLE","$xi",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_EMPTY","empty",78],"(",["T_VARIABLE","$yhash",78],"[",["T_VARIABLE","$line",78],"]",")",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_CONTINUE","continue",79],";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","xv",81],"[","]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$line",81],";",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","xind",82],"[","]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$xi",82],";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_COMMENT","\/\/ Find the LCS.\n",85],["T_WHITESPACE","        ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_compareseq",86],"(",["T_LNUMBER","0",86],",",["T_WHITESPACE"," ",86],["T_STRING","count",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","xv",86],")",",",["T_WHITESPACE"," ",86],["T_LNUMBER","0",86],",",["T_WHITESPACE"," ",86],["T_STRING","count",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","yv",86],")",")",";",["T_WHITESPACE","\n\n        ",86],["T_COMMENT","\/\/ Merge edits when possible.\n",88],["T_WHITESPACE","        ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_shiftBoundaries",89],"(",["T_VARIABLE","$from_lines",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","xchanged",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","ychanged",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_shiftBoundaries",90],"(",["T_VARIABLE","$to_lines",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","ychanged",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","xchanged",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_COMMENT","\/\/ Compute the edit operations.\n",92],["T_WHITESPACE","        ",93],["T_VARIABLE","$edits",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$xi",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$yi",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],";",["T_WHITESPACE","\n        ",94],["T_WHILE","while",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$xi",95],["T_WHITESPACE"," ",95],"<",["T_WHITESPACE"," ",95],["T_VARIABLE","$n_from",95],["T_WHITESPACE"," ",95],["T_BOOLEAN_OR","||",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$yi",95],["T_WHITESPACE"," ",95],"<",["T_WHITESPACE"," ",95],["T_VARIABLE","$n_to",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_STRING","assert",96],"(",["T_VARIABLE","$yi",96],["T_WHITESPACE"," ",96],"<",["T_WHITESPACE"," ",96],["T_VARIABLE","$n_to",96],["T_WHITESPACE"," ",96],["T_BOOLEAN_OR","||",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","xchanged",96],"[",["T_VARIABLE","$xi",96],"]",")",";",["T_WHITESPACE","\n            ",96],["T_STRING","assert",97],"(",["T_VARIABLE","$xi",97],["T_WHITESPACE"," ",97],"<",["T_WHITESPACE"," ",97],["T_VARIABLE","$n_from",97],["T_WHITESPACE"," ",97],["T_BOOLEAN_OR","||",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","ychanged",97],"[",["T_VARIABLE","$yi",97],"]",")",";",["T_WHITESPACE","\n\n            ",97],["T_COMMENT","\/\/ Skip matching \"snake\".\n",99],["T_WHITESPACE","            ",100],["T_VARIABLE","$copy",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",")",";",["T_WHITESPACE","\n            ",100],["T_WHILE","while",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$xi",101],["T_WHITESPACE"," ",101],"<",["T_WHITESPACE"," ",101],["T_VARIABLE","$n_from",101],["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$yi",101],["T_WHITESPACE"," ",101],"<",["T_WHITESPACE"," ",101],["T_VARIABLE","$n_to",101],["T_WHITESPACE","\n                   ",101],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE"," ",102],"!",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","xchanged",102],"[",["T_VARIABLE","$xi",102],"]",["T_WHITESPACE"," ",102],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE"," ",102],"!",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","ychanged",102],"[",["T_VARIABLE","$yi",102],"]",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$copy",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$from_lines",103],"[",["T_VARIABLE","$xi",103],["T_INC","++",103],"]",";",["T_WHITESPACE","\n                ",103],["T_INC","++",104],["T_VARIABLE","$yi",104],";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n            ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$copy",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$edits",107],"[","]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_STRING","Text_Diff_Op_copy",107],"(",["T_VARIABLE","$copy",107],")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n\n            ",108],["T_COMMENT","\/\/ Find deletes & adds.\n",110],["T_WHITESPACE","            ",111],["T_VARIABLE","$delete",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",")",";",["T_WHITESPACE","\n            ",111],["T_WHILE","while",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$xi",112],["T_WHITESPACE"," ",112],"<",["T_WHITESPACE"," ",112],["T_VARIABLE","$n_from",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","xchanged",112],"[",["T_VARIABLE","$xi",112],"]",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$delete",113],"[","]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$from_lines",113],"[",["T_VARIABLE","$xi",113],["T_INC","++",113],"]",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n\n            ",114],["T_VARIABLE","$add",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",";",["T_WHITESPACE","\n            ",116],["T_WHILE","while",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$yi",117],["T_WHITESPACE"," ",117],"<",["T_WHITESPACE"," ",117],["T_VARIABLE","$n_to",117],["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","ychanged",117],"[",["T_VARIABLE","$yi",117],"]",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$add",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$to_lines",118],"[",["T_VARIABLE","$yi",118],["T_INC","++",118],"]",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n\n            ",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$delete",121],["T_WHITESPACE"," ",121],["T_BOOLEAN_AND","&&",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$add",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$edits",122],"[","]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Text_Diff_Op_change",122],"(",["T_VARIABLE","$delete",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$add",122],")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE"," ",123],["T_ELSEIF","elseif",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$delete",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$edits",124],"[","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","Text_Diff_Op_delete",124],"(",["T_VARIABLE","$delete",124],")",";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE"," ",125],["T_ELSEIF","elseif",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$add",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$edits",126],"[","]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","Text_Diff_Op_add",126],"(",["T_VARIABLE","$add",126],")",";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$edits",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Divides the Largest Common Subsequence (LCS) of the sequences (XOFF,\n     * XLIM) and (YOFF, YLIM) into NCHUNKS approximately equally sized\n     * segments.\n     *\n     * Returns (LCS, PTS).  LCS is the length of the LCS. PTS is an array of\n     * NCHUNKS+1 (X, Y) indexes giving the diving points between sub\n     * sequences.  The first sub-sequence is contained in (X0, X1), (Y0, Y1),\n     * the second in (X1, X2), (Y1, Y2) and so on.  Note that (X0, Y0) ==\n     * (XOFF, YOFF) and (X[NCHUNKS], Y[NCHUNKS]) == (XLIM, YLIM).\n     *\n     * This function assumes that the first lines of the specified portions of\n     * the two files do not match, and likewise that the last lines do not\n     * match.  The caller must trim matching lines from the beginning and end\n     * of the portions it is going to specify.\n     *\/",133],["T_WHITESPACE","\n    ",148],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","_diag",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$xoff",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$xlim",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$yoff",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$ylim",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$nchunks",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$flip",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","false",151],";",["T_WHITESPACE","\n\n        ",151],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$xlim",153],["T_WHITESPACE"," ",153],"-",["T_WHITESPACE"," ",153],["T_VARIABLE","$xoff",153],["T_WHITESPACE"," ",153],">",["T_WHITESPACE"," ",153],["T_VARIABLE","$ylim",153],["T_WHITESPACE"," ",153],"-",["T_WHITESPACE"," ",153],["T_VARIABLE","$yoff",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_COMMENT","\/* Things seems faster (I'm not sure I understand why) when the\n             * shortest sequence is in X. *\/",154],["T_WHITESPACE","\n            ",155],["T_VARIABLE","$flip",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","true",156],";",["T_WHITESPACE","\n            ",156],["T_LIST","list",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$xoff",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$xlim",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$yoff",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$ylim",157],")",["T_WHITESPACE","\n                ",157],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_VARIABLE","$yoff",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$ylim",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$xoff",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$xlim",158],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$flip",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_FOR","for",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$i",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$ylim",162],["T_WHITESPACE"," ",162],"-",["T_WHITESPACE"," ",162],["T_LNUMBER","1",162],";",["T_WHITESPACE"," ",162],["T_VARIABLE","$i",162],["T_WHITESPACE"," ",162],["T_IS_GREATER_OR_EQUAL",">=",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$yoff",162],";",["T_WHITESPACE"," ",162],["T_VARIABLE","$i",162],["T_DEC","--",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$ymatches",163],"[",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","xv",163],"[",["T_VARIABLE","$i",163],"]","]","[","]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$i",163],";",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE"," ",165],["T_ELSE","else",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_FOR","for",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$i",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$ylim",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_LNUMBER","1",166],";",["T_WHITESPACE"," ",166],["T_VARIABLE","$i",166],["T_WHITESPACE"," ",166],["T_IS_GREATER_OR_EQUAL",">=",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$yoff",166],";",["T_WHITESPACE"," ",166],["T_VARIABLE","$i",166],["T_DEC","--",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$ymatches",167],"[",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","yv",167],"[",["T_VARIABLE","$i",167],"]","]","[","]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$i",167],";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","lcs",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_LNUMBER","0",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","seq",172],"[",["T_LNUMBER","0",172],"]","=",["T_WHITESPACE"," ",172],["T_VARIABLE","$yoff",172],["T_WHITESPACE"," ",172],"-",["T_WHITESPACE"," ",172],["T_LNUMBER","1",172],";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","in_seq",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$ymids",174],"[",["T_LNUMBER","0",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$numer",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$xlim",176],["T_WHITESPACE"," ",176],"-",["T_WHITESPACE"," ",176],["T_VARIABLE","$xoff",176],["T_WHITESPACE"," ",176],"+",["T_WHITESPACE"," ",176],["T_VARIABLE","$nchunks",176],["T_WHITESPACE"," ",176],"-",["T_WHITESPACE"," ",176],["T_LNUMBER","1",176],";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$x",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$xoff",177],";",["T_WHITESPACE","\n        ",177],["T_FOR","for",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$chunk",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","0",178],";",["T_WHITESPACE"," ",178],["T_VARIABLE","$chunk",178],["T_WHITESPACE"," ",178],"<",["T_WHITESPACE"," ",178],["T_VARIABLE","$nchunks",178],";",["T_WHITESPACE"," ",178],["T_VARIABLE","$chunk",178],["T_INC","++",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$chunk",179],["T_WHITESPACE"," ",179],">",["T_WHITESPACE"," ",179],["T_LNUMBER","0",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                ",179],["T_FOR","for",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$i",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_LNUMBER","0",180],";",["T_WHITESPACE"," ",180],["T_VARIABLE","$i",180],["T_WHITESPACE"," ",180],["T_IS_SMALLER_OR_EQUAL","<=",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","lcs",180],";",["T_WHITESPACE"," ",180],["T_VARIABLE","$i",180],["T_INC","++",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                    ",180],["T_VARIABLE","$ymids",181],"[",["T_VARIABLE","$i",181],"]","[",["T_VARIABLE","$chunk",181],["T_WHITESPACE"," ",181],"-",["T_WHITESPACE"," ",181],["T_LNUMBER","1",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","seq",181],"[",["T_VARIABLE","$i",181],"]",";",["T_WHITESPACE","\n                ",181],"}",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n\n            ",183],["T_VARIABLE","$x1",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$xoff",185],["T_WHITESPACE"," ",185],"+",["T_WHITESPACE"," ",185],["T_INT_CAST","(int)",185],"(","(",["T_VARIABLE","$numer",185],["T_WHITESPACE"," ",185],"+",["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$xlim",185],["T_WHITESPACE"," ",185],"-",["T_WHITESPACE"," ",185],["T_VARIABLE","$xoff",185],")",["T_WHITESPACE"," ",185],"*",["T_WHITESPACE"," ",185],["T_VARIABLE","$chunk",185],")",["T_WHITESPACE"," ",185],"\/",["T_WHITESPACE"," ",185],["T_VARIABLE","$nchunks",185],")",";",["T_WHITESPACE","\n            ",185],["T_FOR","for",186],["T_WHITESPACE"," ",186],"(",";",["T_WHITESPACE"," ",186],["T_VARIABLE","$x",186],["T_WHITESPACE"," ",186],"<",["T_WHITESPACE"," ",186],["T_VARIABLE","$x1",186],";",["T_WHITESPACE"," ",186],["T_VARIABLE","$x",186],["T_INC","++",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$line",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$flip",187],["T_WHITESPACE"," ",187],"?",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","yv",187],"[",["T_VARIABLE","$x",187],"]",["T_WHITESPACE"," ",187],":",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","xv",187],"[",["T_VARIABLE","$x",187],"]",";",["T_WHITESPACE","\n                ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_EMPTY","empty",188],"(",["T_VARIABLE","$ymatches",188],"[",["T_VARIABLE","$line",188],"]",")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                    ",188],["T_CONTINUE","continue",189],";",["T_WHITESPACE","\n                ",189],"}",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$matches",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$ymatches",191],"[",["T_VARIABLE","$line",191],"]",";",["T_WHITESPACE","\n                ",191],["T_STRING","reset",192],"(",["T_VARIABLE","$matches",192],")",";",["T_WHITESPACE","\n                ",192],["T_WHILE","while",193],["T_WHITESPACE"," ",193],"(",["T_LIST","list",193],"(",",",["T_WHITESPACE"," ",193],["T_VARIABLE","$y",193],")",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","each",193],"(",["T_VARIABLE","$matches",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                    ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_EMPTY","empty",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","in_seq",194],"[",["T_VARIABLE","$y",194],"]",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                        ",194],["T_VARIABLE","$k",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_lcsPos",195],"(",["T_VARIABLE","$y",195],")",";",["T_WHITESPACE","\n                        ",195],["T_STRING","assert",196],"(",["T_VARIABLE","$k",196],["T_WHITESPACE"," ",196],">",["T_WHITESPACE"," ",196],["T_LNUMBER","0",196],")",";",["T_WHITESPACE","\n                        ",196],["T_VARIABLE","$ymids",197],"[",["T_VARIABLE","$k",197],"]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$ymids",197],"[",["T_VARIABLE","$k",197],["T_WHITESPACE"," ",197],"-",["T_WHITESPACE"," ",197],["T_LNUMBER","1",197],"]",";",["T_WHITESPACE","\n                        ",197],["T_BREAK","break",198],";",["T_WHITESPACE","\n                    ",198],"}",["T_WHITESPACE","\n                ",199],"}",["T_WHITESPACE","\n                ",200],["T_WHILE","while",201],["T_WHITESPACE"," ",201],"(",["T_LIST","list",201],"(",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$y",201],")",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","each",201],"(",["T_VARIABLE","$matches",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                    ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$y",202],["T_WHITESPACE"," ",202],">",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","seq",202],"[",["T_VARIABLE","$k",202],["T_WHITESPACE"," ",202],"-",["T_WHITESPACE"," ",202],["T_LNUMBER","1",202],"]",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                        ",202],["T_STRING","assert",203],"(",["T_VARIABLE","$y",203],["T_WHITESPACE"," ",203],["T_IS_SMALLER_OR_EQUAL","<=",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","seq",203],"[",["T_VARIABLE","$k",203],"]",")",";",["T_WHITESPACE","\n                        ",203],["T_COMMENT","\/* Optimization: this is a common case: next match is\n                         * just replacing previous match. *\/",204],["T_WHITESPACE","\n                        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","in_seq",206],"[",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","seq",206],"[",["T_VARIABLE","$k",206],"]","]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","false",206],";",["T_WHITESPACE","\n                        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","seq",207],"[",["T_VARIABLE","$k",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$y",207],";",["T_WHITESPACE","\n                        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","in_seq",208],"[",["T_VARIABLE","$y",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_LNUMBER","1",208],";",["T_WHITESPACE","\n                    ",208],"}",["T_WHITESPACE"," ",209],["T_ELSEIF","elseif",209],["T_WHITESPACE"," ",209],"(",["T_EMPTY","empty",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","in_seq",209],"[",["T_VARIABLE","$y",209],"]",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                        ",209],["T_VARIABLE","$k",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_lcsPos",210],"(",["T_VARIABLE","$y",210],")",";",["T_WHITESPACE","\n                        ",210],["T_STRING","assert",211],"(",["T_VARIABLE","$k",211],["T_WHITESPACE"," ",211],">",["T_WHITESPACE"," ",211],["T_LNUMBER","0",211],")",";",["T_WHITESPACE","\n                        ",211],["T_VARIABLE","$ymids",212],"[",["T_VARIABLE","$k",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$ymids",212],"[",["T_VARIABLE","$k",212],["T_WHITESPACE"," ",212],"-",["T_WHITESPACE"," ",212],["T_LNUMBER","1",212],"]",";",["T_WHITESPACE","\n                    ",212],"}",["T_WHITESPACE","\n                ",213],"}",["T_WHITESPACE","\n            ",214],"}",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$seps",218],"[","]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$flip",218],["T_WHITESPACE"," ",218],"?",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_VARIABLE","$yoff",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$xoff",218],")",["T_WHITESPACE"," ",218],":",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_VARIABLE","$xoff",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$yoff",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$ymid",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$ymids",219],"[",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","lcs",219],"]",";",["T_WHITESPACE","\n        ",219],["T_FOR","for",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$n",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_LNUMBER","0",220],";",["T_WHITESPACE"," ",220],["T_VARIABLE","$n",220],["T_WHITESPACE"," ",220],"<",["T_WHITESPACE"," ",220],["T_VARIABLE","$nchunks",220],["T_WHITESPACE"," ",220],"-",["T_WHITESPACE"," ",220],["T_LNUMBER","1",220],";",["T_WHITESPACE"," ",220],["T_VARIABLE","$n",220],["T_INC","++",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$x1",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$xoff",221],["T_WHITESPACE"," ",221],"+",["T_WHITESPACE"," ",221],["T_INT_CAST","(int)",221],"(","(",["T_VARIABLE","$numer",221],["T_WHITESPACE"," ",221],"+",["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$xlim",221],["T_WHITESPACE"," ",221],"-",["T_WHITESPACE"," ",221],["T_VARIABLE","$xoff",221],")",["T_WHITESPACE"," ",221],"*",["T_WHITESPACE"," ",221],["T_VARIABLE","$n",221],")",["T_WHITESPACE"," ",221],"\/",["T_WHITESPACE"," ",221],["T_VARIABLE","$nchunks",221],")",";",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$y1",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$ymid",222],"[",["T_VARIABLE","$n",222],"]",["T_WHITESPACE"," ",222],"+",["T_WHITESPACE"," ",222],["T_LNUMBER","1",222],";",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$seps",223],"[","]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$flip",223],["T_WHITESPACE"," ",223],"?",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",["T_VARIABLE","$y1",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$x1",223],")",["T_WHITESPACE"," ",223],":",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",["T_VARIABLE","$x1",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$y1",223],")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$seps",225],"[","]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$flip",225],["T_WHITESPACE"," ",225],"?",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",["T_VARIABLE","$ylim",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$xlim",225],")",["T_WHITESPACE"," ",225],":",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",["T_VARIABLE","$xlim",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$ylim",225],")",";",["T_WHITESPACE","\n\n        ",225],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","lcs",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$seps",227],")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","_lcsPos",230],"(",["T_VARIABLE","$ypos",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$end",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","lcs",232],";",["T_WHITESPACE","\n        ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$end",233],["T_WHITESPACE"," ",233],["T_IS_EQUAL","==",233],["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],["T_WHITESPACE"," ",233],["T_BOOLEAN_OR","||",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$ypos",233],["T_WHITESPACE"," ",233],">",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","seq",233],"[",["T_VARIABLE","$end",233],"]",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","seq",234],"[",["T_INC","++",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","lcs",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$ypos",234],";",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","in_seq",235],"[",["T_VARIABLE","$ypos",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_LNUMBER","1",235],";",["T_WHITESPACE","\n            ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","lcs",236],";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$beg",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_LNUMBER","1",239],";",["T_WHITESPACE","\n        ",239],["T_WHILE","while",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$beg",240],["T_WHITESPACE"," ",240],"<",["T_WHITESPACE"," ",240],["T_VARIABLE","$end",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$mid",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_INT_CAST","(int)",241],"(","(",["T_VARIABLE","$beg",241],["T_WHITESPACE"," ",241],"+",["T_WHITESPACE"," ",241],["T_VARIABLE","$end",241],")",["T_WHITESPACE"," ",241],"\/",["T_WHITESPACE"," ",241],["T_LNUMBER","2",241],")",";",["T_WHITESPACE","\n            ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$ypos",242],["T_WHITESPACE"," ",242],">",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","seq",242],"[",["T_VARIABLE","$mid",242],"]",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$beg",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$mid",243],["T_WHITESPACE"," ",243],"+",["T_WHITESPACE"," ",243],["T_LNUMBER","1",243],";",["T_WHITESPACE","\n            ",243],"}",["T_WHITESPACE"," ",244],["T_ELSE","else",244],["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$end",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$mid",245],";",["T_WHITESPACE","\n            ",245],"}",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_STRING","assert",249],"(",["T_VARIABLE","$ypos",249],["T_WHITESPACE"," ",249],["T_IS_NOT_EQUAL","!=",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","seq",249],"[",["T_VARIABLE","$end",249],"]",")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","in_seq",251],"[",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","seq",251],"[",["T_VARIABLE","$end",251],"]","]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","false",251],";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","seq",252],"[",["T_VARIABLE","$end",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$ypos",252],";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","in_seq",253],"[",["T_VARIABLE","$ypos",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_LNUMBER","1",253],";",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$end",254],";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Finds LCS of two sequences.\n     *\n     * The results are recorded in the vectors $this->{x,y}changed[], by\n     * storing a 1 in the element for each line that is an insertion or\n     * deletion (ie. is not in the LCS).\n     *\n     * The subsequence of file 0 is (XOFF, XLIM) and likewise for file 1.\n     *\n     * Note that XLIM, YLIM are exclusive bounds.  All line numbers are\n     * origin-0 and discarded lines are not counted.\n     *\/",257],["T_WHITESPACE","\n    ",268],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","_compareseq",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$xoff",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$xlim",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$yoff",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$ylim",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_COMMENT","\/* Slide down the bottom initial diagonal. *\/",271],["T_WHITESPACE","\n        ",271],["T_WHILE","while",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$xoff",272],["T_WHITESPACE"," ",272],"<",["T_WHITESPACE"," ",272],["T_VARIABLE","$xlim",272],["T_WHITESPACE"," ",272],["T_BOOLEAN_AND","&&",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$yoff",272],["T_WHITESPACE"," ",272],"<",["T_WHITESPACE"," ",272],["T_VARIABLE","$ylim",272],["T_WHITESPACE","\n               ",272],["T_BOOLEAN_AND","&&",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","xv",273],"[",["T_VARIABLE","$xoff",273],"]",["T_WHITESPACE"," ",273],["T_IS_EQUAL","==",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","yv",273],"[",["T_VARIABLE","$yoff",273],"]",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_INC","++",274],["T_VARIABLE","$xoff",274],";",["T_WHITESPACE","\n            ",274],["T_INC","++",275],["T_VARIABLE","$yoff",275],";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n\n        ",276],["T_COMMENT","\/* Slide up the top initial diagonal. *\/",278],["T_WHITESPACE","\n        ",278],["T_WHILE","while",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$xlim",279],["T_WHITESPACE"," ",279],">",["T_WHITESPACE"," ",279],["T_VARIABLE","$xoff",279],["T_WHITESPACE"," ",279],["T_BOOLEAN_AND","&&",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$ylim",279],["T_WHITESPACE"," ",279],">",["T_WHITESPACE"," ",279],["T_VARIABLE","$yoff",279],["T_WHITESPACE","\n               ",279],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","xv",280],"[",["T_VARIABLE","$xlim",280],["T_WHITESPACE"," ",280],"-",["T_WHITESPACE"," ",280],["T_LNUMBER","1",280],"]",["T_WHITESPACE"," ",280],["T_IS_EQUAL","==",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","yv",280],"[",["T_VARIABLE","$ylim",280],["T_WHITESPACE"," ",280],"-",["T_WHITESPACE"," ",280],["T_LNUMBER","1",280],"]",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_DEC","--",281],["T_VARIABLE","$xlim",281],";",["T_WHITESPACE","\n            ",281],["T_DEC","--",282],["T_VARIABLE","$ylim",282],";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n\n        ",283],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_VARIABLE","$xoff",285],["T_WHITESPACE"," ",285],["T_IS_EQUAL","==",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$xlim",285],["T_WHITESPACE"," ",285],["T_BOOLEAN_OR","||",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$yoff",285],["T_WHITESPACE"," ",285],["T_IS_EQUAL","==",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$ylim",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$lcs",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],";",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE"," ",287],["T_ELSE","else",287],["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_COMMENT","\/* This is ad hoc but seems to work well.  $nchunks =\n             * sqrt(min($xlim - $xoff, $ylim - $yoff) \/ 2.5); $nchunks =\n             * max(2,min(8,(int)$nchunks)); *\/",288],["T_WHITESPACE","\n            ",290],["T_VARIABLE","$nchunks",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","min",291],"(",["T_LNUMBER","7",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$xlim",291],["T_WHITESPACE"," ",291],"-",["T_WHITESPACE"," ",291],["T_VARIABLE","$xoff",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$ylim",291],["T_WHITESPACE"," ",291],"-",["T_WHITESPACE"," ",291],["T_VARIABLE","$yoff",291],")",["T_WHITESPACE"," ",291],"+",["T_WHITESPACE"," ",291],["T_LNUMBER","1",291],";",["T_WHITESPACE","\n            ",291],["T_LIST","list",292],"(",["T_VARIABLE","$lcs",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$seps",292],")",["T_WHITESPACE","\n                ",292],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_diag",293],"(",["T_VARIABLE","$xoff",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$xlim",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$yoff",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$ylim",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$nchunks",293],")",";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n\n        ",294],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$lcs",296],["T_WHITESPACE"," ",296],["T_IS_EQUAL","==",296],["T_WHITESPACE"," ",296],["T_LNUMBER","0",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_COMMENT","\/* X and Y sequences have no common subsequence: mark all\n             * changed. *\/",297],["T_WHITESPACE","\n            ",298],["T_WHILE","while",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$yoff",299],["T_WHITESPACE"," ",299],"<",["T_WHITESPACE"," ",299],["T_VARIABLE","$ylim",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","ychanged",300],"[",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","yind",300],"[",["T_VARIABLE","$yoff",300],["T_INC","++",300],"]","]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_LNUMBER","1",300],";",["T_WHITESPACE","\n            ",300],"}",["T_WHITESPACE","\n            ",301],["T_WHILE","while",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$xoff",302],["T_WHITESPACE"," ",302],"<",["T_WHITESPACE"," ",302],["T_VARIABLE","$xlim",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","xchanged",303],"[",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","xind",303],"[",["T_VARIABLE","$xoff",303],["T_INC","++",303],"]","]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_LNUMBER","1",303],";",["T_WHITESPACE","\n            ",303],"}",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE"," ",305],["T_ELSE","else",305],["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_COMMENT","\/* Use the partitions to split this problem into subproblems. *\/",306],["T_WHITESPACE","\n            ",306],["T_STRING","reset",307],"(",["T_VARIABLE","$seps",307],")",";",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$pt1",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$seps",308],"[",["T_LNUMBER","0",308],"]",";",["T_WHITESPACE","\n            ",308],["T_WHILE","while",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$pt2",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","next",309],"(",["T_VARIABLE","$seps",309],")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_compareseq",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$pt1",310],"[",["T_LNUMBER","0",310],"]",",",["T_WHITESPACE"," ",310],["T_VARIABLE","$pt2",310],"[",["T_LNUMBER","0",310],"]",",",["T_WHITESPACE"," ",310],["T_VARIABLE","$pt1",310],"[",["T_LNUMBER","1",310],"]",",",["T_WHITESPACE"," ",310],["T_VARIABLE","$pt2",310],"[",["T_LNUMBER","1",310],"]",")",";",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$pt1",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$pt2",311],";",["T_WHITESPACE","\n            ",311],"}",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n\n    ",314],["T_DOC_COMMENT","\/**\n     * Adjusts inserts\/deletes of identical lines to join changes as much as\n     * possible.\n     *\n     * We do something when a run of changed lines include a line at one end\n     * and has an excluded, identical line at the other.  We are free to\n     * choose which identical line is included.  `compareseq' usually chooses\n     * the one at the beginning, but usually it is cleaner to consider the\n     * following identical line to be the \"change\".\n     *\n     * This is extracted verbatim from analyze.c (GNU diffutils-2.7).\n     *\/",316],["T_WHITESPACE","\n    ",327],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","_shiftBoundaries",328],"(",["T_VARIABLE","$lines",328],",",["T_WHITESPACE"," ",328],"&",["T_VARIABLE","$changed",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$other_changed",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$i",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_LNUMBER","0",330],";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$j",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_LNUMBER","0",331],";",["T_WHITESPACE","\n\n        ",331],["T_STRING","assert",333],"(",["T_CONSTANT_ENCAPSED_STRING","'count($lines) == count($changed)'",333],")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$len",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","count",334],"(",["T_VARIABLE","$lines",334],")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$other_len",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","count",335],"(",["T_VARIABLE","$other_changed",335],")",";",["T_WHITESPACE","\n\n        ",335],["T_WHILE","while",337],["T_WHITESPACE"," ",337],"(",["T_LNUMBER","1",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_COMMENT","\/* Scan forward to find the beginning of another run of\n             * changes. Also keep track of the corresponding point in the\n             * other file.\n             *\n             * Throughout this code, $i and $j are adjusted together so that\n             * the first $i elements of $changed and the first $j elements of\n             * $other_changed both contain the same number of zeros (unchanged\n             * lines).\n             *\n             * Furthermore, $j is always kept so that $j == $other_len or\n             * $other_changed[$j] == false. *\/",338],["T_WHITESPACE","\n            ",348],["T_WHILE","while",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$j",349],["T_WHITESPACE"," ",349],"<",["T_WHITESPACE"," ",349],["T_VARIABLE","$other_len",349],["T_WHITESPACE"," ",349],["T_BOOLEAN_AND","&&",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$other_changed",349],"[",["T_VARIABLE","$j",349],"]",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$j",350],["T_INC","++",350],";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE","\n\n            ",351],["T_WHILE","while",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$i",353],["T_WHITESPACE"," ",353],"<",["T_WHITESPACE"," ",353],["T_VARIABLE","$len",353],["T_WHITESPACE"," ",353],["T_BOOLEAN_AND","&&",353],["T_WHITESPACE"," ",353],"!",["T_WHITESPACE"," ",353],["T_VARIABLE","$changed",353],"[",["T_VARIABLE","$i",353],"]",")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n                ",353],["T_STRING","assert",354],"(",["T_CONSTANT_ENCAPSED_STRING","'$j < $other_len && ! $other_changed[$j]'",354],")",";",["T_WHITESPACE","\n                ",354],["T_VARIABLE","$i",355],["T_INC","++",355],";",["T_WHITESPACE"," ",355],["T_VARIABLE","$j",355],["T_INC","++",355],";",["T_WHITESPACE","\n                ",355],["T_WHILE","while",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$j",356],["T_WHITESPACE"," ",356],"<",["T_WHITESPACE"," ",356],["T_VARIABLE","$other_len",356],["T_WHITESPACE"," ",356],["T_BOOLEAN_AND","&&",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$other_changed",356],"[",["T_VARIABLE","$j",356],"]",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n                    ",356],["T_VARIABLE","$j",357],["T_INC","++",357],";",["T_WHITESPACE","\n                ",357],"}",["T_WHITESPACE","\n            ",358],"}",["T_WHITESPACE","\n\n            ",359],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$i",361],["T_WHITESPACE"," ",361],["T_IS_EQUAL","==",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$len",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n                ",361],["T_BREAK","break",362],";",["T_WHITESPACE","\n            ",362],"}",["T_WHITESPACE","\n\n            ",363],["T_VARIABLE","$start",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$i",365],";",["T_WHITESPACE","\n\n            ",365],["T_COMMENT","\/* Find the end of this run of changes. *\/",367],["T_WHITESPACE","\n            ",367],["T_WHILE","while",368],["T_WHITESPACE"," ",368],"(",["T_INC","++",368],["T_VARIABLE","$i",368],["T_WHITESPACE"," ",368],"<",["T_WHITESPACE"," ",368],["T_VARIABLE","$len",368],["T_WHITESPACE"," ",368],["T_BOOLEAN_AND","&&",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$changed",368],"[",["T_VARIABLE","$i",368],"]",")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_CONTINUE","continue",369],";",["T_WHITESPACE","\n            ",369],"}",["T_WHITESPACE","\n\n            ",370],["T_DO","do",372],["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_COMMENT","\/* Record the length of this run of changes, so that we can\n                 * later determine whether the run has grown. *\/",373],["T_WHITESPACE","\n                ",374],["T_VARIABLE","$runlength",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$i",375],["T_WHITESPACE"," ",375],"-",["T_WHITESPACE"," ",375],["T_VARIABLE","$start",375],";",["T_WHITESPACE","\n\n                ",375],["T_COMMENT","\/* Move the changed region back, so long as the previous\n                 * unchanged line matches the last changed one.  This merges\n                 * with previous changed regions. *\/",377],["T_WHITESPACE","\n                ",379],["T_WHILE","while",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$start",380],["T_WHITESPACE"," ",380],">",["T_WHITESPACE"," ",380],["T_LNUMBER","0",380],["T_WHITESPACE"," ",380],["T_BOOLEAN_AND","&&",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$lines",380],"[",["T_VARIABLE","$start",380],["T_WHITESPACE"," ",380],"-",["T_WHITESPACE"," ",380],["T_LNUMBER","1",380],"]",["T_WHITESPACE"," ",380],["T_IS_EQUAL","==",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$lines",380],"[",["T_VARIABLE","$i",380],["T_WHITESPACE"," ",380],"-",["T_WHITESPACE"," ",380],["T_LNUMBER","1",380],"]",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                    ",380],["T_VARIABLE","$changed",381],"[",["T_DEC","--",381],["T_VARIABLE","$start",381],"]",["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_LNUMBER","1",381],";",["T_WHITESPACE","\n                    ",381],["T_VARIABLE","$changed",382],"[",["T_DEC","--",382],["T_VARIABLE","$i",382],"]",["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","false",382],";",["T_WHITESPACE","\n                    ",382],["T_WHILE","while",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$start",383],["T_WHITESPACE"," ",383],">",["T_WHITESPACE"," ",383],["T_LNUMBER","0",383],["T_WHITESPACE"," ",383],["T_BOOLEAN_AND","&&",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$changed",383],"[",["T_VARIABLE","$start",383],["T_WHITESPACE"," ",383],"-",["T_WHITESPACE"," ",383],["T_LNUMBER","1",383],"]",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                        ",383],["T_VARIABLE","$start",384],["T_DEC","--",384],";",["T_WHITESPACE","\n                    ",384],"}",["T_WHITESPACE","\n                    ",385],["T_STRING","assert",386],"(",["T_CONSTANT_ENCAPSED_STRING","'$j > 0'",386],")",";",["T_WHITESPACE","\n                    ",386],["T_WHILE","while",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$other_changed",387],"[",["T_DEC","--",387],["T_VARIABLE","$j",387],"]",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n                        ",387],["T_CONTINUE","continue",388],";",["T_WHITESPACE","\n                    ",388],"}",["T_WHITESPACE","\n                    ",389],["T_STRING","assert",390],"(",["T_CONSTANT_ENCAPSED_STRING","'$j >= 0 && !$other_changed[$j]'",390],")",";",["T_WHITESPACE","\n                ",390],"}",["T_WHITESPACE","\n\n                ",391],["T_COMMENT","\/* Set CORRESPONDING to the end of the changed run, at the\n                 * last point where it corresponds to a changed run in the\n                 * other file. CORRESPONDING == LEN means no such point has\n                 * been found. *\/",393],["T_WHITESPACE","\n                ",396],["T_VARIABLE","$corresponding",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$j",397],["T_WHITESPACE"," ",397],"<",["T_WHITESPACE"," ",397],["T_VARIABLE","$other_len",397],["T_WHITESPACE"," ",397],"?",["T_WHITESPACE"," ",397],["T_VARIABLE","$i",397],["T_WHITESPACE"," ",397],":",["T_WHITESPACE"," ",397],["T_VARIABLE","$len",397],";",["T_WHITESPACE","\n\n                ",397],["T_COMMENT","\/* Move the changed region forward, so long as the first\n                 * changed line matches the following unchanged one.  This\n                 * merges with following changed regions.  Do this second, so\n                 * that if there are no merges, the changed region is moved\n                 * forward as far as possible. *\/",399],["T_WHITESPACE","\n                ",403],["T_WHILE","while",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$i",404],["T_WHITESPACE"," ",404],"<",["T_WHITESPACE"," ",404],["T_VARIABLE","$len",404],["T_WHITESPACE"," ",404],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$lines",404],"[",["T_VARIABLE","$start",404],"]",["T_WHITESPACE"," ",404],["T_IS_EQUAL","==",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$lines",404],"[",["T_VARIABLE","$i",404],"]",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                    ",404],["T_VARIABLE","$changed",405],"[",["T_VARIABLE","$start",405],["T_INC","++",405],"]",["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","false",405],";",["T_WHITESPACE","\n                    ",405],["T_VARIABLE","$changed",406],"[",["T_VARIABLE","$i",406],["T_INC","++",406],"]",["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_LNUMBER","1",406],";",["T_WHITESPACE","\n                    ",406],["T_WHILE","while",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$i",407],["T_WHITESPACE"," ",407],"<",["T_WHITESPACE"," ",407],["T_VARIABLE","$len",407],["T_WHITESPACE"," ",407],["T_BOOLEAN_AND","&&",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$changed",407],"[",["T_VARIABLE","$i",407],"]",")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n                        ",407],["T_VARIABLE","$i",408],["T_INC","++",408],";",["T_WHITESPACE","\n                    ",408],"}",["T_WHITESPACE","\n\n                    ",409],["T_STRING","assert",411],"(",["T_CONSTANT_ENCAPSED_STRING","'$j < $other_len && ! $other_changed[$j]'",411],")",";",["T_WHITESPACE","\n                    ",411],["T_VARIABLE","$j",412],["T_INC","++",412],";",["T_WHITESPACE","\n                    ",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_VARIABLE","$j",413],["T_WHITESPACE"," ",413],"<",["T_WHITESPACE"," ",413],["T_VARIABLE","$other_len",413],["T_WHITESPACE"," ",413],["T_BOOLEAN_AND","&&",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$other_changed",413],"[",["T_VARIABLE","$j",413],"]",")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                        ",413],["T_VARIABLE","$corresponding",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$i",414],";",["T_WHITESPACE","\n                        ",414],["T_WHILE","while",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$j",415],["T_WHITESPACE"," ",415],"<",["T_WHITESPACE"," ",415],["T_VARIABLE","$other_len",415],["T_WHITESPACE"," ",415],["T_BOOLEAN_AND","&&",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$other_changed",415],"[",["T_VARIABLE","$j",415],"]",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n                            ",415],["T_VARIABLE","$j",416],["T_INC","++",416],";",["T_WHITESPACE","\n                        ",416],"}",["T_WHITESPACE","\n                    ",417],"}",["T_WHITESPACE","\n                ",418],"}",["T_WHITESPACE","\n            ",419],"}",["T_WHITESPACE"," ",420],["T_WHILE","while",420],["T_WHITESPACE"," ",420],"(",["T_VARIABLE","$runlength",420],["T_WHITESPACE"," ",420],["T_IS_NOT_EQUAL","!=",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$i",420],["T_WHITESPACE"," ",420],"-",["T_WHITESPACE"," ",420],["T_VARIABLE","$start",420],")",";",["T_WHITESPACE","\n\n            ",420],["T_COMMENT","\/* If possible, move the fully-merged run of changes back to a\n             * corresponding run in the other file. *\/",422],["T_WHITESPACE","\n            ",423],["T_WHILE","while",424],["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$corresponding",424],["T_WHITESPACE"," ",424],"<",["T_WHITESPACE"," ",424],["T_VARIABLE","$i",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n                ",424],["T_VARIABLE","$changed",425],"[",["T_DEC","--",425],["T_VARIABLE","$start",425],"]",["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_LNUMBER","1",425],";",["T_WHITESPACE","\n                ",425],["T_VARIABLE","$changed",426],"[",["T_DEC","--",426],["T_VARIABLE","$i",426],"]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_LNUMBER","0",426],";",["T_WHITESPACE","\n                ",426],["T_STRING","assert",427],"(",["T_CONSTANT_ENCAPSED_STRING","'$j > 0'",427],")",";",["T_WHITESPACE","\n                ",427],["T_WHILE","while",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$other_changed",428],"[",["T_DEC","--",428],["T_VARIABLE","$j",428],"]",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n                    ",428],["T_CONTINUE","continue",429],";",["T_WHITESPACE","\n                ",429],"}",["T_WHITESPACE","\n                ",430],["T_STRING","assert",431],"(",["T_CONSTANT_ENCAPSED_STRING","'$j >= 0 && !$other_changed[$j]'",431],")",";",["T_WHITESPACE","\n            ",431],"}",["T_WHITESPACE","\n        ",432],"}",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n",434],"}",["T_WHITESPACE","\n",436]]