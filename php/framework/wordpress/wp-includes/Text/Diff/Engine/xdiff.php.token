[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Class used internally by Diff to actually compute the diffs.\n *\n * This class uses the xdiff PECL package (http:\/\/pecl.php.net\/package\/xdiff)\n * to compute the differences between the two input arrays.\n *\n * Copyright 2004-2010 The Horde Project (http:\/\/www.horde.org\/)\n *\n * See the enclosed file COPYING for license information (LGPL). If you did\n * not receive this file, see http:\/\/opensource.org\/licenses\/lgpl-license.php.\n *\n * @author  Jon Parise <jon@horde.org>\n * @package Text_Diff\n *\/",2],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Text_Diff_Engine_xdiff",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     *\/",18],["T_WHITESPACE","\n    ",19],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","diff",20],"(",["T_VARIABLE","$from_lines",20],",",["T_WHITESPACE"," ",20],["T_VARIABLE","$to_lines",20],")",["T_WHITESPACE","\n    ",20],"{",["T_WHITESPACE","\n        ",21],["T_STRING","array_walk",22],"(",["T_VARIABLE","$from_lines",22],",",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'Text_Diff'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'trimNewlines'",22],")",")",";",["T_WHITESPACE","\n        ",22],["T_STRING","array_walk",23],"(",["T_VARIABLE","$to_lines",23],",",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","'Text_Diff'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'trimNewlines'",23],")",")",";",["T_WHITESPACE","\n\n        ",23],["T_COMMENT","\/* Convert the two input arrays into strings for xdiff processing. *\/",25],["T_WHITESPACE","\n        ",25],["T_VARIABLE","$from_string",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","implode",26],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$from_lines",26],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$to_string",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","implode",27],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$to_lines",27],")",";",["T_WHITESPACE","\n\n        ",27],["T_COMMENT","\/* Diff the two strings and convert the result to an array. *\/",29],["T_WHITESPACE","\n        ",29],["T_VARIABLE","$diff",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","xdiff_string_diff",30],"(",["T_VARIABLE","$from_string",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$to_string",30],",",["T_WHITESPACE"," ",30],["T_STRING","count",30],"(",["T_VARIABLE","$to_lines",30],")",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$diff",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","explode",31],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$diff",31],")",";",["T_WHITESPACE","\n\n        ",31],["T_COMMENT","\/* Walk through the diff one line at a time.  We build the $edits\n         * array of diff operations by reading the first character of the\n         * xdiff output (which is in the \"unified diff\" format).\n         *\n         * Note that we don't have enough information to detect \"changed\"\n         * lines using this approach, so we can't add Text_Diff_Op_changed\n         * instances to the $edits array.  The result is still perfectly\n         * valid, albeit a little less descriptive and efficient. *\/",33],["T_WHITESPACE","\n        ",40],["T_VARIABLE","$edits",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$diff",42],["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$line",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(","!",["T_STRING","strlen",43],"(",["T_VARIABLE","$line",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n                ",43],["T_CONTINUE","continue",44],";",["T_WHITESPACE","\n            ",44],"}",["T_WHITESPACE","\n            ",45],["T_SWITCH","switch",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$line",46],"[",["T_LNUMBER","0",46],"]",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_CASE","case",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","' '",47],":",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$edits",48],"[","]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STRING","Text_Diff_Op_copy",48],"(",["T_ARRAY","array",48],"(",["T_STRING","substr",48],"(",["T_VARIABLE","$line",48],",",["T_WHITESPACE"," ",48],["T_LNUMBER","1",48],")",")",")",";",["T_WHITESPACE","\n                ",48],["T_BREAK","break",49],";",["T_WHITESPACE","\n\n            ",49],["T_CASE","case",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'+'",51],":",["T_WHITESPACE","\n                ",51],["T_VARIABLE","$edits",52],"[","]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","Text_Diff_Op_add",52],"(",["T_ARRAY","array",52],"(",["T_STRING","substr",52],"(",["T_VARIABLE","$line",52],",",["T_WHITESPACE"," ",52],["T_LNUMBER","1",52],")",")",")",";",["T_WHITESPACE","\n                ",52],["T_BREAK","break",53],";",["T_WHITESPACE","\n\n            ",53],["T_CASE","case",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'-'",55],":",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$edits",56],"[","]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","Text_Diff_Op_delete",56],"(",["T_ARRAY","array",56],"(",["T_STRING","substr",56],"(",["T_VARIABLE","$line",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],")",")",")",";",["T_WHITESPACE","\n                ",56],["T_BREAK","break",57],";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n\n        ",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$edits",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n",62],"}",["T_WHITESPACE","\n",64]]