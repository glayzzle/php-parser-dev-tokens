[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * \"Inline\" diff renderer.\n *\n * Copyright 2004-2010 The Horde Project (http:\/\/www.horde.org\/)\n *\n * See the enclosed file COPYING for license information (LGPL). If you did\n * not receive this file, see http:\/\/opensource.org\/licenses\/lgpl-license.php.\n *\n * @author  Ciprian Popovici\n * @package Text_Diff\n *\/",2],["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/** Text_Diff_Renderer *\/",14],["T_WHITESPACE","\n\n",14],["T_COMMENT","\/\/ WP #7391\n",16],["T_REQUIRE_ONCE","require_once",17],["T_WHITESPACE"," ",17],["T_STRING","dirname",17],"(",["T_STRING","dirname",17],"(",["T_FILE","__FILE__",17],")",")",["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'\/Renderer.php'",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * \"Inline\" diff renderer.\n *\n * This class renders diffs in the Wiki-style \"inline\" format.\n *\n * @author  Ciprian Popovici\n * @package Text_Diff\n *\/",19],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Text_Diff_Renderer_inline",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","Text_Diff_Renderer",27],["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Number of leading context \"lines\" to preserve.\n     *\n     * @var integer\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_VAR","var",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_leading_context_lines",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_LNUMBER","10000",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Number of trailing context \"lines\" to preserve.\n     *\n     * @var integer\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_VAR","var",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_trailing_context_lines",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_LNUMBER","10000",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Prefix for inserted text.\n     *\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_VAR","var",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_ins_prefix",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'<ins>'",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Suffix for inserted text.\n     *\n     * @var string\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_VAR","var",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_ins_suffix",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'<\/ins>'",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Prefix for deleted text.\n     *\n     * @var string\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_VAR","var",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_del_prefix",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'<del>'",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Suffix for deleted text.\n     *\n     * @var string\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_VAR","var",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_del_suffix",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'<\/del>'",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Header for each change block.\n     *\n     * @var string\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_VAR","var",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_block_header",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Whether to split down to character-level.\n     *\n     * @var boolean\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_VAR","var",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_split_characters",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","false",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * What are we currently splitting on? Used to recurse to show word-level\n     * or character-level changes.\n     *\n     * @var string\n     *\/",85],["T_WHITESPACE","\n    ",90],["T_VAR","var",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_split_level",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'lines'",91],";",["T_WHITESPACE","\n\n    ",91],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","_blockHeader",93],"(",["T_VARIABLE","$xbeg",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$xlen",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$ybeg",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$ylen",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_block_header",95],";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_startBlock",98],"(",["T_VARIABLE","$header",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$header",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","_lines",103],"(",["T_VARIABLE","$lines",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$prefix",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","' '",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$encode",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","true",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$encode",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_STRING","array_walk",106],"(",["T_VARIABLE","$lines",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(","&",["T_VARIABLE","$this",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'_encode'",106],")",")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_split_level",109],["T_WHITESPACE"," ",109],["T_IS_EQUAL","==",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'lines'",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","implode",110],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$lines",110],")",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE"," ",111],["T_ELSE","else",111],["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_STRING","implode",112],"(",["T_CONSTANT_ENCAPSED_STRING","''",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$lines",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","_added",116],"(",["T_VARIABLE","$lines",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_STRING","array_walk",118],"(",["T_VARIABLE","$lines",118],",",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(","&",["T_VARIABLE","$this",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'_encode'",118],")",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$lines",119],"[",["T_LNUMBER","0",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_ins_prefix",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$lines",119],"[",["T_LNUMBER","0",119],"]",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$lines",120],"[",["T_STRING","count",120],"(",["T_VARIABLE","$lines",120],")",["T_WHITESPACE"," ",120],"-",["T_WHITESPACE"," ",120],["T_LNUMBER","1",120],"]",["T_WHITESPACE"," ",120],["T_CONCAT_EQUAL",".=",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_ins_suffix",120],";",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_lines",121],"(",["T_VARIABLE","$lines",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","' '",121],",",["T_WHITESPACE"," ",121],["T_STRING","false",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","_deleted",124],"(",["T_VARIABLE","$lines",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$words",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","false",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_STRING","array_walk",126],"(",["T_VARIABLE","$lines",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(","&",["T_VARIABLE","$this",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'_encode'",126],")",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$lines",127],"[",["T_LNUMBER","0",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_del_prefix",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_VARIABLE","$lines",127],"[",["T_LNUMBER","0",127],"]",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$lines",128],"[",["T_STRING","count",128],"(",["T_VARIABLE","$lines",128],")",["T_WHITESPACE"," ",128],"-",["T_WHITESPACE"," ",128],["T_LNUMBER","1",128],"]",["T_WHITESPACE"," ",128],["T_CONCAT_EQUAL",".=",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_del_suffix",128],";",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_lines",129],"(",["T_VARIABLE","$lines",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","' '",129],",",["T_WHITESPACE"," ",129],["T_STRING","false",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","_changed",132],"(",["T_VARIABLE","$orig",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$final",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_COMMENT","\/* If we've already split on characters, just display. *\/",134],["T_WHITESPACE","\n        ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_split_level",135],["T_WHITESPACE"," ",135],["T_IS_EQUAL","==",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'characters'",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_deleted",136],"(",["T_VARIABLE","$orig",136],")",["T_WHITESPACE","\n                ",136],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_added",137],"(",["T_VARIABLE","$final",137],")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n\n        ",138],["T_COMMENT","\/* If we've already split on words, just display. *\/",140],["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_split_level",141],["T_WHITESPACE"," ",141],["T_IS_EQUAL","==",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'words'",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$prefix",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","''",142],";",["T_WHITESPACE","\n            ",142],["T_WHILE","while",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$orig",143],"[",["T_LNUMBER","0",143],"]",["T_WHITESPACE"," ",143],["T_IS_NOT_IDENTICAL","!==",143],["T_WHITESPACE"," ",143],["T_STRING","false",143],["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$final",143],"[",["T_LNUMBER","0",143],"]",["T_WHITESPACE"," ",143],["T_IS_NOT_IDENTICAL","!==",143],["T_WHITESPACE"," ",143],["T_STRING","false",143],["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE","\n                   ",143],["T_STRING","substr",144],"(",["T_VARIABLE","$orig",144],"[",["T_LNUMBER","0",144],"]",",",["T_WHITESPACE"," ",144],["T_LNUMBER","0",144],",",["T_WHITESPACE"," ",144],["T_LNUMBER","1",144],")",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","' '",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE","\n                   ",144],["T_STRING","substr",145],"(",["T_VARIABLE","$final",145],"[",["T_LNUMBER","0",145],"]",",",["T_WHITESPACE"," ",145],["T_LNUMBER","0",145],",",["T_WHITESPACE"," ",145],["T_LNUMBER","1",145],")",["T_WHITESPACE"," ",145],["T_IS_EQUAL","==",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","' '",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$prefix",146],["T_WHITESPACE"," ",146],["T_CONCAT_EQUAL",".=",146],["T_WHITESPACE"," ",146],["T_STRING","substr",146],"(",["T_VARIABLE","$orig",146],"[",["T_LNUMBER","0",146],"]",",",["T_WHITESPACE"," ",146],["T_LNUMBER","0",146],",",["T_WHITESPACE"," ",146],["T_LNUMBER","1",146],")",";",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$orig",147],"[",["T_LNUMBER","0",147],"]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","substr",147],"(",["T_VARIABLE","$orig",147],"[",["T_LNUMBER","0",147],"]",",",["T_WHITESPACE"," ",147],["T_LNUMBER","1",147],")",";",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$final",148],"[",["T_LNUMBER","0",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","substr",148],"(",["T_VARIABLE","$final",148],"[",["T_LNUMBER","0",148],"]",",",["T_WHITESPACE"," ",148],["T_LNUMBER","1",148],")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n            ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$prefix",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_deleted",150],"(",["T_VARIABLE","$orig",150],")",["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_added",150],"(",["T_VARIABLE","$final",150],")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$text1",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","implode",153],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$orig",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$text2",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","implode",154],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$final",154],")",";",["T_WHITESPACE","\n\n        ",154],["T_COMMENT","\/* Non-printing newline marker. *\/",156],["T_WHITESPACE","\n        ",156],["T_VARIABLE","$nl",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"\\0\"",157],";",["T_WHITESPACE","\n\n        ",157],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_split_characters",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$diff",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_NEW","new",160],["T_WHITESPACE"," ",160],["T_STRING","Text_Diff",160],"(",["T_CONSTANT_ENCAPSED_STRING","'native'",160],",",["T_WHITESPACE","\n                                  ",160],["T_ARRAY","array",161],"(",["T_STRING","preg_split",161],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/'",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$text1",161],")",",",["T_WHITESPACE","\n                                        ",161],["T_STRING","preg_split",162],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/'",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$text2",162],")",")",")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE"," ",163],["T_ELSE","else",163],["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_COMMENT","\/* We want to split on word boundaries, but we need to preserve\n             * whitespace as well. Therefore we split on words, but include\n             * all blocks of whitespace in the wordlist. *\/",164],["T_WHITESPACE","\n            ",166],["T_VARIABLE","$diff",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Text_Diff",167],"(",["T_CONSTANT_ENCAPSED_STRING","'native'",167],",",["T_WHITESPACE","\n                                  ",167],["T_ARRAY","array",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_splitOnWords",168],"(",["T_VARIABLE","$text1",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$nl",168],")",",",["T_WHITESPACE","\n                                        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_splitOnWords",169],"(",["T_VARIABLE","$text2",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$nl",169],")",")",")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_COMMENT","\/* Get the diff in inline format. *\/",172],["T_WHITESPACE","\n        ",172],["T_VARIABLE","$renderer",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","Text_Diff_Renderer_inline",173],["T_WHITESPACE","\n            ",173],"(",["T_STRING","array_merge",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getParams",174],"(",")",",",["T_WHITESPACE","\n                         ",174],["T_ARRAY","array",175],"(",["T_CONSTANT_ENCAPSED_STRING","'split_level'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_split_characters",175],["T_WHITESPACE"," ",175],"?",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'characters'",175],["T_WHITESPACE"," ",175],":",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'words'",175],")",")",")",";",["T_WHITESPACE","\n\n        ",175],["T_COMMENT","\/* Run the diff and get the output. *\/",177],["T_WHITESPACE","\n        ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_STRING","str_replace",178],"(",["T_VARIABLE","$nl",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$renderer",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","render",178],"(",["T_VARIABLE","$diff",178],")",")",["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",178],";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","_splitOnWords",181],"(",["T_VARIABLE","$string",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$newlineEscape",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_COMMENT","\/\/ Ignore \\0; otherwise the while loop will never finish.\n",183],["T_WHITESPACE","        ",184],["T_VARIABLE","$string",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","str_replace",184],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\0\"",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","''",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$string",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$words",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$length",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","strlen",187],"(",["T_VARIABLE","$string",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$pos",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_LNUMBER","0",188],";",["T_WHITESPACE","\n\n        ",188],["T_WHILE","while",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$pos",190],["T_WHITESPACE"," ",190],"<",["T_WHITESPACE"," ",190],["T_VARIABLE","$length",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_COMMENT","\/\/ Eat a word with any preceding whitespace.\n",191],["T_WHITESPACE","            ",192],["T_VARIABLE","$spaces",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","strspn",192],"(",["T_STRING","substr",192],"(",["T_VARIABLE","$string",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$pos",192],")",",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","\" \\n\"",192],")",";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$nextpos",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","strcspn",193],"(",["T_STRING","substr",193],"(",["T_VARIABLE","$string",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$pos",193],["T_WHITESPACE"," ",193],"+",["T_WHITESPACE"," ",193],["T_VARIABLE","$spaces",193],")",",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\" \\n\"",193],")",";",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$words",194],"[","]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","str_replace",194],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$newlineEscape",194],",",["T_WHITESPACE"," ",194],["T_STRING","substr",194],"(",["T_VARIABLE","$string",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$pos",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$spaces",194],["T_WHITESPACE"," ",194],"+",["T_WHITESPACE"," ",194],["T_VARIABLE","$nextpos",194],")",")",";",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$pos",195],["T_WHITESPACE"," ",195],["T_PLUS_EQUAL","+=",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$spaces",195],["T_WHITESPACE"," ",195],"+",["T_WHITESPACE"," ",195],["T_VARIABLE","$nextpos",195],";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n\n        ",196],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$words",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","_encode",201],"(","&",["T_VARIABLE","$string",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$string",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","htmlspecialchars",203],"(",["T_VARIABLE","$string",203],")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n",204],"}",["T_WHITESPACE","\n",206]]