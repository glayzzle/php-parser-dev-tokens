[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Base WordPress Image Editor\n *\n * @package WordPress\n * @subpackage Image_Editor\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Base image editor class from which implementations extend\n *\n * @since 3.5.0\n *\/",9],["T_WHITESPACE","\n",13],["T_ABSTRACT","abstract",14],["T_WHITESPACE"," ",14],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","WP_Image_Editor",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\t",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$file",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_STRING","null",15],";",["T_WHITESPACE","\n\t",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$size",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_STRING","null",16],";",["T_WHITESPACE","\n\t",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$mime_type",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_STRING","null",17],";",["T_WHITESPACE","\n\t",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$default_mime_type",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",18],";",["T_WHITESPACE","\n\t",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$quality",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","false",19],";",["T_WHITESPACE","\n\t",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$default_quality",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_LNUMBER","82",20],";",["T_WHITESPACE","\n\n\t",20],["T_DOC_COMMENT","\/**\n\t * Each instance handles a single file.\n\t *\n\t * @param string $file Path to the file to load.\n\t *\/",22],["T_WHITESPACE","\n\t",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","__construct",27],"(",["T_WHITESPACE"," ",27],["T_VARIABLE","$file",27],["T_WHITESPACE"," ",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\t\t",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","file",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$file",28],";",["T_WHITESPACE","\n\t",28],"}",["T_WHITESPACE","\n\n\t",29],["T_DOC_COMMENT","\/**\n\t * Checks to see if current environment supports the editor chosen.\n\t * Must be overridden in a sub-class.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @static\n\t * @access public\n\t * @abstract\n\t *\n\t * @param array $args\n\t * @return bool\n\t *\/",31],["T_WHITESPACE","\n\t",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_STATIC","static",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","test",44],"(",["T_WHITESPACE"," ",44],["T_VARIABLE","$args",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",["T_WHITESPACE"," ",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\t\t",44],["T_RETURN","return",45],["T_WHITESPACE"," ",45],["T_STRING","false",45],";",["T_WHITESPACE","\n\t",45],"}",["T_WHITESPACE","\n\n\t",46],["T_DOC_COMMENT","\/**\n\t * Checks to see if editor supports the mime-type specified.\n\t * Must be overridden in a sub-class.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @static\n\t * @access public\n\t * @abstract\n\t *\n\t * @param string $mime_type\n\t * @return bool\n\t *\/",48],["T_WHITESPACE","\n\t",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_STATIC","static",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","supports_mime_type",61],"(",["T_WHITESPACE"," ",61],["T_VARIABLE","$mime_type",61],["T_WHITESPACE"," ",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n\t\t",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_STRING","false",62],";",["T_WHITESPACE","\n\t",62],"}",["T_WHITESPACE","\n\n\t",63],["T_DOC_COMMENT","\/**\n\t * Loads image from $this->file into editor.\n\t *\n\t * @since 3.5.0\n\t * @access protected\n\t * @abstract\n\t *\n\t * @return bool|WP_Error True if loaded; WP_Error on failure.\n\t *\/",65],["T_WHITESPACE","\n\t",73],["T_ABSTRACT","abstract",74],["T_WHITESPACE"," ",74],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","load",74],"(",")",";",["T_WHITESPACE","\n\n\t",74],["T_DOC_COMMENT","\/**\n\t * Saves current image to file.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t * @abstract\n\t *\n\t * @param string $destfilename\n\t * @param string $mime_type\n\t * @return array|WP_Error {'path'=>string, 'file'=>string, 'width'=>int, 'height'=>int, 'mime-type'=>string}\n\t *\/",76],["T_WHITESPACE","\n\t",86],["T_ABSTRACT","abstract",87],["T_WHITESPACE"," ",87],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","save",87],"(",["T_WHITESPACE"," ",87],["T_VARIABLE","$destfilename",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","null",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$mime_type",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","null",87],["T_WHITESPACE"," ",87],")",";",["T_WHITESPACE","\n\n\t",87],["T_DOC_COMMENT","\/**\n\t * Resizes current image.\n\t *\n\t * At minimum, either a height or width must be provided.\n\t * If one of the two is set to null, the resize will\n\t * maintain aspect ratio according to the provided dimension.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t * @abstract\n\t *\n\t * @param  int|null $max_w Image width.\n\t * @param  int|null $max_h Image height.\n\t * @param  bool     $crop\n\t * @return bool|WP_Error\n\t *\/",89],["T_WHITESPACE","\n\t",104],["T_ABSTRACT","abstract",105],["T_WHITESPACE"," ",105],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","resize",105],"(",["T_WHITESPACE"," ",105],["T_VARIABLE","$max_w",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$max_h",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$crop",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","false",105],["T_WHITESPACE"," ",105],")",";",["T_WHITESPACE","\n\n\t",105],["T_DOC_COMMENT","\/**\n\t * Resize multiple images from a single source.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t * @abstract\n\t *\n\t * @param array $sizes {\n\t *     An array of image size arrays. Default sizes are 'small', 'medium', 'large'.\n\t *\n\t *     @type array $size {\n\t *         @type int  $width  Image width.\n\t *         @type int  $height Image height.\n\t *         @type bool $crop   Optional. Whether to crop the image. Default false.\n\t *     }\n\t * }\n\t * @return array An array of resized images metadata by size.\n\t *\/",107],["T_WHITESPACE","\n\t",124],["T_ABSTRACT","abstract",125],["T_WHITESPACE"," ",125],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","multi_resize",125],"(",["T_WHITESPACE"," ",125],["T_VARIABLE","$sizes",125],["T_WHITESPACE"," ",125],")",";",["T_WHITESPACE","\n\n\t",125],["T_DOC_COMMENT","\/**\n\t * Crops Image.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t * @abstract\n\t *\n\t * @param int $src_x The start x position to crop from.\n\t * @param int $src_y The start y position to crop from.\n\t * @param int $src_w The width to crop.\n\t * @param int $src_h The height to crop.\n\t * @param int $dst_w Optional. The destination width.\n\t * @param int $dst_h Optional. The destination height.\n\t * @param bool $src_abs Optional. If the source crop points are absolute.\n\t * @return bool|WP_Error\n\t *\/",127],["T_WHITESPACE","\n\t",142],["T_ABSTRACT","abstract",143],["T_WHITESPACE"," ",143],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","crop",143],"(",["T_WHITESPACE"," ",143],["T_VARIABLE","$src_x",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$src_y",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$src_w",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$src_h",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$dst_w",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","null",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$dst_h",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","null",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$src_abs",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","false",143],["T_WHITESPACE"," ",143],")",";",["T_WHITESPACE","\n\n\t",143],["T_DOC_COMMENT","\/**\n\t * Rotates current image counter-clockwise by $angle.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t * @abstract\n\t *\n\t * @param float $angle\n\t * @return bool|WP_Error\n\t *\/",145],["T_WHITESPACE","\n\t",154],["T_ABSTRACT","abstract",155],["T_WHITESPACE"," ",155],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","rotate",155],"(",["T_WHITESPACE"," ",155],["T_VARIABLE","$angle",155],["T_WHITESPACE"," ",155],")",";",["T_WHITESPACE","\n\n\t",155],["T_DOC_COMMENT","\/**\n\t * Flips current image.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t * @abstract\n\t *\n\t * @param bool $horz Flip along Horizontal Axis\n\t * @param bool $vert Flip along Vertical Axis\n\t * @return bool|WP_Error\n\t *\/",157],["T_WHITESPACE","\n\t",167],["T_ABSTRACT","abstract",168],["T_WHITESPACE"," ",168],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","flip",168],"(",["T_WHITESPACE"," ",168],["T_VARIABLE","$horz",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$vert",168],["T_WHITESPACE"," ",168],")",";",["T_WHITESPACE","\n\n\t",168],["T_DOC_COMMENT","\/**\n\t * Streams current image to browser.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t * @abstract\n\t *\n\t * @param string $mime_type\n\t * @return bool|WP_Error\n\t *\/",170],["T_WHITESPACE","\n\t",179],["T_ABSTRACT","abstract",180],["T_WHITESPACE"," ",180],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","stream",180],"(",["T_WHITESPACE"," ",180],["T_VARIABLE","$mime_type",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","null",180],["T_WHITESPACE"," ",180],")",";",["T_WHITESPACE","\n\n\t",180],["T_DOC_COMMENT","\/**\n\t * Gets dimensions of image.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @return array {'width'=>int, 'height'=>int}\n\t *\/",182],["T_WHITESPACE","\n\t",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","get_size",190],"(",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n\t\t",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","size",191],";",["T_WHITESPACE","\n\t",191],"}",["T_WHITESPACE","\n\n\t",192],["T_DOC_COMMENT","\/**\n\t * Sets current image size.\n\t *\n\t * @since 3.5.0\n\t * @access protected\n\t *\n\t * @param int $width\n\t * @param int $height\n\t * @return true\n\t *\/",194],["T_WHITESPACE","\n\t",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","update_size",204],"(",["T_WHITESPACE"," ",204],["T_VARIABLE","$width",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","null",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$height",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","null",204],["T_WHITESPACE"," ",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t\t",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","size",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_WHITESPACE","\n\t\t\t",205],["T_CONSTANT_ENCAPSED_STRING","'width'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_INT_CAST","(int)",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$width",206],",",["T_WHITESPACE","\n\t\t\t",206],["T_CONSTANT_ENCAPSED_STRING","'height'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_INT_CAST","(int)",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$height",207],["T_WHITESPACE","\n\t\t",207],")",";",["T_WHITESPACE","\n\t\t",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_STRING","true",209],";",["T_WHITESPACE","\n\t",209],"}",["T_WHITESPACE","\n\n\t",210],["T_DOC_COMMENT","\/**\n\t * Gets the Image Compression quality on a 1-100% scale.\n\t *\n\t * @since 4.0.0\n\t * @access public\n\t *\n\t * @return int $quality Compression Quality. Range: [1,100]\n\t *\/",212],["T_WHITESPACE","\n\t",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","get_quality",220],"(",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n\t\t",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_WHITESPACE"," ",221],"!",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","quality",221],["T_WHITESPACE"," ",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t\t",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","set_quality",222],"(",")",";",["T_WHITESPACE","\n\t\t",222],"}",["T_WHITESPACE","\n\n\t\t",223],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","quality",225],";",["T_WHITESPACE","\n\t",225],"}",["T_WHITESPACE","\n\n\t",226],["T_DOC_COMMENT","\/**\n\t * Sets Image Compression quality on a 1-100% scale.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param int $quality Compression Quality. Range: [1,100]\n\t * @return true|WP_Error True if set successfully; WP_Error on failure.\n\t *\/",228],["T_WHITESPACE","\n\t",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","set_quality",237],"(",["T_WHITESPACE"," ",237],["T_VARIABLE","$quality",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","null",237],["T_WHITESPACE"," ",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n\t\t",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_WHITESPACE"," ",238],["T_STRING","null",238],["T_WHITESPACE"," ",238],["T_IS_IDENTICAL","===",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$quality",238],["T_WHITESPACE"," ",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n\t\t\t",238],["T_DOC_COMMENT","\/**\n\t\t\t * Filters the default image compression quality setting.\n\t\t\t *\n\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t * manually without the `$quality` argument.\n\t\t\t *\n\t\t\t * set_quality() has priority over the filter.\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param int    $quality   Quality level between 1 (low) and 100 (high).\n\t\t\t * @param string $mime_type Image mime type.\n\t\t\t *\/",239],["T_WHITESPACE","\n\t\t\t",251],["T_VARIABLE","$quality",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","apply_filters",252],"(",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'wp_editor_set_quality'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","default_quality",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","mime_type",252],["T_WHITESPACE"," ",252],")",";",["T_WHITESPACE","\n\n\t\t\t",252],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",254],["T_WHITESPACE"," ",254],["T_IS_EQUAL","==",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","mime_type",254],["T_WHITESPACE"," ",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n\t\t\t\t",254],["T_DOC_COMMENT","\/**\n\t\t\t\t * Filters the JPEG compression quality for backward-compatibility.\n\t\t\t\t *\n\t\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t\t * manually without the `$quality` argument.\n\t\t\t\t *\n\t\t\t\t * set_quality() has priority over the filter.\n\t\t\t\t *\n\t\t\t\t * The filter is evaluated under two contexts: 'image_resize', and 'edit_image',\n\t\t\t\t * (when a JPEG image is saved to file).\n\t\t\t\t *\n\t\t\t\t * @since 2.5.0\n\t\t\t\t *\n\t\t\t\t * @param int    $quality Quality level between 0 (low) and 100 (high) of the JPEG.\n\t\t\t\t * @param string $context Context of the filter.\n\t\t\t\t *\/",255],["T_WHITESPACE","\n\t\t\t\t",270],["T_VARIABLE","$quality",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","apply_filters",271],"(",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'jpeg_quality'",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$quality",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'image_resize'",271],["T_WHITESPACE"," ",271],")",";",["T_WHITESPACE","\n\t\t\t",271],"}",["T_WHITESPACE","\n\n\t\t\t",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_WHITESPACE"," ",274],["T_VARIABLE","$quality",274],["T_WHITESPACE"," ",274],"<",["T_WHITESPACE"," ",274],["T_LNUMBER","0",274],["T_WHITESPACE"," ",274],["T_BOOLEAN_OR","||",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$quality",274],["T_WHITESPACE"," ",274],">",["T_WHITESPACE"," ",274],["T_LNUMBER","100",274],["T_WHITESPACE"," ",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n\t\t\t\t",274],["T_VARIABLE","$quality",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","default_quality",275],";",["T_WHITESPACE","\n\t\t\t",275],"}",["T_WHITESPACE","\n\t\t",276],"}",["T_WHITESPACE","\n\n\t\t",277],["T_COMMENT","\/\/ Allow 0, but squash to 1 due to identical images in GD, and for backward compatibility.\n",279],["T_WHITESPACE","\t\t",280],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_WHITESPACE"," ",280],["T_LNUMBER","0",280],["T_WHITESPACE"," ",280],["T_IS_IDENTICAL","===",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$quality",280],["T_WHITESPACE"," ",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n\t\t\t",280],["T_VARIABLE","$quality",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_LNUMBER","1",281],";",["T_WHITESPACE","\n\t\t",281],"}",["T_WHITESPACE","\n\n\t\t",282],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_WHITESPACE"," ",284],"(",["T_WHITESPACE"," ",284],["T_VARIABLE","$quality",284],["T_WHITESPACE"," ",284],["T_IS_GREATER_OR_EQUAL",">=",284],["T_WHITESPACE"," ",284],["T_LNUMBER","1",284],["T_WHITESPACE"," ",284],")",["T_WHITESPACE"," ",284],["T_BOOLEAN_AND","&&",284],["T_WHITESPACE"," ",284],"(",["T_WHITESPACE"," ",284],["T_VARIABLE","$quality",284],["T_WHITESPACE"," ",284],["T_IS_SMALLER_OR_EQUAL","<=",284],["T_WHITESPACE"," ",284],["T_LNUMBER","100",284],["T_WHITESPACE"," ",284],")",["T_WHITESPACE"," ",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n\t\t\t",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","quality",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$quality",285],";",["T_WHITESPACE","\n\t\t\t",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","true",286],";",["T_WHITESPACE","\n\t\t",286],"}",["T_WHITESPACE"," ",287],["T_ELSE","else",287],["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n\t\t\t",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_NEW","new",288],["T_WHITESPACE"," ",288],["T_STRING","WP_Error",288],"(",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'invalid_image_quality'",288],",",["T_WHITESPACE"," ",288],["T_STRING","__",288],"(",["T_CONSTANT_ENCAPSED_STRING","'Attempted to set image quality outside of the range [1,100].'",288],")",["T_WHITESPACE"," ",288],")",";",["T_WHITESPACE","\n\t\t",288],"}",["T_WHITESPACE","\n\t",289],"}",["T_WHITESPACE","\n\n\t",290],["T_DOC_COMMENT","\/**\n\t * Returns preferred mime-type and extension based on provided\n\t * file's extension and mime, or current file's extension and mime.\n\t *\n\t * Will default to $this->default_mime_type if requested is not supported.\n\t *\n\t * Provides corrected filename only if filename is provided.\n\t *\n\t * @since 3.5.0\n\t * @access protected\n\t *\n\t * @param string $filename\n\t * @param string $mime_type\n\t * @return array { filename|null, extension, mime-type }\n\t *\/",292],["T_WHITESPACE","\n\t",306],["T_PROTECTED","protected",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","get_output_format",307],"(",["T_WHITESPACE"," ",307],["T_VARIABLE","$filename",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","null",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$mime_type",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","null",307],["T_WHITESPACE"," ",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n\t\t",307],["T_VARIABLE","$new_ext",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","null",308],";",["T_WHITESPACE","\n\n\t\t",308],["T_COMMENT","\/\/ By default, assume specified type takes priority\n",310],["T_WHITESPACE","\t\t",311],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_WHITESPACE"," ",311],["T_VARIABLE","$mime_type",311],["T_WHITESPACE"," ",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n\t\t\t",311],["T_VARIABLE","$new_ext",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","get_extension",312],"(",["T_WHITESPACE"," ",312],["T_VARIABLE","$mime_type",312],["T_WHITESPACE"," ",312],")",";",["T_WHITESPACE","\n\t\t",312],"}",["T_WHITESPACE","\n\n\t\t",313],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_WHITESPACE"," ",315],["T_VARIABLE","$filename",315],["T_WHITESPACE"," ",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n\t\t\t",315],["T_VARIABLE","$file_ext",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","strtolower",316],"(",["T_WHITESPACE"," ",316],["T_STRING","pathinfo",316],"(",["T_WHITESPACE"," ",316],["T_VARIABLE","$filename",316],",",["T_WHITESPACE"," ",316],["T_STRING","PATHINFO_EXTENSION",316],["T_WHITESPACE"," ",316],")",["T_WHITESPACE"," ",316],")",";",["T_WHITESPACE","\n\t\t\t",316],["T_VARIABLE","$file_mime",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","get_mime_type",317],"(",["T_WHITESPACE"," ",317],["T_VARIABLE","$file_ext",317],["T_WHITESPACE"," ",317],")",";",["T_WHITESPACE","\n\t\t",317],"}",["T_WHITESPACE","\n\t\t",318],["T_ELSE","else",319],["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n\t\t\t",319],["T_COMMENT","\/\/ If no file specified, grab editor's current extension and mime-type.\n",320],["T_WHITESPACE","\t\t\t",321],["T_VARIABLE","$file_ext",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","strtolower",321],"(",["T_WHITESPACE"," ",321],["T_STRING","pathinfo",321],"(",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","file",321],",",["T_WHITESPACE"," ",321],["T_STRING","PATHINFO_EXTENSION",321],["T_WHITESPACE"," ",321],")",["T_WHITESPACE"," ",321],")",";",["T_WHITESPACE","\n\t\t\t",321],["T_VARIABLE","$file_mime",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","mime_type",322],";",["T_WHITESPACE","\n\t\t",322],"}",["T_WHITESPACE","\n\n\t\t",323],["T_COMMENT","\/\/ Check to see if specified mime-type is the same as type implied by\n",325],["T_WHITESPACE","\t\t",326],["T_COMMENT","\/\/ file extension.  If so, prefer extension from file.\n",326],["T_WHITESPACE","\t\t",327],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_WHITESPACE"," ",327],"!",["T_WHITESPACE"," ",327],["T_VARIABLE","$mime_type",327],["T_WHITESPACE"," ",327],["T_BOOLEAN_OR","||",327],["T_WHITESPACE"," ",327],"(",["T_WHITESPACE"," ",327],["T_VARIABLE","$file_mime",327],["T_WHITESPACE"," ",327],["T_IS_EQUAL","==",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$mime_type",327],["T_WHITESPACE"," ",327],")",["T_WHITESPACE"," ",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n\t\t\t",327],["T_VARIABLE","$mime_type",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$file_mime",328],";",["T_WHITESPACE","\n\t\t\t",328],["T_VARIABLE","$new_ext",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$file_ext",329],";",["T_WHITESPACE","\n\t\t",329],"}",["T_WHITESPACE","\n\n\t\t",330],["T_COMMENT","\/\/ Double-check that the mime-type selected is supported by the editor.\n",332],["T_WHITESPACE","\t\t",333],["T_COMMENT","\/\/ If not, choose a default instead.\n",333],["T_WHITESPACE","\t\t",334],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_WHITESPACE"," ",334],"!",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","supports_mime_type",334],"(",["T_WHITESPACE"," ",334],["T_VARIABLE","$mime_type",334],["T_WHITESPACE"," ",334],")",["T_WHITESPACE"," ",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n\t\t\t",334],["T_DOC_COMMENT","\/**\n\t\t\t * Filters default mime type prior to getting the file extension.\n\t\t\t *\n\t\t\t * @see wp_get_mime_types()\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param string $mime_type Mime type string.\n\t\t\t *\/",335],["T_WHITESPACE","\n\t\t\t",343],["T_VARIABLE","$mime_type",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_STRING","apply_filters",344],"(",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'image_editor_default_mime_type'",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","default_mime_type",344],["T_WHITESPACE"," ",344],")",";",["T_WHITESPACE","\n\t\t\t",344],["T_VARIABLE","$new_ext",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","get_extension",345],"(",["T_WHITESPACE"," ",345],["T_VARIABLE","$mime_type",345],["T_WHITESPACE"," ",345],")",";",["T_WHITESPACE","\n\t\t",345],"}",["T_WHITESPACE","\n\n\t\t",346],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_WHITESPACE"," ",348],["T_VARIABLE","$filename",348],["T_WHITESPACE"," ",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n\t\t\t",348],["T_VARIABLE","$dir",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_STRING","pathinfo",349],"(",["T_WHITESPACE"," ",349],["T_VARIABLE","$filename",349],",",["T_WHITESPACE"," ",349],["T_STRING","PATHINFO_DIRNAME",349],["T_WHITESPACE"," ",349],")",";",["T_WHITESPACE","\n\t\t\t",349],["T_VARIABLE","$ext",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","pathinfo",350],"(",["T_WHITESPACE"," ",350],["T_VARIABLE","$filename",350],",",["T_WHITESPACE"," ",350],["T_STRING","PATHINFO_EXTENSION",350],["T_WHITESPACE"," ",350],")",";",["T_WHITESPACE","\n\n\t\t\t",350],["T_VARIABLE","$filename",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","trailingslashit",352],"(",["T_WHITESPACE"," ",352],["T_VARIABLE","$dir",352],["T_WHITESPACE"," ",352],")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_STRING","wp_basename",352],"(",["T_WHITESPACE"," ",352],["T_VARIABLE","$filename",352],",",["T_WHITESPACE"," ",352],"\"",["T_ENCAPSED_AND_WHITESPACE",".",352],["T_VARIABLE","$ext",352],"\"",["T_WHITESPACE"," ",352],")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],"\"",["T_ENCAPSED_AND_WHITESPACE",".",352],["T_CURLY_OPEN","{",352],["T_VARIABLE","$new_ext",352],"}","\"",";",["T_WHITESPACE","\n\t\t",352],"}",["T_WHITESPACE","\n\n\t\t",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",["T_WHITESPACE"," ",355],["T_VARIABLE","$filename",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$new_ext",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$mime_type",355],["T_WHITESPACE"," ",355],")",";",["T_WHITESPACE","\n\t",355],"}",["T_WHITESPACE","\n\n\t",356],["T_DOC_COMMENT","\/**\n\t * Builds an output filename based on current file, and adding proper suffix\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param string $suffix\n\t * @param string $dest_path\n\t * @param string $extension\n\t * @return string filename\n\t *\/",358],["T_WHITESPACE","\n\t",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","generate_filename",369],"(",["T_WHITESPACE"," ",369],["T_VARIABLE","$suffix",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","null",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$dest_path",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","null",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$extension",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","null",369],["T_WHITESPACE"," ",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n\t\t",369],["T_COMMENT","\/\/ $suffix will be appended to the destination filename, just before the extension\n",370],["T_WHITESPACE","\t\t",371],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_WHITESPACE"," ",371],"!",["T_WHITESPACE"," ",371],["T_VARIABLE","$suffix",371],["T_WHITESPACE"," ",371],")",["T_WHITESPACE","\n\t\t\t",371],["T_VARIABLE","$suffix",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","get_suffix",372],"(",")",";",["T_WHITESPACE","\n\n\t\t",372],["T_VARIABLE","$dir",374],["T_WHITESPACE","  ",374],"=",["T_WHITESPACE"," ",374],["T_STRING","pathinfo",374],"(",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","file",374],",",["T_WHITESPACE"," ",374],["T_STRING","PATHINFO_DIRNAME",374],["T_WHITESPACE"," ",374],")",";",["T_WHITESPACE","\n\t\t",374],["T_VARIABLE","$ext",375],["T_WHITESPACE","  ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","pathinfo",375],"(",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","file",375],",",["T_WHITESPACE"," ",375],["T_STRING","PATHINFO_EXTENSION",375],["T_WHITESPACE"," ",375],")",";",["T_WHITESPACE","\n\n\t\t",375],["T_VARIABLE","$name",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","wp_basename",377],"(",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","file",377],",",["T_WHITESPACE"," ",377],"\"",["T_ENCAPSED_AND_WHITESPACE",".",377],["T_VARIABLE","$ext",377],"\"",["T_WHITESPACE"," ",377],")",";",["T_WHITESPACE","\n\t\t",377],["T_VARIABLE","$new_ext",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_STRING","strtolower",378],"(",["T_WHITESPACE"," ",378],["T_VARIABLE","$extension",378],["T_WHITESPACE"," ",378],"?",["T_WHITESPACE"," ",378],["T_VARIABLE","$extension",378],["T_WHITESPACE"," ",378],":",["T_WHITESPACE"," ",378],["T_VARIABLE","$ext",378],["T_WHITESPACE"," ",378],")",";",["T_WHITESPACE","\n\n\t\t",378],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_WHITESPACE"," ",380],"!",["T_WHITESPACE"," ",380],["T_STRING","is_null",380],"(",["T_WHITESPACE"," ",380],["T_VARIABLE","$dest_path",380],["T_WHITESPACE"," ",380],")",["T_WHITESPACE"," ",380],["T_BOOLEAN_AND","&&",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$_dest_path",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_STRING","realpath",380],"(",["T_WHITESPACE"," ",380],["T_VARIABLE","$dest_path",380],["T_WHITESPACE"," ",380],")",["T_WHITESPACE"," ",380],")",["T_WHITESPACE","\n\t\t\t",380],["T_VARIABLE","$dir",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$_dest_path",381],";",["T_WHITESPACE","\n\n\t\t",381],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_STRING","trailingslashit",383],"(",["T_WHITESPACE"," ",383],["T_VARIABLE","$dir",383],["T_WHITESPACE"," ",383],")",["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],"\"",["T_CURLY_OPEN","{",383],["T_VARIABLE","$name",383],"}",["T_ENCAPSED_AND_WHITESPACE","-",383],["T_CURLY_OPEN","{",383],["T_VARIABLE","$suffix",383],"}",["T_ENCAPSED_AND_WHITESPACE",".",383],["T_CURLY_OPEN","{",383],["T_VARIABLE","$new_ext",383],"}","\"",";",["T_WHITESPACE","\n\t",383],"}",["T_WHITESPACE","\n\n\t",384],["T_DOC_COMMENT","\/**\n\t * Builds and returns proper suffix for file based on height and width.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @return false|string suffix\n\t *\/",386],["T_WHITESPACE","\n\t",393],["T_PUBLIC","public",394],["T_WHITESPACE"," ",394],["T_FUNCTION","function",394],["T_WHITESPACE"," ",394],["T_STRING","get_suffix",394],"(",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n\t\t",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_WHITESPACE"," ",395],"!",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","get_size",395],"(",")",["T_WHITESPACE"," ",395],")",["T_WHITESPACE","\n\t\t\t",395],["T_RETURN","return",396],["T_WHITESPACE"," ",396],["T_STRING","false",396],";",["T_WHITESPACE","\n\n\t\t",396],["T_RETURN","return",398],["T_WHITESPACE"," ",398],"\"",["T_CURLY_OPEN","{",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","size",398],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",398],"]","}",["T_ENCAPSED_AND_WHITESPACE","x",398],["T_CURLY_OPEN","{",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","size",398],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",398],"]","}","\"",";",["T_WHITESPACE","\n\t",398],"}",["T_WHITESPACE","\n\n\t",399],["T_DOC_COMMENT","\/**\n\t * Either calls editor's save function or handles file as a stream.\n\t *\n\t * @since 3.5.0\n\t * @access protected\n\t *\n\t * @param string|stream $filename\n\t * @param callable $function\n\t * @param array $arguments\n\t * @return bool\n\t *\/",401],["T_WHITESPACE","\n\t",411],["T_PROTECTED","protected",412],["T_WHITESPACE"," ",412],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","make_image",412],"(",["T_WHITESPACE"," ",412],["T_VARIABLE","$filename",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$function",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$arguments",412],["T_WHITESPACE"," ",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n\t\t",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_WHITESPACE"," ",413],["T_VARIABLE","$stream",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_STRING","wp_is_stream",413],"(",["T_WHITESPACE"," ",413],["T_VARIABLE","$filename",413],["T_WHITESPACE"," ",413],")",["T_WHITESPACE"," ",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n\t\t\t",413],["T_STRING","ob_start",414],"(",")",";",["T_WHITESPACE","\n\t\t",414],"}",["T_WHITESPACE"," ",415],["T_ELSE","else",415],["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n\t\t\t",415],["T_COMMENT","\/\/ The directory containing the original file may no longer exist when using a replication plugin.\n",416],["T_WHITESPACE","\t\t\t",417],["T_STRING","wp_mkdir_p",417],"(",["T_WHITESPACE"," ",417],["T_STRING","dirname",417],"(",["T_WHITESPACE"," ",417],["T_VARIABLE","$filename",417],["T_WHITESPACE"," ",417],")",["T_WHITESPACE"," ",417],")",";",["T_WHITESPACE","\n\t\t",417],"}",["T_WHITESPACE","\n\n\t\t",418],["T_VARIABLE","$result",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_STRING","call_user_func_array",420],"(",["T_WHITESPACE"," ",420],["T_VARIABLE","$function",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$arguments",420],["T_WHITESPACE"," ",420],")",";",["T_WHITESPACE","\n\n\t\t",420],["T_IF","if",422],["T_WHITESPACE"," ",422],"(",["T_WHITESPACE"," ",422],["T_VARIABLE","$result",422],["T_WHITESPACE"," ",422],["T_BOOLEAN_AND","&&",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$stream",422],["T_WHITESPACE"," ",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n\t\t\t",422],["T_VARIABLE","$contents",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","ob_get_contents",423],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",423],["T_VARIABLE","$fp",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","fopen",425],"(",["T_WHITESPACE"," ",425],["T_VARIABLE","$filename",425],",",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'w'",425],["T_WHITESPACE"," ",425],")",";",["T_WHITESPACE","\n\n\t\t\t",425],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_WHITESPACE"," ",427],"!",["T_WHITESPACE"," ",427],["T_VARIABLE","$fp",427],["T_WHITESPACE"," ",427],")",["T_WHITESPACE","\n\t\t\t\t",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_STRING","false",428],";",["T_WHITESPACE","\n\n\t\t\t",428],["T_STRING","fwrite",430],"(",["T_WHITESPACE"," ",430],["T_VARIABLE","$fp",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$contents",430],["T_WHITESPACE"," ",430],")",";",["T_WHITESPACE","\n\t\t\t",430],["T_STRING","fclose",431],"(",["T_WHITESPACE"," ",431],["T_VARIABLE","$fp",431],["T_WHITESPACE"," ",431],")",";",["T_WHITESPACE","\n\t\t",431],"}",["T_WHITESPACE","\n\n\t\t",432],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_WHITESPACE"," ",434],["T_VARIABLE","$stream",434],["T_WHITESPACE"," ",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n\t\t\t",434],["T_STRING","ob_end_clean",435],"(",")",";",["T_WHITESPACE","\n\t\t",435],"}",["T_WHITESPACE","\n\n\t\t",436],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$result",438],";",["T_WHITESPACE","\n\t",438],"}",["T_WHITESPACE","\n\n\t",439],["T_DOC_COMMENT","\/**\n\t * Returns first matched mime-type from extension,\n\t * as mapped from wp_get_mime_types()\n\t *\n\t * @since 3.5.0\n\t *\n\t * @static\n\t * @access protected\n\t *\n\t * @param string $extension\n\t * @return string|false\n\t *\/",441],["T_WHITESPACE","\n\t",452],["T_PROTECTED","protected",453],["T_WHITESPACE"," ",453],["T_STATIC","static",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","get_mime_type",453],"(",["T_WHITESPACE"," ",453],["T_VARIABLE","$extension",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","null",453],["T_WHITESPACE"," ",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n\t\t",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_WHITESPACE"," ",454],"!",["T_WHITESPACE"," ",454],["T_VARIABLE","$extension",454],["T_WHITESPACE"," ",454],")",["T_WHITESPACE","\n\t\t\t",454],["T_RETURN","return",455],["T_WHITESPACE"," ",455],["T_STRING","false",455],";",["T_WHITESPACE","\n\n\t\t",455],["T_VARIABLE","$mime_types",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","wp_get_mime_types",457],"(",")",";",["T_WHITESPACE","\n\t\t",457],["T_VARIABLE","$extensions",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_STRING","array_keys",458],"(",["T_WHITESPACE"," ",458],["T_VARIABLE","$mime_types",458],["T_WHITESPACE"," ",458],")",";",["T_WHITESPACE","\n\n\t\t",458],["T_FOREACH","foreach",460],["T_WHITESPACE"," ",460],"(",["T_WHITESPACE"," ",460],["T_VARIABLE","$extensions",460],["T_WHITESPACE"," ",460],["T_AS","as",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$_extension",460],["T_WHITESPACE"," ",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n\t\t\t",460],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_WHITESPACE"," ",461],["T_STRING","preg_match",461],"(",["T_WHITESPACE"," ",461],"\"",["T_ENCAPSED_AND_WHITESPACE","\/",461],["T_CURLY_OPEN","{",461],["T_VARIABLE","$extension",461],"}",["T_ENCAPSED_AND_WHITESPACE","\/i",461],"\"",",",["T_WHITESPACE"," ",461],["T_VARIABLE","$_extension",461],["T_WHITESPACE"," ",461],")",["T_WHITESPACE"," ",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n\t\t\t\t",461],["T_RETURN","return",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$mime_types",462],"[",["T_VARIABLE","$_extension",462],"]",";",["T_WHITESPACE","\n\t\t\t",462],"}",["T_WHITESPACE","\n\t\t",463],"}",["T_WHITESPACE","\n\n\t\t",464],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_STRING","false",466],";",["T_WHITESPACE","\n\t",466],"}",["T_WHITESPACE","\n\n\t",467],["T_DOC_COMMENT","\/**\n\t * Returns first matched extension from Mime-type,\n\t * as mapped from wp_get_mime_types()\n\t *\n\t * @since 3.5.0\n\t *\n\t * @static\n\t * @access protected\n\t *\n\t * @param string $mime_type\n\t * @return string|false\n\t *\/",469],["T_WHITESPACE","\n\t",480],["T_PROTECTED","protected",481],["T_WHITESPACE"," ",481],["T_STATIC","static",481],["T_WHITESPACE"," ",481],["T_FUNCTION","function",481],["T_WHITESPACE"," ",481],["T_STRING","get_extension",481],"(",["T_WHITESPACE"," ",481],["T_VARIABLE","$mime_type",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","null",481],["T_WHITESPACE"," ",481],")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n\t\t",481],["T_VARIABLE","$extensions",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_STRING","explode",482],"(",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'|'",482],",",["T_WHITESPACE"," ",482],["T_STRING","array_search",482],"(",["T_WHITESPACE"," ",482],["T_VARIABLE","$mime_type",482],",",["T_WHITESPACE"," ",482],["T_STRING","wp_get_mime_types",482],"(",")",["T_WHITESPACE"," ",482],")",["T_WHITESPACE"," ",482],")",";",["T_WHITESPACE","\n\n\t\t",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_WHITESPACE"," ",484],["T_EMPTY","empty",484],"(",["T_WHITESPACE"," ",484],["T_VARIABLE","$extensions",484],"[",["T_LNUMBER","0",484],"]",["T_WHITESPACE"," ",484],")",["T_WHITESPACE"," ",484],")",["T_WHITESPACE","\n\t\t\t",484],["T_RETURN","return",485],["T_WHITESPACE"," ",485],["T_STRING","false",485],";",["T_WHITESPACE","\n\n\t\t",485],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$extensions",487],"[",["T_LNUMBER","0",487],"]",";",["T_WHITESPACE","\n\t",487],"}",["T_WHITESPACE","\n",488],"}",["T_WHITESPACE","\n\n",489]]