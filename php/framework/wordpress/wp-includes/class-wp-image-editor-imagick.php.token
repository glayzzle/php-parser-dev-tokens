[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * WordPress Imagick Image Editor\n *\n * @package WordPress\n * @subpackage Image_Editor\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * WordPress Image Editor Class for Image Manipulation through Imagick PHP Module\n *\n * @since 3.5.0\n * @package WordPress\n * @subpackage Image_Editor\n * @uses WP_Image_Editor Extends class\n *\/",9],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","WP_Image_Editor_Imagick",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WP_Image_Editor",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t",17],["T_DOC_COMMENT","\/**\n\t * Imagick object.\n\t *\n\t * @access protected\n\t * @var Imagick\n\t *\/",18],["T_WHITESPACE","\n\t",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$image",24],";",["T_WHITESPACE","\n\n\t",24],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","__destruct",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t",26],["T_IF","if",27],["T_WHITESPACE"," ",27],"(",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","image",27],["T_WHITESPACE"," ",27],["T_INSTANCEOF","instanceof",27],["T_WHITESPACE"," ",27],["T_STRING","Imagick",27],["T_WHITESPACE"," ",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\t\t\t",27],["T_COMMENT","\/\/ we don't need the original in memory anymore\n",28],["T_WHITESPACE","\t\t\t",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","image",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","clear",29],"(",")",";",["T_WHITESPACE","\n\t\t\t",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","image",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","destroy",30],"(",")",";",["T_WHITESPACE","\n\t\t",30],"}",["T_WHITESPACE","\n\t",31],"}",["T_WHITESPACE","\n\n\t",32],["T_DOC_COMMENT","\/**\n\t * Checks to see if current environment supports Imagick.\n\t *\n\t * We require Imagick 2.2.0 or greater, based on whether the queryFormats()\n\t * method can be called statically.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @static\n\t * @access public\n\t *\n\t * @param array $args\n\t * @return bool\n\t *\/",34],["T_WHITESPACE","\n\t",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_STATIC","static",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","test",48],"(",["T_WHITESPACE"," ",48],["T_VARIABLE","$args",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",")",["T_WHITESPACE"," ",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n\n\t\t",48],["T_COMMENT","\/\/ First, test Imagick's extension and classes.\n",50],["T_WHITESPACE","\t\t",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_WHITESPACE"," ",51],"!",["T_WHITESPACE"," ",51],["T_STRING","extension_loaded",51],"(",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'imagick'",51],["T_WHITESPACE"," ",51],")",["T_WHITESPACE"," ",51],["T_BOOLEAN_OR","||",51],["T_WHITESPACE"," ",51],"!",["T_WHITESPACE"," ",51],["T_STRING","class_exists",51],"(",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Imagick'",51],",",["T_WHITESPACE"," ",51],["T_STRING","false",51],["T_WHITESPACE"," ",51],")",["T_WHITESPACE"," ",51],["T_BOOLEAN_OR","||",51],["T_WHITESPACE"," ",51],"!",["T_WHITESPACE"," ",51],["T_STRING","class_exists",51],"(",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'ImagickPixel'",51],",",["T_WHITESPACE"," ",51],["T_STRING","false",51],["T_WHITESPACE"," ",51],")",["T_WHITESPACE"," ",51],")",["T_WHITESPACE","\n\t\t\t",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_STRING","false",52],";",["T_WHITESPACE","\n\n\t\t",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_WHITESPACE"," ",54],["T_STRING","version_compare",54],"(",["T_WHITESPACE"," ",54],["T_STRING","phpversion",54],"(",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'imagick'",54],["T_WHITESPACE"," ",54],")",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'2.2.0'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'<'",54],["T_WHITESPACE"," ",54],")",["T_WHITESPACE"," ",54],")",["T_WHITESPACE","\n\t\t\t",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_STRING","false",55],";",["T_WHITESPACE","\n\n\t\t",55],["T_VARIABLE","$required_methods",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_WHITESPACE","\n\t\t\t",57],["T_CONSTANT_ENCAPSED_STRING","'clear'",58],",",["T_WHITESPACE","\n\t\t\t",58],["T_CONSTANT_ENCAPSED_STRING","'destroy'",59],",",["T_WHITESPACE","\n\t\t\t",59],["T_CONSTANT_ENCAPSED_STRING","'valid'",60],",",["T_WHITESPACE","\n\t\t\t",60],["T_CONSTANT_ENCAPSED_STRING","'getimage'",61],",",["T_WHITESPACE","\n\t\t\t",61],["T_CONSTANT_ENCAPSED_STRING","'writeimage'",62],",",["T_WHITESPACE","\n\t\t\t",62],["T_CONSTANT_ENCAPSED_STRING","'getimageblob'",63],",",["T_WHITESPACE","\n\t\t\t",63],["T_CONSTANT_ENCAPSED_STRING","'getimagegeometry'",64],",",["T_WHITESPACE","\n\t\t\t",64],["T_CONSTANT_ENCAPSED_STRING","'getimageformat'",65],",",["T_WHITESPACE","\n\t\t\t",65],["T_CONSTANT_ENCAPSED_STRING","'setimageformat'",66],",",["T_WHITESPACE","\n\t\t\t",66],["T_CONSTANT_ENCAPSED_STRING","'setimagecompression'",67],",",["T_WHITESPACE","\n\t\t\t",67],["T_CONSTANT_ENCAPSED_STRING","'setimagecompressionquality'",68],",",["T_WHITESPACE","\n\t\t\t",68],["T_CONSTANT_ENCAPSED_STRING","'setimagepage'",69],",",["T_WHITESPACE","\n\t\t\t",69],["T_CONSTANT_ENCAPSED_STRING","'setoption'",70],",",["T_WHITESPACE","\n\t\t\t",70],["T_CONSTANT_ENCAPSED_STRING","'scaleimage'",71],",",["T_WHITESPACE","\n\t\t\t",71],["T_CONSTANT_ENCAPSED_STRING","'cropimage'",72],",",["T_WHITESPACE","\n\t\t\t",72],["T_CONSTANT_ENCAPSED_STRING","'rotateimage'",73],",",["T_WHITESPACE","\n\t\t\t",73],["T_CONSTANT_ENCAPSED_STRING","'flipimage'",74],",",["T_WHITESPACE","\n\t\t\t",74],["T_CONSTANT_ENCAPSED_STRING","'flopimage'",75],",",["T_WHITESPACE","\n\t\t\t",75],["T_CONSTANT_ENCAPSED_STRING","'readimage'",76],",",["T_WHITESPACE","\n\t\t",76],")",";",["T_WHITESPACE","\n\n\t\t",77],["T_COMMENT","\/\/ Now, test for deep requirements within Imagick.\n",79],["T_WHITESPACE","\t\t",80],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_WHITESPACE"," ",80],"!",["T_WHITESPACE"," ",80],["T_STRING","defined",80],"(",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'imagick::COMPRESSION_JPEG'",80],["T_WHITESPACE"," ",80],")",["T_WHITESPACE"," ",80],")",["T_WHITESPACE","\n\t\t\t",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_STRING","false",81],";",["T_WHITESPACE","\n\n\t\t",81],["T_VARIABLE","$class_methods",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","array_map",83],"(",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'strtolower'",83],",",["T_WHITESPACE"," ",83],["T_STRING","get_class_methods",83],"(",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Imagick'",83],["T_WHITESPACE"," ",83],")",["T_WHITESPACE"," ",83],")",";",["T_WHITESPACE","\n\t\t",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_WHITESPACE"," ",84],["T_STRING","array_diff",84],"(",["T_WHITESPACE"," ",84],["T_VARIABLE","$required_methods",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$class_methods",84],["T_WHITESPACE"," ",84],")",["T_WHITESPACE"," ",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_STRING","false",85],";",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\n\t\t",86],["T_COMMENT","\/\/ HHVM Imagick does not support loading from URL, so fail to allow fallback to GD.\n",88],["T_WHITESPACE","\t\t",89],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_WHITESPACE"," ",89],["T_STRING","defined",89],"(",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'HHVM_VERSION'",89],["T_WHITESPACE"," ",89],")",["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],["T_ISSET","isset",89],"(",["T_WHITESPACE"," ",89],["T_VARIABLE","$args",89],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",89],"]",["T_WHITESPACE"," ",89],")",["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],["T_STRING","preg_match",89],"(",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'|^https?:\/\/|'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$args",89],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",89],"]",["T_WHITESPACE"," ",89],")",["T_WHITESPACE"," ",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n\t\t\t",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_STRING","false",90],";",["T_WHITESPACE","\n\t\t",90],"}",["T_WHITESPACE","\n\n\t\t",91],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_STRING","true",93],";",["T_WHITESPACE","\n\t",93],"}",["T_WHITESPACE","\n\n\t",94],["T_DOC_COMMENT","\/**\n\t * Checks to see if editor supports the mime-type specified.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @static\n\t * @access public\n\t *\n\t * @param string $mime_type\n\t * @return bool\n\t *\/",96],["T_WHITESPACE","\n\t",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_STATIC","static",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","supports_mime_type",107],"(",["T_WHITESPACE"," ",107],["T_VARIABLE","$mime_type",107],["T_WHITESPACE"," ",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n\t\t",107],["T_VARIABLE","$imagick_extension",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","strtoupper",108],"(",["T_WHITESPACE"," ",108],["T_STRING","self",108],["T_DOUBLE_COLON","::",108],["T_STRING","get_extension",108],"(",["T_WHITESPACE"," ",108],["T_VARIABLE","$mime_type",108],["T_WHITESPACE"," ",108],")",["T_WHITESPACE"," ",108],")",";",["T_WHITESPACE","\n\n\t\t",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_WHITESPACE"," ",110],"!",["T_WHITESPACE"," ",110],["T_VARIABLE","$imagick_extension",110],["T_WHITESPACE"," ",110],")",["T_WHITESPACE","\n\t\t\t",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_STRING","false",111],";",["T_WHITESPACE","\n\n\t\t",111],["T_COMMENT","\/\/ setIteratorIndex is optional unless mime is an animated format.\n",113],["T_WHITESPACE","\t\t",114],["T_COMMENT","\/\/ Here, we just say no if you are missing it and aren't loading a jpeg.\n",114],["T_WHITESPACE","\t\t",115],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_WHITESPACE"," ",115],"!",["T_WHITESPACE"," ",115],["T_STRING","method_exists",115],"(",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'Imagick'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'setIteratorIndex'",115],["T_WHITESPACE"," ",115],")",["T_WHITESPACE"," ",115],["T_BOOLEAN_AND","&&",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$mime_type",115],["T_WHITESPACE"," ",115],["T_IS_NOT_EQUAL","!=",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",115],["T_WHITESPACE"," ",115],")",["T_WHITESPACE","\n\t\t\t\t",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_STRING","false",116],";",["T_WHITESPACE","\n\n\t\t",116],["T_TRY","try",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n\t\t\t",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],"(",["T_WHITESPACE"," ",119],["T_BOOL_CAST","(bool)",119],["T_WHITESPACE"," ",119],"@",["T_STRING","Imagick",119],["T_DOUBLE_COLON","::",119],["T_STRING","queryFormats",119],"(",["T_WHITESPACE"," ",119],["T_VARIABLE","$imagick_extension",119],["T_WHITESPACE"," ",119],")",["T_WHITESPACE"," ",119],")",";",["T_WHITESPACE","\n\t\t",119],"}",["T_WHITESPACE","\n\t\t",120],["T_CATCH","catch",121],["T_WHITESPACE"," ",121],"(",["T_WHITESPACE"," ",121],["T_STRING","Exception",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$e",121],["T_WHITESPACE"," ",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n\t\t\t",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","false",122],";",["T_WHITESPACE","\n\t\t",122],"}",["T_WHITESPACE","\n\t",123],"}",["T_WHITESPACE","\n\n\t",124],["T_DOC_COMMENT","\/**\n\t * Loads image from $this->file into new Imagick Object.\n\t *\n\t * @since 3.5.0\n\t * @access protected\n\t *\n\t * @return true|WP_Error True if loaded; WP_Error on failure.\n\t *\/",126],["T_WHITESPACE","\n\t",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","load",134],"(",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n\t\t",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","image",135],["T_WHITESPACE"," ",135],["T_INSTANCEOF","instanceof",135],["T_WHITESPACE"," ",135],["T_STRING","Imagick",135],["T_WHITESPACE"," ",135],")",["T_WHITESPACE","\n\t\t\t",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_STRING","true",136],";",["T_WHITESPACE","\n\n\t\t",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_WHITESPACE"," ",138],"!",["T_WHITESPACE"," ",138],["T_STRING","is_file",138],"(",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","file",138],["T_WHITESPACE"," ",138],")",["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],"!",["T_WHITESPACE"," ",138],["T_STRING","preg_match",138],"(",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'|^https?:\/\/|'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","file",138],["T_WHITESPACE"," ",138],")",["T_WHITESPACE"," ",138],")",["T_WHITESPACE","\n\t\t\t",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","WP_Error",139],"(",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'error_loading_image'",139],",",["T_WHITESPACE"," ",139],["T_STRING","__",139],"(",["T_CONSTANT_ENCAPSED_STRING","'File doesn&#8217;t exist?'",139],")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","file",139],["T_WHITESPACE"," ",139],")",";",["T_WHITESPACE","\n\n\t\t",139],["T_COMMENT","\/*\n\t\t * Even though Imagick uses less PHP memory than GD, set higher limit\n\t\t * for users that have low PHP.ini limits.\n\t\t *\/",141],["T_WHITESPACE","\n\t\t",144],["T_STRING","wp_raise_memory_limit",145],"(",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'image'",145],["T_WHITESPACE"," ",145],")",";",["T_WHITESPACE","\n\n\t\t",145],["T_TRY","try",147],["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n\t\t\t",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","image",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_STRING","Imagick",148],"(",")",";",["T_WHITESPACE","\n\t\t\t",148],["T_VARIABLE","$file_extension",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","strtolower",149],"(",["T_WHITESPACE"," ",149],["T_STRING","pathinfo",149],"(",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","file",149],",",["T_WHITESPACE"," ",149],["T_STRING","PATHINFO_EXTENSION",149],["T_WHITESPACE"," ",149],")",["T_WHITESPACE"," ",149],")",";",["T_WHITESPACE","\n\t\t\t",149],["T_VARIABLE","$filename",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","file",150],";",["T_WHITESPACE","\n\n\t\t\t",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'pdf'",152],["T_WHITESPACE"," ",152],["T_IS_EQUAL","==",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$file_extension",152],["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t\t",152],["T_VARIABLE","$filename",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","pdf_setup",153],"(",")",";",["T_WHITESPACE","\n\t\t\t",153],"}",["T_WHITESPACE","\n\n\t\t\t",154],["T_COMMENT","\/\/ Reading image after Imagick instantiation because `setResolution`\n",156],["T_WHITESPACE","\t\t\t",157],["T_COMMENT","\/\/ only applies correctly before the image is read.\n",157],["T_WHITESPACE","\t\t\t",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","image",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","readImage",158],"(",["T_WHITESPACE"," ",158],["T_VARIABLE","$filename",158],["T_WHITESPACE"," ",158],")",";",["T_WHITESPACE","\n\n\t\t\t",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_WHITESPACE"," ",160],"!",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","image",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","valid",160],"(",")",["T_WHITESPACE"," ",160],")",["T_WHITESPACE","\n\t\t\t\t",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_STRING","WP_Error",161],"(",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'invalid_image'",161],",",["T_WHITESPACE"," ",161],["T_STRING","__",161],"(",["T_CONSTANT_ENCAPSED_STRING","'File is not an image.'",161],")",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","file",161],")",";",["T_WHITESPACE","\n\n\t\t\t",161],["T_COMMENT","\/\/ Select the first frame to handle animated images properly\n",163],["T_WHITESPACE","\t\t\t",164],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_WHITESPACE"," ",164],["T_STRING","is_callable",164],"(",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","image",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'setIteratorIndex'",164],["T_WHITESPACE"," ",164],")",["T_WHITESPACE"," ",164],")",["T_WHITESPACE"," ",164],")",["T_WHITESPACE","\n\t\t\t\t",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","image",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","setIteratorIndex",165],"(",["T_LNUMBER","0",165],")",";",["T_WHITESPACE","\n\n\t\t\t",165],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","mime_type",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","get_mime_type",167],"(",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","image",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getImageFormat",167],"(",")",["T_WHITESPACE"," ",167],")",";",["T_WHITESPACE","\n\t\t",167],"}",["T_WHITESPACE","\n\t\t",168],["T_CATCH","catch",169],["T_WHITESPACE"," ",169],"(",["T_WHITESPACE"," ",169],["T_STRING","Exception",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$e",169],["T_WHITESPACE"," ",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_STRING","WP_Error",170],"(",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'invalid_image'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$e",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getMessage",170],"(",")",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","file",170],["T_WHITESPACE"," ",170],")",";",["T_WHITESPACE","\n\t\t",170],"}",["T_WHITESPACE","\n\n\t\t",171],["T_VARIABLE","$updated_size",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","update_size",173],"(",")",";",["T_WHITESPACE","\n\t\t",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_WHITESPACE"," ",174],["T_STRING","is_wp_error",174],"(",["T_WHITESPACE"," ",174],["T_VARIABLE","$updated_size",174],["T_WHITESPACE"," ",174],")",["T_WHITESPACE"," ",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n\t\t\t",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$updated_size",175],";",["T_WHITESPACE","\n\t\t",175],"}",["T_WHITESPACE","\n\n\t\t",176],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","set_quality",178],"(",")",";",["T_WHITESPACE","\n\t",178],"}",["T_WHITESPACE","\n\n\t",179],["T_DOC_COMMENT","\/**\n\t * Sets Image Compression quality on a 1-100% scale.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param int $quality Compression Quality. Range: [1,100]\n\t * @return true|WP_Error True if set successfully; WP_Error on failure.\n\t *\/",181],["T_WHITESPACE","\n\t",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","set_quality",190],"(",["T_WHITESPACE"," ",190],["T_VARIABLE","$quality",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","null",190],["T_WHITESPACE"," ",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n\t\t",190],["T_VARIABLE","$quality_result",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","parent",191],["T_DOUBLE_COLON","::",191],["T_STRING","set_quality",191],"(",["T_WHITESPACE"," ",191],["T_VARIABLE","$quality",191],["T_WHITESPACE"," ",191],")",";",["T_WHITESPACE","\n\t\t",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_WHITESPACE"," ",192],["T_STRING","is_wp_error",192],"(",["T_WHITESPACE"," ",192],["T_VARIABLE","$quality_result",192],["T_WHITESPACE"," ",192],")",["T_WHITESPACE"," ",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n\t\t\t",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$quality_result",193],";",["T_WHITESPACE","\n\t\t",193],"}",["T_WHITESPACE"," ",194],["T_ELSE","else",194],["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n\t\t\t",194],["T_VARIABLE","$quality",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","get_quality",195],"(",")",";",["T_WHITESPACE","\n\t\t",195],"}",["T_WHITESPACE","\n\n\t\t",196],["T_TRY","try",198],["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n\t\t\t",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",199],["T_WHITESPACE"," ",199],["T_IS_EQUAL","==",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","mime_type",199],["T_WHITESPACE"," ",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n\t\t\t\t",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","image",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","setImageCompressionQuality",200],"(",["T_WHITESPACE"," ",200],["T_VARIABLE","$quality",200],["T_WHITESPACE"," ",200],")",";",["T_WHITESPACE","\n\t\t\t\t",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","image",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","setImageCompression",201],"(",["T_WHITESPACE"," ",201],["T_STRING","imagick",201],["T_DOUBLE_COLON","::",201],["T_STRING","COMPRESSION_JPEG",201],["T_WHITESPACE"," ",201],")",";",["T_WHITESPACE","\n\t\t\t",201],"}",["T_WHITESPACE","\n\t\t\t",202],["T_ELSE","else",203],["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n\t\t\t\t",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","image",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setImageCompressionQuality",204],"(",["T_WHITESPACE"," ",204],["T_VARIABLE","$quality",204],["T_WHITESPACE"," ",204],")",";",["T_WHITESPACE","\n\t\t\t",204],"}",["T_WHITESPACE","\n\t\t",205],"}",["T_WHITESPACE","\n\t\t",206],["T_CATCH","catch",207],["T_WHITESPACE"," ",207],"(",["T_WHITESPACE"," ",207],["T_STRING","Exception",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$e",207],["T_WHITESPACE"," ",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n\t\t\t",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","WP_Error",208],"(",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'image_quality_error'",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$e",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getMessage",208],"(",")",["T_WHITESPACE"," ",208],")",";",["T_WHITESPACE","\n\t\t",208],"}",["T_WHITESPACE","\n\n\t\t",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_STRING","true",211],";",["T_WHITESPACE","\n\t",211],"}",["T_WHITESPACE","\n\n\t",212],["T_DOC_COMMENT","\/**\n\t * Sets or updates current image size.\n\t *\n\t * @since 3.5.0\n\t * @access protected\n\t *\n\t * @param int $width\n\t * @param int $height\n\t *\n\t * @return true|WP_Error\n\t *\/",214],["T_WHITESPACE","\n\t",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","update_size",225],"(",["T_WHITESPACE"," ",225],["T_VARIABLE","$width",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","null",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$height",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","null",225],["T_WHITESPACE"," ",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n\t\t",225],["T_VARIABLE","$size",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","null",226],";",["T_WHITESPACE","\n\t\t",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_WHITESPACE"," ",227],"!",["T_VARIABLE","$width",227],["T_WHITESPACE"," ",227],["T_BOOLEAN_OR","||",227],["T_WHITESPACE"," ",227],"!",["T_VARIABLE","$height",227],["T_WHITESPACE"," ",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n\t\t\t",227],["T_TRY","try",228],["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t\t\t",228],["T_VARIABLE","$size",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","image",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getImageGeometry",229],"(",")",";",["T_WHITESPACE","\n\t\t\t",229],"}",["T_WHITESPACE","\n\t\t\t",230],["T_CATCH","catch",231],["T_WHITESPACE"," ",231],"(",["T_WHITESPACE"," ",231],["T_STRING","Exception",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$e",231],["T_WHITESPACE"," ",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n\t\t\t\t",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_STRING","WP_Error",232],"(",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'invalid_image'",232],",",["T_WHITESPACE"," ",232],["T_STRING","__",232],"(",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'Could not read image size.'",232],["T_WHITESPACE"," ",232],")",",",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","file",232],["T_WHITESPACE"," ",232],")",";",["T_WHITESPACE","\n\t\t\t",232],"}",["T_WHITESPACE","\n\t\t",233],"}",["T_WHITESPACE","\n\n\t\t",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_WHITESPACE"," ",236],"!",["T_WHITESPACE"," ",236],["T_VARIABLE","$width",236],["T_WHITESPACE"," ",236],")",["T_WHITESPACE","\n\t\t\t",236],["T_VARIABLE","$width",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$size",237],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",237],"]",";",["T_WHITESPACE","\n\n\t\t",237],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_WHITESPACE"," ",239],"!",["T_WHITESPACE"," ",239],["T_VARIABLE","$height",239],["T_WHITESPACE"," ",239],")",["T_WHITESPACE","\n\t\t\t",239],["T_VARIABLE","$height",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$size",240],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",240],"]",";",["T_WHITESPACE","\n\n\t\t",240],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_STRING","parent",242],["T_DOUBLE_COLON","::",242],["T_STRING","update_size",242],"(",["T_WHITESPACE"," ",242],["T_VARIABLE","$width",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$height",242],["T_WHITESPACE"," ",242],")",";",["T_WHITESPACE","\n\t",242],"}",["T_WHITESPACE","\n\n\t",243],["T_DOC_COMMENT","\/**\n\t * Resizes current image.\n\t *\n\t * At minimum, either a height or width must be provided.\n\t * If one of the two is set to null, the resize will\n\t * maintain aspect ratio according to the provided dimension.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param  int|null $max_w Image width.\n\t * @param  int|null $max_h Image height.\n\t * @param  bool     $crop\n\t * @return bool|WP_Error\n\t *\/",245],["T_WHITESPACE","\n\t",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","resize",260],"(",["T_WHITESPACE"," ",260],["T_VARIABLE","$max_w",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$max_h",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$crop",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","false",260],["T_WHITESPACE"," ",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n\t\t",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_WHITESPACE"," ",261],"(",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","size",261],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",261],"]",["T_WHITESPACE"," ",261],["T_IS_EQUAL","==",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$max_w",261],["T_WHITESPACE"," ",261],")",["T_WHITESPACE"," ",261],["T_BOOLEAN_AND","&&",261],["T_WHITESPACE"," ",261],"(",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","size",261],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",261],"]",["T_WHITESPACE"," ",261],["T_IS_EQUAL","==",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$max_h",261],["T_WHITESPACE"," ",261],")",["T_WHITESPACE"," ",261],")",["T_WHITESPACE","\n\t\t\t",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_STRING","true",262],";",["T_WHITESPACE","\n\n\t\t",262],["T_VARIABLE","$dims",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","image_resize_dimensions",264],"(",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","size",264],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",264],"]",",",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","size",264],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",264],"]",",",["T_WHITESPACE"," ",264],["T_VARIABLE","$max_w",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$max_h",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$crop",264],["T_WHITESPACE"," ",264],")",";",["T_WHITESPACE","\n\t\t",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_WHITESPACE"," ",265],"!",["T_WHITESPACE"," ",265],["T_VARIABLE","$dims",265],["T_WHITESPACE"," ",265],")",["T_WHITESPACE","\n\t\t\t",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","WP_Error",266],"(",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'error_getting_dimensions'",266],",",["T_WHITESPACE"," ",266],["T_STRING","__",266],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not calculate resized image dimensions'",266],")",["T_WHITESPACE"," ",266],")",";",["T_WHITESPACE","\n\t\t",266],["T_LIST","list",267],"(",["T_WHITESPACE"," ",267],["T_VARIABLE","$dst_x",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$dst_y",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$src_x",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$src_y",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$dst_w",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$dst_h",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$src_w",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$src_h",267],["T_WHITESPACE"," ",267],")",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$dims",267],";",["T_WHITESPACE","\n\n\t\t",267],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_WHITESPACE"," ",269],["T_VARIABLE","$crop",269],["T_WHITESPACE"," ",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n\t\t\t",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","crop",270],"(",["T_WHITESPACE"," ",270],["T_VARIABLE","$src_x",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$src_y",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$src_w",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$src_h",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$dst_w",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$dst_h",270],["T_WHITESPACE"," ",270],")",";",["T_WHITESPACE","\n\t\t",270],"}",["T_WHITESPACE","\n\n\t\t",271],["T_COMMENT","\/\/ Execute the resize\n",273],["T_WHITESPACE","\t\t",274],["T_VARIABLE","$thumb_result",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","thumbnail_image",274],"(",["T_WHITESPACE"," ",274],["T_VARIABLE","$dst_w",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$dst_h",274],["T_WHITESPACE"," ",274],")",";",["T_WHITESPACE","\n\t\t",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_WHITESPACE"," ",275],["T_STRING","is_wp_error",275],"(",["T_WHITESPACE"," ",275],["T_VARIABLE","$thumb_result",275],["T_WHITESPACE"," ",275],")",["T_WHITESPACE"," ",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n\t\t\t",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$thumb_result",276],";",["T_WHITESPACE","\n\t\t",276],"}",["T_WHITESPACE","\n\n\t\t",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","update_size",279],"(",["T_WHITESPACE"," ",279],["T_VARIABLE","$dst_w",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$dst_h",279],["T_WHITESPACE"," ",279],")",";",["T_WHITESPACE","\n\t",279],"}",["T_WHITESPACE","\n\n\t",280],["T_DOC_COMMENT","\/**\n\t * Efficiently resize the current image\n\t *\n\t * This is a WordPress specific implementation of Imagick::thumbnailImage(),\n\t * which resizes an image to given dimensions and removes any associated profiles.\n\t *\n\t * @since 4.5.0\n\t * @access protected\n\t *\n\t * @param int    $dst_w       The destination width.\n\t * @param int    $dst_h       The destination height.\n\t * @param string $filter_name Optional. The Imagick filter to use when resizing. Default 'FILTER_TRIANGLE'.\n\t * @param bool   $strip_meta  Optional. Strip all profiles, excluding color profiles, from the image. Default true.\n\t * @return bool|WP_Error\n\t *\/",282],["T_WHITESPACE","\n\t",296],["T_PROTECTED","protected",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","thumbnail_image",297],"(",["T_WHITESPACE"," ",297],["T_VARIABLE","$dst_w",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$dst_h",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$filter_name",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'FILTER_TRIANGLE'",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$strip_meta",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","true",297],["T_WHITESPACE"," ",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n\t\t",297],["T_VARIABLE","$allowed_filters",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_ARRAY","array",298],"(",["T_WHITESPACE","\n\t\t\t",298],["T_CONSTANT_ENCAPSED_STRING","'FILTER_POINT'",299],",",["T_WHITESPACE","\n\t\t\t",299],["T_CONSTANT_ENCAPSED_STRING","'FILTER_BOX'",300],",",["T_WHITESPACE","\n\t\t\t",300],["T_CONSTANT_ENCAPSED_STRING","'FILTER_TRIANGLE'",301],",",["T_WHITESPACE","\n\t\t\t",301],["T_CONSTANT_ENCAPSED_STRING","'FILTER_HERMITE'",302],",",["T_WHITESPACE","\n\t\t\t",302],["T_CONSTANT_ENCAPSED_STRING","'FILTER_HANNING'",303],",",["T_WHITESPACE","\n\t\t\t",303],["T_CONSTANT_ENCAPSED_STRING","'FILTER_HAMMING'",304],",",["T_WHITESPACE","\n\t\t\t",304],["T_CONSTANT_ENCAPSED_STRING","'FILTER_BLACKMAN'",305],",",["T_WHITESPACE","\n\t\t\t",305],["T_CONSTANT_ENCAPSED_STRING","'FILTER_GAUSSIAN'",306],",",["T_WHITESPACE","\n\t\t\t",306],["T_CONSTANT_ENCAPSED_STRING","'FILTER_QUADRATIC'",307],",",["T_WHITESPACE","\n\t\t\t",307],["T_CONSTANT_ENCAPSED_STRING","'FILTER_CUBIC'",308],",",["T_WHITESPACE","\n\t\t\t",308],["T_CONSTANT_ENCAPSED_STRING","'FILTER_CATROM'",309],",",["T_WHITESPACE","\n\t\t\t",309],["T_CONSTANT_ENCAPSED_STRING","'FILTER_MITCHELL'",310],",",["T_WHITESPACE","\n\t\t\t",310],["T_CONSTANT_ENCAPSED_STRING","'FILTER_LANCZOS'",311],",",["T_WHITESPACE","\n\t\t\t",311],["T_CONSTANT_ENCAPSED_STRING","'FILTER_BESSEL'",312],",",["T_WHITESPACE","\n\t\t\t",312],["T_CONSTANT_ENCAPSED_STRING","'FILTER_SINC'",313],",",["T_WHITESPACE","\n\t\t",313],")",";",["T_WHITESPACE","\n\n\t\t",314],["T_DOC_COMMENT","\/**\n\t\t * Set the filter value if '$filter_name' name is in our whitelist and the related\n\t\t * Imagick constant is defined or fall back to our default filter.\n\t\t *\/",316],["T_WHITESPACE","\n\t\t",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_WHITESPACE"," ",320],["T_STRING","in_array",320],"(",["T_WHITESPACE"," ",320],["T_VARIABLE","$filter_name",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$allowed_filters",320],["T_WHITESPACE"," ",320],")",["T_WHITESPACE"," ",320],["T_BOOLEAN_AND","&&",320],["T_WHITESPACE"," ",320],["T_STRING","defined",320],"(",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'Imagick::'",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_VARIABLE","$filter_name",320],["T_WHITESPACE"," ",320],")",["T_WHITESPACE"," ",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n\t\t\t",320],["T_VARIABLE","$filter",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","constant",321],"(",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'Imagick::'",321],["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_VARIABLE","$filter_name",321],["T_WHITESPACE"," ",321],")",";",["T_WHITESPACE","\n\t\t",321],"}",["T_WHITESPACE"," ",322],["T_ELSE","else",322],["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n\t\t\t",322],["T_VARIABLE","$filter",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","defined",323],"(",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'Imagick::FILTER_TRIANGLE'",323],["T_WHITESPACE"," ",323],")",["T_WHITESPACE"," ",323],"?",["T_WHITESPACE"," ",323],["T_STRING","Imagick",323],["T_DOUBLE_COLON","::",323],["T_STRING","FILTER_TRIANGLE",323],["T_WHITESPACE"," ",323],":",["T_WHITESPACE"," ",323],["T_STRING","false",323],";",["T_WHITESPACE","\n\t\t",323],"}",["T_WHITESPACE","\n\n\t\t",324],["T_DOC_COMMENT","\/**\n\t\t * Filters whether to strip metadata from images when they're resized.\n\t\t *\n\t\t * This filter only applies when resizing using the Imagick editor since GD\n\t\t * always strips profiles by default.\n\t\t *\n\t\t * @since 4.5.0\n\t\t *\n\t\t * @param bool $strip_meta Whether to strip image metadata during resizing. Default true.\n\t\t *\/",326],["T_WHITESPACE","\n\t\t",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_WHITESPACE"," ",336],["T_STRING","apply_filters",336],"(",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'image_strip_meta'",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$strip_meta",336],["T_WHITESPACE"," ",336],")",["T_WHITESPACE"," ",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n\t\t\t",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","strip_meta",337],"(",")",";",["T_WHITESPACE"," ",337],["T_COMMENT","\/\/ Fail silently if not supported.\n",337],["T_WHITESPACE","\t\t",338],"}",["T_WHITESPACE","\n\n\t\t",338],["T_TRY","try",340],["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n\t\t\t",340],["T_COMMENT","\/*\n\t\t\t * To be more efficient, resample large images to 5x the destination size before resizing\n\t\t\t * whenever the output size is less that 1\/3 of the original image size (1\/3^2 ~= .111),\n\t\t\t * unless we would be resampling to a scale smaller than 128x128.\n\t\t\t *\/",341],["T_WHITESPACE","\n\t\t\t",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_WHITESPACE"," ",346],["T_STRING","is_callable",346],"(",["T_WHITESPACE"," ",346],["T_ARRAY","array",346],"(",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","image",346],",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'sampleImage'",346],["T_WHITESPACE"," ",346],")",["T_WHITESPACE"," ",346],")",["T_WHITESPACE"," ",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n\t\t\t\t",346],["T_VARIABLE","$resize_ratio",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],"(",["T_WHITESPACE"," ",347],["T_VARIABLE","$dst_w",347],["T_WHITESPACE"," ",347],"\/",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","size",347],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",347],"]",["T_WHITESPACE"," ",347],")",["T_WHITESPACE"," ",347],"*",["T_WHITESPACE"," ",347],"(",["T_WHITESPACE"," ",347],["T_VARIABLE","$dst_h",347],["T_WHITESPACE"," ",347],"\/",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","size",347],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",347],"]",["T_WHITESPACE"," ",347],")",";",["T_WHITESPACE","\n\t\t\t\t",347],["T_VARIABLE","$sample_factor",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_LNUMBER","5",348],";",["T_WHITESPACE","\n\n\t\t\t\t",348],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_WHITESPACE"," ",350],["T_VARIABLE","$resize_ratio",350],["T_WHITESPACE"," ",350],"<",["T_WHITESPACE"," ",350],["T_DNUMBER",".111",350],["T_WHITESPACE"," ",350],["T_BOOLEAN_AND","&&",350],["T_WHITESPACE"," ",350],"(",["T_WHITESPACE"," ",350],["T_VARIABLE","$dst_w",350],["T_WHITESPACE"," ",350],"*",["T_WHITESPACE"," ",350],["T_VARIABLE","$sample_factor",350],["T_WHITESPACE"," ",350],">",["T_WHITESPACE"," ",350],["T_LNUMBER","128",350],["T_WHITESPACE"," ",350],["T_BOOLEAN_AND","&&",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$dst_h",350],["T_WHITESPACE"," ",350],"*",["T_WHITESPACE"," ",350],["T_VARIABLE","$sample_factor",350],["T_WHITESPACE"," ",350],">",["T_WHITESPACE"," ",350],["T_LNUMBER","128",350],["T_WHITESPACE"," ",350],")",["T_WHITESPACE"," ",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n\t\t\t\t\t",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","image",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","sampleImage",351],"(",["T_WHITESPACE"," ",351],["T_VARIABLE","$dst_w",351],["T_WHITESPACE"," ",351],"*",["T_WHITESPACE"," ",351],["T_VARIABLE","$sample_factor",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$dst_h",351],["T_WHITESPACE"," ",351],"*",["T_WHITESPACE"," ",351],["T_VARIABLE","$sample_factor",351],["T_WHITESPACE"," ",351],")",";",["T_WHITESPACE","\n\t\t\t\t",351],"}",["T_WHITESPACE","\n\t\t\t",352],"}",["T_WHITESPACE","\n\n\t\t\t",353],["T_COMMENT","\/*\n\t\t\t * Use resizeImage() when it's available and a valid filter value is set.\n\t\t\t * Otherwise, fall back to the scaleImage() method for resizing, which\n\t\t\t * results in better image quality over resizeImage() with default filter\n\t\t\t * settings and retains backward compatibility with pre 4.5 functionality.\n\t\t\t *\/",355],["T_WHITESPACE","\n\t\t\t",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_WHITESPACE"," ",361],["T_STRING","is_callable",361],"(",["T_WHITESPACE"," ",361],["T_ARRAY","array",361],"(",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","image",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'resizeImage'",361],["T_WHITESPACE"," ",361],")",["T_WHITESPACE"," ",361],")",["T_WHITESPACE"," ",361],["T_BOOLEAN_AND","&&",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$filter",361],["T_WHITESPACE"," ",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n\t\t\t\t",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","image",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","setOption",362],"(",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'filter:support'",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'2.0'",362],["T_WHITESPACE"," ",362],")",";",["T_WHITESPACE","\n\t\t\t\t",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","image",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","resizeImage",363],"(",["T_WHITESPACE"," ",363],["T_VARIABLE","$dst_w",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$dst_h",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$filter",363],",",["T_WHITESPACE"," ",363],["T_LNUMBER","1",363],["T_WHITESPACE"," ",363],")",";",["T_WHITESPACE","\n\t\t\t",363],"}",["T_WHITESPACE"," ",364],["T_ELSE","else",364],["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n\t\t\t\t",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","image",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","scaleImage",365],"(",["T_WHITESPACE"," ",365],["T_VARIABLE","$dst_w",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$dst_h",365],["T_WHITESPACE"," ",365],")",";",["T_WHITESPACE","\n\t\t\t",365],"}",["T_WHITESPACE","\n\n\t\t\t",366],["T_COMMENT","\/\/ Set appropriate quality settings after resizing.\n",368],["T_WHITESPACE","\t\t\t",369],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",369],["T_WHITESPACE"," ",369],["T_IS_EQUAL","==",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","mime_type",369],["T_WHITESPACE"," ",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n\t\t\t\t",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_WHITESPACE"," ",370],["T_STRING","is_callable",370],"(",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","image",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'unsharpMaskImage'",370],["T_WHITESPACE"," ",370],")",["T_WHITESPACE"," ",370],")",["T_WHITESPACE"," ",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n\t\t\t\t\t",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","image",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","unsharpMaskImage",371],"(",["T_WHITESPACE"," ",371],["T_DNUMBER","0.25",371],",",["T_WHITESPACE"," ",371],["T_DNUMBER","0.25",371],",",["T_WHITESPACE"," ",371],["T_LNUMBER","8",371],",",["T_WHITESPACE"," ",371],["T_DNUMBER","0.065",371],["T_WHITESPACE"," ",371],")",";",["T_WHITESPACE","\n\t\t\t\t",371],"}",["T_WHITESPACE","\n\n\t\t\t\t",372],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","image",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","setOption",374],"(",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'jpeg:fancy-upsampling'",374],",",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'off'",374],["T_WHITESPACE"," ",374],")",";",["T_WHITESPACE","\n\t\t\t",374],"}",["T_WHITESPACE","\n\n\t\t\t",375],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'image\/png'",377],["T_WHITESPACE"," ",377],["T_IS_IDENTICAL","===",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","mime_type",377],["T_WHITESPACE"," ",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n\t\t\t\t",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","image",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","setOption",378],"(",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'png:compression-filter'",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'5'",378],["T_WHITESPACE"," ",378],")",";",["T_WHITESPACE","\n\t\t\t\t",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","image",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","setOption",379],"(",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'png:compression-level'",379],",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'9'",379],["T_WHITESPACE"," ",379],")",";",["T_WHITESPACE","\n\t\t\t\t",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","image",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","setOption",380],"(",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'png:compression-strategy'",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'1'",380],["T_WHITESPACE"," ",380],")",";",["T_WHITESPACE","\n\t\t\t\t",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","image",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","setOption",381],"(",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'png:exclude-chunk'",381],",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'all'",381],["T_WHITESPACE"," ",381],")",";",["T_WHITESPACE","\n\t\t\t",381],"}",["T_WHITESPACE","\n\n\t\t\t",382],["T_COMMENT","\/*\n\t\t\t * If alpha channel is not defined, set it opaque.\n\t\t\t *\n\t\t\t * Note that Imagick::getImageAlphaChannel() is only available if Imagick\n\t\t\t * has been compiled against ImageMagick version 6.4.0 or newer.\n\t\t\t *\/",384],["T_WHITESPACE","\n\t\t\t",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_WHITESPACE"," ",390],["T_STRING","is_callable",390],"(",["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","image",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'getImageAlphaChannel'",390],["T_WHITESPACE"," ",390],")",["T_WHITESPACE"," ",390],")",["T_WHITESPACE","\n\t\t\t\t",390],["T_BOOLEAN_AND","&&",391],["T_WHITESPACE"," ",391],["T_STRING","is_callable",391],"(",["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","image",391],",",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'setImageAlphaChannel'",391],["T_WHITESPACE"," ",391],")",["T_WHITESPACE"," ",391],")",["T_WHITESPACE","\n\t\t\t\t",391],["T_BOOLEAN_AND","&&",392],["T_WHITESPACE"," ",392],["T_STRING","defined",392],"(",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'Imagick::ALPHACHANNEL_UNDEFINED'",392],["T_WHITESPACE"," ",392],")",["T_WHITESPACE","\n\t\t\t\t",392],["T_BOOLEAN_AND","&&",393],["T_WHITESPACE"," ",393],["T_STRING","defined",393],"(",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'Imagick::ALPHACHANNEL_OPAQUE'",393],["T_WHITESPACE"," ",393],")",["T_WHITESPACE","\n\t\t\t",393],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n\t\t\t\t",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","image",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getImageAlphaChannel",395],"(",")",["T_WHITESPACE"," ",395],["T_IS_IDENTICAL","===",395],["T_WHITESPACE"," ",395],["T_STRING","Imagick",395],["T_DOUBLE_COLON","::",395],["T_STRING","ALPHACHANNEL_UNDEFINED",395],["T_WHITESPACE"," ",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n\t\t\t\t\t",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","image",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","setImageAlphaChannel",396],"(",["T_WHITESPACE"," ",396],["T_STRING","Imagick",396],["T_DOUBLE_COLON","::",396],["T_STRING","ALPHACHANNEL_OPAQUE",396],["T_WHITESPACE"," ",396],")",";",["T_WHITESPACE","\n\t\t\t\t",396],"}",["T_WHITESPACE","\n\t\t\t",397],"}",["T_WHITESPACE","\n\n\t\t\t",398],["T_COMMENT","\/\/ Limit the bit depth of resized images to 8 bits per channel.\n",400],["T_WHITESPACE","\t\t\t",401],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_WHITESPACE"," ",401],["T_STRING","is_callable",401],"(",["T_WHITESPACE"," ",401],["T_ARRAY","array",401],"(",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","image",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'getImageDepth'",401],["T_WHITESPACE"," ",401],")",["T_WHITESPACE"," ",401],")",["T_WHITESPACE"," ",401],["T_BOOLEAN_AND","&&",401],["T_WHITESPACE"," ",401],["T_STRING","is_callable",401],"(",["T_WHITESPACE"," ",401],["T_ARRAY","array",401],"(",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","image",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'setImageDepth'",401],["T_WHITESPACE"," ",401],")",["T_WHITESPACE"," ",401],")",["T_WHITESPACE"," ",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n\t\t\t\t",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_WHITESPACE"," ",402],["T_LNUMBER","8",402],["T_WHITESPACE"," ",402],"<",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","image",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getImageDepth",402],"(",")",["T_WHITESPACE"," ",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n\t\t\t\t\t",402],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","image",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","setImageDepth",403],"(",["T_WHITESPACE"," ",403],["T_LNUMBER","8",403],["T_WHITESPACE"," ",403],")",";",["T_WHITESPACE","\n\t\t\t\t",403],"}",["T_WHITESPACE","\n\t\t\t",404],"}",["T_WHITESPACE","\n\n\t\t\t",405],["T_IF","if",407],["T_WHITESPACE"," ",407],"(",["T_WHITESPACE"," ",407],["T_STRING","is_callable",407],"(",["T_WHITESPACE"," ",407],["T_ARRAY","array",407],"(",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","image",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'setInterlaceScheme'",407],["T_WHITESPACE"," ",407],")",["T_WHITESPACE"," ",407],")",["T_WHITESPACE"," ",407],["T_BOOLEAN_AND","&&",407],["T_WHITESPACE"," ",407],["T_STRING","defined",407],"(",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'Imagick::INTERLACE_NO'",407],["T_WHITESPACE"," ",407],")",["T_WHITESPACE"," ",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n\t\t\t\t",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","image",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","setInterlaceScheme",408],"(",["T_WHITESPACE"," ",408],["T_STRING","Imagick",408],["T_DOUBLE_COLON","::",408],["T_STRING","INTERLACE_NO",408],["T_WHITESPACE"," ",408],")",";",["T_WHITESPACE","\n\t\t\t",408],"}",["T_WHITESPACE","\n\n\t\t",409],"}",["T_WHITESPACE","\n\t\t",411],["T_CATCH","catch",412],["T_WHITESPACE"," ",412],"(",["T_WHITESPACE"," ",412],["T_STRING","Exception",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$e",412],["T_WHITESPACE"," ",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n\t\t\t",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_NEW","new",413],["T_WHITESPACE"," ",413],["T_STRING","WP_Error",413],"(",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'image_resize_error'",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$e",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getMessage",413],"(",")",["T_WHITESPACE"," ",413],")",";",["T_WHITESPACE","\n\t\t",413],"}",["T_WHITESPACE","\n\t",414],"}",["T_WHITESPACE","\n\n\t",415],["T_DOC_COMMENT","\/**\n\t * Resize multiple images from a single source.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param array $sizes {\n\t *     An array of image size arrays. Default sizes are 'small', 'medium', 'medium_large', 'large'.\n\t *\n\t *     Either a height or width must be provided.\n\t *     If one of the two is set to null, the resize will\n\t *     maintain aspect ratio according to the provided dimension.\n\t *\n\t *     @type array $size {\n\t *         Array of height, width values, and whether to crop.\n\t *\n\t *         @type int  $width  Image width. Optional if `$height` is specified.\n\t *         @type int  $height Image height. Optional if `$width` is specified.\n\t *         @type bool $crop   Optional. Whether to crop the image. Default false.\n\t *     }\n\t * }\n\t * @return array An array of resized images' metadata by size.\n\t *\/",417],["T_WHITESPACE","\n\t",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","multi_resize",440],"(",["T_WHITESPACE"," ",440],["T_VARIABLE","$sizes",440],["T_WHITESPACE"," ",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n\t\t",440],["T_VARIABLE","$metadata",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_ARRAY","array",441],"(",")",";",["T_WHITESPACE","\n\t\t",441],["T_VARIABLE","$orig_size",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","size",442],";",["T_WHITESPACE","\n\t\t",442],["T_VARIABLE","$orig_image",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","image",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getImage",443],"(",")",";",["T_WHITESPACE","\n\n\t\t",443],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_WHITESPACE"," ",445],["T_VARIABLE","$sizes",445],["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$size",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$size_data",445],["T_WHITESPACE"," ",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n\t\t\t",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_WHITESPACE"," ",446],"!",["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","image",446],["T_WHITESPACE"," ",446],")",["T_WHITESPACE","\n\t\t\t\t",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","image",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$orig_image",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getImage",447],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",447],["T_IF","if",449],["T_WHITESPACE"," ",449],"(",["T_WHITESPACE"," ",449],"!",["T_WHITESPACE"," ",449],["T_ISSET","isset",449],"(",["T_WHITESPACE"," ",449],["T_VARIABLE","$size_data",449],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",449],"]",["T_WHITESPACE"," ",449],")",["T_WHITESPACE"," ",449],["T_BOOLEAN_AND","&&",449],["T_WHITESPACE"," ",449],"!",["T_WHITESPACE"," ",449],["T_ISSET","isset",449],"(",["T_WHITESPACE"," ",449],["T_VARIABLE","$size_data",449],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",449],"]",["T_WHITESPACE"," ",449],")",["T_WHITESPACE"," ",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n\t\t\t\t",449],["T_CONTINUE","continue",450],";",["T_WHITESPACE","\n\t\t\t",450],"}",["T_WHITESPACE","\n\n\t\t\t",451],["T_IF","if",453],["T_WHITESPACE"," ",453],"(",["T_WHITESPACE"," ",453],"!",["T_WHITESPACE"," ",453],["T_ISSET","isset",453],"(",["T_WHITESPACE"," ",453],["T_VARIABLE","$size_data",453],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",453],"]",["T_WHITESPACE"," ",453],")",["T_WHITESPACE"," ",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n\t\t\t\t",453],["T_VARIABLE","$size_data",454],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",454],"]",["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],";",["T_WHITESPACE","\n\t\t\t",454],"}",["T_WHITESPACE","\n\t\t\t",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(",["T_WHITESPACE"," ",456],"!",["T_WHITESPACE"," ",456],["T_ISSET","isset",456],"(",["T_WHITESPACE"," ",456],["T_VARIABLE","$size_data",456],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",456],"]",["T_WHITESPACE"," ",456],")",["T_WHITESPACE"," ",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n\t\t\t\t",456],["T_VARIABLE","$size_data",457],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",457],"]",["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","null",457],";",["T_WHITESPACE","\n\t\t\t",457],"}",["T_WHITESPACE","\n\n\t\t\t",458],["T_IF","if",460],["T_WHITESPACE"," ",460],"(",["T_WHITESPACE"," ",460],"!",["T_WHITESPACE"," ",460],["T_ISSET","isset",460],"(",["T_WHITESPACE"," ",460],["T_VARIABLE","$size_data",460],"[",["T_CONSTANT_ENCAPSED_STRING","'crop'",460],"]",["T_WHITESPACE"," ",460],")",["T_WHITESPACE"," ",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n\t\t\t\t",460],["T_VARIABLE","$size_data",461],"[",["T_CONSTANT_ENCAPSED_STRING","'crop'",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","false",461],";",["T_WHITESPACE","\n\t\t\t",461],"}",["T_WHITESPACE","\n\n\t\t\t",462],["T_VARIABLE","$resize_result",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","resize",464],"(",["T_WHITESPACE"," ",464],["T_VARIABLE","$size_data",464],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",464],"]",",",["T_WHITESPACE"," ",464],["T_VARIABLE","$size_data",464],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",464],"]",",",["T_WHITESPACE"," ",464],["T_VARIABLE","$size_data",464],"[",["T_CONSTANT_ENCAPSED_STRING","'crop'",464],"]",["T_WHITESPACE"," ",464],")",";",["T_WHITESPACE","\n\t\t\t",464],["T_VARIABLE","$duplicate",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],"(",["T_WHITESPACE"," ",465],"(",["T_WHITESPACE"," ",465],["T_VARIABLE","$orig_size",465],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",465],"]",["T_WHITESPACE"," ",465],["T_IS_EQUAL","==",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$size_data",465],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",465],"]",["T_WHITESPACE"," ",465],")",["T_WHITESPACE"," ",465],["T_BOOLEAN_AND","&&",465],["T_WHITESPACE"," ",465],"(",["T_WHITESPACE"," ",465],["T_VARIABLE","$orig_size",465],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",465],"]",["T_WHITESPACE"," ",465],["T_IS_EQUAL","==",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$size_data",465],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",465],"]",["T_WHITESPACE"," ",465],")",["T_WHITESPACE"," ",465],")",";",["T_WHITESPACE","\n\n\t\t\t",465],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_WHITESPACE"," ",467],"!",["T_WHITESPACE"," ",467],["T_STRING","is_wp_error",467],"(",["T_WHITESPACE"," ",467],["T_VARIABLE","$resize_result",467],["T_WHITESPACE"," ",467],")",["T_WHITESPACE"," ",467],["T_BOOLEAN_AND","&&",467],["T_WHITESPACE"," ",467],"!",["T_WHITESPACE"," ",467],["T_VARIABLE","$duplicate",467],["T_WHITESPACE"," ",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n\t\t\t\t",467],["T_VARIABLE","$resized",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_save",468],"(",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","image",468],["T_WHITESPACE"," ",468],")",";",["T_WHITESPACE","\n\n\t\t\t\t",468],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","image",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","clear",470],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",470],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","image",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","destroy",471],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","image",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_STRING","null",472],";",["T_WHITESPACE","\n\n\t\t\t\t",472],["T_IF","if",474],["T_WHITESPACE"," ",474],"(",["T_WHITESPACE"," ",474],"!",["T_WHITESPACE"," ",474],["T_STRING","is_wp_error",474],"(",["T_WHITESPACE"," ",474],["T_VARIABLE","$resized",474],["T_WHITESPACE"," ",474],")",["T_WHITESPACE"," ",474],["T_BOOLEAN_AND","&&",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$resized",474],["T_WHITESPACE"," ",474],")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n\t\t\t\t\t",474],["T_UNSET","unset",475],"(",["T_WHITESPACE"," ",475],["T_VARIABLE","$resized",475],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",475],"]",["T_WHITESPACE"," ",475],")",";",["T_WHITESPACE","\n\t\t\t\t\t",475],["T_VARIABLE","$metadata",476],"[",["T_VARIABLE","$size",476],"]",["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$resized",476],";",["T_WHITESPACE","\n\t\t\t\t",476],"}",["T_WHITESPACE","\n\t\t\t",477],"}",["T_WHITESPACE","\n\n\t\t\t",478],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","size",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$orig_size",480],";",["T_WHITESPACE","\n\t\t",480],"}",["T_WHITESPACE","\n\n\t\t",481],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","image",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$orig_image",483],";",["T_WHITESPACE","\n\n\t\t",483],["T_RETURN","return",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$metadata",485],";",["T_WHITESPACE","\n\t",485],"}",["T_WHITESPACE","\n\n\t",486],["T_DOC_COMMENT","\/**\n\t * Crops Image.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param int  $src_x The start x position to crop from.\n\t * @param int  $src_y The start y position to crop from.\n\t * @param int  $src_w The width to crop.\n\t * @param int  $src_h The height to crop.\n\t * @param int  $dst_w Optional. The destination width.\n\t * @param int  $dst_h Optional. The destination height.\n\t * @param bool $src_abs Optional. If the source crop points are absolute.\n\t * @return bool|WP_Error\n\t *\/",488],["T_WHITESPACE","\n\t",502],["T_PUBLIC","public",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","crop",503],"(",["T_WHITESPACE"," ",503],["T_VARIABLE","$src_x",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$src_y",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$src_w",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$src_h",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$dst_w",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","null",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$dst_h",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","null",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$src_abs",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","false",503],["T_WHITESPACE"," ",503],")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n\t\t",503],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_WHITESPACE"," ",504],["T_VARIABLE","$src_abs",504],["T_WHITESPACE"," ",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n\t\t\t",504],["T_VARIABLE","$src_w",505],["T_WHITESPACE"," ",505],["T_MINUS_EQUAL","-=",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$src_x",505],";",["T_WHITESPACE","\n\t\t\t",505],["T_VARIABLE","$src_h",506],["T_WHITESPACE"," ",506],["T_MINUS_EQUAL","-=",506],["T_WHITESPACE"," ",506],["T_VARIABLE","$src_y",506],";",["T_WHITESPACE","\n\t\t",506],"}",["T_WHITESPACE","\n\n\t\t",507],["T_TRY","try",509],["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n\t\t\t",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","image",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","cropImage",510],"(",["T_WHITESPACE"," ",510],["T_VARIABLE","$src_w",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$src_h",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$src_x",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$src_y",510],["T_WHITESPACE"," ",510],")",";",["T_WHITESPACE","\n\t\t\t",510],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","image",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","setImagePage",511],"(",["T_WHITESPACE"," ",511],["T_VARIABLE","$src_w",511],",",["T_WHITESPACE"," ",511],["T_VARIABLE","$src_h",511],",",["T_WHITESPACE"," ",511],["T_LNUMBER","0",511],",",["T_WHITESPACE"," ",511],["T_LNUMBER","0",511],")",";",["T_WHITESPACE","\n\n\t\t\t",511],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_WHITESPACE"," ",513],["T_VARIABLE","$dst_w",513],["T_WHITESPACE"," ",513],["T_BOOLEAN_OR","||",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$dst_h",513],["T_WHITESPACE"," ",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n\t\t\t\t",513],["T_COMMENT","\/\/ If destination width\/height isn't specified, use same as\n",514],["T_WHITESPACE","\t\t\t\t",515],["T_COMMENT","\/\/ width\/height from source.\n",515],["T_WHITESPACE","\t\t\t\t",516],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_WHITESPACE"," ",516],"!",["T_WHITESPACE"," ",516],["T_VARIABLE","$dst_w",516],["T_WHITESPACE"," ",516],")",["T_WHITESPACE","\n\t\t\t\t\t",516],["T_VARIABLE","$dst_w",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$src_w",517],";",["T_WHITESPACE","\n\t\t\t\t",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_WHITESPACE"," ",518],"!",["T_WHITESPACE"," ",518],["T_VARIABLE","$dst_h",518],["T_WHITESPACE"," ",518],")",["T_WHITESPACE","\n\t\t\t\t\t",518],["T_VARIABLE","$dst_h",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$src_h",519],";",["T_WHITESPACE","\n\n\t\t\t\t",519],["T_VARIABLE","$thumb_result",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","thumbnail_image",521],"(",["T_WHITESPACE"," ",521],["T_VARIABLE","$dst_w",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$dst_h",521],["T_WHITESPACE"," ",521],")",";",["T_WHITESPACE","\n\t\t\t\t",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_WHITESPACE"," ",522],["T_STRING","is_wp_error",522],"(",["T_WHITESPACE"," ",522],["T_VARIABLE","$thumb_result",522],["T_WHITESPACE"," ",522],")",["T_WHITESPACE"," ",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n\t\t\t\t\t",522],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$thumb_result",523],";",["T_WHITESPACE","\n\t\t\t\t",523],"}",["T_WHITESPACE","\n\n\t\t\t\t",524],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","update_size",526],"(",")",";",["T_WHITESPACE","\n\t\t\t",526],"}",["T_WHITESPACE","\n\t\t",527],"}",["T_WHITESPACE","\n\t\t",528],["T_CATCH","catch",529],["T_WHITESPACE"," ",529],"(",["T_WHITESPACE"," ",529],["T_STRING","Exception",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$e",529],["T_WHITESPACE"," ",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n\t\t\t",529],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_NEW","new",530],["T_WHITESPACE"," ",530],["T_STRING","WP_Error",530],"(",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'image_crop_error'",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$e",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getMessage",530],"(",")",["T_WHITESPACE"," ",530],")",";",["T_WHITESPACE","\n\t\t",530],"}",["T_WHITESPACE","\n\t\t",531],["T_RETURN","return",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","update_size",532],"(",")",";",["T_WHITESPACE","\n\t",532],"}",["T_WHITESPACE","\n\n\t",533],["T_DOC_COMMENT","\/**\n\t * Rotates current image counter-clockwise by $angle.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param float $angle\n\t * @return true|WP_Error\n\t *\/",535],["T_WHITESPACE","\n\t",543],["T_PUBLIC","public",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","rotate",544],"(",["T_WHITESPACE"," ",544],["T_VARIABLE","$angle",544],["T_WHITESPACE"," ",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n\t\t",544],["T_DOC_COMMENT","\/**\n\t\t * $angle is 360-$angle because Imagick rotates clockwise\n\t\t * (GD rotates counter-clockwise)\n\t\t *\/",545],["T_WHITESPACE","\n\t\t",548],["T_TRY","try",549],["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n\t\t\t",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","image",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","rotateImage",550],"(",["T_WHITESPACE"," ",550],["T_NEW","new",550],["T_WHITESPACE"," ",550],["T_STRING","ImagickPixel",550],"(",["T_CONSTANT_ENCAPSED_STRING","'none'",550],")",",",["T_WHITESPACE"," ",550],["T_LNUMBER","360",550],"-",["T_VARIABLE","$angle",550],["T_WHITESPACE"," ",550],")",";",["T_WHITESPACE","\n\n\t\t\t",550],["T_COMMENT","\/\/ Since this changes the dimensions of the image, update the size.\n",552],["T_WHITESPACE","\t\t\t",553],["T_VARIABLE","$result",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","update_size",553],"(",")",";",["T_WHITESPACE","\n\t\t\t",553],["T_IF","if",554],["T_WHITESPACE"," ",554],"(",["T_WHITESPACE"," ",554],["T_STRING","is_wp_error",554],"(",["T_WHITESPACE"," ",554],["T_VARIABLE","$result",554],["T_WHITESPACE"," ",554],")",["T_WHITESPACE"," ",554],")",["T_WHITESPACE","\n\t\t\t\t",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$result",555],";",["T_WHITESPACE","\n\n\t\t\t",555],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","image",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","setImagePage",557],"(",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","size",557],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",557],"]",",",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","size",557],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",557],"]",",",["T_WHITESPACE"," ",557],["T_LNUMBER","0",557],",",["T_WHITESPACE"," ",557],["T_LNUMBER","0",557],["T_WHITESPACE"," ",557],")",";",["T_WHITESPACE","\n\t\t",557],"}",["T_WHITESPACE","\n\t\t",558],["T_CATCH","catch",559],["T_WHITESPACE"," ",559],"(",["T_WHITESPACE"," ",559],["T_STRING","Exception",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$e",559],["T_WHITESPACE"," ",559],")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n\t\t\t",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_NEW","new",560],["T_WHITESPACE"," ",560],["T_STRING","WP_Error",560],"(",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'image_rotate_error'",560],",",["T_WHITESPACE"," ",560],["T_VARIABLE","$e",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getMessage",560],"(",")",["T_WHITESPACE"," ",560],")",";",["T_WHITESPACE","\n\t\t",560],"}",["T_WHITESPACE","\n\t\t",561],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_STRING","true",562],";",["T_WHITESPACE","\n\t",562],"}",["T_WHITESPACE","\n\n\t",563],["T_DOC_COMMENT","\/**\n\t * Flips current image.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param bool $horz Flip along Horizontal Axis\n\t * @param bool $vert Flip along Vertical Axis\n\t * @return true|WP_Error\n\t *\/",565],["T_WHITESPACE","\n\t",574],["T_PUBLIC","public",575],["T_WHITESPACE"," ",575],["T_FUNCTION","function",575],["T_WHITESPACE"," ",575],["T_STRING","flip",575],"(",["T_WHITESPACE"," ",575],["T_VARIABLE","$horz",575],",",["T_WHITESPACE"," ",575],["T_VARIABLE","$vert",575],["T_WHITESPACE"," ",575],")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n\t\t",575],["T_TRY","try",576],["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n\t\t\t",576],["T_IF","if",577],["T_WHITESPACE"," ",577],"(",["T_WHITESPACE"," ",577],["T_VARIABLE","$horz",577],["T_WHITESPACE"," ",577],")",["T_WHITESPACE","\n\t\t\t\t",577],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","image",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","flipImage",578],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",578],["T_IF","if",580],["T_WHITESPACE"," ",580],"(",["T_WHITESPACE"," ",580],["T_VARIABLE","$vert",580],["T_WHITESPACE"," ",580],")",["T_WHITESPACE","\n\t\t\t\t",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","image",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","flopImage",581],"(",")",";",["T_WHITESPACE","\n\t\t",581],"}",["T_WHITESPACE","\n\t\t",582],["T_CATCH","catch",583],["T_WHITESPACE"," ",583],"(",["T_WHITESPACE"," ",583],["T_STRING","Exception",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$e",583],["T_WHITESPACE"," ",583],")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n\t\t\t",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_NEW","new",584],["T_WHITESPACE"," ",584],["T_STRING","WP_Error",584],"(",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'image_flip_error'",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$e",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","getMessage",584],"(",")",["T_WHITESPACE"," ",584],")",";",["T_WHITESPACE","\n\t\t",584],"}",["T_WHITESPACE","\n\t\t",585],["T_RETURN","return",586],["T_WHITESPACE"," ",586],["T_STRING","true",586],";",["T_WHITESPACE","\n\t",586],"}",["T_WHITESPACE","\n\n\t",587],["T_DOC_COMMENT","\/**\n\t * Saves current image to file.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param string $destfilename\n\t * @param string $mime_type\n\t * @return array|WP_Error {'path'=>string, 'file'=>string, 'width'=>int, 'height'=>int, 'mime-type'=>string}\n\t *\/",589],["T_WHITESPACE","\n\t",598],["T_PUBLIC","public",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","save",599],"(",["T_WHITESPACE"," ",599],["T_VARIABLE","$destfilename",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_STRING","null",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$mime_type",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_STRING","null",599],["T_WHITESPACE"," ",599],")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n\t\t",599],["T_VARIABLE","$saved",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","_save",600],"(",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","image",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$destfilename",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$mime_type",600],["T_WHITESPACE"," ",600],")",";",["T_WHITESPACE","\n\n\t\t",600],["T_IF","if",602],["T_WHITESPACE"," ",602],"(",["T_WHITESPACE"," ",602],"!",["T_WHITESPACE"," ",602],["T_STRING","is_wp_error",602],"(",["T_WHITESPACE"," ",602],["T_VARIABLE","$saved",602],["T_WHITESPACE"," ",602],")",["T_WHITESPACE"," ",602],")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n\t\t\t",602],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","file",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_VARIABLE","$saved",603],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",603],"]",";",["T_WHITESPACE","\n\t\t\t",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","mime_type",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_VARIABLE","$saved",604],"[",["T_CONSTANT_ENCAPSED_STRING","'mime-type'",604],"]",";",["T_WHITESPACE","\n\n\t\t\t",604],["T_TRY","try",606],["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n\t\t\t\t",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","image",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","setImageFormat",607],"(",["T_WHITESPACE"," ",607],["T_STRING","strtoupper",607],"(",["T_WHITESPACE"," ",607],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","get_extension",607],"(",["T_WHITESPACE"," ",607],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","mime_type",607],["T_WHITESPACE"," ",607],")",["T_WHITESPACE"," ",607],")",["T_WHITESPACE"," ",607],")",";",["T_WHITESPACE","\n\t\t\t",607],"}",["T_WHITESPACE","\n\t\t\t",608],["T_CATCH","catch",609],["T_WHITESPACE"," ",609],"(",["T_WHITESPACE"," ",609],["T_STRING","Exception",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$e",609],["T_WHITESPACE"," ",609],")",["T_WHITESPACE"," ",609],"{",["T_WHITESPACE","\n\t\t\t\t",609],["T_RETURN","return",610],["T_WHITESPACE"," ",610],["T_NEW","new",610],["T_WHITESPACE"," ",610],["T_STRING","WP_Error",610],"(",["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'image_save_error'",610],",",["T_WHITESPACE"," ",610],["T_VARIABLE","$e",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","getMessage",610],"(",")",",",["T_WHITESPACE"," ",610],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","file",610],["T_WHITESPACE"," ",610],")",";",["T_WHITESPACE","\n\t\t\t",610],"}",["T_WHITESPACE","\n\t\t",611],"}",["T_WHITESPACE","\n\n\t\t",612],["T_RETURN","return",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$saved",614],";",["T_WHITESPACE","\n\t",614],"}",["T_WHITESPACE","\n\n\t",615],["T_DOC_COMMENT","\/**\n\t *\n\t * @param Imagick $image\n\t * @param string $filename\n\t * @param string $mime_type\n\t * @return array|WP_Error\n\t *\/",617],["T_WHITESPACE","\n\t",623],["T_PROTECTED","protected",624],["T_WHITESPACE"," ",624],["T_FUNCTION","function",624],["T_WHITESPACE"," ",624],["T_STRING","_save",624],"(",["T_WHITESPACE"," ",624],["T_VARIABLE","$image",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$filename",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","null",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$mime_type",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","null",624],["T_WHITESPACE"," ",624],")",["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n\t\t",624],["T_LIST","list",625],"(",["T_WHITESPACE"," ",625],["T_VARIABLE","$filename",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$extension",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$mime_type",625],["T_WHITESPACE"," ",625],")",["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","get_output_format",625],"(",["T_WHITESPACE"," ",625],["T_VARIABLE","$filename",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$mime_type",625],["T_WHITESPACE"," ",625],")",";",["T_WHITESPACE","\n\n\t\t",625],["T_IF","if",627],["T_WHITESPACE"," ",627],"(",["T_WHITESPACE"," ",627],"!",["T_WHITESPACE"," ",627],["T_VARIABLE","$filename",627],["T_WHITESPACE"," ",627],")",["T_WHITESPACE","\n\t\t\t",627],["T_VARIABLE","$filename",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","generate_filename",628],"(",["T_WHITESPACE"," ",628],["T_STRING","null",628],",",["T_WHITESPACE"," ",628],["T_STRING","null",628],",",["T_WHITESPACE"," ",628],["T_VARIABLE","$extension",628],["T_WHITESPACE"," ",628],")",";",["T_WHITESPACE","\n\n\t\t",628],["T_TRY","try",630],["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n\t\t\t",630],["T_COMMENT","\/\/ Store initial Format\n",631],["T_WHITESPACE","\t\t\t",632],["T_VARIABLE","$orig_format",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","image",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getImageFormat",632],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",632],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","image",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","setImageFormat",634],"(",["T_WHITESPACE"," ",634],["T_STRING","strtoupper",634],"(",["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","get_extension",634],"(",["T_WHITESPACE"," ",634],["T_VARIABLE","$mime_type",634],["T_WHITESPACE"," ",634],")",["T_WHITESPACE"," ",634],")",["T_WHITESPACE"," ",634],")",";",["T_WHITESPACE","\n\t\t\t",634],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","make_image",635],"(",["T_WHITESPACE"," ",635],["T_VARIABLE","$filename",635],",",["T_WHITESPACE"," ",635],["T_ARRAY","array",635],"(",["T_WHITESPACE"," ",635],["T_VARIABLE","$image",635],",",["T_WHITESPACE"," ",635],["T_CONSTANT_ENCAPSED_STRING","'writeImage'",635],["T_WHITESPACE"," ",635],")",",",["T_WHITESPACE"," ",635],["T_ARRAY","array",635],"(",["T_WHITESPACE"," ",635],["T_VARIABLE","$filename",635],["T_WHITESPACE"," ",635],")",["T_WHITESPACE"," ",635],")",";",["T_WHITESPACE","\n\n\t\t\t",635],["T_COMMENT","\/\/ Reset original Format\n",637],["T_WHITESPACE","\t\t\t",638],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","image",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","setImageFormat",638],"(",["T_WHITESPACE"," ",638],["T_VARIABLE","$orig_format",638],["T_WHITESPACE"," ",638],")",";",["T_WHITESPACE","\n\t\t",638],"}",["T_WHITESPACE","\n\t\t",639],["T_CATCH","catch",640],["T_WHITESPACE"," ",640],"(",["T_WHITESPACE"," ",640],["T_STRING","Exception",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$e",640],["T_WHITESPACE"," ",640],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n\t\t\t",640],["T_RETURN","return",641],["T_WHITESPACE"," ",641],["T_NEW","new",641],["T_WHITESPACE"," ",641],["T_STRING","WP_Error",641],"(",["T_WHITESPACE"," ",641],["T_CONSTANT_ENCAPSED_STRING","'image_save_error'",641],",",["T_WHITESPACE"," ",641],["T_VARIABLE","$e",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","getMessage",641],"(",")",",",["T_WHITESPACE"," ",641],["T_VARIABLE","$filename",641],["T_WHITESPACE"," ",641],")",";",["T_WHITESPACE","\n\t\t",641],"}",["T_WHITESPACE","\n\n\t\t",642],["T_COMMENT","\/\/ Set correct file permissions\n",644],["T_WHITESPACE","\t\t",645],["T_VARIABLE","$stat",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_STRING","stat",645],"(",["T_WHITESPACE"," ",645],["T_STRING","dirname",645],"(",["T_WHITESPACE"," ",645],["T_VARIABLE","$filename",645],["T_WHITESPACE"," ",645],")",["T_WHITESPACE"," ",645],")",";",["T_WHITESPACE","\n\t\t",645],["T_VARIABLE","$perms",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_VARIABLE","$stat",646],"[",["T_CONSTANT_ENCAPSED_STRING","'mode'",646],"]",["T_WHITESPACE"," ",646],"&",["T_WHITESPACE"," ",646],["T_LNUMBER","0000666",646],";",["T_WHITESPACE"," ",646],["T_COMMENT","\/\/same permissions as parent folder, strip off the executable bits\n",646],["T_WHITESPACE","\t\t",647],"@",["T_WHITESPACE"," ",647],["T_STRING","chmod",647],"(",["T_WHITESPACE"," ",647],["T_VARIABLE","$filename",647],",",["T_WHITESPACE"," ",647],["T_VARIABLE","$perms",647],["T_WHITESPACE"," ",647],")",";",["T_WHITESPACE","\n\n\t\t",647],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/class-wp-image-editor-gd.php *\/",649],["T_WHITESPACE","\n\t\t",649],["T_RETURN","return",650],["T_WHITESPACE"," ",650],["T_ARRAY","array",650],"(",["T_WHITESPACE","\n\t\t\t",650],["T_CONSTANT_ENCAPSED_STRING","'path'",651],["T_WHITESPACE","      ",651],["T_DOUBLE_ARROW","=>",651],["T_WHITESPACE"," ",651],["T_VARIABLE","$filename",651],",",["T_WHITESPACE","\n\t\t\t",651],["T_CONSTANT_ENCAPSED_STRING","'file'",652],["T_WHITESPACE","      ",652],["T_DOUBLE_ARROW","=>",652],["T_WHITESPACE"," ",652],["T_STRING","wp_basename",652],"(",["T_WHITESPACE"," ",652],["T_STRING","apply_filters",652],"(",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'image_make_intermediate_size'",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$filename",652],["T_WHITESPACE"," ",652],")",["T_WHITESPACE"," ",652],")",",",["T_WHITESPACE","\n\t\t\t",652],["T_CONSTANT_ENCAPSED_STRING","'width'",653],["T_WHITESPACE","     ",653],["T_DOUBLE_ARROW","=>",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","size",653],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",653],"]",",",["T_WHITESPACE","\n\t\t\t",653],["T_CONSTANT_ENCAPSED_STRING","'height'",654],["T_WHITESPACE","    ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","size",654],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",654],"]",",",["T_WHITESPACE","\n\t\t\t",654],["T_CONSTANT_ENCAPSED_STRING","'mime-type'",655],["T_WHITESPACE"," ",655],["T_DOUBLE_ARROW","=>",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$mime_type",655],",",["T_WHITESPACE","\n\t\t",655],")",";",["T_WHITESPACE","\n\t",656],"}",["T_WHITESPACE","\n\n\t",657],["T_DOC_COMMENT","\/**\n\t * Streams current image to browser.\n\t *\n\t * @since 3.5.0\n\t * @access public\n\t *\n\t * @param string $mime_type\n\t * @return true|WP_Error\n\t *\/",659],["T_WHITESPACE","\n\t",667],["T_PUBLIC","public",668],["T_WHITESPACE"," ",668],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","stream",668],"(",["T_WHITESPACE"," ",668],["T_VARIABLE","$mime_type",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_STRING","null",668],["T_WHITESPACE"," ",668],")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n\t\t",668],["T_LIST","list",669],"(",["T_WHITESPACE"," ",669],["T_VARIABLE","$filename",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$extension",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$mime_type",669],["T_WHITESPACE"," ",669],")",["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","get_output_format",669],"(",["T_WHITESPACE"," ",669],["T_STRING","null",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$mime_type",669],["T_WHITESPACE"," ",669],")",";",["T_WHITESPACE","\n\n\t\t",669],["T_TRY","try",671],["T_WHITESPACE"," ",671],"{",["T_WHITESPACE","\n\t\t\t",671],["T_COMMENT","\/\/ Temporarily change format for stream\n",672],["T_WHITESPACE","\t\t\t",673],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","image",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","setImageFormat",673],"(",["T_WHITESPACE"," ",673],["T_STRING","strtoupper",673],"(",["T_WHITESPACE"," ",673],["T_VARIABLE","$extension",673],["T_WHITESPACE"," ",673],")",["T_WHITESPACE"," ",673],")",";",["T_WHITESPACE","\n\n\t\t\t",673],["T_COMMENT","\/\/ Output stream of image content\n",675],["T_WHITESPACE","\t\t\t",676],["T_STRING","header",676],"(",["T_WHITESPACE"," ",676],"\"",["T_ENCAPSED_AND_WHITESPACE","Content-Type: ",676],["T_VARIABLE","$mime_type",676],"\"",["T_WHITESPACE"," ",676],")",";",["T_WHITESPACE","\n\t\t\t",676],["T_PRINT","print",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","image",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getImageBlob",677],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",677],["T_COMMENT","\/\/ Reset Image to original Format\n",679],["T_WHITESPACE","\t\t\t",680],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","image",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","setImageFormat",680],"(",["T_WHITESPACE"," ",680],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","get_extension",680],"(",["T_WHITESPACE"," ",680],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","mime_type",680],["T_WHITESPACE"," ",680],")",["T_WHITESPACE"," ",680],")",";",["T_WHITESPACE","\n\t\t",680],"}",["T_WHITESPACE","\n\t\t",681],["T_CATCH","catch",682],["T_WHITESPACE"," ",682],"(",["T_WHITESPACE"," ",682],["T_STRING","Exception",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$e",682],["T_WHITESPACE"," ",682],")",["T_WHITESPACE"," ",682],"{",["T_WHITESPACE","\n\t\t\t",682],["T_RETURN","return",683],["T_WHITESPACE"," ",683],["T_NEW","new",683],["T_WHITESPACE"," ",683],["T_STRING","WP_Error",683],"(",["T_WHITESPACE"," ",683],["T_CONSTANT_ENCAPSED_STRING","'image_stream_error'",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$e",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","getMessage",683],"(",")",["T_WHITESPACE"," ",683],")",";",["T_WHITESPACE","\n\t\t",683],"}",["T_WHITESPACE","\n\n\t\t",684],["T_RETURN","return",686],["T_WHITESPACE"," ",686],["T_STRING","true",686],";",["T_WHITESPACE","\n\t",686],"}",["T_WHITESPACE","\n\n\t",687],["T_DOC_COMMENT","\/**\n\t * Strips all image meta except color profiles from an image.\n\t *\n\t * @since 4.5.0\n\t * @access protected\n\t *\n\t * @return true|WP_Error True if stripping metadata was successful. WP_Error object on error.\n\t *\/",689],["T_WHITESPACE","\n\t",696],["T_PROTECTED","protected",697],["T_WHITESPACE"," ",697],["T_FUNCTION","function",697],["T_WHITESPACE"," ",697],["T_STRING","strip_meta",697],"(",")",["T_WHITESPACE"," ",697],"{",["T_WHITESPACE","\n\n\t\t",697],["T_IF","if",699],["T_WHITESPACE"," ",699],"(",["T_WHITESPACE"," ",699],"!",["T_WHITESPACE"," ",699],["T_STRING","is_callable",699],"(",["T_WHITESPACE"," ",699],["T_ARRAY","array",699],"(",["T_WHITESPACE"," ",699],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","image",699],",",["T_WHITESPACE"," ",699],["T_CONSTANT_ENCAPSED_STRING","'getImageProfiles'",699],["T_WHITESPACE"," ",699],")",["T_WHITESPACE"," ",699],")",["T_WHITESPACE"," ",699],")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n\t\t\t",699],["T_COMMENT","\/* translators: %s: ImageMagick method name *\/",700],["T_WHITESPACE","\n\t\t\t",700],["T_RETURN","return",701],["T_WHITESPACE"," ",701],["T_NEW","new",701],["T_WHITESPACE"," ",701],["T_STRING","WP_Error",701],"(",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'image_strip_meta_error'",701],",",["T_WHITESPACE"," ",701],["T_STRING","sprintf",701],"(",["T_WHITESPACE"," ",701],["T_STRING","__",701],"(",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'%s is required to strip image meta.'",701],["T_WHITESPACE"," ",701],")",",",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'<code>Imagick::getImageProfiles()<\/code>'",701],["T_WHITESPACE"," ",701],")",["T_WHITESPACE"," ",701],")",";",["T_WHITESPACE","\n\t\t",701],"}",["T_WHITESPACE","\n\n\t\t",702],["T_IF","if",704],["T_WHITESPACE"," ",704],"(",["T_WHITESPACE"," ",704],"!",["T_WHITESPACE"," ",704],["T_STRING","is_callable",704],"(",["T_WHITESPACE"," ",704],["T_ARRAY","array",704],"(",["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","image",704],",",["T_WHITESPACE"," ",704],["T_CONSTANT_ENCAPSED_STRING","'removeImageProfile'",704],["T_WHITESPACE"," ",704],")",["T_WHITESPACE"," ",704],")",["T_WHITESPACE"," ",704],")",["T_WHITESPACE"," ",704],"{",["T_WHITESPACE","\n\t\t\t",704],["T_COMMENT","\/* translators: %s: ImageMagick method name *\/",705],["T_WHITESPACE","\n\t\t\t",705],["T_RETURN","return",706],["T_WHITESPACE"," ",706],["T_NEW","new",706],["T_WHITESPACE"," ",706],["T_STRING","WP_Error",706],"(",["T_WHITESPACE"," ",706],["T_CONSTANT_ENCAPSED_STRING","'image_strip_meta_error'",706],",",["T_WHITESPACE"," ",706],["T_STRING","sprintf",706],"(",["T_WHITESPACE"," ",706],["T_STRING","__",706],"(",["T_WHITESPACE"," ",706],["T_CONSTANT_ENCAPSED_STRING","'%s is required to strip image meta.'",706],["T_WHITESPACE"," ",706],")",",",["T_WHITESPACE"," ",706],["T_CONSTANT_ENCAPSED_STRING","'<code>Imagick::removeImageProfile()<\/code>'",706],["T_WHITESPACE"," ",706],")",["T_WHITESPACE"," ",706],")",";",["T_WHITESPACE","\n\t\t",706],"}",["T_WHITESPACE","\n\n\t\t",707],["T_COMMENT","\/*\n\t\t * Protect a few profiles from being stripped for the following reasons:\n\t\t *\n\t\t * - icc:  Color profile information\n\t\t * - icm:  Color profile information\n\t\t * - iptc: Copyright data\n\t\t * - exif: Orientation data\n\t\t * - xmp:  Rights usage data\n\t\t *\/",709],["T_WHITESPACE","\n\t\t",717],["T_VARIABLE","$protected_profiles",718],["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_ARRAY","array",718],"(",["T_WHITESPACE","\n\t\t\t",718],["T_CONSTANT_ENCAPSED_STRING","'icc'",719],",",["T_WHITESPACE","\n\t\t\t",719],["T_CONSTANT_ENCAPSED_STRING","'icm'",720],",",["T_WHITESPACE","\n\t\t\t",720],["T_CONSTANT_ENCAPSED_STRING","'iptc'",721],",",["T_WHITESPACE","\n\t\t\t",721],["T_CONSTANT_ENCAPSED_STRING","'exif'",722],",",["T_WHITESPACE","\n\t\t\t",722],["T_CONSTANT_ENCAPSED_STRING","'xmp'",723],",",["T_WHITESPACE","\n\t\t",723],")",";",["T_WHITESPACE","\n\n\t\t",724],["T_TRY","try",726],["T_WHITESPACE"," ",726],"{",["T_WHITESPACE","\n\t\t\t",726],["T_COMMENT","\/\/ Strip profiles.\n",727],["T_WHITESPACE","\t\t\t",728],["T_FOREACH","foreach",728],["T_WHITESPACE"," ",728],"(",["T_WHITESPACE"," ",728],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","image",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","getImageProfiles",728],"(",["T_WHITESPACE"," ",728],["T_CONSTANT_ENCAPSED_STRING","'*'",728],",",["T_WHITESPACE"," ",728],["T_STRING","true",728],["T_WHITESPACE"," ",728],")",["T_WHITESPACE"," ",728],["T_AS","as",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$key",728],["T_WHITESPACE"," ",728],["T_DOUBLE_ARROW","=>",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$value",728],["T_WHITESPACE"," ",728],")",["T_WHITESPACE"," ",728],"{",["T_WHITESPACE","\n\t\t\t\t",728],["T_IF","if",729],["T_WHITESPACE"," ",729],"(",["T_WHITESPACE"," ",729],"!",["T_WHITESPACE"," ",729],["T_STRING","in_array",729],"(",["T_WHITESPACE"," ",729],["T_VARIABLE","$key",729],",",["T_WHITESPACE"," ",729],["T_VARIABLE","$protected_profiles",729],["T_WHITESPACE"," ",729],")",["T_WHITESPACE"," ",729],")",["T_WHITESPACE"," ",729],"{",["T_WHITESPACE","\n\t\t\t\t\t",729],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","image",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","removeImageProfile",730],"(",["T_WHITESPACE"," ",730],["T_VARIABLE","$key",730],["T_WHITESPACE"," ",730],")",";",["T_WHITESPACE","\n\t\t\t\t",730],"}",["T_WHITESPACE","\n\t\t\t",731],"}",["T_WHITESPACE","\n\n\t\t",732],"}",["T_WHITESPACE"," ",734],["T_CATCH","catch",734],["T_WHITESPACE"," ",734],"(",["T_WHITESPACE"," ",734],["T_STRING","Exception",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$e",734],["T_WHITESPACE"," ",734],")",["T_WHITESPACE"," ",734],"{",["T_WHITESPACE","\n\t\t\t",734],["T_RETURN","return",735],["T_WHITESPACE"," ",735],["T_NEW","new",735],["T_WHITESPACE"," ",735],["T_STRING","WP_Error",735],"(",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'image_strip_meta_error'",735],",",["T_WHITESPACE"," ",735],["T_VARIABLE","$e",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","getMessage",735],"(",")",["T_WHITESPACE"," ",735],")",";",["T_WHITESPACE","\n\t\t",735],"}",["T_WHITESPACE","\n\n\t\t",736],["T_RETURN","return",738],["T_WHITESPACE"," ",738],["T_STRING","true",738],";",["T_WHITESPACE","\n\t",738],"}",["T_WHITESPACE","\n\n\t",739],["T_DOC_COMMENT","\/**\n\t * Sets up Imagick for PDF processing.\n\t * Increases rendering DPI and only loads first page.\n\t *\n\t * @since 4.7.0\n\t * @access protected\n\t *\n\t * @return string|WP_Error File to load or WP_Error on failure.\n\t *\/",741],["T_WHITESPACE","\n\t",749],["T_PROTECTED","protected",750],["T_WHITESPACE"," ",750],["T_FUNCTION","function",750],["T_WHITESPACE"," ",750],["T_STRING","pdf_setup",750],"(",")",["T_WHITESPACE"," ",750],"{",["T_WHITESPACE","\n\t\t",750],["T_TRY","try",751],["T_WHITESPACE"," ",751],"{",["T_WHITESPACE","\n\t\t\t",751],["T_COMMENT","\/\/ By default, PDFs are rendered in a very low resolution.\n",752],["T_WHITESPACE","\t\t\t",753],["T_COMMENT","\/\/ We want the thumbnail to be readable, so increase the rendering DPI.\n",753],["T_WHITESPACE","\t\t\t",754],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","image",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","setResolution",754],"(",["T_WHITESPACE"," ",754],["T_LNUMBER","128",754],",",["T_WHITESPACE"," ",754],["T_LNUMBER","128",754],["T_WHITESPACE"," ",754],")",";",["T_WHITESPACE","\n\n\t\t\t",754],["T_COMMENT","\/\/ Only load the first page.\n",756],["T_WHITESPACE","\t\t\t",757],["T_RETURN","return",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","file",757],["T_WHITESPACE"," ",757],".",["T_WHITESPACE"," ",757],["T_CONSTANT_ENCAPSED_STRING","'[0]'",757],";",["T_WHITESPACE","\n\t\t",757],"}",["T_WHITESPACE","\n\t\t",758],["T_CATCH","catch",759],["T_WHITESPACE"," ",759],"(",["T_WHITESPACE"," ",759],["T_STRING","Exception",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$e",759],["T_WHITESPACE"," ",759],")",["T_WHITESPACE"," ",759],"{",["T_WHITESPACE","\n\t\t\t",759],["T_RETURN","return",760],["T_WHITESPACE"," ",760],["T_NEW","new",760],["T_WHITESPACE"," ",760],["T_STRING","WP_Error",760],"(",["T_WHITESPACE"," ",760],["T_CONSTANT_ENCAPSED_STRING","'pdf_setup_failed'",760],",",["T_WHITESPACE"," ",760],["T_VARIABLE","$e",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","getMessage",760],"(",")",",",["T_WHITESPACE"," ",760],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","file",760],["T_WHITESPACE"," ",760],")",";",["T_WHITESPACE","\n\t\t",760],"}",["T_WHITESPACE","\n\t",761],"}",["T_WHITESPACE","\n\n",762],"}",["T_WHITESPACE","\n",764]]