[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Upgrader API: Automatic_Upgrader_Skin class\n *\n * @package WordPress\n * @subpackage Upgrader\n * @since 4.6.0\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Upgrader Skin for Automatic WordPress Upgrades\n *\n * This skin is designed to be used when no output is intended, all output\n * is captured and stored for the caller to process and log\/email\/discard.\n *\n * @since 3.7.0\n * @since 4.6.0 Moved to its own file from wp-admin\/includes\/class-wp-upgrader-skins.php.\n *\n * @see Bulk_Upgrader_Skin\n *\/",10],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Automatic_Upgrader_Skin",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","WP_Upgrader_Skin",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\t",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$messages",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",")",";",["T_WHITESPACE","\n\n\t",22],["T_DOC_COMMENT","\/**\n\t * Determines whether the upgrader needs FTP\/SSH details in order to connect\n\t * to the filesystem.\n\t *\n\t * @since 3.7.0\n\t * @since 4.6.0 The `$context` parameter default changed from `false` to an empty string.\n\t *\n\t * @see request_filesystem_credentials()\n\t *\n\t * @param bool   $error                        Optional. Whether the current request has failed to connect.\n\t *                                             Default false.\n\t * @param string $context                      Optional. Full path to the directory that is tested\n\t *                                             for being writable. Default empty.\n\t * @param bool   $allow_relaxed_file_ownership Optional. Whether to allow Group\/World writable. Default false.\n\t * @return bool True on success, false on failure.\n\t *\/",24],["T_WHITESPACE","\n\t",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","request_filesystem_credentials",40],"(",["T_WHITESPACE"," ",40],["T_VARIABLE","$error",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","false",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$context",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","''",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$allow_relaxed_file_ownership",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","false",40],["T_WHITESPACE"," ",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\t\t",40],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_WHITESPACE"," ",41],["T_VARIABLE","$context",41],["T_WHITESPACE"," ",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n\t\t\t",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","options",42],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",42],"]",["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$context",42],";",["T_WHITESPACE","\n\t\t",42],"}",["T_WHITESPACE","\n\t\t",43],["T_COMMENT","\/\/ TODO: fix up request_filesystem_credentials(), or split it, to allow us to request a no-output version\n",44],["T_WHITESPACE","\t\t",45],["T_COMMENT","\/\/ This will output a credentials form in event of failure, We don't want that, so just hide with a buffer\n",45],["T_WHITESPACE","\t\t",46],["T_STRING","ob_start",46],"(",")",";",["T_WHITESPACE","\n\t\t",46],["T_VARIABLE","$result",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","parent",47],["T_DOUBLE_COLON","::",47],["T_STRING","request_filesystem_credentials",47],"(",["T_WHITESPACE"," ",47],["T_VARIABLE","$error",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$context",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$allow_relaxed_file_ownership",47],["T_WHITESPACE"," ",47],")",";",["T_WHITESPACE","\n\t\t",47],["T_STRING","ob_end_clean",48],"(",")",";",["T_WHITESPACE","\n\t\t",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$result",49],";",["T_WHITESPACE","\n\t",49],"}",["T_WHITESPACE","\n\n\t",50],["T_DOC_COMMENT","\/**\n\t * @access public\n\t *\n\t * @return array\n\t *\/",52],["T_WHITESPACE","\n\t",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","get_upgrade_messages",57],"(",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n\t\t",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","messages",58],";",["T_WHITESPACE","\n\t",58],"}",["T_WHITESPACE","\n\n\t",59],["T_DOC_COMMENT","\/**\n\t * @param string|array|WP_Error $data\n\t *\/",61],["T_WHITESPACE","\n\t",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","feedback",64],"(",["T_WHITESPACE"," ",64],["T_VARIABLE","$data",64],["T_WHITESPACE"," ",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_WHITESPACE"," ",65],["T_STRING","is_wp_error",65],"(",["T_WHITESPACE"," ",65],["T_VARIABLE","$data",65],["T_WHITESPACE"," ",65],")",["T_WHITESPACE"," ",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n\t\t\t",65],["T_VARIABLE","$string",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$data",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","get_error_message",66],"(",")",";",["T_WHITESPACE","\n\t\t",66],"}",["T_WHITESPACE"," ",67],["T_ELSEIF","elseif",67],["T_WHITESPACE"," ",67],"(",["T_WHITESPACE"," ",67],["T_STRING","is_array",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$data",67],["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t\t",67],["T_RETURN","return",68],";",["T_WHITESPACE","\n\t\t",68],"}",["T_WHITESPACE"," ",69],["T_ELSE","else",69],["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n\t\t\t",69],["T_VARIABLE","$string",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$data",70],";",["T_WHITESPACE","\n\t\t",70],"}",["T_WHITESPACE","\n\t\t",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_WHITESPACE"," ",72],"!",["T_WHITESPACE"," ",72],["T_EMPTY","empty",72],"(",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","upgrader",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","strings",72],"[",["T_WHITESPACE"," ",72],["T_VARIABLE","$string",72],["T_WHITESPACE"," ",72],"]",["T_WHITESPACE"," ",72],")",["T_WHITESPACE"," ",72],")",["T_WHITESPACE","\n\t\t\t",72],["T_VARIABLE","$string",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","upgrader",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","strings",73],"[",["T_WHITESPACE"," ",73],["T_VARIABLE","$string",73],["T_WHITESPACE"," ",73],"]",";",["T_WHITESPACE","\n\n\t\t",73],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_WHITESPACE"," ",75],["T_STRING","strpos",75],"(",["T_WHITESPACE"," ",75],["T_VARIABLE","$string",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'%'",75],["T_WHITESPACE"," ",75],")",["T_WHITESPACE"," ",75],["T_IS_NOT_IDENTICAL","!==",75],["T_WHITESPACE"," ",75],["T_STRING","false",75],["T_WHITESPACE"," ",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n\t\t\t",75],["T_VARIABLE","$args",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","func_get_args",76],"(",")",";",["T_WHITESPACE","\n\t\t\t",76],["T_VARIABLE","$args",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","array_splice",77],"(",["T_WHITESPACE"," ",77],["T_VARIABLE","$args",77],",",["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],["T_WHITESPACE"," ",77],")",";",["T_WHITESPACE","\n\t\t\t",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_WHITESPACE"," ",78],"!",["T_WHITESPACE"," ",78],["T_EMPTY","empty",78],"(",["T_WHITESPACE"," ",78],["T_VARIABLE","$args",78],["T_WHITESPACE"," ",78],")",["T_WHITESPACE"," ",78],")",["T_WHITESPACE","\n\t\t\t\t",78],["T_VARIABLE","$string",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","vsprintf",79],"(",["T_WHITESPACE"," ",79],["T_VARIABLE","$string",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$args",79],["T_WHITESPACE"," ",79],")",";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE","\n\n\t\t",80],["T_VARIABLE","$string",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","trim",82],"(",["T_WHITESPACE"," ",82],["T_VARIABLE","$string",82],["T_WHITESPACE"," ",82],")",";",["T_WHITESPACE","\n\n\t\t",82],["T_COMMENT","\/\/ Only allow basic HTML in the messages, as it'll be used in emails\/logs rather than direct browser output.\n",84],["T_WHITESPACE","\t\t",85],["T_VARIABLE","$string",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","wp_kses",85],"(",["T_WHITESPACE"," ",85],["T_VARIABLE","$string",85],",",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_WHITESPACE","\n\t\t\t",85],["T_CONSTANT_ENCAPSED_STRING","'a'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n\t\t\t\t",86],["T_CONSTANT_ENCAPSED_STRING","'href'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","true",87],["T_WHITESPACE","\n\t\t\t",87],")",",",["T_WHITESPACE","\n\t\t\t",88],["T_CONSTANT_ENCAPSED_STRING","'br'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_STRING","true",89],",",["T_WHITESPACE","\n\t\t\t",89],["T_CONSTANT_ENCAPSED_STRING","'em'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","true",90],",",["T_WHITESPACE","\n\t\t\t",90],["T_CONSTANT_ENCAPSED_STRING","'strong'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","true",91],",",["T_WHITESPACE","\n\t\t",91],")",["T_WHITESPACE"," ",92],")",";",["T_WHITESPACE","\n\n\t\t",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_WHITESPACE"," ",94],["T_EMPTY","empty",94],"(",["T_WHITESPACE"," ",94],["T_VARIABLE","$string",94],["T_WHITESPACE"," ",94],")",["T_WHITESPACE"," ",94],")",["T_WHITESPACE","\n\t\t\t",94],["T_RETURN","return",95],";",["T_WHITESPACE","\n\n\t\t",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","messages",97],"[","]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$string",97],";",["T_WHITESPACE","\n\t",97],"}",["T_WHITESPACE","\n\n\t",98],["T_DOC_COMMENT","\/**\n\t * @access public\n\t *\/",100],["T_WHITESPACE","\n\t",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","header",103],"(",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t",103],["T_STRING","ob_start",104],"(",")",";",["T_WHITESPACE","\n\t",104],"}",["T_WHITESPACE","\n\n\t",105],["T_DOC_COMMENT","\/**\n\t * @access public\n\t *\/",107],["T_WHITESPACE","\n\t",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","footer",110],"(",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\t\t",110],["T_VARIABLE","$output",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","ob_get_clean",111],"(",")",";",["T_WHITESPACE","\n\t\t",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_WHITESPACE"," ",112],"!",["T_WHITESPACE"," ",112],["T_EMPTY","empty",112],"(",["T_WHITESPACE"," ",112],["T_VARIABLE","$output",112],["T_WHITESPACE"," ",112],")",["T_WHITESPACE"," ",112],")",["T_WHITESPACE","\n\t\t\t",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","feedback",113],"(",["T_WHITESPACE"," ",113],["T_VARIABLE","$output",113],["T_WHITESPACE"," ",113],")",";",["T_WHITESPACE","\n\t",113],"}",["T_WHITESPACE","\n",114],"}",["T_WHITESPACE","\n",115]]