[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * PemFTP - A Ftp implementation in pure PHP\n *\n * @package PemFTP\n * @since 2.5.0\n *\n * @version 1.0\n * @copyright Alexey Dotsenko\n * @author Alexey Dotsenko\n * @link http:\/\/www.phpclasses.org\/browse\/package\/1743.html Site\n * @license LGPL http:\/\/www.opensource.org\/licenses\/lgpl-license.html\n *\/",2],["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Socket Based FTP implementation\n *\n * @package PemFTP\n * @subpackage Socket\n * @since 2.5.0\n *\n * @version 1.0\n * @copyright Alexey Dotsenko\n * @author Alexey Dotsenko\n * @link http:\/\/www.phpclasses.org\/browse\/package\/1743.html Site\n * @license LGPL http:\/\/www.opensource.org\/licenses\/lgpl-license.html\n *\/",15],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","ftp_sockets",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","ftp_base",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\n\t",28],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",["T_VARIABLE","$verb",30],"=",["T_STRING","FALSE",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$le",30],"=",["T_STRING","FALSE",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","__construct",31],"(",["T_STRING","true",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$verb",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$le",31],")",";",["T_WHITESPACE","\n\t",31],"}",["T_WHITESPACE","\n\n",32],["T_COMMENT","\/\/ <!-- --------------------------------------------------------------------------------------- -->\n",34],["T_COMMENT","\/\/ <!--       Private functions                                                                 -->\n",35],["T_COMMENT","\/\/ <!-- --------------------------------------------------------------------------------------- -->\n",36],["T_WHITESPACE","\n\t",37],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","_settimeout",38],"(",["T_VARIABLE","$sock",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t",38],["T_IF","if",39],"(","!","@",["T_STRING","socket_set_option",39],"(",["T_VARIABLE","$sock",39],",",["T_WHITESPACE"," ",39],["T_STRING","SOL_SOCKET",39],",",["T_WHITESPACE"," ",39],["T_STRING","SO_RCVTIMEO",39],",",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","\"sec\"",39],["T_DOUBLE_ARROW","=>",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_timeout",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"usec\"",39],["T_DOUBLE_ARROW","=>",39],["T_LNUMBER","0",39],")",")",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n\t\t\t",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","PushError",40],"(",["T_CONSTANT_ENCAPSED_STRING","'_connect'",40],",",["T_CONSTANT_ENCAPSED_STRING","'socket set receive timeout'",40],",",["T_STRING","socket_strerror",40],"(",["T_STRING","socket_last_error",40],"(",["T_VARIABLE","$sock",40],")",")",")",";",["T_WHITESPACE","\n\t\t\t",40],"@",["T_STRING","socket_close",41],"(",["T_VARIABLE","$sock",41],")",";",["T_WHITESPACE","\n\t\t\t",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_STRING","FALSE",42],";",["T_WHITESPACE","\n\t\t",42],"}",["T_WHITESPACE","\n\t\t",43],["T_IF","if",44],"(","!","@",["T_STRING","socket_set_option",44],"(",["T_VARIABLE","$sock",44],",",["T_WHITESPACE"," ",44],["T_STRING","SOL_SOCKET",44],["T_WHITESPACE"," ",44],",",["T_WHITESPACE"," ",44],["T_STRING","SO_SNDTIMEO",44],",",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","\"sec\"",44],["T_DOUBLE_ARROW","=>",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_timeout",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"usec\"",44],["T_DOUBLE_ARROW","=>",44],["T_LNUMBER","0",44],")",")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\t\t\t",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","PushError",45],"(",["T_CONSTANT_ENCAPSED_STRING","'_connect'",45],",",["T_CONSTANT_ENCAPSED_STRING","'socket set send timeout'",45],",",["T_STRING","socket_strerror",45],"(",["T_STRING","socket_last_error",45],"(",["T_VARIABLE","$sock",45],")",")",")",";",["T_WHITESPACE","\n\t\t\t",45],"@",["T_STRING","socket_close",46],"(",["T_VARIABLE","$sock",46],")",";",["T_WHITESPACE","\n\t\t\t",46],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_STRING","FALSE",47],";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\t\t",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_STRING","true",49],";",["T_WHITESPACE","\n\t",49],"}",["T_WHITESPACE","\n\n\t",50],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","_connect",52],"(",["T_VARIABLE","$host",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$port",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","SendMSG",53],"(",["T_CONSTANT_ENCAPSED_STRING","\"Creating socket\"",53],")",";",["T_WHITESPACE","\n\t\t",53],["T_IF","if",54],"(","!","(",["T_VARIABLE","$sock",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],"@",["T_STRING","socket_create",54],"(",["T_STRING","AF_INET",54],",",["T_WHITESPACE"," ",54],["T_STRING","SOCK_STREAM",54],",",["T_WHITESPACE"," ",54],["T_STRING","SOL_TCP",54],")",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","PushError",55],"(",["T_CONSTANT_ENCAPSED_STRING","'_connect'",55],",",["T_CONSTANT_ENCAPSED_STRING","'socket create failed'",55],",",["T_STRING","socket_strerror",55],"(",["T_STRING","socket_last_error",55],"(",["T_VARIABLE","$sock",55],")",")",")",";",["T_WHITESPACE","\n\t\t\t",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_STRING","FALSE",56],";",["T_WHITESPACE","\n\t\t",56],"}",["T_WHITESPACE","\n\t\t",57],["T_IF","if",58],"(","!",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_settimeout",58],"(",["T_VARIABLE","$sock",58],")",")",["T_WHITESPACE"," ",58],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_STRING","FALSE",58],";",["T_WHITESPACE","\n\t\t",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","SendMSG",59],"(",["T_CONSTANT_ENCAPSED_STRING","\"Connecting to \\\"\"",59],".",["T_VARIABLE","$host",59],".",["T_CONSTANT_ENCAPSED_STRING","\":\"",59],".",["T_VARIABLE","$port",59],".",["T_CONSTANT_ENCAPSED_STRING","\"\\\"\"",59],")",";",["T_WHITESPACE","\n\t\t",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!","(",["T_VARIABLE","$res",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"@",["T_STRING","socket_connect",60],"(",["T_VARIABLE","$sock",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$host",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$port",60],")",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t\t",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","PushError",61],"(",["T_CONSTANT_ENCAPSED_STRING","'_connect'",61],",",["T_CONSTANT_ENCAPSED_STRING","'socket connect failed'",61],",",["T_STRING","socket_strerror",61],"(",["T_STRING","socket_last_error",61],"(",["T_VARIABLE","$sock",61],")",")",")",";",["T_WHITESPACE","\n\t\t\t",61],"@",["T_STRING","socket_close",62],"(",["T_VARIABLE","$sock",62],")",";",["T_WHITESPACE","\n\t\t\t",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_STRING","FALSE",63],";",["T_WHITESPACE","\n\t\t",63],"}",["T_WHITESPACE","\n\t\t",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_connected",65],"=",["T_STRING","true",65],";",["T_WHITESPACE","\n\t\t",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$sock",66],";",["T_WHITESPACE","\n\t",66],"}",["T_WHITESPACE","\n\n\t",67],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_readmsg",69],"(",["T_VARIABLE","$fnction",69],"=",["T_CONSTANT_ENCAPSED_STRING","\"_readmsg\"",69],")","{",["T_WHITESPACE","\n\t\t",69],["T_IF","if",70],"(","!",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_connected",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","PushError",71],"(",["T_VARIABLE","$fnction",71],",",["T_CONSTANT_ENCAPSED_STRING","'Connect first'",71],")",";",["T_WHITESPACE","\n\t\t\t",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_STRING","FALSE",72],";",["T_WHITESPACE","\n\t\t",72],"}",["T_WHITESPACE","\n\t\t",73],["T_VARIABLE","$result",74],"=",["T_STRING","true",74],";",["T_WHITESPACE","\n\t\t",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_message",75],"=",["T_CONSTANT_ENCAPSED_STRING","\"\"",75],";",["T_WHITESPACE","\n\t\t",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_code",76],"=",["T_LNUMBER","0",76],";",["T_WHITESPACE","\n\t\t",76],["T_VARIABLE","$go",77],"=",["T_STRING","true",77],";",["T_WHITESPACE","\n\t\t",77],["T_DO","do",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_VARIABLE","$tmp",79],"=","@",["T_STRING","socket_read",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_ftp_control_sock",79],",",["T_WHITESPACE"," ",79],["T_LNUMBER","4096",79],",",["T_WHITESPACE"," ",79],["T_STRING","PHP_BINARY_READ",79],")",";",["T_WHITESPACE","\n\t\t\t",79],["T_IF","if",80],"(",["T_VARIABLE","$tmp",80],["T_IS_IDENTICAL","===",80],["T_STRING","false",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t\t\t",80],["T_VARIABLE","$go",81],"=",["T_VARIABLE","$result",81],"=",["T_STRING","false",81],";",["T_WHITESPACE","\n\t\t\t\t",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","PushError",82],"(",["T_VARIABLE","$fnction",82],",",["T_CONSTANT_ENCAPSED_STRING","'Read failed'",82],",",["T_WHITESPACE"," ",82],["T_STRING","socket_strerror",82],"(",["T_STRING","socket_last_error",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_ftp_control_sock",82],")",")",")",";",["T_WHITESPACE","\n\t\t\t",82],"}",["T_WHITESPACE"," ",83],["T_ELSE","else",83],["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t\t",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_message",84],["T_CONCAT_EQUAL",".=",84],["T_VARIABLE","$tmp",84],";",["T_WHITESPACE","\n\t\t\t\t",84],["T_VARIABLE","$go",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"!",["T_STRING","preg_match",85],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^([0-9]{3})(-.+\\\\1)? [^\"",85],".",["T_STRING","CRLF",85],".",["T_CONSTANT_ENCAPSED_STRING","\"]+\"",85],".",["T_STRING","CRLF",85],".",["T_CONSTANT_ENCAPSED_STRING","\"$\/Us\"",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_message",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$regs",85],")",";",["T_WHITESPACE","\n\t\t\t",85],"}",["T_WHITESPACE","\n\t\t",86],"}",["T_WHITESPACE"," ",87],["T_WHILE","while",87],"(",["T_VARIABLE","$go",87],")",";",["T_WHITESPACE","\n\t\t",87],["T_IF","if",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","LocalEcho",88],")",["T_WHITESPACE"," ",88],["T_ECHO","echo",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"GET < \"",88],".",["T_STRING","rtrim",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_message",88],",",["T_WHITESPACE"," ",88],["T_STRING","CRLF",88],")",".",["T_STRING","CRLF",88],";",["T_WHITESPACE","\n\t\t",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_code",89],"=",["T_INT_CAST","(int)",89],["T_VARIABLE","$regs",89],"[",["T_LNUMBER","1",89],"]",";",["T_WHITESPACE","\n\t\t",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$result",90],";",["T_WHITESPACE","\n\t",90],"}",["T_WHITESPACE","\n\n\t",91],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","_exec",93],"(",["T_VARIABLE","$cmd",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$fnction",93],"=",["T_CONSTANT_ENCAPSED_STRING","\"_exec\"",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n\t\t",93],["T_IF","if",94],"(","!",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_ready",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n\t\t\t",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","PushError",95],"(",["T_VARIABLE","$fnction",95],",",["T_CONSTANT_ENCAPSED_STRING","'Connect first'",95],")",";",["T_WHITESPACE","\n\t\t\t",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","FALSE",96],";",["T_WHITESPACE","\n\t\t",96],"}",["T_WHITESPACE","\n\t\t",97],["T_IF","if",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","LocalEcho",98],")",["T_WHITESPACE"," ",98],["T_ECHO","echo",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","\"PUT > \"",98],",",["T_VARIABLE","$cmd",98],",",["T_STRING","CRLF",98],";",["T_WHITESPACE","\n\t\t",98],["T_VARIABLE","$status",99],"=","@",["T_STRING","socket_write",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_ftp_control_sock",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$cmd",99],".",["T_STRING","CRLF",99],")",";",["T_WHITESPACE","\n\t\t",99],["T_IF","if",100],"(",["T_VARIABLE","$status",100],["T_IS_IDENTICAL","===",100],["T_STRING","false",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t\t",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","PushError",101],"(",["T_VARIABLE","$fnction",101],",",["T_CONSTANT_ENCAPSED_STRING","'socket write failed'",101],",",["T_WHITESPACE"," ",101],["T_STRING","socket_strerror",101],"(",["T_STRING","socket_last_error",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","stream",101],")",")",")",";",["T_WHITESPACE","\n\t\t\t",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_STRING","FALSE",102],";",["T_WHITESPACE","\n\t\t",102],"}",["T_WHITESPACE","\n\t\t",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_lastaction",104],"=",["T_STRING","time",104],"(",")",";",["T_WHITESPACE","\n\t\t",104],["T_IF","if",105],"(","!",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_readmsg",105],"(",["T_VARIABLE","$fnction",105],")",")",["T_WHITESPACE"," ",105],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_STRING","FALSE",105],";",["T_WHITESPACE","\n\t\t",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_STRING","TRUE",106],";",["T_WHITESPACE","\n\t",106],"}",["T_WHITESPACE","\n\n\t",107],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","_data_prepare",109],"(",["T_VARIABLE","$mode",109],"=",["T_STRING","FTP_ASCII",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n\t\t",109],["T_IF","if",110],"(","!",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_settype",110],"(",["T_VARIABLE","$mode",110],")",")",["T_WHITESPACE"," ",110],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","FALSE",110],";",["T_WHITESPACE","\n\t\t",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","SendMSG",111],"(",["T_CONSTANT_ENCAPSED_STRING","\"Creating data socket\"",111],")",";",["T_WHITESPACE","\n\t\t",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_ftp_data_sock",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"@",["T_STRING","socket_create",112],"(",["T_STRING","AF_INET",112],",",["T_WHITESPACE"," ",112],["T_STRING","SOCK_STREAM",112],",",["T_WHITESPACE"," ",112],["T_STRING","SOL_TCP",112],")",";",["T_WHITESPACE","\n\t\t",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_ftp_data_sock",113],["T_WHITESPACE"," ",113],"<",["T_WHITESPACE"," ",113],["T_LNUMBER","0",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n\t\t\t",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","PushError",114],"(",["T_CONSTANT_ENCAPSED_STRING","'_data_prepare'",114],",",["T_CONSTANT_ENCAPSED_STRING","'socket create failed'",114],",",["T_STRING","socket_strerror",114],"(",["T_STRING","socket_last_error",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_ftp_data_sock",114],")",")",")",";",["T_WHITESPACE","\n\t\t\t",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","FALSE",115],";",["T_WHITESPACE","\n\t\t",115],"}",["T_WHITESPACE","\n\t\t",116],["T_IF","if",117],"(","!",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_settimeout",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_ftp_data_sock",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n\t\t\t",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_data_close",118],"(",")",";",["T_WHITESPACE","\n\t\t\t",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_STRING","FALSE",119],";",["T_WHITESPACE","\n\t\t",119],"}",["T_WHITESPACE","\n\t\t",120],["T_IF","if",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_passive",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n\t\t\t",121],["T_IF","if",122],"(","!",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_exec",122],"(",["T_CONSTANT_ENCAPSED_STRING","\"PASV\"",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"pasv\"",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n\t\t\t\t",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_data_close",123],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_STRING","FALSE",124],";",["T_WHITESPACE","\n\t\t\t",124],"}",["T_WHITESPACE","\n\t\t\t",125],["T_IF","if",126],"(","!",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_checkCode",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n\t\t\t\t",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_data_close",127],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_STRING","FALSE",128],";",["T_WHITESPACE","\n\t\t\t",128],"}",["T_WHITESPACE","\n\t\t\t",129],["T_VARIABLE","$ip_port",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","explode",130],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",130],",",["T_WHITESPACE"," ",130],["T_STRING","preg_replace",130],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^.+ \\\\(?([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]+,[0-9]+)\\\\)?.*$\/s\"",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\"\\\\1\"",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_message",130],")",")",";",["T_WHITESPACE","\n\t\t\t",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_datahost",131],"=",["T_VARIABLE","$ip_port",131],"[",["T_LNUMBER","0",131],"]",".",["T_CONSTANT_ENCAPSED_STRING","\".\"",131],".",["T_VARIABLE","$ip_port",131],"[",["T_LNUMBER","1",131],"]",".",["T_CONSTANT_ENCAPSED_STRING","\".\"",131],".",["T_VARIABLE","$ip_port",131],"[",["T_LNUMBER","2",131],"]",".",["T_CONSTANT_ENCAPSED_STRING","\".\"",131],".",["T_VARIABLE","$ip_port",131],"[",["T_LNUMBER","3",131],"]",";",["T_WHITESPACE","\n\t\t\t",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_dataport",132],"=","(","(",["T_INT_CAST","(int)",132],["T_VARIABLE","$ip_port",132],"[",["T_LNUMBER","4",132],"]",")",["T_SL","<<",132],["T_LNUMBER","8",132],")",["T_WHITESPACE"," ",132],"+",["T_WHITESPACE"," ",132],"(",["T_INT_CAST","(int)",132],["T_VARIABLE","$ip_port",132],"[",["T_LNUMBER","5",132],"]",")",";",["T_WHITESPACE","\n\t\t\t",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","SendMSG",133],"(",["T_CONSTANT_ENCAPSED_STRING","\"Connecting to \"",133],".",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_datahost",133],".",["T_CONSTANT_ENCAPSED_STRING","\":\"",133],".",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_dataport",133],")",";",["T_WHITESPACE","\n\t\t\t",133],["T_IF","if",134],"(","!","@",["T_STRING","socket_connect",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_ftp_data_sock",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_datahost",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_dataport",134],")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n\t\t\t\t",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","PushError",135],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_prepare\"",135],",",["T_CONSTANT_ENCAPSED_STRING","\"socket_connect\"",135],",",["T_WHITESPACE"," ",135],["T_STRING","socket_strerror",135],"(",["T_STRING","socket_last_error",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_ftp_data_sock",135],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_data_close",136],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_STRING","FALSE",137],";",["T_WHITESPACE","\n\t\t\t",137],"}",["T_WHITESPACE","\n\t\t\t",138],["T_ELSE","else",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_ftp_temp_sock",139],"=",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_ftp_data_sock",139],";",["T_WHITESPACE","\n\t\t",139],"}",["T_WHITESPACE"," ",140],["T_ELSE","else",140],["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n\t\t\t",140],["T_IF","if",141],"(","!","@",["T_STRING","socket_getsockname",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_ftp_control_sock",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$addr",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$port",141],")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n\t\t\t\t",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","PushError",142],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_prepare\"",142],",",["T_CONSTANT_ENCAPSED_STRING","\"can't get control socket information\"",142],",",["T_WHITESPACE"," ",142],["T_STRING","socket_strerror",142],"(",["T_STRING","socket_last_error",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_ftp_control_sock",142],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_data_close",143],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","FALSE",144],";",["T_WHITESPACE","\n\t\t\t",144],"}",["T_WHITESPACE","\n\t\t\t",145],["T_IF","if",146],"(","!","@",["T_STRING","socket_bind",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_ftp_data_sock",146],",",["T_VARIABLE","$addr",146],")",")","{",["T_WHITESPACE","\n\t\t\t\t",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","PushError",147],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_prepare\"",147],",",["T_CONSTANT_ENCAPSED_STRING","\"can't bind data socket\"",147],",",["T_WHITESPACE"," ",147],["T_STRING","socket_strerror",147],"(",["T_STRING","socket_last_error",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_ftp_data_sock",147],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_data_close",148],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_STRING","FALSE",149],";",["T_WHITESPACE","\n\t\t\t",149],"}",["T_WHITESPACE","\n\t\t\t",150],["T_IF","if",151],"(","!","@",["T_STRING","socket_listen",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_ftp_data_sock",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t\t\t",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","PushError",152],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_prepare\"",152],",",["T_CONSTANT_ENCAPSED_STRING","\"can't listen data socket\"",152],",",["T_WHITESPACE"," ",152],["T_STRING","socket_strerror",152],"(",["T_STRING","socket_last_error",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_ftp_data_sock",152],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_data_close",153],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_STRING","FALSE",154],";",["T_WHITESPACE","\n\t\t\t",154],"}",["T_WHITESPACE","\n\t\t\t",155],["T_IF","if",156],"(","!","@",["T_STRING","socket_getsockname",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_ftp_data_sock",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_datahost",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_dataport",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n\t\t\t\t",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","PushError",157],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_prepare\"",157],",",["T_CONSTANT_ENCAPSED_STRING","\"can't get data socket information\"",157],",",["T_WHITESPACE"," ",157],["T_STRING","socket_strerror",157],"(",["T_STRING","socket_last_error",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_ftp_data_sock",157],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_data_close",158],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_STRING","FALSE",159],";",["T_WHITESPACE","\n\t\t\t",159],"}",["T_WHITESPACE","\n\t\t\t",160],["T_IF","if",161],"(","!",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_exec",161],"(",["T_CONSTANT_ENCAPSED_STRING","'PORT '",161],".",["T_STRING","str_replace",161],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",161],",",["T_CONSTANT_ENCAPSED_STRING","','",161],",",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_datahost",161],".",["T_CONSTANT_ENCAPSED_STRING","'.'",161],".","(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_dataport",161],["T_SR",">>",161],["T_LNUMBER","8",161],")",".",["T_CONSTANT_ENCAPSED_STRING","'.'",161],".","(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_dataport",161],"&",["T_LNUMBER","0x00FF",161],")",")",",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","\"_port\"",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n\t\t\t\t",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_data_close",162],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","FALSE",163],";",["T_WHITESPACE","\n\t\t\t",163],"}",["T_WHITESPACE","\n\t\t\t",164],["T_IF","if",165],"(","!",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_checkCode",165],"(",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n\t\t\t\t",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_data_close",166],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_STRING","FALSE",167],";",["T_WHITESPACE","\n\t\t\t",167],"}",["T_WHITESPACE","\n\t\t",168],"}",["T_WHITESPACE","\n\t\t",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","TRUE",170],";",["T_WHITESPACE","\n\t",170],"}",["T_WHITESPACE","\n\n\t",171],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","_data_read",173],"(",["T_VARIABLE","$mode",173],"=",["T_STRING","FTP_ASCII",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$fp",173],"=",["T_STRING","NULL",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n\t\t",173],["T_VARIABLE","$NewLine",174],"=",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_eol_code",174],"[",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","OS_local",174],"]",";",["T_WHITESPACE","\n\t\t",174],["T_IF","if",175],"(",["T_STRING","is_resource",175],"(",["T_VARIABLE","$fp",175],")",")",["T_WHITESPACE"," ",175],["T_VARIABLE","$out",175],"=",["T_LNUMBER","0",175],";",["T_WHITESPACE","\n\t\t",175],["T_ELSE","else",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$out",176],"=",["T_CONSTANT_ENCAPSED_STRING","\"\"",176],";",["T_WHITESPACE","\n\t\t",176],["T_IF","if",177],"(","!",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_passive",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n\t\t\t",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","SendMSG",178],"(",["T_CONSTANT_ENCAPSED_STRING","\"Connecting to \"",178],".",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_datahost",178],".",["T_CONSTANT_ENCAPSED_STRING","\":\"",178],".",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_dataport",178],")",";",["T_WHITESPACE","\n\t\t\t",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_ftp_temp_sock",179],"=",["T_STRING","socket_accept",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_ftp_data_sock",179],")",";",["T_WHITESPACE","\n\t\t\t",179],["T_IF","if",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_ftp_temp_sock",180],["T_IS_IDENTICAL","===",180],["T_STRING","FALSE",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t\t",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","PushError",181],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_read\"",181],",",["T_CONSTANT_ENCAPSED_STRING","\"socket_accept\"",181],",",["T_WHITESPACE"," ",181],["T_STRING","socket_strerror",181],"(",["T_STRING","socket_last_error",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_ftp_temp_sock",181],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_data_close",182],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_STRING","FALSE",183],";",["T_WHITESPACE","\n\t\t\t",183],"}",["T_WHITESPACE","\n\t\t",184],"}",["T_WHITESPACE","\n\n\t\t",185],["T_WHILE","while",187],"(","(",["T_VARIABLE","$block",187],"=","@",["T_STRING","socket_read",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_ftp_temp_sock",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_ftp_buff_size",187],",",["T_WHITESPACE"," ",187],["T_STRING","PHP_BINARY_READ",187],")",")",["T_IS_NOT_IDENTICAL","!==",187],["T_STRING","false",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n\t\t\t",187],["T_IF","if",188],"(",["T_VARIABLE","$block",188],["T_IS_IDENTICAL","===",188],["T_CONSTANT_ENCAPSED_STRING","\"\"",188],")",["T_WHITESPACE"," ",188],["T_BREAK","break",188],";",["T_WHITESPACE","\n\t\t\t",188],["T_IF","if",189],"(",["T_VARIABLE","$mode",189],["T_IS_NOT_EQUAL","!=",189],["T_STRING","FTP_BINARY",189],")",["T_WHITESPACE"," ",189],["T_VARIABLE","$block",189],"=",["T_STRING","preg_replace",189],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\\r\\n|\\r|\\n\/\"",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_eol_code",189],"[",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","OS_local",189],"]",",",["T_WHITESPACE"," ",189],["T_VARIABLE","$block",189],")",";",["T_WHITESPACE","\n\t\t\t",189],["T_IF","if",190],"(",["T_STRING","is_resource",190],"(",["T_VARIABLE","$fp",190],")",")",["T_WHITESPACE"," ",190],["T_VARIABLE","$out",190],["T_PLUS_EQUAL","+=",190],["T_STRING","fwrite",190],"(",["T_VARIABLE","$fp",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$block",190],",",["T_WHITESPACE"," ",190],["T_STRING","strlen",190],"(",["T_VARIABLE","$block",190],")",")",";",["T_WHITESPACE","\n\t\t\t",190],["T_ELSE","else",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$out",191],["T_CONCAT_EQUAL",".=",191],["T_VARIABLE","$block",191],";",["T_WHITESPACE","\n\t\t",191],"}",["T_WHITESPACE","\n\t\t",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$out",193],";",["T_WHITESPACE","\n\t",193],"}",["T_WHITESPACE","\n\n\t",194],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","_data_write",196],"(",["T_VARIABLE","$mode",196],"=",["T_STRING","FTP_ASCII",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$fp",196],"=",["T_STRING","NULL",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n\t\t",196],["T_VARIABLE","$NewLine",197],"=",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_eol_code",197],"[",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","OS_local",197],"]",";",["T_WHITESPACE","\n\t\t",197],["T_IF","if",198],"(",["T_STRING","is_resource",198],"(",["T_VARIABLE","$fp",198],")",")",["T_WHITESPACE"," ",198],["T_VARIABLE","$out",198],"=",["T_LNUMBER","0",198],";",["T_WHITESPACE","\n\t\t",198],["T_ELSE","else",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$out",199],"=",["T_CONSTANT_ENCAPSED_STRING","\"\"",199],";",["T_WHITESPACE","\n\t\t",199],["T_IF","if",200],"(","!",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_passive",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n\t\t\t",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","SendMSG",201],"(",["T_CONSTANT_ENCAPSED_STRING","\"Connecting to \"",201],".",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_datahost",201],".",["T_CONSTANT_ENCAPSED_STRING","\":\"",201],".",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_dataport",201],")",";",["T_WHITESPACE","\n\t\t\t",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_ftp_temp_sock",202],"=",["T_STRING","socket_accept",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_ftp_data_sock",202],")",";",["T_WHITESPACE","\n\t\t\t",202],["T_IF","if",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_ftp_temp_sock",203],["T_IS_IDENTICAL","===",203],["T_STRING","FALSE",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n\t\t\t\t",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","PushError",204],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_write\"",204],",",["T_CONSTANT_ENCAPSED_STRING","\"socket_accept\"",204],",",["T_WHITESPACE"," ",204],["T_STRING","socket_strerror",204],"(",["T_STRING","socket_last_error",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_ftp_temp_sock",204],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_data_close",205],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_STRING","false",206],";",["T_WHITESPACE","\n\t\t\t",206],"}",["T_WHITESPACE","\n\t\t",207],"}",["T_WHITESPACE","\n\t\t",208],["T_IF","if",209],"(",["T_STRING","is_resource",209],"(",["T_VARIABLE","$fp",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t",209],["T_WHILE","while",210],"(","!",["T_STRING","feof",210],"(",["T_VARIABLE","$fp",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n\t\t\t\t",210],["T_VARIABLE","$block",211],"=",["T_STRING","fread",211],"(",["T_VARIABLE","$fp",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_ftp_buff_size",211],")",";",["T_WHITESPACE","\n\t\t\t\t",211],["T_IF","if",212],"(","!",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_data_write_block",212],"(",["T_VARIABLE","$mode",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$block",212],")",")",["T_WHITESPACE"," ",212],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_STRING","false",212],";",["T_WHITESPACE","\n\t\t\t",212],"}",["T_WHITESPACE","\n\t\t",213],"}",["T_WHITESPACE"," ",214],["T_ELSEIF","elseif",214],"(","!",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_data_write_block",214],"(",["T_VARIABLE","$mode",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$fp",214],")",")",["T_WHITESPACE"," ",214],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_STRING","false",214],";",["T_WHITESPACE","\n\t\t",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_STRING","true",215],";",["T_WHITESPACE","\n\t",215],"}",["T_WHITESPACE","\n\n\t",216],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","_data_write_block",218],"(",["T_VARIABLE","$mode",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$block",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n\t\t",218],["T_IF","if",219],"(",["T_VARIABLE","$mode",219],["T_IS_NOT_EQUAL","!=",219],["T_STRING","FTP_BINARY",219],")",["T_WHITESPACE"," ",219],["T_VARIABLE","$block",219],"=",["T_STRING","preg_replace",219],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\\r\\n|\\r|\\n\/\"",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_eol_code",219],"[",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","OS_remote",219],"]",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$block",219],")",";",["T_WHITESPACE","\n\t\t",219],["T_DO","do",220],["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n\t\t\t",220],["T_IF","if",221],"(","(",["T_VARIABLE","$t",221],"=","@",["T_STRING","socket_write",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_ftp_temp_sock",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$block",221],")",")",["T_IS_IDENTICAL","===",221],["T_STRING","FALSE",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t\t\t",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","PushError",222],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_write\"",222],",",["T_CONSTANT_ENCAPSED_STRING","\"socket_write\"",222],",",["T_WHITESPACE"," ",222],["T_STRING","socket_strerror",222],"(",["T_STRING","socket_last_error",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_ftp_temp_sock",222],")",")",")",";",["T_WHITESPACE","\n\t\t\t\t",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_data_close",223],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_STRING","FALSE",224],";",["T_WHITESPACE","\n\t\t\t",224],"}",["T_WHITESPACE","\n\t\t\t",225],["T_VARIABLE","$block",226],"=",["T_STRING","substr",226],"(",["T_VARIABLE","$block",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$t",226],")",";",["T_WHITESPACE","\n\t\t",226],"}",["T_WHITESPACE"," ",227],["T_WHILE","while",227],"(","!",["T_EMPTY","empty",227],"(",["T_VARIABLE","$block",227],")",")",";",["T_WHITESPACE","\n\t\t",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_STRING","true",228],";",["T_WHITESPACE","\n\t",228],"}",["T_WHITESPACE","\n\n\t",229],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","_data_close",231],"(",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n\t\t",231],"@",["T_STRING","socket_close",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_ftp_temp_sock",232],")",";",["T_WHITESPACE","\n\t\t",232],"@",["T_STRING","socket_close",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_ftp_data_sock",233],")",";",["T_WHITESPACE","\n\t\t",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","SendMSG",234],"(",["T_CONSTANT_ENCAPSED_STRING","\"Disconnected data from remote host\"",234],")",";",["T_WHITESPACE","\n\t\t",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_STRING","TRUE",235],";",["T_WHITESPACE","\n\t",235],"}",["T_WHITESPACE","\n\n\t",236],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","_quit",238],"(",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n\t\t",238],["T_IF","if",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_connected",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n\t\t\t",239],"@",["T_STRING","socket_close",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_ftp_control_sock",240],")",";",["T_WHITESPACE","\n\t\t\t",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_connected",241],"=",["T_STRING","false",241],";",["T_WHITESPACE","\n\t\t\t",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","SendMSG",242],"(",["T_CONSTANT_ENCAPSED_STRING","\"Socket closed\"",242],")",";",["T_WHITESPACE","\n\t\t",242],"}",["T_WHITESPACE","\n\t",243],"}",["T_WHITESPACE","\n",244],"}",["T_WHITESPACE","\n",245],["T_CLOSE_TAG","?>\n",246]]