[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * PemFTP - A Ftp implementation in pure PHP\n *\n * @package PemFTP\n * @since 2.5.0\n *\n * @version 1.0\n * @copyright Alexey Dotsenko\n * @author Alexey Dotsenko\n * @link http:\/\/www.phpclasses.org\/browse\/package\/1743.html Site\n * @license LGPL http:\/\/www.opensource.org\/licenses\/lgpl-license.html\n *\/",2],["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * FTP implementation using fsockopen to connect.\n *\n * @package PemFTP\n * @subpackage Pure\n * @since 2.5.0\n *\n * @version 1.0\n * @copyright Alexey Dotsenko\n * @author Alexey Dotsenko\n * @link http:\/\/www.phpclasses.org\/browse\/package\/1743.html Site\n * @license LGPL http:\/\/www.opensource.org\/licenses\/lgpl-license.html\n *\/",15],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","ftp_pure",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","ftp_base",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\n\t",28],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",["T_VARIABLE","$verb",30],"=",["T_STRING","FALSE",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$le",30],"=",["T_STRING","FALSE",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","__construct",31],"(",["T_STRING","false",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$verb",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$le",31],")",";",["T_WHITESPACE","\n\t",31],"}",["T_WHITESPACE","\n\n",32],["T_COMMENT","\/\/ <!-- --------------------------------------------------------------------------------------- -->\n",34],["T_COMMENT","\/\/ <!--       Private functions                                                                 -->\n",35],["T_COMMENT","\/\/ <!-- --------------------------------------------------------------------------------------- -->\n",36],["T_WHITESPACE","\n\t",37],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","_settimeout",38],"(",["T_VARIABLE","$sock",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t",38],["T_IF","if",39],"(","!","@",["T_STRING","stream_set_timeout",39],"(",["T_VARIABLE","$sock",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_timeout",39],")",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n\t\t\t",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","PushError",40],"(",["T_CONSTANT_ENCAPSED_STRING","'_settimeout'",40],",",["T_CONSTANT_ENCAPSED_STRING","'socket set send timeout'",40],")",";",["T_WHITESPACE","\n\t\t\t",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_quit",41],"(",")",";",["T_WHITESPACE","\n\t\t\t",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_STRING","FALSE",42],";",["T_WHITESPACE","\n\t\t",42],"}",["T_WHITESPACE","\n\t\t",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_STRING","TRUE",44],";",["T_WHITESPACE","\n\t",44],"}",["T_WHITESPACE","\n\n\t",45],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","_connect",47],"(",["T_VARIABLE","$host",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$port",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n\t\t",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","SendMSG",48],"(",["T_CONSTANT_ENCAPSED_STRING","\"Creating socket\"",48],")",";",["T_WHITESPACE","\n\t\t",48],["T_VARIABLE","$sock",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"@",["T_STRING","fsockopen",49],"(",["T_VARIABLE","$host",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$port",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$errno",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$errstr",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_timeout",49],")",";",["T_WHITESPACE","\n\t\t",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","!",["T_VARIABLE","$sock",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n\t\t\t",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","PushError",51],"(",["T_CONSTANT_ENCAPSED_STRING","'_connect'",51],",",["T_CONSTANT_ENCAPSED_STRING","'socket connect failed'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$errstr",51],".",["T_CONSTANT_ENCAPSED_STRING","\" (\"",51],".",["T_VARIABLE","$errno",51],".",["T_CONSTANT_ENCAPSED_STRING","\")\"",51],")",";",["T_WHITESPACE","\n\t\t\t",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_STRING","FALSE",52],";",["T_WHITESPACE","\n\t\t",52],"}",["T_WHITESPACE","\n\t\t",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_connected",54],"=",["T_STRING","true",54],";",["T_WHITESPACE","\n\t\t",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$sock",55],";",["T_WHITESPACE","\n\t",55],"}",["T_WHITESPACE","\n\n\t",56],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","_readmsg",58],"(",["T_VARIABLE","$fnction",58],"=",["T_CONSTANT_ENCAPSED_STRING","\"_readmsg\"",58],")","{",["T_WHITESPACE","\n\t\t",58],["T_IF","if",59],"(","!",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_connected",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t\t",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","PushError",60],"(",["T_VARIABLE","$fnction",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Connect first'",60],")",";",["T_WHITESPACE","\n\t\t\t",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_STRING","FALSE",61],";",["T_WHITESPACE","\n\t\t",61],"}",["T_WHITESPACE","\n\t\t",62],["T_VARIABLE","$result",63],"=",["T_STRING","true",63],";",["T_WHITESPACE","\n\t\t",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_message",64],"=",["T_CONSTANT_ENCAPSED_STRING","\"\"",64],";",["T_WHITESPACE","\n\t\t",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_code",65],"=",["T_LNUMBER","0",65],";",["T_WHITESPACE","\n\t\t",65],["T_VARIABLE","$go",66],"=",["T_STRING","true",66],";",["T_WHITESPACE","\n\t\t",66],["T_DO","do",67],["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t\t",67],["T_VARIABLE","$tmp",68],"=","@",["T_STRING","fgets",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_ftp_control_sock",68],",",["T_WHITESPACE"," ",68],["T_LNUMBER","512",68],")",";",["T_WHITESPACE","\n\t\t\t",68],["T_IF","if",69],"(",["T_VARIABLE","$tmp",69],["T_IS_IDENTICAL","===",69],["T_STRING","false",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n\t\t\t\t",69],["T_VARIABLE","$go",70],"=",["T_VARIABLE","$result",70],"=",["T_STRING","false",70],";",["T_WHITESPACE","\n\t\t\t\t",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","PushError",71],"(",["T_VARIABLE","$fnction",71],",",["T_CONSTANT_ENCAPSED_STRING","'Read failed'",71],")",";",["T_WHITESPACE","\n\t\t\t",71],"}",["T_WHITESPACE"," ",72],["T_ELSE","else",72],["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n\t\t\t\t",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_message",73],["T_CONCAT_EQUAL",".=",73],["T_VARIABLE","$tmp",73],";",["T_WHITESPACE","\n\t\t\t\t",73],["T_IF","if",74],"(",["T_STRING","preg_match",74],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^([0-9]{3})(-(.*[\"",74],".",["T_STRING","CRLF",74],".",["T_CONSTANT_ENCAPSED_STRING","\"]{1,2})+\\\\1)? [^\"",74],".",["T_STRING","CRLF",74],".",["T_CONSTANT_ENCAPSED_STRING","\"]+[\"",74],".",["T_STRING","CRLF",74],".",["T_CONSTANT_ENCAPSED_STRING","\"]{1,2}$\/\"",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_message",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$regs",74],")",")",["T_WHITESPACE"," ",74],["T_VARIABLE","$go",74],"=",["T_STRING","false",74],";",["T_WHITESPACE","\n\t\t\t",74],"}",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE"," ",76],["T_WHILE","while",76],"(",["T_VARIABLE","$go",76],")",";",["T_WHITESPACE","\n\t\t",76],["T_IF","if",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","LocalEcho",77],")",["T_WHITESPACE"," ",77],["T_ECHO","echo",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"GET < \"",77],".",["T_STRING","rtrim",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_message",77],",",["T_WHITESPACE"," ",77],["T_STRING","CRLF",77],")",".",["T_STRING","CRLF",77],";",["T_WHITESPACE","\n\t\t",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_code",78],"=",["T_INT_CAST","(int)",78],["T_VARIABLE","$regs",78],"[",["T_LNUMBER","1",78],"]",";",["T_WHITESPACE","\n\t\t",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$result",79],";",["T_WHITESPACE","\n\t",79],"}",["T_WHITESPACE","\n\n\t",80],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","_exec",82],"(",["T_VARIABLE","$cmd",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$fnction",82],"=",["T_CONSTANT_ENCAPSED_STRING","\"_exec\"",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n\t\t",82],["T_IF","if",83],"(","!",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_ready",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","PushError",84],"(",["T_VARIABLE","$fnction",84],",",["T_CONSTANT_ENCAPSED_STRING","'Connect first'",84],")",";",["T_WHITESPACE","\n\t\t\t",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_STRING","FALSE",85],";",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\t\t",86],["T_IF","if",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","LocalEcho",87],")",["T_WHITESPACE"," ",87],["T_ECHO","echo",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"PUT > \"",87],",",["T_VARIABLE","$cmd",87],",",["T_STRING","CRLF",87],";",["T_WHITESPACE","\n\t\t",87],["T_VARIABLE","$status",88],"=","@",["T_STRING","fputs",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_ftp_control_sock",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$cmd",88],".",["T_STRING","CRLF",88],")",";",["T_WHITESPACE","\n\t\t",88],["T_IF","if",89],"(",["T_VARIABLE","$status",89],["T_IS_IDENTICAL","===",89],["T_STRING","false",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n\t\t\t",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","PushError",90],"(",["T_VARIABLE","$fnction",90],",",["T_CONSTANT_ENCAPSED_STRING","'socket write failed'",90],")",";",["T_WHITESPACE","\n\t\t\t",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_STRING","FALSE",91],";",["T_WHITESPACE","\n\t\t",91],"}",["T_WHITESPACE","\n\t\t",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_lastaction",93],"=",["T_STRING","time",93],"(",")",";",["T_WHITESPACE","\n\t\t",93],["T_IF","if",94],"(","!",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_readmsg",94],"(",["T_VARIABLE","$fnction",94],")",")",["T_WHITESPACE"," ",94],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","FALSE",94],";",["T_WHITESPACE","\n\t\t",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_STRING","TRUE",95],";",["T_WHITESPACE","\n\t",95],"}",["T_WHITESPACE","\n\n\t",96],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_data_prepare",98],"(",["T_VARIABLE","$mode",98],"=",["T_STRING","FTP_ASCII",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n\t\t",98],["T_IF","if",99],"(","!",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_settype",99],"(",["T_VARIABLE","$mode",99],")",")",["T_WHITESPACE"," ",99],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","FALSE",99],";",["T_WHITESPACE","\n\t\t",99],["T_IF","if",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_passive",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t\t",100],["T_IF","if",101],"(","!",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_exec",101],"(",["T_CONSTANT_ENCAPSED_STRING","\"PASV\"",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\"pasv\"",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n\t\t\t\t",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_data_close",102],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","FALSE",103],";",["T_WHITESPACE","\n\t\t\t",103],"}",["T_WHITESPACE","\n\t\t\t",104],["T_IF","if",105],"(","!",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_checkCode",105],"(",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t\t",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_data_close",106],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_STRING","FALSE",107],";",["T_WHITESPACE","\n\t\t\t",107],"}",["T_WHITESPACE","\n\t\t\t",108],["T_VARIABLE","$ip_port",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","explode",109],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",109],",",["T_WHITESPACE"," ",109],["T_STRING","preg_replace",109],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^.+ \\\\(?([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]+,[0-9]+)\\\\)?.*$\/s\"",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"\\\\1\"",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_message",109],")",")",";",["T_WHITESPACE","\n\t\t\t",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_datahost",110],"=",["T_VARIABLE","$ip_port",110],"[",["T_LNUMBER","0",110],"]",".",["T_CONSTANT_ENCAPSED_STRING","\".\"",110],".",["T_VARIABLE","$ip_port",110],"[",["T_LNUMBER","1",110],"]",".",["T_CONSTANT_ENCAPSED_STRING","\".\"",110],".",["T_VARIABLE","$ip_port",110],"[",["T_LNUMBER","2",110],"]",".",["T_CONSTANT_ENCAPSED_STRING","\".\"",110],".",["T_VARIABLE","$ip_port",110],"[",["T_LNUMBER","3",110],"]",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_dataport",111],"=","(","(",["T_INT_CAST","(int)",111],["T_VARIABLE","$ip_port",111],"[",["T_LNUMBER","4",111],"]",")",["T_SL","<<",111],["T_LNUMBER","8",111],")",["T_WHITESPACE"," ",111],"+",["T_WHITESPACE"," ",111],"(",["T_INT_CAST","(int)",111],["T_VARIABLE","$ip_port",111],"[",["T_LNUMBER","5",111],"]",")",";",["T_WHITESPACE","\n\t\t\t",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","SendMSG",112],"(",["T_CONSTANT_ENCAPSED_STRING","\"Connecting to \"",112],".",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_datahost",112],".",["T_CONSTANT_ENCAPSED_STRING","\":\"",112],".",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_dataport",112],")",";",["T_WHITESPACE","\n\t\t\t",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_ftp_data_sock",113],"=","@",["T_STRING","fsockopen",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_datahost",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_dataport",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$errno",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$errstr",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_timeout",113],")",";",["T_WHITESPACE","\n\t\t\t",113],["T_IF","if",114],"(","!",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_ftp_data_sock",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n\t\t\t\t",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","PushError",115],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_prepare\"",115],",",["T_CONSTANT_ENCAPSED_STRING","\"fsockopen fails\"",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$errstr",115],".",["T_CONSTANT_ENCAPSED_STRING","\" (\"",115],".",["T_VARIABLE","$errno",115],".",["T_CONSTANT_ENCAPSED_STRING","\")\"",115],")",";",["T_WHITESPACE","\n\t\t\t\t",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_data_close",116],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],";",["T_WHITESPACE","\n\t\t\t",117],"}",["T_WHITESPACE","\n\t\t\t",118],["T_ELSE","else",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_ftp_data_sock",119],";",["T_WHITESPACE","\n\t\t",119],"}",["T_WHITESPACE"," ",120],["T_ELSE","else",120],["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n\t\t\t",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","SendMSG",121],"(",["T_CONSTANT_ENCAPSED_STRING","\"Only passive connections available!\"",121],")",";",["T_WHITESPACE","\n\t\t\t",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","FALSE",122],";",["T_WHITESPACE","\n\t\t",122],"}",["T_WHITESPACE","\n\t\t",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_STRING","TRUE",124],";",["T_WHITESPACE","\n\t",124],"}",["T_WHITESPACE","\n\n\t",125],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","_data_read",127],"(",["T_VARIABLE","$mode",127],"=",["T_STRING","FTP_ASCII",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$fp",127],"=",["T_STRING","NULL",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n\t\t",127],["T_IF","if",128],"(",["T_STRING","is_resource",128],"(",["T_VARIABLE","$fp",128],")",")",["T_WHITESPACE"," ",128],["T_VARIABLE","$out",128],"=",["T_LNUMBER","0",128],";",["T_WHITESPACE","\n\t\t",128],["T_ELSE","else",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$out",129],"=",["T_CONSTANT_ENCAPSED_STRING","\"\"",129],";",["T_WHITESPACE","\n\t\t",129],["T_IF","if",130],"(","!",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_passive",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t\t\t",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","SendMSG",131],"(",["T_CONSTANT_ENCAPSED_STRING","\"Only passive connections available!\"",131],")",";",["T_WHITESPACE","\n\t\t\t",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_STRING","FALSE",132],";",["T_WHITESPACE","\n\t\t",132],"}",["T_WHITESPACE","\n\t\t",133],["T_WHILE","while",134],["T_WHITESPACE"," ",134],"(","!",["T_STRING","feof",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_ftp_data_sock",134],")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n\t\t\t",134],["T_VARIABLE","$block",135],"=",["T_STRING","fread",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_ftp_data_sock",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_ftp_buff_size",135],")",";",["T_WHITESPACE","\n\t\t\t",135],["T_IF","if",136],"(",["T_VARIABLE","$mode",136],["T_IS_NOT_EQUAL","!=",136],["T_STRING","FTP_BINARY",136],")",["T_WHITESPACE"," ",136],["T_VARIABLE","$block",136],"=",["T_STRING","preg_replace",136],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\\r\\n|\\r|\\n\/\"",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_eol_code",136],"[",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","OS_local",136],"]",",",["T_WHITESPACE"," ",136],["T_VARIABLE","$block",136],")",";",["T_WHITESPACE","\n\t\t\t",136],["T_IF","if",137],"(",["T_STRING","is_resource",137],"(",["T_VARIABLE","$fp",137],")",")",["T_WHITESPACE"," ",137],["T_VARIABLE","$out",137],["T_PLUS_EQUAL","+=",137],["T_STRING","fwrite",137],"(",["T_VARIABLE","$fp",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$block",137],",",["T_WHITESPACE"," ",137],["T_STRING","strlen",137],"(",["T_VARIABLE","$block",137],")",")",";",["T_WHITESPACE","\n\t\t\t",137],["T_ELSE","else",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$out",138],["T_CONCAT_EQUAL",".=",138],["T_VARIABLE","$block",138],";",["T_WHITESPACE","\n\t\t",138],"}",["T_WHITESPACE","\n\t\t",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$out",140],";",["T_WHITESPACE","\n\t",140],"}",["T_WHITESPACE","\n\n\t",141],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","_data_write",143],"(",["T_VARIABLE","$mode",143],"=",["T_STRING","FTP_ASCII",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$fp",143],"=",["T_STRING","NULL",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n\t\t",143],["T_IF","if",144],"(",["T_STRING","is_resource",144],"(",["T_VARIABLE","$fp",144],")",")",["T_WHITESPACE"," ",144],["T_VARIABLE","$out",144],"=",["T_LNUMBER","0",144],";",["T_WHITESPACE","\n\t\t",144],["T_ELSE","else",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$out",145],"=",["T_CONSTANT_ENCAPSED_STRING","\"\"",145],";",["T_WHITESPACE","\n\t\t",145],["T_IF","if",146],"(","!",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_passive",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n\t\t\t",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","SendMSG",147],"(",["T_CONSTANT_ENCAPSED_STRING","\"Only passive connections available!\"",147],")",";",["T_WHITESPACE","\n\t\t\t",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_STRING","FALSE",148],";",["T_WHITESPACE","\n\t\t",148],"}",["T_WHITESPACE","\n\t\t",149],["T_IF","if",150],"(",["T_STRING","is_resource",150],"(",["T_VARIABLE","$fp",150],")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n\t\t\t",150],["T_WHILE","while",151],"(","!",["T_STRING","feof",151],"(",["T_VARIABLE","$fp",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t\t\t",151],["T_VARIABLE","$block",152],"=",["T_STRING","fread",152],"(",["T_VARIABLE","$fp",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_ftp_buff_size",152],")",";",["T_WHITESPACE","\n\t\t\t\t",152],["T_IF","if",153],"(","!",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_data_write_block",153],"(",["T_VARIABLE","$mode",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$block",153],")",")",["T_WHITESPACE"," ",153],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_STRING","false",153],";",["T_WHITESPACE","\n\t\t\t",153],"}",["T_WHITESPACE","\n\t\t",154],"}",["T_WHITESPACE"," ",155],["T_ELSEIF","elseif",155],"(","!",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_data_write_block",155],"(",["T_VARIABLE","$mode",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$fp",155],")",")",["T_WHITESPACE"," ",155],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_STRING","false",155],";",["T_WHITESPACE","\n\t\t",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_STRING","TRUE",156],";",["T_WHITESPACE","\n\t",156],"}",["T_WHITESPACE","\n\n\t",157],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","_data_write_block",159],"(",["T_VARIABLE","$mode",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$block",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t",159],["T_IF","if",160],"(",["T_VARIABLE","$mode",160],["T_IS_NOT_EQUAL","!=",160],["T_STRING","FTP_BINARY",160],")",["T_WHITESPACE"," ",160],["T_VARIABLE","$block",160],"=",["T_STRING","preg_replace",160],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\\r\\n|\\r|\\n\/\"",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_eol_code",160],"[",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","OS_remote",160],"]",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$block",160],")",";",["T_WHITESPACE","\n\t\t",160],["T_DO","do",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n\t\t\t",161],["T_IF","if",162],"(","(",["T_VARIABLE","$t",162],"=","@",["T_STRING","fwrite",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_ftp_data_sock",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$block",162],")",")",["T_IS_IDENTICAL","===",162],["T_STRING","FALSE",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n\t\t\t\t",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","PushError",163],"(",["T_CONSTANT_ENCAPSED_STRING","\"_data_write\"",163],",",["T_CONSTANT_ENCAPSED_STRING","\"Can't write to socket\"",163],")",";",["T_WHITESPACE","\n\t\t\t\t",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_STRING","FALSE",164],";",["T_WHITESPACE","\n\t\t\t",164],"}",["T_WHITESPACE","\n\t\t\t",165],["T_VARIABLE","$block",166],"=",["T_STRING","substr",166],"(",["T_VARIABLE","$block",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$t",166],")",";",["T_WHITESPACE","\n\t\t",166],"}",["T_WHITESPACE"," ",167],["T_WHILE","while",167],"(","!",["T_EMPTY","empty",167],"(",["T_VARIABLE","$block",167],")",")",";",["T_WHITESPACE","\n\t\t",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_STRING","true",168],";",["T_WHITESPACE","\n\t",168],"}",["T_WHITESPACE","\n\n\t",169],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","_data_close",171],"(",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t",171],"@",["T_STRING","fclose",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_ftp_data_sock",172],")",";",["T_WHITESPACE","\n\t\t",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","SendMSG",173],"(",["T_CONSTANT_ENCAPSED_STRING","\"Disconnected data from remote host\"",173],")",";",["T_WHITESPACE","\n\t\t",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_STRING","TRUE",174],";",["T_WHITESPACE","\n\t",174],"}",["T_WHITESPACE","\n\n\t",175],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","_quit",177],"(",["T_VARIABLE","$force",177],"=",["T_STRING","FALSE",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n\t\t",177],["T_IF","if",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_connected",178],["T_WHITESPACE"," ",178],["T_LOGICAL_OR","or",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$force",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n\t\t\t",178],"@",["T_STRING","fclose",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_ftp_control_sock",179],")",";",["T_WHITESPACE","\n\t\t\t",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_connected",180],"=",["T_STRING","false",180],";",["T_WHITESPACE","\n\t\t\t",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","SendMSG",181],"(",["T_CONSTANT_ENCAPSED_STRING","\"Socket closed\"",181],")",";",["T_WHITESPACE","\n\t\t",181],"}",["T_WHITESPACE","\n\t",182],"}",["T_WHITESPACE","\n",183],"}",["T_WHITESPACE","\n\n",184],["T_CLOSE_TAG","?>\n",186]]