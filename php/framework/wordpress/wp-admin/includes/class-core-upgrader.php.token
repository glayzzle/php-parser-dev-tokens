[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Upgrade API: Core_Upgrader class\n *\n * @package WordPress\n * @subpackage Upgrader\n * @since 4.6.0\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Core class used for updating core.\n *\n * It allows for WordPress to upgrade itself in combination with\n * the wp-admin\/includes\/update-core.php file.\n *\n * @since 2.8.0\n * @since 4.6.0 Moved to its own file from wp-admin\/includes\/class-wp-upgrader.php.\n *\n * @see WP_Upgrader\n *\/",10],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Core_Upgrader",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","WP_Upgrader",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n\t",21],["T_DOC_COMMENT","\/**\n\t * Initialize the upgrade strings.\n\t *\n\t * @since 2.8.0\n\t * @access public\n\t *\/",23],["T_WHITESPACE","\n\t",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","upgrade_strings",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\t\t",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","strings",30],"[",["T_CONSTANT_ENCAPSED_STRING","'up_to_date'",30],"]",["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","__",30],"(",["T_CONSTANT_ENCAPSED_STRING","'WordPress is at the latest version.'",30],")",";",["T_WHITESPACE","\n\t\t",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","strings",31],"[",["T_CONSTANT_ENCAPSED_STRING","'locked'",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","__",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Another update is currently in progress.'",31],")",";",["T_WHITESPACE","\n\t\t",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","strings",32],"[",["T_CONSTANT_ENCAPSED_STRING","'no_package'",32],"]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","__",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Update package not available.'",32],")",";",["T_WHITESPACE","\n\t\t",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","strings",33],"[",["T_CONSTANT_ENCAPSED_STRING","'downloading_package'",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","__",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Downloading update from <span class=\"code\">%s<\/span>&#8230;'",33],")",";",["T_WHITESPACE","\n\t\t",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","strings",34],"[",["T_CONSTANT_ENCAPSED_STRING","'unpack_package'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","__",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Unpacking the update&#8230;'",34],")",";",["T_WHITESPACE","\n\t\t",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","strings",35],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_failed'",35],"]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","__",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not copy files.'",35],")",";",["T_WHITESPACE","\n\t\t",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","strings",36],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_failed_space'",36],"]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","__",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not copy files. You may have run out of disk space.'",36],["T_WHITESPACE"," ",36],")",";",["T_WHITESPACE","\n\t\t",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","strings",37],"[",["T_CONSTANT_ENCAPSED_STRING","'start_rollback'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","__",37],"(",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Attempting to roll back to previous version.'",37],["T_WHITESPACE"," ",37],")",";",["T_WHITESPACE","\n\t\t",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","strings",38],"[",["T_CONSTANT_ENCAPSED_STRING","'rollback_was_required'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","__",38],"(",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Due to an error during updating, WordPress has rolled back to your previous version.'",38],["T_WHITESPACE"," ",38],")",";",["T_WHITESPACE","\n\t",38],"}",["T_WHITESPACE","\n\n\t",39],["T_DOC_COMMENT","\/**\n\t * Upgrade WordPress core.\n\t *\n\t * @since 2.8.0\n\t * @access public\n\t *\n\t * @global WP_Filesystem_Base $wp_filesystem Subclass\n\t * @global callable           $_wp_filesystem_direct_method\n\t *\n\t * @param object $current Response object for whether WordPress is current.\n\t * @param array  $args {\n\t *        Optional. Arguments for upgrading WordPress core. Default empty array.\n\t *\n\t *        @type bool $pre_check_md5    Whether to check the file checksums before\n\t *                                     attempting the upgrade. Default true.\n\t *        @type bool $attempt_rollback Whether to attempt to rollback the chances if\n\t *                                     there is a problem. Default false.\n\t *        @type bool $do_rollback      Whether to perform this \"upgrade\" as a rollback.\n\t *                                     Default false.\n\t * }\n\t * @return null|false|WP_Error False or WP_Error on failure, null on success.\n\t *\/",41],["T_WHITESPACE","\n\t",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","upgrade",63],"(",["T_WHITESPACE"," ",63],["T_VARIABLE","$current",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$args",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n\t\t",63],["T_GLOBAL","global",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$wp_filesystem",64],";",["T_WHITESPACE","\n\n\t\t",64],["T_INCLUDE","include",66],"(",["T_WHITESPACE"," ",66],["T_STRING","ABSPATH",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","WPINC",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\/version.php'",66],["T_WHITESPACE"," ",66],")",";",["T_WHITESPACE"," ",66],["T_COMMENT","\/\/ $wp_version;\n",66],["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$start_time",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","time",68],"(",")",";",["T_WHITESPACE","\n\n\t\t",68],["T_VARIABLE","$defaults",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_WHITESPACE","\n\t\t\t",70],["T_CONSTANT_ENCAPSED_STRING","'pre_check_md5'",71],["T_WHITESPACE","    ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","true",71],",",["T_WHITESPACE","\n\t\t\t",71],["T_CONSTANT_ENCAPSED_STRING","'attempt_rollback'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","false",72],",",["T_WHITESPACE","\n\t\t\t",72],["T_CONSTANT_ENCAPSED_STRING","'do_rollback'",73],["T_WHITESPACE","      ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","false",73],",",["T_WHITESPACE","\n\t\t\t",73],["T_CONSTANT_ENCAPSED_STRING","'allow_relaxed_file_ownership'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_STRING","false",74],",",["T_WHITESPACE","\n\t\t",74],")",";",["T_WHITESPACE","\n\t\t",75],["T_VARIABLE","$parsed_args",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","wp_parse_args",76],"(",["T_WHITESPACE"," ",76],["T_VARIABLE","$args",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$defaults",76],["T_WHITESPACE"," ",76],")",";",["T_WHITESPACE","\n\n\t\t",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","init",78],"(",")",";",["T_WHITESPACE","\n\t\t",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","upgrade_strings",79],"(",")",";",["T_WHITESPACE","\n\n\t\t",79],["T_COMMENT","\/\/ Is an update available?\n",81],["T_WHITESPACE","\t\t",82],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_WHITESPACE"," ",82],"!",["T_ISSET","isset",82],"(",["T_WHITESPACE"," ",82],["T_VARIABLE","$current",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","response",82],["T_WHITESPACE"," ",82],")",["T_WHITESPACE"," ",82],["T_BOOLEAN_OR","||",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$current",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","response",82],["T_WHITESPACE"," ",82],["T_IS_EQUAL","==",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'latest'",82],["T_WHITESPACE"," ",82],")",["T_WHITESPACE","\n\t\t\t",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","WP_Error",83],"(",["T_CONSTANT_ENCAPSED_STRING","'up_to_date'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","strings",83],"[",["T_CONSTANT_ENCAPSED_STRING","'up_to_date'",83],"]",")",";",["T_WHITESPACE","\n\n\t\t",83],["T_VARIABLE","$res",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","fs_connect",85],"(",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_WHITESPACE"," ",85],["T_STRING","ABSPATH",85],",",["T_WHITESPACE"," ",85],["T_STRING","WP_CONTENT_DIR",85],["T_WHITESPACE"," ",85],")",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$parsed_args",85],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_relaxed_file_ownership'",85],"]",["T_WHITESPACE"," ",85],")",";",["T_WHITESPACE","\n\t\t",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_WHITESPACE"," ",86],"!",["T_WHITESPACE"," ",86],["T_VARIABLE","$res",86],["T_WHITESPACE"," ",86],["T_BOOLEAN_OR","||",86],["T_WHITESPACE"," ",86],["T_STRING","is_wp_error",86],"(",["T_WHITESPACE"," ",86],["T_VARIABLE","$res",86],["T_WHITESPACE"," ",86],")",["T_WHITESPACE"," ",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n\t\t\t",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$res",87],";",["T_WHITESPACE","\n\t\t",87],"}",["T_WHITESPACE","\n\n\t\t",88],["T_VARIABLE","$wp_dir",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","trailingslashit",90],"(",["T_VARIABLE","$wp_filesystem",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","abspath",90],"(",")",")",";",["T_WHITESPACE","\n\n\t\t",90],["T_VARIABLE","$partial",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","true",92],";",["T_WHITESPACE","\n\t\t",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_WHITESPACE"," ",93],["T_VARIABLE","$parsed_args",93],"[",["T_CONSTANT_ENCAPSED_STRING","'do_rollback'",93],"]",["T_WHITESPACE"," ",93],")",["T_WHITESPACE","\n\t\t\t",93],["T_VARIABLE","$partial",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","false",94],";",["T_WHITESPACE","\n\t\t",94],["T_ELSEIF","elseif",95],["T_WHITESPACE"," ",95],"(",["T_WHITESPACE"," ",95],["T_VARIABLE","$parsed_args",95],"[",["T_CONSTANT_ENCAPSED_STRING","'pre_check_md5'",95],"]",["T_WHITESPACE"," ",95],["T_BOOLEAN_AND","&&",95],["T_WHITESPACE"," ",95],"!",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","check_files",95],"(",")",["T_WHITESPACE"," ",95],")",["T_WHITESPACE","\n\t\t\t",95],["T_VARIABLE","$partial",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","false",96],";",["T_WHITESPACE","\n\n\t\t",96],["T_COMMENT","\/*\n\t\t * If partial update is returned from the API, use that, unless we're doing\n\t\t * a reinstall. If we cross the new_bundled version number, then use\n\t\t * the new_bundled zip. Don't though if the constant is set to skip bundled items.\n\t\t * If the API returns a no_content zip, go with it. Finally, default to the full zip.\n\t\t *\/",98],["T_WHITESPACE","\n\t\t",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_WHITESPACE"," ",104],["T_VARIABLE","$parsed_args",104],"[",["T_CONSTANT_ENCAPSED_STRING","'do_rollback'",104],"]",["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$current",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","packages",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","rollback",104],["T_WHITESPACE"," ",104],")",["T_WHITESPACE","\n\t\t\t",104],["T_VARIABLE","$to_download",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'rollback'",105],";",["T_WHITESPACE","\n\t\t",105],["T_ELSEIF","elseif",106],["T_WHITESPACE"," ",106],"(",["T_WHITESPACE"," ",106],["T_VARIABLE","$current",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","packages",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","partial",106],["T_WHITESPACE"," ",106],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'reinstall'",106],["T_WHITESPACE"," ",106],["T_IS_NOT_EQUAL","!=",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$current",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","response",106],["T_WHITESPACE"," ",106],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$wp_version",106],["T_WHITESPACE"," ",106],["T_IS_EQUAL","==",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$current",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","partial_version",106],["T_WHITESPACE"," ",106],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$partial",106],["T_WHITESPACE"," ",106],")",["T_WHITESPACE","\n\t\t\t",106],["T_VARIABLE","$to_download",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'partial'",107],";",["T_WHITESPACE","\n\t\t",107],["T_ELSEIF","elseif",108],["T_WHITESPACE"," ",108],"(",["T_WHITESPACE"," ",108],["T_VARIABLE","$current",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","packages",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","new_bundled",108],["T_WHITESPACE"," ",108],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_STRING","version_compare",108],"(",["T_WHITESPACE"," ",108],["T_VARIABLE","$wp_version",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$current",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","new_bundled",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'<'",108],["T_WHITESPACE"," ",108],")",["T_WHITESPACE","\n\t\t\t",108],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],"(",["T_WHITESPACE"," ",109],"!",["T_WHITESPACE"," ",109],["T_STRING","defined",109],"(",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'CORE_UPGRADE_SKIP_NEW_BUNDLED'",109],["T_WHITESPACE"," ",109],")",["T_WHITESPACE"," ",109],["T_BOOLEAN_OR","||",109],["T_WHITESPACE"," ",109],"!",["T_WHITESPACE"," ",109],["T_STRING","CORE_UPGRADE_SKIP_NEW_BUNDLED",109],["T_WHITESPACE"," ",109],")",["T_WHITESPACE"," ",109],")",["T_WHITESPACE","\n\t\t\t",109],["T_VARIABLE","$to_download",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'new_bundled'",110],";",["T_WHITESPACE","\n\t\t",110],["T_ELSEIF","elseif",111],["T_WHITESPACE"," ",111],"(",["T_WHITESPACE"," ",111],["T_VARIABLE","$current",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","packages",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","no_content",111],["T_WHITESPACE"," ",111],")",["T_WHITESPACE","\n\t\t\t",111],["T_VARIABLE","$to_download",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'no_content'",112],";",["T_WHITESPACE","\n\t\t",112],["T_ELSE","else",113],["T_WHITESPACE","\n\t\t\t",113],["T_VARIABLE","$to_download",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'full'",114],";",["T_WHITESPACE","\n\n\t\t",114],["T_COMMENT","\/\/ Lock to prevent multiple Core Updates occurring\n",116],["T_WHITESPACE","\t\t",117],["T_VARIABLE","$lock",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","WP_Upgrader",117],["T_DOUBLE_COLON","::",117],["T_STRING","create_lock",117],"(",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'core_updater'",117],",",["T_WHITESPACE"," ",117],["T_LNUMBER","15",117],["T_WHITESPACE"," ",117],"*",["T_WHITESPACE"," ",117],["T_STRING","MINUTE_IN_SECONDS",117],["T_WHITESPACE"," ",117],")",";",["T_WHITESPACE","\n\t\t",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_WHITESPACE"," ",118],"!",["T_WHITESPACE"," ",118],["T_VARIABLE","$lock",118],["T_WHITESPACE"," ",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n\t\t\t",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","WP_Error",119],"(",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'locked'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","strings",119],"[",["T_CONSTANT_ENCAPSED_STRING","'locked'",119],"]",["T_WHITESPACE"," ",119],")",";",["T_WHITESPACE","\n\t\t",119],"}",["T_WHITESPACE","\n\n\t\t",120],["T_VARIABLE","$download",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","download_package",122],"(",["T_WHITESPACE"," ",122],["T_VARIABLE","$current",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","packages",122],["T_OBJECT_OPERATOR","->",122],["T_VARIABLE","$to_download",122],["T_WHITESPACE"," ",122],")",";",["T_WHITESPACE","\n\t\t",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_WHITESPACE"," ",123],["T_STRING","is_wp_error",123],"(",["T_WHITESPACE"," ",123],["T_VARIABLE","$download",123],["T_WHITESPACE"," ",123],")",["T_WHITESPACE"," ",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n\t\t\t",123],["T_STRING","WP_Upgrader",124],["T_DOUBLE_COLON","::",124],["T_STRING","release_lock",124],"(",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'core_updater'",124],["T_WHITESPACE"," ",124],")",";",["T_WHITESPACE","\n\t\t\t",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$download",125],";",["T_WHITESPACE","\n\t\t",125],"}",["T_WHITESPACE","\n\n\t\t",126],["T_VARIABLE","$working_dir",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","unpack_package",128],"(",["T_WHITESPACE"," ",128],["T_VARIABLE","$download",128],["T_WHITESPACE"," ",128],")",";",["T_WHITESPACE","\n\t\t",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_WHITESPACE"," ",129],["T_STRING","is_wp_error",129],"(",["T_WHITESPACE"," ",129],["T_VARIABLE","$working_dir",129],["T_WHITESPACE"," ",129],")",["T_WHITESPACE"," ",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n\t\t\t",129],["T_STRING","WP_Upgrader",130],["T_DOUBLE_COLON","::",130],["T_STRING","release_lock",130],"(",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'core_updater'",130],["T_WHITESPACE"," ",130],")",";",["T_WHITESPACE","\n\t\t\t",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$working_dir",131],";",["T_WHITESPACE","\n\t\t",131],"}",["T_WHITESPACE","\n\n\t\t",132],["T_COMMENT","\/\/ Copy update-core.php from the new version into place.\n",134],["T_WHITESPACE","\t\t",135],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_WHITESPACE"," ",135],"!",["T_VARIABLE","$wp_filesystem",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","copy",135],"(",["T_VARIABLE","$working_dir",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'\/wordpress\/wp-admin\/includes\/update-core.php'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$wp_dir",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/update-core.php'",135],",",["T_WHITESPACE"," ",135],["T_STRING","true",135],")",["T_WHITESPACE"," ",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n\t\t\t",135],["T_VARIABLE","$wp_filesystem",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","delete",136],"(",["T_VARIABLE","$working_dir",136],",",["T_WHITESPACE"," ",136],["T_STRING","true",136],")",";",["T_WHITESPACE","\n\t\t\t",136],["T_STRING","WP_Upgrader",137],["T_DOUBLE_COLON","::",137],["T_STRING","release_lock",137],"(",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'core_updater'",137],["T_WHITESPACE"," ",137],")",";",["T_WHITESPACE","\n\t\t\t",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","WP_Error",138],"(",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'copy_failed_for_update_core_file'",138],",",["T_WHITESPACE"," ",138],["T_STRING","__",138],"(",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'The update cannot be installed because we will be unable to copy some files. This is usually due to inconsistent file permissions.'",138],["T_WHITESPACE"," ",138],")",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/update-core.php'",138],["T_WHITESPACE"," ",138],")",";",["T_WHITESPACE","\n\t\t",138],"}",["T_WHITESPACE","\n\t\t",139],["T_VARIABLE","$wp_filesystem",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","chmod",140],"(",["T_VARIABLE","$wp_dir",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/update-core.php'",140],",",["T_WHITESPACE"," ",140],["T_STRING","FS_CHMOD_FILE",140],")",";",["T_WHITESPACE","\n\n\t\t",140],["T_REQUIRE_ONCE","require_once",142],"(",["T_WHITESPACE"," ",142],["T_STRING","ABSPATH",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/update-core.php'",142],["T_WHITESPACE"," ",142],")",";",["T_WHITESPACE","\n\n\t\t",142],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_WHITESPACE"," ",144],"!",["T_WHITESPACE"," ",144],["T_STRING","function_exists",144],"(",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'update_core'",144],["T_WHITESPACE"," ",144],")",["T_WHITESPACE"," ",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n\t\t\t",144],["T_STRING","WP_Upgrader",145],["T_DOUBLE_COLON","::",145],["T_STRING","release_lock",145],"(",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'core_updater'",145],["T_WHITESPACE"," ",145],")",";",["T_WHITESPACE","\n\t\t\t",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_NEW","new",146],["T_WHITESPACE"," ",146],["T_STRING","WP_Error",146],"(",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'copy_failed_space'",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","strings",146],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_failed_space'",146],"]",["T_WHITESPACE"," ",146],")",";",["T_WHITESPACE","\n\t\t",146],"}",["T_WHITESPACE","\n\n\t\t",147],["T_VARIABLE","$result",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","update_core",149],"(",["T_WHITESPACE"," ",149],["T_VARIABLE","$working_dir",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$wp_dir",149],["T_WHITESPACE"," ",149],")",";",["T_WHITESPACE","\n\n\t\t",149],["T_COMMENT","\/\/ In the event of an issue, we may be able to roll back.\n",151],["T_WHITESPACE","\t\t",152],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_WHITESPACE"," ",152],["T_VARIABLE","$parsed_args",152],"[",["T_CONSTANT_ENCAPSED_STRING","'attempt_rollback'",152],"]",["T_WHITESPACE"," ",152],["T_BOOLEAN_AND","&&",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$current",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","packages",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","rollback",152],["T_WHITESPACE"," ",152],["T_BOOLEAN_AND","&&",152],["T_WHITESPACE"," ",152],"!",["T_WHITESPACE"," ",152],["T_VARIABLE","$parsed_args",152],"[",["T_CONSTANT_ENCAPSED_STRING","'do_rollback'",152],"]",["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t",152],["T_VARIABLE","$try_rollback",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","false",153],";",["T_WHITESPACE","\n\t\t\t",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_WHITESPACE"," ",154],["T_STRING","is_wp_error",154],"(",["T_WHITESPACE"," ",154],["T_VARIABLE","$result",154],["T_WHITESPACE"," ",154],")",["T_WHITESPACE"," ",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n\t\t\t\t",154],["T_VARIABLE","$error_code",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$result",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","get_error_code",155],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",155],["T_COMMENT","\/*\n\t\t\t\t * Not all errors are equal. These codes are critical: copy_failed__copy_dir,\n\t\t\t\t * mkdir_failed__copy_dir, copy_failed__copy_dir_retry, and disk_full.\n\t\t\t\t * do_rollback allows for update_core() to trigger a rollback if needed.\n\t\t\t\t *\/",156],["T_WHITESPACE","\n\t\t\t\t",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_WHITESPACE"," ",161],["T_STRING","false",161],["T_WHITESPACE"," ",161],["T_IS_NOT_IDENTICAL","!==",161],["T_WHITESPACE"," ",161],["T_STRING","strpos",161],"(",["T_WHITESPACE"," ",161],["T_VARIABLE","$error_code",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'do_rollback'",161],["T_WHITESPACE"," ",161],")",["T_WHITESPACE"," ",161],")",["T_WHITESPACE","\n\t\t\t\t\t",161],["T_VARIABLE","$try_rollback",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","true",162],";",["T_WHITESPACE","\n\t\t\t\t",162],["T_ELSEIF","elseif",163],["T_WHITESPACE"," ",163],"(",["T_WHITESPACE"," ",163],["T_STRING","false",163],["T_WHITESPACE"," ",163],["T_IS_NOT_IDENTICAL","!==",163],["T_WHITESPACE"," ",163],["T_STRING","strpos",163],"(",["T_WHITESPACE"," ",163],["T_VARIABLE","$error_code",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'__copy_dir'",163],["T_WHITESPACE"," ",163],")",["T_WHITESPACE"," ",163],")",["T_WHITESPACE","\n\t\t\t\t\t",163],["T_VARIABLE","$try_rollback",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","true",164],";",["T_WHITESPACE","\n\t\t\t\t",164],["T_ELSEIF","elseif",165],["T_WHITESPACE"," ",165],"(",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'disk_full'",165],["T_WHITESPACE"," ",165],["T_IS_IDENTICAL","===",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$error_code",165],["T_WHITESPACE"," ",165],")",["T_WHITESPACE","\n\t\t\t\t\t",165],["T_VARIABLE","$try_rollback",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","true",166],";",["T_WHITESPACE","\n\t\t\t",166],"}",["T_WHITESPACE","\n\n\t\t\t",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_WHITESPACE"," ",169],["T_VARIABLE","$try_rollback",169],["T_WHITESPACE"," ",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t\t",169],["T_DOC_COMMENT","\/** This filter is documented in wp-admin\/includes\/update-core.php *\/",170],["T_WHITESPACE","\n\t\t\t\t",170],["T_STRING","apply_filters",171],"(",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'update_feedback'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$result",171],["T_WHITESPACE"," ",171],")",";",["T_WHITESPACE","\n\n\t\t\t\t",171],["T_DOC_COMMENT","\/** This filter is documented in wp-admin\/includes\/update-core.php *\/",173],["T_WHITESPACE","\n\t\t\t\t",173],["T_STRING","apply_filters",174],"(",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'update_feedback'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","strings",174],"[",["T_CONSTANT_ENCAPSED_STRING","'start_rollback'",174],"]",["T_WHITESPACE"," ",174],")",";",["T_WHITESPACE","\n\n\t\t\t\t",174],["T_VARIABLE","$rollback_result",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","upgrade",176],"(",["T_WHITESPACE"," ",176],["T_VARIABLE","$current",176],",",["T_WHITESPACE"," ",176],["T_STRING","array_merge",176],"(",["T_WHITESPACE"," ",176],["T_VARIABLE","$parsed_args",176],",",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'do_rollback'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_STRING","true",176],["T_WHITESPACE"," ",176],")",["T_WHITESPACE"," ",176],")",["T_WHITESPACE"," ",176],")",";",["T_WHITESPACE","\n\n\t\t\t\t",176],["T_VARIABLE","$original_result",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$result",178],";",["T_WHITESPACE","\n\t\t\t\t",178],["T_VARIABLE","$result",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_STRING","WP_Error",179],"(",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'rollback_was_required'",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","strings",179],"[",["T_CONSTANT_ENCAPSED_STRING","'rollback_was_required'",179],"]",",",["T_WHITESPACE"," ",179],["T_OBJECT_CAST","(object)",179],["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'update'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$original_result",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'rollback'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$rollback_result",179],["T_WHITESPACE"," ",179],")",["T_WHITESPACE"," ",179],")",";",["T_WHITESPACE","\n\t\t\t",179],"}",["T_WHITESPACE","\n\t\t",180],"}",["T_WHITESPACE","\n\n\t\t",181],["T_DOC_COMMENT","\/** This action is documented in wp-admin\/includes\/class-wp-upgrader.php *\/",183],["T_WHITESPACE","\n\t\t",183],["T_STRING","do_action",184],"(",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'upgrader_process_complete'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],",",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'action'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'update'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'type'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'core'",184],["T_WHITESPACE"," ",184],")",["T_WHITESPACE"," ",184],")",";",["T_WHITESPACE","\n\n\t\t",184],["T_COMMENT","\/\/ Clear the current updates\n",186],["T_WHITESPACE","\t\t",187],["T_STRING","delete_site_transient",187],"(",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'update_core'",187],["T_WHITESPACE"," ",187],")",";",["T_WHITESPACE","\n\n\t\t",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_WHITESPACE"," ",189],"!",["T_WHITESPACE"," ",189],["T_VARIABLE","$parsed_args",189],"[",["T_CONSTANT_ENCAPSED_STRING","'do_rollback'",189],"]",["T_WHITESPACE"," ",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n\t\t\t",189],["T_VARIABLE","$stats",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_WHITESPACE","\n\t\t\t\t",190],["T_CONSTANT_ENCAPSED_STRING","'update_type'",191],["T_WHITESPACE","      ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$current",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","response",191],",",["T_WHITESPACE","\n\t\t\t\t",191],["T_CONSTANT_ENCAPSED_STRING","'success'",192],["T_WHITESPACE","          ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_STRING","true",192],",",["T_WHITESPACE","\n\t\t\t\t",192],["T_CONSTANT_ENCAPSED_STRING","'fs_method'",193],["T_WHITESPACE","        ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$wp_filesystem",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],",",["T_WHITESPACE","\n\t\t\t\t",193],["T_CONSTANT_ENCAPSED_STRING","'fs_method_forced'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_STRING","defined",194],"(",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'FS_METHOD'",194],["T_WHITESPACE"," ",194],")",["T_WHITESPACE"," ",194],["T_BOOLEAN_OR","||",194],["T_WHITESPACE"," ",194],["T_STRING","has_filter",194],"(",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'filesystem_method'",194],["T_WHITESPACE"," ",194],")",",",["T_WHITESPACE","\n\t\t\t\t",194],["T_CONSTANT_ENCAPSED_STRING","'fs_method_direct'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],"!",["T_EMPTY","empty",195],"(",["T_WHITESPACE"," ",195],["T_VARIABLE","$GLOBALS",195],"[",["T_CONSTANT_ENCAPSED_STRING","'_wp_filesystem_direct_method'",195],"]",["T_WHITESPACE"," ",195],")",["T_WHITESPACE"," ",195],"?",["T_WHITESPACE"," ",195],["T_VARIABLE","$GLOBALS",195],"[",["T_CONSTANT_ENCAPSED_STRING","'_wp_filesystem_direct_method'",195],"]",["T_WHITESPACE"," ",195],":",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","''",195],",",["T_WHITESPACE","\n\t\t\t\t",195],["T_CONSTANT_ENCAPSED_STRING","'time_taken'",196],["T_WHITESPACE","       ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","time",196],"(",")",["T_WHITESPACE"," ",196],"-",["T_WHITESPACE"," ",196],["T_VARIABLE","$start_time",196],",",["T_WHITESPACE","\n\t\t\t\t",196],["T_CONSTANT_ENCAPSED_STRING","'reported'",197],["T_WHITESPACE","         ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$wp_version",197],",",["T_WHITESPACE","\n\t\t\t\t",197],["T_CONSTANT_ENCAPSED_STRING","'attempted'",198],["T_WHITESPACE","        ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$current",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","version",198],",",["T_WHITESPACE","\n\t\t\t",198],")",";",["T_WHITESPACE","\n\n\t\t\t",199],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_WHITESPACE"," ",201],["T_STRING","is_wp_error",201],"(",["T_WHITESPACE"," ",201],["T_VARIABLE","$result",201],["T_WHITESPACE"," ",201],")",["T_WHITESPACE"," ",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n\t\t\t\t",201],["T_VARIABLE","$stats",202],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","false",202],";",["T_WHITESPACE","\n\t\t\t\t",202],["T_COMMENT","\/\/ Did a rollback occur?\n",203],["T_WHITESPACE","\t\t\t\t",204],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_WHITESPACE"," ",204],"!",["T_WHITESPACE"," ",204],["T_EMPTY","empty",204],"(",["T_WHITESPACE"," ",204],["T_VARIABLE","$try_rollback",204],["T_WHITESPACE"," ",204],")",["T_WHITESPACE"," ",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t\t\t\t\t",204],["T_VARIABLE","$stats",205],"[",["T_CONSTANT_ENCAPSED_STRING","'error_code'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$original_result",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","get_error_code",205],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",205],["T_VARIABLE","$stats",206],"[",["T_CONSTANT_ENCAPSED_STRING","'error_data'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$original_result",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get_error_data",206],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",206],["T_COMMENT","\/\/ Was the rollback successful? If not, collect its error too.\n",207],["T_WHITESPACE","\t\t\t\t\t",208],["T_VARIABLE","$stats",208],"[",["T_CONSTANT_ENCAPSED_STRING","'rollback'",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],"!",["T_WHITESPACE"," ",208],["T_STRING","is_wp_error",208],"(",["T_WHITESPACE"," ",208],["T_VARIABLE","$rollback_result",208],["T_WHITESPACE"," ",208],")",";",["T_WHITESPACE","\n\t\t\t\t\t",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_WHITESPACE"," ",209],["T_STRING","is_wp_error",209],"(",["T_WHITESPACE"," ",209],["T_VARIABLE","$rollback_result",209],["T_WHITESPACE"," ",209],")",["T_WHITESPACE"," ",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",209],["T_VARIABLE","$stats",210],"[",["T_CONSTANT_ENCAPSED_STRING","'rollback_code'",210],"]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$rollback_result",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","get_error_code",210],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",210],["T_VARIABLE","$stats",211],"[",["T_CONSTANT_ENCAPSED_STRING","'rollback_data'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$rollback_result",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","get_error_data",211],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",211],"}",["T_WHITESPACE","\n\t\t\t\t",212],"}",["T_WHITESPACE"," ",213],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n\t\t\t\t\t",213],["T_VARIABLE","$stats",214],"[",["T_CONSTANT_ENCAPSED_STRING","'error_code'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$result",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","get_error_code",214],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",214],["T_VARIABLE","$stats",215],"[",["T_CONSTANT_ENCAPSED_STRING","'error_data'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$result",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","get_error_data",215],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",215],"}",["T_WHITESPACE","\n\t\t\t",216],"}",["T_WHITESPACE","\n\n\t\t\t",217],["T_STRING","wp_version_check",219],"(",["T_WHITESPACE"," ",219],["T_VARIABLE","$stats",219],["T_WHITESPACE"," ",219],")",";",["T_WHITESPACE","\n\t\t",219],"}",["T_WHITESPACE","\n\n\t\t",220],["T_STRING","WP_Upgrader",222],["T_DOUBLE_COLON","::",222],["T_STRING","release_lock",222],"(",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'core_updater'",222],["T_WHITESPACE"," ",222],")",";",["T_WHITESPACE","\n\n\t\t",222],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$result",224],";",["T_WHITESPACE","\n\t",224],"}",["T_WHITESPACE","\n\n\t",225],["T_DOC_COMMENT","\/**\n\t * Determines if this WordPress Core version should update to an offered version or not.\n\t *\n\t * @since 3.7.0\n\t * @access public\n\t *\n\t * @static\n\t *\n\t * @param string $offered_ver The offered version, of the format x.y.z.\n\t * @return bool True if we should update to the offered version, otherwise false.\n\t *\/",227],["T_WHITESPACE","\n\t",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_STATIC","static",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","should_update_to_version",238],"(",["T_WHITESPACE"," ",238],["T_VARIABLE","$offered_ver",238],["T_WHITESPACE"," ",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n\t\t",238],["T_INCLUDE","include",239],"(",["T_WHITESPACE"," ",239],["T_STRING","ABSPATH",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_STRING","WPINC",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'\/version.php'",239],["T_WHITESPACE"," ",239],")",";",["T_WHITESPACE"," ",239],["T_COMMENT","\/\/ $wp_version; \/\/ x.y.z\n",239],["T_WHITESPACE","\n\t\t",240],["T_VARIABLE","$current_branch",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","implode",241],"(",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'.'",241],",",["T_WHITESPACE"," ",241],["T_STRING","array_slice",241],"(",["T_WHITESPACE"," ",241],["T_STRING","preg_split",241],"(",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'\/[.-]\/'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$wp_version",241],["T_WHITESPACE","  ",241],")",",",["T_WHITESPACE"," ",241],["T_LNUMBER","0",241],",",["T_WHITESPACE"," ",241],["T_LNUMBER","2",241],["T_WHITESPACE"," ",241],")",["T_WHITESPACE"," ",241],")",";",["T_WHITESPACE"," ",241],["T_COMMENT","\/\/ x.y\n",241],["T_WHITESPACE","\t\t",242],["T_VARIABLE","$new_branch",242],["T_WHITESPACE","     ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","implode",242],"(",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'.'",242],",",["T_WHITESPACE"," ",242],["T_STRING","array_slice",242],"(",["T_WHITESPACE"," ",242],["T_STRING","preg_split",242],"(",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'\/[.-]\/'",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$offered_ver",242],["T_WHITESPACE"," ",242],")",",",["T_WHITESPACE"," ",242],["T_LNUMBER","0",242],",",["T_WHITESPACE"," ",242],["T_LNUMBER","2",242],["T_WHITESPACE"," ",242],")",["T_WHITESPACE"," ",242],")",";",["T_WHITESPACE"," ",242],["T_COMMENT","\/\/ x.y\n",242],["T_WHITESPACE","\t\t",243],["T_VARIABLE","$current_is_development_version",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_BOOL_CAST","(bool)",243],["T_WHITESPACE"," ",243],["T_STRING","strpos",243],"(",["T_WHITESPACE"," ",243],["T_VARIABLE","$wp_version",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'-'",243],["T_WHITESPACE"," ",243],")",";",["T_WHITESPACE","\n\n\t\t",243],["T_COMMENT","\/\/ Defaults:\n",245],["T_WHITESPACE","\t\t",246],["T_VARIABLE","$upgrade_dev",246],["T_WHITESPACE","   ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","true",246],";",["T_WHITESPACE","\n\t\t",246],["T_VARIABLE","$upgrade_minor",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","true",247],";",["T_WHITESPACE","\n\t\t",247],["T_VARIABLE","$upgrade_major",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","false",248],";",["T_WHITESPACE","\n\n\t\t",248],["T_COMMENT","\/\/ WP_AUTO_UPDATE_CORE = true (all), 'minor', false.\n",250],["T_WHITESPACE","\t\t",251],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_WHITESPACE"," ",251],["T_STRING","defined",251],"(",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'WP_AUTO_UPDATE_CORE'",251],["T_WHITESPACE"," ",251],")",["T_WHITESPACE"," ",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n\t\t\t",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_WHITESPACE"," ",252],["T_STRING","false",252],["T_WHITESPACE"," ",252],["T_IS_IDENTICAL","===",252],["T_WHITESPACE"," ",252],["T_STRING","WP_AUTO_UPDATE_CORE",252],["T_WHITESPACE"," ",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n\t\t\t\t",252],["T_COMMENT","\/\/ Defaults to turned off, unless a filter allows it\n",253],["T_WHITESPACE","\t\t\t\t",254],["T_VARIABLE","$upgrade_dev",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$upgrade_minor",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$upgrade_major",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","false",254],";",["T_WHITESPACE","\n\t\t\t",254],"}",["T_WHITESPACE"," ",255],["T_ELSEIF","elseif",255],["T_WHITESPACE"," ",255],"(",["T_WHITESPACE"," ",255],["T_STRING","true",255],["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_STRING","WP_AUTO_UPDATE_CORE",255],["T_WHITESPACE"," ",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n\t\t\t\t",255],["T_COMMENT","\/\/ ALL updates for core\n",256],["T_WHITESPACE","\t\t\t\t",257],["T_VARIABLE","$upgrade_dev",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$upgrade_minor",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$upgrade_major",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","true",257],";",["T_WHITESPACE","\n\t\t\t",257],"}",["T_WHITESPACE"," ",258],["T_ELSEIF","elseif",258],["T_WHITESPACE"," ",258],"(",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'minor'",258],["T_WHITESPACE"," ",258],["T_IS_IDENTICAL","===",258],["T_WHITESPACE"," ",258],["T_STRING","WP_AUTO_UPDATE_CORE",258],["T_WHITESPACE"," ",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\t\t\t\t",258],["T_COMMENT","\/\/ Only minor updates for core\n",259],["T_WHITESPACE","\t\t\t\t",260],["T_VARIABLE","$upgrade_dev",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$upgrade_major",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","false",260],";",["T_WHITESPACE","\n\t\t\t\t",260],["T_VARIABLE","$upgrade_minor",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","true",261],";",["T_WHITESPACE","\n\t\t\t",261],"}",["T_WHITESPACE","\n\t\t",262],"}",["T_WHITESPACE","\n\n\t\t",263],["T_COMMENT","\/\/ 1: If we're already on that version, not much point in updating?\n",265],["T_WHITESPACE","\t\t",266],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_WHITESPACE"," ",266],["T_VARIABLE","$offered_ver",266],["T_WHITESPACE"," ",266],["T_IS_EQUAL","==",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$wp_version",266],["T_WHITESPACE"," ",266],")",["T_WHITESPACE","\n\t\t\t",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_STRING","false",267],";",["T_WHITESPACE","\n\n\t\t",267],["T_COMMENT","\/\/ 2: If we're running a newer version, that's a nope\n",269],["T_WHITESPACE","\t\t",270],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_WHITESPACE"," ",270],["T_STRING","version_compare",270],"(",["T_WHITESPACE"," ",270],["T_VARIABLE","$wp_version",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$offered_ver",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'>'",270],["T_WHITESPACE"," ",270],")",["T_WHITESPACE"," ",270],")",["T_WHITESPACE","\n\t\t\t",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_STRING","false",271],";",["T_WHITESPACE","\n\n\t\t",271],["T_VARIABLE","$failure_data",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","get_site_option",273],"(",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'auto_core_update_failed'",273],["T_WHITESPACE"," ",273],")",";",["T_WHITESPACE","\n\t\t",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_WHITESPACE"," ",274],["T_VARIABLE","$failure_data",274],["T_WHITESPACE"," ",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n\t\t\t",274],["T_COMMENT","\/\/ If this was a critical update failure, cannot update.\n",275],["T_WHITESPACE","\t\t\t",276],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_WHITESPACE"," ",276],"!",["T_WHITESPACE"," ",276],["T_EMPTY","empty",276],"(",["T_WHITESPACE"," ",276],["T_VARIABLE","$failure_data",276],"[",["T_CONSTANT_ENCAPSED_STRING","'critical'",276],"]",["T_WHITESPACE"," ",276],")",["T_WHITESPACE"," ",276],")",["T_WHITESPACE","\n\t\t\t\t",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_STRING","false",277],";",["T_WHITESPACE","\n\n\t\t\t",277],["T_COMMENT","\/\/ Don't claim we can update on update-core.php if we have a non-critical failure logged.\n",279],["T_WHITESPACE","\t\t\t",280],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_WHITESPACE"," ",280],["T_VARIABLE","$wp_version",280],["T_WHITESPACE"," ",280],["T_IS_EQUAL","==",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$failure_data",280],"[",["T_CONSTANT_ENCAPSED_STRING","'current'",280],"]",["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],["T_STRING","false",280],["T_WHITESPACE"," ",280],["T_IS_NOT_IDENTICAL","!==",280],["T_WHITESPACE"," ",280],["T_STRING","strpos",280],"(",["T_WHITESPACE"," ",280],["T_VARIABLE","$offered_ver",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'.1.next.minor'",280],["T_WHITESPACE"," ",280],")",["T_WHITESPACE"," ",280],")",["T_WHITESPACE","\n\t\t\t\t",280],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_STRING","false",281],";",["T_WHITESPACE","\n\n\t\t\t",281],["T_COMMENT","\/\/ Cannot update if we're retrying the same A to B update that caused a non-critical failure.\n",283],["T_WHITESPACE","\t\t\t",284],["T_COMMENT","\/\/ Some non-critical failures do allow retries, like download_failed.\n",284],["T_WHITESPACE","\t\t\t",285],["T_COMMENT","\/\/ 3.7.1 => 3.7.2 resulted in files_not_writable, if we are still on 3.7.1 and still trying to update to 3.7.2.\n",285],["T_WHITESPACE","\t\t\t",286],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_WHITESPACE"," ",286],["T_EMPTY","empty",286],"(",["T_WHITESPACE"," ",286],["T_VARIABLE","$failure_data",286],"[",["T_CONSTANT_ENCAPSED_STRING","'retry'",286],"]",["T_WHITESPACE"," ",286],")",["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$wp_version",286],["T_WHITESPACE"," ",286],["T_IS_EQUAL","==",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$failure_data",286],"[",["T_CONSTANT_ENCAPSED_STRING","'current'",286],"]",["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$offered_ver",286],["T_WHITESPACE"," ",286],["T_IS_EQUAL","==",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$failure_data",286],"[",["T_CONSTANT_ENCAPSED_STRING","'attempted'",286],"]",["T_WHITESPACE"," ",286],")",["T_WHITESPACE","\n\t\t\t\t",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_STRING","false",287],";",["T_WHITESPACE","\n\t\t",287],"}",["T_WHITESPACE","\n\n\t\t",288],["T_COMMENT","\/\/ 3: 3.7-alpha-25000 -> 3.7-alpha-25678 -> 3.7-beta1 -> 3.7-beta2\n",290],["T_WHITESPACE","\t\t",291],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_WHITESPACE"," ",291],["T_VARIABLE","$current_is_development_version",291],["T_WHITESPACE"," ",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n\n\t\t\t",291],["T_DOC_COMMENT","\/**\n\t\t\t * Filters whether to enable automatic core updates for development versions.\n\t\t\t *\n\t\t\t * @since 3.7.0\n\t\t\t *\n\t\t\t * @param bool $upgrade_dev Whether to enable automatic updates for\n\t\t\t *                          development versions.\n\t\t\t *\/",293],["T_WHITESPACE","\n\t\t\t",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_WHITESPACE"," ",301],"!",["T_WHITESPACE"," ",301],["T_STRING","apply_filters",301],"(",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'allow_dev_auto_core_updates'",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$upgrade_dev",301],["T_WHITESPACE"," ",301],")",["T_WHITESPACE"," ",301],")",["T_WHITESPACE","\n\t\t\t\t",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_STRING","false",302],";",["T_WHITESPACE","\n\t\t\t",302],["T_COMMENT","\/\/ Else fall through to minor + major branches below.\n",303],["T_WHITESPACE","\t\t",304],"}",["T_WHITESPACE","\n\n\t\t",304],["T_COMMENT","\/\/ 4: Minor In-branch updates (3.7.0 -> 3.7.1 -> 3.7.2 -> 3.7.4)\n",306],["T_WHITESPACE","\t\t",307],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_WHITESPACE"," ",307],["T_VARIABLE","$current_branch",307],["T_WHITESPACE"," ",307],["T_IS_EQUAL","==",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$new_branch",307],["T_WHITESPACE"," ",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n\n\t\t\t",307],["T_DOC_COMMENT","\/**\n\t\t\t * Filters whether to enable minor automatic core updates.\n\t\t\t *\n\t\t\t * @since 3.7.0\n\t\t\t *\n\t\t\t * @param bool $upgrade_minor Whether to enable minor automatic core updates.\n\t\t\t *\/",309],["T_WHITESPACE","\n\t\t\t",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_STRING","apply_filters",316],"(",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'allow_minor_auto_core_updates'",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$upgrade_minor",316],["T_WHITESPACE"," ",316],")",";",["T_WHITESPACE","\n\t\t",316],"}",["T_WHITESPACE","\n\n\t\t",317],["T_COMMENT","\/\/ 5: Major version updates (3.7.0 -> 3.8.0 -> 3.9.1)\n",319],["T_WHITESPACE","\t\t",320],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_WHITESPACE"," ",320],["T_STRING","version_compare",320],"(",["T_WHITESPACE"," ",320],["T_VARIABLE","$new_branch",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$current_branch",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'>'",320],["T_WHITESPACE"," ",320],")",["T_WHITESPACE"," ",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n\n\t\t\t",320],["T_DOC_COMMENT","\/**\n\t\t\t * Filters whether to enable major automatic core updates.\n\t\t\t *\n\t\t\t * @since 3.7.0\n\t\t\t *\n\t\t\t * @param bool $upgrade_major Whether to enable major automatic core updates.\n\t\t\t *\/",322],["T_WHITESPACE","\n\t\t\t",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_STRING","apply_filters",329],"(",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'allow_major_auto_core_updates'",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$upgrade_major",329],["T_WHITESPACE"," ",329],")",";",["T_WHITESPACE","\n\t\t",329],"}",["T_WHITESPACE","\n\n\t\t",330],["T_COMMENT","\/\/ If we're not sure, we don't want it\n",332],["T_WHITESPACE","\t\t",333],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_STRING","false",333],";",["T_WHITESPACE","\n\t",333],"}",["T_WHITESPACE","\n\n\t",334],["T_DOC_COMMENT","\/**\n\t * Compare the disk file checksums against the expected checksums.\n\t *\n\t * @since 3.7.0\n\t * @access public\n\t *\n\t * @global string $wp_version\n\t * @global string $wp_local_package\n\t *\n\t * @return bool True if the checksums match, otherwise false.\n\t *\/",336],["T_WHITESPACE","\n\t",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","check_files",347],"(",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n\t\t",347],["T_GLOBAL","global",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$wp_version",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$wp_local_package",348],";",["T_WHITESPACE","\n\n\t\t",348],["T_VARIABLE","$checksums",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","get_core_checksums",350],"(",["T_WHITESPACE"," ",350],["T_VARIABLE","$wp_version",350],",",["T_WHITESPACE"," ",350],["T_ISSET","isset",350],"(",["T_WHITESPACE"," ",350],["T_VARIABLE","$wp_local_package",350],["T_WHITESPACE"," ",350],")",["T_WHITESPACE"," ",350],"?",["T_WHITESPACE"," ",350],["T_VARIABLE","$wp_local_package",350],["T_WHITESPACE"," ",350],":",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'en_US'",350],["T_WHITESPACE"," ",350],")",";",["T_WHITESPACE","\n\n\t\t",350],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_WHITESPACE"," ",352],"!",["T_WHITESPACE"," ",352],["T_STRING","is_array",352],"(",["T_WHITESPACE"," ",352],["T_VARIABLE","$checksums",352],["T_WHITESPACE"," ",352],")",["T_WHITESPACE"," ",352],")",["T_WHITESPACE","\n\t\t\t",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_STRING","false",353],";",["T_WHITESPACE","\n\n\t\t",353],["T_FOREACH","foreach",355],["T_WHITESPACE"," ",355],"(",["T_WHITESPACE"," ",355],["T_VARIABLE","$checksums",355],["T_WHITESPACE"," ",355],["T_AS","as",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$file",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$checksum",355],["T_WHITESPACE"," ",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n\t\t\t",355],["T_COMMENT","\/\/ Skip files which get updated\n",356],["T_WHITESPACE","\t\t\t",357],["T_IF","if",357],["T_WHITESPACE"," ",357],"(",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'wp-content'",357],["T_WHITESPACE"," ",357],["T_IS_EQUAL","==",357],["T_WHITESPACE"," ",357],["T_STRING","substr",357],"(",["T_WHITESPACE"," ",357],["T_VARIABLE","$file",357],",",["T_WHITESPACE"," ",357],["T_LNUMBER","0",357],",",["T_WHITESPACE"," ",357],["T_LNUMBER","10",357],["T_WHITESPACE"," ",357],")",["T_WHITESPACE"," ",357],")",["T_WHITESPACE","\n\t\t\t\t",357],["T_CONTINUE","continue",358],";",["T_WHITESPACE","\n\t\t\t",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_WHITESPACE"," ",359],"!",["T_WHITESPACE"," ",359],["T_STRING","file_exists",359],"(",["T_WHITESPACE"," ",359],["T_STRING","ABSPATH",359],["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_VARIABLE","$file",359],["T_WHITESPACE"," ",359],")",["T_WHITESPACE"," ",359],["T_BOOLEAN_OR","||",359],["T_WHITESPACE"," ",359],["T_STRING","md5_file",359],"(",["T_WHITESPACE"," ",359],["T_STRING","ABSPATH",359],["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_VARIABLE","$file",359],["T_WHITESPACE"," ",359],")",["T_WHITESPACE"," ",359],["T_IS_NOT_IDENTICAL","!==",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$checksum",359],["T_WHITESPACE"," ",359],")",["T_WHITESPACE","\n\t\t\t\t",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_STRING","false",360],";",["T_WHITESPACE","\n\t\t",360],"}",["T_WHITESPACE","\n\n\t\t",361],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_STRING","true",363],";",["T_WHITESPACE","\n\t",363],"}",["T_WHITESPACE","\n",364],"}",["T_WHITESPACE","\n",365]]