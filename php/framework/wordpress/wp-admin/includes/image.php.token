[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * File contains all the administration image manipulation functions.\n *\n * @package WordPress\n * @subpackage Administration\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Crop an Image to a given size.\n *\n * @since 2.1.0\n *\n * @param string|int $src The source file or Attachment ID.\n * @param int $src_x The start x position to crop from.\n * @param int $src_y The start y position to crop from.\n * @param int $src_w The width to crop.\n * @param int $src_h The height to crop.\n * @param int $dst_w The destination width.\n * @param int $dst_h The destination height.\n * @param int $src_abs Optional. If the source crop points are absolute.\n * @param string $dst_file Optional. The destination file to write to.\n * @return string|WP_Error New filepath on success, WP_Error on failure.\n *\/",9],["T_WHITESPACE","\n",24],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","wp_crop_image",25],"(",["T_WHITESPACE"," ",25],["T_VARIABLE","$src",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$src_x",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$src_y",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$src_w",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$src_h",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$dst_w",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$dst_h",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$src_abs",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","false",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$dst_file",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","false",25],["T_WHITESPACE"," ",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\t",25],["T_VARIABLE","$src_file",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$src",26],";",["T_WHITESPACE","\n\t",26],["T_IF","if",27],["T_WHITESPACE"," ",27],"(",["T_WHITESPACE"," ",27],["T_STRING","is_numeric",27],"(",["T_WHITESPACE"," ",27],["T_VARIABLE","$src",27],["T_WHITESPACE"," ",27],")",["T_WHITESPACE"," ",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE"," ",27],["T_COMMENT","\/\/ Handle int as attachment ID\n",27],["T_WHITESPACE","\t\t",28],["T_VARIABLE","$src_file",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","get_attached_file",28],"(",["T_WHITESPACE"," ",28],["T_VARIABLE","$src",28],["T_WHITESPACE"," ",28],")",";",["T_WHITESPACE","\n\n\t\t",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_WHITESPACE"," ",30],"!",["T_WHITESPACE"," ",30],["T_STRING","file_exists",30],"(",["T_WHITESPACE"," ",30],["T_VARIABLE","$src_file",30],["T_WHITESPACE"," ",30],")",["T_WHITESPACE"," ",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t",30],["T_COMMENT","\/\/ If the file doesn't exist, attempt a URL fopen on the src link.\n",31],["T_WHITESPACE","\t\t\t",32],["T_COMMENT","\/\/ This can occur with certain file replication plugins.\n",32],["T_WHITESPACE","\t\t\t",33],["T_VARIABLE","$src",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","_load_image_to_edit_path",33],"(",["T_WHITESPACE"," ",33],["T_VARIABLE","$src",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'full'",33],["T_WHITESPACE"," ",33],")",";",["T_WHITESPACE","\n\t\t",33],"}",["T_WHITESPACE"," ",34],["T_ELSE","else",34],["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n\t\t\t",34],["T_VARIABLE","$src",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$src_file",35],";",["T_WHITESPACE","\n\t\t",35],"}",["T_WHITESPACE","\n\t",36],"}",["T_WHITESPACE","\n\n\t",37],["T_VARIABLE","$editor",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","wp_get_image_editor",39],"(",["T_WHITESPACE"," ",39],["T_VARIABLE","$src",39],["T_WHITESPACE"," ",39],")",";",["T_WHITESPACE","\n\t",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_WHITESPACE"," ",40],["T_STRING","is_wp_error",40],"(",["T_WHITESPACE"," ",40],["T_VARIABLE","$editor",40],["T_WHITESPACE"," ",40],")",["T_WHITESPACE"," ",40],")",["T_WHITESPACE","\n\t\t",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$editor",41],";",["T_WHITESPACE","\n\n\t",41],["T_VARIABLE","$src",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$editor",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","crop",43],"(",["T_WHITESPACE"," ",43],["T_VARIABLE","$src_x",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$src_y",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$src_w",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$src_h",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$dst_w",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$dst_h",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$src_abs",43],["T_WHITESPACE"," ",43],")",";",["T_WHITESPACE","\n\t",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_WHITESPACE"," ",44],["T_STRING","is_wp_error",44],"(",["T_WHITESPACE"," ",44],["T_VARIABLE","$src",44],["T_WHITESPACE"," ",44],")",["T_WHITESPACE"," ",44],")",["T_WHITESPACE","\n\t\t",44],["T_RETURN","return",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$src",45],";",["T_WHITESPACE","\n\n\t",45],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_WHITESPACE"," ",47],"!",["T_WHITESPACE"," ",47],["T_VARIABLE","$dst_file",47],["T_WHITESPACE"," ",47],")",["T_WHITESPACE","\n\t\t",47],["T_VARIABLE","$dst_file",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","str_replace",48],"(",["T_WHITESPACE"," ",48],["T_STRING","basename",48],"(",["T_WHITESPACE"," ",48],["T_VARIABLE","$src_file",48],["T_WHITESPACE"," ",48],")",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'cropped-'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_STRING","basename",48],"(",["T_WHITESPACE"," ",48],["T_VARIABLE","$src_file",48],["T_WHITESPACE"," ",48],")",",",["T_WHITESPACE"," ",48],["T_VARIABLE","$src_file",48],["T_WHITESPACE"," ",48],")",";",["T_WHITESPACE","\n\n\t",48],["T_COMMENT","\/*\n\t * The directory containing the original file may no longer exist when\n\t * using a replication plugin.\n\t *\/",50],["T_WHITESPACE","\n\t",53],["T_STRING","wp_mkdir_p",54],"(",["T_WHITESPACE"," ",54],["T_STRING","dirname",54],"(",["T_WHITESPACE"," ",54],["T_VARIABLE","$dst_file",54],["T_WHITESPACE"," ",54],")",["T_WHITESPACE"," ",54],")",";",["T_WHITESPACE","\n\n\t",54],["T_VARIABLE","$dst_file",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","dirname",56],"(",["T_WHITESPACE"," ",56],["T_VARIABLE","$dst_file",56],["T_WHITESPACE"," ",56],")",["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'\/'",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_STRING","wp_unique_filename",56],"(",["T_WHITESPACE"," ",56],["T_STRING","dirname",56],"(",["T_WHITESPACE"," ",56],["T_VARIABLE","$dst_file",56],["T_WHITESPACE"," ",56],")",",",["T_WHITESPACE"," ",56],["T_STRING","basename",56],"(",["T_WHITESPACE"," ",56],["T_VARIABLE","$dst_file",56],["T_WHITESPACE"," ",56],")",["T_WHITESPACE"," ",56],")",";",["T_WHITESPACE","\n\n\t",56],["T_VARIABLE","$result",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$editor",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","save",58],"(",["T_WHITESPACE"," ",58],["T_VARIABLE","$dst_file",58],["T_WHITESPACE"," ",58],")",";",["T_WHITESPACE","\n\t",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_WHITESPACE"," ",59],["T_STRING","is_wp_error",59],"(",["T_WHITESPACE"," ",59],["T_VARIABLE","$result",59],["T_WHITESPACE"," ",59],")",["T_WHITESPACE"," ",59],")",["T_WHITESPACE","\n\t\t",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$result",60],";",["T_WHITESPACE","\n\n\t",60],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$dst_file",62],";",["T_WHITESPACE","\n",62],"}",["T_WHITESPACE","\n\n",63],["T_DOC_COMMENT","\/**\n * Generate post thumbnail attachment meta data.\n *\n * @since 2.1.0\n *\n * @param int $attachment_id Attachment Id to process.\n * @param string $file Filepath of the Attached image.\n * @return mixed Metadata for attachment.\n *\/",65],["T_WHITESPACE","\n",73],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","wp_generate_attachment_metadata",74],"(",["T_WHITESPACE"," ",74],["T_VARIABLE","$attachment_id",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$file",74],["T_WHITESPACE"," ",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t",74],["T_VARIABLE","$attachment",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","get_post",75],"(",["T_WHITESPACE"," ",75],["T_VARIABLE","$attachment_id",75],["T_WHITESPACE"," ",75],")",";",["T_WHITESPACE","\n\n\t",75],["T_VARIABLE","$metadata",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",")",";",["T_WHITESPACE","\n\t",77],["T_VARIABLE","$support",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","false",78],";",["T_WHITESPACE","\n\t",78],["T_VARIABLE","$mime_type",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","get_post_mime_type",79],"(",["T_WHITESPACE"," ",79],["T_VARIABLE","$attachment",79],["T_WHITESPACE"," ",79],")",";",["T_WHITESPACE","\n\n\t",79],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_WHITESPACE"," ",81],["T_STRING","preg_match",81],"(",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'!^image\/!'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$mime_type",81],["T_WHITESPACE"," ",81],")",["T_WHITESPACE"," ",81],["T_BOOLEAN_AND","&&",81],["T_WHITESPACE"," ",81],["T_STRING","file_is_displayable_image",81],"(",["T_WHITESPACE"," ",81],["T_VARIABLE","$file",81],["T_WHITESPACE"," ",81],")",["T_WHITESPACE"," ",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n\t\t",81],["T_VARIABLE","$imagesize",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","getimagesize",82],"(",["T_WHITESPACE"," ",82],["T_VARIABLE","$file",82],["T_WHITESPACE"," ",82],")",";",["T_WHITESPACE","\n\t\t",82],["T_VARIABLE","$metadata",83],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$imagesize",83],"[",["T_LNUMBER","0",83],"]",";",["T_WHITESPACE","\n\t\t",83],["T_VARIABLE","$metadata",84],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",84],"]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$imagesize",84],"[",["T_LNUMBER","1",84],"]",";",["T_WHITESPACE","\n\n\t\t",84],["T_COMMENT","\/\/ Make the file path relative to the upload dir.\n",86],["T_WHITESPACE","\t\t",87],["T_VARIABLE","$metadata",87],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",87],"]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","_wp_relative_upload_path",87],"(",["T_VARIABLE","$file",87],")",";",["T_WHITESPACE","\n\n\t\t",87],["T_COMMENT","\/\/ Make thumbnails and other intermediate sizes.\n",89],["T_WHITESPACE","\t\t",90],["T_VARIABLE","$_wp_additional_image_sizes",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","wp_get_additional_image_sizes",90],"(",")",";",["T_WHITESPACE","\n\n\t\t",90],["T_VARIABLE","$sizes",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",";",["T_WHITESPACE","\n\t\t",92],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_WHITESPACE"," ",93],["T_STRING","get_intermediate_image_sizes",93],"(",")",["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$s",93],["T_WHITESPACE"," ",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n\t\t\t",93],["T_VARIABLE","$sizes",94],"[",["T_VARIABLE","$s",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'width'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","''",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'height'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","''",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'crop'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","false",94],["T_WHITESPACE"," ",94],")",";",["T_WHITESPACE","\n\t\t\t",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_WHITESPACE"," ",95],["T_ISSET","isset",95],"(",["T_WHITESPACE"," ",95],["T_VARIABLE","$_wp_additional_image_sizes",95],"[",["T_VARIABLE","$s",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",95],"]",["T_WHITESPACE"," ",95],")",["T_WHITESPACE"," ",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n\t\t\t\t",95],["T_COMMENT","\/\/ For theme-added sizes\n",96],["T_WHITESPACE","\t\t\t\t",97],["T_VARIABLE","$sizes",97],"[",["T_VARIABLE","$s",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","intval",97],"(",["T_WHITESPACE"," ",97],["T_VARIABLE","$_wp_additional_image_sizes",97],"[",["T_VARIABLE","$s",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",97],"]",["T_WHITESPACE"," ",97],")",";",["T_WHITESPACE","\n\t\t\t",97],"}",["T_WHITESPACE"," ",98],["T_ELSE","else",98],["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n\t\t\t\t",98],["T_COMMENT","\/\/ For default sizes set in options\n",99],["T_WHITESPACE","\t\t\t\t",100],["T_VARIABLE","$sizes",100],"[",["T_VARIABLE","$s",100],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","get_option",100],"(",["T_WHITESPACE"," ",100],"\"",["T_CURLY_OPEN","{",100],["T_VARIABLE","$s",100],"}",["T_ENCAPSED_AND_WHITESPACE","_size_w",100],"\"",["T_WHITESPACE"," ",100],")",";",["T_WHITESPACE","\n\t\t\t",100],"}",["T_WHITESPACE","\n\n\t\t\t",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_WHITESPACE"," ",103],["T_ISSET","isset",103],"(",["T_WHITESPACE"," ",103],["T_VARIABLE","$_wp_additional_image_sizes",103],"[",["T_VARIABLE","$s",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",103],"]",["T_WHITESPACE"," ",103],")",["T_WHITESPACE"," ",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t\t\t",103],["T_COMMENT","\/\/ For theme-added sizes\n",104],["T_WHITESPACE","\t\t\t\t",105],["T_VARIABLE","$sizes",105],"[",["T_VARIABLE","$s",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","intval",105],"(",["T_WHITESPACE"," ",105],["T_VARIABLE","$_wp_additional_image_sizes",105],"[",["T_VARIABLE","$s",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",105],"]",["T_WHITESPACE"," ",105],")",";",["T_WHITESPACE","\n\t\t\t",105],"}",["T_WHITESPACE"," ",106],["T_ELSE","else",106],["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n\t\t\t\t",106],["T_COMMENT","\/\/ For default sizes set in options\n",107],["T_WHITESPACE","\t\t\t\t",108],["T_VARIABLE","$sizes",108],"[",["T_VARIABLE","$s",108],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","get_option",108],"(",["T_WHITESPACE"," ",108],"\"",["T_CURLY_OPEN","{",108],["T_VARIABLE","$s",108],"}",["T_ENCAPSED_AND_WHITESPACE","_size_h",108],"\"",["T_WHITESPACE"," ",108],")",";",["T_WHITESPACE","\n\t\t\t",108],"}",["T_WHITESPACE","\n\n\t\t\t",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_WHITESPACE"," ",111],["T_ISSET","isset",111],"(",["T_WHITESPACE"," ",111],["T_VARIABLE","$_wp_additional_image_sizes",111],"[",["T_VARIABLE","$s",111],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",111],"]",["T_WHITESPACE"," ",111],")",["T_WHITESPACE"," ",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t\t",111],["T_COMMENT","\/\/ For theme-added sizes\n",112],["T_WHITESPACE","\t\t\t\t",113],["T_VARIABLE","$sizes",113],"[",["T_VARIABLE","$s",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$_wp_additional_image_sizes",113],"[",["T_VARIABLE","$s",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",113],"]",";",["T_WHITESPACE","\n\t\t\t",113],"}",["T_WHITESPACE"," ",114],["T_ELSE","else",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n\t\t\t\t",114],["T_COMMENT","\/\/ For default sizes set in options\n",115],["T_WHITESPACE","\t\t\t\t",116],["T_VARIABLE","$sizes",116],"[",["T_VARIABLE","$s",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","get_option",116],"(",["T_WHITESPACE"," ",116],"\"",["T_CURLY_OPEN","{",116],["T_VARIABLE","$s",116],"}",["T_ENCAPSED_AND_WHITESPACE","_crop",116],"\"",["T_WHITESPACE"," ",116],")",";",["T_WHITESPACE","\n\t\t\t",116],"}",["T_WHITESPACE","\n\t\t",117],"}",["T_WHITESPACE","\n\n\t\t",118],["T_DOC_COMMENT","\/**\n\t\t * Filters the image sizes automatically generated when uploading an image.\n\t\t *\n\t\t * @since 2.9.0\n\t\t * @since 4.4.0 Added the `$metadata` argument.\n\t\t *\n\t\t * @param array $sizes    An associative array of image sizes.\n\t\t * @param array $metadata An associative array of image metadata: width, height, file.\n\t\t *\/",120],["T_WHITESPACE","\n\t\t",128],["T_VARIABLE","$sizes",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","apply_filters",129],"(",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'intermediate_image_sizes_advanced'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$sizes",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$metadata",129],["T_WHITESPACE"," ",129],")",";",["T_WHITESPACE","\n\n\t\t",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_WHITESPACE"," ",131],["T_VARIABLE","$sizes",131],["T_WHITESPACE"," ",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\t\t\t",131],["T_VARIABLE","$editor",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","wp_get_image_editor",132],"(",["T_WHITESPACE"," ",132],["T_VARIABLE","$file",132],["T_WHITESPACE"," ",132],")",";",["T_WHITESPACE","\n\n\t\t\t",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_WHITESPACE"," ",134],"!",["T_WHITESPACE"," ",134],["T_STRING","is_wp_error",134],"(",["T_WHITESPACE"," ",134],["T_VARIABLE","$editor",134],["T_WHITESPACE"," ",134],")",["T_WHITESPACE"," ",134],")",["T_WHITESPACE","\n\t\t\t\t",134],["T_VARIABLE","$metadata",135],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$editor",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","multi_resize",135],"(",["T_WHITESPACE"," ",135],["T_VARIABLE","$sizes",135],["T_WHITESPACE"," ",135],")",";",["T_WHITESPACE","\n\t\t",135],"}",["T_WHITESPACE"," ",136],["T_ELSE","else",136],["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n\t\t\t",136],["T_VARIABLE","$metadata",137],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",")",";",["T_WHITESPACE","\n\t\t",137],"}",["T_WHITESPACE","\n\n\t\t",138],["T_COMMENT","\/\/ Fetch additional metadata from EXIF\/IPTC.\n",140],["T_WHITESPACE","\t\t",141],["T_VARIABLE","$image_meta",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","wp_read_image_metadata",141],"(",["T_WHITESPACE"," ",141],["T_VARIABLE","$file",141],["T_WHITESPACE"," ",141],")",";",["T_WHITESPACE","\n\t\t",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_WHITESPACE"," ",142],["T_VARIABLE","$image_meta",142],["T_WHITESPACE"," ",142],")",["T_WHITESPACE","\n\t\t\t",142],["T_VARIABLE","$metadata",143],"[",["T_CONSTANT_ENCAPSED_STRING","'image_meta'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$image_meta",143],";",["T_WHITESPACE","\n\n\t",143],"}",["T_WHITESPACE"," ",145],["T_ELSEIF","elseif",145],["T_WHITESPACE"," ",145],"(",["T_WHITESPACE"," ",145],["T_STRING","wp_attachment_is",145],"(",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'video'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$attachment",145],["T_WHITESPACE"," ",145],")",["T_WHITESPACE"," ",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n\t\t",145],["T_VARIABLE","$metadata",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","wp_read_video_metadata",146],"(",["T_WHITESPACE"," ",146],["T_VARIABLE","$file",146],["T_WHITESPACE"," ",146],")",";",["T_WHITESPACE","\n\t\t",146],["T_VARIABLE","$support",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","current_theme_supports",147],"(",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'post-thumbnails'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'attachment:video'",147],["T_WHITESPACE"," ",147],")",["T_WHITESPACE"," ",147],["T_BOOLEAN_OR","||",147],["T_WHITESPACE"," ",147],["T_STRING","post_type_supports",147],"(",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'attachment:video'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",147],["T_WHITESPACE"," ",147],")",";",["T_WHITESPACE","\n\t",147],"}",["T_WHITESPACE"," ",148],["T_ELSEIF","elseif",148],["T_WHITESPACE"," ",148],"(",["T_WHITESPACE"," ",148],["T_STRING","wp_attachment_is",148],"(",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'audio'",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$attachment",148],["T_WHITESPACE"," ",148],")",["T_WHITESPACE"," ",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\t\t",148],["T_VARIABLE","$metadata",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","wp_read_audio_metadata",149],"(",["T_WHITESPACE"," ",149],["T_VARIABLE","$file",149],["T_WHITESPACE"," ",149],")",";",["T_WHITESPACE","\n\t\t",149],["T_VARIABLE","$support",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","current_theme_supports",150],"(",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'post-thumbnails'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'attachment:audio'",150],["T_WHITESPACE"," ",150],")",["T_WHITESPACE"," ",150],["T_BOOLEAN_OR","||",150],["T_WHITESPACE"," ",150],["T_STRING","post_type_supports",150],"(",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'attachment:audio'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",150],["T_WHITESPACE"," ",150],")",";",["T_WHITESPACE","\n\t",150],"}",["T_WHITESPACE","\n\n\t",151],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_WHITESPACE"," ",153],["T_VARIABLE","$support",153],["T_WHITESPACE"," ",153],["T_BOOLEAN_AND","&&",153],["T_WHITESPACE"," ",153],"!",["T_WHITESPACE"," ",153],["T_EMPTY","empty",153],"(",["T_WHITESPACE"," ",153],["T_VARIABLE","$metadata",153],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",153],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",153],"]",["T_WHITESPACE"," ",153],")",["T_WHITESPACE"," ",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n\t\t",153],["T_COMMENT","\/\/ Check for existing cover.\n",154],["T_WHITESPACE","\t\t",155],["T_VARIABLE","$hash",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","md5",155],"(",["T_WHITESPACE"," ",155],["T_VARIABLE","$metadata",155],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",155],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",155],"]",["T_WHITESPACE"," ",155],")",";",["T_WHITESPACE","\n\t\t",155],["T_VARIABLE","$posts",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","get_posts",156],"(",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_WHITESPACE","\n\t\t\t",156],["T_CONSTANT_ENCAPSED_STRING","'fields'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'ids'",157],",",["T_WHITESPACE","\n\t\t\t",157],["T_CONSTANT_ENCAPSED_STRING","'post_type'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'attachment'",158],",",["T_WHITESPACE","\n\t\t\t",158],["T_CONSTANT_ENCAPSED_STRING","'post_mime_type'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$metadata",159],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",159],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mime'",159],"]",",",["T_WHITESPACE","\n\t\t\t",159],["T_CONSTANT_ENCAPSED_STRING","'post_status'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'inherit'",160],",",["T_WHITESPACE","\n\t\t\t",160],["T_CONSTANT_ENCAPSED_STRING","'posts_per_page'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_LNUMBER","1",161],",",["T_WHITESPACE","\n\t\t\t",161],["T_CONSTANT_ENCAPSED_STRING","'meta_key'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'_cover_hash'",162],",",["T_WHITESPACE","\n\t\t\t",162],["T_CONSTANT_ENCAPSED_STRING","'meta_value'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$hash",163],["T_WHITESPACE","\n\t\t",163],")",["T_WHITESPACE"," ",164],")",";",["T_WHITESPACE","\n\t\t",164],["T_VARIABLE","$exists",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","reset",165],"(",["T_WHITESPACE"," ",165],["T_VARIABLE","$posts",165],["T_WHITESPACE"," ",165],")",";",["T_WHITESPACE","\n\n\t\t",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_WHITESPACE"," ",167],"!",["T_WHITESPACE"," ",167],["T_EMPTY","empty",167],"(",["T_WHITESPACE"," ",167],["T_VARIABLE","$exists",167],["T_WHITESPACE"," ",167],")",["T_WHITESPACE"," ",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n\t\t\t",167],["T_STRING","update_post_meta",168],"(",["T_WHITESPACE"," ",168],["T_VARIABLE","$attachment_id",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'_thumbnail_id'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$exists",168],["T_WHITESPACE"," ",168],")",";",["T_WHITESPACE","\n\t\t",168],"}",["T_WHITESPACE"," ",169],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t",169],["T_VARIABLE","$ext",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",170],";",["T_WHITESPACE","\n\t\t\t",170],["T_SWITCH","switch",171],["T_WHITESPACE"," ",171],"(",["T_WHITESPACE"," ",171],["T_VARIABLE","$metadata",171],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",171],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mime'",171],"]",["T_WHITESPACE"," ",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t\t",171],["T_CASE","case",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",172],":",["T_WHITESPACE","\n\t\t\t\t",172],["T_VARIABLE","$ext",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'.gif'",173],";",["T_WHITESPACE","\n\t\t\t\t",173],["T_BREAK","break",174],";",["T_WHITESPACE","\n\t\t\t",174],["T_CASE","case",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'image\/png'",175],":",["T_WHITESPACE","\n\t\t\t\t",175],["T_VARIABLE","$ext",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'.png'",176],";",["T_WHITESPACE","\n\t\t\t\t",176],["T_BREAK","break",177],";",["T_WHITESPACE","\n\t\t\t",177],"}",["T_WHITESPACE","\n\t\t\t",178],["T_VARIABLE","$basename",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","str_replace",179],"(",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'.'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'-'",179],",",["T_WHITESPACE"," ",179],["T_STRING","basename",179],"(",["T_WHITESPACE"," ",179],["T_VARIABLE","$file",179],["T_WHITESPACE"," ",179],")",["T_WHITESPACE"," ",179],")",["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'-image'",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_VARIABLE","$ext",179],";",["T_WHITESPACE","\n\t\t\t",179],["T_VARIABLE","$uploaded",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","wp_upload_bits",180],"(",["T_WHITESPACE"," ",180],["T_VARIABLE","$basename",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","''",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$metadata",180],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",180],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",180],"]",["T_WHITESPACE"," ",180],")",";",["T_WHITESPACE","\n\t\t\t",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_WHITESPACE"," ",181],["T_STRING","false",181],["T_WHITESPACE"," ",181],["T_IS_IDENTICAL","===",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$uploaded",181],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",181],"]",["T_WHITESPACE"," ",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n\t\t\t\t",181],["T_VARIABLE","$image_attachment",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_WHITESPACE","\n\t\t\t\t\t",182],["T_CONSTANT_ENCAPSED_STRING","'post_mime_type'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$metadata",183],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mime'",183],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",183],["T_CONSTANT_ENCAPSED_STRING","'post_type'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'attachment'",184],",",["T_WHITESPACE","\n\t\t\t\t\t",184],["T_CONSTANT_ENCAPSED_STRING","'post_content'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],",",["T_WHITESPACE","\n\t\t\t\t",185],")",";",["T_WHITESPACE","\n\t\t\t\t",186],["T_DOC_COMMENT","\/**\n\t\t\t\t * Filters the parameters for the attachment thumbnail creation.\n\t\t\t\t *\n\t\t\t\t * @since 3.9.0\n\t\t\t\t *\n\t\t\t\t * @param array $image_attachment An array of parameters to create the thumbnail.\n\t\t\t\t * @param array $metadata         Current attachment metadata.\n\t\t\t\t * @param array $uploaded         An array containing the thumbnail path and url.\n\t\t\t\t *\/",187],["T_WHITESPACE","\n\t\t\t\t",195],["T_VARIABLE","$image_attachment",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","apply_filters",196],"(",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'attachment_thumbnail_args'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$image_attachment",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$metadata",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$uploaded",196],["T_WHITESPACE"," ",196],")",";",["T_WHITESPACE","\n\n\t\t\t\t",196],["T_VARIABLE","$sub_attachment_id",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","wp_insert_attachment",198],"(",["T_WHITESPACE"," ",198],["T_VARIABLE","$image_attachment",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$uploaded",198],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",198],"]",["T_WHITESPACE"," ",198],")",";",["T_WHITESPACE","\n\t\t\t\t",198],["T_STRING","add_post_meta",199],"(",["T_WHITESPACE"," ",199],["T_VARIABLE","$sub_attachment_id",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'_cover_hash'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$hash",199],["T_WHITESPACE"," ",199],")",";",["T_WHITESPACE","\n\t\t\t\t",199],["T_VARIABLE","$attach_data",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","wp_generate_attachment_metadata",200],"(",["T_WHITESPACE"," ",200],["T_VARIABLE","$sub_attachment_id",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$uploaded",200],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",200],"]",["T_WHITESPACE"," ",200],")",";",["T_WHITESPACE","\n\t\t\t\t",200],["T_STRING","wp_update_attachment_metadata",201],"(",["T_WHITESPACE"," ",201],["T_VARIABLE","$sub_attachment_id",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$attach_data",201],["T_WHITESPACE"," ",201],")",";",["T_WHITESPACE","\n\t\t\t\t",201],["T_STRING","update_post_meta",202],"(",["T_WHITESPACE"," ",202],["T_VARIABLE","$attachment_id",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'_thumbnail_id'",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$sub_attachment_id",202],["T_WHITESPACE"," ",202],")",";",["T_WHITESPACE","\n\t\t\t",202],"}",["T_WHITESPACE","\n\t\t",203],"}",["T_WHITESPACE","\n\t",204],"}",["T_WHITESPACE","\n\t",205],["T_COMMENT","\/\/ Try to create image thumbnails for PDFs\n",206],["T_WHITESPACE","\t",207],["T_ELSE","else",207],["T_WHITESPACE"," ",207],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'application\/pdf'",207],["T_WHITESPACE"," ",207],["T_IS_IDENTICAL","===",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$mime_type",207],["T_WHITESPACE"," ",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n\t\t",207],["T_VARIABLE","$fallback_sizes",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_WHITESPACE","\n\t\t\t",208],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",209],",",["T_WHITESPACE","\n\t\t\t",209],["T_CONSTANT_ENCAPSED_STRING","'medium'",210],",",["T_WHITESPACE","\n\t\t\t",210],["T_CONSTANT_ENCAPSED_STRING","'large'",211],",",["T_WHITESPACE","\n\t\t",211],")",";",["T_WHITESPACE","\n\n\t\t",212],["T_DOC_COMMENT","\/**\n\t\t * Filters the image sizes generated for non-image mime types.\n\t\t *\n\t\t * @since 4.7.0\n\t\t *\n\t\t * @param array $fallback_sizes An array of image size names.\n\t\t *\/",214],["T_WHITESPACE","\n\t\t",220],["T_VARIABLE","$fallback_sizes",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","apply_filters",221],"(",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'fallback_intermediate_image_sizes'",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$fallback_sizes",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$metadata",221],["T_WHITESPACE"," ",221],")",";",["T_WHITESPACE","\n\n\t\t",221],["T_VARIABLE","$sizes",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",";",["T_WHITESPACE","\n\t\t",223],["T_VARIABLE","$_wp_additional_image_sizes",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","wp_get_additional_image_sizes",224],"(",")",";",["T_WHITESPACE","\n\n\t\t",224],["T_FOREACH","foreach",226],["T_WHITESPACE"," ",226],"(",["T_WHITESPACE"," ",226],["T_VARIABLE","$fallback_sizes",226],["T_WHITESPACE"," ",226],["T_AS","as",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$s",226],["T_WHITESPACE"," ",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n\t\t\t",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_WHITESPACE"," ",227],["T_ISSET","isset",227],"(",["T_WHITESPACE"," ",227],["T_VARIABLE","$_wp_additional_image_sizes",227],"[",["T_WHITESPACE"," ",227],["T_VARIABLE","$s",227],["T_WHITESPACE"," ",227],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",227],"]",["T_WHITESPACE"," ",227],")",["T_WHITESPACE"," ",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n\t\t\t\t",227],["T_VARIABLE","$sizes",228],"[",["T_WHITESPACE"," ",228],["T_VARIABLE","$s",228],["T_WHITESPACE"," ",228],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","intval",228],"(",["T_WHITESPACE"," ",228],["T_VARIABLE","$_wp_additional_image_sizes",228],"[",["T_WHITESPACE"," ",228],["T_VARIABLE","$s",228],["T_WHITESPACE"," ",228],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",228],"]",["T_WHITESPACE"," ",228],")",";",["T_WHITESPACE","\n\t\t\t",228],"}",["T_WHITESPACE"," ",229],["T_ELSE","else",229],["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n\t\t\t\t",229],["T_VARIABLE","$sizes",230],"[",["T_WHITESPACE"," ",230],["T_VARIABLE","$s",230],["T_WHITESPACE"," ",230],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",230],"]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","get_option",230],"(",["T_WHITESPACE"," ",230],"\"",["T_CURLY_OPEN","{",230],["T_VARIABLE","$s",230],"}",["T_ENCAPSED_AND_WHITESPACE","_size_w",230],"\"",["T_WHITESPACE"," ",230],")",";",["T_WHITESPACE","\n\t\t\t",230],"}",["T_WHITESPACE","\n\n\t\t\t",231],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_WHITESPACE"," ",233],["T_ISSET","isset",233],"(",["T_WHITESPACE"," ",233],["T_VARIABLE","$_wp_additional_image_sizes",233],"[",["T_WHITESPACE"," ",233],["T_VARIABLE","$s",233],["T_WHITESPACE"," ",233],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",233],"]",["T_WHITESPACE"," ",233],")",["T_WHITESPACE"," ",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n\t\t\t\t",233],["T_VARIABLE","$sizes",234],"[",["T_WHITESPACE"," ",234],["T_VARIABLE","$s",234],["T_WHITESPACE"," ",234],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","intval",234],"(",["T_WHITESPACE"," ",234],["T_VARIABLE","$_wp_additional_image_sizes",234],"[",["T_WHITESPACE"," ",234],["T_VARIABLE","$s",234],["T_WHITESPACE"," ",234],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",234],"]",["T_WHITESPACE"," ",234],")",";",["T_WHITESPACE","\n\t\t\t",234],"}",["T_WHITESPACE"," ",235],["T_ELSE","else",235],["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n\t\t\t\t",235],["T_VARIABLE","$sizes",236],"[",["T_WHITESPACE"," ",236],["T_VARIABLE","$s",236],["T_WHITESPACE"," ",236],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",236],"]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","get_option",236],"(",["T_WHITESPACE"," ",236],"\"",["T_CURLY_OPEN","{",236],["T_VARIABLE","$s",236],"}",["T_ENCAPSED_AND_WHITESPACE","_size_h",236],"\"",["T_WHITESPACE"," ",236],")",";",["T_WHITESPACE","\n\t\t\t",236],"}",["T_WHITESPACE","\n\n\t\t\t",237],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_WHITESPACE"," ",239],["T_ISSET","isset",239],"(",["T_WHITESPACE"," ",239],["T_VARIABLE","$_wp_additional_image_sizes",239],"[",["T_WHITESPACE"," ",239],["T_VARIABLE","$s",239],["T_WHITESPACE"," ",239],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",239],"]",["T_WHITESPACE"," ",239],")",["T_WHITESPACE"," ",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n\t\t\t\t",239],["T_VARIABLE","$sizes",240],"[",["T_WHITESPACE"," ",240],["T_VARIABLE","$s",240],["T_WHITESPACE"," ",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",240],"]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$_wp_additional_image_sizes",240],"[",["T_WHITESPACE"," ",240],["T_VARIABLE","$s",240],["T_WHITESPACE"," ",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",240],"]",";",["T_WHITESPACE","\n\t\t\t",240],"}",["T_WHITESPACE"," ",241],["T_ELSE","else",241],["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n\t\t\t\t",241],["T_COMMENT","\/\/ Force thumbnails to be soft crops.\n",242],["T_WHITESPACE","\t\t\t\t",243],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_WHITESPACE"," ",243],"!",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",243],["T_WHITESPACE"," ",243],["T_IS_IDENTICAL","===",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$s",243],["T_WHITESPACE"," ",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n\t\t\t\t\t",243],["T_VARIABLE","$sizes",244],"[",["T_WHITESPACE"," ",244],["T_VARIABLE","$s",244],["T_WHITESPACE"," ",244],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","get_option",244],"(",["T_WHITESPACE"," ",244],"\"",["T_CURLY_OPEN","{",244],["T_VARIABLE","$s",244],"}",["T_ENCAPSED_AND_WHITESPACE","_crop",244],"\"",["T_WHITESPACE"," ",244],")",";",["T_WHITESPACE","\n\t\t\t\t",244],"}",["T_WHITESPACE","\n\t\t\t",245],"}",["T_WHITESPACE","\n\t\t",246],"}",["T_WHITESPACE","\n\n\t\t",247],["T_COMMENT","\/\/ Only load PDFs in an image editor if we're processing sizes.\n",249],["T_WHITESPACE","\t\t",250],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_WHITESPACE"," ",250],"!",["T_WHITESPACE"," ",250],["T_EMPTY","empty",250],"(",["T_WHITESPACE"," ",250],["T_VARIABLE","$sizes",250],["T_WHITESPACE"," ",250],")",["T_WHITESPACE"," ",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n\t\t\t",250],["T_VARIABLE","$editor",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","wp_get_image_editor",251],"(",["T_WHITESPACE"," ",251],["T_VARIABLE","$file",251],["T_WHITESPACE"," ",251],")",";",["T_WHITESPACE","\n\n\t\t\t",251],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_WHITESPACE"," ",253],"!",["T_WHITESPACE"," ",253],["T_STRING","is_wp_error",253],"(",["T_WHITESPACE"," ",253],["T_VARIABLE","$editor",253],["T_WHITESPACE"," ",253],")",["T_WHITESPACE"," ",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE"," ",253],["T_COMMENT","\/\/ No support for this type of file\n",253],["T_WHITESPACE","\t\t\t\t",254],["T_VARIABLE","$uploaded",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$editor",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","save",254],"(",["T_WHITESPACE"," ",254],["T_VARIABLE","$file",254],",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",254],["T_WHITESPACE"," ",254],")",";",["T_WHITESPACE","\n\t\t\t\t",254],["T_UNSET","unset",255],"(",["T_WHITESPACE"," ",255],["T_VARIABLE","$editor",255],["T_WHITESPACE"," ",255],")",";",["T_WHITESPACE","\n\n\t\t\t\t",255],["T_COMMENT","\/\/ Resize based on the full size image, rather than the source.\n",257],["T_WHITESPACE","\t\t\t\t",258],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_WHITESPACE"," ",258],"!",["T_WHITESPACE"," ",258],["T_STRING","is_wp_error",258],"(",["T_WHITESPACE"," ",258],["T_VARIABLE","$uploaded",258],["T_WHITESPACE"," ",258],")",["T_WHITESPACE"," ",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\t\t\t\t\t",258],["T_VARIABLE","$editor",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","wp_get_image_editor",259],"(",["T_WHITESPACE"," ",259],["T_VARIABLE","$uploaded",259],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",259],"]",["T_WHITESPACE"," ",259],")",";",["T_WHITESPACE","\n\t\t\t\t\t",259],["T_UNSET","unset",260],"(",["T_WHITESPACE"," ",260],["T_VARIABLE","$uploaded",260],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",260],"]",["T_WHITESPACE"," ",260],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",260],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_WHITESPACE"," ",262],"!",["T_WHITESPACE"," ",262],["T_STRING","is_wp_error",262],"(",["T_WHITESPACE"," ",262],["T_VARIABLE","$editor",262],["T_WHITESPACE"," ",262],")",["T_WHITESPACE"," ",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",262],["T_VARIABLE","$metadata",263],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$editor",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","multi_resize",263],"(",["T_WHITESPACE"," ",263],["T_VARIABLE","$sizes",263],["T_WHITESPACE"," ",263],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",263],["T_VARIABLE","$metadata",264],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",264],"]","[",["T_CONSTANT_ENCAPSED_STRING","'full'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$uploaded",264],";",["T_WHITESPACE","\n\t\t\t\t\t",264],"}",["T_WHITESPACE","\n\t\t\t\t",265],"}",["T_WHITESPACE","\n\t\t\t",266],"}",["T_WHITESPACE","\n\t\t",267],"}",["T_WHITESPACE","\n\t",268],"}",["T_WHITESPACE","\n\n\t",269],["T_COMMENT","\/\/ Remove the blob of binary data from the array.\n",271],["T_WHITESPACE","\t",272],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_WHITESPACE"," ",272],["T_VARIABLE","$metadata",272],["T_WHITESPACE"," ",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n\t\t",272],["T_UNSET","unset",273],"(",["T_WHITESPACE"," ",273],["T_VARIABLE","$metadata",273],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",273],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",273],"]",["T_WHITESPACE"," ",273],")",";",["T_WHITESPACE","\n\t",273],"}",["T_WHITESPACE","\n\n\t",274],["T_DOC_COMMENT","\/**\n\t * Filters the generated attachment meta data.\n\t *\n\t * @since 2.1.0\n\t *\n\t * @param array $metadata      An array of attachment meta data.\n\t * @param int   $attachment_id Current attachment ID.\n\t *\/",276],["T_WHITESPACE","\n\t",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_STRING","apply_filters",284],"(",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'wp_generate_attachment_metadata'",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$metadata",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$attachment_id",284],["T_WHITESPACE"," ",284],")",";",["T_WHITESPACE","\n",284],"}",["T_WHITESPACE","\n\n",285],["T_DOC_COMMENT","\/**\n * Convert a fraction string to a decimal.\n *\n * @since 2.5.0\n *\n * @param string $str\n * @return int|float\n *\/",287],["T_WHITESPACE","\n",294],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","wp_exif_frac2dec",295],"(",["T_VARIABLE","$str",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n\t",295],"@",["T_LIST","list",296],"(",["T_WHITESPACE"," ",296],["T_VARIABLE","$n",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$d",296],["T_WHITESPACE"," ",296],")",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","explode",296],"(",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'\/'",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$str",296],["T_WHITESPACE"," ",296],")",";",["T_WHITESPACE","\n\t",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_WHITESPACE"," ",297],"!",["T_EMPTY","empty",297],"(",["T_VARIABLE","$d",297],")",["T_WHITESPACE"," ",297],")",["T_WHITESPACE","\n\t\t",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$n",298],["T_WHITESPACE"," ",298],"\/",["T_WHITESPACE"," ",298],["T_VARIABLE","$d",298],";",["T_WHITESPACE","\n\t",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$str",299],";",["T_WHITESPACE","\n",299],"}",["T_WHITESPACE","\n\n",300],["T_DOC_COMMENT","\/**\n * Convert the exif date format to a unix timestamp.\n *\n * @since 2.5.0\n *\n * @param string $str\n * @return int\n *\/",302],["T_WHITESPACE","\n",309],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","wp_exif_date2ts",310],"(",["T_VARIABLE","$str",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n\t",310],"@",["T_LIST","list",311],"(",["T_WHITESPACE"," ",311],["T_VARIABLE","$date",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$time",311],["T_WHITESPACE"," ",311],")",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","explode",311],"(",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","' '",311],",",["T_WHITESPACE"," ",311],["T_STRING","trim",311],"(",["T_VARIABLE","$str",311],")",["T_WHITESPACE"," ",311],")",";",["T_WHITESPACE","\n\t",311],"@",["T_LIST","list",312],"(",["T_WHITESPACE"," ",312],["T_VARIABLE","$y",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$m",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$d",312],["T_WHITESPACE"," ",312],")",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","explode",312],"(",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","':'",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$date",312],["T_WHITESPACE"," ",312],")",";",["T_WHITESPACE","\n\n\t",312],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_STRING","strtotime",314],"(",["T_WHITESPACE"," ",314],"\"",["T_CURLY_OPEN","{",314],["T_VARIABLE","$y",314],"}",["T_ENCAPSED_AND_WHITESPACE","-",314],["T_CURLY_OPEN","{",314],["T_VARIABLE","$m",314],"}",["T_ENCAPSED_AND_WHITESPACE","-",314],["T_CURLY_OPEN","{",314],["T_VARIABLE","$d",314],"}",["T_ENCAPSED_AND_WHITESPACE"," ",314],["T_CURLY_OPEN","{",314],["T_VARIABLE","$time",314],"}","\"",["T_WHITESPACE"," ",314],")",";",["T_WHITESPACE","\n",314],"}",["T_WHITESPACE","\n\n",315],["T_DOC_COMMENT","\/**\n * Get extended image metadata, exif or iptc as available.\n *\n * Retrieves the EXIF metadata aperture, credit, camera, caption, copyright, iso\n * created_timestamp, focal_length, shutter_speed, and title.\n *\n * The IPTC metadata that is retrieved is APP13, credit, byline, created date\n * and time, caption, copyright, and title. Also includes FNumber, Model,\n * DateTimeDigitized, FocalLength, ISOSpeedRatings, and ExposureTime.\n *\n * @todo Try other exif libraries if available.\n * @since 2.5.0\n *\n * @param string $file\n * @return bool|array False on failure. Image metadata array on success.\n *\/",317],["T_WHITESPACE","\n",332],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","wp_read_image_metadata",333],"(",["T_WHITESPACE"," ",333],["T_VARIABLE","$file",333],["T_WHITESPACE"," ",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n\t",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_WHITESPACE"," ",334],"!",["T_WHITESPACE"," ",334],["T_STRING","file_exists",334],"(",["T_WHITESPACE"," ",334],["T_VARIABLE","$file",334],["T_WHITESPACE"," ",334],")",["T_WHITESPACE"," ",334],")",["T_WHITESPACE","\n\t\t",334],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_STRING","false",335],";",["T_WHITESPACE","\n\n\t",335],["T_LIST","list",337],"(",["T_WHITESPACE"," ",337],",",["T_WHITESPACE"," ",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$sourceImageType",337],["T_WHITESPACE"," ",337],")",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_STRING","getimagesize",337],"(",["T_WHITESPACE"," ",337],["T_VARIABLE","$file",337],["T_WHITESPACE"," ",337],")",";",["T_WHITESPACE","\n\n\t",337],["T_COMMENT","\/*\n\t * EXIF contains a bunch of data we'll probably never need formatted in ways\n\t * that are difficult to use. We'll normalize it and just extract the fields\n\t * that are likely to be useful. Fractions and numbers are converted to\n\t * floats, dates to unix timestamps, and everything else to strings.\n\t *\/",339],["T_WHITESPACE","\n\t",344],["T_VARIABLE","$meta",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",["T_WHITESPACE","\n\t\t",345],["T_CONSTANT_ENCAPSED_STRING","'aperture'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_LNUMBER","0",346],",",["T_WHITESPACE","\n\t\t",346],["T_CONSTANT_ENCAPSED_STRING","'credit'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","''",347],",",["T_WHITESPACE","\n\t\t",347],["T_CONSTANT_ENCAPSED_STRING","'camera'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","''",348],",",["T_WHITESPACE","\n\t\t",348],["T_CONSTANT_ENCAPSED_STRING","'caption'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","''",349],",",["T_WHITESPACE","\n\t\t",349],["T_CONSTANT_ENCAPSED_STRING","'created_timestamp'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_LNUMBER","0",350],",",["T_WHITESPACE","\n\t\t",350],["T_CONSTANT_ENCAPSED_STRING","'copyright'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","''",351],",",["T_WHITESPACE","\n\t\t",351],["T_CONSTANT_ENCAPSED_STRING","'focal_length'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_LNUMBER","0",352],",",["T_WHITESPACE","\n\t\t",352],["T_CONSTANT_ENCAPSED_STRING","'iso'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_LNUMBER","0",353],",",["T_WHITESPACE","\n\t\t",353],["T_CONSTANT_ENCAPSED_STRING","'shutter_speed'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_LNUMBER","0",354],",",["T_WHITESPACE","\n\t\t",354],["T_CONSTANT_ENCAPSED_STRING","'title'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","''",355],",",["T_WHITESPACE","\n\t\t",355],["T_CONSTANT_ENCAPSED_STRING","'orientation'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_LNUMBER","0",356],",",["T_WHITESPACE","\n\t\t",356],["T_CONSTANT_ENCAPSED_STRING","'keywords'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_ARRAY","array",357],"(",")",",",["T_WHITESPACE","\n\t",357],")",";",["T_WHITESPACE","\n\n\t",358],["T_VARIABLE","$iptc",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_ARRAY","array",360],"(",")",";",["T_WHITESPACE","\n\t",360],["T_COMMENT","\/*\n\t * Read IPTC first, since it might contain data not available in exif such\n\t * as caption, description etc.\n\t *\/",361],["T_WHITESPACE","\n\t",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_WHITESPACE"," ",365],["T_STRING","is_callable",365],"(",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'iptcparse'",365],["T_WHITESPACE"," ",365],")",["T_WHITESPACE"," ",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n\t\t",365],["T_STRING","getimagesize",366],"(",["T_WHITESPACE"," ",366],["T_VARIABLE","$file",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$info",366],["T_WHITESPACE"," ",366],")",";",["T_WHITESPACE","\n\n\t\t",366],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_WHITESPACE"," ",368],"!",["T_WHITESPACE"," ",368],["T_EMPTY","empty",368],"(",["T_WHITESPACE"," ",368],["T_VARIABLE","$info",368],"[",["T_CONSTANT_ENCAPSED_STRING","'APP13'",368],"]",["T_WHITESPACE"," ",368],")",["T_WHITESPACE"," ",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n\t\t\t",368],["T_VARIABLE","$iptc",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","iptcparse",369],"(",["T_WHITESPACE"," ",369],["T_VARIABLE","$info",369],"[",["T_CONSTANT_ENCAPSED_STRING","'APP13'",369],"]",["T_WHITESPACE"," ",369],")",";",["T_WHITESPACE","\n\n\t\t\t",369],["T_COMMENT","\/\/ Headline, \"A brief synopsis of the caption.\"\n",371],["T_WHITESPACE","\t\t\t",372],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_WHITESPACE"," ",372],"!",["T_WHITESPACE"," ",372],["T_EMPTY","empty",372],"(",["T_WHITESPACE"," ",372],["T_VARIABLE","$iptc",372],"[",["T_CONSTANT_ENCAPSED_STRING","'2#105'",372],"]","[",["T_LNUMBER","0",372],"]",["T_WHITESPACE"," ",372],")",["T_WHITESPACE"," ",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n\t\t\t\t",372],["T_VARIABLE","$meta",373],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",373],"]",["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","trim",373],"(",["T_WHITESPACE"," ",373],["T_VARIABLE","$iptc",373],"[",["T_CONSTANT_ENCAPSED_STRING","'2#105'",373],"]","[",["T_LNUMBER","0",373],"]",["T_WHITESPACE"," ",373],")",";",["T_WHITESPACE","\n\t\t\t",373],["T_COMMENT","\/*\n\t\t\t * Title, \"Many use the Title field to store the filename of the image,\n\t\t\t * though the field may be used in many ways.\"\n\t\t\t *\/",374],["T_WHITESPACE","\n\t\t\t",377],"}",["T_WHITESPACE"," ",378],["T_ELSEIF","elseif",378],["T_WHITESPACE"," ",378],"(",["T_WHITESPACE"," ",378],"!",["T_WHITESPACE"," ",378],["T_EMPTY","empty",378],"(",["T_WHITESPACE"," ",378],["T_VARIABLE","$iptc",378],"[",["T_CONSTANT_ENCAPSED_STRING","'2#005'",378],"]","[",["T_LNUMBER","0",378],"]",["T_WHITESPACE"," ",378],")",["T_WHITESPACE"," ",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n\t\t\t\t",378],["T_VARIABLE","$meta",379],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",379],"]",["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","trim",379],"(",["T_WHITESPACE"," ",379],["T_VARIABLE","$iptc",379],"[",["T_CONSTANT_ENCAPSED_STRING","'2#005'",379],"]","[",["T_LNUMBER","0",379],"]",["T_WHITESPACE"," ",379],")",";",["T_WHITESPACE","\n\t\t\t",379],"}",["T_WHITESPACE","\n\n\t\t\t",380],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_WHITESPACE"," ",382],"!",["T_WHITESPACE"," ",382],["T_EMPTY","empty",382],"(",["T_WHITESPACE"," ",382],["T_VARIABLE","$iptc",382],"[",["T_CONSTANT_ENCAPSED_STRING","'2#120'",382],"]","[",["T_LNUMBER","0",382],"]",["T_WHITESPACE"," ",382],")",["T_WHITESPACE"," ",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE"," ",382],["T_COMMENT","\/\/ description \/ legacy caption\n",382],["T_WHITESPACE","\t\t\t\t",383],["T_VARIABLE","$caption",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","trim",383],"(",["T_WHITESPACE"," ",383],["T_VARIABLE","$iptc",383],"[",["T_CONSTANT_ENCAPSED_STRING","'2#120'",383],"]","[",["T_LNUMBER","0",383],"]",["T_WHITESPACE"," ",383],")",";",["T_WHITESPACE","\n\n\t\t\t\t",383],["T_STRING","mbstring_binary_safe_encoding",385],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",385],["T_VARIABLE","$caption_length",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_STRING","strlen",386],"(",["T_WHITESPACE"," ",386],["T_VARIABLE","$caption",386],["T_WHITESPACE"," ",386],")",";",["T_WHITESPACE","\n\t\t\t\t",386],["T_STRING","reset_mbstring_encoding",387],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",387],["T_IF","if",389],["T_WHITESPACE"," ",389],"(",["T_WHITESPACE"," ",389],["T_EMPTY","empty",389],"(",["T_WHITESPACE"," ",389],["T_VARIABLE","$meta",389],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",389],"]",["T_WHITESPACE"," ",389],")",["T_WHITESPACE"," ",389],["T_BOOLEAN_AND","&&",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$caption_length",389],["T_WHITESPACE"," ",389],"<",["T_WHITESPACE"," ",389],["T_LNUMBER","80",389],["T_WHITESPACE"," ",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n\t\t\t\t\t",389],["T_COMMENT","\/\/ Assume the title is stored in 2:120 if it's short.\n",390],["T_WHITESPACE","\t\t\t\t\t",391],["T_VARIABLE","$meta",391],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",391],"]",["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$caption",391],";",["T_WHITESPACE","\n\t\t\t\t",391],"}",["T_WHITESPACE","\n\n\t\t\t\t",392],["T_VARIABLE","$meta",394],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",394],"]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$caption",394],";",["T_WHITESPACE","\n\t\t\t",394],"}",["T_WHITESPACE","\n\n\t\t\t",395],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_WHITESPACE"," ",397],"!",["T_WHITESPACE"," ",397],["T_EMPTY","empty",397],"(",["T_WHITESPACE"," ",397],["T_VARIABLE","$iptc",397],"[",["T_CONSTANT_ENCAPSED_STRING","'2#110'",397],"]","[",["T_LNUMBER","0",397],"]",["T_WHITESPACE"," ",397],")",["T_WHITESPACE"," ",397],")",["T_WHITESPACE"," ",397],["T_COMMENT","\/\/ credit\n",397],["T_WHITESPACE","\t\t\t\t",398],["T_VARIABLE","$meta",398],"[",["T_CONSTANT_ENCAPSED_STRING","'credit'",398],"]",["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_STRING","trim",398],"(",["T_WHITESPACE"," ",398],["T_VARIABLE","$iptc",398],"[",["T_CONSTANT_ENCAPSED_STRING","'2#110'",398],"]","[",["T_LNUMBER","0",398],"]",["T_WHITESPACE"," ",398],")",";",["T_WHITESPACE","\n\t\t\t",398],["T_ELSEIF","elseif",399],["T_WHITESPACE"," ",399],"(",["T_WHITESPACE"," ",399],"!",["T_WHITESPACE"," ",399],["T_EMPTY","empty",399],"(",["T_WHITESPACE"," ",399],["T_VARIABLE","$iptc",399],"[",["T_CONSTANT_ENCAPSED_STRING","'2#080'",399],"]","[",["T_LNUMBER","0",399],"]",["T_WHITESPACE"," ",399],")",["T_WHITESPACE"," ",399],")",["T_WHITESPACE"," ",399],["T_COMMENT","\/\/ creator \/ legacy byline\n",399],["T_WHITESPACE","\t\t\t\t",400],["T_VARIABLE","$meta",400],"[",["T_CONSTANT_ENCAPSED_STRING","'credit'",400],"]",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","trim",400],"(",["T_WHITESPACE"," ",400],["T_VARIABLE","$iptc",400],"[",["T_CONSTANT_ENCAPSED_STRING","'2#080'",400],"]","[",["T_LNUMBER","0",400],"]",["T_WHITESPACE"," ",400],")",";",["T_WHITESPACE","\n\n\t\t\t",400],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_WHITESPACE"," ",402],"!",["T_WHITESPACE"," ",402],["T_EMPTY","empty",402],"(",["T_WHITESPACE"," ",402],["T_VARIABLE","$iptc",402],"[",["T_CONSTANT_ENCAPSED_STRING","'2#055'",402],"]","[",["T_LNUMBER","0",402],"]",["T_WHITESPACE"," ",402],")",["T_WHITESPACE"," ",402],["T_BOOLEAN_AND","&&",402],["T_WHITESPACE"," ",402],"!",["T_WHITESPACE"," ",402],["T_EMPTY","empty",402],"(",["T_WHITESPACE"," ",402],["T_VARIABLE","$iptc",402],"[",["T_CONSTANT_ENCAPSED_STRING","'2#060'",402],"]","[",["T_LNUMBER","0",402],"]",["T_WHITESPACE"," ",402],")",["T_WHITESPACE"," ",402],")",["T_WHITESPACE"," ",402],["T_COMMENT","\/\/ created date and time\n",402],["T_WHITESPACE","\t\t\t\t",403],["T_VARIABLE","$meta",403],"[",["T_CONSTANT_ENCAPSED_STRING","'created_timestamp'",403],"]",["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_STRING","strtotime",403],"(",["T_WHITESPACE"," ",403],["T_VARIABLE","$iptc",403],"[",["T_CONSTANT_ENCAPSED_STRING","'2#055'",403],"]","[",["T_LNUMBER","0",403],"]",["T_WHITESPACE"," ",403],".",["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","' '",403],["T_WHITESPACE"," ",403],".",["T_WHITESPACE"," ",403],["T_VARIABLE","$iptc",403],"[",["T_CONSTANT_ENCAPSED_STRING","'2#060'",403],"]","[",["T_LNUMBER","0",403],"]",["T_WHITESPACE"," ",403],")",";",["T_WHITESPACE","\n\n\t\t\t",403],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_WHITESPACE"," ",405],"!",["T_WHITESPACE"," ",405],["T_EMPTY","empty",405],"(",["T_WHITESPACE"," ",405],["T_VARIABLE","$iptc",405],"[",["T_CONSTANT_ENCAPSED_STRING","'2#116'",405],"]","[",["T_LNUMBER","0",405],"]",["T_WHITESPACE"," ",405],")",["T_WHITESPACE"," ",405],")",["T_WHITESPACE"," ",405],["T_COMMENT","\/\/ copyright\n",405],["T_WHITESPACE","\t\t\t\t",406],["T_VARIABLE","$meta",406],"[",["T_CONSTANT_ENCAPSED_STRING","'copyright'",406],"]",["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_STRING","trim",406],"(",["T_WHITESPACE"," ",406],["T_VARIABLE","$iptc",406],"[",["T_CONSTANT_ENCAPSED_STRING","'2#116'",406],"]","[",["T_LNUMBER","0",406],"]",["T_WHITESPACE"," ",406],")",";",["T_WHITESPACE","\n\n\t\t\t",406],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_WHITESPACE"," ",408],"!",["T_WHITESPACE"," ",408],["T_EMPTY","empty",408],"(",["T_WHITESPACE"," ",408],["T_VARIABLE","$iptc",408],"[",["T_CONSTANT_ENCAPSED_STRING","'2#025'",408],"]","[",["T_LNUMBER","0",408],"]",["T_WHITESPACE"," ",408],")",["T_WHITESPACE"," ",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE"," ",408],["T_COMMENT","\/\/ keywords array\n",408],["T_WHITESPACE","\t\t\t\t",409],["T_VARIABLE","$meta",409],"[",["T_CONSTANT_ENCAPSED_STRING","'keywords'",409],"]",["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","array_values",409],"(",["T_WHITESPACE"," ",409],["T_VARIABLE","$iptc",409],"[",["T_CONSTANT_ENCAPSED_STRING","'2#025'",409],"]",["T_WHITESPACE"," ",409],")",";",["T_WHITESPACE","\n\t\t\t",409],"}",["T_WHITESPACE","\n\t\t ",410],"}",["T_WHITESPACE","\n\t",411],"}",["T_WHITESPACE","\n\n\t",412],["T_DOC_COMMENT","\/**\n\t * Filters the image types to check for exif data.\n\t *\n\t * @since 2.5.0\n\t *\n\t * @param array $image_types Image types to check for exif data.\n\t *\/",414],["T_WHITESPACE","\n\t",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_WHITESPACE"," ",421],["T_STRING","is_callable",421],"(",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'exif_read_data'",421],["T_WHITESPACE"," ",421],")",["T_WHITESPACE"," ",421],["T_BOOLEAN_AND","&&",421],["T_WHITESPACE"," ",421],["T_STRING","in_array",421],"(",["T_WHITESPACE"," ",421],["T_VARIABLE","$sourceImageType",421],",",["T_WHITESPACE"," ",421],["T_STRING","apply_filters",421],"(",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'wp_read_image_metadata_types'",421],",",["T_WHITESPACE"," ",421],["T_ARRAY","array",421],"(",["T_WHITESPACE"," ",421],["T_STRING","IMAGETYPE_JPEG",421],",",["T_WHITESPACE"," ",421],["T_STRING","IMAGETYPE_TIFF_II",421],",",["T_WHITESPACE"," ",421],["T_STRING","IMAGETYPE_TIFF_MM",421],["T_WHITESPACE"," ",421],")",["T_WHITESPACE"," ",421],")",["T_WHITESPACE"," ",421],")",["T_WHITESPACE"," ",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n\t\t",421],["T_VARIABLE","$exif",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],"@",["T_STRING","exif_read_data",422],"(",["T_WHITESPACE"," ",422],["T_VARIABLE","$file",422],["T_WHITESPACE"," ",422],")",";",["T_WHITESPACE","\n\n\t\t",422],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_WHITESPACE"," ",424],"!",["T_WHITESPACE"," ",424],["T_EMPTY","empty",424],"(",["T_WHITESPACE"," ",424],["T_VARIABLE","$exif",424],"[",["T_CONSTANT_ENCAPSED_STRING","'ImageDescription'",424],"]",["T_WHITESPACE"," ",424],")",["T_WHITESPACE"," ",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n\t\t\t",424],["T_STRING","mbstring_binary_safe_encoding",425],"(",")",";",["T_WHITESPACE","\n\t\t\t",425],["T_VARIABLE","$description_length",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_STRING","strlen",426],"(",["T_WHITESPACE"," ",426],["T_VARIABLE","$exif",426],"[",["T_CONSTANT_ENCAPSED_STRING","'ImageDescription'",426],"]",["T_WHITESPACE"," ",426],")",";",["T_WHITESPACE","\n\t\t\t",426],["T_STRING","reset_mbstring_encoding",427],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",427],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_WHITESPACE"," ",429],["T_EMPTY","empty",429],"(",["T_WHITESPACE"," ",429],["T_VARIABLE","$meta",429],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",429],"]",["T_WHITESPACE"," ",429],")",["T_WHITESPACE"," ",429],["T_BOOLEAN_AND","&&",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$description_length",429],["T_WHITESPACE"," ",429],"<",["T_WHITESPACE"," ",429],["T_LNUMBER","80",429],["T_WHITESPACE"," ",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n\t\t\t\t",429],["T_COMMENT","\/\/ Assume the title is stored in ImageDescription\n",430],["T_WHITESPACE","\t\t\t\t",431],["T_VARIABLE","$meta",431],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",431],"]",["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","trim",431],"(",["T_WHITESPACE"," ",431],["T_VARIABLE","$exif",431],"[",["T_CONSTANT_ENCAPSED_STRING","'ImageDescription'",431],"]",["T_WHITESPACE"," ",431],")",";",["T_WHITESPACE","\n\t\t\t",431],"}",["T_WHITESPACE","\n\n\t\t\t",432],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_WHITESPACE"," ",434],["T_EMPTY","empty",434],"(",["T_WHITESPACE"," ",434],["T_VARIABLE","$meta",434],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",434],"]",["T_WHITESPACE"," ",434],")",["T_WHITESPACE"," ",434],["T_BOOLEAN_AND","&&",434],["T_WHITESPACE"," ",434],"!",["T_WHITESPACE"," ",434],["T_EMPTY","empty",434],"(",["T_WHITESPACE"," ",434],["T_VARIABLE","$exif",434],"[",["T_CONSTANT_ENCAPSED_STRING","'COMPUTED'",434],"]","[",["T_CONSTANT_ENCAPSED_STRING","'UserComment'",434],"]",["T_WHITESPACE"," ",434],")",["T_WHITESPACE"," ",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n\t\t\t\t",434],["T_VARIABLE","$meta",435],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",435],"]",["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_STRING","trim",435],"(",["T_WHITESPACE"," ",435],["T_VARIABLE","$exif",435],"[",["T_CONSTANT_ENCAPSED_STRING","'COMPUTED'",435],"]","[",["T_CONSTANT_ENCAPSED_STRING","'UserComment'",435],"]",["T_WHITESPACE"," ",435],")",";",["T_WHITESPACE","\n\t\t\t",435],"}",["T_WHITESPACE","\n\n\t\t\t",436],["T_IF","if",438],["T_WHITESPACE"," ",438],"(",["T_WHITESPACE"," ",438],["T_EMPTY","empty",438],"(",["T_WHITESPACE"," ",438],["T_VARIABLE","$meta",438],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",438],"]",["T_WHITESPACE"," ",438],")",["T_WHITESPACE"," ",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n\t\t\t\t",438],["T_VARIABLE","$meta",439],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",439],"]",["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_STRING","trim",439],"(",["T_WHITESPACE"," ",439],["T_VARIABLE","$exif",439],"[",["T_CONSTANT_ENCAPSED_STRING","'ImageDescription'",439],"]",["T_WHITESPACE"," ",439],")",";",["T_WHITESPACE","\n\t\t\t",439],"}",["T_WHITESPACE","\n\t\t",440],"}",["T_WHITESPACE"," ",441],["T_ELSEIF","elseif",441],["T_WHITESPACE"," ",441],"(",["T_WHITESPACE"," ",441],["T_EMPTY","empty",441],"(",["T_WHITESPACE"," ",441],["T_VARIABLE","$meta",441],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",441],"]",["T_WHITESPACE"," ",441],")",["T_WHITESPACE"," ",441],["T_BOOLEAN_AND","&&",441],["T_WHITESPACE"," ",441],"!",["T_WHITESPACE"," ",441],["T_EMPTY","empty",441],"(",["T_WHITESPACE"," ",441],["T_VARIABLE","$exif",441],"[",["T_CONSTANT_ENCAPSED_STRING","'Comments'",441],"]",["T_WHITESPACE"," ",441],")",["T_WHITESPACE"," ",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n\t\t\t",441],["T_VARIABLE","$meta",442],"[",["T_CONSTANT_ENCAPSED_STRING","'caption'",442],"]",["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","trim",442],"(",["T_WHITESPACE"," ",442],["T_VARIABLE","$exif",442],"[",["T_CONSTANT_ENCAPSED_STRING","'Comments'",442],"]",["T_WHITESPACE"," ",442],")",";",["T_WHITESPACE","\n\t\t",442],"}",["T_WHITESPACE","\n\n\t\t",443],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_WHITESPACE"," ",445],["T_EMPTY","empty",445],"(",["T_WHITESPACE"," ",445],["T_VARIABLE","$meta",445],"[",["T_CONSTANT_ENCAPSED_STRING","'credit'",445],"]",["T_WHITESPACE"," ",445],")",["T_WHITESPACE"," ",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n\t\t\t",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_WHITESPACE"," ",446],"!",["T_WHITESPACE"," ",446],["T_EMPTY","empty",446],"(",["T_WHITESPACE"," ",446],["T_VARIABLE","$exif",446],"[",["T_CONSTANT_ENCAPSED_STRING","'Artist'",446],"]",["T_WHITESPACE"," ",446],")",["T_WHITESPACE"," ",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n\t\t\t\t",446],["T_VARIABLE","$meta",447],"[",["T_CONSTANT_ENCAPSED_STRING","'credit'",447],"]",["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_STRING","trim",447],"(",["T_WHITESPACE"," ",447],["T_VARIABLE","$exif",447],"[",["T_CONSTANT_ENCAPSED_STRING","'Artist'",447],"]",["T_WHITESPACE"," ",447],")",";",["T_WHITESPACE","\n\t\t\t",447],"}",["T_WHITESPACE"," ",448],["T_ELSEIF","elseif",448],["T_WHITESPACE"," ",448],"(",["T_WHITESPACE"," ",448],"!",["T_WHITESPACE"," ",448],["T_EMPTY","empty",448],"(",["T_VARIABLE","$exif",448],"[",["T_CONSTANT_ENCAPSED_STRING","'Author'",448],"]",["T_WHITESPACE"," ",448],")",["T_WHITESPACE"," ",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n\t\t\t\t",448],["T_VARIABLE","$meta",449],"[",["T_CONSTANT_ENCAPSED_STRING","'credit'",449],"]",["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_STRING","trim",449],"(",["T_WHITESPACE"," ",449],["T_VARIABLE","$exif",449],"[",["T_CONSTANT_ENCAPSED_STRING","'Author'",449],"]",["T_WHITESPACE"," ",449],")",";",["T_WHITESPACE","\n\t\t\t",449],"}",["T_WHITESPACE","\n\t\t",450],"}",["T_WHITESPACE","\n\n\t\t",451],["T_IF","if",453],["T_WHITESPACE"," ",453],"(",["T_WHITESPACE"," ",453],["T_EMPTY","empty",453],"(",["T_WHITESPACE"," ",453],["T_VARIABLE","$meta",453],"[",["T_CONSTANT_ENCAPSED_STRING","'copyright'",453],"]",["T_WHITESPACE"," ",453],")",["T_WHITESPACE"," ",453],["T_BOOLEAN_AND","&&",453],["T_WHITESPACE"," ",453],"!",["T_WHITESPACE"," ",453],["T_EMPTY","empty",453],"(",["T_WHITESPACE"," ",453],["T_VARIABLE","$exif",453],"[",["T_CONSTANT_ENCAPSED_STRING","'Copyright'",453],"]",["T_WHITESPACE"," ",453],")",["T_WHITESPACE"," ",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n\t\t\t",453],["T_VARIABLE","$meta",454],"[",["T_CONSTANT_ENCAPSED_STRING","'copyright'",454],"]",["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","trim",454],"(",["T_WHITESPACE"," ",454],["T_VARIABLE","$exif",454],"[",["T_CONSTANT_ENCAPSED_STRING","'Copyright'",454],"]",["T_WHITESPACE"," ",454],")",";",["T_WHITESPACE","\n\t\t",454],"}",["T_WHITESPACE","\n\t\t",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(",["T_WHITESPACE"," ",456],"!",["T_WHITESPACE"," ",456],["T_EMPTY","empty",456],"(",["T_WHITESPACE"," ",456],["T_VARIABLE","$exif",456],"[",["T_CONSTANT_ENCAPSED_STRING","'FNumber'",456],"]",["T_WHITESPACE"," ",456],")",["T_WHITESPACE"," ",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n\t\t\t",456],["T_VARIABLE","$meta",457],"[",["T_CONSTANT_ENCAPSED_STRING","'aperture'",457],"]",["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","round",457],"(",["T_WHITESPACE"," ",457],["T_STRING","wp_exif_frac2dec",457],"(",["T_WHITESPACE"," ",457],["T_VARIABLE","$exif",457],"[",["T_CONSTANT_ENCAPSED_STRING","'FNumber'",457],"]",["T_WHITESPACE"," ",457],")",",",["T_WHITESPACE"," ",457],["T_LNUMBER","2",457],["T_WHITESPACE"," ",457],")",";",["T_WHITESPACE","\n\t\t",457],"}",["T_WHITESPACE","\n\t\t",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_WHITESPACE"," ",459],"!",["T_WHITESPACE"," ",459],["T_EMPTY","empty",459],"(",["T_WHITESPACE"," ",459],["T_VARIABLE","$exif",459],"[",["T_CONSTANT_ENCAPSED_STRING","'Model'",459],"]",["T_WHITESPACE"," ",459],")",["T_WHITESPACE"," ",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n\t\t\t",459],["T_VARIABLE","$meta",460],"[",["T_CONSTANT_ENCAPSED_STRING","'camera'",460],"]",["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_STRING","trim",460],"(",["T_WHITESPACE"," ",460],["T_VARIABLE","$exif",460],"[",["T_CONSTANT_ENCAPSED_STRING","'Model'",460],"]",["T_WHITESPACE"," ",460],")",";",["T_WHITESPACE","\n\t\t",460],"}",["T_WHITESPACE","\n\t\t",461],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_WHITESPACE"," ",462],["T_EMPTY","empty",462],"(",["T_WHITESPACE"," ",462],["T_VARIABLE","$meta",462],"[",["T_CONSTANT_ENCAPSED_STRING","'created_timestamp'",462],"]",["T_WHITESPACE"," ",462],")",["T_WHITESPACE"," ",462],["T_BOOLEAN_AND","&&",462],["T_WHITESPACE"," ",462],"!",["T_WHITESPACE"," ",462],["T_EMPTY","empty",462],"(",["T_WHITESPACE"," ",462],["T_VARIABLE","$exif",462],"[",["T_CONSTANT_ENCAPSED_STRING","'DateTimeDigitized'",462],"]",["T_WHITESPACE"," ",462],")",["T_WHITESPACE"," ",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n\t\t\t",462],["T_VARIABLE","$meta",463],"[",["T_CONSTANT_ENCAPSED_STRING","'created_timestamp'",463],"]",["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_STRING","wp_exif_date2ts",463],"(",["T_WHITESPACE"," ",463],["T_VARIABLE","$exif",463],"[",["T_CONSTANT_ENCAPSED_STRING","'DateTimeDigitized'",463],"]",["T_WHITESPACE"," ",463],")",";",["T_WHITESPACE","\n\t\t",463],"}",["T_WHITESPACE","\n\t\t",464],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_WHITESPACE"," ",465],"!",["T_WHITESPACE"," ",465],["T_EMPTY","empty",465],"(",["T_WHITESPACE"," ",465],["T_VARIABLE","$exif",465],"[",["T_CONSTANT_ENCAPSED_STRING","'FocalLength'",465],"]",["T_WHITESPACE"," ",465],")",["T_WHITESPACE"," ",465],")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n\t\t\t",465],["T_VARIABLE","$meta",466],"[",["T_CONSTANT_ENCAPSED_STRING","'focal_length'",466],"]",["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_STRING_CAST","(string)",466],["T_WHITESPACE"," ",466],["T_STRING","wp_exif_frac2dec",466],"(",["T_WHITESPACE"," ",466],["T_VARIABLE","$exif",466],"[",["T_CONSTANT_ENCAPSED_STRING","'FocalLength'",466],"]",["T_WHITESPACE"," ",466],")",";",["T_WHITESPACE","\n\t\t",466],"}",["T_WHITESPACE","\n\t\t",467],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_WHITESPACE"," ",468],"!",["T_WHITESPACE"," ",468],["T_EMPTY","empty",468],"(",["T_WHITESPACE"," ",468],["T_VARIABLE","$exif",468],"[",["T_CONSTANT_ENCAPSED_STRING","'ISOSpeedRatings'",468],"]",["T_WHITESPACE"," ",468],")",["T_WHITESPACE"," ",468],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n\t\t\t",468],["T_VARIABLE","$meta",469],"[",["T_CONSTANT_ENCAPSED_STRING","'iso'",469],"]",["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","is_array",469],"(",["T_WHITESPACE"," ",469],["T_VARIABLE","$exif",469],"[",["T_CONSTANT_ENCAPSED_STRING","'ISOSpeedRatings'",469],"]",["T_WHITESPACE"," ",469],")",["T_WHITESPACE"," ",469],"?",["T_WHITESPACE"," ",469],["T_STRING","reset",469],"(",["T_WHITESPACE"," ",469],["T_VARIABLE","$exif",469],"[",["T_CONSTANT_ENCAPSED_STRING","'ISOSpeedRatings'",469],"]",["T_WHITESPACE"," ",469],")",["T_WHITESPACE"," ",469],":",["T_WHITESPACE"," ",469],["T_VARIABLE","$exif",469],"[",["T_CONSTANT_ENCAPSED_STRING","'ISOSpeedRatings'",469],"]",";",["T_WHITESPACE","\n\t\t\t",469],["T_VARIABLE","$meta",470],"[",["T_CONSTANT_ENCAPSED_STRING","'iso'",470],"]",["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_STRING","trim",470],"(",["T_WHITESPACE"," ",470],["T_VARIABLE","$meta",470],"[",["T_CONSTANT_ENCAPSED_STRING","'iso'",470],"]",["T_WHITESPACE"," ",470],")",";",["T_WHITESPACE","\n\t\t",470],"}",["T_WHITESPACE","\n\t\t",471],["T_IF","if",472],["T_WHITESPACE"," ",472],"(",["T_WHITESPACE"," ",472],"!",["T_WHITESPACE"," ",472],["T_EMPTY","empty",472],"(",["T_WHITESPACE"," ",472],["T_VARIABLE","$exif",472],"[",["T_CONSTANT_ENCAPSED_STRING","'ExposureTime'",472],"]",["T_WHITESPACE"," ",472],")",["T_WHITESPACE"," ",472],")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n\t\t\t",472],["T_VARIABLE","$meta",473],"[",["T_CONSTANT_ENCAPSED_STRING","'shutter_speed'",473],"]",["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_STRING_CAST","(string)",473],["T_WHITESPACE"," ",473],["T_STRING","wp_exif_frac2dec",473],"(",["T_WHITESPACE"," ",473],["T_VARIABLE","$exif",473],"[",["T_CONSTANT_ENCAPSED_STRING","'ExposureTime'",473],"]",["T_WHITESPACE"," ",473],")",";",["T_WHITESPACE","\n\t\t",473],"}",["T_WHITESPACE","\n\t\t",474],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_WHITESPACE"," ",475],"!",["T_WHITESPACE"," ",475],["T_EMPTY","empty",475],"(",["T_WHITESPACE"," ",475],["T_VARIABLE","$exif",475],"[",["T_CONSTANT_ENCAPSED_STRING","'Orientation'",475],"]",["T_WHITESPACE"," ",475],")",["T_WHITESPACE"," ",475],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n\t\t\t",475],["T_VARIABLE","$meta",476],"[",["T_CONSTANT_ENCAPSED_STRING","'orientation'",476],"]",["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$exif",476],"[",["T_CONSTANT_ENCAPSED_STRING","'Orientation'",476],"]",";",["T_WHITESPACE","\n\t\t",476],"}",["T_WHITESPACE","\n\t",477],"}",["T_WHITESPACE","\n\n\t",478],["T_FOREACH","foreach",480],["T_WHITESPACE"," ",480],"(",["T_WHITESPACE"," ",480],["T_ARRAY","array",480],"(",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'title'",480],",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'caption'",480],",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'credit'",480],",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'copyright'",480],",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'camera'",480],",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'iso'",480],["T_WHITESPACE"," ",480],")",["T_WHITESPACE"," ",480],["T_AS","as",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$key",480],["T_WHITESPACE"," ",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n\t\t",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_WHITESPACE"," ",481],["T_VARIABLE","$meta",481],"[",["T_WHITESPACE"," ",481],["T_VARIABLE","$key",481],["T_WHITESPACE"," ",481],"]",["T_WHITESPACE"," ",481],["T_BOOLEAN_AND","&&",481],["T_WHITESPACE"," ",481],"!",["T_WHITESPACE"," ",481],["T_STRING","seems_utf8",481],"(",["T_WHITESPACE"," ",481],["T_VARIABLE","$meta",481],"[",["T_WHITESPACE"," ",481],["T_VARIABLE","$key",481],["T_WHITESPACE"," ",481],"]",["T_WHITESPACE"," ",481],")",["T_WHITESPACE"," ",481],")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n\t\t\t",481],["T_VARIABLE","$meta",482],"[",["T_WHITESPACE"," ",482],["T_VARIABLE","$key",482],["T_WHITESPACE"," ",482],"]",["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_STRING","utf8_encode",482],"(",["T_WHITESPACE"," ",482],["T_VARIABLE","$meta",482],"[",["T_WHITESPACE"," ",482],["T_VARIABLE","$key",482],["T_WHITESPACE"," ",482],"]",["T_WHITESPACE"," ",482],")",";",["T_WHITESPACE","\n\t\t",482],"}",["T_WHITESPACE","\n\t",483],"}",["T_WHITESPACE","\n\n\t",484],["T_FOREACH","foreach",486],["T_WHITESPACE"," ",486],"(",["T_WHITESPACE"," ",486],["T_VARIABLE","$meta",486],"[",["T_CONSTANT_ENCAPSED_STRING","'keywords'",486],"]",["T_WHITESPACE"," ",486],["T_AS","as",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$key",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$keyword",486],["T_WHITESPACE"," ",486],")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n\t\t",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_WHITESPACE"," ",487],"!",["T_WHITESPACE"," ",487],["T_STRING","seems_utf8",487],"(",["T_WHITESPACE"," ",487],["T_VARIABLE","$keyword",487],["T_WHITESPACE"," ",487],")",["T_WHITESPACE"," ",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n\t\t\t",487],["T_VARIABLE","$meta",488],"[",["T_CONSTANT_ENCAPSED_STRING","'keywords'",488],"]","[",["T_WHITESPACE"," ",488],["T_VARIABLE","$key",488],["T_WHITESPACE"," ",488],"]",["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","utf8_encode",488],"(",["T_WHITESPACE"," ",488],["T_VARIABLE","$keyword",488],["T_WHITESPACE"," ",488],")",";",["T_WHITESPACE","\n\t\t",488],"}",["T_WHITESPACE","\n\t",489],"}",["T_WHITESPACE","\n\n\t",490],["T_VARIABLE","$meta",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","wp_kses_post_deep",492],"(",["T_WHITESPACE"," ",492],["T_VARIABLE","$meta",492],["T_WHITESPACE"," ",492],")",";",["T_WHITESPACE","\n\n\t",492],["T_DOC_COMMENT","\/**\n\t * Filters the array of meta data read from an image's exif data.\n\t *\n\t * @since 2.5.0\n\t * @since 4.4.0 The `$iptc` parameter was added.\n\t *\n\t * @param array  $meta            Image meta data.\n\t * @param string $file            Path to image file.\n\t * @param int    $sourceImageType Type of image.\n\t * @param array  $iptc            IPTC data.\n\t *\/",494],["T_WHITESPACE","\n\t",504],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_STRING","apply_filters",505],"(",["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'wp_read_image_metadata'",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$meta",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$file",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$sourceImageType",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$iptc",505],["T_WHITESPACE"," ",505],")",";",["T_WHITESPACE","\n\n",505],"}",["T_WHITESPACE","\n\n",507],["T_DOC_COMMENT","\/**\n * Validate that file is an image.\n *\n * @since 2.5.0\n *\n * @param string $path File path to test if valid image.\n * @return bool True if valid image, false if not valid image.\n *\/",509],["T_WHITESPACE","\n",516],["T_FUNCTION","function",517],["T_WHITESPACE"," ",517],["T_STRING","file_is_valid_image",517],"(",["T_VARIABLE","$path",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n\t",517],["T_VARIABLE","$size",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],"@",["T_STRING","getimagesize",518],"(",["T_VARIABLE","$path",518],")",";",["T_WHITESPACE","\n\t",518],["T_RETURN","return",519],["T_WHITESPACE"," ",519],"!",["T_EMPTY","empty",519],"(",["T_VARIABLE","$size",519],")",";",["T_WHITESPACE","\n",519],"}",["T_WHITESPACE","\n\n",520],["T_DOC_COMMENT","\/**\n * Validate that file is suitable for displaying within a web page.\n *\n * @since 2.5.0\n *\n * @param string $path File path to test.\n * @return bool True if suitable, false if not suitable.\n *\/",522],["T_WHITESPACE","\n",529],["T_FUNCTION","function",530],["T_WHITESPACE"," ",530],["T_STRING","file_is_displayable_image",530],"(",["T_VARIABLE","$path",530],")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n\t",530],["T_VARIABLE","$displayable_image_types",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_ARRAY","array",531],"(",["T_WHITESPACE"," ",531],["T_STRING","IMAGETYPE_GIF",531],",",["T_WHITESPACE"," ",531],["T_STRING","IMAGETYPE_JPEG",531],",",["T_WHITESPACE"," ",531],["T_STRING","IMAGETYPE_PNG",531],",",["T_WHITESPACE"," ",531],["T_STRING","IMAGETYPE_BMP",531],["T_WHITESPACE"," ",531],")",";",["T_WHITESPACE","\n\n\t",531],["T_VARIABLE","$info",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],"@",["T_STRING","getimagesize",533],"(",["T_WHITESPACE"," ",533],["T_VARIABLE","$path",533],["T_WHITESPACE"," ",533],")",";",["T_WHITESPACE","\n\t",533],["T_IF","if",534],["T_WHITESPACE"," ",534],"(",["T_WHITESPACE"," ",534],["T_EMPTY","empty",534],"(",["T_WHITESPACE"," ",534],["T_VARIABLE","$info",534],["T_WHITESPACE"," ",534],")",["T_WHITESPACE"," ",534],")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n\t\t",534],["T_VARIABLE","$result",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_STRING","false",535],";",["T_WHITESPACE","\n\t",535],"}",["T_WHITESPACE"," ",536],["T_ELSEIF","elseif",536],["T_WHITESPACE"," ",536],"(",["T_WHITESPACE"," ",536],"!",["T_WHITESPACE"," ",536],["T_STRING","in_array",536],"(",["T_WHITESPACE"," ",536],["T_VARIABLE","$info",536],"[",["T_LNUMBER","2",536],"]",",",["T_WHITESPACE"," ",536],["T_VARIABLE","$displayable_image_types",536],["T_WHITESPACE"," ",536],")",["T_WHITESPACE"," ",536],")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n\t\t",536],["T_VARIABLE","$result",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_STRING","false",537],";",["T_WHITESPACE","\n\t",537],"}",["T_WHITESPACE"," ",538],["T_ELSE","else",538],["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n\t\t",538],["T_VARIABLE","$result",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_STRING","true",539],";",["T_WHITESPACE","\n\t",539],"}",["T_WHITESPACE","\n\n\t",540],["T_DOC_COMMENT","\/**\n\t * Filters whether the current image is displayable in the browser.\n\t *\n\t * @since 2.5.0\n\t *\n\t * @param bool   $result Whether the image can be displayed. Default true.\n\t * @param string $path   Path to the image.\n\t *\/",542],["T_WHITESPACE","\n\t",549],["T_RETURN","return",550],["T_WHITESPACE"," ",550],["T_STRING","apply_filters",550],"(",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'file_is_displayable_image'",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$result",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$path",550],["T_WHITESPACE"," ",550],")",";",["T_WHITESPACE","\n",550],"}",["T_WHITESPACE","\n\n",551],["T_DOC_COMMENT","\/**\n * Load an image resource for editing.\n *\n * @since 2.9.0\n *\n * @param string $attachment_id Attachment ID.\n * @param string $mime_type Image mime type.\n * @param string $size Optional. Image size, defaults to 'full'.\n * @return resource|false The resulting image resource on success, false on failure.\n *\/",553],["T_WHITESPACE","\n",562],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","load_image_to_edit",563],"(",["T_WHITESPACE"," ",563],["T_VARIABLE","$attachment_id",563],",",["T_WHITESPACE"," ",563],["T_VARIABLE","$mime_type",563],",",["T_WHITESPACE"," ",563],["T_VARIABLE","$size",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'full'",563],["T_WHITESPACE"," ",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n\t",563],["T_VARIABLE","$filepath",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_STRING","_load_image_to_edit_path",564],"(",["T_WHITESPACE"," ",564],["T_VARIABLE","$attachment_id",564],",",["T_WHITESPACE"," ",564],["T_VARIABLE","$size",564],["T_WHITESPACE"," ",564],")",";",["T_WHITESPACE","\n\t",564],["T_IF","if",565],["T_WHITESPACE"," ",565],"(",["T_WHITESPACE"," ",565],["T_EMPTY","empty",565],"(",["T_WHITESPACE"," ",565],["T_VARIABLE","$filepath",565],["T_WHITESPACE"," ",565],")",["T_WHITESPACE"," ",565],")",["T_WHITESPACE","\n\t\t",565],["T_RETURN","return",566],["T_WHITESPACE"," ",566],["T_STRING","false",566],";",["T_WHITESPACE","\n\n\t",566],["T_SWITCH","switch",568],["T_WHITESPACE"," ",568],"(",["T_WHITESPACE"," ",568],["T_VARIABLE","$mime_type",568],["T_WHITESPACE"," ",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n\t\t",568],["T_CASE","case",569],["T_WHITESPACE"," ",569],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",569],":",["T_WHITESPACE","\n\t\t\t",569],["T_VARIABLE","$image",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_STRING","imagecreatefromjpeg",570],"(",["T_VARIABLE","$filepath",570],")",";",["T_WHITESPACE","\n\t\t\t",570],["T_BREAK","break",571],";",["T_WHITESPACE","\n\t\t",571],["T_CASE","case",572],["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'image\/png'",572],":",["T_WHITESPACE","\n\t\t\t",572],["T_VARIABLE","$image",573],["T_WHITESPACE"," ",573],"=",["T_WHITESPACE"," ",573],["T_STRING","imagecreatefrompng",573],"(",["T_VARIABLE","$filepath",573],")",";",["T_WHITESPACE","\n\t\t\t",573],["T_BREAK","break",574],";",["T_WHITESPACE","\n\t\t",574],["T_CASE","case",575],["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",575],":",["T_WHITESPACE","\n\t\t\t",575],["T_VARIABLE","$image",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_STRING","imagecreatefromgif",576],"(",["T_VARIABLE","$filepath",576],")",";",["T_WHITESPACE","\n\t\t\t",576],["T_BREAK","break",577],";",["T_WHITESPACE","\n\t\t",577],["T_DEFAULT","default",578],":",["T_WHITESPACE","\n\t\t\t",578],["T_VARIABLE","$image",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_STRING","false",579],";",["T_WHITESPACE","\n\t\t\t",579],["T_BREAK","break",580],";",["T_WHITESPACE","\n\t",580],"}",["T_WHITESPACE","\n\t",581],["T_IF","if",582],["T_WHITESPACE"," ",582],"(",["T_WHITESPACE"," ",582],["T_STRING","is_resource",582],"(",["T_VARIABLE","$image",582],")",["T_WHITESPACE"," ",582],")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n\t\t",582],["T_DOC_COMMENT","\/**\n\t\t * Filters the current image being loaded for editing.\n\t\t *\n\t\t * @since 2.9.0\n\t\t *\n\t\t * @param resource $image         Current image.\n\t\t * @param string   $attachment_id Attachment ID.\n\t\t * @param string   $size          Image size.\n\t\t *\/",583],["T_WHITESPACE","\n\t\t",591],["T_VARIABLE","$image",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","apply_filters",592],"(",["T_WHITESPACE"," ",592],["T_CONSTANT_ENCAPSED_STRING","'load_image_to_edit'",592],",",["T_WHITESPACE"," ",592],["T_VARIABLE","$image",592],",",["T_WHITESPACE"," ",592],["T_VARIABLE","$attachment_id",592],",",["T_WHITESPACE"," ",592],["T_VARIABLE","$size",592],["T_WHITESPACE"," ",592],")",";",["T_WHITESPACE","\n\t\t",592],["T_IF","if",593],["T_WHITESPACE"," ",593],"(",["T_WHITESPACE"," ",593],["T_STRING","function_exists",593],"(",["T_CONSTANT_ENCAPSED_STRING","'imagealphablending'",593],")",["T_WHITESPACE"," ",593],["T_BOOLEAN_AND","&&",593],["T_WHITESPACE"," ",593],["T_STRING","function_exists",593],"(",["T_CONSTANT_ENCAPSED_STRING","'imagesavealpha'",593],")",["T_WHITESPACE"," ",593],")",["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n\t\t\t",593],["T_STRING","imagealphablending",594],"(",["T_VARIABLE","$image",594],",",["T_WHITESPACE"," ",594],["T_STRING","false",594],")",";",["T_WHITESPACE","\n\t\t\t",594],["T_STRING","imagesavealpha",595],"(",["T_VARIABLE","$image",595],",",["T_WHITESPACE"," ",595],["T_STRING","true",595],")",";",["T_WHITESPACE","\n\t\t",595],"}",["T_WHITESPACE","\n\t",596],"}",["T_WHITESPACE","\n\t",597],["T_RETURN","return",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$image",598],";",["T_WHITESPACE","\n",598],"}",["T_WHITESPACE","\n\n",599],["T_DOC_COMMENT","\/**\n * Retrieve the path or url of an attachment's attached file.\n *\n * If the attached file is not present on the local filesystem (usually due to replication plugins),\n * then the url of the file is returned if url fopen is supported.\n *\n * @since 3.4.0\n * @access private\n *\n * @param string $attachment_id Attachment ID.\n * @param string $size Optional. Image size, defaults to 'full'.\n * @return string|false File path or url on success, false on failure.\n *\/",601],["T_WHITESPACE","\n",613],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","_load_image_to_edit_path",614],"(",["T_WHITESPACE"," ",614],["T_VARIABLE","$attachment_id",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$size",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_CONSTANT_ENCAPSED_STRING","'full'",614],["T_WHITESPACE"," ",614],")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n\t",614],["T_VARIABLE","$filepath",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_STRING","get_attached_file",615],"(",["T_WHITESPACE"," ",615],["T_VARIABLE","$attachment_id",615],["T_WHITESPACE"," ",615],")",";",["T_WHITESPACE","\n\n\t",615],["T_IF","if",617],["T_WHITESPACE"," ",617],"(",["T_WHITESPACE"," ",617],["T_VARIABLE","$filepath",617],["T_WHITESPACE"," ",617],["T_BOOLEAN_AND","&&",617],["T_WHITESPACE"," ",617],["T_STRING","file_exists",617],"(",["T_WHITESPACE"," ",617],["T_VARIABLE","$filepath",617],["T_WHITESPACE"," ",617],")",["T_WHITESPACE"," ",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n\t\t",617],["T_IF","if",618],["T_WHITESPACE"," ",618],"(",["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'full'",618],["T_WHITESPACE"," ",618],["T_IS_NOT_EQUAL","!=",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$size",618],["T_WHITESPACE"," ",618],["T_BOOLEAN_AND","&&",618],["T_WHITESPACE"," ",618],"(",["T_WHITESPACE"," ",618],["T_VARIABLE","$data",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_STRING","image_get_intermediate_size",618],"(",["T_WHITESPACE"," ",618],["T_VARIABLE","$attachment_id",618],",",["T_WHITESPACE"," ",618],["T_VARIABLE","$size",618],["T_WHITESPACE"," ",618],")",["T_WHITESPACE"," ",618],")",["T_WHITESPACE"," ",618],")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n\t\t\t",618],["T_DOC_COMMENT","\/**\n\t\t\t * Filters the path to the current image.\n\t\t\t *\n\t\t\t * The filter is evaluated for all image sizes except 'full'.\n\t\t\t *\n\t\t\t * @since 3.1.0\n\t\t\t *\n\t\t\t * @param string $path          Path to the current image.\n\t\t\t * @param string $attachment_id Attachment ID.\n\t\t\t * @param string $size          Size of the image.\n\t\t\t *\/",619],["T_WHITESPACE","\n\t\t\t",629],["T_VARIABLE","$filepath",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_STRING","apply_filters",630],"(",["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'load_image_to_edit_filesystempath'",630],",",["T_WHITESPACE"," ",630],["T_STRING","path_join",630],"(",["T_WHITESPACE"," ",630],["T_STRING","dirname",630],"(",["T_WHITESPACE"," ",630],["T_VARIABLE","$filepath",630],["T_WHITESPACE"," ",630],")",",",["T_WHITESPACE"," ",630],["T_VARIABLE","$data",630],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",630],"]",["T_WHITESPACE"," ",630],")",",",["T_WHITESPACE"," ",630],["T_VARIABLE","$attachment_id",630],",",["T_WHITESPACE"," ",630],["T_VARIABLE","$size",630],["T_WHITESPACE"," ",630],")",";",["T_WHITESPACE","\n\t\t",630],"}",["T_WHITESPACE","\n\t",631],"}",["T_WHITESPACE"," ",632],["T_ELSEIF","elseif",632],["T_WHITESPACE"," ",632],"(",["T_WHITESPACE"," ",632],["T_STRING","function_exists",632],"(",["T_WHITESPACE"," ",632],["T_CONSTANT_ENCAPSED_STRING","'fopen'",632],["T_WHITESPACE"," ",632],")",["T_WHITESPACE"," ",632],["T_BOOLEAN_AND","&&",632],["T_WHITESPACE"," ",632],["T_STRING","true",632],["T_WHITESPACE"," ",632],["T_IS_EQUAL","==",632],["T_WHITESPACE"," ",632],["T_STRING","ini_get",632],"(",["T_WHITESPACE"," ",632],["T_CONSTANT_ENCAPSED_STRING","'allow_url_fopen'",632],["T_WHITESPACE"," ",632],")",["T_WHITESPACE"," ",632],")",["T_WHITESPACE"," ",632],"{",["T_WHITESPACE","\n\t\t",632],["T_DOC_COMMENT","\/**\n\t\t * Filters the image URL if not in the local filesystem.\n\t\t *\n\t\t * The filter is only evaluated if fopen is enabled on the server.\n\t\t *\n\t\t * @since 3.1.0\n\t\t *\n\t\t * @param string $image_url     Current image URL.\n\t\t * @param string $attachment_id Attachment ID.\n\t\t * @param string $size          Size of the image.\n\t\t *\/",633],["T_WHITESPACE","\n\t\t",643],["T_VARIABLE","$filepath",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_STRING","apply_filters",644],"(",["T_WHITESPACE"," ",644],["T_CONSTANT_ENCAPSED_STRING","'load_image_to_edit_attachmenturl'",644],",",["T_WHITESPACE"," ",644],["T_STRING","wp_get_attachment_url",644],"(",["T_WHITESPACE"," ",644],["T_VARIABLE","$attachment_id",644],["T_WHITESPACE"," ",644],")",",",["T_WHITESPACE"," ",644],["T_VARIABLE","$attachment_id",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$size",644],["T_WHITESPACE"," ",644],")",";",["T_WHITESPACE","\n\t",644],"}",["T_WHITESPACE","\n\n\t",645],["T_DOC_COMMENT","\/**\n\t * Filters the returned path or URL of the current image.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param string|bool $filepath      File path or URL to current image, or false.\n\t * @param string      $attachment_id Attachment ID.\n\t * @param string      $size          Size of the image.\n\t *\/",647],["T_WHITESPACE","\n\t",655],["T_RETURN","return",656],["T_WHITESPACE"," ",656],["T_STRING","apply_filters",656],"(",["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","'load_image_to_edit_path'",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$filepath",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$attachment_id",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$size",656],["T_WHITESPACE"," ",656],")",";",["T_WHITESPACE","\n",656],"}",["T_WHITESPACE","\n\n",657],["T_DOC_COMMENT","\/**\n * Copy an existing image file.\n *\n * @since 3.4.0\n * @access private\n *\n * @param string $attachment_id Attachment ID.\n * @return string|false New file path on success, false on failure.\n *\/",659],["T_WHITESPACE","\n",667],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","_copy_image_file",668],"(",["T_WHITESPACE"," ",668],["T_VARIABLE","$attachment_id",668],["T_WHITESPACE"," ",668],")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n\t",668],["T_VARIABLE","$dst_file",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_VARIABLE","$src_file",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_STRING","get_attached_file",669],"(",["T_WHITESPACE"," ",669],["T_VARIABLE","$attachment_id",669],["T_WHITESPACE"," ",669],")",";",["T_WHITESPACE","\n\t",669],["T_IF","if",670],["T_WHITESPACE"," ",670],"(",["T_WHITESPACE"," ",670],"!",["T_WHITESPACE"," ",670],["T_STRING","file_exists",670],"(",["T_WHITESPACE"," ",670],["T_VARIABLE","$src_file",670],["T_WHITESPACE"," ",670],")",["T_WHITESPACE"," ",670],")",["T_WHITESPACE","\n\t\t",670],["T_VARIABLE","$src_file",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_STRING","_load_image_to_edit_path",671],"(",["T_WHITESPACE"," ",671],["T_VARIABLE","$attachment_id",671],["T_WHITESPACE"," ",671],")",";",["T_WHITESPACE","\n\n\t",671],["T_IF","if",673],["T_WHITESPACE"," ",673],"(",["T_WHITESPACE"," ",673],["T_VARIABLE","$src_file",673],["T_WHITESPACE"," ",673],")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n\t\t",673],["T_VARIABLE","$dst_file",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_STRING","str_replace",674],"(",["T_WHITESPACE"," ",674],["T_STRING","basename",674],"(",["T_WHITESPACE"," ",674],["T_VARIABLE","$dst_file",674],["T_WHITESPACE"," ",674],")",",",["T_WHITESPACE"," ",674],["T_CONSTANT_ENCAPSED_STRING","'copy-'",674],["T_WHITESPACE"," ",674],".",["T_WHITESPACE"," ",674],["T_STRING","basename",674],"(",["T_WHITESPACE"," ",674],["T_VARIABLE","$dst_file",674],["T_WHITESPACE"," ",674],")",",",["T_WHITESPACE"," ",674],["T_VARIABLE","$dst_file",674],["T_WHITESPACE"," ",674],")",";",["T_WHITESPACE","\n\t\t",674],["T_VARIABLE","$dst_file",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_STRING","dirname",675],"(",["T_WHITESPACE"," ",675],["T_VARIABLE","$dst_file",675],["T_WHITESPACE"," ",675],")",["T_WHITESPACE"," ",675],".",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'\/'",675],["T_WHITESPACE"," ",675],".",["T_WHITESPACE"," ",675],["T_STRING","wp_unique_filename",675],"(",["T_WHITESPACE"," ",675],["T_STRING","dirname",675],"(",["T_WHITESPACE"," ",675],["T_VARIABLE","$dst_file",675],["T_WHITESPACE"," ",675],")",",",["T_WHITESPACE"," ",675],["T_STRING","basename",675],"(",["T_WHITESPACE"," ",675],["T_VARIABLE","$dst_file",675],["T_WHITESPACE"," ",675],")",["T_WHITESPACE"," ",675],")",";",["T_WHITESPACE","\n\n\t\t",675],["T_COMMENT","\/*\n\t\t * The directory containing the original file may no longer\n\t\t * exist when using a replication plugin.\n\t\t *\/",677],["T_WHITESPACE","\n\t\t",680],["T_STRING","wp_mkdir_p",681],"(",["T_WHITESPACE"," ",681],["T_STRING","dirname",681],"(",["T_WHITESPACE"," ",681],["T_VARIABLE","$dst_file",681],["T_WHITESPACE"," ",681],")",["T_WHITESPACE"," ",681],")",";",["T_WHITESPACE","\n\n\t\t",681],["T_IF","if",683],["T_WHITESPACE"," ",683],"(",["T_WHITESPACE"," ",683],"!",["T_WHITESPACE"," ",683],"@",["T_STRING","copy",683],"(",["T_WHITESPACE"," ",683],["T_VARIABLE","$src_file",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$dst_file",683],["T_WHITESPACE"," ",683],")",["T_WHITESPACE"," ",683],")",["T_WHITESPACE","\n\t\t\t",683],["T_VARIABLE","$dst_file",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_STRING","false",684],";",["T_WHITESPACE","\n\t",684],"}",["T_WHITESPACE"," ",685],["T_ELSE","else",685],["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n\t\t",685],["T_VARIABLE","$dst_file",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_STRING","false",686],";",["T_WHITESPACE","\n\t",686],"}",["T_WHITESPACE","\n\n\t",687],["T_RETURN","return",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$dst_file",689],";",["T_WHITESPACE","\n",689],"}",["T_WHITESPACE","\n",690]]