[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Upgrade API: Plugin_Upgrader class\n *\n * @package WordPress\n * @subpackage Upgrader\n * @since 4.6.0\n *\/",2],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Core class used for upgrading\/installing plugins.\n *\n * It is designed to upgrade\/install plugins from a local zip, remote zip URL,\n * or uploaded zip file.\n *\n * @since 2.8.0\n * @since 4.6.0 Moved to its own file from wp-admin\/includes\/class-wp-upgrader.php.\n *\n * @see WP_Upgrader\n *\/",10],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Plugin_Upgrader",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","WP_Upgrader",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n\t",21],["T_DOC_COMMENT","\/**\n\t * Plugin upgrade result.\n\t *\n\t * @since 2.8.0\n\t * @access public\n\t * @var array|WP_Error $result\n\t *\n\t * @see WP_Upgrader::$result\n\t *\/",23],["T_WHITESPACE","\n\t",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$result",32],";",["T_WHITESPACE","\n\n\t",32],["T_DOC_COMMENT","\/**\n\t * Whether a bulk upgrade\/install is being performed.\n\t *\n\t * @since 2.9.0\n\t * @access public\n\t * @var bool $bulk\n\t *\/",34],["T_WHITESPACE","\n\t",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$bulk",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","false",41],";",["T_WHITESPACE","\n\n\t",41],["T_DOC_COMMENT","\/**\n\t * Initialize the upgrade strings.\n\t *\n\t * @since 2.8.0\n\t * @access public\n\t *\/",43],["T_WHITESPACE","\n\t",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","upgrade_strings",49],"(",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n\t\t",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","strings",50],"[",["T_CONSTANT_ENCAPSED_STRING","'up_to_date'",50],"]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","__",50],"(",["T_CONSTANT_ENCAPSED_STRING","'The plugin is at the latest version.'",50],")",";",["T_WHITESPACE","\n\t\t",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","strings",51],"[",["T_CONSTANT_ENCAPSED_STRING","'no_package'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","__",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Update package not available.'",51],")",";",["T_WHITESPACE","\n\t\t",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","strings",52],"[",["T_CONSTANT_ENCAPSED_STRING","'downloading_package'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","__",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Downloading update from <span class=\"code\">%s<\/span>&#8230;'",52],")",";",["T_WHITESPACE","\n\t\t",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","strings",53],"[",["T_CONSTANT_ENCAPSED_STRING","'unpack_package'",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","__",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Unpacking the update&#8230;'",53],")",";",["T_WHITESPACE","\n\t\t",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","strings",54],"[",["T_CONSTANT_ENCAPSED_STRING","'remove_old'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","__",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Removing the old version of the plugin&#8230;'",54],")",";",["T_WHITESPACE","\n\t\t",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","strings",55],"[",["T_CONSTANT_ENCAPSED_STRING","'remove_old_failed'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","__",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not remove the old plugin.'",55],")",";",["T_WHITESPACE","\n\t\t",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","strings",56],"[",["T_CONSTANT_ENCAPSED_STRING","'process_failed'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugin update failed.'",56],")",";",["T_WHITESPACE","\n\t\t",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","strings",57],"[",["T_CONSTANT_ENCAPSED_STRING","'process_success'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","__",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugin updated successfully.'",57],")",";",["T_WHITESPACE","\n\t\t",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","strings",58],"[",["T_CONSTANT_ENCAPSED_STRING","'process_bulk_success'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","__",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugins updated successfully.'",58],")",";",["T_WHITESPACE","\n\t",58],"}",["T_WHITESPACE","\n\n\t",59],["T_DOC_COMMENT","\/**\n\t * Initialize the install strings.\n\t *\n\t * @since 2.8.0\n\t * @access public\n\t *\/",61],["T_WHITESPACE","\n\t",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","install_strings",67],"(",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","strings",68],"[",["T_CONSTANT_ENCAPSED_STRING","'no_package'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Install package not available.'",68],")",";",["T_WHITESPACE","\n\t\t",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","strings",69],"[",["T_CONSTANT_ENCAPSED_STRING","'downloading_package'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","__",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Downloading install package from <span class=\"code\">%s<\/span>&#8230;'",69],")",";",["T_WHITESPACE","\n\t\t",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","strings",70],"[",["T_CONSTANT_ENCAPSED_STRING","'unpack_package'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","__",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Unpacking the package&#8230;'",70],")",";",["T_WHITESPACE","\n\t\t",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","strings",71],"[",["T_CONSTANT_ENCAPSED_STRING","'installing_package'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","__",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Installing the plugin&#8230;'",71],")",";",["T_WHITESPACE","\n\t\t",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","strings",72],"[",["T_CONSTANT_ENCAPSED_STRING","'no_files'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","__",72],"(",["T_CONSTANT_ENCAPSED_STRING","'The plugin contains no files.'",72],")",";",["T_WHITESPACE","\n\t\t",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","strings",73],"[",["T_CONSTANT_ENCAPSED_STRING","'process_failed'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","__",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugin install failed.'",73],")",";",["T_WHITESPACE","\n\t\t",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","strings",74],"[",["T_CONSTANT_ENCAPSED_STRING","'process_success'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","__",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugin installed successfully.'",74],")",";",["T_WHITESPACE","\n\t",74],"}",["T_WHITESPACE","\n\n\t",75],["T_DOC_COMMENT","\/**\n\t * Install a plugin package.\n\t *\n\t * @since 2.8.0\n\t * @since 3.7.0 The `$args` parameter was added, making clearing the plugin update cache optional.\n\t * @access public\n\t *\n\t * @param string $package The full local path or URI of the package.\n\t * @param array  $args {\n\t *     Optional. Other arguments for installing a plugin package. Default empty array.\n\t *\n\t *     @type bool $clear_update_cache Whether to clear the plugin updates cache if successful.\n\t *                                    Default true.\n\t * }\n\t * @return bool|WP_Error True if the install was successful, false or a WP_Error otherwise.\n\t *\/",77],["T_WHITESPACE","\n\t",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","install",93],"(",["T_WHITESPACE"," ",93],["T_VARIABLE","$package",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$args",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",["T_WHITESPACE"," ",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n\n\t\t",93],["T_VARIABLE","$defaults",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_WHITESPACE","\n\t\t\t",95],["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","true",96],",",["T_WHITESPACE","\n\t\t",96],")",";",["T_WHITESPACE","\n\t\t",97],["T_VARIABLE","$parsed_args",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","wp_parse_args",98],"(",["T_WHITESPACE"," ",98],["T_VARIABLE","$args",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$defaults",98],["T_WHITESPACE"," ",98],")",";",["T_WHITESPACE","\n\n\t\t",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","init",100],"(",")",";",["T_WHITESPACE","\n\t\t",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","install_strings",101],"(",")",";",["T_WHITESPACE","\n\n\t\t",101],["T_STRING","add_filter",103],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_source_selection'",103],",",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_VARIABLE","$this",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'check_package'",103],")",["T_WHITESPACE"," ",103],")",";",["T_WHITESPACE","\n\t\t",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_WHITESPACE"," ",104],["T_VARIABLE","$parsed_args",104],"[",["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",104],"]",["T_WHITESPACE"," ",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n\t\t\t",104],["T_COMMENT","\/\/ Clear cache so wp_update_plugins() knows about the new plugin.\n",105],["T_WHITESPACE","\t\t\t",106],["T_STRING","add_action",106],"(",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'upgrader_process_complete'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'wp_clean_plugins_cache'",106],",",["T_WHITESPACE"," ",106],["T_LNUMBER","9",106],",",["T_WHITESPACE"," ",106],["T_LNUMBER","0",106],["T_WHITESPACE"," ",106],")",";",["T_WHITESPACE","\n\t\t",106],"}",["T_WHITESPACE","\n\n\t\t",107],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","run",109],"(",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_WHITESPACE","\n\t\t\t",109],["T_CONSTANT_ENCAPSED_STRING","'package'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$package",110],",",["T_WHITESPACE","\n\t\t\t",110],["T_CONSTANT_ENCAPSED_STRING","'destination'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","WP_PLUGIN_DIR",111],",",["T_WHITESPACE","\n\t\t\t",111],["T_CONSTANT_ENCAPSED_STRING","'clear_destination'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","false",112],",",["T_WHITESPACE"," ",112],["T_COMMENT","\/\/ Do not overwrite files.\n",112],["T_WHITESPACE","\t\t\t",113],["T_CONSTANT_ENCAPSED_STRING","'clear_working'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_STRING","true",113],",",["T_WHITESPACE","\n\t\t\t",113],["T_CONSTANT_ENCAPSED_STRING","'hook_extra'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_WHITESPACE","\n\t\t\t\t",114],["T_CONSTANT_ENCAPSED_STRING","'type'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'plugin'",115],",",["T_WHITESPACE","\n\t\t\t\t",115],["T_CONSTANT_ENCAPSED_STRING","'action'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'install'",116],",",["T_WHITESPACE","\n\t\t\t",116],")",["T_WHITESPACE","\n\t\t",117],")",["T_WHITESPACE"," ",118],")",";",["T_WHITESPACE","\n\n\t\t",118],["T_STRING","remove_action",120],"(",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'upgrader_process_complete'",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'wp_clean_plugins_cache'",120],",",["T_WHITESPACE"," ",120],["T_LNUMBER","9",120],["T_WHITESPACE"," ",120],")",";",["T_WHITESPACE","\n\t\t",120],["T_STRING","remove_filter",121],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_source_selection'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_VARIABLE","$this",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'check_package'",121],")",["T_WHITESPACE"," ",121],")",";",["T_WHITESPACE","\n\n\t\t",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_WHITESPACE"," ",123],"!",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","result",123],["T_WHITESPACE"," ",123],["T_BOOLEAN_OR","||",123],["T_WHITESPACE"," ",123],["T_STRING","is_wp_error",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","result",123],")",["T_WHITESPACE"," ",123],")",["T_WHITESPACE","\n\t\t\t",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","result",124],";",["T_WHITESPACE","\n\n\t\t",124],["T_COMMENT","\/\/ Force refresh of plugin update information\n",126],["T_WHITESPACE","\t\t",127],["T_STRING","wp_clean_plugins_cache",127],"(",["T_WHITESPACE"," ",127],["T_VARIABLE","$parsed_args",127],"[",["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",127],"]",["T_WHITESPACE"," ",127],")",";",["T_WHITESPACE","\n\n\t\t",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","true",129],";",["T_WHITESPACE","\n\t",129],"}",["T_WHITESPACE","\n\n\t",130],["T_DOC_COMMENT","\/**\n\t * Upgrade a plugin.\n\t *\n\t * @since 2.8.0\n\t * @since 3.7.0 The `$args` parameter was added, making clearing the plugin update cache optional.\n\t * @access public\n\t *\n\t * @param string $plugin The basename path to the main plugin file.\n\t * @param array  $args {\n\t *     Optional. Other arguments for upgrading a plugin package. Default empty array.\n\t *\n\t *     @type bool $clear_update_cache Whether to clear the plugin updates cache if successful.\n\t *                                    Default true.\n\t * }\n\t * @return bool|WP_Error True if the upgrade was successful, false or a WP_Error object otherwise.\n\t *\/",132],["T_WHITESPACE","\n\t",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","upgrade",148],"(",["T_WHITESPACE"," ",148],["T_VARIABLE","$plugin",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$args",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",")",["T_WHITESPACE"," ",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\n\t\t",148],["T_VARIABLE","$defaults",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n\t\t\t",150],["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","true",151],",",["T_WHITESPACE","\n\t\t",151],")",";",["T_WHITESPACE","\n\t\t",152],["T_VARIABLE","$parsed_args",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","wp_parse_args",153],"(",["T_WHITESPACE"," ",153],["T_VARIABLE","$args",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$defaults",153],["T_WHITESPACE"," ",153],")",";",["T_WHITESPACE","\n\n\t\t",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","init",155],"(",")",";",["T_WHITESPACE","\n\t\t",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","upgrade_strings",156],"(",")",";",["T_WHITESPACE","\n\n\t\t",156],["T_VARIABLE","$current",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","get_site_transient",158],"(",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'update_plugins'",158],["T_WHITESPACE"," ",158],")",";",["T_WHITESPACE","\n\t\t",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_WHITESPACE"," ",159],"!",["T_ISSET","isset",159],"(",["T_WHITESPACE"," ",159],["T_VARIABLE","$current",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","response",159],"[",["T_WHITESPACE"," ",159],["T_VARIABLE","$plugin",159],["T_WHITESPACE"," ",159],"]",["T_WHITESPACE"," ",159],")",["T_WHITESPACE"," ",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t\t",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","skin",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","before",160],"(",")",";",["T_WHITESPACE","\n\t\t\t",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","skin",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","set_result",161],"(",["T_STRING","false",161],")",";",["T_WHITESPACE","\n\t\t\t",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","skin",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","error",162],"(",["T_CONSTANT_ENCAPSED_STRING","'up_to_date'",162],")",";",["T_WHITESPACE","\n\t\t\t",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","skin",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","after",163],"(",")",";",["T_WHITESPACE","\n\t\t\t",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_STRING","false",164],";",["T_WHITESPACE","\n\t\t",164],"}",["T_WHITESPACE","\n\n\t\t",165],["T_COMMENT","\/\/ Get the URL to the zip file\n",167],["T_WHITESPACE","\t\t",168],["T_VARIABLE","$r",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$current",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","response",168],"[",["T_WHITESPACE"," ",168],["T_VARIABLE","$plugin",168],["T_WHITESPACE"," ",168],"]",";",["T_WHITESPACE","\n\n\t\t",168],["T_STRING","add_filter",170],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_pre_install'",170],",",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_VARIABLE","$this",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'deactivate_plugin_before_upgrade'",170],")",",",["T_WHITESPACE"," ",170],["T_LNUMBER","10",170],",",["T_WHITESPACE"," ",170],["T_LNUMBER","2",170],")",";",["T_WHITESPACE","\n\t\t",170],["T_STRING","add_filter",171],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_clear_destination'",171],",",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_VARIABLE","$this",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'delete_old_plugin'",171],")",",",["T_WHITESPACE"," ",171],["T_LNUMBER","10",171],",",["T_WHITESPACE"," ",171],["T_LNUMBER","4",171],")",";",["T_WHITESPACE","\n\t\t",171],["T_COMMENT","\/\/'source_selection' => array($this, 'source_selection'), \/\/there's a trac ticket to move up the directory for zip's which are made a bit differently, useful for non-.org plugins.\n",172],["T_WHITESPACE","\t\t",173],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_WHITESPACE"," ",173],["T_VARIABLE","$parsed_args",173],"[",["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",173],"]",["T_WHITESPACE"," ",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n\t\t\t",173],["T_COMMENT","\/\/ Clear cache so wp_update_plugins() knows about the new plugin.\n",174],["T_WHITESPACE","\t\t\t",175],["T_STRING","add_action",175],"(",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'upgrader_process_complete'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'wp_clean_plugins_cache'",175],",",["T_WHITESPACE"," ",175],["T_LNUMBER","9",175],",",["T_WHITESPACE"," ",175],["T_LNUMBER","0",175],["T_WHITESPACE"," ",175],")",";",["T_WHITESPACE","\n\t\t",175],"}",["T_WHITESPACE","\n\n\t\t",176],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","run",178],"(",["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_WHITESPACE","\n\t\t\t",178],["T_CONSTANT_ENCAPSED_STRING","'package'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$r",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","package",179],",",["T_WHITESPACE","\n\t\t\t",179],["T_CONSTANT_ENCAPSED_STRING","'destination'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_STRING","WP_PLUGIN_DIR",180],",",["T_WHITESPACE","\n\t\t\t",180],["T_CONSTANT_ENCAPSED_STRING","'clear_destination'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","true",181],",",["T_WHITESPACE","\n\t\t\t",181],["T_CONSTANT_ENCAPSED_STRING","'clear_working'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","true",182],",",["T_WHITESPACE","\n\t\t\t",182],["T_CONSTANT_ENCAPSED_STRING","'hook_extra'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_WHITESPACE","\n\t\t\t\t",183],["T_CONSTANT_ENCAPSED_STRING","'plugin'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$plugin",184],",",["T_WHITESPACE","\n\t\t\t\t",184],["T_CONSTANT_ENCAPSED_STRING","'type'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'plugin'",185],",",["T_WHITESPACE","\n\t\t\t\t",185],["T_CONSTANT_ENCAPSED_STRING","'action'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'update'",186],",",["T_WHITESPACE","\n\t\t\t",186],")",",",["T_WHITESPACE","\n\t\t",187],")",["T_WHITESPACE"," ",188],")",";",["T_WHITESPACE","\n\n\t\t",188],["T_COMMENT","\/\/ Cleanup our hooks, in case something else does a upgrade on this connection.\n",190],["T_WHITESPACE","\t\t",191],["T_STRING","remove_action",191],"(",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'upgrader_process_complete'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'wp_clean_plugins_cache'",191],",",["T_WHITESPACE"," ",191],["T_LNUMBER","9",191],["T_WHITESPACE"," ",191],")",";",["T_WHITESPACE","\n\t\t",191],["T_STRING","remove_filter",192],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_pre_install'",192],",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_VARIABLE","$this",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'deactivate_plugin_before_upgrade'",192],")",")",";",["T_WHITESPACE","\n\t\t",192],["T_STRING","remove_filter",193],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_clear_destination'",193],",",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_VARIABLE","$this",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'delete_old_plugin'",193],")",")",";",["T_WHITESPACE","\n\n\t\t",193],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_WHITESPACE"," ",195],"!",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","result",195],["T_WHITESPACE"," ",195],["T_BOOLEAN_OR","||",195],["T_WHITESPACE"," ",195],["T_STRING","is_wp_error",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","result",195],")",["T_WHITESPACE"," ",195],")",["T_WHITESPACE","\n\t\t\t",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","result",196],";",["T_WHITESPACE","\n\n\t\t",196],["T_COMMENT","\/\/ Force refresh of plugin update information\n",198],["T_WHITESPACE","\t\t",199],["T_STRING","wp_clean_plugins_cache",199],"(",["T_WHITESPACE"," ",199],["T_VARIABLE","$parsed_args",199],"[",["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",199],"]",["T_WHITESPACE"," ",199],")",";",["T_WHITESPACE","\n\n\t\t",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_STRING","true",201],";",["T_WHITESPACE","\n\t",201],"}",["T_WHITESPACE","\n\n\t",202],["T_DOC_COMMENT","\/**\n\t * Bulk upgrade several plugins at once.\n\t *\n\t * @since 2.8.0\n\t * @since 3.7.0 The `$args` parameter was added, making clearing the plugin update cache optional.\n\t * @access public\n\t *\n\t * @param array $plugins Array of the basename paths of the plugins' main files.\n\t * @param array $args {\n\t *     Optional. Other arguments for upgrading several plugins at once. Default empty array.\n\t *\n\t *     @type bool $clear_update_cache Whether to clear the plugin updates cache if successful.\n\t *                                    Default true.\n\t * }\n\t * @return array|false An array of results indexed by plugin file, or false if unable to connect to the filesystem.\n\t *\/",204],["T_WHITESPACE","\n\t",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","bulk_upgrade",220],"(",["T_WHITESPACE"," ",220],["T_VARIABLE","$plugins",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$args",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_ARRAY","array",220],"(",")",["T_WHITESPACE"," ",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n\n\t\t",220],["T_VARIABLE","$defaults",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_ARRAY","array",222],"(",["T_WHITESPACE","\n\t\t\t",222],["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_STRING","true",223],",",["T_WHITESPACE","\n\t\t",223],")",";",["T_WHITESPACE","\n\t\t",224],["T_VARIABLE","$parsed_args",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","wp_parse_args",225],"(",["T_WHITESPACE"," ",225],["T_VARIABLE","$args",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$defaults",225],["T_WHITESPACE"," ",225],")",";",["T_WHITESPACE","\n\n\t\t",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","init",227],"(",")",";",["T_WHITESPACE","\n\t\t",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","bulk",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","true",228],";",["T_WHITESPACE","\n\t\t",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","upgrade_strings",229],"(",")",";",["T_WHITESPACE","\n\n\t\t",229],["T_VARIABLE","$current",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","get_site_transient",231],"(",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'update_plugins'",231],["T_WHITESPACE"," ",231],")",";",["T_WHITESPACE","\n\n\t\t",231],["T_STRING","add_filter",233],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_clear_destination'",233],",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",["T_VARIABLE","$this",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'delete_old_plugin'",233],")",",",["T_WHITESPACE"," ",233],["T_LNUMBER","10",233],",",["T_WHITESPACE"," ",233],["T_LNUMBER","4",233],")",";",["T_WHITESPACE","\n\n\t\t",233],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","skin",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","header",235],"(",")",";",["T_WHITESPACE","\n\n\t\t",235],["T_COMMENT","\/\/ Connect to the Filesystem first.\n",237],["T_WHITESPACE","\t\t",238],["T_VARIABLE","$res",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","fs_connect",238],"(",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_STRING","WP_CONTENT_DIR",238],",",["T_WHITESPACE"," ",238],["T_STRING","WP_PLUGIN_DIR",238],")",["T_WHITESPACE"," ",238],")",";",["T_WHITESPACE","\n\t\t",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_WHITESPACE"," ",239],"!",["T_WHITESPACE"," ",239],["T_VARIABLE","$res",239],["T_WHITESPACE"," ",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n\t\t\t",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","skin",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","footer",240],"(",")",";",["T_WHITESPACE","\n\t\t\t",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_STRING","false",241],";",["T_WHITESPACE","\n\t\t",241],"}",["T_WHITESPACE","\n\n\t\t",242],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","skin",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","bulk_header",244],"(",")",";",["T_WHITESPACE","\n\n\t\t",244],["T_COMMENT","\/*\n\t\t * Only start maintenance mode if:\n\t\t * - running Multisite and there are one or more plugins specified, OR\n\t\t * - a plugin with an update available is currently active.\n\t\t * @TODO: For multisite, maintenance mode should only kick in for individual sites if at all possible.\n\t\t *\/",246],["T_WHITESPACE","\n\t\t",251],["T_VARIABLE","$maintenance",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],"(",["T_WHITESPACE"," ",252],["T_STRING","is_multisite",252],"(",")",["T_WHITESPACE"," ",252],["T_BOOLEAN_AND","&&",252],["T_WHITESPACE"," ",252],"!",["T_WHITESPACE"," ",252],["T_EMPTY","empty",252],"(",["T_WHITESPACE"," ",252],["T_VARIABLE","$plugins",252],["T_WHITESPACE"," ",252],")",["T_WHITESPACE"," ",252],")",";",["T_WHITESPACE","\n\t\t",252],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_WHITESPACE"," ",253],["T_VARIABLE","$plugins",253],["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$plugin",253],["T_WHITESPACE"," ",253],")",["T_WHITESPACE","\n\t\t\t",253],["T_VARIABLE","$maintenance",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$maintenance",254],["T_WHITESPACE"," ",254],["T_BOOLEAN_OR","||",254],["T_WHITESPACE"," ",254],"(",["T_WHITESPACE"," ",254],["T_STRING","is_plugin_active",254],"(",["T_WHITESPACE"," ",254],["T_VARIABLE","$plugin",254],["T_WHITESPACE"," ",254],")",["T_WHITESPACE"," ",254],["T_BOOLEAN_AND","&&",254],["T_WHITESPACE"," ",254],["T_ISSET","isset",254],"(",["T_WHITESPACE"," ",254],["T_VARIABLE","$current",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","response",254],"[",["T_WHITESPACE"," ",254],["T_VARIABLE","$plugin",254],"]",["T_WHITESPACE"," ",254],")",["T_WHITESPACE"," ",254],")",";",["T_WHITESPACE","\n\t\t",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_WHITESPACE"," ",255],["T_VARIABLE","$maintenance",255],["T_WHITESPACE"," ",255],")",["T_WHITESPACE","\n\t\t\t",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","maintenance_mode",256],"(",["T_STRING","true",256],")",";",["T_WHITESPACE","\n\n\t\t",256],["T_VARIABLE","$results",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",")",";",["T_WHITESPACE","\n\n\t\t",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","update_count",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","count",260],"(",["T_VARIABLE","$plugins",260],")",";",["T_WHITESPACE","\n\t\t",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","update_current",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_LNUMBER","0",261],";",["T_WHITESPACE","\n\t\t",261],["T_FOREACH","foreach",262],["T_WHITESPACE"," ",262],"(",["T_WHITESPACE"," ",262],["T_VARIABLE","$plugins",262],["T_WHITESPACE"," ",262],["T_AS","as",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$plugin",262],["T_WHITESPACE"," ",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n\t\t\t",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","update_current",263],["T_INC","++",263],";",["T_WHITESPACE","\n\t\t\t",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","skin",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","plugin_info",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","get_plugin_data",264],"(",["T_WHITESPACE"," ",264],["T_STRING","WP_PLUGIN_DIR",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'\/'",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_VARIABLE","$plugin",264],",",["T_WHITESPACE"," ",264],["T_STRING","false",264],",",["T_WHITESPACE"," ",264],["T_STRING","true",264],")",";",["T_WHITESPACE","\n\n\t\t\t",264],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_WHITESPACE"," ",266],"!",["T_ISSET","isset",266],"(",["T_WHITESPACE"," ",266],["T_VARIABLE","$current",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","response",266],"[",["T_WHITESPACE"," ",266],["T_VARIABLE","$plugin",266],["T_WHITESPACE"," ",266],"]",["T_WHITESPACE"," ",266],")",["T_WHITESPACE"," ",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n\t\t\t\t",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","skin",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","set_result",267],"(",["T_CONSTANT_ENCAPSED_STRING","'up_to_date'",267],")",";",["T_WHITESPACE","\n\t\t\t\t",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","skin",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","before",268],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","skin",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","feedback",269],"(",["T_CONSTANT_ENCAPSED_STRING","'up_to_date'",269],")",";",["T_WHITESPACE","\n\t\t\t\t",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","skin",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","after",270],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",270],["T_VARIABLE","$results",271],"[",["T_VARIABLE","$plugin",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","true",271],";",["T_WHITESPACE","\n\t\t\t\t",271],["T_CONTINUE","continue",272],";",["T_WHITESPACE","\n\t\t\t",272],"}",["T_WHITESPACE","\n\n\t\t\t",273],["T_COMMENT","\/\/ Get the URL to the zip file.\n",275],["T_WHITESPACE","\t\t\t",276],["T_VARIABLE","$r",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$current",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","response",276],"[",["T_WHITESPACE"," ",276],["T_VARIABLE","$plugin",276],["T_WHITESPACE"," ",276],"]",";",["T_WHITESPACE","\n\n\t\t\t",276],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","skin",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","plugin_active",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","is_plugin_active",278],"(",["T_VARIABLE","$plugin",278],")",";",["T_WHITESPACE","\n\n\t\t\t",278],["T_VARIABLE","$result",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","run",280],"(",["T_WHITESPACE"," ",280],["T_ARRAY","array",280],"(",["T_WHITESPACE","\n\t\t\t\t",280],["T_CONSTANT_ENCAPSED_STRING","'package'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$r",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","package",281],",",["T_WHITESPACE","\n\t\t\t\t",281],["T_CONSTANT_ENCAPSED_STRING","'destination'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_STRING","WP_PLUGIN_DIR",282],",",["T_WHITESPACE","\n\t\t\t\t",282],["T_CONSTANT_ENCAPSED_STRING","'clear_destination'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_STRING","true",283],",",["T_WHITESPACE","\n\t\t\t\t",283],["T_CONSTANT_ENCAPSED_STRING","'clear_working'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_STRING","true",284],",",["T_WHITESPACE","\n\t\t\t\t",284],["T_CONSTANT_ENCAPSED_STRING","'is_multi'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_STRING","true",285],",",["T_WHITESPACE","\n\t\t\t\t",285],["T_CONSTANT_ENCAPSED_STRING","'hook_extra'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_WHITESPACE","\n\t\t\t\t\t",286],["T_CONSTANT_ENCAPSED_STRING","'plugin'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$plugin",287],["T_WHITESPACE","\n\t\t\t\t",287],")",["T_WHITESPACE","\n\t\t\t",288],")",["T_WHITESPACE"," ",289],")",";",["T_WHITESPACE","\n\n\t\t\t",289],["T_VARIABLE","$results",291],"[",["T_VARIABLE","$plugin",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","result",291],";",["T_WHITESPACE","\n\n\t\t\t",291],["T_COMMENT","\/\/ Prevent credentials auth screen from displaying multiple times\n",293],["T_WHITESPACE","\t\t\t",294],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_WHITESPACE"," ",294],["T_STRING","false",294],["T_WHITESPACE"," ",294],["T_IS_IDENTICAL","===",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$result",294],["T_WHITESPACE"," ",294],")",["T_WHITESPACE","\n\t\t\t\t",294],["T_BREAK","break",295],";",["T_WHITESPACE","\n\t\t",295],"}",["T_WHITESPACE"," ",296],["T_COMMENT","\/\/end foreach $plugins\n",296],["T_WHITESPACE","\n\t\t",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","maintenance_mode",298],"(",["T_STRING","false",298],")",";",["T_WHITESPACE","\n\n\t\t",298],["T_COMMENT","\/\/ Force refresh of plugin update information.\n",300],["T_WHITESPACE","\t\t",301],["T_STRING","wp_clean_plugins_cache",301],"(",["T_WHITESPACE"," ",301],["T_VARIABLE","$parsed_args",301],"[",["T_CONSTANT_ENCAPSED_STRING","'clear_update_cache'",301],"]",["T_WHITESPACE"," ",301],")",";",["T_WHITESPACE","\n\n\t\t",301],["T_DOC_COMMENT","\/** This action is documented in wp-admin\/includes\/class-wp-upgrader.php *\/",303],["T_WHITESPACE","\n\t\t",303],["T_STRING","do_action",304],"(",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'upgrader_process_complete'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],",",["T_WHITESPACE"," ",304],["T_ARRAY","array",304],"(",["T_WHITESPACE","\n\t\t\t",304],["T_CONSTANT_ENCAPSED_STRING","'action'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'update'",305],",",["T_WHITESPACE","\n\t\t\t",305],["T_CONSTANT_ENCAPSED_STRING","'type'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'plugin'",306],",",["T_WHITESPACE","\n\t\t\t",306],["T_CONSTANT_ENCAPSED_STRING","'bulk'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_STRING","true",307],",",["T_WHITESPACE","\n\t\t\t",307],["T_CONSTANT_ENCAPSED_STRING","'plugins'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$plugins",308],",",["T_WHITESPACE","\n\t\t",308],")",["T_WHITESPACE"," ",309],")",";",["T_WHITESPACE","\n\n\t\t",309],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","skin",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","bulk_footer",311],"(",")",";",["T_WHITESPACE","\n\n\t\t",311],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","skin",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","footer",313],"(",")",";",["T_WHITESPACE","\n\n\t\t",313],["T_COMMENT","\/\/ Cleanup our hooks, in case something else does a upgrade on this connection.\n",315],["T_WHITESPACE","\t\t",316],["T_STRING","remove_filter",316],"(",["T_CONSTANT_ENCAPSED_STRING","'upgrader_clear_destination'",316],",",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_VARIABLE","$this",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'delete_old_plugin'",316],")",")",";",["T_WHITESPACE","\n\n\t\t",316],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$results",318],";",["T_WHITESPACE","\n\t",318],"}",["T_WHITESPACE","\n\n\t",319],["T_DOC_COMMENT","\/**\n\t * Check a source package to be sure it contains a plugin.\n\t *\n\t * This function is added to the {@see 'upgrader_source_selection'} filter by\n\t * Plugin_Upgrader::install().\n\t *\n\t * @since 3.3.0\n\t * @access public\n\t *\n\t * @global WP_Filesystem_Base $wp_filesystem Subclass\n\t *\n\t * @param string $source The path to the downloaded package source.\n\t * @return string|WP_Error The source as passed, or a WP_Error object\n\t *                         if no plugins were found.\n\t *\/",321],["T_WHITESPACE","\n\t",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","check_package",336],"(",["T_VARIABLE","$source",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n\t\t",336],["T_GLOBAL","global",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$wp_filesystem",337],";",["T_WHITESPACE","\n\n\t\t",337],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_WHITESPACE"," ",339],["T_STRING","is_wp_error",339],"(",["T_VARIABLE","$source",339],")",["T_WHITESPACE"," ",339],")",["T_WHITESPACE","\n\t\t\t",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$source",340],";",["T_WHITESPACE","\n\n\t\t",340],["T_VARIABLE","$working_directory",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","str_replace",342],"(",["T_WHITESPACE"," ",342],["T_VARIABLE","$wp_filesystem",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","wp_content_dir",342],"(",")",",",["T_WHITESPACE"," ",342],["T_STRING","trailingslashit",342],"(",["T_STRING","WP_CONTENT_DIR",342],")",",",["T_WHITESPACE"," ",342],["T_VARIABLE","$source",342],")",";",["T_WHITESPACE","\n\t\t",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(",["T_WHITESPACE"," ",343],"!",["T_WHITESPACE"," ",343],["T_STRING","is_dir",343],"(",["T_VARIABLE","$working_directory",343],")",["T_WHITESPACE"," ",343],")",["T_WHITESPACE"," ",343],["T_COMMENT","\/\/ Sanity check, if the above fails, let's not prevent installation.\n",343],["T_WHITESPACE","\t\t\t",344],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$source",344],";",["T_WHITESPACE","\n\n\t\t",344],["T_COMMENT","\/\/ Check the folder contains at least 1 valid plugin.\n",346],["T_WHITESPACE","\t\t",347],["T_VARIABLE","$plugins_found",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","false",347],";",["T_WHITESPACE","\n\t\t",347],["T_VARIABLE","$files",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","glob",348],"(",["T_WHITESPACE"," ",348],["T_VARIABLE","$working_directory",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'*.php'",348],["T_WHITESPACE"," ",348],")",";",["T_WHITESPACE","\n\t\t",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_WHITESPACE"," ",349],["T_VARIABLE","$files",349],["T_WHITESPACE"," ",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n\t\t\t",349],["T_FOREACH","foreach",350],["T_WHITESPACE"," ",350],"(",["T_WHITESPACE"," ",350],["T_VARIABLE","$files",350],["T_WHITESPACE"," ",350],["T_AS","as",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$file",350],["T_WHITESPACE"," ",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n\t\t\t\t",350],["T_VARIABLE","$info",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_STRING","get_plugin_data",351],"(",["T_WHITESPACE"," ",351],["T_VARIABLE","$file",351],",",["T_WHITESPACE"," ",351],["T_STRING","false",351],",",["T_WHITESPACE"," ",351],["T_STRING","false",351],["T_WHITESPACE"," ",351],")",";",["T_WHITESPACE","\n\t\t\t\t",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_WHITESPACE"," ",352],"!",["T_WHITESPACE"," ",352],["T_EMPTY","empty",352],"(",["T_WHITESPACE"," ",352],["T_VARIABLE","$info",352],"[",["T_CONSTANT_ENCAPSED_STRING","'Name'",352],"]",["T_WHITESPACE"," ",352],")",["T_WHITESPACE"," ",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n\t\t\t\t\t",352],["T_VARIABLE","$plugins_found",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","true",353],";",["T_WHITESPACE","\n\t\t\t\t\t",353],["T_BREAK","break",354],";",["T_WHITESPACE","\n\t\t\t\t",354],"}",["T_WHITESPACE","\n\t\t\t",355],"}",["T_WHITESPACE","\n\t\t",356],"}",["T_WHITESPACE","\n\n\t\t",357],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_WHITESPACE"," ",359],"!",["T_WHITESPACE"," ",359],["T_VARIABLE","$plugins_found",359],["T_WHITESPACE"," ",359],")",["T_WHITESPACE","\n\t\t\t",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_NEW","new",360],["T_WHITESPACE"," ",360],["T_STRING","WP_Error",360],"(",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'incompatible_archive_no_plugins'",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","strings",360],"[",["T_CONSTANT_ENCAPSED_STRING","'incompatible_archive'",360],"]",",",["T_WHITESPACE"," ",360],["T_STRING","__",360],"(",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'No valid plugins were found.'",360],["T_WHITESPACE"," ",360],")",["T_WHITESPACE"," ",360],")",";",["T_WHITESPACE","\n\n\t\t",360],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$source",362],";",["T_WHITESPACE","\n\t",362],"}",["T_WHITESPACE","\n\n\t",363],["T_DOC_COMMENT","\/**\n\t * Retrieve the path to the file that contains the plugin info.\n\t *\n\t * This isn't used internally in the class, but is called by the skins.\n\t *\n\t * @since 2.8.0\n\t * @access public\n\t *\n\t * @return string|false The full path to the main plugin file, or false.\n\t *\/",365],["T_WHITESPACE","\n\t",374],["T_PUBLIC","public",375],["T_WHITESPACE"," ",375],["T_FUNCTION","function",375],["T_WHITESPACE"," ",375],["T_STRING","plugin_info",375],"(",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n\t\t",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_WHITESPACE"," ",376],"!",["T_WHITESPACE"," ",376],["T_STRING","is_array",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","result",376],")",["T_WHITESPACE"," ",376],")",["T_WHITESPACE","\n\t\t\t",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_STRING","false",377],";",["T_WHITESPACE","\n\t\t",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_WHITESPACE"," ",378],["T_EMPTY","empty",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","result",378],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_name'",378],"]",")",["T_WHITESPACE"," ",378],")",["T_WHITESPACE","\n\t\t\t",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_STRING","false",379],";",["T_WHITESPACE","\n\n\t\t",379],["T_VARIABLE","$plugin",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_STRING","get_plugins",381],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","result",381],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_name'",381],"]",")",";",["T_WHITESPACE"," ",381],["T_COMMENT","\/\/Ensure to pass with leading slash\n",381],["T_WHITESPACE","\t\t",382],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_WHITESPACE"," ",382],["T_EMPTY","empty",382],"(",["T_VARIABLE","$plugin",382],")",["T_WHITESPACE"," ",382],")",["T_WHITESPACE","\n\t\t\t",382],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_STRING","false",383],";",["T_WHITESPACE","\n\n\t\t",383],["T_VARIABLE","$pluginfiles",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_STRING","array_keys",385],"(",["T_VARIABLE","$plugin",385],")",";",["T_WHITESPACE"," ",385],["T_COMMENT","\/\/Assume the requested plugin is the first in the list\n",385],["T_WHITESPACE","\n\t\t",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","result",387],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_name'",387],"]",["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'\/'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$pluginfiles",387],"[",["T_LNUMBER","0",387],"]",";",["T_WHITESPACE","\n\t",387],"}",["T_WHITESPACE","\n\n\t",388],["T_DOC_COMMENT","\/**\n\t * Deactivates a plugin before it is upgraded.\n\t *\n\t * Hooked to the {@see 'upgrader_pre_install'} filter by Plugin_Upgrader::upgrade().\n\t *\n\t * @since 2.8.0\n\t * @since 4.1.0 Added a return value.\n\t * @access public\n\t *\n\t * @param bool|WP_Error  $return Upgrade offer return.\n\t * @param array          $plugin Plugin package arguments.\n\t * @return bool|WP_Error The passed in $return param or WP_Error.\n\t *\/",390],["T_WHITESPACE","\n\t",402],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","deactivate_plugin_before_upgrade",403],"(",["T_VARIABLE","$return",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$plugin",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n\n\t\t",403],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_WHITESPACE"," ",405],["T_STRING","is_wp_error",405],"(",["T_VARIABLE","$return",405],")",["T_WHITESPACE"," ",405],")",["T_WHITESPACE"," ",405],["T_COMMENT","\/\/Bypass.\n",405],["T_WHITESPACE","\t\t\t",406],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$return",406],";",["T_WHITESPACE","\n\n\t\t",406],["T_COMMENT","\/\/ When in cron (background updates) don't deactivate the plugin, as we require a browser to reactivate it\n",408],["T_WHITESPACE","\t\t",409],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_WHITESPACE"," ",409],["T_STRING","defined",409],"(",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'DOING_CRON'",409],["T_WHITESPACE"," ",409],")",["T_WHITESPACE"," ",409],["T_BOOLEAN_AND","&&",409],["T_WHITESPACE"," ",409],["T_STRING","DOING_CRON",409],["T_WHITESPACE"," ",409],")",["T_WHITESPACE","\n\t\t\t",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$return",410],";",["T_WHITESPACE","\n\n\t\t",410],["T_VARIABLE","$plugin",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_ISSET","isset",412],"(",["T_VARIABLE","$plugin",412],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",412],"]",")",["T_WHITESPACE"," ",412],"?",["T_WHITESPACE"," ",412],["T_VARIABLE","$plugin",412],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",412],"]",["T_WHITESPACE"," ",412],":",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","''",412],";",["T_WHITESPACE","\n\t\t",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_WHITESPACE"," ",413],["T_EMPTY","empty",413],"(",["T_VARIABLE","$plugin",413],")",["T_WHITESPACE"," ",413],")",["T_WHITESPACE","\n\t\t\t",413],["T_RETURN","return",414],["T_WHITESPACE"," ",414],["T_NEW","new",414],["T_WHITESPACE"," ",414],["T_STRING","WP_Error",414],"(",["T_CONSTANT_ENCAPSED_STRING","'bad_request'",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","strings",414],"[",["T_CONSTANT_ENCAPSED_STRING","'bad_request'",414],"]",")",";",["T_WHITESPACE","\n\n\t\t",414],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_WHITESPACE"," ",416],["T_STRING","is_plugin_active",416],"(",["T_VARIABLE","$plugin",416],")",["T_WHITESPACE"," ",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n\t\t\t",416],["T_COMMENT","\/\/Deactivate the plugin silently, Prevent deactivation hooks from running.\n",417],["T_WHITESPACE","\t\t\t",418],["T_STRING","deactivate_plugins",418],"(",["T_VARIABLE","$plugin",418],",",["T_WHITESPACE"," ",418],["T_STRING","true",418],")",";",["T_WHITESPACE","\n\t\t",418],"}",["T_WHITESPACE","\n\n\t\t",419],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$return",421],";",["T_WHITESPACE","\n\t",421],"}",["T_WHITESPACE","\n\n\t",422],["T_DOC_COMMENT","\/**\n\t * Delete the old plugin during an upgrade.\n\t *\n\t * Hooked to the {@see 'upgrader_clear_destination'} filter by\n\t * Plugin_Upgrader::upgrade() and Plugin_Upgrader::bulk_upgrade().\n\t *\n\t * @since 2.8.0\n\t * @access public\n\t *\n\t * @global WP_Filesystem_Base $wp_filesystem Subclass\n     *\n\t * @param bool|WP_Error $removed\n\t * @param string        $local_destination\n\t * @param string        $remote_destination\n\t * @param array         $plugin\n\t * @return WP_Error|bool\n\t *\/",424],["T_WHITESPACE","\n\t",440],["T_PUBLIC","public",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","delete_old_plugin",441],"(",["T_VARIABLE","$removed",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$local_destination",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$remote_destination",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$plugin",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n\t\t",441],["T_GLOBAL","global",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$wp_filesystem",442],";",["T_WHITESPACE","\n\n\t\t",442],["T_IF","if",444],["T_WHITESPACE"," ",444],"(",["T_WHITESPACE"," ",444],["T_STRING","is_wp_error",444],"(",["T_VARIABLE","$removed",444],")",["T_WHITESPACE"," ",444],")",["T_WHITESPACE","\n\t\t\t",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$removed",445],";",["T_WHITESPACE"," ",445],["T_COMMENT","\/\/Pass errors through.\n",445],["T_WHITESPACE","\n\t\t",446],["T_VARIABLE","$plugin",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_ISSET","isset",447],"(",["T_VARIABLE","$plugin",447],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",447],"]",")",["T_WHITESPACE"," ",447],"?",["T_WHITESPACE"," ",447],["T_VARIABLE","$plugin",447],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",447],"]",["T_WHITESPACE"," ",447],":",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","''",447],";",["T_WHITESPACE","\n\t\t",447],["T_IF","if",448],["T_WHITESPACE"," ",448],"(",["T_WHITESPACE"," ",448],["T_EMPTY","empty",448],"(",["T_VARIABLE","$plugin",448],")",["T_WHITESPACE"," ",448],")",["T_WHITESPACE","\n\t\t\t",448],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_NEW","new",449],["T_WHITESPACE"," ",449],["T_STRING","WP_Error",449],"(",["T_CONSTANT_ENCAPSED_STRING","'bad_request'",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","strings",449],"[",["T_CONSTANT_ENCAPSED_STRING","'bad_request'",449],"]",")",";",["T_WHITESPACE","\n\n\t\t",449],["T_VARIABLE","$plugins_dir",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$wp_filesystem",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","wp_plugins_dir",451],"(",")",";",["T_WHITESPACE","\n\t\t",451],["T_VARIABLE","$this_plugin_dir",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_STRING","trailingslashit",452],"(",["T_WHITESPACE"," ",452],["T_STRING","dirname",452],"(",["T_VARIABLE","$plugins_dir",452],["T_WHITESPACE"," ",452],".",["T_WHITESPACE"," ",452],["T_VARIABLE","$plugin",452],")",["T_WHITESPACE"," ",452],")",";",["T_WHITESPACE","\n\n\t\t",452],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_WHITESPACE"," ",454],"!",["T_WHITESPACE"," ",454],["T_VARIABLE","$wp_filesystem",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","exists",454],"(",["T_VARIABLE","$this_plugin_dir",454],")",["T_WHITESPACE"," ",454],")",["T_WHITESPACE"," ",454],["T_COMMENT","\/\/If it's already vanished.\n",454],["T_WHITESPACE","\t\t\t",455],["T_RETURN","return",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$removed",455],";",["T_WHITESPACE","\n\n\t\t",455],["T_COMMENT","\/\/ If plugin is in its own directory, recursively delete the directory.\n",457],["T_WHITESPACE","\t\t",458],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_WHITESPACE"," ",458],["T_STRING","strpos",458],"(",["T_VARIABLE","$plugin",458],",",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'\/'",458],")",["T_WHITESPACE"," ",458],["T_BOOLEAN_AND","&&",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$this_plugin_dir",458],["T_WHITESPACE"," ",458],["T_IS_NOT_EQUAL","!=",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$plugins_dir",458],["T_WHITESPACE"," ",458],")",["T_WHITESPACE"," ",458],["T_COMMENT","\/\/base check on if plugin includes directory separator AND that it's not the root plugin folder\n",458],["T_WHITESPACE","\t\t\t",459],["T_VARIABLE","$deleted",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$wp_filesystem",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","delete",459],"(",["T_VARIABLE","$this_plugin_dir",459],",",["T_WHITESPACE"," ",459],["T_STRING","true",459],")",";",["T_WHITESPACE","\n\t\t",459],["T_ELSE","else",460],["T_WHITESPACE","\n\t\t\t",460],["T_VARIABLE","$deleted",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$wp_filesystem",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","delete",461],"(",["T_VARIABLE","$plugins_dir",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_VARIABLE","$plugin",461],")",";",["T_WHITESPACE","\n\n\t\t",461],["T_IF","if",463],["T_WHITESPACE"," ",463],"(",["T_WHITESPACE"," ",463],"!",["T_WHITESPACE"," ",463],["T_VARIABLE","$deleted",463],["T_WHITESPACE"," ",463],")",["T_WHITESPACE","\n\t\t\t",463],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_NEW","new",464],["T_WHITESPACE"," ",464],["T_STRING","WP_Error",464],"(",["T_CONSTANT_ENCAPSED_STRING","'remove_old_failed'",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","strings",464],"[",["T_CONSTANT_ENCAPSED_STRING","'remove_old_failed'",464],"]",")",";",["T_WHITESPACE","\n\n\t\t",464],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_STRING","true",466],";",["T_WHITESPACE","\n\t",466],"}",["T_WHITESPACE","\n",467],"}",["T_WHITESPACE","\n",468]]