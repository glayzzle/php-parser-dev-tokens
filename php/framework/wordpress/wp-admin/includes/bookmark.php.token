[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * WordPress Bookmark Administration API\n *\n * @package WordPress\n * @subpackage Administration\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Add a link to using values provided in $_POST.\n *\n * @since 2.0.0\n *\n * @return int|WP_Error Value 0 or WP_Error on failure. The link ID on success.\n *\/",9],["T_WHITESPACE","\n",15],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","add_link",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t",16],["T_RETURN","return",17],["T_WHITESPACE"," ",17],["T_STRING","edit_link",17],"(",")",";",["T_WHITESPACE","\n",17],"}",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Updates or inserts a link using values provided in $_POST.\n *\n * @since 2.0.0\n *\n * @param int $link_id Optional. ID of the link to edit. Default 0.\n * @return int|WP_Error Value 0 or WP_Error on failure. The link ID on success.\n *\/",20],["T_WHITESPACE","\n",27],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","edit_link",28],"(",["T_WHITESPACE"," ",28],["T_VARIABLE","$link_id",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_LNUMBER","0",28],["T_WHITESPACE"," ",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\t",28],["T_IF","if",29],["T_WHITESPACE"," ",29],"(",["T_WHITESPACE"," ",29],"!",["T_WHITESPACE"," ",29],["T_STRING","current_user_can",29],"(",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'manage_links'",29],["T_WHITESPACE"," ",29],")",["T_WHITESPACE"," ",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\t\t",29],["T_STRING","wp_die",30],"(",["T_WHITESPACE","\n\t\t\t",30],["T_CONSTANT_ENCAPSED_STRING","'<h1>'",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_STRING","__",31],"(",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Cheatin&#8217; uh?'",31],["T_WHITESPACE"," ",31],")",["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'<\/h1>'",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE","\n\t\t\t",31],["T_CONSTANT_ENCAPSED_STRING","'<p>'",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_STRING","__",32],"(",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'Sorry, you are not allowed to edit the links for this site.'",32],["T_WHITESPACE"," ",32],")",["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",32],",",["T_WHITESPACE","\n\t\t\t",32],["T_LNUMBER","403",33],["T_WHITESPACE","\n\t\t",33],")",";",["T_WHITESPACE","\n\t",34],"}",["T_WHITESPACE","\n\n\t",35],["T_VARIABLE","$_POST",37],"[",["T_CONSTANT_ENCAPSED_STRING","'link_url'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","esc_html",37],"(",["T_WHITESPACE"," ",37],["T_VARIABLE","$_POST",37],"[",["T_CONSTANT_ENCAPSED_STRING","'link_url'",37],"]",["T_WHITESPACE"," ",37],")",";",["T_WHITESPACE","\n\t",37],["T_VARIABLE","$_POST",38],"[",["T_CONSTANT_ENCAPSED_STRING","'link_url'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","esc_url",38],"(",["T_VARIABLE","$_POST",38],"[",["T_CONSTANT_ENCAPSED_STRING","'link_url'",38],"]",")",";",["T_WHITESPACE","\n\t",38],["T_VARIABLE","$_POST",39],"[",["T_CONSTANT_ENCAPSED_STRING","'link_name'",39],"]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","esc_html",39],"(",["T_WHITESPACE"," ",39],["T_VARIABLE","$_POST",39],"[",["T_CONSTANT_ENCAPSED_STRING","'link_name'",39],"]",["T_WHITESPACE"," ",39],")",";",["T_WHITESPACE","\n\t",39],["T_VARIABLE","$_POST",40],"[",["T_CONSTANT_ENCAPSED_STRING","'link_image'",40],"]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","esc_html",40],"(",["T_WHITESPACE"," ",40],["T_VARIABLE","$_POST",40],"[",["T_CONSTANT_ENCAPSED_STRING","'link_image'",40],"]",["T_WHITESPACE"," ",40],")",";",["T_WHITESPACE","\n\t",40],["T_VARIABLE","$_POST",41],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rss'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","esc_url",41],"(",["T_VARIABLE","$_POST",41],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rss'",41],"]",")",";",["T_WHITESPACE","\n\t",41],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_WHITESPACE"," ",42],"!",["T_ISSET","isset",42],"(",["T_VARIABLE","$_POST",42],"[",["T_CONSTANT_ENCAPSED_STRING","'link_visible'",42],"]",")",["T_WHITESPACE"," ",42],["T_BOOLEAN_OR","||",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'N'",42],["T_WHITESPACE"," ",42],["T_IS_NOT_EQUAL","!=",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_POST",42],"[",["T_CONSTANT_ENCAPSED_STRING","'link_visible'",42],"]",["T_WHITESPACE"," ",42],")",["T_WHITESPACE","\n\t\t",42],["T_VARIABLE","$_POST",43],"[",["T_CONSTANT_ENCAPSED_STRING","'link_visible'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Y'",43],";",["T_WHITESPACE","\n\n\t",43],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_WHITESPACE"," ",45],"!",["T_EMPTY","empty",45],"(",["T_WHITESPACE"," ",45],["T_VARIABLE","$link_id",45],["T_WHITESPACE"," ",45],")",["T_WHITESPACE"," ",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n\t\t",45],["T_VARIABLE","$_POST",46],"[",["T_CONSTANT_ENCAPSED_STRING","'link_id'",46],"]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$link_id",46],";",["T_WHITESPACE","\n\t\t",46],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_STRING","wp_update_link",47],"(",["T_WHITESPACE"," ",47],["T_VARIABLE","$_POST",47],["T_WHITESPACE"," ",47],")",";",["T_WHITESPACE","\n\t",47],"}",["T_WHITESPACE"," ",48],["T_ELSE","else",48],["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n\t\t",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_STRING","wp_insert_link",49],"(",["T_WHITESPACE"," ",49],["T_VARIABLE","$_POST",49],["T_WHITESPACE"," ",49],")",";",["T_WHITESPACE","\n\t",49],"}",["T_WHITESPACE","\n",50],"}",["T_WHITESPACE","\n\n",51],["T_DOC_COMMENT","\/**\n * Retrieves the default link for editing.\n *\n * @since 2.0.0\n *\n * @return stdClass Default link object.\n *\/",53],["T_WHITESPACE","\n",59],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","get_default_link_to_edit",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t",60],["T_VARIABLE","$link",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","stdClass",61],";",["T_WHITESPACE","\n\t",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_WHITESPACE"," ",62],["T_ISSET","isset",62],"(",["T_WHITESPACE"," ",62],["T_VARIABLE","$_GET",62],"[",["T_CONSTANT_ENCAPSED_STRING","'linkurl'",62],"]",["T_WHITESPACE"," ",62],")",["T_WHITESPACE"," ",62],")",["T_WHITESPACE","\n\t\t",62],["T_VARIABLE","$link",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","link_url",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","esc_url",63],"(",["T_WHITESPACE"," ",63],["T_STRING","wp_unslash",63],"(",["T_WHITESPACE"," ",63],["T_VARIABLE","$_GET",63],"[",["T_CONSTANT_ENCAPSED_STRING","'linkurl'",63],"]",["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],")",";",["T_WHITESPACE","\n\t",63],["T_ELSE","else",64],["T_WHITESPACE","\n\t\t",64],["T_VARIABLE","$link",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","link_url",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","''",65],";",["T_WHITESPACE","\n\n\t",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_WHITESPACE"," ",67],["T_ISSET","isset",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$_GET",67],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",67],"]",["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],")",["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$link",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","link_name",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","esc_attr",68],"(",["T_WHITESPACE"," ",68],["T_STRING","wp_unslash",68],"(",["T_WHITESPACE"," ",68],["T_VARIABLE","$_GET",68],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",68],"]",["T_WHITESPACE"," ",68],")",["T_WHITESPACE"," ",68],")",";",["T_WHITESPACE","\n\t",68],["T_ELSE","else",69],["T_WHITESPACE","\n\t\t",69],["T_VARIABLE","$link",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","link_name",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","''",70],";",["T_WHITESPACE","\n\n\t",70],["T_VARIABLE","$link",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","link_visible",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'Y'",72],";",["T_WHITESPACE","\n\n\t",72],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$link",74],";",["T_WHITESPACE","\n",74],"}",["T_WHITESPACE","\n\n",75],["T_DOC_COMMENT","\/**\n * Deletes a specified link from the database.\n *\n * @since 2.0.0\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param int $link_id ID of the link to delete\n * @return true Always true.\n *\/",77],["T_WHITESPACE","\n",86],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","wp_delete_link",87],"(",["T_WHITESPACE"," ",87],["T_VARIABLE","$link_id",87],["T_WHITESPACE"," ",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n\t",87],["T_GLOBAL","global",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$wpdb",88],";",["T_WHITESPACE","\n\t",88],["T_DOC_COMMENT","\/**\n\t * Fires before a link is deleted.\n\t *\n\t * @since 2.0.0\n\t *\n\t * @param int $link_id ID of the link to delete.\n\t *\/",89],["T_WHITESPACE","\n\t",95],["T_STRING","do_action",96],"(",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'delete_link'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$link_id",96],["T_WHITESPACE"," ",96],")",";",["T_WHITESPACE","\n\n\t",96],["T_STRING","wp_delete_object_term_relationships",98],"(",["T_WHITESPACE"," ",98],["T_VARIABLE","$link_id",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'link_category'",98],["T_WHITESPACE"," ",98],")",";",["T_WHITESPACE","\n\n\t",98],["T_VARIABLE","$wpdb",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","delete",100],"(",["T_WHITESPACE"," ",100],["T_VARIABLE","$wpdb",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","links",100],",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'link_id'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$link_id",100],["T_WHITESPACE"," ",100],")",["T_WHITESPACE"," ",100],")",";",["T_WHITESPACE","\n\n\t",100],["T_DOC_COMMENT","\/**\n\t * Fires after a link has been deleted.\n\t *\n\t * @since 2.2.0\n\t *\n\t * @param int $link_id ID of the deleted link.\n\t *\/",102],["T_WHITESPACE","\n\t",108],["T_STRING","do_action",109],"(",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'deleted_link'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$link_id",109],["T_WHITESPACE"," ",109],")",";",["T_WHITESPACE","\n\n\t",109],["T_STRING","clean_bookmark_cache",111],"(",["T_WHITESPACE"," ",111],["T_VARIABLE","$link_id",111],["T_WHITESPACE"," ",111],")",";",["T_WHITESPACE","\n\n\t",111],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_STRING","true",113],";",["T_WHITESPACE","\n",113],"}",["T_WHITESPACE","\n\n",114],["T_DOC_COMMENT","\/**\n * Retrieves the link categories associated with the link specified.\n *\n * @since 2.1.0\n *\n * @param int $link_id Link ID to look up\n * @return array The requested link's categories\n *\/",116],["T_WHITESPACE","\n",123],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","wp_get_link_cats",124],"(",["T_WHITESPACE"," ",124],["T_VARIABLE","$link_id",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_LNUMBER","0",124],["T_WHITESPACE"," ",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n\t",124],["T_VARIABLE","$cats",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","wp_get_object_terms",125],"(",["T_WHITESPACE"," ",125],["T_VARIABLE","$link_id",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'link_category'",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'ids'",125],")",["T_WHITESPACE"," ",125],")",";",["T_WHITESPACE","\n\t",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_STRING","array_unique",126],"(",["T_WHITESPACE"," ",126],["T_VARIABLE","$cats",126],["T_WHITESPACE"," ",126],")",";",["T_WHITESPACE","\n",126],"}",["T_WHITESPACE","\n\n",127],["T_DOC_COMMENT","\/**\n * Retrieves link data based on its ID.\n *\n * @since 2.0.0\n *\n * @param int|stdClass $link Link ID or object to retrieve.\n * @return object Link object for editing.\n *\/",129],["T_WHITESPACE","\n",136],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","get_link_to_edit",137],"(",["T_WHITESPACE"," ",137],["T_VARIABLE","$link",137],["T_WHITESPACE"," ",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n\t",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","get_bookmark",138],"(",["T_WHITESPACE"," ",138],["T_VARIABLE","$link",138],",",["T_WHITESPACE"," ",138],["T_STRING","OBJECT",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'edit'",138],["T_WHITESPACE"," ",138],")",";",["T_WHITESPACE","\n",138],"}",["T_WHITESPACE","\n\n",139],["T_DOC_COMMENT","\/**\n * Inserts\/updates links into\/in the database.\n *\n * @since 2.0.0\n *\n * @global wpdb $wpdb WordPress database abstraction object.\n *\n * @param array $linkdata Elements that make up the link to insert.\n * @param bool  $wp_error Optional. Whether to return a WP_Error object on failure. Default false.\n * @return int|WP_Error Value 0 or WP_Error on failure. The link ID on success.\n *\/",141],["T_WHITESPACE","\n",151],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","wp_insert_link",152],"(",["T_WHITESPACE"," ",152],["T_VARIABLE","$linkdata",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$wp_error",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","false",152],["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t",152],["T_GLOBAL","global",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$wpdb",153],";",["T_WHITESPACE","\n\n\t",153],["T_VARIABLE","$defaults",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'link_id'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_LNUMBER","0",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'link_name'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'link_url'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'link_rating'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_LNUMBER","0",155],["T_WHITESPACE"," ",155],")",";",["T_WHITESPACE","\n\n\t",155],["T_VARIABLE","$args",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","wp_parse_args",157],"(",["T_WHITESPACE"," ",157],["T_VARIABLE","$linkdata",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$defaults",157],["T_WHITESPACE"," ",157],")",";",["T_WHITESPACE","\n\t",157],["T_VARIABLE","$r",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","wp_unslash",158],"(",["T_WHITESPACE"," ",158],["T_STRING","sanitize_bookmark",158],"(",["T_WHITESPACE"," ",158],["T_VARIABLE","$args",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'db'",158],["T_WHITESPACE"," ",158],")",["T_WHITESPACE"," ",158],")",";",["T_WHITESPACE","\n\n\t",158],["T_VARIABLE","$link_id",160],["T_WHITESPACE","   ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$r",160],"[",["T_CONSTANT_ENCAPSED_STRING","'link_id'",160],"]",";",["T_WHITESPACE","\n\t",160],["T_VARIABLE","$link_name",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$r",161],"[",["T_CONSTANT_ENCAPSED_STRING","'link_name'",161],"]",";",["T_WHITESPACE","\n\t",161],["T_VARIABLE","$link_url",162],["T_WHITESPACE","  ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$r",162],"[",["T_CONSTANT_ENCAPSED_STRING","'link_url'",162],"]",";",["T_WHITESPACE","\n\n\t",162],["T_VARIABLE","$update",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","false",164],";",["T_WHITESPACE","\n\t",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_WHITESPACE"," ",165],"!",["T_WHITESPACE"," ",165],["T_EMPTY","empty",165],"(",["T_WHITESPACE"," ",165],["T_VARIABLE","$link_id",165],["T_WHITESPACE"," ",165],")",["T_WHITESPACE"," ",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n\t\t",165],["T_VARIABLE","$update",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","true",166],";",["T_WHITESPACE","\n\t",166],"}",["T_WHITESPACE","\n\n\t",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_WHITESPACE"," ",169],["T_STRING","trim",169],"(",["T_WHITESPACE"," ",169],["T_VARIABLE","$link_name",169],["T_WHITESPACE"," ",169],")",["T_WHITESPACE"," ",169],["T_IS_EQUAL","==",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","''",169],["T_WHITESPACE"," ",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_WHITESPACE"," ",170],["T_STRING","trim",170],"(",["T_WHITESPACE"," ",170],["T_VARIABLE","$link_url",170],["T_WHITESPACE"," ",170],")",["T_WHITESPACE"," ",170],["T_IS_NOT_EQUAL","!=",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","''",170],["T_WHITESPACE"," ",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n\t\t\t",170],["T_VARIABLE","$link_name",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$link_url",171],";",["T_WHITESPACE","\n\t\t",171],"}",["T_WHITESPACE"," ",172],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n\t\t\t",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_LNUMBER","0",173],";",["T_WHITESPACE","\n\t\t",173],"}",["T_WHITESPACE","\n\t",174],"}",["T_WHITESPACE","\n\n\t",175],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_WHITESPACE"," ",177],["T_STRING","trim",177],"(",["T_WHITESPACE"," ",177],["T_VARIABLE","$link_url",177],["T_WHITESPACE"," ",177],")",["T_WHITESPACE"," ",177],["T_IS_EQUAL","==",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","''",177],["T_WHITESPACE"," ",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n\t\t",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_LNUMBER","0",178],";",["T_WHITESPACE","\n\t",178],"}",["T_WHITESPACE","\n\n\t",179],["T_VARIABLE","$link_rating",181],["T_WHITESPACE","      ",181],"=",["T_WHITESPACE"," ",181],"(",["T_WHITESPACE"," ",181],"!",["T_WHITESPACE"," ",181],["T_EMPTY","empty",181],"(",["T_WHITESPACE"," ",181],["T_VARIABLE","$r",181],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rating'",181],"]",["T_WHITESPACE"," ",181],")",["T_WHITESPACE"," ",181],")",["T_WHITESPACE"," ",181],"?",["T_WHITESPACE"," ",181],["T_VARIABLE","$r",181],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rating'",181],"]",["T_WHITESPACE"," ",181],":",["T_WHITESPACE"," ",181],["T_LNUMBER","0",181],";",["T_WHITESPACE","\n\t",181],["T_VARIABLE","$link_image",182],["T_WHITESPACE","       ",182],"=",["T_WHITESPACE"," ",182],"(",["T_WHITESPACE"," ",182],"!",["T_WHITESPACE"," ",182],["T_EMPTY","empty",182],"(",["T_WHITESPACE"," ",182],["T_VARIABLE","$r",182],"[",["T_CONSTANT_ENCAPSED_STRING","'link_image'",182],"]",["T_WHITESPACE"," ",182],")",["T_WHITESPACE"," ",182],")",["T_WHITESPACE"," ",182],"?",["T_WHITESPACE"," ",182],["T_VARIABLE","$r",182],"[",["T_CONSTANT_ENCAPSED_STRING","'link_image'",182],"]",["T_WHITESPACE"," ",182],":",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","''",182],";",["T_WHITESPACE","\n\t",182],["T_VARIABLE","$link_target",183],["T_WHITESPACE","      ",183],"=",["T_WHITESPACE"," ",183],"(",["T_WHITESPACE"," ",183],"!",["T_WHITESPACE"," ",183],["T_EMPTY","empty",183],"(",["T_WHITESPACE"," ",183],["T_VARIABLE","$r",183],"[",["T_CONSTANT_ENCAPSED_STRING","'link_target'",183],"]",["T_WHITESPACE"," ",183],")",["T_WHITESPACE"," ",183],")",["T_WHITESPACE"," ",183],"?",["T_WHITESPACE"," ",183],["T_VARIABLE","$r",183],"[",["T_CONSTANT_ENCAPSED_STRING","'link_target'",183],"]",["T_WHITESPACE"," ",183],":",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","''",183],";",["T_WHITESPACE","\n\t",183],["T_VARIABLE","$link_visible",184],["T_WHITESPACE","     ",184],"=",["T_WHITESPACE"," ",184],"(",["T_WHITESPACE"," ",184],"!",["T_WHITESPACE"," ",184],["T_EMPTY","empty",184],"(",["T_WHITESPACE"," ",184],["T_VARIABLE","$r",184],"[",["T_CONSTANT_ENCAPSED_STRING","'link_visible'",184],"]",["T_WHITESPACE"," ",184],")",["T_WHITESPACE"," ",184],")",["T_WHITESPACE"," ",184],"?",["T_WHITESPACE"," ",184],["T_VARIABLE","$r",184],"[",["T_CONSTANT_ENCAPSED_STRING","'link_visible'",184],"]",["T_WHITESPACE"," ",184],":",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'Y'",184],";",["T_WHITESPACE","\n\t",184],["T_VARIABLE","$link_owner",185],["T_WHITESPACE","       ",185],"=",["T_WHITESPACE"," ",185],"(",["T_WHITESPACE"," ",185],"!",["T_WHITESPACE"," ",185],["T_EMPTY","empty",185],"(",["T_WHITESPACE"," ",185],["T_VARIABLE","$r",185],"[",["T_CONSTANT_ENCAPSED_STRING","'link_owner'",185],"]",["T_WHITESPACE"," ",185],")",["T_WHITESPACE"," ",185],")",["T_WHITESPACE"," ",185],"?",["T_WHITESPACE"," ",185],["T_VARIABLE","$r",185],"[",["T_CONSTANT_ENCAPSED_STRING","'link_owner'",185],"]",["T_WHITESPACE"," ",185],":",["T_WHITESPACE"," ",185],["T_STRING","get_current_user_id",185],"(",")",";",["T_WHITESPACE","\n\t",185],["T_VARIABLE","$link_notes",186],["T_WHITESPACE","       ",186],"=",["T_WHITESPACE"," ",186],"(",["T_WHITESPACE"," ",186],"!",["T_WHITESPACE"," ",186],["T_EMPTY","empty",186],"(",["T_WHITESPACE"," ",186],["T_VARIABLE","$r",186],"[",["T_CONSTANT_ENCAPSED_STRING","'link_notes'",186],"]",["T_WHITESPACE"," ",186],")",["T_WHITESPACE"," ",186],")",["T_WHITESPACE"," ",186],"?",["T_WHITESPACE"," ",186],["T_VARIABLE","$r",186],"[",["T_CONSTANT_ENCAPSED_STRING","'link_notes'",186],"]",["T_WHITESPACE"," ",186],":",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","''",186],";",["T_WHITESPACE","\n\t",186],["T_VARIABLE","$link_description",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],"(",["T_WHITESPACE"," ",187],"!",["T_WHITESPACE"," ",187],["T_EMPTY","empty",187],"(",["T_WHITESPACE"," ",187],["T_VARIABLE","$r",187],"[",["T_CONSTANT_ENCAPSED_STRING","'link_description'",187],"]",["T_WHITESPACE"," ",187],")",["T_WHITESPACE"," ",187],")",["T_WHITESPACE"," ",187],"?",["T_WHITESPACE"," ",187],["T_VARIABLE","$r",187],"[",["T_CONSTANT_ENCAPSED_STRING","'link_description'",187],"]",["T_WHITESPACE"," ",187],":",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","''",187],";",["T_WHITESPACE","\n\t",187],["T_VARIABLE","$link_rss",188],["T_WHITESPACE","         ",188],"=",["T_WHITESPACE"," ",188],"(",["T_WHITESPACE"," ",188],"!",["T_WHITESPACE"," ",188],["T_EMPTY","empty",188],"(",["T_WHITESPACE"," ",188],["T_VARIABLE","$r",188],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rss'",188],"]",["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],"?",["T_WHITESPACE"," ",188],["T_VARIABLE","$r",188],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rss'",188],"]",["T_WHITESPACE"," ",188],":",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","''",188],";",["T_WHITESPACE","\n\t",188],["T_VARIABLE","$link_rel",189],["T_WHITESPACE","         ",189],"=",["T_WHITESPACE"," ",189],"(",["T_WHITESPACE"," ",189],"!",["T_WHITESPACE"," ",189],["T_EMPTY","empty",189],"(",["T_WHITESPACE"," ",189],["T_VARIABLE","$r",189],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rel'",189],"]",["T_WHITESPACE"," ",189],")",["T_WHITESPACE"," ",189],")",["T_WHITESPACE"," ",189],"?",["T_WHITESPACE"," ",189],["T_VARIABLE","$r",189],"[",["T_CONSTANT_ENCAPSED_STRING","'link_rel'",189],"]",["T_WHITESPACE"," ",189],":",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","''",189],";",["T_WHITESPACE","\n\t",189],["T_VARIABLE","$link_category",190],["T_WHITESPACE","    ",190],"=",["T_WHITESPACE"," ",190],"(",["T_WHITESPACE"," ",190],"!",["T_WHITESPACE"," ",190],["T_EMPTY","empty",190],"(",["T_WHITESPACE"," ",190],["T_VARIABLE","$r",190],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",190],"]",["T_WHITESPACE"," ",190],")",["T_WHITESPACE"," ",190],")",["T_WHITESPACE"," ",190],"?",["T_WHITESPACE"," ",190],["T_VARIABLE","$r",190],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",190],"]",["T_WHITESPACE"," ",190],":",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",")",";",["T_WHITESPACE","\n\n\t",190],["T_COMMENT","\/\/ Make sure we set a valid category.\n",192],["T_WHITESPACE","\t",193],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_WHITESPACE"," ",193],"!",["T_WHITESPACE"," ",193],["T_STRING","is_array",193],"(",["T_WHITESPACE"," ",193],["T_VARIABLE","$link_category",193],["T_WHITESPACE"," ",193],")",["T_WHITESPACE"," ",193],["T_BOOLEAN_OR","||",193],["T_WHITESPACE"," ",193],["T_LNUMBER","0",193],["T_WHITESPACE"," ",193],["T_IS_EQUAL","==",193],["T_WHITESPACE"," ",193],["T_STRING","count",193],"(",["T_WHITESPACE"," ",193],["T_VARIABLE","$link_category",193],["T_WHITESPACE"," ",193],")",["T_WHITESPACE"," ",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n\t\t",193],["T_VARIABLE","$link_category",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",["T_WHITESPACE"," ",194],["T_STRING","get_option",194],"(",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'default_link_category'",194],["T_WHITESPACE"," ",194],")",["T_WHITESPACE"," ",194],")",";",["T_WHITESPACE","\n\t",194],"}",["T_WHITESPACE","\n\n\t",195],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_WHITESPACE"," ",197],["T_VARIABLE","$update",197],["T_WHITESPACE"," ",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n\t\t",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_WHITESPACE"," ",198],["T_STRING","false",198],["T_WHITESPACE"," ",198],["T_IS_IDENTICAL","===",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$wpdb",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","update",198],"(",["T_WHITESPACE"," ",198],["T_VARIABLE","$wpdb",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","links",198],",",["T_WHITESPACE"," ",198],["T_STRING","compact",198],"(",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_url'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_name'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_image'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_target'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_description'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_visible'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_rating'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_rel'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_notes'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_rss'",198],["T_WHITESPACE"," ",198],")",",",["T_WHITESPACE"," ",198],["T_STRING","compact",198],"(",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'link_id'",198],["T_WHITESPACE"," ",198],")",["T_WHITESPACE"," ",198],")",["T_WHITESPACE"," ",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n\t\t\t",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_WHITESPACE"," ",199],["T_VARIABLE","$wp_error",199],["T_WHITESPACE"," ",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n\t\t\t\t",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","WP_Error",200],"(",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'db_update_error'",200],",",["T_WHITESPACE"," ",200],["T_STRING","__",200],"(",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'Could not update link in the database'",200],["T_WHITESPACE"," ",200],")",",",["T_WHITESPACE"," ",200],["T_VARIABLE","$wpdb",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","last_error",200],["T_WHITESPACE"," ",200],")",";",["T_WHITESPACE","\n\t\t\t",200],"}",["T_WHITESPACE"," ",201],["T_ELSE","else",201],["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n\t\t\t\t",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_LNUMBER","0",202],";",["T_WHITESPACE","\n\t\t\t",202],"}",["T_WHITESPACE","\n\t\t",203],"}",["T_WHITESPACE","\n\t",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n\t\t",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_WHITESPACE"," ",206],["T_STRING","false",206],["T_WHITESPACE"," ",206],["T_IS_IDENTICAL","===",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$wpdb",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","insert",206],"(",["T_WHITESPACE"," ",206],["T_VARIABLE","$wpdb",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","links",206],",",["T_WHITESPACE"," ",206],["T_STRING","compact",206],"(",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_url'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_name'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_image'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_target'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_description'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_visible'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_owner'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_rating'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_rel'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_notes'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'link_rss'",206],["T_WHITESPACE"," ",206],")",["T_WHITESPACE"," ",206],")",["T_WHITESPACE"," ",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n\t\t\t",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_WHITESPACE"," ",207],["T_VARIABLE","$wp_error",207],["T_WHITESPACE"," ",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n\t\t\t\t",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","WP_Error",208],"(",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'db_insert_error'",208],",",["T_WHITESPACE"," ",208],["T_STRING","__",208],"(",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'Could not insert link into the database'",208],["T_WHITESPACE"," ",208],")",",",["T_WHITESPACE"," ",208],["T_VARIABLE","$wpdb",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","last_error",208],["T_WHITESPACE"," ",208],")",";",["T_WHITESPACE","\n\t\t\t",208],"}",["T_WHITESPACE"," ",209],["T_ELSE","else",209],["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t\t",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_LNUMBER","0",210],";",["T_WHITESPACE","\n\t\t\t",210],"}",["T_WHITESPACE","\n\t\t",211],"}",["T_WHITESPACE","\n\t\t",212],["T_VARIABLE","$link_id",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_INT_CAST","(int)",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$wpdb",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","insert_id",213],";",["T_WHITESPACE","\n\t",213],"}",["T_WHITESPACE","\n\n\t",214],["T_STRING","wp_set_link_cats",216],"(",["T_WHITESPACE"," ",216],["T_VARIABLE","$link_id",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$link_category",216],["T_WHITESPACE"," ",216],")",";",["T_WHITESPACE","\n\n\t",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_WHITESPACE"," ",218],["T_VARIABLE","$update",218],["T_WHITESPACE"," ",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n\t\t",218],["T_DOC_COMMENT","\/**\n\t\t * Fires after a link was updated in the database.\n\t\t *\n\t\t * @since 2.0.0\n\t\t *\n\t\t * @param int $link_id ID of the link that was updated.\n\t\t *\/",219],["T_WHITESPACE","\n\t\t",225],["T_STRING","do_action",226],"(",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'edit_link'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$link_id",226],["T_WHITESPACE"," ",226],")",";",["T_WHITESPACE","\n\t",226],"}",["T_WHITESPACE"," ",227],["T_ELSE","else",227],["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n\t\t",227],["T_DOC_COMMENT","\/**\n\t\t * Fires after a link was added to the database.\n\t\t *\n\t\t * @since 2.0.0\n\t\t *\n\t\t * @param int $link_id ID of the link that was added.\n\t\t *\/",228],["T_WHITESPACE","\n\t\t",234],["T_STRING","do_action",235],"(",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'add_link'",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$link_id",235],["T_WHITESPACE"," ",235],")",";",["T_WHITESPACE","\n\t",235],"}",["T_WHITESPACE","\n\t",236],["T_STRING","clean_bookmark_cache",237],"(",["T_WHITESPACE"," ",237],["T_VARIABLE","$link_id",237],["T_WHITESPACE"," ",237],")",";",["T_WHITESPACE","\n\n\t",237],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$link_id",239],";",["T_WHITESPACE","\n",239],"}",["T_WHITESPACE","\n\n",240],["T_DOC_COMMENT","\/**\n * Update link with the specified link categories.\n *\n * @since 2.1.0\n *\n * @param int   $link_id         ID of the link to update.\n * @param array $link_categories Array of link categories to add the link to.\n *\/",242],["T_WHITESPACE","\n",249],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","wp_set_link_cats",250],"(",["T_WHITESPACE"," ",250],["T_VARIABLE","$link_id",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_LNUMBER","0",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$link_categories",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",")",["T_WHITESPACE"," ",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n\t",250],["T_COMMENT","\/\/ If $link_categories isn't already an array, make it one:\n",251],["T_WHITESPACE","\t",252],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_WHITESPACE"," ",252],"!",["T_STRING","is_array",252],"(",["T_WHITESPACE"," ",252],["T_VARIABLE","$link_categories",252],["T_WHITESPACE"," ",252],")",["T_WHITESPACE"," ",252],["T_BOOLEAN_OR","||",252],["T_WHITESPACE"," ",252],["T_LNUMBER","0",252],["T_WHITESPACE"," ",252],["T_IS_EQUAL","==",252],["T_WHITESPACE"," ",252],["T_STRING","count",252],"(",["T_WHITESPACE"," ",252],["T_VARIABLE","$link_categories",252],["T_WHITESPACE"," ",252],")",["T_WHITESPACE"," ",252],")",["T_WHITESPACE","\n\t\t",252],["T_VARIABLE","$link_categories",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",["T_WHITESPACE"," ",253],["T_STRING","get_option",253],"(",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'default_link_category'",253],["T_WHITESPACE"," ",253],")",["T_WHITESPACE"," ",253],")",";",["T_WHITESPACE","\n\n\t",253],["T_VARIABLE","$link_categories",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","array_map",255],"(",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'intval'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$link_categories",255],["T_WHITESPACE"," ",255],")",";",["T_WHITESPACE","\n\t",255],["T_VARIABLE","$link_categories",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","array_unique",256],"(",["T_WHITESPACE"," ",256],["T_VARIABLE","$link_categories",256],["T_WHITESPACE"," ",256],")",";",["T_WHITESPACE","\n\n\t",256],["T_STRING","wp_set_object_terms",258],"(",["T_WHITESPACE"," ",258],["T_VARIABLE","$link_id",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$link_categories",258],",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'link_category'",258],["T_WHITESPACE"," ",258],")",";",["T_WHITESPACE","\n\n\t",258],["T_STRING","clean_bookmark_cache",260],"(",["T_WHITESPACE"," ",260],["T_VARIABLE","$link_id",260],["T_WHITESPACE"," ",260],")",";",["T_WHITESPACE","\n",260],"}",["T_WHITESPACE","\n\n",261],["T_DOC_COMMENT","\/**\n * Updates a link in the database.\n *\n * @since 2.0.0\n *\n * @param array $linkdata Link data to update.\n * @return int|WP_Error Value 0 or WP_Error on failure. The updated link ID on success.\n *\/",263],["T_WHITESPACE","\n",270],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","wp_update_link",271],"(",["T_WHITESPACE"," ",271],["T_VARIABLE","$linkdata",271],["T_WHITESPACE"," ",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n\t",271],["T_VARIABLE","$link_id",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_INT_CAST","(int)",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$linkdata",272],"[",["T_CONSTANT_ENCAPSED_STRING","'link_id'",272],"]",";",["T_WHITESPACE","\n\n\t",272],["T_VARIABLE","$link",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","get_bookmark",274],"(",["T_WHITESPACE"," ",274],["T_VARIABLE","$link_id",274],",",["T_WHITESPACE"," ",274],["T_STRING","ARRAY_A",274],["T_WHITESPACE"," ",274],")",";",["T_WHITESPACE","\n\n\t",274],["T_COMMENT","\/\/ Escape data pulled from DB.\n",276],["T_WHITESPACE","\t",277],["T_VARIABLE","$link",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","wp_slash",277],"(",["T_WHITESPACE"," ",277],["T_VARIABLE","$link",277],["T_WHITESPACE"," ",277],")",";",["T_WHITESPACE","\n\n\t",277],["T_COMMENT","\/\/ Passed link category list overwrites existing category list if not empty.\n",279],["T_WHITESPACE","\t",280],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_WHITESPACE"," ",280],["T_ISSET","isset",280],"(",["T_WHITESPACE"," ",280],["T_VARIABLE","$linkdata",280],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",280],"]",["T_WHITESPACE"," ",280],")",["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],["T_STRING","is_array",280],"(",["T_WHITESPACE"," ",280],["T_VARIABLE","$linkdata",280],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",280],"]",["T_WHITESPACE"," ",280],")",["T_WHITESPACE","\n\t\t\t ",280],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE"," ",281],["T_LNUMBER","0",281],["T_WHITESPACE"," ",281],["T_IS_NOT_EQUAL","!=",281],["T_WHITESPACE"," ",281],["T_STRING","count",281],"(",["T_WHITESPACE"," ",281],["T_VARIABLE","$linkdata",281],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",281],"]",["T_WHITESPACE"," ",281],")",["T_WHITESPACE"," ",281],")",["T_WHITESPACE","\n\t\t",281],["T_VARIABLE","$link_cats",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$linkdata",282],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",282],"]",";",["T_WHITESPACE","\n\t",282],["T_ELSE","else",283],["T_WHITESPACE","\n\t\t",283],["T_VARIABLE","$link_cats",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$link",284],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",284],"]",";",["T_WHITESPACE","\n\n\t",284],["T_COMMENT","\/\/ Merge old and new fields with new fields overwriting old ones.\n",286],["T_WHITESPACE","\t",287],["T_VARIABLE","$linkdata",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","array_merge",287],"(",["T_WHITESPACE"," ",287],["T_VARIABLE","$link",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$linkdata",287],["T_WHITESPACE"," ",287],")",";",["T_WHITESPACE","\n\t",287],["T_VARIABLE","$linkdata",288],"[",["T_CONSTANT_ENCAPSED_STRING","'link_category'",288],"]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$link_cats",288],";",["T_WHITESPACE","\n\n\t",288],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_STRING","wp_insert_link",290],"(",["T_WHITESPACE"," ",290],["T_VARIABLE","$linkdata",290],["T_WHITESPACE"," ",290],")",";",["T_WHITESPACE","\n",290],"}",["T_WHITESPACE","\n\n",291],["T_DOC_COMMENT","\/**\n * Outputs the 'disabled' message for the WordPress Link Manager.\n *\n * @since 3.5.0\n * @access private\n *\n * @global string $pagenow\n *\/",293],["T_WHITESPACE","\n",300],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","wp_link_manager_disabled_message",301],"(",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n\t",301],["T_GLOBAL","global",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$pagenow",302],";",["T_WHITESPACE","\n\t",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'link-manager.php'",303],["T_WHITESPACE"," ",303],["T_IS_NOT_EQUAL","!=",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$pagenow",303],["T_WHITESPACE"," ",303],["T_BOOLEAN_AND","&&",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'link-add.php'",303],["T_WHITESPACE"," ",303],["T_IS_NOT_EQUAL","!=",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$pagenow",303],["T_WHITESPACE"," ",303],["T_BOOLEAN_AND","&&",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'link.php'",303],["T_WHITESPACE"," ",303],["T_IS_NOT_EQUAL","!=",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$pagenow",303],["T_WHITESPACE"," ",303],")",["T_WHITESPACE","\n\t\t",303],["T_RETURN","return",304],";",["T_WHITESPACE","\n\n\t",304],["T_STRING","add_filter",306],"(",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'pre_option_link_manager_enabled'",306],",",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'__return_true'",306],",",["T_WHITESPACE"," ",306],["T_LNUMBER","100",306],["T_WHITESPACE"," ",306],")",";",["T_WHITESPACE","\n\t",306],["T_VARIABLE","$really_can_manage_links",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","current_user_can",307],"(",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'manage_links'",307],["T_WHITESPACE"," ",307],")",";",["T_WHITESPACE","\n\t",307],["T_STRING","remove_filter",308],"(",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'pre_option_link_manager_enabled'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'__return_true'",308],",",["T_WHITESPACE"," ",308],["T_LNUMBER","100",308],["T_WHITESPACE"," ",308],")",";",["T_WHITESPACE","\n\n\t",308],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_WHITESPACE"," ",310],["T_VARIABLE","$really_can_manage_links",310],["T_WHITESPACE"," ",310],["T_BOOLEAN_AND","&&",310],["T_WHITESPACE"," ",310],["T_STRING","current_user_can",310],"(",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'install_plugins'",310],["T_WHITESPACE"," ",310],")",["T_WHITESPACE"," ",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n\t\t",310],["T_VARIABLE","$link",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","network_admin_url",311],"(",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'plugin-install.php?tab=search&amp;s=Link+Manager'",311],["T_WHITESPACE"," ",311],")",";",["T_WHITESPACE","\n\t\t",311],["T_STRING","wp_die",312],"(",["T_WHITESPACE"," ",312],["T_STRING","sprintf",312],"(",["T_WHITESPACE"," ",312],["T_STRING","__",312],"(",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'If you are looking to use the link manager, please install the <a href=\"%s\">Link Manager<\/a> plugin.'",312],["T_WHITESPACE"," ",312],")",",",["T_WHITESPACE"," ",312],["T_VARIABLE","$link",312],["T_WHITESPACE"," ",312],")",["T_WHITESPACE"," ",312],")",";",["T_WHITESPACE","\n\t",312],"}",["T_WHITESPACE","\n\n\t",313],["T_STRING","wp_die",315],"(",["T_WHITESPACE"," ",315],["T_STRING","__",315],"(",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'Sorry, you are not allowed to edit the links for this site.'",315],["T_WHITESPACE"," ",315],")",["T_WHITESPACE"," ",315],")",";",["T_WHITESPACE","\n",315],"}",["T_WHITESPACE","\n",316]]