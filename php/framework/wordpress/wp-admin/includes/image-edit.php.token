[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * WordPress Image Editor\n *\n * @package WordPress\n * @subpackage Administration\n *\/",2],["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Loads the WP image-editing interface.\n *\n * @param int         $post_id Post ID.\n * @param bool|object $msg     Optional. Message to display for image editor updates or errors.\n *                             Default false.\n *\/",9],["T_WHITESPACE","\n",15],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","wp_image_editor",16],"(",["T_VARIABLE","$post_id",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$msg",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_STRING","false",16],")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t",16],["T_VARIABLE","$nonce",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_STRING","wp_create_nonce",17],"(","\"",["T_ENCAPSED_AND_WHITESPACE","image_editor-",17],["T_VARIABLE","$post_id",17],"\"",")",";",["T_WHITESPACE","\n\t",17],["T_VARIABLE","$meta",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","wp_get_attachment_metadata",18],"(",["T_VARIABLE","$post_id",18],")",";",["T_WHITESPACE","\n\t",18],["T_VARIABLE","$thumb",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","image_get_intermediate_size",19],"(",["T_VARIABLE","$post_id",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",19],")",";",["T_WHITESPACE","\n\t",19],["T_VARIABLE","$sub_sizes",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ISSET","isset",20],"(",["T_VARIABLE","$meta",20],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",20],"]",")",["T_WHITESPACE"," ",20],["T_BOOLEAN_AND","&&",20],["T_WHITESPACE"," ",20],["T_STRING","is_array",20],"(",["T_VARIABLE","$meta",20],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",20],"]",")",";",["T_WHITESPACE","\n\t",20],["T_VARIABLE","$note",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","''",21],";",["T_WHITESPACE","\n\n\t",21],["T_IF","if",23],["T_WHITESPACE"," ",23],"(",["T_WHITESPACE"," ",23],["T_ISSET","isset",23],"(",["T_WHITESPACE"," ",23],["T_VARIABLE","$meta",23],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",23],"]",",",["T_WHITESPACE"," ",23],["T_VARIABLE","$meta",23],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",23],"]",["T_WHITESPACE"," ",23],")",["T_WHITESPACE"," ",23],")",["T_WHITESPACE","\n\t\t",23],["T_VARIABLE","$big",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","max",24],"(",["T_WHITESPACE"," ",24],["T_VARIABLE","$meta",24],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",24],"]",",",["T_WHITESPACE"," ",24],["T_VARIABLE","$meta",24],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",24],"]",["T_WHITESPACE"," ",24],")",";",["T_WHITESPACE","\n\t",24],["T_ELSE","else",25],["T_WHITESPACE","\n\t\t",25],["T_EXIT","die",26],"(",["T_WHITESPACE"," ",26],["T_STRING","__",26],"(",["T_CONSTANT_ENCAPSED_STRING","'Image data does not exist. Please re-upload the image.'",26],")",["T_WHITESPACE"," ",26],")",";",["T_WHITESPACE","\n\n\t",26],["T_VARIABLE","$sizer",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$big",28],["T_WHITESPACE"," ",28],">",["T_WHITESPACE"," ",28],["T_LNUMBER","400",28],["T_WHITESPACE"," ",28],"?",["T_WHITESPACE"," ",28],["T_LNUMBER","400",28],["T_WHITESPACE"," ",28],"\/",["T_WHITESPACE"," ",28],["T_VARIABLE","$big",28],["T_WHITESPACE"," ",28],":",["T_WHITESPACE"," ",28],["T_LNUMBER","1",28],";",["T_WHITESPACE","\n\n\t",28],["T_VARIABLE","$backup_sizes",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","get_post_meta",30],"(",["T_WHITESPACE"," ",30],["T_VARIABLE","$post_id",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_backup_sizes'",30],",",["T_WHITESPACE"," ",30],["T_STRING","true",30],["T_WHITESPACE"," ",30],")",";",["T_WHITESPACE","\n\t",30],["T_VARIABLE","$can_restore",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","false",31],";",["T_WHITESPACE","\n\t",31],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_WHITESPACE"," ",32],"!",["T_WHITESPACE"," ",32],["T_EMPTY","empty",32],"(",["T_WHITESPACE"," ",32],["T_VARIABLE","$backup_sizes",32],["T_WHITESPACE"," ",32],")",["T_WHITESPACE"," ",32],["T_BOOLEAN_AND","&&",32],["T_WHITESPACE"," ",32],["T_ISSET","isset",32],"(",["T_WHITESPACE"," ",32],["T_VARIABLE","$backup_sizes",32],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",32],"]",",",["T_WHITESPACE"," ",32],["T_VARIABLE","$meta",32],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",32],"]",["T_WHITESPACE"," ",32],")",["T_WHITESPACE"," ",32],")",["T_WHITESPACE","\n\t\t",32],["T_VARIABLE","$can_restore",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$backup_sizes",33],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",33],"]",["T_WHITESPACE"," ",33],["T_IS_NOT_EQUAL","!=",33],["T_WHITESPACE"," ",33],["T_STRING","basename",33],"(",["T_WHITESPACE"," ",33],["T_VARIABLE","$meta",33],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",33],"]",["T_WHITESPACE"," ",33],")",";",["T_WHITESPACE","\n\n\t",33],["T_IF","if",35],["T_WHITESPACE"," ",35],"(",["T_WHITESPACE"," ",35],["T_VARIABLE","$msg",35],["T_WHITESPACE"," ",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n\t\t",35],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_WHITESPACE"," ",36],["T_ISSET","isset",36],"(",["T_VARIABLE","$msg",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","error",36],")",["T_WHITESPACE"," ",36],")",["T_WHITESPACE","\n\t\t\t",36],["T_VARIABLE","$note",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"\"",["T_ENCAPSED_AND_WHITESPACE","<div class='error'><p>",37],["T_VARIABLE","$msg",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","error",37],["T_ENCAPSED_AND_WHITESPACE","<\/p><\/div>",37],"\"",";",["T_WHITESPACE","\n\t\t",37],["T_ELSEIF","elseif",38],["T_WHITESPACE"," ",38],"(",["T_WHITESPACE"," ",38],["T_ISSET","isset",38],"(",["T_VARIABLE","$msg",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","msg",38],")",["T_WHITESPACE"," ",38],")",["T_WHITESPACE","\n\t\t\t",38],["T_VARIABLE","$note",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],"\"",["T_ENCAPSED_AND_WHITESPACE","<div class='updated'><p>",39],["T_VARIABLE","$msg",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","msg",39],["T_ENCAPSED_AND_WHITESPACE","<\/p><\/div>",39],"\"",";",["T_WHITESPACE","\n\t",39],"}",["T_WHITESPACE","\n\n\t",40],["T_CLOSE_TAG","?>\n",42],["T_INLINE_HTML","\t<div class=\"imgedit-wrap wp-clearfix\">\n\t<div id=\"imgedit-panel-",43],["T_OPEN_TAG","<?php ",44],["T_ECHO","echo",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$post_id",44],";",["T_WHITESPACE"," ",44],["T_CLOSE_TAG","?>",44],["T_INLINE_HTML","\">\n\n\t<div class=\"imgedit-settings\">\n\t<div class=\"imgedit-group\">\n\t<div class=\"imgedit-group-top\">\n\t\t<h2>",44],["T_OPEN_TAG","<?php ",49],["T_STRING","_e",49],"(",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Scale Image'",49],["T_WHITESPACE"," ",49],")",";",["T_WHITESPACE"," ",49],["T_CLOSE_TAG","?>",49],["T_INLINE_HTML","<\/h2>\n\t\t<button type=\"button\" class=\"dashicons dashicons-editor-help imgedit-help-toggle\" onclick=\"imageEdit.toggleHelp(this);return false;\" aria-expanded=\"false\"><span class=\"screen-reader-text\">",49],["T_OPEN_TAG","<?php ",50],["T_STRING","esc_html_e",50],"(",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Scale Image Help'",50],["T_WHITESPACE"," ",50],")",";",["T_WHITESPACE"," ",50],["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","<\/span><\/button>\n\t\t<div class=\"imgedit-help\">\n\t\t<p>",50],["T_OPEN_TAG","<?php ",52],["T_STRING","_e",52],"(",["T_CONSTANT_ENCAPSED_STRING","'You can proportionally scale the original image. For best results, scaling should be done before you crop, flip, or rotate. Images can only be scaled down, not up.'",52],")",";",["T_WHITESPACE"," ",52],["T_CLOSE_TAG","?>",52],["T_INLINE_HTML","<\/p>\n\t\t<\/div>\n\t\t",52],["T_OPEN_TAG","<?php ",54],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_WHITESPACE"," ",54],["T_ISSET","isset",54],"(",["T_WHITESPACE"," ",54],["T_VARIABLE","$meta",54],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",54],"]",",",["T_WHITESPACE"," ",54],["T_VARIABLE","$meta",54],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",54],"]",["T_WHITESPACE"," ",54],")",["T_WHITESPACE"," ",54],")",":",["T_WHITESPACE"," ",54],["T_CLOSE_TAG","?>\n",54],["T_INLINE_HTML","\t\t<p>",55],["T_OPEN_TAG","<?php ",55],["T_STRING","printf",55],"(",["T_WHITESPACE"," ",55],["T_STRING","__",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Original dimensions %s'",55],")",",",["T_WHITESPACE"," ",55],["T_VARIABLE","$meta",55],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",55],"]",["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","' &times; '",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_VARIABLE","$meta",55],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",55],"]",["T_WHITESPACE"," ",55],")",";",["T_WHITESPACE"," ",55],["T_CLOSE_TAG","?>",55],["T_INLINE_HTML","<\/p>\n\t\t",55],["T_OPEN_TAG","<?php ",56],["T_ENDIF","endif",56],["T_WHITESPACE"," ",56],["T_CLOSE_TAG","?>\n",56],["T_INLINE_HTML","\t\t<div class=\"imgedit-submit\">\n\n\t\t<fieldset class=\"imgedit-scale\">\n\t\t<legend>",57],["T_OPEN_TAG","<?php ",60],["T_STRING","_e",60],"(",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'New dimensions:'",60],["T_WHITESPACE"," ",60],")",";",["T_WHITESPACE"," ",60],["T_CLOSE_TAG","?>",60],["T_INLINE_HTML","<\/legend>\n\t\t<div class=\"nowrap\">\n\t\t<label><span class=\"screen-reader-text\">",60],["T_OPEN_TAG","<?php ",62],["T_STRING","_e",62],"(",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'scale width'",62],["T_WHITESPACE"," ",62],")",";",["T_WHITESPACE"," ",62],["T_CLOSE_TAG","?>",62],["T_INLINE_HTML","<\/span>\n\t\t<input type=\"text\" id=\"imgedit-scale-width-",62],["T_OPEN_TAG","<?php ",63],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$post_id",63],";",["T_WHITESPACE"," ",63],["T_CLOSE_TAG","?>",63],["T_INLINE_HTML","\" onkeyup=\"imageEdit.scaleChanged(",63],["T_OPEN_TAG","<?php ",63],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$post_id",63],";",["T_WHITESPACE"," ",63],["T_CLOSE_TAG","?>",63],["T_INLINE_HTML",", 1, this)\" onblur=\"imageEdit.scaleChanged(",63],["T_OPEN_TAG","<?php ",63],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$post_id",63],";",["T_WHITESPACE"," ",63],["T_CLOSE_TAG","?>",63],["T_INLINE_HTML",", 1, this)\" value=\"",63],["T_OPEN_TAG","<?php ",63],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_ISSET","isset",63],"(",["T_WHITESPACE"," ",63],["T_VARIABLE","$meta",63],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",63],"]",["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],"?",["T_WHITESPACE"," ",63],["T_VARIABLE","$meta",63],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",63],"]",["T_WHITESPACE"," ",63],":",["T_WHITESPACE"," ",63],["T_LNUMBER","0",63],";",["T_WHITESPACE"," ",63],["T_CLOSE_TAG","?>",63],["T_INLINE_HTML","\" \/>\n\t\t<\/label>\n\t\t<span class=\"imgedit-separator\">&times;<\/span>\n\t\t<label><span class=\"screen-reader-text\">",63],["T_OPEN_TAG","<?php ",66],["T_STRING","_e",66],"(",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'scale height'",66],["T_WHITESPACE"," ",66],")",";",["T_WHITESPACE"," ",66],["T_CLOSE_TAG","?>",66],["T_INLINE_HTML","<\/span>\n\t\t<input type=\"text\" id=\"imgedit-scale-height-",66],["T_OPEN_TAG","<?php ",67],["T_ECHO","echo",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$post_id",67],";",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>",67],["T_INLINE_HTML","\" onkeyup=\"imageEdit.scaleChanged(",67],["T_OPEN_TAG","<?php ",67],["T_ECHO","echo",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$post_id",67],";",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>",67],["T_INLINE_HTML",", 0, this)\" onblur=\"imageEdit.scaleChanged(",67],["T_OPEN_TAG","<?php ",67],["T_ECHO","echo",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$post_id",67],";",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>",67],["T_INLINE_HTML",", 0, this)\" value=\"",67],["T_OPEN_TAG","<?php ",67],["T_ECHO","echo",67],["T_WHITESPACE"," ",67],["T_ISSET","isset",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$meta",67],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",67],"]",["T_WHITESPACE"," ",67],")",["T_WHITESPACE"," ",67],"?",["T_WHITESPACE"," ",67],["T_VARIABLE","$meta",67],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",67],"]",["T_WHITESPACE"," ",67],":",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],";",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>",67],["T_INLINE_HTML","\" \/>\n\t\t<\/label>\n\t\t<span class=\"imgedit-scale-warn\" id=\"imgedit-scale-warn-",67],["T_OPEN_TAG","<?php ",69],["T_ECHO","echo",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$post_id",69],";",["T_WHITESPACE"," ",69],["T_CLOSE_TAG","?>",69],["T_INLINE_HTML","\">!<\/span>\n\t\t<input id=\"imgedit-scale-button\" type=\"button\" onclick=\"imageEdit.action(",69],["T_OPEN_TAG","<?php ",70],["T_ECHO","echo",70],["T_WHITESPACE"," ",70],"\"",["T_VARIABLE","$post_id",70],["T_ENCAPSED_AND_WHITESPACE",", '",70],["T_VARIABLE","$nonce",70],["T_ENCAPSED_AND_WHITESPACE","'",70],"\"",";",["T_WHITESPACE"," ",70],["T_CLOSE_TAG","?>",70],["T_INLINE_HTML",", 'scale')\" class=\"button button-primary\" value=\"",70],["T_OPEN_TAG","<?php ",70],["T_STRING","esc_attr_e",70],"(",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Scale'",70],["T_WHITESPACE"," ",70],")",";",["T_WHITESPACE"," ",70],["T_CLOSE_TAG","?>",70],["T_INLINE_HTML","\" \/>\n \t\t<\/div>\n\t\t<\/fieldset>\n\n\t\t<\/div>\n\t<\/div>\n\t<\/div>\n\n",70],["T_OPEN_TAG","<?php ",78],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_WHITESPACE"," ",78],["T_VARIABLE","$can_restore",78],["T_WHITESPACE"," ",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE"," ",78],["T_CLOSE_TAG","?>\n",78],["T_INLINE_HTML","\n\t<div class=\"imgedit-group\">\n\t<div class=\"imgedit-group-top\">\n\t\t<h2><button type=\"button\" onclick=\"imageEdit.toggleHelp(this);\" class=\"button-link\">",79],["T_OPEN_TAG","<?php ",82],["T_STRING","_e",82],"(",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Restore Original Image'",82],["T_WHITESPACE"," ",82],")",";",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML"," <span class=\"dashicons dashicons-arrow-down imgedit-help-toggle\"><\/span><\/button><\/h2>\n\t\t<div class=\"imgedit-help\">\n\t\t<p>",82],["T_OPEN_TAG","<?php ",84],["T_STRING","_e",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Discard any changes and restore the original image.'",84],")",";",["T_WHITESPACE","\n\n\t\t",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_WHITESPACE"," ",86],"!",["T_STRING","defined",86],"(",["T_CONSTANT_ENCAPSED_STRING","'IMAGE_EDIT_OVERWRITE'",86],")",["T_WHITESPACE"," ",86],["T_BOOLEAN_OR","||",86],["T_WHITESPACE"," ",86],"!",["T_STRING","IMAGE_EDIT_OVERWRITE",86],["T_WHITESPACE"," ",86],")",["T_WHITESPACE","\n\t\t\t",86],["T_ECHO","echo",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","' '",87],".",["T_STRING","__",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Previously edited copies of the image will not be deleted.'",87],")",";",["T_WHITESPACE","\n\n\t\t",87],["T_CLOSE_TAG","?>",89],["T_INLINE_HTML","<\/p>\n\t\t<div class=\"imgedit-submit\">\n\t\t<input type=\"button\" onclick=\"imageEdit.action(",89],["T_OPEN_TAG","<?php ",91],["T_ECHO","echo",91],["T_WHITESPACE"," ",91],"\"",["T_VARIABLE","$post_id",91],["T_ENCAPSED_AND_WHITESPACE",", '",91],["T_VARIABLE","$nonce",91],["T_ENCAPSED_AND_WHITESPACE","'",91],"\"",";",["T_WHITESPACE"," ",91],["T_CLOSE_TAG","?>",91],["T_INLINE_HTML",", 'restore')\" class=\"button button-primary\" value=\"",91],["T_OPEN_TAG","<?php ",91],["T_STRING","esc_attr_e",91],"(",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Restore image'",91],["T_WHITESPACE"," ",91],")",";",["T_WHITESPACE"," ",91],["T_CLOSE_TAG","?>",91],["T_INLINE_HTML","\" ",91],["T_OPEN_TAG","<?php ",91],["T_ECHO","echo",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$can_restore",91],";",["T_WHITESPACE"," ",91],["T_CLOSE_TAG","?>",91],["T_INLINE_HTML"," \/>\n\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\t<\/div>\n\n",91],["T_OPEN_TAG","<?php ",97],"}",["T_WHITESPACE"," ",97],["T_CLOSE_TAG","?>\n",97],["T_INLINE_HTML","\n\t<div class=\"imgedit-group\">\n\t<div class=\"imgedit-group-top\">\n\t\t<h2>",98],["T_OPEN_TAG","<?php ",101],["T_STRING","_e",101],"(",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Image Crop'",101],["T_WHITESPACE"," ",101],")",";",["T_WHITESPACE"," ",101],["T_CLOSE_TAG","?>",101],["T_INLINE_HTML","<\/h2>\n\t\t<button type=\"button\" class=\"dashicons dashicons-editor-help imgedit-help-toggle\" onclick=\"imageEdit.toggleHelp(this);return false;\" aria-expanded=\"false\"><span class=\"screen-reader-text\">",101],["T_OPEN_TAG","<?php ",102],["T_STRING","esc_html_e",102],"(",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Image Crop Help'",102],["T_WHITESPACE"," ",102],")",";",["T_WHITESPACE"," ",102],["T_CLOSE_TAG","?>",102],["T_INLINE_HTML","<\/span><\/button>\n\n\t\t<div class=\"imgedit-help\">\n\t\t<p>",102],["T_OPEN_TAG","<?php ",105],["T_STRING","_e",105],"(",["T_CONSTANT_ENCAPSED_STRING","'To crop the image, click on it and drag to make your selection.'",105],")",";",["T_WHITESPACE"," ",105],["T_CLOSE_TAG","?>",105],["T_INLINE_HTML","<\/p>\n\n\t\t<p><strong>",105],["T_OPEN_TAG","<?php ",107],["T_STRING","_e",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Crop Aspect Ratio'",107],")",";",["T_WHITESPACE"," ",107],["T_CLOSE_TAG","?>",107],["T_INLINE_HTML","<\/strong><br \/>\n\t\t",107],["T_OPEN_TAG","<?php ",108],["T_STRING","_e",108],"(",["T_CONSTANT_ENCAPSED_STRING","'The aspect ratio is the relationship between the width and height. You can preserve the aspect ratio by holding down the shift key while resizing your selection. Use the input box to specify the aspect ratio, e.g. 1:1 (square), 4:3, 16:9, etc.'",108],")",";",["T_WHITESPACE"," ",108],["T_CLOSE_TAG","?>",108],["T_INLINE_HTML","<\/p>\n\n\t\t<p><strong>",108],["T_OPEN_TAG","<?php ",110],["T_STRING","_e",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Crop Selection'",110],")",";",["T_WHITESPACE"," ",110],["T_CLOSE_TAG","?>",110],["T_INLINE_HTML","<\/strong><br \/>\n\t\t",110],["T_OPEN_TAG","<?php ",111],["T_STRING","_e",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Once you have made your selection, you can adjust it by entering the size in pixels. The minimum selection size is the thumbnail size as set in the Media settings.'",111],")",";",["T_WHITESPACE"," ",111],["T_CLOSE_TAG","?>",111],["T_INLINE_HTML","<\/p>\n\t\t<\/div>\n\t<\/div>\n\n\t<fieldset class=\"imgedit-crop-ratio\">\n\t\t<legend>",111],["T_OPEN_TAG","<?php ",116],["T_STRING","_e",116],"(",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Aspect ratio:'",116],["T_WHITESPACE"," ",116],")",";",["T_WHITESPACE"," ",116],["T_CLOSE_TAG","?>",116],["T_INLINE_HTML","<\/legend>\n\t\t<div class=\"nowrap\">\n\t\t<label><span class=\"screen-reader-text\">",116],["T_OPEN_TAG","<?php ",118],["T_STRING","_e",118],"(",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'crop ratio width'",118],["T_WHITESPACE"," ",118],")",";",["T_WHITESPACE"," ",118],["T_CLOSE_TAG","?>",118],["T_INLINE_HTML","<\/span>\n\t\t<input type=\"text\" id=\"imgedit-crop-width-",118],["T_OPEN_TAG","<?php ",119],["T_ECHO","echo",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$post_id",119],";",["T_WHITESPACE"," ",119],["T_CLOSE_TAG","?>",119],["T_INLINE_HTML","\" onkeyup=\"imageEdit.setRatioSelection(",119],["T_OPEN_TAG","<?php ",119],["T_ECHO","echo",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$post_id",119],";",["T_WHITESPACE"," ",119],["T_CLOSE_TAG","?>",119],["T_INLINE_HTML",", 0, this)\" onblur=\"imageEdit.setRatioSelection(",119],["T_OPEN_TAG","<?php ",119],["T_ECHO","echo",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$post_id",119],";",["T_WHITESPACE"," ",119],["T_CLOSE_TAG","?>",119],["T_INLINE_HTML",", 0, this)\" \/>\n\t\t<\/label>\n\t\t<span class=\"imgedit-separator\">:<\/span>\n\t\t<label><span class=\"screen-reader-text\">",119],["T_OPEN_TAG","<?php ",122],["T_STRING","_e",122],"(",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'crop ratio height'",122],["T_WHITESPACE"," ",122],")",";",["T_WHITESPACE"," ",122],["T_CLOSE_TAG","?>",122],["T_INLINE_HTML","<\/span>\n\t\t<input type=\"text\" id=\"imgedit-crop-height-",122],["T_OPEN_TAG","<?php ",123],["T_ECHO","echo",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$post_id",123],";",["T_WHITESPACE"," ",123],["T_CLOSE_TAG","?>",123],["T_INLINE_HTML","\" onkeyup=\"imageEdit.setRatioSelection(",123],["T_OPEN_TAG","<?php ",123],["T_ECHO","echo",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$post_id",123],";",["T_WHITESPACE"," ",123],["T_CLOSE_TAG","?>",123],["T_INLINE_HTML",", 1, this)\" onblur=\"imageEdit.setRatioSelection(",123],["T_OPEN_TAG","<?php ",123],["T_ECHO","echo",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$post_id",123],";",["T_WHITESPACE"," ",123],["T_CLOSE_TAG","?>",123],["T_INLINE_HTML",", 1, this)\" \/>\n\t\t<\/label>\n\t\t<\/div>\n\t<\/fieldset>\n\n\t<fieldset id=\"imgedit-crop-sel-",123],["T_OPEN_TAG","<?php ",128],["T_ECHO","echo",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$post_id",128],";",["T_WHITESPACE"," ",128],["T_CLOSE_TAG","?>",128],["T_INLINE_HTML","\" class=\"imgedit-crop-sel\">\n\t\t<legend>",128],["T_OPEN_TAG","<?php ",129],["T_STRING","_e",129],"(",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Selection:'",129],["T_WHITESPACE"," ",129],")",";",["T_WHITESPACE"," ",129],["T_CLOSE_TAG","?>",129],["T_INLINE_HTML","<\/legend>\n\t\t<div class=\"nowrap\">\n\t\t<label><span class=\"screen-reader-text\">",129],["T_OPEN_TAG","<?php ",131],["T_STRING","_e",131],"(",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'selection width'",131],["T_WHITESPACE"," ",131],")",";",["T_WHITESPACE"," ",131],["T_CLOSE_TAG","?>",131],["T_INLINE_HTML","<\/span>\n\t\t<input type=\"text\" id=\"imgedit-sel-width-",131],["T_OPEN_TAG","<?php ",132],["T_ECHO","echo",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$post_id",132],";",["T_WHITESPACE"," ",132],["T_CLOSE_TAG","?>",132],["T_INLINE_HTML","\" onkeyup=\"imageEdit.setNumSelection(",132],["T_OPEN_TAG","<?php ",132],["T_ECHO","echo",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$post_id",132],";",["T_WHITESPACE"," ",132],["T_CLOSE_TAG","?>",132],["T_INLINE_HTML",", this)\" onblur=\"imageEdit.setNumSelection(",132],["T_OPEN_TAG","<?php ",132],["T_ECHO","echo",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$post_id",132],";",["T_WHITESPACE"," ",132],["T_CLOSE_TAG","?>",132],["T_INLINE_HTML",", this)\" \/>\n\t\t<\/label>\n\t\t<span class=\"imgedit-separator\">&times;<\/span>\n\t\t<label><span class=\"screen-reader-text\">",132],["T_OPEN_TAG","<?php ",135],["T_STRING","_e",135],"(",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'selection height'",135],["T_WHITESPACE"," ",135],")",";",["T_WHITESPACE"," ",135],["T_CLOSE_TAG","?>",135],["T_INLINE_HTML","<\/span>\n\t\t<input type=\"text\" id=\"imgedit-sel-height-",135],["T_OPEN_TAG","<?php ",136],["T_ECHO","echo",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$post_id",136],";",["T_WHITESPACE"," ",136],["T_CLOSE_TAG","?>",136],["T_INLINE_HTML","\" onkeyup=\"imageEdit.setNumSelection(",136],["T_OPEN_TAG","<?php ",136],["T_ECHO","echo",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$post_id",136],";",["T_WHITESPACE"," ",136],["T_CLOSE_TAG","?>",136],["T_INLINE_HTML",", this)\" onblur=\"imageEdit.setNumSelection(",136],["T_OPEN_TAG","<?php ",136],["T_ECHO","echo",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$post_id",136],";",["T_WHITESPACE"," ",136],["T_CLOSE_TAG","?>",136],["T_INLINE_HTML",", this)\" \/>\n\t\t<\/label>\n\t\t<\/div>\n\t<\/fieldset>\n\n\t<\/div>\n\n\t",136],["T_OPEN_TAG","<?php ",143],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_WHITESPACE"," ",143],["T_VARIABLE","$thumb",143],["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$sub_sizes",143],["T_WHITESPACE"," ",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n\t\t",143],["T_VARIABLE","$thumb_img",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","wp_constrain_dimensions",144],"(",["T_WHITESPACE"," ",144],["T_VARIABLE","$thumb",144],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",144],"]",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$thumb",144],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",144],"]",",",["T_WHITESPACE"," ",144],["T_LNUMBER","160",144],",",["T_WHITESPACE"," ",144],["T_LNUMBER","120",144],["T_WHITESPACE"," ",144],")",";",["T_WHITESPACE","\n\t",144],["T_CLOSE_TAG","?>\n",145],["T_INLINE_HTML","\n\t<div class=\"imgedit-group imgedit-applyto\">\n\t<div class=\"imgedit-group-top\">\n\t\t<h2>",146],["T_OPEN_TAG","<?php ",149],["T_STRING","_e",149],"(",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Thumbnail Settings'",149],["T_WHITESPACE"," ",149],")",";",["T_WHITESPACE"," ",149],["T_CLOSE_TAG","?>",149],["T_INLINE_HTML","<\/h2>\n\t\t<button type=\"button\" class=\"dashicons dashicons-editor-help imgedit-help-toggle\" onclick=\"imageEdit.toggleHelp(this);return false;\" aria-expanded=\"false\"><span class=\"screen-reader-text\">",149],["T_OPEN_TAG","<?php ",150],["T_STRING","esc_html_e",150],"(",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'Thumbnail Settings Help'",150],["T_WHITESPACE"," ",150],")",";",["T_WHITESPACE"," ",150],["T_CLOSE_TAG","?>",150],["T_INLINE_HTML","<\/span><\/button>\n\t\t<p class=\"imgedit-help\">",150],["T_OPEN_TAG","<?php ",151],["T_STRING","_e",151],"(",["T_CONSTANT_ENCAPSED_STRING","'You can edit the image while preserving the thumbnail. For example, you may wish to have a square thumbnail that displays just a section of the image.'",151],")",";",["T_WHITESPACE"," ",151],["T_CLOSE_TAG","?>",151],["T_INLINE_HTML","<\/p>\n\t<\/div>\n\n\t<figure class=\"imgedit-thumbnail-preview\">\n\t\t<img src=\"",151],["T_OPEN_TAG","<?php ",155],["T_ECHO","echo",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$thumb",155],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",155],"]",";",["T_WHITESPACE"," ",155],["T_CLOSE_TAG","?>",155],["T_INLINE_HTML","\" width=\"",155],["T_OPEN_TAG","<?php ",155],["T_ECHO","echo",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$thumb_img",155],"[",["T_LNUMBER","0",155],"]",";",["T_WHITESPACE"," ",155],["T_CLOSE_TAG","?>",155],["T_INLINE_HTML","\" height=\"",155],["T_OPEN_TAG","<?php ",155],["T_ECHO","echo",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$thumb_img",155],"[",["T_LNUMBER","1",155],"]",";",["T_WHITESPACE"," ",155],["T_CLOSE_TAG","?>",155],["T_INLINE_HTML","\" class=\"imgedit-size-preview\" alt=\"\" draggable=\"false\" \/>\n\t\t<figcaption class=\"imgedit-thumbnail-preview-caption\">",155],["T_OPEN_TAG","<?php ",156],["T_STRING","_e",156],"(",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Current thumbnail'",156],["T_WHITESPACE"," ",156],")",";",["T_WHITESPACE"," ",156],["T_CLOSE_TAG","?>",156],["T_INLINE_HTML","<\/figcaption>\n\t<\/figure>\n\n\t<div id=\"imgedit-save-target-",156],["T_OPEN_TAG","<?php ",159],["T_ECHO","echo",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$post_id",159],";",["T_WHITESPACE"," ",159],["T_CLOSE_TAG","?>",159],["T_INLINE_HTML","\" class=\"imgedit-save-target\">\n\t<fieldset>\n\t\t<legend><strong>",159],["T_OPEN_TAG","<?php ",161],["T_STRING","_e",161],"(",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Apply changes to:'",161],["T_WHITESPACE"," ",161],")",";",["T_WHITESPACE"," ",161],["T_CLOSE_TAG","?>",161],["T_INLINE_HTML","<\/strong><\/legend>\n\n\t\t<label class=\"imgedit-label\">\n\t\t<input type=\"radio\" name=\"imgedit-target-",161],["T_OPEN_TAG","<?php ",164],["T_ECHO","echo",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$post_id",164],";",["T_WHITESPACE"," ",164],["T_CLOSE_TAG","?>",164],["T_INLINE_HTML","\" value=\"all\" checked=\"checked\" \/>\n\t\t",164],["T_OPEN_TAG","<?php ",165],["T_STRING","_e",165],"(",["T_CONSTANT_ENCAPSED_STRING","'All image sizes'",165],")",";",["T_WHITESPACE"," ",165],["T_CLOSE_TAG","?>",165],["T_INLINE_HTML","<\/label>\n\n\t\t<label class=\"imgedit-label\">\n\t\t<input type=\"radio\" name=\"imgedit-target-",165],["T_OPEN_TAG","<?php ",168],["T_ECHO","echo",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$post_id",168],";",["T_WHITESPACE"," ",168],["T_CLOSE_TAG","?>",168],["T_INLINE_HTML","\" value=\"thumbnail\" \/>\n\t\t",168],["T_OPEN_TAG","<?php ",169],["T_STRING","_e",169],"(",["T_CONSTANT_ENCAPSED_STRING","'Thumbnail'",169],")",";",["T_WHITESPACE"," ",169],["T_CLOSE_TAG","?>",169],["T_INLINE_HTML","<\/label>\n\n\t\t<label class=\"imgedit-label\">\n\t\t<input type=\"radio\" name=\"imgedit-target-",169],["T_OPEN_TAG","<?php ",172],["T_ECHO","echo",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$post_id",172],";",["T_WHITESPACE"," ",172],["T_CLOSE_TAG","?>",172],["T_INLINE_HTML","\" value=\"nothumb\" \/>\n\t\t",172],["T_OPEN_TAG","<?php ",173],["T_STRING","_e",173],"(",["T_CONSTANT_ENCAPSED_STRING","'All sizes except thumbnail'",173],")",";",["T_WHITESPACE"," ",173],["T_CLOSE_TAG","?>",173],["T_INLINE_HTML","<\/label>\n\t<\/fieldset>\n\t<\/div>\n\t<\/div>\n\n\t",173],["T_OPEN_TAG","<?php ",178],"}",["T_WHITESPACE"," ",178],["T_CLOSE_TAG","?>\n",178],["T_INLINE_HTML","\n\t<\/div>\n\n\t<div class=\"imgedit-panel-content wp-clearfix\">\n\t\t",179],["T_OPEN_TAG","<?php ",183],["T_ECHO","echo",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$note",183],";",["T_WHITESPACE"," ",183],["T_CLOSE_TAG","?>\n",183],["T_INLINE_HTML","\t\t<div class=\"imgedit-menu wp-clearfix\">\n\t\t\t<button type=\"button\" onclick=\"imageEdit.crop(",184],["T_OPEN_TAG","<?php ",185],["T_ECHO","echo",185],["T_WHITESPACE"," ",185],"\"",["T_VARIABLE","$post_id",185],["T_ENCAPSED_AND_WHITESPACE",", '",185],["T_VARIABLE","$nonce",185],["T_ENCAPSED_AND_WHITESPACE","'",185],"\"",";",["T_WHITESPACE"," ",185],["T_CLOSE_TAG","?>",185],["T_INLINE_HTML",", this)\" class=\"imgedit-crop button disabled\" disabled><span class=\"screen-reader-text\">",185],["T_OPEN_TAG","<?php ",185],["T_STRING","esc_html_e",185],"(",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'Crop'",185],["T_WHITESPACE"," ",185],")",";",["T_WHITESPACE"," ",185],["T_CLOSE_TAG","?>",185],["T_INLINE_HTML","<\/span><\/button>",185],["T_OPEN_TAG","<?php\n",185],["T_WHITESPACE","\n\t\t",186],["T_COMMENT","\/\/ On some setups GD library does not provide imagerotate() - Ticket #11536\n",187],["T_WHITESPACE","\t\t",188],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_WHITESPACE"," ",188],["T_STRING","wp_image_editor_supports",188],"(",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'mime_type'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_STRING","get_post_mime_type",188],"(",["T_WHITESPACE"," ",188],["T_VARIABLE","$post_id",188],["T_WHITESPACE"," ",188],")",",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'methods'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'rotate'",188],["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n\t\t\t",188],["T_VARIABLE","$note_no_rotate",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","''",189],";",["T_WHITESPACE","\n\t",189],["T_CLOSE_TAG","?>\n",190],["T_INLINE_HTML","\t\t\t<button type=\"button\" class=\"imgedit-rleft button\" onclick=\"imageEdit.rotate( 90, ",191],["T_OPEN_TAG","<?php ",191],["T_ECHO","echo",191],["T_WHITESPACE"," ",191],"\"",["T_VARIABLE","$post_id",191],["T_ENCAPSED_AND_WHITESPACE",", '",191],["T_VARIABLE","$nonce",191],["T_ENCAPSED_AND_WHITESPACE","'",191],"\"",";",["T_WHITESPACE"," ",191],["T_CLOSE_TAG","?>",191],["T_INLINE_HTML",", this)\"><span class=\"screen-reader-text\">",191],["T_OPEN_TAG","<?php ",191],["T_STRING","esc_html_e",191],"(",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'Rotate counter-clockwise'",191],["T_WHITESPACE"," ",191],")",";",["T_WHITESPACE"," ",191],["T_CLOSE_TAG","?>",191],["T_INLINE_HTML","<\/span><\/button>\n\t\t\t<button type=\"button\" class=\"imgedit-rright button\" onclick=\"imageEdit.rotate(-90, ",191],["T_OPEN_TAG","<?php ",192],["T_ECHO","echo",192],["T_WHITESPACE"," ",192],"\"",["T_VARIABLE","$post_id",192],["T_ENCAPSED_AND_WHITESPACE",", '",192],["T_VARIABLE","$nonce",192],["T_ENCAPSED_AND_WHITESPACE","'",192],"\"",";",["T_WHITESPACE"," ",192],["T_CLOSE_TAG","?>",192],["T_INLINE_HTML",", this)\"><span class=\"screen-reader-text\">",192],["T_OPEN_TAG","<?php ",192],["T_STRING","esc_html_e",192],"(",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'Rotate clockwise'",192],["T_WHITESPACE"," ",192],")",";",["T_WHITESPACE"," ",192],["T_CLOSE_TAG","?>",192],["T_INLINE_HTML","<\/span><\/button>\n\t",192],["T_OPEN_TAG","<?php ",193],"}",["T_WHITESPACE"," ",193],["T_ELSE","else",193],["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n\t\t\t",193],["T_VARIABLE","$note_no_rotate",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'<p class=\"note-no-rotate\"><em>'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_STRING","__",194],"(",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'Image rotation is not supported by your web host.'",194],["T_WHITESPACE"," ",194],")",["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'<\/em><\/p>'",194],";",["T_WHITESPACE","\n\t",194],["T_CLOSE_TAG","?>\n",195],["T_INLINE_HTML","\t\t\t<button type=\"button\" class=\"imgedit-rleft button disabled\" disabled><\/button>\n\t\t\t<button type=\"button\" class=\"imgedit-rright button disabled\" disabled><\/button>\n\t",196],["T_OPEN_TAG","<?php ",198],"}",["T_WHITESPACE"," ",198],["T_CLOSE_TAG","?>\n",198],["T_INLINE_HTML","\n\t\t\t<button type=\"button\" onclick=\"imageEdit.flip(1, ",199],["T_OPEN_TAG","<?php ",200],["T_ECHO","echo",200],["T_WHITESPACE"," ",200],"\"",["T_VARIABLE","$post_id",200],["T_ENCAPSED_AND_WHITESPACE",", '",200],["T_VARIABLE","$nonce",200],["T_ENCAPSED_AND_WHITESPACE","'",200],"\"",";",["T_WHITESPACE"," ",200],["T_CLOSE_TAG","?>",200],["T_INLINE_HTML",", this)\" class=\"imgedit-flipv button\"><span class=\"screen-reader-text\">",200],["T_OPEN_TAG","<?php ",200],["T_STRING","esc_html_e",200],"(",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'Flip vertically'",200],["T_WHITESPACE"," ",200],")",";",["T_WHITESPACE"," ",200],["T_CLOSE_TAG","?>",200],["T_INLINE_HTML","<\/span><\/button>\n\t\t\t<button type=\"button\" onclick=\"imageEdit.flip(2, ",200],["T_OPEN_TAG","<?php ",201],["T_ECHO","echo",201],["T_WHITESPACE"," ",201],"\"",["T_VARIABLE","$post_id",201],["T_ENCAPSED_AND_WHITESPACE",", '",201],["T_VARIABLE","$nonce",201],["T_ENCAPSED_AND_WHITESPACE","'",201],"\"",";",["T_WHITESPACE"," ",201],["T_CLOSE_TAG","?>",201],["T_INLINE_HTML",", this)\" class=\"imgedit-fliph button\"><span class=\"screen-reader-text\">",201],["T_OPEN_TAG","<?php ",201],["T_STRING","esc_html_e",201],"(",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'Flip horizontally'",201],["T_WHITESPACE"," ",201],")",";",["T_WHITESPACE"," ",201],["T_CLOSE_TAG","?>",201],["T_INLINE_HTML","<\/span><\/button>\n\n\t\t\t<button type=\"button\" id=\"image-undo-",201],["T_OPEN_TAG","<?php ",203],["T_ECHO","echo",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$post_id",203],";",["T_WHITESPACE"," ",203],["T_CLOSE_TAG","?>",203],["T_INLINE_HTML","\" onclick=\"imageEdit.undo(",203],["T_OPEN_TAG","<?php ",203],["T_ECHO","echo",203],["T_WHITESPACE"," ",203],"\"",["T_VARIABLE","$post_id",203],["T_ENCAPSED_AND_WHITESPACE",", '",203],["T_VARIABLE","$nonce",203],["T_ENCAPSED_AND_WHITESPACE","'",203],"\"",";",["T_WHITESPACE"," ",203],["T_CLOSE_TAG","?>",203],["T_INLINE_HTML",", this)\" class=\"imgedit-undo button disabled\" disabled><span class=\"screen-reader-text\">",203],["T_OPEN_TAG","<?php ",203],["T_STRING","esc_html_e",203],"(",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Undo'",203],["T_WHITESPACE"," ",203],")",";",["T_WHITESPACE"," ",203],["T_CLOSE_TAG","?>",203],["T_INLINE_HTML","<\/span><\/button>\n\t\t\t<button type=\"button\" id=\"image-redo-",203],["T_OPEN_TAG","<?php ",204],["T_ECHO","echo",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$post_id",204],";",["T_WHITESPACE"," ",204],["T_CLOSE_TAG","?>",204],["T_INLINE_HTML","\" onclick=\"imageEdit.redo(",204],["T_OPEN_TAG","<?php ",204],["T_ECHO","echo",204],["T_WHITESPACE"," ",204],"\"",["T_VARIABLE","$post_id",204],["T_ENCAPSED_AND_WHITESPACE",", '",204],["T_VARIABLE","$nonce",204],["T_ENCAPSED_AND_WHITESPACE","'",204],"\"",";",["T_WHITESPACE"," ",204],["T_CLOSE_TAG","?>",204],["T_INLINE_HTML",", this)\" class=\"imgedit-redo button disabled\" disabled><span class=\"screen-reader-text\">",204],["T_OPEN_TAG","<?php ",204],["T_STRING","esc_html_e",204],"(",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'Redo'",204],["T_WHITESPACE"," ",204],")",";",["T_WHITESPACE"," ",204],["T_CLOSE_TAG","?>",204],["T_INLINE_HTML","<\/span><\/button>\n\t\t\t",204],["T_OPEN_TAG","<?php ",205],["T_ECHO","echo",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$note_no_rotate",205],";",["T_WHITESPACE"," ",205],["T_CLOSE_TAG","?>\n",205],["T_INLINE_HTML","\t\t<\/div>\n\n\t\t<input type=\"hidden\" id=\"imgedit-sizer-",206],["T_OPEN_TAG","<?php ",208],["T_ECHO","echo",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$post_id",208],";",["T_WHITESPACE"," ",208],["T_CLOSE_TAG","?>",208],["T_INLINE_HTML","\" value=\"",208],["T_OPEN_TAG","<?php ",208],["T_ECHO","echo",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$sizer",208],";",["T_WHITESPACE"," ",208],["T_CLOSE_TAG","?>",208],["T_INLINE_HTML","\" \/>\n\t\t<input type=\"hidden\" id=\"imgedit-history-",208],["T_OPEN_TAG","<?php ",209],["T_ECHO","echo",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$post_id",209],";",["T_WHITESPACE"," ",209],["T_CLOSE_TAG","?>",209],["T_INLINE_HTML","\" value=\"\" \/>\n\t\t<input type=\"hidden\" id=\"imgedit-undone-",209],["T_OPEN_TAG","<?php ",210],["T_ECHO","echo",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$post_id",210],";",["T_WHITESPACE"," ",210],["T_CLOSE_TAG","?>",210],["T_INLINE_HTML","\" value=\"0\" \/>\n\t\t<input type=\"hidden\" id=\"imgedit-selection-",210],["T_OPEN_TAG","<?php ",211],["T_ECHO","echo",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$post_id",211],";",["T_WHITESPACE"," ",211],["T_CLOSE_TAG","?>",211],["T_INLINE_HTML","\" value=\"\" \/>\n\t\t<input type=\"hidden\" id=\"imgedit-x-",211],["T_OPEN_TAG","<?php ",212],["T_ECHO","echo",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$post_id",212],";",["T_WHITESPACE"," ",212],["T_CLOSE_TAG","?>",212],["T_INLINE_HTML","\" value=\"",212],["T_OPEN_TAG","<?php ",212],["T_ECHO","echo",212],["T_WHITESPACE"," ",212],["T_ISSET","isset",212],"(",["T_WHITESPACE"," ",212],["T_VARIABLE","$meta",212],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",212],"]",["T_WHITESPACE"," ",212],")",["T_WHITESPACE"," ",212],"?",["T_WHITESPACE"," ",212],["T_VARIABLE","$meta",212],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",212],"]",["T_WHITESPACE"," ",212],":",["T_WHITESPACE"," ",212],["T_LNUMBER","0",212],";",["T_WHITESPACE"," ",212],["T_CLOSE_TAG","?>",212],["T_INLINE_HTML","\" \/>\n\t\t<input type=\"hidden\" id=\"imgedit-y-",212],["T_OPEN_TAG","<?php ",213],["T_ECHO","echo",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$post_id",213],";",["T_WHITESPACE"," ",213],["T_CLOSE_TAG","?>",213],["T_INLINE_HTML","\" value=\"",213],["T_OPEN_TAG","<?php ",213],["T_ECHO","echo",213],["T_WHITESPACE"," ",213],["T_ISSET","isset",213],"(",["T_WHITESPACE"," ",213],["T_VARIABLE","$meta",213],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",213],"]",["T_WHITESPACE"," ",213],")",["T_WHITESPACE"," ",213],"?",["T_WHITESPACE"," ",213],["T_VARIABLE","$meta",213],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",213],"]",["T_WHITESPACE"," ",213],":",["T_WHITESPACE"," ",213],["T_LNUMBER","0",213],";",["T_WHITESPACE"," ",213],["T_CLOSE_TAG","?>",213],["T_INLINE_HTML","\" \/>\n\n\t\t<div id=\"imgedit-crop-",213],["T_OPEN_TAG","<?php ",215],["T_ECHO","echo",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$post_id",215],";",["T_WHITESPACE"," ",215],["T_CLOSE_TAG","?>",215],["T_INLINE_HTML","\" class=\"imgedit-crop-wrap\">\n\t\t<img id=\"image-preview-",215],["T_OPEN_TAG","<?php ",216],["T_ECHO","echo",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$post_id",216],";",["T_WHITESPACE"," ",216],["T_CLOSE_TAG","?>",216],["T_INLINE_HTML","\" onload=\"imageEdit.imgLoaded('",216],["T_OPEN_TAG","<?php ",216],["T_ECHO","echo",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$post_id",216],";",["T_WHITESPACE"," ",216],["T_CLOSE_TAG","?>",216],["T_INLINE_HTML","')\" src=\"",216],["T_OPEN_TAG","<?php ",216],["T_ECHO","echo",216],["T_WHITESPACE"," ",216],["T_STRING","admin_url",216],"(",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'admin-ajax.php'",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'relative'",216],["T_WHITESPACE"," ",216],")",";",["T_WHITESPACE"," ",216],["T_CLOSE_TAG","?>",216],["T_INLINE_HTML","?action=imgedit-preview&amp;_ajax_nonce=",216],["T_OPEN_TAG","<?php ",216],["T_ECHO","echo",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$nonce",216],";",["T_WHITESPACE"," ",216],["T_CLOSE_TAG","?>",216],["T_INLINE_HTML","&amp;postid=",216],["T_OPEN_TAG","<?php ",216],["T_ECHO","echo",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$post_id",216],";",["T_WHITESPACE"," ",216],["T_CLOSE_TAG","?>",216],["T_INLINE_HTML","&amp;rand=",216],["T_OPEN_TAG","<?php ",216],["T_ECHO","echo",216],["T_WHITESPACE"," ",216],["T_STRING","rand",216],"(",["T_LNUMBER","1",216],",",["T_WHITESPACE"," ",216],["T_LNUMBER","99999",216],")",";",["T_WHITESPACE"," ",216],["T_CLOSE_TAG","?>",216],["T_INLINE_HTML","\" alt=\"\" \/>\n\t\t<\/div>\n\n\t\t<div class=\"imgedit-submit\">\n\t\t\t<input type=\"button\" onclick=\"imageEdit.close(",216],["T_OPEN_TAG","<?php ",220],["T_ECHO","echo",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$post_id",220],";",["T_WHITESPACE"," ",220],["T_CLOSE_TAG","?>",220],["T_INLINE_HTML",", 1)\" class=\"button imgedit-cancel-btn\" value=\"",220],["T_OPEN_TAG","<?php ",220],["T_STRING","esc_attr_e",220],"(",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'Cancel'",220],["T_WHITESPACE"," ",220],")",";",["T_WHITESPACE"," ",220],["T_CLOSE_TAG","?>",220],["T_INLINE_HTML","\" \/>\n\t\t\t<input type=\"button\" onclick=\"imageEdit.save(",220],["T_OPEN_TAG","<?php ",221],["T_ECHO","echo",221],["T_WHITESPACE"," ",221],"\"",["T_VARIABLE","$post_id",221],["T_ENCAPSED_AND_WHITESPACE",", '",221],["T_VARIABLE","$nonce",221],["T_ENCAPSED_AND_WHITESPACE","'",221],"\"",";",["T_WHITESPACE"," ",221],["T_CLOSE_TAG","?>",221],["T_INLINE_HTML",")\" disabled=\"disabled\" class=\"button button-primary imgedit-submit-btn\" value=\"",221],["T_OPEN_TAG","<?php ",221],["T_STRING","esc_attr_e",221],"(",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'Save'",221],["T_WHITESPACE"," ",221],")",";",["T_WHITESPACE"," ",221],["T_CLOSE_TAG","?>",221],["T_INLINE_HTML","\" \/>\n\t\t<\/div>\n\t<\/div>\n\n\t<\/div>\n\t<div class=\"imgedit-wait\" id=\"imgedit-wait-",221],["T_OPEN_TAG","<?php ",226],["T_ECHO","echo",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$post_id",226],";",["T_WHITESPACE"," ",226],["T_CLOSE_TAG","?>",226],["T_INLINE_HTML","\"><\/div>\n\t<div class=\"hidden\" id=\"imgedit-leaving-",226],["T_OPEN_TAG","<?php ",227],["T_ECHO","echo",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$post_id",227],";",["T_WHITESPACE"," ",227],["T_CLOSE_TAG","?>",227],["T_INLINE_HTML","\">",227],["T_OPEN_TAG","<?php ",227],["T_STRING","_e",227],"(",["T_CONSTANT_ENCAPSED_STRING","\"There are unsaved changes that will be lost. 'OK' to continue, 'Cancel' to return to the Image Editor.\"",227],")",";",["T_WHITESPACE"," ",227],["T_CLOSE_TAG","?>",227],["T_INLINE_HTML","<\/div>\n\t<\/div>\n",227],["T_OPEN_TAG","<?php\n",229],"}",["T_WHITESPACE","\n\n",230],["T_DOC_COMMENT","\/**\n * Streams image in WP_Image_Editor to browser.\n * Provided for backcompat reasons\n *\n * @param WP_Image_Editor $image\n * @param string $mime_type\n * @param int $post_id\n * @return bool\n *\/",232],["T_WHITESPACE","\n",240],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","wp_stream_image",241],"(",["T_WHITESPACE"," ",241],["T_VARIABLE","$image",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$mime_type",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$post_id",241],["T_WHITESPACE"," ",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n\t",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_WHITESPACE"," ",242],["T_VARIABLE","$image",242],["T_WHITESPACE"," ",242],["T_INSTANCEOF","instanceof",242],["T_WHITESPACE"," ",242],["T_STRING","WP_Image_Editor",242],["T_WHITESPACE"," ",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n\n\t\t",242],["T_DOC_COMMENT","\/**\n\t\t * Filters the WP_Image_Editor instance for the image to be streamed to the browser.\n\t\t *\n\t\t * @since 3.5.0\n\t\t *\n\t\t * @param WP_Image_Editor $image   WP_Image_Editor instance.\n\t\t * @param int             $post_id Post ID.\n\t\t *\/",244],["T_WHITESPACE","\n\t\t",251],["T_VARIABLE","$image",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","apply_filters",252],"(",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'image_editor_save_pre'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$image",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$post_id",252],["T_WHITESPACE"," ",252],")",";",["T_WHITESPACE","\n\n\t\t",252],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_WHITESPACE"," ",254],["T_STRING","is_wp_error",254],"(",["T_WHITESPACE"," ",254],["T_VARIABLE","$image",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","stream",254],"(",["T_WHITESPACE"," ",254],["T_VARIABLE","$mime_type",254],["T_WHITESPACE"," ",254],")",["T_WHITESPACE"," ",254],")",["T_WHITESPACE"," ",254],")",["T_WHITESPACE","\n\t\t\t",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_STRING","false",255],";",["T_WHITESPACE","\n\n\t\t",255],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","true",257],";",["T_WHITESPACE","\n\t",257],"}",["T_WHITESPACE"," ",258],["T_ELSE","else",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\t\t",258],["T_STRING","_deprecated_argument",259],"(",["T_WHITESPACE"," ",259],["T_FUNC_C","__FUNCTION__",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'3.5.0'",259],",",["T_WHITESPACE"," ",259],["T_STRING","__",259],"(",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'$image needs to be an WP_Image_Editor object'",259],["T_WHITESPACE"," ",259],")",["T_WHITESPACE"," ",259],")",";",["T_WHITESPACE","\n\n\t\t",259],["T_DOC_COMMENT","\/**\n\t\t * Filters the GD image resource to be streamed to the browser.\n\t\t *\n\t\t * @since 2.9.0\n\t\t * @deprecated 3.5.0 Use image_editor_save_pre instead.\n\t\t *\n\t\t * @param resource $image   Image resource to be streamed.\n\t\t * @param int      $post_id Post ID.\n\t\t *\/",261],["T_WHITESPACE","\n\t\t",269],["T_VARIABLE","$image",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","apply_filters",270],"(",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'image_save_pre'",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$image",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$post_id",270],["T_WHITESPACE"," ",270],")",";",["T_WHITESPACE","\n\n\t\t",270],["T_SWITCH","switch",272],["T_WHITESPACE"," ",272],"(",["T_WHITESPACE"," ",272],["T_VARIABLE","$mime_type",272],["T_WHITESPACE"," ",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n\t\t\t",272],["T_CASE","case",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",273],":",["T_WHITESPACE","\n\t\t\t\t",273],["T_STRING","header",274],"(",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'Content-Type: image\/jpeg'",274],["T_WHITESPACE"," ",274],")",";",["T_WHITESPACE","\n\t\t\t\t",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_STRING","imagejpeg",275],"(",["T_WHITESPACE"," ",275],["T_VARIABLE","$image",275],",",["T_WHITESPACE"," ",275],["T_STRING","null",275],",",["T_WHITESPACE"," ",275],["T_LNUMBER","90",275],["T_WHITESPACE"," ",275],")",";",["T_WHITESPACE","\n\t\t\t",275],["T_CASE","case",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'image\/png'",276],":",["T_WHITESPACE","\n\t\t\t\t",276],["T_STRING","header",277],"(",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'Content-Type: image\/png'",277],["T_WHITESPACE"," ",277],")",";",["T_WHITESPACE","\n\t\t\t\t",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_STRING","imagepng",278],"(",["T_WHITESPACE"," ",278],["T_VARIABLE","$image",278],["T_WHITESPACE"," ",278],")",";",["T_WHITESPACE","\n\t\t\t",278],["T_CASE","case",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",279],":",["T_WHITESPACE","\n\t\t\t\t",279],["T_STRING","header",280],"(",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'Content-Type: image\/gif'",280],["T_WHITESPACE"," ",280],")",";",["T_WHITESPACE","\n\t\t\t\t",280],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_STRING","imagegif",281],"(",["T_WHITESPACE"," ",281],["T_VARIABLE","$image",281],["T_WHITESPACE"," ",281],")",";",["T_WHITESPACE","\n\t\t\t",281],["T_DEFAULT","default",282],":",["T_WHITESPACE","\n\t\t\t\t",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_STRING","false",283],";",["T_WHITESPACE","\n\t\t",283],"}",["T_WHITESPACE","\n\t",284],"}",["T_WHITESPACE","\n",285],"}",["T_WHITESPACE","\n\n",286],["T_DOC_COMMENT","\/**\n * Saves Image to File\n *\n * @param string $filename\n * @param WP_Image_Editor $image\n * @param string $mime_type\n * @param int $post_id\n * @return bool\n *\/",288],["T_WHITESPACE","\n",296],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","wp_save_image_file",297],"(",["T_WHITESPACE"," ",297],["T_VARIABLE","$filename",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$image",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$mime_type",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$post_id",297],["T_WHITESPACE"," ",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n\t",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_WHITESPACE"," ",298],["T_VARIABLE","$image",298],["T_WHITESPACE"," ",298],["T_INSTANCEOF","instanceof",298],["T_WHITESPACE"," ",298],["T_STRING","WP_Image_Editor",298],["T_WHITESPACE"," ",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n\n\t\t",298],["T_DOC_COMMENT","\/** This filter is documented in wp-admin\/includes\/image-edit.php *\/",300],["T_WHITESPACE","\n\t\t",300],["T_VARIABLE","$image",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","apply_filters",301],"(",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'image_editor_save_pre'",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$image",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$post_id",301],["T_WHITESPACE"," ",301],")",";",["T_WHITESPACE","\n\n\t\t",301],["T_DOC_COMMENT","\/**\n\t\t * Filters whether to skip saving the image file.\n\t\t *\n\t\t * Returning a non-null value will short-circuit the save method,\n\t\t * returning that value instead.\n\t\t *\n\t\t * @since 3.5.0\n\t\t *\n\t\t * @param mixed           $override  Value to return instead of saving. Default null.\n\t\t * @param string          $filename  Name of the file to be saved.\n\t\t * @param WP_Image_Editor $image     WP_Image_Editor instance.\n\t\t * @param string          $mime_type Image mime type.\n\t\t * @param int             $post_id   Post ID.\n\t\t *\/",303],["T_WHITESPACE","\n\t\t",316],["T_VARIABLE","$saved",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","apply_filters",317],"(",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'wp_save_image_editor_file'",317],",",["T_WHITESPACE"," ",317],["T_STRING","null",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$filename",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$image",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$mime_type",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$post_id",317],["T_WHITESPACE"," ",317],")",";",["T_WHITESPACE","\n\n\t\t",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_WHITESPACE"," ",319],["T_STRING","null",319],["T_WHITESPACE"," ",319],["T_IS_NOT_IDENTICAL","!==",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$saved",319],["T_WHITESPACE"," ",319],")",["T_WHITESPACE","\n\t\t\t",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$saved",320],";",["T_WHITESPACE","\n\n\t\t",320],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$image",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","save",322],"(",["T_WHITESPACE"," ",322],["T_VARIABLE","$filename",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$mime_type",322],["T_WHITESPACE"," ",322],")",";",["T_WHITESPACE","\n\t",322],"}",["T_WHITESPACE"," ",323],["T_ELSE","else",323],["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n\t\t",323],["T_STRING","_deprecated_argument",324],"(",["T_WHITESPACE"," ",324],["T_FUNC_C","__FUNCTION__",324],",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'3.5.0'",324],",",["T_WHITESPACE"," ",324],["T_STRING","__",324],"(",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'$image needs to be an WP_Image_Editor object'",324],["T_WHITESPACE"," ",324],")",["T_WHITESPACE"," ",324],")",";",["T_WHITESPACE","\n\n\t\t",324],["T_DOC_COMMENT","\/** This filter is documented in wp-admin\/includes\/image-edit.php *\/",326],["T_WHITESPACE","\n\t\t",326],["T_VARIABLE","$image",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","apply_filters",327],"(",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'image_save_pre'",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$image",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$post_id",327],["T_WHITESPACE"," ",327],")",";",["T_WHITESPACE","\n\n\t\t",327],["T_DOC_COMMENT","\/**\n\t\t * Filters whether to skip saving the image file.\n\t\t *\n\t\t * Returning a non-null value will short-circuit the save method,\n\t\t * returning that value instead.\n\t\t *\n\t\t * @since 2.9.0\n\t\t * @deprecated 3.5.0 Use wp_save_image_editor_file instead.\n\t\t *\n\t\t * @param mixed           $override  Value to return instead of saving. Default null.\n\t\t * @param string          $filename  Name of the file to be saved.\n\t\t * @param WP_Image_Editor $image     WP_Image_Editor instance.\n\t\t * @param string          $mime_type Image mime type.\n\t\t * @param int             $post_id   Post ID.\n\t\t *\/",329],["T_WHITESPACE","\n\t\t",343],["T_VARIABLE","$saved",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_STRING","apply_filters",344],"(",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'wp_save_image_file'",344],",",["T_WHITESPACE"," ",344],["T_STRING","null",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$filename",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$image",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$mime_type",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$post_id",344],["T_WHITESPACE"," ",344],")",";",["T_WHITESPACE","\n\n\t\t",344],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_WHITESPACE"," ",346],["T_STRING","null",346],["T_WHITESPACE"," ",346],["T_IS_NOT_IDENTICAL","!==",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$saved",346],["T_WHITESPACE"," ",346],")",["T_WHITESPACE","\n\t\t\t",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$saved",347],";",["T_WHITESPACE","\n\n\t\t",347],["T_SWITCH","switch",349],["T_WHITESPACE"," ",349],"(",["T_WHITESPACE"," ",349],["T_VARIABLE","$mime_type",349],["T_WHITESPACE"," ",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n\t\t\t",349],["T_CASE","case",350],["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",350],":",["T_WHITESPACE","\n\n\t\t\t\t",350],["T_DOC_COMMENT","\/** This filter is documented in wp-includes\/class-wp-image-editor.php *\/",352],["T_WHITESPACE","\n\t\t\t\t",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_STRING","imagejpeg",353],"(",["T_WHITESPACE"," ",353],["T_VARIABLE","$image",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$filename",353],",",["T_WHITESPACE"," ",353],["T_STRING","apply_filters",353],"(",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'jpeg_quality'",353],",",["T_WHITESPACE"," ",353],["T_LNUMBER","90",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'edit_image'",353],["T_WHITESPACE"," ",353],")",["T_WHITESPACE"," ",353],")",";",["T_WHITESPACE","\n\t\t\t",353],["T_CASE","case",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'image\/png'",354],":",["T_WHITESPACE","\n\t\t\t\t",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_STRING","imagepng",355],"(",["T_WHITESPACE"," ",355],["T_VARIABLE","$image",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$filename",355],["T_WHITESPACE"," ",355],")",";",["T_WHITESPACE","\n\t\t\t",355],["T_CASE","case",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",356],":",["T_WHITESPACE","\n\t\t\t\t",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_STRING","imagegif",357],"(",["T_WHITESPACE"," ",357],["T_VARIABLE","$image",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$filename",357],["T_WHITESPACE"," ",357],")",";",["T_WHITESPACE","\n\t\t\t",357],["T_DEFAULT","default",358],":",["T_WHITESPACE","\n\t\t\t\t",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_STRING","false",359],";",["T_WHITESPACE","\n\t\t",359],"}",["T_WHITESPACE","\n\t",360],"}",["T_WHITESPACE","\n",361],"}",["T_WHITESPACE","\n\n",362],["T_DOC_COMMENT","\/**\n * Image preview ratio. Internal use only.\n *\n * @since 2.9.0\n *\n * @ignore\n * @param int $w Image width in pixels.\n * @param int $h Image height in pixels.\n * @return float|int Image preview ratio.\n *\/",364],["T_WHITESPACE","\n",373],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","_image_get_preview_ratio",374],"(",["T_VARIABLE","$w",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$h",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n\t",374],["T_VARIABLE","$max",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","max",375],"(",["T_VARIABLE","$w",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$h",375],")",";",["T_WHITESPACE","\n\t",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$max",376],["T_WHITESPACE"," ",376],">",["T_WHITESPACE"," ",376],["T_LNUMBER","400",376],["T_WHITESPACE"," ",376],"?",["T_WHITESPACE"," ",376],"(",["T_LNUMBER","400",376],["T_WHITESPACE"," ",376],"\/",["T_WHITESPACE"," ",376],["T_VARIABLE","$max",376],")",["T_WHITESPACE"," ",376],":",["T_WHITESPACE"," ",376],["T_LNUMBER","1",376],";",["T_WHITESPACE","\n",376],"}",["T_WHITESPACE","\n\n",377],["T_DOC_COMMENT","\/**\n * Returns an image resource. Internal use only.\n *\n * @since 2.9.0\n *\n * @ignore\n * @param resource  $img   Image resource.\n * @param float|int $angle Image rotation angle, in degrees.\n * @return resource|false GD image resource, false otherwise.\n *\/",379],["T_WHITESPACE","\n",388],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","_rotate_image_resource",389],"(",["T_VARIABLE","$img",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$angle",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n\t",389],["T_STRING","_deprecated_function",390],"(",["T_WHITESPACE"," ",390],["T_FUNC_C","__FUNCTION__",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'3.5.0'",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'WP_Image_Editor::rotate()'",390],["T_WHITESPACE"," ",390],")",";",["T_WHITESPACE","\n\t",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_WHITESPACE"," ",391],["T_STRING","function_exists",391],"(",["T_CONSTANT_ENCAPSED_STRING","'imagerotate'",391],")",["T_WHITESPACE"," ",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n\t\t",391],["T_VARIABLE","$rotated",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_STRING","imagerotate",392],"(",["T_VARIABLE","$img",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$angle",392],",",["T_WHITESPACE"," ",392],["T_LNUMBER","0",392],")",";",["T_WHITESPACE","\n\t\t",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_WHITESPACE"," ",393],["T_STRING","is_resource",393],"(",["T_VARIABLE","$rotated",393],")",["T_WHITESPACE"," ",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n\t\t\t",393],["T_STRING","imagedestroy",394],"(",["T_VARIABLE","$img",394],")",";",["T_WHITESPACE","\n\t\t\t",394],["T_VARIABLE","$img",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$rotated",395],";",["T_WHITESPACE","\n\t\t",395],"}",["T_WHITESPACE","\n\t",396],"}",["T_WHITESPACE","\n\t",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$img",398],";",["T_WHITESPACE","\n",398],"}",["T_WHITESPACE","\n\n",399],["T_DOC_COMMENT","\/**\n * Flips an image resource. Internal use only.\n *\n * @since 2.9.0\n *\n * @ignore\n * @param resource $img  Image resource.\n * @param bool     $horz Whether to flip horizontally.\n * @param bool     $vert Whether to flip vertically.\n * @return resource (maybe) flipped image resource.\n *\/",401],["T_WHITESPACE","\n",411],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","_flip_image_resource",412],"(",["T_VARIABLE","$img",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$horz",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$vert",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n\t",412],["T_STRING","_deprecated_function",413],"(",["T_WHITESPACE"," ",413],["T_FUNC_C","__FUNCTION__",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'3.5.0'",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'WP_Image_Editor::flip()'",413],["T_WHITESPACE"," ",413],")",";",["T_WHITESPACE","\n\t",413],["T_VARIABLE","$w",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_STRING","imagesx",414],"(",["T_VARIABLE","$img",414],")",";",["T_WHITESPACE","\n\t",414],["T_VARIABLE","$h",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","imagesy",415],"(",["T_VARIABLE","$img",415],")",";",["T_WHITESPACE","\n\t",415],["T_VARIABLE","$dst",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","wp_imagecreatetruecolor",416],"(",["T_VARIABLE","$w",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$h",416],")",";",["T_WHITESPACE","\n\t",416],["T_IF","if",417],["T_WHITESPACE"," ",417],"(",["T_WHITESPACE"," ",417],["T_STRING","is_resource",417],"(",["T_VARIABLE","$dst",417],")",["T_WHITESPACE"," ",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n\t\t",417],["T_VARIABLE","$sx",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$vert",418],["T_WHITESPACE"," ",418],"?",["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$w",418],["T_WHITESPACE"," ",418],"-",["T_WHITESPACE"," ",418],["T_LNUMBER","1",418],")",["T_WHITESPACE"," ",418],":",["T_WHITESPACE"," ",418],["T_LNUMBER","0",418],";",["T_WHITESPACE","\n\t\t",418],["T_VARIABLE","$sy",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$horz",419],["T_WHITESPACE"," ",419],"?",["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$h",419],["T_WHITESPACE"," ",419],"-",["T_WHITESPACE"," ",419],["T_LNUMBER","1",419],")",["T_WHITESPACE"," ",419],":",["T_WHITESPACE"," ",419],["T_LNUMBER","0",419],";",["T_WHITESPACE","\n\t\t",419],["T_VARIABLE","$sw",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$vert",420],["T_WHITESPACE"," ",420],"?",["T_WHITESPACE"," ",420],"-",["T_VARIABLE","$w",420],["T_WHITESPACE"," ",420],":",["T_WHITESPACE"," ",420],["T_VARIABLE","$w",420],";",["T_WHITESPACE","\n\t\t",420],["T_VARIABLE","$sh",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$horz",421],["T_WHITESPACE"," ",421],"?",["T_WHITESPACE"," ",421],"-",["T_VARIABLE","$h",421],["T_WHITESPACE"," ",421],":",["T_WHITESPACE"," ",421],["T_VARIABLE","$h",421],";",["T_WHITESPACE","\n\n\t\t",421],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_WHITESPACE"," ",423],["T_STRING","imagecopyresampled",423],"(",["T_VARIABLE","$dst",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$img",423],",",["T_WHITESPACE"," ",423],["T_LNUMBER","0",423],",",["T_WHITESPACE"," ",423],["T_LNUMBER","0",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$sx",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$sy",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$w",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$h",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$sw",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$sh",423],")",["T_WHITESPACE"," ",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n\t\t\t",423],["T_STRING","imagedestroy",424],"(",["T_VARIABLE","$img",424],")",";",["T_WHITESPACE","\n\t\t\t",424],["T_VARIABLE","$img",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$dst",425],";",["T_WHITESPACE","\n\t\t",425],"}",["T_WHITESPACE","\n\t",426],"}",["T_WHITESPACE","\n\t",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$img",428],";",["T_WHITESPACE","\n",428],"}",["T_WHITESPACE","\n\n",429],["T_DOC_COMMENT","\/**\n * Crops an image resource. Internal use only.\n *\n * @since 2.9.0\n *\n * @ignore\n * @param resource $img Image resource.\n * @param float    $x   Source point x-coordinate.\n * @param float    $y   Source point y-cooredinate.\n * @param float    $w   Source width.\n * @param float    $h   Source height.\n * @return resource (maybe) cropped image resource.\n *\/",431],["T_WHITESPACE","\n",443],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","_crop_image_resource",444],"(",["T_VARIABLE","$img",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$x",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$y",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$w",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$h",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n\t",444],["T_VARIABLE","$dst",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","wp_imagecreatetruecolor",445],"(",["T_VARIABLE","$w",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$h",445],")",";",["T_WHITESPACE","\n\t",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_WHITESPACE"," ",446],["T_STRING","is_resource",446],"(",["T_VARIABLE","$dst",446],")",["T_WHITESPACE"," ",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n\t\t",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_WHITESPACE"," ",447],["T_STRING","imagecopy",447],"(",["T_VARIABLE","$dst",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$img",447],",",["T_WHITESPACE"," ",447],["T_LNUMBER","0",447],",",["T_WHITESPACE"," ",447],["T_LNUMBER","0",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$x",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$y",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$w",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$h",447],")",["T_WHITESPACE"," ",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n\t\t\t",447],["T_STRING","imagedestroy",448],"(",["T_VARIABLE","$img",448],")",";",["T_WHITESPACE","\n\t\t\t",448],["T_VARIABLE","$img",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$dst",449],";",["T_WHITESPACE","\n\t\t",449],"}",["T_WHITESPACE","\n\t",450],"}",["T_WHITESPACE","\n\t",451],["T_RETURN","return",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$img",452],";",["T_WHITESPACE","\n",452],"}",["T_WHITESPACE","\n\n",453],["T_DOC_COMMENT","\/**\n * Performs group of changes on Editor specified.\n *\n * @since 2.9.0\n *\n * @param WP_Image_Editor $image   WP_Image_Editor instance.\n * @param array           $changes Array of change operations.\n * @return WP_Image_Editor WP_Image_Editor instance with changes applied.\n *\/",455],["T_WHITESPACE","\n",463],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","image_edit_apply_changes",464],"(",["T_WHITESPACE"," ",464],["T_VARIABLE","$image",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$changes",464],["T_WHITESPACE"," ",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n\t",464],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_WHITESPACE"," ",465],["T_STRING","is_resource",465],"(",["T_WHITESPACE"," ",465],["T_VARIABLE","$image",465],["T_WHITESPACE"," ",465],")",["T_WHITESPACE"," ",465],")",["T_WHITESPACE","\n\t\t",465],["T_STRING","_deprecated_argument",466],"(",["T_WHITESPACE"," ",466],["T_FUNC_C","__FUNCTION__",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'3.5.0'",466],",",["T_WHITESPACE"," ",466],["T_STRING","__",466],"(",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'$image needs to be an WP_Image_Editor object'",466],["T_WHITESPACE"," ",466],")",["T_WHITESPACE"," ",466],")",";",["T_WHITESPACE","\n\n\t",466],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_WHITESPACE"," ",468],"!",["T_STRING","is_array",468],"(",["T_VARIABLE","$changes",468],")",["T_WHITESPACE"," ",468],")",["T_WHITESPACE","\n\t\t",468],["T_RETURN","return",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$image",469],";",["T_WHITESPACE","\n\n\t",469],["T_COMMENT","\/\/ Expand change operations.\n",471],["T_WHITESPACE","\t",472],["T_FOREACH","foreach",472],["T_WHITESPACE"," ",472],"(",["T_WHITESPACE"," ",472],["T_VARIABLE","$changes",472],["T_WHITESPACE"," ",472],["T_AS","as",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$key",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$obj",472],["T_WHITESPACE"," ",472],")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n\t\t",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_WHITESPACE"," ",473],["T_ISSET","isset",473],"(",["T_VARIABLE","$obj",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","r",473],")",["T_WHITESPACE"," ",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n\t\t\t",473],["T_VARIABLE","$obj",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","type",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'rotate'",474],";",["T_WHITESPACE","\n\t\t\t",474],["T_VARIABLE","$obj",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","angle",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$obj",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","r",475],";",["T_WHITESPACE","\n\t\t\t",475],["T_UNSET","unset",476],"(",["T_VARIABLE","$obj",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","r",476],")",";",["T_WHITESPACE","\n\t\t",476],"}",["T_WHITESPACE"," ",477],["T_ELSEIF","elseif",477],["T_WHITESPACE"," ",477],"(",["T_WHITESPACE"," ",477],["T_ISSET","isset",477],"(",["T_VARIABLE","$obj",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","f",477],")",["T_WHITESPACE"," ",477],")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n\t\t\t",477],["T_VARIABLE","$obj",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","type",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'flip'",478],";",["T_WHITESPACE","\n\t\t\t",478],["T_VARIABLE","$obj",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","axis",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$obj",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","f",479],";",["T_WHITESPACE","\n\t\t\t",479],["T_UNSET","unset",480],"(",["T_VARIABLE","$obj",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","f",480],")",";",["T_WHITESPACE","\n\t\t",480],"}",["T_WHITESPACE"," ",481],["T_ELSEIF","elseif",481],["T_WHITESPACE"," ",481],"(",["T_WHITESPACE"," ",481],["T_ISSET","isset",481],"(",["T_VARIABLE","$obj",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","c",481],")",["T_WHITESPACE"," ",481],")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n\t\t\t",481],["T_VARIABLE","$obj",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","type",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'crop'",482],";",["T_WHITESPACE","\n\t\t\t",482],["T_VARIABLE","$obj",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","sel",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$obj",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","c",483],";",["T_WHITESPACE","\n\t\t\t",483],["T_UNSET","unset",484],"(",["T_VARIABLE","$obj",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","c",484],")",";",["T_WHITESPACE","\n\t\t",484],"}",["T_WHITESPACE","\n\t\t",485],["T_VARIABLE","$changes",486],"[",["T_VARIABLE","$key",486],"]",["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$obj",486],";",["T_WHITESPACE","\n\t",486],"}",["T_WHITESPACE","\n\n\t",487],["T_COMMENT","\/\/ Combine operations.\n",489],["T_WHITESPACE","\t",490],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_WHITESPACE"," ",490],["T_STRING","count",490],"(",["T_VARIABLE","$changes",490],")",["T_WHITESPACE"," ",490],">",["T_WHITESPACE"," ",490],["T_LNUMBER","1",490],["T_WHITESPACE"," ",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n\t\t",490],["T_VARIABLE","$filtered",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_ARRAY","array",491],"(",["T_VARIABLE","$changes",491],"[",["T_LNUMBER","0",491],"]",")",";",["T_WHITESPACE","\n\t\t",491],["T_FOR","for",492],["T_WHITESPACE"," ",492],"(",["T_WHITESPACE"," ",492],["T_VARIABLE","$i",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_LNUMBER","0",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$j",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_LNUMBER","1",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$c",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","count",492],"(",["T_WHITESPACE"," ",492],["T_VARIABLE","$changes",492],["T_WHITESPACE"," ",492],")",";",["T_WHITESPACE"," ",492],["T_VARIABLE","$j",492],["T_WHITESPACE"," ",492],"<",["T_WHITESPACE"," ",492],["T_VARIABLE","$c",492],";",["T_WHITESPACE"," ",492],["T_VARIABLE","$j",492],["T_INC","++",492],["T_WHITESPACE"," ",492],")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n\t\t\t",492],["T_VARIABLE","$combined",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","false",493],";",["T_WHITESPACE","\n\t\t\t",493],["T_IF","if",494],["T_WHITESPACE"," ",494],"(",["T_WHITESPACE"," ",494],["T_VARIABLE","$filtered",494],"[",["T_VARIABLE","$i",494],"]",["T_OBJECT_OPERATOR","->",494],["T_STRING","type",494],["T_WHITESPACE"," ",494],["T_IS_EQUAL","==",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$changes",494],"[",["T_VARIABLE","$j",494],"]",["T_OBJECT_OPERATOR","->",494],["T_STRING","type",494],["T_WHITESPACE"," ",494],")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n\t\t\t\t",494],["T_SWITCH","switch",495],["T_WHITESPACE"," ",495],"(",["T_WHITESPACE"," ",495],["T_VARIABLE","$filtered",495],"[",["T_VARIABLE","$i",495],"]",["T_OBJECT_OPERATOR","->",495],["T_STRING","type",495],["T_WHITESPACE"," ",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n\t\t\t\t\t",495],["T_CASE","case",496],["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'rotate'",496],":",["T_WHITESPACE","\n\t\t\t\t\t\t",496],["T_VARIABLE","$filtered",497],"[",["T_VARIABLE","$i",497],"]",["T_OBJECT_OPERATOR","->",497],["T_STRING","angle",497],["T_WHITESPACE"," ",497],["T_PLUS_EQUAL","+=",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$changes",497],"[",["T_VARIABLE","$j",497],"]",["T_OBJECT_OPERATOR","->",497],["T_STRING","angle",497],";",["T_WHITESPACE","\n\t\t\t\t\t\t",497],["T_VARIABLE","$combined",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","true",498],";",["T_WHITESPACE","\n\t\t\t\t\t\t",498],["T_BREAK","break",499],";",["T_WHITESPACE","\n\t\t\t\t\t",499],["T_CASE","case",500],["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'flip'",500],":",["T_WHITESPACE","\n\t\t\t\t\t\t",500],["T_VARIABLE","$filtered",501],"[",["T_VARIABLE","$i",501],"]",["T_OBJECT_OPERATOR","->",501],["T_STRING","axis",501],["T_WHITESPACE"," ",501],["T_XOR_EQUAL","^=",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$changes",501],"[",["T_VARIABLE","$j",501],"]",["T_OBJECT_OPERATOR","->",501],["T_STRING","axis",501],";",["T_WHITESPACE","\n\t\t\t\t\t\t",501],["T_VARIABLE","$combined",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_STRING","true",502],";",["T_WHITESPACE","\n\t\t\t\t\t\t",502],["T_BREAK","break",503],";",["T_WHITESPACE","\n\t\t\t\t",503],"}",["T_WHITESPACE","\n\t\t\t",504],"}",["T_WHITESPACE","\n\t\t\t",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_WHITESPACE"," ",506],"!",["T_VARIABLE","$combined",506],["T_WHITESPACE"," ",506],")",["T_WHITESPACE","\n\t\t\t\t",506],["T_VARIABLE","$filtered",507],"[",["T_INC","++",507],["T_VARIABLE","$i",507],"]",["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$changes",507],"[",["T_VARIABLE","$j",507],"]",";",["T_WHITESPACE","\n\t\t",507],"}",["T_WHITESPACE","\n\t\t",508],["T_VARIABLE","$changes",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$filtered",509],";",["T_WHITESPACE","\n\t\t",509],["T_UNSET","unset",510],"(",["T_VARIABLE","$filtered",510],")",";",["T_WHITESPACE","\n\t",510],"}",["T_WHITESPACE","\n\n\t",511],["T_COMMENT","\/\/ Image resource before applying the changes.\n",513],["T_WHITESPACE","\t",514],["T_IF","if",514],["T_WHITESPACE"," ",514],"(",["T_WHITESPACE"," ",514],["T_VARIABLE","$image",514],["T_WHITESPACE"," ",514],["T_INSTANCEOF","instanceof",514],["T_WHITESPACE"," ",514],["T_STRING","WP_Image_Editor",514],["T_WHITESPACE"," ",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n\n\t\t",514],["T_DOC_COMMENT","\/**\n\t\t * Filters the WP_Image_Editor instance before applying changes to the image.\n\t\t *\n\t\t * @since 3.5.0\n\t\t *\n\t\t * @param WP_Image_Editor $image   WP_Image_Editor instance.\n \t\t * @param array           $changes Array of change operations.\n\t\t *\/",516],["T_WHITESPACE","\n\t\t",523],["T_VARIABLE","$image",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_STRING","apply_filters",524],"(",["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","'wp_image_editor_before_change'",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$image",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$changes",524],["T_WHITESPACE"," ",524],")",";",["T_WHITESPACE","\n\t",524],"}",["T_WHITESPACE"," ",525],["T_ELSEIF","elseif",525],["T_WHITESPACE"," ",525],"(",["T_WHITESPACE"," ",525],["T_STRING","is_resource",525],"(",["T_WHITESPACE"," ",525],["T_VARIABLE","$image",525],["T_WHITESPACE"," ",525],")",["T_WHITESPACE"," ",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n\n\t\t",525],["T_DOC_COMMENT","\/**\n\t\t * Filters the GD image resource before applying changes to the image.\n\t\t *\n\t\t * @since 2.9.0\n\t\t * @deprecated 3.5.0 Use wp_image_editor_before_change instead.\n\t\t *\n\t\t * @param resource $image   GD image resource.\n \t\t * @param array    $changes Array of change operations.\n\t\t *\/",527],["T_WHITESPACE","\n\t\t",535],["T_VARIABLE","$image",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","apply_filters",536],"(",["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","'image_edit_before_change'",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$image",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$changes",536],["T_WHITESPACE"," ",536],")",";",["T_WHITESPACE","\n\t",536],"}",["T_WHITESPACE","\n\n\t",537],["T_FOREACH","foreach",539],["T_WHITESPACE"," ",539],"(",["T_WHITESPACE"," ",539],["T_VARIABLE","$changes",539],["T_WHITESPACE"," ",539],["T_AS","as",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$operation",539],["T_WHITESPACE"," ",539],")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n\t\t",539],["T_SWITCH","switch",540],["T_WHITESPACE"," ",540],"(",["T_WHITESPACE"," ",540],["T_VARIABLE","$operation",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","type",540],["T_WHITESPACE"," ",540],")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n\t\t\t",540],["T_CASE","case",541],["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'rotate'",541],":",["T_WHITESPACE","\n\t\t\t\t",541],["T_IF","if",542],["T_WHITESPACE"," ",542],"(",["T_WHITESPACE"," ",542],["T_VARIABLE","$operation",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","angle",542],["T_WHITESPACE"," ",542],["T_IS_NOT_EQUAL","!=",542],["T_WHITESPACE"," ",542],["T_LNUMBER","0",542],["T_WHITESPACE"," ",542],")",["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n\t\t\t\t\t",542],["T_IF","if",543],["T_WHITESPACE"," ",543],"(",["T_WHITESPACE"," ",543],["T_VARIABLE","$image",543],["T_WHITESPACE"," ",543],["T_INSTANCEOF","instanceof",543],["T_WHITESPACE"," ",543],["T_STRING","WP_Image_Editor",543],["T_WHITESPACE"," ",543],")",["T_WHITESPACE","\n\t\t\t\t\t\t",543],["T_VARIABLE","$image",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","rotate",544],"(",["T_WHITESPACE"," ",544],["T_VARIABLE","$operation",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","angle",544],["T_WHITESPACE"," ",544],")",";",["T_WHITESPACE","\n\t\t\t\t\t",544],["T_ELSE","else",545],["T_WHITESPACE","\n\t\t\t\t\t\t",545],["T_VARIABLE","$image",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_STRING","_rotate_image_resource",546],"(",["T_WHITESPACE"," ",546],["T_VARIABLE","$image",546],",",["T_WHITESPACE"," ",546],["T_VARIABLE","$operation",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","angle",546],["T_WHITESPACE"," ",546],")",";",["T_WHITESPACE","\n\t\t\t\t",546],"}",["T_WHITESPACE","\n\t\t\t\t",547],["T_BREAK","break",548],";",["T_WHITESPACE","\n\t\t\t",548],["T_CASE","case",549],["T_WHITESPACE"," ",549],["T_CONSTANT_ENCAPSED_STRING","'flip'",549],":",["T_WHITESPACE","\n\t\t\t\t",549],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_WHITESPACE"," ",550],["T_VARIABLE","$operation",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","axis",550],["T_WHITESPACE"," ",550],["T_IS_NOT_EQUAL","!=",550],["T_WHITESPACE"," ",550],["T_LNUMBER","0",550],["T_WHITESPACE"," ",550],")",["T_WHITESPACE","\n\t\t\t\t\t",550],["T_IF","if",551],["T_WHITESPACE"," ",551],"(",["T_WHITESPACE"," ",551],["T_VARIABLE","$image",551],["T_WHITESPACE"," ",551],["T_INSTANCEOF","instanceof",551],["T_WHITESPACE"," ",551],["T_STRING","WP_Image_Editor",551],["T_WHITESPACE"," ",551],")",["T_WHITESPACE","\n\t\t\t\t\t\t",551],["T_VARIABLE","$image",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","flip",552],"(",["T_WHITESPACE"," ",552],"(",["T_VARIABLE","$operation",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","axis",552],["T_WHITESPACE"," ",552],"&",["T_WHITESPACE"," ",552],["T_LNUMBER","1",552],")",["T_WHITESPACE"," ",552],["T_IS_NOT_EQUAL","!=",552],["T_WHITESPACE"," ",552],["T_LNUMBER","0",552],",",["T_WHITESPACE"," ",552],"(",["T_VARIABLE","$operation",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","axis",552],["T_WHITESPACE"," ",552],"&",["T_WHITESPACE"," ",552],["T_LNUMBER","2",552],")",["T_WHITESPACE"," ",552],["T_IS_NOT_EQUAL","!=",552],["T_WHITESPACE"," ",552],["T_LNUMBER","0",552],["T_WHITESPACE"," ",552],")",";",["T_WHITESPACE","\n\t\t\t\t\t",552],["T_ELSE","else",553],["T_WHITESPACE","\n\t\t\t\t\t\t",553],["T_VARIABLE","$image",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","_flip_image_resource",554],"(",["T_WHITESPACE"," ",554],["T_VARIABLE","$image",554],",",["T_WHITESPACE"," ",554],"(",["T_WHITESPACE"," ",554],["T_VARIABLE","$operation",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","axis",554],["T_WHITESPACE"," ",554],"&",["T_WHITESPACE"," ",554],["T_LNUMBER","1",554],["T_WHITESPACE"," ",554],")",["T_WHITESPACE"," ",554],["T_IS_NOT_EQUAL","!=",554],["T_WHITESPACE"," ",554],["T_LNUMBER","0",554],",",["T_WHITESPACE"," ",554],"(",["T_WHITESPACE"," ",554],["T_VARIABLE","$operation",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","axis",554],["T_WHITESPACE"," ",554],"&",["T_WHITESPACE"," ",554],["T_LNUMBER","2",554],["T_WHITESPACE"," ",554],")",["T_WHITESPACE"," ",554],["T_IS_NOT_EQUAL","!=",554],["T_WHITESPACE"," ",554],["T_LNUMBER","0",554],["T_WHITESPACE"," ",554],")",";",["T_WHITESPACE","\n\t\t\t\t",554],["T_BREAK","break",555],";",["T_WHITESPACE","\n\t\t\t",555],["T_CASE","case",556],["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","'crop'",556],":",["T_WHITESPACE","\n\t\t\t\t",556],["T_VARIABLE","$sel",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$operation",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","sel",557],";",["T_WHITESPACE","\n\n\t\t\t\t",557],["T_IF","if",559],["T_WHITESPACE"," ",559],"(",["T_WHITESPACE"," ",559],["T_VARIABLE","$image",559],["T_WHITESPACE"," ",559],["T_INSTANCEOF","instanceof",559],["T_WHITESPACE"," ",559],["T_STRING","WP_Image_Editor",559],["T_WHITESPACE"," ",559],")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n\t\t\t\t\t",559],["T_VARIABLE","$size",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$image",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","get_size",560],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",560],["T_VARIABLE","$w",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$size",561],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",561],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",561],["T_VARIABLE","$h",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$size",562],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",562],"]",";",["T_WHITESPACE","\n\n\t\t\t\t\t",562],["T_VARIABLE","$scale",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_LNUMBER","1",564],["T_WHITESPACE"," ",564],"\/",["T_WHITESPACE"," ",564],["T_STRING","_image_get_preview_ratio",564],"(",["T_WHITESPACE"," ",564],["T_VARIABLE","$w",564],",",["T_WHITESPACE"," ",564],["T_VARIABLE","$h",564],["T_WHITESPACE"," ",564],")",";",["T_WHITESPACE"," ",564],["T_COMMENT","\/\/ discard preview scaling\n",564],["T_WHITESPACE","\t\t\t\t\t",565],["T_VARIABLE","$image",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","crop",565],"(",["T_WHITESPACE"," ",565],["T_VARIABLE","$sel",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","x",565],["T_WHITESPACE"," ",565],"*",["T_WHITESPACE"," ",565],["T_VARIABLE","$scale",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$sel",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","y",565],["T_WHITESPACE"," ",565],"*",["T_WHITESPACE"," ",565],["T_VARIABLE","$scale",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$sel",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","w",565],["T_WHITESPACE"," ",565],"*",["T_WHITESPACE"," ",565],["T_VARIABLE","$scale",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$sel",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","h",565],["T_WHITESPACE"," ",565],"*",["T_WHITESPACE"," ",565],["T_VARIABLE","$scale",565],["T_WHITESPACE"," ",565],")",";",["T_WHITESPACE","\n\t\t\t\t",565],"}",["T_WHITESPACE"," ",566],["T_ELSE","else",566],["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n\t\t\t\t\t",566],["T_VARIABLE","$scale",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_LNUMBER","1",567],["T_WHITESPACE"," ",567],"\/",["T_WHITESPACE"," ",567],["T_STRING","_image_get_preview_ratio",567],"(",["T_WHITESPACE"," ",567],["T_STRING","imagesx",567],"(",["T_WHITESPACE"," ",567],["T_VARIABLE","$image",567],["T_WHITESPACE"," ",567],")",",",["T_WHITESPACE"," ",567],["T_STRING","imagesy",567],"(",["T_WHITESPACE"," ",567],["T_VARIABLE","$image",567],["T_WHITESPACE"," ",567],")",["T_WHITESPACE"," ",567],")",";",["T_WHITESPACE"," ",567],["T_COMMENT","\/\/ discard preview scaling\n",567],["T_WHITESPACE","\t\t\t\t\t",568],["T_VARIABLE","$image",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_STRING","_crop_image_resource",568],"(",["T_WHITESPACE"," ",568],["T_VARIABLE","$image",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$sel",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","x",568],["T_WHITESPACE"," ",568],"*",["T_WHITESPACE"," ",568],["T_VARIABLE","$scale",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$sel",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","y",568],["T_WHITESPACE"," ",568],"*",["T_WHITESPACE"," ",568],["T_VARIABLE","$scale",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$sel",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","w",568],["T_WHITESPACE"," ",568],"*",["T_WHITESPACE"," ",568],["T_VARIABLE","$scale",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$sel",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","h",568],["T_WHITESPACE"," ",568],"*",["T_WHITESPACE"," ",568],["T_VARIABLE","$scale",568],["T_WHITESPACE"," ",568],")",";",["T_WHITESPACE","\n\t\t\t\t",568],"}",["T_WHITESPACE","\n\t\t\t\t",569],["T_BREAK","break",570],";",["T_WHITESPACE","\n\t\t",570],"}",["T_WHITESPACE","\n\t",571],"}",["T_WHITESPACE","\n\n\t",572],["T_RETURN","return",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$image",574],";",["T_WHITESPACE","\n",574],"}",["T_WHITESPACE","\n\n\n",575],["T_DOC_COMMENT","\/**\n * Streams image in post to browser, along with enqueued changes\n * in $_REQUEST['history']\n *\n * @param int $post_id\n * @return bool\n *\/",578],["T_WHITESPACE","\n",584],["T_FUNCTION","function",585],["T_WHITESPACE"," ",585],["T_STRING","stream_preview_image",585],"(",["T_WHITESPACE"," ",585],["T_VARIABLE","$post_id",585],["T_WHITESPACE"," ",585],")",["T_WHITESPACE"," ",585],"{",["T_WHITESPACE","\n\t",585],["T_VARIABLE","$post",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_STRING","get_post",586],"(",["T_WHITESPACE"," ",586],["T_VARIABLE","$post_id",586],["T_WHITESPACE"," ",586],")",";",["T_WHITESPACE","\n\n\t",586],["T_STRING","wp_raise_memory_limit",588],"(",["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","'admin'",588],["T_WHITESPACE"," ",588],")",";",["T_WHITESPACE","\n\n\t",588],["T_VARIABLE","$img",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_STRING","wp_get_image_editor",590],"(",["T_WHITESPACE"," ",590],["T_STRING","_load_image_to_edit_path",590],"(",["T_WHITESPACE"," ",590],["T_VARIABLE","$post_id",590],["T_WHITESPACE"," ",590],")",["T_WHITESPACE"," ",590],")",";",["T_WHITESPACE","\n\n\t",590],["T_IF","if",592],["T_WHITESPACE"," ",592],"(",["T_WHITESPACE"," ",592],["T_STRING","is_wp_error",592],"(",["T_WHITESPACE"," ",592],["T_VARIABLE","$img",592],["T_WHITESPACE"," ",592],")",["T_WHITESPACE"," ",592],")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n\t\t",592],["T_RETURN","return",593],["T_WHITESPACE"," ",593],["T_STRING","false",593],";",["T_WHITESPACE","\n\t",593],"}",["T_WHITESPACE","\n\n\t",594],["T_VARIABLE","$changes",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],"!",["T_EMPTY","empty",596],"(",["T_VARIABLE","$_REQUEST",596],"[",["T_CONSTANT_ENCAPSED_STRING","'history'",596],"]",")",["T_WHITESPACE"," ",596],"?",["T_WHITESPACE"," ",596],["T_STRING","json_decode",596],"(",["T_WHITESPACE"," ",596],["T_STRING","wp_unslash",596],"(",["T_VARIABLE","$_REQUEST",596],"[",["T_CONSTANT_ENCAPSED_STRING","'history'",596],"]",")",["T_WHITESPACE"," ",596],")",["T_WHITESPACE"," ",596],":",["T_WHITESPACE"," ",596],["T_STRING","null",596],";",["T_WHITESPACE","\n\t",596],["T_IF","if",597],["T_WHITESPACE"," ",597],"(",["T_WHITESPACE"," ",597],["T_VARIABLE","$changes",597],["T_WHITESPACE"," ",597],")",["T_WHITESPACE","\n\t\t",597],["T_VARIABLE","$img",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_STRING","image_edit_apply_changes",598],"(",["T_WHITESPACE"," ",598],["T_VARIABLE","$img",598],",",["T_WHITESPACE"," ",598],["T_VARIABLE","$changes",598],["T_WHITESPACE"," ",598],")",";",["T_WHITESPACE","\n\n\t",598],["T_COMMENT","\/\/ Scale the image.\n",600],["T_WHITESPACE","\t",601],["T_VARIABLE","$size",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_VARIABLE","$img",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","get_size",601],"(",")",";",["T_WHITESPACE","\n\t",601],["T_VARIABLE","$w",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$size",602],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",602],"]",";",["T_WHITESPACE","\n\t",602],["T_VARIABLE","$h",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_VARIABLE","$size",603],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",603],"]",";",["T_WHITESPACE","\n\n\t",603],["T_VARIABLE","$ratio",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_STRING","_image_get_preview_ratio",605],"(",["T_WHITESPACE"," ",605],["T_VARIABLE","$w",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$h",605],["T_WHITESPACE"," ",605],")",";",["T_WHITESPACE","\n\t",605],["T_VARIABLE","$w2",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_STRING","max",606],["T_WHITESPACE"," ",606],"(",["T_WHITESPACE"," ",606],["T_LNUMBER","1",606],",",["T_WHITESPACE"," ",606],["T_VARIABLE","$w",606],["T_WHITESPACE"," ",606],"*",["T_WHITESPACE"," ",606],["T_VARIABLE","$ratio",606],["T_WHITESPACE"," ",606],")",";",["T_WHITESPACE","\n\t",606],["T_VARIABLE","$h2",607],["T_WHITESPACE"," ",607],"=",["T_WHITESPACE"," ",607],["T_STRING","max",607],["T_WHITESPACE"," ",607],"(",["T_WHITESPACE"," ",607],["T_LNUMBER","1",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$h",607],["T_WHITESPACE"," ",607],"*",["T_WHITESPACE"," ",607],["T_VARIABLE","$ratio",607],["T_WHITESPACE"," ",607],")",";",["T_WHITESPACE","\n\n\t",607],["T_IF","if",609],["T_WHITESPACE"," ",609],"(",["T_WHITESPACE"," ",609],["T_STRING","is_wp_error",609],"(",["T_WHITESPACE"," ",609],["T_VARIABLE","$img",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","resize",609],"(",["T_WHITESPACE"," ",609],["T_VARIABLE","$w2",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$h2",609],["T_WHITESPACE"," ",609],")",["T_WHITESPACE"," ",609],")",["T_WHITESPACE"," ",609],")",["T_WHITESPACE","\n\t\t",609],["T_RETURN","return",610],["T_WHITESPACE"," ",610],["T_STRING","false",610],";",["T_WHITESPACE","\n\n\t",610],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_STRING","wp_stream_image",612],"(",["T_WHITESPACE"," ",612],["T_VARIABLE","$img",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$post",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","post_mime_type",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$post_id",612],["T_WHITESPACE"," ",612],")",";",["T_WHITESPACE","\n",612],"}",["T_WHITESPACE","\n\n",613],["T_DOC_COMMENT","\/**\n * Restores the metadata for a given attachment.\n *\n * @since 2.9.0\n *\n * @param int $post_id Attachment post ID.\n * @return stdClass Image restoration message object.\n *\/",615],["T_WHITESPACE","\n",622],["T_FUNCTION","function",623],["T_WHITESPACE"," ",623],["T_STRING","wp_restore_image",623],"(",["T_VARIABLE","$post_id",623],")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n\t",623],["T_VARIABLE","$meta",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","wp_get_attachment_metadata",624],"(",["T_VARIABLE","$post_id",624],")",";",["T_WHITESPACE","\n\t",624],["T_VARIABLE","$file",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_STRING","get_attached_file",625],"(",["T_VARIABLE","$post_id",625],")",";",["T_WHITESPACE","\n\t",625],["T_VARIABLE","$backup_sizes",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_VARIABLE","$old_backup_sizes",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_STRING","get_post_meta",626],"(",["T_WHITESPACE"," ",626],["T_VARIABLE","$post_id",626],",",["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_backup_sizes'",626],",",["T_WHITESPACE"," ",626],["T_STRING","true",626],["T_WHITESPACE"," ",626],")",";",["T_WHITESPACE","\n\t",626],["T_VARIABLE","$restored",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_STRING","false",627],";",["T_WHITESPACE","\n\t",627],["T_VARIABLE","$msg",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_NEW","new",628],["T_WHITESPACE"," ",628],["T_STRING","stdClass",628],";",["T_WHITESPACE","\n\n\t",628],["T_IF","if",630],["T_WHITESPACE"," ",630],"(",["T_WHITESPACE"," ",630],"!",["T_STRING","is_array",630],"(",["T_VARIABLE","$backup_sizes",630],")",["T_WHITESPACE"," ",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n\t\t",630],["T_VARIABLE","$msg",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","error",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_STRING","__",631],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot load image metadata.'",631],")",";",["T_WHITESPACE","\n\t\t",631],["T_RETURN","return",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$msg",632],";",["T_WHITESPACE","\n\t",632],"}",["T_WHITESPACE","\n\n\t",633],["T_VARIABLE","$parts",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_STRING","pathinfo",635],"(",["T_VARIABLE","$file",635],")",";",["T_WHITESPACE","\n\t",635],["T_VARIABLE","$suffix",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_STRING","time",636],"(",")",["T_WHITESPACE"," ",636],".",["T_WHITESPACE"," ",636],["T_STRING","rand",636],"(",["T_LNUMBER","100",636],",",["T_WHITESPACE"," ",636],["T_LNUMBER","999",636],")",";",["T_WHITESPACE","\n\t",636],["T_VARIABLE","$default_sizes",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_STRING","get_intermediate_image_sizes",637],"(",")",";",["T_WHITESPACE","\n\n\t",637],["T_IF","if",639],["T_WHITESPACE"," ",639],"(",["T_WHITESPACE"," ",639],["T_ISSET","isset",639],"(",["T_VARIABLE","$backup_sizes",639],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",639],"]",")",["T_WHITESPACE"," ",639],["T_BOOLEAN_AND","&&",639],["T_WHITESPACE"," ",639],["T_STRING","is_array",639],"(",["T_VARIABLE","$backup_sizes",639],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",639],"]",")",["T_WHITESPACE"," ",639],")",["T_WHITESPACE"," ",639],"{",["T_WHITESPACE","\n\t\t",639],["T_VARIABLE","$data",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_VARIABLE","$backup_sizes",640],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",640],"]",";",["T_WHITESPACE","\n\n\t\t",640],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_WHITESPACE"," ",642],["T_VARIABLE","$parts",642],"[",["T_CONSTANT_ENCAPSED_STRING","'basename'",642],"]",["T_WHITESPACE"," ",642],["T_IS_NOT_EQUAL","!=",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$data",642],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",642],"]",["T_WHITESPACE"," ",642],")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n\t\t\t",642],["T_IF","if",643],["T_WHITESPACE"," ",643],"(",["T_WHITESPACE"," ",643],["T_STRING","defined",643],"(",["T_CONSTANT_ENCAPSED_STRING","'IMAGE_EDIT_OVERWRITE'",643],")",["T_WHITESPACE"," ",643],["T_BOOLEAN_AND","&&",643],["T_WHITESPACE"," ",643],["T_STRING","IMAGE_EDIT_OVERWRITE",643],["T_WHITESPACE"," ",643],")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n\n\t\t\t\t",643],["T_COMMENT","\/\/ Delete only if it's an edited image.\n",645],["T_WHITESPACE","\t\t\t\t",646],["T_IF","if",646],["T_WHITESPACE"," ",646],"(",["T_WHITESPACE"," ",646],["T_STRING","preg_match",646],"(",["T_CONSTANT_ENCAPSED_STRING","'\/-e[0-9]{13}\\.\/'",646],",",["T_WHITESPACE"," ",646],["T_VARIABLE","$parts",646],"[",["T_CONSTANT_ENCAPSED_STRING","'basename'",646],"]",")",["T_WHITESPACE"," ",646],")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n\t\t\t\t\t",646],["T_STRING","wp_delete_file",647],"(",["T_WHITESPACE"," ",647],["T_VARIABLE","$file",647],["T_WHITESPACE"," ",647],")",";",["T_WHITESPACE","\n\t\t\t\t",647],"}",["T_WHITESPACE","\n\t\t\t",648],"}",["T_WHITESPACE"," ",649],["T_ELSEIF","elseif",649],["T_WHITESPACE"," ",649],"(",["T_WHITESPACE"," ",649],["T_ISSET","isset",649],"(",["T_WHITESPACE"," ",649],["T_VARIABLE","$meta",649],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",649],"]",",",["T_WHITESPACE"," ",649],["T_VARIABLE","$meta",649],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",649],"]",["T_WHITESPACE"," ",649],")",["T_WHITESPACE"," ",649],")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n\t\t\t\t",649],["T_VARIABLE","$backup_sizes",650],"[","\"",["T_ENCAPSED_AND_WHITESPACE","full-",650],["T_VARIABLE","$suffix",650],"\"","]",["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_ARRAY","array",650],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$meta",650],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",650],"]",",",["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'height'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$meta",650],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",650],"]",",",["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'file'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$parts",650],"[",["T_CONSTANT_ENCAPSED_STRING","'basename'",650],"]",")",";",["T_WHITESPACE","\n\t\t\t",650],"}",["T_WHITESPACE","\n\t\t",651],"}",["T_WHITESPACE","\n\n\t\t",652],["T_VARIABLE","$restored_file",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_STRING","path_join",654],"(",["T_VARIABLE","$parts",654],"[",["T_CONSTANT_ENCAPSED_STRING","'dirname'",654],"]",",",["T_WHITESPACE"," ",654],["T_VARIABLE","$data",654],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",654],"]",")",";",["T_WHITESPACE","\n\t\t",654],["T_VARIABLE","$restored",655],["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],["T_STRING","update_attached_file",655],"(",["T_VARIABLE","$post_id",655],",",["T_WHITESPACE"," ",655],["T_VARIABLE","$restored_file",655],")",";",["T_WHITESPACE","\n\n\t\t",655],["T_VARIABLE","$meta",657],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",657],"]",["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_STRING","_wp_relative_upload_path",657],"(",["T_WHITESPACE"," ",657],["T_VARIABLE","$restored_file",657],["T_WHITESPACE"," ",657],")",";",["T_WHITESPACE","\n\t\t",657],["T_VARIABLE","$meta",658],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",658],"]",["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_VARIABLE","$data",658],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",658],"]",";",["T_WHITESPACE","\n\t\t",658],["T_VARIABLE","$meta",659],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",659],"]",["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_VARIABLE","$data",659],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",659],"]",";",["T_WHITESPACE","\n\t",659],"}",["T_WHITESPACE","\n\n\t",660],["T_FOREACH","foreach",662],["T_WHITESPACE"," ",662],"(",["T_WHITESPACE"," ",662],["T_VARIABLE","$default_sizes",662],["T_WHITESPACE"," ",662],["T_AS","as",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$default_size",662],["T_WHITESPACE"," ",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n\t\t",662],["T_IF","if",663],["T_WHITESPACE"," ",663],"(",["T_WHITESPACE"," ",663],["T_ISSET","isset",663],"(",["T_VARIABLE","$backup_sizes",663],"[","\"",["T_VARIABLE","$default_size",663],["T_ENCAPSED_AND_WHITESPACE","-orig",663],"\"","]",")",["T_WHITESPACE"," ",663],")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n\t\t\t",663],["T_VARIABLE","$data",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_VARIABLE","$backup_sizes",664],"[","\"",["T_VARIABLE","$default_size",664],["T_ENCAPSED_AND_WHITESPACE","-orig",664],"\"","]",";",["T_WHITESPACE","\n\t\t\t",664],["T_IF","if",665],["T_WHITESPACE"," ",665],"(",["T_WHITESPACE"," ",665],["T_ISSET","isset",665],"(",["T_VARIABLE","$meta",665],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",665],"]","[",["T_VARIABLE","$default_size",665],"]",")",["T_WHITESPACE"," ",665],["T_BOOLEAN_AND","&&",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$meta",665],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",665],"]","[",["T_VARIABLE","$default_size",665],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",665],"]",["T_WHITESPACE"," ",665],["T_IS_NOT_EQUAL","!=",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$data",665],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",665],"]",["T_WHITESPACE"," ",665],")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n\t\t\t\t",665],["T_IF","if",666],["T_WHITESPACE"," ",666],"(",["T_WHITESPACE"," ",666],["T_STRING","defined",666],"(",["T_CONSTANT_ENCAPSED_STRING","'IMAGE_EDIT_OVERWRITE'",666],")",["T_WHITESPACE"," ",666],["T_BOOLEAN_AND","&&",666],["T_WHITESPACE"," ",666],["T_STRING","IMAGE_EDIT_OVERWRITE",666],["T_WHITESPACE"," ",666],")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n\n\t\t\t\t\t",666],["T_COMMENT","\/\/ Delete only if it's an edited image.\n",668],["T_WHITESPACE","\t\t\t\t\t",669],["T_IF","if",669],["T_WHITESPACE"," ",669],"(",["T_WHITESPACE"," ",669],["T_STRING","preg_match",669],"(",["T_CONSTANT_ENCAPSED_STRING","'\/-e[0-9]{13}-\/'",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$meta",669],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",669],"]","[",["T_VARIABLE","$default_size",669],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",669],"]",")",["T_WHITESPACE"," ",669],")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",669],["T_VARIABLE","$delete_file",670],["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_STRING","path_join",670],"(",["T_WHITESPACE"," ",670],["T_VARIABLE","$parts",670],"[",["T_CONSTANT_ENCAPSED_STRING","'dirname'",670],"]",",",["T_WHITESPACE"," ",670],["T_VARIABLE","$meta",670],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",670],"]","[",["T_VARIABLE","$default_size",670],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",670],"]",["T_WHITESPACE"," ",670],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",670],["T_STRING","wp_delete_file",671],"(",["T_WHITESPACE"," ",671],["T_VARIABLE","$delete_file",671],["T_WHITESPACE"," ",671],")",";",["T_WHITESPACE","\n\t\t\t\t\t",671],"}",["T_WHITESPACE","\n\t\t\t\t",672],"}",["T_WHITESPACE"," ",673],["T_ELSE","else",673],["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n\t\t\t\t\t",673],["T_VARIABLE","$backup_sizes",674],"[","\"",["T_VARIABLE","$default_size",674],["T_ENCAPSED_AND_WHITESPACE","-",674],["T_CURLY_OPEN","{",674],["T_VARIABLE","$suffix",674],"}","\"","]",["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$meta",674],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",674],"]","[",["T_VARIABLE","$default_size",674],"]",";",["T_WHITESPACE","\n\t\t\t\t",674],"}",["T_WHITESPACE","\n\t\t\t",675],"}",["T_WHITESPACE","\n\n\t\t\t",676],["T_VARIABLE","$meta",678],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",678],"]","[",["T_VARIABLE","$default_size",678],"]",["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_VARIABLE","$data",678],";",["T_WHITESPACE","\n\t\t",678],"}",["T_WHITESPACE"," ",679],["T_ELSE","else",679],["T_WHITESPACE"," ",679],"{",["T_WHITESPACE","\n\t\t\t",679],["T_UNSET","unset",680],"(",["T_VARIABLE","$meta",680],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",680],"]","[",["T_VARIABLE","$default_size",680],"]",")",";",["T_WHITESPACE","\n\t\t",680],"}",["T_WHITESPACE","\n\t",681],"}",["T_WHITESPACE","\n\n\t",682],["T_IF","if",684],["T_WHITESPACE"," ",684],"(",["T_WHITESPACE"," ",684],"!",["T_WHITESPACE"," ",684],["T_STRING","wp_update_attachment_metadata",684],"(",["T_WHITESPACE"," ",684],["T_VARIABLE","$post_id",684],",",["T_WHITESPACE"," ",684],["T_VARIABLE","$meta",684],["T_WHITESPACE"," ",684],")",["T_WHITESPACE"," ",684],["T_BOOLEAN_OR","||",684],["T_WHITESPACE","\n\t\t",684],"(",["T_WHITESPACE"," ",685],["T_VARIABLE","$old_backup_sizes",685],["T_WHITESPACE"," ",685],["T_IS_NOT_IDENTICAL","!==",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$backup_sizes",685],["T_WHITESPACE"," ",685],["T_BOOLEAN_AND","&&",685],["T_WHITESPACE"," ",685],"!",["T_WHITESPACE"," ",685],["T_STRING","update_post_meta",685],"(",["T_WHITESPACE"," ",685],["T_VARIABLE","$post_id",685],",",["T_WHITESPACE"," ",685],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_backup_sizes'",685],",",["T_WHITESPACE"," ",685],["T_VARIABLE","$backup_sizes",685],["T_WHITESPACE"," ",685],")",["T_WHITESPACE"," ",685],")",["T_WHITESPACE"," ",685],")",["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n\n\t\t",685],["T_VARIABLE","$msg",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","error",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_STRING","__",687],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot save image metadata.'",687],")",";",["T_WHITESPACE","\n\t\t",687],["T_RETURN","return",688],["T_WHITESPACE"," ",688],["T_VARIABLE","$msg",688],";",["T_WHITESPACE","\n\t",688],"}",["T_WHITESPACE","\n\n\t",689],["T_IF","if",691],["T_WHITESPACE"," ",691],"(",["T_WHITESPACE"," ",691],"!",["T_VARIABLE","$restored",691],["T_WHITESPACE"," ",691],")",["T_WHITESPACE","\n\t\t",691],["T_VARIABLE","$msg",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","error",692],["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_STRING","__",692],"(",["T_CONSTANT_ENCAPSED_STRING","'Image metadata is inconsistent.'",692],")",";",["T_WHITESPACE","\n\t",692],["T_ELSE","else",693],["T_WHITESPACE","\n\t\t",693],["T_VARIABLE","$msg",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","msg",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_STRING","__",694],"(",["T_CONSTANT_ENCAPSED_STRING","'Image restored successfully.'",694],")",";",["T_WHITESPACE","\n\n\t",694],["T_RETURN","return",696],["T_WHITESPACE"," ",696],["T_VARIABLE","$msg",696],";",["T_WHITESPACE","\n",696],"}",["T_WHITESPACE","\n\n",697],["T_DOC_COMMENT","\/**\n * Saves image to post along with enqueued changes\n * in $_REQUEST['history']\n *\n * @param int $post_id\n * @return \\stdClass\n *\/",699],["T_WHITESPACE","\n",705],["T_FUNCTION","function",706],["T_WHITESPACE"," ",706],["T_STRING","wp_save_image",706],"(",["T_WHITESPACE"," ",706],["T_VARIABLE","$post_id",706],["T_WHITESPACE"," ",706],")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n\t",706],["T_VARIABLE","$_wp_additional_image_sizes",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_STRING","wp_get_additional_image_sizes",707],"(",")",";",["T_WHITESPACE","\n\n\t",707],["T_VARIABLE","$return",709],["T_WHITESPACE"," ",709],"=",["T_WHITESPACE"," ",709],["T_NEW","new",709],["T_WHITESPACE"," ",709],["T_STRING","stdClass",709],";",["T_WHITESPACE","\n\t",709],["T_VARIABLE","$success",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_VARIABLE","$delete",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_VARIABLE","$scaled",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_VARIABLE","$nocrop",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_STRING","false",710],";",["T_WHITESPACE","\n\t",710],["T_VARIABLE","$post",711],["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_STRING","get_post",711],"(",["T_WHITESPACE"," ",711],["T_VARIABLE","$post_id",711],["T_WHITESPACE"," ",711],")",";",["T_WHITESPACE","\n\n\t",711],["T_VARIABLE","$img",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_STRING","wp_get_image_editor",713],"(",["T_WHITESPACE"," ",713],["T_STRING","_load_image_to_edit_path",713],"(",["T_WHITESPACE"," ",713],["T_VARIABLE","$post_id",713],",",["T_WHITESPACE"," ",713],["T_CONSTANT_ENCAPSED_STRING","'full'",713],["T_WHITESPACE"," ",713],")",["T_WHITESPACE"," ",713],")",";",["T_WHITESPACE","\n\t",713],["T_IF","if",714],["T_WHITESPACE"," ",714],"(",["T_WHITESPACE"," ",714],["T_STRING","is_wp_error",714],"(",["T_WHITESPACE"," ",714],["T_VARIABLE","$img",714],["T_WHITESPACE"," ",714],")",["T_WHITESPACE"," ",714],")",["T_WHITESPACE"," ",714],"{",["T_WHITESPACE","\n\t\t",714],["T_VARIABLE","$return",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","error",715],["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_STRING","esc_js",715],"(",["T_WHITESPACE"," ",715],["T_STRING","__",715],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to create new image.'",715],")",["T_WHITESPACE"," ",715],")",";",["T_WHITESPACE","\n\t\t",715],["T_RETURN","return",716],["T_WHITESPACE"," ",716],["T_VARIABLE","$return",716],";",["T_WHITESPACE","\n\t",716],"}",["T_WHITESPACE","\n\n\t",717],["T_VARIABLE","$fwidth",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],"!",["T_EMPTY","empty",719],"(",["T_VARIABLE","$_REQUEST",719],"[",["T_CONSTANT_ENCAPSED_STRING","'fwidth'",719],"]",")",["T_WHITESPACE"," ",719],"?",["T_WHITESPACE"," ",719],["T_STRING","intval",719],"(",["T_VARIABLE","$_REQUEST",719],"[",["T_CONSTANT_ENCAPSED_STRING","'fwidth'",719],"]",")",["T_WHITESPACE"," ",719],":",["T_WHITESPACE"," ",719],["T_LNUMBER","0",719],";",["T_WHITESPACE","\n\t",719],["T_VARIABLE","$fheight",720],["T_WHITESPACE"," ",720],"=",["T_WHITESPACE"," ",720],"!",["T_EMPTY","empty",720],"(",["T_VARIABLE","$_REQUEST",720],"[",["T_CONSTANT_ENCAPSED_STRING","'fheight'",720],"]",")",["T_WHITESPACE"," ",720],"?",["T_WHITESPACE"," ",720],["T_STRING","intval",720],"(",["T_VARIABLE","$_REQUEST",720],"[",["T_CONSTANT_ENCAPSED_STRING","'fheight'",720],"]",")",["T_WHITESPACE"," ",720],":",["T_WHITESPACE"," ",720],["T_LNUMBER","0",720],";",["T_WHITESPACE","\n\t",720],["T_VARIABLE","$target",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],"!",["T_EMPTY","empty",721],"(",["T_VARIABLE","$_REQUEST",721],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",721],"]",")",["T_WHITESPACE"," ",721],"?",["T_WHITESPACE"," ",721],["T_STRING","preg_replace",721],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^a-z0-9_-]+\/i'",721],",",["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","''",721],",",["T_WHITESPACE"," ",721],["T_VARIABLE","$_REQUEST",721],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",721],"]",")",["T_WHITESPACE"," ",721],":",["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","''",721],";",["T_WHITESPACE","\n\t",721],["T_VARIABLE","$scale",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],"!",["T_EMPTY","empty",722],"(",["T_VARIABLE","$_REQUEST",722],"[",["T_CONSTANT_ENCAPSED_STRING","'do'",722],"]",")",["T_WHITESPACE"," ",722],["T_BOOLEAN_AND","&&",722],["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'scale'",722],["T_WHITESPACE"," ",722],["T_IS_EQUAL","==",722],["T_WHITESPACE"," ",722],["T_VARIABLE","$_REQUEST",722],"[",["T_CONSTANT_ENCAPSED_STRING","'do'",722],"]",";",["T_WHITESPACE","\n\n\t",722],["T_IF","if",724],["T_WHITESPACE"," ",724],"(",["T_WHITESPACE"," ",724],["T_VARIABLE","$scale",724],["T_WHITESPACE"," ",724],["T_BOOLEAN_AND","&&",724],["T_WHITESPACE"," ",724],["T_VARIABLE","$fwidth",724],["T_WHITESPACE"," ",724],">",["T_WHITESPACE"," ",724],["T_LNUMBER","0",724],["T_WHITESPACE"," ",724],["T_BOOLEAN_AND","&&",724],["T_WHITESPACE"," ",724],["T_VARIABLE","$fheight",724],["T_WHITESPACE"," ",724],">",["T_WHITESPACE"," ",724],["T_LNUMBER","0",724],["T_WHITESPACE"," ",724],")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n\t\t",724],["T_VARIABLE","$size",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$img",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","get_size",725],"(",")",";",["T_WHITESPACE","\n\t\t",725],["T_VARIABLE","$sX",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$size",726],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",726],"]",";",["T_WHITESPACE","\n\t\t",726],["T_VARIABLE","$sY",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$size",727],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",727],"]",";",["T_WHITESPACE","\n\n\t\t",727],["T_COMMENT","\/\/ Check if it has roughly the same w \/ h ratio.\n",729],["T_WHITESPACE","\t\t",730],["T_VARIABLE","$diff",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_STRING","round",730],"(",["T_VARIABLE","$sX",730],["T_WHITESPACE"," ",730],"\/",["T_WHITESPACE"," ",730],["T_VARIABLE","$sY",730],",",["T_WHITESPACE"," ",730],["T_LNUMBER","2",730],")",["T_WHITESPACE"," ",730],"-",["T_WHITESPACE"," ",730],["T_STRING","round",730],"(",["T_VARIABLE","$fwidth",730],["T_WHITESPACE"," ",730],"\/",["T_WHITESPACE"," ",730],["T_VARIABLE","$fheight",730],",",["T_WHITESPACE"," ",730],["T_LNUMBER","2",730],")",";",["T_WHITESPACE","\n\t\t",730],["T_IF","if",731],["T_WHITESPACE"," ",731],"(",["T_WHITESPACE"," ",731],"-",["T_DNUMBER","0.1",731],["T_WHITESPACE"," ",731],"<",["T_WHITESPACE"," ",731],["T_VARIABLE","$diff",731],["T_WHITESPACE"," ",731],["T_BOOLEAN_AND","&&",731],["T_WHITESPACE"," ",731],["T_VARIABLE","$diff",731],["T_WHITESPACE"," ",731],"<",["T_WHITESPACE"," ",731],["T_DNUMBER","0.1",731],["T_WHITESPACE"," ",731],")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n\t\t\t",731],["T_COMMENT","\/\/ Scale the full size image.\n",732],["T_WHITESPACE","\t\t\t",733],["T_IF","if",733],["T_WHITESPACE"," ",733],"(",["T_WHITESPACE"," ",733],["T_VARIABLE","$img",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","resize",733],"(",["T_WHITESPACE"," ",733],["T_VARIABLE","$fwidth",733],",",["T_WHITESPACE"," ",733],["T_VARIABLE","$fheight",733],["T_WHITESPACE"," ",733],")",["T_WHITESPACE"," ",733],")",["T_WHITESPACE","\n\t\t\t\t",733],["T_VARIABLE","$scaled",734],["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],["T_STRING","true",734],";",["T_WHITESPACE","\n\t\t",734],"}",["T_WHITESPACE","\n\n\t\t",735],["T_IF","if",737],["T_WHITESPACE"," ",737],"(",["T_WHITESPACE"," ",737],"!",["T_VARIABLE","$scaled",737],["T_WHITESPACE"," ",737],")",["T_WHITESPACE"," ",737],"{",["T_WHITESPACE","\n\t\t\t",737],["T_VARIABLE","$return",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","error",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","esc_js",738],"(",["T_WHITESPACE"," ",738],["T_STRING","__",738],"(",["T_CONSTANT_ENCAPSED_STRING","'Error while saving the scaled image. Please reload the page and try again.'",738],")",["T_WHITESPACE"," ",738],")",";",["T_WHITESPACE","\n\t\t\t",738],["T_RETURN","return",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$return",739],";",["T_WHITESPACE","\n\t\t",739],"}",["T_WHITESPACE","\n\t",740],"}",["T_WHITESPACE"," ",741],["T_ELSEIF","elseif",741],["T_WHITESPACE"," ",741],"(",["T_WHITESPACE"," ",741],"!",["T_EMPTY","empty",741],"(",["T_VARIABLE","$_REQUEST",741],"[",["T_CONSTANT_ENCAPSED_STRING","'history'",741],"]",")",["T_WHITESPACE"," ",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n\t\t",741],["T_VARIABLE","$changes",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_STRING","json_decode",742],"(",["T_WHITESPACE"," ",742],["T_STRING","wp_unslash",742],"(",["T_VARIABLE","$_REQUEST",742],"[",["T_CONSTANT_ENCAPSED_STRING","'history'",742],"]",")",["T_WHITESPACE"," ",742],")",";",["T_WHITESPACE","\n\t\t",742],["T_IF","if",743],["T_WHITESPACE"," ",743],"(",["T_WHITESPACE"," ",743],["T_VARIABLE","$changes",743],["T_WHITESPACE"," ",743],")",["T_WHITESPACE","\n\t\t\t",743],["T_VARIABLE","$img",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_STRING","image_edit_apply_changes",744],"(",["T_VARIABLE","$img",744],",",["T_WHITESPACE"," ",744],["T_VARIABLE","$changes",744],")",";",["T_WHITESPACE","\n\t",744],"}",["T_WHITESPACE"," ",745],["T_ELSE","else",745],["T_WHITESPACE"," ",745],"{",["T_WHITESPACE","\n\t\t",745],["T_VARIABLE","$return",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","error",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_STRING","esc_js",746],"(",["T_WHITESPACE"," ",746],["T_STRING","__",746],"(",["T_CONSTANT_ENCAPSED_STRING","'Nothing to save, the image has not changed.'",746],")",["T_WHITESPACE"," ",746],")",";",["T_WHITESPACE","\n\t\t",746],["T_RETURN","return",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$return",747],";",["T_WHITESPACE","\n\t",747],"}",["T_WHITESPACE","\n\n\t",748],["T_VARIABLE","$meta",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_STRING","wp_get_attachment_metadata",750],"(",["T_VARIABLE","$post_id",750],")",";",["T_WHITESPACE","\n\t",750],["T_VARIABLE","$backup_sizes",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_STRING","get_post_meta",751],"(",["T_WHITESPACE"," ",751],["T_VARIABLE","$post",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","ID",751],",",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_backup_sizes'",751],",",["T_WHITESPACE"," ",751],["T_STRING","true",751],["T_WHITESPACE"," ",751],")",";",["T_WHITESPACE","\n\n\t",751],["T_IF","if",753],["T_WHITESPACE"," ",753],"(",["T_WHITESPACE"," ",753],"!",["T_STRING","is_array",753],"(",["T_VARIABLE","$meta",753],")",["T_WHITESPACE"," ",753],")",["T_WHITESPACE"," ",753],"{",["T_WHITESPACE","\n\t\t",753],["T_VARIABLE","$return",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","error",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_STRING","esc_js",754],"(",["T_WHITESPACE"," ",754],["T_STRING","__",754],"(",["T_CONSTANT_ENCAPSED_STRING","'Image data does not exist. Please re-upload the image.'",754],")",["T_WHITESPACE"," ",754],")",";",["T_WHITESPACE","\n\t\t",754],["T_RETURN","return",755],["T_WHITESPACE"," ",755],["T_VARIABLE","$return",755],";",["T_WHITESPACE","\n\t",755],"}",["T_WHITESPACE","\n\n\t",756],["T_IF","if",758],["T_WHITESPACE"," ",758],"(",["T_WHITESPACE"," ",758],"!",["T_STRING","is_array",758],"(",["T_VARIABLE","$backup_sizes",758],")",["T_WHITESPACE"," ",758],")",["T_WHITESPACE","\n\t\t",758],["T_VARIABLE","$backup_sizes",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",")",";",["T_WHITESPACE","\n\n\t",759],["T_COMMENT","\/\/ Generate new filename.\n",761],["T_WHITESPACE","\t",762],["T_VARIABLE","$path",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_STRING","get_attached_file",762],"(",["T_WHITESPACE"," ",762],["T_VARIABLE","$post_id",762],["T_WHITESPACE"," ",762],")",";",["T_WHITESPACE","\n\n\t",762],["T_VARIABLE","$basename",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_STRING","pathinfo",764],"(",["T_WHITESPACE"," ",764],["T_VARIABLE","$path",764],",",["T_WHITESPACE"," ",764],["T_STRING","PATHINFO_BASENAME",764],["T_WHITESPACE"," ",764],")",";",["T_WHITESPACE","\n\t",764],["T_VARIABLE","$dirname",765],["T_WHITESPACE"," ",765],"=",["T_WHITESPACE"," ",765],["T_STRING","pathinfo",765],"(",["T_WHITESPACE"," ",765],["T_VARIABLE","$path",765],",",["T_WHITESPACE"," ",765],["T_STRING","PATHINFO_DIRNAME",765],["T_WHITESPACE"," ",765],")",";",["T_WHITESPACE","\n\t",765],["T_VARIABLE","$ext",766],["T_WHITESPACE"," ",766],"=",["T_WHITESPACE"," ",766],["T_STRING","pathinfo",766],"(",["T_WHITESPACE"," ",766],["T_VARIABLE","$path",766],",",["T_WHITESPACE"," ",766],["T_STRING","PATHINFO_EXTENSION",766],["T_WHITESPACE"," ",766],")",";",["T_WHITESPACE","\n\t",766],["T_VARIABLE","$filename",767],["T_WHITESPACE"," ",767],"=",["T_WHITESPACE"," ",767],["T_STRING","pathinfo",767],"(",["T_WHITESPACE"," ",767],["T_VARIABLE","$path",767],",",["T_WHITESPACE"," ",767],["T_STRING","PATHINFO_FILENAME",767],["T_WHITESPACE"," ",767],")",";",["T_WHITESPACE","\n\t",767],["T_VARIABLE","$suffix",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_STRING","time",768],"(",")",["T_WHITESPACE"," ",768],".",["T_WHITESPACE"," ",768],["T_STRING","rand",768],"(",["T_LNUMBER","100",768],",",["T_WHITESPACE"," ",768],["T_LNUMBER","999",768],")",";",["T_WHITESPACE","\n\n\t",768],["T_IF","if",770],["T_WHITESPACE"," ",770],"(",["T_WHITESPACE"," ",770],["T_STRING","defined",770],"(",["T_CONSTANT_ENCAPSED_STRING","'IMAGE_EDIT_OVERWRITE'",770],")",["T_WHITESPACE"," ",770],["T_BOOLEAN_AND","&&",770],["T_WHITESPACE"," ",770],["T_STRING","IMAGE_EDIT_OVERWRITE",770],["T_WHITESPACE"," ",770],["T_BOOLEAN_AND","&&",770],["T_WHITESPACE","\n\t\t",770],["T_ISSET","isset",771],"(",["T_VARIABLE","$backup_sizes",771],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",771],"]",")",["T_WHITESPACE"," ",771],["T_BOOLEAN_AND","&&",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$backup_sizes",771],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",771],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",771],"]",["T_WHITESPACE"," ",771],["T_IS_NOT_EQUAL","!=",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$basename",771],["T_WHITESPACE"," ",771],")",["T_WHITESPACE"," ",771],"{",["T_WHITESPACE","\n\n\t\t",771],["T_IF","if",773],["T_WHITESPACE"," ",773],"(",["T_WHITESPACE"," ",773],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",773],["T_WHITESPACE"," ",773],["T_IS_EQUAL","==",773],["T_WHITESPACE"," ",773],["T_VARIABLE","$target",773],["T_WHITESPACE"," ",773],")",["T_WHITESPACE"," ",773],"{",["T_WHITESPACE","\n\t\t\t",773],["T_VARIABLE","$new_path",774],["T_WHITESPACE"," ",774],"=",["T_WHITESPACE"," ",774],"\"",["T_CURLY_OPEN","{",774],["T_VARIABLE","$dirname",774],"}",["T_ENCAPSED_AND_WHITESPACE","\/",774],["T_CURLY_OPEN","{",774],["T_VARIABLE","$filename",774],"}",["T_ENCAPSED_AND_WHITESPACE","-temp.",774],["T_CURLY_OPEN","{",774],["T_VARIABLE","$ext",774],"}","\"",";",["T_WHITESPACE","\n\t\t",774],"}",["T_WHITESPACE"," ",775],["T_ELSE","else",775],["T_WHITESPACE"," ",775],"{",["T_WHITESPACE","\n\t\t\t",775],["T_VARIABLE","$new_path",776],["T_WHITESPACE"," ",776],"=",["T_WHITESPACE"," ",776],["T_VARIABLE","$path",776],";",["T_WHITESPACE","\n\t\t",776],"}",["T_WHITESPACE","\n\t",777],"}",["T_WHITESPACE"," ",778],["T_ELSE","else",778],["T_WHITESPACE"," ",778],"{",["T_WHITESPACE","\n\t\t",778],["T_WHILE","while",779],["T_WHITESPACE"," ",779],"(",["T_WHITESPACE"," ",779],["T_STRING","true",779],["T_WHITESPACE"," ",779],")",["T_WHITESPACE"," ",779],"{",["T_WHITESPACE","\n\t\t\t",779],["T_VARIABLE","$filename",780],["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_STRING","preg_replace",780],"(",["T_WHITESPACE"," ",780],["T_CONSTANT_ENCAPSED_STRING","'\/-e([0-9]+)$\/'",780],",",["T_WHITESPACE"," ",780],["T_CONSTANT_ENCAPSED_STRING","''",780],",",["T_WHITESPACE"," ",780],["T_VARIABLE","$filename",780],["T_WHITESPACE"," ",780],")",";",["T_WHITESPACE","\n\t\t\t",780],["T_VARIABLE","$filename",781],["T_WHITESPACE"," ",781],["T_CONCAT_EQUAL",".=",781],["T_WHITESPACE"," ",781],"\"",["T_ENCAPSED_AND_WHITESPACE","-e",781],["T_CURLY_OPEN","{",781],["T_VARIABLE","$suffix",781],"}","\"",";",["T_WHITESPACE","\n\t\t\t",781],["T_VARIABLE","$new_filename",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],"\"",["T_CURLY_OPEN","{",782],["T_VARIABLE","$filename",782],"}",["T_ENCAPSED_AND_WHITESPACE",".",782],["T_CURLY_OPEN","{",782],["T_VARIABLE","$ext",782],"}","\"",";",["T_WHITESPACE","\n\t\t\t",782],["T_VARIABLE","$new_path",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],"\"",["T_CURLY_OPEN","{",783],["T_VARIABLE","$dirname",783],"}",["T_ENCAPSED_AND_WHITESPACE","\/",783],["T_VARIABLE","$new_filename",783],"\"",";",["T_WHITESPACE","\n\t\t\t",783],["T_IF","if",784],["T_WHITESPACE"," ",784],"(",["T_WHITESPACE"," ",784],["T_STRING","file_exists",784],"(",["T_VARIABLE","$new_path",784],")",["T_WHITESPACE"," ",784],")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n\t\t\t\t",784],["T_VARIABLE","$suffix",785],["T_INC","++",785],";",["T_WHITESPACE","\n\t\t\t",785],"}",["T_WHITESPACE"," ",786],["T_ELSE","else",786],["T_WHITESPACE"," ",786],"{",["T_WHITESPACE","\n\t\t\t\t",786],["T_BREAK","break",787],";",["T_WHITESPACE","\n\t\t\t",787],"}",["T_WHITESPACE","\n\t\t",788],"}",["T_WHITESPACE","\n\t",789],"}",["T_WHITESPACE","\n\n\t",790],["T_COMMENT","\/\/ Save the full-size file, also needed to create sub-sizes.\n",792],["T_WHITESPACE","\t",793],["T_IF","if",793],["T_WHITESPACE"," ",793],"(",["T_WHITESPACE"," ",793],"!",["T_STRING","wp_save_image_file",793],"(",["T_VARIABLE","$new_path",793],",",["T_WHITESPACE"," ",793],["T_VARIABLE","$img",793],",",["T_WHITESPACE"," ",793],["T_VARIABLE","$post",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","post_mime_type",793],",",["T_WHITESPACE"," ",793],["T_VARIABLE","$post_id",793],")",["T_WHITESPACE"," ",793],")",["T_WHITESPACE"," ",793],"{",["T_WHITESPACE","\n\t\t",793],["T_VARIABLE","$return",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","error",794],["T_WHITESPACE"," ",794],"=",["T_WHITESPACE"," ",794],["T_STRING","esc_js",794],"(",["T_WHITESPACE"," ",794],["T_STRING","__",794],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to save the image.'",794],")",["T_WHITESPACE"," ",794],")",";",["T_WHITESPACE","\n\t\t",794],["T_RETURN","return",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$return",795],";",["T_WHITESPACE","\n\t",795],"}",["T_WHITESPACE","\n\n\t",796],["T_IF","if",798],["T_WHITESPACE"," ",798],"(",["T_WHITESPACE"," ",798],["T_CONSTANT_ENCAPSED_STRING","'nothumb'",798],["T_WHITESPACE"," ",798],["T_IS_IDENTICAL","===",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$target",798],["T_WHITESPACE"," ",798],["T_BOOLEAN_OR","||",798],["T_WHITESPACE"," ",798],["T_CONSTANT_ENCAPSED_STRING","'all'",798],["T_WHITESPACE"," ",798],["T_IS_IDENTICAL","===",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$target",798],["T_WHITESPACE"," ",798],["T_BOOLEAN_OR","||",798],["T_WHITESPACE"," ",798],["T_CONSTANT_ENCAPSED_STRING","'full'",798],["T_WHITESPACE"," ",798],["T_IS_IDENTICAL","===",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$target",798],["T_WHITESPACE"," ",798],["T_BOOLEAN_OR","||",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$scaled",798],["T_WHITESPACE"," ",798],")",["T_WHITESPACE"," ",798],"{",["T_WHITESPACE","\n\t\t",798],["T_VARIABLE","$tag",799],["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],["T_STRING","false",799],";",["T_WHITESPACE","\n\t\t",799],["T_IF","if",800],["T_WHITESPACE"," ",800],"(",["T_WHITESPACE"," ",800],["T_ISSET","isset",800],"(",["T_WHITESPACE"," ",800],["T_VARIABLE","$backup_sizes",800],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",800],"]",["T_WHITESPACE"," ",800],")",["T_WHITESPACE"," ",800],")",["T_WHITESPACE"," ",800],"{",["T_WHITESPACE","\n\t\t\t",800],["T_IF","if",801],["T_WHITESPACE"," ",801],"(",["T_WHITESPACE"," ",801],"(",["T_WHITESPACE"," ",801],"!",["T_WHITESPACE"," ",801],["T_STRING","defined",801],"(",["T_WHITESPACE"," ",801],["T_CONSTANT_ENCAPSED_STRING","'IMAGE_EDIT_OVERWRITE'",801],["T_WHITESPACE"," ",801],")",["T_WHITESPACE"," ",801],["T_BOOLEAN_OR","||",801],["T_WHITESPACE"," ",801],"!",["T_WHITESPACE"," ",801],["T_STRING","IMAGE_EDIT_OVERWRITE",801],["T_WHITESPACE"," ",801],")",["T_WHITESPACE"," ",801],["T_BOOLEAN_AND","&&",801],["T_WHITESPACE"," ",801],["T_VARIABLE","$backup_sizes",801],"[",["T_CONSTANT_ENCAPSED_STRING","'full-orig'",801],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",801],"]",["T_WHITESPACE"," ",801],["T_IS_NOT_IDENTICAL","!==",801],["T_WHITESPACE"," ",801],["T_VARIABLE","$basename",801],["T_WHITESPACE"," ",801],")",["T_WHITESPACE"," ",801],"{",["T_WHITESPACE","\n\t\t\t\t",801],["T_VARIABLE","$tag",802],["T_WHITESPACE"," ",802],"=",["T_WHITESPACE"," ",802],"\"",["T_ENCAPSED_AND_WHITESPACE","full-",802],["T_VARIABLE","$suffix",802],"\"",";",["T_WHITESPACE","\n\t\t\t",802],"}",["T_WHITESPACE","\n\t\t",803],"}",["T_WHITESPACE"," ",804],["T_ELSE","else",804],["T_WHITESPACE"," ",804],"{",["T_WHITESPACE","\n\t\t\t",804],["T_VARIABLE","$tag",805],["T_WHITESPACE"," ",805],"=",["T_WHITESPACE"," ",805],["T_CONSTANT_ENCAPSED_STRING","'full-orig'",805],";",["T_WHITESPACE","\n\t\t",805],"}",["T_WHITESPACE","\n\n\t\t",806],["T_IF","if",808],["T_WHITESPACE"," ",808],"(",["T_WHITESPACE"," ",808],["T_VARIABLE","$tag",808],["T_WHITESPACE"," ",808],")",["T_WHITESPACE"," ",808],"{",["T_WHITESPACE","\n\t\t\t",808],["T_VARIABLE","$backup_sizes",809],"[",["T_VARIABLE","$tag",809],"]",["T_WHITESPACE"," ",809],"=",["T_WHITESPACE"," ",809],["T_ARRAY","array",809],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",809],["T_WHITESPACE"," ",809],["T_DOUBLE_ARROW","=>",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$meta",809],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",809],"]",",",["T_WHITESPACE"," ",809],["T_CONSTANT_ENCAPSED_STRING","'height'",809],["T_WHITESPACE"," ",809],["T_DOUBLE_ARROW","=>",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$meta",809],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",809],"]",",",["T_WHITESPACE"," ",809],["T_CONSTANT_ENCAPSED_STRING","'file'",809],["T_WHITESPACE"," ",809],["T_DOUBLE_ARROW","=>",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$basename",809],["T_WHITESPACE"," ",809],")",";",["T_WHITESPACE","\n\t\t",809],"}",["T_WHITESPACE","\n\t\t",810],["T_VARIABLE","$success",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],"(",["T_WHITESPACE"," ",811],["T_VARIABLE","$path",811],["T_WHITESPACE"," ",811],["T_IS_IDENTICAL","===",811],["T_WHITESPACE"," ",811],["T_VARIABLE","$new_path",811],["T_WHITESPACE"," ",811],")",["T_WHITESPACE"," ",811],["T_BOOLEAN_OR","||",811],["T_WHITESPACE"," ",811],["T_STRING","update_attached_file",811],"(",["T_WHITESPACE"," ",811],["T_VARIABLE","$post_id",811],",",["T_WHITESPACE"," ",811],["T_VARIABLE","$new_path",811],["T_WHITESPACE"," ",811],")",";",["T_WHITESPACE","\n\n\t\t",811],["T_VARIABLE","$meta",813],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",813],"]",["T_WHITESPACE"," ",813],"=",["T_WHITESPACE"," ",813],["T_STRING","_wp_relative_upload_path",813],"(",["T_WHITESPACE"," ",813],["T_VARIABLE","$new_path",813],["T_WHITESPACE"," ",813],")",";",["T_WHITESPACE","\n\n\t\t",813],["T_VARIABLE","$size",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$img",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","get_size",815],"(",")",";",["T_WHITESPACE","\n\t\t",815],["T_VARIABLE","$meta",816],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",816],"]",["T_WHITESPACE"," ",816],"=",["T_WHITESPACE"," ",816],["T_VARIABLE","$size",816],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",816],"]",";",["T_WHITESPACE","\n\t\t",816],["T_VARIABLE","$meta",817],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",817],"]",["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$size",817],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",817],"]",";",["T_WHITESPACE","\n\n\t\t",817],["T_IF","if",819],["T_WHITESPACE"," ",819],"(",["T_WHITESPACE"," ",819],["T_VARIABLE","$success",819],["T_WHITESPACE"," ",819],["T_BOOLEAN_AND","&&",819],["T_WHITESPACE"," ",819],"(",["T_CONSTANT_ENCAPSED_STRING","'nothumb'",819],["T_WHITESPACE"," ",819],["T_IS_EQUAL","==",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$target",819],["T_WHITESPACE"," ",819],["T_BOOLEAN_OR","||",819],["T_WHITESPACE"," ",819],["T_CONSTANT_ENCAPSED_STRING","'all'",819],["T_WHITESPACE"," ",819],["T_IS_EQUAL","==",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$target",819],")",["T_WHITESPACE"," ",819],")",["T_WHITESPACE"," ",819],"{",["T_WHITESPACE","\n\t\t\t",819],["T_VARIABLE","$sizes",820],["T_WHITESPACE"," ",820],"=",["T_WHITESPACE"," ",820],["T_STRING","get_intermediate_image_sizes",820],"(",")",";",["T_WHITESPACE","\n\t\t\t",820],["T_IF","if",821],["T_WHITESPACE"," ",821],"(",["T_WHITESPACE"," ",821],["T_CONSTANT_ENCAPSED_STRING","'nothumb'",821],["T_WHITESPACE"," ",821],["T_IS_EQUAL","==",821],["T_WHITESPACE"," ",821],["T_VARIABLE","$target",821],["T_WHITESPACE"," ",821],")",["T_WHITESPACE","\n\t\t\t\t",821],["T_VARIABLE","$sizes",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_STRING","array_diff",822],"(",["T_WHITESPACE"," ",822],["T_VARIABLE","$sizes",822],",",["T_WHITESPACE"," ",822],["T_ARRAY","array",822],"(",["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",822],")",["T_WHITESPACE"," ",822],")",";",["T_WHITESPACE","\n\t\t",822],"}",["T_WHITESPACE","\n\n\t\t",823],["T_VARIABLE","$return",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","fw",825],["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_VARIABLE","$meta",825],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",825],"]",";",["T_WHITESPACE","\n\t\t",825],["T_VARIABLE","$return",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","fh",826],["T_WHITESPACE"," ",826],"=",["T_WHITESPACE"," ",826],["T_VARIABLE","$meta",826],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",826],"]",";",["T_WHITESPACE","\n\t",826],"}",["T_WHITESPACE"," ",827],["T_ELSEIF","elseif",827],["T_WHITESPACE"," ",827],"(",["T_WHITESPACE"," ",827],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",827],["T_WHITESPACE"," ",827],["T_IS_EQUAL","==",827],["T_WHITESPACE"," ",827],["T_VARIABLE","$target",827],["T_WHITESPACE"," ",827],")",["T_WHITESPACE"," ",827],"{",["T_WHITESPACE","\n\t\t",827],["T_VARIABLE","$sizes",828],["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_ARRAY","array",828],"(",["T_WHITESPACE"," ",828],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",828],["T_WHITESPACE"," ",828],")",";",["T_WHITESPACE","\n\t\t",828],["T_VARIABLE","$success",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_VARIABLE","$delete",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_VARIABLE","$nocrop",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_STRING","true",829],";",["T_WHITESPACE","\n\t",829],"}",["T_WHITESPACE","\n\n\t",830],["T_COMMENT","\/*\n\t * We need to remove any existing resized image files because\n\t * a new crop or rotate could generate different sizes (and hence, filenames),\n\t * keeping the new resized images from overwriting the existing image files.\n\t * https:\/\/core.trac.wordpress.org\/ticket\/32171\n\t *\/",832],["T_WHITESPACE","\n\t",837],["T_IF","if",838],["T_WHITESPACE"," ",838],"(",["T_WHITESPACE"," ",838],["T_STRING","defined",838],"(",["T_WHITESPACE"," ",838],["T_CONSTANT_ENCAPSED_STRING","'IMAGE_EDIT_OVERWRITE'",838],["T_WHITESPACE"," ",838],")",["T_WHITESPACE"," ",838],["T_BOOLEAN_AND","&&",838],["T_WHITESPACE"," ",838],["T_STRING","IMAGE_EDIT_OVERWRITE",838],["T_WHITESPACE"," ",838],["T_BOOLEAN_AND","&&",838],["T_WHITESPACE"," ",838],"!",["T_WHITESPACE"," ",838],["T_EMPTY","empty",838],"(",["T_WHITESPACE"," ",838],["T_VARIABLE","$meta",838],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",838],"]",["T_WHITESPACE"," ",838],")",["T_WHITESPACE"," ",838],")",["T_WHITESPACE"," ",838],"{",["T_WHITESPACE","\n\t\t",838],["T_FOREACH","foreach",839],["T_WHITESPACE"," ",839],"(",["T_WHITESPACE"," ",839],["T_VARIABLE","$meta",839],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",839],"]",["T_WHITESPACE"," ",839],["T_AS","as",839],["T_WHITESPACE"," ",839],["T_VARIABLE","$size",839],["T_WHITESPACE"," ",839],")",["T_WHITESPACE"," ",839],"{",["T_WHITESPACE","\n\t\t\t",839],["T_IF","if",840],["T_WHITESPACE"," ",840],"(",["T_WHITESPACE"," ",840],"!",["T_WHITESPACE"," ",840],["T_EMPTY","empty",840],"(",["T_WHITESPACE"," ",840],["T_VARIABLE","$size",840],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",840],"]",["T_WHITESPACE"," ",840],")",["T_WHITESPACE"," ",840],["T_BOOLEAN_AND","&&",840],["T_WHITESPACE"," ",840],["T_STRING","preg_match",840],"(",["T_WHITESPACE"," ",840],["T_CONSTANT_ENCAPSED_STRING","'\/-e[0-9]{13}-\/'",840],",",["T_WHITESPACE"," ",840],["T_VARIABLE","$size",840],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",840],"]",["T_WHITESPACE"," ",840],")",["T_WHITESPACE"," ",840],")",["T_WHITESPACE"," ",840],"{",["T_WHITESPACE","\n\t\t\t\t",840],["T_VARIABLE","$delete_file",841],["T_WHITESPACE"," ",841],"=",["T_WHITESPACE"," ",841],["T_STRING","path_join",841],"(",["T_WHITESPACE"," ",841],["T_VARIABLE","$dirname",841],",",["T_WHITESPACE"," ",841],["T_VARIABLE","$size",841],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",841],"]",["T_WHITESPACE"," ",841],")",";",["T_WHITESPACE","\n\t\t\t\t",841],["T_STRING","wp_delete_file",842],"(",["T_WHITESPACE"," ",842],["T_VARIABLE","$delete_file",842],["T_WHITESPACE"," ",842],")",";",["T_WHITESPACE","\n\t\t\t",842],"}",["T_WHITESPACE","\n\t\t",843],"}",["T_WHITESPACE","\n\t",844],"}",["T_WHITESPACE","\n\n\t",845],["T_IF","if",847],["T_WHITESPACE"," ",847],"(",["T_WHITESPACE"," ",847],["T_ISSET","isset",847],"(",["T_WHITESPACE"," ",847],["T_VARIABLE","$sizes",847],["T_WHITESPACE"," ",847],")",["T_WHITESPACE"," ",847],")",["T_WHITESPACE"," ",847],"{",["T_WHITESPACE","\n\t\t",847],["T_VARIABLE","$_sizes",848],["T_WHITESPACE"," ",848],"=",["T_WHITESPACE"," ",848],["T_ARRAY","array",848],"(",")",";",["T_WHITESPACE","\n\n\t\t",848],["T_FOREACH","foreach",850],["T_WHITESPACE"," ",850],"(",["T_WHITESPACE"," ",850],["T_VARIABLE","$sizes",850],["T_WHITESPACE"," ",850],["T_AS","as",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$size",850],["T_WHITESPACE"," ",850],")",["T_WHITESPACE"," ",850],"{",["T_WHITESPACE","\n\t\t\t",850],["T_VARIABLE","$tag",851],["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],["T_STRING","false",851],";",["T_WHITESPACE","\n\t\t\t",851],["T_IF","if",852],["T_WHITESPACE"," ",852],"(",["T_WHITESPACE"," ",852],["T_ISSET","isset",852],"(",["T_WHITESPACE"," ",852],["T_VARIABLE","$meta",852],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",852],"]","[",["T_VARIABLE","$size",852],"]",["T_WHITESPACE"," ",852],")",["T_WHITESPACE"," ",852],")",["T_WHITESPACE"," ",852],"{",["T_WHITESPACE","\n\t\t\t\t",852],["T_IF","if",853],["T_WHITESPACE"," ",853],"(",["T_WHITESPACE"," ",853],["T_ISSET","isset",853],"(",["T_VARIABLE","$backup_sizes",853],"[","\"",["T_VARIABLE","$size",853],["T_ENCAPSED_AND_WHITESPACE","-orig",853],"\"","]",")",["T_WHITESPACE"," ",853],")",["T_WHITESPACE"," ",853],"{",["T_WHITESPACE","\n\t\t\t\t\t",853],["T_IF","if",854],["T_WHITESPACE"," ",854],"(",["T_WHITESPACE"," ",854],"(",["T_WHITESPACE"," ",854],"!",["T_STRING","defined",854],"(",["T_CONSTANT_ENCAPSED_STRING","'IMAGE_EDIT_OVERWRITE'",854],")",["T_WHITESPACE"," ",854],["T_BOOLEAN_OR","||",854],["T_WHITESPACE"," ",854],"!",["T_STRING","IMAGE_EDIT_OVERWRITE",854],["T_WHITESPACE"," ",854],")",["T_WHITESPACE"," ",854],["T_BOOLEAN_AND","&&",854],["T_WHITESPACE"," ",854],["T_VARIABLE","$backup_sizes",854],"[","\"",["T_VARIABLE","$size",854],["T_ENCAPSED_AND_WHITESPACE","-orig",854],"\"","]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",854],"]",["T_WHITESPACE"," ",854],["T_IS_NOT_EQUAL","!=",854],["T_WHITESPACE"," ",854],["T_VARIABLE","$meta",854],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",854],"]","[",["T_VARIABLE","$size",854],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",854],"]",["T_WHITESPACE"," ",854],")",["T_WHITESPACE","\n\t\t\t\t\t\t",854],["T_VARIABLE","$tag",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],"\"",["T_VARIABLE","$size",855],["T_ENCAPSED_AND_WHITESPACE","-",855],["T_VARIABLE","$suffix",855],"\"",";",["T_WHITESPACE","\n\t\t\t\t",855],"}",["T_WHITESPACE"," ",856],["T_ELSE","else",856],["T_WHITESPACE"," ",856],"{",["T_WHITESPACE","\n\t\t\t\t\t",856],["T_VARIABLE","$tag",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],"\"",["T_VARIABLE","$size",857],["T_ENCAPSED_AND_WHITESPACE","-orig",857],"\"",";",["T_WHITESPACE","\n\t\t\t\t",857],"}",["T_WHITESPACE","\n\n\t\t\t\t",858],["T_IF","if",860],["T_WHITESPACE"," ",860],"(",["T_WHITESPACE"," ",860],["T_VARIABLE","$tag",860],["T_WHITESPACE"," ",860],")",["T_WHITESPACE","\n\t\t\t\t\t",860],["T_VARIABLE","$backup_sizes",861],"[",["T_VARIABLE","$tag",861],"]",["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$meta",861],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",861],"]","[",["T_VARIABLE","$size",861],"]",";",["T_WHITESPACE","\n\t\t\t",861],"}",["T_WHITESPACE","\n\n\t\t\t",862],["T_IF","if",864],["T_WHITESPACE"," ",864],"(",["T_WHITESPACE"," ",864],["T_ISSET","isset",864],"(",["T_WHITESPACE"," ",864],["T_VARIABLE","$_wp_additional_image_sizes",864],"[",["T_WHITESPACE"," ",864],["T_VARIABLE","$size",864],["T_WHITESPACE"," ",864],"]",["T_WHITESPACE"," ",864],")",["T_WHITESPACE"," ",864],")",["T_WHITESPACE"," ",864],"{",["T_WHITESPACE","\n\t\t\t\t",864],["T_VARIABLE","$width",865],["T_WHITESPACE","  ",865],"=",["T_WHITESPACE"," ",865],["T_STRING","intval",865],"(",["T_WHITESPACE"," ",865],["T_VARIABLE","$_wp_additional_image_sizes",865],"[",["T_WHITESPACE"," ",865],["T_VARIABLE","$size",865],["T_WHITESPACE"," ",865],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",865],"]",["T_WHITESPACE"," ",865],")",";",["T_WHITESPACE","\n\t\t\t\t",865],["T_VARIABLE","$height",866],["T_WHITESPACE"," ",866],"=",["T_WHITESPACE"," ",866],["T_STRING","intval",866],"(",["T_WHITESPACE"," ",866],["T_VARIABLE","$_wp_additional_image_sizes",866],"[",["T_WHITESPACE"," ",866],["T_VARIABLE","$size",866],["T_WHITESPACE"," ",866],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",866],"]",["T_WHITESPACE"," ",866],")",";",["T_WHITESPACE","\n\t\t\t\t",866],["T_VARIABLE","$crop",867],["T_WHITESPACE","   ",867],"=",["T_WHITESPACE"," ",867],"(",["T_WHITESPACE"," ",867],["T_VARIABLE","$nocrop",867],["T_WHITESPACE"," ",867],")",["T_WHITESPACE"," ",867],"?",["T_WHITESPACE"," ",867],["T_STRING","false",867],["T_WHITESPACE"," ",867],":",["T_WHITESPACE"," ",867],["T_VARIABLE","$_wp_additional_image_sizes",867],"[",["T_WHITESPACE"," ",867],["T_VARIABLE","$size",867],["T_WHITESPACE"," ",867],"]","[",["T_CONSTANT_ENCAPSED_STRING","'crop'",867],"]",";",["T_WHITESPACE","\n\t\t\t",867],"}",["T_WHITESPACE"," ",868],["T_ELSE","else",868],["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n\t\t\t\t",868],["T_VARIABLE","$height",869],["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_STRING","get_option",869],"(",["T_WHITESPACE"," ",869],"\"",["T_CURLY_OPEN","{",869],["T_VARIABLE","$size",869],"}",["T_ENCAPSED_AND_WHITESPACE","_size_h",869],"\"",["T_WHITESPACE"," ",869],")",";",["T_WHITESPACE","\n\t\t\t\t",869],["T_VARIABLE","$width",870],["T_WHITESPACE","  ",870],"=",["T_WHITESPACE"," ",870],["T_STRING","get_option",870],"(",["T_WHITESPACE"," ",870],"\"",["T_CURLY_OPEN","{",870],["T_VARIABLE","$size",870],"}",["T_ENCAPSED_AND_WHITESPACE","_size_w",870],"\"",["T_WHITESPACE"," ",870],")",";",["T_WHITESPACE","\n\t\t\t\t",870],["T_VARIABLE","$crop",871],["T_WHITESPACE","   ",871],"=",["T_WHITESPACE"," ",871],"(",["T_WHITESPACE"," ",871],["T_VARIABLE","$nocrop",871],["T_WHITESPACE"," ",871],")",["T_WHITESPACE"," ",871],"?",["T_WHITESPACE"," ",871],["T_STRING","false",871],["T_WHITESPACE"," ",871],":",["T_WHITESPACE"," ",871],["T_STRING","get_option",871],"(",["T_WHITESPACE"," ",871],"\"",["T_CURLY_OPEN","{",871],["T_VARIABLE","$size",871],"}",["T_ENCAPSED_AND_WHITESPACE","_crop",871],"\"",["T_WHITESPACE"," ",871],")",";",["T_WHITESPACE","\n\t\t\t",871],"}",["T_WHITESPACE","\n\n\t\t\t",872],["T_VARIABLE","$_sizes",874],"[",["T_WHITESPACE"," ",874],["T_VARIABLE","$size",874],["T_WHITESPACE"," ",874],"]",["T_WHITESPACE"," ",874],"=",["T_WHITESPACE"," ",874],["T_ARRAY","array",874],"(",["T_WHITESPACE"," ",874],["T_CONSTANT_ENCAPSED_STRING","'width'",874],["T_WHITESPACE"," ",874],["T_DOUBLE_ARROW","=>",874],["T_WHITESPACE"," ",874],["T_VARIABLE","$width",874],",",["T_WHITESPACE"," ",874],["T_CONSTANT_ENCAPSED_STRING","'height'",874],["T_WHITESPACE"," ",874],["T_DOUBLE_ARROW","=>",874],["T_WHITESPACE"," ",874],["T_VARIABLE","$height",874],",",["T_WHITESPACE"," ",874],["T_CONSTANT_ENCAPSED_STRING","'crop'",874],["T_WHITESPACE"," ",874],["T_DOUBLE_ARROW","=>",874],["T_WHITESPACE"," ",874],["T_VARIABLE","$crop",874],["T_WHITESPACE"," ",874],")",";",["T_WHITESPACE","\n\t\t",874],"}",["T_WHITESPACE","\n\n\t\t",875],["T_VARIABLE","$meta",877],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",877],"]",["T_WHITESPACE"," ",877],"=",["T_WHITESPACE"," ",877],["T_STRING","array_merge",877],"(",["T_WHITESPACE"," ",877],["T_VARIABLE","$meta",877],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",877],"]",",",["T_WHITESPACE"," ",877],["T_VARIABLE","$img",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","multi_resize",877],"(",["T_WHITESPACE"," ",877],["T_VARIABLE","$_sizes",877],["T_WHITESPACE"," ",877],")",["T_WHITESPACE"," ",877],")",";",["T_WHITESPACE","\n\t",877],"}",["T_WHITESPACE","\n\n\t",878],["T_UNSET","unset",880],"(",["T_WHITESPACE"," ",880],["T_VARIABLE","$img",880],["T_WHITESPACE"," ",880],")",";",["T_WHITESPACE","\n\n\t",880],["T_IF","if",882],["T_WHITESPACE"," ",882],"(",["T_WHITESPACE"," ",882],["T_VARIABLE","$success",882],["T_WHITESPACE"," ",882],")",["T_WHITESPACE"," ",882],"{",["T_WHITESPACE","\n\t\t",882],["T_STRING","wp_update_attachment_metadata",883],"(",["T_WHITESPACE"," ",883],["T_VARIABLE","$post_id",883],",",["T_WHITESPACE"," ",883],["T_VARIABLE","$meta",883],["T_WHITESPACE"," ",883],")",";",["T_WHITESPACE","\n\t\t",883],["T_STRING","update_post_meta",884],"(",["T_WHITESPACE"," ",884],["T_VARIABLE","$post_id",884],",",["T_WHITESPACE"," ",884],["T_CONSTANT_ENCAPSED_STRING","'_wp_attachment_backup_sizes'",884],",",["T_WHITESPACE"," ",884],["T_VARIABLE","$backup_sizes",884],")",";",["T_WHITESPACE","\n\n\t\t",884],["T_IF","if",886],["T_WHITESPACE"," ",886],"(",["T_WHITESPACE"," ",886],["T_VARIABLE","$target",886],["T_WHITESPACE"," ",886],["T_IS_EQUAL","==",886],["T_WHITESPACE"," ",886],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",886],["T_WHITESPACE"," ",886],["T_BOOLEAN_OR","||",886],["T_WHITESPACE"," ",886],["T_VARIABLE","$target",886],["T_WHITESPACE"," ",886],["T_IS_EQUAL","==",886],["T_WHITESPACE"," ",886],["T_CONSTANT_ENCAPSED_STRING","'all'",886],["T_WHITESPACE"," ",886],["T_BOOLEAN_OR","||",886],["T_WHITESPACE"," ",886],["T_VARIABLE","$target",886],["T_WHITESPACE"," ",886],["T_IS_EQUAL","==",886],["T_WHITESPACE"," ",886],["T_CONSTANT_ENCAPSED_STRING","'full'",886],["T_WHITESPACE"," ",886],")",["T_WHITESPACE"," ",886],"{",["T_WHITESPACE","\n\t\t\t",886],["T_COMMENT","\/\/ Check if it's an image edit from attachment edit screen\n",887],["T_WHITESPACE","\t\t\t",888],["T_IF","if",888],["T_WHITESPACE"," ",888],"(",["T_WHITESPACE"," ",888],"!",["T_WHITESPACE"," ",888],["T_EMPTY","empty",888],"(",["T_WHITESPACE"," ",888],["T_VARIABLE","$_REQUEST",888],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",888],"]",["T_WHITESPACE"," ",888],")",["T_WHITESPACE"," ",888],["T_BOOLEAN_AND","&&",888],["T_WHITESPACE"," ",888],["T_CONSTANT_ENCAPSED_STRING","'edit-attachment'",888],["T_WHITESPACE"," ",888],["T_IS_EQUAL","==",888],["T_WHITESPACE"," ",888],["T_VARIABLE","$_REQUEST",888],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",888],"]",["T_WHITESPACE"," ",888],")",["T_WHITESPACE"," ",888],"{",["T_WHITESPACE","\n\t\t\t\t",888],["T_VARIABLE","$thumb_url",889],["T_WHITESPACE"," ",889],"=",["T_WHITESPACE"," ",889],["T_STRING","wp_get_attachment_image_src",889],"(",["T_WHITESPACE"," ",889],["T_VARIABLE","$post_id",889],",",["T_WHITESPACE"," ",889],["T_ARRAY","array",889],"(",["T_WHITESPACE"," ",889],["T_LNUMBER","900",889],",",["T_WHITESPACE"," ",889],["T_LNUMBER","600",889],["T_WHITESPACE"," ",889],")",",",["T_WHITESPACE"," ",889],["T_STRING","true",889],["T_WHITESPACE"," ",889],")",";",["T_WHITESPACE","\n\t\t\t\t",889],["T_VARIABLE","$return",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","thumbnail",890],["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_VARIABLE","$thumb_url",890],"[",["T_LNUMBER","0",890],"]",";",["T_WHITESPACE","\n\t\t\t",890],"}",["T_WHITESPACE"," ",891],["T_ELSE","else",891],["T_WHITESPACE"," ",891],"{",["T_WHITESPACE","\n\t\t\t\t",891],["T_VARIABLE","$file_url",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_STRING","wp_get_attachment_url",892],"(",["T_VARIABLE","$post_id",892],")",";",["T_WHITESPACE","\n\t\t\t\t",892],["T_IF","if",893],["T_WHITESPACE"," ",893],"(",["T_WHITESPACE"," ",893],"!",["T_WHITESPACE"," ",893],["T_EMPTY","empty",893],"(",["T_WHITESPACE"," ",893],["T_VARIABLE","$meta",893],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",893],"]","[",["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",893],"]",["T_WHITESPACE"," ",893],")",["T_WHITESPACE"," ",893],["T_BOOLEAN_AND","&&",893],["T_WHITESPACE"," ",893],["T_VARIABLE","$thumb",893],["T_WHITESPACE"," ",893],"=",["T_WHITESPACE"," ",893],["T_VARIABLE","$meta",893],"[",["T_CONSTANT_ENCAPSED_STRING","'sizes'",893],"]","[",["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",893],"]",["T_WHITESPACE"," ",893],")",["T_WHITESPACE"," ",893],"{",["T_WHITESPACE","\n\t\t\t\t\t",893],["T_VARIABLE","$return",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","thumbnail",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_STRING","path_join",894],"(",["T_WHITESPACE"," ",894],["T_STRING","dirname",894],"(",["T_VARIABLE","$file_url",894],")",",",["T_WHITESPACE"," ",894],["T_VARIABLE","$thumb",894],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",894],"]",["T_WHITESPACE"," ",894],")",";",["T_WHITESPACE","\n\t\t\t\t",894],"}",["T_WHITESPACE"," ",895],["T_ELSE","else",895],["T_WHITESPACE"," ",895],"{",["T_WHITESPACE","\n\t\t\t\t\t",895],["T_VARIABLE","$return",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","thumbnail",896],["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],"\"",["T_VARIABLE","$file_url",896],["T_ENCAPSED_AND_WHITESPACE","?w=128&h=128",896],"\"",";",["T_WHITESPACE","\n\t\t\t\t",896],"}",["T_WHITESPACE","\n\t\t\t",897],"}",["T_WHITESPACE","\n\t\t",898],"}",["T_WHITESPACE","\n\t",899],"}",["T_WHITESPACE"," ",900],["T_ELSE","else",900],["T_WHITESPACE"," ",900],"{",["T_WHITESPACE","\n\t\t",900],["T_VARIABLE","$delete",901],["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_STRING","true",901],";",["T_WHITESPACE","\n\t",901],"}",["T_WHITESPACE","\n\n\t",902],["T_IF","if",904],["T_WHITESPACE"," ",904],"(",["T_WHITESPACE"," ",904],["T_VARIABLE","$delete",904],["T_WHITESPACE"," ",904],")",["T_WHITESPACE"," ",904],"{",["T_WHITESPACE","\n\t\t",904],["T_STRING","wp_delete_file",905],"(",["T_WHITESPACE"," ",905],["T_VARIABLE","$new_path",905],["T_WHITESPACE"," ",905],")",";",["T_WHITESPACE","\n\t",905],"}",["T_WHITESPACE","\n\n\t",906],["T_VARIABLE","$return",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","msg",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_STRING","esc_js",908],"(",["T_WHITESPACE"," ",908],["T_STRING","__",908],"(",["T_CONSTANT_ENCAPSED_STRING","'Image saved'",908],")",["T_WHITESPACE"," ",908],")",";",["T_WHITESPACE","\n\t",908],["T_RETURN","return",909],["T_WHITESPACE"," ",909],["T_VARIABLE","$return",909],";",["T_WHITESPACE","\n",909],"}",["T_WHITESPACE","\n",910]]