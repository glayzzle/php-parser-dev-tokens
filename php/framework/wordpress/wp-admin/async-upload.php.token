[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Server-side file upload handler from wp-plupload, swfupload or other asynchronous upload methods.\n *\n * @package WordPress\n * @subpackage Administration\n *\/",2],["T_WHITESPACE","\n\n",7],["T_IF","if",9],["T_WHITESPACE"," ",9],"(",["T_WHITESPACE"," ",9],["T_ISSET","isset",9],"(",["T_WHITESPACE"," ",9],["T_VARIABLE","$_REQUEST",9],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",9],"]",["T_WHITESPACE"," ",9],")",["T_WHITESPACE"," ",9],["T_BOOLEAN_AND","&&",9],["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","'upload-attachment'",9],["T_WHITESPACE"," ",9],["T_IS_IDENTICAL","===",9],["T_WHITESPACE"," ",9],["T_VARIABLE","$_REQUEST",9],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",9],"]",["T_WHITESPACE"," ",9],")",["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t",9],["T_STRING","define",10],"(",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","'DOING_AJAX'",10],",",["T_WHITESPACE"," ",10],["T_STRING","true",10],["T_WHITESPACE"," ",10],")",";",["T_WHITESPACE","\n",10],"}",["T_WHITESPACE","\n\n",11],["T_IF","if",13],["T_WHITESPACE"," ",13],"(",["T_WHITESPACE"," ",13],"!",["T_WHITESPACE"," ",13],["T_STRING","defined",13],"(",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'WP_ADMIN'",13],["T_WHITESPACE"," ",13],")",["T_WHITESPACE"," ",13],")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t",13],["T_STRING","define",14],"(",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'WP_ADMIN'",14],",",["T_WHITESPACE"," ",14],["T_STRING","true",14],["T_WHITESPACE"," ",14],")",";",["T_WHITESPACE","\n",14],"}",["T_WHITESPACE","\n\n",15],["T_IF","if",17],["T_WHITESPACE"," ",17],"(",["T_WHITESPACE"," ",17],["T_STRING","defined",17],"(",["T_CONSTANT_ENCAPSED_STRING","'ABSPATH'",17],")",["T_WHITESPACE"," ",17],")",["T_WHITESPACE","\n\t",17],["T_REQUIRE_ONCE","require_once",18],"(",["T_STRING","ABSPATH",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'wp-load.php'",18],")",";",["T_WHITESPACE","\n",18],["T_ELSE","else",19],["T_WHITESPACE","\n\t",19],["T_REQUIRE_ONCE","require_once",20],"(",["T_WHITESPACE"," ",20],["T_STRING","dirname",20],"(",["T_WHITESPACE"," ",20],["T_STRING","dirname",20],"(",["T_WHITESPACE"," ",20],["T_FILE","__FILE__",20],["T_WHITESPACE"," ",20],")",["T_WHITESPACE"," ",20],")",["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'\/wp-load.php'",20],["T_WHITESPACE"," ",20],")",";",["T_WHITESPACE","\n\n",20],["T_IF","if",22],["T_WHITESPACE"," ",22],"(",["T_WHITESPACE"," ",22],"!",["T_WHITESPACE"," ",22],"(",["T_WHITESPACE"," ",22],["T_ISSET","isset",22],"(",["T_WHITESPACE"," ",22],["T_VARIABLE","$_REQUEST",22],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",22],"]",["T_WHITESPACE"," ",22],")",["T_WHITESPACE"," ",22],["T_BOOLEAN_AND","&&",22],["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'upload-attachment'",22],["T_WHITESPACE"," ",22],["T_IS_EQUAL","==",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_REQUEST",22],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",22],"]",["T_WHITESPACE"," ",22],")",["T_WHITESPACE"," ",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\t",22],["T_COMMENT","\/\/ Flash often fails to send cookies with the POST or upload, so we need to pass it in GET or POST instead\n",23],["T_WHITESPACE","\t",24],["T_IF","if",24],["T_WHITESPACE"," ",24],"(",["T_WHITESPACE"," ",24],["T_STRING","is_ssl",24],"(",")",["T_WHITESPACE"," ",24],["T_BOOLEAN_AND","&&",24],["T_WHITESPACE"," ",24],["T_EMPTY","empty",24],"(",["T_VARIABLE","$_COOKIE",24],"[",["T_STRING","SECURE_AUTH_COOKIE",24],"]",")",["T_WHITESPACE"," ",24],["T_BOOLEAN_AND","&&",24],["T_WHITESPACE"," ",24],"!",["T_EMPTY","empty",24],"(",["T_VARIABLE","$_REQUEST",24],"[",["T_CONSTANT_ENCAPSED_STRING","'auth_cookie'",24],"]",")",["T_WHITESPACE"," ",24],")",["T_WHITESPACE","\n\t\t",24],["T_VARIABLE","$_COOKIE",25],"[",["T_STRING","SECURE_AUTH_COOKIE",25],"]",["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$_REQUEST",25],"[",["T_CONSTANT_ENCAPSED_STRING","'auth_cookie'",25],"]",";",["T_WHITESPACE","\n\t",25],["T_ELSEIF","elseif",26],["T_WHITESPACE"," ",26],"(",["T_WHITESPACE"," ",26],["T_EMPTY","empty",26],"(",["T_VARIABLE","$_COOKIE",26],"[",["T_STRING","AUTH_COOKIE",26],"]",")",["T_WHITESPACE"," ",26],["T_BOOLEAN_AND","&&",26],["T_WHITESPACE"," ",26],"!",["T_EMPTY","empty",26],"(",["T_VARIABLE","$_REQUEST",26],"[",["T_CONSTANT_ENCAPSED_STRING","'auth_cookie'",26],"]",")",["T_WHITESPACE"," ",26],")",["T_WHITESPACE","\n\t\t",26],["T_VARIABLE","$_COOKIE",27],"[",["T_STRING","AUTH_COOKIE",27],"]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$_REQUEST",27],"[",["T_CONSTANT_ENCAPSED_STRING","'auth_cookie'",27],"]",";",["T_WHITESPACE","\n\t",27],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_WHITESPACE"," ",28],["T_EMPTY","empty",28],"(",["T_VARIABLE","$_COOKIE",28],"[",["T_STRING","LOGGED_IN_COOKIE",28],"]",")",["T_WHITESPACE"," ",28],["T_BOOLEAN_AND","&&",28],["T_WHITESPACE"," ",28],"!",["T_EMPTY","empty",28],"(",["T_VARIABLE","$_REQUEST",28],"[",["T_CONSTANT_ENCAPSED_STRING","'logged_in_cookie'",28],"]",")",["T_WHITESPACE"," ",28],")",["T_WHITESPACE","\n\t\t",28],["T_VARIABLE","$_COOKIE",29],"[",["T_STRING","LOGGED_IN_COOKIE",29],"]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$_REQUEST",29],"[",["T_CONSTANT_ENCAPSED_STRING","'logged_in_cookie'",29],"]",";",["T_WHITESPACE","\n\t",29],["T_UNSET","unset",30],"(",["T_VARIABLE","$current_user",30],")",";",["T_WHITESPACE","\n",30],"}",["T_WHITESPACE","\n\n",31],["T_REQUIRE_ONCE","require_once",33],"(",["T_WHITESPACE"," ",33],["T_STRING","ABSPATH",33],["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/admin.php'",33],["T_WHITESPACE"," ",33],")",";",["T_WHITESPACE","\n\n",33],["T_STRING","header",35],"(",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Content-Type: text\/html; charset='",35],["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_STRING","get_option",35],"(",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'blog_charset'",35],["T_WHITESPACE"," ",35],")",["T_WHITESPACE"," ",35],")",";",["T_WHITESPACE","\n\n",35],["T_IF","if",37],["T_WHITESPACE"," ",37],"(",["T_WHITESPACE"," ",37],["T_ISSET","isset",37],"(",["T_WHITESPACE"," ",37],["T_VARIABLE","$_REQUEST",37],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",37],"]",["T_WHITESPACE"," ",37],")",["T_WHITESPACE"," ",37],["T_BOOLEAN_AND","&&",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'upload-attachment'",37],["T_WHITESPACE"," ",37],["T_IS_IDENTICAL","===",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_REQUEST",37],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",37],"]",["T_WHITESPACE"," ",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n\t",37],["T_INCLUDE","include",38],"(",["T_WHITESPACE"," ",38],["T_STRING","ABSPATH",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'wp-admin\/includes\/ajax-actions.php'",38],["T_WHITESPACE"," ",38],")",";",["T_WHITESPACE","\n\n\t",38],["T_STRING","send_nosniff_header",40],"(",")",";",["T_WHITESPACE","\n\t",40],["T_STRING","nocache_headers",41],"(",")",";",["T_WHITESPACE","\n\n\t",41],["T_STRING","wp_ajax_upload_attachment",43],"(",")",";",["T_WHITESPACE","\n\t",43],["T_EXIT","die",44],"(",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'0'",44],["T_WHITESPACE"," ",44],")",";",["T_WHITESPACE","\n",44],"}",["T_WHITESPACE","\n\n",45],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_WHITESPACE"," ",47],"!",["T_WHITESPACE"," ",47],["T_STRING","current_user_can",47],"(",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'upload_files'",47],["T_WHITESPACE"," ",47],")",["T_WHITESPACE"," ",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n\t",47],["T_STRING","wp_die",48],"(",["T_WHITESPACE"," ",48],["T_STRING","__",48],"(",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Sorry, you are not allowed to upload files.'",48],["T_WHITESPACE"," ",48],")",["T_WHITESPACE"," ",48],")",";",["T_WHITESPACE","\n",48],"}",["T_WHITESPACE","\n\n",49],["T_COMMENT","\/\/ just fetch the detail form for that attachment\n",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_WHITESPACE"," ",52],["T_ISSET","isset",52],"(",["T_VARIABLE","$_REQUEST",52],"[",["T_CONSTANT_ENCAPSED_STRING","'attachment_id'",52],"]",")",["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$id",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","intval",52],"(",["T_VARIABLE","$_REQUEST",52],"[",["T_CONSTANT_ENCAPSED_STRING","'attachment_id'",52],"]",")",")",["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_REQUEST",52],"[",["T_CONSTANT_ENCAPSED_STRING","'fetch'",52],"]",["T_WHITESPACE"," ",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t",52],["T_VARIABLE","$post",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","get_post",53],"(",["T_WHITESPACE"," ",53],["T_VARIABLE","$id",53],["T_WHITESPACE"," ",53],")",";",["T_WHITESPACE","\n\t",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'attachment'",54],["T_WHITESPACE"," ",54],["T_IS_NOT_EQUAL","!=",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$post",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","post_type",54],["T_WHITESPACE"," ",54],")",["T_WHITESPACE","\n\t\t",54],["T_STRING","wp_die",55],"(",["T_WHITESPACE"," ",55],["T_STRING","__",55],"(",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Invalid post type.'",55],["T_WHITESPACE"," ",55],")",["T_WHITESPACE"," ",55],")",";",["T_WHITESPACE","\n\t",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_WHITESPACE"," ",56],"!",["T_WHITESPACE"," ",56],["T_STRING","current_user_can",56],"(",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'edit_post'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$id",56],["T_WHITESPACE"," ",56],")",["T_WHITESPACE"," ",56],")",["T_WHITESPACE","\n\t\t",56],["T_STRING","wp_die",57],"(",["T_WHITESPACE"," ",57],["T_STRING","__",57],"(",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Sorry, you are not allowed to edit this item.'",57],["T_WHITESPACE"," ",57],")",["T_WHITESPACE"," ",57],")",";",["T_WHITESPACE","\n\n\t",57],["T_SWITCH","switch",59],["T_WHITESPACE"," ",59],"(",["T_WHITESPACE"," ",59],["T_VARIABLE","$_REQUEST",59],"[",["T_CONSTANT_ENCAPSED_STRING","'fetch'",59],"]",["T_WHITESPACE"," ",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t",59],["T_CASE","case",60],["T_WHITESPACE"," ",60],["T_LNUMBER","3",60],["T_WHITESPACE"," ",60],":",["T_WHITESPACE","\n\t\t\t",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_WHITESPACE"," ",61],["T_VARIABLE","$thumb_url",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","wp_get_attachment_image_src",61],"(",["T_WHITESPACE"," ",61],["T_VARIABLE","$id",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",61],",",["T_WHITESPACE"," ",61],["T_STRING","true",61],["T_WHITESPACE"," ",61],")",["T_WHITESPACE"," ",61],")",["T_WHITESPACE","\n\t\t\t\t",61],["T_ECHO","echo",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'<img class=\"pinkynail\" src=\"'",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_STRING","esc_url",62],"(",["T_WHITESPACE"," ",62],["T_VARIABLE","$thumb_url",62],"[",["T_LNUMBER","0",62],"]",["T_WHITESPACE"," ",62],")",["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'\" alt=\"\" \/>'",62],";",["T_WHITESPACE","\n\t\t\t",62],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'<a class=\"edit-attachment\" href=\"'",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_STRING","esc_url",63],"(",["T_WHITESPACE"," ",63],["T_STRING","get_edit_post_link",63],"(",["T_WHITESPACE"," ",63],["T_VARIABLE","$id",63],["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\" target=\"_blank\">'",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_STRING","_x",63],"(",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Edit'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'media item'",63],["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'<\/a>'",63],";",["T_WHITESPACE","\n\n\t\t\t",63],["T_COMMENT","\/\/ Title shouldn't ever be empty, but use filename just in case.\n",65],["T_WHITESPACE","\t\t\t",66],["T_VARIABLE","$file",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","get_attached_file",66],"(",["T_WHITESPACE"," ",66],["T_VARIABLE","$post",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","ID",66],["T_WHITESPACE"," ",66],")",";",["T_WHITESPACE","\n\t\t\t",66],["T_VARIABLE","$title",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$post",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","post_title",67],["T_WHITESPACE"," ",67],"?",["T_WHITESPACE"," ",67],["T_VARIABLE","$post",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","post_title",67],["T_WHITESPACE"," ",67],":",["T_WHITESPACE"," ",67],["T_STRING","wp_basename",67],"(",["T_WHITESPACE"," ",67],["T_VARIABLE","$file",67],["T_WHITESPACE"," ",67],")",";",["T_WHITESPACE","\n\t\t\t",67],["T_ECHO","echo",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'<div class=\"filename new\"><span class=\"title\">'",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_STRING","esc_html",68],"(",["T_WHITESPACE"," ",68],["T_STRING","wp_html_excerpt",68],"(",["T_WHITESPACE"," ",68],["T_VARIABLE","$title",68],",",["T_WHITESPACE"," ",68],["T_LNUMBER","60",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'&hellip;'",68],["T_WHITESPACE"," ",68],")",["T_WHITESPACE"," ",68],")",["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'<\/span><\/div>'",68],";",["T_WHITESPACE","\n\t\t\t",68],["T_BREAK","break",69],";",["T_WHITESPACE","\n\t\t",69],["T_CASE","case",70],["T_WHITESPACE"," ",70],["T_LNUMBER","2",70],["T_WHITESPACE"," ",70],":",["T_WHITESPACE","\n\t\t\t",70],["T_STRING","add_filter",71],"(",["T_CONSTANT_ENCAPSED_STRING","'attachment_fields_to_edit'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'media_single_attachment_fields_to_edit'",71],",",["T_WHITESPACE"," ",71],["T_LNUMBER","10",71],",",["T_WHITESPACE"," ",71],["T_LNUMBER","2",71],")",";",["T_WHITESPACE","\n\t\t\t",71],["T_ECHO","echo",72],["T_WHITESPACE"," ",72],["T_STRING","get_media_item",72],"(",["T_VARIABLE","$id",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'send'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","false",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'delete'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","true",72],["T_WHITESPACE"," ",72],")",")",";",["T_WHITESPACE","\n\t\t\t",72],["T_BREAK","break",73],";",["T_WHITESPACE","\n\t\t",73],["T_DEFAULT","default",74],":",["T_WHITESPACE","\n\t\t\t",74],["T_STRING","add_filter",75],"(",["T_CONSTANT_ENCAPSED_STRING","'attachment_fields_to_edit'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'media_post_single_attachment_fields_to_edit'",75],",",["T_WHITESPACE"," ",75],["T_LNUMBER","10",75],",",["T_WHITESPACE"," ",75],["T_LNUMBER","2",75],")",";",["T_WHITESPACE","\n\t\t\t",75],["T_ECHO","echo",76],["T_WHITESPACE"," ",76],["T_STRING","get_media_item",76],"(",["T_VARIABLE","$id",76],")",";",["T_WHITESPACE","\n\t\t\t",76],["T_BREAK","break",77],";",["T_WHITESPACE","\n\t",77],"}",["T_WHITESPACE","\n\t",78],["T_EXIT","exit",79],";",["T_WHITESPACE","\n",79],"}",["T_WHITESPACE","\n\n",80],["T_STRING","check_admin_referer",82],"(",["T_CONSTANT_ENCAPSED_STRING","'media-form'",82],")",";",["T_WHITESPACE","\n\n",82],["T_VARIABLE","$post_id",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_LNUMBER","0",84],";",["T_WHITESPACE","\n",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_WHITESPACE"," ",85],["T_ISSET","isset",85],"(",["T_WHITESPACE"," ",85],["T_VARIABLE","$_REQUEST",85],"[",["T_CONSTANT_ENCAPSED_STRING","'post_id'",85],"]",["T_WHITESPACE"," ",85],")",["T_WHITESPACE"," ",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t",85],["T_VARIABLE","$post_id",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","absint",86],"(",["T_WHITESPACE"," ",86],["T_VARIABLE","$_REQUEST",86],"[",["T_CONSTANT_ENCAPSED_STRING","'post_id'",86],"]",["T_WHITESPACE"," ",86],")",";",["T_WHITESPACE","\n\t",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_WHITESPACE"," ",87],"!",["T_WHITESPACE"," ",87],["T_STRING","get_post",87],"(",["T_WHITESPACE"," ",87],["T_VARIABLE","$post_id",87],["T_WHITESPACE"," ",87],")",["T_WHITESPACE"," ",87],["T_BOOLEAN_OR","||",87],["T_WHITESPACE"," ",87],"!",["T_WHITESPACE"," ",87],["T_STRING","current_user_can",87],"(",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'edit_post'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$post_id",87],["T_WHITESPACE"," ",87],")",["T_WHITESPACE"," ",87],")",["T_WHITESPACE","\n\t\t",87],["T_VARIABLE","$post_id",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_LNUMBER","0",88],";",["T_WHITESPACE","\n",88],"}",["T_WHITESPACE","\n\n",89],["T_VARIABLE","$id",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","media_handle_upload",91],"(",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'async-upload'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$post_id",91],["T_WHITESPACE"," ",91],")",";",["T_WHITESPACE","\n",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_WHITESPACE"," ",92],["T_STRING","is_wp_error",92],"(",["T_VARIABLE","$id",92],")",["T_WHITESPACE"," ",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\t",92],["T_ECHO","echo",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'<div class=\"error-div error\">\n\t<a class=\"dismiss\" href=\"#\" onclick=\"jQuery(this).parents(\\'div.media-item\\').slideUp(200, function(){jQuery(this).remove();});\">'",93],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_STRING","__",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Dismiss'",94],")",["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'<\/a>\n\t<strong>'",94],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_STRING","sprintf",95],"(",["T_STRING","__",95],"(",["T_CONSTANT_ENCAPSED_STRING","'&#8220;%s&#8221; has failed to upload.'",95],")",",",["T_WHITESPACE"," ",95],["T_STRING","esc_html",95],"(",["T_VARIABLE","$_FILES",95],"[",["T_CONSTANT_ENCAPSED_STRING","'async-upload'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",95],"]",")",["T_WHITESPACE"," ",95],")",["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'<\/strong><br \/>'",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE","\n\t",95],["T_STRING","esc_html",96],"(",["T_VARIABLE","$id",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","get_error_message",96],"(",")",")",["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",96],";",["T_WHITESPACE","\n\t",96],["T_EXIT","exit",97],";",["T_WHITESPACE","\n",97],"}",["T_WHITESPACE","\n\n",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_WHITESPACE"," ",100],["T_VARIABLE","$_REQUEST",100],"[",["T_CONSTANT_ENCAPSED_STRING","'short'",100],"]",["T_WHITESPACE"," ",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t",100],["T_COMMENT","\/\/ Short form response - attachment ID only.\n",101],["T_WHITESPACE","\t",102],["T_ECHO","echo",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$id",102],";",["T_WHITESPACE","\n",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t",103],["T_COMMENT","\/\/ Long form response - big chunk o html.\n",104],["T_WHITESPACE","\t",105],["T_VARIABLE","$type",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$_REQUEST",105],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",105],"]",";",["T_WHITESPACE","\n\n\t",105],["T_DOC_COMMENT","\/**\n\t * Filters the returned ID of an uploaded attachment.\n\t *\n\t * The dynamic portion of the hook name, `$type`, refers to the attachment type,\n\t * such as 'image', 'audio', 'video', 'file', etc.\n\t *\n\t * @since 2.5.0\n\t *\n\t * @param int $id Uploaded attachment ID.\n\t *\/",107],["T_WHITESPACE","\n\t",116],["T_ECHO","echo",117],["T_WHITESPACE"," ",117],["T_STRING","apply_filters",117],"(",["T_WHITESPACE"," ",117],"\"",["T_ENCAPSED_AND_WHITESPACE","async_upload_",117],["T_CURLY_OPEN","{",117],["T_VARIABLE","$type",117],"}","\"",",",["T_WHITESPACE"," ",117],["T_VARIABLE","$id",117],["T_WHITESPACE"," ",117],")",";",["T_WHITESPACE","\n",117],"}",["T_WHITESPACE","\n",118]]