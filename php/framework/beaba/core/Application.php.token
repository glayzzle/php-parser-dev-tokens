[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","beaba",3],["T_NS_SEPARATOR","\\",3],["T_STRING","core",3],";",["T_WHITESPACE","\n",3],["T_DOC_COMMENT","\/**\n * This file is distributed under the MIT Open Source\n * License. See README.MD for details.\n * @author Ioan CHIRIAC\n *\/",4],["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * The application structure class\n *\/",10],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Application",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var array List of services configuration\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$services",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var array List of services instances\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$instances",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",")",";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * The current configuration instance\n     * @var Configuration\n     *\/",26],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$config",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Initialize the application\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","__construct",35],"(",["T_ARRAY","array",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$config",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","null",35],")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_COMMENT","\/\/ initialize the configuration layer\n",37],["T_WHITESPACE","        ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","config",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_STRING","Configuration",38],"(",["T_VARIABLE","$this",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$config",38],")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Gets a service instance\n     * @ProfileGroup(\"service\")\n     * @ProfileCaption(\"#1\")\n     * @param string $name\n     * @return IService\n     *\/",41],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getService",48],"(",["T_VARIABLE","$name",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","!",["T_ISSET","isset",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","instances",50],"[",["T_VARIABLE","$name",50],"]",")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","services",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","services",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","config",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getConfig",52],"(",["T_CONSTANT_ENCAPSED_STRING","'services'",52],")",";",["T_WHITESPACE","\n            ",52],"}",["T_WHITESPACE","\n            ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_ISSET","isset",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","services",54],"[",["T_VARIABLE","$name",54],"]",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n                ",54],["T_THROW","throw",55],["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Exception",55],"(",["T_WHITESPACE","\n                    ",55],["T_CONSTANT_ENCAPSED_STRING","'Undefined service : '",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$name",56],["T_WHITESPACE","\n                ",56],")",";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$service",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","services",59],"[",["T_VARIABLE","$name",59],"]",";",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$options",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",";",["T_WHITESPACE","\n            ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_WHITESPACE"," ",61],["T_STRING","is_string",61],"(",["T_WHITESPACE"," ",61],["T_VARIABLE","$service",61],["T_WHITESPACE"," ",61],")",["T_WHITESPACE"," ",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$class",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$service",62],";",["T_WHITESPACE","\n            ",62],"}",["T_WHITESPACE"," ",63],["T_ELSEIF","elseif",63],["T_WHITESPACE"," ",63],"(",["T_WHITESPACE"," ",63],["T_STRING","is_array",63],"(",["T_WHITESPACE"," ",63],["T_VARIABLE","$service",63],["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_WHITESPACE"," ",64],["T_EMPTY","empty",64],"(",["T_VARIABLE","$service",64],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",64],"]",")",["T_WHITESPACE"," ",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                    ",64],["T_THROW","throw",65],["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Exception",65],"(",["T_WHITESPACE","\n                        ",65],["T_CONSTANT_ENCAPSED_STRING","'Undefined service class offset : '",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_VARIABLE","$name",66],["T_WHITESPACE","\n                    ",66],")",";",["T_WHITESPACE","\n                ",67],"}",["T_WHITESPACE","\n                ",68],["T_VARIABLE","$class",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$service",69],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",69],"]",";",["T_WHITESPACE","\n                ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_WHITESPACE"," ",70],["T_ISSET","isset",70],"(",["T_VARIABLE","$service",70],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",70],"]",")",["T_WHITESPACE"," ",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                    ",70],["T_VARIABLE","$options",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$service",71],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",71],"]",";",["T_WHITESPACE","\n                ",71],"}",["T_WHITESPACE","\n            ",72],"}",["T_WHITESPACE"," ",73],["T_ELSE","else",73],["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Exception",74],"(",["T_WHITESPACE","\n                    ",74],["T_CONSTANT_ENCAPSED_STRING","'Bad configuration entry for service : '",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_VARIABLE","$name",75],["T_WHITESPACE","\n                ",75],")",";",["T_WHITESPACE","\n            ",76],"}",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","instances",78],"[",["T_VARIABLE","$name",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$class",78],"(",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$this",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$options",79],["T_WHITESPACE","\n            ",79],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","instances",82],"[",["T_VARIABLE","$name",82],"]",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Gets the informations layer\n     * @return IInfos\n     *\/",86],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getInfos",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getService",92],"(",["T_CONSTANT_ENCAPSED_STRING","'infos'",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Gets the asset manager\n     * @return IAssets\n     *\/",95],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getAssets",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getService",101],"(",["T_CONSTANT_ENCAPSED_STRING","'assets'",101],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Gets the response handler\n     * @return IResponse\n     *\/",104],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","getResponse",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getService",110],"(",["T_CONSTANT_ENCAPSED_STRING","'response'",110],")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Gets the view manager\n     * @return IView\n     *\/",113],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getView",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getService",119],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",119],")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Gets the current request\n     * @return IRequest\n     *\/",122],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getRequest",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getService",128],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Gets the session instance\n     * @return ISession\n     *\/",131],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getSession",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getService",137],"(",["T_CONSTANT_ENCAPSED_STRING","'session'",137],")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n    ",138],["T_DOC_COMMENT","\/**\n     * Gets a url from the specified route\n     * @param string $route\n     * @param array $args\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getUrl",144],"(",["T_VARIABLE","$route",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$args",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","null",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getRequest",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getBaseDir",147],"(",")",["T_WHITESPACE"," ",147],".",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getService",148],"(",["T_CONSTANT_ENCAPSED_STRING","'router'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getUrl",148],"(",["T_VARIABLE","$route",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$args",148],")",["T_WHITESPACE","\n        ",148],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Execute the specified action controller\n     * @param string $controller\n     * @param string $action\n     * @param array $params\n     * @return string\n     *\/",152],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","execute",159],"(",["T_VARIABLE","$controller",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$action",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$params",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$instance",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$controller",161],"(",["T_VARIABLE","$this",161],")",";",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$instance",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","execute",162],"(",["T_VARIABLE","$action",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$params",162],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Retrieve a list of current request parameters\n     * @param array $params\n     * @return array\n     *\/",165],["T_WHITESPACE","\n    ",169],["T_PROTECTED","protected",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","_loadParameters",170],"(",["T_ARRAY","array",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$params",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$params",172],["T_WHITESPACE"," ",172],"?",["T_WHITESPACE","\n            ",172],["T_STRING","merge_array",173],"(",["T_WHITESPACE","\n                ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getRequest",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getParameters",174],"(",")",",",["T_WHITESPACE"," ",174],["T_VARIABLE","$params",174],["T_WHITESPACE","\n            ",174],")",["T_WHITESPACE"," ",175],":",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getRequest",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getParameters",176],"(",")",["T_WHITESPACE","\n        ",176],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n    ",178],["T_DOC_COMMENT","\/**\n     * Dispatching the specified request\n     * @ProfileGroup(\"dispatch\")\n     * @param string $url\n     * @param array $params\n     * @throws \\Exception\n     *\/",179],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","dispatch",186],"(",["T_VARIABLE","$method",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","null",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$url",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","null",186],",",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$params",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","null",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_STRING","is_callable",188],"(",["T_VARIABLE","$url",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_COMMENT","\/\/ initialize parameters\n",189],["T_WHITESPACE","            ",190],["T_IF","if",190],["T_WHITESPACE"," ",190],"(","!",["T_STRING","is_null",190],"(",["T_VARIABLE","$url",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getRequest",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","setLocation",191],"(",["T_VARIABLE","$url",191],")",";",["T_WHITESPACE","\n            ",191],"}",["T_WHITESPACE"," ",192],["T_ELSE","else",192],["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$url",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getRequest",193],"(",")",["T_OBJECT_OPERATOR","->",193],["T_STRING","getLocation",193],"(",")",";",["T_WHITESPACE","\n            ",193],"}",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$route",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getService",195],"(",["T_CONSTANT_ENCAPSED_STRING","'router'",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getRoute",195],"(",["T_VARIABLE","$url",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE"," ",196],["T_ELSE","else",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$route",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$url",197],";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$route",199],["T_WHITESPACE"," ",199],["T_IS_IDENTICAL","===",199],["T_WHITESPACE"," ",199],["T_STRING","false",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_THROW","throw",200],["T_WHITESPACE"," ",200],["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","Exception",200],"(",["T_CONSTANT_ENCAPSED_STRING","'No route found'",200],",",["T_WHITESPACE"," ",200],["T_LNUMBER","404",200],")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_ELSE","else",201],["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_WHITESPACE"," ",202],["T_STRING","is_array",202],"(",["T_VARIABLE","$route",202],")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_WHITESPACE"," ",203],"!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$route",203],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",203],"]",")",["T_WHITESPACE"," ",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                    ",203],["T_VARIABLE","$params",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","merge_array",204],"(",["T_WHITESPACE"," ",204],["T_VARIABLE","$params",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$route",204],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",204],"]",")",";",["T_WHITESPACE","\n                ",204],"}",["T_WHITESPACE","\n                ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_WHITESPACE"," ",206],"!",["T_EMPTY","empty",206],"(",["T_VARIABLE","$route",206],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",206],"]",")",["T_WHITESPACE"," ",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                    ",206],["T_VARIABLE","$route",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$route",207],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",207],"]",";",["T_WHITESPACE","\n                ",207],"}",["T_WHITESPACE","\n            ",208],"}",["T_WHITESPACE","\n            ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_STRING","is_string",210],"(",["T_VARIABLE","$route",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                ",210],["T_COMMENT","\/\/ execute a controller\n",211],["T_WHITESPACE","                ",212],["T_VARIABLE","$parts",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","explode",212],"(",["T_CONSTANT_ENCAPSED_STRING","'::'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$route",212],",",["T_WHITESPACE"," ",212],["T_LNUMBER","2",212],")",";",["T_WHITESPACE","\n                ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_EMPTY","empty",213],"(",["T_VARIABLE","$parts",213],"[",["T_LNUMBER","1",213],"]",")",")",["T_WHITESPACE","\n                    ",213],["T_VARIABLE","$parts",214],"[",["T_LNUMBER","1",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'index'",214],";",["T_WHITESPACE","\n                ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","execute",215],"(",["T_VARIABLE","$parts",215],"[",["T_LNUMBER","0",215],"]",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$parts",215],"[",["T_LNUMBER","1",215],"]",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$params",215],")",";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE"," ",216],["T_ELSEIF","elseif",216],"(",["T_WHITESPACE"," ",216],["T_STRING","is_callable",216],"(",["T_VARIABLE","$route",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_COMMENT","\/\/ use the route as a callback\n",217],["T_WHITESPACE","                ",218],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_STRING","call_user_func_array",218],"(",["T_VARIABLE","$route",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_VARIABLE","$this",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$params",218],")",")",";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE"," ",219],["T_ELSE","else",219],["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_THROW","throw",220],["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","Exception",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Bad route format'",220],",",["T_WHITESPACE"," ",220],["T_LNUMBER","500",220],")",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n",223],"}",["T_WHITESPACE","\n\n",225],["T_DOC_COMMENT","\/**\n * The service interface\n *\/",227],["T_WHITESPACE","\n",229],["T_INTERFACE","interface",230],["T_WHITESPACE"," ",230],["T_STRING","IService",230],["T_WHITESPACE","\n",230],"{",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Gets the current application\n     * @return Application\n     *\/",233],["T_WHITESPACE","\n    ",236],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","getApplication",237],"(",")",";",["T_WHITESPACE","\n",237],"}",["T_WHITESPACE","\n\n\n",238],["T_DOC_COMMENT","\/**\n * Inner service class (automatically loaded)\n *\/",241],["T_WHITESPACE","\n",243],["T_CLASS","class",244],["T_WHITESPACE"," ",244],["T_STRING","Service",244],["T_WHITESPACE"," ",244],["T_IMPLEMENTS","implements",244],["T_WHITESPACE"," ",244],["T_STRING","IService",244],["T_WHITESPACE","\n",244],"{",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * The current application instance\n     * @var Application\n     *\/",247],["T_WHITESPACE","\n    ",250],["T_PROTECTED","protected",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$app",251],";",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",253],["T_WHITESPACE","\n    ",255],["T_PROTECTED","protected",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$options",256],";",["T_WHITESPACE","\n    ",256],["T_DOC_COMMENT","\/**\n     * The current application instance\n     * @param Application $app\n     * @param array $options\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_FINAL","final",262],["T_WHITESPACE"," ",262],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","__construct",262],"(",["T_STRING","Application",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$app",262],",",["T_WHITESPACE"," ",262],["T_ARRAY","array",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$options",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","null",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","app",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$app",264],";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","options",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","is_null",265],"(",["T_VARIABLE","$options",265],")",["T_WHITESPACE"," ",265],"?",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",")",["T_WHITESPACE"," ",265],":",["T_WHITESPACE"," ",265],["T_VARIABLE","$options",265],";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","onStart",266],"(",")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n    ",267],["T_DOC_COMMENT","\/**\n     * Gets the current application\n     * @return Application\n     *\/",268],["T_WHITESPACE","\n    ",271],["T_FINAL","final",272],["T_WHITESPACE"," ",272],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getApplication",272],"(",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","app",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n    ",275],["T_DOC_COMMENT","\/**\n     * On Start hook\n     *\/",276],["T_WHITESPACE","\n    ",278],["T_PROTECTED","protected",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","onStart",279],"(",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE"," ",279],"}",["T_WHITESPACE","\n",279],"}",["T_WHITESPACE","\n",280],["T_DOC_COMMENT","\/**\n * The session service (avoid using $_SESSION to really have a portable way ta\n * manage sessions - without necessarily using the PHP internals)\n *\n * Options :\n *  - name      : The session name\n *  - driver    : The cache driver name\n *\/",281],["T_WHITESPACE","\n",288],["T_INTERFACE","interface",289],["T_WHITESPACE"," ",289],["T_STRING","ISession",289],["T_WHITESPACE"," ",289],["T_EXTENDS","extends",289],["T_WHITESPACE"," ",289],["T_STRING","IService",289],["T_WHITESPACE","\n",289],"{",["T_WHITESPACE","\n    ",290],["T_DOC_COMMENT","\/**\n     * Check if the request contains a session data\n     * @return boolean\n     *\/",291],["T_WHITESPACE","\n    ",294],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","isDefined",295],"(",")",";",["T_WHITESPACE","\n    ",295],["T_DOC_COMMENT","\/**\n     * Check if the session is actually started\n     * @return boolean\n     *\/",296],["T_WHITESPACE","\n    ",299],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","isStarted",300],"(",")",";",["T_WHITESPACE","\n    ",300],["T_DOC_COMMENT","\/**\n     * Retrieves an item value from its name. If no session is defined, this\n     * function will simply return *NULL*, without starting a session. If the\n     * session is not started, it will be started automatically\n     * @param string $name\n     * @return mixed\n     * @throws OutOfBoundsException Occurs if the item is not defined\n     *\/",301],["T_WHITESPACE","\n    ",308],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","getItem",309],"(",["T_VARIABLE","$name",309],")",";",["T_WHITESPACE","\n    ",309],["T_DOC_COMMENT","\/**\n     * Stores a value attached to the specified item. If no session is defined,\n     * will create a session. If the session is not started, it will be started\n     * automatically\n     * @param string $name\n     * @param mixed $value\n     * @return ISession\n     *\/",310],["T_WHITESPACE","\n    ",317],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","setItem",318],"(",["T_VARIABLE","$name",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$value",318],")",";",["T_WHITESPACE","\n    ",318],["T_DOC_COMMENT","\/**\n     * Check if the specified item is defined or not. If no session is defined,\n     * this function will simply return *FALSE*, without starting a session\n     * @param string $name The item name to be verified\n     * @return boolean\n     *\/",319],["T_WHITESPACE","\n    ",324],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","hasItem",325],"(",["T_VARIABLE","$name",325],")",";",["T_WHITESPACE","\n    ",325],["T_DOC_COMMENT","\/**\n     * Removes the specified item\n     * @param string $name The item to remove\n     * @return ISession\n     * @throws OutOfBoundsException Occurs if the item is not defined\n     * @throws LogicException Occurs if no session was defined\n     *\/",326],["T_WHITESPACE","\n    ",332],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","removeItem",333],"(",["T_VARIABLE","$name",333],")",";",["T_WHITESPACE","\n",333],"}",["T_WHITESPACE","\n\n",334],["T_DOC_COMMENT","\/**\n * Defines the requesting service\n *\/",336],["T_WHITESPACE","\n",338],["T_INTERFACE","interface",339],["T_WHITESPACE"," ",339],["T_STRING","IRequest",339],["T_WHITESPACE"," ",339],["T_EXTENDS","extends",339],["T_WHITESPACE"," ",339],["T_STRING","IService",339],["T_WHITESPACE","\n",339],"{",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Gets the requested method type\n     * @see GET, POST, PUT, DELETE ...\n     * @return string\n     *\/",342],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","getMethod",347],"(",")",";",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Gets the requested unique ressource location\n     * @see \/index.html\n     * @return string\n     *\/",349],["T_WHITESPACE","\n    ",353],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","getLocation",354],"(",")",";",["T_WHITESPACE","\n\n    ",354],["T_DOC_COMMENT","\/**\n     * Gets the request base dir (to build requests)\n     * @return string\n     *\/",356],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","getBaseDir",360],"(",")",";",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * Sets the requested unique ressource location\n     * @params string $url\n     * @return IRequest\n     *\/",362],["T_WHITESPACE","\n    ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","setLocation",367],"(",["T_VARIABLE","$url",367],")",";",["T_WHITESPACE","\n\n    ",367],["T_DOC_COMMENT","\/**\n     * Gets the response type : html, xml, json ...\n     * @return string\n     *\/",369],["T_WHITESPACE","\n    ",372],["T_PUBLIC","public",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","getResponseType",373],"(",")",";",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Gets the list of requested parameters\n     * @return array\n     *\/",375],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","getParameters",379],"(",")",";",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Gets the specified parameter\n     * @return mixed\n     *\/",381],["T_WHITESPACE","\n    ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","getParameter",385],"(",["T_VARIABLE","$name",385],")",";",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * Check if the specified parameter is defined\n     * @return boolean\n     *\/",387],["T_WHITESPACE","\n    ",390],["T_PUBLIC","public",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","hasParameter",391],"(",["T_VARIABLE","$name",391],")",";",["T_WHITESPACE","\n",391],"}",["T_WHITESPACE","\n\n",392],["T_DOC_COMMENT","\/**\n * The informations layer\n *\/",394],["T_WHITESPACE","\n",396],["T_INTERFACE","interface",397],["T_WHITESPACE"," ",397],["T_STRING","IInfos",397],["T_WHITESPACE"," ",397],["T_EXTENDS","extends",397],["T_WHITESPACE"," ",397],["T_STRING","IService",397],["T_WHITESPACE","\n",397],"{",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * Check if the specified configuration key is defined\n     * @param string $key\n     * @return boolean\n     *\/",400],["T_WHITESPACE","\n    ",404],["T_PUBLIC","public",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","hasConfig",405],"(",["T_VARIABLE","$key",405],")",";",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * Gets the configuration entry\n     * @param string $key\n     * @return mixed\n     *\/",407],["T_WHITESPACE","\n    ",411],["T_PUBLIC","public",412],["T_WHITESPACE"," ",412],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","getConfig",412],"(",["T_VARIABLE","$key",412],")",";",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Sets the specified configuration entry\n     * @param string $key\n     * @param mixed $value\n     * @return void\n     *\/",414],["T_WHITESPACE","\n    ",419],["T_PUBLIC","public",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","setConfig",420],"(",["T_VARIABLE","$key",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$value",420],")",";",["T_WHITESPACE","\n\n    ",420],["T_DOC_COMMENT","\/**\n     * Gets the application name\n     * @return string\n     *\/",422],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","getName",426],"(",")",";",["T_WHITESPACE","\n\n    ",426],["T_DOC_COMMENT","\/**\n     * Sets the current application name\n     * @param string $value\n     *\/",428],["T_WHITESPACE","\n    ",431],["T_PUBLIC","public",432],["T_WHITESPACE"," ",432],["T_FUNCTION","function",432],["T_WHITESPACE"," ",432],["T_STRING","setName",432],"(",["T_VARIABLE","$value",432],")",";",["T_WHITESPACE","\n\n    ",432],["T_DOC_COMMENT","\/**\n     * Gets the page title\n     * @return string\n     *\/",434],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","getTitle",438],"(",")",";",["T_WHITESPACE","\n\n    ",438],["T_DOC_COMMENT","\/**\n     * Sets the current page title\n     * @param string $value\n     *\/",440],["T_WHITESPACE","\n    ",443],["T_PUBLIC","public",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","setTitle",444],"(",["T_VARIABLE","$value",444],")",";",["T_WHITESPACE","\n\n    ",444],["T_DOC_COMMENT","\/**\n     * Gets the page description\n     * @return string\n     *\/",446],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","getDescription",450],"(",")",";",["T_WHITESPACE","\n\n    ",450],["T_DOC_COMMENT","\/**\n     * Sets the current page description\n     * @param string $value\n     *\/",452],["T_WHITESPACE","\n    ",455],["T_PUBLIC","public",456],["T_WHITESPACE"," ",456],["T_FUNCTION","function",456],["T_WHITESPACE"," ",456],["T_STRING","setDescription",456],"(",["T_VARIABLE","$value",456],")",";",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Gets the page template\n     * @return string\n     *\/",458],["T_WHITESPACE","\n    ",461],["T_PUBLIC","public",462],["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","getTemplate",462],"(",")",";",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * Sets the current page template\n     * @param string $value\n     *\/",464],["T_WHITESPACE","\n    ",467],["T_PUBLIC","public",468],["T_WHITESPACE"," ",468],["T_FUNCTION","function",468],["T_WHITESPACE"," ",468],["T_STRING","setTemplate",468],"(",["T_VARIABLE","$value",468],")",";",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * Gets the page layout\n     * @return string\n     *\/",470],["T_WHITESPACE","\n    ",473],["T_PUBLIC","public",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","getLayout",474],"(",")",";",["T_WHITESPACE","\n\n    ",474],["T_DOC_COMMENT","\/**\n     * Sets the current page layout\n     * @param string $value\n     *\/",476],["T_WHITESPACE","\n    ",479],["T_PUBLIC","public",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","setLayout",480],"(",["T_VARIABLE","$value",480],")",";",["T_WHITESPACE","\n",480],"}",["T_WHITESPACE","\n\n",481],["T_DOC_COMMENT","\/**\n * The router interface\n *\/",483],["T_WHITESPACE","\n",485],["T_INTERFACE","interface",486],["T_WHITESPACE"," ",486],["T_STRING","IRouter",486],["T_WHITESPACE"," ",486],["T_EXTENDS","extends",486],["T_WHITESPACE"," ",486],["T_STRING","IService",486],["T_WHITESPACE","\n",486],"{",["T_WHITESPACE","\n\n    ",487],["T_DOC_COMMENT","\/**\n     * Retrieves a list of routes from the configuration\n     * @return array\n     *\/",489],["T_WHITESPACE","\n    ",492],["T_PUBLIC","public",493],["T_WHITESPACE"," ",493],["T_FUNCTION","function",493],["T_WHITESPACE"," ",493],["T_STRING","getRoutes",493],"(",")",";",["T_WHITESPACE","\n\n    ",493],["T_DOC_COMMENT","\/**\n     * Gets the requested route\n     * @param string $url\n     * @return string\n     *\/",495],["T_WHITESPACE","\n    ",499],["T_PUBLIC","public",500],["T_WHITESPACE"," ",500],["T_FUNCTION","function",500],["T_WHITESPACE"," ",500],["T_STRING","getRoute",500],"(",["T_VARIABLE","$url",500],")",";",["T_WHITESPACE","\n\n    ",500],["T_DOC_COMMENT","\/**\n     * Gets a url from the specified route\n     * @param string $route\n     * @param array $args\n     *\/",502],["T_WHITESPACE","\n    ",506],["T_PUBLIC","public",507],["T_WHITESPACE"," ",507],["T_FUNCTION","function",507],["T_WHITESPACE"," ",507],["T_STRING","getUrl",507],"(",["T_VARIABLE","$route",507],",",["T_WHITESPACE"," ",507],["T_ARRAY","array",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$args",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_STRING","null",507],")",";",["T_WHITESPACE","\n",507],"}",["T_WHITESPACE","\n\n",508],["T_DOC_COMMENT","\/**\n * The view interface\n *\/",510],["T_WHITESPACE","\n",512],["T_INTERFACE","interface",513],["T_WHITESPACE"," ",513],["T_STRING","IView",513],["T_WHITESPACE"," ",513],["T_EXTENDS","extends",513],["T_WHITESPACE"," ",513],["T_STRING","IService",513],["T_WHITESPACE","\n",513],"{",["T_WHITESPACE","\n    ",514],["T_DOC_COMMENT","\/**\n     * Sets the view (page) title\n     * @return IView\n     *\/",515],["T_WHITESPACE","\n    ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","setTitle",519],"(",["T_VARIABLE","$title",519],")",";",["T_WHITESPACE","\n    ",519],["T_DOC_COMMENT","\/**\n     * Gets the view (page) title\n     * @return string\n     *\/",520],["T_WHITESPACE","\n    ",523],["T_PUBLIC","public",524],["T_WHITESPACE"," ",524],["T_FUNCTION","function",524],["T_WHITESPACE"," ",524],["T_STRING","getTitle",524],"(",")",";",["T_WHITESPACE","\n    ",524],["T_DOC_COMMENT","\/**\n     * Sets the main layout\n     * @return IView\n     *\/",525],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","setLayout",529],"(",["T_VARIABLE","$file",529],")",";",["T_WHITESPACE","\n\n    ",529],["T_DOC_COMMENT","\/**\n     * Initialize the layout data\n     * @return IView\n     *\/",531],["T_WHITESPACE","\n    ",534],["T_PUBLIC","public",535],["T_WHITESPACE"," ",535],["T_FUNCTION","function",535],["T_WHITESPACE"," ",535],["T_STRING","initLayout",535],"(",")",";",["T_WHITESPACE","\n\n    ",535],["T_DOC_COMMENT","\/**\n     * Sets the templating file\n     * @return IView\n     *\/",537],["T_WHITESPACE","\n    ",540],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","setTemplate",541],"(",["T_VARIABLE","$file",541],")",";",["T_WHITESPACE","\n\n    ",541],["T_DOC_COMMENT","\/**\n     * Adds the specified data to the end of the specified\n     * zone (using the specified file for the rendering)\n     * @return IView\n     *\/",543],["T_WHITESPACE","\n    ",547],["T_PUBLIC","public",548],["T_WHITESPACE"," ",548],["T_FUNCTION","function",548],["T_WHITESPACE"," ",548],["T_STRING","push",548],"(",["T_VARIABLE","$zone",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$file",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$datasource",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_STRING","null",548],")",";",["T_WHITESPACE","\n\n    ",548],["T_DOC_COMMENT","\/**\n     * Attaching a widget data\n     * @param string $zone\n     * @param string $widget\n     * @param string|callback $render\n     * @param array|callback $datasource\n     * @return IView\n     *\/",550],["T_WHITESPACE","\n    ",557],["T_PUBLIC","public",558],["T_WHITESPACE"," ",558],["T_FUNCTION","function",558],["T_WHITESPACE"," ",558],["T_STRING","attach",558],"(",["T_WHITESPACE","\n    ",558],["T_VARIABLE","$zone",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$widget",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$render",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","null",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$datasource",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","null",559],["T_WHITESPACE","\n    ",559],")",";",["T_WHITESPACE","\n\n    ",560],["T_DOC_COMMENT","\/**\n     * Adds the specified data to the top of the specified\n     * zone (using the specified file for the rendering)\n     * @return IView\n     *\/",562],["T_WHITESPACE","\n    ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","insert",567],"(",["T_VARIABLE","$zone",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$file",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$datasource",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_STRING","null",567],")",";",["T_WHITESPACE","\n\n    ",567],["T_DOC_COMMENT","\/**\n     * Renders the specified file\n     * @return string\n     *\/",569],["T_WHITESPACE","\n    ",572],["T_PUBLIC","public",573],["T_WHITESPACE"," ",573],["T_FUNCTION","function",573],["T_WHITESPACE"," ",573],["T_STRING","render",573],"(",["T_VARIABLE","$file",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$datasource",573],["T_WHITESPACE"," ",573],"=",["T_WHITESPACE"," ",573],["T_STRING","null",573],")",";",["T_WHITESPACE","\n\n    ",573],["T_DOC_COMMENT","\/**\n     * Renders the current template\n     * @return string\n     *\/",575],["T_WHITESPACE","\n    ",578],["T_PUBLIC","public",579],["T_WHITESPACE"," ",579],["T_FUNCTION","function",579],["T_WHITESPACE"," ",579],["T_STRING","renderTemplate",579],"(",")",";",["T_WHITESPACE","\n\n    ",579],["T_DOC_COMMENT","\/**\n     * Renders the current layout\n     * @return string\n     *\/",581],["T_WHITESPACE","\n    ",584],["T_PUBLIC","public",585],["T_WHITESPACE"," ",585],["T_FUNCTION","function",585],["T_WHITESPACE"," ",585],["T_STRING","renderLayout",585],"(",")",";",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Renders the current layout\n     * @return string\n     *\/",587],["T_WHITESPACE","\n    ",590],["T_PUBLIC","public",591],["T_WHITESPACE"," ",591],["T_FUNCTION","function",591],["T_WHITESPACE"," ",591],["T_STRING","renderPlaceholder",591],"(",["T_VARIABLE","$zone",591],")",";",["T_WHITESPACE","\n",591],"}",["T_WHITESPACE","\n\n",592],["T_DOC_COMMENT","\/**\n * The assets manager structure\n *\/",594],["T_WHITESPACE","\n",596],["T_INTERFACE","interface",597],["T_WHITESPACE"," ",597],["T_STRING","IAssets",597],["T_WHITESPACE"," ",597],["T_EXTENDS","extends",597],["T_WHITESPACE"," ",597],["T_STRING","IService",597],["T_WHITESPACE","\n",597],"{",["T_WHITESPACE","\n\n    ",598],["T_DOC_COMMENT","\/**\n     * Check if the specified package is defined\n     * @param string $package\n     * @return boolean\n     *\/",600],["T_WHITESPACE","\n    ",604],["T_PUBLIC","public",605],["T_WHITESPACE"," ",605],["T_FUNCTION","function",605],["T_WHITESPACE"," ",605],["T_STRING","hasConfig",605],"(",["T_VARIABLE","$package",605],")",";",["T_WHITESPACE","\n\n    ",605],["T_DOC_COMMENT","\/**\n     * Gets the specified package configuration\n     * @param string $package\n     * @return array\n     * @throws Exception\n     *\/",607],["T_WHITESPACE","\n    ",612],["T_PUBLIC","public",613],["T_WHITESPACE"," ",613],["T_FUNCTION","function",613],["T_WHITESPACE"," ",613],["T_STRING","getConfig",613],"(",["T_VARIABLE","$package",613],")",";",["T_WHITESPACE","\n\n    ",613],["T_DOC_COMMENT","\/**\n     * Attach a package to the current app\n     * @param string $package\n     * @return void\n     *\/",615],["T_WHITESPACE","\n    ",619],["T_PUBLIC","public",620],["T_WHITESPACE"," ",620],["T_FUNCTION","function",620],["T_WHITESPACE"," ",620],["T_STRING","attach",620],"(",["T_VARIABLE","$package",620],")",";",["T_WHITESPACE","\n\n    ",620],["T_DOC_COMMENT","\/**\n     * Remove the package usage\n     * @param string $package\n     * @return void\n     *\/",622],["T_WHITESPACE","\n    ",626],["T_PUBLIC","public",627],["T_WHITESPACE"," ",627],["T_FUNCTION","function",627],["T_WHITESPACE"," ",627],["T_STRING","detach",627],"(",["T_VARIABLE","$package",627],")",";",["T_WHITESPACE","\n\n    ",627],["T_DOC_COMMENT","\/**\n     * Add the specified external js file\n     * @param string $file\n     * @return IAssets\n     *\/",629],["T_WHITESPACE","\n    ",633],["T_PUBLIC","public",634],["T_WHITESPACE"," ",634],["T_FUNCTION","function",634],["T_WHITESPACE"," ",634],["T_STRING","useJs",634],"(",["T_WHITESPACE"," ",634],["T_VARIABLE","$file",634],["T_WHITESPACE"," ",634],")",";",["T_WHITESPACE","\n\n    ",634],["T_DOC_COMMENT","\/**\n     * Adds the specified css file\n     * @param string $file\n     * @return IAssets\n     *\/",636],["T_WHITESPACE","\n    ",640],["T_PUBLIC","public",641],["T_WHITESPACE"," ",641],["T_FUNCTION","function",641],["T_WHITESPACE"," ",641],["T_STRING","useCss",641],"(",["T_WHITESPACE"," ",641],["T_VARIABLE","$file",641],["T_WHITESPACE"," ",641],")",";",["T_WHITESPACE","\n\n    ",641],["T_DOC_COMMENT","\/**\n     * Retrieves the list of css includes\n     * @return array\n     *\/",643],["T_WHITESPACE","\n    ",646],["T_PUBLIC","public",647],["T_WHITESPACE"," ",647],["T_FUNCTION","function",647],["T_WHITESPACE"," ",647],["T_STRING","getCss",647],"(",")",";",["T_WHITESPACE","\n\n    ",647],["T_DOC_COMMENT","\/**\n     * Gets a list of JS links\n     * @return array\n     *\/",649],["T_WHITESPACE","\n    ",652],["T_PUBLIC","public",653],["T_WHITESPACE"," ",653],["T_FUNCTION","function",653],["T_WHITESPACE"," ",653],["T_STRING","getJs",653],"(",")",";",["T_WHITESPACE","\n",653],"}",["T_WHITESPACE","\n\n",654],["T_DOC_COMMENT","\/**\n * Services interfaces\n *\/",656],["T_WHITESPACE","\n",658],["T_INTERFACE","interface",659],["T_WHITESPACE"," ",659],["T_STRING","IResponse",659],["T_WHITESPACE"," ",659],["T_EXTENDS","extends",659],["T_WHITESPACE"," ",659],["T_STRING","IService",659],["T_WHITESPACE","\n",659],"{",["T_WHITESPACE","\n\n    ",660],["T_DOC_COMMENT","\/**\n     * Sets the response code\n     * @param string $code\n     * @param string $message\n     * @return IResponse\n     *\/",662],["T_WHITESPACE","\n    ",667],["T_PUBLIC","public",668],["T_WHITESPACE"," ",668],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","setCode",668],"(",["T_VARIABLE","$code",668],",",["T_WHITESPACE"," ",668],["T_VARIABLE","$message",668],")",";",["T_WHITESPACE","\n\n    ",668],["T_DOC_COMMENT","\/**\n     * Sets the response header\n     * @param string|array $attribute\n     * @param string $value\n     * @return IResponse\n     *\/",670],["T_WHITESPACE","\n    ",675],["T_PUBLIC","public",676],["T_WHITESPACE"," ",676],["T_FUNCTION","function",676],["T_WHITESPACE"," ",676],["T_STRING","setHeader",676],"(",["T_VARIABLE","$attribute",676],",",["T_WHITESPACE"," ",676],["T_VARIABLE","$value",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_STRING","null",676],")",";",["T_WHITESPACE","\n\n    ",676],["T_DOC_COMMENT","\/**\n     * Write a new line with the specified message\n     * @param string $message\n     * @return IResponse\n     *\/",678],["T_WHITESPACE","\n    ",682],["T_PUBLIC","public",683],["T_WHITESPACE"," ",683],["T_FUNCTION","function",683],["T_WHITESPACE"," ",683],["T_STRING","writeLine",683],"(",["T_VARIABLE","$message",683],")",";",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * Outputs the specified contents\n     * @param string $message\n     * @return IResponse\n     *\/",685],["T_WHITESPACE","\n    ",689],["T_PUBLIC","public",690],["T_WHITESPACE"," ",690],["T_FUNCTION","function",690],["T_WHITESPACE"," ",690],["T_STRING","write",690],"(",["T_VARIABLE","$message",690],")",";",["T_WHITESPACE","\n",690],"}"]