[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * This file is distributed under the MIT Open Source\n * License. See README.MD for details.\n * @author Ioan CHIRIAC\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","beaba",7],["T_NS_SEPARATOR","\\",7],["T_STRING","services",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","beaba",8],["T_NS_SEPARATOR","\\",8],["T_STRING","core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Service",8],";",["T_WHITESPACE","\n\n\n",8],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","HttpRequest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","Service",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$_location",16],";",["T_WHITESPACE","\n\n    ",16],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$lang",18],";",["T_WHITESPACE","\n\n    ",18],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_response",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Gets the requested method type\n     * @see GET, POST, PUT, DELETE ...\n     * @return string\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","getMethod",27],"(",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_RETURN","return",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_SERVER",29],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",29],"]",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Change the current url location\n     * @param string $url\n     *\/",32],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setLocation",36],"(",["T_WHITESPACE"," ",36],["T_VARIABLE","$url",36],["T_WHITESPACE"," ",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","_location",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$url",38],";",["T_WHITESPACE","\n        ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Gets the requested unique ressource location\n     * @see \/index.html\n     * @return string\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","getLocation",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_WHITESPACE"," ",49],"!",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_location",49],["T_WHITESPACE"," ",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$base_dir",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getBaseDir",50],"(",")",";",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$query",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","strpos",51],"(",["T_VARIABLE","$_SERVER",51],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",51],"]",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'?'",51],")",";",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_location",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","substr",52],"(",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$_SERVER",53],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",53],"]",",",["T_WHITESPACE"," ",53],["T_STRING","strlen",53],"(",["T_VARIABLE","$base_dir",53],")",",",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$query",54],["T_WHITESPACE"," ",54],["T_IS_NOT_IDENTICAL","!==",54],["T_WHITESPACE"," ",54],["T_STRING","false",54],["T_WHITESPACE"," ",54],"?",["T_WHITESPACE","\n                    ",54],["T_VARIABLE","$query",55],["T_WHITESPACE"," ",55],"-",["T_WHITESPACE"," ",55],["T_STRING","strlen",55],"(",["T_VARIABLE","$base_dir",55],")",["T_WHITESPACE"," ",55],":",["T_WHITESPACE"," ",55],["T_STRING","strlen",55],"(",["T_VARIABLE","$_SERVER",55],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",55],"]",")",["T_WHITESPACE","\n            ",55],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_location",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Chose the language from the request\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","getLang",64],"(",["T_WHITESPACE"," ",64],["T_VARIABLE","$default",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","DEFAULT_LANG",64],["T_WHITESPACE"," ",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_WHITESPACE"," ",65],"!",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","lang",65],["T_WHITESPACE"," ",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$langs",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","app",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","config",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getConfig",66],"(",["T_CONSTANT_ENCAPSED_STRING","'infos'",66],")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$langs",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","explode",67],"(",["T_CONSTANT_ENCAPSED_STRING","','",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$langs",67],"[",["T_CONSTANT_ENCAPSED_STRING","'langs'",67],"]",")",";",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$url",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getLocation",68],"(",")",";",["T_WHITESPACE","\n            ",68],["T_COMMENT","\/\/ gets the host extension\n",69],["T_WHITESPACE","            ",70],["T_VARIABLE","$ext",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","strtolower",70],"(",["T_STRING","substr",70],"(",["T_VARIABLE","$_SERVER",70],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",70],"]",",",["T_WHITESPACE"," ",70],"-",["T_LNUMBER","2",70],")",")",";",["T_WHITESPACE","\n            ",70],["T_COMMENT","\/\/ handle the language\n",71],["T_WHITESPACE","            ",72],["T_VARIABLE","$redirect",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","false",72],";",["T_WHITESPACE","\n            ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_WHITESPACE"," ",73],["T_STRING","strlen",73],"(",["T_VARIABLE","$url",73],")",["T_WHITESPACE"," ",73],["T_IS_IDENTICAL","===",73],["T_WHITESPACE"," ",73],["T_LNUMBER","3",73],["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],["T_STRING","substr",73],"(",["T_VARIABLE","$url",73],",",["T_WHITESPACE"," ",73],"-",["T_LNUMBER","1",73],")",["T_WHITESPACE"," ",73],["T_IS_NOT_IDENTICAL","!==",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'\/'",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$url",74],["T_WHITESPACE"," ",74],["T_CONCAT_EQUAL",".=",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'\/'",74],";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_WHITESPACE","\n                ",76],["T_STRING","substr",77],"(",["T_VARIABLE","$url",77],",",["T_WHITESPACE"," ",77],["T_LNUMBER","3",77],",",["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],")",["T_WHITESPACE"," ",77],["T_IS_IDENTICAL","===",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'\/'",77],["T_WHITESPACE","\n                ",77],["T_BOOLEAN_AND","&&",78],["T_WHITESPACE"," ",78],["T_STRING","in_array",78],"(",["T_STRING","substr",78],"(",["T_VARIABLE","$url",78],",",["T_WHITESPACE"," ",78],["T_LNUMBER","1",78],",",["T_WHITESPACE"," ",78],["T_LNUMBER","2",78],")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$langs",78],")",["T_WHITESPACE","\n            ",78],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","lang",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","substr",80],"(",["T_VARIABLE","$url",80],",",["T_WHITESPACE"," ",80],["T_LNUMBER","1",80],",",["T_WHITESPACE"," ",80],["T_LNUMBER","2",80],")",";",["T_WHITESPACE","\n            ",80],"}",["T_WHITESPACE"," ",81],["T_ELSEIF","elseif",81],"(","!",["T_EMPTY","empty",81],"(",["T_VARIABLE","$_SERVER",81],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",81],"]",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","lang",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","explode",82],"(",["T_CONSTANT_ENCAPSED_STRING","','",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$_SERVER",82],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",82],"]",",",["T_WHITESPACE"," ",82],["T_LNUMBER","2",82],")",";",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","lang",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","explode",83],"(",["T_CONSTANT_ENCAPSED_STRING","';'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","lang",83],"[",["T_LNUMBER","0",83],"]",")",";",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","lang",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","strtolower",84],"(",["T_STRING","substr",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","lang",84],"[",["T_LNUMBER","0",84],"]",",",["T_WHITESPACE"," ",84],["T_LNUMBER","0",84],",",["T_WHITESPACE"," ",84],["T_LNUMBER","2",84],")",")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","lang",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","in_array",86],"(",["T_VARIABLE","$ext",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$langs",86],")",["T_WHITESPACE"," ",86],"?",["T_WHITESPACE"," ",86],["T_VARIABLE","$ext",86],["T_WHITESPACE"," ",86],":",["T_WHITESPACE"," ",86],["T_STRING","DEFAULT_LANG",86],";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n            ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(","!",["T_STRING","in_array",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","lang",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$langs",88],")",["T_WHITESPACE"," ",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$url",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\/'",89],";",["T_WHITESPACE"," ",89],["T_COMMENT","\/\/ undefined lang\n",89],["T_WHITESPACE","                ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","lang",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","DEFAULT_LANG",90],";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n            ",91],["T_COMMENT","\/\/ check if need redirection\n",92],["T_WHITESPACE","            ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$ext",94],["T_WHITESPACE"," ",94],["T_IS_NOT_IDENTICAL","!==",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","lang",94],["T_WHITESPACE"," ",94],["T_BOOLEAN_AND","&&",94],["T_WHITESPACE","\n                ",94],["T_STRING","substr",95],"(",["T_VARIABLE","$url",95],",",["T_WHITESPACE"," ",95],["T_LNUMBER","0",95],",",["T_WHITESPACE"," ",95],["T_LNUMBER","4",95],")",["T_WHITESPACE"," ",95],["T_IS_NOT_IDENTICAL","!==",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'\/'",95],".",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","lang",95],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",95],["T_WHITESPACE","\n            ",95],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$redirect",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_EMPTY","empty",97],"(",["T_VARIABLE","$_POST",97],")",["T_WHITESPACE"," ",97],["T_BOOLEAN_AND","&&",97],["T_WHITESPACE"," ",97],["T_STRING","in_array",97],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getResponseType",97],"(",")",")",";",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$url",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'\/'",98],".",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","lang",98],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_STRING","ltrim",98],"(",["T_VARIABLE","$url",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'\/'",98],")",";",["T_WHITESPACE","\n                ",98],["T_COMMENT","\/\/ sends header just for information purpose\n",99],["T_WHITESPACE","                ",100],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_WHITESPACE"," ",100],"!",["T_VARIABLE","$redirect",100],["T_WHITESPACE"," ",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                    ",100],["T_STRING","header",101],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Need-Redirect: '",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$url",101],")",";",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n            ",103],["T_COMMENT","\/\/ remove the 'www.' from the host\n",104],["T_WHITESPACE","            ",105],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_WHITESPACE"," ",105],["T_VARIABLE","$redirect",105],["T_WHITESPACE"," ",105],["T_BOOLEAN_OR","||",105],["T_WHITESPACE"," ",105],["T_STRING","substr",105],"(",["T_VARIABLE","$_SERVER",105],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",105],"]",",",["T_WHITESPACE"," ",105],["T_LNUMBER","0",105],",",["T_WHITESPACE"," ",105],["T_LNUMBER","4",105],")",["T_WHITESPACE"," ",105],["T_IS_IDENTICAL","===",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'www.'",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_WHITESPACE"," ",106],"!",["T_EMPTY","empty",106],"(",["T_VARIABLE","$_GET",106],")",["T_WHITESPACE"," ",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$url",107],["T_WHITESPACE"," ",107],["T_CONCAT_EQUAL",".=",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'?'",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_STRING","http_build_query",107],"(",["T_VARIABLE","$_GET",107],")",";",["T_WHITESPACE","\n                ",107],"}",["T_WHITESPACE","\n                ",108],["T_STRING","header",109],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 301 Moved Permanently'",109],",",["T_WHITESPACE"," ",109],["T_STRING","true",109],",",["T_WHITESPACE"," ",109],["T_LNUMBER","301",109],")",";",["T_WHITESPACE","\n                ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_WHITESPACE"," ",110],["T_STRING","substr",110],"(",["T_VARIABLE","$_SERVER",110],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",110],"]",",",["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],",",["T_WHITESPACE"," ",110],["T_LNUMBER","4",110],")",["T_WHITESPACE"," ",110],["T_IS_IDENTICAL","===",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'www.'",110],["T_WHITESPACE"," ",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                    ",110],["T_STRING","header",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: http:\/\/'",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_STRING","substr",111],"(",["T_VARIABLE","$_SERVER",111],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",111],"]",",",["T_WHITESPACE"," ",111],["T_LNUMBER","4",111],")",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$url",111],")",";",["T_WHITESPACE","\n                ",111],"}",["T_WHITESPACE"," ",112],["T_ELSE","else",112],["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                    ",112],["T_STRING","header",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_VARIABLE","$url",113],")",";",["T_WHITESPACE","\n                ",113],"}",["T_WHITESPACE","\n                ",114],["T_STRING","header",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Status: 301 Moved Permanently'",115],",",["T_WHITESPACE"," ",115],["T_STRING","true",115],",",["T_WHITESPACE"," ",115],["T_LNUMBER","301",115],")",";",["T_WHITESPACE","\n                ",115],["T_EXIT","exit",116],"(",["T_LNUMBER","0",116],")",";",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n            ",117],["T_COMMENT","\/\/ remove the language from the path for routing purpose\n",118],["T_WHITESPACE","            ",119],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_WHITESPACE"," ",119],["T_STRING","substr",119],"(",["T_VARIABLE","$url",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","4",119],")",["T_WHITESPACE"," ",119],["T_IS_IDENTICAL","===",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/'",119],".",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","lang",119],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",119],["T_WHITESPACE"," ",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$url",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","substr",120],"(",["T_VARIABLE","$url",120],",",["T_WHITESPACE"," ",120],["T_LNUMBER","3",120],")",";",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_location",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$url",122],";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","lang",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Gets the request base dir (to build requests)\n     * @return type\n     *\/",127],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getBaseDir",131],"(",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_STRING","substr",132],"(",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$_SERVER",133],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",133],"]",",",["T_WHITESPACE"," ",133],["T_LNUMBER","0",133],",",["T_WHITESPACE","\n            ",133],["T_STRING","strrpos",134],"(",["T_VARIABLE","$_SERVER",134],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",134],"]",",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'\/'",134],")",["T_WHITESPACE","\n        ",134],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n    ",136],["T_DOC_COMMENT","\/**\n     * Gets the response type : html, xml, json ...\n     * @return array\n     *\/",137],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getResponseType",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_WHITESPACE"," ",143],"!",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_response",143],["T_WHITESPACE"," ",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_response",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",";",["T_WHITESPACE","\n            ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_WHITESPACE"," ",145],["T_EMPTY","empty",145],"(",["T_VARIABLE","$_SERVER",145],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",145],"]",")",["T_WHITESPACE"," ",145],")",["T_WHITESPACE"," ",145],["T_VARIABLE","$_SERVER",145],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'*\/*'",145],";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$accept",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","explode",146],"(",["T_CONSTANT_ENCAPSED_STRING","','",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$_SERVER",146],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",146],"]",")",";",["T_WHITESPACE","\n            ",146],["T_FOREACH","foreach",147],"(",["T_WHITESPACE"," ",147],["T_VARIABLE","$accept",147],["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$format",147],["T_WHITESPACE"," ",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$format",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","explode",148],"(",["T_CONSTANT_ENCAPSED_STRING","';'",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$format",148],",",["T_WHITESPACE"," ",148],["T_LNUMBER","2",148],")",";",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_response",149],"[","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","strtolower",149],"(",["T_VARIABLE","$format",149],"[",["T_LNUMBER","0",149],"]",")",";",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$format",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","explode",150],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$format",150],"[",["T_LNUMBER","0",150],"]",",",["T_WHITESPACE"," ",150],["T_LNUMBER","2",150],")",";",["T_WHITESPACE","\n                ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_WHITESPACE"," ",151],"!",["T_EMPTY","empty",151],"(",["T_VARIABLE","$format",151],"[",["T_LNUMBER","1",151],"]",")",["T_WHITESPACE"," ",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_response",152],"[","]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","strtolower",152],"(",["T_VARIABLE","$format",152],"[",["T_LNUMBER","1",152],"]",")",";",["T_WHITESPACE","\n                ",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_response",154],"[","]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","strtolower",154],"(",["T_VARIABLE","$format",154],"[",["T_LNUMBER","0",154],"]",")",";",["T_WHITESPACE","\n                ",154],"}",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n            ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_WHITESPACE"," ",157],["T_EMPTY","empty",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_response",157],")",["T_WHITESPACE"," ",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_response",158],"[","]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'*'",158],";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_response",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Gets the list of requested parameters\n     * @return array\n     *\/",164],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getParameters",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$_REQUEST",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Gets the specified parameter\n     * @return mixed\n     *\/",173],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","getParameter",177],"(",["T_VARIABLE","$name",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_ISSET","isset",179],"(",["T_VARIABLE","$_REQUEST",179],"[",["T_VARIABLE","$name",179],"]",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$_REQUEST",180],"[",["T_VARIABLE","$name",180],"]",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE"," ",181],["T_ELSE","else",181],["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_STRING","null",182],";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Check if the specified parameter is defined\n     * @return boolean\n     *\/",186],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","hasParameter",190],"(",["T_VARIABLE","$name",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_ISSET","isset",192],"(",["T_VARIABLE","$_REQUEST",192],"[",["T_VARIABLE","$name",192],"]",")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n",193],"}",["T_WHITESPACE","\n",195]]