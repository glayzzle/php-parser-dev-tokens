[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Error",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Controller",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Controller",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Controller",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Exception",19],["T_NS_SEPARATOR","\\",19],["T_STRING","MissingActionException",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Controller",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Exception",20],["T_NS_SEPARATOR","\\",20],["T_STRING","MissingComponentException",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Configure",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Core",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Exception",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Exception",22],["T_WHITESPACE"," ",22],["T_AS","as",22],["T_WHITESPACE"," ",22],["T_STRING","CakeException",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Core",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Exception",23],["T_NS_SEPARATOR","\\",23],["T_STRING","MissingPluginException",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Core",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Plugin",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Cake",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Datasource",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Exception",25],["T_NS_SEPARATOR","\\",25],["T_STRING","MissingDatasourceConfigException",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Cake",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Datasource",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Exception",26],["T_NS_SEPARATOR","\\",26],["T_STRING","MissingDatasourceException",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Cake",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Error",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ExceptionRenderer",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Cake",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Event",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Event",28],";",["T_WHITESPACE","\n",28],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Cake",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Event",29],["T_NS_SEPARATOR","\\",29],["T_STRING","EventManager",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Cake",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mailer",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Exception",30],["T_NS_SEPARATOR","\\",30],["T_STRING","MissingActionException",30],["T_WHITESPACE"," ",30],["T_AS","as",30],["T_WHITESPACE"," ",30],["T_STRING","MissingMailerActionException",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Cake",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Network",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Exception",31],["T_NS_SEPARATOR","\\",31],["T_STRING","InternalErrorException",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Cake",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Network",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Exception",32],["T_NS_SEPARATOR","\\",32],["T_STRING","MethodNotAllowedException",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Cake",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Network",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Exception",33],["T_NS_SEPARATOR","\\",33],["T_STRING","NotFoundException",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Cake",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Network",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Exception",34],["T_NS_SEPARATOR","\\",34],["T_STRING","SocketException",34],";",["T_WHITESPACE","\n",34],["T_USE","use",35],["T_WHITESPACE"," ",35],["T_STRING","Cake",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Network",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Request",35],";",["T_WHITESPACE","\n",35],["T_USE","use",36],["T_WHITESPACE"," ",36],["T_STRING","Cake",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ORM",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Exception",36],["T_NS_SEPARATOR","\\",36],["T_STRING","MissingBehaviorException",36],";",["T_WHITESPACE","\n",36],["T_USE","use",37],["T_WHITESPACE"," ",37],["T_STRING","Cake",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Routing",37],["T_NS_SEPARATOR","\\",37],["T_STRING","DispatcherFactory",37],";",["T_WHITESPACE","\n",37],["T_USE","use",38],["T_WHITESPACE"," ",38],["T_STRING","Cake",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Routing",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Exception",38],["T_NS_SEPARATOR","\\",38],["T_STRING","MissingControllerException",38],";",["T_WHITESPACE","\n",38],["T_USE","use",39],["T_WHITESPACE"," ",39],["T_STRING","Cake",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Routing",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Router",39],";",["T_WHITESPACE","\n",39],["T_USE","use",40],["T_WHITESPACE"," ",40],["T_STRING","Cake",40],["T_NS_SEPARATOR","\\",40],["T_STRING","TestSuite",40],["T_NS_SEPARATOR","\\",40],["T_STRING","TestCase",40],";",["T_WHITESPACE","\n",40],["T_USE","use",41],["T_WHITESPACE"," ",41],["T_STRING","Cake",41],["T_NS_SEPARATOR","\\",41],["T_STRING","View",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Exception",41],["T_NS_SEPARATOR","\\",41],["T_STRING","MissingHelperException",41],";",["T_WHITESPACE","\n",41],["T_USE","use",42],["T_WHITESPACE"," ",42],["T_STRING","Cake",42],["T_NS_SEPARATOR","\\",42],["T_STRING","View",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Exception",42],["T_NS_SEPARATOR","\\",42],["T_STRING","MissingLayoutException",42],";",["T_WHITESPACE","\n",42],["T_USE","use",43],["T_WHITESPACE"," ",43],["T_STRING","Cake",43],["T_NS_SEPARATOR","\\",43],["T_STRING","View",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Exception",43],["T_NS_SEPARATOR","\\",43],["T_STRING","MissingTemplateException",43],";",["T_WHITESPACE","\n",43],["T_USE","use",44],["T_WHITESPACE"," ",44],["T_STRING","Exception",44],";",["T_WHITESPACE","\n",44],["T_USE","use",45],["T_WHITESPACE"," ",45],["T_STRING","RuntimeException",45],";",["T_WHITESPACE","\n\n",45],["T_DOC_COMMENT","\/**\n * BlueberryComponent class\n *\/",47],["T_WHITESPACE","\n",49],["T_CLASS","class",50],["T_WHITESPACE"," ",50],["T_STRING","BlueberryComponent",50],["T_WHITESPACE"," ",50],["T_EXTENDS","extends",50],["T_WHITESPACE"," ",50],["T_STRING","Component",50],["T_WHITESPACE","\n",50],"{",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * testName property\n     *\n     * @return void\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$testName",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * initialize method\n     *\n     * @param array $config\n     * @return void\n     *\/",60],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","initialize",66],"(",["T_ARRAY","array",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$config",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","testName",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'BlueberryComponent'",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n",69],"}",["T_WHITESPACE","\n\n",70],["T_DOC_COMMENT","\/**\n * TestErrorController class\n *\/",72],["T_WHITESPACE","\n",74],["T_CLASS","class",75],["T_WHITESPACE"," ",75],["T_STRING","TestErrorController",75],["T_WHITESPACE"," ",75],["T_EXTENDS","extends",75],["T_WHITESPACE"," ",75],["T_STRING","Controller",75],["T_WHITESPACE","\n",75],"{",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * uses property\n     *\n     * @var array\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$uses",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],"[","]",";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * components property\n     *\n     * @return void\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$components",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'Blueberry'",90],"]",";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * beforeRender method\n     *\n     * @return void\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","beforeRender",97],"(",["T_STRING","Event",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$event",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_ECHO","echo",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","Blueberry",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","testName",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * index method\n     *\n     * @return void\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","index",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","autoRender",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","false",109],";",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'what up'",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n\n",113],["T_DOC_COMMENT","\/**\n * MyCustomExceptionRenderer class\n *\/",115],["T_WHITESPACE","\n",117],["T_CLASS","class",118],["T_WHITESPACE"," ",118],["T_STRING","MyCustomExceptionRenderer",118],["T_WHITESPACE"," ",118],["T_EXTENDS","extends",118],["T_WHITESPACE"," ",118],["T_STRING","ExceptionRenderer",118],["T_WHITESPACE","\n",118],"{",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * custom error message type.\n     *\n     * @return void\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","missingWidgetThing",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'widget thing is missing'",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n",129],"}",["T_WHITESPACE","\n\n",130],["T_DOC_COMMENT","\/**\n * Exception class for testing app error handlers and custom errors.\n *\/",132],["T_WHITESPACE","\n",134],["T_CLASS","class",135],["T_WHITESPACE"," ",135],["T_STRING","MissingWidgetThingException",135],["T_WHITESPACE"," ",135],["T_EXTENDS","extends",135],["T_WHITESPACE"," ",135],["T_STRING","NotFoundException",135],["T_WHITESPACE","\n",135],"{",["T_WHITESPACE","\n",136],"}",["T_WHITESPACE","\n\n",137],["T_DOC_COMMENT","\/**\n * Exception class for testing app error handlers and custom errors.\n *\/",139],["T_WHITESPACE","\n",141],["T_CLASS","class",142],["T_WHITESPACE"," ",142],["T_STRING","MissingWidgetThing",142],["T_WHITESPACE"," ",142],["T_EXTENDS","extends",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Exception",142],["T_WHITESPACE","\n",142],"{",["T_WHITESPACE","\n",143],"}",["T_WHITESPACE","\n\n",144],["T_DOC_COMMENT","\/**\n * ExceptionRendererTest class\n *\/",146],["T_WHITESPACE","\n",148],["T_CLASS","class",149],["T_WHITESPACE"," ",149],["T_STRING","ExceptionRendererTest",149],["T_WHITESPACE"," ",149],["T_EXTENDS","extends",149],["T_WHITESPACE"," ",149],["T_STRING","TestCase",149],["T_WHITESPACE","\n",149],"{",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",152],["T_WHITESPACE","\n    ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$_restoreError",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","false",155],";",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * setup create a request object to get out of router later.\n     *\n     * @return void\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","setUp",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_STRING","parent",164],["T_DOUBLE_COLON","::",164],["T_STRING","setUp",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_STRING","Configure",165],["T_DOUBLE_COLON","::",165],["T_STRING","write",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Config.language'",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'eng'",165],")",";",["T_WHITESPACE","\n        ",165],["T_STRING","Router",166],["T_DOUBLE_COLON","::",166],["T_STRING","reload",166],"(",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$request",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","Request",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$request",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","base",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","''",169],";",["T_WHITESPACE","\n        ",169],["T_STRING","Router",170],["T_DOUBLE_COLON","::",170],["T_STRING","setRequestInfo",170],"(",["T_VARIABLE","$request",170],")",";",["T_WHITESPACE","\n        ",170],["T_STRING","Configure",171],["T_DOUBLE_COLON","::",171],["T_STRING","write",171],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",171],",",["T_WHITESPACE"," ",171],["T_STRING","true",171],")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * tearDown\n     *\n     * @return void\n     *\/",174],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","tearDown",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_STRING","parent",181],["T_DOUBLE_COLON","::",181],["T_STRING","tearDown",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_restoreError",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_STRING","restore_error_handler",183],"(",")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Mocks out the response on the ExceptionRenderer object so headers aren't modified.\n     *\n     * @return void\n     *\/",187],["T_WHITESPACE","\n    ",191],["T_PROTECTED","protected",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","_mockResponse",192],"(",["T_VARIABLE","$error",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$error",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","controller",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","response",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getMockBuilder",194],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",194],")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","setMethods",195],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",195],"]",")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","getMock",196],"(",")",";",["T_WHITESPACE","\n\n        ",196],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$error",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * test that methods declared in an ExceptionRenderer subclass are not converted\n     * into error400 when debug > 0\n     *\n     * @return void\n     *\/",201],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","testSubclassMethodsNotBeingConvertedToError",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$exception",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_NEW","new",209],["T_WHITESPACE"," ",209],["T_STRING","MissingWidgetThingException",209],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget not found'",209],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$ExceptionRenderer",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_mockResponse",210],"(",["T_NEW","new",210],["T_WHITESPACE"," ",210],["T_STRING","MyCustomExceptionRenderer",210],"(",["T_VARIABLE","$exception",210],")",")",";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$result",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$ExceptionRenderer",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","render",212],"(",")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEquals",214],"(",["T_CONSTANT_ENCAPSED_STRING","'widget thing is missing'",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$result",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","body",214],"(",")",")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * test that subclass methods are not converted when debug = 0\n     *\n     * @return void\n     *\/",217],["T_WHITESPACE","\n    ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","testSubclassMethodsNotBeingConvertedDebug0",222],"(",")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_STRING","Configure",224],["T_DOUBLE_COLON","::",224],["T_STRING","write",224],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",224],",",["T_WHITESPACE"," ",224],["T_STRING","false",224],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$exception",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","MissingWidgetThingException",225],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget not found'",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$ExceptionRenderer",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_mockResponse",226],"(",["T_NEW","new",226],["T_WHITESPACE"," ",226],["T_STRING","MyCustomExceptionRenderer",226],"(",["T_VARIABLE","$exception",226],")",")",";",["T_WHITESPACE","\n\n        ",226],["T_VARIABLE","$result",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$ExceptionRenderer",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","render",228],"(",")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertEquals",230],"(",["T_CONSTANT_ENCAPSED_STRING","'missingWidgetThing'",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$ExceptionRenderer",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","method",230],")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertEquals",231],"(",["T_WHITESPACE","\n            ",231],["T_CONSTANT_ENCAPSED_STRING","'widget thing is missing'",232],",",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$result",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","body",233],"(",")",",",["T_WHITESPACE","\n            ",233],["T_CONSTANT_ENCAPSED_STRING","'Method declared in subclass converted to error400'",234],["T_WHITESPACE","\n        ",234],")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * test that ExceptionRenderer subclasses properly convert framework errors.\n     *\n     * @return void\n     *\/",238],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","testSubclassConvertingFrameworkErrors",243],"(",")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_STRING","Configure",245],["T_DOUBLE_COLON","::",245],["T_STRING","write",245],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",245],",",["T_WHITESPACE"," ",245],["T_STRING","false",245],")",";",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$exception",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_STRING","MissingControllerException",247],"(",["T_CONSTANT_ENCAPSED_STRING","'PostsController'",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$ExceptionRenderer",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_mockResponse",248],"(",["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","MyCustomExceptionRenderer",248],"(",["T_VARIABLE","$exception",248],")",")",";",["T_WHITESPACE","\n\n        ",248],["T_VARIABLE","$result",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$ExceptionRenderer",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","render",250],"(",")",";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertRegExp",252],"(",["T_WHITESPACE","\n            ",252],["T_CONSTANT_ENCAPSED_STRING","'\/Not Found\/'",253],",",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$result",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","body",254],"(",")",",",["T_WHITESPACE","\n            ",254],["T_CONSTANT_ENCAPSED_STRING","'Method declared in error handler not converted to error400. %s'",255],["T_WHITESPACE","\n        ",255],")",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * test things in the constructor.\n     *\n     * @return void\n     *\/",259],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","testConstruction",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$exception",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","NotFoundException",266],"(",["T_CONSTANT_ENCAPSED_STRING","'Page not found'",266],")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$ExceptionRenderer",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_NEW","new",267],["T_WHITESPACE"," ",267],["T_STRING","ExceptionRenderer",267],"(",["T_VARIABLE","$exception",267],")",";",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertInstanceOf",269],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\ErrorController'",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$ExceptionRenderer",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","controller",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertEquals",270],"(",["T_VARIABLE","$exception",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$ExceptionRenderer",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","error",270],")",";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_DOC_COMMENT","\/**\n     * test that exception message gets coerced when debug = 0\n     *\n     * @return void\n     *\/",273],["T_WHITESPACE","\n    ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","testExceptionMessageCoercion",278],"(",")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_STRING","Configure",280],["T_DOUBLE_COLON","::",280],["T_STRING","write",280],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",280],",",["T_WHITESPACE"," ",280],["T_STRING","false",280],")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$exception",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_NEW","new",281],["T_WHITESPACE"," ",281],["T_STRING","MissingActionException",281],"(",["T_CONSTANT_ENCAPSED_STRING","'Secret info not to be leaked'",281],")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$ExceptionRenderer",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_mockResponse",282],"(",["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","ExceptionRenderer",282],"(",["T_VARIABLE","$exception",282],")",")",";",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","assertInstanceOf",284],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\ErrorController'",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$ExceptionRenderer",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","controller",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","assertEquals",285],"(",["T_VARIABLE","$exception",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$ExceptionRenderer",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","error",285],")",";",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$result",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$ExceptionRenderer",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","render",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","body",287],"(",")",";",["T_WHITESPACE","\n\n        ",287],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertEquals",289],"(",["T_CONSTANT_ENCAPSED_STRING","'error400'",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$ExceptionRenderer",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","template",289],")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","assertContains",290],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Found'",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$result",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertNotContains",291],"(",["T_CONSTANT_ENCAPSED_STRING","'Secret info not to be leaked'",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$result",291],")",";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * test that helpers in custom CakeErrorController are not lost\n     *\n     * @return void\n     *\/",294],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","testCakeErrorHelpersNotLost",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_STRING","Configure",301],["T_DOUBLE_COLON","::",301],["T_STRING","write",301],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",301],")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$exception",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_NEW","new",302],["T_WHITESPACE"," ",302],["T_STRING","SocketException",302],"(",["T_CONSTANT_ENCAPSED_STRING","'socket exception'",302],")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$renderer",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_mockResponse",303],"(",["T_NEW","new",303],["T_WHITESPACE"," ",303],["T_NS_SEPARATOR","\\",303],["T_STRING","TestApp",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Error",303],["T_NS_SEPARATOR","\\",303],["T_STRING","TestAppsExceptionRenderer",303],"(",["T_VARIABLE","$exception",303],")",")",";",["T_WHITESPACE","\n\n        ",303],["T_VARIABLE","$result",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$renderer",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","render",305],"(",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertContains",306],"(",["T_CONSTANT_ENCAPSED_STRING","'<b>peeled<\/b>'",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$result",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","body",306],"(",")",")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * test that unknown exception types with valid status codes are treated correctly.\n     *\n     * @return void\n     *\/",309],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","testUnknownExceptionTypeWithExceptionThatHasA400Code",314],"(",")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$exception",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_STRING","MissingWidgetThingException",316],"(",["T_CONSTANT_ENCAPSED_STRING","'coding fail.'",316],")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$ExceptionRenderer",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_NEW","new",317],["T_WHITESPACE"," ",317],["T_STRING","ExceptionRenderer",317],"(",["T_VARIABLE","$exception",317],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$ExceptionRenderer",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","controller",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","response",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getMockBuilder",318],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",318],")",["T_WHITESPACE","\n            ",318],["T_OBJECT_OPERATOR","->",319],["T_STRING","setMethods",319],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",319],"]",")",["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","getMock",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$ExceptionRenderer",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","controller",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","response",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","expects",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","once",321],"(",")",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","method",321],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",321],")",["T_OBJECT_OPERATOR","->",321],["T_STRING","with",321],"(",["T_LNUMBER","404",321],")",";",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$result",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$ExceptionRenderer",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","render",323],"(",")",";",["T_WHITESPACE","\n\n        ",323],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","assertFalse",325],"(",["T_STRING","method_exists",325],"(",["T_VARIABLE","$ExceptionRenderer",325],",",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'missingWidgetThing'",325],")",",",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'no method should exist.'",325],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","assertContains",326],"(",["T_CONSTANT_ENCAPSED_STRING","'coding fail'",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$result",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","body",326],"(",")",",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'Text should show up.'",326],")",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * test that unknown exception types with valid status codes are treated correctly.\n     *\n     * @return void\n     *\/",329],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","testUnknownExceptionTypeWithNoCodeIsA500",334],"(",")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$exception",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_NEW","new",336],["T_WHITESPACE"," ",336],["T_NS_SEPARATOR","\\",336],["T_STRING","OutOfBoundsException",336],"(",["T_CONSTANT_ENCAPSED_STRING","'foul ball.'",336],")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$ExceptionRenderer",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_NEW","new",337],["T_WHITESPACE"," ",337],["T_STRING","ExceptionRenderer",337],"(",["T_VARIABLE","$exception",337],")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$ExceptionRenderer",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","controller",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","response",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getMockBuilder",338],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",338],")",["T_WHITESPACE","\n            ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","setMethods",339],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",339],",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",339],"]",")",["T_WHITESPACE","\n            ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","getMock",340],"(",")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$ExceptionRenderer",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","controller",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","response",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","expects",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","once",341],"(",")",")",["T_WHITESPACE","\n            ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","method",342],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",342],")",["T_WHITESPACE","\n            ",342],["T_OBJECT_OPERATOR","->",343],["T_STRING","with",343],"(",["T_LNUMBER","500",343],")",";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$result",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$ExceptionRenderer",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","render",345],"(",")",";",["T_WHITESPACE","\n\n        ",345],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","assertContains",347],"(",["T_CONSTANT_ENCAPSED_STRING","'foul ball.'",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$result",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","body",347],"(",")",",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'Text should show up as its debug mode.'",347],")",";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_DOC_COMMENT","\/**\n     * test that unknown exceptions have messages ignored.\n     *\n     * @return void\n     *\/",350],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","testUnknownExceptionInProduction",355],"(",")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_STRING","Configure",357],["T_DOUBLE_COLON","::",357],["T_STRING","write",357],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",357],",",["T_WHITESPACE"," ",357],["T_STRING","false",357],")",";",["T_WHITESPACE","\n\n        ",357],["T_VARIABLE","$exception",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_NEW","new",359],["T_WHITESPACE"," ",359],["T_NS_SEPARATOR","\\",359],["T_STRING","OutOfBoundsException",359],"(",["T_CONSTANT_ENCAPSED_STRING","'foul ball.'",359],")",";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$ExceptionRenderer",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_NEW","new",360],["T_WHITESPACE"," ",360],["T_STRING","ExceptionRenderer",360],"(",["T_VARIABLE","$exception",360],")",";",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$ExceptionRenderer",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","controller",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","response",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getMockBuilder",361],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",361],")",["T_WHITESPACE","\n            ",361],["T_OBJECT_OPERATOR","->",362],["T_STRING","setMethods",362],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",362],"]",")",["T_WHITESPACE","\n            ",362],["T_OBJECT_OPERATOR","->",363],["T_STRING","getMock",363],"(",")",";",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$ExceptionRenderer",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","controller",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","response",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","expects",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","once",364],"(",")",")",["T_WHITESPACE","\n            ",364],["T_OBJECT_OPERATOR","->",365],["T_STRING","method",365],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",365],")",["T_WHITESPACE","\n            ",365],["T_OBJECT_OPERATOR","->",366],["T_STRING","with",366],"(",["T_LNUMBER","500",366],")",";",["T_WHITESPACE","\n\n        ",366],["T_VARIABLE","$result",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$ExceptionRenderer",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","render",368],"(",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","body",368],"(",")",";",["T_WHITESPACE","\n\n        ",368],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertNotContains",370],"(",["T_CONSTANT_ENCAPSED_STRING","'foul ball.'",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$result",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'Text should no show up.'",370],")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","assertContains",371],"(",["T_CONSTANT_ENCAPSED_STRING","'Internal Error'",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$result",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'Generic message only.'",371],")",";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * test that unknown exception types with valid status codes are treated correctly.\n     *\n     * @return void\n     *\/",374],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","testUnknownExceptionTypeWithCodeHigherThan500",379],"(",")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$exception",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_NEW","new",381],["T_WHITESPACE"," ",381],["T_NS_SEPARATOR","\\",381],["T_STRING","OutOfBoundsException",381],"(",["T_CONSTANT_ENCAPSED_STRING","'foul ball.'",381],",",["T_WHITESPACE"," ",381],["T_LNUMBER","501",381],")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$ExceptionRenderer",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_NEW","new",382],["T_WHITESPACE"," ",382],["T_STRING","ExceptionRenderer",382],"(",["T_VARIABLE","$exception",382],")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$ExceptionRenderer",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","controller",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","response",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getMockBuilder",383],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",383],")",["T_WHITESPACE","\n            ",383],["T_OBJECT_OPERATOR","->",384],["T_STRING","setMethods",384],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",384],",",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",384],"]",")",["T_WHITESPACE","\n            ",384],["T_OBJECT_OPERATOR","->",385],["T_STRING","getMock",385],"(",")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$ExceptionRenderer",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","controller",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","response",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","expects",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","once",386],"(",")",")",["T_OBJECT_OPERATOR","->",386],["T_STRING","method",386],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",386],")",["T_OBJECT_OPERATOR","->",386],["T_STRING","with",386],"(",["T_LNUMBER","501",386],")",";",["T_WHITESPACE","\n\n        ",386],["T_VARIABLE","$result",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$ExceptionRenderer",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","render",388],"(",")",";",["T_WHITESPACE","\n\n        ",388],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","assertContains",390],"(",["T_CONSTANT_ENCAPSED_STRING","'foul ball.'",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$result",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","body",390],"(",")",",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'Text should show up as its debug mode.'",390],")",";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * testerror400 method\n     *\n     * @return void\n     *\/",393],["T_WHITESPACE","\n    ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","testError400",398],"(",")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_STRING","Router",400],["T_DOUBLE_COLON","::",400],["T_STRING","reload",400],"(",")",";",["T_WHITESPACE","\n\n        ",400],["T_VARIABLE","$request",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_NEW","new",402],["T_WHITESPACE"," ",402],["T_STRING","Request",402],"(",["T_CONSTANT_ENCAPSED_STRING","'posts\/view\/1000'",402],")",";",["T_WHITESPACE","\n        ",402],["T_STRING","Router",403],["T_DOUBLE_COLON","::",403],["T_STRING","setRequestInfo",403],"(",["T_VARIABLE","$request",403],")",";",["T_WHITESPACE","\n\n        ",403],["T_VARIABLE","$exception",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_NEW","new",405],["T_WHITESPACE"," ",405],["T_STRING","NotFoundException",405],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom message'",405],")",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$ExceptionRenderer",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_NEW","new",406],["T_WHITESPACE"," ",406],["T_STRING","ExceptionRenderer",406],"(",["T_VARIABLE","$exception",406],")",";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$ExceptionRenderer",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","controller",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","response",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getMockBuilder",407],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",407],")",["T_WHITESPACE","\n            ",407],["T_OBJECT_OPERATOR","->",408],["T_STRING","setMethods",408],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",408],"]",")",["T_WHITESPACE","\n            ",408],["T_OBJECT_OPERATOR","->",409],["T_STRING","getMock",409],"(",")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$ExceptionRenderer",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","controller",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","response",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","expects",410],"(",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","once",410],"(",")",")",["T_OBJECT_OPERATOR","->",410],["T_STRING","method",410],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",410],")",["T_OBJECT_OPERATOR","->",410],["T_STRING","with",410],"(",["T_LNUMBER","404",410],")",";",["T_WHITESPACE","\n\n        ",410],["T_VARIABLE","$result",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$ExceptionRenderer",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","render",412],"(",")",["T_OBJECT_OPERATOR","->",412],["T_STRING","body",412],"(",")",";",["T_WHITESPACE","\n\n        ",412],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","assertContains",414],"(",["T_CONSTANT_ENCAPSED_STRING","'<h2>Custom message<\/h2>'",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$result",414],")",";",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","assertRegExp",415],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/<strong>'.*?\\\/posts\\\/view\\\/1000'<\\\/strong>\/\"",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$result",415],")",";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * test that error400 only modifies the messages on Cake Exceptions.\n     *\n     * @return void\n     *\/",418],["T_WHITESPACE","\n    ",422],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","testerror400OnlyChangingCakeException",423],"(",")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_STRING","Configure",425],["T_DOUBLE_COLON","::",425],["T_STRING","write",425],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",425],",",["T_WHITESPACE"," ",425],["T_STRING","false",425],")",";",["T_WHITESPACE","\n\n        ",425],["T_VARIABLE","$exception",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_NEW","new",427],["T_WHITESPACE"," ",427],["T_STRING","NotFoundException",427],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom message'",427],")",";",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$ExceptionRenderer",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_mockResponse",428],"(",["T_NEW","new",428],["T_WHITESPACE"," ",428],["T_STRING","ExceptionRenderer",428],"(",["T_VARIABLE","$exception",428],")",")",";",["T_WHITESPACE","\n\n        ",428],["T_VARIABLE","$result",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$ExceptionRenderer",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","render",430],"(",")",";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","assertContains",431],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom message'",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$result",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","body",431],"(",")",")",";",["T_WHITESPACE","\n\n        ",431],["T_VARIABLE","$exception",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_NEW","new",433],["T_WHITESPACE"," ",433],["T_STRING","MissingActionException",433],"(","[",["T_CONSTANT_ENCAPSED_STRING","'controller'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'PostsController'",433],",",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'action'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'index'",433],"]",")",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$ExceptionRenderer",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_mockResponse",434],"(",["T_NEW","new",434],["T_WHITESPACE"," ",434],["T_STRING","ExceptionRenderer",434],"(",["T_VARIABLE","$exception",434],")",")",";",["T_WHITESPACE","\n\n        ",434],["T_VARIABLE","$result",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$ExceptionRenderer",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","render",436],"(",")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","assertContains",437],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Found'",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$result",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","body",437],"(",")",")",";",["T_WHITESPACE","\n    ",437],"}",["T_WHITESPACE","\n\n    ",438],["T_DOC_COMMENT","\/**\n     * test that error400 doesn't expose XSS\n     *\n     * @return void\n     *\/",440],["T_WHITESPACE","\n    ",444],["T_PUBLIC","public",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","testError400NoInjection",445],"(",")",["T_WHITESPACE","\n    ",445],"{",["T_WHITESPACE","\n        ",446],["T_STRING","Router",447],["T_DOUBLE_COLON","::",447],["T_STRING","reload",447],"(",")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$request",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_NEW","new",449],["T_WHITESPACE"," ",449],["T_STRING","Request",449],"(",["T_CONSTANT_ENCAPSED_STRING","'pages\/<span id=333>pink<\/span><\/id><script>document.body.style.background = t=document.getElementById(333).innerHTML;window.alert(t);<\/script>'",449],")",";",["T_WHITESPACE","\n        ",449],["T_STRING","Router",450],["T_DOUBLE_COLON","::",450],["T_STRING","setRequestInfo",450],"(",["T_VARIABLE","$request",450],")",";",["T_WHITESPACE","\n\n        ",450],["T_VARIABLE","$exception",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_NEW","new",452],["T_WHITESPACE"," ",452],["T_STRING","NotFoundException",452],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom message'",452],")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$ExceptionRenderer",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_mockResponse",453],"(",["T_NEW","new",453],["T_WHITESPACE"," ",453],["T_STRING","ExceptionRenderer",453],"(",["T_VARIABLE","$exception",453],")",")",";",["T_WHITESPACE","\n\n        ",453],["T_VARIABLE","$result",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$ExceptionRenderer",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","render",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","body",455],"(",")",";",["T_WHITESPACE","\n\n        ",455],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","assertNotContains",457],"(",["T_CONSTANT_ENCAPSED_STRING","'<script>document'",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$result",457],")",";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","assertNotContains",458],"(",["T_CONSTANT_ENCAPSED_STRING","'alert(t);<\/script>'",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$result",458],")",";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * testError500 method\n     *\n     * @return void\n     *\/",461],["T_WHITESPACE","\n    ",465],["T_PUBLIC","public",466],["T_WHITESPACE"," ",466],["T_FUNCTION","function",466],["T_WHITESPACE"," ",466],["T_STRING","testError500Message",466],"(",")",["T_WHITESPACE","\n    ",466],"{",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$exception",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_NEW","new",468],["T_WHITESPACE"," ",468],["T_STRING","InternalErrorException",468],"(",["T_CONSTANT_ENCAPSED_STRING","'An Internal Error Has Occurred.'",468],")",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$ExceptionRenderer",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_NEW","new",469],["T_WHITESPACE"," ",469],["T_STRING","ExceptionRenderer",469],"(",["T_VARIABLE","$exception",469],")",";",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$ExceptionRenderer",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","controller",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","response",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getMockBuilder",470],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",470],")",["T_WHITESPACE","\n            ",470],["T_OBJECT_OPERATOR","->",471],["T_STRING","setMethods",471],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",471],"]",")",["T_WHITESPACE","\n            ",471],["T_OBJECT_OPERATOR","->",472],["T_STRING","getMock",472],"(",")",";",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$ExceptionRenderer",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","controller",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","response",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","expects",473],"(",["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","once",473],"(",")",")",["T_OBJECT_OPERATOR","->",473],["T_STRING","method",473],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",473],")",["T_OBJECT_OPERATOR","->",473],["T_STRING","with",473],"(",["T_LNUMBER","500",473],")",";",["T_WHITESPACE","\n\n        ",473],["T_VARIABLE","$result",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$ExceptionRenderer",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","render",475],"(",")",";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","assertContains",476],"(",["T_CONSTANT_ENCAPSED_STRING","'<h2>An Internal Error Has Occurred.<\/h2>'",476],",",["T_WHITESPACE"," ",476],["T_VARIABLE","$result",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","body",476],"(",")",")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","assertContains",477],"(",["T_CONSTANT_ENCAPSED_STRING","'An Internal Error Has Occurred.<\/p>'",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$result",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","body",477],"(",")",")",";",["T_WHITESPACE","\n    ",477],"}",["T_WHITESPACE","\n\n    ",478],["T_DOC_COMMENT","\/**\n     * testExceptionResponseHeader method\n     *\n     * @return void\n     *\/",480],["T_WHITESPACE","\n    ",484],["T_PUBLIC","public",485],["T_WHITESPACE"," ",485],["T_FUNCTION","function",485],["T_WHITESPACE"," ",485],["T_STRING","testExceptionResponseHeader",485],"(",")",["T_WHITESPACE","\n    ",485],"{",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$exception",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_NEW","new",487],["T_WHITESPACE"," ",487],["T_STRING","MethodNotAllowedException",487],"(",["T_CONSTANT_ENCAPSED_STRING","'Only allowing POST and DELETE'",487],")",";",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$exception",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","responseHeader",488],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Allow: POST, DELETE'",488],"]",")",";",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$ExceptionRenderer",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_NEW","new",489],["T_WHITESPACE"," ",489],["T_STRING","ExceptionRenderer",489],"(",["T_VARIABLE","$exception",489],")",";",["T_WHITESPACE","\n\n        ",489],["T_VARIABLE","$result",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$ExceptionRenderer",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","render",491],"(",")",";",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$headers",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$result",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","header",492],"(",")",";",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","assertArrayHasKey",493],"(",["T_CONSTANT_ENCAPSED_STRING","'Allow'",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$headers",493],")",";",["T_WHITESPACE","\n        ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","assertEquals",494],"(",["T_CONSTANT_ENCAPSED_STRING","'POST, DELETE'",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$headers",494],"[",["T_CONSTANT_ENCAPSED_STRING","'Allow'",494],"]",")",";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n\n    ",495],["T_DOC_COMMENT","\/**\n     * testMissingController method\n     *\n     * @return void\n     *\/",497],["T_WHITESPACE","\n    ",501],["T_PUBLIC","public",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","testMissingController",502],"(",")",["T_WHITESPACE","\n    ",502],"{",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$exception",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_NEW","new",504],["T_WHITESPACE"," ",504],["T_STRING","MissingControllerException",504],"(","[",["T_WHITESPACE","\n            ",504],["T_CONSTANT_ENCAPSED_STRING","'class'",505],["T_WHITESPACE"," ",505],["T_DOUBLE_ARROW","=>",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'Posts'",505],",",["T_WHITESPACE","\n            ",505],["T_CONSTANT_ENCAPSED_STRING","'prefix'",506],["T_WHITESPACE"," ",506],["T_DOUBLE_ARROW","=>",506],["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","''",506],",",["T_WHITESPACE","\n            ",506],["T_CONSTANT_ENCAPSED_STRING","'plugin'",507],["T_WHITESPACE"," ",507],["T_DOUBLE_ARROW","=>",507],["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","''",507],",",["T_WHITESPACE","\n        ",507],"]",")",";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$ExceptionRenderer",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_mockResponse",509],"(",["T_NEW","new",509],["T_WHITESPACE"," ",509],["T_STRING","MyCustomExceptionRenderer",509],"(",["T_VARIABLE","$exception",509],")",")",";",["T_WHITESPACE","\n\n        ",509],["T_VARIABLE","$result",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$ExceptionRenderer",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","render",511],"(",")",["T_OBJECT_OPERATOR","->",511],["T_STRING","body",511],"(",")",";",["T_WHITESPACE","\n\n        ",511],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","assertEquals",513],"(",["T_CONSTANT_ENCAPSED_STRING","'missingController'",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$ExceptionRenderer",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","template",513],")",";",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","assertContains",514],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing Controller'",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$result",514],")",";",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","assertContains",515],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>PostsController<\/em>'",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$result",515],")",";",["T_WHITESPACE","\n    ",515],"}",["T_WHITESPACE","\n\n    ",516],["T_DOC_COMMENT","\/**\n     * Returns an array of tests to run for the various Cake Exception classes.\n     *\n     * @return array\n     *\/",518],["T_WHITESPACE","\n    ",522],["T_PUBLIC","public",523],["T_WHITESPACE"," ",523],["T_STATIC","static",523],["T_WHITESPACE"," ",523],["T_FUNCTION","function",523],["T_WHITESPACE"," ",523],["T_STRING","exceptionProvider",523],"(",")",["T_WHITESPACE","\n    ",523],"{",["T_WHITESPACE","\n        ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],"[",["T_WHITESPACE","\n            ",525],"[",["T_WHITESPACE","\n                ",526],["T_NEW","new",527],["T_WHITESPACE"," ",527],["T_STRING","MissingActionException",527],"(","[",["T_WHITESPACE","\n                    ",527],["T_CONSTANT_ENCAPSED_STRING","'controller'",528],["T_WHITESPACE"," ",528],["T_DOUBLE_ARROW","=>",528],["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'PostsController'",528],",",["T_WHITESPACE","\n                    ",528],["T_CONSTANT_ENCAPSED_STRING","'action'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'index'",529],",",["T_WHITESPACE","\n                    ",529],["T_CONSTANT_ENCAPSED_STRING","'prefix'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","''",530],",",["T_WHITESPACE","\n                    ",530],["T_CONSTANT_ENCAPSED_STRING","'plugin'",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","''",531],",",["T_WHITESPACE","\n                ",531],"]",")",",",["T_WHITESPACE","\n                ",532],"[",["T_WHITESPACE","\n                    ",533],["T_CONSTANT_ENCAPSED_STRING","'\/Missing Method in PostsController\/'",534],",",["T_WHITESPACE","\n                    ",534],["T_CONSTANT_ENCAPSED_STRING","'\/<em>PostsController::index\\(\\)<\\\/em>\/'",535],["T_WHITESPACE","\n                ",535],"]",",",["T_WHITESPACE","\n                ",536],["T_LNUMBER","404",537],["T_WHITESPACE","\n            ",537],"]",",",["T_WHITESPACE","\n            ",538],"[",["T_WHITESPACE","\n                ",539],["T_NEW","new",540],["T_WHITESPACE"," ",540],["T_STRING","MissingTemplateException",540],"(","[",["T_CONSTANT_ENCAPSED_STRING","'file'",540],["T_WHITESPACE"," ",540],["T_DOUBLE_ARROW","=>",540],["T_WHITESPACE"," ",540],["T_CONSTANT_ENCAPSED_STRING","'\/posts\/about.ctp'",540],"]",")",",",["T_WHITESPACE","\n                ",540],"[",["T_WHITESPACE","\n                    ",541],["T_CONSTANT_ENCAPSED_STRING","\"\/posts\\\/about.ctp\/\"",542],["T_WHITESPACE","\n                ",542],"]",",",["T_WHITESPACE","\n                ",543],["T_LNUMBER","500",544],["T_WHITESPACE","\n            ",544],"]",",",["T_WHITESPACE","\n            ",545],"[",["T_WHITESPACE","\n                ",546],["T_NEW","new",547],["T_WHITESPACE"," ",547],["T_STRING","MissingLayoutException",547],"(","[",["T_CONSTANT_ENCAPSED_STRING","'file'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_CONSTANT_ENCAPSED_STRING","'layouts\/my_layout.ctp'",547],"]",")",",",["T_WHITESPACE","\n                ",547],"[",["T_WHITESPACE","\n                    ",548],["T_CONSTANT_ENCAPSED_STRING","\"\/Missing Layout\/\"",549],",",["T_WHITESPACE","\n                    ",549],["T_CONSTANT_ENCAPSED_STRING","\"\/layouts\\\/my_layout.ctp\/\"",550],["T_WHITESPACE","\n                ",550],"]",",",["T_WHITESPACE","\n                ",551],["T_LNUMBER","500",552],["T_WHITESPACE","\n            ",552],"]",",",["T_WHITESPACE","\n            ",553],"[",["T_WHITESPACE","\n                ",554],["T_NEW","new",555],["T_WHITESPACE"," ",555],["T_STRING","MissingHelperException",555],"(","[",["T_CONSTANT_ENCAPSED_STRING","'class'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'MyCustomHelper'",555],"]",")",",",["T_WHITESPACE","\n                ",555],"[",["T_WHITESPACE","\n                    ",556],["T_CONSTANT_ENCAPSED_STRING","'\/Missing Helper\/'",557],",",["T_WHITESPACE","\n                    ",557],["T_CONSTANT_ENCAPSED_STRING","'\/<em>MyCustomHelper<\\\/em> could not be found.\/'",558],",",["T_WHITESPACE","\n                    ",558],["T_CONSTANT_ENCAPSED_STRING","'\/Create the class <em>MyCustomHelper<\\\/em> below in file:\/'",559],",",["T_WHITESPACE","\n                    ",559],["T_CONSTANT_ENCAPSED_STRING","'\/(\\\/|\\\\\\)MyCustomHelper.php\/'",560],["T_WHITESPACE","\n                ",560],"]",",",["T_WHITESPACE","\n                ",561],["T_LNUMBER","500",562],["T_WHITESPACE","\n            ",562],"]",",",["T_WHITESPACE","\n            ",563],"[",["T_WHITESPACE","\n                ",564],["T_NEW","new",565],["T_WHITESPACE"," ",565],["T_STRING","MissingBehaviorException",565],"(","[",["T_CONSTANT_ENCAPSED_STRING","'class'",565],["T_WHITESPACE"," ",565],["T_DOUBLE_ARROW","=>",565],["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'MyCustomBehavior'",565],"]",")",",",["T_WHITESPACE","\n                ",565],"[",["T_WHITESPACE","\n                    ",566],["T_CONSTANT_ENCAPSED_STRING","'\/Missing Behavior\/'",567],",",["T_WHITESPACE","\n                    ",567],["T_CONSTANT_ENCAPSED_STRING","'\/Create the class <em>MyCustomBehavior<\\\/em> below in file:\/'",568],",",["T_WHITESPACE","\n                    ",568],["T_CONSTANT_ENCAPSED_STRING","'\/(\\\/|\\\\\\)MyCustomBehavior.php\/'",569],["T_WHITESPACE","\n                ",569],"]",",",["T_WHITESPACE","\n                ",570],["T_LNUMBER","500",571],["T_WHITESPACE","\n            ",571],"]",",",["T_WHITESPACE","\n            ",572],"[",["T_WHITESPACE","\n                ",573],["T_NEW","new",574],["T_WHITESPACE"," ",574],["T_STRING","MissingComponentException",574],"(","[",["T_CONSTANT_ENCAPSED_STRING","'class'",574],["T_WHITESPACE"," ",574],["T_DOUBLE_ARROW","=>",574],["T_WHITESPACE"," ",574],["T_CONSTANT_ENCAPSED_STRING","'SideboxComponent'",574],"]",")",",",["T_WHITESPACE","\n                ",574],"[",["T_WHITESPACE","\n                    ",575],["T_CONSTANT_ENCAPSED_STRING","'\/Missing Component\/'",576],",",["T_WHITESPACE","\n                    ",576],["T_CONSTANT_ENCAPSED_STRING","'\/Create the class <em>SideboxComponent<\\\/em> below in file:\/'",577],",",["T_WHITESPACE","\n                    ",577],["T_CONSTANT_ENCAPSED_STRING","'\/(\\\/|\\\\\\)SideboxComponent.php\/'",578],["T_WHITESPACE","\n                ",578],"]",",",["T_WHITESPACE","\n                ",579],["T_LNUMBER","500",580],["T_WHITESPACE","\n            ",580],"]",",",["T_WHITESPACE","\n            ",581],"[",["T_WHITESPACE","\n                ",582],["T_NEW","new",583],["T_WHITESPACE"," ",583],["T_STRING","MissingDatasourceConfigException",583],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",583],["T_WHITESPACE"," ",583],["T_DOUBLE_ARROW","=>",583],["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","'MyDatasourceConfig'",583],"]",")",",",["T_WHITESPACE","\n                ",583],"[",["T_WHITESPACE","\n                    ",584],["T_CONSTANT_ENCAPSED_STRING","'\/Missing Datasource Configuration\/'",585],",",["T_WHITESPACE","\n                    ",585],["T_CONSTANT_ENCAPSED_STRING","'\/<em>MyDatasourceConfig<\\\/em> was not found\/'",586],["T_WHITESPACE","\n                ",586],"]",",",["T_WHITESPACE","\n                ",587],["T_LNUMBER","500",588],["T_WHITESPACE","\n            ",588],"]",",",["T_WHITESPACE","\n            ",589],"[",["T_WHITESPACE","\n                ",590],["T_NEW","new",591],["T_WHITESPACE"," ",591],["T_STRING","MissingDatasourceException",591],"(","[",["T_CONSTANT_ENCAPSED_STRING","'class'",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'MyDatasource'",591],",",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'plugin'",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'MyPlugin'",591],"]",")",",",["T_WHITESPACE","\n                ",591],"[",["T_WHITESPACE","\n                    ",592],["T_CONSTANT_ENCAPSED_STRING","'\/Missing Datasource\/'",593],",",["T_WHITESPACE","\n                    ",593],["T_CONSTANT_ENCAPSED_STRING","'\/<em>MyPlugin.MyDatasource<\\\/em> could not be found.\/'",594],["T_WHITESPACE","\n                ",594],"]",",",["T_WHITESPACE","\n                ",595],["T_LNUMBER","500",596],["T_WHITESPACE","\n            ",596],"]",",",["T_WHITESPACE","\n            ",597],"[",["T_WHITESPACE","\n                ",598],["T_NEW","new",599],["T_WHITESPACE"," ",599],["T_STRING","MissingMailerActionException",599],"(","[",["T_WHITESPACE","\n                    ",599],["T_CONSTANT_ENCAPSED_STRING","'mailer'",600],["T_WHITESPACE"," ",600],["T_DOUBLE_ARROW","=>",600],["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'UserMailer'",600],",",["T_WHITESPACE","\n                    ",600],["T_CONSTANT_ENCAPSED_STRING","'action'",601],["T_WHITESPACE"," ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],["T_CONSTANT_ENCAPSED_STRING","'welcome'",601],",",["T_WHITESPACE","\n                    ",601],["T_CONSTANT_ENCAPSED_STRING","'prefix'",602],["T_WHITESPACE"," ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","''",602],",",["T_WHITESPACE","\n                    ",602],["T_CONSTANT_ENCAPSED_STRING","'plugin'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","''",603],",",["T_WHITESPACE","\n                ",603],"]",")",",",["T_WHITESPACE","\n                ",604],"[",["T_WHITESPACE","\n                    ",605],["T_CONSTANT_ENCAPSED_STRING","'\/Missing Method in UserMailer\/'",606],",",["T_WHITESPACE","\n                    ",606],["T_CONSTANT_ENCAPSED_STRING","'\/<em>UserMailer::welcome\\(\\)<\\\/em>\/'",607],["T_WHITESPACE","\n                ",607],"]",",",["T_WHITESPACE","\n                ",608],["T_LNUMBER","404",609],["T_WHITESPACE","\n            ",609],"]",",",["T_WHITESPACE","\n            ",610],"[",["T_WHITESPACE","\n                ",611],["T_NEW","new",612],["T_WHITESPACE"," ",612],["T_STRING","Exception",612],"(",["T_CONSTANT_ENCAPSED_STRING","'boom'",612],")",",",["T_WHITESPACE","\n                ",612],"[",["T_WHITESPACE","\n                    ",613],["T_CONSTANT_ENCAPSED_STRING","'\/Internal Error\/'",614],["T_WHITESPACE","\n                ",614],"]",",",["T_WHITESPACE","\n                ",615],["T_LNUMBER","500",616],["T_WHITESPACE","\n            ",616],"]",",",["T_WHITESPACE","\n            ",617],"[",["T_WHITESPACE","\n                ",618],["T_NEW","new",619],["T_WHITESPACE"," ",619],["T_STRING","RuntimeException",619],"(",["T_CONSTANT_ENCAPSED_STRING","'another boom'",619],")",",",["T_WHITESPACE","\n                ",619],"[",["T_WHITESPACE","\n                    ",620],["T_CONSTANT_ENCAPSED_STRING","'\/Internal Error\/'",621],["T_WHITESPACE","\n                ",621],"]",",",["T_WHITESPACE","\n                ",622],["T_LNUMBER","500",623],["T_WHITESPACE","\n            ",623],"]",",",["T_WHITESPACE","\n            ",624],"[",["T_WHITESPACE","\n                ",625],["T_NEW","new",626],["T_WHITESPACE"," ",626],["T_STRING","CakeException",626],"(",["T_CONSTANT_ENCAPSED_STRING","'base class'",626],")",",",["T_WHITESPACE","\n                ",626],"[",["T_CONSTANT_ENCAPSED_STRING","'\/Internal Error\/'",627],"]",",",["T_WHITESPACE","\n                ",627],["T_LNUMBER","500",628],["T_WHITESPACE","\n            ",628],"]",["T_WHITESPACE","\n        ",629],"]",";",["T_WHITESPACE","\n    ",630],"}",["T_WHITESPACE","\n\n    ",631],["T_DOC_COMMENT","\/**\n     * Test the various Cake Exception sub classes\n     *\n     * @dataProvider exceptionProvider\n     * @return void\n     *\/",633],["T_WHITESPACE","\n    ",638],["T_PUBLIC","public",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","testCakeExceptionHandling",639],"(",["T_VARIABLE","$exception",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$patterns",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$code",639],")",["T_WHITESPACE","\n    ",639],"{",["T_WHITESPACE","\n        ",640],["T_VARIABLE","$ExceptionRenderer",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_NEW","new",641],["T_WHITESPACE"," ",641],["T_STRING","ExceptionRenderer",641],"(",["T_VARIABLE","$exception",641],")",";",["T_WHITESPACE","\n        ",641],["T_VARIABLE","$ExceptionRenderer",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","controller",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","response",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","getMockBuilder",642],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",642],")",["T_WHITESPACE","\n            ",642],["T_OBJECT_OPERATOR","->",643],["T_STRING","setMethods",643],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",643],",",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",643],"]",")",["T_WHITESPACE","\n            ",643],["T_OBJECT_OPERATOR","->",644],["T_STRING","getMock",644],"(",")",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$ExceptionRenderer",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","controller",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","response",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","expects",645],"(",["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","once",645],"(",")",")",["T_WHITESPACE","\n            ",645],["T_OBJECT_OPERATOR","->",646],["T_STRING","method",646],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",646],")",["T_WHITESPACE","\n            ",646],["T_OBJECT_OPERATOR","->",647],["T_STRING","with",647],"(",["T_VARIABLE","$code",647],")",";",["T_WHITESPACE","\n\n        ",647],["T_VARIABLE","$result",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_VARIABLE","$ExceptionRenderer",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","render",649],"(",")",["T_OBJECT_OPERATOR","->",649],["T_STRING","body",649],"(",")",";",["T_WHITESPACE","\n\n        ",649],["T_FOREACH","foreach",651],["T_WHITESPACE"," ",651],"(",["T_VARIABLE","$patterns",651],["T_WHITESPACE"," ",651],["T_AS","as",651],["T_WHITESPACE"," ",651],["T_VARIABLE","$pattern",651],")",["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n            ",651],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","assertRegExp",652],"(",["T_VARIABLE","$pattern",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$result",652],")",";",["T_WHITESPACE","\n        ",652],"}",["T_WHITESPACE","\n    ",653],"}",["T_WHITESPACE","\n\n    ",654],["T_DOC_COMMENT","\/**\n     * Test that class names not ending in Exception are not mangled.\n     *\n     * @return void\n     *\/",656],["T_WHITESPACE","\n    ",660],["T_PUBLIC","public",661],["T_WHITESPACE"," ",661],["T_FUNCTION","function",661],["T_WHITESPACE"," ",661],["T_STRING","testExceptionNameMangling",661],"(",")",["T_WHITESPACE","\n    ",661],"{",["T_WHITESPACE","\n        ",662],["T_VARIABLE","$exceptionRenderer",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_NEW","new",663],["T_WHITESPACE"," ",663],["T_STRING","MyCustomExceptionRenderer",663],"(",["T_NEW","new",663],["T_WHITESPACE"," ",663],["T_STRING","MissingWidgetThing",663],"(",")",")",";",["T_WHITESPACE","\n\n        ",663],["T_VARIABLE","$result",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_VARIABLE","$exceptionRenderer",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","render",665],"(",")",["T_OBJECT_OPERATOR","->",665],["T_STRING","body",665],"(",")",";",["T_WHITESPACE","\n        ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","assertContains",666],"(",["T_CONSTANT_ENCAPSED_STRING","'widget thing is missing'",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$result",666],")",";",["T_WHITESPACE","\n    ",666],"}",["T_WHITESPACE","\n\n    ",667],["T_DOC_COMMENT","\/**\n     * Test exceptions being raised when helpers are missing.\n     *\n     * @return void\n     *\/",669],["T_WHITESPACE","\n    ",673],["T_PUBLIC","public",674],["T_WHITESPACE"," ",674],["T_FUNCTION","function",674],["T_WHITESPACE"," ",674],["T_STRING","testMissingRenderSafe",674],"(",")",["T_WHITESPACE","\n    ",674],"{",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$exception",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_NEW","new",676],["T_WHITESPACE"," ",676],["T_STRING","MissingHelperException",676],"(","[",["T_CONSTANT_ENCAPSED_STRING","'class'",676],["T_WHITESPACE"," ",676],["T_DOUBLE_ARROW","=>",676],["T_WHITESPACE"," ",676],["T_CONSTANT_ENCAPSED_STRING","'Fail'",676],"]",")",";",["T_WHITESPACE","\n        ",676],["T_VARIABLE","$ExceptionRenderer",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_NEW","new",677],["T_WHITESPACE"," ",677],["T_STRING","ExceptionRenderer",677],"(",["T_VARIABLE","$exception",677],")",";",["T_WHITESPACE","\n\n        ",677],["T_VARIABLE","$ExceptionRenderer",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","controller",679],["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","getMockBuilder",679],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",679],")",["T_WHITESPACE","\n            ",679],["T_OBJECT_OPERATOR","->",680],["T_STRING","setMethods",680],"(","[",["T_CONSTANT_ENCAPSED_STRING","'render'",680],"]",")",["T_WHITESPACE","\n            ",680],["T_OBJECT_OPERATOR","->",681],["T_STRING","getMock",681],"(",")",";",["T_WHITESPACE","\n        ",681],["T_VARIABLE","$ExceptionRenderer",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","controller",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","helpers",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],"[",["T_CONSTANT_ENCAPSED_STRING","'Fail'",682],",",["T_WHITESPACE"," ",682],["T_CONSTANT_ENCAPSED_STRING","'Boom'",682],"]",";",["T_WHITESPACE","\n        ",682],["T_VARIABLE","$ExceptionRenderer",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","controller",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","request",683],["T_WHITESPACE"," ",683],"=",["T_WHITESPACE"," ",683],["T_NEW","new",683],["T_WHITESPACE"," ",683],["T_STRING","Request",683],";",["T_WHITESPACE","\n        ",683],["T_VARIABLE","$ExceptionRenderer",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","controller",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","expects",684],"(",["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","at",684],"(",["T_LNUMBER","0",684],")",")",["T_WHITESPACE","\n            ",684],["T_OBJECT_OPERATOR","->",685],["T_STRING","method",685],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",685],")",["T_WHITESPACE","\n            ",685],["T_OBJECT_OPERATOR","->",686],["T_STRING","with",686],"(",["T_CONSTANT_ENCAPSED_STRING","'missingHelper'",686],")",["T_WHITESPACE","\n            ",686],["T_OBJECT_OPERATOR","->",687],["T_STRING","will",687],"(",["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","throwException",687],"(",["T_VARIABLE","$exception",687],")",")",";",["T_WHITESPACE","\n\n        ",687],["T_VARIABLE","$response",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","getMockBuilder",689],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",689],")",["T_OBJECT_OPERATOR","->",689],["T_STRING","getMock",689],"(",")",";",["T_WHITESPACE","\n        ",689],["T_VARIABLE","$response",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","expects",690],"(",["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","once",690],"(",")",")",["T_WHITESPACE","\n            ",690],["T_OBJECT_OPERATOR","->",691],["T_STRING","method",691],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",691],")",["T_WHITESPACE","\n            ",691],["T_OBJECT_OPERATOR","->",692],["T_STRING","with",692],"(",["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","stringContains",692],"(",["T_CONSTANT_ENCAPSED_STRING","'Helper class Fail'",692],")",")",";",["T_WHITESPACE","\n\n        ",692],["T_VARIABLE","$ExceptionRenderer",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","controller",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","response",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_VARIABLE","$response",694],";",["T_WHITESPACE","\n        ",694],["T_VARIABLE","$ExceptionRenderer",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","render",695],"(",")",";",["T_WHITESPACE","\n        ",695],["T_STRING","sort",696],"(",["T_VARIABLE","$ExceptionRenderer",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","controller",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","helpers",696],")",";",["T_WHITESPACE","\n        ",696],["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","assertEquals",697],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Form'",697],",",["T_WHITESPACE"," ",697],["T_CONSTANT_ENCAPSED_STRING","'Html'",697],"]",",",["T_WHITESPACE"," ",697],["T_VARIABLE","$ExceptionRenderer",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","controller",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","helpers",697],")",";",["T_WHITESPACE","\n    ",697],"}",["T_WHITESPACE","\n\n    ",698],["T_DOC_COMMENT","\/**\n     * Test that exceptions in beforeRender() are handled by outputMessageSafe\n     *\n     * @return void\n     *\/",700],["T_WHITESPACE","\n    ",704],["T_PUBLIC","public",705],["T_WHITESPACE"," ",705],["T_FUNCTION","function",705],["T_WHITESPACE"," ",705],["T_STRING","testRenderExceptionInBeforeRender",705],"(",")",["T_WHITESPACE","\n    ",705],"{",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$exception",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_NEW","new",707],["T_WHITESPACE"," ",707],["T_STRING","NotFoundException",707],"(",["T_CONSTANT_ENCAPSED_STRING","'Not there, sorry'",707],")",";",["T_WHITESPACE","\n        ",707],["T_VARIABLE","$ExceptionRenderer",708],["T_WHITESPACE"," ",708],"=",["T_WHITESPACE"," ",708],["T_NEW","new",708],["T_WHITESPACE"," ",708],["T_STRING","ExceptionRenderer",708],"(",["T_VARIABLE","$exception",708],")",";",["T_WHITESPACE","\n\n        ",708],["T_VARIABLE","$ExceptionRenderer",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","controller",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","getMockBuilder",710],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",710],")",["T_WHITESPACE","\n            ",710],["T_OBJECT_OPERATOR","->",711],["T_STRING","setMethods",711],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeRender'",711],"]",")",["T_WHITESPACE","\n            ",711],["T_OBJECT_OPERATOR","->",712],["T_STRING","getMock",712],"(",")",";",["T_WHITESPACE","\n        ",712],["T_VARIABLE","$ExceptionRenderer",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","controller",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","request",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_NEW","new",713],["T_WHITESPACE"," ",713],["T_STRING","Request",713],";",["T_WHITESPACE","\n        ",713],["T_VARIABLE","$ExceptionRenderer",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","controller",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","expects",714],"(",["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","any",714],"(",")",")",["T_WHITESPACE","\n            ",714],["T_OBJECT_OPERATOR","->",715],["T_STRING","method",715],"(",["T_CONSTANT_ENCAPSED_STRING","'beforeRender'",715],")",["T_WHITESPACE","\n            ",715],["T_OBJECT_OPERATOR","->",716],["T_STRING","will",716],"(",["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","throwException",716],"(",["T_VARIABLE","$exception",716],")",")",";",["T_WHITESPACE","\n\n        ",716],["T_VARIABLE","$response",718],["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getMockBuilder",718],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",718],")",["T_OBJECT_OPERATOR","->",718],["T_STRING","getMock",718],"(",")",";",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$response",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","expects",719],"(",["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","once",719],"(",")",")",["T_WHITESPACE","\n            ",719],["T_OBJECT_OPERATOR","->",720],["T_STRING","method",720],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",720],")",["T_WHITESPACE","\n            ",720],["T_OBJECT_OPERATOR","->",721],["T_STRING","with",721],"(",["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","stringContains",721],"(",["T_CONSTANT_ENCAPSED_STRING","'Not there, sorry'",721],")",")",";",["T_WHITESPACE","\n\n        ",721],["T_VARIABLE","$ExceptionRenderer",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","controller",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","response",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_VARIABLE","$response",723],";",["T_WHITESPACE","\n        ",723],["T_VARIABLE","$ExceptionRenderer",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","render",724],"(",")",";",["T_WHITESPACE","\n    ",724],"}",["T_WHITESPACE","\n\n    ",725],["T_DOC_COMMENT","\/**\n     * Test that missing layoutPath don't cause other fatal errors.\n     *\n     * @return void\n     *\/",727],["T_WHITESPACE","\n    ",731],["T_PUBLIC","public",732],["T_WHITESPACE"," ",732],["T_FUNCTION","function",732],["T_WHITESPACE"," ",732],["T_STRING","testMissingLayoutPathRenderSafe",732],"(",")",["T_WHITESPACE","\n    ",732],"{",["T_WHITESPACE","\n        ",733],["T_VARIABLE","$exception",734],["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],["T_NEW","new",734],["T_WHITESPACE"," ",734],["T_STRING","NotFoundException",734],"(",")",";",["T_WHITESPACE","\n        ",734],["T_VARIABLE","$ExceptionRenderer",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_NEW","new",735],["T_WHITESPACE"," ",735],["T_STRING","ExceptionRenderer",735],"(",["T_VARIABLE","$exception",735],")",";",["T_WHITESPACE","\n\n        ",735],["T_VARIABLE","$ExceptionRenderer",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","controller",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","getMockBuilder",737],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",737],")",["T_WHITESPACE","\n            ",737],["T_OBJECT_OPERATOR","->",738],["T_STRING","setMethods",738],"(","[",["T_CONSTANT_ENCAPSED_STRING","'render'",738],"]",")",["T_WHITESPACE","\n            ",738],["T_OBJECT_OPERATOR","->",739],["T_STRING","getMock",739],"(",")",";",["T_WHITESPACE","\n        ",739],["T_VARIABLE","$ExceptionRenderer",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","controller",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","helpers",740],["T_WHITESPACE"," ",740],"=",["T_WHITESPACE"," ",740],"[",["T_CONSTANT_ENCAPSED_STRING","'Fail'",740],",",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'Boom'",740],"]",";",["T_WHITESPACE","\n        ",740],["T_VARIABLE","$ExceptionRenderer",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","controller",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","eventManager",741],"(",")",["T_OBJECT_OPERATOR","->",741],["T_STRING","on",741],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",741],",",["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],"(",["T_STRING","Event",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$event",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n            ",741],["T_VARIABLE","$event",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","subject",742],"(",")",["T_OBJECT_OPERATOR","->",742],["T_STRING","viewBuilder",742],"(",")",["T_OBJECT_OPERATOR","->",742],["T_STRING","layoutPath",742],"(",["T_CONSTANT_ENCAPSED_STRING","'boom'",742],")",";",["T_WHITESPACE","\n        ",742],"}",")",";",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$ExceptionRenderer",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","controller",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","request",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_NEW","new",744],["T_WHITESPACE"," ",744],["T_STRING","Request",744],";",["T_WHITESPACE","\n\n        ",744],["T_VARIABLE","$ExceptionRenderer",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","controller",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","expects",746],"(",["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","once",746],"(",")",")",["T_WHITESPACE","\n            ",746],["T_OBJECT_OPERATOR","->",747],["T_STRING","method",747],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",747],")",["T_WHITESPACE","\n            ",747],["T_OBJECT_OPERATOR","->",748],["T_STRING","with",748],"(",["T_CONSTANT_ENCAPSED_STRING","'error400'",748],")",["T_WHITESPACE","\n            ",748],["T_OBJECT_OPERATOR","->",749],["T_STRING","will",749],"(",["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","throwException",749],"(",["T_VARIABLE","$exception",749],")",")",";",["T_WHITESPACE","\n\n        ",749],["T_VARIABLE","$response",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","getMockBuilder",751],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",751],")",["T_OBJECT_OPERATOR","->",751],["T_STRING","getMock",751],"(",")",";",["T_WHITESPACE","\n        ",751],["T_VARIABLE","$response",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","expects",752],"(",["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","once",752],"(",")",")",["T_WHITESPACE","\n            ",752],["T_OBJECT_OPERATOR","->",753],["T_STRING","method",753],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",753],")",["T_WHITESPACE","\n            ",753],["T_OBJECT_OPERATOR","->",754],["T_STRING","with",754],"(",["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","stringContains",754],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Found'",754],")",")",";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$response",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","expects",755],"(",["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","once",755],"(",")",")",["T_WHITESPACE","\n            ",755],["T_OBJECT_OPERATOR","->",756],["T_STRING","method",756],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",756],")",["T_WHITESPACE","\n            ",756],["T_OBJECT_OPERATOR","->",757],["T_STRING","with",757],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",757],")",";",["T_WHITESPACE","\n\n        ",757],["T_VARIABLE","$ExceptionRenderer",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","controller",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","response",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_VARIABLE","$response",759],";",["T_WHITESPACE","\n\n        ",759],["T_VARIABLE","$ExceptionRenderer",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","render",761],"(",")",";",["T_WHITESPACE","\n        ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","assertEquals",762],"(",["T_CONSTANT_ENCAPSED_STRING","''",762],",",["T_WHITESPACE"," ",762],["T_VARIABLE","$ExceptionRenderer",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","controller",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","viewBuilder",762],"(",")",["T_OBJECT_OPERATOR","->",762],["T_STRING","layoutPath",762],"(",")",")",";",["T_WHITESPACE","\n        ",762],["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","assertEquals",763],"(",["T_CONSTANT_ENCAPSED_STRING","'Error'",763],",",["T_WHITESPACE"," ",763],["T_VARIABLE","$ExceptionRenderer",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","controller",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","viewBuilder",763],"(",")",["T_OBJECT_OPERATOR","->",763],["T_STRING","templatePath",763],"(",")",")",";",["T_WHITESPACE","\n    ",763],"}",["T_WHITESPACE","\n\n    ",764],["T_DOC_COMMENT","\/**\n     * Test that missing plugin disables Controller::$plugin if the two are the same plugin.\n     *\n     * @return void\n     *\/",766],["T_WHITESPACE","\n    ",770],["T_PUBLIC","public",771],["T_WHITESPACE"," ",771],["T_FUNCTION","function",771],["T_WHITESPACE"," ",771],["T_STRING","testMissingPluginRenderSafe",771],"(",")",["T_WHITESPACE","\n    ",771],"{",["T_WHITESPACE","\n        ",772],["T_VARIABLE","$exception",773],["T_WHITESPACE"," ",773],"=",["T_WHITESPACE"," ",773],["T_NEW","new",773],["T_WHITESPACE"," ",773],["T_STRING","NotFoundException",773],"(",")",";",["T_WHITESPACE","\n        ",773],["T_VARIABLE","$ExceptionRenderer",774],["T_WHITESPACE"," ",774],"=",["T_WHITESPACE"," ",774],["T_NEW","new",774],["T_WHITESPACE"," ",774],["T_STRING","ExceptionRenderer",774],"(",["T_VARIABLE","$exception",774],")",";",["T_WHITESPACE","\n\n        ",774],["T_VARIABLE","$ExceptionRenderer",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","controller",776],["T_WHITESPACE"," ",776],"=",["T_WHITESPACE"," ",776],["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","getMockBuilder",776],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",776],")",["T_WHITESPACE","\n            ",776],["T_OBJECT_OPERATOR","->",777],["T_STRING","setMethods",777],"(","[",["T_CONSTANT_ENCAPSED_STRING","'render'",777],"]",")",["T_WHITESPACE","\n            ",777],["T_OBJECT_OPERATOR","->",778],["T_STRING","getMock",778],"(",")",";",["T_WHITESPACE","\n        ",778],["T_VARIABLE","$ExceptionRenderer",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","controller",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","plugin",779],["T_WHITESPACE"," ",779],"=",["T_WHITESPACE"," ",779],["T_CONSTANT_ENCAPSED_STRING","'TestPlugin'",779],";",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$ExceptionRenderer",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","controller",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","request",780],["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","getMockBuilder",780],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",780],")",["T_OBJECT_OPERATOR","->",780],["T_STRING","getMock",780],"(",")",";",["T_WHITESPACE","\n\n        ",780],["T_VARIABLE","$exception",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_NEW","new",782],["T_WHITESPACE"," ",782],["T_STRING","MissingPluginException",782],"(","[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",782],["T_WHITESPACE"," ",782],["T_DOUBLE_ARROW","=>",782],["T_WHITESPACE"," ",782],["T_CONSTANT_ENCAPSED_STRING","'TestPlugin'",782],"]",")",";",["T_WHITESPACE","\n        ",782],["T_VARIABLE","$ExceptionRenderer",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","controller",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","expects",783],"(",["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","once",783],"(",")",")",["T_WHITESPACE","\n            ",783],["T_OBJECT_OPERATOR","->",784],["T_STRING","method",784],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",784],")",["T_WHITESPACE","\n            ",784],["T_OBJECT_OPERATOR","->",785],["T_STRING","with",785],"(",["T_CONSTANT_ENCAPSED_STRING","'error400'",785],")",["T_WHITESPACE","\n            ",785],["T_OBJECT_OPERATOR","->",786],["T_STRING","will",786],"(",["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","throwException",786],"(",["T_VARIABLE","$exception",786],")",")",";",["T_WHITESPACE","\n\n        ",786],["T_VARIABLE","$response",788],["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","getMockBuilder",788],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",788],")",["T_OBJECT_OPERATOR","->",788],["T_STRING","getMock",788],"(",")",";",["T_WHITESPACE","\n        ",788],["T_VARIABLE","$response",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","expects",789],"(",["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","once",789],"(",")",")",["T_WHITESPACE","\n            ",789],["T_OBJECT_OPERATOR","->",790],["T_STRING","method",790],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",790],")",["T_WHITESPACE","\n            ",790],["T_OBJECT_OPERATOR","->",791],["T_STRING","with",791],"(",["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","logicalAnd",791],"(",["T_WHITESPACE","\n                ",791],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","logicalNot",792],"(",["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","stringContains",792],"(",["T_CONSTANT_ENCAPSED_STRING","'test plugin error500'",792],")",")",",",["T_WHITESPACE","\n                ",792],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","stringContains",793],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Found'",793],")",["T_WHITESPACE","\n            ",793],")",")",";",["T_WHITESPACE","\n\n        ",794],["T_VARIABLE","$ExceptionRenderer",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","controller",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","response",796],["T_WHITESPACE"," ",796],"=",["T_WHITESPACE"," ",796],["T_VARIABLE","$response",796],";",["T_WHITESPACE","\n        ",796],["T_VARIABLE","$ExceptionRenderer",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","render",797],"(",")",";",["T_WHITESPACE","\n    ",797],"}",["T_WHITESPACE","\n\n    ",798],["T_DOC_COMMENT","\/**\n     * Test that missing plugin doesn't disable Controller::$plugin if the two aren't the same plugin.\n     *\n     * @return void\n     *\/",800],["T_WHITESPACE","\n    ",804],["T_PUBLIC","public",805],["T_WHITESPACE"," ",805],["T_FUNCTION","function",805],["T_WHITESPACE"," ",805],["T_STRING","testMissingPluginRenderSafeWithPlugin",805],"(",")",["T_WHITESPACE","\n    ",805],"{",["T_WHITESPACE","\n        ",806],["T_STRING","Plugin",807],["T_DOUBLE_COLON","::",807],["T_STRING","load",807],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin'",807],")",";",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$exception",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_NEW","new",808],["T_WHITESPACE"," ",808],["T_STRING","NotFoundException",808],"(",")",";",["T_WHITESPACE","\n        ",808],["T_VARIABLE","$ExceptionRenderer",809],["T_WHITESPACE"," ",809],"=",["T_WHITESPACE"," ",809],["T_NEW","new",809],["T_WHITESPACE"," ",809],["T_STRING","ExceptionRenderer",809],"(",["T_VARIABLE","$exception",809],")",";",["T_WHITESPACE","\n\n        ",809],["T_VARIABLE","$ExceptionRenderer",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","controller",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getMockBuilder",811],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",811],")",["T_WHITESPACE","\n            ",811],["T_OBJECT_OPERATOR","->",812],["T_STRING","setMethods",812],"(","[",["T_CONSTANT_ENCAPSED_STRING","'render'",812],"]",")",["T_WHITESPACE","\n            ",812],["T_OBJECT_OPERATOR","->",813],["T_STRING","getMock",813],"(",")",";",["T_WHITESPACE","\n        ",813],["T_VARIABLE","$ExceptionRenderer",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","controller",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","plugin",814],["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_CONSTANT_ENCAPSED_STRING","'TestPlugin'",814],";",["T_WHITESPACE","\n        ",814],["T_VARIABLE","$ExceptionRenderer",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","controller",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","request",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","getMockBuilder",815],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",815],")",["T_OBJECT_OPERATOR","->",815],["T_STRING","getMock",815],"(",")",";",["T_WHITESPACE","\n\n        ",815],["T_VARIABLE","$exception",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_NEW","new",817],["T_WHITESPACE"," ",817],["T_STRING","MissingPluginException",817],"(","[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",817],["T_WHITESPACE"," ",817],["T_DOUBLE_ARROW","=>",817],["T_WHITESPACE"," ",817],["T_CONSTANT_ENCAPSED_STRING","'TestPluginTwo'",817],"]",")",";",["T_WHITESPACE","\n        ",817],["T_VARIABLE","$ExceptionRenderer",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","controller",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","expects",818],"(",["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","once",818],"(",")",")",["T_WHITESPACE","\n            ",818],["T_OBJECT_OPERATOR","->",819],["T_STRING","method",819],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",819],")",["T_WHITESPACE","\n            ",819],["T_OBJECT_OPERATOR","->",820],["T_STRING","with",820],"(",["T_CONSTANT_ENCAPSED_STRING","'error400'",820],")",["T_WHITESPACE","\n            ",820],["T_OBJECT_OPERATOR","->",821],["T_STRING","will",821],"(",["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","throwException",821],"(",["T_VARIABLE","$exception",821],")",")",";",["T_WHITESPACE","\n\n        ",821],["T_VARIABLE","$response",823],["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","getMockBuilder",823],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",823],")",["T_OBJECT_OPERATOR","->",823],["T_STRING","getMock",823],"(",")",";",["T_WHITESPACE","\n        ",823],["T_VARIABLE","$response",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","expects",824],"(",["T_VARIABLE","$this",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","once",824],"(",")",")",["T_WHITESPACE","\n            ",824],["T_OBJECT_OPERATOR","->",825],["T_STRING","method",825],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",825],")",["T_WHITESPACE","\n            ",825],["T_OBJECT_OPERATOR","->",826],["T_STRING","with",826],"(",["T_VARIABLE","$this",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","logicalAnd",826],"(",["T_WHITESPACE","\n                ",826],["T_VARIABLE","$this",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","stringContains",827],"(",["T_CONSTANT_ENCAPSED_STRING","'test plugin error500'",827],")",",",["T_WHITESPACE","\n                ",827],["T_VARIABLE","$this",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","stringContains",828],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Found'",828],")",["T_WHITESPACE","\n            ",828],")",")",";",["T_WHITESPACE","\n\n        ",829],["T_VARIABLE","$ExceptionRenderer",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","controller",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","response",831],["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],["T_VARIABLE","$response",831],";",["T_WHITESPACE","\n        ",831],["T_VARIABLE","$ExceptionRenderer",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","render",832],"(",")",";",["T_WHITESPACE","\n        ",832],["T_STRING","Plugin",833],["T_DOUBLE_COLON","::",833],["T_STRING","unload",833],"(",")",";",["T_WHITESPACE","\n    ",833],"}",["T_WHITESPACE","\n\n    ",834],["T_DOC_COMMENT","\/**\n     * Test that exceptions can be rendered when a request hasn't been registered\n     * with Router\n     *\n     * @return void\n     *\/",836],["T_WHITESPACE","\n    ",841],["T_PUBLIC","public",842],["T_WHITESPACE"," ",842],["T_FUNCTION","function",842],["T_WHITESPACE"," ",842],["T_STRING","testRenderWithNoRequest",842],"(",")",["T_WHITESPACE","\n    ",842],"{",["T_WHITESPACE","\n        ",843],["T_STRING","Router",844],["T_DOUBLE_COLON","::",844],["T_STRING","reload",844],"(",")",";",["T_WHITESPACE","\n        ",844],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","assertNull",845],"(",["T_STRING","Router",845],["T_DOUBLE_COLON","::",845],["T_STRING","getRequest",845],"(",["T_STRING","false",845],")",")",";",["T_WHITESPACE","\n\n        ",845],["T_VARIABLE","$exception",847],["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_NEW","new",847],["T_WHITESPACE"," ",847],["T_STRING","Exception",847],"(",["T_CONSTANT_ENCAPSED_STRING","'Terrible'",847],")",";",["T_WHITESPACE","\n        ",847],["T_VARIABLE","$ExceptionRenderer",848],["T_WHITESPACE"," ",848],"=",["T_WHITESPACE"," ",848],["T_NEW","new",848],["T_WHITESPACE"," ",848],["T_STRING","ExceptionRenderer",848],"(",["T_VARIABLE","$exception",848],")",";",["T_WHITESPACE","\n        ",848],["T_VARIABLE","$result",849],["T_WHITESPACE"," ",849],"=",["T_WHITESPACE"," ",849],["T_VARIABLE","$ExceptionRenderer",849],["T_OBJECT_OPERATOR","->",849],["T_STRING","render",849],"(",")",";",["T_WHITESPACE","\n\n        ",849],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","assertContains",851],"(",["T_CONSTANT_ENCAPSED_STRING","'Internal Error'",851],",",["T_WHITESPACE"," ",851],["T_VARIABLE","$result",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","body",851],"(",")",")",";",["T_WHITESPACE","\n        ",851],["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","assertEquals",852],"(",["T_LNUMBER","500",852],",",["T_WHITESPACE"," ",852],["T_VARIABLE","$result",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","statusCode",852],"(",")",")",";",["T_WHITESPACE","\n    ",852],"}",["T_WHITESPACE","\n\n    ",853],["T_DOC_COMMENT","\/**\n     * Test that rendering exceptions triggers shutdown events.\n     *\n     * @return void\n     *\/",855],["T_WHITESPACE","\n    ",859],["T_PUBLIC","public",860],["T_WHITESPACE"," ",860],["T_FUNCTION","function",860],["T_WHITESPACE"," ",860],["T_STRING","testRenderShutdownEvents",860],"(",")",["T_WHITESPACE","\n    ",860],"{",["T_WHITESPACE","\n        ",861],["T_VARIABLE","$fired",862],["T_WHITESPACE"," ",862],"=",["T_WHITESPACE"," ",862],"[","]",";",["T_WHITESPACE","\n        ",862],["T_VARIABLE","$listener",863],["T_WHITESPACE"," ",863],"=",["T_WHITESPACE"," ",863],["T_FUNCTION","function",863],["T_WHITESPACE"," ",863],"(",["T_VARIABLE","$event",863],")",["T_WHITESPACE"," ",863],["T_USE","use",863],["T_WHITESPACE"," ",863],"(","&",["T_VARIABLE","$fired",863],")",["T_WHITESPACE"," ",863],"{",["T_WHITESPACE","\n            ",863],["T_VARIABLE","$fired",864],"[","]",["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_VARIABLE","$event",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","name",864],"(",")",";",["T_WHITESPACE","\n        ",864],"}",";",["T_WHITESPACE","\n        ",865],["T_VARIABLE","$events",866],["T_WHITESPACE"," ",866],"=",["T_WHITESPACE"," ",866],["T_STRING","EventManager",866],["T_DOUBLE_COLON","::",866],["T_STRING","instance",866],"(",")",";",["T_WHITESPACE","\n        ",866],["T_VARIABLE","$events",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","attach",867],"(",["T_VARIABLE","$listener",867],",",["T_WHITESPACE"," ",867],["T_CONSTANT_ENCAPSED_STRING","'Controller.shutdown'",867],")",";",["T_WHITESPACE","\n        ",867],["T_VARIABLE","$events",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","attach",868],"(",["T_VARIABLE","$listener",868],",",["T_WHITESPACE"," ",868],["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",868],")",";",["T_WHITESPACE","\n\n        ",868],["T_VARIABLE","$exception",870],["T_WHITESPACE"," ",870],"=",["T_WHITESPACE"," ",870],["T_NEW","new",870],["T_WHITESPACE"," ",870],["T_STRING","Exception",870],"(",["T_CONSTANT_ENCAPSED_STRING","'Terrible'",870],")",";",["T_WHITESPACE","\n        ",870],["T_VARIABLE","$renderer",871],["T_WHITESPACE"," ",871],"=",["T_WHITESPACE"," ",871],["T_NEW","new",871],["T_WHITESPACE"," ",871],["T_STRING","ExceptionRenderer",871],"(",["T_VARIABLE","$exception",871],")",";",["T_WHITESPACE","\n        ",871],["T_VARIABLE","$renderer",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","render",872],"(",")",";",["T_WHITESPACE","\n\n        ",872],["T_VARIABLE","$expected",874],["T_WHITESPACE"," ",874],"=",["T_WHITESPACE"," ",874],"[",["T_CONSTANT_ENCAPSED_STRING","'Controller.shutdown'",874],",",["T_WHITESPACE"," ",874],["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",874],"]",";",["T_WHITESPACE","\n        ",874],["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","assertEquals",875],"(",["T_VARIABLE","$expected",875],",",["T_WHITESPACE"," ",875],["T_VARIABLE","$fired",875],")",";",["T_WHITESPACE","\n    ",875],"}",["T_WHITESPACE","\n\n    ",876],["T_DOC_COMMENT","\/**\n     * Test that rendering exceptions triggers events\n     * on filters attached to dispatcherfactory\n     *\n     * @return void\n     *\/",878],["T_WHITESPACE","\n    ",883],["T_PUBLIC","public",884],["T_WHITESPACE"," ",884],["T_FUNCTION","function",884],["T_WHITESPACE"," ",884],["T_STRING","testRenderShutdownEventsOnDispatcherFactory",884],"(",")",["T_WHITESPACE","\n    ",884],"{",["T_WHITESPACE","\n        ",885],["T_VARIABLE","$filter",886],["T_WHITESPACE"," ",886],"=",["T_WHITESPACE"," ",886],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","getMockBuilder",886],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",886],")",["T_WHITESPACE","\n            ",886],["T_OBJECT_OPERATOR","->",887],["T_STRING","setMethods",887],"(","[",["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",887],"]",")",["T_WHITESPACE","\n            ",887],["T_OBJECT_OPERATOR","->",888],["T_STRING","getMock",888],"(",")",";",["T_WHITESPACE","\n\n        ",888],["T_VARIABLE","$filter",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","expects",890],"(",["T_VARIABLE","$this",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","at",890],"(",["T_LNUMBER","0",890],")",")",["T_WHITESPACE","\n            ",890],["T_OBJECT_OPERATOR","->",891],["T_STRING","method",891],"(",["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",891],")",";",["T_WHITESPACE","\n\n        ",891],["T_STRING","DispatcherFactory",893],["T_DOUBLE_COLON","::",893],["T_STRING","add",893],"(",["T_VARIABLE","$filter",893],")",";",["T_WHITESPACE","\n\n        ",893],["T_VARIABLE","$exception",895],["T_WHITESPACE"," ",895],"=",["T_WHITESPACE"," ",895],["T_NEW","new",895],["T_WHITESPACE"," ",895],["T_STRING","Exception",895],"(",["T_CONSTANT_ENCAPSED_STRING","'Terrible'",895],")",";",["T_WHITESPACE","\n        ",895],["T_VARIABLE","$renderer",896],["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],["T_NEW","new",896],["T_WHITESPACE"," ",896],["T_STRING","ExceptionRenderer",896],"(",["T_VARIABLE","$exception",896],")",";",["T_WHITESPACE","\n        ",896],["T_VARIABLE","$renderer",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","render",897],"(",")",";",["T_WHITESPACE","\n    ",897],"}",["T_WHITESPACE","\n\n    ",898],["T_DOC_COMMENT","\/**\n     * test that subclass methods fire shutdown events.\n     *\n     * @return void\n     *\/",900],["T_WHITESPACE","\n    ",904],["T_PUBLIC","public",905],["T_WHITESPACE"," ",905],["T_FUNCTION","function",905],["T_WHITESPACE"," ",905],["T_STRING","testSubclassTriggerShutdownEvents",905],"(",")",["T_WHITESPACE","\n    ",905],"{",["T_WHITESPACE","\n        ",906],["T_VARIABLE","$fired",907],["T_WHITESPACE"," ",907],"=",["T_WHITESPACE"," ",907],"[","]",";",["T_WHITESPACE","\n        ",907],["T_VARIABLE","$listener",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_FUNCTION","function",908],["T_WHITESPACE"," ",908],"(",["T_VARIABLE","$event",908],")",["T_WHITESPACE"," ",908],["T_USE","use",908],["T_WHITESPACE"," ",908],"(","&",["T_VARIABLE","$fired",908],")",["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n            ",908],["T_VARIABLE","$fired",909],"[","]",["T_WHITESPACE"," ",909],"=",["T_WHITESPACE"," ",909],["T_VARIABLE","$event",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","name",909],"(",")",";",["T_WHITESPACE","\n        ",909],"}",";",["T_WHITESPACE","\n        ",910],["T_VARIABLE","$events",911],["T_WHITESPACE"," ",911],"=",["T_WHITESPACE"," ",911],["T_STRING","EventManager",911],["T_DOUBLE_COLON","::",911],["T_STRING","instance",911],"(",")",";",["T_WHITESPACE","\n        ",911],["T_VARIABLE","$events",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","attach",912],"(",["T_VARIABLE","$listener",912],",",["T_WHITESPACE"," ",912],["T_CONSTANT_ENCAPSED_STRING","'Controller.shutdown'",912],")",";",["T_WHITESPACE","\n        ",912],["T_VARIABLE","$events",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","attach",913],"(",["T_VARIABLE","$listener",913],",",["T_WHITESPACE"," ",913],["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",913],")",";",["T_WHITESPACE","\n\n        ",913],["T_VARIABLE","$exception",915],["T_WHITESPACE"," ",915],"=",["T_WHITESPACE"," ",915],["T_NEW","new",915],["T_WHITESPACE"," ",915],["T_STRING","MissingWidgetThingException",915],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget not found'",915],")",";",["T_WHITESPACE","\n        ",915],["T_VARIABLE","$renderer",916],["T_WHITESPACE"," ",916],"=",["T_WHITESPACE"," ",916],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","_mockResponse",916],"(",["T_NEW","new",916],["T_WHITESPACE"," ",916],["T_STRING","MyCustomExceptionRenderer",916],"(",["T_VARIABLE","$exception",916],")",")",";",["T_WHITESPACE","\n        ",916],["T_VARIABLE","$renderer",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","render",917],"(",")",";",["T_WHITESPACE","\n\n        ",917],["T_VARIABLE","$expected",919],["T_WHITESPACE"," ",919],"=",["T_WHITESPACE"," ",919],"[",["T_CONSTANT_ENCAPSED_STRING","'Controller.shutdown'",919],",",["T_WHITESPACE"," ",919],["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",919],"]",";",["T_WHITESPACE","\n        ",919],["T_VARIABLE","$this",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","assertEquals",920],"(",["T_VARIABLE","$expected",920],",",["T_WHITESPACE"," ",920],["T_VARIABLE","$fired",920],")",";",["T_WHITESPACE","\n    ",920],"}",["T_WHITESPACE","\n\n    ",921],["T_DOC_COMMENT","\/**\n     * Tests the output of rendering a PDOException\n     *\n     * @return void\n     *\/",923],["T_WHITESPACE","\n    ",927],["T_PUBLIC","public",928],["T_WHITESPACE"," ",928],["T_FUNCTION","function",928],["T_WHITESPACE"," ",928],["T_STRING","testPDOException",928],"(",")",["T_WHITESPACE","\n    ",928],"{",["T_WHITESPACE","\n        ",929],["T_VARIABLE","$exception",930],["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_NEW","new",930],["T_WHITESPACE"," ",930],["T_NS_SEPARATOR","\\",930],["T_STRING","PDOException",930],"(",["T_CONSTANT_ENCAPSED_STRING","'There was an error in the SQL query'",930],")",";",["T_WHITESPACE","\n        ",930],["T_VARIABLE","$exception",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","queryString",931],["T_WHITESPACE"," ",931],"=",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","'SELECT * from poo_query < 5 and :seven'",931],";",["T_WHITESPACE","\n        ",931],["T_VARIABLE","$exception",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","params",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],"[",["T_CONSTANT_ENCAPSED_STRING","'seven'",932],["T_WHITESPACE"," ",932],["T_DOUBLE_ARROW","=>",932],["T_WHITESPACE"," ",932],["T_LNUMBER","7",932],"]",";",["T_WHITESPACE","\n        ",932],["T_VARIABLE","$ExceptionRenderer",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_NEW","new",933],["T_WHITESPACE"," ",933],["T_STRING","ExceptionRenderer",933],"(",["T_VARIABLE","$exception",933],")",";",["T_WHITESPACE","\n        ",933],["T_VARIABLE","$ExceptionRenderer",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","controller",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","response",934],["T_WHITESPACE"," ",934],"=",["T_WHITESPACE"," ",934],["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","getMockBuilder",934],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",934],")",["T_WHITESPACE","\n            ",934],["T_OBJECT_OPERATOR","->",935],["T_STRING","setMethods",935],"(","[",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",935],",",["T_WHITESPACE"," ",935],["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",935],"]",")",["T_WHITESPACE","\n            ",935],["T_OBJECT_OPERATOR","->",936],["T_STRING","getMock",936],"(",")",";",["T_WHITESPACE","\n        ",936],["T_VARIABLE","$ExceptionRenderer",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","controller",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","response",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","expects",937],"(",["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","once",937],"(",")",")",["T_OBJECT_OPERATOR","->",937],["T_STRING","method",937],"(",["T_CONSTANT_ENCAPSED_STRING","'statusCode'",937],")",["T_OBJECT_OPERATOR","->",937],["T_STRING","with",937],"(",["T_LNUMBER","500",937],")",";",["T_WHITESPACE","\n\n        ",937],["T_VARIABLE","$result",939],["T_WHITESPACE"," ",939],"=",["T_WHITESPACE"," ",939],["T_VARIABLE","$ExceptionRenderer",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","render",939],"(",")",["T_OBJECT_OPERATOR","->",939],["T_STRING","body",939],"(",")",";",["T_WHITESPACE","\n\n        ",939],["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","assertContains",941],"(",["T_CONSTANT_ENCAPSED_STRING","'Database Error'",941],",",["T_WHITESPACE"," ",941],["T_VARIABLE","$result",941],")",";",["T_WHITESPACE","\n        ",941],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","assertContains",942],"(",["T_CONSTANT_ENCAPSED_STRING","'There was an error in the SQL query'",942],",",["T_WHITESPACE"," ",942],["T_VARIABLE","$result",942],")",";",["T_WHITESPACE","\n        ",942],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","assertContains",943],"(",["T_STRING","h",943],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * from poo_query < 5 and :seven'",943],")",",",["T_WHITESPACE"," ",943],["T_VARIABLE","$result",943],")",";",["T_WHITESPACE","\n        ",943],["T_VARIABLE","$this",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","assertContains",944],"(",["T_CONSTANT_ENCAPSED_STRING","\"'seven' => (int) 7\"",944],",",["T_WHITESPACE"," ",944],["T_VARIABLE","$result",944],")",";",["T_WHITESPACE","\n    ",944],"}",["T_WHITESPACE","\n",945],"}",["T_WHITESPACE","\n",946]]