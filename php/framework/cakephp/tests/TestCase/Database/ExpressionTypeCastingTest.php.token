[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The Open Group Test Suite License\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",13],["T_NAMESPACE","namespace",14],["T_WHITESPACE"," ",14],["T_STRING","Cake",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestCase",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Database",14],";",["T_WHITESPACE","\n\n",14],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Cake",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Database",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Expression",16],["T_NS_SEPARATOR","\\",16],["T_STRING","BetweenExpression",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Expression",17],["T_NS_SEPARATOR","\\",17],["T_STRING","CaseExpression",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Database",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Expression",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Comparison",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Database",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Expression",19],["T_NS_SEPARATOR","\\",19],["T_STRING","FunctionExpression",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Database",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Expression",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ValuesExpression",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Database",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Type",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Database",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Type",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ExpressionTypeInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Database",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Type",23],["T_NS_SEPARATOR","\\",23],["T_STRING","StringType",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Database",24],["T_NS_SEPARATOR","\\",24],["T_STRING","ValueBinder",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Cake",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestSuite",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestCase",25],";",["T_WHITESPACE","\n\n",25],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","TestType",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","StringType",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE"," ",27],["T_STRING","ExpressionTypeInterface",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n\n    ",28],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","toExpression",30],"(",["T_VARIABLE","$value",30],")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","FunctionExpression",32],"(",["T_CONSTANT_ENCAPSED_STRING","'CONCAT'",32],",",["T_WHITESPACE"," ",32],"[",["T_VARIABLE","$value",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","' - foo'",32],"]",")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n",33],"}",["T_WHITESPACE","\n\n",34],["T_DOC_COMMENT","\/**\n * Tests for Expression objects casting values to other expressions\n * using the type classes\n *\n *\/",36],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","ExpressionTypeCastingTest",41],["T_WHITESPACE"," ",41],["T_EXTENDS","extends",41],["T_WHITESPACE"," ",41],["T_STRING","TestCase",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Setups a mock for FunctionsBuilder\n     *\n     * @return void\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","setUp",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","setUp",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_STRING","Type",52],["T_DOUBLE_COLON","::",52],["T_STRING","map",52],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",52],",",["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","TestType",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Tests that the Comparison expression can handle values convertible to\n     * expressions\n     *\n     * @return void\n     *\/",55],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testComparisonSimple",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$comparison",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Comparison",63],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'the thing'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'test'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'='",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$binder",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","ValueBinder",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$sql",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$comparison",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","sql",65],"(",["T_VARIABLE","$binder",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEquals",66],"(",["T_CONSTANT_ENCAPSED_STRING","'field = (CONCAT(:c0, :c1))'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$sql",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEquals",67],"(",["T_CONSTANT_ENCAPSED_STRING","'the thing'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$binder",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","bindings",67],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c0'",67],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",67],"]",")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$found",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","false",69],";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$comparison",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","traverse",70],"(",["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$exp",70],")",["T_WHITESPACE"," ",70],["T_USE","use",70],["T_WHITESPACE"," ",70],"(","&",["T_VARIABLE","$found",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$found",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$exp",71],["T_WHITESPACE"," ",71],["T_INSTANCEOF","instanceof",71],["T_WHITESPACE"," ",71],["T_STRING","FunctionExpression",71],";",["T_WHITESPACE","\n        ",71],"}",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertTrue",73],"(",["T_VARIABLE","$found",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'The expression is not included in the tree'",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Tests that the Comparison expression can handle values convertible to\n     * expressions\n     *\n     * @return void\n     *\/",76],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testComparisonMultiple",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$comparison",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","Comparison",84],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",84],",",["T_WHITESPACE"," ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'2'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'3'",84],"]",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'test[]'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'IN'",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$binder",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","ValueBinder",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$sql",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$comparison",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","sql",86],"(",["T_VARIABLE","$binder",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEquals",87],"(",["T_CONSTANT_ENCAPSED_STRING","'field IN (CONCAT(:c0, :c1),CONCAT(:c2, :c3))'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$sql",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEquals",88],"(",["T_CONSTANT_ENCAPSED_STRING","'2'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$binder",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","bindings",88],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c0'",88],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",88],"]",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEquals",89],"(",["T_CONSTANT_ENCAPSED_STRING","'3'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$binder",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","bindings",89],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c2'",89],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",89],"]",")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$found",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","false",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$comparison",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","traverse",92],"(",["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$exp",92],")",["T_WHITESPACE"," ",92],["T_USE","use",92],["T_WHITESPACE"," ",92],"(","&",["T_VARIABLE","$found",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$found",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$exp",93],["T_WHITESPACE"," ",93],["T_INSTANCEOF","instanceof",93],["T_WHITESPACE"," ",93],["T_STRING","FunctionExpression",93],";",["T_WHITESPACE","\n        ",93],"}",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTrue",95],"(",["T_VARIABLE","$found",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'The expression is not included in the tree'",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Tests that the Between expression casts values to expressions correctly\n     *\n     * @return void\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testBetween",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$between",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","BetweenExpression",105],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'from'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'to'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'test'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$binder",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","ValueBinder",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$sql",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$between",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","sql",107],"(",["T_VARIABLE","$binder",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEquals",108],"(",["T_CONSTANT_ENCAPSED_STRING","'field BETWEEN CONCAT(:c0, :c1) AND CONCAT(:c2, :c3)'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$sql",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$binder",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","bindings",109],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c0'",109],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",109],"]",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEquals",110],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$binder",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","bindings",110],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c2'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",110],"]",")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$expressions",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[","]",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$between",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","traverse",113],"(",["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$exp",113],")",["T_WHITESPACE"," ",113],["T_USE","use",113],["T_WHITESPACE"," ",113],"(","&",["T_VARIABLE","$expressions",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$expressions",114],"[","]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$exp",114],["T_WHITESPACE"," ",114],["T_INSTANCEOF","instanceof",114],["T_WHITESPACE"," ",114],["T_STRING","FunctionExpression",114],["T_WHITESPACE"," ",114],"?",["T_WHITESPACE"," ",114],["T_LNUMBER","1",114],["T_WHITESPACE"," ",114],":",["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],";",["T_WHITESPACE","\n        ",114],"}",")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$result",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","array_sum",117],"(",["T_VARIABLE","$expressions",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEquals",118],"(",["T_LNUMBER","2",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$result",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Missing expressions in the tree'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Tests that the Case expressions converts values to expressions correctly\n     *\n     * @return void\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","testCaseExpression",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$case",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","CaseExpression",128],"(",["T_WHITESPACE","\n            ",128],"[",["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","Comparison",129],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'1'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'string'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'='",129],")","]",",",["T_WHITESPACE","\n            ",129],"[",["T_CONSTANT_ENCAPSED_STRING","'value1'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'value2'",130],"]",",",["T_WHITESPACE","\n            ",130],"[",["T_CONSTANT_ENCAPSED_STRING","'test'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'test'",131],"]",["T_WHITESPACE","\n        ",131],")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$binder",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","ValueBinder",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$sql",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$case",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","sql",135],"(",["T_VARIABLE","$binder",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEquals",136],"(",["T_CONSTANT_ENCAPSED_STRING","'CASE WHEN foo = :c0 THEN CONCAT(:c1, :c2) ELSE CONCAT(:c3, :c4) END'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$sql",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertEquals",138],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$binder",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","bindings",138],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c0'",138],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",138],"]",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEquals",139],"(",["T_CONSTANT_ENCAPSED_STRING","'value1'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$binder",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","bindings",139],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c1'",139],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",139],"]",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEquals",140],"(",["T_CONSTANT_ENCAPSED_STRING","'value2'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$binder",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","bindings",140],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c3'",140],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",140],"]",")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$expressions",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[","]",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$case",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","traverse",143],"(",["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$exp",143],")",["T_WHITESPACE"," ",143],["T_USE","use",143],["T_WHITESPACE"," ",143],"(","&",["T_VARIABLE","$expressions",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$expressions",144],"[","]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$exp",144],["T_WHITESPACE"," ",144],["T_INSTANCEOF","instanceof",144],["T_WHITESPACE"," ",144],["T_STRING","FunctionExpression",144],["T_WHITESPACE"," ",144],"?",["T_WHITESPACE"," ",144],["T_LNUMBER","1",144],["T_WHITESPACE"," ",144],":",["T_WHITESPACE"," ",144],["T_LNUMBER","0",144],";",["T_WHITESPACE","\n        ",144],"}",")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$result",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","array_sum",147],"(",["T_VARIABLE","$expressions",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEquals",148],"(",["T_LNUMBER","2",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$result",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Missing expressions in the tree'",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Tests that values in FunctionExpressions are converted to expressions correctly\n     *\n     * @return void\n     *\/",151],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","testFunctionExpression",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$function",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_STRING","FunctionExpression",158],"(",["T_CONSTANT_ENCAPSED_STRING","'DATE'",158],",",["T_WHITESPACE"," ",158],"[",["T_CONSTANT_ENCAPSED_STRING","'2016-01'",158],"]",",",["T_WHITESPACE"," ",158],"[",["T_CONSTANT_ENCAPSED_STRING","'test'",158],"]",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$binder",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","ValueBinder",159],";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$sql",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$function",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","sql",160],"(",["T_VARIABLE","$binder",160],")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEquals",161],"(",["T_CONSTANT_ENCAPSED_STRING","'DATE((CONCAT(:c0, :c1)))'",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$sql",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertEquals",162],"(",["T_CONSTANT_ENCAPSED_STRING","'2016-01'",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$binder",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","bindings",162],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c0'",162],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",162],"]",")",";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$expressions",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],"[","]",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$function",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","traverse",165],"(",["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$exp",165],")",["T_WHITESPACE"," ",165],["T_USE","use",165],["T_WHITESPACE"," ",165],"(","&",["T_VARIABLE","$expressions",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$expressions",166],"[","]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$exp",166],["T_WHITESPACE"," ",166],["T_INSTANCEOF","instanceof",166],["T_WHITESPACE"," ",166],["T_STRING","FunctionExpression",166],["T_WHITESPACE"," ",166],"?",["T_WHITESPACE"," ",166],["T_LNUMBER","1",166],["T_WHITESPACE"," ",166],":",["T_WHITESPACE"," ",166],["T_LNUMBER","0",166],";",["T_WHITESPACE","\n        ",166],"}",")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$result",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","array_sum",169],"(",["T_VARIABLE","$expressions",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEquals",170],"(",["T_LNUMBER","1",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$result",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Missing expressions in the tree'",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Tests that values in ValuesExpression are converted to expressions correctly\n     *\n     * @return void\n     *\/",173],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","testValuesExpression",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$values",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_NEW","new",180],["T_WHITESPACE"," ",180],["T_STRING","ValuesExpression",180],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",180],"]",",",["T_WHITESPACE"," ",180],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'test'",180],"]",")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$values",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","add",181],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'foo'",181],"]",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$values",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","add",182],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'bar'",182],"]",")",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$binder",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_STRING","ValueBinder",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$sql",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$values",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","sql",185],"(",["T_VARIABLE","$binder",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertEquals",186],"(",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","' VALUES ((CONCAT(:c0, :c1))), ((CONCAT(:c2, :c3)))'",187],",",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$sql",188],["T_WHITESPACE","\n        ",188],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertEquals",190],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$binder",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","bindings",190],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c0'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",190],"]",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEquals",191],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$binder",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","bindings",191],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","':c2'",191],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",191],"]",")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$expressions",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],"[","]",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$values",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","traverse",194],"(",["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$exp",194],")",["T_WHITESPACE"," ",194],["T_USE","use",194],["T_WHITESPACE"," ",194],"(","&",["T_VARIABLE","$expressions",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$expressions",195],"[","]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$exp",195],["T_WHITESPACE"," ",195],["T_INSTANCEOF","instanceof",195],["T_WHITESPACE"," ",195],["T_STRING","FunctionExpression",195],["T_WHITESPACE"," ",195],"?",["T_WHITESPACE"," ",195],["T_LNUMBER","1",195],["T_WHITESPACE"," ",195],":",["T_WHITESPACE"," ",195],["T_LNUMBER","0",195],";",["T_WHITESPACE","\n        ",195],"}",")",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$result",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","array_sum",198],"(",["T_VARIABLE","$expressions",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertEquals",199],"(",["T_LNUMBER","2",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$result",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'Missing expressions in the tree'",199],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n",200],"}",["T_WHITESPACE","\n",201]]