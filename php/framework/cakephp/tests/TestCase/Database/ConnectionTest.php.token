[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Database",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Configure",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Database",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Connection",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Database",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Driver",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Mysql",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Datasource",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ConnectionManager",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TestSuite",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TestCase",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Tests Connection class\n *\/",23],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","ConnectionTest",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","TestCase",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$fixtures",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],"[",["T_CONSTANT_ENCAPSED_STRING","'core.things'",29],"]",";",["T_WHITESPACE","\n\n    ",29],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","connection",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","ConnectionManager",34],["T_DOUBLE_COLON","::",34],["T_STRING","get",34],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",34],")",";",["T_WHITESPACE","\n        ",34],["T_STRING","Configure",35],["T_DOUBLE_COLON","::",35],["T_STRING","write",35],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",35],")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","tearDown",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","connection",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","useSavePoints",40],"(",["T_STRING","false",40],")",";",["T_WHITESPACE","\n        ",40],["T_UNSET","unset",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","connection",41],")",";",["T_WHITESPACE","\n        ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","tearDown",42],"(",")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Auxiliary method to build a mock for a driver so it can be injected into\n     * the connection object\n     *\n     * @return \\Cake\\Database\\Driver\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getMockFormDriver",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$driver",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockBuilder",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Driver'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getMock",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$driver",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","expects",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","once",54],"(",")",")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","method",55],"(",["T_CONSTANT_ENCAPSED_STRING","'enabled'",55],")",["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","will",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","returnValue",56],"(",["T_STRING","true",56],")",")",";",["T_WHITESPACE","\n\n        ",56],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$driver",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Tests connecting to database\n     *\n     * @return void\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testConnect",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertTrue",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","connection",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","connect",68],"(",")",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","connection",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","isConnected",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Tests creating a connection using no driver throws an exception\n     *\n     * @expectedException \\Cake\\Database\\Exception\\MissingDriverException\n     * @expectedExceptionMessage Database driver  could not be found.\n     * @return void\n     *\/",72],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testNoDriver",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$connection",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","Connection",81],"(","[","]",")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Tests creating a connection using an invalid driver throws an exception\n     *\n     * @expectedException \\Cake\\Database\\Exception\\MissingDriverException\n     * @expectedExceptionMessage Database driver  could not be found.\n     * @return void\n     *\/",84],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","testEmptyDriver",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$connection",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","Connection",93],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","false",93],"]",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Tests creating a connection using an invalid driver throws an exception\n     *\n     * @expectedException \\Cake\\Database\\Exception\\MissingDriverException\n     * @expectedExceptionMessage Database driver \\Foo\\InvalidDriver could not be found.\n     * @return void\n     *\/",96],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testMissingDriver",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$connection",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","Connection",105],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'\\Foo\\InvalidDriver'",105],"]",")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Tests trying to use a disabled driver throws an exception\n     *\n     * @expectedException \\Cake\\Database\\Exception\\MissingExtensionException\n     * @expectedExceptionMessage Database driver DriverMock cannot be used due to a missing PHP extension or unmet dependency\n     * @return void\n     *\/",108],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","testDisabledDriver",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$mock",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMockBuilder",117],"(",["T_STRING","Mysql",117],["T_DOUBLE_COLON","::",117],["T_CLASS","class",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","setMethods",118],"(","[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",118],"]",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","setMockClassName",119],"(",["T_CONSTANT_ENCAPSED_STRING","'DriverMock'",119],")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMock",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$connection",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","Connection",121],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$mock",121],"]",")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Tests that the `driver` option supports the short classname\/plugin syntax.\n     *\n     * @return void\n     *\/",124],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","testDriverOptionClassNameSupport",129],"(",")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$connection",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","Connection",131],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'TestDriver'",131],"]",")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertInstanceOf",132],"(",["T_CONSTANT_ENCAPSED_STRING","'\\TestApp\\Database\\Driver\\TestDriver'",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$connection",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","driver",132],"(",")",")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$connection",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","Connection",134],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'TestPlugin.TestDriver'",134],"]",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertInstanceOf",135],"(",["T_CONSTANT_ENCAPSED_STRING","'\\TestPlugin\\Database\\Driver\\TestDriver'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$connection",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","driver",135],"(",")",")",";",["T_WHITESPACE","\n\n        ",135],["T_LIST","list",137],"(",",",["T_WHITESPACE"," ",137],["T_VARIABLE","$name",137],")",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","namespaceSplit",137],"(",["T_STRING","get_class",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","connection",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","driver",137],"(",")",")",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$connection",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","Connection",138],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$name",138],"]",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertInstanceOf",139],"(",["T_STRING","get_class",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","connection",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","driver",139],"(",")",")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$connection",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","driver",139],"(",")",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Tests that connecting with invalid credentials or database name throws an exception\n     *\n     * @expectedException \\Cake\\Database\\Exception\\MissingConnectionException\n     * @return void\n     *\/",142],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testWrongCredentials",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$config",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","ConnectionManager",150],["T_DOUBLE_COLON","::",150],["T_STRING","config",150],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","skipIf",151],"(",["T_ISSET","isset",151],"(",["T_VARIABLE","$config",151],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",151],"]",")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'Datasource has dsn, skipping.'",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$connection",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","Connection",152],"(","[",["T_CONSTANT_ENCAPSED_STRING","'database'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/nonexistent'",152],"]",["T_WHITESPACE"," ",152],"+",["T_WHITESPACE"," ",152],["T_STRING","ConnectionManager",152],["T_DOUBLE_COLON","::",152],["T_STRING","config",152],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",152],")",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$connection",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","connect",153],"(",")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Tests creation of prepared statements\n     *\n     * @return void\n     *\/",156],["T_WHITESPACE","\n    ",160],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","testPrepare",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$sql",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'SELECT 1 + 1'",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$result",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","connection",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","prepare",164],"(",["T_VARIABLE","$sql",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertInstanceOf",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\StatementInterface'",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$result",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertEquals",166],"(",["T_VARIABLE","$sql",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$result",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","queryString",166],")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$query",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","connection",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","newQuery",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","select",168],"(",["T_CONSTANT_ENCAPSED_STRING","'1 + 1'",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$result",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","connection",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","prepare",169],"(",["T_VARIABLE","$query",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertInstanceOf",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\StatementInterface'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$result",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$sql",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'#SELECT [`\"\\[]?1 \\+ 1[`\"\\]]?#'",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertRegExp",172],"(",["T_VARIABLE","$sql",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$result",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","queryString",172],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Tests executing a simple query using bound values\n     *\n     * @return void\n     *\/",175],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","testExecuteWithArguments",180],"(",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$sql",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'SELECT 1 + ?'",182],";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$statement",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","connection",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","execute",183],"(",["T_VARIABLE","$sql",183],",",["T_WHITESPACE"," ",183],"[",["T_LNUMBER","1",183],"]",",",["T_WHITESPACE"," ",183],"[",["T_CONSTANT_ENCAPSED_STRING","'integer'",183],"]",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertCount",184],"(",["T_LNUMBER","1",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$statement",184],")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$result",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$statement",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","fetch",185],"(",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertEquals",186],"(","[",["T_LNUMBER","2",186],"]",",",["T_WHITESPACE"," ",186],["T_VARIABLE","$result",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$statement",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","closeCursor",187],"(",")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$sql",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'SELECT 1 + ? + ? AS total'",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$statement",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","connection",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","execute",190],"(",["T_VARIABLE","$sql",190],",",["T_WHITESPACE"," ",190],"[",["T_LNUMBER","2",190],",",["T_WHITESPACE"," ",190],["T_LNUMBER","3",190],"]",",",["T_WHITESPACE"," ",190],"[",["T_CONSTANT_ENCAPSED_STRING","'integer'",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'integer'",190],"]",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertCount",191],"(",["T_LNUMBER","1",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$statement",191],")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$result",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$statement",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","fetch",192],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertEquals",193],"(","[",["T_CONSTANT_ENCAPSED_STRING","'total'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_LNUMBER","6",193],"]",",",["T_WHITESPACE"," ",193],["T_VARIABLE","$result",193],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$statement",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","closeCursor",194],"(",")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$sql",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'SELECT 1 + :one + :two AS total'",196],";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$statement",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","connection",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","execute",197],"(",["T_VARIABLE","$sql",197],",",["T_WHITESPACE"," ",197],"[",["T_CONSTANT_ENCAPSED_STRING","'one'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_LNUMBER","2",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'two'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_LNUMBER","3",197],"]",",",["T_WHITESPACE"," ",197],"[",["T_CONSTANT_ENCAPSED_STRING","'one'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'integer'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'two'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'integer'",197],"]",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertCount",198],"(",["T_LNUMBER","1",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$statement",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$result",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$statement",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","fetch",199],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",199],")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$statement",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","closeCursor",200],"(",")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertEquals",201],"(","[",["T_CONSTANT_ENCAPSED_STRING","'total'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_LNUMBER","6",201],"]",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$result",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Tests executing a query with params and associated types\n     *\n     * @return void\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","testExecuteWithArgumentsAndTypes",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$sql",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","\"SELECT '2012-01-01' = ?\"",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$statement",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","connection",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","execute",212],"(",["T_VARIABLE","$sql",212],",",["T_WHITESPACE"," ",212],"[",["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_NS_SEPARATOR","\\",212],["T_STRING","DateTime",212],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",212],")","]",",",["T_WHITESPACE"," ",212],"[",["T_CONSTANT_ENCAPSED_STRING","'date'",212],"]",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$result",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$statement",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","fetch",213],"(",")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$statement",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","closeCursor",214],"(",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertTrue",215],"(",["T_BOOL_CAST","(bool)",215],["T_VARIABLE","$result",215],"[",["T_LNUMBER","0",215],"]",")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Tests that passing a unknown value to a query throws an exception\n     *\n     * @expectedException \\InvalidArgumentException\n     * @return void\n     *\/",218],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","testExecuteWithMissingType",224],"(",")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$sql",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'SELECT ?'",226],";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$statement",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","connection",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","execute",227],"(",["T_VARIABLE","$sql",227],",",["T_WHITESPACE"," ",227],"[",["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_NS_SEPARATOR","\\",227],["T_STRING","DateTime",227],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",227],")","]",",",["T_WHITESPACE"," ",227],"[",["T_CONSTANT_ENCAPSED_STRING","'bar'",227],"]",")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Tests executing a query with no params also works\n     *\n     * @return void\n     *\/",230],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","testExecuteWithNoParams",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$sql",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'SELECT 1'",237],";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$statement",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","connection",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","execute",238],"(",["T_VARIABLE","$sql",238],")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$result",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$statement",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","fetch",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertCount",240],"(",["T_LNUMBER","1",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$result",240],")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertEquals",241],"(","[",["T_LNUMBER","1",241],"]",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$result",241],")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$statement",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","closeCursor",242],"(",")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Tests it is possible to insert data into a table using matching types by key name\n     *\n     * @return void\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","testInsertWithMatchingTypes",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$data",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'3'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'title'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'a title'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'body'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'a body'",252],"]",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$result",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","connection",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","insert",253],"(",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'things'",254],",",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$data",255],",",["T_WHITESPACE","\n            ",255],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'integer'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'title'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'string'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'body'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'string'",256],"]",["T_WHITESPACE","\n        ",256],")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertInstanceOf",258],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\StatementInterface'",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$result",258],")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$result",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","closeCursor",259],"(",")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$result",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","connection",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","execute",260],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * from things where id = 3'",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertCount",261],"(",["T_LNUMBER","1",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$result",261],")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$row",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$result",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","fetch",262],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$result",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","closeCursor",263],"(",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertEquals",264],"(",["T_VARIABLE","$data",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$row",264],")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Tests it is possible to insert data into a table using matching types by array position\n     *\n     * @return void\n     *\/",267],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","testInsertWithPositionalTypes",272],"(",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$data",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'3'",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'title'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'a title'",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'body'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'a body'",274],"]",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$result",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","connection",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","insert",275],"(",["T_WHITESPACE","\n            ",275],["T_CONSTANT_ENCAPSED_STRING","'things'",276],",",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$data",277],",",["T_WHITESPACE","\n            ",277],"[",["T_CONSTANT_ENCAPSED_STRING","'integer'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'string'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'string'",278],"]",["T_WHITESPACE","\n        ",278],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$result",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","closeCursor",280],"(",")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertInstanceOf",281],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\StatementInterface'",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$result",281],")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$result",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","connection",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","execute",282],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * from things where id  = 3'",282],")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","assertCount",283],"(",["T_LNUMBER","1",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$result",283],")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$row",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$result",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","fetch",284],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$result",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","closeCursor",285],"(",")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertEquals",286],"(",["T_VARIABLE","$data",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$row",286],")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Tests an statement class can be reused for multiple executions\n     *\n     * @return void\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","testStatementReusing",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$total",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","connection",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","execute",296],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) AS total FROM things'",296],")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$result",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$total",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","fetch",297],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",297],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","assertEquals",298],"(",["T_LNUMBER","2",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$result",298],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",298],"]",")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$total",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","closeCursor",299],"(",")",";",["T_WHITESPACE","\n\n        ",299],["T_VARIABLE","$total",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","execute",301],"(",")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$result",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$total",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","fetch",302],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",302],")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","assertEquals",303],"(",["T_LNUMBER","2",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$result",303],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",303],"]",")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$total",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","closeCursor",304],"(",")",";",["T_WHITESPACE","\n\n        ",304],["T_VARIABLE","$result",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","connection",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","execute",306],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT title, body  FROM things'",306],")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$row",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$result",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","fetch",307],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",307],")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertEquals",308],"(",["T_CONSTANT_ENCAPSED_STRING","'a title'",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$row",308],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",308],"]",")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","assertEquals",309],"(",["T_CONSTANT_ENCAPSED_STRING","'a body'",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$row",309],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",309],"]",")",";",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$row",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$result",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","fetch",311],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$result",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","closeCursor",312],"(",")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","assertEquals",313],"(",["T_CONSTANT_ENCAPSED_STRING","'another title'",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$row",313],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",313],"]",")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","assertEquals",314],"(",["T_CONSTANT_ENCAPSED_STRING","'another body'",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$row",314],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",314],"]",")",";",["T_WHITESPACE","\n\n        ",314],["T_VARIABLE","$result",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","execute",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$row",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$result",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","fetch",317],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",317],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$result",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","closeCursor",318],"(",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","assertEquals",319],"(",["T_CONSTANT_ENCAPSED_STRING","'a title'",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$row",319],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",319],"]",")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to pass PDO constants to the underlying statement\n     * object for using alternate fetch types\n     *\n     * @return void\n     *\/",322],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","testStatementFetchObject",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$result",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","connection",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","execute",330],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT title, body  FROM things'",330],")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$row",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$result",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","fetch",331],"(",["T_NS_SEPARATOR","\\",331],["T_STRING","PDO",331],["T_DOUBLE_COLON","::",331],["T_STRING","FETCH_OBJ",331],")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","assertEquals",332],"(",["T_CONSTANT_ENCAPSED_STRING","'a title'",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$row",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","title",332],")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","assertEquals",333],"(",["T_CONSTANT_ENCAPSED_STRING","'a body'",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$row",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","body",333],")",";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * Tests rows can be updated without specifying any conditions nor types\n     *\n     * @return void\n     *\/",336],["T_WHITESPACE","\n    ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","testUpdateWithoutConditionsNorTypes",341],"(",")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$title",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'changed the title!'",343],";",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$body",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'changed the body!'",344],";",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","connection",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","update",345],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",345],",",["T_WHITESPACE"," ",345],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$title",345],",",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'body'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$body",345],"]",")",";",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$result",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","connection",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","execute",346],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things WHERE title = ? AND body = ?'",346],",",["T_WHITESPACE"," ",346],"[",["T_VARIABLE","$title",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$body",346],"]",")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","assertCount",347],"(",["T_LNUMBER","2",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$result",347],")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$result",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","closeCursor",348],"(",")",";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n\n    ",349],["T_DOC_COMMENT","\/**\n     * Tests it is possible to use key => value conditions for update\n     *\n     * @return void\n     *\/",351],["T_WHITESPACE","\n    ",355],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","testUpdateWithConditionsNoTypes",356],"(",")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$title",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'changed the title!'",358],";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$body",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'changed the body!'",359],";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","connection",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","update",360],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",360],",",["T_WHITESPACE"," ",360],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$title",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'body'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$body",360],"]",",",["T_WHITESPACE"," ",360],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_LNUMBER","2",360],"]",")",";",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$result",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","connection",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","execute",361],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things WHERE title = ? AND body = ?'",361],",",["T_WHITESPACE"," ",361],"[",["T_VARIABLE","$title",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$body",361],"]",")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","assertCount",362],"(",["T_LNUMBER","1",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$result",362],")",";",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$result",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","closeCursor",363],"(",")",";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * Tests it is possible to use key => value and string conditions for update\n     *\n     * @return void\n     *\/",366],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","testUpdateWithConditionsCombinedNoTypes",371],"(",")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$title",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'changed the title!'",373],";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$body",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'changed the body!'",374],";",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","connection",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","update",375],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",375],",",["T_WHITESPACE"," ",375],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$title",375],",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'body'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$body",375],"]",",",["T_WHITESPACE"," ",375],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_LNUMBER","2",375],",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'body is not null'",375],"]",")",";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$result",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","connection",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","execute",376],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things WHERE title = ? AND body = ?'",376],",",["T_WHITESPACE"," ",376],"[",["T_VARIABLE","$title",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$body",376],"]",")",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertCount",377],"(",["T_LNUMBER","1",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$result",377],")",";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$result",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","closeCursor",378],"(",")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Tests you can bind types to update values\n     *\n     * @return void\n     *\/",381],["T_WHITESPACE","\n    ",385],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","testUpdateWithTypes",386],"(",")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$title",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'changed the title!'",388],";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$body",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_NEW","new",389],["T_WHITESPACE"," ",389],["T_NS_SEPARATOR","\\",389],["T_STRING","DateTime",389],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",389],")",";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$values",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING","compact",390],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'body'",390],")",";",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","connection",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","update",391],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$values",391],",",["T_WHITESPACE"," ",391],"[","]",",",["T_WHITESPACE"," ",391],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'date'",391],"]",")",";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$result",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","connection",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","execute",392],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things WHERE title = :title AND body = :body'",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$values",392],",",["T_WHITESPACE"," ",392],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'date'",392],"]",")",";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","assertCount",393],"(",["T_LNUMBER","2",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$result",393],")",";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$row",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$result",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","fetch",394],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",394],")",";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","assertEquals",395],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$row",395],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",395],"]",")",";",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$row",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$result",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","fetch",396],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",396],")",";",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","assertEquals",397],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$row",397],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",397],"]",")",";",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$result",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","closeCursor",398],"(",")",";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Tests you can bind types to update values\n     *\n     * @return void\n     *\/",401],["T_WHITESPACE","\n    ",405],["T_PUBLIC","public",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","testUpdateWithConditionsAndTypes",406],"(",")",["T_WHITESPACE","\n    ",406],"{",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$title",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'changed the title!'",408],";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$body",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_NEW","new",409],["T_WHITESPACE"," ",409],["T_NS_SEPARATOR","\\",409],["T_STRING","DateTime",409],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",409],")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$values",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","compact",410],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",410],",",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'body'",410],")",";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","connection",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","update",411],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$values",411],",",["T_WHITESPACE"," ",411],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'1-string-parsed-as-int'",411],"]",",",["T_WHITESPACE"," ",411],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'date'",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'id'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'integer'",411],"]",")",";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$result",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","connection",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","execute",412],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things WHERE title = :title AND body = :body'",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$values",412],",",["T_WHITESPACE"," ",412],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'date'",412],"]",")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertCount",413],"(",["T_LNUMBER","1",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$result",413],")",";",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$row",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$result",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","fetch",414],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",414],")",";",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","assertEquals",415],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$row",415],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",415],"]",")",";",["T_WHITESPACE","\n        ",415],["T_VARIABLE","$result",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","closeCursor",416],"(",")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Tests delete from table with no conditions\n     *\n     * @return void\n     *\/",419],["T_WHITESPACE","\n    ",423],["T_PUBLIC","public",424],["T_WHITESPACE"," ",424],["T_FUNCTION","function",424],["T_WHITESPACE"," ",424],["T_STRING","testDeleteNoConditions",424],"(",")",["T_WHITESPACE","\n    ",424],"{",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","connection",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","delete",426],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",426],")",";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$result",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","connection",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","execute",427],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",427],")",";",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","assertCount",428],"(",["T_LNUMBER","0",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$result",428],")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$result",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","closeCursor",429],"(",")",";",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n\n    ",430],["T_DOC_COMMENT","\/**\n     * Tests delete from table with conditions\n     * @return void\n     *\/",432],["T_WHITESPACE","\n    ",435],["T_PUBLIC","public",436],["T_WHITESPACE"," ",436],["T_FUNCTION","function",436],["T_WHITESPACE"," ",436],["T_STRING","testDeleteWithConditions",436],"(",")",["T_WHITESPACE","\n    ",436],"{",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","connection",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","delete",438],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",438],",",["T_WHITESPACE"," ",438],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",438],["T_WHITESPACE"," ",438],["T_DOUBLE_ARROW","=>",438],["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'1-rest-is-omitted'",438],"]",",",["T_WHITESPACE"," ",438],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",438],["T_WHITESPACE"," ",438],["T_DOUBLE_ARROW","=>",438],["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'integer'",438],"]",")",";",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$result",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","connection",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","execute",439],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","assertCount",440],"(",["T_LNUMBER","1",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$result",440],")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$result",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","closeCursor",441],"(",")",";",["T_WHITESPACE","\n\n        ",441],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","connection",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","delete",443],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",443],",",["T_WHITESPACE"," ",443],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'1-rest-is-omitted'",443],"]",",",["T_WHITESPACE"," ",443],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'integer'",443],"]",")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$result",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","connection",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","execute",444],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","assertCount",445],"(",["T_LNUMBER","1",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$result",445],")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$result",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","closeCursor",446],"(",")",";",["T_WHITESPACE","\n\n        ",446],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","connection",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","delete",448],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",448],",",["T_WHITESPACE"," ",448],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'2-rest-is-omitted'",448],"]",",",["T_WHITESPACE"," ",448],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'integer'",448],"]",")",";",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$result",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","connection",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","execute",449],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",449],")",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","assertCount",450],"(",["T_LNUMBER","0",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$result",450],")",";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$result",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","closeCursor",451],"(",")",";",["T_WHITESPACE","\n    ",451],"}",["T_WHITESPACE","\n\n    ",452],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to use simple database transactions\n     *\n     * @return void\n     *\/",454],["T_WHITESPACE","\n    ",458],["T_PUBLIC","public",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","testSimpleTransactions",459],"(",")",["T_WHITESPACE","\n    ",459],"{",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","connection",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","begin",461],"(",")",";",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","connection",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","delete",462],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",462],",",["T_WHITESPACE"," ",462],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_LNUMBER","1",462],"]",")",";",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","connection",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","rollback",463],"(",")",";",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$result",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","connection",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","execute",464],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",464],")",";",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","assertCount",465],"(",["T_LNUMBER","2",465],",",["T_WHITESPACE"," ",465],["T_VARIABLE","$result",465],")",";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$result",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","closeCursor",466],"(",")",";",["T_WHITESPACE","\n\n        ",466],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","connection",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","begin",468],"(",")",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","connection",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","delete",469],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",469],",",["T_WHITESPACE"," ",469],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",469],["T_WHITESPACE"," ",469],["T_DOUBLE_ARROW","=>",469],["T_WHITESPACE"," ",469],["T_LNUMBER","1",469],"]",")",";",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","connection",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","commit",470],"(",")",";",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$result",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","connection",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","execute",471],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",471],")",";",["T_WHITESPACE","\n        ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","assertCount",472],"(",["T_LNUMBER","1",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$result",472],")",";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to use virtualized nested transaction\n     * with early rollback algorithm\n     *\n     * @return void\n     *\/",475],["T_WHITESPACE","\n    ",480],["T_PUBLIC","public",481],["T_WHITESPACE"," ",481],["T_FUNCTION","function",481],["T_WHITESPACE"," ",481],["T_STRING","testVirtualNestedTransaction",481],"(",")",["T_WHITESPACE","\n    ",481],"{",["T_WHITESPACE","\n        ",482],["T_COMMENT","\/\/starting 3 virtual transaction\n",483],["T_WHITESPACE","        ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","connection",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","begin",484],"(",")",";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","connection",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","begin",485],"(",")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","connection",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","begin",486],"(",")",";",["T_WHITESPACE","\n\n        ",486],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","connection",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","delete",488],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",488],",",["T_WHITESPACE"," ",488],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",488],["T_WHITESPACE"," ",488],["T_DOUBLE_ARROW","=>",488],["T_WHITESPACE"," ",488],["T_LNUMBER","1",488],"]",")",";",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$result",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","connection",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","execute",489],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",489],")",";",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","assertCount",490],"(",["T_LNUMBER","1",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$result",490],")",";",["T_WHITESPACE","\n\n        ",490],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","connection",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","commit",492],"(",")",";",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","connection",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","rollback",493],"(",")",";",["T_WHITESPACE","\n\n        ",493],["T_VARIABLE","$result",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","connection",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","execute",495],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",495],")",";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","assertCount",496],"(",["T_LNUMBER","2",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$result",496],")",";",["T_WHITESPACE","\n    ",496],"}",["T_WHITESPACE","\n\n    ",497],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to use virtualized nested transaction\n     * with early rollback algorithm\n     *\n     * @return void\n     *\/",499],["T_WHITESPACE","\n    ",504],["T_PUBLIC","public",505],["T_WHITESPACE"," ",505],["T_FUNCTION","function",505],["T_WHITESPACE"," ",505],["T_STRING","testVirtualNestedTransaction2",505],"(",")",["T_WHITESPACE","\n    ",505],"{",["T_WHITESPACE","\n        ",506],["T_COMMENT","\/\/starting 3 virtual transaction\n",507],["T_WHITESPACE","        ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","connection",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","begin",508],"(",")",";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","connection",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","begin",509],"(",")",";",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","connection",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","begin",510],"(",")",";",["T_WHITESPACE","\n\n        ",510],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","connection",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","delete",512],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",512],",",["T_WHITESPACE"," ",512],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",512],["T_WHITESPACE"," ",512],["T_DOUBLE_ARROW","=>",512],["T_WHITESPACE"," ",512],["T_LNUMBER","1",512],"]",")",";",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$result",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","connection",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","execute",513],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",513],")",";",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","assertCount",514],"(",["T_LNUMBER","1",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$result",514],")",";",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","connection",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","rollback",515],"(",")",";",["T_WHITESPACE","\n\n        ",515],["T_VARIABLE","$result",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","connection",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","execute",517],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",517],")",";",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","assertCount",518],"(",["T_LNUMBER","2",518],",",["T_WHITESPACE"," ",518],["T_VARIABLE","$result",518],")",";",["T_WHITESPACE","\n    ",518],"}",["T_WHITESPACE","\n\n    ",519],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to use virtualized nested transaction\n     * with early rollback algorithm\n     *\n     * @return void\n     *\/",521],["T_WHITESPACE","\n\n    ",526],["T_PUBLIC","public",528],["T_WHITESPACE"," ",528],["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],["T_STRING","testVirtualNestedTransaction3",528],"(",")",["T_WHITESPACE","\n    ",528],"{",["T_WHITESPACE","\n        ",529],["T_COMMENT","\/\/starting 3 virtual transaction\n",530],["T_WHITESPACE","        ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","connection",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","begin",531],"(",")",";",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","connection",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","begin",532],"(",")",";",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","connection",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","begin",533],"(",")",";",["T_WHITESPACE","\n\n        ",533],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","connection",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","delete",535],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",535],",",["T_WHITESPACE"," ",535],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",535],["T_WHITESPACE"," ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_LNUMBER","1",535],"]",")",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$result",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","connection",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","execute",536],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",536],")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","assertCount",537],"(",["T_LNUMBER","1",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$result",537],")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","connection",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","commit",538],"(",")",";",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","connection",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","commit",539],"(",")",";",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","connection",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","commit",540],"(",")",";",["T_WHITESPACE","\n\n        ",540],["T_VARIABLE","$result",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","connection",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","execute",542],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",542],")",";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","assertCount",543],"(",["T_LNUMBER","1",543],",",["T_WHITESPACE"," ",543],["T_VARIABLE","$result",543],")",";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to real use  nested transactions\n     *\n     * @return void\n     *\/",546],["T_WHITESPACE","\n    ",550],["T_PUBLIC","public",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","testSavePoints",551],"(",")",["T_WHITESPACE","\n    ",551],"{",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","skipIf",553],"(","!",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","connection",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","useSavePoints",553],"(",["T_STRING","true",553],")",")",";",["T_WHITESPACE","\n\n        ",553],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","connection",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","begin",555],"(",")",";",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","connection",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","delete",556],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",556],",",["T_WHITESPACE"," ",556],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_LNUMBER","1",556],"]",")",";",["T_WHITESPACE","\n\n        ",556],["T_VARIABLE","$result",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","connection",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","execute",558],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",558],")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","assertCount",559],"(",["T_LNUMBER","1",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$result",559],")",";",["T_WHITESPACE","\n\n        ",559],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","connection",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","begin",561],"(",")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","connection",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","delete",562],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",562],",",["T_WHITESPACE"," ",562],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",562],["T_WHITESPACE"," ",562],["T_DOUBLE_ARROW","=>",562],["T_WHITESPACE"," ",562],["T_LNUMBER","2",562],"]",")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$result",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","connection",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","execute",563],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",563],")",";",["T_WHITESPACE","\n        ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","assertCount",564],"(",["T_LNUMBER","0",564],",",["T_WHITESPACE"," ",564],["T_VARIABLE","$result",564],")",";",["T_WHITESPACE","\n\n        ",564],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","connection",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","rollback",566],"(",")",";",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$result",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","connection",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","execute",567],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",567],")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","assertCount",568],"(",["T_LNUMBER","1",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$result",568],")",";",["T_WHITESPACE","\n\n        ",568],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","connection",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","rollback",570],"(",")",";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$result",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","connection",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","execute",571],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",571],")",";",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","assertCount",572],"(",["T_LNUMBER","2",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$result",572],")",";",["T_WHITESPACE","\n    ",572],"}",["T_WHITESPACE","\n\n    ",573],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to real use  nested transactions\n     *\n     * @return void\n     *\/",575],["T_WHITESPACE","\n\n    ",579],["T_PUBLIC","public",581],["T_WHITESPACE"," ",581],["T_FUNCTION","function",581],["T_WHITESPACE"," ",581],["T_STRING","testSavePoints2",581],"(",")",["T_WHITESPACE","\n    ",581],"{",["T_WHITESPACE","\n        ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","skipIf",583],"(","!",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","connection",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","useSavePoints",583],"(",["T_STRING","true",583],")",")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","connection",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","begin",584],"(",")",";",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","connection",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","delete",585],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",585],",",["T_WHITESPACE"," ",585],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",585],["T_WHITESPACE"," ",585],["T_DOUBLE_ARROW","=>",585],["T_WHITESPACE"," ",585],["T_LNUMBER","1",585],"]",")",";",["T_WHITESPACE","\n\n        ",585],["T_VARIABLE","$result",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","connection",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","execute",587],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",587],")",";",["T_WHITESPACE","\n        ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","assertCount",588],"(",["T_LNUMBER","1",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$result",588],")",";",["T_WHITESPACE","\n\n        ",588],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","connection",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","begin",590],"(",")",";",["T_WHITESPACE","\n        ",590],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","connection",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","delete",591],"(",["T_CONSTANT_ENCAPSED_STRING","'things'",591],",",["T_WHITESPACE"," ",591],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_LNUMBER","2",591],"]",")",";",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$result",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","connection",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","execute",592],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",592],")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","assertCount",593],"(",["T_LNUMBER","0",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$result",593],")",";",["T_WHITESPACE","\n\n        ",593],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","connection",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","rollback",595],"(",")",";",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$result",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","connection",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","execute",596],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",596],")",";",["T_WHITESPACE","\n        ",596],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","assertCount",597],"(",["T_LNUMBER","1",597],",",["T_WHITESPACE"," ",597],["T_VARIABLE","$result",597],")",";",["T_WHITESPACE","\n\n        ",597],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","connection",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","commit",599],"(",")",";",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$result",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","connection",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","execute",600],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM things'",600],")",";",["T_WHITESPACE","\n        ",600],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","assertCount",601],"(",["T_LNUMBER","1",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$result",601],")",";",["T_WHITESPACE","\n    ",601],"}",["T_WHITESPACE","\n\n    ",602],["T_DOC_COMMENT","\/**\n     * Tests inTransaction()\n     *\n     * @return void\n     *\/",604],["T_WHITESPACE","\n    ",608],["T_PUBLIC","public",609],["T_WHITESPACE"," ",609],["T_FUNCTION","function",609],["T_WHITESPACE"," ",609],["T_STRING","testInTransaction",609],"(",")",["T_WHITESPACE","\n    ",609],"{",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","connection",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","begin",611],"(",")",";",["T_WHITESPACE","\n        ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","assertTrue",612],"(",["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","connection",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","inTransaction",612],"(",")",")",";",["T_WHITESPACE","\n\n        ",612],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","connection",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","begin",614],"(",")",";",["T_WHITESPACE","\n        ",614],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","assertTrue",615],"(",["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","connection",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","inTransaction",615],"(",")",")",";",["T_WHITESPACE","\n\n        ",615],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","connection",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","commit",617],"(",")",";",["T_WHITESPACE","\n        ",617],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","assertTrue",618],"(",["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","connection",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","inTransaction",618],"(",")",")",";",["T_WHITESPACE","\n\n        ",618],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","connection",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","commit",620],"(",")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","assertFalse",621],"(",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","connection",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","inTransaction",621],"(",")",")",";",["T_WHITESPACE","\n\n        ",621],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","connection",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","begin",623],"(",")",";",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","assertTrue",624],"(",["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","connection",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","inTransaction",624],"(",")",")",";",["T_WHITESPACE","\n\n        ",624],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","connection",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","begin",626],"(",")",";",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","connection",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","rollback",627],"(",")",";",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","assertFalse",628],"(",["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","connection",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","inTransaction",628],"(",")",")",";",["T_WHITESPACE","\n    ",628],"}",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * Tests inTransaction() with save points\n     *\n     * @return void\n     *\/",631],["T_WHITESPACE","\n    ",635],["T_PUBLIC","public",636],["T_WHITESPACE"," ",636],["T_FUNCTION","function",636],["T_WHITESPACE"," ",636],["T_STRING","testInTransactionWithSavePoints",636],"(",")",["T_WHITESPACE","\n    ",636],"{",["T_WHITESPACE","\n        ",637],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","skipIf",638],"(",["T_WHITESPACE","\n            ",638],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","connection",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","driver",639],"(",")",["T_WHITESPACE"," ",639],["T_INSTANCEOF","instanceof",639],["T_WHITESPACE"," ",639],["T_NS_SEPARATOR","\\",639],["T_STRING","Cake",639],["T_NS_SEPARATOR","\\",639],["T_STRING","Database",639],["T_NS_SEPARATOR","\\",639],["T_STRING","Driver",639],["T_NS_SEPARATOR","\\",639],["T_STRING","Sqlserver",639],",",["T_WHITESPACE","\n            ",639],["T_CONSTANT_ENCAPSED_STRING","'SQLServer fails when this test is included.'",640],["T_WHITESPACE","\n        ",640],")",";",["T_WHITESPACE","\n        ",641],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","skipIf",642],"(","!",["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","connection",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","useSavePoints",642],"(",["T_STRING","true",642],")",")",";",["T_WHITESPACE","\n        ",642],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","connection",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","begin",643],"(",")",";",["T_WHITESPACE","\n        ",643],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","assertTrue",644],"(",["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","connection",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","inTransaction",644],"(",")",")",";",["T_WHITESPACE","\n\n        ",644],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","connection",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","begin",646],"(",")",";",["T_WHITESPACE","\n        ",646],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","assertTrue",647],"(",["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","connection",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","inTransaction",647],"(",")",")",";",["T_WHITESPACE","\n\n        ",647],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","connection",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","commit",649],"(",")",";",["T_WHITESPACE","\n        ",649],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","assertTrue",650],"(",["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","connection",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","inTransaction",650],"(",")",")",";",["T_WHITESPACE","\n\n        ",650],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","connection",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","commit",652],"(",")",";",["T_WHITESPACE","\n        ",652],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","assertFalse",653],"(",["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","connection",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","inTransaction",653],"(",")",")",";",["T_WHITESPACE","\n\n        ",653],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","connection",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","begin",655],"(",")",";",["T_WHITESPACE","\n        ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","assertTrue",656],"(",["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","connection",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","inTransaction",656],"(",")",")",";",["T_WHITESPACE","\n\n        ",656],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","connection",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","begin",658],"(",")",";",["T_WHITESPACE","\n        ",658],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","connection",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","rollback",659],"(",")",";",["T_WHITESPACE","\n        ",659],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","assertTrue",660],"(",["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","connection",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","inTransaction",660],"(",")",")",";",["T_WHITESPACE","\n\n        ",660],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","connection",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","rollback",662],"(",")",";",["T_WHITESPACE","\n        ",662],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","assertFalse",663],"(",["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","connection",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","inTransaction",663],"(",")",")",";",["T_WHITESPACE","\n    ",663],"}",["T_WHITESPACE","\n\n    ",664],["T_DOC_COMMENT","\/**\n     * Tests connection can quote values to be safely used in query strings\n     *\n     * @return void\n     *\/",666],["T_WHITESPACE","\n    ",670],["T_PUBLIC","public",671],["T_WHITESPACE"," ",671],["T_FUNCTION","function",671],["T_WHITESPACE"," ",671],["T_STRING","testQuote",671],"(",")",["T_WHITESPACE","\n    ",671],"{",["T_WHITESPACE","\n        ",672],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","skipIf",673],"(","!",["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","connection",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","supportsQuoting",673],"(",")",")",";",["T_WHITESPACE","\n        ",673],["T_VARIABLE","$expected",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_CONSTANT_ENCAPSED_STRING","\"'2012-01-01'\"",674],";",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$result",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","connection",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","quote",675],"(",["T_NEW","new",675],["T_WHITESPACE"," ",675],["T_NS_SEPARATOR","\\",675],["T_STRING","DateTime",675],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01'",675],")",",",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'date'",675],")",";",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","assertEquals",676],"(",["T_VARIABLE","$expected",676],",",["T_WHITESPACE"," ",676],["T_VARIABLE","$result",676],")",";",["T_WHITESPACE","\n\n        ",676],["T_VARIABLE","$expected",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","\"'1'\"",678],";",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$result",679],["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","connection",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","quote",679],"(",["T_LNUMBER","1",679],",",["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'string'",679],")",";",["T_WHITESPACE","\n        ",679],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","assertEquals",680],"(",["T_VARIABLE","$expected",680],",",["T_WHITESPACE"," ",680],["T_VARIABLE","$result",680],")",";",["T_WHITESPACE","\n\n        ",680],["T_VARIABLE","$expected",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_CONSTANT_ENCAPSED_STRING","\"'hello'\"",682],";",["T_WHITESPACE","\n        ",682],["T_VARIABLE","$result",683],["T_WHITESPACE"," ",683],"=",["T_WHITESPACE"," ",683],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","connection",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","quote",683],"(",["T_CONSTANT_ENCAPSED_STRING","'hello'",683],",",["T_WHITESPACE"," ",683],["T_CONSTANT_ENCAPSED_STRING","'string'",683],")",";",["T_WHITESPACE","\n        ",683],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","assertEquals",684],"(",["T_VARIABLE","$expected",684],",",["T_WHITESPACE"," ",684],["T_VARIABLE","$result",684],")",";",["T_WHITESPACE","\n    ",684],"}",["T_WHITESPACE","\n\n    ",685],["T_DOC_COMMENT","\/**\n     * Tests identifier quoting\n     *\n     * @return void\n     *\/",687],["T_WHITESPACE","\n    ",691],["T_PUBLIC","public",692],["T_WHITESPACE"," ",692],["T_FUNCTION","function",692],["T_WHITESPACE"," ",692],["T_STRING","testQuoteIdentifier",692],"(",")",["T_WHITESPACE","\n    ",692],"{",["T_WHITESPACE","\n        ",693],["T_VARIABLE","$driver",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","getMockBuilder",694],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Driver\\Sqlite'",694],")",["T_WHITESPACE","\n            ",694],["T_OBJECT_OPERATOR","->",695],["T_STRING","setMethods",695],"(","[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",695],"]",")",["T_WHITESPACE","\n            ",695],["T_OBJECT_OPERATOR","->",696],["T_STRING","getMock",696],"(",")",";",["T_WHITESPACE","\n        ",696],["T_VARIABLE","$driver",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","expects",697],"(",["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","once",697],"(",")",")",["T_WHITESPACE","\n            ",697],["T_OBJECT_OPERATOR","->",698],["T_STRING","method",698],"(",["T_CONSTANT_ENCAPSED_STRING","'enabled'",698],")",["T_WHITESPACE","\n            ",698],["T_OBJECT_OPERATOR","->",699],["T_STRING","will",699],"(",["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","returnValue",699],"(",["T_STRING","true",699],")",")",";",["T_WHITESPACE","\n        ",699],["T_VARIABLE","$connection",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_NEW","new",700],["T_WHITESPACE"," ",700],["T_STRING","Connection",700],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",700],["T_WHITESPACE"," ",700],["T_DOUBLE_ARROW","=>",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$driver",700],"]",")",";",["T_WHITESPACE","\n\n        ",700],["T_VARIABLE","$result",702],["T_WHITESPACE"," ",702],"=",["T_WHITESPACE"," ",702],["T_VARIABLE","$connection",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","quoteIdentifier",702],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",702],")",";",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$expected",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_CONSTANT_ENCAPSED_STRING","'\"name\"'",703],";",["T_WHITESPACE","\n        ",703],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","assertEquals",704],"(",["T_VARIABLE","$expected",704],",",["T_WHITESPACE"," ",704],["T_VARIABLE","$result",704],")",";",["T_WHITESPACE","\n\n        ",704],["T_VARIABLE","$result",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_VARIABLE","$connection",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","quoteIdentifier",706],"(",["T_CONSTANT_ENCAPSED_STRING","'Model.*'",706],")",";",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$expected",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_CONSTANT_ENCAPSED_STRING","'\"Model\".*'",707],";",["T_WHITESPACE","\n        ",707],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","assertEquals",708],"(",["T_VARIABLE","$expected",708],",",["T_WHITESPACE"," ",708],["T_VARIABLE","$result",708],")",";",["T_WHITESPACE","\n\n        ",708],["T_VARIABLE","$result",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_VARIABLE","$connection",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","quoteIdentifier",710],"(",["T_CONSTANT_ENCAPSED_STRING","'MTD()'",710],")",";",["T_WHITESPACE","\n        ",710],["T_VARIABLE","$expected",711],["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_CONSTANT_ENCAPSED_STRING","'MTD()'",711],";",["T_WHITESPACE","\n        ",711],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","assertEquals",712],"(",["T_VARIABLE","$expected",712],",",["T_WHITESPACE"," ",712],["T_VARIABLE","$result",712],")",";",["T_WHITESPACE","\n\n        ",712],["T_VARIABLE","$result",714],["T_WHITESPACE"," ",714],"=",["T_WHITESPACE"," ",714],["T_VARIABLE","$connection",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","quoteIdentifier",714],"(",["T_CONSTANT_ENCAPSED_STRING","'(sm)'",714],")",";",["T_WHITESPACE","\n        ",714],["T_VARIABLE","$expected",715],["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","'(sm)'",715],";",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","assertEquals",716],"(",["T_VARIABLE","$expected",716],",",["T_WHITESPACE"," ",716],["T_VARIABLE","$result",716],")",";",["T_WHITESPACE","\n\n        ",716],["T_VARIABLE","$result",718],["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$connection",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","quoteIdentifier",718],"(",["T_CONSTANT_ENCAPSED_STRING","'name AS x'",718],")",";",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$expected",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_CONSTANT_ENCAPSED_STRING","'\"name\" AS \"x\"'",719],";",["T_WHITESPACE","\n        ",719],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","assertEquals",720],"(",["T_VARIABLE","$expected",720],",",["T_WHITESPACE"," ",720],["T_VARIABLE","$result",720],")",";",["T_WHITESPACE","\n\n        ",720],["T_VARIABLE","$result",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_VARIABLE","$connection",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","quoteIdentifier",722],"(",["T_CONSTANT_ENCAPSED_STRING","'Model.name AS x'",722],")",";",["T_WHITESPACE","\n        ",722],["T_VARIABLE","$expected",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_CONSTANT_ENCAPSED_STRING","'\"Model\".\"name\" AS \"x\"'",723],";",["T_WHITESPACE","\n        ",723],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","assertEquals",724],"(",["T_VARIABLE","$expected",724],",",["T_WHITESPACE"," ",724],["T_VARIABLE","$result",724],")",";",["T_WHITESPACE","\n\n        ",724],["T_VARIABLE","$result",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$connection",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","quoteIdentifier",726],"(",["T_CONSTANT_ENCAPSED_STRING","'Function(Something.foo)'",726],")",";",["T_WHITESPACE","\n        ",726],["T_VARIABLE","$expected",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_CONSTANT_ENCAPSED_STRING","'Function(\"Something\".\"foo\")'",727],";",["T_WHITESPACE","\n        ",727],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","assertEquals",728],"(",["T_VARIABLE","$expected",728],",",["T_WHITESPACE"," ",728],["T_VARIABLE","$result",728],")",";",["T_WHITESPACE","\n\n        ",728],["T_VARIABLE","$result",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_VARIABLE","$connection",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","quoteIdentifier",730],"(",["T_CONSTANT_ENCAPSED_STRING","'Function(SubFunction(Something.foo))'",730],")",";",["T_WHITESPACE","\n        ",730],["T_VARIABLE","$expected",731],["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_CONSTANT_ENCAPSED_STRING","'Function(SubFunction(\"Something\".\"foo\"))'",731],";",["T_WHITESPACE","\n        ",731],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","assertEquals",732],"(",["T_VARIABLE","$expected",732],",",["T_WHITESPACE"," ",732],["T_VARIABLE","$result",732],")",";",["T_WHITESPACE","\n\n        ",732],["T_VARIABLE","$result",734],["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],["T_VARIABLE","$connection",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","quoteIdentifier",734],"(",["T_CONSTANT_ENCAPSED_STRING","'Function(Something.foo) AS x'",734],")",";",["T_WHITESPACE","\n        ",734],["T_VARIABLE","$expected",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'Function(\"Something\".\"foo\") AS \"x\"'",735],";",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","assertEquals",736],"(",["T_VARIABLE","$expected",736],",",["T_WHITESPACE"," ",736],["T_VARIABLE","$result",736],")",";",["T_WHITESPACE","\n\n        ",736],["T_VARIABLE","$result",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_VARIABLE","$connection",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","quoteIdentifier",738],"(",["T_CONSTANT_ENCAPSED_STRING","'name-with-minus'",738],")",";",["T_WHITESPACE","\n        ",738],["T_VARIABLE","$expected",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_CONSTANT_ENCAPSED_STRING","'\"name-with-minus\"'",739],";",["T_WHITESPACE","\n        ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","assertEquals",740],"(",["T_VARIABLE","$expected",740],",",["T_WHITESPACE"," ",740],["T_VARIABLE","$result",740],")",";",["T_WHITESPACE","\n\n        ",740],["T_VARIABLE","$result",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$connection",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","quoteIdentifier",742],"(",["T_CONSTANT_ENCAPSED_STRING","'my-name'",742],")",";",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$expected",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'\"my-name\"'",743],";",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","assertEquals",744],"(",["T_VARIABLE","$expected",744],",",["T_WHITESPACE"," ",744],["T_VARIABLE","$result",744],")",";",["T_WHITESPACE","\n\n        ",744],["T_VARIABLE","$result",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_VARIABLE","$connection",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","quoteIdentifier",746],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo-Model.*'",746],")",";",["T_WHITESPACE","\n        ",746],["T_VARIABLE","$expected",747],["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_CONSTANT_ENCAPSED_STRING","'\"Foo-Model\".*'",747],";",["T_WHITESPACE","\n        ",747],["T_VARIABLE","$this",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","assertEquals",748],"(",["T_VARIABLE","$expected",748],",",["T_WHITESPACE"," ",748],["T_VARIABLE","$result",748],")",";",["T_WHITESPACE","\n\n        ",748],["T_VARIABLE","$result",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$connection",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","quoteIdentifier",750],"(",["T_CONSTANT_ENCAPSED_STRING","'Team.P%'",750],")",";",["T_WHITESPACE","\n        ",750],["T_VARIABLE","$expected",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","'\"Team\".\"P%\"'",751],";",["T_WHITESPACE","\n        ",751],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","assertEquals",752],"(",["T_VARIABLE","$expected",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$result",752],")",";",["T_WHITESPACE","\n\n        ",752],["T_VARIABLE","$result",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_VARIABLE","$connection",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","quoteIdentifier",754],"(",["T_CONSTANT_ENCAPSED_STRING","'Team.G\/G'",754],")",";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$expected",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_CONSTANT_ENCAPSED_STRING","'\"Team\".\"G\/G\"'",755],";",["T_WHITESPACE","\n\n        ",755],["T_VARIABLE","$result",757],["T_WHITESPACE"," ",757],"=",["T_WHITESPACE"," ",757],["T_VARIABLE","$connection",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","quoteIdentifier",757],"(",["T_CONSTANT_ENCAPSED_STRING","'Model.name as y'",757],")",";",["T_WHITESPACE","\n        ",757],["T_VARIABLE","$expected",758],["T_WHITESPACE"," ",758],"=",["T_WHITESPACE"," ",758],["T_CONSTANT_ENCAPSED_STRING","'\"Model\".\"name\" AS \"y\"'",758],";",["T_WHITESPACE","\n        ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","assertEquals",759],"(",["T_VARIABLE","$expected",759],",",["T_WHITESPACE"," ",759],["T_VARIABLE","$result",759],")",";",["T_WHITESPACE","\n    ",759],"}",["T_WHITESPACE","\n\n    ",760],["T_DOC_COMMENT","\/**\n     * Tests default return vale for logger() function\n     *\n     * @return void\n     *\/",762],["T_WHITESPACE","\n    ",766],["T_PUBLIC","public",767],["T_WHITESPACE"," ",767],["T_FUNCTION","function",767],["T_WHITESPACE"," ",767],["T_STRING","testLoggerDefault",767],"(",")",["T_WHITESPACE","\n    ",767],"{",["T_WHITESPACE","\n        ",768],["T_VARIABLE","$logger",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","connection",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","logger",769],"(",")",";",["T_WHITESPACE","\n        ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","assertInstanceOf",770],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Log\\QueryLogger'",770],",",["T_WHITESPACE"," ",770],["T_VARIABLE","$logger",770],")",";",["T_WHITESPACE","\n        ",770],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","assertSame",771],"(",["T_VARIABLE","$logger",771],",",["T_WHITESPACE"," ",771],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","connection",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","logger",771],"(",")",")",";",["T_WHITESPACE","\n    ",771],"}",["T_WHITESPACE","\n\n    ",772],["T_DOC_COMMENT","\/**\n     * Tests that a custom logger object can be set\n     *\n     * @return void\n     *\/",774],["T_WHITESPACE","\n    ",778],["T_PUBLIC","public",779],["T_WHITESPACE"," ",779],["T_FUNCTION","function",779],["T_WHITESPACE"," ",779],["T_STRING","testSetLogger",779],"(",")",["T_WHITESPACE","\n    ",779],"{",["T_WHITESPACE","\n        ",780],["T_VARIABLE","$logger",781],["T_WHITESPACE"," ",781],"=",["T_WHITESPACE"," ",781],["T_NEW","new",781],["T_WHITESPACE"," ",781],["T_NS_SEPARATOR","\\",781],["T_STRING","Cake",781],["T_NS_SEPARATOR","\\",781],["T_STRING","Database",781],["T_NS_SEPARATOR","\\",781],["T_STRING","Log",781],["T_NS_SEPARATOR","\\",781],["T_STRING","QueryLogger",781],";",["T_WHITESPACE","\n        ",781],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","connection",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","logger",782],"(",["T_VARIABLE","$logger",782],")",";",["T_WHITESPACE","\n        ",782],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","assertSame",783],"(",["T_VARIABLE","$logger",783],",",["T_WHITESPACE"," ",783],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","connection",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","logger",783],"(",")",")",";",["T_WHITESPACE","\n    ",783],"}",["T_WHITESPACE","\n\n    ",784],["T_DOC_COMMENT","\/**\n     * Tests that statements are decorated with a logger when logQueries is set to true\n     *\n     * @return void\n     *\/",786],["T_WHITESPACE","\n    ",790],["T_PUBLIC","public",791],["T_WHITESPACE"," ",791],["T_FUNCTION","function",791],["T_WHITESPACE"," ",791],["T_STRING","testLoggerDecorator",791],"(",")",["T_WHITESPACE","\n    ",791],"{",["T_WHITESPACE","\n        ",792],["T_VARIABLE","$logger",793],["T_WHITESPACE"," ",793],"=",["T_WHITESPACE"," ",793],["T_NEW","new",793],["T_WHITESPACE"," ",793],["T_NS_SEPARATOR","\\",793],["T_STRING","Cake",793],["T_NS_SEPARATOR","\\",793],["T_STRING","Database",793],["T_NS_SEPARATOR","\\",793],["T_STRING","Log",793],["T_NS_SEPARATOR","\\",793],["T_STRING","QueryLogger",793],";",["T_WHITESPACE","\n        ",793],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","connection",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","logQueries",794],"(",["T_STRING","true",794],")",";",["T_WHITESPACE","\n        ",794],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","connection",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","logger",795],"(",["T_VARIABLE","$logger",795],")",";",["T_WHITESPACE","\n        ",795],["T_VARIABLE","$st",796],["T_WHITESPACE"," ",796],"=",["T_WHITESPACE"," ",796],["T_VARIABLE","$this",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","connection",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","prepare",796],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT 1'",796],")",";",["T_WHITESPACE","\n        ",796],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","assertInstanceOf",797],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Log\\LoggingStatement'",797],",",["T_WHITESPACE"," ",797],["T_VARIABLE","$st",797],")",";",["T_WHITESPACE","\n        ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","assertSame",798],"(",["T_VARIABLE","$logger",798],",",["T_WHITESPACE"," ",798],["T_VARIABLE","$st",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","logger",798],"(",")",")",";",["T_WHITESPACE","\n\n        ",798],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","connection",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","logQueries",800],"(",["T_STRING","false",800],")",";",["T_WHITESPACE","\n        ",800],["T_VARIABLE","$st",801],["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","connection",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","prepare",801],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT 1'",801],")",";",["T_WHITESPACE","\n        ",801],["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","assertNotInstanceOf",802],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\LoggingStatement'",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$st",802],")",";",["T_WHITESPACE","\n    ",802],"}",["T_WHITESPACE","\n\n    ",803],["T_DOC_COMMENT","\/**\n     * test logQueries method\n     *\n     * @return void\n     *\/",805],["T_WHITESPACE","\n    ",809],["T_PUBLIC","public",810],["T_WHITESPACE"," ",810],["T_FUNCTION","function",810],["T_WHITESPACE"," ",810],["T_STRING","testLogQueries",810],"(",")",["T_WHITESPACE","\n    ",810],"{",["T_WHITESPACE","\n        ",811],["T_VARIABLE","$this",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","connection",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","logQueries",812],"(",["T_STRING","true",812],")",";",["T_WHITESPACE","\n        ",812],["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","assertTrue",813],"(",["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","connection",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","logQueries",813],"(",")",")",";",["T_WHITESPACE","\n\n        ",813],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","connection",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","logQueries",815],"(",["T_STRING","false",815],")",";",["T_WHITESPACE","\n        ",815],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","assertFalse",816],"(",["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","connection",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","logQueries",816],"(",")",")",";",["T_WHITESPACE","\n    ",816],"}",["T_WHITESPACE","\n\n    ",817],["T_DOC_COMMENT","\/**\n     * Tests that log() function logs to the configured query logger\n     *\n     * @return void\n     *\/",819],["T_WHITESPACE","\n    ",823],["T_PUBLIC","public",824],["T_WHITESPACE"," ",824],["T_FUNCTION","function",824],["T_WHITESPACE"," ",824],["T_STRING","testLogFunction",824],"(",")",["T_WHITESPACE","\n    ",824],"{",["T_WHITESPACE","\n        ",825],["T_VARIABLE","$logger",826],["T_WHITESPACE"," ",826],"=",["T_WHITESPACE"," ",826],["T_VARIABLE","$this",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","getMockBuilder",826],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\QueryLogger'",826],")",["T_OBJECT_OPERATOR","->",826],["T_STRING","getMock",826],"(",")",";",["T_WHITESPACE","\n        ",826],["T_VARIABLE","$this",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","connection",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","logger",827],"(",["T_VARIABLE","$logger",827],")",";",["T_WHITESPACE","\n        ",827],["T_VARIABLE","$logger",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","expects",828],"(",["T_VARIABLE","$this",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","once",828],"(",")",")",["T_OBJECT_OPERATOR","->",828],["T_STRING","method",828],"(",["T_CONSTANT_ENCAPSED_STRING","'log'",828],")",["T_WHITESPACE","\n            ",828],["T_OBJECT_OPERATOR","->",829],["T_STRING","with",829],"(",["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","logicalAnd",829],"(",["T_WHITESPACE","\n                ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","isInstanceOf",830],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\LoggedQuery'",830],")",",",["T_WHITESPACE","\n                ",830],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","attributeEqualTo",831],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",831],",",["T_WHITESPACE"," ",831],["T_CONSTANT_ENCAPSED_STRING","'SELECT 1'",831],")",["T_WHITESPACE","\n            ",831],")",")",";",["T_WHITESPACE","\n        ",832],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","connection",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","log",833],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT 1'",833],")",";",["T_WHITESPACE","\n    ",833],"}",["T_WHITESPACE","\n\n    ",834],["T_DOC_COMMENT","\/**\n     * Tests that begin and rollback are also logged\n     *\n     * @return void\n     *\/",836],["T_WHITESPACE","\n    ",840],["T_PUBLIC","public",841],["T_WHITESPACE"," ",841],["T_FUNCTION","function",841],["T_WHITESPACE"," ",841],["T_STRING","testLogBeginRollbackTransaction",841],"(",")",["T_WHITESPACE","\n    ",841],"{",["T_WHITESPACE","\n        ",842],["T_VARIABLE","$connection",843],["T_WHITESPACE"," ",843],"=",["T_WHITESPACE"," ",843],["T_VARIABLE","$this",843],["T_WHITESPACE","\n            ",843],["T_OBJECT_OPERATOR","->",844],["T_STRING","getMockBuilder",844],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Connection'",844],")",["T_WHITESPACE","\n            ",844],["T_OBJECT_OPERATOR","->",845],["T_STRING","setMethods",845],"(","[",["T_CONSTANT_ENCAPSED_STRING","'connect'",845],"]",")",["T_WHITESPACE","\n            ",845],["T_OBJECT_OPERATOR","->",846],["T_STRING","disableOriginalConstructor",846],"(",")",["T_WHITESPACE","\n            ",846],["T_OBJECT_OPERATOR","->",847],["T_STRING","getMock",847],"(",")",";",["T_WHITESPACE","\n        ",847],["T_VARIABLE","$connection",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","logQueries",848],"(",["T_STRING","true",848],")",";",["T_WHITESPACE","\n\n        ",848],["T_VARIABLE","$driver",850],["T_WHITESPACE"," ",850],"=",["T_WHITESPACE"," ",850],["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","getMockFormDriver",850],"(",")",";",["T_WHITESPACE","\n        ",850],["T_VARIABLE","$connection",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","driver",851],"(",["T_VARIABLE","$driver",851],")",";",["T_WHITESPACE","\n\n        ",851],["T_VARIABLE","$logger",853],["T_WHITESPACE"," ",853],"=",["T_WHITESPACE"," ",853],["T_VARIABLE","$this",853],["T_OBJECT_OPERATOR","->",853],["T_STRING","getMockBuilder",853],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\QueryLogger'",853],")",["T_OBJECT_OPERATOR","->",853],["T_STRING","getMock",853],"(",")",";",["T_WHITESPACE","\n        ",853],["T_VARIABLE","$connection",854],["T_OBJECT_OPERATOR","->",854],["T_STRING","logger",854],"(",["T_VARIABLE","$logger",854],")",";",["T_WHITESPACE","\n        ",854],["T_VARIABLE","$logger",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","expects",855],"(",["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","at",855],"(",["T_LNUMBER","0",855],")",")",["T_OBJECT_OPERATOR","->",855],["T_STRING","method",855],"(",["T_CONSTANT_ENCAPSED_STRING","'log'",855],")",["T_WHITESPACE","\n            ",855],["T_OBJECT_OPERATOR","->",856],["T_STRING","with",856],"(",["T_VARIABLE","$this",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","logicalAnd",856],"(",["T_WHITESPACE","\n                ",856],["T_VARIABLE","$this",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","isInstanceOf",857],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\LoggedQuery'",857],")",",",["T_WHITESPACE","\n                ",857],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","attributeEqualTo",858],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",858],",",["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'BEGIN'",858],")",["T_WHITESPACE","\n            ",858],")",")",";",["T_WHITESPACE","\n        ",859],["T_VARIABLE","$logger",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","expects",860],"(",["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","at",860],"(",["T_LNUMBER","1",860],")",")",["T_OBJECT_OPERATOR","->",860],["T_STRING","method",860],"(",["T_CONSTANT_ENCAPSED_STRING","'log'",860],")",["T_WHITESPACE","\n            ",860],["T_OBJECT_OPERATOR","->",861],["T_STRING","with",861],"(",["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","logicalAnd",861],"(",["T_WHITESPACE","\n                ",861],["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","isInstanceOf",862],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\LoggedQuery'",862],")",",",["T_WHITESPACE","\n                ",862],["T_VARIABLE","$this",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","attributeEqualTo",863],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",863],",",["T_WHITESPACE"," ",863],["T_CONSTANT_ENCAPSED_STRING","'ROLLBACK'",863],")",["T_WHITESPACE","\n            ",863],")",")",";",["T_WHITESPACE","\n\n        ",864],["T_VARIABLE","$connection",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","begin",866],"(",")",";",["T_WHITESPACE","\n        ",866],["T_VARIABLE","$connection",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","begin",867],"(",")",";",["T_WHITESPACE"," ",867],["T_COMMENT","\/\/This one will not be logged\n",867],["T_WHITESPACE","        ",868],["T_VARIABLE","$connection",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","rollback",868],"(",")",";",["T_WHITESPACE","\n    ",868],"}",["T_WHITESPACE","\n\n    ",869],["T_DOC_COMMENT","\/**\n     * Tests that commits are logged\n     *\n     * @return void\n     *\/",871],["T_WHITESPACE","\n    ",875],["T_PUBLIC","public",876],["T_WHITESPACE"," ",876],["T_FUNCTION","function",876],["T_WHITESPACE"," ",876],["T_STRING","testLogCommitTransaction",876],"(",")",["T_WHITESPACE","\n    ",876],"{",["T_WHITESPACE","\n        ",877],["T_VARIABLE","$driver",878],["T_WHITESPACE"," ",878],"=",["T_WHITESPACE"," ",878],["T_VARIABLE","$this",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","getMockFormDriver",878],"(",")",";",["T_WHITESPACE","\n        ",878],["T_VARIABLE","$connection",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","getMockBuilder",879],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Connection'",879],")",["T_WHITESPACE","\n            ",879],["T_OBJECT_OPERATOR","->",880],["T_STRING","setMethods",880],"(","[",["T_CONSTANT_ENCAPSED_STRING","'connect'",880],"]",")",["T_WHITESPACE","\n            ",880],["T_OBJECT_OPERATOR","->",881],["T_STRING","setConstructorArgs",881],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",881],["T_WHITESPACE"," ",881],["T_DOUBLE_ARROW","=>",881],["T_WHITESPACE"," ",881],["T_VARIABLE","$driver",881],"]","]",")",["T_WHITESPACE","\n            ",881],["T_OBJECT_OPERATOR","->",882],["T_STRING","getMock",882],"(",")",";",["T_WHITESPACE","\n\n        ",882],["T_VARIABLE","$logger",884],["T_WHITESPACE"," ",884],"=",["T_WHITESPACE"," ",884],["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","getMockBuilder",884],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\QueryLogger'",884],")",["T_OBJECT_OPERATOR","->",884],["T_STRING","getMock",884],"(",")",";",["T_WHITESPACE","\n        ",884],["T_VARIABLE","$connection",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","logger",885],"(",["T_VARIABLE","$logger",885],")",";",["T_WHITESPACE","\n\n        ",885],["T_VARIABLE","$logger",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","expects",887],"(",["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","at",887],"(",["T_LNUMBER","1",887],")",")",["T_OBJECT_OPERATOR","->",887],["T_STRING","method",887],"(",["T_CONSTANT_ENCAPSED_STRING","'log'",887],")",["T_WHITESPACE","\n            ",887],["T_OBJECT_OPERATOR","->",888],["T_STRING","with",888],"(",["T_VARIABLE","$this",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","logicalAnd",888],"(",["T_WHITESPACE","\n                ",888],["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","isInstanceOf",889],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Log\\LoggedQuery'",889],")",",",["T_WHITESPACE","\n                ",889],["T_VARIABLE","$this",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","attributeEqualTo",890],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",890],",",["T_WHITESPACE"," ",890],["T_CONSTANT_ENCAPSED_STRING","'COMMIT'",890],")",["T_WHITESPACE","\n            ",890],")",")",";",["T_WHITESPACE","\n        ",891],["T_VARIABLE","$connection",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","logQueries",892],"(",["T_STRING","true",892],")",";",["T_WHITESPACE","\n        ",892],["T_VARIABLE","$connection",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","begin",893],"(",")",";",["T_WHITESPACE","\n        ",893],["T_VARIABLE","$connection",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","commit",894],"(",")",";",["T_WHITESPACE","\n    ",894],"}",["T_WHITESPACE","\n\n    ",895],["T_DOC_COMMENT","\/**\n     * Tests that the transactional method will start and commit a transaction\n     * around some arbitrary function passed as argument\n     *\n     * @return void\n     *\/",897],["T_WHITESPACE","\n    ",902],["T_PUBLIC","public",903],["T_WHITESPACE"," ",903],["T_FUNCTION","function",903],["T_WHITESPACE"," ",903],["T_STRING","testTransactionalSuccess",903],"(",")",["T_WHITESPACE","\n    ",903],"{",["T_WHITESPACE","\n        ",904],["T_VARIABLE","$driver",905],["T_WHITESPACE"," ",905],"=",["T_WHITESPACE"," ",905],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","getMockFormDriver",905],"(",")",";",["T_WHITESPACE","\n        ",905],["T_VARIABLE","$connection",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","getMockBuilder",906],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Connection'",906],")",["T_WHITESPACE","\n            ",906],["T_OBJECT_OPERATOR","->",907],["T_STRING","setMethods",907],"(","[",["T_CONSTANT_ENCAPSED_STRING","'connect'",907],",",["T_WHITESPACE"," ",907],["T_CONSTANT_ENCAPSED_STRING","'commit'",907],",",["T_WHITESPACE"," ",907],["T_CONSTANT_ENCAPSED_STRING","'begin'",907],"]",")",["T_WHITESPACE","\n            ",907],["T_OBJECT_OPERATOR","->",908],["T_STRING","setConstructorArgs",908],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",908],["T_WHITESPACE"," ",908],["T_DOUBLE_ARROW","=>",908],["T_WHITESPACE"," ",908],["T_VARIABLE","$driver",908],"]","]",")",["T_WHITESPACE","\n            ",908],["T_OBJECT_OPERATOR","->",909],["T_STRING","getMock",909],"(",")",";",["T_WHITESPACE","\n        ",909],["T_VARIABLE","$connection",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","expects",910],"(",["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","at",910],"(",["T_LNUMBER","0",910],")",")",["T_OBJECT_OPERATOR","->",910],["T_STRING","method",910],"(",["T_CONSTANT_ENCAPSED_STRING","'begin'",910],")",";",["T_WHITESPACE","\n        ",910],["T_VARIABLE","$connection",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","expects",911],"(",["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","at",911],"(",["T_LNUMBER","1",911],")",")",["T_OBJECT_OPERATOR","->",911],["T_STRING","method",911],"(",["T_CONSTANT_ENCAPSED_STRING","'commit'",911],")",";",["T_WHITESPACE","\n        ",911],["T_VARIABLE","$result",912],["T_WHITESPACE"," ",912],"=",["T_WHITESPACE"," ",912],["T_VARIABLE","$connection",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","transactional",912],"(",["T_FUNCTION","function",912],["T_WHITESPACE"," ",912],"(",["T_VARIABLE","$conn",912],")",["T_WHITESPACE"," ",912],["T_USE","use",912],["T_WHITESPACE"," ",912],"(",["T_VARIABLE","$connection",912],")",["T_WHITESPACE"," ",912],"{",["T_WHITESPACE","\n            ",912],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","assertSame",913],"(",["T_VARIABLE","$connection",913],",",["T_WHITESPACE"," ",913],["T_VARIABLE","$conn",913],")",";",["T_WHITESPACE","\n\n            ",913],["T_RETURN","return",915],["T_WHITESPACE"," ",915],["T_CONSTANT_ENCAPSED_STRING","'thing'",915],";",["T_WHITESPACE","\n        ",915],"}",")",";",["T_WHITESPACE","\n        ",916],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","assertEquals",917],"(",["T_CONSTANT_ENCAPSED_STRING","'thing'",917],",",["T_WHITESPACE"," ",917],["T_VARIABLE","$result",917],")",";",["T_WHITESPACE","\n    ",917],"}",["T_WHITESPACE","\n\n    ",918],["T_DOC_COMMENT","\/**\n     * Tests that the transactional method will rollback the transaction if false\n     * is returned from the callback\n     *\n     * @return void\n     *\/",920],["T_WHITESPACE","\n    ",925],["T_PUBLIC","public",926],["T_WHITESPACE"," ",926],["T_FUNCTION","function",926],["T_WHITESPACE"," ",926],["T_STRING","testTransactionalFail",926],"(",")",["T_WHITESPACE","\n    ",926],"{",["T_WHITESPACE","\n        ",927],["T_VARIABLE","$driver",928],["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","getMockFormDriver",928],"(",")",";",["T_WHITESPACE","\n        ",928],["T_VARIABLE","$connection",929],["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","getMockBuilder",929],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Connection'",929],")",["T_WHITESPACE","\n            ",929],["T_OBJECT_OPERATOR","->",930],["T_STRING","setMethods",930],"(","[",["T_CONSTANT_ENCAPSED_STRING","'connect'",930],",",["T_WHITESPACE"," ",930],["T_CONSTANT_ENCAPSED_STRING","'commit'",930],",",["T_WHITESPACE"," ",930],["T_CONSTANT_ENCAPSED_STRING","'begin'",930],",",["T_WHITESPACE"," ",930],["T_CONSTANT_ENCAPSED_STRING","'rollback'",930],"]",")",["T_WHITESPACE","\n            ",930],["T_OBJECT_OPERATOR","->",931],["T_STRING","setConstructorArgs",931],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",931],["T_WHITESPACE"," ",931],["T_DOUBLE_ARROW","=>",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$driver",931],"]","]",")",["T_WHITESPACE","\n            ",931],["T_OBJECT_OPERATOR","->",932],["T_STRING","getMock",932],"(",")",";",["T_WHITESPACE","\n        ",932],["T_VARIABLE","$connection",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","expects",933],"(",["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","at",933],"(",["T_LNUMBER","0",933],")",")",["T_OBJECT_OPERATOR","->",933],["T_STRING","method",933],"(",["T_CONSTANT_ENCAPSED_STRING","'begin'",933],")",";",["T_WHITESPACE","\n        ",933],["T_VARIABLE","$connection",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","expects",934],"(",["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","at",934],"(",["T_LNUMBER","1",934],")",")",["T_OBJECT_OPERATOR","->",934],["T_STRING","method",934],"(",["T_CONSTANT_ENCAPSED_STRING","'rollback'",934],")",";",["T_WHITESPACE","\n        ",934],["T_VARIABLE","$connection",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","expects",935],"(",["T_VARIABLE","$this",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","never",935],"(",")",")",["T_OBJECT_OPERATOR","->",935],["T_STRING","method",935],"(",["T_CONSTANT_ENCAPSED_STRING","'commit'",935],")",";",["T_WHITESPACE","\n        ",935],["T_VARIABLE","$result",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_VARIABLE","$connection",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","transactional",936],"(",["T_FUNCTION","function",936],["T_WHITESPACE"," ",936],"(",["T_VARIABLE","$conn",936],")",["T_WHITESPACE"," ",936],["T_USE","use",936],["T_WHITESPACE"," ",936],"(",["T_VARIABLE","$connection",936],")",["T_WHITESPACE"," ",936],"{",["T_WHITESPACE","\n            ",936],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","assertSame",937],"(",["T_VARIABLE","$connection",937],",",["T_WHITESPACE"," ",937],["T_VARIABLE","$conn",937],")",";",["T_WHITESPACE","\n\n            ",937],["T_RETURN","return",939],["T_WHITESPACE"," ",939],["T_STRING","false",939],";",["T_WHITESPACE","\n        ",939],"}",")",";",["T_WHITESPACE","\n        ",940],["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","assertFalse",941],"(",["T_VARIABLE","$result",941],")",";",["T_WHITESPACE","\n    ",941],"}",["T_WHITESPACE","\n\n    ",942],["T_DOC_COMMENT","\/**\n     * Tests that the transactional method will rollback the transaction\n     * and throw the same exception if the callback raises one\n     *\n     * @expectedException \\InvalidArgumentException\n     * @return void\n     * @throws \\InvalidArgumentException\n     *\/",944],["T_WHITESPACE","\n    ",951],["T_PUBLIC","public",952],["T_WHITESPACE"," ",952],["T_FUNCTION","function",952],["T_WHITESPACE"," ",952],["T_STRING","testTransactionalWithException",952],"(",")",["T_WHITESPACE","\n    ",952],"{",["T_WHITESPACE","\n        ",953],["T_VARIABLE","$driver",954],["T_WHITESPACE"," ",954],"=",["T_WHITESPACE"," ",954],["T_VARIABLE","$this",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","getMockFormDriver",954],"(",")",";",["T_WHITESPACE","\n        ",954],["T_VARIABLE","$connection",955],["T_WHITESPACE"," ",955],"=",["T_WHITESPACE"," ",955],["T_VARIABLE","$this",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","getMockBuilder",955],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Connection'",955],")",["T_WHITESPACE","\n            ",955],["T_OBJECT_OPERATOR","->",956],["T_STRING","setMethods",956],"(","[",["T_CONSTANT_ENCAPSED_STRING","'connect'",956],",",["T_WHITESPACE"," ",956],["T_CONSTANT_ENCAPSED_STRING","'commit'",956],",",["T_WHITESPACE"," ",956],["T_CONSTANT_ENCAPSED_STRING","'begin'",956],",",["T_WHITESPACE"," ",956],["T_CONSTANT_ENCAPSED_STRING","'rollback'",956],"]",")",["T_WHITESPACE","\n            ",956],["T_OBJECT_OPERATOR","->",957],["T_STRING","setConstructorArgs",957],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",957],["T_WHITESPACE"," ",957],["T_DOUBLE_ARROW","=>",957],["T_WHITESPACE"," ",957],["T_VARIABLE","$driver",957],"]","]",")",["T_WHITESPACE","\n            ",957],["T_OBJECT_OPERATOR","->",958],["T_STRING","getMock",958],"(",")",";",["T_WHITESPACE","\n        ",958],["T_VARIABLE","$connection",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","expects",959],"(",["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","at",959],"(",["T_LNUMBER","0",959],")",")",["T_OBJECT_OPERATOR","->",959],["T_STRING","method",959],"(",["T_CONSTANT_ENCAPSED_STRING","'begin'",959],")",";",["T_WHITESPACE","\n        ",959],["T_VARIABLE","$connection",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","expects",960],"(",["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","at",960],"(",["T_LNUMBER","1",960],")",")",["T_OBJECT_OPERATOR","->",960],["T_STRING","method",960],"(",["T_CONSTANT_ENCAPSED_STRING","'rollback'",960],")",";",["T_WHITESPACE","\n        ",960],["T_VARIABLE","$connection",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","expects",961],"(",["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","never",961],"(",")",")",["T_OBJECT_OPERATOR","->",961],["T_STRING","method",961],"(",["T_CONSTANT_ENCAPSED_STRING","'commit'",961],")",";",["T_WHITESPACE","\n        ",961],["T_VARIABLE","$connection",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","transactional",962],"(",["T_FUNCTION","function",962],["T_WHITESPACE"," ",962],"(",["T_VARIABLE","$conn",962],")",["T_WHITESPACE"," ",962],["T_USE","use",962],["T_WHITESPACE"," ",962],"(",["T_VARIABLE","$connection",962],")",["T_WHITESPACE"," ",962],"{",["T_WHITESPACE","\n            ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","assertSame",963],"(",["T_VARIABLE","$connection",963],",",["T_WHITESPACE"," ",963],["T_VARIABLE","$conn",963],")",";",["T_WHITESPACE","\n            ",963],["T_THROW","throw",964],["T_WHITESPACE"," ",964],["T_NEW","new",964],["T_WHITESPACE"," ",964],["T_NS_SEPARATOR","\\",964],["T_STRING","InvalidArgumentException",964],";",["T_WHITESPACE","\n        ",964],"}",")",";",["T_WHITESPACE","\n    ",965],"}",["T_WHITESPACE","\n\n    ",966],["T_DOC_COMMENT","\/**\n     * Tests it is possible to set a schema collection object\n     *\n     * @return void\n     *\/",968],["T_WHITESPACE","\n    ",972],["T_PUBLIC","public",973],["T_WHITESPACE"," ",973],["T_FUNCTION","function",973],["T_WHITESPACE"," ",973],["T_STRING","testSchemaCollection",973],"(",")",["T_WHITESPACE","\n    ",973],"{",["T_WHITESPACE","\n        ",974],["T_VARIABLE","$driver",975],["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","getMockFormDriver",975],"(",")",";",["T_WHITESPACE","\n        ",975],["T_VARIABLE","$connection",976],["T_WHITESPACE"," ",976],"=",["T_WHITESPACE"," ",976],["T_VARIABLE","$this",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","getMockBuilder",976],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\Database\\Connection'",976],")",["T_WHITESPACE","\n            ",976],["T_OBJECT_OPERATOR","->",977],["T_STRING","setMethods",977],"(","[",["T_CONSTANT_ENCAPSED_STRING","'connect'",977],"]",")",["T_WHITESPACE","\n            ",977],["T_OBJECT_OPERATOR","->",978],["T_STRING","setConstructorArgs",978],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",978],["T_WHITESPACE"," ",978],["T_DOUBLE_ARROW","=>",978],["T_WHITESPACE"," ",978],["T_VARIABLE","$driver",978],"]","]",")",["T_WHITESPACE","\n            ",978],["T_OBJECT_OPERATOR","->",979],["T_STRING","getMock",979],"(",")",";",["T_WHITESPACE","\n\n        ",979],["T_VARIABLE","$schema",981],["T_WHITESPACE"," ",981],"=",["T_WHITESPACE"," ",981],["T_VARIABLE","$connection",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","schemaCollection",981],"(",")",";",["T_WHITESPACE","\n        ",981],["T_VARIABLE","$this",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","assertInstanceOf",982],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Schema\\Collection'",982],",",["T_WHITESPACE"," ",982],["T_VARIABLE","$schema",982],")",";",["T_WHITESPACE","\n\n        ",982],["T_VARIABLE","$schema",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_VARIABLE","$this",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","getMockBuilder",984],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Schema\\Collection'",984],")",["T_WHITESPACE","\n            ",984],["T_OBJECT_OPERATOR","->",985],["T_STRING","setConstructorArgs",985],"(","[",["T_VARIABLE","$connection",985],"]",")",["T_WHITESPACE","\n            ",985],["T_OBJECT_OPERATOR","->",986],["T_STRING","getMock",986],"(",")",";",["T_WHITESPACE","\n        ",986],["T_VARIABLE","$connection",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","schemaCollection",987],"(",["T_VARIABLE","$schema",987],")",";",["T_WHITESPACE","\n        ",987],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","assertSame",988],"(",["T_VARIABLE","$schema",988],",",["T_WHITESPACE"," ",988],["T_VARIABLE","$connection",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","schemaCollection",988],"(",")",")",";",["T_WHITESPACE","\n    ",988],"}",["T_WHITESPACE","\n",989],"}",["T_WHITESPACE","\n",990]]