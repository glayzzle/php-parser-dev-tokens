[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Routing",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Middleware",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Plugin",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Http",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ServerRequestFactory",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Routing",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Middleware",19],["T_NS_SEPARATOR","\\",19],["T_STRING","AssetMiddleware",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","TestSuite",20],["T_NS_SEPARATOR","\\",20],["T_STRING","TestCase",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Zend",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Diactoros",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Request",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Zend",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Diactoros",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Response",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Test for AssetMiddleware\n *\/",24],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","AssetMiddlewareTest",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","TestCase",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * setup\n     *\n     * @return void\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","setUp",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_STRING","parent",36],["T_DOUBLE_COLON","::",36],["T_STRING","setUp",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_STRING","Plugin",37],["T_DOUBLE_COLON","::",37],["T_STRING","load",37],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin'",37],")",";",["T_WHITESPACE","\n        ",37],["T_STRING","Plugin",38],["T_DOUBLE_COLON","::",38],["T_STRING","load",38],"(",["T_CONSTANT_ENCAPSED_STRING","'Company\/TestPluginThree'",38],")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * test that the if modified since header generates 304 responses\n     *\n     * @return void\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testCheckIfModifiedHeader",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$modified",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","filemtime",48],"(",["T_STRING","TEST_APP",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Plugin\/TestPlugin\/webroot\/root.js'",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$request",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","ServerRequestFactory",49],["T_DOUBLE_COLON","::",49],["T_STRING","fromGlobals",49],"(","[",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/root.js'",50],",",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","date",51],"(",["T_CONSTANT_ENCAPSED_STRING","'D, j M Y G:i:s \\G\\M\\T'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$modified",51],")",["T_WHITESPACE","\n        ",51],"]",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$response",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","Response",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$next",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$req",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$res",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$res",55],";",["T_WHITESPACE","\n        ",55],"}",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$middleware",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_NEW","new",57],["T_WHITESPACE"," ",57],["T_STRING","AssetMiddleware",57],"(",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$res",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$middleware",58],"(",["T_VARIABLE","$request",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$response",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$next",58],")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$body",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$res",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getBody",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getContents",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEquals",61],"(",["T_CONSTANT_ENCAPSED_STRING","''",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$body",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEquals",62],"(",["T_LNUMBER","304",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$res",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getStatusCode",62],"(",")",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertNotEmpty",63],"(",["T_VARIABLE","$res",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getHeaderLine",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",63],")",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * test missing plugin assets.\n     *\n     * @return void\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testMissingPluginAsset",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$request",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","ServerRequestFactory",73],["T_DOUBLE_COLON","::",73],["T_STRING","fromGlobals",73],"(","[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/not_found.js'",73],"]",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$response",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","Response",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$next",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$req",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$res",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$res",76],";",["T_WHITESPACE","\n        ",76],"}",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$middleware",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","AssetMiddleware",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$res",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$middleware",80],"(",["T_VARIABLE","$request",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$response",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$next",80],")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$body",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$res",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getBody",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","getContents",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEquals",83],"(",["T_CONSTANT_ENCAPSED_STRING","''",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$body",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Data provider for assets.\n     *\n     * @return array\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","assetProvider",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n            ",93],["T_COMMENT","\/\/ In plugin root.\n",94],["T_WHITESPACE","            ",95],"[",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/root.js'",96],",",["T_WHITESPACE","\n                ",96],["T_STRING","TEST_APP",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'Plugin\/TestPlugin\/webroot\/root.js'",97],["T_WHITESPACE","\n            ",97],"]",",",["T_WHITESPACE","\n            ",98],["T_COMMENT","\/\/ Subdirectory\n",99],["T_WHITESPACE","            ",100],"[",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/js\/alert.js'",101],",",["T_WHITESPACE","\n                ",101],["T_STRING","TEST_APP",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Plugin\/TestPlugin\/webroot\/js\/alert.js'",102],["T_WHITESPACE","\n            ",102],"]",",",["T_WHITESPACE","\n            ",103],["T_COMMENT","\/\/ In path that matches the plugin name\n",104],["T_WHITESPACE","            ",105],"[",["T_WHITESPACE","\n                ",105],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/js\/test_plugin\/test.js'",106],",",["T_WHITESPACE","\n                ",106],["T_STRING","TEST_APP",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Plugin\/TestPlugin\/webroot\/js\/test_plugin\/test.js'",107],["T_WHITESPACE","\n            ",107],"]",",",["T_WHITESPACE","\n            ",108],["T_COMMENT","\/\/ In vendored plugin\n",109],["T_WHITESPACE","            ",110],"[",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'\/company\/test_plugin_three\/css\/company.css'",111],",",["T_WHITESPACE","\n                ",111],["T_STRING","TEST_APP",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Plugin\/Company\/TestPluginThree\/webroot\/css\/company.css'",112],["T_WHITESPACE","\n            ",112],"]",",",["T_WHITESPACE","\n        ",113],"]",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Test assets in a plugin.\n     *\n     * @dataProvider assetProvider\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","testPluginAsset",122],"(",["T_VARIABLE","$url",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$expectedFile",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$request",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","ServerRequestFactory",124],["T_DOUBLE_COLON","::",124],["T_STRING","fromGlobals",124],"(","[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$url",124],"]",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$response",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","Response",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$next",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$req",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$res",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$res",127],";",["T_WHITESPACE","\n        ",127],"}",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$middleware",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","AssetMiddleware",130],"(",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$res",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$middleware",131],"(",["T_VARIABLE","$request",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$response",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$next",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$body",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$res",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getBody",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getContents",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_STRING","file_get_contents",134],"(",["T_VARIABLE","$expectedFile",134],")",",",["T_WHITESPACE"," ",134],["T_VARIABLE","$body",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Test headers with plugin assets\n     *\n     * @return void\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","testPluginAssetHeaders",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$request",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","ServerRequestFactory",144],["T_DOUBLE_COLON","::",144],["T_STRING","fromGlobals",144],"(","[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/root.js'",144],"]",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$response",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","Response",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$next",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$req",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$res",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$res",147],";",["T_WHITESPACE","\n        ",147],"}",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$modified",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","filemtime",150],"(",["T_STRING","TEST_APP",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'Plugin\/TestPlugin\/webroot\/root.js'",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$expires",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","strtotime",151],"(",["T_CONSTANT_ENCAPSED_STRING","'+4 hours'",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$time",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","time",152],"(",")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$middleware",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","AssetMiddleware",154],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cacheTime'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'+4 hours'",154],"]",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$res",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$middleware",155],"(",["T_VARIABLE","$request",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$response",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$next",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEquals",157],"(",["T_WHITESPACE","\n            ",157],["T_CONSTANT_ENCAPSED_STRING","'application\/javascript'",158],",",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$res",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getHeaderLine",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",159],")",["T_WHITESPACE","\n        ",159],")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEquals",161],"(",["T_WHITESPACE","\n            ",161],["T_STRING","gmdate",162],"(",["T_CONSTANT_ENCAPSED_STRING","'D, j M Y G:i:s '",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$time",162],")",["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'GMT'",162],",",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$res",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getHeaderLine",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",163],")",["T_WHITESPACE","\n        ",163],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEquals",165],"(",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","'public,max-age='",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$expires",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_VARIABLE","$time",166],")",",",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$res",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getHeaderLine",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",167],")",["T_WHITESPACE","\n        ",167],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEquals",169],"(",["T_WHITESPACE","\n            ",169],["T_STRING","gmdate",170],"(",["T_CONSTANT_ENCAPSED_STRING","'D, j M Y G:i:s '",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$modified",170],")",["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'GMT'",170],",",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$res",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getHeaderLine",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",171],")",["T_WHITESPACE","\n        ",171],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertEquals",173],"(",["T_WHITESPACE","\n            ",173],["T_STRING","gmdate",174],"(",["T_CONSTANT_ENCAPSED_STRING","'D, j M Y G:i:s '",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$expires",174],")",["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'GMT'",174],",",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$res",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getHeaderLine",175],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",175],")",["T_WHITESPACE","\n        ",175],")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Test that content-types can be injected\n     *\n     * @return void\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","testCustomFileTypes",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$request",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","ServerRequestFactory",186],["T_DOUBLE_COLON","::",186],["T_STRING","fromGlobals",186],"(","[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/root.js'",186],"]",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$response",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_NEW","new",187],["T_WHITESPACE"," ",187],["T_STRING","Response",187],"(",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$next",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$req",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$res",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$res",189],";",["T_WHITESPACE","\n        ",189],"}",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$middleware",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","AssetMiddleware",192],"(","[",["T_CONSTANT_ENCAPSED_STRING","'types'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],"[",["T_CONSTANT_ENCAPSED_STRING","'js'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'custom\/stuff'",192],"]","]",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$res",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$middleware",193],"(",["T_VARIABLE","$request",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$response",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$next",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertEquals",195],"(",["T_WHITESPACE","\n            ",195],["T_CONSTANT_ENCAPSED_STRING","'custom\/stuff'",196],",",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$res",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getHeaderLine",197],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",197],")",["T_WHITESPACE","\n        ",197],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Test that \/\/ results in a 404\n     *\n     * @return void\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","test404OnDoubleSlash",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$request",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","ServerRequestFactory",208],["T_DOUBLE_COLON","::",208],["T_STRING","fromGlobals",208],"(","[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'\/\/index.php'",208],"]",")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$response",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_NEW","new",209],["T_WHITESPACE"," ",209],["T_STRING","Response",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$next",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$req",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$res",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$res",211],";",["T_WHITESPACE","\n        ",211],"}",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$middleware",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_NEW","new",214],["T_WHITESPACE"," ",214],["T_STRING","AssetMiddleware",214],"(",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$res",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$middleware",215],"(",["T_VARIABLE","$request",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$response",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$next",215],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertEmpty",216],"(",["T_VARIABLE","$res",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getBody",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","getContents",216],"(",")",")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Test that .. results in a 404\n     *\n     * @return void\n     *\/",219],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","test404OnDoubleDot",224],"(",")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$request",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","ServerRequestFactory",226],["T_DOUBLE_COLON","::",226],["T_STRING","fromGlobals",226],"(","[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'\/test_plugin\/..\/webroot\/root.js'",226],"]",")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$response",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_STRING","Response",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$next",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$req",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$res",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$res",229],";",["T_WHITESPACE","\n        ",229],"}",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$middleware",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_STRING","AssetMiddleware",232],"(",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$res",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$middleware",233],"(",["T_VARIABLE","$request",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$response",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$next",233],")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEmpty",234],"(",["T_VARIABLE","$res",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getBody",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getContents",234],"(",")",")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n",235],"}",["T_WHITESPACE","\n",236]]