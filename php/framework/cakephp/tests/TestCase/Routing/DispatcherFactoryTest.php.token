[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Routing",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Configure",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Network",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Request",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Routing",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DispatcherFactory",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","TestSuite",20],["T_NS_SEPARATOR","\\",20],["T_STRING","TestCase",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Dispatcher factory test case.\n *\/",22],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","DispatcherFactoryTest",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","TestCase",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * setup function\n     *\n     * @return void\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","setUp",33],"(",")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","setUp",35],"(",")",";",["T_WHITESPACE","\n        ",35],["T_STRING","Configure",36],["T_DOUBLE_COLON","::",36],["T_STRING","write",36],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",36],")",";",["T_WHITESPACE","\n        ",36],["T_STRING","DispatcherFactory",37],["T_DOUBLE_COLON","::",37],["T_STRING","clear",37],"(",")",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Test add filter\n     *\n     * @return void\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testAddFilter",45],"(",")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$mw",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMockBuilder",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",47],")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","setMethods",48],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",48],"]",")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMock",49],"(",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$result",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","DispatcherFactory",50],["T_DOUBLE_COLON","::",50],["T_STRING","add",50],"(",["T_VARIABLE","$mw",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertSame",51],"(",["T_VARIABLE","$mw",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$result",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Test add filter as a string\n     *\n     * @return void\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testAddFilterString",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$result",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","DispatcherFactory",61],["T_DOUBLE_COLON","::",61],["T_STRING","add",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Routing'",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertInstanceOf",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\Filter\\RoutingFilter'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$result",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Test add filter missing\n     *\n     * @expectedException \\Cake\\Routing\\Exception\\MissingDispatcherFilterException\n     * @return void\n     *\/",65],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testAddFilterMissing",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_STRING","DispatcherFactory",73],["T_DOUBLE_COLON","::",73],["T_STRING","add",73],"(",["T_CONSTANT_ENCAPSED_STRING","'NopeSauce'",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Test add filter\n     *\n     * @return void\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testAddFilterWithOptions",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$config",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'value'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'priority'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_LNUMBER","999",83],"]",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$result",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","DispatcherFactory",84],["T_DOUBLE_COLON","::",84],["T_STRING","add",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Routing'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$config",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertInstanceOf",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\Filter\\RoutingFilter'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$result",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEquals",86],"(",["T_VARIABLE","$config",86],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",86],"]",",",["T_WHITESPACE"," ",86],["T_VARIABLE","$result",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","config",86],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",86],")",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEquals",87],"(",["T_VARIABLE","$config",87],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",87],"]",",",["T_WHITESPACE"," ",87],["T_VARIABLE","$result",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","config",87],"(",["T_CONSTANT_ENCAPSED_STRING","'priority'",87],")",")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Test creating a dispatcher with the factory\n     *\n     * @return void\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testCreate",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$mw",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMockBuilder",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","setMethods",98],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",98],"]",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMock",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_STRING","DispatcherFactory",100],["T_DOUBLE_COLON","::",100],["T_STRING","add",100],"(",["T_VARIABLE","$mw",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$result",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","DispatcherFactory",101],["T_DOUBLE_COLON","::",101],["T_STRING","create",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertInstanceOf",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\Dispatcher'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$result",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertCount",103],"(",["T_LNUMBER","1",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$result",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","filters",103],"(",")",")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * test create() -> dispatch() -> response flow.\n     *\n     * @return void\n     *\/",106],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testCreateDispatchWithFilters",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$url",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","Request",113],"(","[",["T_WHITESPACE","\n            ",113],["T_CONSTANT_ENCAPSED_STRING","'url'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'posts'",114],",",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","'params'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],"[",["T_WHITESPACE","\n                ",115],["T_CONSTANT_ENCAPSED_STRING","'controller'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Posts'",116],",",["T_WHITESPACE","\n                ",116],["T_CONSTANT_ENCAPSED_STRING","'action'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'index'",117],",",["T_WHITESPACE","\n                ",117],["T_CONSTANT_ENCAPSED_STRING","'pass'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],"[","]",",",["T_WHITESPACE","\n                ",118],["T_CONSTANT_ENCAPSED_STRING","'bare'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_STRING","true",119],",",["T_WHITESPACE","\n            ",119],"]",["T_WHITESPACE","\n        ",120],"]",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$response",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getMockBuilder",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","setMethods",123],"(","[",["T_CONSTANT_ENCAPSED_STRING","'send'",123],"]",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMock",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_STRING","DispatcherFactory",125],["T_DOUBLE_COLON","::",125],["T_STRING","add",125],"(",["T_CONSTANT_ENCAPSED_STRING","'ControllerFactory'",125],")",";",["T_WHITESPACE","\n        ",125],["T_STRING","DispatcherFactory",126],["T_DOUBLE_COLON","::",126],["T_STRING","add",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Append'",126],")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$dispatcher",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","DispatcherFactory",128],["T_DOUBLE_COLON","::",128],["T_STRING","create",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$result",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$dispatcher",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","dispatch",129],"(",["T_VARIABLE","$url",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$response",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertNull",130],"(",["T_VARIABLE","$result",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEquals",131],"(",["T_CONSTANT_ENCAPSED_STRING","'posts index appended content'",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$response",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","body",131],"(",")",")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n",132],"}",["T_WHITESPACE","\n",133]]