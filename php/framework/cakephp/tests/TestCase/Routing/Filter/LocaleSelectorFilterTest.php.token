[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Routing",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Filter",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Event",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Event",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","I18n",18],["T_NS_SEPARATOR","\\",18],["T_STRING","I18n",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Network",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Request",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Routing",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Filter",20],["T_NS_SEPARATOR","\\",20],["T_STRING","LocaleSelectorFilter",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TestSuite",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TestCase",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Locale",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Locale selector filter test.\n *\/",24],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","LocaleSelectorFilterTest",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","TestCase",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * setup\n     *\n     * @return void\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","setUp",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","setUp",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","locale",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","Locale",38],["T_DOUBLE_COLON","::",38],["T_STRING","getDefault",38],"(",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Resets the default locale\n     *\n     * @return void\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","tearDown",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","tearDown",48],"(",")",";",["T_WHITESPACE","\n        ",48],["T_STRING","Locale",49],["T_DOUBLE_COLON","::",49],["T_STRING","setDefault",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","locale",49],")",";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Tests selecting a language from a http header\n     *\n     * @return void\n     * @triggers name null, [request => $request])\n     * @triggers name null, [request => $request])\n     * @triggers name null, [request => $request])\n     *\/",52],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","testSimpleSelection",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$filter",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","LocaleSelectorFilter",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$request",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Request",63],"(","[",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'environment'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'en-GB,en;q=0.8,es;q=0.6,da;q=0.4'",64],"]",["T_WHITESPACE","\n        ",64],"]",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$filter",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","beforeDispatch",66],"(",["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","Event",66],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",66],",",["T_WHITESPACE"," ",66],["T_STRING","null",66],",",["T_WHITESPACE"," ",66],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$request",66],"]",")",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEquals",67],"(",["T_CONSTANT_ENCAPSED_STRING","'en_GB'",67],",",["T_WHITESPACE"," ",67],["T_STRING","I18n",67],["T_DOUBLE_COLON","::",67],["T_STRING","locale",67],"(",")",")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$request",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","Request",69],"(","[",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'environment'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'es_VE,en;q=0.8,es;q=0.6,da;q=0.4'",70],"]",["T_WHITESPACE","\n        ",70],"]",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$filter",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","beforeDispatch",72],"(",["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Event",72],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",72],",",["T_WHITESPACE"," ",72],["T_STRING","null",72],",",["T_WHITESPACE"," ",72],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$request",72],"]",")",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEquals",73],"(",["T_CONSTANT_ENCAPSED_STRING","'es_VE'",73],",",["T_WHITESPACE"," ",73],["T_STRING","I18n",73],["T_DOUBLE_COLON","::",73],["T_STRING","locale",73],"(",")",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$request",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","Request",75],"(","[",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'environment'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'en;q=0.4,es;q=0.6,da;q=0.8'",76],"]",["T_WHITESPACE","\n        ",76],"]",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$filter",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","beforeDispatch",78],"(",["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","Event",78],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",78],",",["T_WHITESPACE"," ",78],["T_STRING","null",78],",",["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$request",78],"]",")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertEquals",79],"(",["T_CONSTANT_ENCAPSED_STRING","'da'",79],",",["T_WHITESPACE"," ",79],["T_STRING","I18n",79],["T_DOUBLE_COLON","::",79],["T_STRING","locale",79],"(",")",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Tests selecting a language from a http header and filtering by a whitelist\n     *\n     * @return void\n     * @triggers name null, [request => $request])\n     * @triggers name null, [request => $request])\n     *\/",82],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testWithWhitelist",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_STRING","Locale",91],["T_DOUBLE_COLON","::",91],["T_STRING","setDefault",91],"(",["T_CONSTANT_ENCAPSED_STRING","'en_US'",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$filter",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","LocaleSelectorFilter",92],"(","[",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'locales'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],"[",["T_CONSTANT_ENCAPSED_STRING","'en_CA'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'en_IN'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'es_VE'",93],"]",["T_WHITESPACE","\n        ",93],"]",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$request",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","Request",95],"(","[",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'environment'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],"[",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'en-GB;q=0.8,es-VE;q=0.9,da-DK;q=0.4'",97],["T_WHITESPACE","\n            ",97],"]",["T_WHITESPACE","\n        ",98],"]",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$filter",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","beforeDispatch",100],"(",["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","Event",100],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",100],",",["T_WHITESPACE"," ",100],["T_STRING","null",100],",",["T_WHITESPACE"," ",100],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$request",100],"]",")",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEquals",101],"(",["T_CONSTANT_ENCAPSED_STRING","'es_VE'",101],",",["T_WHITESPACE"," ",101],["T_STRING","I18n",101],["T_DOUBLE_COLON","::",101],["T_STRING","locale",101],"(",")",")",";",["T_WHITESPACE","\n\n        ",101],["T_STRING","Locale",103],["T_DOUBLE_COLON","::",103],["T_STRING","setDefault",103],"(",["T_CONSTANT_ENCAPSED_STRING","'en_US'",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$request",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","Request",104],"(","[",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'environment'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],"[",["T_WHITESPACE","\n                ",105],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'en-GB;q=0.8,es-ES;q=0.9,da-DK;q=0.4'",106],["T_WHITESPACE","\n            ",106],"]",["T_WHITESPACE","\n        ",107],"]",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$filter",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","beforeDispatch",109],"(",["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","Event",109],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",109],",",["T_WHITESPACE"," ",109],["T_STRING","null",109],",",["T_WHITESPACE"," ",109],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$request",109],"]",")",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEquals",110],"(",["T_CONSTANT_ENCAPSED_STRING","'en_US'",110],",",["T_WHITESPACE"," ",110],["T_STRING","I18n",110],["T_DOUBLE_COLON","::",110],["T_STRING","locale",110],"(",")",")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n",111],"}",["T_WHITESPACE","\n",112]]