[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","I18n",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Middleware",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","I18n",17],["T_NS_SEPARATOR","\\",17],["T_STRING","I18n",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","I18n",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Middleware",18],["T_NS_SEPARATOR","\\",18],["T_STRING","LocaleSelectorMiddleware",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TestSuite",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TestCase",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Locale",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Zend",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Diactoros",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Response",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Zend",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Diactoros",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ServerRequestFactory",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Test for LocaleSelectorMiddleware\n *\/",24],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","LocaleSelectorMiddlewareTest",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","TestCase",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * setup\n     *\n     * @return void\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","setUp",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","setUp",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","locale",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","Locale",38],["T_DOUBLE_COLON","::",38],["T_STRING","getDefault",38],"(",")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","next",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$req",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$res",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n            ",39],["T_RETURN","return",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$res",40],";",["T_WHITESPACE","\n        ",40],"}",";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Resets the default locale\n     *\n     * @return void\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","tearDown",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","tearDown",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_STRING","Locale",52],["T_DOUBLE_COLON","::",52],["T_STRING","setDefault",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","locale",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * The default locale should not change when there are no accepted\n     * locales.\n     *\n     * @return void\n     *\/",55],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testInvokeNoAcceptedLocales",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$request",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","ServerRequestFactory",63],["T_DOUBLE_COLON","::",63],["T_STRING","fromGlobals",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$response",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","Response",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$middleware",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","LocaleSelectorMiddleware",65],"(","[","]",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$middleware",66],"(",["T_VARIABLE","$request",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$response",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","next",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertSame",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","locale",67],",",["T_WHITESPACE"," ",67],["T_STRING","I18n",67],["T_DOUBLE_COLON","::",67],["T_STRING","locale",67],"(",")",")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$request",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","ServerRequestFactory",69],["T_DOUBLE_COLON","::",69],["T_STRING","fromGlobals",69],"(","[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'garbage'",69],"]",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$response",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","Response",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$middleware",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STRING","LocaleSelectorMiddleware",71],"(","[","]",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$middleware",72],"(",["T_VARIABLE","$request",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$response",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","next",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertSame",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","locale",73],",",["T_WHITESPACE"," ",73],["T_STRING","I18n",73],["T_DOUBLE_COLON","::",73],["T_STRING","locale",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * The default locale should not change when the request locale is not accepted\n     *\n     * @return void\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testInvokeLocaleNotAccepted",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$request",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","ServerRequestFactory",83],["T_DOUBLE_COLON","::",83],["T_STRING","fromGlobals",83],"(","[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'en-GB,en;q=0.8,es;q=0.6,da;q=0.4'",83],"]",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$response",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","Response",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$middleware",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","LocaleSelectorMiddleware",85],"(","[",["T_CONSTANT_ENCAPSED_STRING","'en_CA'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'en_US'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'es'",85],"]",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$middleware",86],"(",["T_VARIABLE","$request",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$response",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","next",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertSame",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","locale",87],",",["T_WHITESPACE"," ",87],["T_STRING","I18n",87],["T_DOUBLE_COLON","::",87],["T_STRING","locale",87],"(",")",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'en-GB is not accepted'",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * The default locale should change when the request locale is accepted\n     *\n     * @return void\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testInvokeLocaleAccepted",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$request",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","ServerRequestFactory",97],["T_DOUBLE_COLON","::",97],["T_STRING","fromGlobals",97],"(","[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'es,es-ES;q=0.8,da;q=0.4'",97],"]",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$response",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","Response",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$middleware",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","LocaleSelectorMiddleware",99],"(","[",["T_CONSTANT_ENCAPSED_STRING","'en_CA'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'es'",99],"]",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$middleware",100],"(",["T_VARIABLE","$request",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$response",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","next",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertSame",101],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",101],",",["T_WHITESPACE"," ",101],["T_STRING","I18n",101],["T_DOUBLE_COLON","::",101],["T_STRING","locale",101],"(",")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'es is accepted'",101],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * The default locale should change when the '*' is accepted\n     *\n     * @return void\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","testInvokeLocaleAcceptAll",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$response",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","Response",111],"(",")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$middleware",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","LocaleSelectorMiddleware",112],"(","[",["T_CONSTANT_ENCAPSED_STRING","'*'",112],"]",")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$request",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","ServerRequestFactory",114],["T_DOUBLE_COLON","::",114],["T_STRING","fromGlobals",114],"(","[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'es,es-ES;q=0.8,da;q=0.4'",114],"]",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$middleware",115],"(",["T_VARIABLE","$request",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$response",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","next",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertSame",116],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",116],",",["T_WHITESPACE"," ",116],["T_STRING","I18n",116],["T_DOUBLE_COLON","::",116],["T_STRING","locale",116],"(",")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'es is accepted'",116],")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$request",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","ServerRequestFactory",118],["T_DOUBLE_COLON","::",118],["T_STRING","fromGlobals",118],"(","[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'en;q=0.4,es;q=0.6,da;q=0.8'",118],"]",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$middleware",119],"(",["T_VARIABLE","$request",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$response",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","next",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertSame",120],"(",["T_CONSTANT_ENCAPSED_STRING","'da'",120],",",["T_WHITESPACE"," ",120],["T_STRING","I18n",120],["T_DOUBLE_COLON","::",120],["T_STRING","locale",120],"(",")",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'da is accepted'",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n",121],"}",["T_WHITESPACE","\n",122]]