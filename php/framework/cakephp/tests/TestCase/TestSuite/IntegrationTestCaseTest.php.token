[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestSuite",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Configure",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Event",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EventManager",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Network",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Response",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Routing",20],["T_NS_SEPARATOR","\\",20],["T_STRING","DispatcherFactory",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Routing",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Router",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","TestSuite",22],["T_NS_SEPARATOR","\\",22],["T_STRING","IntegrationTestCase",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Test",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Fixture",23],["T_NS_SEPARATOR","\\",23],["T_STRING","AssertIntegrationTestCase",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Utility",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Security",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Self test of the IntegrationTestCase\n *\/",26],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","IntegrationTestCaseTest",29],["T_WHITESPACE"," ",29],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_STRING","IntegrationTestCase",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Setup method\n     *\n     * @return void\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","setUp",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n        ",39],["T_STRING","Configure",40],["T_DOUBLE_COLON","::",40],["T_STRING","write",40],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",40],")",";",["T_WHITESPACE","\n\n        ",40],["T_STRING","Router",42],["T_DOUBLE_COLON","::",42],["T_STRING","connect",42],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action\/*'",42],",",["T_WHITESPACE"," ",42],"[","]",",",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'routeClass'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'InflectedRoute'",42],"]",")",";",["T_WHITESPACE","\n        ",42],["T_STRING","DispatcherFactory",43],["T_DOUBLE_COLON","::",43],["T_STRING","clear",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_STRING","DispatcherFactory",44],["T_DOUBLE_COLON","::",44],["T_STRING","add",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Routing'",44],")",";",["T_WHITESPACE","\n        ",44],["T_STRING","DispatcherFactory",45],["T_DOUBLE_COLON","::",45],["T_STRING","add",45],"(",["T_CONSTANT_ENCAPSED_STRING","'ControllerFactory'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","useHttpServer",46],"(",["T_STRING","false",46],")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Test building a request.\n     *\n     * @return void\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testRequestBuilding",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","configRequest",56],"(","[",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'headers'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],"[",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'X-CSRF-Token'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'abc123'",58],",",["T_WHITESPACE","\n                ",58],["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",59],",",["T_WHITESPACE","\n                ",59],["T_CONSTANT_ENCAPSED_STRING","'Accept'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",60],["T_WHITESPACE","\n            ",60],"]",",",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'base'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","''",62],",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'webroot'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\/'",63],",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'environment'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'foo'",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'bar'",66],["T_WHITESPACE","\n            ",66],"]",["T_WHITESPACE","\n        ",67],"]",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","cookie",69],"(",["T_CONSTANT_ENCAPSED_STRING","'split_token'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'def345'",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","session",70],"(","[",["T_CONSTANT_ENCAPSED_STRING","'User'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_LNUMBER","1",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'username'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'mark'",70],"]","]",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$request",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_buildRequest",71],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/add'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'POST'",71],",",["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'First post'",71],"]",")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEquals",73],"(",["T_CONSTANT_ENCAPSED_STRING","'abc123'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$request",73],"[",["T_CONSTANT_ENCAPSED_STRING","'environment'",73],"]","[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_CSRF_TOKEN'",73],"]",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEquals",74],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$request",74],"[",["T_CONSTANT_ENCAPSED_STRING","'environment'",74],"]","[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",74],"]",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/add'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$request",75],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",75],"]",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertArrayHasKey",76],"(",["T_CONSTANT_ENCAPSED_STRING","'split_token'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$request",76],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",76],"]",")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEquals",77],"(",["T_CONSTANT_ENCAPSED_STRING","'def345'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$request",77],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",77],"]","[",["T_CONSTANT_ENCAPSED_STRING","'split_token'",77],"]",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEquals",78],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'1'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'username'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'mark'",78],"]",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$request",78],"[",["T_CONSTANT_ENCAPSED_STRING","'session'",78],"]",["T_OBJECT_OPERATOR","->",78],["T_STRING","read",78],"(",["T_CONSTANT_ENCAPSED_STRING","'User'",78],")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertEquals",79],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$request",79],"[",["T_CONSTANT_ENCAPSED_STRING","'environment'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",79],"]",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEquals",80],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$request",80],"[",["T_CONSTANT_ENCAPSED_STRING","'environment'",80],"]","[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",80],"]",")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Test request building adds csrf tokens\n     *\n     * @return void\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testRequestBuildingCsrfTokens",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","enableCsrfToken",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$request",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_buildRequest",91],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/add'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'POST'",91],",",["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'First post'",91],"]",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertArrayHasKey",93],"(",["T_CONSTANT_ENCAPSED_STRING","'csrfToken'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$request",93],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",93],"]",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertArrayHasKey",94],"(",["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$request",94],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",94],"]",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertSame",95],"(",["T_VARIABLE","$request",95],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrfToken'",95],"]",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$request",95],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",95],"]",")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","cookie",97],"(",["T_CONSTANT_ENCAPSED_STRING","'csrfToken'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","''",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$request",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_buildRequest",98],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/add'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'POST'",98],",",["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n            ",98],["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'fale'",99],",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'title'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'First post'",100],["T_WHITESPACE","\n        ",100],"]",")",";",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertSame",103],"(",["T_CONSTANT_ENCAPSED_STRING","''",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$request",103],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrfToken'",103],"]",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertSame",104],"(",["T_CONSTANT_ENCAPSED_STRING","'fale'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$request",104],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",104],"]",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Test multiple actions using CSRF tokens don't fail\n     *\n     * @return void\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testEnableCsrfMultipleRequests",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","enableCsrfToken",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$first",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_buildRequest",115],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/add'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'POST'",115],",",["T_WHITESPACE"," ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'First post'",115],"]",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$second",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_buildRequest",116],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/add'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'POST'",116],",",["T_WHITESPACE"," ",116],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Second post'",116],"]",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertSame",117],"(",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$first",118],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",118],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrfToken'",118],"]",",",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$second",119],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",119],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",119],"]",",",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'Csrf token should match cookie'",120],["T_WHITESPACE","\n        ",120],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertSame",122],"(",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$first",123],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",123],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",123],"]",",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$second",124],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",124],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",124],"]",",",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","'Tokens should be consistent per test method'",125],["T_WHITESPACE","\n        ",125],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Test pre-determined CSRF tokens.\n     *\n     * @return void\n     *\/",129],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testEnableCsrfPredeterminedCookie",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","enableCsrfToken",136],"(",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$value",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'I am a teapot'",137],";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","cookie",138],"(",["T_CONSTANT_ENCAPSED_STRING","'csrfToken'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$value",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$request",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_buildRequest",139],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/add'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'POST'",139],",",["T_WHITESPACE"," ",139],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'First post'",139],"]",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertSame",140],"(",["T_VARIABLE","$value",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$request",140],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",140],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrfToken'",140],"]",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Csrf token should match cookie'",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertSame",141],"(",["T_VARIABLE","$value",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$request",141],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_csrfToken'",141],"]",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Tokens should match'",141],")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Test building a request, with query parameters\n     *\n     * @return void\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","testRequestBuildingQueryParameters",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$request",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_buildRequest",151],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/view?archived=yes'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'GET'",151],",",["T_WHITESPACE"," ",151],"[","]",")",";",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertEquals",153],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/view'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$request",153],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",153],"]",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEquals",154],"(",["T_CONSTANT_ENCAPSED_STRING","'yes'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$request",154],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",154],"]","[",["T_CONSTANT_ENCAPSED_STRING","'archived'",154],"]",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Test cookie encrypted\n     *\n     * @see CookieComponentControllerTest\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","testCookieEncrypted",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_STRING","Security",164],["T_DOUBLE_COLON","::",164],["T_STRING","salt",164],"(",["T_CONSTANT_ENCAPSED_STRING","'abcdabcdabcdabcdabcdabcdabcdabcdabcd'",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","cookieEncrypted",165],"(",["T_CONSTANT_ENCAPSED_STRING","'KeyOfCookie'",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Encrypted with aes by default'",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$request",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_buildRequest",166],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/view'",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'GET'",166],",",["T_WHITESPACE"," ",166],"[","]",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertStringStartsWith",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Q2FrZQ==.'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$request",167],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",167],"]","[",["T_CONSTANT_ENCAPSED_STRING","'KeyOfCookie'",167],"]",")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Test sending get requests.\n     *\n     * @return void\n     *\/",170],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","testGet",175],"(",")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertNull",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_response",177],")",";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/test_request_action'",179],")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertNotEmpty",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_response",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertInstanceOf",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_response",181],")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertEquals",182],"(",["T_CONSTANT_ENCAPSED_STRING","'This is a test'",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_response",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","body",182],"(",")",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Test customizing the app class.\n     *\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Cannot load \"TestApp\\MissingApp\" for use in integration\n     * @return void\n     *\/",185],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","testConfigApplication",192],"(",")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_STRING","DispatcherFactory",194],["T_DOUBLE_COLON","::",194],["T_STRING","clear",194],"(",")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","useHttpServer",195],"(",["T_STRING","true",195],")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","configApplication",196],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\MissingApp'",196],",",["T_WHITESPACE"," ",196],"[","]",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","get",197],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/test_request_action'",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Test sending get requests with Http\\Server\n     *\n     * @return void\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","testGetHttpServer",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_STRING","DispatcherFactory",207],["T_DOUBLE_COLON","::",207],["T_STRING","clear",207],"(",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","useHttpServer",208],"(",["T_STRING","true",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertNull",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_response",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","get",211],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/test_request_action'",211],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertNotEmpty",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_response",212],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertInstanceOf",213],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_response",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEquals",214],"(",["T_CONSTANT_ENCAPSED_STRING","'This is a test'",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_response",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","body",214],"(",")",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertHeader",215],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Middleware'",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'true'",215],")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Test that the PSR7 requests get query string data\n     *\n     * @return void\n     *\/",218],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","testQueryStringHttpServer",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","useHttpServer",225],"(",["T_STRING","true",225],")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","configRequest",227],"(","[",["T_CONSTANT_ENCAPSED_STRING","'headers'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",227],"]","]",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","get",228],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/params_pass?q=query'",228],")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertResponseOk",229],"(",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertResponseContains",230],"(",["T_CONSTANT_ENCAPSED_STRING","'\"q\":\"query\"'",230],")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertResponseContains",231],"(",["T_CONSTANT_ENCAPSED_STRING","'\"contentType\":\"text\\\/plain\"'",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertHeader",232],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Middleware'",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'true'",232],")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Test that the PSR7 requests get cookies\n     *\n     * @return void\n     *\/",235],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","testGetCookiesHttpServer",240],"(",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","useHttpServer",242],"(",["T_STRING","true",242],")",";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","configRequest",244],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],"[",["T_CONSTANT_ENCAPSED_STRING","'split_test'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'abc'",244],"]","]",")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","get",245],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/cookie_pass'",245],")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertResponseOk",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertResponseContains",247],"(",["T_CONSTANT_ENCAPSED_STRING","'\"split_test\":\"abc\"'",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertHeader",248],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Middleware'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'true'",248],")",";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Test that the PSR7 requests receive post data\n     *\n     * @return void\n     *\/",251],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","testPostDataHttpServer",256],"(",")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","useHttpServer",258],"(",["T_STRING","true",258],")",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","post",260],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/post_pass'",260],",",["T_WHITESPACE"," ",260],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'value'",260],"]",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$data",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","json_decode",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_response",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","body",261],"(",")",")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertEquals",262],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$data",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","title",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertHeader",263],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Middleware'",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'true'",263],")",";",["T_WHITESPACE","\n    ",263],"}",["T_WHITESPACE","\n\n    ",264],["T_DOC_COMMENT","\/**\n     * Test that the PSR7 requests receive encoded data.\n     *\n     * @return void\n     *\/",266],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","testInputDataHttpServer",271],"(",")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","useHttpServer",273],"(",["T_STRING","true",273],")",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","post",275],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/input_test'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'{\"hello\":\"world\"}'",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","assertSame",276],"(",["T_CONSTANT_ENCAPSED_STRING","'world'",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_response",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","body",276],"(",")",")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertHeader",277],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Middleware'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'true'",277],")",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Test that the PSR7 requests get cookies\n     *\n     * @return void\n     *\/",280],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","testSessionHttpServer",285],"(",")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","useHttpServer",287],"(",["T_STRING","true",287],")",";",["T_WHITESPACE","\n\n        ",287],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","session",289],"(","[",["T_CONSTANT_ENCAPSED_STRING","'foo'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'session data'",289],"]",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","get",290],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/session_test'",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertResponseOk",291],"(",")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","assertResponseContains",292],"(",["T_CONSTANT_ENCAPSED_STRING","'session data'",292],")",";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","assertHeader",293],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Middleware'",293],",",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'true'",293],")",";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Test sending requests stores references to controller\/view\/layout.\n     *\n     * @return void\n     *\/",296],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","testRequestSetsProperties",301],"(",")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","post",303],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/index'",303],")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertInstanceOf",304],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_controller",304],")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertNotEmpty",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_viewName",305],",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'View name not set'",305],")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertContains",306],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_STRING","DS",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'Posts'",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_STRING","DS",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'index.ctp'",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_viewName",306],")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","assertNotEmpty",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_layoutName",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'Layout name not set'",307],")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertContains",308],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_STRING","DS",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'Layout'",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_STRING","DS",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'default.ctp'",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_layoutName",308],")",";",["T_WHITESPACE","\n\n        ",308],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertTemplate",310],"(",["T_CONSTANT_ENCAPSED_STRING","'index'",310],")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assertLayout",311],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","assertEquals",312],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","viewVariable",312],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",312],")",")",";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Test PSR7 requests store references to controller\/view\/layout\n     *\n     * @return void\n     *\/",315],["T_WHITESPACE","\n    ",319],["T_PUBLIC","public",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","testRequestSetsPropertiesHttpServer",320],"(",")",["T_WHITESPACE","\n    ",320],"{",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","useHttpServer",322],"(",["T_STRING","true",322],")",";",["T_WHITESPACE","\n        ",322],["T_STRING","DispatcherFactory",323],["T_DOUBLE_COLON","::",323],["T_STRING","clear",323],"(",")",";",["T_WHITESPACE","\n\n        ",323],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","post",325],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/index'",325],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","assertInstanceOf",326],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_controller",326],")",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","assertNotEmpty",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_viewName",327],",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'View name not set'",327],")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","assertContains",328],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_STRING","DS",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'Posts'",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_STRING","DS",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'index.ctp'",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_viewName",328],")",";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","assertNotEmpty",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_layoutName",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'Layout name not set'",329],")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","assertContains",330],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",330],["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_STRING","DS",330],["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'Layout'",330],["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_STRING","DS",330],["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'default.ctp'",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_layoutName",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","assertTemplate",332],"(",["T_CONSTANT_ENCAPSED_STRING","'index'",332],")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","assertLayout",333],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",333],")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","assertEquals",334],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","viewVariable",334],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",334],")",")",";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Assert that the stored template doesn't change when cells are rendered.\n     *\n     * @return void\n     *\/",337],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","testAssertTemplateAfterCellRender",342],"(",")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","get",344],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/get'",344],")",";",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","assertContains",345],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_STRING","DS",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'Posts'",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_STRING","DS",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'get.ctp'",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_viewName",345],")",";",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","assertTemplate",346],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",346],")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","assertResponseContains",347],"(",["T_CONSTANT_ENCAPSED_STRING","'cellcontent'",347],")",";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_DOC_COMMENT","\/**\n     * Test array URLs\n     *\n     * @return void\n     *\/",350],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","testArrayUrls",355],"(",")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","post",357],"(","[",["T_CONSTANT_ENCAPSED_STRING","'controller'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'Posts'",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'action'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'index'",357],"]",")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","assertEquals",358],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","viewVariable",358],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",358],")",")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Test flash and cookie assertions\n     *\n     * @return void\n     *\/",361],["T_WHITESPACE","\n    ",365],["T_PUBLIC","public",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","testFlashSessionAndCookieAsserts",366],"(",")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","post",368],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/index'",368],")",";",["T_WHITESPACE","\n\n        ",368],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertSession",370],"(",["T_CONSTANT_ENCAPSED_STRING","'An error message'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'Flash.flash.0.message'",370],")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","assertCookie",371],"(",["T_LNUMBER","1",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'remember_me'",371],")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","assertCookieNotSet",372],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id'",372],")",";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Test flash and cookie assertions\n     *\n     * @return void\n     *\/",375],["T_WHITESPACE","\n    ",379],["T_PUBLIC","public",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","testFlashSessionAndCookieAssertsHttpServer",380],"(",")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","useHttpServer",382],"(",["T_STRING","true",382],")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","post",383],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/index'",383],")",";",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","assertSession",385],"(",["T_CONSTANT_ENCAPSED_STRING","'An error message'",385],",",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'Flash.flash.0.message'",385],")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","assertCookieNotSet",386],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id'",386],")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","assertCookie",387],"(",["T_LNUMBER","1",387],",",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'remember_me'",387],")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Tests the failure message for assertCookieNotSet\n     *\n     * @expectedException \\PHPUnit_Framework_AssertionFailedError\n     * @expectedExceptionMessage Cookie 'remember_me' has been set\n     * @return void\n     *\/",390],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","testCookieNotSetFailure",397],"(",")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","post",399],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/index'",399],")",";",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","assertCookieNotSet",400],"(",["T_CONSTANT_ENCAPSED_STRING","'remember_me'",400],")",";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Tests the failure message for assertCookieNotSet when no\n     * response whas generated\n     *\n     * @expectedException \\PHPUnit_Framework_AssertionFailedError\n     * @expectedExceptionMessage No response set, cannot assert cookies.\n     * @return void\n     *\/",403],["T_WHITESPACE","\n    ",410],["T_PUBLIC","public",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","testCookieNotSetFailureNoResponse",411],"(",")",["T_WHITESPACE","\n    ",411],"{",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertCookieNotSet",413],"(",["T_CONSTANT_ENCAPSED_STRING","'remember_me'",413],")",";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Test error handling and error page rendering.\n     *\n     * @return void\n     *\/",416],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","testPostAndErrorHandling",421],"(",")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","post",423],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/error_method'",423],")",";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","assertResponseNotEmpty",424],"(",")",";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","assertResponseContains",425],"(",["T_CONSTANT_ENCAPSED_STRING","'Not there or here'",425],")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","assertResponseContains",426],"(",["T_CONSTANT_ENCAPSED_STRING","'<!DOCTYPE html>'",426],")",";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_DOC_COMMENT","\/**\n     * Test posting to a secured form action.\n     *\n     * @return void\n     *\/",429],["T_WHITESPACE","\n    ",433],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","testPostSecuredForm",434],"(",")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","enableSecurityToken",436],"(",")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$data",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],"[",["T_WHITESPACE","\n            ",437],["T_CONSTANT_ENCAPSED_STRING","'title'",438],["T_WHITESPACE"," ",438],["T_DOUBLE_ARROW","=>",438],["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'Some title'",438],",",["T_WHITESPACE","\n            ",438],["T_CONSTANT_ENCAPSED_STRING","'body'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","'Some text'",439],["T_WHITESPACE","\n        ",439],"]",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","post",441],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/securePost'",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$data",441],")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","assertResponseOk",442],"(",")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","assertResponseContains",443],"(",["T_CONSTANT_ENCAPSED_STRING","'Request was accepted'",443],")",";",["T_WHITESPACE","\n    ",443],"}",["T_WHITESPACE","\n\n    ",444],["T_DOC_COMMENT","\/**\n     * Test posting to a secured form action with nested data.\n     *\n     * @return void\n     *\/",446],["T_WHITESPACE","\n    ",450],["T_PUBLIC","public",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","testPostSecuredFormNestedData",451],"(",")",["T_WHITESPACE","\n    ",451],"{",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","enableSecurityToken",453],"(",")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$data",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],"[",["T_WHITESPACE","\n            ",454],["T_CONSTANT_ENCAPSED_STRING","'title'",455],["T_WHITESPACE"," ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'New post'",455],",",["T_WHITESPACE","\n            ",455],["T_CONSTANT_ENCAPSED_STRING","'comments'",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],"[",["T_WHITESPACE","\n                ",456],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'A new comment'",457],"]",["T_WHITESPACE","\n            ",457],"]",",",["T_WHITESPACE","\n            ",458],["T_CONSTANT_ENCAPSED_STRING","'tags'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],"[",["T_CONSTANT_ENCAPSED_STRING","'_ids'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],"[",["T_LNUMBER","1",459],",",["T_WHITESPACE"," ",459],["T_LNUMBER","2",459],",",["T_WHITESPACE"," ",459],["T_LNUMBER","3",459],",",["T_WHITESPACE"," ",459],["T_LNUMBER","4",459],"]","]",["T_WHITESPACE","\n        ",459],"]",";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","post",461],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/securePost'",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$data",461],")",";",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","assertResponseOk",462],"(",")",";",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","assertResponseContains",463],"(",["T_CONSTANT_ENCAPSED_STRING","'Request was accepted'",463],")",";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Test posting to a secured form action.\n     *\n     * @return void\n     *\/",466],["T_WHITESPACE","\n    ",470],["T_PUBLIC","public",471],["T_WHITESPACE"," ",471],["T_FUNCTION","function",471],["T_WHITESPACE"," ",471],["T_STRING","testPostSecuredFormWithQuery",471],"(",")",["T_WHITESPACE","\n    ",471],"{",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","enableSecurityToken",473],"(",")",";",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$data",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],"[",["T_WHITESPACE","\n            ",474],["T_CONSTANT_ENCAPSED_STRING","'title'",475],["T_WHITESPACE"," ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'Some title'",475],",",["T_WHITESPACE","\n            ",475],["T_CONSTANT_ENCAPSED_STRING","'body'",476],["T_WHITESPACE"," ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'Some text'",476],["T_WHITESPACE","\n        ",476],"]",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","post",478],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/securePost?foo=bar'",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$data",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","assertResponseOk",479],"(",")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","assertResponseContains",480],"(",["T_CONSTANT_ENCAPSED_STRING","'Request was accepted'",480],")",";",["T_WHITESPACE","\n    ",480],"}",["T_WHITESPACE","\n\n    ",481],["T_DOC_COMMENT","\/**\n     * Test posting to a secured form action action.\n     *\n     * @return void\n     *\/",483],["T_WHITESPACE","\n    ",487],["T_PUBLIC","public",488],["T_WHITESPACE"," ",488],["T_FUNCTION","function",488],["T_WHITESPACE"," ",488],["T_STRING","testPostSecuredFormFailure",488],"(",")",["T_WHITESPACE","\n    ",488],"{",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$data",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],"[",["T_WHITESPACE","\n            ",490],["T_CONSTANT_ENCAPSED_STRING","'title'",491],["T_WHITESPACE"," ",491],["T_DOUBLE_ARROW","=>",491],["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'Some title'",491],",",["T_WHITESPACE","\n            ",491],["T_CONSTANT_ENCAPSED_STRING","'body'",492],["T_WHITESPACE"," ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'Some text'",492],["T_WHITESPACE","\n        ",492],"]",";",["T_WHITESPACE","\n        ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","post",494],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/securePost'",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$data",494],")",";",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","assertResponseError",495],"(",")",";",["T_WHITESPACE","\n    ",495],"}",["T_WHITESPACE","\n\n    ",496],["T_DOC_COMMENT","\/**\n     * Test that exceptions being thrown are handled correctly.\n     *\n     * @return void\n     *\/",498],["T_WHITESPACE","\n    ",502],["T_PUBLIC","public",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","testWithExpectedException",503],"(",")",["T_WHITESPACE","\n    ",503],"{",["T_WHITESPACE","\n        ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","get",505],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tests_apps\/throw_exception'",505],")",";",["T_WHITESPACE","\n        ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","assertResponseCode",506],"(",["T_LNUMBER","500",506],")",";",["T_WHITESPACE","\n    ",506],"}",["T_WHITESPACE","\n\n    ",507],["T_DOC_COMMENT","\/**\n     * Test that exceptions being thrown are handled correctly by the psr7 stack.\n     *\n     * @return void\n     *\/",509],["T_WHITESPACE","\n    ",513],["T_PUBLIC","public",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","testWithExpectedExceptionHttpServer",514],"(",")",["T_WHITESPACE","\n    ",514],"{",["T_WHITESPACE","\n        ",515],["T_STRING","DispatcherFactory",516],["T_DOUBLE_COLON","::",516],["T_STRING","clear",516],"(",")",";",["T_WHITESPACE","\n        ",516],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","useHttpServer",517],"(",["T_STRING","true",517],")",";",["T_WHITESPACE","\n\n        ",517],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","get",519],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tests_apps\/throw_exception'",519],")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","assertResponseCode",520],"(",["T_LNUMBER","500",520],")",";",["T_WHITESPACE","\n    ",520],"}",["T_WHITESPACE","\n\n    ",521],["T_DOC_COMMENT","\/**\n     * Test that exceptions being thrown are handled correctly.\n     *\n     * @expectedException \\PHPUnit_Framework_AssertionFailedError\n     * @return void\n     *\/",523],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","testWithUnexpectedException",529],"(",")",["T_WHITESPACE","\n    ",529],"{",["T_WHITESPACE","\n        ",530],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","get",531],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tests_apps\/throw_exception'",531],")",";",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","assertResponseCode",532],"(",["T_LNUMBER","501",532],")",";",["T_WHITESPACE","\n    ",532],"}",["T_WHITESPACE","\n\n    ",533],["T_DOC_COMMENT","\/**\n     * Test redirecting and integration tests.\n     *\n     * @return void\n     *\/",535],["T_WHITESPACE","\n    ",539],["T_PUBLIC","public",540],["T_WHITESPACE"," ",540],["T_FUNCTION","function",540],["T_WHITESPACE"," ",540],["T_STRING","testRedirect",540],"(",")",["T_WHITESPACE","\n    ",540],"{",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","post",542],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tests_apps\/redirect_to'",542],")",";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","assertResponseSuccess",543],"(",")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","assertResponseCode",544],"(",["T_LNUMBER","302",544],")",";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Test redirecting and psr7 stack\n     *\n     * @return void\n     *\/",547],["T_WHITESPACE","\n    ",551],["T_PUBLIC","public",552],["T_WHITESPACE"," ",552],["T_FUNCTION","function",552],["T_WHITESPACE"," ",552],["T_STRING","testRedirectHttpServer",552],"(",")",["T_WHITESPACE","\n    ",552],"{",["T_WHITESPACE","\n        ",553],["T_STRING","DispatcherFactory",554],["T_DOUBLE_COLON","::",554],["T_STRING","clear",554],"(",")",";",["T_WHITESPACE","\n        ",554],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","useHttpServer",555],"(",["T_STRING","true",555],")",";",["T_WHITESPACE","\n\n        ",555],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","post",557],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tests_apps\/redirect_to'",557],")",";",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","assertResponseCode",558],"(",["T_LNUMBER","302",558],")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","assertHeader",559],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Middleware'",559],",",["T_WHITESPACE"," ",559],["T_CONSTANT_ENCAPSED_STRING","'true'",559],")",";",["T_WHITESPACE","\n    ",559],"}",["T_WHITESPACE","\n\n    ",560],["T_DOC_COMMENT","\/**\n     * Test redirecting and integration tests.\n     *\n     * @return void\n     *\/",562],["T_WHITESPACE","\n    ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","testRedirectPermanent",567],"(",")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","post",569],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tests_apps\/redirect_to_permanent'",569],")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","assertResponseSuccess",570],"(",")",";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","assertResponseCode",571],"(",["T_LNUMBER","301",571],")",";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Test the responseOk status assertion\n     *\n     * @return void\n     *\/",574],["T_WHITESPACE","\n    ",578],["T_PUBLIC","public",579],["T_WHITESPACE"," ",579],["T_FUNCTION","function",579],["T_WHITESPACE"," ",579],["T_STRING","testAssertResponseStatusCodes",579],"(",")",["T_WHITESPACE","\n    ",579],"{",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","_response",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_NEW","new",581],["T_WHITESPACE"," ",581],["T_STRING","Response",581],"(",")",";",["T_WHITESPACE","\n\n        ",581],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","_response",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","statusCode",583],"(",["T_LNUMBER","200",583],")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","assertResponseOk",584],"(",")",";",["T_WHITESPACE","\n\n        ",584],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","_response",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","statusCode",586],"(",["T_LNUMBER","201",586],")",";",["T_WHITESPACE","\n        ",586],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","assertResponseOk",587],"(",")",";",["T_WHITESPACE","\n\n        ",587],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_response",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","statusCode",589],"(",["T_LNUMBER","204",589],")",";",["T_WHITESPACE","\n        ",589],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","assertResponseOk",590],"(",")",";",["T_WHITESPACE","\n\n        ",590],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_response",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","statusCode",592],"(",["T_LNUMBER","202",592],")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","assertResponseSuccess",593],"(",")",";",["T_WHITESPACE","\n\n        ",593],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_response",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","statusCode",595],"(",["T_LNUMBER","302",595],")",";",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","assertResponseSuccess",596],"(",")",";",["T_WHITESPACE","\n\n        ",596],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_response",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","statusCode",598],"(",["T_LNUMBER","400",598],")",";",["T_WHITESPACE","\n        ",598],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","assertResponseError",599],"(",")",";",["T_WHITESPACE","\n\n        ",599],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","_response",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","statusCode",601],"(",["T_LNUMBER","417",601],")",";",["T_WHITESPACE","\n        ",601],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","assertResponseError",602],"(",")",";",["T_WHITESPACE","\n\n        ",602],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_response",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","statusCode",604],"(",["T_LNUMBER","500",604],")",";",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","assertResponseFailure",605],"(",")",";",["T_WHITESPACE","\n\n        ",605],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","_response",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","statusCode",607],"(",["T_LNUMBER","505",607],")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","assertResponseFailure",608],"(",")",";",["T_WHITESPACE","\n\n        ",608],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","_response",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","statusCode",610],"(",["T_LNUMBER","301",610],")",";",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","assertResponseCode",611],"(",["T_LNUMBER","301",611],")",";",["T_WHITESPACE","\n    ",611],"}",["T_WHITESPACE","\n\n    ",612],["T_DOC_COMMENT","\/**\n     * Test the location header assertion.\n     *\n     * @return void\n     *\/",614],["T_WHITESPACE","\n    ",618],["T_PUBLIC","public",619],["T_WHITESPACE"," ",619],["T_FUNCTION","function",619],["T_WHITESPACE"," ",619],["T_STRING","testAssertRedirect",619],"(",")",["T_WHITESPACE","\n    ",619],"{",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","_response",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_NEW","new",621],["T_WHITESPACE"," ",621],["T_STRING","Response",621],"(",")",";",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","_response",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","header",622],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",622],",",["T_WHITESPACE"," ",622],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/tasks\/index'",622],")",";",["T_WHITESPACE","\n\n        ",622],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","assertRedirect",624],"(",")",";",["T_WHITESPACE","\n        ",624],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","assertRedirect",625],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/index'",625],")",";",["T_WHITESPACE","\n        ",625],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","assertRedirect",626],"(","[",["T_CONSTANT_ENCAPSED_STRING","'controller'",626],["T_WHITESPACE"," ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'Tasks'",626],",",["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'action'",626],["T_WHITESPACE"," ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'index'",626],"]",")",";",["T_WHITESPACE","\n\n        ",626],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","assertResponseEmpty",628],"(",")",";",["T_WHITESPACE","\n    ",628],"}",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * Test the location header assertion.\n     *\n     * @return void\n     *\/",631],["T_WHITESPACE","\n    ",635],["T_PUBLIC","public",636],["T_WHITESPACE"," ",636],["T_FUNCTION","function",636],["T_WHITESPACE"," ",636],["T_STRING","testAssertNoRedirect",636],"(",")",["T_WHITESPACE","\n    ",636],"{",["T_WHITESPACE","\n        ",637],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","_response",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_NEW","new",638],["T_WHITESPACE"," ",638],["T_STRING","Response",638],"(",")",";",["T_WHITESPACE","\n\n        ",638],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","assertNoRedirect",640],"(",")",";",["T_WHITESPACE","\n    ",640],"}",["T_WHITESPACE","\n\n    ",641],["T_DOC_COMMENT","\/**\n     * Test the location header assertion.\n     *\n     * @return void\n     *\/",643],["T_WHITESPACE","\n    ",647],["T_PUBLIC","public",648],["T_WHITESPACE"," ",648],["T_FUNCTION","function",648],["T_WHITESPACE"," ",648],["T_STRING","testAssertNoRedirectFail",648],"(",")",["T_WHITESPACE","\n    ",648],"{",["T_WHITESPACE","\n        ",649],["T_VARIABLE","$test",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_NEW","new",650],["T_WHITESPACE"," ",650],["T_STRING","AssertIntegrationTestCase",650],"(",["T_CONSTANT_ENCAPSED_STRING","'testBadAssertNoRedirect'",650],")",";",["T_WHITESPACE","\n        ",650],["T_VARIABLE","$result",651],["T_WHITESPACE"," ",651],"=",["T_WHITESPACE"," ",651],["T_VARIABLE","$test",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","run",651],"(",")",";",["T_WHITESPACE","\n\n        ",651],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","assertFalse",653],"(",["T_VARIABLE","$result",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","wasSuccessful",653],"(",")",")",";",["T_WHITESPACE","\n        ",653],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","assertEquals",654],"(",["T_LNUMBER","1",654],",",["T_WHITESPACE"," ",654],["T_VARIABLE","$result",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","failureCount",654],"(",")",")",";",["T_WHITESPACE","\n    ",654],"}",["T_WHITESPACE","\n\n    ",655],["T_DOC_COMMENT","\/**\n     * Test the location header assertion string contains\n     *\n     * @return void\n     *\/",657],["T_WHITESPACE","\n    ",661],["T_PUBLIC","public",662],["T_WHITESPACE"," ",662],["T_FUNCTION","function",662],["T_WHITESPACE"," ",662],["T_STRING","testAssertRedirectContains",662],"(",")",["T_WHITESPACE","\n    ",662],"{",["T_WHITESPACE","\n        ",663],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","_response",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_NEW","new",664],["T_WHITESPACE"," ",664],["T_STRING","Response",664],"(",")",";",["T_WHITESPACE","\n        ",664],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","_response",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","header",665],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",665],",",["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/tasks\/index'",665],")",";",["T_WHITESPACE","\n\n        ",665],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","assertRedirectContains",667],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tasks\/index'",667],")",";",["T_WHITESPACE","\n    ",667],"}",["T_WHITESPACE","\n\n    ",668],["T_DOC_COMMENT","\/**\n     * Test the header assertion.\n     *\n     * @return void\n     *\/",670],["T_WHITESPACE","\n    ",674],["T_PUBLIC","public",675],["T_WHITESPACE"," ",675],["T_FUNCTION","function",675],["T_WHITESPACE"," ",675],["T_STRING","testAssertHeader",675],"(",")",["T_WHITESPACE","\n    ",675],"{",["T_WHITESPACE","\n        ",676],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","_response",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_NEW","new",677],["T_WHITESPACE"," ",677],["T_STRING","Response",677],"(",")",";",["T_WHITESPACE","\n        ",677],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","_response",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","header",678],"(",["T_CONSTANT_ENCAPSED_STRING","'Etag'",678],",",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'abc123'",678],")",";",["T_WHITESPACE","\n\n        ",678],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","assertHeader",680],"(",["T_CONSTANT_ENCAPSED_STRING","'Etag'",680],",",["T_WHITESPACE"," ",680],["T_CONSTANT_ENCAPSED_STRING","'abc123'",680],")",";",["T_WHITESPACE","\n    ",680],"}",["T_WHITESPACE","\n\n    ",681],["T_DOC_COMMENT","\/**\n     * Test the header contains assertion.\n     *\n     * @return void\n     *\/",683],["T_WHITESPACE","\n    ",687],["T_PUBLIC","public",688],["T_WHITESPACE"," ",688],["T_FUNCTION","function",688],["T_WHITESPACE"," ",688],["T_STRING","testAssertHeaderContains",688],"(",")",["T_WHITESPACE","\n    ",688],"{",["T_WHITESPACE","\n        ",689],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","_response",690],["T_WHITESPACE"," ",690],"=",["T_WHITESPACE"," ",690],["T_NEW","new",690],["T_WHITESPACE"," ",690],["T_STRING","Response",690],"(",")",";",["T_WHITESPACE","\n        ",690],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","_response",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","header",691],"(",["T_CONSTANT_ENCAPSED_STRING","'Etag'",691],",",["T_WHITESPACE"," ",691],["T_CONSTANT_ENCAPSED_STRING","'abc123'",691],")",";",["T_WHITESPACE","\n\n        ",691],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","assertHeaderContains",693],"(",["T_CONSTANT_ENCAPSED_STRING","'Etag'",693],",",["T_WHITESPACE"," ",693],["T_CONSTANT_ENCAPSED_STRING","'abc'",693],")",";",["T_WHITESPACE","\n    ",693],"}",["T_WHITESPACE","\n\n    ",694],["T_DOC_COMMENT","\/**\n     * Test the content type assertion.\n     *\n     * @return void\n     *\/",696],["T_WHITESPACE","\n    ",700],["T_PUBLIC","public",701],["T_WHITESPACE"," ",701],["T_FUNCTION","function",701],["T_WHITESPACE"," ",701],["T_STRING","testAssertContentType",701],"(",")",["T_WHITESPACE","\n    ",701],"{",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_response",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_NEW","new",703],["T_WHITESPACE"," ",703],["T_STRING","Response",703],"(",")",";",["T_WHITESPACE","\n        ",703],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","_response",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","type",704],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",704],")",";",["T_WHITESPACE","\n\n        ",704],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","assertContentType",706],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",706],")",";",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","assertContentType",707],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",707],")",";",["T_WHITESPACE","\n    ",707],"}",["T_WHITESPACE","\n\n    ",708],["T_DOC_COMMENT","\/**\n     * Test that type() in an action sets the content-type header.\n     *\n     * @return void\n     *\/",710],["T_WHITESPACE","\n    ",714],["T_PUBLIC","public",715],["T_WHITESPACE"," ",715],["T_FUNCTION","function",715],["T_WHITESPACE"," ",715],["T_STRING","testContentTypeInAction",715],"(",")",["T_WHITESPACE","\n    ",715],"{",["T_WHITESPACE","\n        ",716],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","get",717],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tests_apps\/set_type'",717],")",";",["T_WHITESPACE","\n        ",717],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","assertHeader",718],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",718],",",["T_WHITESPACE"," ",718],["T_CONSTANT_ENCAPSED_STRING","'application\/json; charset=UTF-8'",718],")",";",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","assertContentType",719],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",719],")",";",["T_WHITESPACE","\n        ",719],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","assertContentType",720],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",720],")",";",["T_WHITESPACE","\n    ",720],"}",["T_WHITESPACE","\n\n    ",721],["T_DOC_COMMENT","\/**\n     * Test the content assertion.\n     *\n     * @return void\n     *\/",723],["T_WHITESPACE","\n    ",727],["T_PUBLIC","public",728],["T_WHITESPACE"," ",728],["T_FUNCTION","function",728],["T_WHITESPACE"," ",728],["T_STRING","testAssertResponseContains",728],"(",")",["T_WHITESPACE","\n    ",728],"{",["T_WHITESPACE","\n        ",729],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","_response",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_NEW","new",730],["T_WHITESPACE"," ",730],["T_STRING","Response",730],"(",")",";",["T_WHITESPACE","\n        ",730],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","_response",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","body",731],"(",["T_CONSTANT_ENCAPSED_STRING","'Some content'",731],")",";",["T_WHITESPACE","\n\n        ",731],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","assertResponseContains",733],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",733],")",";",["T_WHITESPACE","\n    ",733],"}",["T_WHITESPACE","\n\n    ",734],["T_DOC_COMMENT","\/**\n     * Test the negated content assertion.\n     *\n     * @return void\n     *\/",736],["T_WHITESPACE","\n    ",740],["T_PUBLIC","public",741],["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],["T_STRING","testAssertResponseNotContains",741],"(",")",["T_WHITESPACE","\n    ",741],"{",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","_response",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_NEW","new",743],["T_WHITESPACE"," ",743],["T_STRING","Response",743],"(",")",";",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","_response",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","body",744],"(",["T_CONSTANT_ENCAPSED_STRING","'Some content'",744],")",";",["T_WHITESPACE","\n\n        ",744],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","assertResponseNotContains",746],"(",["T_CONSTANT_ENCAPSED_STRING","'contents'",746],")",";",["T_WHITESPACE","\n    ",746],"}",["T_WHITESPACE","\n\n    ",747],["T_DOC_COMMENT","\/**\n     * Test the content regexp assertion.\n     *\n     * @return void\n     *\/",749],["T_WHITESPACE","\n    ",753],["T_PUBLIC","public",754],["T_WHITESPACE"," ",754],["T_FUNCTION","function",754],["T_WHITESPACE"," ",754],["T_STRING","testAssertResponseRegExp",754],"(",")",["T_WHITESPACE","\n    ",754],"{",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","_response",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_NEW","new",756],["T_WHITESPACE"," ",756],["T_STRING","Response",756],"(",")",";",["T_WHITESPACE","\n        ",756],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","_response",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","body",757],"(",["T_CONSTANT_ENCAPSED_STRING","'Some content'",757],")",";",["T_WHITESPACE","\n\n        ",757],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","assertResponseRegExp",759],"(",["T_CONSTANT_ENCAPSED_STRING","'\/cont\/'",759],")",";",["T_WHITESPACE","\n    ",759],"}",["T_WHITESPACE","\n\n    ",760],["T_DOC_COMMENT","\/**\n     * Test the negated content regexp assertion.\n     *\n     * @return void\n     *\/",762],["T_WHITESPACE","\n    ",766],["T_PUBLIC","public",767],["T_WHITESPACE"," ",767],["T_FUNCTION","function",767],["T_WHITESPACE"," ",767],["T_STRING","testAssertResponseNotRegExp",767],"(",")",["T_WHITESPACE","\n    ",767],"{",["T_WHITESPACE","\n        ",768],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","_response",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_NEW","new",769],["T_WHITESPACE"," ",769],["T_STRING","Response",769],"(",")",";",["T_WHITESPACE","\n        ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","_response",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","body",770],"(",["T_CONSTANT_ENCAPSED_STRING","'Some content'",770],")",";",["T_WHITESPACE","\n\n        ",770],["T_VARIABLE","$this",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","assertResponseNotRegExp",772],"(",["T_CONSTANT_ENCAPSED_STRING","'\/cant\/'",772],")",";",["T_WHITESPACE","\n    ",772],"}",["T_WHITESPACE","\n\n    ",773],["T_DOC_COMMENT","\/**\n     * Test that works in tandem with testEventManagerReset2 to\n     * test the EventManager reset.\n     *\n     * The return value is passed to testEventManagerReset2 as\n     * an arguments.\n     *\n     * @return \\Cake\\Event\\EventManager\n     *\/",775],["T_WHITESPACE","\n    ",783],["T_PUBLIC","public",784],["T_WHITESPACE"," ",784],["T_FUNCTION","function",784],["T_WHITESPACE"," ",784],["T_STRING","testEventManagerReset1",784],"(",")",["T_WHITESPACE","\n    ",784],"{",["T_WHITESPACE","\n        ",785],["T_RETURN","return",786],["T_WHITESPACE"," ",786],["T_STRING","EventManager",786],["T_DOUBLE_COLON","::",786],["T_STRING","instance",786],"(",")",";",["T_WHITESPACE","\n    ",786],"}",["T_WHITESPACE","\n\n    ",787],["T_DOC_COMMENT","\/**\n     * Test if the EventManager is reset between tests.\n     *\n     * @depends testEventManagerReset1\n     * @return void\n     *\/",789],["T_WHITESPACE","\n    ",794],["T_PUBLIC","public",795],["T_WHITESPACE"," ",795],["T_FUNCTION","function",795],["T_WHITESPACE"," ",795],["T_STRING","testEventManagerReset2",795],"(",["T_VARIABLE","$prevEventManager",795],")",["T_WHITESPACE","\n    ",795],"{",["T_WHITESPACE","\n        ",796],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","assertNotSame",797],"(",["T_VARIABLE","$prevEventManager",797],",",["T_WHITESPACE"," ",797],["T_STRING","EventManager",797],["T_DOUBLE_COLON","::",797],["T_STRING","instance",797],"(",")",")",";",["T_WHITESPACE","\n    ",797],"}",["T_WHITESPACE","\n\n    ",798],["T_DOC_COMMENT","\/**\n     * Test sending file in requests.\n     *\n     * @return void\n     *\/",800],["T_WHITESPACE","\n    ",804],["T_PUBLIC","public",805],["T_WHITESPACE"," ",805],["T_FUNCTION","function",805],["T_WHITESPACE"," ",805],["T_STRING","testSendFile",805],"(",")",["T_WHITESPACE","\n    ",805],"{",["T_WHITESPACE","\n        ",806],["T_VARIABLE","$this",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","get",807],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/file'",807],")",";",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","assertFileResponse",808],"(",["T_STRING","TEST_APP",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_STRING","DS",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","'Controller'",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_STRING","DS",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","'PostsController.php'",808],")",";",["T_WHITESPACE","\n    ",808],"}",["T_WHITESPACE","\n\n    ",809],["T_DOC_COMMENT","\/**\n     * Test sending file with psr7 stack\n     *\n     * @return void\n     *\/",811],["T_WHITESPACE","\n    ",815],["T_PUBLIC","public",816],["T_WHITESPACE"," ",816],["T_FUNCTION","function",816],["T_WHITESPACE"," ",816],["T_STRING","testSendFileHttpServer",816],"(",")",["T_WHITESPACE","\n    ",816],"{",["T_WHITESPACE","\n        ",817],["T_STRING","DispatcherFactory",818],["T_DOUBLE_COLON","::",818],["T_STRING","clear",818],"(",")",";",["T_WHITESPACE","\n        ",818],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","useHttpServer",819],"(",["T_STRING","true",819],")",";",["T_WHITESPACE","\n\n        ",819],["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","get",821],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/file'",821],")",";",["T_WHITESPACE","\n        ",821],["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","assertFileResponse",822],"(",["T_STRING","TEST_APP",822],["T_WHITESPACE"," ",822],".",["T_WHITESPACE"," ",822],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",822],["T_WHITESPACE"," ",822],".",["T_WHITESPACE"," ",822],["T_STRING","DS",822],["T_WHITESPACE"," ",822],".",["T_WHITESPACE"," ",822],["T_CONSTANT_ENCAPSED_STRING","'Controller'",822],["T_WHITESPACE"," ",822],".",["T_WHITESPACE"," ",822],["T_STRING","DS",822],["T_WHITESPACE"," ",822],".",["T_WHITESPACE"," ",822],["T_CONSTANT_ENCAPSED_STRING","'PostsController.php'",822],")",";",["T_WHITESPACE","\n    ",822],"}",["T_WHITESPACE","\n\n    ",823],["T_DOC_COMMENT","\/**\n     * Test that assertFile requires a response\n     *\n     * @expectedException \\PHPUnit_Framework_AssertionFailedError\n     * @expectedExceptionMessage No response set, cannot assert file\n     * @return void\n     *\/",825],["T_WHITESPACE","\n    ",831],["T_PUBLIC","public",832],["T_WHITESPACE"," ",832],["T_FUNCTION","function",832],["T_WHITESPACE"," ",832],["T_STRING","testAssertFileNoResponse",832],"(",")",["T_WHITESPACE","\n    ",832],"{",["T_WHITESPACE","\n        ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","assertFileResponse",834],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",834],")",";",["T_WHITESPACE","\n    ",834],"}",["T_WHITESPACE","\n\n    ",835],["T_DOC_COMMENT","\/**\n     * Test that assertFile requires a file\n     *\n     * @expectedException \\PHPUnit_Framework_AssertionFailedError\n     * @expectedExceptionMessage No file was sent in this response\n     * @return void\n     *\/",837],["T_WHITESPACE","\n    ",843],["T_PUBLIC","public",844],["T_WHITESPACE"," ",844],["T_FUNCTION","function",844],["T_WHITESPACE"," ",844],["T_STRING","testAssertFileNoFile",844],"(",")",["T_WHITESPACE","\n    ",844],"{",["T_WHITESPACE","\n        ",845],["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","get",846],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts\/get'",846],")",";",["T_WHITESPACE","\n        ",846],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","assertFileResponse",847],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",847],")",";",["T_WHITESPACE","\n    ",847],"}",["T_WHITESPACE","\n",848],"}",["T_WHITESPACE","\n",849]]