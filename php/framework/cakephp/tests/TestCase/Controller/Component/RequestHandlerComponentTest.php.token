[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         1.2.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Controller",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ComponentRegistry",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Controller",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","RequestHandlerComponent",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Configure",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Event",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Event",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Network",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Request",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Routing",22],["T_NS_SEPARATOR","\\",22],["T_STRING","DispatcherFactory",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Routing",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Router",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TestSuite",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TestCase",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","TestApp",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Controller",25],["T_NS_SEPARATOR","\\",25],["T_STRING","RequestHandlerTestController",25],";",["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * RequestHandlerComponentTest class\n *\/",27],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","RequestHandlerComponentTest",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_STRING","TestCase",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Controller property\n     *\n     * @var RequestHandlerTestController\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$Controller",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * RequestHandler property\n     *\n     * @var RequestHandlerComponent\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$RequestHandler",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * setUp method\n     *\n     * @return void\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","setUp",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","setUp",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_STRING","Configure",55],["T_DOUBLE_COLON","::",55],["T_STRING","write",55],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",55],")",";",["T_WHITESPACE","\n        ",55],["T_STRING","DispatcherFactory",56],["T_DOUBLE_COLON","::",56],["T_STRING","add",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Routing'",56],")",";",["T_WHITESPACE","\n        ",56],["T_STRING","DispatcherFactory",57],["T_DOUBLE_COLON","::",57],["T_STRING","add",57],"(",["T_CONSTANT_ENCAPSED_STRING","'ControllerFactory'",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_init",58],"(",")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * init method\n     *\n     * @return void\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","_init",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$request",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","Request",68],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_posts\/index'",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$response",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMockBuilder",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","setMethods",70],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'stop'",70],"]",")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","Controller",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","RequestHandlerTestController",72],"(",["T_VARIABLE","$request",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$response",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","RequestHandler",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","Controller",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","components",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","load",73],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestHandler'",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","request",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$request",74],";",["T_WHITESPACE","\n\n        ",74],["T_STRING","Router",76],["T_DOUBLE_COLON","::",76],["T_STRING","scope",76],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",76],",",["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$routes",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$routes",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","extensions",77],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",77],")",";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$routes",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fallbacks",78],"(",["T_CONSTANT_ENCAPSED_STRING","'InflectedRoute'",78],")",";",["T_WHITESPACE","\n        ",78],"}",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * tearDown method\n     *\n     * @return void\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","tearDown",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_STRING","parent",89],["T_DOUBLE_COLON","::",89],["T_STRING","tearDown",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_STRING","DispatcherFactory",90],["T_DOUBLE_COLON","::",90],["T_STRING","clear",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_STRING","Router",91],["T_DOUBLE_COLON","::",91],["T_STRING","reload",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_STRING","Router",92],["T_DOUBLE_COLON","::",92],["T_VARIABLE","$initialized",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","false",92],";",["T_WHITESPACE","\n        ",92],["T_UNSET","unset",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","RequestHandler",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","Controller",93],")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Test that the constructor sets the config.\n     *\n     * @return void\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","testConstructorConfig",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$config",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'viewClassMap'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'json'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'MyPlugin.MyJson'",104],"]",["T_WHITESPACE","\n        ",104],"]",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$controller",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMockBuilder",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Controller'",106],")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","setMethods",107],"(","[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",107],"]",")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","getMock",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$collection",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","ComponentRegistry",109],"(",["T_VARIABLE","$controller",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$requestHandler",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","RequestHandlerComponent",110],"(",["T_VARIABLE","$collection",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$config",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEquals",111],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'MyPlugin.MyJson'",111],"]",",",["T_WHITESPACE"," ",111],["T_VARIABLE","$requestHandler",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","config",111],"(",["T_CONSTANT_ENCAPSED_STRING","'viewClassMap'",111],")",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * testInitializeCallback method\n     *\n     * @return void\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testInitializeCallback",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertNull",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","RequestHandler",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","ext",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","Controller",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","request",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","params",122],"[",["T_CONSTANT_ENCAPSED_STRING","'_ext'",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'rss'",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","RequestHandler",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","startup",123],"(",["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","Event",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","Controller",123],")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertEquals",124],"(",["T_CONSTANT_ENCAPSED_STRING","'rss'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","RequestHandler",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","ext",124],")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * test that a mapped Accept-type header will set $this->ext correctly.\n     *\n     * @return void\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testInitializeContentTypeSettingExt",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_STRING","Router",134],["T_DOUBLE_COLON","::",134],["T_STRING","reload",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_STRING","Router",135],["T_DOUBLE_COLON","::",135],["T_VARIABLE","$initialized",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","true",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","request",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","env",136],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","RequestHandler",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","ext",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","null",138],";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","RequestHandler",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","startup",139],"(",["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","Event",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","Controller",139],")",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEquals",140],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","RequestHandler",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","ext",140],")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Test that RequestHandler sets $this->ext when jQuery sends its wonky-ish headers.\n     *\n     * @return void\n     *\/",143],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testInitializeContentTypeWithjQueryAccept",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_STRING","Router",150],["T_DOUBLE_COLON","::",150],["T_STRING","reload",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_STRING","Router",151],["T_DOUBLE_COLON","::",151],["T_VARIABLE","$initialized",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","true",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","request",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","env",152],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'application\/json, application\/javascript, *\/*; q=0.01'",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","request",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","env",153],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","RequestHandler",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","ext",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","null",154],";",["T_WHITESPACE","\n        ",154],["T_STRING","Router",155],["T_DOUBLE_COLON","::",155],["T_STRING","extensions",155],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",155],",",["T_WHITESPACE"," ",155],["T_STRING","false",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","RequestHandler",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","startup",157],"(",["T_NEW","new",157],["T_WHITESPACE"," ",157],["T_STRING","Event",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","Controller",157],")",")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEquals",158],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","RequestHandler",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","ext",158],")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Test that RequestHandler does not set extension to csv for text\/plain mimetype\n     *\n     * @return void\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","testInitializeContentTypeWithjQueryTextPlainAccept",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_STRING","Router",168],["T_DOUBLE_COLON","::",168],["T_STRING","reload",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_STRING","Router",169],["T_DOUBLE_COLON","::",169],["T_VARIABLE","$initialized",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","true",169],";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","request",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","env",170],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'text\/plain, *\/*; q=0.01'",170],")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","RequestHandler",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","startup",172],"(",["T_NEW","new",172],["T_WHITESPACE"," ",172],["T_STRING","Event",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","Controller",172],")",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertNull",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","RequestHandler",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","ext",173],")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Test that RequestHandler sets $this->ext when jQuery sends its wonky-ish headers\n     * and the application is configured to handle multiple extensions\n     *\n     * @return void\n     *\/",176],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","testInitializeContentTypeWithjQueryAcceptAndMultiplesExtensions",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_STRING","Router",184],["T_DOUBLE_COLON","::",184],["T_STRING","reload",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_STRING","Router",185],["T_DOUBLE_COLON","::",185],["T_VARIABLE","$initialized",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","true",185],";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","request",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","env",186],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'application\/json, application\/javascript, *\/*; q=0.01'",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","RequestHandler",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","ext",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","null",187],";",["T_WHITESPACE","\n        ",187],["T_STRING","Router",188],["T_DOUBLE_COLON","::",188],["T_STRING","extensions",188],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rss'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'json'",188],"]",",",["T_WHITESPACE"," ",188],["T_STRING","false",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","RequestHandler",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","startup",190],"(",["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","Event",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","Controller",190],")",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEquals",191],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","RequestHandler",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","ext",191],")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Test that RequestHandler does not set $this->ext when multiple accepts are sent.\n     *\n     * @return void\n     *\/",194],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","testInitializeNoContentTypeWithSingleAccept",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_STRING","Router",201],["T_DOUBLE_COLON","::",201],["T_STRING","reload",201],"(",")",";",["T_WHITESPACE","\n        ",201],["T_STRING","Router",202],["T_DOUBLE_COLON","::",202],["T_VARIABLE","$initialized",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","true",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$_SERVER",203],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'application\/json, text\/html, *\/*; q=0.01'",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertNull",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","RequestHandler",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","ext",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","RequestHandler",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","startup",206],"(",["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_STRING","Event",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","Controller",206],")",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertNull",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","RequestHandler",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","ext",207],")",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Test that ext is set to the first listed extension with multiple accepted\n     * content types.\n     * Having multiple types accepted with same weight, means the client lets the\n     * server choose the returned content type.\n     *\n     * @return void\n     *\/",210],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","testInitializeNoContentTypeWithMultipleAcceptedTypes",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","request",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","env",220],"(",["T_WHITESPACE","\n            ",220],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",221],",",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'application\/json, application\/javascript, application\/xml, *\/*; q=0.01'",222],["T_WHITESPACE","\n        ",222],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","RequestHandler",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","ext",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","null",224],";",["T_WHITESPACE","\n        ",224],["T_STRING","Router",225],["T_DOUBLE_COLON","::",225],["T_STRING","extensions",225],"(","[",["T_CONSTANT_ENCAPSED_STRING","'xml'",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'json'",225],"]",",",["T_WHITESPACE"," ",225],["T_STRING","false",225],")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","RequestHandler",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","startup",227],"(",["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_STRING","Event",227],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","Controller",227],")",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertEquals",228],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","RequestHandler",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","ext",228],")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","RequestHandler",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","ext",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","null",230],";",["T_WHITESPACE","\n        ",230],["T_STRING","Router",231],["T_DOUBLE_COLON","::",231],["T_STRING","extensions",231],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'xml'",231],"]",",",["T_WHITESPACE"," ",231],["T_STRING","false",231],")",";",["T_WHITESPACE","\n\n        ",231],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","RequestHandler",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","startup",233],"(",["T_NEW","new",233],["T_WHITESPACE"," ",233],["T_STRING","Event",233],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","Controller",233],")",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEquals",234],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","RequestHandler",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","ext",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Test that ext is set to type with highest weight\n     *\n     * @return void\n     *\/",237],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","testInitializeContentTypeWithMultipleAcceptedTypes",242],"(",")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_STRING","Router",244],["T_DOUBLE_COLON","::",244],["T_STRING","reload",244],"(",")",";",["T_WHITESPACE","\n        ",244],["T_STRING","Router",245],["T_DOUBLE_COLON","::",245],["T_VARIABLE","$initialized",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","true",245],";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","request",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","env",246],"(",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",247],",",["T_WHITESPACE","\n            ",247],["T_CONSTANT_ENCAPSED_STRING","'text\/csv;q=1.0, application\/json;q=0.8, application\/xml;q=0.7'",248],["T_WHITESPACE","\n        ",248],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","RequestHandler",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","ext",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","null",250],";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","RequestHandler",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","startup",252],"(",["T_NEW","new",252],["T_WHITESPACE"," ",252],["T_STRING","Event",252],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","Controller",252],")",")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEquals",253],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","RequestHandler",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","ext",253],")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Test that ext is not set with confusing android accepts headers.\n     *\n     * @return void\n     *\/",256],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","testInitializeAmbiguousAndroidAccepts",261],"(",")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_STRING","Router",263],["T_DOUBLE_COLON","::",263],["T_STRING","reload",263],"(",")",";",["T_WHITESPACE","\n        ",263],["T_STRING","Router",264],["T_DOUBLE_COLON","::",264],["T_VARIABLE","$initialized",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","true",264],";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","request",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","env",265],"(",["T_WHITESPACE","\n            ",265],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",266],",",["T_WHITESPACE","\n            ",266],["T_CONSTANT_ENCAPSED_STRING","'application\/xml,application\/xhtml+xml,text\/html;q=0.9,text\/plain;q=0.8,image\/png,*\/*;q=0.5'",267],["T_WHITESPACE","\n        ",267],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","RequestHandler",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","ext",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","null",269],";",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","RequestHandler",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","startup",271],"(",["T_NEW","new",271],["T_WHITESPACE"," ",271],["T_STRING","Event",271],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","Controller",271],")",")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","assertNull",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","RequestHandler",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","ext",272],")",";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Test that the headers sent by firefox are not treated as XML requests.\n     *\n     * @return void\n     *\/",275],["T_WHITESPACE","\n    ",279],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","testInititalizeFirefoxHeaderNotXml",280],"(",")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$_SERVER",282],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",282],"]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'text\/html,application\/xhtml+xml,application\/xml;image\/png,image\/jpeg,image\/*;q=0.9,*\/*;q=0.8'",282],";",["T_WHITESPACE","\n        ",282],["T_STRING","Router",283],["T_DOUBLE_COLON","::",283],["T_STRING","extensions",283],"(","[",["T_CONSTANT_ENCAPSED_STRING","'xml'",283],",",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'json'",283],"]",",",["T_WHITESPACE"," ",283],["T_STRING","false",283],")",";",["T_WHITESPACE","\n\n        ",283],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","RequestHandler",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","startup",285],"(",["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","Event",285],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","Controller",285],")",")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertNull",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","RequestHandler",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","ext",286],")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Test that a type mismatch doesn't incorrectly set the ext\n     *\n     * @return void\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","testInitializeContentTypeAndExtensionMismatch",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","assertNull",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","RequestHandler",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","ext",296],")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$extensions",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","Router",297],["T_DOUBLE_COLON","::",297],["T_STRING","extensions",297],"(",")",";",["T_WHITESPACE","\n        ",297],["T_STRING","Router",298],["T_DOUBLE_COLON","::",298],["T_STRING","extensions",298],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",298],",",["T_WHITESPACE"," ",298],["T_STRING","false",298],")",";",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","Controller",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","request",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getMockBuilder",300],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",300],")",["T_WHITESPACE","\n            ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","setMethods",301],"(","[",["T_CONSTANT_ENCAPSED_STRING","'accepts'",301],"]",")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","getMock",302],"(",")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","Controller",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","request",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","expects",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","any",303],"(",")",")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","method",304],"(",["T_CONSTANT_ENCAPSED_STRING","'accepts'",304],")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","will",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","returnValue",305],"(","[",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",305],"]",")",")",";",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","RequestHandler",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","startup",307],"(",["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_STRING","Event",307],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","Controller",307],")",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertNull",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","RequestHandler",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","ext",308],")",";",["T_WHITESPACE","\n\n        ",308],["T_STRING","call_user_func_array",310],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\Router'",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'extensions'",310],"]",",",["T_WHITESPACE"," ",310],"[",["T_VARIABLE","$extensions",310],",",["T_WHITESPACE"," ",310],["T_STRING","false",310],"]",")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * testViewClassMap method\n     *\n     * @return void\n     *\/",313],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","testViewClassMap",318],"(",")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$restore",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","error_reporting",320],"(",["T_STRING","E_ALL",320],["T_WHITESPACE"," ",320],"&",["T_WHITESPACE"," ",320],"~",["T_STRING","E_USER_DEPRECATED",320],")",";",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","RequestHandler",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","config",322],"(","[",["T_CONSTANT_ENCAPSED_STRING","'viewClassMap'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],"[",["T_CONSTANT_ENCAPSED_STRING","'json'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'CustomJson'",322],"]","]",")",";",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","RequestHandler",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","initialize",323],"(","[","]",")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$result",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","RequestHandler",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","viewClassMap",324],"(",")",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$expected",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],"[",["T_WHITESPACE","\n            ",325],["T_CONSTANT_ENCAPSED_STRING","'json'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'CustomJson'",326],",",["T_WHITESPACE","\n            ",326],["T_CONSTANT_ENCAPSED_STRING","'xml'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'Xml'",327],",",["T_WHITESPACE","\n            ",327],["T_CONSTANT_ENCAPSED_STRING","'ajax'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'Ajax'",328],["T_WHITESPACE","\n        ",328],"]",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","assertEquals",330],"(",["T_VARIABLE","$expected",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$result",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$result",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","RequestHandler",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","viewClassMap",332],"(",["T_CONSTANT_ENCAPSED_STRING","'xls'",332],",",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'Excel.Excel'",332],")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$expected",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],"[",["T_WHITESPACE","\n            ",333],["T_CONSTANT_ENCAPSED_STRING","'json'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'CustomJson'",334],",",["T_WHITESPACE","\n            ",334],["T_CONSTANT_ENCAPSED_STRING","'xml'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'Xml'",335],",",["T_WHITESPACE","\n            ",335],["T_CONSTANT_ENCAPSED_STRING","'ajax'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'Ajax'",336],",",["T_WHITESPACE","\n            ",336],["T_CONSTANT_ENCAPSED_STRING","'xls'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'Excel.Excel'",337],["T_WHITESPACE","\n        ",337],"]",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","assertEquals",339],"(",["T_VARIABLE","$expected",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$result",339],")",";",["T_WHITESPACE","\n\n        ",339],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","RequestHandler",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","renderAs",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","Controller",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'json'",341],")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","assertEquals",342],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\View\\CustomJsonView'",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","Controller",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","viewClass",342],")",";",["T_WHITESPACE","\n        ",342],["T_STRING","error_reporting",343],"(",["T_VARIABLE","$restore",343],")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Verify that isAjax is set on the request params for ajax requests\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",346],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","testIsAjaxParams",352],"(",")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","request",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","env",354],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",354],")",";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$event",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_NEW","new",355],["T_WHITESPACE"," ",355],["T_STRING","Event",355],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","Controller",355],")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","RequestHandler",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","initialize",356],"(","[","]",")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","Controller",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","beforeFilter",357],"(",["T_VARIABLE","$event",357],")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","RequestHandler",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","startup",358],"(",["T_VARIABLE","$event",358],")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","assertTrue",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","Controller",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","request",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","params",359],"[",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",359],"]",")",";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * testAutoAjaxLayout method\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",362],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","testAutoAjaxLayout",368],"(",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$event",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_NEW","new",370],["T_WHITESPACE"," ",370],["T_STRING","Event",370],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","Controller",370],")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","request",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","env",371],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",371],")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","RequestHandler",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","initialize",372],"(","[","]",")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","RequestHandler",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","startup",373],"(",["T_VARIABLE","$event",373],")",";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$event",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_NEW","new",374],["T_WHITESPACE"," ",374],["T_STRING","Event",374],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","Controller",374],")",";",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","RequestHandler",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","beforeRender",375],"(",["T_VARIABLE","$event",375],")",";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assertEquals",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","Controller",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","viewClass",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'Cake\\View\\AjaxView'",376],")",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$view",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","Controller",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","createView",377],"(",")",";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","assertEquals",378],"(",["T_CONSTANT_ENCAPSED_STRING","'ajax'",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$view",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","layout",378],")",";",["T_WHITESPACE","\n\n        ",378],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_init",380],"(",")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","Controller",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","request",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","params",381],"[",["T_CONSTANT_ENCAPSED_STRING","'_ext'",381],"]",["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'js'",381],";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","RequestHandler",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","initialize",382],"(","[","]",")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","RequestHandler",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","startup",383],"(",["T_VARIABLE","$event",383],")",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","assertNotEquals",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","Controller",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","viewClass",384],",",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'Cake\\View\\AjaxView'",384],")",";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * test custom JsonView class is loaded and correct.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",387],["T_WHITESPACE","\n    ",392],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","testJsonViewLoaded",393],"(",")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_STRING","Router",395],["T_DOUBLE_COLON","::",395],["T_STRING","extensions",395],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",395],",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'xml'",395],",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'ajax'",395],"]",",",["T_WHITESPACE"," ",395],["T_STRING","false",395],")",";",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","Controller",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","request",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","params",396],"[",["T_CONSTANT_ENCAPSED_STRING","'_ext'",396],"]",["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'json'",396],";",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$event",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_NEW","new",397],["T_WHITESPACE"," ",397],["T_STRING","Event",397],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","Controller",397],")",";",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","RequestHandler",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","initialize",398],"(","[","]",")",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","RequestHandler",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","startup",399],"(",["T_VARIABLE","$event",399],")",";",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$event",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_NEW","new",400],["T_WHITESPACE"," ",400],["T_STRING","Event",400],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","Controller",400],")",";",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","RequestHandler",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","beforeRender",401],"(",["T_VARIABLE","$event",401],")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","assertEquals",402],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\View\\JsonView'",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","Controller",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","viewClass",402],")",";",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$view",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","Controller",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","createView",403],"(",")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","assertEquals",404],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$view",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","layoutPath",404],")",";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","assertEquals",405],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$view",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","subDir",405],")",";",["T_WHITESPACE","\n    ",405],"}",["T_WHITESPACE","\n\n    ",406],["T_DOC_COMMENT","\/**\n     * test custom XmlView class is loaded and correct.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",408],["T_WHITESPACE","\n    ",413],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","testXmlViewLoaded",414],"(",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_STRING","Router",416],["T_DOUBLE_COLON","::",416],["T_STRING","extensions",416],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",416],",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'xml'",416],",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'ajax'",416],"]",",",["T_WHITESPACE"," ",416],["T_STRING","false",416],")",";",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","Controller",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","request",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","params",417],"[",["T_CONSTANT_ENCAPSED_STRING","'_ext'",417],"]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'xml'",417],";",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$event",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_NEW","new",418],["T_WHITESPACE"," ",418],["T_STRING","Event",418],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","Controller",418],")",";",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","RequestHandler",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","initialize",419],"(","[","]",")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","RequestHandler",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","startup",420],"(",["T_VARIABLE","$event",420],")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$event",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_NEW","new",421],["T_WHITESPACE"," ",421],["T_STRING","Event",421],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","Controller",421],")",";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","RequestHandler",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","beforeRender",422],"(",["T_VARIABLE","$event",422],")",";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","assertEquals",423],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\View\\XmlView'",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","Controller",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","viewClass",423],")",";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$view",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","Controller",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","createView",424],"(",")",";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","assertEquals",425],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$view",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","layoutPath",425],")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","assertEquals",426],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$view",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","subDir",426],")",";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_DOC_COMMENT","\/**\n     * test custom AjaxView class is loaded and correct.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",429],["T_WHITESPACE","\n    ",434],["T_PUBLIC","public",435],["T_WHITESPACE"," ",435],["T_FUNCTION","function",435],["T_WHITESPACE"," ",435],["T_STRING","testAjaxViewLoaded",435],"(",")",["T_WHITESPACE","\n    ",435],"{",["T_WHITESPACE","\n        ",436],["T_STRING","Router",437],["T_DOUBLE_COLON","::",437],["T_STRING","extensions",437],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",437],",",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'xml'",437],",",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'ajax'",437],"]",",",["T_WHITESPACE"," ",437],["T_STRING","false",437],")",";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","Controller",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","request",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","params",438],"[",["T_CONSTANT_ENCAPSED_STRING","'_ext'",438],"]",["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'ajax'",438],";",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$event",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_NEW","new",439],["T_WHITESPACE"," ",439],["T_STRING","Event",439],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","Controller",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","RequestHandler",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","initialize",440],"(","[","]",")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","RequestHandler",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","startup",441],"(",["T_VARIABLE","$event",441],")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$event",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_NEW","new",442],["T_WHITESPACE"," ",442],["T_STRING","Event",442],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","Controller",442],")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","RequestHandler",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","beforeRender",443],"(",["T_VARIABLE","$event",443],")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","assertEquals",444],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\View\\AjaxView'",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","Controller",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","viewClass",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$view",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","Controller",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","createView",445],"(",")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","assertEquals",446],"(",["T_CONSTANT_ENCAPSED_STRING","'ajax'",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$view",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","layout",446],")",";",["T_WHITESPACE","\n    ",446],"}",["T_WHITESPACE","\n\n    ",447],["T_DOC_COMMENT","\/**\n     * test configured extension but no view class set.\n     *\n     * @return void\n     * @triggers Controller.beforeRender $this->Controller\n     *\/",449],["T_WHITESPACE","\n    ",454],["T_PUBLIC","public",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","testNoViewClassExtension",455],"(",")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_STRING","Router",457],["T_DOUBLE_COLON","::",457],["T_STRING","extensions",457],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",457],",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'xml'",457],",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'ajax'",457],",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'csv'",457],"]",",",["T_WHITESPACE"," ",457],["T_STRING","false",457],")",";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","Controller",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","request",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","params",458],"[",["T_CONSTANT_ENCAPSED_STRING","'_ext'",458],"]",["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'csv'",458],";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$event",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_NEW","new",459],["T_WHITESPACE"," ",459],["T_STRING","Event",459],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","Controller",459],")",";",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","RequestHandler",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","initialize",460],"(","[","]",")",";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","RequestHandler",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","startup",461],"(",["T_VARIABLE","$event",461],")",";",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","Controller",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","eventManager",462],"(",")",["T_OBJECT_OPERATOR","->",462],["T_STRING","on",462],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",462],",",["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],"(",")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","Controller",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","response",463],";",["T_WHITESPACE","\n        ",463],"}",")",";",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","Controller",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","render",465],"(",")",";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","assertEquals",466],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestHandlerTest'",466],["T_WHITESPACE"," ",466],".",["T_WHITESPACE"," ",466],["T_STRING","DS",466],["T_WHITESPACE"," ",466],".",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'csv'",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","Controller",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","viewBuilder",466],"(",")",["T_OBJECT_OPERATOR","->",466],["T_STRING","templatePath",466],"(",")",")",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","assertEquals",467],"(",["T_CONSTANT_ENCAPSED_STRING","'csv'",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","Controller",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","viewBuilder",467],"(",")",["T_OBJECT_OPERATOR","->",467],["T_STRING","layoutPath",467],"(",")",")",";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * testStartupCallback method\n     *\n     * @return void\n     * @triggers Controller.beforeRender $this->Controller\n     *\/",470],["T_WHITESPACE","\n    ",475],["T_PUBLIC","public",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","testStartupCallback",476],"(",")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$event",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_NEW","new",478],["T_WHITESPACE"," ",478],["T_STRING","Event",478],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","Controller",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$_SERVER",479],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",479],"]",["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'PUT'",479],";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$_SERVER",480],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",480],"]",["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",480],";",["T_WHITESPACE","\n        ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","Controller",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","request",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getMockBuilder",481],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",481],")",["T_WHITESPACE","\n            ",481],["T_OBJECT_OPERATOR","->",482],["T_STRING","setMethods",482],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",482],"]",")",["T_WHITESPACE","\n            ",482],["T_OBJECT_OPERATOR","->",483],["T_STRING","getMock",483],"(",")",";",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","RequestHandler",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","beforeRender",484],"(",["T_VARIABLE","$event",484],")",";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","assertTrue",485],"(",["T_STRING","is_array",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","Controller",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","request",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","data",485],")",")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","assertFalse",486],"(",["T_STRING","is_object",486],"(",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","Controller",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","request",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","data",486],")",")",";",["T_WHITESPACE","\n    ",486],"}",["T_WHITESPACE","\n\n    ",487],["T_DOC_COMMENT","\/**\n     * testStartupCallback with charset.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",489],["T_WHITESPACE","\n    ",494],["T_PUBLIC","public",495],["T_WHITESPACE"," ",495],["T_FUNCTION","function",495],["T_WHITESPACE"," ",495],["T_STRING","testStartupCallbackCharset",495],"(",")",["T_WHITESPACE","\n    ",495],"{",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$event",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_NEW","new",497],["T_WHITESPACE"," ",497],["T_STRING","Event",497],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","Controller",497],")",";",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$_SERVER",498],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",498],"]",["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'PUT'",498],";",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$_SERVER",499],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",499],"]",["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","'application\/xml; charset=UTF-8'",499],";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","Controller",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","request",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getMockBuilder",500],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",500],")",["T_WHITESPACE","\n            ",500],["T_OBJECT_OPERATOR","->",501],["T_STRING","setMethods",501],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",501],"]",")",["T_WHITESPACE","\n            ",501],["T_OBJECT_OPERATOR","->",502],["T_STRING","getMock",502],"(",")",";",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","RequestHandler",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","startup",503],"(",["T_VARIABLE","$event",503],")",";",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","assertTrue",504],"(",["T_STRING","is_array",504],"(",["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","Controller",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","request",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","data",504],")",")",";",["T_WHITESPACE","\n        ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","assertFalse",505],"(",["T_STRING","is_object",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","Controller",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","request",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","data",505],")",")",";",["T_WHITESPACE","\n    ",505],"}",["T_WHITESPACE","\n\n    ",506],["T_DOC_COMMENT","\/**\n     * Test that processing data results in an array.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",508],["T_WHITESPACE","\n    ",513],["T_PUBLIC","public",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","testStartupProcessData",514],"(",")",["T_WHITESPACE","\n    ",514],"{",["T_WHITESPACE","\n        ",515],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","Controller",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","request",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getMockBuilder",516],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",516],")",["T_WHITESPACE","\n            ",516],["T_OBJECT_OPERATOR","->",517],["T_STRING","setMethods",517],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",517],"]",")",["T_WHITESPACE","\n            ",517],["T_OBJECT_OPERATOR","->",518],["T_STRING","getMock",518],"(",")",";",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","Controller",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","request",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","expects",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","at",519],"(",["T_LNUMBER","0",519],")",")",["T_WHITESPACE","\n            ",519],["T_OBJECT_OPERATOR","->",520],["T_STRING","method",520],"(",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",520],")",["T_WHITESPACE","\n            ",520],["T_OBJECT_OPERATOR","->",521],["T_STRING","will",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","returnValue",521],"(",["T_CONSTANT_ENCAPSED_STRING","''",521],")",")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","Controller",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","request",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","expects",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","at",522],"(",["T_LNUMBER","1",522],")",")",["T_WHITESPACE","\n            ",522],["T_OBJECT_OPERATOR","->",523],["T_STRING","method",523],"(",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",523],")",["T_WHITESPACE","\n            ",523],["T_OBJECT_OPERATOR","->",524],["T_STRING","will",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","returnValue",524],"(",["T_CONSTANT_ENCAPSED_STRING","'\"invalid\"'",524],")",")",";",["T_WHITESPACE","\n        ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","Controller",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","request",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","expects",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","at",525],"(",["T_LNUMBER","2",525],")",")",["T_WHITESPACE","\n            ",525],["T_OBJECT_OPERATOR","->",526],["T_STRING","method",526],"(",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",526],")",["T_WHITESPACE","\n            ",526],["T_OBJECT_OPERATOR","->",527],["T_STRING","will",527],"(",["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","returnValue",527],"(",["T_CONSTANT_ENCAPSED_STRING","'{\"valid\":true}'",527],")",")",";",["T_WHITESPACE","\n\n        ",527],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","Controller",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","request",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","env",529],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",529],",",["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'POST'",529],")",";",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","Controller",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","request",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","env",530],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",530],",",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",530],")",";",["T_WHITESPACE","\n\n        ",530],["T_VARIABLE","$event",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_NEW","new",532],["T_WHITESPACE"," ",532],["T_STRING","Event",532],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","Controller",532],")",";",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","RequestHandler",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","startup",533],"(",["T_VARIABLE","$event",533],")",";",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","assertEquals",534],"(","[","]",",",["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","Controller",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","request",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","data",534],")",";",["T_WHITESPACE","\n\n        ",534],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","RequestHandler",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","startup",536],"(",["T_VARIABLE","$event",536],")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","assertEquals",537],"(","[",["T_CONSTANT_ENCAPSED_STRING","'invalid'",537],"]",",",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","Controller",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","request",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","data",537],")",";",["T_WHITESPACE","\n\n        ",537],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","RequestHandler",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","startup",539],"(",["T_VARIABLE","$event",539],")",";",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","assertEquals",540],"(","[",["T_CONSTANT_ENCAPSED_STRING","'valid'",540],["T_WHITESPACE"," ",540],["T_DOUBLE_ARROW","=>",540],["T_WHITESPACE"," ",540],["T_STRING","true",540],"]",",",["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","Controller",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","request",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","data",540],")",";",["T_WHITESPACE","\n    ",540],"}",["T_WHITESPACE","\n\n    ",541],["T_DOC_COMMENT","\/**\n     * Test that file handles are ignored as XML data.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",543],["T_WHITESPACE","\n    ",548],["T_PUBLIC","public",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","testStartupIgnoreFileAsXml",549],"(",")",["T_WHITESPACE","\n    ",549],"{",["T_WHITESPACE","\n        ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","Controller",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","request",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getMockBuilder",551],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",551],")",["T_WHITESPACE","\n            ",551],["T_OBJECT_OPERATOR","->",552],["T_STRING","setMethods",552],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",552],"]",")",["T_WHITESPACE","\n            ",552],["T_OBJECT_OPERATOR","->",553],["T_STRING","getMock",553],"(",")",";",["T_WHITESPACE","\n        ",553],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","Controller",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","request",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","expects",554],"(",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","any",554],"(",")",")",["T_WHITESPACE","\n            ",554],["T_OBJECT_OPERATOR","->",555],["T_STRING","method",555],"(",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",555],")",["T_WHITESPACE","\n            ",555],["T_OBJECT_OPERATOR","->",556],["T_STRING","will",556],"(",["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","returnValue",556],"(",["T_CONSTANT_ENCAPSED_STRING","'\/dev\/random'",556],")",")",";",["T_WHITESPACE","\n\n        ",556],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","Controller",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","request",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","env",558],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",558],",",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'POST'",558],")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","Controller",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","request",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","env",559],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",559],",",["T_WHITESPACE"," ",559],["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",559],")",";",["T_WHITESPACE","\n\n        ",559],["T_VARIABLE","$event",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_NEW","new",561],["T_WHITESPACE"," ",561],["T_STRING","Event",561],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",561],",",["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","Controller",561],")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","RequestHandler",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","startup",562],"(",["T_VARIABLE","$event",562],")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","assertEquals",563],"(","[","]",",",["T_WHITESPACE"," ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","Controller",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","request",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","data",563],")",";",["T_WHITESPACE","\n    ",563],"}",["T_WHITESPACE","\n\n    ",564],["T_DOC_COMMENT","\/**\n     * Test mapping a new type and having startup process it.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",566],["T_WHITESPACE","\n    ",571],["T_PUBLIC","public",572],["T_WHITESPACE"," ",572],["T_FUNCTION","function",572],["T_WHITESPACE"," ",572],["T_STRING","testStartupCustomTypeProcess",572],"(",")",["T_WHITESPACE","\n    ",572],"{",["T_WHITESPACE","\n        ",573],["T_VARIABLE","$restore",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_STRING","error_reporting",574],"(",["T_STRING","E_ALL",574],["T_WHITESPACE"," ",574],"&",["T_WHITESPACE"," ",574],"~",["T_STRING","E_USER_DEPRECATED",574],")",";",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","Controller",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","request",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","getMockBuilder",575],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",575],")",["T_WHITESPACE","\n            ",575],["T_OBJECT_OPERATOR","->",576],["T_STRING","setMethods",576],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",576],"]",")",["T_WHITESPACE","\n            ",576],["T_OBJECT_OPERATOR","->",577],["T_STRING","getMock",577],"(",")",";",["T_WHITESPACE","\n        ",577],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","Controller",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","request",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","expects",578],"(",["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","once",578],"(",")",")",["T_WHITESPACE","\n            ",578],["T_OBJECT_OPERATOR","->",579],["T_STRING","method",579],"(",["T_CONSTANT_ENCAPSED_STRING","'_readInput'",579],")",["T_WHITESPACE","\n            ",579],["T_OBJECT_OPERATOR","->",580],["T_STRING","will",580],"(",["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","returnValue",580],"(",["T_CONSTANT_ENCAPSED_STRING","'\"A\",\"csv\",\"string\"'",580],")",")",";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","RequestHandler",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","addInputType",581],"(",["T_CONSTANT_ENCAPSED_STRING","'csv'",581],",",["T_WHITESPACE"," ",581],"[",["T_CONSTANT_ENCAPSED_STRING","'str_getcsv'",581],"]",")",";",["T_WHITESPACE","\n        ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","Controller",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","request",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","env",582],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",582],",",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","'POST'",582],")",";",["T_WHITESPACE","\n        ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","Controller",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","request",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","env",583],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",583],",",["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","'text\/csv'",583],")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$event",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_NEW","new",584],["T_WHITESPACE"," ",584],["T_STRING","Event",584],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","Controller",584],")",";",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","RequestHandler",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","startup",585],"(",["T_VARIABLE","$event",585],")",";",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$expected",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],"[",["T_WHITESPACE","\n            ",586],["T_CONSTANT_ENCAPSED_STRING","'A'",587],",",["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'csv'",587],",",["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'string'",587],["T_WHITESPACE","\n        ",587],"]",";",["T_WHITESPACE","\n        ",588],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","assertEquals",589],"(",["T_VARIABLE","$expected",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","Controller",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","request",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","data",589],")",";",["T_WHITESPACE","\n        ",589],["T_STRING","error_reporting",590],"(",["T_VARIABLE","$restore",590],")",";",["T_WHITESPACE","\n    ",590],"}",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * test beforeRedirect when disabled.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",593],["T_WHITESPACE","\n    ",598],["T_PUBLIC","public",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","testBeforeRedirectDisabled",599],"(",")",["T_WHITESPACE","\n    ",599],"{",["T_WHITESPACE","\n        ",600],["T_STRING","Configure",601],["T_DOUBLE_COLON","::",601],["T_STRING","write",601],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",601],",",["T_WHITESPACE"," ",601],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",601],")",";",["T_WHITESPACE","\n        ",601],["T_STRING","Router",602],["T_DOUBLE_COLON","::",602],["T_STRING","connect",602],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action'",602],")",";",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","Controller",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","request",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","env",603],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",603],",",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",603],")",";",["T_WHITESPACE","\n\n        ",603],["T_VARIABLE","$event",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_NEW","new",605],["T_WHITESPACE"," ",605],["T_STRING","Event",605],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","Controller",605],")",";",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","RequestHandler",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","initialize",606],"(","[","]",")",";",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","RequestHandler",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","config",607],"(",["T_CONSTANT_ENCAPSED_STRING","'enableBeforeRedirect'",607],",",["T_WHITESPACE"," ",607],["T_STRING","false",607],")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","RequestHandler",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","startup",608],"(",["T_VARIABLE","$event",608],")",";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","assertNull",609],"(",["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","RequestHandler",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","beforeRedirect",609],"(",["T_VARIABLE","$event",609],",",["T_WHITESPACE"," ",609],["T_CONSTANT_ENCAPSED_STRING","'\/posts\/index'",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","Controller",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","response",609],")",")",";",["T_WHITESPACE","\n    ",609],"}",["T_WHITESPACE","\n\n    ",610],["T_DOC_COMMENT","\/**\n     * testNonAjaxRedirect method\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",612],["T_WHITESPACE","\n    ",617],["T_PUBLIC","public",618],["T_WHITESPACE"," ",618],["T_FUNCTION","function",618],["T_WHITESPACE"," ",618],["T_STRING","testNonAjaxRedirect",618],"(",")",["T_WHITESPACE","\n    ",618],"{",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$event",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_NEW","new",620],["T_WHITESPACE"," ",620],["T_STRING","Event",620],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","Controller",620],")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","RequestHandler",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","initialize",621],"(","[","]",")",";",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","RequestHandler",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","startup",622],"(",["T_VARIABLE","$event",622],")",";",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","assertNull",623],"(",["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","RequestHandler",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","beforeRedirect",623],"(",["T_VARIABLE","$event",623],",",["T_WHITESPACE"," ",623],["T_CONSTANT_ENCAPSED_STRING","'\/'",623],",",["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","Controller",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","response",623],")",")",";",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n\n    ",624],["T_DOC_COMMENT","\/**\n     * test that redirects with ajax and no URL don't do anything.\n     *\n     * @return void\n     * @triggers Controller.startup $this->Controller\n     *\/",626],["T_WHITESPACE","\n    ",631],["T_PUBLIC","public",632],["T_WHITESPACE"," ",632],["T_FUNCTION","function",632],["T_WHITESPACE"," ",632],["T_STRING","testAjaxRedirectWithNoUrl",632],"(",")",["T_WHITESPACE","\n    ",632],"{",["T_WHITESPACE","\n        ",633],["T_VARIABLE","$_SERVER",634],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",634],"]",["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",634],";",["T_WHITESPACE","\n        ",634],["T_VARIABLE","$event",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_NEW","new",635],["T_WHITESPACE"," ",635],["T_STRING","Event",635],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.startup'",635],",",["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","Controller",635],")",";",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","Controller",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","response",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","getMockBuilder",636],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",636],")",["T_OBJECT_OPERATOR","->",636],["T_STRING","getMock",636],"(",")",";",["T_WHITESPACE","\n\n        ",636],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","Controller",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","response",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","expects",638],"(",["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","never",638],"(",")",")",["T_WHITESPACE","\n            ",638],["T_OBJECT_OPERATOR","->",639],["T_STRING","method",639],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",639],")",";",["T_WHITESPACE","\n\n        ",639],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","RequestHandler",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","initialize",641],"(","[","]",")",";",["T_WHITESPACE","\n        ",641],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","RequestHandler",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","startup",642],"(",["T_VARIABLE","$event",642],")",";",["T_WHITESPACE","\n        ",642],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","assertNull",643],"(",["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","RequestHandler",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","beforeRedirect",643],"(",["T_VARIABLE","$event",643],",",["T_WHITESPACE"," ",643],["T_STRING","null",643],",",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","Controller",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","response",643],")",")",";",["T_WHITESPACE","\n    ",643],"}",["T_WHITESPACE","\n\n    ",644],["T_DOC_COMMENT","\/**\n     * testRenderAs method\n     *\n     * @return void\n     *\/",646],["T_WHITESPACE","\n    ",650],["T_PUBLIC","public",651],["T_WHITESPACE"," ",651],["T_FUNCTION","function",651],["T_WHITESPACE"," ",651],["T_STRING","testRenderAs",651],"(",")",["T_WHITESPACE","\n    ",651],"{",["T_WHITESPACE","\n        ",652],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","assertFalse",653],"(",["T_STRING","in_array",653],"(",["T_CONSTANT_ENCAPSED_STRING","'Rss'",653],",",["T_WHITESPACE"," ",653],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","Controller",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","helpers",653],")",")",";",["T_WHITESPACE","\n        ",653],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","RequestHandler",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","renderAs",654],"(",["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","Controller",654],",",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'rss'",654],")",";",["T_WHITESPACE","\n        ",654],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","assertTrue",655],"(",["T_STRING","in_array",655],"(",["T_CONSTANT_ENCAPSED_STRING","'Rss'",655],",",["T_WHITESPACE"," ",655],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","Controller",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","helpers",655],")",")",";",["T_WHITESPACE","\n\n        ",655],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","Controller",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","viewBuilder",657],"(",")",["T_OBJECT_OPERATOR","->",657],["T_STRING","templatePath",657],"(",["T_CONSTANT_ENCAPSED_STRING","'request_handler_test\\\\rss'",657],")",";",["T_WHITESPACE","\n        ",657],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","RequestHandler",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","renderAs",658],"(",["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","Controller",658],",",["T_WHITESPACE"," ",658],["T_CONSTANT_ENCAPSED_STRING","'js'",658],")",";",["T_WHITESPACE","\n        ",658],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","assertEquals",659],"(",["T_CONSTANT_ENCAPSED_STRING","'request_handler_test'",659],["T_WHITESPACE"," ",659],".",["T_WHITESPACE"," ",659],["T_STRING","DS",659],["T_WHITESPACE"," ",659],".",["T_WHITESPACE"," ",659],["T_CONSTANT_ENCAPSED_STRING","'js'",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","Controller",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","viewBuilder",659],"(",")",["T_OBJECT_OPERATOR","->",659],["T_STRING","templatePath",659],"(",")",")",";",["T_WHITESPACE","\n    ",659],"}",["T_WHITESPACE","\n\n    ",660],["T_DOC_COMMENT","\/**\n     * test that attachment headers work with renderAs\n     *\n     * @return void\n     *\/",662],["T_WHITESPACE","\n    ",666],["T_PUBLIC","public",667],["T_WHITESPACE"," ",667],["T_FUNCTION","function",667],["T_WHITESPACE"," ",667],["T_STRING","testRenderAsWithAttachment",667],"(",")",["T_WHITESPACE","\n    ",667],"{",["T_WHITESPACE","\n        ",668],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","RequestHandler",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","request",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","getMockBuilder",669],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",669],")",["T_WHITESPACE","\n            ",669],["T_OBJECT_OPERATOR","->",670],["T_STRING","setMethods",670],"(","[",["T_CONSTANT_ENCAPSED_STRING","'parseAccept'",670],"]",")",["T_WHITESPACE","\n            ",670],["T_OBJECT_OPERATOR","->",671],["T_STRING","getMock",671],"(",")",";",["T_WHITESPACE","\n        ",671],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","RequestHandler",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","request",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","expects",672],"(",["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","any",672],"(",")",")",["T_WHITESPACE","\n            ",672],["T_OBJECT_OPERATOR","->",673],["T_STRING","method",673],"(",["T_CONSTANT_ENCAPSED_STRING","'parseAccept'",673],")",["T_WHITESPACE","\n            ",673],["T_OBJECT_OPERATOR","->",674],["T_STRING","will",674],"(",["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","returnValue",674],"(","[",["T_CONSTANT_ENCAPSED_STRING","'1.0'",674],["T_WHITESPACE"," ",674],["T_DOUBLE_ARROW","=>",674],["T_WHITESPACE"," ",674],"[",["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",674],"]","]",")",")",";",["T_WHITESPACE","\n\n        ",674],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","RequestHandler",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","response",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getMockBuilder",676],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",676],")",["T_WHITESPACE","\n            ",676],["T_OBJECT_OPERATOR","->",677],["T_STRING","setMethods",677],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",677],",",["T_WHITESPACE"," ",677],["T_CONSTANT_ENCAPSED_STRING","'download'",677],",",["T_WHITESPACE"," ",677],["T_CONSTANT_ENCAPSED_STRING","'charset'",677],"]",")",["T_WHITESPACE","\n            ",677],["T_OBJECT_OPERATOR","->",678],["T_STRING","getMock",678],"(",")",";",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","RequestHandler",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","response",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","expects",679],"(",["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","at",679],"(",["T_LNUMBER","0",679],")",")",["T_WHITESPACE","\n            ",679],["T_OBJECT_OPERATOR","->",680],["T_STRING","method",680],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",680],")",["T_WHITESPACE","\n            ",680],["T_OBJECT_OPERATOR","->",681],["T_STRING","with",681],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",681],")",";",["T_WHITESPACE","\n        ",681],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","RequestHandler",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","response",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","expects",682],"(",["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","at",682],"(",["T_LNUMBER","1",682],")",")",["T_WHITESPACE","\n            ",682],["T_OBJECT_OPERATOR","->",683],["T_STRING","method",683],"(",["T_CONSTANT_ENCAPSED_STRING","'charset'",683],")",["T_WHITESPACE","\n            ",683],["T_OBJECT_OPERATOR","->",684],["T_STRING","with",684],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",684],")",";",["T_WHITESPACE","\n        ",684],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","RequestHandler",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","response",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","expects",685],"(",["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","at",685],"(",["T_LNUMBER","2",685],")",")",["T_WHITESPACE","\n            ",685],["T_OBJECT_OPERATOR","->",686],["T_STRING","method",686],"(",["T_CONSTANT_ENCAPSED_STRING","'download'",686],")",["T_WHITESPACE","\n            ",686],["T_OBJECT_OPERATOR","->",687],["T_STRING","with",687],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.xml'",687],")",";",["T_WHITESPACE","\n\n        ",687],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","RequestHandler",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","renderAs",689],"(",["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","Controller",689],",",["T_WHITESPACE"," ",689],["T_CONSTANT_ENCAPSED_STRING","'xml'",689],",",["T_WHITESPACE"," ",689],"[",["T_CONSTANT_ENCAPSED_STRING","'attachment'",689],["T_WHITESPACE"," ",689],["T_DOUBLE_ARROW","=>",689],["T_WHITESPACE"," ",689],["T_CONSTANT_ENCAPSED_STRING","'myfile.xml'",689],"]",")",";",["T_WHITESPACE","\n\n        ",689],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","assertEquals",691],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\View\\XmlView'",691],",",["T_WHITESPACE"," ",691],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","Controller",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","viewClass",691],")",";",["T_WHITESPACE","\n    ",691],"}",["T_WHITESPACE","\n\n    ",692],["T_DOC_COMMENT","\/**\n     * test that respondAs works as expected.\n     *\n     * @return void\n     *\/",694],["T_WHITESPACE","\n    ",698],["T_PUBLIC","public",699],["T_WHITESPACE"," ",699],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","testRespondAs",699],"(",")",["T_WHITESPACE","\n    ",699],"{",["T_WHITESPACE","\n        ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","RequestHandler",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","response",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","getMockBuilder",701],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",701],")",["T_WHITESPACE","\n            ",701],["T_OBJECT_OPERATOR","->",702],["T_STRING","setMethods",702],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",702],"]",")",["T_WHITESPACE","\n            ",702],["T_OBJECT_OPERATOR","->",703],["T_STRING","getMock",703],"(",")",";",["T_WHITESPACE","\n        ",703],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","RequestHandler",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","response",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","expects",704],"(",["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","at",704],"(",["T_LNUMBER","0",704],")",")",["T_OBJECT_OPERATOR","->",704],["T_STRING","method",704],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",704],")",["T_WHITESPACE","\n            ",704],["T_OBJECT_OPERATOR","->",705],["T_STRING","with",705],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",705],")",";",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","RequestHandler",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","response",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","expects",706],"(",["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","at",706],"(",["T_LNUMBER","1",706],")",")",["T_OBJECT_OPERATOR","->",706],["T_STRING","method",706],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",706],")",["T_WHITESPACE","\n            ",706],["T_OBJECT_OPERATOR","->",707],["T_STRING","with",707],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/xml'",707],")",";",["T_WHITESPACE","\n\n        ",707],["T_VARIABLE","$result",709],["T_WHITESPACE"," ",709],"=",["T_WHITESPACE"," ",709],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","RequestHandler",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","respondAs",709],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",709],")",";",["T_WHITESPACE","\n        ",709],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","assertTrue",710],"(",["T_VARIABLE","$result",710],")",";",["T_WHITESPACE","\n        ",710],["T_VARIABLE","$result",711],["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","RequestHandler",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","respondAs",711],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/xml'",711],")",";",["T_WHITESPACE","\n        ",711],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","assertTrue",712],"(",["T_VARIABLE","$result",712],")",";",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n\n    ",713],["T_DOC_COMMENT","\/**\n     * test that attachment headers work with respondAs\n     *\n     * @return void\n     *\/",715],["T_WHITESPACE","\n    ",719],["T_PUBLIC","public",720],["T_WHITESPACE"," ",720],["T_FUNCTION","function",720],["T_WHITESPACE"," ",720],["T_STRING","testRespondAsWithAttachment",720],"(",")",["T_WHITESPACE","\n    ",720],"{",["T_WHITESPACE","\n        ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","RequestHandler",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","getMockBuilder",722],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Controller\\Component\\RequestHandlerComponent'",722],")",["T_WHITESPACE","\n            ",722],["T_OBJECT_OPERATOR","->",723],["T_STRING","setMethods",723],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_header'",723],"]",")",["T_WHITESPACE","\n            ",723],["T_OBJECT_OPERATOR","->",724],["T_STRING","setConstructorArgs",724],"(","[",["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","Controller",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","components",724],"(",")","]",")",["T_WHITESPACE","\n            ",724],["T_OBJECT_OPERATOR","->",725],["T_STRING","getMock",725],"(",")",";",["T_WHITESPACE","\n        ",725],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","RequestHandler",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","response",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getMockBuilder",726],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",726],")",["T_WHITESPACE","\n            ",726],["T_OBJECT_OPERATOR","->",727],["T_STRING","setMethods",727],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",727],",",["T_WHITESPACE"," ",727],["T_CONSTANT_ENCAPSED_STRING","'download'",727],"]",")",["T_WHITESPACE","\n            ",727],["T_OBJECT_OPERATOR","->",728],["T_STRING","getMock",728],"(",")",";",["T_WHITESPACE","\n        ",728],["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","RequestHandler",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","request",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","getMockBuilder",729],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",729],")",["T_WHITESPACE","\n            ",729],["T_OBJECT_OPERATOR","->",730],["T_STRING","setMethods",730],"(","[",["T_CONSTANT_ENCAPSED_STRING","'parseAccept'",730],"]",")",["T_WHITESPACE","\n            ",730],["T_OBJECT_OPERATOR","->",731],["T_STRING","getMock",731],"(",")",";",["T_WHITESPACE","\n\n        ",731],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","RequestHandler",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","request",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","expects",733],"(",["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","once",733],"(",")",")",["T_WHITESPACE","\n            ",733],["T_OBJECT_OPERATOR","->",734],["T_STRING","method",734],"(",["T_CONSTANT_ENCAPSED_STRING","'parseAccept'",734],")",["T_WHITESPACE","\n            ",734],["T_OBJECT_OPERATOR","->",735],["T_STRING","will",735],"(",["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","returnValue",735],"(","[",["T_CONSTANT_ENCAPSED_STRING","'1.0'",735],["T_WHITESPACE"," ",735],["T_DOUBLE_ARROW","=>",735],["T_WHITESPACE"," ",735],"[",["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",735],"]","]",")",")",";",["T_WHITESPACE","\n\n        ",735],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","RequestHandler",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","response",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","expects",737],"(",["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","once",737],"(",")",")",["T_OBJECT_OPERATOR","->",737],["T_STRING","method",737],"(",["T_CONSTANT_ENCAPSED_STRING","'download'",737],")",["T_WHITESPACE","\n            ",737],["T_OBJECT_OPERATOR","->",738],["T_STRING","with",738],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.xml'",738],")",";",["T_WHITESPACE","\n        ",738],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","RequestHandler",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","response",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","expects",739],"(",["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","once",739],"(",")",")",["T_OBJECT_OPERATOR","->",739],["T_STRING","method",739],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",739],")",["T_WHITESPACE","\n            ",739],["T_OBJECT_OPERATOR","->",740],["T_STRING","with",740],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",740],")",";",["T_WHITESPACE","\n\n        ",740],["T_VARIABLE","$result",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","RequestHandler",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","respondAs",742],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",742],",",["T_WHITESPACE"," ",742],"[",["T_CONSTANT_ENCAPSED_STRING","'attachment'",742],["T_WHITESPACE"," ",742],["T_DOUBLE_ARROW","=>",742],["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","'myfile.xml'",742],"]",")",";",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","assertTrue",743],"(",["T_VARIABLE","$result",743],")",";",["T_WHITESPACE","\n    ",743],"}",["T_WHITESPACE","\n\n    ",744],["T_DOC_COMMENT","\/**\n     * test that calling renderAs() more than once continues to work.\n     *\n     * @link #6466\n     * @return void\n     *\/",746],["T_WHITESPACE","\n    ",751],["T_PUBLIC","public",752],["T_WHITESPACE"," ",752],["T_FUNCTION","function",752],["T_WHITESPACE"," ",752],["T_STRING","testRenderAsCalledTwice",752],"(",")",["T_WHITESPACE","\n    ",752],"{",["T_WHITESPACE","\n        ",753],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","Controller",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","eventManager",754],"(",")",["T_OBJECT_OPERATOR","->",754],["T_STRING","on",754],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",754],",",["T_WHITESPACE"," ",754],["T_FUNCTION","function",754],["T_WHITESPACE"," ",754],"(",["T_NS_SEPARATOR","\\",754],["T_STRING","Cake",754],["T_NS_SEPARATOR","\\",754],["T_STRING","Event",754],["T_NS_SEPARATOR","\\",754],["T_STRING","Event",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$e",754],")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n            ",754],["T_RETURN","return",755],["T_WHITESPACE"," ",755],["T_VARIABLE","$e",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","subject",755],"(",")",["T_OBJECT_OPERATOR","->",755],["T_STRING","response",755],";",["T_WHITESPACE","\n        ",755],"}",")",";",["T_WHITESPACE","\n        ",756],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","Controller",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","render",757],"(",")",";",["T_WHITESPACE","\n\n        ",757],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","RequestHandler",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","renderAs",759],"(",["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","Controller",759],",",["T_WHITESPACE"," ",759],["T_CONSTANT_ENCAPSED_STRING","'print'",759],")",";",["T_WHITESPACE","\n        ",759],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","assertEquals",760],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestHandlerTest'",760],["T_WHITESPACE"," ",760],".",["T_WHITESPACE"," ",760],["T_STRING","DS",760],["T_WHITESPACE"," ",760],".",["T_WHITESPACE"," ",760],["T_CONSTANT_ENCAPSED_STRING","'print'",760],",",["T_WHITESPACE"," ",760],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","Controller",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","viewBuilder",760],"(",")",["T_OBJECT_OPERATOR","->",760],["T_STRING","templatePath",760],"(",")",")",";",["T_WHITESPACE","\n        ",760],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","assertEquals",761],"(",["T_CONSTANT_ENCAPSED_STRING","'print'",761],",",["T_WHITESPACE"," ",761],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","Controller",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","viewBuilder",761],"(",")",["T_OBJECT_OPERATOR","->",761],["T_STRING","layoutPath",761],"(",")",")",";",["T_WHITESPACE","\n\n        ",761],["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","RequestHandler",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","renderAs",763],"(",["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","Controller",763],",",["T_WHITESPACE"," ",763],["T_CONSTANT_ENCAPSED_STRING","'js'",763],")",";",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","assertEquals",764],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestHandlerTest'",764],["T_WHITESPACE"," ",764],".",["T_WHITESPACE"," ",764],["T_STRING","DS",764],["T_WHITESPACE"," ",764],".",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'js'",764],",",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","Controller",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","viewBuilder",764],"(",")",["T_OBJECT_OPERATOR","->",764],["T_STRING","templatePath",764],"(",")",")",";",["T_WHITESPACE","\n        ",764],["T_VARIABLE","$this",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","assertEquals",765],"(",["T_CONSTANT_ENCAPSED_STRING","'js'",765],",",["T_WHITESPACE"," ",765],["T_VARIABLE","$this",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","Controller",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","viewBuilder",765],"(",")",["T_OBJECT_OPERATOR","->",765],["T_STRING","layoutPath",765],"(",")",")",";",["T_WHITESPACE","\n    ",765],"}",["T_WHITESPACE","\n\n    ",766],["T_DOC_COMMENT","\/**\n     * testRequestContentTypes method\n     *\n     * @return void\n     *\/",768],["T_WHITESPACE","\n    ",772],["T_PUBLIC","public",773],["T_WHITESPACE"," ",773],["T_FUNCTION","function",773],["T_WHITESPACE"," ",773],["T_STRING","testRequestContentTypes",773],"(",")",["T_WHITESPACE","\n    ",773],"{",["T_WHITESPACE","\n        ",774],["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","request",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","env",775],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",775],",",["T_WHITESPACE"," ",775],["T_CONSTANT_ENCAPSED_STRING","'GET'",775],")",";",["T_WHITESPACE","\n        ",775],["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","assertNull",776],"(",["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","RequestHandler",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","requestedWith",776],"(",")",")",";",["T_WHITESPACE","\n\n        ",776],["T_VARIABLE","$this",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","request",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","env",778],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",778],",",["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","'POST'",778],")",";",["T_WHITESPACE","\n        ",778],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","request",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","env",779],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",779],",",["T_WHITESPACE"," ",779],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",779],")",";",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","assertEquals",780],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",780],",",["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","RequestHandler",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","requestedWith",780],"(",")",")",";",["T_WHITESPACE","\n\n        ",780],["T_VARIABLE","$result",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","RequestHandler",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","requestedWith",782],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",782],",",["T_WHITESPACE"," ",782],["T_CONSTANT_ENCAPSED_STRING","'xml'",782],"]",")",";",["T_WHITESPACE","\n        ",782],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","assertEquals",783],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",783],",",["T_WHITESPACE"," ",783],["T_VARIABLE","$result",783],")",";",["T_WHITESPACE","\n\n        ",783],["T_VARIABLE","$result",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","RequestHandler",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","requestedWith",785],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rss'",785],",",["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","'atom'",785],"]",")",";",["T_WHITESPACE","\n        ",785],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","assertFalse",786],"(",["T_VARIABLE","$result",786],")",";",["T_WHITESPACE","\n\n        ",786],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","request",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","env",788],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",788],",",["T_WHITESPACE"," ",788],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",788],")",";",["T_WHITESPACE","\n        ",788],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","assertEquals",789],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",789],",",["T_WHITESPACE"," ",789],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","RequestHandler",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","requestedWith",789],"(",")",")",";",["T_WHITESPACE","\n\n        ",789],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","request",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","env",791],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",791],",",["T_WHITESPACE"," ",791],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",791],")",";",["T_WHITESPACE","\n        ",791],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","assertEquals",792],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",792],",",["T_WHITESPACE"," ",792],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","RequestHandler",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","requestedWith",792],"(",")",")",";",["T_WHITESPACE","\n\n        ",792],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","request",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","env",794],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",794],",",["T_WHITESPACE"," ",794],["T_CONSTANT_ENCAPSED_STRING","'POST'",794],")",";",["T_WHITESPACE","\n        ",794],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","request",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","env",795],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",795],",",["T_WHITESPACE"," ",795],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",795],")",";",["T_WHITESPACE","\n\n        ",795],["T_VARIABLE","$result",797],["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","RequestHandler",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","requestedWith",797],"(","[",["T_CONSTANT_ENCAPSED_STRING","'json'",797],",",["T_WHITESPACE"," ",797],["T_CONSTANT_ENCAPSED_STRING","'xml'",797],"]",")",";",["T_WHITESPACE","\n        ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","assertEquals",798],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",798],",",["T_WHITESPACE"," ",798],["T_VARIABLE","$result",798],")",";",["T_WHITESPACE","\n\n        ",798],["T_VARIABLE","$result",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","RequestHandler",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","requestedWith",800],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rss'",800],",",["T_WHITESPACE"," ",800],["T_CONSTANT_ENCAPSED_STRING","'atom'",800],"]",")",";",["T_WHITESPACE","\n        ",800],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","assertFalse",801],"(",["T_VARIABLE","$result",801],")",";",["T_WHITESPACE","\n\n        ",801],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","request",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","env",803],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",803],",",["T_WHITESPACE"," ",803],["T_CONSTANT_ENCAPSED_STRING","'text\/xml,application\/xml,application\/xhtml+xml,text\/html,text\/plain,image\/png,*\/*'",803],")",";",["T_WHITESPACE","\n        ",803],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","assertTrue",804],"(",["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","RequestHandler",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","isXml",804],"(",")",")",";",["T_WHITESPACE","\n        ",804],["T_VARIABLE","$this",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","assertFalse",805],"(",["T_VARIABLE","$this",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","RequestHandler",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","isAtom",805],"(",")",")",";",["T_WHITESPACE","\n        ",805],["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","assertFalse",806],"(",["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","RequestHandler",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","isRSS",806],"(",")",")",";",["T_WHITESPACE","\n\n        ",806],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","request",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","env",808],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",808],",",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","'application\/atom+xml,text\/xml,application\/xml,application\/xhtml+xml,text\/html,text\/plain,image\/png,*\/*'",808],")",";",["T_WHITESPACE","\n        ",808],["T_VARIABLE","$this",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","assertTrue",809],"(",["T_VARIABLE","$this",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","RequestHandler",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","isAtom",809],"(",")",")",";",["T_WHITESPACE","\n        ",809],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","assertFalse",810],"(",["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","RequestHandler",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","isRSS",810],"(",")",")",";",["T_WHITESPACE","\n\n        ",810],["T_VARIABLE","$this",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","request",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","env",812],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",812],",",["T_WHITESPACE"," ",812],["T_CONSTANT_ENCAPSED_STRING","'application\/rss+xml,text\/xml,application\/xml,application\/xhtml+xml,text\/html,text\/plain,image\/png,*\/*'",812],")",";",["T_WHITESPACE","\n        ",812],["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","assertFalse",813],"(",["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","RequestHandler",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","isAtom",813],"(",")",")",";",["T_WHITESPACE","\n        ",813],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","assertTrue",814],"(",["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","RequestHandler",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","isRSS",814],"(",")",")",";",["T_WHITESPACE","\n\n        ",814],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","assertFalse",816],"(",["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","RequestHandler",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","isWap",816],"(",")",")",";",["T_WHITESPACE","\n        ",816],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","request",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","env",817],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",817],",",["T_WHITESPACE"," ",817],["T_CONSTANT_ENCAPSED_STRING","'text\/vnd.wap.wml,text\/html,text\/plain,image\/png,*\/*'",817],")",";",["T_WHITESPACE","\n        ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","assertTrue",818],"(",["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","RequestHandler",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","isWap",818],"(",")",")",";",["T_WHITESPACE","\n    ",818],"}",["T_WHITESPACE","\n\n    ",819],["T_DOC_COMMENT","\/**\n     * testResponseContentType method\n     *\n     * @return void\n     *\/",821],["T_WHITESPACE","\n    ",825],["T_PUBLIC","public",826],["T_WHITESPACE"," ",826],["T_FUNCTION","function",826],["T_WHITESPACE"," ",826],["T_STRING","testResponseContentType",826],"(",")",["T_WHITESPACE","\n    ",826],"{",["T_WHITESPACE","\n        ",827],["T_VARIABLE","$this",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","assertEquals",828],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",828],",",["T_WHITESPACE"," ",828],["T_VARIABLE","$this",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","RequestHandler",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","responseType",828],"(",")",")",";",["T_WHITESPACE","\n        ",828],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","assertTrue",829],"(",["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","RequestHandler",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","respondAs",829],"(",["T_CONSTANT_ENCAPSED_STRING","'atom'",829],")",")",";",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","assertEquals",830],"(",["T_CONSTANT_ENCAPSED_STRING","'atom'",830],",",["T_WHITESPACE"," ",830],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","RequestHandler",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","responseType",830],"(",")",")",";",["T_WHITESPACE","\n    ",830],"}",["T_WHITESPACE","\n\n    ",831],["T_DOC_COMMENT","\/**\n     * testMobileDeviceDetection method\n     *\n     * @return void\n     *\/",833],["T_WHITESPACE","\n    ",837],["T_PUBLIC","public",838],["T_WHITESPACE"," ",838],["T_FUNCTION","function",838],["T_WHITESPACE"," ",838],["T_STRING","testMobileDeviceDetection",838],"(",")",["T_WHITESPACE","\n    ",838],"{",["T_WHITESPACE","\n        ",839],["T_VARIABLE","$request",840],["T_WHITESPACE"," ",840],"=",["T_WHITESPACE"," ",840],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","getMockBuilder",840],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",840],")",["T_WHITESPACE","\n            ",840],["T_OBJECT_OPERATOR","->",841],["T_STRING","setMethods",841],"(","[",["T_CONSTANT_ENCAPSED_STRING","'is'",841],"]",")",["T_WHITESPACE","\n            ",841],["T_OBJECT_OPERATOR","->",842],["T_STRING","getMock",842],"(",")",";",["T_WHITESPACE","\n        ",842],["T_VARIABLE","$request",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","expects",843],"(",["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","once",843],"(",")",")",["T_OBJECT_OPERATOR","->",843],["T_STRING","method",843],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",843],")",["T_WHITESPACE","\n            ",843],["T_OBJECT_OPERATOR","->",844],["T_STRING","with",844],"(",["T_CONSTANT_ENCAPSED_STRING","'mobile'",844],")",["T_WHITESPACE","\n            ",844],["T_OBJECT_OPERATOR","->",845],["T_STRING","will",845],"(",["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","returnValue",845],"(",["T_STRING","true",845],")",")",";",["T_WHITESPACE","\n\n        ",845],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","RequestHandler",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","request",847],["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_VARIABLE","$request",847],";",["T_WHITESPACE","\n        ",847],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","assertTrue",848],"(",["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","RequestHandler",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","isMobile",848],"(",")",")",";",["T_WHITESPACE","\n    ",848],"}",["T_WHITESPACE","\n\n    ",849],["T_DOC_COMMENT","\/**\n     * test that map alias converts aliases to content types.\n     *\n     * @return void\n     *\/",851],["T_WHITESPACE","\n    ",855],["T_PUBLIC","public",856],["T_WHITESPACE"," ",856],["T_FUNCTION","function",856],["T_WHITESPACE"," ",856],["T_STRING","testMapAlias",856],"(",")",["T_WHITESPACE","\n    ",856],"{",["T_WHITESPACE","\n        ",857],["T_VARIABLE","$result",858],["T_WHITESPACE"," ",858],"=",["T_WHITESPACE"," ",858],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","RequestHandler",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","mapAlias",858],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",858],")",";",["T_WHITESPACE","\n        ",858],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","assertEquals",859],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",859],",",["T_WHITESPACE"," ",859],["T_VARIABLE","$result",859],")",";",["T_WHITESPACE","\n\n        ",859],["T_VARIABLE","$result",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","RequestHandler",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","mapAlias",861],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",861],")",";",["T_WHITESPACE","\n        ",861],["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","assertNull",862],"(",["T_VARIABLE","$result",862],")",";",["T_WHITESPACE","\n\n        ",862],["T_VARIABLE","$result",864],["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","RequestHandler",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","mapAlias",864],"(",["T_CONSTANT_ENCAPSED_STRING","'wap'",864],")",";",["T_WHITESPACE","\n        ",864],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","assertEquals",865],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/vnd.wap.wml'",865],",",["T_WHITESPACE"," ",865],["T_VARIABLE","$result",865],")",";",["T_WHITESPACE","\n\n        ",865],["T_VARIABLE","$result",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_VARIABLE","$this",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","RequestHandler",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","mapAlias",867],"(","[",["T_CONSTANT_ENCAPSED_STRING","'xml'",867],",",["T_WHITESPACE"," ",867],["T_CONSTANT_ENCAPSED_STRING","'js'",867],",",["T_WHITESPACE"," ",867],["T_CONSTANT_ENCAPSED_STRING","'json'",867],"]",")",";",["T_WHITESPACE","\n        ",867],["T_VARIABLE","$expected",868],["T_WHITESPACE"," ",868],"=",["T_WHITESPACE"," ",868],"[",["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",868],",",["T_WHITESPACE"," ",868],["T_CONSTANT_ENCAPSED_STRING","'application\/javascript'",868],",",["T_WHITESPACE"," ",868],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",868],"]",";",["T_WHITESPACE","\n        ",868],["T_VARIABLE","$this",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","assertEquals",869],"(",["T_VARIABLE","$expected",869],",",["T_WHITESPACE"," ",869],["T_VARIABLE","$result",869],")",";",["T_WHITESPACE","\n    ",869],"}",["T_WHITESPACE","\n\n    ",870],["T_DOC_COMMENT","\/**\n     * test accepts() on the component\n     *\n     * @return void\n     *\/",872],["T_WHITESPACE","\n    ",876],["T_PUBLIC","public",877],["T_WHITESPACE"," ",877],["T_FUNCTION","function",877],["T_WHITESPACE"," ",877],["T_STRING","testAccepts",877],"(",")",["T_WHITESPACE","\n    ",877],"{",["T_WHITESPACE","\n        ",878],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","request",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","env",879],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",879],",",["T_WHITESPACE"," ",879],["T_CONSTANT_ENCAPSED_STRING","'text\/xml,application\/xml,application\/xhtml+xml,text\/html;q=0.9,text\/plain;q=0.8,image\/png,*\/*;q=0.5'",879],")",";",["T_WHITESPACE","\n        ",879],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","assertTrue",880],"(",["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","RequestHandler",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","accepts",880],"(","[",["T_CONSTANT_ENCAPSED_STRING","'js'",880],",",["T_WHITESPACE"," ",880],["T_CONSTANT_ENCAPSED_STRING","'xml'",880],",",["T_WHITESPACE"," ",880],["T_CONSTANT_ENCAPSED_STRING","'html'",880],"]",")",")",";",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","assertFalse",881],"(",["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","RequestHandler",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","accepts",881],"(","[",["T_CONSTANT_ENCAPSED_STRING","'gif'",881],",",["T_WHITESPACE"," ",881],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",881],",",["T_WHITESPACE"," ",881],["T_CONSTANT_ENCAPSED_STRING","'foo'",881],"]",")",")",";",["T_WHITESPACE","\n\n        ",881],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","request",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","env",883],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",883],",",["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'*\/*;q=0.5'",883],")",";",["T_WHITESPACE","\n        ",883],["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","assertFalse",884],"(",["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","RequestHandler",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","accepts",884],"(",["T_CONSTANT_ENCAPSED_STRING","'rss'",884],")",")",";",["T_WHITESPACE","\n    ",884],"}",["T_WHITESPACE","\n\n    ",885],["T_DOC_COMMENT","\/**\n     * test accepts and prefers methods.\n     *\n     * @return void\n     *\/",887],["T_WHITESPACE","\n    ",891],["T_PUBLIC","public",892],["T_WHITESPACE"," ",892],["T_FUNCTION","function",892],["T_WHITESPACE"," ",892],["T_STRING","testPrefers",892],"(",")",["T_WHITESPACE","\n    ",892],"{",["T_WHITESPACE","\n        ",893],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","request",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","env",894],"(",["T_WHITESPACE","\n            ",894],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",895],",",["T_WHITESPACE","\n            ",895],["T_CONSTANT_ENCAPSED_STRING","'text\/xml,application\/xml,application\/xhtml+xml,text\/html,text\/plain,image\/png,*\/*'",896],["T_WHITESPACE","\n        ",896],")",";",["T_WHITESPACE","\n        ",897],["T_VARIABLE","$this",898],["T_OBJECT_OPERATOR","->",898],["T_STRING","assertNotEquals",898],"(",["T_CONSTANT_ENCAPSED_STRING","'rss'",898],",",["T_WHITESPACE"," ",898],["T_VARIABLE","$this",898],["T_OBJECT_OPERATOR","->",898],["T_STRING","RequestHandler",898],["T_OBJECT_OPERATOR","->",898],["T_STRING","prefers",898],"(",")",")",";",["T_WHITESPACE","\n        ",898],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","RequestHandler",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","ext",899],["T_WHITESPACE"," ",899],"=",["T_WHITESPACE"," ",899],["T_CONSTANT_ENCAPSED_STRING","'rss'",899],";",["T_WHITESPACE","\n        ",899],["T_VARIABLE","$this",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","assertEquals",900],"(",["T_CONSTANT_ENCAPSED_STRING","'rss'",900],",",["T_WHITESPACE"," ",900],["T_VARIABLE","$this",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","RequestHandler",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","prefers",900],"(",")",")",";",["T_WHITESPACE","\n        ",900],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","assertFalse",901],"(",["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","RequestHandler",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","prefers",901],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",901],")",")",";",["T_WHITESPACE","\n        ",901],["T_VARIABLE","$this",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","assertEquals",902],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",902],",",["T_WHITESPACE"," ",902],["T_VARIABLE","$this",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","RequestHandler",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","prefers",902],"(","[",["T_CONSTANT_ENCAPSED_STRING","'js'",902],",",["T_WHITESPACE"," ",902],["T_CONSTANT_ENCAPSED_STRING","'xml'",902],",",["T_WHITESPACE"," ",902],["T_CONSTANT_ENCAPSED_STRING","'xhtml'",902],"]",")",")",";",["T_WHITESPACE","\n        ",902],["T_VARIABLE","$this",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","assertFalse",903],"(",["T_VARIABLE","$this",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","RequestHandler",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","prefers",903],"(","[",["T_CONSTANT_ENCAPSED_STRING","'red'",903],",",["T_WHITESPACE"," ",903],["T_CONSTANT_ENCAPSED_STRING","'blue'",903],"]",")",")",";",["T_WHITESPACE","\n        ",903],["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","assertEquals",904],"(",["T_CONSTANT_ENCAPSED_STRING","'xhtml'",904],",",["T_WHITESPACE"," ",904],["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","RequestHandler",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","prefers",904],"(","[",["T_CONSTANT_ENCAPSED_STRING","'js'",904],",",["T_WHITESPACE"," ",904],["T_CONSTANT_ENCAPSED_STRING","'json'",904],",",["T_WHITESPACE"," ",904],["T_CONSTANT_ENCAPSED_STRING","'xhtml'",904],"]",")",")",";",["T_WHITESPACE","\n        ",904],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","assertTrue",905],"(",["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","RequestHandler",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","prefers",905],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rss'",905],"]",")",",",["T_WHITESPACE"," ",905],["T_CONSTANT_ENCAPSED_STRING","'Should return true if input matches ext.'",905],")",";",["T_WHITESPACE","\n        ",905],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","assertFalse",906],"(",["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","RequestHandler",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","prefers",906],"(","[",["T_CONSTANT_ENCAPSED_STRING","'html'",906],"]",")",",",["T_WHITESPACE"," ",906],["T_CONSTANT_ENCAPSED_STRING","'No match with ext, return false.'",906],")",";",["T_WHITESPACE","\n\n        ",906],["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","_init",908],"(",")",";",["T_WHITESPACE","\n        ",908],["T_VARIABLE","$this",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","request",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","env",909],"(",["T_WHITESPACE","\n            ",909],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",910],",",["T_WHITESPACE","\n            ",910],["T_CONSTANT_ENCAPSED_STRING","'text\/xml,application\/xml,application\/xhtml+xml,text\/html;q=0.9,text\/plain;q=0.8,image\/png,*\/*;q=0.5'",911],["T_WHITESPACE","\n        ",911],")",";",["T_WHITESPACE","\n        ",912],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","assertEquals",913],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",913],",",["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","RequestHandler",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","prefers",913],"(",")",")",";",["T_WHITESPACE","\n\n        ",913],["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","request",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","env",915],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",915],",",["T_WHITESPACE"," ",915],["T_CONSTANT_ENCAPSED_STRING","'*\/*;q=0.5'",915],")",";",["T_WHITESPACE","\n        ",915],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","assertEquals",916],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",916],",",["T_WHITESPACE"," ",916],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","RequestHandler",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","prefers",916],"(",")",")",";",["T_WHITESPACE","\n        ",916],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","assertFalse",917],"(",["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","RequestHandler",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","prefers",917],"(",["T_CONSTANT_ENCAPSED_STRING","'rss'",917],")",")",";",["T_WHITESPACE","\n    ",917],"}",["T_WHITESPACE","\n\n    ",918],["T_DOC_COMMENT","\/**\n     * test that AJAX requests involving redirects trigger requestAction instead.\n     *\n     * @return void\n     * @triggers Controller.beforeRedirect $this->Controller\n     *\/",920],["T_WHITESPACE","\n    ",925],["T_PUBLIC","public",926],["T_WHITESPACE"," ",926],["T_FUNCTION","function",926],["T_WHITESPACE"," ",926],["T_STRING","testAjaxRedirectAsRequestAction",926],"(",")",["T_WHITESPACE","\n    ",926],"{",["T_WHITESPACE","\n        ",927],["T_STRING","Configure",928],["T_DOUBLE_COLON","::",928],["T_STRING","write",928],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",928],",",["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",928],")",";",["T_WHITESPACE","\n        ",928],["T_STRING","Router",929],["T_DOUBLE_COLON","::",929],["T_STRING","connect",929],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action'",929],")",";",["T_WHITESPACE","\n        ",929],["T_VARIABLE","$event",930],["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_NEW","new",930],["T_WHITESPACE"," ",930],["T_STRING","Event",930],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRedirect'",930],",",["T_WHITESPACE"," ",930],["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","Controller",930],")",";",["T_WHITESPACE","\n\n        ",930],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","Controller",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","RequestHandler",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_NEW","new",932],["T_WHITESPACE"," ",932],["T_STRING","RequestHandlerComponent",932],"(",["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","Controller",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","components",932],"(",")",")",";",["T_WHITESPACE","\n        ",932],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","Controller",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","request",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","getMockBuilder",933],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",933],")",["T_WHITESPACE","\n            ",933],["T_OBJECT_OPERATOR","->",934],["T_STRING","setMethods",934],"(","[",["T_CONSTANT_ENCAPSED_STRING","'is'",934],"]",")",["T_WHITESPACE","\n            ",934],["T_OBJECT_OPERATOR","->",935],["T_STRING","getMock",935],"(",")",";",["T_WHITESPACE","\n        ",935],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","Controller",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","response",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","getMockBuilder",936],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",936],")",["T_WHITESPACE","\n            ",936],["T_OBJECT_OPERATOR","->",937],["T_STRING","setMethods",937],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",937],",",["T_WHITESPACE"," ",937],["T_CONSTANT_ENCAPSED_STRING","'stop'",937],"]",")",["T_WHITESPACE","\n            ",937],["T_OBJECT_OPERATOR","->",938],["T_STRING","getMock",938],"(",")",";",["T_WHITESPACE","\n        ",938],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","Controller",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","RequestHandler",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","request",939],["T_WHITESPACE"," ",939],"=",["T_WHITESPACE"," ",939],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","Controller",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","request",939],";",["T_WHITESPACE","\n        ",939],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","Controller",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","RequestHandler",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","response",940],["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","Controller",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","response",940],";",["T_WHITESPACE","\n        ",940],["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","Controller",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","request",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","expects",941],"(",["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","any",941],"(",")",")",["T_OBJECT_OPERATOR","->",941],["T_STRING","method",941],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",941],")",["T_OBJECT_OPERATOR","->",941],["T_STRING","will",941],"(",["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","returnValue",941],"(",["T_STRING","true",941],")",")",";",["T_WHITESPACE","\n\n        ",941],["T_VARIABLE","$response",943],["T_WHITESPACE"," ",943],"=",["T_WHITESPACE"," ",943],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","Controller",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","RequestHandler",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","beforeRedirect",943],"(",["T_WHITESPACE","\n            ",943],["T_VARIABLE","$event",944],",",["T_WHITESPACE","\n            ",944],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",945],["T_WHITESPACE"," ",945],["T_DOUBLE_ARROW","=>",945],["T_WHITESPACE"," ",945],["T_CONSTANT_ENCAPSED_STRING","'RequestHandlerTest'",945],",",["T_WHITESPACE"," ",945],["T_CONSTANT_ENCAPSED_STRING","'action'",945],["T_WHITESPACE"," ",945],["T_DOUBLE_ARROW","=>",945],["T_WHITESPACE"," ",945],["T_CONSTANT_ENCAPSED_STRING","'destination'",945],"]",",",["T_WHITESPACE","\n            ",945],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","Controller",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","response",946],["T_WHITESPACE","\n        ",946],")",";",["T_WHITESPACE","\n        ",947],["T_VARIABLE","$this",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","assertRegExp",948],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts index\/'",948],",",["T_WHITESPACE"," ",948],["T_VARIABLE","$response",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","body",948],"(",")",",",["T_WHITESPACE"," ",948],["T_CONSTANT_ENCAPSED_STRING","'RequestAction redirect failed.'",948],")",";",["T_WHITESPACE","\n    ",948],"}",["T_WHITESPACE","\n\n    ",949],["T_DOC_COMMENT","\/**\n     * Test that AJAX requests involving redirects handle querystrings\n     *\n     * @return void\n     * @triggers Controller.beforeRedirect $this->Controller\n     *\/",951],["T_WHITESPACE","\n    ",956],["T_PUBLIC","public",957],["T_WHITESPACE"," ",957],["T_FUNCTION","function",957],["T_WHITESPACE"," ",957],["T_STRING","testAjaxRedirectAsRequestActionWithQueryString",957],"(",")",["T_WHITESPACE","\n    ",957],"{",["T_WHITESPACE","\n        ",958],["T_STRING","Configure",959],["T_DOUBLE_COLON","::",959],["T_STRING","write",959],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",959],",",["T_WHITESPACE"," ",959],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",959],")",";",["T_WHITESPACE","\n        ",959],["T_STRING","Router",960],["T_DOUBLE_COLON","::",960],["T_STRING","connect",960],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action'",960],")",";",["T_WHITESPACE","\n        ",960],["T_VARIABLE","$event",961],["T_WHITESPACE"," ",961],"=",["T_WHITESPACE"," ",961],["T_NEW","new",961],["T_WHITESPACE"," ",961],["T_STRING","Event",961],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRedirect'",961],",",["T_WHITESPACE"," ",961],["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","Controller",961],")",";",["T_WHITESPACE","\n\n        ",961],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","Controller",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","RequestHandler",963],["T_WHITESPACE"," ",963],"=",["T_WHITESPACE"," ",963],["T_NEW","new",963],["T_WHITESPACE"," ",963],["T_STRING","RequestHandlerComponent",963],"(",["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","Controller",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","components",963],"(",")",")",";",["T_WHITESPACE","\n        ",963],["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","Controller",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","request",964],["T_WHITESPACE"," ",964],"=",["T_WHITESPACE"," ",964],["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","getMockBuilder",964],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",964],")",["T_WHITESPACE","\n            ",964],["T_OBJECT_OPERATOR","->",965],["T_STRING","setMethods",965],"(","[",["T_CONSTANT_ENCAPSED_STRING","'is'",965],"]",")",["T_WHITESPACE","\n            ",965],["T_OBJECT_OPERATOR","->",966],["T_STRING","getMock",966],"(",")",";",["T_WHITESPACE","\n        ",966],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","Controller",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","response",967],["T_WHITESPACE"," ",967],"=",["T_WHITESPACE"," ",967],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","getMockBuilder",967],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",967],")",["T_WHITESPACE","\n            ",967],["T_OBJECT_OPERATOR","->",968],["T_STRING","setMethods",968],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",968],",",["T_WHITESPACE"," ",968],["T_CONSTANT_ENCAPSED_STRING","'stop'",968],"]",")",["T_WHITESPACE","\n            ",968],["T_OBJECT_OPERATOR","->",969],["T_STRING","getMock",969],"(",")",";",["T_WHITESPACE","\n        ",969],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","Controller",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","RequestHandler",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","request",970],["T_WHITESPACE"," ",970],"=",["T_WHITESPACE"," ",970],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","Controller",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","request",970],";",["T_WHITESPACE","\n        ",970],["T_VARIABLE","$this",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","Controller",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","RequestHandler",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","response",971],["T_WHITESPACE"," ",971],"=",["T_WHITESPACE"," ",971],["T_VARIABLE","$this",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","Controller",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","response",971],";",["T_WHITESPACE","\n        ",971],["T_VARIABLE","$this",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","Controller",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","request",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","expects",972],"(",["T_VARIABLE","$this",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","any",972],"(",")",")",["T_WHITESPACE","\n            ",972],["T_OBJECT_OPERATOR","->",973],["T_STRING","method",973],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",973],")",["T_WHITESPACE","\n            ",973],["T_OBJECT_OPERATOR","->",974],["T_STRING","with",974],"(",["T_CONSTANT_ENCAPSED_STRING","'ajax'",974],")",["T_WHITESPACE","\n            ",974],["T_OBJECT_OPERATOR","->",975],["T_STRING","will",975],"(",["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","returnValue",975],"(",["T_STRING","true",975],")",")",";",["T_WHITESPACE","\n\n        ",975],["T_VARIABLE","$response",977],["T_WHITESPACE"," ",977],"=",["T_WHITESPACE"," ",977],["T_VARIABLE","$this",977],["T_OBJECT_OPERATOR","->",977],["T_STRING","Controller",977],["T_OBJECT_OPERATOR","->",977],["T_STRING","RequestHandler",977],["T_OBJECT_OPERATOR","->",977],["T_STRING","beforeRedirect",977],"(",["T_WHITESPACE","\n            ",977],["T_VARIABLE","$event",978],",",["T_WHITESPACE","\n            ",978],["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/params_pass?a=b&x=y?ish'",979],",",["T_WHITESPACE","\n            ",979],["T_VARIABLE","$this",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","Controller",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","response",980],["T_WHITESPACE","\n        ",980],")",";",["T_WHITESPACE","\n        ",981],["T_VARIABLE","$data",982],["T_WHITESPACE"," ",982],"=",["T_WHITESPACE"," ",982],["T_STRING","json_decode",982],"(",["T_VARIABLE","$response",982],",",["T_WHITESPACE"," ",982],["T_STRING","true",982],")",";",["T_WHITESPACE","\n        ",982],["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","assertEquals",983],"(",["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/params_pass'",983],",",["T_WHITESPACE"," ",983],["T_VARIABLE","$data",983],"[",["T_CONSTANT_ENCAPSED_STRING","'here'",983],"]",")",";",["T_WHITESPACE","\n\n        ",983],["T_VARIABLE","$response",985],["T_WHITESPACE"," ",985],"=",["T_WHITESPACE"," ",985],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","Controller",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","RequestHandler",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","beforeRedirect",985],"(",["T_WHITESPACE","\n            ",985],["T_VARIABLE","$event",986],",",["T_WHITESPACE","\n            ",986],["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/query_pass?a=b&x=y?ish'",987],",",["T_WHITESPACE","\n            ",987],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","Controller",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","response",988],["T_WHITESPACE","\n        ",988],")",";",["T_WHITESPACE","\n        ",989],["T_VARIABLE","$data",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_STRING","json_decode",990],"(",["T_VARIABLE","$response",990],",",["T_WHITESPACE"," ",990],["T_STRING","true",990],")",";",["T_WHITESPACE","\n        ",990],["T_VARIABLE","$this",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","assertEquals",991],"(",["T_CONSTANT_ENCAPSED_STRING","'y?ish'",991],",",["T_WHITESPACE"," ",991],["T_VARIABLE","$data",991],"[",["T_CONSTANT_ENCAPSED_STRING","'x'",991],"]",")",";",["T_WHITESPACE","\n    ",991],"}",["T_WHITESPACE","\n\n    ",992],["T_DOC_COMMENT","\/**\n     * Test that AJAX requests involving redirects handle cookie data\n     *\n     * @return void\n     * @triggers Controller.beforeRedirect $this->Controller\n     *\/",994],["T_WHITESPACE","\n    ",999],["T_PUBLIC","public",1000],["T_WHITESPACE"," ",1000],["T_FUNCTION","function",1000],["T_WHITESPACE"," ",1000],["T_STRING","testAjaxRedirectAsRequestActionWithCookieData",1000],"(",")",["T_WHITESPACE","\n    ",1000],"{",["T_WHITESPACE","\n        ",1001],["T_STRING","Configure",1002],["T_DOUBLE_COLON","::",1002],["T_STRING","write",1002],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",1002],",",["T_WHITESPACE"," ",1002],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",1002],")",";",["T_WHITESPACE","\n        ",1002],["T_STRING","Router",1003],["T_DOUBLE_COLON","::",1003],["T_STRING","connect",1003],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action'",1003],")",";",["T_WHITESPACE","\n        ",1003],["T_VARIABLE","$event",1004],["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],["T_NEW","new",1004],["T_WHITESPACE"," ",1004],["T_STRING","Event",1004],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRedirect'",1004],",",["T_WHITESPACE"," ",1004],["T_VARIABLE","$this",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","Controller",1004],")",";",["T_WHITESPACE","\n\n        ",1004],["T_VARIABLE","$this",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","Controller",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","RequestHandler",1006],["T_WHITESPACE"," ",1006],"=",["T_WHITESPACE"," ",1006],["T_NEW","new",1006],["T_WHITESPACE"," ",1006],["T_STRING","RequestHandlerComponent",1006],"(",["T_VARIABLE","$this",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","Controller",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","components",1006],"(",")",")",";",["T_WHITESPACE","\n        ",1006],["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","Controller",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","request",1007],["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE"," ",1007],["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","getMockBuilder",1007],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",1007],")",["T_WHITESPACE","\n            ",1007],["T_OBJECT_OPERATOR","->",1008],["T_STRING","setMethods",1008],"(","[",["T_CONSTANT_ENCAPSED_STRING","'is'",1008],"]",")",["T_WHITESPACE","\n            ",1008],["T_OBJECT_OPERATOR","->",1009],["T_STRING","getMock",1009],"(",")",";",["T_WHITESPACE","\n        ",1009],["T_VARIABLE","$this",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","Controller",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","response",1010],["T_WHITESPACE"," ",1010],"=",["T_WHITESPACE"," ",1010],["T_VARIABLE","$this",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","getMockBuilder",1010],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",1010],")",["T_WHITESPACE","\n            ",1010],["T_OBJECT_OPERATOR","->",1011],["T_STRING","setMethods",1011],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",1011],",",["T_WHITESPACE"," ",1011],["T_CONSTANT_ENCAPSED_STRING","'stop'",1011],"]",")",["T_WHITESPACE","\n            ",1011],["T_OBJECT_OPERATOR","->",1012],["T_STRING","getMock",1012],"(",")",";",["T_WHITESPACE","\n        ",1012],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","Controller",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","RequestHandler",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","request",1013],["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","Controller",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","request",1013],";",["T_WHITESPACE","\n        ",1013],["T_VARIABLE","$this",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","Controller",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","RequestHandler",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","response",1014],["T_WHITESPACE"," ",1014],"=",["T_WHITESPACE"," ",1014],["T_VARIABLE","$this",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","Controller",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","response",1014],";",["T_WHITESPACE","\n        ",1014],["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","Controller",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","request",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","expects",1015],"(",["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","any",1015],"(",")",")",["T_OBJECT_OPERATOR","->",1015],["T_STRING","method",1015],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",1015],")",["T_OBJECT_OPERATOR","->",1015],["T_STRING","will",1015],"(",["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","returnValue",1015],"(",["T_STRING","true",1015],")",")",";",["T_WHITESPACE","\n\n        ",1015],["T_VARIABLE","$cookies",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],"[",["T_WHITESPACE","\n            ",1017],["T_CONSTANT_ENCAPSED_STRING","'foo'",1018],["T_WHITESPACE"," ",1018],["T_DOUBLE_ARROW","=>",1018],["T_WHITESPACE"," ",1018],["T_CONSTANT_ENCAPSED_STRING","'bar'",1018],["T_WHITESPACE","\n        ",1018],"]",";",["T_WHITESPACE","\n        ",1019],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","Controller",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","request",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","cookies",1020],["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_VARIABLE","$cookies",1020],";",["T_WHITESPACE","\n\n        ",1020],["T_VARIABLE","$response",1022],["T_WHITESPACE"," ",1022],"=",["T_WHITESPACE"," ",1022],["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","Controller",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","RequestHandler",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","beforeRedirect",1022],"(",["T_WHITESPACE","\n            ",1022],["T_VARIABLE","$event",1023],",",["T_WHITESPACE","\n            ",1023],["T_CONSTANT_ENCAPSED_STRING","'\/request_action\/cookie_pass'",1024],",",["T_WHITESPACE","\n            ",1024],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","Controller",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","response",1025],["T_WHITESPACE","\n        ",1025],")",";",["T_WHITESPACE","\n        ",1026],["T_VARIABLE","$data",1027],["T_WHITESPACE"," ",1027],"=",["T_WHITESPACE"," ",1027],["T_STRING","json_decode",1027],"(",["T_VARIABLE","$response",1027],",",["T_WHITESPACE"," ",1027],["T_STRING","true",1027],")",";",["T_WHITESPACE","\n        ",1027],["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","assertEquals",1028],"(",["T_VARIABLE","$cookies",1028],",",["T_WHITESPACE"," ",1028],["T_VARIABLE","$data",1028],")",";",["T_WHITESPACE","\n    ",1028],"}",["T_WHITESPACE","\n\n    ",1029],["T_DOC_COMMENT","\/**\n     * Tests that AJAX requests involving redirects don't let the status code bleed through.\n     *\n     * @return void\n     * @triggers Controller.beforeRedirect $this->Controller\n     *\/",1031],["T_WHITESPACE","\n    ",1036],["T_PUBLIC","public",1037],["T_WHITESPACE"," ",1037],["T_FUNCTION","function",1037],["T_WHITESPACE"," ",1037],["T_STRING","testAjaxRedirectAsRequestActionStatusCode",1037],"(",")",["T_WHITESPACE","\n    ",1037],"{",["T_WHITESPACE","\n        ",1038],["T_STRING","Configure",1039],["T_DOUBLE_COLON","::",1039],["T_STRING","write",1039],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",1039],",",["T_WHITESPACE"," ",1039],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",1039],")",";",["T_WHITESPACE","\n        ",1039],["T_STRING","Router",1040],["T_DOUBLE_COLON","::",1040],["T_STRING","connect",1040],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action'",1040],")",";",["T_WHITESPACE","\n        ",1040],["T_VARIABLE","$event",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],["T_NEW","new",1041],["T_WHITESPACE"," ",1041],["T_STRING","Event",1041],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRedirect'",1041],",",["T_WHITESPACE"," ",1041],["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","Controller",1041],")",";",["T_WHITESPACE","\n\n        ",1041],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","Controller",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","RequestHandler",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_NEW","new",1043],["T_WHITESPACE"," ",1043],["T_STRING","RequestHandlerComponent",1043],"(",["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","Controller",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","components",1043],"(",")",")",";",["T_WHITESPACE","\n        ",1043],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","Controller",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","request",1044],["T_WHITESPACE"," ",1044],"=",["T_WHITESPACE"," ",1044],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","getMockBuilder",1044],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",1044],")",["T_WHITESPACE","\n            ",1044],["T_OBJECT_OPERATOR","->",1045],["T_STRING","setMethods",1045],"(","[",["T_CONSTANT_ENCAPSED_STRING","'is'",1045],"]",")",["T_WHITESPACE","\n            ",1045],["T_OBJECT_OPERATOR","->",1046],["T_STRING","getMock",1046],"(",")",";",["T_WHITESPACE","\n        ",1046],["T_VARIABLE","$this",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","Controller",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","response",1047],["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],["T_VARIABLE","$this",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","getMockBuilder",1047],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",1047],")",["T_WHITESPACE","\n            ",1047],["T_OBJECT_OPERATOR","->",1048],["T_STRING","setMethods",1048],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",1048],",",["T_WHITESPACE"," ",1048],["T_CONSTANT_ENCAPSED_STRING","'stop'",1048],"]",")",["T_WHITESPACE","\n            ",1048],["T_OBJECT_OPERATOR","->",1049],["T_STRING","getMock",1049],"(",")",";",["T_WHITESPACE","\n        ",1049],["T_VARIABLE","$this",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","Controller",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","response",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","statusCode",1050],"(",["T_LNUMBER","302",1050],")",";",["T_WHITESPACE","\n        ",1050],["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","Controller",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","RequestHandler",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","request",1051],["T_WHITESPACE"," ",1051],"=",["T_WHITESPACE"," ",1051],["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","Controller",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","request",1051],";",["T_WHITESPACE","\n        ",1051],["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","Controller",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","RequestHandler",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","response",1052],["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","Controller",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","response",1052],";",["T_WHITESPACE","\n        ",1052],["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","Controller",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","request",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","expects",1053],"(",["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","any",1053],"(",")",")",["T_OBJECT_OPERATOR","->",1053],["T_STRING","method",1053],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",1053],")",["T_OBJECT_OPERATOR","->",1053],["T_STRING","will",1053],"(",["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","returnValue",1053],"(",["T_STRING","true",1053],")",")",";",["T_WHITESPACE","\n\n        ",1053],["T_VARIABLE","$response",1055],["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","Controller",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","RequestHandler",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","beforeRedirect",1055],"(",["T_WHITESPACE","\n            ",1055],["T_VARIABLE","$event",1056],",",["T_WHITESPACE","\n            ",1056],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",1057],["T_WHITESPACE"," ",1057],["T_DOUBLE_ARROW","=>",1057],["T_WHITESPACE"," ",1057],["T_CONSTANT_ENCAPSED_STRING","'RequestHandlerTest'",1057],",",["T_WHITESPACE"," ",1057],["T_CONSTANT_ENCAPSED_STRING","'action'",1057],["T_WHITESPACE"," ",1057],["T_DOUBLE_ARROW","=>",1057],["T_WHITESPACE"," ",1057],["T_CONSTANT_ENCAPSED_STRING","'destination'",1057],"]",",",["T_WHITESPACE","\n            ",1057],["T_VARIABLE","$this",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","Controller",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","response",1058],["T_WHITESPACE","\n        ",1058],")",";",["T_WHITESPACE","\n        ",1059],["T_VARIABLE","$this",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","assertRegExp",1060],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts index\/'",1060],",",["T_WHITESPACE"," ",1060],["T_VARIABLE","$response",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","body",1060],"(",")",",",["T_WHITESPACE"," ",1060],["T_CONSTANT_ENCAPSED_STRING","'RequestAction redirect failed.'",1060],")",";",["T_WHITESPACE","\n        ",1060],["T_VARIABLE","$this",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","assertSame",1061],"(",["T_LNUMBER","200",1061],",",["T_WHITESPACE"," ",1061],["T_VARIABLE","$response",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","statusCode",1061],"(",")",")",";",["T_WHITESPACE","\n    ",1061],"}",["T_WHITESPACE","\n\n    ",1062],["T_DOC_COMMENT","\/**\n     * test that ajax requests involving redirects don't force no layout\n     * this would cause the ajax layout to not be rendered.\n     *\n     * @return void\n     * @triggers Controller.beforeRedirect $this->Controller\n     *\/",1064],["T_WHITESPACE","\n    ",1070],["T_PUBLIC","public",1071],["T_WHITESPACE"," ",1071],["T_FUNCTION","function",1071],["T_WHITESPACE"," ",1071],["T_STRING","testAjaxRedirectAsRequestActionStillRenderingLayout",1071],"(",")",["T_WHITESPACE","\n    ",1071],"{",["T_WHITESPACE","\n        ",1072],["T_STRING","Configure",1073],["T_DOUBLE_COLON","::",1073],["T_STRING","write",1073],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",1073],",",["T_WHITESPACE"," ",1073],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",1073],")",";",["T_WHITESPACE","\n        ",1073],["T_STRING","Router",1074],["T_DOUBLE_COLON","::",1074],["T_STRING","connect",1074],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action'",1074],")",";",["T_WHITESPACE","\n        ",1074],["T_VARIABLE","$event",1075],["T_WHITESPACE"," ",1075],"=",["T_WHITESPACE"," ",1075],["T_NEW","new",1075],["T_WHITESPACE"," ",1075],["T_STRING","Event",1075],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRedirect'",1075],",",["T_WHITESPACE"," ",1075],["T_VARIABLE","$this",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","Controller",1075],")",";",["T_WHITESPACE","\n\n        ",1075],["T_VARIABLE","$this",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","Controller",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","RequestHandler",1077],["T_WHITESPACE"," ",1077],"=",["T_WHITESPACE"," ",1077],["T_NEW","new",1077],["T_WHITESPACE"," ",1077],["T_STRING","RequestHandlerComponent",1077],"(",["T_VARIABLE","$this",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","Controller",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","components",1077],"(",")",")",";",["T_WHITESPACE","\n        ",1077],["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","Controller",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","request",1078],["T_WHITESPACE"," ",1078],"=",["T_WHITESPACE"," ",1078],["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","getMockBuilder",1078],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Request'",1078],")",["T_WHITESPACE","\n            ",1078],["T_OBJECT_OPERATOR","->",1079],["T_STRING","setMethods",1079],"(","[",["T_CONSTANT_ENCAPSED_STRING","'is'",1079],"]",")",["T_WHITESPACE","\n            ",1079],["T_OBJECT_OPERATOR","->",1080],["T_STRING","getMock",1080],"(",")",";",["T_WHITESPACE","\n        ",1080],["T_VARIABLE","$this",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","Controller",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","response",1081],["T_WHITESPACE"," ",1081],"=",["T_WHITESPACE"," ",1081],["T_VARIABLE","$this",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","getMockBuilder",1081],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",1081],")",["T_WHITESPACE","\n            ",1081],["T_OBJECT_OPERATOR","->",1082],["T_STRING","setMethods",1082],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_sendHeader'",1082],",",["T_WHITESPACE"," ",1082],["T_CONSTANT_ENCAPSED_STRING","'stop'",1082],"]",")",["T_WHITESPACE","\n            ",1082],["T_OBJECT_OPERATOR","->",1083],["T_STRING","getMock",1083],"(",")",";",["T_WHITESPACE","\n        ",1083],["T_VARIABLE","$this",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","Controller",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","RequestHandler",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","request",1084],["T_WHITESPACE"," ",1084],"=",["T_WHITESPACE"," ",1084],["T_VARIABLE","$this",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","Controller",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","request",1084],";",["T_WHITESPACE","\n        ",1084],["T_VARIABLE","$this",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","Controller",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","RequestHandler",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","response",1085],["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_VARIABLE","$this",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","Controller",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","response",1085],";",["T_WHITESPACE","\n        ",1085],["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","Controller",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","request",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","expects",1086],"(",["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","any",1086],"(",")",")",["T_OBJECT_OPERATOR","->",1086],["T_STRING","method",1086],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",1086],")",["T_OBJECT_OPERATOR","->",1086],["T_STRING","will",1086],"(",["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","returnValue",1086],"(",["T_STRING","true",1086],")",")",";",["T_WHITESPACE","\n\n        ",1086],["T_VARIABLE","$response",1088],["T_WHITESPACE"," ",1088],"=",["T_WHITESPACE"," ",1088],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","Controller",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","RequestHandler",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","beforeRedirect",1088],"(",["T_WHITESPACE","\n            ",1088],["T_VARIABLE","$event",1089],",",["T_WHITESPACE","\n            ",1089],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",1090],["T_WHITESPACE"," ",1090],["T_DOUBLE_ARROW","=>",1090],["T_WHITESPACE"," ",1090],["T_CONSTANT_ENCAPSED_STRING","'RequestHandlerTest'",1090],",",["T_WHITESPACE"," ",1090],["T_CONSTANT_ENCAPSED_STRING","'action'",1090],["T_WHITESPACE"," ",1090],["T_DOUBLE_ARROW","=>",1090],["T_WHITESPACE"," ",1090],["T_CONSTANT_ENCAPSED_STRING","'ajax2_layout'",1090],"]",",",["T_WHITESPACE","\n            ",1090],["T_VARIABLE","$this",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","Controller",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","response",1091],["T_WHITESPACE","\n        ",1091],")",";",["T_WHITESPACE","\n        ",1092],["T_VARIABLE","$this",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","assertRegExp",1093],"(",["T_CONSTANT_ENCAPSED_STRING","'\/posts index\/'",1093],",",["T_WHITESPACE"," ",1093],["T_VARIABLE","$response",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","body",1093],"(",")",",",["T_WHITESPACE"," ",1093],["T_CONSTANT_ENCAPSED_STRING","'RequestAction redirect failed.'",1093],")",";",["T_WHITESPACE","\n        ",1093],["T_VARIABLE","$this",1094],["T_OBJECT_OPERATOR","->",1094],["T_STRING","assertRegExp",1094],"(",["T_CONSTANT_ENCAPSED_STRING","'\/Ajax!\/'",1094],",",["T_WHITESPACE"," ",1094],["T_VARIABLE","$response",1094],["T_OBJECT_OPERATOR","->",1094],["T_STRING","body",1094],"(",")",",",["T_WHITESPACE"," ",1094],["T_CONSTANT_ENCAPSED_STRING","'Layout was not rendered.'",1094],")",";",["T_WHITESPACE","\n    ",1094],"}",["T_WHITESPACE","\n\n    ",1095],["T_DOC_COMMENT","\/**\n     * test that the beforeRedirect callback properly converts\n     * array URLs into their correct string ones, and adds base => false so\n     * the correct URLs are generated.\n     *\n     * @return void\n     * @triggers Controller.beforeRender $this->Controller\n     *\/",1097],["T_WHITESPACE","\n    ",1104],["T_PUBLIC","public",1105],["T_WHITESPACE"," ",1105],["T_FUNCTION","function",1105],["T_WHITESPACE"," ",1105],["T_STRING","testBeforeRedirectCallbackWithArrayUrl",1105],"(",")",["T_WHITESPACE","\n    ",1105],"{",["T_WHITESPACE","\n        ",1106],["T_STRING","Configure",1107],["T_DOUBLE_COLON","::",1107],["T_STRING","write",1107],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",1107],",",["T_WHITESPACE"," ",1107],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",1107],")",";",["T_WHITESPACE","\n        ",1107],["T_STRING","Router",1108],["T_DOUBLE_COLON","::",1108],["T_STRING","connect",1108],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:controller\/:action\/*'",1108],")",";",["T_WHITESPACE","\n        ",1108],["T_VARIABLE","$_SERVER",1109],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",1109],"]",["T_WHITESPACE"," ",1109],"=",["T_WHITESPACE"," ",1109],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",1109],";",["T_WHITESPACE","\n        ",1109],["T_VARIABLE","$event",1110],["T_WHITESPACE"," ",1110],"=",["T_WHITESPACE"," ",1110],["T_NEW","new",1110],["T_WHITESPACE"," ",1110],["T_STRING","Event",1110],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",1110],",",["T_WHITESPACE"," ",1110],["T_VARIABLE","$this",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","Controller",1110],")",";",["T_WHITESPACE","\n\n        ",1110],["T_STRING","Router",1112],["T_DOUBLE_COLON","::",1112],["T_STRING","setRequestInfo",1112],"(","[",["T_WHITESPACE","\n            ",1112],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",1113],["T_WHITESPACE"," ",1113],["T_DOUBLE_ARROW","=>",1113],["T_WHITESPACE"," ",1113],["T_STRING","null",1113],",",["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'controller'",1113],["T_WHITESPACE"," ",1113],["T_DOUBLE_ARROW","=>",1113],["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'accounts'",1113],",",["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'action'",1113],["T_WHITESPACE"," ",1113],["T_DOUBLE_ARROW","=>",1113],["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'index'",1113],",",["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'pass'",1113],["T_WHITESPACE"," ",1113],["T_DOUBLE_ARROW","=>",1113],["T_WHITESPACE"," ",1113],"[","]","]",",",["T_WHITESPACE","\n            ",1113],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",1114],["T_WHITESPACE"," ",1114],["T_DOUBLE_ARROW","=>",1114],["T_WHITESPACE"," ",1114],["T_CONSTANT_ENCAPSED_STRING","''",1114],",",["T_WHITESPACE"," ",1114],["T_CONSTANT_ENCAPSED_STRING","'here'",1114],["T_WHITESPACE"," ",1114],["T_DOUBLE_ARROW","=>",1114],["T_WHITESPACE"," ",1114],["T_CONSTANT_ENCAPSED_STRING","'\/accounts\/'",1114],",",["T_WHITESPACE"," ",1114],["T_CONSTANT_ENCAPSED_STRING","'webroot'",1114],["T_WHITESPACE"," ",1114],["T_DOUBLE_ARROW","=>",1114],["T_WHITESPACE"," ",1114],["T_CONSTANT_ENCAPSED_STRING","'\/'",1114],"]",["T_WHITESPACE","\n        ",1114],"]",")",";",["T_WHITESPACE","\n\n        ",1115],["T_VARIABLE","$RequestHandler",1117],["T_WHITESPACE"," ",1117],"=",["T_WHITESPACE"," ",1117],["T_NEW","new",1117],["T_WHITESPACE"," ",1117],["T_STRING","RequestHandlerComponent",1117],"(",["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","Controller",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","components",1117],"(",")",")",";",["T_WHITESPACE","\n        ",1117],["T_VARIABLE","$RequestHandler",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","request",1118],["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_NEW","new",1118],["T_WHITESPACE"," ",1118],["T_STRING","Request",1118],"(",["T_CONSTANT_ENCAPSED_STRING","'posts\/index'",1118],")",";",["T_WHITESPACE","\n        ",1118],["T_VARIABLE","$RequestHandler",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","response",1119],["T_WHITESPACE"," ",1119],"=",["T_WHITESPACE"," ",1119],["T_VARIABLE","$this",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","Controller",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","response",1119],";",["T_WHITESPACE","\n\n        ",1119],["T_STRING","ob_start",1121],"(",")",";",["T_WHITESPACE","\n        ",1121],["T_VARIABLE","$RequestHandler",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","beforeRedirect",1122],"(",["T_WHITESPACE","\n            ",1122],["T_VARIABLE","$event",1123],",",["T_WHITESPACE","\n            ",1123],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",1124],["T_WHITESPACE"," ",1124],["T_DOUBLE_ARROW","=>",1124],["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","'RequestHandlerTest'",1124],",",["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","'action'",1124],["T_WHITESPACE"," ",1124],["T_DOUBLE_ARROW","=>",1124],["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","'param_method'",1124],",",["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","'first'",1124],",",["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","'second'",1124],"]",",",["T_WHITESPACE","\n            ",1124],["T_VARIABLE","$this",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","Controller",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","response",1125],["T_WHITESPACE","\n        ",1125],")",";",["T_WHITESPACE","\n        ",1126],["T_VARIABLE","$result",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_STRING","ob_get_clean",1127],"(",")",";",["T_WHITESPACE","\n        ",1127],["T_VARIABLE","$this",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","assertEquals",1128],"(",["T_CONSTANT_ENCAPSED_STRING","'one: first two: second'",1128],",",["T_WHITESPACE"," ",1128],["T_VARIABLE","$result",1128],")",";",["T_WHITESPACE","\n    ",1128],"}",["T_WHITESPACE","\n\n    ",1129],["T_DOC_COMMENT","\/**\n     * testAddInputTypeException method\n     *\n     * @expectedException \\Cake\\Core\\Exception\\Exception\n     * @return void\n     *\/",1131],["T_WHITESPACE","\n    ",1136],["T_PUBLIC","public",1137],["T_WHITESPACE"," ",1137],["T_FUNCTION","function",1137],["T_WHITESPACE"," ",1137],["T_STRING","testAddInputTypeException",1137],"(",")",["T_WHITESPACE","\n    ",1137],"{",["T_WHITESPACE","\n        ",1138],["T_VARIABLE","$restore",1139],["T_WHITESPACE"," ",1139],"=",["T_WHITESPACE"," ",1139],["T_STRING","error_reporting",1139],"(",["T_STRING","E_ALL",1139],["T_WHITESPACE"," ",1139],"&",["T_WHITESPACE"," ",1139],"~",["T_STRING","E_USER_DEPRECATED",1139],")",";",["T_WHITESPACE","\n        ",1139],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","RequestHandler",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","addInputType",1140],"(",["T_CONSTANT_ENCAPSED_STRING","'csv'",1140],",",["T_WHITESPACE"," ",1140],"[",["T_CONSTANT_ENCAPSED_STRING","'I am not callable'",1140],"]",")",";",["T_WHITESPACE","\n        ",1140],["T_STRING","error_reporting",1141],"(",["T_VARIABLE","$restore",1141],")",";",["T_WHITESPACE","\n    ",1141],"}",["T_WHITESPACE","\n\n    ",1142],["T_DOC_COMMENT","\/**\n     * Test checkNotModified method\n     *\n     * @return void\n     * @triggers Controller.beforeRender $this->Controller\n     *\/",1144],["T_WHITESPACE","\n    ",1149],["T_PUBLIC","public",1150],["T_WHITESPACE"," ",1150],["T_FUNCTION","function",1150],["T_WHITESPACE"," ",1150],["T_STRING","testCheckNotModifiedByEtagStar",1150],"(",")",["T_WHITESPACE","\n    ",1150],"{",["T_WHITESPACE","\n        ",1151],["T_VARIABLE","$_SERVER",1152],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",1152],"]",["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],["T_CONSTANT_ENCAPSED_STRING","'*'",1152],";",["T_WHITESPACE","\n        ",1152],["T_VARIABLE","$event",1153],["T_WHITESPACE"," ",1153],"=",["T_WHITESPACE"," ",1153],["T_NEW","new",1153],["T_WHITESPACE"," ",1153],["T_STRING","Event",1153],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",1153],",",["T_WHITESPACE"," ",1153],["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","Controller",1153],")",";",["T_WHITESPACE","\n        ",1153],["T_VARIABLE","$RequestHandler",1154],["T_WHITESPACE"," ",1154],"=",["T_WHITESPACE"," ",1154],["T_NEW","new",1154],["T_WHITESPACE"," ",1154],["T_STRING","RequestHandlerComponent",1154],"(",["T_VARIABLE","$this",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","Controller",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","components",1154],"(",")",")",";",["T_WHITESPACE","\n        ",1154],["T_VARIABLE","$RequestHandler",1155],["T_OBJECT_OPERATOR","->",1155],["T_STRING","response",1155],["T_WHITESPACE"," ",1155],"=",["T_WHITESPACE"," ",1155],["T_VARIABLE","$this",1155],["T_OBJECT_OPERATOR","->",1155],["T_STRING","getMockBuilder",1155],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",1155],")",["T_WHITESPACE","\n            ",1155],["T_OBJECT_OPERATOR","->",1156],["T_STRING","setMethods",1156],"(","[",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1156],",",["T_WHITESPACE"," ",1156],["T_CONSTANT_ENCAPSED_STRING","'stop'",1156],"]",")",["T_WHITESPACE","\n            ",1156],["T_OBJECT_OPERATOR","->",1157],["T_STRING","getMock",1157],"(",")",";",["T_WHITESPACE","\n        ",1157],["T_VARIABLE","$RequestHandler",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","response",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","etag",1158],"(",["T_CONSTANT_ENCAPSED_STRING","'something'",1158],")",";",["T_WHITESPACE","\n        ",1158],["T_VARIABLE","$RequestHandler",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","response",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","expects",1159],"(",["T_VARIABLE","$this",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","once",1159],"(",")",")",["T_OBJECT_OPERATOR","->",1159],["T_STRING","method",1159],"(",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1159],")",";",["T_WHITESPACE","\n        ",1159],["T_VARIABLE","$this",1160],["T_OBJECT_OPERATOR","->",1160],["T_STRING","assertFalse",1160],"(",["T_VARIABLE","$RequestHandler",1160],["T_OBJECT_OPERATOR","->",1160],["T_STRING","beforeRender",1160],"(",["T_VARIABLE","$event",1160],")",")",";",["T_WHITESPACE","\n    ",1160],"}",["T_WHITESPACE","\n\n    ",1161],["T_DOC_COMMENT","\/**\n     * Test checkNotModified method\n     *\n     * @return void\n     * @triggers Controller.beforeRender\n     *\/",1163],["T_WHITESPACE","\n    ",1168],["T_PUBLIC","public",1169],["T_WHITESPACE"," ",1169],["T_FUNCTION","function",1169],["T_WHITESPACE"," ",1169],["T_STRING","testCheckNotModifiedByEtagExact",1169],"(",")",["T_WHITESPACE","\n    ",1169],"{",["T_WHITESPACE","\n        ",1170],["T_VARIABLE","$_SERVER",1171],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",1171],"]",["T_WHITESPACE"," ",1171],"=",["T_WHITESPACE"," ",1171],["T_CONSTANT_ENCAPSED_STRING","'W\/\"something\", \"other\"'",1171],";",["T_WHITESPACE","\n        ",1171],["T_VARIABLE","$event",1172],["T_WHITESPACE"," ",1172],"=",["T_WHITESPACE"," ",1172],["T_NEW","new",1172],["T_WHITESPACE"," ",1172],["T_STRING","Event",1172],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",1172],")",";",["T_WHITESPACE","\n        ",1172],["T_VARIABLE","$RequestHandler",1173],["T_WHITESPACE"," ",1173],"=",["T_WHITESPACE"," ",1173],["T_NEW","new",1173],["T_WHITESPACE"," ",1173],["T_STRING","RequestHandlerComponent",1173],"(",["T_VARIABLE","$this",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","Controller",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","components",1173],"(",")",")",";",["T_WHITESPACE","\n        ",1173],["T_VARIABLE","$RequestHandler",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","response",1174],["T_WHITESPACE"," ",1174],"=",["T_WHITESPACE"," ",1174],["T_VARIABLE","$this",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","getMockBuilder",1174],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",1174],")",["T_WHITESPACE","\n            ",1174],["T_OBJECT_OPERATOR","->",1175],["T_STRING","setMethods",1175],"(","[",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1175],",",["T_WHITESPACE"," ",1175],["T_CONSTANT_ENCAPSED_STRING","'stop'",1175],"]",")",["T_WHITESPACE","\n            ",1175],["T_OBJECT_OPERATOR","->",1176],["T_STRING","getMock",1176],"(",")",";",["T_WHITESPACE","\n        ",1176],["T_VARIABLE","$RequestHandler",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","response",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","etag",1177],"(",["T_CONSTANT_ENCAPSED_STRING","'something'",1177],",",["T_WHITESPACE"," ",1177],["T_STRING","true",1177],")",";",["T_WHITESPACE","\n        ",1177],["T_VARIABLE","$RequestHandler",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","response",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","expects",1178],"(",["T_VARIABLE","$this",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","once",1178],"(",")",")",["T_OBJECT_OPERATOR","->",1178],["T_STRING","method",1178],"(",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1178],")",";",["T_WHITESPACE","\n        ",1178],["T_VARIABLE","$this",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","assertFalse",1179],"(",["T_VARIABLE","$RequestHandler",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","beforeRender",1179],"(",["T_VARIABLE","$event",1179],")",")",";",["T_WHITESPACE","\n    ",1179],"}",["T_WHITESPACE","\n\n    ",1180],["T_DOC_COMMENT","\/**\n     * Test checkNotModified method\n     *\n     * @return void\n     * @triggers Controller.beforeRender $this->Controller\n     *\/",1182],["T_WHITESPACE","\n    ",1187],["T_PUBLIC","public",1188],["T_WHITESPACE"," ",1188],["T_FUNCTION","function",1188],["T_WHITESPACE"," ",1188],["T_STRING","testCheckNotModifiedByEtagAndTime",1188],"(",")",["T_WHITESPACE","\n    ",1188],"{",["T_WHITESPACE","\n        ",1189],["T_VARIABLE","$_SERVER",1190],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",1190],"]",["T_WHITESPACE"," ",1190],"=",["T_WHITESPACE"," ",1190],["T_CONSTANT_ENCAPSED_STRING","'W\/\"something\", \"other\"'",1190],";",["T_WHITESPACE","\n        ",1190],["T_VARIABLE","$_SERVER",1191],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",1191],"]",["T_WHITESPACE"," ",1191],"=",["T_WHITESPACE"," ",1191],["T_CONSTANT_ENCAPSED_STRING","'2012-01-01 00:00:00'",1191],";",["T_WHITESPACE","\n        ",1191],["T_VARIABLE","$event",1192],["T_WHITESPACE"," ",1192],"=",["T_WHITESPACE"," ",1192],["T_NEW","new",1192],["T_WHITESPACE"," ",1192],["T_STRING","Event",1192],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",1192],",",["T_WHITESPACE"," ",1192],["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","Controller",1192],")",";",["T_WHITESPACE","\n        ",1192],["T_VARIABLE","$RequestHandler",1193],["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],["T_NEW","new",1193],["T_WHITESPACE"," ",1193],["T_STRING","RequestHandlerComponent",1193],"(",["T_VARIABLE","$this",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","Controller",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","components",1193],"(",")",")",";",["T_WHITESPACE","\n        ",1193],["T_VARIABLE","$RequestHandler",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","response",1194],["T_WHITESPACE"," ",1194],"=",["T_WHITESPACE"," ",1194],["T_VARIABLE","$this",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","getMockBuilder",1194],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",1194],")",["T_WHITESPACE","\n            ",1194],["T_OBJECT_OPERATOR","->",1195],["T_STRING","setMethods",1195],"(","[",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1195],",",["T_WHITESPACE"," ",1195],["T_CONSTANT_ENCAPSED_STRING","'stop'",1195],"]",")",["T_WHITESPACE","\n            ",1195],["T_OBJECT_OPERATOR","->",1196],["T_STRING","getMock",1196],"(",")",";",["T_WHITESPACE","\n        ",1196],["T_VARIABLE","$RequestHandler",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","response",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","etag",1197],"(",["T_CONSTANT_ENCAPSED_STRING","'something'",1197],",",["T_WHITESPACE"," ",1197],["T_STRING","true",1197],")",";",["T_WHITESPACE","\n        ",1197],["T_VARIABLE","$RequestHandler",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","response",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","modified",1198],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-01-01 00:00:00'",1198],")",";",["T_WHITESPACE","\n        ",1198],["T_VARIABLE","$RequestHandler",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","response",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","expects",1199],"(",["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","once",1199],"(",")",")",["T_OBJECT_OPERATOR","->",1199],["T_STRING","method",1199],"(",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1199],")",";",["T_WHITESPACE","\n        ",1199],["T_VARIABLE","$this",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","assertFalse",1200],"(",["T_VARIABLE","$RequestHandler",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","beforeRender",1200],"(",["T_VARIABLE","$event",1200],")",")",";",["T_WHITESPACE","\n    ",1200],"}",["T_WHITESPACE","\n\n    ",1201],["T_DOC_COMMENT","\/**\n     * Test checkNotModified method\n     *\n     * @return void\n     * @triggers Controller.beforeRender $this->Controller\n     *\/",1203],["T_WHITESPACE","\n    ",1208],["T_PUBLIC","public",1209],["T_WHITESPACE"," ",1209],["T_FUNCTION","function",1209],["T_WHITESPACE"," ",1209],["T_STRING","testCheckNotModifiedNoInfo",1209],"(",")",["T_WHITESPACE","\n    ",1209],"{",["T_WHITESPACE","\n        ",1210],["T_VARIABLE","$event",1211],["T_WHITESPACE"," ",1211],"=",["T_WHITESPACE"," ",1211],["T_NEW","new",1211],["T_WHITESPACE"," ",1211],["T_STRING","Event",1211],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",1211],",",["T_WHITESPACE"," ",1211],["T_VARIABLE","$this",1211],["T_OBJECT_OPERATOR","->",1211],["T_STRING","Controller",1211],")",";",["T_WHITESPACE","\n        ",1211],["T_VARIABLE","$RequestHandler",1212],["T_WHITESPACE"," ",1212],"=",["T_WHITESPACE"," ",1212],["T_NEW","new",1212],["T_WHITESPACE"," ",1212],["T_STRING","RequestHandlerComponent",1212],"(",["T_VARIABLE","$this",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","Controller",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","components",1212],"(",")",")",";",["T_WHITESPACE","\n        ",1212],["T_VARIABLE","$RequestHandler",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","response",1213],["T_WHITESPACE"," ",1213],"=",["T_WHITESPACE"," ",1213],["T_VARIABLE","$this",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","getMockBuilder",1213],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",1213],")",["T_WHITESPACE","\n            ",1213],["T_OBJECT_OPERATOR","->",1214],["T_STRING","setMethods",1214],"(","[",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1214],",",["T_WHITESPACE"," ",1214],["T_CONSTANT_ENCAPSED_STRING","'stop'",1214],"]",")",["T_WHITESPACE","\n            ",1214],["T_OBJECT_OPERATOR","->",1215],["T_STRING","getMock",1215],"(",")",";",["T_WHITESPACE","\n        ",1215],["T_VARIABLE","$RequestHandler",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","response",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","expects",1216],"(",["T_VARIABLE","$this",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","never",1216],"(",")",")",["T_OBJECT_OPERATOR","->",1216],["T_STRING","method",1216],"(",["T_CONSTANT_ENCAPSED_STRING","'notModified'",1216],")",";",["T_WHITESPACE","\n        ",1216],["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","assertNull",1217],"(",["T_VARIABLE","$RequestHandler",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","beforeRender",1217],"(",["T_VARIABLE","$event",1217],")",")",";",["T_WHITESPACE","\n    ",1217],"}",["T_WHITESPACE","\n\n    ",1218],["T_DOC_COMMENT","\/**\n     * Test default options in construction\n     *\n     * @return void\n     *\/",1220],["T_WHITESPACE","\n    ",1224],["T_PUBLIC","public",1225],["T_WHITESPACE"," ",1225],["T_FUNCTION","function",1225],["T_WHITESPACE"," ",1225],["T_STRING","testConstructDefaultOptions",1225],"(",")",["T_WHITESPACE","\n    ",1225],"{",["T_WHITESPACE","\n        ",1226],["T_VARIABLE","$requestHandler",1227],["T_WHITESPACE"," ",1227],"=",["T_WHITESPACE"," ",1227],["T_NEW","new",1227],["T_WHITESPACE"," ",1227],["T_STRING","RequestHandlerComponent",1227],"(",["T_VARIABLE","$this",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","Controller",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","components",1227],"(",")",")",";",["T_WHITESPACE","\n        ",1227],["T_VARIABLE","$viewClass",1228],["T_WHITESPACE"," ",1228],"=",["T_WHITESPACE"," ",1228],["T_VARIABLE","$requestHandler",1228],["T_OBJECT_OPERATOR","->",1228],["T_STRING","config",1228],"(",["T_CONSTANT_ENCAPSED_STRING","'viewClassMap'",1228],")",";",["T_WHITESPACE","\n        ",1228],["T_VARIABLE","$expected",1229],["T_WHITESPACE"," ",1229],"=",["T_WHITESPACE"," ",1229],"[",["T_WHITESPACE","\n            ",1229],["T_CONSTANT_ENCAPSED_STRING","'json'",1230],["T_WHITESPACE"," ",1230],["T_DOUBLE_ARROW","=>",1230],["T_WHITESPACE"," ",1230],["T_CONSTANT_ENCAPSED_STRING","'Json'",1230],",",["T_WHITESPACE","\n            ",1230],["T_CONSTANT_ENCAPSED_STRING","'xml'",1231],["T_WHITESPACE"," ",1231],["T_DOUBLE_ARROW","=>",1231],["T_WHITESPACE"," ",1231],["T_CONSTANT_ENCAPSED_STRING","'Xml'",1231],",",["T_WHITESPACE","\n            ",1231],["T_CONSTANT_ENCAPSED_STRING","'ajax'",1232],["T_WHITESPACE"," ",1232],["T_DOUBLE_ARROW","=>",1232],["T_WHITESPACE"," ",1232],["T_CONSTANT_ENCAPSED_STRING","'Ajax'",1232],",",["T_WHITESPACE","\n        ",1232],"]",";",["T_WHITESPACE","\n        ",1233],["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","assertEquals",1234],"(",["T_VARIABLE","$expected",1234],",",["T_WHITESPACE"," ",1234],["T_VARIABLE","$viewClass",1234],")",";",["T_WHITESPACE","\n\n        ",1234],["T_VARIABLE","$inputs",1236],["T_WHITESPACE"," ",1236],"=",["T_WHITESPACE"," ",1236],["T_VARIABLE","$requestHandler",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","config",1236],"(",["T_CONSTANT_ENCAPSED_STRING","'inputTypeMap'",1236],")",";",["T_WHITESPACE","\n        ",1236],["T_VARIABLE","$this",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","assertArrayHasKey",1237],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",1237],",",["T_WHITESPACE"," ",1237],["T_VARIABLE","$inputs",1237],")",";",["T_WHITESPACE","\n        ",1237],["T_VARIABLE","$this",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","assertArrayHasKey",1238],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",1238],",",["T_WHITESPACE"," ",1238],["T_VARIABLE","$inputs",1238],")",";",["T_WHITESPACE","\n    ",1238],"}",["T_WHITESPACE","\n\n    ",1239],["T_DOC_COMMENT","\/**\n     * Test options in constructor replace defaults\n     *\n     * @return void\n     *\/",1241],["T_WHITESPACE","\n    ",1245],["T_PUBLIC","public",1246],["T_WHITESPACE"," ",1246],["T_FUNCTION","function",1246],["T_WHITESPACE"," ",1246],["T_STRING","testConstructReplaceOptions",1246],"(",")",["T_WHITESPACE","\n    ",1246],"{",["T_WHITESPACE","\n        ",1247],["T_VARIABLE","$requestHandler",1248],["T_WHITESPACE"," ",1248],"=",["T_WHITESPACE"," ",1248],["T_NEW","new",1248],["T_WHITESPACE"," ",1248],["T_STRING","RequestHandlerComponent",1248],"(",["T_WHITESPACE","\n            ",1248],["T_VARIABLE","$this",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","Controller",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","components",1249],"(",")",",",["T_WHITESPACE","\n            ",1249],"[",["T_WHITESPACE","\n                ",1250],["T_CONSTANT_ENCAPSED_STRING","'viewClassMap'",1251],["T_WHITESPACE"," ",1251],["T_DOUBLE_ARROW","=>",1251],["T_WHITESPACE"," ",1251],"[",["T_CONSTANT_ENCAPSED_STRING","'json'",1251],["T_WHITESPACE"," ",1251],["T_DOUBLE_ARROW","=>",1251],["T_WHITESPACE"," ",1251],["T_CONSTANT_ENCAPSED_STRING","'Json'",1251],"]",",",["T_WHITESPACE","\n                ",1251],["T_CONSTANT_ENCAPSED_STRING","'inputTypeMap'",1252],["T_WHITESPACE"," ",1252],["T_DOUBLE_ARROW","=>",1252],["T_WHITESPACE"," ",1252],"[",["T_CONSTANT_ENCAPSED_STRING","'json'",1252],["T_WHITESPACE"," ",1252],["T_DOUBLE_ARROW","=>",1252],["T_WHITESPACE"," ",1252],"[",["T_CONSTANT_ENCAPSED_STRING","'json_decode'",1252],",",["T_WHITESPACE"," ",1252],["T_STRING","true",1252],"]","]",["T_WHITESPACE","\n            ",1252],"]",["T_WHITESPACE","\n        ",1253],")",";",["T_WHITESPACE","\n        ",1254],["T_VARIABLE","$viewClass",1255],["T_WHITESPACE"," ",1255],"=",["T_WHITESPACE"," ",1255],["T_VARIABLE","$requestHandler",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","config",1255],"(",["T_CONSTANT_ENCAPSED_STRING","'viewClassMap'",1255],")",";",["T_WHITESPACE","\n        ",1255],["T_VARIABLE","$expected",1256],["T_WHITESPACE"," ",1256],"=",["T_WHITESPACE"," ",1256],"[",["T_WHITESPACE","\n            ",1256],["T_CONSTANT_ENCAPSED_STRING","'json'",1257],["T_WHITESPACE"," ",1257],["T_DOUBLE_ARROW","=>",1257],["T_WHITESPACE"," ",1257],["T_CONSTANT_ENCAPSED_STRING","'Json'",1257],",",["T_WHITESPACE","\n        ",1257],"]",";",["T_WHITESPACE","\n        ",1258],["T_VARIABLE","$this",1259],["T_OBJECT_OPERATOR","->",1259],["T_STRING","assertEquals",1259],"(",["T_VARIABLE","$expected",1259],",",["T_WHITESPACE"," ",1259],["T_VARIABLE","$viewClass",1259],")",";",["T_WHITESPACE","\n\n        ",1259],["T_VARIABLE","$inputs",1261],["T_WHITESPACE"," ",1261],"=",["T_WHITESPACE"," ",1261],["T_VARIABLE","$requestHandler",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","config",1261],"(",["T_CONSTANT_ENCAPSED_STRING","'inputTypeMap'",1261],")",";",["T_WHITESPACE","\n        ",1261],["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","assertArrayHasKey",1262],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",1262],",",["T_WHITESPACE"," ",1262],["T_VARIABLE","$inputs",1262],")",";",["T_WHITESPACE","\n        ",1262],["T_VARIABLE","$this",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","assertCount",1263],"(",["T_LNUMBER","1",1263],",",["T_WHITESPACE"," ",1263],["T_VARIABLE","$inputs",1263],")",";",["T_WHITESPACE","\n    ",1263],"}",["T_WHITESPACE","\n\n    ",1264],["T_DOC_COMMENT","\/**\n     * test beforeRender() doesn't override response type set in controller action\n     *\n     * @return void\n     *\/",1266],["T_WHITESPACE","\n    ",1270],["T_PUBLIC","public",1271],["T_WHITESPACE"," ",1271],["T_FUNCTION","function",1271],["T_WHITESPACE"," ",1271],["T_STRING","testBeforeRender",1271],"(",")",["T_WHITESPACE","\n    ",1271],"{",["T_WHITESPACE","\n        ",1272],["T_VARIABLE","$this",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","Controller",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","set_response_type",1273],"(",")",";",["T_WHITESPACE","\n        ",1273],["T_VARIABLE","$event",1274],["T_WHITESPACE"," ",1274],"=",["T_WHITESPACE"," ",1274],["T_NEW","new",1274],["T_WHITESPACE"," ",1274],["T_STRING","Event",1274],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller.beforeRender'",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","Controller",1274],")",";",["T_WHITESPACE","\n        ",1274],["T_VARIABLE","$this",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","RequestHandler",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","beforeRender",1275],"(",["T_VARIABLE","$event",1275],")",";",["T_WHITESPACE","\n        ",1275],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","assertEquals",1276],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",1276],",",["T_WHITESPACE"," ",1276],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","Controller",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","response",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","type",1276],"(",")",")",";",["T_WHITESPACE","\n    ",1276],"}",["T_WHITESPACE","\n",1277],"}",["T_WHITESPACE","\n",1278]]