[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",13],["T_NAMESPACE","namespace",14],["T_WHITESPACE"," ",14],["T_STRING","Cake",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestCase",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Network",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Http",14],";",["T_WHITESPACE","\n\n",14],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Cake",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Http",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Client",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CookieCollection",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Http",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Client",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Response",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TestSuite",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TestCase",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * HTTP cookies test.\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","CookieCollectionTest",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","TestCase",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * setup\n     *\n     * @return void\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","cookies",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_STRING","CookieCollection",34],"(",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * test store\n     *\n     * @return void\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testStore",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$headers",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],"[",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",45],",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1'",46],",",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: second=2; Path=\/; Domain=.foo.example.com'",47],",",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: expiring=now; Expires=Wed, 09-Jun-1999 10:18:14 GMT'",48],",",["T_WHITESPACE","\n        ",48],"]",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$response",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","Response",50],"(",["T_VARIABLE","$headers",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","''",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$result",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","cookies",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","store",51],"(",["T_VARIABLE","$response",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/some\/path'",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertNull",52],"(",["T_VARIABLE","$result",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$result",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","cookies",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getAll",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertCount",55],"(",["T_LNUMBER","2",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$result",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$expected",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[",["T_WHITESPACE","\n            ",56],"[",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'name'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'first'",58],",",["T_WHITESPACE","\n                ",58],["T_CONSTANT_ENCAPSED_STRING","'value'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'1'",59],",",["T_WHITESPACE","\n                ",59],["T_CONSTANT_ENCAPSED_STRING","'path'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",60],",",["T_WHITESPACE","\n                ",60],["T_CONSTANT_ENCAPSED_STRING","'domain'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'example.com'",61],["T_WHITESPACE","\n            ",61],"]",",",["T_WHITESPACE","\n            ",62],"[",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'name'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'second'",64],",",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'value'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'2'",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'path'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\/'",66],",",["T_WHITESPACE","\n                ",66],["T_CONSTANT_ENCAPSED_STRING","'domain'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'.foo.example.com'",67],["T_WHITESPACE","\n            ",67],"]",",",["T_WHITESPACE","\n        ",68],"]",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_VARIABLE","$expected",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$result",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * test store secure.\n     *\n     * @return void\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testStoreSecure",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$headers",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n            ",80],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",81],",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1'",82],",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: second=2; Secure; HttpOnly'",83],",",["T_WHITESPACE","\n        ",83],"]",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$response",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","Response",85],"(",["T_VARIABLE","$headers",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","''",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$result",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","cookies",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","store",86],"(",["T_VARIABLE","$response",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/some\/path'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertNull",87],"(",["T_VARIABLE","$result",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$result",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","cookies",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getAll",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertCount",90],"(",["T_LNUMBER","2",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$result",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$expected",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[",["T_WHITESPACE","\n            ",91],"[",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","'name'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'first'",93],",",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'value'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'1'",94],",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'path'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'domain'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'example.com'",96],["T_WHITESPACE","\n            ",96],"]",",",["T_WHITESPACE","\n            ",97],"[",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'name'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'second'",99],",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'value'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'2'",100],",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'path'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",101],",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'domain'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'example.com'",102],",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'secure'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","true",103],",",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'httponly'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_STRING","true",104],",",["T_WHITESPACE","\n            ",104],"]",",",["T_WHITESPACE","\n        ",105],"]",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEquals",107],"(",["T_VARIABLE","$expected",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$result",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * test storing an expired cookie clears existing ones too.\n     *\n     * @return void\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","testStoreExpiring",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$headers",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"[",["T_WHITESPACE","\n            ",117],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",118],",",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1'",119],",",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: second=2; Path=\/'",120],",",["T_WHITESPACE","\n        ",120],"]",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$response",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Response",122],"(",["T_VARIABLE","$headers",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","''",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","cookies",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","store",123],"(",["T_VARIABLE","$response",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/some\/path'",123],")",";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$result",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","cookies",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getAll",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertCount",126],"(",["T_LNUMBER","2",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$result",126],")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$headers",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",129],",",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1; Expires=Wed, 09-Jun-1999 10:18:14 GMT'",130],",",["T_WHITESPACE","\n        ",130],"]",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$response",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_STRING","Response",132],"(",["T_VARIABLE","$headers",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","''",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","cookies",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","store",133],"(",["T_VARIABLE","$response",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$result",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","cookies",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getAll",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertCount",135],"(",["T_LNUMBER","2",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$result",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'Path does not match, no expiration'",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_COMMENT","\/\/ Use a more common date format that doesn't match\n",137],["T_WHITESPACE","        ",138],["T_VARIABLE","$headers",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"[",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",139],",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1; Domain=.foo.example.com; Expires=Wed, 09-Jun-1999 10:18:14 GMT'",140],",",["T_WHITESPACE","\n        ",140],"]",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$response",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_NEW","new",142],["T_WHITESPACE"," ",142],["T_STRING","Response",142],"(",["T_VARIABLE","$headers",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","''",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","cookies",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","store",143],"(",["T_VARIABLE","$response",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/some\/path'",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$result",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","cookies",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getAll",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertCount",145],"(",["T_LNUMBER","2",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$result",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'Domain does not match, no expiration'",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_COMMENT","\/\/ Use an RFC1123 date\n",147],["T_WHITESPACE","        ",148],["T_VARIABLE","$headers",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],"[",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",149],",",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1; Expires=Wed, 09 Jun 1999 10:18:14 GMT'",150],",",["T_WHITESPACE","\n        ",150],"]",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$response",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","Response",152],"(",["T_VARIABLE","$headers",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","cookies",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","store",153],"(",["T_VARIABLE","$response",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/some\/path'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$result",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","cookies",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getAll",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertCount",155],"(",["T_LNUMBER","1",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$result",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'Domain does not match, no expiration'",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$expected",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"[",["T_WHITESPACE","\n            ",157],"[",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'name'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'second'",159],",",["T_WHITESPACE","\n                ",159],["T_CONSTANT_ENCAPSED_STRING","'value'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'2'",160],",",["T_WHITESPACE","\n                ",160],["T_CONSTANT_ENCAPSED_STRING","'path'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'\/'",161],",",["T_WHITESPACE","\n                ",161],["T_CONSTANT_ENCAPSED_STRING","'domain'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'example.com'",162],["T_WHITESPACE","\n            ",162],"]",",",["T_WHITESPACE","\n        ",163],"]",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEquals",165],"(",["T_VARIABLE","$expected",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$result",165],")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * test getting cookies with secure flags\n     *\n     * @return void\n     *\/",168],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","testGetMatchingSecure",173],"(",")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$headers",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],"[",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",176],",",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1'",177],",",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: second=2; Secure; HttpOnly'",178],",",["T_WHITESPACE","\n        ",178],"]",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$response",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_NEW","new",180],["T_WHITESPACE"," ",180],["T_STRING","Response",180],"(",["T_VARIABLE","$headers",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","''",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","cookies",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","store",181],"(",["T_VARIABLE","$response",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/example.com\/'",181],")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$result",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","cookies",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/example.com\/test'",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$expected",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'1'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'second'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'2'",184],"]",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEquals",185],"(",["T_VARIABLE","$expected",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$result",185],")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$result",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","cookies",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","get",187],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/test'",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$expected",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'1'",188],"]",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertEquals",189],"(",["T_VARIABLE","$expected",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$result",189],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * test getting cookies with secure flags\n     *\n     * @return void\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","testGetMatchingPath",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$headers",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"[",["T_WHITESPACE","\n            ",199],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",200],",",["T_WHITESPACE","\n            ",200],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1; Path=\/foo'",201],",",["T_WHITESPACE","\n            ",201],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: second=2; Path=\/'",202],",",["T_WHITESPACE","\n        ",202],"]",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$response",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_NEW","new",204],["T_WHITESPACE"," ",204],["T_STRING","Response",204],"(",["T_VARIABLE","$headers",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","''",204],")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","cookies",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","store",205],"(",["T_VARIABLE","$response",205],",",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/foo'",205],")",";",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$result",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","cookies",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","get",207],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/foo'",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$expected",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'1'",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'second'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_LNUMBER","2",208],"]",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertEquals",209],"(",["T_VARIABLE","$expected",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$result",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$result",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","cookies",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","get",211],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",211],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$expected",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_LNUMBER","2",212],"]",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertEquals",213],"(",["T_VARIABLE","$expected",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$result",213],")",";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$result",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","cookies",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","get",215],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/test'",215],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$expected",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_LNUMBER","2",216],"]",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertEquals",217],"(",["T_VARIABLE","$expected",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$result",217],")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Test getting cookies matching on paths exactly\n     *\n     * @return void\n     *\/",220],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","testGetMatchingDomain",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$headers",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[",["T_WHITESPACE","\n            ",227],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0 200 Ok'",228],",",["T_WHITESPACE","\n            ",228],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: first=1; Domain=.example.com'",229],",",["T_WHITESPACE","\n            ",229],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie: second=2;'",230],",",["T_WHITESPACE","\n        ",230],"]",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$response",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_STRING","Response",232],"(",["T_VARIABLE","$headers",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","''",232],")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","cookies",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","store",233],"(",["T_VARIABLE","$response",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/foo.example.com\/'",233],")",";",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$result",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","cookies",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","get",235],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",235],")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$expected",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_LNUMBER","1",236],"]",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertEquals",237],"(",["T_VARIABLE","$expected",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$result",237],")",";",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$result",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","cookies",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","get",239],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/foo.example.com'",239],")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$expected",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_LNUMBER","1",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'second'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'2'",240],"]",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertEquals",241],"(",["T_VARIABLE","$expected",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$result",241],")",";",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$result",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","cookies",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","get",243],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/bar.foo.example.com'",243],")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$expected",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_LNUMBER","1",244],"]",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertEquals",245],"(",["T_VARIABLE","$expected",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$result",245],")",";",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$result",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","cookies",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","get",247],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/api.example.com'",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$expected",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","1",248],"]",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEquals",249],"(",["T_VARIABLE","$expected",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$result",249],")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$result",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","cookies",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","get",251],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/google.com'",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$expected",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],"[","]",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEquals",253],"(",["T_VARIABLE","$expected",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$result",253],")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n",254],"}",["T_WHITESPACE","\n",255]]