[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * MailTransportTest file\n *\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",16],["T_NAMESPACE","namespace",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Test",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestCase",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Mailer",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Transport",17],";",["T_WHITESPACE","\n\n",17],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TestSuite",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TestCase",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Test case\n *\/",21],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","MailTransportTest",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_STRING","TestCase",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Setup\n     *\n     * @return void\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","setUp",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","MailTransport",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getMockBuilder",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Mailer\\Transport\\MailTransport'",35],")",["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","setMethods",36],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_mail'",36],"]",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","getMock",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","MailTransport",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","config",38],"(","[",["T_CONSTANT_ENCAPSED_STRING","'additionalParameters'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'-f'",38],"]",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * testSend method\n     *\n     * @return void\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testSendData",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$email",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMockBuilder",48],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Mailer\\Email'",48],")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","setMethods",49],"(","[",["T_CONSTANT_ENCAPSED_STRING","'message'",49],"]",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMock",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$email",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","from",51],"(",["T_CONSTANT_ENCAPSED_STRING","'noreply@cakephp.org'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'CakePHP Test'",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$email",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","returnPath",52],"(",["T_CONSTANT_ENCAPSED_STRING","'pleasereply@cakephp.org'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'CakePHP Return'",52],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$email",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","to",53],"(",["T_CONSTANT_ENCAPSED_STRING","'cake@cakephp.org'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'CakePHP'",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$email",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","cc",54],"(","[",["T_CONSTANT_ENCAPSED_STRING","'mark@cakephp.org'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Mark Story'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'juan@cakephp.org'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Juan Basso'",54],"]",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$email",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","bcc",55],"(",["T_CONSTANT_ENCAPSED_STRING","'phpnut@cakephp.org'",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$email",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","messageID",56],"(",["T_CONSTANT_ENCAPSED_STRING","'<4d9946cf-0a44-4907-88fe-1d0ccbdd56cb@localhost>'",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$longNonAscii",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Fo\u00c3\u00b8 B\u00c3\u00a5r B\u00c3\u00a9z Fo\u00c3\u00b8 B\u00c3\u00a5r B\u00c3\u00a9z Fo\u00c3\u00b8 B\u00c3\u00a5r B\u00c3\u00a9z Fo\u00c3\u00b8 B\u00c3\u00a5r B\u00c3\u00a9z'",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$email",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","subject",58],"(",["T_VARIABLE","$longNonAscii",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$date",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","date",59],"(",["T_STRING","DATE_RFC2822",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$email",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","setHeaders",60],"(","[",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'X-Mailer'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'CakePHP Email'",61],",",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'Date'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$date",62],",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'X-add'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","mb_encode_mimeheader",63],"(",["T_VARIABLE","$longNonAscii",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'utf8'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'B'",63],")",",",["T_WHITESPACE","\n        ",63],"]",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$email",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","expects",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","any",65],"(",")",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","method",65],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","will",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","returnValue",66],"(","[",["T_CONSTANT_ENCAPSED_STRING","'First Line'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Second Line'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'.Third Line'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","''",66],"]",")",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$encoded",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'=?UTF-8?B?Rm\/DuCBCw6VyIELDqXogRm\/DuCBCw6VyIELDqXogRm\/DuCBCw6VyIELDqXog?='",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$encoded",69],["T_WHITESPACE"," ",69],["T_CONCAT_EQUAL",".=",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","' =?UTF-8?B?Rm\/DuCBCw6VyIELDqXo=?='",69],";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$data",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","\"From: CakePHP Test <noreply@cakephp.org>\"",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_STRING","PHP_EOL",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$data",72],["T_WHITESPACE"," ",72],["T_CONCAT_EQUAL",".=",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","\"Return-Path: CakePHP Return <pleasereply@cakephp.org>\"",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_STRING","PHP_EOL",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$data",73],["T_WHITESPACE"," ",73],["T_CONCAT_EQUAL",".=",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","\"Cc: Mark Story <mark@cakephp.org>, Juan Basso <juan@cakephp.org>\"",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_STRING","PHP_EOL",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$data",74],["T_WHITESPACE"," ",74],["T_CONCAT_EQUAL",".=",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","\"Bcc: phpnut@cakephp.org\"",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_STRING","PHP_EOL",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$data",75],["T_WHITESPACE"," ",75],["T_CONCAT_EQUAL",".=",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"X-Mailer: CakePHP Email\"",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_STRING","PHP_EOL",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$data",76],["T_WHITESPACE"," ",76],["T_CONCAT_EQUAL",".=",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","\"Date: \"",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$date",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_STRING","PHP_EOL",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$data",77],["T_WHITESPACE"," ",77],["T_CONCAT_EQUAL",".=",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"X-add: \"",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$encoded",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_STRING","PHP_EOL",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$data",78],["T_WHITESPACE"," ",78],["T_CONCAT_EQUAL",".=",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"Message-ID: <4d9946cf-0a44-4907-88fe-1d0ccbdd56cb@localhost>\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_STRING","PHP_EOL",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$data",79],["T_WHITESPACE"," ",79],["T_CONCAT_EQUAL",".=",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\"MIME-Version: 1.0\"",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_STRING","PHP_EOL",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$data",80],["T_WHITESPACE"," ",80],["T_CONCAT_EQUAL",".=",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","\"Content-Type: text\/plain; charset=UTF-8\"",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_STRING","PHP_EOL",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$data",81],["T_WHITESPACE"," ",81],["T_CONCAT_EQUAL",".=",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\"Content-Transfer-Encoding: 8bit\"",81],";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","MailTransport",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","expects",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","once",83],"(",")",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'_mail'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","with",84],"(",["T_WHITESPACE","\n                ",84],["T_CONSTANT_ENCAPSED_STRING","'CakePHP <cake@cakephp.org>'",85],",",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$encoded",86],",",["T_WHITESPACE","\n                ",86],["T_STRING","implode",87],"(",["T_STRING","PHP_EOL",87],",",["T_WHITESPACE"," ",87],"[",["T_CONSTANT_ENCAPSED_STRING","'First Line'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'Second Line'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'.Third Line'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","''",87],"]",")",",",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$data",88],",",["T_WHITESPACE","\n                ",88],["T_CONSTANT_ENCAPSED_STRING","'-f'",89],["T_WHITESPACE","\n            ",89],")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","MailTransport",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","send",92],"(",["T_VARIABLE","$email",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n",93],"}",["T_WHITESPACE","\n",94]]