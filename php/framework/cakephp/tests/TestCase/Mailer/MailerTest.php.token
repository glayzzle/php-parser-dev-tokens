[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @since         3.1.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",12],["T_NAMESPACE","namespace",13],["T_WHITESPACE"," ",13],["T_STRING","Cake",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestCase",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mailer",13],";",["T_WHITESPACE","\n\n",13],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestSuite",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","RuntimeException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","TestApp",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Mailer",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestMailer",17],";",["T_WHITESPACE","\n\n",17],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","MailerTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","getMockForEmail",21],"(",["T_VARIABLE","$methods",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],"[","]",",",["T_WHITESPACE"," ",21],["T_VARIABLE","$args",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],"[","]",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getMockBuilder",23],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Mailer\\Email'",23],")",["T_WHITESPACE","\n            ",23],["T_OBJECT_OPERATOR","->",24],["T_STRING","setMethods",24],"(",["T_ARRAY_CAST","(array)",24],["T_VARIABLE","$methods",24],")",["T_WHITESPACE","\n            ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","setConstructorArgs",25],"(",["T_ARRAY_CAST","(array)",25],["T_VARIABLE","$args",25],")",["T_WHITESPACE","\n            ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","getMock",26],"(",")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testConstructor",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$mailer",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_STRING","TestMailer",31],"(",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertInstanceOf",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Mailer\\Email'",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$mailer",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getEmailForAssertion",32],"(",")",")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testReset",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$mailer",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_STRING","TestMailer",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$email",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$mailer",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getEmailForAssertion",38],"(",")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$mailer",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","set",40],"(","[",["T_CONSTANT_ENCAPSED_STRING","'foo'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'bar'",40],"]",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertNotEquals",41],"(",["T_VARIABLE","$email",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","viewVars",41],"(",")",",",["T_WHITESPACE"," ",41],["T_VARIABLE","$mailer",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","reset",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getEmailForAssertion",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","viewVars",41],"(",")",")",";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testGetName",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$result",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"(",["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","TestMailer",46],"(",")",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","getName",46],"(",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$expected",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Test'",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertEquals",48],"(",["T_VARIABLE","$expected",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$result",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testLayout",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$result",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"(",["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","TestMailer",53],"(",")",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","layout",53],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertInstanceOf",54],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$result",54],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEquals",55],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$result",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","viewBuilder",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","layout",55],"(",")",")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testProxies",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$email",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMockForEmail",60],"(",["T_CONSTANT_ENCAPSED_STRING","'setHeaders'",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$email",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","expects",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","once",61],"(",")",")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","method",62],"(",["T_CONSTANT_ENCAPSED_STRING","'setHeaders'",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","with",63],"(","[",["T_CONSTANT_ENCAPSED_STRING","'X-Something'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'nice'",63],"]",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$result",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"(",["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","TestMailer",64],"(",["T_VARIABLE","$email",64],")",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","setHeaders",64],"(","[",["T_CONSTANT_ENCAPSED_STRING","'X-Something'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'nice'",64],"]",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertInstanceOf",65],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$result",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$email",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockForEmail",67],"(",["T_CONSTANT_ENCAPSED_STRING","'addHeaders'",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$email",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","expects",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","once",68],"(",")",")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'addHeaders'",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","with",70],"(","[",["T_CONSTANT_ENCAPSED_STRING","'X-Something'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'very nice'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'X-Other'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'cool'",70],"]",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$result",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"(",["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STRING","TestMailer",71],"(",["T_VARIABLE","$email",71],")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","addHeaders",71],"(","[",["T_CONSTANT_ENCAPSED_STRING","'X-Something'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'very nice'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'X-Other'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'cool'",71],"]",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertInstanceOf",72],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$result",72],")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$email",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockForEmail",74],"(",["T_CONSTANT_ENCAPSED_STRING","'attachments'",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$email",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","expects",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","once",75],"(",")",")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","method",76],"(",["T_CONSTANT_ENCAPSED_STRING","'attachments'",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","with",77],"(","[",["T_WHITESPACE","\n                ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","CAKE",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'basics.php'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'mimetype'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",78],"]",["T_WHITESPACE","\n            ",78],"]",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$result",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"(",["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","TestMailer",80],"(",["T_VARIABLE","$email",80],")",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","attachments",80],"(","[",["T_WHITESPACE","\n            ",80],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_STRING","CAKE",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'basics.php'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'mimetype'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",81],"]",["T_WHITESPACE","\n        ",81],"]",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertInstanceOf",83],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$result",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testSet",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$email",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMockForEmail",88],"(",["T_CONSTANT_ENCAPSED_STRING","'viewVars'",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$email",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","expects",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","once",89],"(",")",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","method",90],"(",["T_CONSTANT_ENCAPSED_STRING","'viewVars'",90],")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","with",91],"(","[",["T_CONSTANT_ENCAPSED_STRING","'key'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'value'",91],"]",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$result",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"(",["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","TestMailer",92],"(",["T_VARIABLE","$email",92],")",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","set",92],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'value'",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertInstanceOf",93],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$result",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$email",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMockForEmail",95],"(",["T_CONSTANT_ENCAPSED_STRING","'viewVars'",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$email",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","expects",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","once",96],"(",")",")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","method",97],"(",["T_CONSTANT_ENCAPSED_STRING","'viewVars'",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","with",98],"(","[",["T_CONSTANT_ENCAPSED_STRING","'key'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'value'",98],"]",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$result",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"(",["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","TestMailer",99],"(",["T_VARIABLE","$email",99],")",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","set",99],"(","[",["T_CONSTANT_ENCAPSED_STRING","'key'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'value'",99],"]",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertInstanceOf",100],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$result",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testSend",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$email",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMockForEmail",105],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$email",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","expects",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","any",106],"(",")",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","method",107],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","will",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","returnValue",108],"(","[","]",")",")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$mailer",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMockBuilder",110],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","setMethods",111],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test'",111],"]",")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","setConstructorArgs",112],"(","[",["T_VARIABLE","$email",112],"]",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","getMock",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$mailer",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","expects",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","once",114],"(",")",")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","method",115],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",115],")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","with",116],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'bar'",116],")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$mailer",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","template",118],"(",["T_CONSTANT_ENCAPSED_STRING","'foobar'",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$mailer",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","send",119],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",119],",",["T_WHITESPACE"," ",119],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'bar'",119],"]",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_VARIABLE","$mailer",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","template",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'foobar'",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","testSendWithUnsetTemplateDefaultsToActionName",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$email",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMockForEmail",125],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$email",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","any",126],"(",")",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","method",127],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","will",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","returnValue",128],"(","[","]",")",")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$mailer",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getMockBuilder",130],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","setMethods",131],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test'",131],"]",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","setConstructorArgs",132],"(","[",["T_VARIABLE","$email",132],"]",")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMock",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$mailer",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","once",134],"(",")",")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","with",136],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'bar'",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$mailer",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","send",138],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",138],",",["T_WHITESPACE"," ",138],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'bar'",138],"]",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEquals",139],"(",["T_VARIABLE","$mailer",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","template",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'test'",139],")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Test that mailers call reset() when send fails\n     *\/",142],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","testSendFailsEmailIsReset",145],"(",")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$email",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getMockForEmail",147],"(","[",["T_CONSTANT_ENCAPSED_STRING","'send'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'reset'",147],"]",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$email",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","expects",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","once",148],"(",")",")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","method",149],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",149],")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","will",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","throwException",150],"(",["T_NEW","new",150],["T_WHITESPACE"," ",150],["T_STRING","RuntimeException",150],"(",["T_CONSTANT_ENCAPSED_STRING","'kaboom'",150],")",")",")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$mailer",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getMockBuilder",152],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","setMethods",153],"(","[",["T_CONSTANT_ENCAPSED_STRING","'welcome'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'reset'",153],"]",")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","setConstructorArgs",154],"(","[",["T_VARIABLE","$email",154],"]",")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","getMock",155],"(",")",";",["T_WHITESPACE","\n\n        ",155],["T_COMMENT","\/\/ Mailer should be reset even if sending fails.\n",157],["T_WHITESPACE","        ",158],["T_VARIABLE","$mailer",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","expects",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","once",158],"(",")",")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","method",159],"(",["T_CONSTANT_ENCAPSED_STRING","'reset'",159],")",";",["T_WHITESPACE","\n\n        ",159],["T_TRY","try",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$mailer",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","send",162],"(",["T_CONSTANT_ENCAPSED_STRING","'welcome'",162],",",["T_WHITESPACE"," ",162],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'bar'",162],"]",")",";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","fail",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception should bubble up.'",163],")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE"," ",164],["T_CATCH","catch",164],["T_WHITESPACE"," ",164],"(",["T_STRING","RuntimeException",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$e",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertTrue",165],"(",["T_STRING","true",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Exception was raised'",165],")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * test that initial email instance config is restored after email is sent.\n     *\n     * @return [type]\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testDefaultProfileRestoration",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$email",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getMockForEmail",176],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",176],",",["T_WHITESPACE"," ",176],"[","[",["T_CONSTANT_ENCAPSED_STRING","'template'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'cakephp'",176],"]","]",")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$email",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","expects",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","any",177],"(",")",")",["T_WHITESPACE","\n            ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","method",178],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",178],")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","will",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","returnValue",179],"(","[","]",")",")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$mailer",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getMockBuilder",181],"(",["T_CONSTANT_ENCAPSED_STRING","'TestApp\\Mailer\\TestMailer'",181],")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","setMethods",182],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test'",182],"]",")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","setConstructorArgs",183],"(","[",["T_VARIABLE","$email",183],"]",")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","getMock",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$mailer",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","expects",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","once",185],"(",")",")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",186],")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","with",187],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'bar'",187],")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$mailer",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","template",189],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$mailer",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","send",190],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",190],",",["T_WHITESPACE"," ",190],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'bar'",190],"]",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEquals",191],"(",["T_VARIABLE","$mailer",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","template",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'test'",191],")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertEquals",192],"(",["T_CONSTANT_ENCAPSED_STRING","'cakephp'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$mailer",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","viewBuilder",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","template",192],"(",")",")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * @expectedException \\Cake\\Mailer\\Exception\\MissingActionException\n     * @expectedExceptionMessage Mail TestMailer::test() could not be found, or is not accessible.\n     *\/",195],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","testMissingActionThrowsException",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],"(",["T_NEW","new",201],["T_WHITESPACE"," ",201],["T_STRING","TestMailer",201],"(",")",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","send",201],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n",202],"}",["T_WHITESPACE","\n",203]]