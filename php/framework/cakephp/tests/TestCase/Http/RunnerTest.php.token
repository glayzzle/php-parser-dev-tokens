[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Http",17],["T_NS_SEPARATOR","\\",17],["T_STRING","MiddlewareQueue",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Http",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Runner",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TestSuite",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TestCase",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","RuntimeException",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Test case for runner.\n *\/",22],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","RunnerTest",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","TestCase",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_DOC_COMMENT","\/**\n     * setup\n     *\n     * @return void\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","setUp",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","stack",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","MiddlewareQueue",35],"(",")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","ok",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$req",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$res",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$next",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n            ",37],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$next",38],"(",["T_VARIABLE","$req",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$res",38],")",";",["T_WHITESPACE","\n        ",38],"}",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","pass",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$req",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$res",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$next",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$next",41],"(",["T_VARIABLE","$req",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$res",41],")",";",["T_WHITESPACE","\n        ",41],"}",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","noNext",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$req",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$res",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$next",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],"}",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","fail",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$req",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$res",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$next",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_THROW","throw",46],["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","RuntimeException",46],"(",["T_CONSTANT_ENCAPSED_STRING","'A bad thing'",46],")",";",["T_WHITESPACE","\n        ",46],"}",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Test running a single middleware object.\n     *\n     * @return void\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testRunSingle",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","stack",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","add",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","ok",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$req",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMockBuilder",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ServerRequestInterface'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$res",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getMockBuilder",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ResponseInterface'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","getMock",59],"(",")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$runner",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","Runner",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$result",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$runner",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","run",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","stack",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$req",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$res",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertSame",63],"(",["T_VARIABLE","$res",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$result",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Test replacing a response in a middleware.\n     *\n     * @return void\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testRunResponseReplace",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$one",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$req",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$res",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$next",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$res",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ResponseInterface'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getMock",74],"(",")",";",["T_WHITESPACE","\n\n            ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$next",76],"(",["T_VARIABLE","$req",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$res",76],")",";",["T_WHITESPACE","\n        ",76],"}",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","stack",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","add",78],"(",["T_VARIABLE","$one",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$runner",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","Runner",79],"(",")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$req",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMockBuilder",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ServerRequestInterface'",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","getMock",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$res",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getMockBuilder",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ResponseInterface'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","getMock",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$result",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$runner",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","run",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","stack",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$req",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$res",83],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertNotSame",85],"(",["T_VARIABLE","$res",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$result",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Response was not replaced'",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertInstanceOf",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ResponseInterface'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$result",86],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Test that middleware is run in sequence\n     *\n     * @return void\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","testRunSequencing",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$log",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],"[","]",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$one",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$req",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$res",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$next",97],")",["T_WHITESPACE"," ",97],["T_USE","use",97],["T_WHITESPACE"," ",97],"(","&",["T_VARIABLE","$log",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$log",98],"[","]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'one'",98],";",["T_WHITESPACE","\n\n            ",98],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$next",100],"(",["T_VARIABLE","$req",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$res",100],")",";",["T_WHITESPACE","\n        ",100],"}",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$two",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$req",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$res",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$next",102],")",["T_WHITESPACE"," ",102],["T_USE","use",102],["T_WHITESPACE"," ",102],"(","&",["T_VARIABLE","$log",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$log",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'two'",103],";",["T_WHITESPACE","\n\n            ",103],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$next",105],"(",["T_VARIABLE","$req",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$res",105],")",";",["T_WHITESPACE","\n        ",105],"}",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$three",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$req",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$res",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$next",107],")",["T_WHITESPACE"," ",107],["T_USE","use",107],["T_WHITESPACE"," ",107],"(","&",["T_VARIABLE","$log",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$log",108],"[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'three'",108],";",["T_WHITESPACE","\n\n            ",108],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$next",110],"(",["T_VARIABLE","$req",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$res",110],")",";",["T_WHITESPACE","\n        ",110],"}",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","stack",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","add",112],"(",["T_VARIABLE","$one",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","add",112],"(",["T_VARIABLE","$two",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","add",112],"(",["T_VARIABLE","$three",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$runner",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","Runner",113],"(",")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$req",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMockBuilder",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ServerRequestInterface'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getMock",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$res",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMockBuilder",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ResponseInterface'",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","getMock",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$result",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$runner",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","run",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","stack",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$req",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$res",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertSame",119],"(",["T_VARIABLE","$res",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$result",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Response is not correct'",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$expected",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],"[",["T_CONSTANT_ENCAPSED_STRING","'one'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'two'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'three'",121],"]",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEquals",122],"(",["T_VARIABLE","$expected",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$log",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Test that exceptions bubble up.\n     *\n     * @expectedException \\RuntimeException\n     * @expectedExceptionMessage A bad thing\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","testRunExceptionInMiddleware",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","stack",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","add",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","ok",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","add",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","fail",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$req",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMockBuilder",134],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ServerRequestInterface'",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getMock",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$res",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getMockBuilder",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ResponseInterface'",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","getMock",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$runner",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","Runner",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$runner",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","run",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","stack",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$req",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$res",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Test that 'bad' middleware returns null.\n     *\n     * @return void\n     *\/",141],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","testRunNextNotCalled",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","stack",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","add",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","noNext",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$req",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getMockBuilder",149],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ServerRequestInterface'",149],")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getMock",149],"(",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$res",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getMockBuilder",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Http\\Message\\ResponseInterface'",150],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","getMock",150],"(",")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$runner",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","Runner",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$result",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$runner",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","run",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","stack",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$req",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$res",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertNull",154],"(",["T_VARIABLE","$result",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n",155],"}",["T_WHITESPACE","\n",156]]