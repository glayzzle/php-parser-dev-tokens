[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Http",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Configure",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Http",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ActionDispatcher",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Network",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Request",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Network",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Response",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Network",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Session",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Routing",22],["T_NS_SEPARATOR","\\",22],["T_STRING","DispatcherFactory",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Routing",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Filter",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ControllerFactoryFilter",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Routing",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Router",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Cake",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestSuite",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestCase",25],";",["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Test case for the ActionDispatcher.\n *\/",27],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","ActionDispatcherTest",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_STRING","TestCase",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_DOC_COMMENT","\/**\n     * Setup\n     *\n     * @return void\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","setUp",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n        ",39],["T_STRING","Router",40],["T_DOUBLE_COLON","::",40],["T_STRING","reload",40],"(",")",";",["T_WHITESPACE","\n        ",40],["T_STRING","Configure",41],["T_DOUBLE_COLON","::",41],["T_STRING","write",41],"(",["T_CONSTANT_ENCAPSED_STRING","'App.namespace'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'TestApp'",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","dispatcher",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","ActionDispatcher",42],"(",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","dispatcher",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","addFilter",43],"(",["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","ControllerFactoryFilter",43],"(",")",")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Teardown\n     *\n     * @return void\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","tearDown",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_STRING","parent",53],["T_DOUBLE_COLON","::",53],["T_STRING","tearDown",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_STRING","DispatcherFactory",54],["T_DOUBLE_COLON","::",54],["T_STRING","clear",54],"(",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Ensure the constructor args end up on the right protected properties.\n     *\n     * @return void\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","testConstructorArgs",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$factory",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMockBuilder",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Http\\ControllerFactory'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getMock",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$events",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMockBuilder",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Event\\EventManager'",65],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getMock",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$dispatcher",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","ActionDispatcher",66],"(",["T_VARIABLE","$factory",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$events",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertAttributeSame",68],"(",["T_VARIABLE","$events",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'_eventManager'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$dispatcher",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertAttributeSame",69],"(",["T_VARIABLE","$factory",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'factory'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$dispatcher",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Ensure that filters connected to the DispatcherFactory are\n     * also applied\n     *\/",72],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testDispatcherFactoryCompat",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$filter",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMockBuilder",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",78],")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","setMethods",79],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",79],"]",")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_STRING","DispatcherFactory",81],["T_DOUBLE_COLON","::",81],["T_STRING","add",81],"(",["T_VARIABLE","$filter",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$dispatcher",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","ActionDispatcher",82],"(",["T_STRING","null",82],",",["T_WHITESPACE"," ",82],["T_STRING","null",82],",",["T_WHITESPACE"," ",82],["T_STRING","DispatcherFactory",82],["T_DOUBLE_COLON","::",82],["T_STRING","filters",82],"(",")",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertCount",83],"(",["T_LNUMBER","1",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$dispatcher",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getFilters",83],"(",")",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertSame",84],"(",["T_VARIABLE","$filter",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$dispatcher",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getFilters",84],"(",")","[",["T_LNUMBER","0",84],"]",")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Test adding routing filters\n     *\n     * @return void\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testAddFilter",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertCount",94],"(",["T_LNUMBER","1",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","dispatcher",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getFilters",94],"(",")",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$events",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","dispatcher",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","eventManager",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertCount",96],"(",["T_LNUMBER","1",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$events",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","listeners",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.beforeDispatch'",96],")",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertCount",97],"(",["T_LNUMBER","1",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$events",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","listeners",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",97],")",")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$filter",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMockBuilder",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",99],")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","setMethods",100],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",100],"]",")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMock",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","dispatcher",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","addFilter",102],"(",["T_VARIABLE","$filter",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertCount",104],"(",["T_LNUMBER","2",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","dispatcher",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getFilters",104],"(",")",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertCount",105],"(",["T_LNUMBER","2",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$events",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","listeners",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.beforeDispatch'",105],")",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertCount",106],"(",["T_LNUMBER","2",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$events",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","listeners",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",106],")",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Ensure that aborting in the beforeDispatch doesn't invoke the controller\n     *\n     * @return void\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","testBeforeDispatchEventAbort",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$response",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NEW","new",116],["T_WHITESPACE"," ",116],["T_STRING","Response",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$dispatcher",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","ActionDispatcher",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$filter",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getMockBuilder",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","setMethods",119],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",119],"]",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMock",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$filter",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","once",121],"(",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","will",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","returnValue",123],"(",["T_VARIABLE","$response",123],")",")",";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$req",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","Request",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$res",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","Response",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$dispatcher",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","addFilter",127],"(",["T_VARIABLE","$filter",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$result",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$dispatcher",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","dispatch",128],"(",["T_VARIABLE","$req",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$res",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertSame",129],"(",["T_VARIABLE","$response",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$result",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Should be response from filter.'",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Ensure afterDispatch can replace the response\n     *\n     * @return void\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testDispatchAfterDispatchEventModifyResponse",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$filter",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMockBuilder",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","setMethods",140],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",140],"]",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","getMock",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$filter",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","once",142],"(",")",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",143],")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","will",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","returnCallback",144],"(",["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$event",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$event",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",145],"]",["T_OBJECT_OPERATOR","->",145],["T_STRING","body",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter body'",145],")",";",["T_WHITESPACE","\n            ",145],"}",")",")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$req",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_STRING","Request",148],"(","[",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","'url'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\/cakes'",149],",",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'params'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],"[",["T_WHITESPACE","\n                ",150],["T_CONSTANT_ENCAPSED_STRING","'plugin'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","null",151],",",["T_WHITESPACE","\n                ",151],["T_CONSTANT_ENCAPSED_STRING","'controller'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'Cakes'",152],",",["T_WHITESPACE","\n                ",152],["T_CONSTANT_ENCAPSED_STRING","'action'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'index'",153],",",["T_WHITESPACE","\n                ",153],["T_CONSTANT_ENCAPSED_STRING","'pass'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],"[","]",",",["T_WHITESPACE","\n            ",154],"]",",",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'session'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","Session",156],["T_WHITESPACE","\n        ",156],"]",")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$res",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_STRING","Response",158],"(",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","dispatcher",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","addFilter",159],"(",["T_VARIABLE","$filter",159],")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$result",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","dispatcher",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","dispatch",160],"(",["T_VARIABLE","$req",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$res",160],")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertSame",161],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter body'",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$result",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","body",161],"(",")",",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Should be response from filter.'",161],")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Test that a controller action returning a response\n     * results in no afterDispatch event.\n     *\n     * @return void\n     *\/",164],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","testDispatchActionReturnResponseNoAfterDispatch",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$filter",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMockBuilder",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Routing\\DispatcherFilter'",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","setMethods",173],"(","[",["T_CONSTANT_ENCAPSED_STRING","'beforeDispatch'",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",173],"]",")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","getMock",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$filter",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","expects",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","never",175],"(",")",")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","method",176],"(",["T_CONSTANT_ENCAPSED_STRING","'afterDispatch'",176],")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$req",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","Request",178],"(","[",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'url'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'\/cakes'",179],",",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'params'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],"[",["T_WHITESPACE","\n                ",180],["T_CONSTANT_ENCAPSED_STRING","'plugin'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","null",181],",",["T_WHITESPACE","\n                ",181],["T_CONSTANT_ENCAPSED_STRING","'controller'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'Cakes'",182],",",["T_WHITESPACE","\n                ",182],["T_CONSTANT_ENCAPSED_STRING","'action'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'index'",183],",",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'pass'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],"[","]",",",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'return'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_STRING","true",185],",",["T_WHITESPACE","\n            ",185],"]",",",["T_WHITESPACE","\n        ",186],"]",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$res",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_NEW","new",188],["T_WHITESPACE"," ",188],["T_STRING","Response",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","dispatcher",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addFilter",189],"(",["T_VARIABLE","$filter",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$result",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","dispatcher",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","dispatch",190],"(",["T_VARIABLE","$req",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$res",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertSame",191],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello Jane'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$result",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","body",191],"(",")",",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'Response from controller.'",191],")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Test that dispatching sets the Router request state.\n     *\n     * @return void\n     *\/",194],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","testDispatchSetsRequestContext",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertNull",201],"(",["T_STRING","Router",201],["T_DOUBLE_COLON","::",201],["T_STRING","getRequest",201],"(",")",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$req",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_NEW","new",202],["T_WHITESPACE"," ",202],["T_STRING","Request",202],"(","[",["T_WHITESPACE","\n            ",202],["T_CONSTANT_ENCAPSED_STRING","'url'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'\/cakes'",203],",",["T_WHITESPACE","\n            ",203],["T_CONSTANT_ENCAPSED_STRING","'params'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],"[",["T_WHITESPACE","\n                ",204],["T_CONSTANT_ENCAPSED_STRING","'plugin'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_STRING","null",205],",",["T_WHITESPACE","\n                ",205],["T_CONSTANT_ENCAPSED_STRING","'controller'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'Cakes'",206],",",["T_WHITESPACE","\n                ",206],["T_CONSTANT_ENCAPSED_STRING","'action'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'index'",207],",",["T_WHITESPACE","\n                ",207],["T_CONSTANT_ENCAPSED_STRING","'pass'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],"[","]",",",["T_WHITESPACE","\n                ",208],["T_CONSTANT_ENCAPSED_STRING","'return'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_STRING","true",209],",",["T_WHITESPACE","\n            ",209],"]",",",["T_WHITESPACE","\n        ",210],"]",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$res",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_STRING","Response",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","dispatcher",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","dispatch",213],"(",["T_VARIABLE","$req",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$res",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertSame",214],"(",["T_VARIABLE","$req",214],",",["T_WHITESPACE"," ",214],["T_STRING","Router",214],["T_DOUBLE_COLON","::",214],["T_STRING","getRequest",214],"(",["T_STRING","true",214],")",")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * test invalid response from dispatch process.\n     *\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Controller actions can only return Cake\\Network\\Response or null\n     * @return void\n     *\/",217],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","testDispatchInvalidResponse",224],"(",")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$req",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_NEW","new",226],["T_WHITESPACE"," ",226],["T_STRING","Request",226],"(","[",["T_WHITESPACE","\n            ",226],["T_CONSTANT_ENCAPSED_STRING","'url'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'\/cakes'",227],",",["T_WHITESPACE","\n            ",227],["T_CONSTANT_ENCAPSED_STRING","'params'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],"[",["T_WHITESPACE","\n                ",228],["T_CONSTANT_ENCAPSED_STRING","'plugin'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_STRING","null",229],",",["T_WHITESPACE","\n                ",229],["T_CONSTANT_ENCAPSED_STRING","'controller'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'Cakes'",230],",",["T_WHITESPACE","\n                ",230],["T_CONSTANT_ENCAPSED_STRING","'action'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'invalid'",231],",",["T_WHITESPACE","\n                ",231],["T_CONSTANT_ENCAPSED_STRING","'pass'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],"[","]",",",["T_WHITESPACE","\n            ",232],"]",",",["T_WHITESPACE","\n        ",233],"]",")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$res",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_STRING","Response",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$result",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","dispatcher",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","dispatch",236],"(",["T_VARIABLE","$req",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$res",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Test dispatch with autorender\n     *\n     * @return void\n     *\/",239],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","testDispatchAutoRender",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$request",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","Request",246],"(","[",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'url'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'posts'",247],",",["T_WHITESPACE","\n            ",247],["T_CONSTANT_ENCAPSED_STRING","'params'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],"[",["T_WHITESPACE","\n                ",248],["T_CONSTANT_ENCAPSED_STRING","'controller'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'Posts'",249],",",["T_WHITESPACE","\n                ",249],["T_CONSTANT_ENCAPSED_STRING","'action'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'index'",250],",",["T_WHITESPACE","\n                ",250],["T_CONSTANT_ENCAPSED_STRING","'pass'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],"[","]",",",["T_WHITESPACE","\n            ",251],"]",["T_WHITESPACE","\n        ",252],"]",")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$response",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_STRING","Response",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$result",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","dispatcher",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","dispatch",255],"(",["T_VARIABLE","$request",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$response",255],")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertInstanceOf",256],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$result",256],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertContains",257],"(",["T_CONSTANT_ENCAPSED_STRING","'posts index'",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$result",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","body",257],"(",")",")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Test dispatch with autorender=false\n     *\n     * @return void\n     *\/",260],["T_WHITESPACE","\n    ",264],["T_PUBLIC","public",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","testDispatchAutoRenderFalse",265],"(",")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$request",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_NEW","new",267],["T_WHITESPACE"," ",267],["T_STRING","Request",267],"(","[",["T_WHITESPACE","\n            ",267],["T_CONSTANT_ENCAPSED_STRING","'url'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'posts'",268],",",["T_WHITESPACE","\n            ",268],["T_CONSTANT_ENCAPSED_STRING","'params'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],"[",["T_WHITESPACE","\n                ",269],["T_CONSTANT_ENCAPSED_STRING","'controller'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Cakes'",270],",",["T_WHITESPACE","\n                ",270],["T_CONSTANT_ENCAPSED_STRING","'action'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'noRender'",271],",",["T_WHITESPACE","\n                ",271],["T_CONSTANT_ENCAPSED_STRING","'pass'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],"[","]",",",["T_WHITESPACE","\n            ",272],"]",["T_WHITESPACE","\n        ",273],"]",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$response",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_NEW","new",275],["T_WHITESPACE"," ",275],["T_STRING","Response",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$result",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","dispatcher",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","dispatch",276],"(",["T_VARIABLE","$request",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$response",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertInstanceOf",277],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$result",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","assertContains",278],"(",["T_CONSTANT_ENCAPSED_STRING","'autoRender false body'",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$result",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","body",278],"(",")",")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * testMissingController method\n     *\n     * @expectedException \\Cake\\Routing\\Exception\\MissingControllerException\n     * @expectedExceptionMessage Controller class SomeController could not be found.\n     * @return void\n     *\/",281],["T_WHITESPACE","\n    ",287],["T_PUBLIC","public",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","testMissingController",288],"(",")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$request",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","Request",290],"(","[",["T_WHITESPACE","\n            ",290],["T_CONSTANT_ENCAPSED_STRING","'url'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'some_controller\/home'",291],",",["T_WHITESPACE","\n            ",291],["T_CONSTANT_ENCAPSED_STRING","'params'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],"[",["T_WHITESPACE","\n                ",292],["T_CONSTANT_ENCAPSED_STRING","'controller'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'SomeController'",293],",",["T_WHITESPACE","\n                ",293],["T_CONSTANT_ENCAPSED_STRING","'action'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'home'",294],",",["T_WHITESPACE","\n            ",294],"]",["T_WHITESPACE","\n        ",295],"]",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$response",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getMockBuilder",297],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",297],")",["T_OBJECT_OPERATOR","->",297],["T_STRING","getMock",297],"(",")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","dispatcher",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","dispatch",298],"(",["T_VARIABLE","$request",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$response",298],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * testMissingControllerInterface method\n     *\n     * @expectedException \\Cake\\Routing\\Exception\\MissingControllerException\n     * @expectedExceptionMessage Controller class Interface could not be found.\n     * @return void\n     *\/",301],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","testMissingControllerInterface",308],"(",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$request",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_STRING","Request",310],"(","[",["T_WHITESPACE","\n            ",310],["T_CONSTANT_ENCAPSED_STRING","'url'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'interface\/index'",311],",",["T_WHITESPACE","\n            ",311],["T_CONSTANT_ENCAPSED_STRING","'params'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],"[",["T_WHITESPACE","\n                ",312],["T_CONSTANT_ENCAPSED_STRING","'controller'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'Interface'",313],",",["T_WHITESPACE","\n                ",313],["T_CONSTANT_ENCAPSED_STRING","'action'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'index'",314],",",["T_WHITESPACE","\n            ",314],"]",["T_WHITESPACE","\n        ",315],"]",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$response",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getMockBuilder",317],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",317],")",["T_OBJECT_OPERATOR","->",317],["T_STRING","getMock",317],"(",")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","dispatcher",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","dispatch",318],"(",["T_VARIABLE","$request",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$response",318],")",";",["T_WHITESPACE","\n    ",318],"}",["T_WHITESPACE","\n\n    ",319],["T_DOC_COMMENT","\/**\n     * testMissingControllerInterface method\n     *\n     * @expectedException \\Cake\\Routing\\Exception\\MissingControllerException\n     * @expectedExceptionMessage Controller class Abstract could not be found.\n     * @return void\n     *\/",321],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","testMissingControllerAbstract",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$request",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_NEW","new",330],["T_WHITESPACE"," ",330],["T_STRING","Request",330],"(","[",["T_WHITESPACE","\n            ",330],["T_CONSTANT_ENCAPSED_STRING","'url'",331],["T_WHITESPACE"," ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'abstract\/index'",331],",",["T_WHITESPACE","\n            ",331],["T_CONSTANT_ENCAPSED_STRING","'params'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],"[",["T_WHITESPACE","\n                ",332],["T_CONSTANT_ENCAPSED_STRING","'controller'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'Abstract'",333],",",["T_WHITESPACE","\n                ",333],["T_CONSTANT_ENCAPSED_STRING","'action'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'index'",334],",",["T_WHITESPACE","\n            ",334],"]",["T_WHITESPACE","\n        ",335],"]",")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$response",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getMockBuilder",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","getMock",337],"(",")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","dispatcher",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","dispatch",338],"(",["T_VARIABLE","$request",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$response",338],")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Test that lowercase controller names result in missing controller errors.\n     *\n     * In case-insensitive file systems, lowercase controller names will kind of work.\n     * This causes annoying deployment issues for lots of folks.\n     *\n     * @expectedException \\Cake\\Routing\\Exception\\MissingControllerException\n     * @expectedExceptionMessage Controller class somepages could not be found.\n     * @return void\n     *\/",341],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","testMissingControllerLowercase",351],"(",")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$request",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_STRING","Request",353],"(","[",["T_WHITESPACE","\n            ",353],["T_CONSTANT_ENCAPSED_STRING","'url'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'pages\/home'",354],",",["T_WHITESPACE","\n            ",354],["T_CONSTANT_ENCAPSED_STRING","'params'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],"[",["T_WHITESPACE","\n                ",355],["T_CONSTANT_ENCAPSED_STRING","'plugin'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","null",356],",",["T_WHITESPACE","\n                ",356],["T_CONSTANT_ENCAPSED_STRING","'controller'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'somepages'",357],",",["T_WHITESPACE","\n                ",357],["T_CONSTANT_ENCAPSED_STRING","'action'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'display'",358],",",["T_WHITESPACE","\n                ",358],["T_CONSTANT_ENCAPSED_STRING","'pass'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],"[",["T_CONSTANT_ENCAPSED_STRING","'home'",359],"]",",",["T_WHITESPACE","\n            ",359],"]",["T_WHITESPACE","\n        ",360],"]",")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$response",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getMockBuilder",362],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Network\\Response'",362],")",["T_OBJECT_OPERATOR","->",362],["T_STRING","getMock",362],"(",")",";",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","dispatcher",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","dispatch",363],"(",["T_VARIABLE","$request",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$response",363],")",";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * Ensure that a controller's startup event can stop the request.\n     *\n     * @return void\n     *\/",366],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","testStartupProcessAbort",371],"(",")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$request",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_NEW","new",373],["T_WHITESPACE"," ",373],["T_STRING","Request",373],"(","[",["T_WHITESPACE","\n            ",373],["T_CONSTANT_ENCAPSED_STRING","'url'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'cakes\/index'",374],",",["T_WHITESPACE","\n            ",374],["T_CONSTANT_ENCAPSED_STRING","'params'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],"[",["T_WHITESPACE","\n                ",375],["T_CONSTANT_ENCAPSED_STRING","'plugin'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_STRING","null",376],",",["T_WHITESPACE","\n                ",376],["T_CONSTANT_ENCAPSED_STRING","'controller'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'Cakes'",377],",",["T_WHITESPACE","\n                ",377],["T_CONSTANT_ENCAPSED_STRING","'action'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'index'",378],",",["T_WHITESPACE","\n                ",378],["T_CONSTANT_ENCAPSED_STRING","'stop'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'startup'",379],",",["T_WHITESPACE","\n                ",379],["T_CONSTANT_ENCAPSED_STRING","'pass'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],"[","]",",",["T_WHITESPACE","\n            ",380],"]",["T_WHITESPACE","\n        ",381],"]",")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$response",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_NEW","new",383],["T_WHITESPACE"," ",383],["T_STRING","Response",383],"(",")",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$result",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","dispatcher",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","dispatch",384],"(",["T_VARIABLE","$request",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$response",384],")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","assertSame",385],"(",["T_CONSTANT_ENCAPSED_STRING","'startup stop'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$result",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","body",385],"(",")",")",";",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n\n    ",386],["T_DOC_COMMENT","\/**\n     * Ensure that a controllers startup process can emit a response\n     *\n     * @return void\n     *\/",388],["T_WHITESPACE","\n    ",392],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","testShutdownProcessResponse",393],"(",")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$request",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_NEW","new",395],["T_WHITESPACE"," ",395],["T_STRING","Request",395],"(","[",["T_WHITESPACE","\n            ",395],["T_CONSTANT_ENCAPSED_STRING","'url'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'cakes\/index'",396],",",["T_WHITESPACE","\n            ",396],["T_CONSTANT_ENCAPSED_STRING","'params'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],"[",["T_WHITESPACE","\n                ",397],["T_CONSTANT_ENCAPSED_STRING","'plugin'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_STRING","null",398],",",["T_WHITESPACE","\n                ",398],["T_CONSTANT_ENCAPSED_STRING","'controller'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'Cakes'",399],",",["T_WHITESPACE","\n                ",399],["T_CONSTANT_ENCAPSED_STRING","'action'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'index'",400],",",["T_WHITESPACE","\n                ",400],["T_CONSTANT_ENCAPSED_STRING","'stop'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'shutdown'",401],",",["T_WHITESPACE","\n                ",401],["T_CONSTANT_ENCAPSED_STRING","'pass'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],"[","]",",",["T_WHITESPACE","\n            ",402],"]",["T_WHITESPACE","\n        ",403],"]",")",";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$response",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_NEW","new",405],["T_WHITESPACE"," ",405],["T_STRING","Response",405],"(",")",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$result",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","dispatcher",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","dispatch",406],"(",["T_VARIABLE","$request",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$response",406],")",";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","assertSame",407],"(",["T_CONSTANT_ENCAPSED_STRING","'shutdown stop'",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$result",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","body",407],"(",")",")",";",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n",408],"}",["T_WHITESPACE","\n",409]]