[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",13],["T_NAMESPACE","namespace",14],["T_WHITESPACE"," ",14],["T_STRING","Cake",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestCase",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Datasource",14],";",["T_WHITESPACE","\n\n",14],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Cake",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Datasource",16],["T_NS_SEPARATOR","\\",16],["T_STRING","FactoryLocator",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestSuite",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestCase",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * FactoryLocatorTest test case\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","FactoryLocatorTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","TestCase",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * Test get factory\n     *\n     * @return void\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testGet",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertInternalType",31],"(",["T_CONSTANT_ENCAPSED_STRING","'callable'",31],",",["T_WHITESPACE"," ",31],["T_STRING","FactoryLocator",31],["T_DOUBLE_COLON","::",31],["T_STRING","get",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Table'",31],")",")",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Test get non existing factory\n     *\n     * @return void\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Unknown repository type \"Test\". Make sure you register a type before trying to use it.\n     *\/",34],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testGetNonExisting",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_STRING","FactoryLocator",43],["T_DOUBLE_COLON","::",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * test add()\n     *\n     * @return void\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testAdd",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_STRING","FactoryLocator",53],["T_DOUBLE_COLON","::",53],["T_STRING","add",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",53],",",["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$name",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$mock",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","StdClass",54],"(",")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$mock",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","name",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$name",55],";",["T_WHITESPACE","\n\n            ",55],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$mock",57],";",["T_WHITESPACE","\n        ",57],"}",")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertInternalType",60],"(",["T_CONSTANT_ENCAPSED_STRING","'callable'",60],",",["T_WHITESPACE"," ",60],["T_STRING","FactoryLocator",60],["T_DOUBLE_COLON","::",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",60],")",")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * test drop()\n     *\n     * @return void\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Unknown repository type \"Test\". Make sure you register a type before trying to use it.\n     *\/",63],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testDrop",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_STRING","FactoryLocator",72],["T_DOUBLE_COLON","::",72],["T_STRING","drop",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",72],")",";",["T_WHITESPACE","\n\n        ",72],["T_STRING","FactoryLocator",74],["T_DOUBLE_COLON","::",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",74],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * test loadModel() with plugin prefixed models\n     *\n     * Load model should not be called with Foo.Model Bar.Model Model\n     * But if it is, the first call wins.\n     *\n     * @return void\n     *\/",77],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testLoadModelPlugin",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$stub",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_STRING","Stub",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$stub",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setProps",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$stub",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","modelType",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Table'",89],")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$result",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$stub",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","loadModel",91],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin.Comments'",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertInstanceOf",92],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin\\Model\\Table\\CommentsTable'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$result",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertInstanceOf",93],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin\\Model\\Table\\CommentsTable'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$stub",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","Comments",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$result",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$stub",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","loadModel",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Comments'",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertInstanceOf",96],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin\\Model\\Table\\CommentsTable'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$result",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertInstanceOf",97],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin\\Model\\Table\\CommentsTable'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$stub",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","Comments",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * test alternate model factories.\n     *\n     * @return void\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","testModelFactory",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$stub",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_STRING","Stub",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$stub",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setProps",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$stub",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","modelFactory",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Table'",110],",",["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$name",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$mock",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","StdClass",111],"(",")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$mock",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","name",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$name",112],";",["T_WHITESPACE","\n\n            ",112],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$mock",114],";",["T_WHITESPACE","\n        ",114],"}",")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$result",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$stub",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","loadModel",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Magic'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'Table'",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertInstanceOf",118],"(",["T_CONSTANT_ENCAPSED_STRING","'\\StdClass'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$result",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertInstanceOf",119],"(",["T_CONSTANT_ENCAPSED_STRING","'\\StdClass'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$stub",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","Magic",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Magic'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$stub",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","Magic",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","name",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * test alternate default model type.\n     *\n     * @return void\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","testModelType",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$stub",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","Stub",130],"(",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$stub",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setProps",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_STRING","FactoryLocator",133],["T_DOUBLE_COLON","::",133],["T_STRING","add",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",133],",",["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$name",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$mock",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_NS_SEPARATOR","\\",134],["T_STRING","StdClass",134],"(",")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$mock",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","name",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$name",135],";",["T_WHITESPACE","\n\n            ",135],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$mock",137],";",["T_WHITESPACE","\n        ",137],"}",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$stub",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","modelType",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$result",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$stub",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","loadModel",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Magic'",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertInstanceOf",142],"(",["T_CONSTANT_ENCAPSED_STRING","'\\StdClass'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$result",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertInstanceOf",143],"(",["T_CONSTANT_ENCAPSED_STRING","'\\StdClass'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$stub",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","Magic",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEquals",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Magic'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$stub",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","Magic",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","name",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * test MissingModelException being thrown\n     *\n     * @return void\n     * @expectedException \\Cake\\Datasource\\Exception\\MissingModelException\n     * @expectedExceptionMessage Model class \"Magic\" of type \"Test\" could not be found.\n     *\/",147],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","testMissingModelException",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$stub",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","Stub",156],"(",")",";",["T_WHITESPACE","\n\n        ",156],["T_STRING","FactoryLocator",158],["T_DOUBLE_COLON","::",158],["T_STRING","add",158],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",158],",",["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$name",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_STRING","false",159],";",["T_WHITESPACE","\n        ",159],"}",")",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$stub",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","loadModel",162],"(",["T_CONSTANT_ENCAPSED_STRING","'Magic'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'Test'",162],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","tearDown",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_STRING","FactoryLocator",167],["T_DOUBLE_COLON","::",167],["T_STRING","drop",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_STRING","parent",169],["T_DOUBLE_COLON","::",169],["T_STRING","tearDown",169],"(",")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n",170],"}",["T_WHITESPACE","\n",171]]