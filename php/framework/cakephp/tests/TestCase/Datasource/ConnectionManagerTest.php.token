[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         1.2.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Cake",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestCase",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Datasource",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Cake",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Plugin",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Datasource",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ConnectionManager",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Cake",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TestSuite",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TestCase",16],";",["T_WHITESPACE","\n\n",16],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","FakeConnection",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n",19],"}",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * ConnectionManager Test\n *\/",22],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","ConnectionManagerTest",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","TestCase",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * tearDown method\n     *\n     * @return void\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","tearDown",33],"(",")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","tearDown",35],"(",")",";",["T_WHITESPACE","\n        ",35],["T_STRING","Plugin",36],["T_DOUBLE_COLON","::",36],["T_STRING","unload",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_STRING","ConnectionManager",37],["T_DOUBLE_COLON","::",37],["T_STRING","drop",37],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",37],")",";",["T_WHITESPACE","\n        ",37],["T_STRING","ConnectionManager",38],["T_DOUBLE_COLON","::",38],["T_STRING","dropAlias",38],"(",["T_CONSTANT_ENCAPSED_STRING","'other_name'",38],")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Data provider for valid config data sets.\n     *\n     * @return array\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_STATIC","static",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","configProvider",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],"[",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'Array of data using classname key.'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[","[",["T_WHITESPACE","\n                ",49],["T_CONSTANT_ENCAPSED_STRING","'className'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_NS_C","__NAMESPACE__",50],["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'\\FakeConnection'",50],",",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'instance'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Sqlite'",51],",",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'database'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","':memory:'",52],",",["T_WHITESPACE","\n            ",52],"]","]",",",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'Direct instance'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],"[",["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_STRING","FakeConnection",54],"]",",",["T_WHITESPACE","\n        ",54],"]",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Test the various valid config() calls.\n     *\n     * @dataProvider configProvider\n     * @return void\n     *\/",58],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testConfigVariants",64],"(",["T_VARIABLE","$settings",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertNotContains",66],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",66],",",["T_WHITESPACE"," ",66],["T_STRING","ConnectionManager",66],["T_DOUBLE_COLON","::",66],["T_STRING","configured",66],"(",")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'test_variant config should not exist.'",66],")",";",["T_WHITESPACE","\n        ",66],["T_STRING","ConnectionManager",67],["T_DOUBLE_COLON","::",67],["T_STRING","config",67],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$settings",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$ds",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","ConnectionManager",69],["T_DOUBLE_COLON","::",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertInstanceOf",70],"(",["T_NS_C","__NAMESPACE__",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'\\FakeConnection'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$ds",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertContains",71],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",71],",",["T_WHITESPACE"," ",71],["T_STRING","ConnectionManager",71],["T_DOUBLE_COLON","::",71],["T_STRING","configured",71],"(",")",")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Test invalid classes cause exceptions\n     *\n     * @expectedException \\Cake\\Datasource\\Exception\\MissingDatasourceException\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testConfigInvalidOptions",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_STRING","ConnectionManager",81],["T_DOUBLE_COLON","::",81],["T_STRING","config",81],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",81],",",["T_WHITESPACE"," ",81],"[",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'className'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Herp\\Derp'",82],["T_WHITESPACE","\n        ",82],"]",")",";",["T_WHITESPACE","\n        ",83],["T_STRING","ConnectionManager",84],["T_DOUBLE_COLON","::",84],["T_STRING","get",84],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Test for errors on duplicate config.\n     *\n     * @expectedException \\BadMethodCallException\n     * @expectedExceptionMessage Cannot reconfigure existing key \"test_variant\"\n     * @return void\n     *\/",87],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","testConfigDuplicateConfig",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$settings",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],"[",["T_WHITESPACE","\n            ",96],["T_CONSTANT_ENCAPSED_STRING","'className'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_NS_C","__NAMESPACE__",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'\\FakeConnection'",97],",",["T_WHITESPACE","\n            ",97],["T_CONSTANT_ENCAPSED_STRING","'database'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","':memory:'",98],",",["T_WHITESPACE","\n        ",98],"]",";",["T_WHITESPACE","\n        ",99],["T_STRING","ConnectionManager",100],["T_DOUBLE_COLON","::",100],["T_STRING","config",100],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$settings",100],")",";",["T_WHITESPACE","\n        ",100],["T_STRING","ConnectionManager",101],["T_DOUBLE_COLON","::",101],["T_STRING","config",101],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$settings",101],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Test get() failing on missing config.\n     *\n     * @expectedException \\Cake\\Core\\Exception\\Exception\n     * @expectedExceptionMessage The datasource configuration \"test_variant\" was not found.\n     * @return void\n     *\/",104],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testGetFailOnMissingConfig",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_STRING","ConnectionManager",113],["T_DOUBLE_COLON","::",113],["T_STRING","get",113],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",113],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Test loading configured connections.\n     *\n     * @return void\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","testGet",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$config",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","ConnectionManager",123],["T_DOUBLE_COLON","::",123],["T_STRING","config",123],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","skipIf",124],"(",["T_EMPTY","empty",124],"(",["T_VARIABLE","$config",124],")",",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'No test config, skipping'",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$ds",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","ConnectionManager",126],["T_DOUBLE_COLON","::",126],["T_STRING","get",126],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertSame",127],"(",["T_VARIABLE","$ds",127],",",["T_WHITESPACE"," ",127],["T_STRING","ConnectionManager",127],["T_DOUBLE_COLON","::",127],["T_STRING","get",127],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",127],")",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertInstanceOf",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Connection'",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$ds",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEquals",129],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$ds",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","configName",129],"(",")",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Test loading connections without aliases\n     *\n     * @expectedException \\Cake\\Core\\Exception\\Exception\n     * @expectedExceptionMessage The datasource configuration \"other_name\" was not found.\n     * @return void\n     *\/",132],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testGetNoAlias",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$config",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","ConnectionManager",141],["T_DOUBLE_COLON","::",141],["T_STRING","config",141],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","skipIf",142],"(",["T_EMPTY","empty",142],"(",["T_VARIABLE","$config",142],")",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'No test config, skipping'",142],")",";",["T_WHITESPACE","\n\n        ",142],["T_STRING","ConnectionManager",144],["T_DOUBLE_COLON","::",144],["T_STRING","alias",144],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'other_name'",144],")",";",["T_WHITESPACE","\n        ",144],["T_STRING","ConnectionManager",145],["T_DOUBLE_COLON","::",145],["T_STRING","get",145],"(",["T_CONSTANT_ENCAPSED_STRING","'other_name'",145],",",["T_WHITESPACE"," ",145],["T_STRING","false",145],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Test that configured() finds configured sources.\n     *\n     * @return void\n     *\/",148],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","testConfigured",153],"(",")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_STRING","ConnectionManager",155],["T_DOUBLE_COLON","::",155],["T_STRING","config",155],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",155],",",["T_WHITESPACE"," ",155],"[",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'className'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_NS_C","__NAMESPACE__",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\\FakeConnection'",156],",",["T_WHITESPACE","\n            ",156],["T_CONSTANT_ENCAPSED_STRING","'database'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","':memory:'",157],["T_WHITESPACE","\n        ",157],"]",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$results",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","ConnectionManager",159],["T_DOUBLE_COLON","::",159],["T_STRING","configured",159],"(",")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertContains",160],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$results",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * testGetPluginDataSource method\n     *\n     * @return void\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","testGetPluginDataSource",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_STRING","Plugin",170],["T_DOUBLE_COLON","::",170],["T_STRING","load",170],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin'",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$name",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'test_variant'",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$config",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],"[",["T_CONSTANT_ENCAPSED_STRING","'className'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'TestPlugin.TestSource'",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'foo'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'bar'",172],"]",";",["T_WHITESPACE","\n        ",172],["T_STRING","ConnectionManager",173],["T_DOUBLE_COLON","::",173],["T_STRING","config",173],"(",["T_VARIABLE","$name",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$config",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$connection",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","ConnectionManager",174],["T_DOUBLE_COLON","::",174],["T_STRING","get",174],"(",["T_VARIABLE","$name",174],")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertInstanceOf",176],"(",["T_CONSTANT_ENCAPSED_STRING","'TestPlugin\\Datasource\\TestSource'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$connection",176],")",";",["T_WHITESPACE","\n        ",176],["T_UNSET","unset",177],"(",["T_VARIABLE","$config",177],"[",["T_CONSTANT_ENCAPSED_STRING","'className'",177],"]",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertSame",178],"(",["T_VARIABLE","$config",178],["T_WHITESPACE"," ",178],"+",["T_WHITESPACE"," ",178],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'test_variant'",178],"]",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$connection",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","config",178],"(",")",")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Tests that a connection configuration can be deleted in runtime\n     *\n     * @return void\n     *\/",181],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","testDrop",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_STRING","ConnectionManager",188],["T_DOUBLE_COLON","::",188],["T_STRING","config",188],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",188],",",["T_WHITESPACE"," ",188],"[",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'className'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_NS_C","__NAMESPACE__",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'\\FakeConnection'",189],",",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'database'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","':memory:'",190],["T_WHITESPACE","\n        ",190],"]",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$result",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","ConnectionManager",192],["T_DOUBLE_COLON","::",192],["T_STRING","configured",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertContains",193],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$result",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertTrue",195],"(",["T_STRING","ConnectionManager",195],["T_DOUBLE_COLON","::",195],["T_STRING","drop",195],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",195],")",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$result",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","ConnectionManager",196],["T_DOUBLE_COLON","::",196],["T_STRING","configured",196],"(",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertNotContains",197],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$result",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertFalse",199],"(",["T_STRING","ConnectionManager",199],["T_DOUBLE_COLON","::",199],["T_STRING","drop",199],"(",["T_CONSTANT_ENCAPSED_STRING","'probably_does_not_exist'",199],")",",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'Should return false on failure.'",199],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Test aliasing connections.\n     *\n     * @return void\n     *\/",202],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","testAlias",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_STRING","ConnectionManager",209],["T_DOUBLE_COLON","::",209],["T_STRING","config",209],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",209],",",["T_WHITESPACE"," ",209],"[",["T_WHITESPACE","\n            ",209],["T_CONSTANT_ENCAPSED_STRING","'className'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_NS_C","__NAMESPACE__",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'\\FakeConnection'",210],",",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","'database'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","':memory:'",211],["T_WHITESPACE","\n        ",211],"]",")",";",["T_WHITESPACE","\n        ",212],["T_STRING","ConnectionManager",213],["T_DOUBLE_COLON","::",213],["T_STRING","alias",213],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'other_name'",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$result",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","ConnectionManager",214],["T_DOUBLE_COLON","::",214],["T_STRING","get",214],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",214],")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertSame",215],"(",["T_VARIABLE","$result",215],",",["T_WHITESPACE"," ",215],["T_STRING","ConnectionManager",215],["T_DOUBLE_COLON","::",215],["T_STRING","get",215],"(",["T_CONSTANT_ENCAPSED_STRING","'other_name'",215],")",")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Test alias() raises an error when aliasing an undefined connection.\n     *\n     * @expectedException \\Cake\\Datasource\\Exception\\MissingDatasourceConfigException\n     * @return void\n     *\/",218],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","testAliasError",224],"(",")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertNotContains",226],"(",["T_CONSTANT_ENCAPSED_STRING","'test_kaboom'",226],",",["T_WHITESPACE"," ",226],["T_STRING","ConnectionManager",226],["T_DOUBLE_COLON","::",226],["T_STRING","configured",226],"(",")",")",";",["T_WHITESPACE","\n        ",226],["T_STRING","ConnectionManager",227],["T_DOUBLE_COLON","::",227],["T_STRING","alias",227],"(",["T_CONSTANT_ENCAPSED_STRING","'test_kaboom'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'other_name'",227],")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Test parseDsn method.\n     *\n     * @return void\n     *\/",230],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","testParseDsn",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$result",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","ConnectionManager",237],["T_DOUBLE_COLON","::",237],["T_STRING","parseDsn",237],"(",["T_CONSTANT_ENCAPSED_STRING","'mysql:\/\/root:secret@localhost:3306\/database?log=1'",237],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$expected",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],"[",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'scheme'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'mysql'",239],",",["T_WHITESPACE","\n            ",239],["T_CONSTANT_ENCAPSED_STRING","'className'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Connection'",240],",",["T_WHITESPACE","\n            ",240],["T_CONSTANT_ENCAPSED_STRING","'driver'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Driver\\Mysql'",241],",",["T_WHITESPACE","\n            ",241],["T_CONSTANT_ENCAPSED_STRING","'host'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'localhost'",242],",",["T_WHITESPACE","\n            ",242],["T_CONSTANT_ENCAPSED_STRING","'username'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'root'",243],",",["T_WHITESPACE","\n            ",243],["T_CONSTANT_ENCAPSED_STRING","'password'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'secret'",244],",",["T_WHITESPACE","\n            ",244],["T_CONSTANT_ENCAPSED_STRING","'port'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_LNUMBER","3306",245],",",["T_WHITESPACE","\n            ",245],["T_CONSTANT_ENCAPSED_STRING","'database'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'database'",246],",",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'log'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'1'",247],["T_WHITESPACE","\n        ",247],"]",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEquals",249],"(",["T_VARIABLE","$expected",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$result",249],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Tests that directly setting an instance in a config, will not return a different\n     * instance later on\n     *\n     * @return void\n     *\/",252],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","testConfigWithObject",258],"(",")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$connection",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_NEW","new",260],["T_WHITESPACE"," ",260],["T_STRING","FakeConnection",260],";",["T_WHITESPACE","\n        ",260],["T_STRING","ConnectionManager",261],["T_DOUBLE_COLON","::",261],["T_STRING","config",261],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$connection",261],")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertSame",262],"(",["T_VARIABLE","$connection",262],",",["T_WHITESPACE"," ",262],["T_STRING","ConnectionManager",262],["T_DOUBLE_COLON","::",262],["T_STRING","get",262],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",262],")",")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Tests configuring an instance with a callable\n     *\n     * @return void\n     *\/",265],["T_WHITESPACE","\n    ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","testConfigWithCallable",270],"(",")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$connection",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_STRING","FakeConnection",272],";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$callable",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$alias",273],")",["T_WHITESPACE"," ",273],["T_USE","use",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$connection",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertEquals",274],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$alias",274],")",";",["T_WHITESPACE","\n\n            ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$connection",276],";",["T_WHITESPACE","\n        ",276],"}",";",["T_WHITESPACE","\n\n        ",277],["T_STRING","ConnectionManager",279],["T_DOUBLE_COLON","::",279],["T_STRING","config",279],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$callable",279],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertSame",280],"(",["T_VARIABLE","$connection",280],",",["T_WHITESPACE"," ",280],["T_STRING","ConnectionManager",280],["T_DOUBLE_COLON","::",280],["T_STRING","get",280],"(",["T_CONSTANT_ENCAPSED_STRING","'test_variant'",280],")",")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n",281],"}",["T_WHITESPACE","\n",282]]