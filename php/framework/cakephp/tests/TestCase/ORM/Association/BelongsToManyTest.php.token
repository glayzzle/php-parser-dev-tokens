[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ORM",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Association",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Expression",17],["T_NS_SEPARATOR","\\",17],["T_STRING","QueryExpression",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Datasource",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ConnectionManager",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ORM",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Association",19],["T_NS_SEPARATOR","\\",19],["T_STRING","BelongsToMany",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ORM",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Entity",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ORM",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TableRegistry",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","TestSuite",22],["T_NS_SEPARATOR","\\",22],["T_STRING","TestCase",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Tests BelongsToMany class\n *\/",24],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","BelongsToManyTest",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","TestCase",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * Fixtures\n     *\n     * @var array\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$fixtures",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[",["T_CONSTANT_ENCAPSED_STRING","'core.articles'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'core.special_tags'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'core.articles_tags'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'core.tags'",34],"]",";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Set up\n     *\n     * @return void\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","setUp",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","setUp",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","tag",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMockBuilder",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",44],")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","setMethods",45],"(","[",["T_CONSTANT_ENCAPSED_STRING","'find'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'delete'",45],"]",")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","setConstructorArgs",46],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'alias'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'Tags'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'table'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'tags'",46],"]","]",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMock",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","tag",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","schema",48],"(","[",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'id'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'integer'",49],"]",",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'name'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'string'",50],"]",",",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'_constraints'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'primary'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'primary'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'columns'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",52],"]","]",["T_WHITESPACE","\n            ",52],"]",["T_WHITESPACE","\n        ",53],"]",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","article",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMockBuilder",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",55],")",["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","setMethods",56],"(","[",["T_CONSTANT_ENCAPSED_STRING","'find'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'delete'",56],"]",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","setConstructorArgs",57],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'alias'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Articles'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'table'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'articles'",57],"]","]",")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","article",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","schema",59],"(","[",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'id'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'integer'",60],"]",",",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'name'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'string'",61],"]",",",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'_constraints'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],"[",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","'primary'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'primary'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'columns'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",63],"]","]",["T_WHITESPACE","\n            ",63],"]",["T_WHITESPACE","\n        ",64],"]",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Tear down\n     *\n     * @return void\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","tearDown",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_STRING","parent",75],["T_DOUBLE_COLON","::",75],["T_STRING","tearDown",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_STRING","TableRegistry",76],["T_DOUBLE_COLON","::",76],["T_STRING","clear",76],"(",")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Tests that the association reports it can be joined\n     *\n     * @return void\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","testCanBeJoined",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$assoc",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","BelongsToMany",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertFalse",87],"(",["T_VARIABLE","$assoc",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","canBeJoined",87],"(",")",")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Tests sort() method\n     *\n     * @return void\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testSort",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$assoc",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_STRING","BelongsToMany",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertNull",98],"(",["T_VARIABLE","$assoc",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","sort",98],"(",")",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$assoc",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","sort",99],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'ASC'",99],"]",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'ASC'",100],"]",",",["T_WHITESPACE"," ",100],["T_VARIABLE","$assoc",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","sort",100],"(",")",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Tests requiresKeys() method\n     *\n     * @return void\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testRequiresKeys",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$assoc",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","BelongsToMany",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertTrue",111],"(",["T_VARIABLE","$assoc",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","requiresKeys",111],"(",")",")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$assoc",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","strategy",112],"(",["T_STRING","BelongsToMany",112],["T_DOUBLE_COLON","::",112],["T_STRING","STRATEGY_SUBQUERY",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertFalse",113],"(",["T_VARIABLE","$assoc",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","requiresKeys",113],"(",")",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$assoc",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","strategy",114],"(",["T_STRING","BelongsToMany",114],["T_DOUBLE_COLON","::",114],["T_STRING","STRATEGY_SELECT",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertTrue",115],"(",["T_VARIABLE","$assoc",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","requiresKeys",115],"(",")",")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Tests that BelongsToMany can't use the join strategy\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Invalid strategy \"join\" was provided\n     * @return void\n     *\/",118],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","testStrategyFailure",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$assoc",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","BelongsToMany",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$assoc",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","strategy",128],"(",["T_STRING","BelongsToMany",128],["T_DOUBLE_COLON","::",128],["T_STRING","STRATEGY_JOIN",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Tests the junction method\n     *\n     * @return void\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","testJunction",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$assoc",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","BelongsToMany",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",138],",",["T_WHITESPACE"," ",138],"[",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","article",139],",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","tag",140],",",["T_WHITESPACE","\n            ",140],["T_CONSTANT_ENCAPSED_STRING","'strategy'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'subquery'",141],["T_WHITESPACE","\n        ",141],"]",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$junction",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$assoc",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","junction",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertInstanceOf",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$junction",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertEquals",145],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$junction",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","alias",145],"(",")",")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEquals",146],"(",["T_CONSTANT_ENCAPSED_STRING","'articles_tags'",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$junction",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","table",146],"(",")",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertSame",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","article",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$junction",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","association",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","target",147],"(",")",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertSame",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","tag",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$junction",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","association",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","target",148],"(",")",")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$belongsTo",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Association\\BelongsTo'",150],";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertInstanceOf",151],"(",["T_VARIABLE","$belongsTo",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$junction",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","association",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",151],")",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertInstanceOf",152],"(",["T_VARIABLE","$belongsTo",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$junction",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","association",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",152],")",")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertSame",154],"(",["T_VARIABLE","$junction",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","tag",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","association",154],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","target",154],"(",")",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertSame",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","article",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","tag",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","association",155],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",155],")",["T_OBJECT_OPERATOR","->",155],["T_STRING","target",155],"(",")",")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$hasMany",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Association\\HasMany'",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$belongsToMany",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Association\\BelongsToMany'",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertInstanceOf",159],"(",["T_VARIABLE","$belongsToMany",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","tag",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","association",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",159],")",")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertInstanceOf",160],"(",["T_VARIABLE","$hasMany",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","tag",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","association",160],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",160],")",")",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertSame",162],"(",["T_VARIABLE","$junction",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$assoc",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","junction",162],"(",")",")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$junction2",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","TableRegistry",163],["T_DOUBLE_COLON","::",163],["T_STRING","get",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Foos'",163],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$assoc",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","junction",164],"(",["T_VARIABLE","$junction2",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertSame",165],"(",["T_VARIABLE","$junction2",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$assoc",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","junction",165],"(",")",")",";",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$assoc",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","junction",167],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertSame",168],"(",["T_VARIABLE","$junction",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$assoc",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","junction",168],"(",")",")",";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertSame",170],"(",["T_VARIABLE","$assoc",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","strategy",170],"(",")",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","tag",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","association",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","strategy",170],"(",")",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertSame",171],"(",["T_VARIABLE","$assoc",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","strategy",171],"(",")",",",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","tag",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","association",171],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","strategy",171],"(",")",")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertSame",172],"(",["T_VARIABLE","$assoc",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","strategy",172],"(",")",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","article",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","association",172],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","strategy",172],"(",")",")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Tests the junction passes the source connection name on.\n     *\n     * @return void\n     *\/",175],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","testJunctionConnection",180],"(",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$mock",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getMockBuilder",182],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\Database\\Connection'",182],")",["T_WHITESPACE","\n                ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","setMethods",183],"(","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",183],"]",")",["T_WHITESPACE","\n                ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","setConstructorArgs",184],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'other_source'",184],"]",")",["T_WHITESPACE","\n                ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","getMock",185],"(",")",";",["T_WHITESPACE","\n        ",185],["T_STRING","ConnectionManager",186],["T_DOUBLE_COLON","::",186],["T_STRING","config",186],"(",["T_CONSTANT_ENCAPSED_STRING","'other_source'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$mock",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","article",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","connection",187],"(",["T_STRING","ConnectionManager",187],["T_DOUBLE_COLON","::",187],["T_STRING","get",187],"(",["T_CONSTANT_ENCAPSED_STRING","'other_source'",187],")",")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$assoc",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_STRING","BelongsToMany",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",189],",",["T_WHITESPACE"," ",189],"[",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","article",190],",",["T_WHITESPACE","\n            ",190],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","tag",191],["T_WHITESPACE","\n        ",191],"]",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$junction",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$assoc",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","junction",193],"(",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertSame",194],"(",["T_VARIABLE","$mock",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$junction",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","connection",194],"(",")",")",";",["T_WHITESPACE","\n        ",194],["T_STRING","ConnectionManager",195],["T_DOUBLE_COLON","::",195],["T_STRING","drop",195],"(",["T_CONSTANT_ENCAPSED_STRING","'other_source'",195],")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Tests the junction method custom keys\n     *\n     * @return void\n     *\/",198],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","testJunctionCustomKeys",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","article",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","belongsToMany",205],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",205],",",["T_WHITESPACE"," ",205],"[",["T_WHITESPACE","\n            ",205],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'articles_tags'",206],",",["T_WHITESPACE","\n            ",206],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'article'",207],",",["T_WHITESPACE","\n            ",207],["T_CONSTANT_ENCAPSED_STRING","'targetForeignKey'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'tag'",208],["T_WHITESPACE","\n        ",208],"]",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","tag",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","belongsToMany",210],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",210],",",["T_WHITESPACE"," ",210],"[",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'articles_tags'",211],",",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'tag'",212],",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'targetForeignKey'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'article'",213],["T_WHITESPACE","\n        ",213],"]",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$junction",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","article",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","association",215],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",215],")",["T_OBJECT_OPERATOR","->",215],["T_STRING","junction",215],"(",")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertEquals",216],"(",["T_CONSTANT_ENCAPSED_STRING","'article'",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$junction",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","association",216],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",216],")",["T_OBJECT_OPERATOR","->",216],["T_STRING","foreignKey",216],"(",")",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertEquals",217],"(",["T_CONSTANT_ENCAPSED_STRING","'article'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","article",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","association",217],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",217],")",["T_OBJECT_OPERATOR","->",217],["T_STRING","foreignKey",217],"(",")",")",";",["T_WHITESPACE","\n\n        ",217],["T_VARIABLE","$junction",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","tag",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","association",219],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",219],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","junction",219],"(",")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","assertEquals",220],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$junction",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","association",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",220],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","foreignKey",220],"(",")",")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertEquals",221],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","tag",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","association",221],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","foreignKey",221],"(",")",")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Tests it is possible to set the table name for the join table\n     *\n     * @return void\n     *\/",224],["T_WHITESPACE","\n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","testJunctionWithDefaultTableName",229],"(",")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$assoc",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_NEW","new",231],["T_WHITESPACE"," ",231],["T_STRING","BelongsToMany",231],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",231],",",["T_WHITESPACE"," ",231],"[",["T_WHITESPACE","\n            ",231],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","article",232],",",["T_WHITESPACE","\n            ",232],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","tag",233],",",["T_WHITESPACE","\n            ",233],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",234],["T_WHITESPACE","\n        ",234],"]",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$junction",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$assoc",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","junction",236],"(",")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertEquals",237],"(",["T_CONSTANT_ENCAPSED_STRING","'TagsArticles'",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$junction",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","alias",237],"(",")",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","assertEquals",238],"(",["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$junction",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","table",238],"(",")",")",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Tests saveStrategy\n     *\n     * @return void\n     *\/",241],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","testSaveStrategy",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$assoc",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","BelongsToMany",248],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",248],")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEquals",249],"(",["T_STRING","BelongsToMany",249],["T_DOUBLE_COLON","::",249],["T_STRING","SAVE_REPLACE",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$assoc",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","saveStrategy",249],"(",")",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$assoc",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","saveStrategy",250],"(",["T_STRING","BelongsToMany",250],["T_DOUBLE_COLON","::",250],["T_STRING","SAVE_APPEND",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","assertEquals",251],"(",["T_STRING","BelongsToMany",251],["T_DOUBLE_COLON","::",251],["T_STRING","SAVE_APPEND",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$assoc",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","saveStrategy",251],"(",")",")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$assoc",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","saveStrategy",252],"(",["T_STRING","BelongsToMany",252],["T_DOUBLE_COLON","::",252],["T_STRING","SAVE_REPLACE",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEquals",253],"(",["T_STRING","BelongsToMany",253],["T_DOUBLE_COLON","::",253],["T_STRING","SAVE_REPLACE",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$assoc",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","saveStrategy",253],"(",")",")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Tests that it is possible to pass the saveAssociated strategy in the constructor\n     *\n     * @return void\n     *\/",256],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","testSaveStrategyInOptions",261],"(",")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$assoc",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_NEW","new",263],["T_WHITESPACE"," ",263],["T_STRING","BelongsToMany",263],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",263],",",["T_WHITESPACE"," ",263],"[",["T_CONSTANT_ENCAPSED_STRING","'saveStrategy'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_STRING","BelongsToMany",263],["T_DOUBLE_COLON","::",263],["T_STRING","SAVE_APPEND",263],"]",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertEquals",264],"(",["T_STRING","BelongsToMany",264],["T_DOUBLE_COLON","::",264],["T_STRING","SAVE_APPEND",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$assoc",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","saveStrategy",264],"(",")",")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Tests that passing an invalid strategy will throw an exception\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Invalid save strategy \"depsert\"\n     * @return void\n     *\/",267],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","testSaveStrategyInvalid",274],"(",")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$assoc",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_NEW","new",276],["T_WHITESPACE"," ",276],["T_STRING","BelongsToMany",276],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",276],",",["T_WHITESPACE"," ",276],"[",["T_CONSTANT_ENCAPSED_STRING","'saveStrategy'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'depsert'",276],"]",")",";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Test cascading deletes.\n     *\n     * @return void\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","testCascadeDelete",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$articleTag",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getMockBuilder",286],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",286],")",["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","setMethods",287],"(","[",["T_CONSTANT_ENCAPSED_STRING","'deleteAll'",287],"]",")",["T_WHITESPACE","\n            ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","getMock",288],"(",")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$config",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],"[",["T_WHITESPACE","\n            ",289],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","article",290],",",["T_WHITESPACE","\n            ",290],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","tag",291],",",["T_WHITESPACE","\n            ",291],["T_CONSTANT_ENCAPSED_STRING","'sort'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'ASC'",292],"]",",",["T_WHITESPACE","\n        ",292],"]",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$association",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_NEW","new",294],["T_WHITESPACE"," ",294],["T_STRING","BelongsToMany",294],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$config",294],")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$association",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","junction",295],"(",["T_VARIABLE","$articleTag",295],")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","article",296],["T_WHITESPACE","\n            ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","association",297],"(",["T_VARIABLE","$articleTag",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","alias",297],"(",")",")",["T_WHITESPACE","\n            ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","conditions",298],"(","[",["T_CONSTANT_ENCAPSED_STRING","'click_count'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_LNUMBER","3",298],"]",")",";",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$articleTag",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","expects",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","once",300],"(",")",")",["T_WHITESPACE","\n            ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","method",301],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteAll'",301],")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","with",302],"(","[",["T_WHITESPACE","\n                ",302],["T_CONSTANT_ENCAPSED_STRING","'click_count'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_LNUMBER","3",303],",",["T_WHITESPACE","\n                ",303],["T_CONSTANT_ENCAPSED_STRING","'article_id'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_LNUMBER","1",304],["T_WHITESPACE","\n            ",304],"]",")",";",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$entity",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_STRING","Entity",307],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_LNUMBER","1",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'name'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'PHP'",307],"]",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$association",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","cascadeDelete",308],"(",["T_VARIABLE","$entity",308],")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Test cascading deletes with dependent=false\n     *\n     * @return void\n     *\/",311],["T_WHITESPACE","\n    ",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","testCascadeDeleteDependent",316],"(",")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$articleTag",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getMockBuilder",318],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",318],")",["T_WHITESPACE","\n            ",318],["T_OBJECT_OPERATOR","->",319],["T_STRING","setMethods",319],"(","[",["T_CONSTANT_ENCAPSED_STRING","'delete'",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'deleteAll'",319],"]",")",["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","getMock",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$config",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],"[",["T_WHITESPACE","\n            ",321],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","article",322],",",["T_WHITESPACE","\n            ",322],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","tag",323],",",["T_WHITESPACE","\n            ",323],["T_CONSTANT_ENCAPSED_STRING","'dependent'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_STRING","false",324],",",["T_WHITESPACE","\n            ",324],["T_CONSTANT_ENCAPSED_STRING","'sort'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'ASC'",325],"]",",",["T_WHITESPACE","\n        ",325],"]",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$association",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_NEW","new",327],["T_WHITESPACE"," ",327],["T_STRING","BelongsToMany",327],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$config",327],")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$association",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","junction",328],"(",["T_VARIABLE","$articleTag",328],")",";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","article",329],["T_WHITESPACE","\n            ",329],["T_OBJECT_OPERATOR","->",330],["T_STRING","association",330],"(",["T_VARIABLE","$articleTag",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","alias",330],"(",")",")",["T_WHITESPACE","\n            ",330],["T_OBJECT_OPERATOR","->",331],["T_STRING","conditions",331],"(","[",["T_CONSTANT_ENCAPSED_STRING","'click_count'",331],["T_WHITESPACE"," ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_LNUMBER","3",331],"]",")",";",["T_WHITESPACE","\n\n        ",331],["T_VARIABLE","$articleTag",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","expects",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","never",333],"(",")",")",["T_WHITESPACE","\n            ",333],["T_OBJECT_OPERATOR","->",334],["T_STRING","method",334],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteAll'",334],")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$articleTag",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","expects",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","never",335],"(",")",")",["T_WHITESPACE","\n            ",335],["T_OBJECT_OPERATOR","->",336],["T_STRING","method",336],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",336],")",";",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$entity",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_NEW","new",338],["T_WHITESPACE"," ",338],["T_STRING","Entity",338],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_LNUMBER","1",338],",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'name'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'PHP'",338],"]",")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$association",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","cascadeDelete",339],"(",["T_VARIABLE","$entity",339],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Test cascading deletes with callbacks.\n     *\n     * @return void\n     *\/",342],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","testCascadeDeleteWithCallbacks",347],"(",")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$articleTag",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_STRING","TableRegistry",349],["T_DOUBLE_COLON","::",349],["T_STRING","get",349],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",349],")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$config",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],"[",["T_WHITESPACE","\n            ",350],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","article",351],",",["T_WHITESPACE","\n            ",351],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","tag",352],",",["T_WHITESPACE","\n            ",352],["T_CONSTANT_ENCAPSED_STRING","'cascadeCallbacks'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_STRING","true",353],",",["T_WHITESPACE","\n        ",353],"]",";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$association",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_NEW","new",355],["T_WHITESPACE"," ",355],["T_STRING","BelongsToMany",355],"(",["T_CONSTANT_ENCAPSED_STRING","'Tag'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$config",355],")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$association",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","junction",356],"(",["T_VARIABLE","$articleTag",356],")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","article",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","association",357],"(",["T_VARIABLE","$articleTag",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","alias",357],"(",")",")",";",["T_WHITESPACE","\n\n        ",357],["T_VARIABLE","$counter",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getMockBuilder",359],"(",["T_CONSTANT_ENCAPSED_STRING","'StdClass'",359],")",["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","setMethods",360],"(","[",["T_CONSTANT_ENCAPSED_STRING","'__invoke'",360],"]",")",["T_WHITESPACE","\n            ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","getMock",361],"(",")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$counter",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","expects",362],"(",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","exactly",362],"(",["T_LNUMBER","2",362],")",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","method",362],"(",["T_CONSTANT_ENCAPSED_STRING","'__invoke'",362],")",";",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$articleTag",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","eventManager",363],"(",")",["T_OBJECT_OPERATOR","->",363],["T_STRING","on",363],"(",["T_CONSTANT_ENCAPSED_STRING","'Model.beforeDelete'",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$counter",363],")",";",["T_WHITESPACE","\n\n        ",363],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","assertEquals",365],"(",["T_LNUMBER","2",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$articleTag",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","find",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","where",365],"(","[",["T_CONSTANT_ENCAPSED_STRING","'article_id'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_LNUMBER","1",365],"]",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","count",365],"(",")",")",";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$entity",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_NEW","new",366],["T_WHITESPACE"," ",366],["T_STRING","Entity",366],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_LNUMBER","1",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'name'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'PHP'",366],"]",")",";",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$association",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","cascadeDelete",367],"(",["T_VARIABLE","$entity",367],")",";",["T_WHITESPACE","\n\n        ",367],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assertEquals",369],"(",["T_LNUMBER","0",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$articleTag",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","find",369],"(",")",["T_OBJECT_OPERATOR","->",369],["T_STRING","where",369],"(","[",["T_CONSTANT_ENCAPSED_STRING","'article_id'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_LNUMBER","1",369],"]",")",["T_OBJECT_OPERATOR","->",369],["T_STRING","count",369],"(",")",")",";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Test linking entities having a non persisted source entity\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Source entity needs to be persisted before proceeding\n     * @return void\n     *\/",372],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","testLinkWithNotPersistedSource",379],"(",")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$config",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],"[",["T_WHITESPACE","\n            ",381],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","article",382],",",["T_WHITESPACE","\n            ",382],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","tag",383],",",["T_WHITESPACE","\n            ",383],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",384],["T_WHITESPACE","\n        ",384],"]",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$assoc",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_NEW","new",386],["T_WHITESPACE"," ",386],["T_STRING","BelongsToMany",386],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$config",386],")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$entity",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_NEW","new",387],["T_WHITESPACE"," ",387],["T_STRING","Entity",387],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_LNUMBER","1",387],"]",")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$tags",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],"[",["T_NEW","new",388],["T_WHITESPACE"," ",388],["T_STRING","Entity",388],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_LNUMBER","2",388],"]",")",",",["T_WHITESPACE"," ",388],["T_NEW","new",388],["T_WHITESPACE"," ",388],["T_STRING","Entity",388],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_LNUMBER","3",388],"]",")","]",";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$assoc",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","link",389],"(",["T_VARIABLE","$entity",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$tags",389],")",";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * Test liking entities having a non persisted target entity\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Cannot link not persisted entities\n     * @return void\n     *\/",392],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","testLinkWithNotPersistedTarget",399],"(",")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$config",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],"[",["T_WHITESPACE","\n            ",401],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","article",402],",",["T_WHITESPACE","\n            ",402],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","tag",403],",",["T_WHITESPACE","\n            ",403],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",404],["T_WHITESPACE","\n        ",404],"]",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$assoc",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_NEW","new",406],["T_WHITESPACE"," ",406],["T_STRING","BelongsToMany",406],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$config",406],")",";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$entity",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_NEW","new",407],["T_WHITESPACE"," ",407],["T_STRING","Entity",407],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_LNUMBER","1",407],"]",",",["T_WHITESPACE"," ",407],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_STRING","false",407],"]",")",";",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$tags",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],"[",["T_NEW","new",408],["T_WHITESPACE"," ",408],["T_STRING","Entity",408],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_LNUMBER","2",408],"]",")",",",["T_WHITESPACE"," ",408],["T_NEW","new",408],["T_WHITESPACE"," ",408],["T_STRING","Entity",408],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_LNUMBER","3",408],"]",")","]",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$assoc",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","link",409],"(",["T_VARIABLE","$entity",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$tags",409],")",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * Tests that liking entities will validate data and pass on to _saveLinks\n     *\n     * @return void\n     *\/",412],["T_WHITESPACE","\n    ",416],["T_PUBLIC","public",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","testLinkSuccess",417],"(",")",["T_WHITESPACE","\n    ",417],"{",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$connection",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_STRING","ConnectionManager",419],["T_DOUBLE_COLON","::",419],["T_STRING","get",419],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",419],")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$joint",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getMockBuilder",420],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Table'",420],")",["T_WHITESPACE","\n            ",420],["T_OBJECT_OPERATOR","->",421],["T_STRING","setMethods",421],"(","[",["T_CONSTANT_ENCAPSED_STRING","'save'",421],"]",")",["T_WHITESPACE","\n            ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","setConstructorArgs",422],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'alias'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'connection'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$connection",422],"]","]",")",["T_WHITESPACE","\n            ",422],["T_OBJECT_OPERATOR","->",423],["T_STRING","getMock",423],"(",")",";",["T_WHITESPACE","\n\n        ",423],["T_VARIABLE","$config",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],"[",["T_WHITESPACE","\n            ",425],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","article",426],",",["T_WHITESPACE","\n            ",426],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","tag",427],",",["T_WHITESPACE","\n            ",427],["T_CONSTANT_ENCAPSED_STRING","'through'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$joint",428],",",["T_WHITESPACE","\n            ",428],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",429],["T_WHITESPACE","\n        ",429],"]",";",["T_WHITESPACE","\n\n        ",430],["T_VARIABLE","$assoc",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_NEW","new",432],["T_WHITESPACE"," ",432],["T_STRING","BelongsToMany",432],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$config",432],")",";",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$opts",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_STRING","false",433],"]",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$entity",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_NEW","new",434],["T_WHITESPACE"," ",434],["T_STRING","Entity",434],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",434],["T_WHITESPACE"," ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_LNUMBER","1",434],"]",",",["T_WHITESPACE"," ",434],["T_VARIABLE","$opts",434],")",";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$tags",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],"[",["T_NEW","new",435],["T_WHITESPACE"," ",435],["T_STRING","Entity",435],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_LNUMBER","2",435],"]",",",["T_WHITESPACE"," ",435],["T_VARIABLE","$opts",435],")",",",["T_WHITESPACE"," ",435],["T_NEW","new",435],["T_WHITESPACE"," ",435],["T_STRING","Entity",435],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_LNUMBER","3",435],"]",",",["T_WHITESPACE"," ",435],["T_VARIABLE","$opts",435],")","]",";",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$saveOptions",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",436],["T_WHITESPACE"," ",436],["T_DOUBLE_ARROW","=>",436],["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'bar'",436],"]",";",["T_WHITESPACE","\n\n        ",436],["T_VARIABLE","$joint",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","expects",438],"(",["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","at",438],"(",["T_LNUMBER","0",438],")",")",["T_WHITESPACE","\n            ",438],["T_OBJECT_OPERATOR","->",439],["T_STRING","method",439],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",439],")",["T_WHITESPACE","\n            ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","will",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","returnCallback",440],"(",["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$e",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$opts",440],")",["T_WHITESPACE"," ",440],["T_USE","use",440],["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$entity",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n                ",440],["T_VARIABLE","$expected",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],"[",["T_CONSTANT_ENCAPSED_STRING","'article_id'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_LNUMBER","1",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'tag_id'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_LNUMBER","2",441],"]",";",["T_WHITESPACE","\n                ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","assertEquals",442],"(",["T_VARIABLE","$expected",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$e",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","toArray",442],"(",")",")",";",["T_WHITESPACE","\n                ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","assertEquals",443],"(","[",["T_CONSTANT_ENCAPSED_STRING","'foo'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'bar'",443],"]",",",["T_WHITESPACE"," ",443],["T_VARIABLE","$opts",443],")",";",["T_WHITESPACE","\n                ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","assertTrue",444],"(",["T_VARIABLE","$e",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","isNew",444],"(",")",")",";",["T_WHITESPACE","\n\n                ",444],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$entity",446],";",["T_WHITESPACE","\n            ",446],"}",")",")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$joint",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","expects",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","at",449],"(",["T_LNUMBER","1",449],")",")",["T_WHITESPACE","\n            ",449],["T_OBJECT_OPERATOR","->",450],["T_STRING","method",450],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",450],")",["T_WHITESPACE","\n            ",450],["T_OBJECT_OPERATOR","->",451],["T_STRING","will",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","returnCallback",451],"(",["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$e",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$opts",451],")",["T_WHITESPACE"," ",451],["T_USE","use",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$entity",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n                ",451],["T_VARIABLE","$expected",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],"[",["T_CONSTANT_ENCAPSED_STRING","'article_id'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_LNUMBER","1",452],",",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'tag_id'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_LNUMBER","3",452],"]",";",["T_WHITESPACE","\n                ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","assertEquals",453],"(",["T_VARIABLE","$expected",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$e",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","toArray",453],"(",")",")",";",["T_WHITESPACE","\n                ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","assertEquals",454],"(","[",["T_CONSTANT_ENCAPSED_STRING","'foo'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'bar'",454],"]",",",["T_WHITESPACE"," ",454],["T_VARIABLE","$opts",454],")",";",["T_WHITESPACE","\n                ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","assertTrue",455],"(",["T_VARIABLE","$e",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","isNew",455],"(",")",")",";",["T_WHITESPACE","\n\n                ",455],["T_RETURN","return",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$entity",457],";",["T_WHITESPACE","\n            ",457],"}",")",")",";",["T_WHITESPACE","\n\n        ",458],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","assertTrue",460],"(",["T_VARIABLE","$assoc",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","link",460],"(",["T_VARIABLE","$entity",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$tags",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$saveOptions",460],")",")",";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","assertSame",461],"(",["T_VARIABLE","$entity",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","test",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$tags",461],")",";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * Test liking entities having a non persisted source entity\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Source entity needs to be persisted before proceeding\n     * @return void\n     *\/",464],["T_WHITESPACE","\n    ",470],["T_PUBLIC","public",471],["T_WHITESPACE"," ",471],["T_FUNCTION","function",471],["T_WHITESPACE"," ",471],["T_STRING","testUnlinkWithNotPersistedSource",471],"(",")",["T_WHITESPACE","\n    ",471],"{",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$config",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],"[",["T_WHITESPACE","\n            ",473],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","article",474],",",["T_WHITESPACE","\n            ",474],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",475],["T_WHITESPACE"," ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","tag",475],",",["T_WHITESPACE","\n            ",475],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",476],["T_WHITESPACE"," ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",476],["T_WHITESPACE","\n        ",476],"]",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$assoc",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_NEW","new",478],["T_WHITESPACE"," ",478],["T_STRING","BelongsToMany",478],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$config",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$entity",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_NEW","new",479],["T_WHITESPACE"," ",479],["T_STRING","Entity",479],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",479],["T_WHITESPACE"," ",479],["T_DOUBLE_ARROW","=>",479],["T_WHITESPACE"," ",479],["T_LNUMBER","1",479],"]",")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$tags",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],"[",["T_NEW","new",480],["T_WHITESPACE"," ",480],["T_STRING","Entity",480],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",480],["T_WHITESPACE"," ",480],["T_DOUBLE_ARROW","=>",480],["T_WHITESPACE"," ",480],["T_LNUMBER","2",480],"]",")",",",["T_WHITESPACE"," ",480],["T_NEW","new",480],["T_WHITESPACE"," ",480],["T_STRING","Entity",480],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",480],["T_WHITESPACE"," ",480],["T_DOUBLE_ARROW","=>",480],["T_WHITESPACE"," ",480],["T_LNUMBER","3",480],"]",")","]",";",["T_WHITESPACE","\n        ",480],["T_VARIABLE","$assoc",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","unlink",481],"(",["T_VARIABLE","$entity",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$tags",481],")",";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n\n    ",482],["T_DOC_COMMENT","\/**\n     * Test liking entities having a non persisted target entity\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Cannot link not persisted entities\n     * @return void\n     *\/",484],["T_WHITESPACE","\n    ",490],["T_PUBLIC","public",491],["T_WHITESPACE"," ",491],["T_FUNCTION","function",491],["T_WHITESPACE"," ",491],["T_STRING","testUnlinkWithNotPersistedTarget",491],"(",")",["T_WHITESPACE","\n    ",491],"{",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$config",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],"[",["T_WHITESPACE","\n            ",493],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","article",494],",",["T_WHITESPACE","\n            ",494],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","tag",495],",",["T_WHITESPACE","\n            ",495],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",496],["T_WHITESPACE","\n        ",496],"]",";",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$assoc",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_NEW","new",498],["T_WHITESPACE"," ",498],["T_STRING","BelongsToMany",498],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$config",498],")",";",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$entity",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_NEW","new",499],["T_WHITESPACE"," ",499],["T_STRING","Entity",499],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",499],["T_WHITESPACE"," ",499],["T_DOUBLE_ARROW","=>",499],["T_WHITESPACE"," ",499],["T_LNUMBER","1",499],"]",",",["T_WHITESPACE"," ",499],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",499],["T_WHITESPACE"," ",499],["T_DOUBLE_ARROW","=>",499],["T_WHITESPACE"," ",499],["T_STRING","false",499],"]",")",";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$tags",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],"[",["T_NEW","new",500],["T_WHITESPACE"," ",500],["T_STRING","Entity",500],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_LNUMBER","2",500],"]",")",",",["T_WHITESPACE"," ",500],["T_NEW","new",500],["T_WHITESPACE"," ",500],["T_STRING","Entity",500],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_LNUMBER","3",500],"]",")","]",";",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$assoc",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","unlink",501],"(",["T_VARIABLE","$entity",501],",",["T_WHITESPACE"," ",501],["T_VARIABLE","$tags",501],")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_DOC_COMMENT","\/**\n     * Tests that unlinking calls the right methods\n     *\n     * @return void\n     *\/",504],["T_WHITESPACE","\n    ",508],["T_PUBLIC","public",509],["T_WHITESPACE"," ",509],["T_FUNCTION","function",509],["T_WHITESPACE"," ",509],["T_STRING","testUnlinkSuccess",509],"(",")",["T_WHITESPACE","\n    ",509],"{",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$joint",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_STRING","TableRegistry",511],["T_DOUBLE_COLON","::",511],["T_STRING","get",511],"(",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",511],")",";",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$articles",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","TableRegistry",512],["T_DOUBLE_COLON","::",512],["T_STRING","get",512],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",512],")",";",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$tags",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_STRING","TableRegistry",513],["T_DOUBLE_COLON","::",513],["T_STRING","get",513],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",513],")",";",["T_WHITESPACE","\n\n        ",513],["T_VARIABLE","$assoc",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$articles",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","belongsToMany",515],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",515],",",["T_WHITESPACE"," ",515],"[",["T_WHITESPACE","\n            ",515],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$articles",516],",",["T_WHITESPACE","\n            ",516],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$tags",517],",",["T_WHITESPACE","\n            ",517],["T_CONSTANT_ENCAPSED_STRING","'through'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$joint",518],",",["T_WHITESPACE","\n            ",518],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'special_tags'",519],",",["T_WHITESPACE","\n        ",519],"]",")",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$entity",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$articles",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","get",521],"(",["T_LNUMBER","2",521],",",["T_WHITESPACE"," ",521],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","'Tags'",521],"]",")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$initial",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$entity",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","tags",522],";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","assertCount",523],"(",["T_LNUMBER","1",523],",",["T_WHITESPACE"," ",523],["T_VARIABLE","$initial",523],")",";",["T_WHITESPACE","\n\n        ",523],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","assertTrue",525],"(",["T_VARIABLE","$assoc",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","unlink",525],"(",["T_VARIABLE","$entity",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$entity",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","tags",525],")",")",";",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","assertEmpty",526],"(",["T_VARIABLE","$entity",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","get",526],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",526],")",",",["T_WHITESPACE"," ",526],["T_CONSTANT_ENCAPSED_STRING","'Property should be empty'",526],")",";",["T_WHITESPACE","\n\n        ",526],["T_VARIABLE","$new",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$articles",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","get",528],"(",["T_LNUMBER","2",528],",",["T_WHITESPACE"," ",528],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",528],["T_WHITESPACE"," ",528],["T_DOUBLE_ARROW","=>",528],["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'Tags'",528],"]",")",";",["T_WHITESPACE","\n        ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","assertCount",529],"(",["T_LNUMBER","0",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$new",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","tags",529],",",["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'DB should be clean'",529],")",";",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","assertSame",530],"(",["T_LNUMBER","3",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$tags",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","find",530],"(",")",["T_OBJECT_OPERATOR","->",530],["T_STRING","count",530],"(",")",",",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'Tags should still exist'",530],")",";",["T_WHITESPACE","\n    ",530],"}",["T_WHITESPACE","\n\n    ",531],["T_DOC_COMMENT","\/**\n     * Tests that unlinking with last parameter set to false\n     * will not remove entities from the association property\n     *\n     * @return void\n     *\/",533],["T_WHITESPACE","\n    ",538],["T_PUBLIC","public",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","testUnlinkWithoutPropertyClean",539],"(",")",["T_WHITESPACE","\n    ",539],"{",["T_WHITESPACE","\n        ",540],["T_VARIABLE","$joint",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","TableRegistry",541],["T_DOUBLE_COLON","::",541],["T_STRING","get",541],"(",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",541],")",";",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$articles",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","TableRegistry",542],["T_DOUBLE_COLON","::",542],["T_STRING","get",542],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",542],")",";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$tags",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_STRING","TableRegistry",543],["T_DOUBLE_COLON","::",543],["T_STRING","get",543],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",543],")",";",["T_WHITESPACE","\n\n        ",543],["T_VARIABLE","$assoc",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$articles",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","belongsToMany",545],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",545],",",["T_WHITESPACE"," ",545],"[",["T_WHITESPACE","\n            ",545],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$articles",546],",",["T_WHITESPACE","\n            ",546],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$tags",547],",",["T_WHITESPACE","\n            ",547],["T_CONSTANT_ENCAPSED_STRING","'through'",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$joint",548],",",["T_WHITESPACE","\n            ",548],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_CONSTANT_ENCAPSED_STRING","'special_tags'",549],",",["T_WHITESPACE","\n            ",549],["T_CONSTANT_ENCAPSED_STRING","'conditions'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],"[",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags.highlighted'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_STRING","true",550],"]",["T_WHITESPACE","\n        ",550],"]",")",";",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$entity",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_VARIABLE","$articles",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","get",552],"(",["T_LNUMBER","2",552],",",["T_WHITESPACE"," ",552],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","'Tags'",552],"]",")",";",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$initial",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_VARIABLE","$entity",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","tags",553],";",["T_WHITESPACE","\n        ",553],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","assertCount",554],"(",["T_LNUMBER","1",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$initial",554],")",";",["T_WHITESPACE","\n\n        ",554],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","assertTrue",556],"(",["T_VARIABLE","$assoc",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","unlink",556],"(",["T_VARIABLE","$entity",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$initial",556],",",["T_WHITESPACE"," ",556],"[",["T_CONSTANT_ENCAPSED_STRING","'cleanProperty'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_STRING","false",556],"]",")",")",";",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","assertNotEmpty",557],"(",["T_VARIABLE","$entity",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","get",557],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",557],")",",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'Property should not be empty'",557],")",";",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","assertEquals",558],"(",["T_VARIABLE","$initial",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$entity",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","get",558],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",558],")",",",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'Property should be untouched'",558],")",";",["T_WHITESPACE","\n\n        ",558],["T_VARIABLE","$new",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$articles",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","get",560],"(",["T_LNUMBER","2",560],",",["T_WHITESPACE"," ",560],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",560],["T_WHITESPACE"," ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'Tags'",560],"]",")",";",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","assertCount",561],"(",["T_LNUMBER","0",561],",",["T_WHITESPACE"," ",561],["T_VARIABLE","$new",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","tags",561],",",["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","'DB should be clean'",561],")",";",["T_WHITESPACE","\n    ",561],"}",["T_WHITESPACE","\n\n    ",562],["T_DOC_COMMENT","\/**\n     * Tests that replaceLink requires the sourceEntity to have primaryKey values\n     * for the source entity\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Could not find primary key value for source entity\n     * @return void\n     *\/",564],["T_WHITESPACE","\n    ",571],["T_PUBLIC","public",572],["T_WHITESPACE"," ",572],["T_FUNCTION","function",572],["T_WHITESPACE"," ",572],["T_STRING","testReplaceWithMissingPrimaryKey",572],"(",")",["T_WHITESPACE","\n    ",572],"{",["T_WHITESPACE","\n        ",573],["T_VARIABLE","$config",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],"[",["T_WHITESPACE","\n            ",574],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",575],["T_WHITESPACE"," ",575],["T_DOUBLE_ARROW","=>",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","article",575],",",["T_WHITESPACE","\n            ",575],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",576],["T_WHITESPACE"," ",576],["T_DOUBLE_ARROW","=>",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","tag",576],",",["T_WHITESPACE","\n            ",576],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",577],["T_WHITESPACE"," ",577],["T_DOUBLE_ARROW","=>",577],["T_WHITESPACE"," ",577],["T_CONSTANT_ENCAPSED_STRING","'tags_articles'",577],["T_WHITESPACE","\n        ",577],"]",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$assoc",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_NEW","new",579],["T_WHITESPACE"," ",579],["T_STRING","BelongsToMany",579],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",579],",",["T_WHITESPACE"," ",579],["T_VARIABLE","$config",579],")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$entity",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_NEW","new",580],["T_WHITESPACE"," ",580],["T_STRING","Entity",580],"(","[",["T_CONSTANT_ENCAPSED_STRING","'foo'",580],["T_WHITESPACE"," ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_LNUMBER","1",580],"]",",",["T_WHITESPACE"," ",580],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",580],["T_WHITESPACE"," ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_STRING","false",580],"]",")",";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$tags",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],"[",["T_NEW","new",581],["T_WHITESPACE"," ",581],["T_STRING","Entity",581],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",581],["T_WHITESPACE"," ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],["T_LNUMBER","2",581],"]",")",",",["T_WHITESPACE"," ",581],["T_NEW","new",581],["T_WHITESPACE"," ",581],["T_STRING","Entity",581],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",581],["T_WHITESPACE"," ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],["T_LNUMBER","3",581],"]",")","]",";",["T_WHITESPACE","\n        ",581],["T_VARIABLE","$assoc",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","replaceLinks",582],"(",["T_VARIABLE","$entity",582],",",["T_WHITESPACE"," ",582],["T_VARIABLE","$tags",582],")",";",["T_WHITESPACE","\n    ",582],"}",["T_WHITESPACE","\n\n    ",583],["T_DOC_COMMENT","\/**\n     * Test that replaceLinks() can saveAssociated an empty set, removing all rows.\n     *\n     * @return void\n     *\/",585],["T_WHITESPACE","\n    ",589],["T_PUBLIC","public",590],["T_WHITESPACE"," ",590],["T_FUNCTION","function",590],["T_WHITESPACE"," ",590],["T_STRING","testReplaceLinksUpdateToEmptySet",590],"(",")",["T_WHITESPACE","\n    ",590],"{",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$joint",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","TableRegistry",592],["T_DOUBLE_COLON","::",592],["T_STRING","get",592],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",592],")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$articles",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_STRING","TableRegistry",593],["T_DOUBLE_COLON","::",593],["T_STRING","get",593],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",593],")",";",["T_WHITESPACE","\n        ",593],["T_VARIABLE","$tags",594],["T_WHITESPACE"," ",594],"=",["T_WHITESPACE"," ",594],["T_STRING","TableRegistry",594],["T_DOUBLE_COLON","::",594],["T_STRING","get",594],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",594],")",";",["T_WHITESPACE","\n\n        ",594],["T_VARIABLE","$assoc",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$articles",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","belongsToMany",596],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",596],",",["T_WHITESPACE"," ",596],"[",["T_WHITESPACE","\n            ",596],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",597],["T_WHITESPACE"," ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$articles",597],",",["T_WHITESPACE","\n            ",597],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",598],["T_WHITESPACE"," ",598],["T_DOUBLE_ARROW","=>",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$tags",598],",",["T_WHITESPACE","\n            ",598],["T_CONSTANT_ENCAPSED_STRING","'through'",599],["T_WHITESPACE"," ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$joint",599],",",["T_WHITESPACE","\n            ",599],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",600],["T_WHITESPACE"," ",600],["T_DOUBLE_ARROW","=>",600],["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'articles_tags'",600],",",["T_WHITESPACE","\n        ",600],"]",")",";",["T_WHITESPACE","\n\n        ",601],["T_VARIABLE","$entity",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_VARIABLE","$articles",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","get",603],"(",["T_LNUMBER","1",603],",",["T_WHITESPACE"," ",603],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'Tags'",603],"]",")",";",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","assertCount",604],"(",["T_LNUMBER","2",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$entity",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","tags",604],")",";",["T_WHITESPACE","\n\n        ",604],["T_VARIABLE","$assoc",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","replaceLinks",606],"(",["T_VARIABLE","$entity",606],",",["T_WHITESPACE"," ",606],"[","]",")",";",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","assertSame",607],"(","[","]",",",["T_WHITESPACE"," ",607],["T_VARIABLE","$entity",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","tags",607],",",["T_WHITESPACE"," ",607],["T_CONSTANT_ENCAPSED_STRING","'Property should be empty'",607],")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","assertFalse",608],"(",["T_VARIABLE","$entity",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","dirty",608],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",608],")",",",["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'Property should be cleaned'",608],")",";",["T_WHITESPACE","\n\n        ",608],["T_VARIABLE","$new",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],["T_VARIABLE","$articles",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","get",610],"(",["T_LNUMBER","1",610],",",["T_WHITESPACE"," ",610],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",610],["T_WHITESPACE"," ",610],["T_DOUBLE_ARROW","=>",610],["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'Tags'",610],"]",")",";",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","assertSame",611],"(","[","]",",",["T_WHITESPACE"," ",611],["T_VARIABLE","$entity",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","tags",611],",",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'Should not be data in db'",611],")",";",["T_WHITESPACE","\n    ",611],"}",["T_WHITESPACE","\n\n    ",612],["T_DOC_COMMENT","\/**\n     * Tests that replaceLinks will delete entities not present in the passed,\n     * array, maintain those are already persisted and were passed and also\n     * insert the rest.\n     *\n     * @return void\n     *\/",614],["T_WHITESPACE","\n    ",620],["T_PUBLIC","public",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","testReplaceLinkSuccess",621],"(",")",["T_WHITESPACE","\n    ",621],"{",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$joint",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_STRING","TableRegistry",623],["T_DOUBLE_COLON","::",623],["T_STRING","get",623],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",623],")",";",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$articles",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","TableRegistry",624],["T_DOUBLE_COLON","::",624],["T_STRING","get",624],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",624],")",";",["T_WHITESPACE","\n        ",624],["T_VARIABLE","$tags",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_STRING","TableRegistry",625],["T_DOUBLE_COLON","::",625],["T_STRING","get",625],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",625],")",";",["T_WHITESPACE","\n\n        ",625],["T_VARIABLE","$assoc",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_VARIABLE","$articles",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","belongsToMany",627],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",627],",",["T_WHITESPACE"," ",627],"[",["T_WHITESPACE","\n            ",627],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",628],["T_WHITESPACE"," ",628],["T_DOUBLE_ARROW","=>",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$articles",628],",",["T_WHITESPACE","\n            ",628],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",629],["T_WHITESPACE"," ",629],["T_DOUBLE_ARROW","=>",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$tags",629],",",["T_WHITESPACE","\n            ",629],["T_CONSTANT_ENCAPSED_STRING","'through'",630],["T_WHITESPACE"," ",630],["T_DOUBLE_ARROW","=>",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$joint",630],",",["T_WHITESPACE","\n            ",630],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",631],["T_WHITESPACE"," ",631],["T_DOUBLE_ARROW","=>",631],["T_WHITESPACE"," ",631],["T_CONSTANT_ENCAPSED_STRING","'articles_tags'",631],",",["T_WHITESPACE","\n        ",631],"]",")",";",["T_WHITESPACE","\n        ",632],["T_VARIABLE","$entity",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_VARIABLE","$articles",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","get",633],"(",["T_LNUMBER","1",633],",",["T_WHITESPACE"," ",633],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",633],["T_WHITESPACE"," ",633],["T_DOUBLE_ARROW","=>",633],["T_WHITESPACE"," ",633],["T_CONSTANT_ENCAPSED_STRING","'Tags'",633],"]",")",";",["T_WHITESPACE","\n\n        ",633],["T_COMMENT","\/\/ 1=existing, 2=removed, 3=new link, & new tag\n",635],["T_WHITESPACE","        ",636],["T_VARIABLE","$tagData",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],"[",["T_WHITESPACE","\n            ",636],["T_NEW","new",637],["T_WHITESPACE"," ",637],["T_STRING","Entity",637],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",637],["T_WHITESPACE"," ",637],["T_DOUBLE_ARROW","=>",637],["T_WHITESPACE"," ",637],["T_LNUMBER","1",637],"]",",",["T_WHITESPACE"," ",637],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",637],["T_WHITESPACE"," ",637],["T_DOUBLE_ARROW","=>",637],["T_WHITESPACE"," ",637],["T_STRING","false",637],"]",")",",",["T_WHITESPACE","\n            ",637],["T_NEW","new",638],["T_WHITESPACE"," ",638],["T_STRING","Entity",638],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",638],["T_WHITESPACE"," ",638],["T_DOUBLE_ARROW","=>",638],["T_WHITESPACE"," ",638],["T_LNUMBER","3",638],"]",")",",",["T_WHITESPACE","\n            ",638],["T_NEW","new",639],["T_WHITESPACE"," ",639],["T_STRING","Entity",639],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",639],["T_WHITESPACE"," ",639],["T_DOUBLE_ARROW","=>",639],["T_WHITESPACE"," ",639],["T_CONSTANT_ENCAPSED_STRING","'net new'",639],"]",")",",",["T_WHITESPACE","\n        ",639],"]",";",["T_WHITESPACE","\n\n        ",640],["T_VARIABLE","$result",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_VARIABLE","$assoc",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","replaceLinks",642],"(",["T_VARIABLE","$entity",642],",",["T_WHITESPACE"," ",642],["T_VARIABLE","$tagData",642],",",["T_WHITESPACE"," ",642],"[",["T_CONSTANT_ENCAPSED_STRING","'associated'",642],["T_WHITESPACE"," ",642],["T_DOUBLE_ARROW","=>",642],["T_WHITESPACE"," ",642],["T_STRING","false",642],"]",")",";",["T_WHITESPACE","\n        ",642],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","assertTrue",643],"(",["T_VARIABLE","$result",643],")",";",["T_WHITESPACE","\n        ",643],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","assertSame",644],"(",["T_VARIABLE","$tagData",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$entity",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","tags",644],",",["T_WHITESPACE"," ",644],["T_CONSTANT_ENCAPSED_STRING","'Tags should match replaced objects'",644],")",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","assertFalse",645],"(",["T_VARIABLE","$entity",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","dirty",645],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",645],")",",",["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'Should be clean'",645],")",";",["T_WHITESPACE","\n\n        ",645],["T_VARIABLE","$fresh",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_VARIABLE","$articles",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","get",647],"(",["T_LNUMBER","1",647],",",["T_WHITESPACE"," ",647],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",647],["T_WHITESPACE"," ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],["T_CONSTANT_ENCAPSED_STRING","'Tags'",647],"]",")",";",["T_WHITESPACE","\n        ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","assertCount",648],"(",["T_LNUMBER","3",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$fresh",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","tags",648],",",["T_WHITESPACE"," ",648],["T_CONSTANT_ENCAPSED_STRING","'Records should be in db'",648],")",";",["T_WHITESPACE","\n\n        ",648],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","assertNotEmpty",650],"(",["T_VARIABLE","$tags",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","get",650],"(",["T_LNUMBER","2",650],")",",",["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'Unlinked tag should still exist'",650],")",";",["T_WHITESPACE","\n    ",650],"}",["T_WHITESPACE","\n\n    ",651],["T_DOC_COMMENT","\/**\n     * Tests that replaceLinks() will contain() the target table when\n     * there are conditions present on the association.\n     *\n     * In this case the replacement will fail because the association conditions\n     * hide the fixture data.\n     *\n     * @return void\n     *\/",653],["T_WHITESPACE","\n    ",661],["T_PUBLIC","public",662],["T_WHITESPACE"," ",662],["T_FUNCTION","function",662],["T_WHITESPACE"," ",662],["T_STRING","testReplaceLinkWithConditions",662],"(",")",["T_WHITESPACE","\n    ",662],"{",["T_WHITESPACE","\n        ",663],["T_VARIABLE","$joint",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_STRING","TableRegistry",664],["T_DOUBLE_COLON","::",664],["T_STRING","get",664],"(",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",664],")",";",["T_WHITESPACE","\n        ",664],["T_VARIABLE","$articles",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_STRING","TableRegistry",665],["T_DOUBLE_COLON","::",665],["T_STRING","get",665],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",665],")",";",["T_WHITESPACE","\n        ",665],["T_VARIABLE","$tags",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_STRING","TableRegistry",666],["T_DOUBLE_COLON","::",666],["T_STRING","get",666],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",666],")",";",["T_WHITESPACE","\n\n        ",666],["T_VARIABLE","$assoc",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_VARIABLE","$articles",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","belongsToMany",668],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",668],",",["T_WHITESPACE"," ",668],"[",["T_WHITESPACE","\n            ",668],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",669],["T_WHITESPACE"," ",669],["T_DOUBLE_ARROW","=>",669],["T_WHITESPACE"," ",669],["T_VARIABLE","$articles",669],",",["T_WHITESPACE","\n            ",669],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",670],["T_WHITESPACE"," ",670],["T_DOUBLE_ARROW","=>",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$tags",670],",",["T_WHITESPACE","\n            ",670],["T_CONSTANT_ENCAPSED_STRING","'through'",671],["T_WHITESPACE"," ",671],["T_DOUBLE_ARROW","=>",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$joint",671],",",["T_WHITESPACE","\n            ",671],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",672],["T_WHITESPACE"," ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'special_tags'",672],",",["T_WHITESPACE","\n            ",672],["T_CONSTANT_ENCAPSED_STRING","'conditions'",673],["T_WHITESPACE"," ",673],["T_DOUBLE_ARROW","=>",673],["T_WHITESPACE"," ",673],"[",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags.highlighted'",673],["T_WHITESPACE"," ",673],["T_DOUBLE_ARROW","=>",673],["T_WHITESPACE"," ",673],["T_STRING","true",673],"]",["T_WHITESPACE","\n        ",673],"]",")",";",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$entity",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_VARIABLE","$articles",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","get",675],"(",["T_LNUMBER","1",675],",",["T_WHITESPACE"," ",675],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'Tags'",675],"]",")",";",["T_WHITESPACE","\n\n        ",675],["T_VARIABLE","$result",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_VARIABLE","$assoc",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","replaceLinks",677],"(",["T_VARIABLE","$entity",677],",",["T_WHITESPACE"," ",677],"[","]",",",["T_WHITESPACE"," ",677],"[",["T_CONSTANT_ENCAPSED_STRING","'associated'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_STRING","false",677],"]",")",";",["T_WHITESPACE","\n        ",677],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","assertTrue",678],"(",["T_VARIABLE","$result",678],")",";",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","assertSame",679],"(","[","]",",",["T_WHITESPACE"," ",679],["T_VARIABLE","$entity",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","tags",679],",",["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'Tags should match replaced objects'",679],")",";",["T_WHITESPACE","\n        ",679],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","assertFalse",680],"(",["T_VARIABLE","$entity",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","dirty",680],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",680],")",",",["T_WHITESPACE"," ",680],["T_CONSTANT_ENCAPSED_STRING","'Should be clean'",680],")",";",["T_WHITESPACE","\n\n        ",680],["T_VARIABLE","$fresh",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$articles",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","get",682],"(",["T_LNUMBER","1",682],",",["T_WHITESPACE"," ",682],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",682],["T_WHITESPACE"," ",682],["T_DOUBLE_ARROW","=>",682],["T_WHITESPACE"," ",682],["T_CONSTANT_ENCAPSED_STRING","'Tags'",682],"]",")",";",["T_WHITESPACE","\n        ",682],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","assertCount",683],"(",["T_LNUMBER","0",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$fresh",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","tags",683],",",["T_WHITESPACE"," ",683],["T_CONSTANT_ENCAPSED_STRING","'Association should be empty'",683],")",";",["T_WHITESPACE","\n\n        ",683],["T_VARIABLE","$jointCount",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_VARIABLE","$joint",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","find",685],"(",")",["T_OBJECT_OPERATOR","->",685],["T_STRING","where",685],"(","[",["T_CONSTANT_ENCAPSED_STRING","'article_id'",685],["T_WHITESPACE"," ",685],["T_DOUBLE_ARROW","=>",685],["T_WHITESPACE"," ",685],["T_LNUMBER","1",685],"]",")",["T_OBJECT_OPERATOR","->",685],["T_STRING","count",685],"(",")",";",["T_WHITESPACE","\n        ",685],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","assertSame",686],"(",["T_LNUMBER","1",686],",",["T_WHITESPACE"," ",686],["T_VARIABLE","$jointCount",686],",",["T_WHITESPACE"," ",686],["T_CONSTANT_ENCAPSED_STRING","'Non matching joint record should remain.'",686],")",";",["T_WHITESPACE","\n    ",686],"}",["T_WHITESPACE","\n\n    ",687],["T_DOC_COMMENT","\/**\n     * Tests replaceLinks with failing domain rules and new link targets.\n     *\n     * @return void\n     *\/",689],["T_WHITESPACE","\n    ",693],["T_PUBLIC","public",694],["T_WHITESPACE"," ",694],["T_FUNCTION","function",694],["T_WHITESPACE"," ",694],["T_STRING","testReplaceLinkFailingDomainRules",694],"(",")",["T_WHITESPACE","\n    ",694],"{",["T_WHITESPACE","\n        ",695],["T_VARIABLE","$articles",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_STRING","TableRegistry",696],["T_DOUBLE_COLON","::",696],["T_STRING","get",696],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",696],")",";",["T_WHITESPACE","\n        ",696],["T_VARIABLE","$tags",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_STRING","TableRegistry",697],["T_DOUBLE_COLON","::",697],["T_STRING","get",697],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",697],")",";",["T_WHITESPACE","\n        ",697],["T_VARIABLE","$tags",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","eventManager",698],"(",")",["T_OBJECT_OPERATOR","->",698],["T_STRING","on",698],"(",["T_CONSTANT_ENCAPSED_STRING","'Model.buildRules'",698],",",["T_WHITESPACE"," ",698],["T_FUNCTION","function",698],["T_WHITESPACE"," ",698],"(",["T_VARIABLE","$event",698],",",["T_WHITESPACE"," ",698],["T_VARIABLE","$rules",698],")",["T_WHITESPACE"," ",698],"{",["T_WHITESPACE","\n            ",698],["T_VARIABLE","$rules",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","add",699],"(",["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],"(",")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n                ",699],["T_RETURN","return",700],["T_WHITESPACE"," ",700],["T_STRING","false",700],";",["T_WHITESPACE","\n            ",700],"}",",",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'rule'",701],",",["T_WHITESPACE"," ",701],"[",["T_CONSTANT_ENCAPSED_STRING","'errorField'",701],["T_WHITESPACE"," ",701],["T_DOUBLE_ARROW","=>",701],["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'name'",701],",",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'message'",701],["T_WHITESPACE"," ",701],["T_DOUBLE_ARROW","=>",701],["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'Bad data'",701],"]",")",";",["T_WHITESPACE","\n        ",701],"}",")",";",["T_WHITESPACE","\n\n        ",702],["T_VARIABLE","$assoc",704],["T_WHITESPACE"," ",704],"=",["T_WHITESPACE"," ",704],["T_VARIABLE","$articles",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","belongsToMany",704],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",704],",",["T_WHITESPACE"," ",704],"[",["T_WHITESPACE","\n            ",704],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",705],["T_WHITESPACE"," ",705],["T_DOUBLE_ARROW","=>",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$articles",705],",",["T_WHITESPACE","\n            ",705],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",706],["T_WHITESPACE"," ",706],["T_DOUBLE_ARROW","=>",706],["T_WHITESPACE"," ",706],["T_VARIABLE","$tags",706],",",["T_WHITESPACE","\n            ",706],["T_CONSTANT_ENCAPSED_STRING","'through'",707],["T_WHITESPACE"," ",707],["T_DOUBLE_ARROW","=>",707],["T_WHITESPACE"," ",707],["T_STRING","TableRegistry",707],["T_DOUBLE_COLON","::",707],["T_STRING","get",707],"(",["T_CONSTANT_ENCAPSED_STRING","'ArticlesTags'",707],")",",",["T_WHITESPACE","\n            ",707],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",708],["T_WHITESPACE"," ",708],["T_DOUBLE_ARROW","=>",708],["T_WHITESPACE"," ",708],["T_CONSTANT_ENCAPSED_STRING","'articles_tags'",708],",",["T_WHITESPACE","\n        ",708],"]",")",";",["T_WHITESPACE","\n        ",709],["T_VARIABLE","$entity",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_VARIABLE","$articles",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","get",710],"(",["T_LNUMBER","1",710],",",["T_WHITESPACE"," ",710],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",710],["T_WHITESPACE"," ",710],["T_DOUBLE_ARROW","=>",710],["T_WHITESPACE"," ",710],["T_CONSTANT_ENCAPSED_STRING","'Tags'",710],"]",")",";",["T_WHITESPACE","\n        ",710],["T_VARIABLE","$originalCount",711],["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_STRING","count",711],"(",["T_VARIABLE","$entity",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","tags",711],")",";",["T_WHITESPACE","\n\n        ",711],["T_VARIABLE","$tags",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],"[",["T_WHITESPACE","\n            ",713],["T_NEW","new",714],["T_WHITESPACE"," ",714],["T_STRING","Entity",714],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",714],["T_WHITESPACE"," ",714],["T_DOUBLE_ARROW","=>",714],["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'tag99'",714],",",["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'description'",714],["T_WHITESPACE"," ",714],["T_DOUBLE_ARROW","=>",714],["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'Best tag'",714],"]",")",["T_WHITESPACE","\n        ",714],"]",";",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$result",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_VARIABLE","$assoc",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","replaceLinks",716],"(",["T_VARIABLE","$entity",716],",",["T_WHITESPACE"," ",716],["T_VARIABLE","$tags",716],")",";",["T_WHITESPACE","\n        ",716],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","assertFalse",717],"(",["T_VARIABLE","$result",717],",",["T_WHITESPACE"," ",717],["T_CONSTANT_ENCAPSED_STRING","'replace should have failed.'",717],")",";",["T_WHITESPACE","\n        ",717],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","assertNotEmpty",718],"(",["T_VARIABLE","$tags",718],"[",["T_LNUMBER","0",718],"]",["T_OBJECT_OPERATOR","->",718],["T_STRING","errors",718],"(",")",",",["T_WHITESPACE"," ",718],["T_CONSTANT_ENCAPSED_STRING","'Bad entity should have errors.'",718],")",";",["T_WHITESPACE","\n\n        ",718],["T_VARIABLE","$entity",720],["T_WHITESPACE"," ",720],"=",["T_WHITESPACE"," ",720],["T_VARIABLE","$articles",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","get",720],"(",["T_LNUMBER","1",720],",",["T_WHITESPACE"," ",720],"[",["T_CONSTANT_ENCAPSED_STRING","'contain'",720],["T_WHITESPACE"," ",720],["T_DOUBLE_ARROW","=>",720],["T_WHITESPACE"," ",720],["T_CONSTANT_ENCAPSED_STRING","'Tags'",720],"]",")",";",["T_WHITESPACE","\n        ",720],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","assertCount",721],"(",["T_VARIABLE","$originalCount",721],",",["T_WHITESPACE"," ",721],["T_VARIABLE","$entity",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","tags",721],",",["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","'Should not have changed.'",721],")",";",["T_WHITESPACE","\n        ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","assertEquals",722],"(",["T_CONSTANT_ENCAPSED_STRING","'tag1'",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$entity",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","tags",722],"[",["T_LNUMBER","0",722],"]",["T_OBJECT_OPERATOR","->",722],["T_STRING","name",722],")",";",["T_WHITESPACE","\n    ",722],"}",["T_WHITESPACE","\n\n    ",723],["T_DOC_COMMENT","\/**\n     * Provider for empty values\n     *\n     * @return array\n     *\/",725],["T_WHITESPACE","\n    ",729],["T_PUBLIC","public",730],["T_WHITESPACE"," ",730],["T_FUNCTION","function",730],["T_WHITESPACE"," ",730],["T_STRING","emptyProvider",730],"(",")",["T_WHITESPACE","\n    ",730],"{",["T_WHITESPACE","\n        ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],"[",["T_WHITESPACE","\n            ",732],"[",["T_CONSTANT_ENCAPSED_STRING","''",733],"]",",",["T_WHITESPACE","\n            ",733],"[",["T_STRING","false",734],"]",",",["T_WHITESPACE","\n            ",734],"[",["T_STRING","null",735],"]",",",["T_WHITESPACE","\n            ",735],"[","[","]","]",["T_WHITESPACE","\n        ",736],"]",";",["T_WHITESPACE","\n    ",737],"}",["T_WHITESPACE","\n\n    ",738],["T_DOC_COMMENT","\/**\n     * Test that saveAssociated() fails on non-empty, non-iterable value\n     *\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Could not save tags, it cannot be traversed\n     * @return void\n     *\/",740],["T_WHITESPACE","\n    ",746],["T_PUBLIC","public",747],["T_WHITESPACE"," ",747],["T_FUNCTION","function",747],["T_WHITESPACE"," ",747],["T_STRING","testSaveAssociatedNotEmptyNotIterable",747],"(",")",["T_WHITESPACE","\n    ",747],"{",["T_WHITESPACE","\n        ",748],["T_VARIABLE","$articles",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_STRING","TableRegistry",749],["T_DOUBLE_COLON","::",749],["T_STRING","get",749],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",749],")",";",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$assoc",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$articles",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","belongsToMany",750],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",750],",",["T_WHITESPACE"," ",750],"[",["T_WHITESPACE","\n            ",750],["T_CONSTANT_ENCAPSED_STRING","'saveStrategy'",751],["T_WHITESPACE"," ",751],["T_DOUBLE_ARROW","=>",751],["T_WHITESPACE"," ",751],["T_STRING","BelongsToMany",751],["T_DOUBLE_COLON","::",751],["T_STRING","SAVE_APPEND",751],",",["T_WHITESPACE","\n            ",751],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",752],["T_WHITESPACE"," ",752],["T_DOUBLE_ARROW","=>",752],["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'articles_tags'",752],",",["T_WHITESPACE","\n        ",752],"]",")",";",["T_WHITESPACE","\n        ",753],["T_VARIABLE","$entity",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_NEW","new",754],["T_WHITESPACE"," ",754],["T_STRING","Entity",754],"(","[",["T_WHITESPACE","\n            ",754],["T_CONSTANT_ENCAPSED_STRING","'id'",755],["T_WHITESPACE"," ",755],["T_DOUBLE_ARROW","=>",755],["T_WHITESPACE"," ",755],["T_LNUMBER","1",755],",",["T_WHITESPACE","\n            ",755],["T_CONSTANT_ENCAPSED_STRING","'tags'",756],["T_WHITESPACE"," ",756],["T_DOUBLE_ARROW","=>",756],["T_WHITESPACE"," ",756],["T_CONSTANT_ENCAPSED_STRING","'oh noes'",756],",",["T_WHITESPACE","\n        ",756],"]",",",["T_WHITESPACE"," ",757],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",757],["T_WHITESPACE"," ",757],["T_DOUBLE_ARROW","=>",757],["T_WHITESPACE"," ",757],["T_STRING","true",757],"]",")",";",["T_WHITESPACE","\n\n        ",757],["T_VARIABLE","$assoc",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","saveAssociated",759],"(",["T_VARIABLE","$entity",759],")",";",["T_WHITESPACE","\n    ",759],"}",["T_WHITESPACE","\n\n    ",760],["T_DOC_COMMENT","\/**\n     * Test that saving an empty set on create works.\n     *\n     * @dataProvider emptyProvider\n     * @return void\n     *\/",762],["T_WHITESPACE","\n    ",767],["T_PUBLIC","public",768],["T_WHITESPACE"," ",768],["T_FUNCTION","function",768],["T_WHITESPACE"," ",768],["T_STRING","testSaveAssociatedEmptySetSuccess",768],"(",["T_VARIABLE","$value",768],")",["T_WHITESPACE","\n    ",768],"{",["T_WHITESPACE","\n        ",769],["T_VARIABLE","$table",770],["T_WHITESPACE"," ",770],"=",["T_WHITESPACE"," ",770],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","getMockBuilder",770],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",770],")",["T_WHITESPACE","\n            ",770],["T_OBJECT_OPERATOR","->",771],["T_STRING","setMethods",771],"(","[",["T_CONSTANT_ENCAPSED_STRING","'table'",771],"]",")",["T_WHITESPACE","\n            ",771],["T_OBJECT_OPERATOR","->",772],["T_STRING","getMock",772],"(",")",";",["T_WHITESPACE","\n        ",772],["T_VARIABLE","$table",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","schema",773],"(","[","]",")",";",["T_WHITESPACE","\n        ",773],["T_VARIABLE","$assoc",774],["T_WHITESPACE"," ",774],"=",["T_WHITESPACE"," ",774],["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","getMockBuilder",774],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Association\\BelongsToMany'",774],")",["T_WHITESPACE","\n            ",774],["T_OBJECT_OPERATOR","->",775],["T_STRING","setMethods",775],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_saveTarget'",775],",",["T_WHITESPACE"," ",775],["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",775],"]",")",["T_WHITESPACE","\n            ",775],["T_OBJECT_OPERATOR","->",776],["T_STRING","setConstructorArgs",776],"(","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",776],",",["T_WHITESPACE"," ",776],"[",["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",776],["T_WHITESPACE"," ",776],["T_DOUBLE_ARROW","=>",776],["T_WHITESPACE"," ",776],["T_VARIABLE","$table",776],"]","]",")",["T_WHITESPACE","\n            ",776],["T_OBJECT_OPERATOR","->",777],["T_STRING","getMock",777],"(",")",";",["T_WHITESPACE","\n        ",777],["T_VARIABLE","$entity",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_NEW","new",778],["T_WHITESPACE"," ",778],["T_STRING","Entity",778],"(","[",["T_WHITESPACE","\n            ",778],["T_CONSTANT_ENCAPSED_STRING","'id'",779],["T_WHITESPACE"," ",779],["T_DOUBLE_ARROW","=>",779],["T_WHITESPACE"," ",779],["T_LNUMBER","1",779],",",["T_WHITESPACE","\n            ",779],["T_CONSTANT_ENCAPSED_STRING","'tags'",780],["T_WHITESPACE"," ",780],["T_DOUBLE_ARROW","=>",780],["T_WHITESPACE"," ",780],["T_VARIABLE","$value",780],",",["T_WHITESPACE","\n        ",780],"]",",",["T_WHITESPACE"," ",781],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",781],["T_WHITESPACE"," ",781],["T_DOUBLE_ARROW","=>",781],["T_WHITESPACE"," ",781],["T_STRING","true",781],"]",")",";",["T_WHITESPACE","\n\n        ",781],["T_VARIABLE","$assoc",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","saveStrategy",783],"(",["T_STRING","BelongsToMany",783],["T_DOUBLE_COLON","::",783],["T_STRING","SAVE_REPLACE",783],")",";",["T_WHITESPACE","\n        ",783],["T_VARIABLE","$assoc",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","expects",784],"(",["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","never",784],"(",")",")",["T_WHITESPACE","\n            ",784],["T_OBJECT_OPERATOR","->",785],["T_STRING","method",785],"(",["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",785],")",";",["T_WHITESPACE","\n        ",785],["T_VARIABLE","$assoc",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","expects",786],"(",["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","never",786],"(",")",")",["T_WHITESPACE","\n            ",786],["T_OBJECT_OPERATOR","->",787],["T_STRING","method",787],"(",["T_CONSTANT_ENCAPSED_STRING","'_saveTarget'",787],")",";",["T_WHITESPACE","\n        ",787],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","assertSame",788],"(",["T_VARIABLE","$entity",788],",",["T_WHITESPACE"," ",788],["T_VARIABLE","$assoc",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","saveAssociated",788],"(",["T_VARIABLE","$entity",788],")",")",";",["T_WHITESPACE","\n    ",788],"}",["T_WHITESPACE","\n\n    ",789],["T_DOC_COMMENT","\/**\n     * Test that saving an empty set on update works.\n     *\n     * @dataProvider emptyProvider\n     * @return void\n     *\/",791],["T_WHITESPACE","\n    ",796],["T_PUBLIC","public",797],["T_WHITESPACE"," ",797],["T_FUNCTION","function",797],["T_WHITESPACE"," ",797],["T_STRING","testSaveAssociatedEmptySetUpdateSuccess",797],"(",["T_VARIABLE","$value",797],")",["T_WHITESPACE","\n    ",797],"{",["T_WHITESPACE","\n        ",798],["T_VARIABLE","$table",799],["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],["T_VARIABLE","$this",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","getMockBuilder",799],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",799],")",["T_WHITESPACE","\n            ",799],["T_OBJECT_OPERATOR","->",800],["T_STRING","setMethods",800],"(","[",["T_CONSTANT_ENCAPSED_STRING","'table'",800],"]",")",["T_WHITESPACE","\n            ",800],["T_OBJECT_OPERATOR","->",801],["T_STRING","getMock",801],"(",")",";",["T_WHITESPACE","\n        ",801],["T_VARIABLE","$table",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","schema",802],"(","[","]",")",";",["T_WHITESPACE","\n        ",802],["T_VARIABLE","$assoc",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","getMockBuilder",803],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Association\\BelongsToMany'",803],")",["T_WHITESPACE","\n            ",803],["T_OBJECT_OPERATOR","->",804],["T_STRING","setMethods",804],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_saveTarget'",804],",",["T_WHITESPACE"," ",804],["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",804],"]",")",["T_WHITESPACE","\n            ",804],["T_OBJECT_OPERATOR","->",805],["T_STRING","setConstructorArgs",805],"(","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",805],",",["T_WHITESPACE"," ",805],"[",["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",805],["T_WHITESPACE"," ",805],["T_DOUBLE_ARROW","=>",805],["T_WHITESPACE"," ",805],["T_VARIABLE","$table",805],"]","]",")",["T_WHITESPACE","\n            ",805],["T_OBJECT_OPERATOR","->",806],["T_STRING","getMock",806],"(",")",";",["T_WHITESPACE","\n        ",806],["T_VARIABLE","$entity",807],["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_NEW","new",807],["T_WHITESPACE"," ",807],["T_STRING","Entity",807],"(","[",["T_WHITESPACE","\n            ",807],["T_CONSTANT_ENCAPSED_STRING","'id'",808],["T_WHITESPACE"," ",808],["T_DOUBLE_ARROW","=>",808],["T_WHITESPACE"," ",808],["T_LNUMBER","1",808],",",["T_WHITESPACE","\n            ",808],["T_CONSTANT_ENCAPSED_STRING","'tags'",809],["T_WHITESPACE"," ",809],["T_DOUBLE_ARROW","=>",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$value",809],",",["T_WHITESPACE","\n        ",809],"]",",",["T_WHITESPACE"," ",810],"[",["T_CONSTANT_ENCAPSED_STRING","'markNew'",810],["T_WHITESPACE"," ",810],["T_DOUBLE_ARROW","=>",810],["T_WHITESPACE"," ",810],["T_STRING","false",810],"]",")",";",["T_WHITESPACE","\n\n        ",810],["T_VARIABLE","$assoc",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","saveStrategy",812],"(",["T_STRING","BelongsToMany",812],["T_DOUBLE_COLON","::",812],["T_STRING","SAVE_REPLACE",812],")",";",["T_WHITESPACE","\n        ",812],["T_VARIABLE","$assoc",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","expects",813],"(",["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","once",813],"(",")",")",["T_WHITESPACE","\n            ",813],["T_OBJECT_OPERATOR","->",814],["T_STRING","method",814],"(",["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",814],")",["T_WHITESPACE","\n            ",814],["T_OBJECT_OPERATOR","->",815],["T_STRING","with",815],"(",["T_VARIABLE","$entity",815],",",["T_WHITESPACE"," ",815],"[","]",")",["T_WHITESPACE","\n            ",815],["T_OBJECT_OPERATOR","->",816],["T_STRING","will",816],"(",["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","returnValue",816],"(",["T_STRING","true",816],")",")",";",["T_WHITESPACE","\n\n        ",816],["T_VARIABLE","$assoc",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","expects",818],"(",["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","never",818],"(",")",")",["T_WHITESPACE","\n            ",818],["T_OBJECT_OPERATOR","->",819],["T_STRING","method",819],"(",["T_CONSTANT_ENCAPSED_STRING","'_saveTarget'",819],")",";",["T_WHITESPACE","\n\n        ",819],["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","assertSame",821],"(",["T_VARIABLE","$entity",821],",",["T_WHITESPACE"," ",821],["T_VARIABLE","$assoc",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","saveAssociated",821],"(",["T_VARIABLE","$entity",821],")",")",";",["T_WHITESPACE","\n    ",821],"}",["T_WHITESPACE","\n\n    ",822],["T_DOC_COMMENT","\/**\n     * Tests saving with replace strategy returning true\n     *\n     * @return void\n     *\/",824],["T_WHITESPACE","\n    ",828],["T_PUBLIC","public",829],["T_WHITESPACE"," ",829],["T_FUNCTION","function",829],["T_WHITESPACE"," ",829],["T_STRING","testSaveAssociatedWithReplace",829],"(",")",["T_WHITESPACE","\n    ",829],"{",["T_WHITESPACE","\n        ",830],["T_VARIABLE","$table",831],["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","getMockBuilder",831],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",831],")",["T_WHITESPACE","\n            ",831],["T_OBJECT_OPERATOR","->",832],["T_STRING","setMethods",832],"(","[",["T_CONSTANT_ENCAPSED_STRING","'table'",832],"]",")",["T_WHITESPACE","\n            ",832],["T_OBJECT_OPERATOR","->",833],["T_STRING","getMock",833],"(",")",";",["T_WHITESPACE","\n        ",833],["T_VARIABLE","$table",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","schema",834],"(","[","]",")",";",["T_WHITESPACE","\n        ",834],["T_VARIABLE","$assoc",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","getMockBuilder",835],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Association\\BelongsToMany'",835],")",["T_WHITESPACE","\n            ",835],["T_OBJECT_OPERATOR","->",836],["T_STRING","setMethods",836],"(","[",["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",836],"]",")",["T_WHITESPACE","\n            ",836],["T_OBJECT_OPERATOR","->",837],["T_STRING","setConstructorArgs",837],"(","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",837],",",["T_WHITESPACE"," ",837],"[",["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",837],["T_WHITESPACE"," ",837],["T_DOUBLE_ARROW","=>",837],["T_WHITESPACE"," ",837],["T_VARIABLE","$table",837],"]","]",")",["T_WHITESPACE","\n            ",837],["T_OBJECT_OPERATOR","->",838],["T_STRING","getMock",838],"(",")",";",["T_WHITESPACE","\n        ",838],["T_VARIABLE","$entity",839],["T_WHITESPACE"," ",839],"=",["T_WHITESPACE"," ",839],["T_NEW","new",839],["T_WHITESPACE"," ",839],["T_STRING","Entity",839],"(","[",["T_WHITESPACE","\n            ",839],["T_CONSTANT_ENCAPSED_STRING","'id'",840],["T_WHITESPACE"," ",840],["T_DOUBLE_ARROW","=>",840],["T_WHITESPACE"," ",840],["T_LNUMBER","1",840],",",["T_WHITESPACE","\n            ",840],["T_CONSTANT_ENCAPSED_STRING","'tags'",841],["T_WHITESPACE"," ",841],["T_DOUBLE_ARROW","=>",841],["T_WHITESPACE"," ",841],"[",["T_WHITESPACE","\n                ",841],["T_NEW","new",842],["T_WHITESPACE"," ",842],["T_STRING","Entity",842],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",842],["T_WHITESPACE"," ",842],["T_DOUBLE_ARROW","=>",842],["T_WHITESPACE"," ",842],["T_CONSTANT_ENCAPSED_STRING","'foo'",842],"]",")",["T_WHITESPACE","\n            ",842],"]",["T_WHITESPACE","\n        ",843],"]",")",";",["T_WHITESPACE","\n\n        ",844],["T_VARIABLE","$options",846],["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",846],["T_WHITESPACE"," ",846],["T_DOUBLE_ARROW","=>",846],["T_WHITESPACE"," ",846],["T_CONSTANT_ENCAPSED_STRING","'bar'",846],"]",";",["T_WHITESPACE","\n        ",846],["T_VARIABLE","$assoc",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","saveStrategy",847],"(",["T_STRING","BelongsToMany",847],["T_DOUBLE_COLON","::",847],["T_STRING","SAVE_REPLACE",847],")",";",["T_WHITESPACE","\n        ",847],["T_VARIABLE","$assoc",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","expects",848],"(",["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","once",848],"(",")",")",["T_OBJECT_OPERATOR","->",848],["T_STRING","method",848],"(",["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",848],")",["T_WHITESPACE","\n            ",848],["T_OBJECT_OPERATOR","->",849],["T_STRING","with",849],"(",["T_VARIABLE","$entity",849],",",["T_WHITESPACE"," ",849],["T_VARIABLE","$entity",849],["T_OBJECT_OPERATOR","->",849],["T_STRING","tags",849],",",["T_WHITESPACE"," ",849],["T_VARIABLE","$options",849],")",["T_WHITESPACE","\n            ",849],["T_OBJECT_OPERATOR","->",850],["T_STRING","will",850],"(",["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","returnValue",850],"(",["T_STRING","true",850],")",")",";",["T_WHITESPACE","\n        ",850],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","assertSame",851],"(",["T_VARIABLE","$entity",851],",",["T_WHITESPACE"," ",851],["T_VARIABLE","$assoc",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","saveAssociated",851],"(",["T_VARIABLE","$entity",851],",",["T_WHITESPACE"," ",851],["T_VARIABLE","$options",851],")",")",";",["T_WHITESPACE","\n    ",851],"}",["T_WHITESPACE","\n\n    ",852],["T_DOC_COMMENT","\/**\n     * Tests saving with replace strategy returning true\n     *\n     * @return void\n     *\/",854],["T_WHITESPACE","\n    ",858],["T_PUBLIC","public",859],["T_WHITESPACE"," ",859],["T_FUNCTION","function",859],["T_WHITESPACE"," ",859],["T_STRING","testSaveAssociatedWithReplaceReturnFalse",859],"(",")",["T_WHITESPACE","\n    ",859],"{",["T_WHITESPACE","\n        ",860],["T_VARIABLE","$table",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","getMockBuilder",861],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",861],")",["T_WHITESPACE","\n            ",861],["T_OBJECT_OPERATOR","->",862],["T_STRING","setMethods",862],"(","[",["T_CONSTANT_ENCAPSED_STRING","'table'",862],"]",")",["T_WHITESPACE","\n            ",862],["T_OBJECT_OPERATOR","->",863],["T_STRING","getMock",863],"(",")",";",["T_WHITESPACE","\n        ",863],["T_VARIABLE","$table",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","schema",864],"(","[","]",")",";",["T_WHITESPACE","\n        ",864],["T_VARIABLE","$assoc",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","getMockBuilder",865],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Cake\\ORM\\Association\\BelongsToMany'",865],")",["T_WHITESPACE","\n            ",865],["T_OBJECT_OPERATOR","->",866],["T_STRING","setMethods",866],"(","[",["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",866],"]",")",["T_WHITESPACE","\n            ",866],["T_OBJECT_OPERATOR","->",867],["T_STRING","setConstructorArgs",867],"(","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",867],",",["T_WHITESPACE"," ",867],"[",["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",867],["T_WHITESPACE"," ",867],["T_DOUBLE_ARROW","=>",867],["T_WHITESPACE"," ",867],["T_VARIABLE","$table",867],"]","]",")",["T_WHITESPACE","\n            ",867],["T_OBJECT_OPERATOR","->",868],["T_STRING","getMock",868],"(",")",";",["T_WHITESPACE","\n        ",868],["T_VARIABLE","$entity",869],["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_NEW","new",869],["T_WHITESPACE"," ",869],["T_STRING","Entity",869],"(","[",["T_WHITESPACE","\n            ",869],["T_CONSTANT_ENCAPSED_STRING","'id'",870],["T_WHITESPACE"," ",870],["T_DOUBLE_ARROW","=>",870],["T_WHITESPACE"," ",870],["T_LNUMBER","1",870],",",["T_WHITESPACE","\n            ",870],["T_CONSTANT_ENCAPSED_STRING","'tags'",871],["T_WHITESPACE"," ",871],["T_DOUBLE_ARROW","=>",871],["T_WHITESPACE"," ",871],"[",["T_WHITESPACE","\n                ",871],["T_NEW","new",872],["T_WHITESPACE"," ",872],["T_STRING","Entity",872],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",872],["T_WHITESPACE"," ",872],["T_DOUBLE_ARROW","=>",872],["T_WHITESPACE"," ",872],["T_CONSTANT_ENCAPSED_STRING","'foo'",872],"]",")",["T_WHITESPACE","\n            ",872],"]",["T_WHITESPACE","\n        ",873],"]",")",";",["T_WHITESPACE","\n\n        ",874],["T_VARIABLE","$options",876],["T_WHITESPACE"," ",876],"=",["T_WHITESPACE"," ",876],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",876],["T_WHITESPACE"," ",876],["T_DOUBLE_ARROW","=>",876],["T_WHITESPACE"," ",876],["T_CONSTANT_ENCAPSED_STRING","'bar'",876],"]",";",["T_WHITESPACE","\n        ",876],["T_VARIABLE","$assoc",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","saveStrategy",877],"(",["T_STRING","BelongsToMany",877],["T_DOUBLE_COLON","::",877],["T_STRING","SAVE_REPLACE",877],")",";",["T_WHITESPACE","\n        ",877],["T_VARIABLE","$assoc",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","expects",878],"(",["T_VARIABLE","$this",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","once",878],"(",")",")",["T_OBJECT_OPERATOR","->",878],["T_STRING","method",878],"(",["T_CONSTANT_ENCAPSED_STRING","'replaceLinks'",878],")",["T_WHITESPACE","\n            ",878],["T_OBJECT_OPERATOR","->",879],["T_STRING","with",879],"(",["T_VARIABLE","$entity",879],",",["T_WHITESPACE"," ",879],["T_VARIABLE","$entity",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","tags",879],",",["T_WHITESPACE"," ",879],["T_VARIABLE","$options",879],")",["T_WHITESPACE","\n            ",879],["T_OBJECT_OPERATOR","->",880],["T_STRING","will",880],"(",["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","returnValue",880],"(",["T_STRING","false",880],")",")",";",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","assertFalse",881],"(",["T_VARIABLE","$assoc",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","saveAssociated",881],"(",["T_VARIABLE","$entity",881],",",["T_WHITESPACE"," ",881],["T_VARIABLE","$options",881],")",")",";",["T_WHITESPACE","\n    ",881],"}",["T_WHITESPACE","\n\n    ",882],["T_DOC_COMMENT","\/**\n     * Test that saveAssociated() ignores non entity values.\n     *\n     * @return void\n     *\/",884],["T_WHITESPACE","\n    ",888],["T_PUBLIC","public",889],["T_WHITESPACE"," ",889],["T_FUNCTION","function",889],["T_WHITESPACE"," ",889],["T_STRING","testSaveAssociatedOnlyEntitiesAppend",889],"(",")",["T_WHITESPACE","\n    ",889],"{",["T_WHITESPACE","\n        ",890],["T_VARIABLE","$connection",891],["T_WHITESPACE"," ",891],"=",["T_WHITESPACE"," ",891],["T_STRING","ConnectionManager",891],["T_DOUBLE_COLON","::",891],["T_STRING","get",891],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",891],")",";",["T_WHITESPACE","\n        ",891],["T_VARIABLE","$mock",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","getMockBuilder",892],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",892],")",["T_WHITESPACE","\n            ",892],["T_OBJECT_OPERATOR","->",893],["T_STRING","setMethods",893],"(","[",["T_CONSTANT_ENCAPSED_STRING","'saveAssociated'",893],",",["T_WHITESPACE"," ",893],["T_CONSTANT_ENCAPSED_STRING","'schema'",893],"]",")",["T_WHITESPACE","\n            ",893],["T_OBJECT_OPERATOR","->",894],["T_STRING","setConstructorArgs",894],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'table'",894],["T_WHITESPACE"," ",894],["T_DOUBLE_ARROW","=>",894],["T_WHITESPACE"," ",894],["T_CONSTANT_ENCAPSED_STRING","'tags'",894],",",["T_WHITESPACE"," ",894],["T_CONSTANT_ENCAPSED_STRING","'connection'",894],["T_WHITESPACE"," ",894],["T_DOUBLE_ARROW","=>",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$connection",894],"]","]",")",["T_WHITESPACE","\n            ",894],["T_OBJECT_OPERATOR","->",895],["T_STRING","getMock",895],"(",")",";",["T_WHITESPACE","\n        ",895],["T_VARIABLE","$mock",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","primaryKey",896],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",896],")",";",["T_WHITESPACE","\n\n        ",896],["T_VARIABLE","$config",898],["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],"[",["T_WHITESPACE","\n            ",898],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",899],["T_WHITESPACE"," ",899],["T_DOUBLE_ARROW","=>",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","article",899],",",["T_WHITESPACE","\n            ",899],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",900],["T_WHITESPACE"," ",900],["T_DOUBLE_ARROW","=>",900],["T_WHITESPACE"," ",900],["T_VARIABLE","$mock",900],",",["T_WHITESPACE","\n            ",900],["T_CONSTANT_ENCAPSED_STRING","'saveStrategy'",901],["T_WHITESPACE"," ",901],["T_DOUBLE_ARROW","=>",901],["T_WHITESPACE"," ",901],["T_STRING","BelongsToMany",901],["T_DOUBLE_COLON","::",901],["T_STRING","SAVE_APPEND",901],",",["T_WHITESPACE","\n        ",901],"]",";",["T_WHITESPACE","\n\n        ",902],["T_VARIABLE","$entity",904],["T_WHITESPACE"," ",904],"=",["T_WHITESPACE"," ",904],["T_NEW","new",904],["T_WHITESPACE"," ",904],["T_STRING","Entity",904],"(","[",["T_WHITESPACE","\n            ",904],["T_CONSTANT_ENCAPSED_STRING","'id'",905],["T_WHITESPACE"," ",905],["T_DOUBLE_ARROW","=>",905],["T_WHITESPACE"," ",905],["T_LNUMBER","1",905],",",["T_WHITESPACE","\n            ",905],["T_CONSTANT_ENCAPSED_STRING","'title'",906],["T_WHITESPACE"," ",906],["T_DOUBLE_ARROW","=>",906],["T_WHITESPACE"," ",906],["T_CONSTANT_ENCAPSED_STRING","'First Post'",906],",",["T_WHITESPACE","\n            ",906],["T_CONSTANT_ENCAPSED_STRING","'tags'",907],["T_WHITESPACE"," ",907],["T_DOUBLE_ARROW","=>",907],["T_WHITESPACE"," ",907],"[",["T_WHITESPACE","\n                ",907],"[",["T_CONSTANT_ENCAPSED_STRING","'tag'",908],["T_WHITESPACE"," ",908],["T_DOUBLE_ARROW","=>",908],["T_WHITESPACE"," ",908],["T_CONSTANT_ENCAPSED_STRING","'nope'",908],"]",",",["T_WHITESPACE","\n                ",908],["T_NEW","new",909],["T_WHITESPACE"," ",909],["T_STRING","Entity",909],"(","[",["T_CONSTANT_ENCAPSED_STRING","'tag'",909],["T_WHITESPACE"," ",909],["T_DOUBLE_ARROW","=>",909],["T_WHITESPACE"," ",909],["T_CONSTANT_ENCAPSED_STRING","'cakephp'",909],"]",")",",",["T_WHITESPACE","\n            ",909],"]",["T_WHITESPACE","\n        ",910],"]",")",";",["T_WHITESPACE","\n\n        ",911],["T_VARIABLE","$mock",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","expects",913],"(",["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","never",913],"(",")",")",["T_WHITESPACE","\n            ",913],["T_OBJECT_OPERATOR","->",914],["T_STRING","method",914],"(",["T_CONSTANT_ENCAPSED_STRING","'saveAssociated'",914],")",";",["T_WHITESPACE","\n\n        ",914],["T_VARIABLE","$association",916],["T_WHITESPACE"," ",916],"=",["T_WHITESPACE"," ",916],["T_NEW","new",916],["T_WHITESPACE"," ",916],["T_STRING","BelongsToMany",916],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",916],",",["T_WHITESPACE"," ",916],["T_VARIABLE","$config",916],")",";",["T_WHITESPACE","\n        ",916],["T_VARIABLE","$association",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","saveAssociated",917],"(",["T_VARIABLE","$entity",917],")",";",["T_WHITESPACE","\n    ",917],"}",["T_WHITESPACE","\n\n    ",918],["T_DOC_COMMENT","\/**\n     * Tests that targetForeignKey() returns the correct configured value\n     *\n     * @return void\n     *\/",920],["T_WHITESPACE","\n    ",924],["T_PUBLIC","public",925],["T_WHITESPACE"," ",925],["T_FUNCTION","function",925],["T_WHITESPACE"," ",925],["T_STRING","testTargetForeignKey",925],"(",")",["T_WHITESPACE","\n    ",925],"{",["T_WHITESPACE","\n        ",926],["T_VARIABLE","$assoc",927],["T_WHITESPACE"," ",927],"=",["T_WHITESPACE"," ",927],["T_NEW","new",927],["T_WHITESPACE"," ",927],["T_STRING","BelongsToMany",927],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",927],",",["T_WHITESPACE"," ",927],"[",["T_WHITESPACE","\n            ",927],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",928],["T_WHITESPACE"," ",928],["T_DOUBLE_ARROW","=>",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","article",928],",",["T_WHITESPACE","\n            ",928],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",929],["T_WHITESPACE"," ",929],["T_DOUBLE_ARROW","=>",929],["T_WHITESPACE"," ",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","tag",929],["T_WHITESPACE","\n        ",929],"]",")",";",["T_WHITESPACE","\n        ",930],["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","assertEquals",931],"(",["T_CONSTANT_ENCAPSED_STRING","'tag_id'",931],",",["T_WHITESPACE"," ",931],["T_VARIABLE","$assoc",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","targetForeignKey",931],"(",")",")",";",["T_WHITESPACE","\n        ",931],["T_VARIABLE","$assoc",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","targetForeignKey",932],"(",["T_CONSTANT_ENCAPSED_STRING","'another_key'",932],")",";",["T_WHITESPACE","\n        ",932],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","assertEquals",933],"(",["T_CONSTANT_ENCAPSED_STRING","'another_key'",933],",",["T_WHITESPACE"," ",933],["T_VARIABLE","$assoc",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","targetForeignKey",933],"(",")",")",";",["T_WHITESPACE","\n\n        ",933],["T_VARIABLE","$assoc",935],["T_WHITESPACE"," ",935],"=",["T_WHITESPACE"," ",935],["T_NEW","new",935],["T_WHITESPACE"," ",935],["T_STRING","BelongsToMany",935],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",935],",",["T_WHITESPACE"," ",935],"[",["T_WHITESPACE","\n            ",935],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",936],["T_WHITESPACE"," ",936],["T_DOUBLE_ARROW","=>",936],["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","article",936],",",["T_WHITESPACE","\n            ",936],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",937],["T_WHITESPACE"," ",937],["T_DOUBLE_ARROW","=>",937],["T_WHITESPACE"," ",937],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","tag",937],",",["T_WHITESPACE","\n            ",937],["T_CONSTANT_ENCAPSED_STRING","'targetForeignKey'",938],["T_WHITESPACE"," ",938],["T_DOUBLE_ARROW","=>",938],["T_WHITESPACE"," ",938],["T_CONSTANT_ENCAPSED_STRING","'foo'",938],["T_WHITESPACE","\n        ",938],"]",")",";",["T_WHITESPACE","\n        ",939],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","assertEquals",940],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",940],",",["T_WHITESPACE"," ",940],["T_VARIABLE","$assoc",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","targetForeignKey",940],"(",")",")",";",["T_WHITESPACE","\n    ",940],"}",["T_WHITESPACE","\n\n    ",941],["T_DOC_COMMENT","\/**\n     * Tests that custom foreignKeys are properly transmitted to involved associations\n     * when they are customized\n     *\n     * @return void\n     *\/",943],["T_WHITESPACE","\n    ",948],["T_PUBLIC","public",949],["T_WHITESPACE"," ",949],["T_FUNCTION","function",949],["T_WHITESPACE"," ",949],["T_STRING","testJunctionWithCustomForeignKeys",949],"(",")",["T_WHITESPACE","\n    ",949],"{",["T_WHITESPACE","\n        ",950],["T_VARIABLE","$assoc",951],["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_NEW","new",951],["T_WHITESPACE"," ",951],["T_STRING","BelongsToMany",951],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",951],",",["T_WHITESPACE"," ",951],"[",["T_WHITESPACE","\n            ",951],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",952],["T_WHITESPACE"," ",952],["T_DOUBLE_ARROW","=>",952],["T_WHITESPACE"," ",952],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","article",952],",",["T_WHITESPACE","\n            ",952],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",953],["T_WHITESPACE"," ",953],["T_DOUBLE_ARROW","=>",953],["T_WHITESPACE"," ",953],["T_VARIABLE","$this",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","tag",953],",",["T_WHITESPACE","\n            ",953],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",954],["T_WHITESPACE"," ",954],["T_DOUBLE_ARROW","=>",954],["T_WHITESPACE"," ",954],["T_CONSTANT_ENCAPSED_STRING","'Art'",954],",",["T_WHITESPACE","\n            ",954],["T_CONSTANT_ENCAPSED_STRING","'targetForeignKey'",955],["T_WHITESPACE"," ",955],["T_DOUBLE_ARROW","=>",955],["T_WHITESPACE"," ",955],["T_CONSTANT_ENCAPSED_STRING","'Tag'",955],["T_WHITESPACE","\n        ",955],"]",")",";",["T_WHITESPACE","\n        ",956],["T_VARIABLE","$junction",957],["T_WHITESPACE"," ",957],"=",["T_WHITESPACE"," ",957],["T_VARIABLE","$assoc",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","junction",957],"(",")",";",["T_WHITESPACE","\n        ",957],["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","assertEquals",958],"(",["T_CONSTANT_ENCAPSED_STRING","'Art'",958],",",["T_WHITESPACE"," ",958],["T_VARIABLE","$junction",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","association",958],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",958],")",["T_OBJECT_OPERATOR","->",958],["T_STRING","foreignKey",958],"(",")",")",";",["T_WHITESPACE","\n        ",958],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","assertEquals",959],"(",["T_CONSTANT_ENCAPSED_STRING","'Tag'",959],",",["T_WHITESPACE"," ",959],["T_VARIABLE","$junction",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","association",959],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",959],")",["T_OBJECT_OPERATOR","->",959],["T_STRING","foreignKey",959],"(",")",")",";",["T_WHITESPACE","\n\n        ",959],["T_VARIABLE","$inverseRelation",961],["T_WHITESPACE"," ",961],"=",["T_WHITESPACE"," ",961],["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","tag",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","association",961],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",961],")",";",["T_WHITESPACE","\n        ",961],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","assertEquals",962],"(",["T_CONSTANT_ENCAPSED_STRING","'Tag'",962],",",["T_WHITESPACE"," ",962],["T_VARIABLE","$inverseRelation",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","foreignKey",962],"(",")",")",";",["T_WHITESPACE","\n        ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","assertEquals",963],"(",["T_CONSTANT_ENCAPSED_STRING","'Art'",963],",",["T_WHITESPACE"," ",963],["T_VARIABLE","$inverseRelation",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","targetForeignKey",963],"(",")",")",";",["T_WHITESPACE","\n    ",963],"}",["T_WHITESPACE","\n\n    ",964],["T_DOC_COMMENT","\/**\n     * Tests that property is being set using the constructor options.\n     *\n     * @return void\n     *\/",966],["T_WHITESPACE","\n    ",970],["T_PUBLIC","public",971],["T_WHITESPACE"," ",971],["T_FUNCTION","function",971],["T_WHITESPACE"," ",971],["T_STRING","testPropertyOption",971],"(",")",["T_WHITESPACE","\n    ",971],"{",["T_WHITESPACE","\n        ",972],["T_VARIABLE","$config",973],["T_WHITESPACE"," ",973],"=",["T_WHITESPACE"," ",973],"[",["T_CONSTANT_ENCAPSED_STRING","'propertyName'",973],["T_WHITESPACE"," ",973],["T_DOUBLE_ARROW","=>",973],["T_WHITESPACE"," ",973],["T_CONSTANT_ENCAPSED_STRING","'thing_placeholder'",973],"]",";",["T_WHITESPACE","\n        ",973],["T_VARIABLE","$association",974],["T_WHITESPACE"," ",974],"=",["T_WHITESPACE"," ",974],["T_NEW","new",974],["T_WHITESPACE"," ",974],["T_STRING","BelongsToMany",974],"(",["T_CONSTANT_ENCAPSED_STRING","'Thing'",974],",",["T_WHITESPACE"," ",974],["T_VARIABLE","$config",974],")",";",["T_WHITESPACE","\n        ",974],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","assertEquals",975],"(",["T_CONSTANT_ENCAPSED_STRING","'thing_placeholder'",975],",",["T_WHITESPACE"," ",975],["T_VARIABLE","$association",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","property",975],"(",")",")",";",["T_WHITESPACE","\n    ",975],"}",["T_WHITESPACE","\n\n    ",976],["T_DOC_COMMENT","\/**\n     * Test that plugin names are omitted from property()\n     *\n     * @return void\n     *\/",978],["T_WHITESPACE","\n    ",982],["T_PUBLIC","public",983],["T_WHITESPACE"," ",983],["T_FUNCTION","function",983],["T_WHITESPACE"," ",983],["T_STRING","testPropertyNoPlugin",983],"(",")",["T_WHITESPACE","\n    ",983],"{",["T_WHITESPACE","\n        ",984],["T_VARIABLE","$mock",985],["T_WHITESPACE"," ",985],"=",["T_WHITESPACE"," ",985],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","getMockBuilder",985],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Table'",985],")",["T_WHITESPACE","\n            ",985],["T_OBJECT_OPERATOR","->",986],["T_STRING","disableOriginalConstructor",986],"(",")",["T_WHITESPACE","\n            ",986],["T_OBJECT_OPERATOR","->",987],["T_STRING","getMock",987],"(",")",";",["T_WHITESPACE","\n        ",987],["T_VARIABLE","$config",988],["T_WHITESPACE"," ",988],"=",["T_WHITESPACE"," ",988],"[",["T_WHITESPACE","\n            ",988],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",989],["T_WHITESPACE"," ",989],["T_DOUBLE_ARROW","=>",989],["T_WHITESPACE"," ",989],["T_VARIABLE","$this",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","article",989],",",["T_WHITESPACE","\n            ",989],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",990],["T_WHITESPACE"," ",990],["T_DOUBLE_ARROW","=>",990],["T_WHITESPACE"," ",990],["T_VARIABLE","$mock",990],",",["T_WHITESPACE","\n        ",990],"]",";",["T_WHITESPACE","\n        ",991],["T_VARIABLE","$association",992],["T_WHITESPACE"," ",992],"=",["T_WHITESPACE"," ",992],["T_NEW","new",992],["T_WHITESPACE"," ",992],["T_STRING","BelongsToMany",992],"(",["T_CONSTANT_ENCAPSED_STRING","'Contacts.Tags'",992],",",["T_WHITESPACE"," ",992],["T_VARIABLE","$config",992],")",";",["T_WHITESPACE","\n        ",992],["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","assertEquals",993],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",993],",",["T_WHITESPACE"," ",993],["T_VARIABLE","$association",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","property",993],"(",")",")",";",["T_WHITESPACE","\n    ",993],"}",["T_WHITESPACE","\n\n    ",994],["T_DOC_COMMENT","\/**\n     * Test that the generated associations are correct.\n     *\n     * @return void\n     *\/",996],["T_WHITESPACE","\n    ",1000],["T_PUBLIC","public",1001],["T_WHITESPACE"," ",1001],["T_FUNCTION","function",1001],["T_WHITESPACE"," ",1001],["T_STRING","testGeneratedAssociations",1001],"(",")",["T_WHITESPACE","\n    ",1001],"{",["T_WHITESPACE","\n        ",1002],["T_VARIABLE","$articles",1003],["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_STRING","TableRegistry",1003],["T_DOUBLE_COLON","::",1003],["T_STRING","get",1003],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1003],")",";",["T_WHITESPACE","\n        ",1003],["T_VARIABLE","$tags",1004],["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],["T_STRING","TableRegistry",1004],["T_DOUBLE_COLON","::",1004],["T_STRING","get",1004],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1004],")",";",["T_WHITESPACE","\n        ",1004],["T_VARIABLE","$conditions",1005],["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],"[",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags.highlighted'",1005],["T_WHITESPACE"," ",1005],["T_DOUBLE_ARROW","=>",1005],["T_WHITESPACE"," ",1005],["T_STRING","true",1005],"]",";",["T_WHITESPACE","\n        ",1005],["T_VARIABLE","$assoc",1006],["T_WHITESPACE"," ",1006],"=",["T_WHITESPACE"," ",1006],["T_VARIABLE","$articles",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","belongsToMany",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1006],",",["T_WHITESPACE"," ",1006],"[",["T_WHITESPACE","\n            ",1006],["T_CONSTANT_ENCAPSED_STRING","'sourceTable'",1007],["T_WHITESPACE"," ",1007],["T_DOUBLE_ARROW","=>",1007],["T_WHITESPACE"," ",1007],["T_VARIABLE","$articles",1007],",",["T_WHITESPACE","\n            ",1007],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",1008],["T_WHITESPACE"," ",1008],["T_DOUBLE_ARROW","=>",1008],["T_WHITESPACE"," ",1008],["T_VARIABLE","$tags",1008],",",["T_WHITESPACE","\n            ",1008],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",1009],["T_WHITESPACE"," ",1009],["T_DOUBLE_ARROW","=>",1009],["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",1009],",",["T_WHITESPACE","\n            ",1009],["T_CONSTANT_ENCAPSED_STRING","'targetForeignKey'",1010],["T_WHITESPACE"," ",1010],["T_DOUBLE_ARROW","=>",1010],["T_WHITESPACE"," ",1010],["T_CONSTANT_ENCAPSED_STRING","'target_foreign_key'",1010],",",["T_WHITESPACE","\n            ",1010],["T_CONSTANT_ENCAPSED_STRING","'through'",1011],["T_WHITESPACE"," ",1011],["T_DOUBLE_ARROW","=>",1011],["T_WHITESPACE"," ",1011],["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1011],",",["T_WHITESPACE","\n            ",1011],["T_CONSTANT_ENCAPSED_STRING","'conditions'",1012],["T_WHITESPACE"," ",1012],["T_DOUBLE_ARROW","=>",1012],["T_WHITESPACE"," ",1012],["T_VARIABLE","$conditions",1012],",",["T_WHITESPACE","\n        ",1012],"]",")",";",["T_WHITESPACE","\n        ",1013],["T_COMMENT","\/\/ Generate associations\n",1014],["T_WHITESPACE","        ",1015],["T_VARIABLE","$assoc",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","junction",1015],"(",")",";",["T_WHITESPACE","\n\n        ",1015],["T_VARIABLE","$tagAssoc",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_VARIABLE","$articles",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","association",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1017],")",";",["T_WHITESPACE","\n        ",1017],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","assertNotEmpty",1018],"(",["T_VARIABLE","$tagAssoc",1018],",",["T_WHITESPACE"," ",1018],["T_CONSTANT_ENCAPSED_STRING","'btm should exist'",1018],")",";",["T_WHITESPACE","\n        ",1018],["T_VARIABLE","$this",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","assertEquals",1019],"(",["T_VARIABLE","$conditions",1019],",",["T_WHITESPACE"," ",1019],["T_VARIABLE","$tagAssoc",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","conditions",1019],"(",")",")",";",["T_WHITESPACE","\n        ",1019],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","assertEquals",1020],"(",["T_CONSTANT_ENCAPSED_STRING","'target_foreign_key'",1020],",",["T_WHITESPACE"," ",1020],["T_VARIABLE","$tagAssoc",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","targetForeignKey",1020],"(",")",")",";",["T_WHITESPACE","\n        ",1020],["T_VARIABLE","$this",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","assertEquals",1021],"(",["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",1021],",",["T_WHITESPACE"," ",1021],["T_VARIABLE","$tagAssoc",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","foreignKey",1021],"(",")",")",";",["T_WHITESPACE","\n\n        ",1021],["T_VARIABLE","$jointAssoc",1023],["T_WHITESPACE"," ",1023],"=",["T_WHITESPACE"," ",1023],["T_VARIABLE","$articles",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","association",1023],"(",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1023],")",";",["T_WHITESPACE","\n        ",1023],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","assertNotEmpty",1024],"(",["T_VARIABLE","$jointAssoc",1024],",",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'has many to junction should exist'",1024],")",";",["T_WHITESPACE","\n        ",1024],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","assertInstanceOf",1025],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Association\\HasMany'",1025],",",["T_WHITESPACE"," ",1025],["T_VARIABLE","$jointAssoc",1025],")",";",["T_WHITESPACE","\n        ",1025],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","assertEquals",1026],"(",["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",1026],",",["T_WHITESPACE"," ",1026],["T_VARIABLE","$jointAssoc",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","foreignKey",1026],"(",")",")",";",["T_WHITESPACE","\n\n        ",1026],["T_VARIABLE","$articleAssoc",1028],["T_WHITESPACE"," ",1028],"=",["T_WHITESPACE"," ",1028],["T_VARIABLE","$tags",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","association",1028],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1028],")",";",["T_WHITESPACE","\n        ",1028],["T_VARIABLE","$this",1029],["T_OBJECT_OPERATOR","->",1029],["T_STRING","assertNotEmpty",1029],"(",["T_VARIABLE","$articleAssoc",1029],",",["T_WHITESPACE"," ",1029],["T_CONSTANT_ENCAPSED_STRING","'reverse btm should exist'",1029],")",";",["T_WHITESPACE","\n        ",1029],["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","assertInstanceOf",1030],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Association\\BelongsToMany'",1030],",",["T_WHITESPACE"," ",1030],["T_VARIABLE","$articleAssoc",1030],")",";",["T_WHITESPACE","\n        ",1030],["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","assertEquals",1031],"(",["T_VARIABLE","$conditions",1031],",",["T_WHITESPACE"," ",1031],["T_VARIABLE","$articleAssoc",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","conditions",1031],"(",")",")",";",["T_WHITESPACE","\n        ",1031],["T_VARIABLE","$this",1032],["T_OBJECT_OPERATOR","->",1032],["T_STRING","assertEquals",1032],"(",["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",1032],",",["T_WHITESPACE"," ",1032],["T_VARIABLE","$articleAssoc",1032],["T_OBJECT_OPERATOR","->",1032],["T_STRING","targetForeignKey",1032],"(",")",",",["T_WHITESPACE"," ",1032],["T_CONSTANT_ENCAPSED_STRING","'keys should swap'",1032],")",";",["T_WHITESPACE","\n        ",1032],["T_VARIABLE","$this",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","assertEquals",1033],"(",["T_CONSTANT_ENCAPSED_STRING","'target_foreign_key'",1033],",",["T_WHITESPACE"," ",1033],["T_VARIABLE","$articleAssoc",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","foreignKey",1033],"(",")",",",["T_WHITESPACE"," ",1033],["T_CONSTANT_ENCAPSED_STRING","'keys should swap'",1033],")",";",["T_WHITESPACE","\n\n        ",1033],["T_VARIABLE","$jointAssoc",1035],["T_WHITESPACE"," ",1035],"=",["T_WHITESPACE"," ",1035],["T_VARIABLE","$tags",1035],["T_OBJECT_OPERATOR","->",1035],["T_STRING","association",1035],"(",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1035],")",";",["T_WHITESPACE","\n        ",1035],["T_VARIABLE","$this",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","assertNotEmpty",1036],"(",["T_VARIABLE","$jointAssoc",1036],",",["T_WHITESPACE"," ",1036],["T_CONSTANT_ENCAPSED_STRING","'has many to junction should exist'",1036],")",";",["T_WHITESPACE","\n        ",1036],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","assertInstanceOf",1037],"(",["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Association\\HasMany'",1037],",",["T_WHITESPACE"," ",1037],["T_VARIABLE","$jointAssoc",1037],")",";",["T_WHITESPACE","\n        ",1037],["T_VARIABLE","$this",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","assertEquals",1038],"(",["T_CONSTANT_ENCAPSED_STRING","'target_foreign_key'",1038],",",["T_WHITESPACE"," ",1038],["T_VARIABLE","$jointAssoc",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","foreignKey",1038],"(",")",")",";",["T_WHITESPACE","\n    ",1038],"}",["T_WHITESPACE","\n\n    ",1039],["T_DOC_COMMENT","\/**\n     * Tests that eager loading requires association keys\n     *\n     * @expectedException RuntimeException\n     * @expectedExceptionMessage The \"tags\" table does not define a primary key\n     * @return void\n     *\/",1041],["T_WHITESPACE","\n    ",1047],["T_PUBLIC","public",1048],["T_WHITESPACE"," ",1048],["T_FUNCTION","function",1048],["T_WHITESPACE"," ",1048],["T_STRING","testEagerLoadingRequiresPrimaryKey",1048],"(",")",["T_WHITESPACE","\n    ",1048],"{",["T_WHITESPACE","\n        ",1049],["T_VARIABLE","$table",1050],["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_STRING","TableRegistry",1050],["T_DOUBLE_COLON","::",1050],["T_STRING","get",1050],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1050],")",";",["T_WHITESPACE","\n        ",1050],["T_VARIABLE","$tags",1051],["T_WHITESPACE"," ",1051],"=",["T_WHITESPACE"," ",1051],["T_STRING","TableRegistry",1051],["T_DOUBLE_COLON","::",1051],["T_STRING","get",1051],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1051],")",";",["T_WHITESPACE","\n        ",1051],["T_VARIABLE","$tags",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","schema",1052],"(",")",["T_OBJECT_OPERATOR","->",1052],["T_STRING","dropConstraint",1052],"(",["T_CONSTANT_ENCAPSED_STRING","'primary'",1052],")",";",["T_WHITESPACE","\n\n        ",1052],["T_VARIABLE","$table",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","belongsToMany",1054],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1054],")",";",["T_WHITESPACE","\n        ",1054],["T_VARIABLE","$table",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","find",1055],"(",")",["T_OBJECT_OPERATOR","->",1055],["T_STRING","contain",1055],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1055],")",["T_OBJECT_OPERATOR","->",1055],["T_STRING","first",1055],"(",")",";",["T_WHITESPACE","\n    ",1055],"}",["T_WHITESPACE","\n\n    ",1056],["T_DOC_COMMENT","\/**\n     * Tests that fetching belongsToMany association will not force\n     * all fields being returned, but instead will honor the select() clause\n     *\n     * @see https:\/\/github.com\/cakephp\/cakephp\/issues\/7916\n     * @return void\n     *\/",1058],["T_WHITESPACE","\n    ",1064],["T_PUBLIC","public",1065],["T_WHITESPACE"," ",1065],["T_FUNCTION","function",1065],["T_WHITESPACE"," ",1065],["T_STRING","testEagerLoadingBelongsToManyLimitedFields",1065],"(",")",["T_WHITESPACE","\n    ",1065],"{",["T_WHITESPACE","\n        ",1066],["T_VARIABLE","$table",1067],["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_STRING","TableRegistry",1067],["T_DOUBLE_COLON","::",1067],["T_STRING","get",1067],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1067],")",";",["T_WHITESPACE","\n        ",1067],["T_VARIABLE","$table",1068],["T_OBJECT_OPERATOR","->",1068],["T_STRING","belongsToMany",1068],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1068],")",";",["T_WHITESPACE","\n        ",1068],["T_VARIABLE","$result",1069],["T_WHITESPACE"," ",1069],"=",["T_WHITESPACE"," ",1069],["T_VARIABLE","$table",1069],["T_WHITESPACE","\n            ",1069],["T_OBJECT_OPERATOR","->",1070],["T_STRING","find",1070],"(",")",["T_WHITESPACE","\n            ",1070],["T_OBJECT_OPERATOR","->",1071],["T_STRING","contain",1071],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1071],["T_WHITESPACE"," ",1071],["T_DOUBLE_ARROW","=>",1071],["T_WHITESPACE"," ",1071],["T_FUNCTION","function",1071],["T_WHITESPACE"," ",1071],"(",["T_VARIABLE","$q",1071],")",["T_WHITESPACE"," ",1071],"{",["T_WHITESPACE","\n                ",1071],["T_RETURN","return",1072],["T_WHITESPACE"," ",1072],["T_VARIABLE","$q",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","select",1072],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",1072],"]",")",";",["T_WHITESPACE","\n            ",1072],"}","]",")",["T_WHITESPACE","\n            ",1073],["T_OBJECT_OPERATOR","->",1074],["T_STRING","first",1074],"(",")",";",["T_WHITESPACE","\n\n        ",1074],["T_VARIABLE","$this",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","assertNotEmpty",1076],"(",["T_VARIABLE","$result",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","tags",1076],"[",["T_LNUMBER","0",1076],"]",["T_OBJECT_OPERATOR","->",1076],["T_STRING","id",1076],")",";",["T_WHITESPACE","\n        ",1076],["T_VARIABLE","$this",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","assertEmpty",1077],"(",["T_VARIABLE","$result",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","tags",1077],"[",["T_LNUMBER","0",1077],"]",["T_OBJECT_OPERATOR","->",1077],["T_STRING","name",1077],")",";",["T_WHITESPACE","\n    ",1077],"}",["T_WHITESPACE","\n\n    ",1078],["T_DOC_COMMENT","\/**\n     * Tests that fetching belongsToMany association will retain autoFields(true) if it was used.\n     *\n     * @see https:\/\/github.com\/cakephp\/cakephp\/issues\/8052\n     * @return void\n     *\/",1080],["T_WHITESPACE","\n    ",1085],["T_PUBLIC","public",1086],["T_WHITESPACE"," ",1086],["T_FUNCTION","function",1086],["T_WHITESPACE"," ",1086],["T_STRING","testEagerLoadingBelongsToManyLimitedFieldsWithAutoFields",1086],"(",")",["T_WHITESPACE","\n    ",1086],"{",["T_WHITESPACE","\n        ",1087],["T_VARIABLE","$table",1088],["T_WHITESPACE"," ",1088],"=",["T_WHITESPACE"," ",1088],["T_STRING","TableRegistry",1088],["T_DOUBLE_COLON","::",1088],["T_STRING","get",1088],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1088],")",";",["T_WHITESPACE","\n        ",1088],["T_VARIABLE","$table",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","belongsToMany",1089],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1089],")",";",["T_WHITESPACE","\n        ",1089],["T_VARIABLE","$result",1090],["T_WHITESPACE"," ",1090],"=",["T_WHITESPACE"," ",1090],["T_VARIABLE","$table",1090],["T_WHITESPACE","\n            ",1090],["T_OBJECT_OPERATOR","->",1091],["T_STRING","find",1091],"(",")",["T_WHITESPACE","\n            ",1091],["T_OBJECT_OPERATOR","->",1092],["T_STRING","contain",1092],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1092],["T_WHITESPACE"," ",1092],["T_DOUBLE_ARROW","=>",1092],["T_WHITESPACE"," ",1092],["T_FUNCTION","function",1092],["T_WHITESPACE"," ",1092],"(",["T_VARIABLE","$q",1092],")",["T_WHITESPACE"," ",1092],"{",["T_WHITESPACE","\n                ",1092],["T_RETURN","return",1093],["T_WHITESPACE"," ",1093],["T_VARIABLE","$q",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","select",1093],"(","[",["T_CONSTANT_ENCAPSED_STRING","'two'",1093],["T_WHITESPACE"," ",1093],["T_DOUBLE_ARROW","=>",1093],["T_WHITESPACE"," ",1093],["T_VARIABLE","$q",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","newExpr",1093],"(",["T_CONSTANT_ENCAPSED_STRING","'1 + 1'",1093],")","]",")",["T_OBJECT_OPERATOR","->",1093],["T_STRING","autoFields",1093],"(",["T_STRING","true",1093],")",";",["T_WHITESPACE","\n            ",1093],"}","]",")",["T_WHITESPACE","\n            ",1094],["T_OBJECT_OPERATOR","->",1095],["T_STRING","first",1095],"(",")",";",["T_WHITESPACE","\n\n        ",1095],["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","assertNotEmpty",1097],"(",["T_VARIABLE","$result",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","tags",1097],"[",["T_LNUMBER","0",1097],"]",["T_OBJECT_OPERATOR","->",1097],["T_STRING","two",1097],",",["T_WHITESPACE"," ",1097],["T_CONSTANT_ENCAPSED_STRING","'Should have computed field'",1097],")",";",["T_WHITESPACE","\n        ",1097],["T_VARIABLE","$this",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","assertNotEmpty",1098],"(",["T_VARIABLE","$result",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","tags",1098],"[",["T_LNUMBER","0",1098],"]",["T_OBJECT_OPERATOR","->",1098],["T_STRING","name",1098],",",["T_WHITESPACE"," ",1098],["T_CONSTANT_ENCAPSED_STRING","'Should have standard field'",1098],")",";",["T_WHITESPACE","\n    ",1098],"}",["T_WHITESPACE","\n\n    ",1099],["T_DOC_COMMENT","\/**\n     * Test that association proxy find() applies joins when conditions are involved.\n     *\n     * @return void\n     *\/",1101],["T_WHITESPACE","\n    ",1105],["T_PUBLIC","public",1106],["T_WHITESPACE"," ",1106],["T_FUNCTION","function",1106],["T_WHITESPACE"," ",1106],["T_STRING","testAssociationProxyFindWithConditions",1106],"(",")",["T_WHITESPACE","\n    ",1106],"{",["T_WHITESPACE","\n        ",1107],["T_VARIABLE","$table",1108],["T_WHITESPACE"," ",1108],"=",["T_WHITESPACE"," ",1108],["T_STRING","TableRegistry",1108],["T_DOUBLE_COLON","::",1108],["T_STRING","get",1108],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1108],")",";",["T_WHITESPACE","\n        ",1108],["T_VARIABLE","$table",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","belongsToMany",1109],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1109],",",["T_WHITESPACE"," ",1109],"[",["T_WHITESPACE","\n            ",1109],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",1110],["T_WHITESPACE"," ",1110],["T_DOUBLE_ARROW","=>",1110],["T_WHITESPACE"," ",1110],["T_CONSTANT_ENCAPSED_STRING","'article_id'",1110],",",["T_WHITESPACE","\n            ",1110],["T_CONSTANT_ENCAPSED_STRING","'associationForeignKey'",1111],["T_WHITESPACE"," ",1111],["T_DOUBLE_ARROW","=>",1111],["T_WHITESPACE"," ",1111],["T_CONSTANT_ENCAPSED_STRING","'tag_id'",1111],",",["T_WHITESPACE","\n            ",1111],["T_CONSTANT_ENCAPSED_STRING","'conditions'",1112],["T_WHITESPACE"," ",1112],["T_DOUBLE_ARROW","=>",1112],["T_WHITESPACE"," ",1112],"[",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags.highlighted'",1112],["T_WHITESPACE"," ",1112],["T_DOUBLE_ARROW","=>",1112],["T_WHITESPACE"," ",1112],["T_STRING","true",1112],"]",",",["T_WHITESPACE","\n            ",1112],["T_CONSTANT_ENCAPSED_STRING","'through'",1113],["T_WHITESPACE"," ",1113],["T_DOUBLE_ARROW","=>",1113],["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1113],["T_WHITESPACE","\n        ",1113],"]",")",";",["T_WHITESPACE","\n        ",1114],["T_VARIABLE","$query",1115],["T_WHITESPACE"," ",1115],"=",["T_WHITESPACE"," ",1115],["T_VARIABLE","$table",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","Tags",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","find",1115],"(",")",";",["T_WHITESPACE","\n        ",1115],["T_VARIABLE","$result",1116],["T_WHITESPACE"," ",1116],"=",["T_WHITESPACE"," ",1116],["T_VARIABLE","$query",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","toArray",1116],"(",")",";",["T_WHITESPACE","\n        ",1116],["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","assertCount",1117],"(",["T_LNUMBER","1",1117],",",["T_WHITESPACE"," ",1117],["T_VARIABLE","$result",1117],")",";",["T_WHITESPACE","\n        ",1117],["T_VARIABLE","$this",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","assertEquals",1118],"(",["T_LNUMBER","1",1118],",",["T_WHITESPACE"," ",1118],["T_VARIABLE","$result",1118],"[",["T_LNUMBER","0",1118],"]",["T_OBJECT_OPERATOR","->",1118],["T_STRING","id",1118],")",";",["T_WHITESPACE","\n    ",1118],"}",["T_WHITESPACE","\n\n    ",1119],["T_DOC_COMMENT","\/**\n     * Test that association proxy find() applies complex conditions\n     *\n     * @return void\n     *\/",1121],["T_WHITESPACE","\n    ",1125],["T_PUBLIC","public",1126],["T_WHITESPACE"," ",1126],["T_FUNCTION","function",1126],["T_WHITESPACE"," ",1126],["T_STRING","testAssociationProxyFindWithComplexConditions",1126],"(",")",["T_WHITESPACE","\n    ",1126],"{",["T_WHITESPACE","\n        ",1127],["T_VARIABLE","$table",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_STRING","TableRegistry",1128],["T_DOUBLE_COLON","::",1128],["T_STRING","get",1128],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1128],")",";",["T_WHITESPACE","\n        ",1128],["T_VARIABLE","$table",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","belongsToMany",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1129],",",["T_WHITESPACE"," ",1129],"[",["T_WHITESPACE","\n            ",1129],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",1130],["T_WHITESPACE"," ",1130],["T_DOUBLE_ARROW","=>",1130],["T_WHITESPACE"," ",1130],["T_CONSTANT_ENCAPSED_STRING","'article_id'",1130],",",["T_WHITESPACE","\n            ",1130],["T_CONSTANT_ENCAPSED_STRING","'associationForeignKey'",1131],["T_WHITESPACE"," ",1131],["T_DOUBLE_ARROW","=>",1131],["T_WHITESPACE"," ",1131],["T_CONSTANT_ENCAPSED_STRING","'tag_id'",1131],",",["T_WHITESPACE","\n            ",1131],["T_CONSTANT_ENCAPSED_STRING","'conditions'",1132],["T_WHITESPACE"," ",1132],["T_DOUBLE_ARROW","=>",1132],["T_WHITESPACE"," ",1132],"[",["T_WHITESPACE","\n                ",1132],["T_CONSTANT_ENCAPSED_STRING","'OR'",1133],["T_WHITESPACE"," ",1133],["T_DOUBLE_ARROW","=>",1133],["T_WHITESPACE"," ",1133],"[",["T_WHITESPACE","\n                    ",1133],["T_CONSTANT_ENCAPSED_STRING","'SpecialTags.highlighted'",1134],["T_WHITESPACE"," ",1134],["T_DOUBLE_ARROW","=>",1134],["T_WHITESPACE"," ",1134],["T_STRING","true",1134],",",["T_WHITESPACE","\n                ",1134],"]",["T_WHITESPACE","\n            ",1135],"]",",",["T_WHITESPACE","\n            ",1136],["T_CONSTANT_ENCAPSED_STRING","'through'",1137],["T_WHITESPACE"," ",1137],["T_DOUBLE_ARROW","=>",1137],["T_WHITESPACE"," ",1137],["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1137],["T_WHITESPACE","\n        ",1137],"]",")",";",["T_WHITESPACE","\n        ",1138],["T_VARIABLE","$query",1139],["T_WHITESPACE"," ",1139],"=",["T_WHITESPACE"," ",1139],["T_VARIABLE","$table",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","Tags",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","find",1139],"(",")",";",["T_WHITESPACE","\n        ",1139],["T_VARIABLE","$result",1140],["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],["T_VARIABLE","$query",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","toArray",1140],"(",")",";",["T_WHITESPACE","\n        ",1140],["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","assertCount",1141],"(",["T_LNUMBER","1",1141],",",["T_WHITESPACE"," ",1141],["T_VARIABLE","$result",1141],")",";",["T_WHITESPACE","\n        ",1141],["T_VARIABLE","$this",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","assertEquals",1142],"(",["T_LNUMBER","1",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$result",1142],"[",["T_LNUMBER","0",1142],"]",["T_OBJECT_OPERATOR","->",1142],["T_STRING","id",1142],")",";",["T_WHITESPACE","\n    ",1142],"}",["T_WHITESPACE","\n\n    ",1143],["T_DOC_COMMENT","\/**\n     * Test that matching() works on belongsToMany associations.\n     *\n     * @return void\n     *\/",1145],["T_WHITESPACE","\n    ",1149],["T_PUBLIC","public",1150],["T_WHITESPACE"," ",1150],["T_FUNCTION","function",1150],["T_WHITESPACE"," ",1150],["T_STRING","testBelongsToManyAssociationWithArrayConditions",1150],"(",")",["T_WHITESPACE","\n    ",1150],"{",["T_WHITESPACE","\n        ",1151],["T_VARIABLE","$table",1152],["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],["T_STRING","TableRegistry",1152],["T_DOUBLE_COLON","::",1152],["T_STRING","get",1152],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1152],")",";",["T_WHITESPACE","\n        ",1152],["T_VARIABLE","$table",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","belongsToMany",1153],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1153],",",["T_WHITESPACE"," ",1153],"[",["T_WHITESPACE","\n            ",1153],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",1154],["T_WHITESPACE"," ",1154],["T_DOUBLE_ARROW","=>",1154],["T_WHITESPACE"," ",1154],["T_CONSTANT_ENCAPSED_STRING","'article_id'",1154],",",["T_WHITESPACE","\n            ",1154],["T_CONSTANT_ENCAPSED_STRING","'associationForeignKey'",1155],["T_WHITESPACE"," ",1155],["T_DOUBLE_ARROW","=>",1155],["T_WHITESPACE"," ",1155],["T_CONSTANT_ENCAPSED_STRING","'tag_id'",1155],",",["T_WHITESPACE","\n            ",1155],["T_CONSTANT_ENCAPSED_STRING","'conditions'",1156],["T_WHITESPACE"," ",1156],["T_DOUBLE_ARROW","=>",1156],["T_WHITESPACE"," ",1156],"[",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags.highlighted'",1156],["T_WHITESPACE"," ",1156],["T_DOUBLE_ARROW","=>",1156],["T_WHITESPACE"," ",1156],["T_STRING","true",1156],"]",",",["T_WHITESPACE","\n            ",1156],["T_CONSTANT_ENCAPSED_STRING","'through'",1157],["T_WHITESPACE"," ",1157],["T_DOUBLE_ARROW","=>",1157],["T_WHITESPACE"," ",1157],["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1157],["T_WHITESPACE","\n        ",1157],"]",")",";",["T_WHITESPACE","\n        ",1158],["T_VARIABLE","$query",1159],["T_WHITESPACE"," ",1159],"=",["T_WHITESPACE"," ",1159],["T_VARIABLE","$table",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","find",1159],"(",")",["T_OBJECT_OPERATOR","->",1159],["T_STRING","matching",1159],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1159],",",["T_WHITESPACE"," ",1159],["T_FUNCTION","function",1159],["T_WHITESPACE"," ",1159],"(",["T_VARIABLE","$q",1159],")",["T_WHITESPACE"," ",1159],"{",["T_WHITESPACE","\n            ",1159],["T_RETURN","return",1160],["T_WHITESPACE"," ",1160],["T_VARIABLE","$q",1160],["T_OBJECT_OPERATOR","->",1160],["T_STRING","where",1160],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Tags.name'",1160],["T_WHITESPACE"," ",1160],["T_DOUBLE_ARROW","=>",1160],["T_WHITESPACE"," ",1160],["T_CONSTANT_ENCAPSED_STRING","'tag1'",1160],"]",")",";",["T_WHITESPACE","\n        ",1160],"}",")",";",["T_WHITESPACE","\n        ",1161],["T_VARIABLE","$results",1162],["T_WHITESPACE"," ",1162],"=",["T_WHITESPACE"," ",1162],["T_VARIABLE","$query",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","toArray",1162],"(",")",";",["T_WHITESPACE","\n        ",1162],["T_VARIABLE","$this",1163],["T_OBJECT_OPERATOR","->",1163],["T_STRING","assertCount",1163],"(",["T_LNUMBER","1",1163],",",["T_WHITESPACE"," ",1163],["T_VARIABLE","$results",1163],")",";",["T_WHITESPACE","\n        ",1163],["T_VARIABLE","$this",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","assertNotEmpty",1164],"(",["T_VARIABLE","$results",1164],"[",["T_LNUMBER","0",1164],"]",["T_OBJECT_OPERATOR","->",1164],["T_STRING","_matchingData",1164],")",";",["T_WHITESPACE","\n    ",1164],"}",["T_WHITESPACE","\n\n    ",1165],["T_DOC_COMMENT","\/**\n     * Test that matching() works on belongsToMany associations.\n     *\n     * @return void\n     *\/",1167],["T_WHITESPACE","\n    ",1171],["T_PUBLIC","public",1172],["T_WHITESPACE"," ",1172],["T_FUNCTION","function",1172],["T_WHITESPACE"," ",1172],["T_STRING","testBelongsToManyAssociationWithExpressionConditions",1172],"(",")",["T_WHITESPACE","\n    ",1172],"{",["T_WHITESPACE","\n        ",1173],["T_VARIABLE","$table",1174],["T_WHITESPACE"," ",1174],"=",["T_WHITESPACE"," ",1174],["T_STRING","TableRegistry",1174],["T_DOUBLE_COLON","::",1174],["T_STRING","get",1174],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1174],")",";",["T_WHITESPACE","\n        ",1174],["T_VARIABLE","$table",1175],["T_OBJECT_OPERATOR","->",1175],["T_STRING","belongsToMany",1175],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1175],",",["T_WHITESPACE"," ",1175],"[",["T_WHITESPACE","\n            ",1175],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",1176],["T_WHITESPACE"," ",1176],["T_DOUBLE_ARROW","=>",1176],["T_WHITESPACE"," ",1176],["T_CONSTANT_ENCAPSED_STRING","'article_id'",1176],",",["T_WHITESPACE","\n            ",1176],["T_CONSTANT_ENCAPSED_STRING","'associationForeignKey'",1177],["T_WHITESPACE"," ",1177],["T_DOUBLE_ARROW","=>",1177],["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","'tag_id'",1177],",",["T_WHITESPACE","\n            ",1177],["T_CONSTANT_ENCAPSED_STRING","'conditions'",1178],["T_WHITESPACE"," ",1178],["T_DOUBLE_ARROW","=>",1178],["T_WHITESPACE"," ",1178],"[",["T_NEW","new",1178],["T_WHITESPACE"," ",1178],["T_STRING","QueryExpression",1178],"(",["T_CONSTANT_ENCAPSED_STRING","\"name LIKE 'tag%'\"",1178],")","]",",",["T_WHITESPACE","\n            ",1178],["T_CONSTANT_ENCAPSED_STRING","'through'",1179],["T_WHITESPACE"," ",1179],["T_DOUBLE_ARROW","=>",1179],["T_WHITESPACE"," ",1179],["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1179],["T_WHITESPACE","\n        ",1179],"]",")",";",["T_WHITESPACE","\n        ",1180],["T_VARIABLE","$query",1181],["T_WHITESPACE"," ",1181],"=",["T_WHITESPACE"," ",1181],["T_VARIABLE","$table",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","find",1181],"(",")",["T_OBJECT_OPERATOR","->",1181],["T_STRING","matching",1181],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1181],",",["T_WHITESPACE"," ",1181],["T_FUNCTION","function",1181],["T_WHITESPACE"," ",1181],"(",["T_VARIABLE","$q",1181],")",["T_WHITESPACE"," ",1181],"{",["T_WHITESPACE","\n            ",1181],["T_RETURN","return",1182],["T_WHITESPACE"," ",1182],["T_VARIABLE","$q",1182],["T_OBJECT_OPERATOR","->",1182],["T_STRING","where",1182],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Tags.name'",1182],["T_WHITESPACE"," ",1182],["T_DOUBLE_ARROW","=>",1182],["T_WHITESPACE"," ",1182],["T_CONSTANT_ENCAPSED_STRING","'tag1'",1182],"]",")",";",["T_WHITESPACE","\n        ",1182],"}",")",";",["T_WHITESPACE","\n        ",1183],["T_VARIABLE","$results",1184],["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],["T_VARIABLE","$query",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","toArray",1184],"(",")",";",["T_WHITESPACE","\n        ",1184],["T_VARIABLE","$this",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","assertCount",1185],"(",["T_LNUMBER","1",1185],",",["T_WHITESPACE"," ",1185],["T_VARIABLE","$results",1185],")",";",["T_WHITESPACE","\n        ",1185],["T_VARIABLE","$this",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","assertNotEmpty",1186],"(",["T_VARIABLE","$results",1186],"[",["T_LNUMBER","0",1186],"]",["T_OBJECT_OPERATOR","->",1186],["T_STRING","_matchingData",1186],")",";",["T_WHITESPACE","\n    ",1186],"}",["T_WHITESPACE","\n\n    ",1187],["T_DOC_COMMENT","\/**\n     * Test that association proxy find() with matching resolves joins correctly\n     *\n     * @return void\n     *\/",1189],["T_WHITESPACE","\n    ",1193],["T_PUBLIC","public",1194],["T_WHITESPACE"," ",1194],["T_FUNCTION","function",1194],["T_WHITESPACE"," ",1194],["T_STRING","testAssociationProxyFindWithConditionsMatching",1194],"(",")",["T_WHITESPACE","\n    ",1194],"{",["T_WHITESPACE","\n        ",1195],["T_VARIABLE","$table",1196],["T_WHITESPACE"," ",1196],"=",["T_WHITESPACE"," ",1196],["T_STRING","TableRegistry",1196],["T_DOUBLE_COLON","::",1196],["T_STRING","get",1196],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1196],")",";",["T_WHITESPACE","\n        ",1196],["T_VARIABLE","$table",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","belongsToMany",1197],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",1197],",",["T_WHITESPACE"," ",1197],"[",["T_WHITESPACE","\n            ",1197],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",1198],["T_WHITESPACE"," ",1198],["T_DOUBLE_ARROW","=>",1198],["T_WHITESPACE"," ",1198],["T_CONSTANT_ENCAPSED_STRING","'article_id'",1198],",",["T_WHITESPACE","\n            ",1198],["T_CONSTANT_ENCAPSED_STRING","'associationForeignKey'",1199],["T_WHITESPACE"," ",1199],["T_DOUBLE_ARROW","=>",1199],["T_WHITESPACE"," ",1199],["T_CONSTANT_ENCAPSED_STRING","'tag_id'",1199],",",["T_WHITESPACE","\n            ",1199],["T_CONSTANT_ENCAPSED_STRING","'conditions'",1200],["T_WHITESPACE"," ",1200],["T_DOUBLE_ARROW","=>",1200],["T_WHITESPACE"," ",1200],"[",["T_CONSTANT_ENCAPSED_STRING","'SpecialTags.highlighted'",1200],["T_WHITESPACE"," ",1200],["T_DOUBLE_ARROW","=>",1200],["T_WHITESPACE"," ",1200],["T_STRING","true",1200],"]",",",["T_WHITESPACE","\n            ",1200],["T_CONSTANT_ENCAPSED_STRING","'through'",1201],["T_WHITESPACE"," ",1201],["T_DOUBLE_ARROW","=>",1201],["T_WHITESPACE"," ",1201],["T_CONSTANT_ENCAPSED_STRING","'SpecialTags'",1201],["T_WHITESPACE","\n        ",1201],"]",")",";",["T_WHITESPACE","\n        ",1202],["T_VARIABLE","$query",1203],["T_WHITESPACE"," ",1203],"=",["T_WHITESPACE"," ",1203],["T_VARIABLE","$table",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","Tags",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","find",1203],"(",")",["T_OBJECT_OPERATOR","->",1203],["T_STRING","matching",1203],"(",["T_CONSTANT_ENCAPSED_STRING","'Articles'",1203],",",["T_WHITESPACE"," ",1203],["T_FUNCTION","function",1203],["T_WHITESPACE"," ",1203],"(",["T_VARIABLE","$query",1203],")",["T_WHITESPACE"," ",1203],"{",["T_WHITESPACE","\n            ",1203],["T_RETURN","return",1204],["T_WHITESPACE"," ",1204],["T_VARIABLE","$query",1204],["T_OBJECT_OPERATOR","->",1204],["T_STRING","where",1204],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Articles.id'",1204],["T_WHITESPACE"," ",1204],["T_DOUBLE_ARROW","=>",1204],["T_WHITESPACE"," ",1204],["T_LNUMBER","1",1204],"]",")",";",["T_WHITESPACE","\n        ",1204],"}",")",";",["T_WHITESPACE","\n        ",1205],["T_COMMENT","\/\/ The inner join on special_tags excludes the results.\n",1206],["T_WHITESPACE","        ",1207],["T_VARIABLE","$this",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","assertEquals",1207],"(",["T_LNUMBER","0",1207],",",["T_WHITESPACE"," ",1207],["T_VARIABLE","$query",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","count",1207],"(",")",")",";",["T_WHITESPACE","\n    ",1207],"}",["T_WHITESPACE","\n",1208],"}",["T_WHITESPACE","\n",1209]]