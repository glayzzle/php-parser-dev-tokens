[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestCase",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ORM",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Behavior",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Query",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Datasource",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ConnectionManager",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Datasource",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EntityInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Event",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Event",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ORM",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Entity",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ORM",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Table",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ORM",23],["T_NS_SEPARATOR","\\",23],["T_STRING","TableRegistry",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TestSuite",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TestCase",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Used for testing counter cache with custom finder\n *\/",26],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","PostTable",29],["T_WHITESPACE"," ",29],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_STRING","Table",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n\n    ",30],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","findPublished",32],"(",["T_STRING","Query",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$query",32],",",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$options",32],")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_RETURN","return",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$query",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","where",34],"(","[",["T_CONSTANT_ENCAPSED_STRING","'published'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_STRING","true",34],"]",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n",35],"}",["T_WHITESPACE","\n\n",36],["T_DOC_COMMENT","\/**\n * CounterCacheBehavior test case\n *\/",38],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","CounterCacheBehaviorTest",41],["T_WHITESPACE"," ",41],["T_EXTENDS","extends",41],["T_WHITESPACE"," ",41],["T_STRING","TestCase",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Fixture\n     *\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$fixtures",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'core.counter_cache_categories'",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'core.counter_cache_posts'",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'core.counter_cache_comments'",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'core.counter_cache_users'",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'core.counter_cache_user_category_posts'",54],["T_WHITESPACE","\n    ",54],"]",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * setup\n     *\n     * @return void\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","setUp",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_STRING","parent",64],["T_DOUBLE_COLON","::",64],["T_STRING","setUp",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","connection",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","ConnectionManager",65],["T_DOUBLE_COLON","::",65],["T_STRING","get",65],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","user",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","TableRegistry",67],["T_DOUBLE_COLON","::",67],["T_STRING","get",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",67],",",["T_WHITESPACE"," ",67],"[",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'table'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'counter_cache_users'",68],",",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'connection'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","connection",69],["T_WHITESPACE","\n        ",69],"]",")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","category",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","TableRegistry",72],["T_DOUBLE_COLON","::",72],["T_STRING","get",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Categories'",72],",",["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'table'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'counter_cache_categories'",73],",",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'connection'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","connection",74],["T_WHITESPACE","\n        ",74],"]",")",";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","comment",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","TableRegistry",77],["T_DOUBLE_COLON","::",77],["T_STRING","get",77],"(",["T_CONSTANT_ENCAPSED_STRING","'Comments'",77],",",["T_WHITESPACE"," ",77],"[",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'alias'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Comment'",78],",",["T_WHITESPACE","\n            ",78],["T_CONSTANT_ENCAPSED_STRING","'table'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'counter_cache_comments'",79],",",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'connection'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","connection",80],["T_WHITESPACE","\n        ",80],"]",")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","post",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","PostTable",83],"(","[",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'alias'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Post'",84],",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'table'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'counter_cache_posts'",85],",",["T_WHITESPACE","\n            ",85],["T_CONSTANT_ENCAPSED_STRING","'connection'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","connection",86],["T_WHITESPACE","\n        ",86],"]",")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","userCategoryPosts",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","Table",89],"(","[",["T_WHITESPACE","\n            ",89],["T_CONSTANT_ENCAPSED_STRING","'alias'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'UserCategoryPosts'",90],",",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","'table'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'counter_cache_user_category_posts'",91],",",["T_WHITESPACE","\n            ",91],["T_CONSTANT_ENCAPSED_STRING","'connection'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","connection",92],["T_WHITESPACE","\n        ",92],"]",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * teardown\n     *\n     * @return void\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","tearDown",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_STRING","parent",103],["T_DOUBLE_COLON","::",103],["T_STRING","tearDown",103],"(",")",";",["T_WHITESPACE","\n\n        ",103],["T_UNSET","unset",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","user",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","post",105],")",";",["T_WHITESPACE","\n        ",105],["T_STRING","TableRegistry",106],["T_DOUBLE_COLON","::",106],["T_STRING","clear",106],"(",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Testing simple counter caching when adding a record\n     *\n     * @return void\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","testAdd",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","post",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","belongsTo",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",116],")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","post",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","addBehavior",118],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",118],",",["T_WHITESPACE"," ",118],"[",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'Users'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],"[",["T_WHITESPACE","\n                ",119],["T_CONSTANT_ENCAPSED_STRING","'post_count'",120],["T_WHITESPACE","\n            ",120],"]",["T_WHITESPACE","\n        ",121],"]",")",";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$before",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_getUser",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$entity",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_getEntity",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","post",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","save",126],"(",["T_VARIABLE","$entity",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$after",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_getUser",127],"(",")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEquals",129],"(",["T_LNUMBER","2",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$before",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",129],")",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertEquals",130],"(",["T_LNUMBER","3",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$after",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","get",130],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",130],")",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Testing simple counter caching when adding a record\n     *\n     * @return void\n     *\/",133],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","testAddScope",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","post",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","belongsTo",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",140],")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","post",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addBehavior",142],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",142],",",["T_WHITESPACE"," ",142],"[",["T_WHITESPACE","\n            ",142],["T_CONSTANT_ENCAPSED_STRING","'Users'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],"[",["T_WHITESPACE","\n                ",143],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],"[",["T_WHITESPACE","\n                    ",144],["T_CONSTANT_ENCAPSED_STRING","'conditions'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],"[",["T_WHITESPACE","\n                        ",145],["T_CONSTANT_ENCAPSED_STRING","'published'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_STRING","true",146],["T_WHITESPACE","\n                    ",146],"]",["T_WHITESPACE","\n                ",147],"]",["T_WHITESPACE","\n            ",148],"]",["T_WHITESPACE","\n        ",149],"]",")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$before",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_getUser",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$entity",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_getEntity",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","set",153],"(",["T_CONSTANT_ENCAPSED_STRING","'published'",153],",",["T_WHITESPACE"," ",153],["T_STRING","true",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","post",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","save",154],"(",["T_VARIABLE","$entity",154],")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$after",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_getUser",155],"(",")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEquals",157],"(",["T_LNUMBER","1",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$before",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","get",157],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",157],")",")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEquals",158],"(",["T_LNUMBER","2",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$after",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","get",158],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",158],")",")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Testing simple counter caching when deleting a record\n     *\n     * @return void\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","testDelete",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","post",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","belongsTo",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",168],")",";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","post",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","addBehavior",170],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",170],",",["T_WHITESPACE"," ",170],"[",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","'Users'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],"[",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'post_count'",172],["T_WHITESPACE","\n            ",172],"]",["T_WHITESPACE","\n        ",173],"]",")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$before",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_getUser",176],"(",")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$post",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","post",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","find",177],"(",["T_CONSTANT_ENCAPSED_STRING","'all'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","first",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","post",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","delete",178],"(",["T_VARIABLE","$post",178],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$after",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_getUser",179],"(",")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertEquals",181],"(",["T_LNUMBER","2",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$before",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","get",181],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",181],")",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertEquals",182],"(",["T_LNUMBER","1",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$after",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","get",182],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",182],")",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Testing update simple counter caching when updating a record association\n     *\n     * @return void\n     *\/",185],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","testUpdate",190],"(",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","post",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","belongsTo",192],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","post",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","belongsTo",193],"(",["T_CONSTANT_ENCAPSED_STRING","'Categories'",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","post",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","addBehavior",195],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",195],",",["T_WHITESPACE"," ",195],"[",["T_WHITESPACE","\n            ",195],["T_CONSTANT_ENCAPSED_STRING","'Users'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],"[",["T_WHITESPACE","\n                ",196],["T_CONSTANT_ENCAPSED_STRING","'post_count'",197],["T_WHITESPACE","\n            ",197],"]",",",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'Categories'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],"[",["T_WHITESPACE","\n                ",199],["T_CONSTANT_ENCAPSED_STRING","'post_count'",200],["T_WHITESPACE","\n            ",200],"]",",",["T_WHITESPACE","\n        ",201],"]",")",";",["T_WHITESPACE","\n\n        ",202],["T_VARIABLE","$user1",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_getUser",204],"(",["T_LNUMBER","1",204],")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$user2",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_getUser",205],"(",["T_LNUMBER","2",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$category1",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_getCategory",206],"(",["T_LNUMBER","1",206],")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$category2",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_getCategory",207],"(",["T_LNUMBER","2",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$post",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","post",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","find",208],"(",["T_CONSTANT_ENCAPSED_STRING","'all'",208],")",["T_OBJECT_OPERATOR","->",208],["T_STRING","first",208],"(",")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertEquals",209],"(",["T_LNUMBER","2",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$user1",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","get",209],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",209],")",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertEquals",210],"(",["T_LNUMBER","1",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$user2",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","get",210],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",210],")",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEquals",211],"(",["T_LNUMBER","1",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$category1",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","get",211],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",211],")",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertEquals",212],"(",["T_LNUMBER","2",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$category2",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","get",212],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",212],")",")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$entity",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","post",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","patchEntity",214],"(",["T_VARIABLE","$post",214],",",["T_WHITESPACE"," ",214],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_LNUMBER","2",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'category_id'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_LNUMBER","2",214],"]",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","post",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","save",215],"(",["T_VARIABLE","$entity",215],")",";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$user1",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_getUser",217],"(",["T_LNUMBER","1",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$user2",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_getUser",218],"(",["T_LNUMBER","2",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$category1",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_getCategory",219],"(",["T_LNUMBER","1",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$category2",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_getCategory",220],"(",["T_LNUMBER","2",220],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertEquals",221],"(",["T_LNUMBER","1",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$user1",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","get",221],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",221],")",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEquals",222],"(",["T_LNUMBER","2",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$user2",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","get",222],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",222],")",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertEquals",223],"(",["T_LNUMBER","0",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$category1",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","get",223],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",223],")",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertEquals",224],"(",["T_LNUMBER","3",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$category2",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","get",224],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",224],")",")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Testing counter cache with custom find\n     *\n     * @return void\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","testCustomFind",232],"(",")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","post",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","belongsTo",234],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",234],")",";",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","post",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","addBehavior",236],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",236],",",["T_WHITESPACE"," ",236],"[",["T_WHITESPACE","\n            ",236],["T_CONSTANT_ENCAPSED_STRING","'Users'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],"[",["T_WHITESPACE","\n                ",237],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],"[",["T_WHITESPACE","\n                    ",238],["T_CONSTANT_ENCAPSED_STRING","'finder'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'published'",239],["T_WHITESPACE","\n                ",239],"]",["T_WHITESPACE","\n            ",240],"]",["T_WHITESPACE","\n        ",241],"]",")",";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$before",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_getUser",244],"(",")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$entity",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_getEntity",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","set",245],"(",["T_CONSTANT_ENCAPSED_STRING","'published'",245],",",["T_WHITESPACE"," ",245],["T_STRING","true",245],")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","post",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","save",246],"(",["T_VARIABLE","$entity",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$after",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_getUser",247],"(",")",";",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEquals",249],"(",["T_LNUMBER","1",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$before",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","get",249],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",249],")",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","assertEquals",250],"(",["T_LNUMBER","2",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$after",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","get",250],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",250],")",")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Testing counter cache with lambda returning number\n     *\n     * @return void\n     *\/",253],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","testLambdaNumber",258],"(",")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","post",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","belongsTo",260],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",260],")",";",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$table",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","post",262],";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$entity",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_getEntity",263],"(",")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","post",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","addBehavior",265],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",265],",",["T_WHITESPACE"," ",265],"[",["T_WHITESPACE","\n            ",265],["T_CONSTANT_ENCAPSED_STRING","'Users'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],"[",["T_WHITESPACE","\n                ",266],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],"(",["T_STRING","Event",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$orgEvent",267],",",["T_WHITESPACE"," ",267],["T_STRING","EntityInterface",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$orgEntity",267],",",["T_WHITESPACE"," ",267],["T_STRING","Table",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$orgTable",267],")",["T_WHITESPACE"," ",267],["T_USE","use",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$entity",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$table",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertSame",268],"(",["T_VARIABLE","$orgTable",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$table",268],")",";",["T_WHITESPACE","\n                    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertSame",269],"(",["T_VARIABLE","$orgEntity",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$entity",269],")",";",["T_WHITESPACE","\n\n                    ",269],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_LNUMBER","2",271],";",["T_WHITESPACE","\n                ",271],"}",["T_WHITESPACE","\n            ",272],"]",["T_WHITESPACE","\n        ",273],"]",")",";",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$before",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_getUser",276],"(",")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","post",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","save",277],"(",["T_VARIABLE","$entity",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$after",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_getUser",278],"(",")",";",["T_WHITESPACE","\n\n        ",278],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertEquals",280],"(",["T_LNUMBER","1",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$before",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","get",280],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",280],")",")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertEquals",281],"(",["T_LNUMBER","2",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$after",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","get",281],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",281],")",")",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Testing counter cache with lambda returning number and changing of related ID\n     *\n     * @return void\n     *\/",284],["T_WHITESPACE","\n    ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","testLambdaNumberUpdate",289],"(",")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","post",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","belongsTo",291],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",291],")",";",["T_WHITESPACE","\n\n        ",291],["T_VARIABLE","$table",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","post",293],";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$entity",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_getEntity",294],"(",")",";",["T_WHITESPACE","\n\n        ",294],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","post",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","addBehavior",296],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",296],",",["T_WHITESPACE"," ",296],"[",["T_WHITESPACE","\n            ",296],["T_CONSTANT_ENCAPSED_STRING","'Users'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],"[",["T_WHITESPACE","\n                ",297],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],"(",["T_STRING","Event",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$orgEvent",298],",",["T_WHITESPACE"," ",298],["T_STRING","EntityInterface",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$orgEntity",298],",",["T_WHITESPACE"," ",298],["T_STRING","Table",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$orgTable",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$original",298],")",["T_WHITESPACE"," ",298],["T_USE","use",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$entity",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$table",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                    ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","assertSame",299],"(",["T_VARIABLE","$orgTable",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$table",299],")",";",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","assertSame",300],"(",["T_VARIABLE","$orgEntity",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$entity",300],")",";",["T_WHITESPACE","\n\n                    ",300],["T_IF","if",302],["T_WHITESPACE"," ",302],"(","!",["T_VARIABLE","$original",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_LNUMBER","2",303],";",["T_WHITESPACE","\n                    ",303],"}",["T_WHITESPACE"," ",304],["T_ELSE","else",304],["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                        ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_LNUMBER","1",305],";",["T_WHITESPACE","\n                    ",305],"}",["T_WHITESPACE","\n                ",306],"}",["T_WHITESPACE","\n            ",307],"]",["T_WHITESPACE","\n        ",308],"]",")",";",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","post",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","save",311],"(",["T_VARIABLE","$entity",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$between",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_getUser",312],"(",")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$entity",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","user_id",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_LNUMBER","2",313],";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","post",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","save",314],"(",["T_VARIABLE","$entity",314],")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$afterUser1",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_getUser",315],"(",["T_LNUMBER","1",315],")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$afterUser2",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_getUser",316],"(",["T_LNUMBER","2",316],")",";",["T_WHITESPACE","\n\n        ",316],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertEquals",318],"(",["T_LNUMBER","2",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$between",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","get",318],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",318],")",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","assertEquals",319],"(",["T_LNUMBER","1",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$afterUser1",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","get",319],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",319],")",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","assertEquals",320],"(",["T_LNUMBER","2",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$afterUser2",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","get",320],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",320],")",")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Testing counter cache with lambda returning a subquery\n     *\n     * @return void\n     *\/",323],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","testLambdaSubquery",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","post",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","belongsTo",330],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","post",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","addBehavior",332],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",332],",",["T_WHITESPACE"," ",332],"[",["T_WHITESPACE","\n            ",332],["T_CONSTANT_ENCAPSED_STRING","'Users'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],"[",["T_WHITESPACE","\n                ",333],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],"(",["T_STRING","Event",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$event",334],",",["T_WHITESPACE"," ",334],["T_STRING","EntityInterface",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$entity",334],",",["T_WHITESPACE"," ",334],["T_STRING","Table",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$table",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                    ",334],["T_VARIABLE","$query",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_NEW","new",335],["T_WHITESPACE"," ",335],["T_STRING","Query",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","connection",335],")",";",["T_WHITESPACE","\n\n                    ",335],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$query",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","select",337],"(",["T_LNUMBER","4",337],")",";",["T_WHITESPACE","\n                ",337],"}",["T_WHITESPACE","\n            ",338],"]",["T_WHITESPACE","\n        ",339],"]",")",";",["T_WHITESPACE","\n\n        ",340],["T_VARIABLE","$before",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_getUser",342],"(",")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$entity",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_getEntity",343],"(",")",";",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","post",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","save",344],"(",["T_VARIABLE","$entity",344],")",";",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$after",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_getUser",345],"(",")",";",["T_WHITESPACE","\n\n        ",345],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","assertEquals",347],"(",["T_LNUMBER","1",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$before",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","get",347],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",347],")",")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","assertEquals",348],"(",["T_LNUMBER","4",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$after",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","get",348],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",348],")",")",";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n\n    ",349],["T_DOC_COMMENT","\/**\n     * Testing multiple counter cache when adding a record\n     *\n     * @return void\n     *\/",351],["T_WHITESPACE","\n    ",355],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","testMultiple",356],"(",")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","post",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","belongsTo",358],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",358],")",";",["T_WHITESPACE","\n\n        ",358],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","post",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","addBehavior",360],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",360],",",["T_WHITESPACE"," ",360],"[",["T_WHITESPACE","\n            ",360],["T_CONSTANT_ENCAPSED_STRING","'Users'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],"[",["T_WHITESPACE","\n                ",361],["T_CONSTANT_ENCAPSED_STRING","'post_count'",362],",",["T_WHITESPACE","\n                ",362],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],"[",["T_WHITESPACE","\n                    ",363],["T_CONSTANT_ENCAPSED_STRING","'conditions'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],"[",["T_WHITESPACE","\n                        ",364],["T_CONSTANT_ENCAPSED_STRING","'published'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_STRING","true",365],["T_WHITESPACE","\n                    ",365],"]",["T_WHITESPACE","\n                ",366],"]",["T_WHITESPACE","\n            ",367],"]",["T_WHITESPACE","\n        ",368],"]",")",";",["T_WHITESPACE","\n\n        ",369],["T_VARIABLE","$before",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_getUser",371],"(",")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$entity",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_getEntity",372],"(",")",["T_OBJECT_OPERATOR","->",372],["T_STRING","set",372],"(",["T_CONSTANT_ENCAPSED_STRING","'published'",372],",",["T_WHITESPACE"," ",372],["T_STRING","true",372],")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","post",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","save",373],"(",["T_VARIABLE","$entity",373],")",";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$after",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_getUser",374],"(",")",";",["T_WHITESPACE","\n\n        ",374],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assertEquals",376],"(",["T_LNUMBER","1",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$before",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","get",376],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",376],")",")",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertEquals",377],"(",["T_LNUMBER","2",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$after",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","get",377],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",377],")",")",";",["T_WHITESPACE","\n\n        ",377],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","assertEquals",379],"(",["T_LNUMBER","2",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$before",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","get",379],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",379],")",")",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","assertEquals",380],"(",["T_LNUMBER","3",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$after",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","get",380],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",380],")",")",";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n\n    ",381],["T_DOC_COMMENT","\/**\n     * Tests to see that the binding key configuration is respected.\n     *\n     * @return void\n     *\/",383],["T_WHITESPACE","\n    ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","testBindingKey",388],"(",")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","post",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","hasMany",390],"(",["T_CONSTANT_ENCAPSED_STRING","'UserCategoryPosts'",390],",",["T_WHITESPACE"," ",390],"[",["T_WHITESPACE","\n            ",390],["T_CONSTANT_ENCAPSED_STRING","'bindingKey'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",391],",",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'user_id'",391],"]",",",["T_WHITESPACE","\n            ",391],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",392],",",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'user_id'",392],"]",["T_WHITESPACE","\n        ",392],"]",")",";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","post",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","association",394],"(",["T_CONSTANT_ENCAPSED_STRING","'UserCategoryPosts'",394],")",["T_OBJECT_OPERATOR","->",394],["T_STRING","target",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","userCategoryPosts",394],")",";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","post",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","addBehavior",395],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",395],",",["T_WHITESPACE"," ",395],"[",["T_WHITESPACE","\n            ",395],["T_CONSTANT_ENCAPSED_STRING","'UserCategoryPosts'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],"[",["T_CONSTANT_ENCAPSED_STRING","'post_count'",396],"]",["T_WHITESPACE","\n        ",396],"]",")",";",["T_WHITESPACE","\n\n        ",397],["T_VARIABLE","$before",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","userCategoryPosts",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","find",399],"(",")",["T_WHITESPACE","\n            ",399],["T_OBJECT_OPERATOR","->",400],["T_STRING","where",400],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_LNUMBER","1",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'category_id'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_LNUMBER","2",400],"]",")",["T_WHITESPACE","\n            ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","first",401],"(",")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$entity",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_getEntity",402],"(",")",["T_OBJECT_OPERATOR","->",402],["T_STRING","set",402],"(",["T_CONSTANT_ENCAPSED_STRING","'category_id'",402],",",["T_WHITESPACE"," ",402],["T_LNUMBER","2",402],")",";",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","post",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","save",403],"(",["T_VARIABLE","$entity",403],")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$after",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","userCategoryPosts",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","find",404],"(",")",["T_WHITESPACE","\n            ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","where",405],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_LNUMBER","1",405],",",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'category_id'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_LNUMBER","2",405],"]",")",["T_WHITESPACE","\n            ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","first",406],"(",")",";",["T_WHITESPACE","\n\n        ",406],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","assertEquals",408],"(",["T_LNUMBER","1",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$before",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","get",408],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",408],")",")",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertEquals",409],"(",["T_LNUMBER","2",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$after",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","get",409],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",409],")",")",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * Testing the ignore if dirty option\n     *\n     * @return void\n     *\/",412],["T_WHITESPACE","\n    ",416],["T_PUBLIC","public",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","testIgnoreDirty",417],"(",")",["T_WHITESPACE","\n    ",417],"{",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","post",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","belongsTo",419],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",419],")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","comment",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","belongsTo",420],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",420],")",";",["T_WHITESPACE","\n\n        ",420],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","post",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","addBehavior",422],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",422],",",["T_WHITESPACE"," ",422],"[",["T_WHITESPACE","\n            ",422],["T_CONSTANT_ENCAPSED_STRING","'Users'",423],["T_WHITESPACE"," ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],"[",["T_WHITESPACE","\n                ",423],["T_CONSTANT_ENCAPSED_STRING","'post_count'",424],["T_WHITESPACE"," ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],"[",["T_WHITESPACE","\n                    ",424],["T_CONSTANT_ENCAPSED_STRING","'ignoreDirty'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_STRING","true",425],["T_WHITESPACE","\n                ",425],"]",",",["T_WHITESPACE","\n                ",426],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],"[",["T_WHITESPACE","\n                    ",427],["T_CONSTANT_ENCAPSED_STRING","'ignoreDirty'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_STRING","true",428],["T_WHITESPACE","\n                ",428],"]",",",["T_WHITESPACE","\n            ",429],"]",["T_WHITESPACE","\n        ",430],"]",")",";",["T_WHITESPACE","\n\n        ",431],["T_VARIABLE","$user",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_getUser",433],"(",["T_LNUMBER","1",433],")",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertSame",434],"(",["T_LNUMBER","2",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$user",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","get",434],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",434],")",")",";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","assertSame",435],"(",["T_LNUMBER","2",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$user",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","get",435],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_count'",435],")",")",";",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","assertSame",436],"(",["T_LNUMBER","1",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$user",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","get",436],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",436],")",")",";",["T_WHITESPACE","\n\n        ",436],["T_VARIABLE","$post",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","post",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","find",438],"(",["T_CONSTANT_ENCAPSED_STRING","'all'",438],")",["T_WHITESPACE","\n            ",438],["T_OBJECT_OPERATOR","->",439],["T_STRING","contain",439],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",439],")",["T_WHITESPACE","\n            ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","where",440],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'Rock and Roll'",440],"]",")",["T_WHITESPACE","\n            ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","first",441],"(",")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$post",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","post",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","patchEntity",442],"(",["T_VARIABLE","$post",442],",",["T_WHITESPACE"," ",442],"[",["T_WHITESPACE","\n            ",442],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_STRING","true",443],",",["T_WHITESPACE","\n            ",443],["T_CONSTANT_ENCAPSED_STRING","'user'",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],"[",["T_WHITESPACE","\n                ",444],["T_CONSTANT_ENCAPSED_STRING","'id'",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_LNUMBER","1",445],",",["T_WHITESPACE","\n                ",445],["T_CONSTANT_ENCAPSED_STRING","'post_count'",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_LNUMBER","10",446],",",["T_WHITESPACE","\n                ",446],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_LNUMBER","10",447],["T_WHITESPACE","\n            ",447],"]",["T_WHITESPACE","\n        ",448],"]",")",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$save",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","post",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","save",450],"(",["T_VARIABLE","$post",450],")",";",["T_WHITESPACE","\n\n        ",450],["T_VARIABLE","$user",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_getUser",452],"(",["T_LNUMBER","1",452],")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","assertSame",453],"(",["T_LNUMBER","10",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$user",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","get",453],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",453],")",")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","assertSame",454],"(",["T_LNUMBER","10",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$user",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","get",454],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_count'",454],")",")",";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","assertSame",455],"(",["T_LNUMBER","1",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$user",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","get",455],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",455],")",")",";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Testing the ignore if dirty option with just one field set to ignoreDirty\n     *\n     * @return void\n     *\/",458],["T_WHITESPACE","\n    ",462],["T_PUBLIC","public",463],["T_WHITESPACE"," ",463],["T_FUNCTION","function",463],["T_WHITESPACE"," ",463],["T_STRING","testIgnoreDirtyMixed",463],"(",")",["T_WHITESPACE","\n    ",463],"{",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","post",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","belongsTo",465],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",465],")",";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","comment",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","belongsTo",466],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",466],")",";",["T_WHITESPACE","\n\n        ",466],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","post",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","addBehavior",468],"(",["T_CONSTANT_ENCAPSED_STRING","'CounterCache'",468],",",["T_WHITESPACE"," ",468],"[",["T_WHITESPACE","\n            ",468],["T_CONSTANT_ENCAPSED_STRING","'Users'",469],["T_WHITESPACE"," ",469],["T_DOUBLE_ARROW","=>",469],["T_WHITESPACE"," ",469],"[",["T_WHITESPACE","\n                ",469],["T_CONSTANT_ENCAPSED_STRING","'post_count'",470],["T_WHITESPACE"," ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],"[",["T_WHITESPACE","\n                    ",470],["T_CONSTANT_ENCAPSED_STRING","'ignoreDirty'",471],["T_WHITESPACE"," ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],["T_STRING","true",471],["T_WHITESPACE","\n                ",471],"]",["T_WHITESPACE","\n            ",472],"]",["T_WHITESPACE","\n        ",473],"]",")",";",["T_WHITESPACE","\n\n        ",474],["T_VARIABLE","$user",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_getUser",476],"(",["T_LNUMBER","1",476],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","assertSame",477],"(",["T_LNUMBER","2",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$user",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","get",477],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",477],")",")",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","assertSame",478],"(",["T_LNUMBER","2",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$user",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","get",478],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_count'",478],")",")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","assertSame",479],"(",["T_LNUMBER","1",479],",",["T_WHITESPACE"," ",479],["T_VARIABLE","$user",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","get",479],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",479],")",")",";",["T_WHITESPACE","\n\n        ",479],["T_VARIABLE","$post",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","post",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","find",481],"(",["T_CONSTANT_ENCAPSED_STRING","'all'",481],")",["T_WHITESPACE","\n            ",481],["T_OBJECT_OPERATOR","->",482],["T_STRING","contain",482],"(",["T_CONSTANT_ENCAPSED_STRING","'Users'",482],")",["T_WHITESPACE","\n            ",482],["T_OBJECT_OPERATOR","->",483],["T_STRING","where",483],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'Rock and Roll'",483],"]",")",["T_WHITESPACE","\n            ",483],["T_OBJECT_OPERATOR","->",484],["T_STRING","first",484],"(",")",";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$post",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","post",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","patchEntity",485],"(",["T_VARIABLE","$post",485],",",["T_WHITESPACE"," ",485],"[",["T_WHITESPACE","\n            ",485],["T_CONSTANT_ENCAPSED_STRING","'posts_published'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_STRING","true",486],",",["T_WHITESPACE","\n            ",486],["T_CONSTANT_ENCAPSED_STRING","'user'",487],["T_WHITESPACE"," ",487],["T_DOUBLE_ARROW","=>",487],["T_WHITESPACE"," ",487],"[",["T_WHITESPACE","\n                ",487],["T_CONSTANT_ENCAPSED_STRING","'id'",488],["T_WHITESPACE"," ",488],["T_DOUBLE_ARROW","=>",488],["T_WHITESPACE"," ",488],["T_LNUMBER","1",488],",",["T_WHITESPACE","\n                ",488],["T_CONSTANT_ENCAPSED_STRING","'post_count'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_LNUMBER","10",489],["T_WHITESPACE","\n            ",489],"]",["T_WHITESPACE","\n        ",490],"]",")",";",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$save",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","post",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","save",492],"(",["T_VARIABLE","$post",492],")",";",["T_WHITESPACE","\n\n        ",492],["T_VARIABLE","$user",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_getUser",494],"(",["T_LNUMBER","1",494],")",";",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","assertSame",495],"(",["T_LNUMBER","10",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$user",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","get",495],"(",["T_CONSTANT_ENCAPSED_STRING","'post_count'",495],")",")",";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","assertSame",496],"(",["T_LNUMBER","2",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$user",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","get",496],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_count'",496],")",")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","assertSame",497],"(",["T_LNUMBER","1",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$user",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","get",497],"(",["T_CONSTANT_ENCAPSED_STRING","'posts_published'",497],")",")",";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Get a new Entity\n     *\n     * @return Entity\n     *\/",500],["T_WHITESPACE","\n    ",504],["T_PROTECTED","protected",505],["T_WHITESPACE"," ",505],["T_FUNCTION","function",505],["T_WHITESPACE"," ",505],["T_STRING","_getEntity",505],"(",")",["T_WHITESPACE","\n    ",505],"{",["T_WHITESPACE","\n        ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_NEW","new",507],["T_WHITESPACE"," ",507],["T_STRING","Entity",507],"(","[",["T_WHITESPACE","\n            ",507],["T_CONSTANT_ENCAPSED_STRING","'title'",508],["T_WHITESPACE"," ",508],["T_DOUBLE_ARROW","=>",508],["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'Test 123'",508],",",["T_WHITESPACE","\n            ",508],["T_CONSTANT_ENCAPSED_STRING","'user_id'",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_LNUMBER","1",509],["T_WHITESPACE","\n        ",509],"]",")",";",["T_WHITESPACE","\n    ",510],"}",["T_WHITESPACE","\n\n    ",511],["T_DOC_COMMENT","\/**\n     * Returns entity for user\n     *\n     * @return Entity\n     *\/",513],["T_WHITESPACE","\n    ",517],["T_PROTECTED","protected",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","_getUser",518],"(",["T_VARIABLE","$id",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_LNUMBER","1",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","user",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","get",520],"(",["T_VARIABLE","$id",520],")",";",["T_WHITESPACE","\n    ",520],"}",["T_WHITESPACE","\n\n    ",521],["T_DOC_COMMENT","\/**\n     * Returns entity for category\n     *\n     * @return Entity\n     *\/",523],["T_WHITESPACE","\n    ",527],["T_PROTECTED","protected",528],["T_WHITESPACE"," ",528],["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],["T_STRING","_getCategory",528],"(",["T_VARIABLE","$id",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_LNUMBER","1",528],")",["T_WHITESPACE","\n    ",528],"{",["T_WHITESPACE","\n        ",529],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","category",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","find",530],"(",["T_CONSTANT_ENCAPSED_STRING","'all'",530],")",["T_OBJECT_OPERATOR","->",530],["T_STRING","where",530],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$id",530],"]",")",["T_OBJECT_OPERATOR","->",530],["T_STRING","first",530],"(",")",";",["T_WHITESPACE","\n    ",530],"}",["T_WHITESPACE","\n",531],"}",["T_WHITESPACE","\n",532]]