[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         0.10.3\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Utility",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Utility",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","XmlException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","DOMDocument",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","DOMNode",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","DOMText",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Exception",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","SimpleXMLElement",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * XML handling for CakePHP.\n *\n * The methods in these classes enable the datasources that use XML to work.\n *\/",24],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Xml",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Initialize SimpleXMLElement or DOMDocument from a given XML string, file path, URL or array.\n     *\n     * ### Usage:\n     *\n     * Building XML from a string:\n     *\n     * ```\n     * $xml = Xml::build('<example>text<\/example>');\n     * ```\n     *\n     * Building XML from string (output DOMDocument):\n     *\n     * ```\n     * $xml = Xml::build('<example>text<\/example>', ['return' => 'domdocument']);\n     * ```\n     *\n     * Building XML from a file path:\n     *\n     * ```\n     * $xml = Xml::build('\/path\/to\/an\/xml\/file.xml');\n     * ```\n     *\n     * Building XML from a remote URL:\n     *\n     * ```\n     * use Cake\\Http\\Client;\n     *\n     * $http = new Client();\n     * $response = $http->get('http:\/\/example.com\/example.xml');\n     * $xml = Xml::build($response->body());\n     * ```\n     *\n     * Building from an array:\n     *\n     * ```\n     *  $value = [\n     *      'tags' => [\n     *          'tag' => [\n     *              [\n     *                  'id' => '1',\n     *                  'name' => 'defect'\n     *              ],\n     *              [\n     *                  'id' => '2',\n     *                  'name' => 'enhancement'\n     *              ]\n     *          ]\n     *      ]\n     *  ];\n     * $xml = Xml::build($value);\n     * ```\n     *\n     * When building XML from an array ensure that there is only one top level element.\n     *\n     * ### Options\n     *\n     * - `return` Can be 'simplexml' to return object of SimpleXMLElement or 'domdocument' to return DOMDocument.\n     * - `loadEntities` Defaults to false. Set to true to enable loading of `<!ENTITY` definitions. This\n     *   is disabled by default for security reasons.\n     * - `readFile` Set to false to disable file reading. This is important to disable when\n     *   putting user data into Xml::build(). If enabled local files will be read if they exist.\n     *   Defaults to true for backwards compatibility reasons.\n     * - `parseHuge` Enable the `LIBXML_PARSEHUGE` flag.\n     *\n     * If using array as input, you can pass `options` from Xml::fromArray.\n     *\n     * @param string|array $input XML string, a path to a file, a URL or an array\n     * @param string|array $options The options to use\n     * @return \\SimpleXMLElement|\\DOMDocument SimpleXMLElement or DOMDocument\n     * @throws \\Cake\\Utility\\Exception\\XmlException\n     *\/",32],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_STATIC","static",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","build",104],"(",["T_VARIABLE","$input",104],",",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$options",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],"[","]",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$defaults",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'return'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'simplexml'",107],",",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'loadEntities'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","false",108],",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'readFile'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","true",109],",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'parseHuge'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_STRING","true",110],",",["T_WHITESPACE","\n        ",110],"]",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$options",112],["T_WHITESPACE"," ",112],["T_PLUS_EQUAL","+=",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$defaults",112],";",["T_WHITESPACE","\n\n        ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_STRING","is_array",114],"(",["T_VARIABLE","$input",114],")",["T_WHITESPACE"," ",114],["T_BOOLEAN_OR","||",114],["T_WHITESPACE"," ",114],["T_STRING","is_object",114],"(",["T_VARIABLE","$input",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STATIC","static",115],["T_DOUBLE_COLON","::",115],["T_STRING","fromArray",115],"(",["T_VARIABLE","$input",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$options",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_STRING","strpos",118],"(",["T_VARIABLE","$input",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'<'",118],")",["T_WHITESPACE"," ",118],["T_IS_NOT_IDENTICAL","!==",118],["T_WHITESPACE"," ",118],["T_STRING","false",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_STATIC","static",119],["T_DOUBLE_COLON","::",119],["T_STRING","_loadXml",119],"(",["T_VARIABLE","$input",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$options",119],")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$options",122],"[",["T_CONSTANT_ENCAPSED_STRING","'readFile'",122],"]",["T_WHITESPACE"," ",122],["T_BOOLEAN_AND","&&",122],["T_WHITESPACE"," ",122],["T_STRING","file_exists",122],"(",["T_VARIABLE","$input",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STATIC","static",123],["T_DOUBLE_COLON","::",123],["T_STRING","_loadXml",123],"(",["T_STRING","file_get_contents",123],"(",["T_VARIABLE","$input",123],")",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$options",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_STRING","is_string",126],"(",["T_VARIABLE","$input",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_THROW","throw",127],["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","XmlException",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid input.'",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","XmlException",130],"(",["T_CONSTANT_ENCAPSED_STRING","'XML cannot be read.'",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Parse the input data and create either a SimpleXmlElement object or a DOMDocument.\n     *\n     * @param string $input The input to load.\n     * @param array $options The options to use. See Xml::build()\n     * @return \\SimpleXmlElement|\\DOMDocument\n     * @throws \\Cake\\Utility\\Exception\\XmlException\n     *\/",133],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_STATIC","static",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","_loadXml",141],"(",["T_VARIABLE","$input",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$options",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$hasDisable",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","function_exists",143],"(",["T_CONSTANT_ENCAPSED_STRING","'libxml_disable_entity_loader'",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$internalErrors",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","libxml_use_internal_errors",144],"(",["T_STRING","true",144],")",";",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$hasDisable",145],["T_WHITESPACE"," ",145],["T_BOOLEAN_AND","&&",145],["T_WHITESPACE"," ",145],"!",["T_VARIABLE","$options",145],"[",["T_CONSTANT_ENCAPSED_STRING","'loadEntities'",145],"]",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_STRING","libxml_disable_entity_loader",146],"(",["T_STRING","true",146],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$flags",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","LIBXML_NOCDATA",148],";",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(","!",["T_EMPTY","empty",149],"(",["T_VARIABLE","$options",149],"[",["T_CONSTANT_ENCAPSED_STRING","'parseHuge'",149],"]",")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$flags",150],["T_WHITESPACE"," ",150],["T_OR_EQUAL","|=",150],["T_WHITESPACE"," ",150],["T_STRING","LIBXML_PARSEHUGE",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n        ",151],["T_TRY","try",152],["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$options",153],"[",["T_CONSTANT_ENCAPSED_STRING","'return'",153],"]",["T_WHITESPACE"," ",153],["T_IS_IDENTICAL","===",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'simplexml'",153],["T_WHITESPACE"," ",153],["T_BOOLEAN_OR","||",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$options",153],"[",["T_CONSTANT_ENCAPSED_STRING","'return'",153],"]",["T_WHITESPACE"," ",153],["T_IS_IDENTICAL","===",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'simplexmlelement'",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$xml",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","SimpleXMLElement",154],"(",["T_VARIABLE","$input",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$flags",154],")",";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE"," ",155],["T_ELSE","else",155],["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$xml",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","DOMDocument",156],"(",")",";",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$xml",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","loadXML",157],"(",["T_VARIABLE","$input",157],")",";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_CATCH","catch",159],["T_WHITESPACE"," ",159],"(",["T_STRING","Exception",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$e",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$xml",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$hasDisable",162],["T_WHITESPACE"," ",162],["T_BOOLEAN_AND","&&",162],["T_WHITESPACE"," ",162],"!",["T_VARIABLE","$options",162],"[",["T_CONSTANT_ENCAPSED_STRING","'loadEntities'",162],"]",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_STRING","libxml_disable_entity_loader",163],"(",["T_STRING","false",163],")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n        ",164],["T_STRING","libxml_use_internal_errors",165],"(",["T_VARIABLE","$internalErrors",165],")",";",["T_WHITESPACE","\n        ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$xml",166],["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_STRING","null",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_THROW","throw",167],["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","XmlException",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Xml cannot be read.'",167],")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n\n        ",168],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$xml",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Transform an array into a SimpleXMLElement\n     *\n     * ### Options\n     *\n     * - `format` If create childs ('tags') or attributes ('attributes').\n     * - `pretty` Returns formatted Xml when set to `true`. Defaults to `false`\n     * - `version` Version of XML document. Default is 1.0.\n     * - `encoding` Encoding of XML document. If null remove from XML header. Default is the some of application.\n     * - `return` If return object of SimpleXMLElement ('simplexml') or DOMDocument ('domdocument'). Default is SimpleXMLElement.\n     *\n     * Using the following data:\n     *\n     * ```\n     * $value = [\n     *    'root' => [\n     *        'tag' => [\n     *            'id' => 1,\n     *            'value' => 'defect',\n     *            '@' => 'description'\n     *         ]\n     *     ]\n     * ];\n     * ```\n     *\n     * Calling `Xml::fromArray($value, 'tags');`  Will generate:\n     *\n     * `<root><tag><id>1<\/id><value>defect<\/value>description<\/tag><\/root>`\n     *\n     * And calling `Xml::fromArray($value, 'attributes');` Will generate:\n     *\n     * `<root><tag id=\"1\" value=\"defect\">description<\/tag><\/root>`\n     *\n     * @param array|\\Cake\\Collection\\Collection $input Array with data or a collection instance.\n     * @param string|array $options The options to use or a string to use as format.\n     * @return \\SimpleXMLElement|\\DOMDocument SimpleXMLElement or DOMDocument\n     * @throws \\Cake\\Utility\\Exception\\XmlException\n     *\/",173],["T_WHITESPACE","\n    ",210],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_STATIC","static",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","fromArray",211],"(",["T_VARIABLE","$input",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$options",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"[","]",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_STRING","is_object",213],"(",["T_VARIABLE","$input",213],")",["T_WHITESPACE"," ",213],["T_BOOLEAN_AND","&&",213],["T_WHITESPACE"," ",213],["T_STRING","method_exists",213],"(",["T_VARIABLE","$input",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'toArray'",213],")",["T_WHITESPACE"," ",213],["T_BOOLEAN_AND","&&",213],["T_WHITESPACE"," ",213],["T_STRING","is_callable",213],"(","[",["T_VARIABLE","$input",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'toArray'",213],"]",")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$input",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","call_user_func",214],"(","[",["T_VARIABLE","$input",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'toArray'",214],"]",")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(","!",["T_STRING","is_array",216],"(",["T_VARIABLE","$input",216],")",["T_WHITESPACE"," ",216],["T_BOOLEAN_OR","||",216],["T_WHITESPACE"," ",216],["T_STRING","count",216],"(",["T_VARIABLE","$input",216],")",["T_WHITESPACE"," ",216],["T_IS_NOT_IDENTICAL","!==",216],["T_WHITESPACE"," ",216],["T_LNUMBER","1",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_THROW","throw",217],["T_WHITESPACE"," ",217],["T_NEW","new",217],["T_WHITESPACE"," ",217],["T_STRING","XmlException",217],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid input.'",217],")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$key",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","key",219],"(",["T_VARIABLE","$input",219],")",";",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_STRING","is_int",220],"(",["T_VARIABLE","$key",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_THROW","throw",221],["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_STRING","XmlException",221],"(",["T_CONSTANT_ENCAPSED_STRING","'The key of input must be alphanumeric'",221],")",";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n\n        ",222],["T_IF","if",224],["T_WHITESPACE"," ",224],"(","!",["T_STRING","is_array",224],"(",["T_VARIABLE","$options",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$options",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_STRING_CAST","(string)",225],["T_VARIABLE","$options",225],"]",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$defaults",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[",["T_WHITESPACE","\n            ",227],["T_CONSTANT_ENCAPSED_STRING","'format'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'tags'",228],",",["T_WHITESPACE","\n            ",228],["T_CONSTANT_ENCAPSED_STRING","'version'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'1.0'",229],",",["T_WHITESPACE","\n            ",229],["T_CONSTANT_ENCAPSED_STRING","'encoding'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_STRING","mb_internal_encoding",230],"(",")",",",["T_WHITESPACE","\n            ",230],["T_CONSTANT_ENCAPSED_STRING","'return'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'simplexml'",231],",",["T_WHITESPACE","\n            ",231],["T_CONSTANT_ENCAPSED_STRING","'pretty'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_STRING","false",232],["T_WHITESPACE","\n        ",232],"]",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$options",234],["T_WHITESPACE"," ",234],["T_PLUS_EQUAL","+=",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$defaults",234],";",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$dom",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_NEW","new",236],["T_WHITESPACE"," ",236],["T_STRING","DOMDocument",236],"(",["T_VARIABLE","$options",236],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",236],"]",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$options",236],"[",["T_CONSTANT_ENCAPSED_STRING","'encoding'",236],"]",")",";",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$options",237],"[",["T_CONSTANT_ENCAPSED_STRING","'pretty'",237],"]",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$dom",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","formatOutput",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","true",238],";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_STRING","self",240],["T_DOUBLE_COLON","::",240],["T_STRING","_fromArray",240],"(",["T_VARIABLE","$dom",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$dom",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$input",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$options",240],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",240],"]",")",";",["T_WHITESPACE","\n\n        ",240],["T_VARIABLE","$options",242],"[",["T_CONSTANT_ENCAPSED_STRING","'return'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","strtolower",242],"(",["T_VARIABLE","$options",242],"[",["T_CONSTANT_ENCAPSED_STRING","'return'",242],"]",")",";",["T_WHITESPACE","\n        ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$options",243],"[",["T_CONSTANT_ENCAPSED_STRING","'return'",243],"]",["T_WHITESPACE"," ",243],["T_IS_IDENTICAL","===",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'simplexml'",243],["T_WHITESPACE"," ",243],["T_BOOLEAN_OR","||",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$options",243],"[",["T_CONSTANT_ENCAPSED_STRING","'return'",243],"]",["T_WHITESPACE"," ",243],["T_IS_IDENTICAL","===",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'simplexmlelement'",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_NEW","new",244],["T_WHITESPACE"," ",244],["T_STRING","SimpleXMLElement",244],"(",["T_VARIABLE","$dom",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","saveXML",244],"(",")",")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$dom",247],";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Recursive method to create childs from array\n     *\n     * @param \\DOMDocument $dom Handler to DOMDocument\n     * @param \\DOMElement $node Handler to DOMElement (child)\n     * @param array $data Array of data to append to the $node.\n     * @param string $format Either 'attributes' or 'tags'. This determines where nested keys go.\n     * @return void\n     * @throws \\Cake\\Utility\\Exception\\XmlException\n     *\/",250],["T_WHITESPACE","\n    ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_STATIC","static",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","_fromArray",260],"(",["T_VARIABLE","$dom",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$node",260],",",["T_WHITESPACE"," ",260],"&",["T_VARIABLE","$data",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$format",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_EMPTY","empty",262],"(",["T_VARIABLE","$data",262],")",["T_WHITESPACE"," ",262],["T_BOOLEAN_OR","||",262],["T_WHITESPACE"," ",262],"!",["T_STRING","is_array",262],"(",["T_VARIABLE","$data",262],")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_RETURN","return",263],";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n        ",264],["T_FOREACH","foreach",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$data",265],["T_WHITESPACE"," ",265],["T_AS","as",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$key",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$value",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_STRING","is_string",266],"(",["T_VARIABLE","$key",266],")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_STRING","is_object",267],"(",["T_VARIABLE","$value",267],")",["T_WHITESPACE"," ",267],["T_BOOLEAN_AND","&&",267],["T_WHITESPACE"," ",267],["T_STRING","method_exists",267],"(",["T_VARIABLE","$value",267],",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'toArray'",267],")",["T_WHITESPACE"," ",267],["T_BOOLEAN_AND","&&",267],["T_WHITESPACE"," ",267],["T_STRING","is_callable",267],"(","[",["T_VARIABLE","$value",267],",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'toArray'",267],"]",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                    ",267],["T_VARIABLE","$value",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","call_user_func",268],"(","[",["T_VARIABLE","$value",268],",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'toArray'",268],"]",")",";",["T_WHITESPACE","\n                ",268],"}",["T_WHITESPACE","\n\n                ",269],["T_IF","if",271],["T_WHITESPACE"," ",271],"(","!",["T_STRING","is_array",271],"(",["T_VARIABLE","$value",271],")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                    ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","is_bool",272],"(",["T_VARIABLE","$value",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                        ",272],["T_VARIABLE","$value",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_INT_CAST","(int)",273],["T_VARIABLE","$value",273],";",["T_WHITESPACE","\n                    ",273],"}",["T_WHITESPACE"," ",274],["T_ELSEIF","elseif",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$value",274],["T_WHITESPACE"," ",274],["T_IS_IDENTICAL","===",274],["T_WHITESPACE"," ",274],["T_STRING","null",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                        ",274],["T_VARIABLE","$value",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","''",275],";",["T_WHITESPACE","\n                    ",275],"}",["T_WHITESPACE","\n                    ",276],["T_VARIABLE","$isNamespace",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","strpos",277],"(",["T_VARIABLE","$key",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'xmlns:'",277],")",";",["T_WHITESPACE","\n                    ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$isNamespace",278],["T_WHITESPACE"," ",278],["T_IS_NOT_IDENTICAL","!==",278],["T_WHITESPACE"," ",278],["T_STRING","false",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                        ",278],["T_VARIABLE","$node",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","setAttributeNS",279],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/2000\/xmlns\/'",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$key",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$value",279],")",";",["T_WHITESPACE","\n                        ",279],["T_CONTINUE","continue",280],";",["T_WHITESPACE","\n                    ",280],"}",["T_WHITESPACE","\n                    ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$key",282],"[",["T_LNUMBER","0",282],"]",["T_WHITESPACE"," ",282],["T_IS_NOT_IDENTICAL","!==",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'@'",282],["T_WHITESPACE"," ",282],["T_BOOLEAN_AND","&&",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$format",282],["T_WHITESPACE"," ",282],["T_IS_IDENTICAL","===",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'tags'",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_STRING","is_numeric",283],"(",["T_VARIABLE","$value",283],")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                            ",283],["T_COMMENT","\/\/ Escape special characters\n",284],["T_WHITESPACE","                            ",285],["T_COMMENT","\/\/ http:\/\/www.w3.org\/TR\/REC-xml\/#syntax\n",285],["T_WHITESPACE","                            ",286],["T_COMMENT","\/\/ https:\/\/bugs.php.net\/bug.php?id=36795\n",286],["T_WHITESPACE","                            ",287],["T_VARIABLE","$child",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$dom",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","createElement",287],"(",["T_VARIABLE","$key",287],",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","''",287],")",";",["T_WHITESPACE","\n                            ",287],["T_VARIABLE","$child",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","appendChild",288],"(",["T_NEW","new",288],["T_WHITESPACE"," ",288],["T_STRING","DOMText",288],"(",["T_VARIABLE","$value",288],")",")",";",["T_WHITESPACE","\n                        ",288],"}",["T_WHITESPACE"," ",289],["T_ELSE","else",289],["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                            ",289],["T_VARIABLE","$child",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$dom",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","createElement",290],"(",["T_VARIABLE","$key",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$value",290],")",";",["T_WHITESPACE","\n                        ",290],"}",["T_WHITESPACE","\n                        ",291],["T_VARIABLE","$node",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","appendChild",292],"(",["T_VARIABLE","$child",292],")",";",["T_WHITESPACE","\n                    ",292],"}",["T_WHITESPACE"," ",293],["T_ELSE","else",293],["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                        ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$key",294],"[",["T_LNUMBER","0",294],"]",["T_WHITESPACE"," ",294],["T_IS_IDENTICAL","===",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'@'",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                            ",294],["T_VARIABLE","$key",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","substr",295],"(",["T_VARIABLE","$key",295],",",["T_WHITESPACE"," ",295],["T_LNUMBER","1",295],")",";",["T_WHITESPACE","\n                        ",295],"}",["T_WHITESPACE","\n                        ",296],["T_VARIABLE","$attribute",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$dom",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","createAttribute",297],"(",["T_VARIABLE","$key",297],")",";",["T_WHITESPACE","\n                        ",297],["T_VARIABLE","$attribute",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","appendChild",298],"(",["T_VARIABLE","$dom",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","createTextNode",298],"(",["T_VARIABLE","$value",298],")",")",";",["T_WHITESPACE","\n                        ",298],["T_VARIABLE","$node",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","appendChild",299],"(",["T_VARIABLE","$attribute",299],")",";",["T_WHITESPACE","\n                    ",299],"}",["T_WHITESPACE","\n                ",300],"}",["T_WHITESPACE"," ",301],["T_ELSE","else",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                    ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$key",302],"[",["T_LNUMBER","0",302],"]",["T_WHITESPACE"," ",302],["T_IS_IDENTICAL","===",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'@'",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                        ",302],["T_THROW","throw",303],["T_WHITESPACE"," ",303],["T_NEW","new",303],["T_WHITESPACE"," ",303],["T_STRING","XmlException",303],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid array'",303],")",";",["T_WHITESPACE","\n                    ",303],"}",["T_WHITESPACE","\n                    ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_STRING","is_numeric",305],"(",["T_STRING","implode",305],"(",["T_CONSTANT_ENCAPSED_STRING","''",305],",",["T_WHITESPACE"," ",305],["T_STRING","array_keys",305],"(",["T_VARIABLE","$value",305],")",")",")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n",305],["T_COMMENT","\/\/ List\n",306],["T_WHITESPACE","                        ",307],["T_FOREACH","foreach",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$value",307],["T_WHITESPACE"," ",307],["T_AS","as",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$item",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                            ",307],["T_VARIABLE","$itemData",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","compact",308],"(",["T_CONSTANT_ENCAPSED_STRING","'dom'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'node'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'key'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'format'",308],")",";",["T_WHITESPACE","\n                            ",308],["T_VARIABLE","$itemData",309],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",309],"]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$item",309],";",["T_WHITESPACE","\n                            ",309],["T_STATIC","static",310],["T_DOUBLE_COLON","::",310],["T_STRING","_createChild",310],"(",["T_VARIABLE","$itemData",310],")",";",["T_WHITESPACE","\n                        ",310],"}",["T_WHITESPACE","\n                    ",311],"}",["T_WHITESPACE"," ",312],["T_ELSE","else",312],["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n",312],["T_COMMENT","\/\/ Struct\n",313],["T_WHITESPACE","                        ",314],["T_STATIC","static",314],["T_DOUBLE_COLON","::",314],["T_STRING","_createChild",314],"(",["T_STRING","compact",314],"(",["T_CONSTANT_ENCAPSED_STRING","'dom'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'node'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'key'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'value'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'format'",314],")",")",";",["T_WHITESPACE","\n                    ",314],"}",["T_WHITESPACE","\n                ",315],"}",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE"," ",317],["T_ELSE","else",317],["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_THROW","throw",318],["T_WHITESPACE"," ",318],["T_NEW","new",318],["T_WHITESPACE"," ",318],["T_STRING","XmlException",318],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid array'",318],")",";",["T_WHITESPACE","\n            ",318],"}",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Helper to _fromArray(). It will create childs of arrays\n     *\n     * @param array $data Array with information to create childs\n     * @return void\n     *\/",323],["T_WHITESPACE","\n    ",328],["T_PROTECTED","protected",329],["T_WHITESPACE"," ",329],["T_STATIC","static",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","_createChild",329],"(",["T_VARIABLE","$data",329],")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_STRING","extract",331],"(",["T_VARIABLE","$data",331],")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$childNS",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$childValue",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_STRING","null",332],";",["T_WHITESPACE","\n        ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","is_object",333],"(",["T_VARIABLE","$value",333],")",["T_WHITESPACE"," ",333],["T_BOOLEAN_AND","&&",333],["T_WHITESPACE"," ",333],["T_STRING","method_exists",333],"(",["T_VARIABLE","$value",333],",",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'toArray'",333],")",["T_WHITESPACE"," ",333],["T_BOOLEAN_AND","&&",333],["T_WHITESPACE"," ",333],["T_STRING","is_callable",333],"(","[",["T_VARIABLE","$value",333],",",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'toArray'",333],"]",")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$value",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","call_user_func",334],"(","[",["T_VARIABLE","$value",334],",",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'toArray'",334],"]",")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_STRING","is_array",336],"(",["T_VARIABLE","$value",336],")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_ISSET","isset",337],"(",["T_VARIABLE","$value",337],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",337],"]",")",")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                ",337],["T_VARIABLE","$childValue",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING_CAST","(string)",338],["T_VARIABLE","$value",338],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",338],"]",";",["T_WHITESPACE","\n                ",338],["T_UNSET","unset",339],"(",["T_VARIABLE","$value",339],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",339],"]",")",";",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE","\n            ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_ISSET","isset",341],"(",["T_VARIABLE","$value",341],"[",["T_CONSTANT_ENCAPSED_STRING","'xmlns:'",341],"]",")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$childNS",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$value",342],"[",["T_CONSTANT_ENCAPSED_STRING","'xmlns:'",342],"]",";",["T_WHITESPACE","\n                ",342],["T_UNSET","unset",343],"(",["T_VARIABLE","$value",343],"[",["T_CONSTANT_ENCAPSED_STRING","'xmlns:'",343],"]",")",";",["T_WHITESPACE","\n            ",343],"}",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE"," ",345],["T_ELSEIF","elseif",345],["T_WHITESPACE"," ",345],"(","!",["T_EMPTY","empty",345],"(",["T_VARIABLE","$value",345],")",["T_WHITESPACE"," ",345],["T_BOOLEAN_OR","||",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$value",345],["T_WHITESPACE"," ",345],["T_IS_IDENTICAL","===",345],["T_WHITESPACE"," ",345],["T_LNUMBER","0",345],["T_WHITESPACE"," ",345],["T_BOOLEAN_OR","||",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$value",345],["T_WHITESPACE"," ",345],["T_IS_IDENTICAL","===",345],["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'0'",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$childValue",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING_CAST","(string)",346],["T_VARIABLE","$value",346],";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n\n        ",347],["T_VARIABLE","$child",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$dom",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","createElement",349],"(",["T_VARIABLE","$key",349],")",";",["T_WHITESPACE","\n        ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$childValue",350],["T_WHITESPACE"," ",350],["T_IS_NOT_IDENTICAL","!==",350],["T_WHITESPACE"," ",350],["T_STRING","null",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$child",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","appendChild",351],"(",["T_VARIABLE","$dom",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","createTextNode",351],"(",["T_VARIABLE","$childValue",351],")",")",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n        ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$childNS",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$child",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","setAttribute",354],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlns'",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$childNS",354],")",";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n\n        ",355],["T_STATIC","static",357],["T_DOUBLE_COLON","::",357],["T_STRING","_fromArray",357],"(",["T_VARIABLE","$dom",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$child",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$value",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$format",357],")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$node",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","appendChild",358],"(",["T_VARIABLE","$child",358],")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Returns this XML structure as an array.\n     *\n     * @param \\SimpleXMLElement|\\DOMDocument|\\DOMNode $obj SimpleXMLElement, DOMDocument or DOMNode instance\n     * @return array Array representation of the XML structure.\n     * @throws \\Cake\\Utility\\Exception\\XmlException\n     *\/",361],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_STATIC","static",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","toArray",368],"(",["T_VARIABLE","$obj",368],")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$obj",370],["T_WHITESPACE"," ",370],["T_INSTANCEOF","instanceof",370],["T_WHITESPACE"," ",370],["T_STRING","DOMNode",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$obj",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","simplexml_import_dom",371],"(",["T_VARIABLE","$obj",371],")",";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n        ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(","!","(",["T_VARIABLE","$obj",373],["T_WHITESPACE"," ",373],["T_INSTANCEOF","instanceof",373],["T_WHITESPACE"," ",373],["T_STRING","SimpleXMLElement",373],")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_THROW","throw",374],["T_WHITESPACE"," ",374],["T_NEW","new",374],["T_WHITESPACE"," ",374],["T_STRING","XmlException",374],"(",["T_CONSTANT_ENCAPSED_STRING","'The input is not instance of SimpleXMLElement, DOMDocument or DOMNode.'",374],")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$result",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],"[","]",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$namespaces",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","array_merge",377],"(","[",["T_CONSTANT_ENCAPSED_STRING","''",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","''",377],"]",",",["T_WHITESPACE"," ",377],["T_VARIABLE","$obj",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getNamespaces",377],"(",["T_STRING","true",377],")",")",";",["T_WHITESPACE","\n        ",377],["T_STATIC","static",378],["T_DOUBLE_COLON","::",378],["T_STRING","_toArray",378],"(",["T_VARIABLE","$obj",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$result",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","''",378],",",["T_WHITESPACE"," ",378],["T_STRING","array_keys",378],"(",["T_VARIABLE","$namespaces",378],")",")",";",["T_WHITESPACE","\n\n        ",378],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$result",380],";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n\n    ",381],["T_DOC_COMMENT","\/**\n     * Recursive method to toArray\n     *\n     * @param \\SimpleXMLElement $xml SimpleXMLElement object\n     * @param array $parentData Parent array with data\n     * @param string $ns Namespace of current child\n     * @param array $namespaces List of namespaces in XML\n     * @return void\n     *\/",383],["T_WHITESPACE","\n    ",391],["T_PROTECTED","protected",392],["T_WHITESPACE"," ",392],["T_STATIC","static",392],["T_WHITESPACE"," ",392],["T_FUNCTION","function",392],["T_WHITESPACE"," ",392],["T_STRING","_toArray",392],"(",["T_VARIABLE","$xml",392],",",["T_WHITESPACE"," ",392],"&",["T_VARIABLE","$parentData",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$ns",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$namespaces",392],")",["T_WHITESPACE","\n    ",392],"{",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$data",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],"[","]",";",["T_WHITESPACE","\n\n        ",394],["T_FOREACH","foreach",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$namespaces",396],["T_WHITESPACE"," ",396],["T_AS","as",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$namespace",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_FOREACH","foreach",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$xml",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","attributes",397],"(",["T_VARIABLE","$namespace",397],",",["T_WHITESPACE"," ",397],["T_STRING","true",397],")",["T_WHITESPACE"," ",397],["T_AS","as",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$key",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$value",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n                ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(","!",["T_EMPTY","empty",398],"(",["T_VARIABLE","$namespace",398],")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                    ",398],["T_VARIABLE","$key",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$namespace",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","':'",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_VARIABLE","$key",399],";",["T_WHITESPACE","\n                ",399],"}",["T_WHITESPACE","\n                ",400],["T_VARIABLE","$data",401],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_VARIABLE","$key",401],"]",["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING_CAST","(string)",401],["T_VARIABLE","$value",401],";",["T_WHITESPACE","\n            ",401],"}",["T_WHITESPACE","\n\n            ",402],["T_FOREACH","foreach",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$xml",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","children",404],"(",["T_VARIABLE","$namespace",404],",",["T_WHITESPACE"," ",404],["T_STRING","true",404],")",["T_WHITESPACE"," ",404],["T_AS","as",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$child",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                ",404],["T_STATIC","static",405],["T_DOUBLE_COLON","::",405],["T_STRING","_toArray",405],"(",["T_VARIABLE","$child",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$data",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$namespace",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$namespaces",405],")",";",["T_WHITESPACE","\n            ",405],"}",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_VARIABLE","$asString",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","trim",409],"(",["T_STRING_CAST","(string)",409],["T_VARIABLE","$xml",409],")",";",["T_WHITESPACE","\n        ",409],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_EMPTY","empty",410],"(",["T_VARIABLE","$data",410],")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$data",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$asString",411],";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE"," ",412],["T_ELSEIF","elseif",412],["T_WHITESPACE"," ",412],"(",["T_STRING","strlen",412],"(",["T_VARIABLE","$asString",412],")",["T_WHITESPACE"," ",412],">",["T_WHITESPACE"," ",412],["T_LNUMBER","0",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_VARIABLE","$data",413],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",413],"]",["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$asString",413],";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n\n        ",414],["T_IF","if",416],["T_WHITESPACE"," ",416],"(","!",["T_EMPTY","empty",416],"(",["T_VARIABLE","$ns",416],")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$ns",417],["T_WHITESPACE"," ",417],["T_CONCAT_EQUAL",".=",417],["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","':'",417],";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$name",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$ns",419],["T_WHITESPACE"," ",419],".",["T_WHITESPACE"," ",419],["T_VARIABLE","$xml",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getName",419],"(",")",";",["T_WHITESPACE","\n        ",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(",["T_ISSET","isset",420],"(",["T_VARIABLE","$parentData",420],"[",["T_VARIABLE","$name",420],"]",")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n            ",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(","!",["T_STRING","is_array",421],"(",["T_VARIABLE","$parentData",421],"[",["T_VARIABLE","$name",421],"]",")",["T_WHITESPACE"," ",421],["T_BOOLEAN_OR","||",421],["T_WHITESPACE"," ",421],"!",["T_ISSET","isset",421],"(",["T_VARIABLE","$parentData",421],"[",["T_VARIABLE","$name",421],"]","[",["T_LNUMBER","0",421],"]",")",")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n                ",421],["T_VARIABLE","$parentData",422],"[",["T_VARIABLE","$name",422],"]",["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],"[",["T_VARIABLE","$parentData",422],"[",["T_VARIABLE","$name",422],"]","]",";",["T_WHITESPACE","\n            ",422],"}",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$parentData",424],"[",["T_VARIABLE","$name",424],"]","[","]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$data",424],";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE"," ",425],["T_ELSE","else",425],["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$parentData",426],"[",["T_VARIABLE","$name",426],"]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$data",426],";",["T_WHITESPACE","\n        ",426],"}",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n",428],"}",["T_WHITESPACE","\n",429]]