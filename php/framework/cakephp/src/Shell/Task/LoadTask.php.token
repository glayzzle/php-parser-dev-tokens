[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Shell",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Task",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Console",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Shell",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Filesystem",18],["T_NS_SEPARATOR","\\",18],["T_STRING","File",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Task for loading plugins.\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","LoadTask",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","Shell",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Path to the bootstrap file.\n     *\n     * @var string\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$bootstrap",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","null",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Execution method always used for tasks.\n     *\n     * @param string|null $plugin The plugin name.\n     * @return bool\n     *\/",33],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","main",39],"(",["T_VARIABLE","$plugin",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","bootstrap",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","ROOT",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_STRING","DIRECTORY_SEPARATOR",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'config'",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_STRING","DIRECTORY_SEPARATOR",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'bootstrap.php'",41],";",["T_WHITESPACE","\n\n        ",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_EMPTY","empty",43],"(",["T_VARIABLE","$plugin",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","err",44],"(",["T_CONSTANT_ENCAPSED_STRING","'You must provide a plugin name in CamelCase format.'",44],")",";",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","err",45],"(",["T_CONSTANT_ENCAPSED_STRING","'To load an \"Example\" plugin, run `cake plugin load Example`.'",45],")",";",["T_WHITESPACE","\n\n            ",45],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_STRING","false",47],";",["T_WHITESPACE","\n        ",47],"}",["T_WHITESPACE","\n\n        ",48],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_modifyBootstrap",50],"(",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$plugin",51],",",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","params",52],"[",["T_CONSTANT_ENCAPSED_STRING","'bootstrap'",52],"]",",",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","params",53],"[",["T_CONSTANT_ENCAPSED_STRING","'routes'",53],"]",",",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","params",54],"[",["T_CONSTANT_ENCAPSED_STRING","'autoload'",54],"]",["T_WHITESPACE","\n        ",54],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Update the applications bootstrap.php file.\n     *\n     * @param string $plugin Name of plugin.\n     * @param bool $hasBootstrap Whether or not bootstrap should be loaded.\n     * @param bool $hasRoutes Whether or not routes should be loaded.\n     * @param bool $hasAutoloader Whether or not there is an autoloader configured for\n     * the plugin.\n     * @return bool If modify passed.\n     *\/",58],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","_modifyBootstrap",68],"(",["T_VARIABLE","$plugin",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$hasBootstrap",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$hasRoutes",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$hasAutoloader",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$bootstrap",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","File",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","bootstrap",70],",",["T_WHITESPACE"," ",70],["T_STRING","false",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$contents",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$bootstrap",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","read",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!",["T_STRING","preg_match",72],"(",["T_CONSTANT_ENCAPSED_STRING","\"@\\n\\s*Plugin::loadAll@\"",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$contents",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$autoloadString",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$hasAutoloader",73],["T_WHITESPACE"," ",73],"?",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","\"'autoload' => true\"",73],["T_WHITESPACE"," ",73],":",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","''",73],";",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$bootstrapString",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$hasBootstrap",74],["T_WHITESPACE"," ",74],"?",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","\"'bootstrap' => true\"",74],["T_WHITESPACE"," ",74],":",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","''",74],";",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$routesString",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$hasRoutes",75],["T_WHITESPACE"," ",75],"?",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"'routes' => true\"",75],["T_WHITESPACE"," ",75],":",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","''",75],";",["T_WHITESPACE","\n\n            ",75],["T_VARIABLE","$append",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"\\nPlugin::load('%s', [%s]);\\n\"",77],";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$options",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","implode",78],"(",["T_CONSTANT_ENCAPSED_STRING","', '",78],",",["T_WHITESPACE"," ",78],["T_STRING","array_filter",78],"(","[",["T_VARIABLE","$autoloadString",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$bootstrapString",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$routesString",78],"]",")",")",";",["T_WHITESPACE","\n\n            ",78],["T_VARIABLE","$bootstrap",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","append",80],"(",["T_STRING","str_replace",80],"(",["T_CONSTANT_ENCAPSED_STRING","', []'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","''",80],",",["T_WHITESPACE"," ",80],["T_STRING","sprintf",80],"(",["T_VARIABLE","$append",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$plugin",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$options",80],")",")",")",";",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","out",81],"(",["T_CONSTANT_ENCAPSED_STRING","''",81],")",";",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","out",82],"(",["T_STRING","sprintf",82],"(",["T_CONSTANT_ENCAPSED_STRING","'%s modified'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","bootstrap",82],")",")",";",["T_WHITESPACE","\n\n            ",82],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","true",84],";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * GetOptionParser method.\n     *\n     * @return \\Cake\\Console\\ConsoleOptionParser\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getOptionParser",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$parser",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","parent",97],["T_DOUBLE_COLON","::",97],["T_STRING","getOptionParser",97],"(",")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$parser",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","addOption",99],"(",["T_CONSTANT_ENCAPSED_STRING","'bootstrap'",99],",",["T_WHITESPACE"," ",99],"[",["T_WHITESPACE","\n                    ",99],["T_CONSTANT_ENCAPSED_STRING","'short'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'b'",100],",",["T_WHITESPACE","\n                    ",100],["T_CONSTANT_ENCAPSED_STRING","'help'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Will load bootstrap.php from plugin.'",101],",",["T_WHITESPACE","\n                    ",101],["T_CONSTANT_ENCAPSED_STRING","'boolean'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","true",102],",",["T_WHITESPACE","\n                    ",102],["T_CONSTANT_ENCAPSED_STRING","'default'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","false",103],",",["T_WHITESPACE","\n                ",103],"]",")",["T_WHITESPACE","\n                ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","addOption",105],"(",["T_CONSTANT_ENCAPSED_STRING","'routes'",105],",",["T_WHITESPACE"," ",105],"[",["T_WHITESPACE","\n                    ",105],["T_CONSTANT_ENCAPSED_STRING","'short'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'r'",106],",",["T_WHITESPACE","\n                    ",106],["T_CONSTANT_ENCAPSED_STRING","'help'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Will load routes.php from plugin.'",107],",",["T_WHITESPACE","\n                    ",107],["T_CONSTANT_ENCAPSED_STRING","'boolean'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","true",108],",",["T_WHITESPACE","\n                    ",108],["T_CONSTANT_ENCAPSED_STRING","'default'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","false",109],",",["T_WHITESPACE","\n                ",109],"]",")",["T_WHITESPACE","\n                ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","addOption",111],"(",["T_CONSTANT_ENCAPSED_STRING","'autoload'",111],",",["T_WHITESPACE"," ",111],"[",["T_WHITESPACE","\n                    ",111],["T_CONSTANT_ENCAPSED_STRING","'help'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Will autoload the plugin using CakePHP. '",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE","\n                        ",112],["T_CONSTANT_ENCAPSED_STRING","'Set to true if you are not using composer to autoload your plugin.'",113],",",["T_WHITESPACE","\n                    ",113],["T_CONSTANT_ENCAPSED_STRING","'boolean'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_STRING","true",114],",",["T_WHITESPACE","\n                    ",114],["T_CONSTANT_ENCAPSED_STRING","'default'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_STRING","false",115],",",["T_WHITESPACE","\n                ",115],"]",")",["T_WHITESPACE","\n                ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","addArgument",117],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin'",117],",",["T_WHITESPACE"," ",117],"[",["T_WHITESPACE","\n                    ",117],["T_CONSTANT_ENCAPSED_STRING","'help'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Name of the plugin to load.'",118],",",["T_WHITESPACE","\n                ",118],"]",")",";",["T_WHITESPACE","\n\n        ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$parser",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n",122],"}",["T_WHITESPACE","\n",123]]