[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Controller",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Datasource",18],["T_NS_SEPARATOR","\\",18],["T_STRING","QueryInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Datasource",19],["T_NS_SEPARATOR","\\",19],["T_STRING","RepositoryInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Network",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Exception",20],["T_NS_SEPARATOR","\\",20],["T_STRING","NotFoundException",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Utility",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Hash",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * This component is used to handle automatic model data pagination. The primary way to use this\n * component is to call the paginate() method. There is a convenience wrapper on Controller as well.\n *\n * ### Configuring pagination\n *\n * You configure pagination when calling paginate(). See that method for more details.\n *\n * @link http:\/\/book.cakephp.org\/3.0\/en\/controllers\/components\/pagination.html\n *\/",23],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","PaginatorComponent",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Component",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Default pagination settings.\n     *\n     * When calling paginate() these settings will be merged with the configuration\n     * you provide.\n     *\n     * - `maxLimit` - The maximum limit users can choose to view. Defaults to 100\n     * - `limit` - The initial number of items per page. Defaults to 20.\n     * - `page` - The starting page, defaults to 1.\n     * - `whitelist` - A list of parameters users are allowed to set using request\n     *   parameters. Modifying this list will allow users to have more influence\n     *   over pagination, be careful with what you permit.\n     *\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_defaultConfig",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'page'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_LNUMBER","1",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'limit'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_LNUMBER","20",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'maxLimit'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","100",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'whitelist'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'sort'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'page'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'direction'",55],"]",["T_WHITESPACE","\n    ",55],"]",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Events supported by this component.\n     *\n     * @return array\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","implementedEvents",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],"[","]",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Handles automatic pagination of model records.\n     *\n     * ### Configuring pagination\n     *\n     * When calling `paginate()` you can use the $settings parameter to pass in pagination settings.\n     * These settings are used to build the queries made and control other pagination settings.\n     *\n     * If your settings contain a key with the current table's alias. The data inside that key will be used.\n     * Otherwise the top level configuration will be used.\n     *\n     * ```\n     *  $settings = [\n     *    'limit' => 20,\n     *    'maxLimit' => 100\n     *  ];\n     *  $results = $paginator->paginate($table, $settings);\n     * ```\n     *\n     * The above settings will be used to paginate any Table. You can configure Table specific settings by\n     * keying the settings with the Table alias.\n     *\n     * ```\n     *  $settings = [\n     *    'Articles' => [\n     *      'limit' => 20,\n     *      'maxLimit' => 100\n     *    ],\n     *    'Comments' => [ ... ]\n     *  ];\n     *  $results = $paginator->paginate($table, $settings);\n     * ```\n     *\n     * This would allow you to have different pagination settings for `Articles` and `Comments` tables.\n     *\n     * ### Controlling sort fields\n     *\n     * By default CakePHP will automatically allow sorting on any column on the table object being\n     * paginated. Often times you will want to allow sorting on either associated columns or calculated\n     * fields. In these cases you will need to define a whitelist of all the columns you wish to allow\n     * sorting on. You can define the whitelist in the `$settings` parameter:\n     *\n     * ```\n     * $settings = [\n     *   'Articles' => [\n     *     'finder' => 'custom',\n     *     'sortWhitelist' => ['title', 'author_id', 'comment_count'],\n     *   ]\n     * ];\n     * ```\n     *\n     * Passing an empty array as whitelist disallows sorting altogether.\n     *\n     * ### Paginating with custom finders\n     *\n     * You can paginate with any find type defined on your table using the `finder` option.\n     *\n     * ```\n     *  $settings = [\n     *    'Articles' => [\n     *      'finder' => 'popular'\n     *    ]\n     *  ];\n     *  $results = $paginator->paginate($table, $settings);\n     * ```\n     *\n     * Would paginate using the `find('popular')` method.\n     *\n     * You can also pass an already created instance of a query to this method:\n     *\n     * ```\n     * $query = $this->Articles->find('popular')->matching('Tags', function ($q) {\n     *   return $q->where(['name' => 'CakePHP'])\n     * });\n     * $results = $paginator->paginate($query);\n     * ```\n     *\n     * ### Scoping Request parameters\n     *\n     * By using request parameter scopes you can paginate multiple queries in the same controller action:\n     *\n     * ```\n     * $articles = $paginator->paginate($articlesQuery, ['scope' => 'articles']);\n     * $tags = $paginator->paginate($tagsQuery, ['scope' => 'tags']);\n     * ```\n     *\n     * Each of the above queries will use different query string parameter sets\n     * for pagination data. An example URL paginating both results would be:\n     *\n     * ```\n     * \/dashboard?articles[page]=1&tags[page]=2\n     * ```\n     *\n     * @param \\Cake\\Datasource\\RepositoryInterface|\\Cake\\Datasource\\QueryInterface $object The table or query to paginate.\n     * @param array $settings The settings\/configuration used for pagination.\n     * @return \\Cake\\Datasource\\ResultSetInterface Query results\n     * @throws \\Cake\\Network\\Exception\\NotFoundException\n     *\/",68],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","paginate",166],"(",["T_VARIABLE","$object",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$settings",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],"[","]",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$object",168],["T_WHITESPACE"," ",168],["T_INSTANCEOF","instanceof",168],["T_WHITESPACE"," ",168],["T_STRING","QueryInterface",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$query",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$object",169],";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$object",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$query",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","repository",170],"(",")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$alias",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$object",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","alias",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$options",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","mergeOptions",174],"(",["T_VARIABLE","$alias",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$settings",174],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$options",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","validateSort",175],"(",["T_VARIABLE","$object",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$options",175],")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$options",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","checkLimit",176],"(",["T_VARIABLE","$options",176],")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$options",178],["T_WHITESPACE"," ",178],["T_PLUS_EQUAL","+=",178],["T_WHITESPACE"," ",178],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_LNUMBER","1",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'scope'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","null",178],"]",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$options",179],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_INT_CAST","(int)",179],["T_VARIABLE","$options",179],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",179],"]",["T_WHITESPACE"," ",179],"<",["T_WHITESPACE"," ",179],["T_LNUMBER","1",179],["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_LNUMBER","1",179],["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],["T_INT_CAST","(int)",179],["T_VARIABLE","$options",179],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",179],"]",";",["T_WHITESPACE","\n        ",179],["T_LIST","list",180],"(",["T_VARIABLE","$finder",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$options",180],")",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_extractFinder",180],"(",["T_VARIABLE","$options",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_COMMENT","\/* @var \\Cake\\Datasource\\RepositoryInterface $object *\/",182],["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_EMPTY","empty",183],"(",["T_VARIABLE","$query",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$query",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$object",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","find",184],"(",["T_VARIABLE","$finder",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$options",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$query",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","applyOptions",186],"(",["T_VARIABLE","$options",186],")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$results",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$query",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","all",189],"(",")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$numResults",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","count",190],"(",["T_VARIABLE","$results",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$count",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$numResults",191],["T_WHITESPACE"," ",191],"?",["T_WHITESPACE"," ",191],["T_VARIABLE","$query",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","count",191],"(",")",["T_WHITESPACE"," ",191],":",["T_WHITESPACE"," ",191],["T_LNUMBER","0",191],";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$defaults",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getDefaults",193],"(",["T_VARIABLE","$alias",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$settings",193],")",";",["T_WHITESPACE","\n        ",193],["T_UNSET","unset",194],"(",["T_VARIABLE","$defaults",194],"[",["T_LNUMBER","0",194],"]",")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$page",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$options",196],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",196],"]",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$limit",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$options",197],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",197],"]",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$pageCount",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_INT_CAST","(int)",198],["T_STRING","ceil",198],"(",["T_VARIABLE","$count",198],["T_WHITESPACE"," ",198],"\/",["T_WHITESPACE"," ",198],["T_VARIABLE","$limit",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$requestedPage",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$page",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$page",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","max",200],"(",["T_STRING","min",200],"(",["T_VARIABLE","$page",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$pageCount",200],")",",",["T_WHITESPACE"," ",200],["T_LNUMBER","1",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$request",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_registry",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getController",201],"(",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","request",201],";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$order",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_ARRAY_CAST","(array)",203],["T_VARIABLE","$options",203],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",203],"]",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$sortDefault",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$directionDefault",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","false",204],";",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(","!",["T_EMPTY","empty",205],"(",["T_VARIABLE","$defaults",205],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",205],"]",")",["T_WHITESPACE"," ",205],["T_BOOLEAN_AND","&&",205],["T_WHITESPACE"," ",205],["T_STRING","count",205],"(",["T_VARIABLE","$defaults",205],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",205],"]",")",["T_WHITESPACE"," ",205],["T_IS_EQUAL","==",205],["T_WHITESPACE"," ",205],["T_LNUMBER","1",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$sortDefault",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","key",206],"(",["T_VARIABLE","$defaults",206],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",206],"]",")",";",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$directionDefault",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","current",207],"(",["T_VARIABLE","$defaults",207],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",207],"]",")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$paging",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","'finder'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$finder",211],",",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'page'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$page",212],",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'current'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$numResults",213],",",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","'count'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$count",214],",",["T_WHITESPACE","\n            ",214],["T_CONSTANT_ENCAPSED_STRING","'perPage'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$limit",215],",",["T_WHITESPACE","\n            ",215],["T_CONSTANT_ENCAPSED_STRING","'prevPage'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$page",216],["T_WHITESPACE"," ",216],">",["T_WHITESPACE"," ",216],["T_LNUMBER","1",216],")",",",["T_WHITESPACE","\n            ",216],["T_CONSTANT_ENCAPSED_STRING","'nextPage'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$count",217],["T_WHITESPACE"," ",217],">",["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$page",217],["T_WHITESPACE"," ",217],"*",["T_WHITESPACE"," ",217],["T_VARIABLE","$limit",217],")",")",",",["T_WHITESPACE","\n            ",217],["T_CONSTANT_ENCAPSED_STRING","'pageCount'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$pageCount",218],",",["T_WHITESPACE","\n            ",218],["T_CONSTANT_ENCAPSED_STRING","'sort'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_STRING","key",219],"(",["T_VARIABLE","$order",219],")",",",["T_WHITESPACE","\n            ",219],["T_CONSTANT_ENCAPSED_STRING","'direction'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_STRING","current",220],"(",["T_VARIABLE","$order",220],")",",",["T_WHITESPACE","\n            ",220],["T_CONSTANT_ENCAPSED_STRING","'limit'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$defaults",221],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",221],"]",["T_WHITESPACE"," ",221],["T_IS_NOT_EQUAL","!=",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$limit",221],["T_WHITESPACE"," ",221],"?",["T_WHITESPACE"," ",221],["T_VARIABLE","$limit",221],["T_WHITESPACE"," ",221],":",["T_WHITESPACE"," ",221],["T_STRING","null",221],",",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'sortDefault'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$sortDefault",222],",",["T_WHITESPACE","\n            ",222],["T_CONSTANT_ENCAPSED_STRING","'directionDefault'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$directionDefault",223],",",["T_WHITESPACE","\n            ",223],["T_CONSTANT_ENCAPSED_STRING","'scope'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$options",224],"[",["T_CONSTANT_ENCAPSED_STRING","'scope'",224],"]",",",["T_WHITESPACE","\n        ",224],"]",";",["T_WHITESPACE","\n\n        ",225],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_ISSET","isset",227],"(",["T_VARIABLE","$request",227],"[",["T_CONSTANT_ENCAPSED_STRING","'paging'",227],"]",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$request",228],"[",["T_CONSTANT_ENCAPSED_STRING","'paging'",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],"[","]",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$request",230],"[",["T_CONSTANT_ENCAPSED_STRING","'paging'",230],"]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],"[",["T_VARIABLE","$alias",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$paging",230],"]",["T_WHITESPACE"," ",230],"+",["T_WHITESPACE"," ",230],["T_ARRAY_CAST","(array)",230],["T_VARIABLE","$request",230],"[",["T_CONSTANT_ENCAPSED_STRING","'paging'",230],"]",";",["T_WHITESPACE","\n\n        ",230],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$requestedPage",232],["T_WHITESPACE"," ",232],">",["T_WHITESPACE"," ",232],["T_VARIABLE","$page",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_THROW","throw",233],["T_WHITESPACE"," ",233],["T_NEW","new",233],["T_WHITESPACE"," ",233],["T_STRING","NotFoundException",233],"(",")",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$results",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Extracts the finder name and options out of the provided pagination options\n     *\n     * @param array $options the pagination options\n     * @return array An array containing in the first position the finder name and\n     * in the second the options to be passed to it\n     *\/",239],["T_WHITESPACE","\n    ",245],["T_PROTECTED","protected",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","_extractFinder",246],"(",["T_VARIABLE","$options",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$type",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],"!",["T_EMPTY","empty",248],"(",["T_VARIABLE","$options",248],"[",["T_CONSTANT_ENCAPSED_STRING","'finder'",248],"]",")",["T_WHITESPACE"," ",248],"?",["T_WHITESPACE"," ",248],["T_VARIABLE","$options",248],"[",["T_CONSTANT_ENCAPSED_STRING","'finder'",248],"]",["T_WHITESPACE"," ",248],":",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'all'",248],";",["T_WHITESPACE","\n        ",248],["T_UNSET","unset",249],"(",["T_VARIABLE","$options",249],"[",["T_CONSTANT_ENCAPSED_STRING","'finder'",249],"]",",",["T_WHITESPACE"," ",249],["T_VARIABLE","$options",249],"[",["T_CONSTANT_ENCAPSED_STRING","'maxLimit'",249],"]",")",";",["T_WHITESPACE","\n\n        ",249],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_STRING","is_array",251],"(",["T_VARIABLE","$type",251],")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$options",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY_CAST","(array)",252],["T_STRING","current",252],"(",["T_VARIABLE","$type",252],")",["T_WHITESPACE"," ",252],"+",["T_WHITESPACE"," ",252],["T_VARIABLE","$options",252],";",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$type",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","key",253],"(",["T_VARIABLE","$type",253],")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n\n        ",254],["T_RETURN","return",256],["T_WHITESPACE"," ",256],"[",["T_VARIABLE","$type",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$options",256],"]",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Merges the various options that Pagination uses.\n     * Pulls settings together from the following places:\n     *\n     * - General pagination settings\n     * - Model specific settings.\n     * - Request parameters\n     *\n     * The result of this method is the aggregate of all the option sets combined together. You can change\n     * config value `whitelist` to modify which options\/values can be set using request parameters.\n     *\n     * @param string $alias Model alias being paginated, if the general settings has a key with this value\n     *   that key's settings will be used for pagination instead of the general ones.\n     * @param array $settings The settings to merge with the request data.\n     * @return array Array of merged options.\n     *\/",259],["T_WHITESPACE","\n    ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","mergeOptions",275],"(",["T_VARIABLE","$alias",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$settings",275],")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$defaults",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getDefaults",277],"(",["T_VARIABLE","$alias",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$settings",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$request",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_registry",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getController",278],"(",")",["T_OBJECT_OPERATOR","->",278],["T_STRING","request",278],";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$scope",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","Hash",279],["T_DOUBLE_COLON","::",279],["T_STRING","get",279],"(",["T_VARIABLE","$settings",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'scope'",279],",",["T_WHITESPACE"," ",279],["T_STRING","null",279],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$query",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$request",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","query",280],";",["T_WHITESPACE","\n        ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$scope",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$query",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","Hash",282],["T_DOUBLE_COLON","::",282],["T_STRING","get",282],"(",["T_VARIABLE","$request",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","query",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$scope",282],",",["T_WHITESPACE"," ",282],"[","]",")",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$request",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","array_intersect_key",284],"(",["T_VARIABLE","$query",284],",",["T_WHITESPACE"," ",284],["T_STRING","array_flip",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_config",284],"[",["T_CONSTANT_ENCAPSED_STRING","'whitelist'",284],"]",")",")",";",["T_WHITESPACE","\n\n        ",284],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","array_merge",286],"(",["T_VARIABLE","$defaults",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$request",286],")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Get the settings for a $model. If there are no settings for a specific model, the general settings\n     * will be used.\n     *\n     * @param string $alias Model name to get settings for.\n     * @param array $settings The settings which is used for combining.\n     * @return array An array of pagination settings for a model, or the general settings.\n     *\/",289],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","getDefaults",297],"(",["T_VARIABLE","$alias",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$settings",297],")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_ISSET","isset",299],"(",["T_VARIABLE","$settings",299],"[",["T_VARIABLE","$alias",299],"]",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$settings",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$settings",300],"[",["T_VARIABLE","$alias",300],"]",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n\n        ",301],["T_VARIABLE","$defaults",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","config",303],"(",")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$maxLimit",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_ISSET","isset",304],"(",["T_VARIABLE","$settings",304],"[",["T_CONSTANT_ENCAPSED_STRING","'maxLimit'",304],"]",")",["T_WHITESPACE"," ",304],"?",["T_WHITESPACE"," ",304],["T_VARIABLE","$settings",304],"[",["T_CONSTANT_ENCAPSED_STRING","'maxLimit'",304],"]",["T_WHITESPACE"," ",304],":",["T_WHITESPACE"," ",304],["T_VARIABLE","$defaults",304],"[",["T_CONSTANT_ENCAPSED_STRING","'maxLimit'",304],"]",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$limit",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_ISSET","isset",305],"(",["T_VARIABLE","$settings",305],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",305],"]",")",["T_WHITESPACE"," ",305],"?",["T_WHITESPACE"," ",305],["T_VARIABLE","$settings",305],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",305],"]",["T_WHITESPACE"," ",305],":",["T_WHITESPACE"," ",305],["T_VARIABLE","$defaults",305],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",305],"]",";",["T_WHITESPACE","\n\n        ",305],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$limit",307],["T_WHITESPACE"," ",307],">",["T_WHITESPACE"," ",307],["T_VARIABLE","$maxLimit",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$limit",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$maxLimit",308],";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$settings",311],"[",["T_CONSTANT_ENCAPSED_STRING","'maxLimit'",311],"]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$maxLimit",311],";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$settings",312],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$limit",312],";",["T_WHITESPACE","\n\n        ",312],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$settings",314],["T_WHITESPACE"," ",314],"+",["T_WHITESPACE"," ",314],["T_VARIABLE","$defaults",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Validate that the desired sorting can be performed on the $object. Only fields or\n     * virtualFields can be sorted on. The direction param will also be sanitized. Lastly\n     * sort + direction keys will be converted into the model friendly order key.\n     *\n     * You can use the whitelist parameter to control which columns\/fields are available for sorting.\n     * This helps prevent users from ordering large result sets on un-indexed values.\n     *\n     * If you need to sort on associated columns or synthetic properties you will need to use a whitelist.\n     *\n     * Any columns listed in the sort whitelist will be implicitly trusted. You can use this to sort\n     * on synthetic columns, or columns added in custom find operations that may not exist in the schema.\n     *\n     * @param \\Cake\\Datasource\\RepositoryInterface $object Repository object.\n     * @param array $options The pagination options being used for this request.\n     * @return array An array of options with sort + direction removed and replaced with order if possible.\n     *\/",317],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","validateSort",334],"(",["T_STRING","RepositoryInterface",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$object",334],",",["T_WHITESPACE"," ",334],["T_ARRAY","array",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$options",334],")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_ISSET","isset",336],"(",["T_VARIABLE","$options",336],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",336],"]",")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$direction",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_STRING","null",337],";",["T_WHITESPACE","\n            ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_ISSET","isset",338],"(",["T_VARIABLE","$options",338],"[",["T_CONSTANT_ENCAPSED_STRING","'direction'",338],"]",")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$direction",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_STRING","strtolower",339],"(",["T_VARIABLE","$options",339],"[",["T_CONSTANT_ENCAPSED_STRING","'direction'",339],"]",")",";",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE","\n            ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(","!",["T_STRING","in_array",341],"(",["T_VARIABLE","$direction",341],",",["T_WHITESPACE"," ",341],"[",["T_CONSTANT_ENCAPSED_STRING","'asc'",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'desc'",341],"]",")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$direction",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'asc'",342],";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$options",344],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",344],"]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],"[",["T_VARIABLE","$options",344],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",344],"]",["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$direction",344],"]",";",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n        ",345],["T_UNSET","unset",346],"(",["T_VARIABLE","$options",346],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",346],"]",",",["T_WHITESPACE"," ",346],["T_VARIABLE","$options",346],"[",["T_CONSTANT_ENCAPSED_STRING","'direction'",346],"]",")",";",["T_WHITESPACE","\n\n        ",346],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_EMPTY","empty",348],"(",["T_VARIABLE","$options",348],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",348],"]",")",")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_VARIABLE","$options",349],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",349],"]",["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],"[","]",";",["T_WHITESPACE","\n        ",349],"}",["T_WHITESPACE","\n        ",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(","!",["T_STRING","is_array",351],"(",["T_VARIABLE","$options",351],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",351],"]",")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$options",352],";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n\n        ",353],["T_VARIABLE","$inWhitelist",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_STRING","false",355],";",["T_WHITESPACE","\n        ",355],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_ISSET","isset",356],"(",["T_VARIABLE","$options",356],"[",["T_CONSTANT_ENCAPSED_STRING","'sortWhitelist'",356],"]",")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$field",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","key",357],"(",["T_VARIABLE","$options",357],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",357],"]",")",";",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$inWhitelist",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","in_array",358],"(",["T_VARIABLE","$field",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$options",358],"[",["T_CONSTANT_ENCAPSED_STRING","'sortWhitelist'",358],"]",",",["T_WHITESPACE"," ",358],["T_STRING","true",358],")",";",["T_WHITESPACE","\n            ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(","!",["T_VARIABLE","$inWhitelist",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n                ",359],["T_VARIABLE","$options",360],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",360],"]",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],"[","]",";",["T_WHITESPACE","\n\n                ",360],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$options",362],";",["T_WHITESPACE","\n            ",362],"}",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n\n        ",364],["T_VARIABLE","$options",366],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_prefix",366],"(",["T_VARIABLE","$object",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$options",366],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",366],"]",",",["T_WHITESPACE"," ",366],["T_VARIABLE","$inWhitelist",366],")",";",["T_WHITESPACE","\n\n        ",366],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$options",368],";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * Prefixes the field with the table alias if possible.\n     *\n     * @param \\Cake\\Datasource\\RepositoryInterface $object Repository object.\n     * @param array $order Order array.\n     * @param bool $whitelisted Whether or not the field was whitelisted\n     * @return array Final order array.\n     *\/",371],["T_WHITESPACE","\n    ",378],["T_PROTECTED","protected",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","_prefix",379],"(",["T_STRING","RepositoryInterface",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$object",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$order",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$whitelisted",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","false",379],")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$tableAlias",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$object",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","alias",381],"(",")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$tableOrder",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],"[","]",";",["T_WHITESPACE","\n        ",382],["T_FOREACH","foreach",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$order",383],["T_WHITESPACE"," ",383],["T_AS","as",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$key",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$value",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_STRING","is_numeric",384],"(",["T_VARIABLE","$key",384],")",")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                ",384],["T_VARIABLE","$tableOrder",385],"[","]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$value",385],";",["T_WHITESPACE","\n                ",385],["T_CONTINUE","continue",386],";",["T_WHITESPACE","\n            ",386],"}",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$field",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$key",388],";",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$alias",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$tableAlias",389],";",["T_WHITESPACE","\n\n            ",389],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_STRING","strpos",391],"(",["T_VARIABLE","$key",391],",",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'.'",391],")",["T_WHITESPACE"," ",391],["T_IS_NOT_IDENTICAL","!==",391],["T_WHITESPACE"," ",391],["T_STRING","false",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n                ",391],["T_LIST","list",392],"(",["T_VARIABLE","$alias",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$field",392],")",["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_STRING","explode",392],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$key",392],")",";",["T_WHITESPACE","\n            ",392],"}",["T_WHITESPACE","\n            ",393],["T_VARIABLE","$correctAlias",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$tableAlias",394],["T_WHITESPACE"," ",394],["T_IS_IDENTICAL","===",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$alias",394],")",";",["T_WHITESPACE","\n\n            ",394],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$correctAlias",396],["T_WHITESPACE"," ",396],["T_BOOLEAN_AND","&&",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$whitelisted",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n                ",396],["T_COMMENT","\/\/ Disambiguate fields in schema. As id is quite common.\n",397],["T_WHITESPACE","                ",398],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$object",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","hasField",398],"(",["T_VARIABLE","$field",398],")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                    ",398],["T_VARIABLE","$field",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$alias",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'.'",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_VARIABLE","$field",399],";",["T_WHITESPACE","\n                ",399],"}",["T_WHITESPACE","\n                ",400],["T_VARIABLE","$tableOrder",401],"[",["T_VARIABLE","$field",401],"]",["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$value",401],";",["T_WHITESPACE","\n            ",401],"}",["T_WHITESPACE"," ",402],["T_ELSEIF","elseif",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$correctAlias",402],["T_WHITESPACE"," ",402],["T_BOOLEAN_AND","&&",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$object",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","hasField",402],"(",["T_VARIABLE","$field",402],")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                ",402],["T_VARIABLE","$tableOrder",403],"[",["T_VARIABLE","$tableAlias",403],["T_WHITESPACE"," ",403],".",["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'.'",403],["T_WHITESPACE"," ",403],".",["T_WHITESPACE"," ",403],["T_VARIABLE","$field",403],"]",["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$value",403],";",["T_WHITESPACE","\n            ",403],"}",["T_WHITESPACE"," ",404],["T_ELSEIF","elseif",404],["T_WHITESPACE"," ",404],"(","!",["T_VARIABLE","$correctAlias",404],["T_WHITESPACE"," ",404],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$whitelisted",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                ",404],["T_VARIABLE","$tableOrder",405],"[",["T_VARIABLE","$alias",405],["T_WHITESPACE"," ",405],".",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'.'",405],["T_WHITESPACE"," ",405],".",["T_WHITESPACE"," ",405],["T_VARIABLE","$field",405],"]",["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$value",405],";",["T_WHITESPACE","\n            ",405],"}",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$tableOrder",409],";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * Check the limit parameter and ensure it's within the maxLimit bounds.\n     *\n     * @param array $options An array of options with a limit key to be checked.\n     * @return array An array of options for pagination\n     *\/",412],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","checkLimit",418],"(",["T_ARRAY","array",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$options",418],")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$options",420],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",420],"]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_INT_CAST","(int)",420],["T_VARIABLE","$options",420],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",420],"]",";",["T_WHITESPACE","\n        ",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_EMPTY","empty",421],"(",["T_VARIABLE","$options",421],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",421],"]",")",["T_WHITESPACE"," ",421],["T_BOOLEAN_OR","||",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$options",421],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",421],"]",["T_WHITESPACE"," ",421],"<",["T_WHITESPACE"," ",421],["T_LNUMBER","1",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$options",422],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",422],"]",["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_LNUMBER","1",422],";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$options",424],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",424],"]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","max",424],"(",["T_STRING","min",424],"(",["T_VARIABLE","$options",424],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",424],"]",",",["T_WHITESPACE"," ",424],["T_VARIABLE","$options",424],"[",["T_CONSTANT_ENCAPSED_STRING","'maxLimit'",424],"]",")",",",["T_WHITESPACE"," ",424],["T_LNUMBER","1",424],")",";",["T_WHITESPACE","\n\n        ",424],["T_RETURN","return",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$options",426],";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n",427],"}",["T_WHITESPACE","\n",428]]