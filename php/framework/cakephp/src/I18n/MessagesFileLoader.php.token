[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","I18n",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Aura",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Intl",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Package",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","App",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Plugin",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Utility",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Inflector",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Locale",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","RuntimeException",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * A generic translations package factory that will load translations files\n * based on the file extension and the package name.\n *\n * This class is a callable, so it can be used as a package loader argument.\n *\/",24],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","MessagesFileLoader",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * The package (domain) name.\n     *\n     * @var string\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_name",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * The locale to load for the given package.\n     *\n     * @var string\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_locale",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * The extension name.\n     *\n     * @var string\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_extension",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Creates a translation file loader. The file to be loaded corresponds to\n     * the following rules:\n     *\n     * - The locale is a folder under the `Locale` directory, a fallback will be\n     *   used if the folder is not found.\n     * - The $name corresponds to the file name to load\n     * - If there is a loaded plugin with the underscored version of $name, the\n     *   translation file will be loaded from such plugin.\n     *\n     * ### Examples:\n     *\n     * Load and parse src\/Locale\/fr\/validation.po\n     *\n     * ```\n     * $loader = new MessagesFileLoader('validation', 'fr_FR', 'po');\n     * $package = $loader();\n     * ```\n     *\n     * Load and parse  src\/Locale\/fr_FR\/validation.mo\n     *\n     * ```\n     * $loader = new MessagesFileLoader('validation', 'fr_FR', 'mo');\n     * $package = $loader();\n     * ```\n     *\n     * Load the plugins\/MyPlugin\/src\/Locale\/fr\/my_plugin.po file:\n     *\n     * ```\n     * $loader = new MessagesFileLoader('my_plugin', 'fr_FR', 'mo');\n     * $package = $loader();\n     * ```\n     *\n     * @param string $name The name (domain) of the translations package.\n     * @param string $locale The locale to load, this will be mapped to a folder\n     * in the system.\n     * @param string $extension The file extension to use. This will also be mapped\n     * to a messages parser class.\n     *\/",54],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__construct",93],"(",["T_VARIABLE","$name",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$locale",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$extension",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'po'",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_name",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$name",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_locale",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$locale",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_extension",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$extension",97],";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Loads the translation file and parses it. Returns an instance of a translations\n     * package containing the messages loaded from the file.\n     *\n     * @return \\Aura\\Intl\\Package\n     * @throws \\RuntimeException if no file parser class could be found for the specified\n     * file extension.\n     *\/",100],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","__invoke",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$package",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","Package",110],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$folders",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","translationsFolders",111],"(",")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$ext",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_extension",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$file",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","false",113],";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$fileName",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_name",115],";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$pos",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","strpos",116],"(",["T_VARIABLE","$fileName",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'\/'",116],")",";",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$pos",117],["T_WHITESPACE"," ",117],["T_IS_NOT_IDENTICAL","!==",117],["T_WHITESPACE"," ",117],["T_STRING","false",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$fileName",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","substr",118],"(",["T_VARIABLE","$fileName",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$pos",118],["T_WHITESPACE"," ",118],"+",["T_WHITESPACE"," ",118],["T_LNUMBER","1",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_FOREACH","foreach",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$folders",120],["T_WHITESPACE"," ",120],["T_AS","as",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$folder",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$path",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$folder",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$fileName",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],"\"",["T_ENCAPSED_AND_WHITESPACE",".",121],["T_VARIABLE","$ext",121],"\"",";",["T_WHITESPACE","\n            ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_STRING","is_file",122],"(",["T_VARIABLE","$path",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$file",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$path",123],";",["T_WHITESPACE","\n                ",123],["T_BREAK","break",124],";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_VARIABLE","$file",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$package",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$name",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","ucfirst",132],"(",["T_VARIABLE","$ext",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$class",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","App",133],["T_DOUBLE_COLON","::",133],["T_STRING","classname",133],"(",["T_VARIABLE","$name",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'I18n\\Parser'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'FileParser'",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$class",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_THROW","throw",136],["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_STRING","RuntimeException",136],"(",["T_STRING","sprintf",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not find class %s'",136],",",["T_WHITESPACE"," ",136],"\"",["T_CURLY_OPEN","{",136],["T_VARIABLE","$name",136],"}",["T_ENCAPSED_AND_WHITESPACE","FileParser",136],"\"",")",")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$messages",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"(",["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$class",139],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","parse",139],"(",["T_VARIABLE","$file",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$package",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setMessages",140],"(",["T_VARIABLE","$messages",140],")",";",["T_WHITESPACE","\n\n        ",140],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$package",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Returns the folders where the file should be looked for according to the locale\n     * and package name.\n     *\n     * @return array The list of folders where the translation file should be looked for\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","translationsFolders",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$locale",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","Locale",153],["T_DOUBLE_COLON","::",153],["T_STRING","parseLocale",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_locale",153],")",["T_WHITESPACE"," ",153],"+",["T_WHITESPACE"," ",153],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","null",153],"]",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$folders",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"[",["T_WHITESPACE","\n            ",155],["T_STRING","implode",156],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",156],",",["T_WHITESPACE"," ",156],"[",["T_VARIABLE","$locale",156],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",156],"]",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$locale",156],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",156],"]","]",")",",",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$locale",157],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",157],"]",["T_WHITESPACE","\n        ",157],"]",";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$searchPaths",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],"[","]",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$localePaths",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","App",162],["T_DOUBLE_COLON","::",162],["T_STRING","path",162],"(",["T_CONSTANT_ENCAPSED_STRING","'Locale'",162],")",";",["T_WHITESPACE","\n        ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_EMPTY","empty",163],"(",["T_VARIABLE","$localePaths",163],")",["T_WHITESPACE"," ",163],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE"," ",163],["T_STRING","defined",163],"(",["T_CONSTANT_ENCAPSED_STRING","'APP'",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$localePaths",164],"[","]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","APP",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Locale'",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_STRING","DIRECTORY_SEPARATOR",164],";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n        ",165],["T_FOREACH","foreach",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$localePaths",166],["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$path",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_FOREACH","foreach",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$folders",167],["T_WHITESPACE"," ",167],["T_AS","as",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$folder",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$searchPaths",168],"[","]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$path",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_VARIABLE","$folder",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_STRING","DIRECTORY_SEPARATOR",168],";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_COMMENT","\/\/ If space is not added after slash, the character after it remains lowercased\n",172],["T_WHITESPACE","        ",173],["T_VARIABLE","$pluginName",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Inflector",173],["T_DOUBLE_COLON","::",173],["T_STRING","camelize",173],"(",["T_STRING","str_replace",173],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'\/ '",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_name",173],")",")",";",["T_WHITESPACE","\n        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_STRING","Plugin",174],["T_DOUBLE_COLON","::",174],["T_STRING","loaded",174],"(",["T_VARIABLE","$pluginName",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$basePath",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","Plugin",175],["T_DOUBLE_COLON","::",175],["T_STRING","classPath",175],"(",["T_VARIABLE","$pluginName",175],")",["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'Locale'",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_STRING","DIRECTORY_SEPARATOR",175],";",["T_WHITESPACE","\n            ",175],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$folders",176],["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$folder",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$searchPaths",177],"[","]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$basePath",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_VARIABLE","$folder",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_STRING","DIRECTORY_SEPARATOR",177],";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$searchPaths",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n",182],"}",["T_WHITESPACE","\n",183]]