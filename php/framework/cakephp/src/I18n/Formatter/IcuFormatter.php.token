[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","I18n",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Formatter",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Aura",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Intl",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","CannotFormat",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Aura",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Intl",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","CannotInstantiateFormatter",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Aura",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Intl",19],["T_NS_SEPARATOR","\\",19],["T_STRING","FormatterInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","I18n",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PluralRules",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","MessageFormatter",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * A formatter that will interpolate variables using the MessageFormatter class\n *\/",23],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","IcuFormatter",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_STRING","FormatterInterface",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Returns a string with all passed variables interpolated into the original\n     * message. Variables are interpolated using the MessageFormatter class.\n     *\n     * If an array is passed in `$message`, it will trigger the plural selection\n     * routine. Plural forms are selected depending on the locale and the `_count`\n     * key passed in `$vars`.\n     *\n     * @param string $locale The locale in which the message is presented.\n     * @param string|array $message The message to be translated\n     * @param array $vars The list of values to interpolate in the message\n     * @return string The formatted message\n     *\/",29],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","format",42],"(",["T_VARIABLE","$locale",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$message",42],",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$vars",42],")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$isString",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","is_string",44],"(",["T_VARIABLE","$message",44],")",";",["T_WHITESPACE","\n        ",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$isString",45],["T_WHITESPACE"," ",45],["T_BOOLEAN_AND","&&",45],["T_WHITESPACE"," ",45],["T_ISSET","isset",45],"(",["T_VARIABLE","$vars",45],"[",["T_CONSTANT_ENCAPSED_STRING","'_singular'",45],"]",")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$message",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[",["T_VARIABLE","$vars",46],"[",["T_CONSTANT_ENCAPSED_STRING","'_singular'",46],"]",",",["T_WHITESPACE"," ",46],["T_VARIABLE","$message",46],"]",";",["T_WHITESPACE","\n            ",46],["T_UNSET","unset",47],"(",["T_VARIABLE","$vars",47],"[",["T_CONSTANT_ENCAPSED_STRING","'_singular'",47],"]",")",";",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$isString",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","false",48],";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n\n        ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$isString",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_formatMessage",52],"(",["T_VARIABLE","$locale",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$message",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$vars",52],")",";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n\n        ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_STRING","is_string",55],"(",["T_VARIABLE","$message",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$count",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ISSET","isset",56],"(",["T_VARIABLE","$vars",56],"[",["T_CONSTANT_ENCAPSED_STRING","'_count'",56],"]",")",["T_WHITESPACE"," ",56],"?",["T_WHITESPACE"," ",56],["T_VARIABLE","$vars",56],"[",["T_CONSTANT_ENCAPSED_STRING","'_count'",56],"]",["T_WHITESPACE"," ",56],":",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],";",["T_WHITESPACE","\n            ",56],["T_UNSET","unset",57],"(",["T_VARIABLE","$vars",57],"[",["T_CONSTANT_ENCAPSED_STRING","'_count'",57],"]",",",["T_WHITESPACE"," ",57],["T_VARIABLE","$vars",57],"[",["T_CONSTANT_ENCAPSED_STRING","'_singular'",57],"]",")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$form",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","PluralRules",58],["T_DOUBLE_COLON","::",58],["T_STRING","calculate",58],"(",["T_VARIABLE","$locale",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$count",58],")",";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$message",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ISSET","isset",59],"(",["T_VARIABLE","$message",59],"[",["T_VARIABLE","$form",59],"]",")",["T_WHITESPACE"," ",59],"?",["T_WHITESPACE"," ",59],["T_VARIABLE","$message",59],"[",["T_VARIABLE","$form",59],"]",["T_WHITESPACE"," ",59],":",["T_WHITESPACE"," ",59],["T_STRING","end",59],"(",["T_VARIABLE","$message",59],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_formatMessage",62],"(",["T_VARIABLE","$locale",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$message",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$vars",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Does the actual formatting using the MessageFormatter class\n     *\n     * @param string $locale The locale in which the message is presented.\n     * @param string|array $message The message to be translated\n     * @param array $vars The list of values to interpolate in the message\n     * @return string The formatted message\n     * @throws \\Aura\\Intl\\Exception\\CannotInstantiateFormatter if any error occurred\n     * while parsing the message\n     * @throws \\Aura\\Intl\\Exception\\CannotFormat If any error related to the passed\n     * variables is found\n     *\/",65],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","_formatMessage",77],"(",["T_VARIABLE","$locale",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$message",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$vars",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$message",79],["T_WHITESPACE"," ",79],["T_IS_IDENTICAL","===",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","''",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$message",80],";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_COMMENT","\/\/ Using procedural style as it showed twice as fast as\n",82],["T_WHITESPACE","        ",83],["T_COMMENT","\/\/ its counterpart in PHP 5.5\n",83],["T_WHITESPACE","        ",84],["T_VARIABLE","$result",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","MessageFormatter",84],["T_DOUBLE_COLON","::",84],["T_STRING","formatMessage",84],"(",["T_VARIABLE","$locale",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$message",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$vars",84],")",";",["T_WHITESPACE","\n\n        ",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$result",86],["T_WHITESPACE"," ",86],["T_IS_IDENTICAL","===",86],["T_WHITESPACE"," ",86],["T_STRING","false",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_COMMENT","\/\/ The user might be interested in what went wrong, so replay the\n",87],["T_WHITESPACE","            ",88],["T_COMMENT","\/\/ previous action using the object oriented style to figure out\n",88],["T_WHITESPACE","            ",89],["T_VARIABLE","$formatter",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","MessageFormatter",89],"(",["T_VARIABLE","$locale",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$message",89],")",";",["T_WHITESPACE","\n            ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_VARIABLE","$formatter",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_THROW","throw",91],["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","CannotInstantiateFormatter",91],"(",["T_STRING","intl_get_error_message",91],"(",")",",",["T_WHITESPACE"," ",91],["T_STRING","intl_get_error_code",91],"(",")",")",";",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE","\n\n            ",92],["T_VARIABLE","$formatter",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","format",94],"(",["T_VARIABLE","$vars",94],")",";",["T_WHITESPACE","\n            ",94],["T_THROW","throw",95],["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","CannotFormat",95],"(",["T_VARIABLE","$formatter",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getErrorMessage",95],"(",")",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$formatter",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getErrorCode",95],"(",")",")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$result",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n",99],"}",["T_WHITESPACE","\n",100]]