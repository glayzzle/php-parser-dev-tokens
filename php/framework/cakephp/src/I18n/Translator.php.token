[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n *\n * This file contains sections from the Aura Project\n * @license https:\/\/github.com\/auraphp\/Aura.Intl\/blob\/3.x\/LICENSE\n *\n * The Aura Project for PHP.\n *\n * @package Aura.Intl\n * @license http:\/\/opensource.org\/licenses\/bsd-license.php BSD\n *\/",2],["T_WHITESPACE","\n",20],["T_NAMESPACE","namespace",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","I18n",21],";",["T_WHITESPACE","\n\n",21],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Aura",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Intl",23],["T_NS_SEPARATOR","\\",23],["T_STRING","FormatterInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Aura",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Intl",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TranslatorInterface",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Provides missing message behavior for CakePHP internal message formats.\n *\n * @internal\n *\/",26],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","Translator",31],["T_WHITESPACE"," ",31],["T_IMPLEMENTS","implements",31],["T_WHITESPACE"," ",31],["T_STRING","TranslatorInterface",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * A fallback translator.\n     *\n     * @var \\Aura\\Intl\\TranslatorInterface\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$fallback",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * The formatter to use when translating messages.\n     *\n     * @var \\Aura\\Intl\\FormatterInterface\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$formatter",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * The locale being used for translations.\n     *\n     * @var string\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$locale",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * The message keys and translations.\n     *\n     * @var array\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$messages",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[","]",";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param string $locale The locale being used.\n     * @param array $messages The message keys and translations.\n     * @param \\Aura\\Intl\\FormatterInterface $formatter A message formatter.\n     * @param \\Aura\\Intl\\TranslatorInterface|null $fallback A fallback translator.\n     *\/",61],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$locale",70],",",["T_WHITESPACE","\n        ",70],["T_ARRAY","array",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$messages",71],",",["T_WHITESPACE","\n        ",71],["T_STRING","FormatterInterface",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$formatter",72],",",["T_WHITESPACE","\n        ",72],["T_STRING","TranslatorInterface",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$fallback",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],["T_WHITESPACE","\n    ",73],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","locale",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$locale",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","messages",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$messages",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","formatter",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$formatter",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fallback",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$fallback",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Gets the message translation by its key.\n     *\n     * @param string $key The message key.\n     * @return string|bool The message translation string, or false if not found.\n     *\/",81],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getMessage",87],"(",["T_VARIABLE","$key",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_ISSET","isset",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","messages",89],"[",["T_VARIABLE","$key",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","messages",90],"[",["T_VARIABLE","$key",90],"]",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","fallback",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_COMMENT","\/\/ get the message from the fallback translator\n",94],["T_WHITESPACE","            ",95],["T_VARIABLE","$message",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","fallback",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMessage",95],"(",["T_VARIABLE","$key",95],")",";",["T_WHITESPACE","\n            ",95],["T_COMMENT","\/\/ speed optimization: retain locally\n",96],["T_WHITESPACE","            ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","messages",97],"[",["T_VARIABLE","$key",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$message",97],";",["T_WHITESPACE","\n            ",97],["T_COMMENT","\/\/ done!\n",98],["T_WHITESPACE","            ",99],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$message",99],";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_COMMENT","\/\/ no local message, no fallback\n",102],["T_WHITESPACE","        ",103],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","false",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Translates the message formatting any placeholders\n     *\n     *\n     * @param string $key The message key.\n     * @param array $tokensValues Token values to interpolate into the\n     *   message.\n     * @return string The translated message with tokens replaced.\n     *\/",106],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","translate",115],"(",["T_VARIABLE","$key",115],",",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$tokensValues",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[","]",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$message",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMessage",117],"(",["T_VARIABLE","$key",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_VARIABLE","$message",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_COMMENT","\/\/ Fallback to the message key\n",120],["T_WHITESPACE","            ",121],["T_VARIABLE","$message",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$key",121],";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_COMMENT","\/\/ Check for missing\/invalid context\n",124],["T_WHITESPACE","        ",125],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_ISSET","isset",125],"(",["T_VARIABLE","$message",125],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",125],"]",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$context",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ISSET","isset",126],"(",["T_VARIABLE","$tokensValues",126],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",126],"]",")",["T_WHITESPACE"," ",126],"?",["T_WHITESPACE"," ",126],["T_VARIABLE","$tokensValues",126],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",126],"]",["T_WHITESPACE"," ",126],":",["T_WHITESPACE"," ",126],["T_STRING","null",126],";",["T_WHITESPACE","\n            ",126],["T_UNSET","unset",127],"(",["T_VARIABLE","$tokensValues",127],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",127],"]",")",";",["T_WHITESPACE","\n\n            ",127],["T_COMMENT","\/\/ No or missing context, fallback to the key\/first message\n",129],["T_WHITESPACE","            ",130],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$context",130],["T_WHITESPACE"," ",130],["T_IS_IDENTICAL","===",130],["T_WHITESPACE"," ",130],["T_STRING","null",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$message",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","current",131],"(",["T_VARIABLE","$message",131],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",131],"]",")",";",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE"," ",132],["T_ELSEIF","elseif",132],["T_WHITESPACE"," ",132],"(","!",["T_ISSET","isset",132],"(",["T_VARIABLE","$message",132],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",132],"]","[",["T_VARIABLE","$context",132],"]",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$message",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$key",133],";",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE"," ",134],["T_ELSEIF","elseif",134],["T_WHITESPACE"," ",134],"(","!",["T_ISSET","isset",134],"(",["T_VARIABLE","$message",134],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",134],"]","[",["T_VARIABLE","$context",134],"]",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$message",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$key",135],";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE"," ",136],["T_ELSE","else",136],["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$message",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$message",137],"[",["T_CONSTANT_ENCAPSED_STRING","'_context'",137],"]","[",["T_VARIABLE","$context",137],"]",";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_IF","if",141],["T_WHITESPACE"," ",141],"(","!",["T_VARIABLE","$tokensValues",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_COMMENT","\/\/ Fallback for plurals that were using the singular key\n",142],["T_WHITESPACE","            ",143],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_STRING","is_array",143],"(",["T_VARIABLE","$message",143],")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","array_values",144],"(",["T_VARIABLE","$message",144],["T_WHITESPACE"," ",144],"+",["T_WHITESPACE"," ",144],"[",["T_CONSTANT_ENCAPSED_STRING","''",144],"]",")","[",["T_LNUMBER","0",144],"]",";",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE","\n\n            ",145],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$message",147],";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","formatter",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","format",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","locale",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$message",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$tokensValues",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n",151],"}",["T_WHITESPACE","\n",152]]