[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","View",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Collection",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Collection",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Datasource",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EntityInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Network",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Request",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ORM",20],["T_NS_SEPARATOR","\\",20],["T_STRING","TableRegistry",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Utility",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Inflector",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","RuntimeException",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Traversable",23],";",["T_WHITESPACE","\n\n",23],["T_DOC_COMMENT","\/**\n * Provides a form context around a single entity and its relations.\n * It also can be used as context around an array or iterator of entities.\n *\n * This class lets FormHelper interface with entities or collections\n * of entities.\n *\n * Important Keys:\n *\n * - `entity` The entity this context is operating on.\n * - `table` Either the ORM\\Table instance to fetch schema\/validators\n *   from, an array of table instances in the case of a form spanning\n *   multiple entities, or the name(s) of the table.\n *   If this is null the table name(s) will be determined using naming\n *   conventions.\n * - `validator` Either the Validation\\Validator to use, or the name of the\n *   validation method to call on the table object. For example 'default'.\n *   Defaults to 'default'. Can be an array of table alias=>validators when\n *   dealing with associated forms.\n *\/",25],["T_WHITESPACE","\n",44],["T_CLASS","class",45],["T_WHITESPACE"," ",45],["T_STRING","EntityContext",45],["T_WHITESPACE"," ",45],["T_IMPLEMENTS","implements",45],["T_WHITESPACE"," ",45],["T_STRING","ContextInterface",45],["T_WHITESPACE","\n",45],"{",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * The request object.\n     *\n     * @var \\Cake\\Network\\Request\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_request",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Context data for this object.\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_context",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * The name of the top level entity\/table object.\n     *\n     * @var string\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_rootName",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Boolean to track whether or not the entity is a\n     * collection.\n     *\n     * @var bool\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_isCollection",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","false",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * A dictionary of tables\n     *\n     * @var array\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_tables",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[","]",";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param \\Cake\\Network\\Request $request The request object.\n     * @param array $context Context info.\n     *\/",84],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","__construct",90],"(",["T_STRING","Request",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$request",90],",",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$context",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_request",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$request",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$context",93],["T_WHITESPACE"," ",93],["T_PLUS_EQUAL","+=",93],["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'entity'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","null",94],",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'table'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","null",95],",",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'validator'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],"[","]",",",["T_WHITESPACE","\n        ",96],"]",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_context",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$context",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_prepare",99],"(",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Prepare some additional data from the context.\n     *\n     * If the table option was provided to the constructor and it\n     * was a string, ORM\\TableRegistry will be used to get the correct table instance.\n     *\n     * If an object is provided as the table option, it will be used as is.\n     *\n     * If no table option is provided, the table name will be derived based on\n     * naming conventions. This inference will work with a number of common objects\n     * like arrays, Collection objects and ResultSets.\n     *\n     * @return void\n     * @throws \\RuntimeException When a table object cannot be located\/inferred.\n     *\/",102],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","_prepare",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$table",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_context",119],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",119],"]",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$entity",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_context",120],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",120],"]",";",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_EMPTY","empty",121],"(",["T_VARIABLE","$table",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_STRING","is_array",122],"(",["T_VARIABLE","$entity",122],")",["T_WHITESPACE"," ",122],["T_BOOLEAN_OR","||",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$entity",122],["T_WHITESPACE"," ",122],["T_INSTANCEOF","instanceof",122],["T_WHITESPACE"," ",122],["T_STRING","Traversable",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$entity",123],["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$e",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                    ",123],["T_VARIABLE","$entity",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$e",124],";",["T_WHITESPACE","\n                    ",124],["T_BREAK","break",125],";",["T_WHITESPACE","\n                ",125],"}",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$isEntity",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$entity",128],["T_WHITESPACE"," ",128],["T_INSTANCEOF","instanceof",128],["T_WHITESPACE"," ",128],["T_STRING","EntityInterface",128],";",["T_WHITESPACE","\n\n            ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$isEntity",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$table",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$entity",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","source",131],"(",")",";",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n            ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_VARIABLE","$table",133],["T_WHITESPACE"," ",133],["T_BOOLEAN_AND","&&",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$isEntity",133],["T_WHITESPACE"," ",133],["T_BOOLEAN_AND","&&",133],["T_WHITESPACE"," ",133],["T_STRING","get_class",133],"(",["T_VARIABLE","$entity",133],")",["T_WHITESPACE"," ",133],["T_IS_NOT_IDENTICAL","!==",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'Cake\\ORM\\Entity'",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_LIST","list",134],"(",",",["T_WHITESPACE"," ",134],["T_VARIABLE","$entityClass",134],")",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","namespaceSplit",134],"(",["T_STRING","get_class",134],"(",["T_VARIABLE","$entity",134],")",")",";",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$table",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","Inflector",135],["T_DOUBLE_COLON","::",135],["T_STRING","pluralize",135],"(",["T_VARIABLE","$entityClass",135],")",";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","is_string",138],"(",["T_VARIABLE","$table",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$table",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","TableRegistry",139],["T_DOUBLE_COLON","::",139],["T_STRING","get",139],"(",["T_VARIABLE","$table",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(","!",["T_STRING","is_object",142],"(",["T_VARIABLE","$table",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_THROW","throw",143],["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","RuntimeException",143],"(",["T_WHITESPACE","\n                ",143],["T_CONSTANT_ENCAPSED_STRING","'Unable to find table class for current entity'",144],["T_WHITESPACE","\n            ",144],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_isCollection",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],"(",["T_WHITESPACE","\n            ",147],["T_STRING","is_array",148],"(",["T_VARIABLE","$entity",148],")",["T_WHITESPACE"," ",148],["T_BOOLEAN_OR","||",148],["T_WHITESPACE","\n            ",148],["T_VARIABLE","$entity",149],["T_WHITESPACE"," ",149],["T_INSTANCEOF","instanceof",149],["T_WHITESPACE"," ",149],["T_STRING","Traversable",149],["T_WHITESPACE","\n        ",149],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$alias",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_rootName",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$table",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","alias",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_tables",152],"[",["T_VARIABLE","$alias",152],"]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$table",152],";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Get the primary key data for the context.\n     *\n     * Gets the primary key columns from the root entity's schema.\n     *\n     * @return array\n     *\/",155],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","primaryKey",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_ARRAY_CAST","(array)",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_tables",164],"[",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_rootName",164],"]",["T_OBJECT_OPERATOR","->",164],["T_STRING","primaryKey",164],"(",")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",167],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","isPrimaryKey",170],"(",["T_VARIABLE","$field",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$parts",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","explode",172],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$field",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$table",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_getTable",173],"(",["T_VARIABLE","$parts",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$primaryKey",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY_CAST","(array)",174],["T_VARIABLE","$table",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","primaryKey",174],"(",")",";",["T_WHITESPACE","\n\n        ",174],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_STRING","in_array",176],"(",["T_STRING","array_pop",176],"(",["T_VARIABLE","$parts",176],")",",",["T_WHITESPACE"," ",176],["T_VARIABLE","$primaryKey",176],")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Check whether or not this form is a create or update.\n     *\n     * If the context is for a single entity, the entity's isNew() method will\n     * be used. If isNew() returns null, a create operation will be assumed.\n     *\n     * If the context is for a collection or array the first object in the\n     * collection will be used.\n     *\n     * @return bool\n     *\/",179],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","isCreate",190],"(",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$entity",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_context",192],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",192],"]",";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_STRING","is_array",193],"(",["T_VARIABLE","$entity",193],")",["T_WHITESPACE"," ",193],["T_BOOLEAN_OR","||",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$entity",193],["T_WHITESPACE"," ",193],["T_INSTANCEOF","instanceof",193],["T_WHITESPACE"," ",193],["T_STRING","Traversable",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_FOREACH","foreach",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$entity",194],["T_WHITESPACE"," ",194],["T_AS","as",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$e",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$entity",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$e",195],";",["T_WHITESPACE","\n                ",195],["T_BREAK","break",196],";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$entity",199],["T_WHITESPACE"," ",199],["T_INSTANCEOF","instanceof",199],["T_WHITESPACE"," ",199],["T_STRING","EntityInterface",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$entity",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","isNew",200],"(",")",["T_WHITESPACE"," ",200],["T_IS_NOT_IDENTICAL","!==",200],["T_WHITESPACE"," ",200],["T_STRING","false",200],";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n\n        ",201],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_STRING","true",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Get the value for a given path.\n     *\n     * Traverses the entity data and finds the value for $path.\n     *\n     * @param string $field The dot separated path to the value.\n     * @param array $options Options:\n     *   - `default`: Default value to return if no value found in request\n     *     data or entity.\n     *   - `schemaDefault`: Boolean indicating whether default value from table\n     *     schema should be used if it's not explicitly provided.\n     * @return mixed The value of the field or null on a miss.\n     *\/",206],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","val",219],"(",["T_VARIABLE","$field",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$options",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],"[","]",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$options",221],["T_WHITESPACE"," ",221],["T_PLUS_EQUAL","+=",221],["T_WHITESPACE"," ",221],"[",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'default'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_STRING","null",222],",",["T_WHITESPACE","\n            ",222],["T_CONSTANT_ENCAPSED_STRING","'schemaDefault'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_STRING","true",223],["T_WHITESPACE","\n        ",223],"]",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$val",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_request",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","data",226],"(",["T_VARIABLE","$field",226],")",";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$val",227],["T_WHITESPACE"," ",227],["T_IS_NOT_IDENTICAL","!==",227],["T_WHITESPACE"," ",227],["T_STRING","null",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$val",228],";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_EMPTY","empty",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_context",230],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",230],"]",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$options",231],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",231],"]",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$parts",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","explode",233],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$field",233],")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$entity",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","entity",234],"(",["T_VARIABLE","$parts",234],")",";",["T_WHITESPACE","\n\n        ",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_STRING","end",236],"(",["T_VARIABLE","$parts",236],")",["T_WHITESPACE"," ",236],["T_IS_IDENTICAL","===",236],["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'_ids'",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],"!",["T_EMPTY","empty",236],"(",["T_VARIABLE","$entity",236],")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_extractMultiple",237],"(",["T_VARIABLE","$entity",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$parts",237],")",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$entity",240],["T_WHITESPACE"," ",240],["T_INSTANCEOF","instanceof",240],["T_WHITESPACE"," ",240],["T_STRING","EntityInterface",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$part",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","array_pop",241],"(",["T_VARIABLE","$parts",241],")",";",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$val",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$entity",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","get",242],"(",["T_VARIABLE","$part",242],")",";",["T_WHITESPACE","\n            ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$val",243],["T_WHITESPACE"," ",243],["T_IS_NOT_IDENTICAL","!==",243],["T_WHITESPACE"," ",243],["T_STRING","null",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$val",244],";",["T_WHITESPACE","\n            ",244],"}",["T_WHITESPACE","\n            ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$options",246],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",246],"]",["T_WHITESPACE"," ",246],["T_IS_NOT_IDENTICAL","!==",246],["T_WHITESPACE"," ",246],["T_STRING","null",246],["T_WHITESPACE","\n                ",246],["T_BOOLEAN_OR","||",247],["T_WHITESPACE"," ",247],"!",["T_VARIABLE","$options",247],"[",["T_CONSTANT_ENCAPSED_STRING","'schemaDefault'",247],"]",["T_WHITESPACE","\n                ",247],["T_BOOLEAN_OR","||",248],["T_WHITESPACE"," ",248],"!",["T_VARIABLE","$entity",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","isNew",248],"(",")",["T_WHITESPACE","\n            ",248],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$options",250],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",250],"]",";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n\n            ",251],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_schemaDefault",253],"(",["T_VARIABLE","$part",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$entity",253],")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","is_array",255],"(",["T_VARIABLE","$entity",255],")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$key",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","array_pop",256],"(",["T_VARIABLE","$parts",256],")",";",["T_WHITESPACE","\n\n            ",256],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_ISSET","isset",258],"(",["T_VARIABLE","$entity",258],"[",["T_VARIABLE","$key",258],"]",")",["T_WHITESPACE"," ",258],"?",["T_WHITESPACE"," ",258],["T_VARIABLE","$entity",258],"[",["T_VARIABLE","$key",258],"]",["T_WHITESPACE"," ",258],":",["T_WHITESPACE"," ",258],["T_STRING","null",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_STRING","null",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Get default value from table schema for given entity field.\n     *\n     * @param string $field Field name.\n     * @param \\Cake\\Datasource\\EntityInterface $entity The entity.\n     * @return mixed\n     *\/",264],["T_WHITESPACE","\n    ",270],["T_PROTECTED","protected",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","_schemaDefault",271],"(",["T_VARIABLE","$field",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$entity",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$table",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_getTable",273],"(",["T_VARIABLE","$entity",273],")",";",["T_WHITESPACE","\n        ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$table",274],["T_WHITESPACE"," ",274],["T_IS_IDENTICAL","===",274],["T_WHITESPACE"," ",274],["T_STRING","false",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_STRING","null",275],";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$defaults",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$table",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","schema",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","defaultValues",277],"(",")",";",["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(","!",["T_STRING","array_key_exists",278],"(",["T_VARIABLE","$field",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$defaults",278],")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_STRING","null",279],";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n\n        ",280],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$defaults",282],"[",["T_VARIABLE","$field",282],"]",";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * Helper method used to extract all the primary key values out of an array, The\n     * primary key column is guessed out of the provided $path array\n     *\n     * @param array|\\Traversable $values The list from which to extract primary keys from\n     * @param array $path Each one of the parts in a path for a field name\n     * @return array\n     *\/",285],["T_WHITESPACE","\n    ",292],["T_PROTECTED","protected",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","_extractMultiple",293],"(",["T_VARIABLE","$values",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$path",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(","!","(",["T_STRING","is_array",295],"(",["T_VARIABLE","$values",295],")",["T_WHITESPACE"," ",295],["T_BOOLEAN_OR","||",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$values",295],["T_WHITESPACE"," ",295],["T_INSTANCEOF","instanceof",295],["T_WHITESPACE"," ",295],["T_STRING","Traversable",295],")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_STRING","null",296],";",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$table",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_getTable",298],"(",["T_VARIABLE","$path",298],",",["T_WHITESPACE"," ",298],["T_STRING","false",298],")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$primary",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$table",299],["T_WHITESPACE"," ",299],"?",["T_WHITESPACE"," ",299],["T_ARRAY_CAST","(array)",299],["T_VARIABLE","$table",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","primaryKey",299],"(",")",["T_WHITESPACE"," ",299],":",["T_WHITESPACE"," ",299],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",299],"]",";",["T_WHITESPACE","\n\n        ",299],["T_RETURN","return",301],["T_WHITESPACE"," ",301],"(",["T_NEW","new",301],["T_WHITESPACE"," ",301],["T_STRING","Collection",301],"(",["T_VARIABLE","$values",301],")",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","extract",301],"(",["T_VARIABLE","$primary",301],"[",["T_LNUMBER","0",301],"]",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","toArray",301],"(",")",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Fetch the leaf entity for the given path.\n     *\n     * This method will traverse the given path and find the leaf\n     * entity. If the path does not contain a leaf entity false\n     * will be returned.\n     *\n     * @param array|null $path Each one of the parts in a path for a field name\n     *  or null to get the entity passed in constructor context.\n     * @return \\Cake\\Datasource\\EntityInterface|\\Traversable|array|bool\n     * @throws \\RuntimeException When properties cannot be read.\n     *\/",304],["T_WHITESPACE","\n    ",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","entity",316],"(",["T_VARIABLE","$path",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","null",316],")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$path",318],["T_WHITESPACE"," ",318],["T_IS_IDENTICAL","===",318],["T_WHITESPACE"," ",318],["T_STRING","null",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_context",319],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",319],"]",";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$oneElement",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","count",322],"(",["T_VARIABLE","$path",322],")",["T_WHITESPACE"," ",322],["T_IS_IDENTICAL","===",322],["T_WHITESPACE"," ",322],["T_LNUMBER","1",322],";",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$oneElement",323],["T_WHITESPACE"," ",323],["T_BOOLEAN_AND","&&",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_isCollection",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_STRING","false",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$entity",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_context",326],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",326],"]",";",["T_WHITESPACE","\n        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$oneElement",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$entity",328],";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$path",331],"[",["T_LNUMBER","0",331],"]",["T_WHITESPACE"," ",331],["T_IS_IDENTICAL","===",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_rootName",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$path",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_STRING","array_slice",332],"(",["T_VARIABLE","$path",332],",",["T_WHITESPACE"," ",332],["T_LNUMBER","1",332],")",";",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE","\n\n        ",333],["T_VARIABLE","$len",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","count",335],"(",["T_VARIABLE","$path",335],")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$last",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$len",336],["T_WHITESPACE"," ",336],"-",["T_WHITESPACE"," ",336],["T_LNUMBER","1",336],";",["T_WHITESPACE","\n        ",336],["T_FOR","for",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$i",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_LNUMBER","0",337],";",["T_WHITESPACE"," ",337],["T_VARIABLE","$i",337],["T_WHITESPACE"," ",337],"<",["T_WHITESPACE"," ",337],["T_VARIABLE","$len",337],";",["T_WHITESPACE"," ",337],["T_VARIABLE","$i",337],["T_INC","++",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$prop",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$path",338],"[",["T_VARIABLE","$i",338],"]",";",["T_WHITESPACE","\n            ",338],["T_VARIABLE","$next",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_getProp",339],"(",["T_VARIABLE","$entity",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$prop",339],")",";",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$isLast",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$i",340],["T_WHITESPACE"," ",340],["T_IS_IDENTICAL","===",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$last",340],")",";",["T_WHITESPACE","\n\n            ",340],["T_IF","if",342],["T_WHITESPACE"," ",342],"(","!",["T_VARIABLE","$isLast",342],["T_WHITESPACE"," ",342],["T_BOOLEAN_AND","&&",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$next",342],["T_WHITESPACE"," ",342],["T_IS_IDENTICAL","===",342],["T_WHITESPACE"," ",342],["T_STRING","null",342],["T_WHITESPACE"," ",342],["T_BOOLEAN_AND","&&",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$prop",342],["T_WHITESPACE"," ",342],["T_IS_NOT_IDENTICAL","!==",342],["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'_ids'",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n                ",342],["T_VARIABLE","$table",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_getTable",343],"(",["T_VARIABLE","$path",343],")",";",["T_WHITESPACE","\n\n                ",343],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$table",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","newEntity",345],"(",")",";",["T_WHITESPACE","\n            ",345],"}",["T_WHITESPACE","\n\n            ",346],["T_VARIABLE","$isTraversable",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],"(",["T_WHITESPACE","\n                ",348],["T_STRING","is_array",349],"(",["T_VARIABLE","$next",349],")",["T_WHITESPACE"," ",349],["T_BOOLEAN_OR","||",349],["T_WHITESPACE","\n                ",349],["T_VARIABLE","$next",350],["T_WHITESPACE"," ",350],["T_INSTANCEOF","instanceof",350],["T_WHITESPACE"," ",350],["T_STRING","Traversable",350],["T_WHITESPACE"," ",350],["T_BOOLEAN_OR","||",350],["T_WHITESPACE","\n                ",350],["T_VARIABLE","$next",351],["T_WHITESPACE"," ",351],["T_INSTANCEOF","instanceof",351],["T_WHITESPACE"," ",351],["T_STRING","EntityInterface",351],["T_WHITESPACE","\n            ",351],")",";",["T_WHITESPACE","\n            ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$isLast",353],["T_WHITESPACE"," ",353],["T_BOOLEAN_OR","||",353],["T_WHITESPACE"," ",353],"!",["T_VARIABLE","$isTraversable",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n                ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$entity",354],";",["T_WHITESPACE","\n            ",354],"}",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$entity",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$next",356],";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n        ",357],["T_THROW","throw",358],["T_WHITESPACE"," ",358],["T_NEW","new",358],["T_WHITESPACE"," ",358],["T_STRING","RuntimeException",358],"(",["T_STRING","sprintf",358],"(",["T_WHITESPACE","\n            ",358],["T_CONSTANT_ENCAPSED_STRING","'Unable to fetch property \"%s\"'",359],",",["T_WHITESPACE","\n            ",359],["T_STRING","implode",360],"(",["T_CONSTANT_ENCAPSED_STRING","\".\"",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$path",360],")",["T_WHITESPACE","\n        ",360],")",")",";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Read property values or traverse arrays\/iterators.\n     *\n     * @param mixed $target The entity\/array\/collection to fetch $field from.\n     * @param string $field The next field to fetch.\n     * @return mixed\n     *\/",364],["T_WHITESPACE","\n    ",370],["T_PROTECTED","protected",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","_getProp",371],"(",["T_VARIABLE","$target",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$field",371],")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_STRING","is_array",373],"(",["T_VARIABLE","$target",373],")",["T_WHITESPACE"," ",373],["T_BOOLEAN_AND","&&",373],["T_WHITESPACE"," ",373],["T_ISSET","isset",373],"(",["T_VARIABLE","$target",373],"[",["T_VARIABLE","$field",373],"]",")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$target",374],"[",["T_VARIABLE","$field",374],"]",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n        ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$target",376],["T_WHITESPACE"," ",376],["T_INSTANCEOF","instanceof",376],["T_WHITESPACE"," ",376],["T_STRING","EntityInterface",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$target",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","get",377],"(",["T_VARIABLE","$field",377],")",";",["T_WHITESPACE","\n        ",377],"}",["T_WHITESPACE","\n        ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$target",379],["T_WHITESPACE"," ",379],["T_INSTANCEOF","instanceof",379],["T_WHITESPACE"," ",379],["T_STRING","Traversable",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_FOREACH","foreach",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$target",380],["T_WHITESPACE"," ",380],["T_AS","as",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$i",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$val",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$i",381],["T_WHITESPACE"," ",381],["T_IS_EQUAL","==",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$field",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                    ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$val",382],";",["T_WHITESPACE","\n                ",382],"}",["T_WHITESPACE","\n            ",383],"}",["T_WHITESPACE","\n\n            ",384],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_STRING","false",386],";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Check if a field should be marked as required.\n     *\n     * @param string $field The dot separated path to the field you want to check.\n     * @return bool\n     *\/",390],["T_WHITESPACE","\n    ",395],["T_PUBLIC","public",396],["T_WHITESPACE"," ",396],["T_FUNCTION","function",396],["T_WHITESPACE"," ",396],["T_STRING","isRequired",396],"(",["T_VARIABLE","$field",396],")",["T_WHITESPACE","\n    ",396],"{",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$parts",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_STRING","explode",398],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$field",398],")",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$entity",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","entity",399],"(",["T_VARIABLE","$parts",399],")",";",["T_WHITESPACE","\n\n        ",399],["T_VARIABLE","$isNew",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","true",401],";",["T_WHITESPACE","\n        ",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$entity",402],["T_WHITESPACE"," ",402],["T_INSTANCEOF","instanceof",402],["T_WHITESPACE"," ",402],["T_STRING","EntityInterface",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_VARIABLE","$isNew",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$entity",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","isNew",403],"(",")",";",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n\n        ",404],["T_VARIABLE","$validator",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_getValidator",406],"(",["T_VARIABLE","$parts",406],")",";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$fieldName",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_STRING","array_pop",407],"(",["T_VARIABLE","$parts",407],")",";",["T_WHITESPACE","\n        ",407],["T_IF","if",408],["T_WHITESPACE"," ",408],"(","!",["T_VARIABLE","$validator",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","hasField",408],"(",["T_VARIABLE","$fieldName",408],")",")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n            ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_STRING","false",409],";",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n        ",410],["T_IF","if",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","type",411],"(",["T_VARIABLE","$field",411],")",["T_WHITESPACE"," ",411],["T_IS_NOT_IDENTICAL","!==",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'boolean'",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$validator",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","isEmptyAllowed",412],"(",["T_VARIABLE","$fieldName",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$isNew",412],")",["T_WHITESPACE"," ",412],["T_IS_IDENTICAL","===",412],["T_WHITESPACE"," ",412],["T_STRING","false",412],";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n\n        ",413],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_STRING","false",415],";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * Get the field names from the top level entity.\n     *\n     * If the context is for an array of entities, the 0th index will be used.\n     *\n     * @return array Array of fieldnames in the table\/entity.\n     *\/",418],["T_WHITESPACE","\n    ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","fieldNames",425],"(",")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$table",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_getTable",427],"(",["T_CONSTANT_ENCAPSED_STRING","'0'",427],")",";",["T_WHITESPACE","\n\n        ",427],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$table",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","schema",429],"(",")",["T_OBJECT_OPERATOR","->",429],["T_STRING","columns",429],"(",")",";",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n\n    ",430],["T_DOC_COMMENT","\/**\n     * Get the validator associated to an entity based on naming\n     * conventions.\n     *\n     * @param array $parts Each one of the parts in a path for a field name\n     * @return \\Cake\\Validation\\Validator\n     *\/",432],["T_WHITESPACE","\n    ",438],["T_PROTECTED","protected",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","_getValidator",439],"(",["T_VARIABLE","$parts",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$keyParts",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","array_filter",441],"(",["T_STRING","array_slice",441],"(",["T_VARIABLE","$parts",441],",",["T_WHITESPACE"," ",441],["T_LNUMBER","0",441],",",["T_WHITESPACE"," ",441],"-",["T_LNUMBER","1",441],")",",",["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$part",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],"!",["T_STRING","is_numeric",442],"(",["T_VARIABLE","$part",442],")",";",["T_WHITESPACE","\n        ",442],"}",")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$key",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_STRING","implode",444],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$keyParts",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$entity",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","entity",445],"(",["T_VARIABLE","$parts",445],")",["T_WHITESPACE"," ",445],"?",":",["T_WHITESPACE"," ",445],["T_STRING","null",445],";",["T_WHITESPACE","\n\n        ",445],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_ISSET","isset",447],"(",["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_validator",447],"[",["T_VARIABLE","$key",447],"]",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_validator",448],"[",["T_VARIABLE","$key",448],"]",["T_OBJECT_OPERATOR","->",448],["T_STRING","provider",448],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$entity",448],")",";",["T_WHITESPACE","\n\n            ",448],["T_RETURN","return",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_validator",450],"[",["T_VARIABLE","$key",450],"]",";",["T_WHITESPACE","\n        ",450],"}",["T_WHITESPACE","\n\n        ",451],["T_VARIABLE","$table",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_getTable",453],"(",["T_VARIABLE","$parts",453],")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$alias",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$table",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","alias",454],"(",")",";",["T_WHITESPACE","\n\n        ",454],["T_VARIABLE","$method",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'default'",456],";",["T_WHITESPACE","\n        ",456],["T_IF","if",457],["T_WHITESPACE"," ",457],"(",["T_STRING","is_string",457],"(",["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_context",457],"[",["T_CONSTANT_ENCAPSED_STRING","'validator'",457],"]",")",")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_VARIABLE","$method",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_context",458],"[",["T_CONSTANT_ENCAPSED_STRING","'validator'",458],"]",";",["T_WHITESPACE","\n        ",458],"}",["T_WHITESPACE"," ",459],["T_ELSEIF","elseif",459],["T_WHITESPACE"," ",459],"(",["T_ISSET","isset",459],"(",["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_context",459],"[",["T_CONSTANT_ENCAPSED_STRING","'validator'",459],"]","[",["T_VARIABLE","$alias",459],"]",")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$method",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_context",460],"[",["T_CONSTANT_ENCAPSED_STRING","'validator'",460],"]","[",["T_VARIABLE","$alias",460],"]",";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE","\n\n        ",461],["T_VARIABLE","$validator",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$table",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","validator",463],"(",["T_VARIABLE","$method",463],")",";",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$validator",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","provider",464],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$entity",464],")",";",["T_WHITESPACE","\n\n        ",464],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","_validator",466],"[",["T_VARIABLE","$key",466],"]",["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$validator",466],";",["T_WHITESPACE","\n    ",466],"}",["T_WHITESPACE","\n\n    ",467],["T_DOC_COMMENT","\/**\n     * Get the table instance from a property path\n     *\n     * @param array $parts Each one of the parts in a path for a field name\n     * @param bool $rootFallback Whether or not to fallback to the root entity.\n     * @return \\Cake\\ORM\\Table|bool Table instance or false\n     *\/",469],["T_WHITESPACE","\n    ",475],["T_PROTECTED","protected",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","_getTable",476],"(",["T_VARIABLE","$parts",476],",",["T_WHITESPACE"," ",476],["T_VARIABLE","$rootFallback",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","true",476],")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_STRING","count",478],"(",["T_VARIABLE","$parts",478],")",["T_WHITESPACE"," ",478],["T_IS_IDENTICAL","===",478],["T_WHITESPACE"," ",478],["T_LNUMBER","1",478],")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n            ",478],["T_RETURN","return",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_tables",479],"[",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_rootName",479],"]",";",["T_WHITESPACE","\n        ",479],"}",["T_WHITESPACE","\n\n        ",480],["T_VARIABLE","$normalized",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_STRING","array_slice",482],"(",["T_STRING","array_filter",482],"(",["T_VARIABLE","$parts",482],",",["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],"(",["T_VARIABLE","$part",482],")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n            ",482],["T_RETURN","return",483],["T_WHITESPACE"," ",483],"!",["T_STRING","is_numeric",483],"(",["T_VARIABLE","$part",483],")",";",["T_WHITESPACE","\n        ",483],"}",")",",",["T_WHITESPACE"," ",484],["T_LNUMBER","0",484],",",["T_WHITESPACE"," ",484],"-",["T_LNUMBER","1",484],")",";",["T_WHITESPACE","\n\n        ",484],["T_VARIABLE","$path",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_STRING","implode",486],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$normalized",486],")",";",["T_WHITESPACE","\n        ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_ISSET","isset",487],"(",["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","_tables",487],"[",["T_VARIABLE","$path",487],"]",")",")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","_tables",488],"[",["T_VARIABLE","$path",488],"]",";",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE","\n\n        ",489],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_STRING","current",491],"(",["T_VARIABLE","$normalized",491],")",["T_WHITESPACE"," ",491],["T_IS_IDENTICAL","===",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_rootName",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n            ",491],["T_VARIABLE","$normalized",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","array_slice",492],"(",["T_VARIABLE","$normalized",492],",",["T_WHITESPACE"," ",492],["T_LNUMBER","1",492],")",";",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n\n        ",493],["T_VARIABLE","$table",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_tables",495],"[",["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_rootName",495],"]",";",["T_WHITESPACE","\n        ",495],["T_FOREACH","foreach",496],["T_WHITESPACE"," ",496],"(",["T_VARIABLE","$normalized",496],["T_WHITESPACE"," ",496],["T_AS","as",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$part",496],")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n            ",496],["T_VARIABLE","$assoc",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_VARIABLE","$table",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","associations",497],"(",")",["T_OBJECT_OPERATOR","->",497],["T_STRING","getByProperty",497],"(",["T_VARIABLE","$part",497],")",";",["T_WHITESPACE","\n            ",497],["T_IF","if",498],["T_WHITESPACE"," ",498],"(","!",["T_VARIABLE","$assoc",498],["T_WHITESPACE"," ",498],["T_BOOLEAN_AND","&&",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$rootFallback",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n                ",498],["T_BREAK","break",499],";",["T_WHITESPACE","\n            ",499],"}",["T_WHITESPACE","\n            ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(","!",["T_VARIABLE","$assoc",501],["T_WHITESPACE"," ",501],["T_BOOLEAN_AND","&&",501],["T_WHITESPACE"," ",501],"!",["T_VARIABLE","$rootFallback",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n                ",501],["T_RETURN","return",502],["T_WHITESPACE"," ",502],["T_STRING","false",502],";",["T_WHITESPACE","\n            ",502],"}",["T_WHITESPACE","\n\n            ",503],["T_VARIABLE","$table",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$assoc",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","target",505],"(",")",";",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE","\n\n        ",506],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_tables",508],"[",["T_VARIABLE","$path",508],"]",["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_VARIABLE","$table",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Get the abstract field type for a given field name.\n     *\n     * @param string $field A dot separated path to get a schema type for.\n     * @return null|string An abstract data type or null.\n     * @see \\Cake\\Database\\Type\n     *\/",511],["T_WHITESPACE","\n    ",517],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","type",518],"(",["T_VARIABLE","$field",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$parts",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_STRING","explode",520],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",520],",",["T_WHITESPACE"," ",520],["T_VARIABLE","$field",520],")",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$table",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_getTable",521],"(",["T_VARIABLE","$parts",521],")",";",["T_WHITESPACE","\n\n        ",521],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$table",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","schema",523],"(",")",["T_OBJECT_OPERATOR","->",523],["T_STRING","baseColumnType",523],"(",["T_STRING","array_pop",523],"(",["T_VARIABLE","$parts",523],")",")",";",["T_WHITESPACE","\n    ",523],"}",["T_WHITESPACE","\n\n    ",524],["T_DOC_COMMENT","\/**\n     * Get an associative array of other attributes for a field name.\n     *\n     * @param string $field A dot separated path to get additional data on.\n     * @return array An array of data describing the additional attributes on a field.\n     *\/",526],["T_WHITESPACE","\n    ",531],["T_PUBLIC","public",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","attributes",532],"(",["T_VARIABLE","$field",532],")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$parts",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","explode",534],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$field",534],")",";",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$table",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","_getTable",535],"(",["T_VARIABLE","$parts",535],")",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$column",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_ARRAY_CAST","(array)",536],["T_VARIABLE","$table",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","schema",536],"(",")",["T_OBJECT_OPERATOR","->",536],["T_STRING","column",536],"(",["T_STRING","array_pop",536],"(",["T_VARIABLE","$parts",536],")",")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$whitelist",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",537],["T_WHITESPACE"," ",537],["T_DOUBLE_ARROW","=>",537],["T_WHITESPACE"," ",537],["T_STRING","null",537],",",["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","'precision'",537],["T_WHITESPACE"," ",537],["T_DOUBLE_ARROW","=>",537],["T_WHITESPACE"," ",537],["T_STRING","null",537],"]",";",["T_WHITESPACE","\n\n        ",537],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_STRING","array_intersect_key",539],"(",["T_VARIABLE","$column",539],",",["T_WHITESPACE"," ",539],["T_VARIABLE","$whitelist",539],")",";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n\n    ",540],["T_DOC_COMMENT","\/**\n     * Check whether or not a field has an error attached to it\n     *\n     * @param string $field A dot separated path to check errors on.\n     * @return bool Returns true if the errors for the field are not empty.\n     *\/",542],["T_WHITESPACE","\n    ",547],["T_PUBLIC","public",548],["T_WHITESPACE"," ",548],["T_FUNCTION","function",548],["T_WHITESPACE"," ",548],["T_STRING","hasError",548],"(",["T_VARIABLE","$field",548],")",["T_WHITESPACE","\n    ",548],"{",["T_WHITESPACE","\n        ",549],["T_RETURN","return",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","error",550],"(",["T_VARIABLE","$field",550],")",["T_WHITESPACE"," ",550],["T_IS_NOT_IDENTICAL","!==",550],["T_WHITESPACE"," ",550],"[","]",";",["T_WHITESPACE","\n    ",550],"}",["T_WHITESPACE","\n\n    ",551],["T_DOC_COMMENT","\/**\n     * Get the errors for a given field\n     *\n     * @param string $field A dot separated path to check errors on.\n     * @return array An array of errors.\n     *\/",553],["T_WHITESPACE","\n    ",558],["T_PUBLIC","public",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","error",559],"(",["T_VARIABLE","$field",559],")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$parts",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_STRING","explode",561],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",561],",",["T_WHITESPACE"," ",561],["T_VARIABLE","$field",561],")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$entity",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","entity",562],"(",["T_VARIABLE","$parts",562],")",";",["T_WHITESPACE","\n\n        ",562],["T_IF","if",564],["T_WHITESPACE"," ",564],"(",["T_VARIABLE","$entity",564],["T_WHITESPACE"," ",564],["T_INSTANCEOF","instanceof",564],["T_WHITESPACE"," ",564],["T_STRING","EntityInterface",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$entity",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","errors",565],"(",["T_STRING","array_pop",565],"(",["T_VARIABLE","$parts",565],")",")",";",["T_WHITESPACE","\n        ",565],"}",["T_WHITESPACE","\n\n        ",566],["T_RETURN","return",568],["T_WHITESPACE"," ",568],"[","]",";",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n",569],"}",["T_WHITESPACE","\n",570]]