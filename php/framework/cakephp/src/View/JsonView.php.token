[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.1.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","View",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Configure",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * A view class that is used for JSON responses.\n *\n * It allows you to omit templates if you just need to emit JSON string as response.\n *\n * In your controller, you could do the following:\n *\n * ```\n * $this->set(['posts' => $posts]);\n * $this->set('_serialize', true);\n * ```\n *\n * When the view is rendered, the `$posts` view variable will be serialized\n * into JSON.\n *\n * You can also set multiple view variables for serialization. This will create\n * a top level object containing all the named view variables:\n *\n * ```\n * $this->set(compact('posts', 'users', 'stuff'));\n * $this->set('_serialize', true);\n * ```\n *\n * The above would generate a JSON object that looks like:\n *\n * `{\"posts\": [...], \"users\": [...]}`\n *\n * You can also set `'_serialize'` to a string or array to serialize only the\n * specified view variables.\n *\n * If you don't use the `_serialize`, you will need a view template. You can use\n * extended views to provide layout-like functionality.\n *\n * You can also enable JSONP support by setting parameter `_jsonp` to true or a\n * string to specify custom query string parameter name which will contain the\n * callback function name.\n *\/",19],["T_WHITESPACE","\n",55],["T_CLASS","class",56],["T_WHITESPACE"," ",56],["T_STRING","JsonView",56],["T_WHITESPACE"," ",56],["T_EXTENDS","extends",56],["T_WHITESPACE"," ",56],["T_STRING","SerializedView",56],["T_WHITESPACE","\n",56],"{",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * JSON layouts are located in the json sub directory of `Layouts\/`\n     *\n     * @var string\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$layoutPath",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'json'",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * JSON views are located in the 'json' sub directory for controllers' views.\n     *\n     * @var string\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$subDir",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'json'",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Response type.\n     *\n     * @var string\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_responseType",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'json'",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * List of special view vars.\n     *\n     * @var array\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$_specialVars",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[",["T_CONSTANT_ENCAPSED_STRING","'_serialize'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'_jsonOptions'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'_jsonp'",85],"]",";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Render a JSON view.\n     *\n     * ### Special parameters\n     * `_serialize` To convert a set of view variables into a JSON response.\n     *   Its value can be a string for single variable name or array for multiple\n     *   names. If true all view variables will be serialized. It unset normal\n     *   view template will be rendered.\n     * `_jsonp` Enables JSONP support and wraps response in callback function\n     *   provided in query string.\n     *   - Setting it to true enables the default query string parameter \"callback\".\n     *   - Setting it to a string value, uses the provided query string parameter\n     *     for finding the JSONP callback name.\n     *\n     * @param string|null $view The view being rendered.\n     * @param string|null $layout The layout being rendered.\n     * @return string|null The rendered view.\n     *\/",87],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","render",105],"(",["T_VARIABLE","$view",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$layout",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$return",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","parent",107],["T_DOUBLE_COLON","::",107],["T_STRING","render",107],"(",["T_VARIABLE","$view",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$layout",107],")",";",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_EMPTY","empty",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","viewVars",109],"[",["T_CONSTANT_ENCAPSED_STRING","'_jsonp'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$jsonpParam",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","viewVars",110],"[",["T_CONSTANT_ENCAPSED_STRING","'_jsonp'",110],"]",";",["T_WHITESPACE","\n            ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","viewVars",111],"[",["T_CONSTANT_ENCAPSED_STRING","'_jsonp'",111],"]",["T_WHITESPACE"," ",111],["T_IS_IDENTICAL","===",111],["T_WHITESPACE"," ",111],["T_STRING","true",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$jsonpParam",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'callback'",112],";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n            ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_ISSET","isset",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","request",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","query",114],"[",["T_VARIABLE","$jsonpParam",114],"]",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                ",114],["T_VARIABLE","$return",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","sprintf",115],"(",["T_CONSTANT_ENCAPSED_STRING","'%s(%s)'",115],",",["T_WHITESPACE"," ",115],["T_STRING","h",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","request",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","query",115],"[",["T_VARIABLE","$jsonpParam",115],"]",")",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$return",115],")",";",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","response",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","type",116],"(",["T_CONSTANT_ENCAPSED_STRING","'js'",116],")",";",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$return",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Serialize view vars\n     *\n     * ### Special parameters\n     * `_jsonOptions` You can set custom options for json_encode() this way,\n     *   e.g. `JSON_HEX_TAG | JSON_HEX_APOS`.\n     *\n     * @param array|string|bool $serialize The name(s) of the view variable(s)\n     *   that need(s) to be serialized. If true all available view variables.\n     * @return string|false The serialized data, or boolean false if not serializable.\n     *\/",123],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","_serialize",134],"(",["T_VARIABLE","$serialize",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$data",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_dataToSerialize",136],"(",["T_VARIABLE","$serialize",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$jsonOptions",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","JSON_HEX_TAG",138],["T_WHITESPACE"," ",138],"|",["T_WHITESPACE"," ",138],["T_STRING","JSON_HEX_APOS",138],["T_WHITESPACE"," ",138],"|",["T_WHITESPACE"," ",138],["T_STRING","JSON_HEX_AMP",138],["T_WHITESPACE"," ",138],"|",["T_WHITESPACE"," ",138],["T_STRING","JSON_HEX_QUOT",138],["T_WHITESPACE"," ",138],"|",["T_WHITESPACE","\n            ",138],["T_STRING","JSON_PARTIAL_OUTPUT_ON_ERROR",139],";",["T_WHITESPACE","\n\n        ",139],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_ISSET","isset",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","viewVars",141],"[",["T_CONSTANT_ENCAPSED_STRING","'_jsonOptions'",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","viewVars",142],"[",["T_CONSTANT_ENCAPSED_STRING","'_jsonOptions'",142],"]",["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_STRING","false",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$jsonOptions",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE"," ",144],["T_ELSE","else",144],["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$jsonOptions",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","viewVars",145],"[",["T_CONSTANT_ENCAPSED_STRING","'_jsonOptions'",145],"]",";",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_STRING","Configure",149],["T_DOUBLE_COLON","::",149],["T_STRING","read",149],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",149],")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$jsonOptions",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$jsonOptions",150],["T_WHITESPACE"," ",150],"|",["T_WHITESPACE"," ",150],["T_STRING","JSON_PRETTY_PRINT",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_STRING","json_encode",153],"(",["T_VARIABLE","$data",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$jsonOptions",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Returns data to be serialized.\n     *\n     * @param array|string|bool $serialize The name(s) of the view variable(s) that\n     *   need(s) to be serialized. If true all available view variables will be used.\n     * @return mixed The data to serialize.\n     *\/",156],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","_dataToSerialize",163],"(",["T_VARIABLE","$serialize",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","true",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$serialize",165],["T_WHITESPACE"," ",165],["T_IS_IDENTICAL","===",165],["T_WHITESPACE"," ",165],["T_STRING","true",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$data",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","array_diff_key",166],"(",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","viewVars",167],",",["T_WHITESPACE","\n                ",167],["T_STRING","array_flip",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_specialVars",168],")",["T_WHITESPACE","\n            ",168],")",";",["T_WHITESPACE","\n\n            ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_EMPTY","empty",171],"(",["T_VARIABLE","$data",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_STRING","null",172],";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n\n            ",173],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$data",175],";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n\n        ",176],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_STRING","is_array",178],"(",["T_VARIABLE","$serialize",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$data",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"[","]",";",["T_WHITESPACE","\n            ",179],["T_FOREACH","foreach",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$serialize",180],["T_WHITESPACE"," ",180],["T_AS","as",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$alias",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$key",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_STRING","is_numeric",181],"(",["T_VARIABLE","$alias",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                    ",181],["T_VARIABLE","$alias",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$key",182],";",["T_WHITESPACE","\n                ",182],"}",["T_WHITESPACE","\n                ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_STRING","array_key_exists",184],"(",["T_VARIABLE","$key",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","viewVars",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                    ",184],["T_VARIABLE","$data",185],"[",["T_VARIABLE","$alias",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","viewVars",185],"[",["T_VARIABLE","$key",185],"]",";",["T_WHITESPACE","\n                ",185],"}",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n\n            ",187],["T_RETURN","return",189],["T_WHITESPACE"," ",189],"!",["T_EMPTY","empty",189],"(",["T_VARIABLE","$data",189],")",["T_WHITESPACE"," ",189],"?",["T_WHITESPACE"," ",189],["T_VARIABLE","$data",189],["T_WHITESPACE"," ",189],":",["T_WHITESPACE"," ",189],["T_STRING","null",189],";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n\n        ",190],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_ISSET","isset",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","viewVars",192],"[",["T_VARIABLE","$serialize",192],"]",")",["T_WHITESPACE"," ",192],"?",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","viewVars",192],"[",["T_VARIABLE","$serialize",192],"]",["T_WHITESPACE"," ",192],":",["T_WHITESPACE"," ",192],["T_STRING","null",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n",193],"}",["T_WHITESPACE","\n",194]]