[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Http",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Event",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EventDispatcherTrait",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Event",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EventListenerInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Network",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Request",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Network",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Response",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Routing",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Router",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","LogicException",23],";",["T_WHITESPACE","\n\n",23],["T_DOC_COMMENT","\/**\n * This class provides compatibility with dispatcher filters\n * and interacting with the controller layers.\n *\n * Long term this should just be the controller dispatcher, but\n * for now it will do a bit more than that.\n *\/",25],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","ActionDispatcher",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","EventDispatcherTrait",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Attached routing filters\n     *\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$filters",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Controller factory instance.\n     *\n     * @var \\Cake\\Http\\ControllerFactory\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$factory",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Cake\\Http\\ControllerFactory|null $factory A controller factory instance.\n     * @param \\Cake\\Event\\EventManager|null $eventManager An event manager if you want to inject one.\n     * @param array $filters The list of filters to include.\n     *\/",50],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_VARIABLE","$factory",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$eventManager",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$filters",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"[","]",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$eventManager",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","eventManager",60],"(",["T_VARIABLE","$eventManager",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n        ",61],["T_FOREACH","foreach",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$filters",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$filter",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","addFilter",63],"(",["T_VARIABLE","$filter",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","factory",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$factory",65],["T_WHITESPACE"," ",65],"?",":",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","ControllerFactory",65],"(",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Dispatches a Request & Response\n     *\n     * @param \\Cake\\Network\\Request $request The request to dispatch.\n     * @param \\Cake\\Network\\Response $response The response to dispatch.\n     * @return \\Cake\\Network\\Response a modified\/replaced response.\n     *\/",68],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","dispatch",75],"(",["T_STRING","Request",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$request",75],",",["T_WHITESPACE"," ",75],["T_STRING","Response",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$response",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_STRING","Router",77],["T_DOUBLE_COLON","::",77],["T_STRING","getRequest",77],"(",["T_STRING","true",77],")",["T_WHITESPACE"," ",77],["T_IS_NOT_IDENTICAL","!==",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$request",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_STRING","Router",78],["T_DOUBLE_COLON","::",78],["T_STRING","pushRequest",78],"(",["T_VARIABLE","$request",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$beforeEvent",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","dispatchEvent",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.beforeDispatch'",80],",",["T_WHITESPACE"," ",80],["T_STRING","compact",80],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'response'",80],")",")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$request",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$beforeEvent",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","data",82],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",82],"]",";",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$beforeEvent",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","result",83],["T_WHITESPACE"," ",83],["T_INSTANCEOF","instanceof",83],["T_WHITESPACE"," ",83],["T_STRING","Response",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$beforeEvent",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","result",84],";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_COMMENT","\/\/ Use the controller built by an beforeDispatch\n",87],["T_WHITESPACE","        ",88],["T_COMMENT","\/\/ event handler if there is one.\n",88],["T_WHITESPACE","        ",89],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_ISSET","isset",89],"(",["T_VARIABLE","$beforeEvent",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$controller",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$beforeEvent",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",90],"]",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE"," ",91],["T_ELSE","else",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$controller",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","factory",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","create",92],"(",["T_VARIABLE","$request",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$response",92],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$response",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_invoke",95],"(",["T_VARIABLE","$controller",95],")",";",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_ISSET","isset",96],"(",["T_VARIABLE","$request",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","params",96],"[",["T_CONSTANT_ENCAPSED_STRING","'return'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$response",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$afterEvent",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","dispatchEvent",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",100],",",["T_WHITESPACE"," ",100],["T_STRING","compact",100],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'response'",100],")",")",";",["T_WHITESPACE","\n\n        ",100],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$afterEvent",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",102],"]",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Invoke a controller's action and wrapping methods.\n     *\n     * @param \\Cake\\Controller\\Controller $controller The controller to invoke.\n     * @return \\Cake\\Network\\Response The response\n     * @throws \\LogicException If the controller action returns a non-response value.\n     *\/",105],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","_invoke",112],"(",["T_STRING","Controller",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$controller",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","dispatchEvent",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.invokeController'",114],",",["T_WHITESPACE"," ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$controller",114],"]",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$result",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$controller",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","startupProcess",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$result",117],["T_WHITESPACE"," ",117],["T_INSTANCEOF","instanceof",117],["T_WHITESPACE"," ",117],["T_STRING","Response",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$result",118],";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$response",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$controller",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","invokeAction",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$response",122],["T_WHITESPACE"," ",122],["T_IS_NOT_IDENTICAL","!==",122],["T_WHITESPACE"," ",122],["T_STRING","null",122],["T_WHITESPACE"," ",122],["T_BOOLEAN_AND","&&",122],["T_WHITESPACE"," ",122],"!","(",["T_VARIABLE","$response",122],["T_WHITESPACE"," ",122],["T_INSTANCEOF","instanceof",122],["T_WHITESPACE"," ",122],["T_STRING","Response",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_THROW","throw",123],["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","LogicException",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller actions can only return Cake\\Network\\Response or null.'",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_VARIABLE","$response",126],["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$controller",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","autoRender",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$response",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$controller",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","render",127],"(",")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE"," ",128],["T_ELSEIF","elseif",128],["T_WHITESPACE"," ",128],"(","!",["T_VARIABLE","$response",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$response",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$controller",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","response",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$result",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$controller",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","shutdownProcess",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$result",133],["T_WHITESPACE"," ",133],["T_INSTANCEOF","instanceof",133],["T_WHITESPACE"," ",133],["T_STRING","Response",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$result",134],";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$response",137],";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Add a filter to this dispatcher.\n     *\n     * The added filter will be attached to the event manager used\n     * by this dispatcher.\n     *\n     * @param \\Cake\\Event\\EventListenerInterface $filter The filter to connect. Can be\n     *   any EventListenerInterface. Typically an instance of \\Cake\\Routing\\DispatcherFilter.\n     * @return void\n     * @deprecated This is only available for backwards compatibility with DispatchFilters\n     *\/",140],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","addFilter",151],"(",["T_STRING","EventListenerInterface",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$filter",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","filters",153],"[","]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$filter",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","eventManager",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","on",154],"(",["T_VARIABLE","$filter",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Get the connected filters.\n     *\n     * @return array\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","getFilters",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","filters",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n",165],"}",["T_WHITESPACE","\n",166]]