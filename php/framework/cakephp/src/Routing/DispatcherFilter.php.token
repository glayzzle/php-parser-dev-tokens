[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.2.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Routing",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","InstanceConfigTrait",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Event",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Event",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Event",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EventListenerInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","InvalidArgumentException",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * This abstract class represents a filter to be applied to a dispatcher cycle. It acts as an\n * event listener with the ability to alter the request or response as needed before it is handled\n * by a controller or after the response body has already been built.\n *\n * Subclasses of this class use a class naming convention having a `Filter` suffix.\n *\n * ### Limiting filters to specific paths\n *\n * By using the `for` option you can limit with request paths a filter is applied to.\n * Both the before and after event will have the same conditions applied to them. For\n * example, if you only wanted a filter applied to blog requests you could do:\n *\n * ```\n * $filter = new BlogFilter(['for' => '\/blog']);\n * ```\n *\n * When the above filter is connected to a dispatcher it will only fire\n * its `beforeDispatch` and `afterDispatch` methods on requests that start with `\/blog`.\n *\n * The for condition can also be a regular expression by using the `preg:` prefix:\n *\n * ```\n * $filter = new BlogFilter(['for' => 'preg:#^\/blog\/\\d+$#']);\n * ```\n *\n * ### Limiting filters based on conditions\n *\n * In addition to simple path based matching you can use a closure to match on arbitrary request\n * or response conditions. For example:\n *\n * ```\n * $cookieMonster = new CookieFilter([\n *   'when' => function ($req, $res) {\n *     \/\/ Custom code goes here.\n *   }\n * ]);\n * ```\n *\n * If your when condition returns `true` the before\/after methods will be called.\n *\n * When using the `for` or `when` matchers, conditions will be re-checked on the before and after\n * callback as the conditions could change during the dispatch cycle.\n *\/",22],["T_WHITESPACE","\n",65],["T_CLASS","class",66],["T_WHITESPACE"," ",66],["T_STRING","DispatcherFilter",66],["T_WHITESPACE"," ",66],["T_IMPLEMENTS","implements",66],["T_WHITESPACE"," ",66],["T_STRING","EventListenerInterface",66],["T_WHITESPACE","\n",66],"{",["T_WHITESPACE","\n\n    ",67],["T_USE","use",69],["T_WHITESPACE"," ",69],["T_STRING","InstanceConfigTrait",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Default priority for all methods in this filter\n     *\n     * @var int\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_priority",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_LNUMBER","10",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Default config\n     *\n     * These are merged with user-provided config when the class is used.\n     * The when and for options allow you to define conditions that are checked before\n     * your filter is called.\n     *\n     * @var array\n     *\/",78],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$_defaultConfig",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],"[",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'when'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","null",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'for'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_STRING","null",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'priority'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","null",90],",",["T_WHITESPACE","\n    ",90],"]",";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param array $config Settings for the filter.\n     * @throws \\InvalidArgumentException When 'when' conditions are not callable.\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","__construct",99],"(",["T_VARIABLE","$config",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[","]",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_ISSET","isset",101],"(",["T_VARIABLE","$config",101],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$config",102],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_priority",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","config",104],"(",["T_VARIABLE","$config",104],")",";",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_ISSET","isset",105],"(",["T_VARIABLE","$config",105],"[",["T_CONSTANT_ENCAPSED_STRING","'when'",105],"]",")",["T_WHITESPACE"," ",105],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],"!",["T_STRING","is_callable",105],"(",["T_VARIABLE","$config",105],"[",["T_CONSTANT_ENCAPSED_STRING","'when'",105],"]",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","InvalidArgumentException",106],"(",["T_CONSTANT_ENCAPSED_STRING","'\"when\" conditions must be a callable.'",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Returns the list of events this filter listens to.\n     * Dispatcher notifies 2 different events `Dispatcher.before` and `Dispatcher.after`.\n     * By default this class will attach `preDispatch` and `postDispatch` method respectively.\n     *\n     * Override this method at will to only listen to the events you are interested in.\n     *\n     * @return array\n     *\/",110],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","implementedEvents",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],"[",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.beforeDispatch'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],"[",["T_WHITESPACE","\n                ",122],["T_CONSTANT_ENCAPSED_STRING","'callable'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'handle'",123],",",["T_WHITESPACE","\n                ",123],["T_CONSTANT_ENCAPSED_STRING","'priority'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_config",124],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",124],"]",["T_WHITESPACE","\n            ",124],"]",",",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'Dispatcher.afterDispatch'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],"[",["T_WHITESPACE","\n                ",126],["T_CONSTANT_ENCAPSED_STRING","'callable'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'handle'",127],",",["T_WHITESPACE","\n                ",127],["T_CONSTANT_ENCAPSED_STRING","'priority'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_config",128],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",128],"]",["T_WHITESPACE","\n            ",128],"]",",",["T_WHITESPACE","\n        ",129],"]",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Handler method that applies conditions and resolves the correct method to call.\n     *\n     * @param \\Cake\\Event\\Event $event The event instance.\n     * @return mixed\n     *\/",133],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","handle",139],"(",["T_STRING","Event",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$event",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$name",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$event",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","name",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_LIST","list",142],"(",",",["T_WHITESPACE"," ",142],["T_VARIABLE","$method",142],")",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","explode",142],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$name",142],")",";",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_EMPTY","empty",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_config",143],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",143],"]",")",["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],["T_EMPTY","empty",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_config",143],"[",["T_CONSTANT_ENCAPSED_STRING","'when'",143],"]",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],"{",["T_VARIABLE","$method",144],"}","(",["T_VARIABLE","$event",144],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","matches",146],"(",["T_VARIABLE","$event",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],"{",["T_VARIABLE","$method",147],"}","(",["T_VARIABLE","$event",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Check to see if the incoming request matches this filter's criteria.\n     *\n     * @param \\Cake\\Event\\Event $event The event to match.\n     * @return bool\n     *\/",151],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","matches",157],"(",["T_STRING","Event",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$event",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$request",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$event",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","data",159],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",159],"]",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$pass",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","true",160],";",["T_WHITESPACE","\n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_EMPTY","empty",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_config",161],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",161],"]",")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$len",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","strlen",162],"(",["T_CONSTANT_ENCAPSED_STRING","'preg:'",162],")",";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$for",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_config",163],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",163],"]",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$url",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$request",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","here",164],"(",["T_STRING","false",164],")",";",["T_WHITESPACE","\n            ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_STRING","substr",165],"(",["T_VARIABLE","$for",165],",",["T_WHITESPACE"," ",165],["T_LNUMBER","0",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$len",165],")",["T_WHITESPACE"," ",165],["T_IS_IDENTICAL","===",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'preg:'",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$pass",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_BOOL_CAST","(bool)",166],["T_STRING","preg_match",166],"(",["T_STRING","substr",166],"(",["T_VARIABLE","$for",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$len",166],")",",",["T_WHITESPACE"," ",166],["T_VARIABLE","$url",166],")",";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE"," ",167],["T_ELSE","else",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$pass",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","strpos",168],"(",["T_VARIABLE","$url",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$for",168],")",["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_LNUMBER","0",168],";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n        ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$pass",171],["T_WHITESPACE"," ",171],["T_BOOLEAN_AND","&&",171],["T_WHITESPACE"," ",171],"!",["T_EMPTY","empty",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_config",171],"[",["T_CONSTANT_ENCAPSED_STRING","'when'",171],"]",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$response",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$event",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","data",172],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",172],"]",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$pass",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_config",173],"[",["T_CONSTANT_ENCAPSED_STRING","'when'",173],"]","(",["T_VARIABLE","$request",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$response",173],")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n\n        ",174],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$pass",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Method called before the controller is instantiated and called to serve a request.\n     * If used with default priority, it will be called after the Router has parsed the\n     * URL and set the routing params into the request object.\n     *\n     * If a Cake\\Network\\Response object instance is returned, it will be served at the end of the\n     * event cycle, not calling any controller as a result. This will also have the effect of\n     * not calling the after event in the dispatcher.\n     *\n     * If false is returned, the event will be stopped and no more listeners will be notified.\n     * Alternatively you can call `$event->stopPropagation()` to achieve the same result.\n     *\n     * @param \\Cake\\Event\\Event $event container object having the `request`, `response` and `additionalParams`\n     *    keys in the data property.\n     * @return void\n     *\/",179],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","beforeDispatch",195],"(",["T_STRING","Event",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$event",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Method called after the controller served a request and generated a response.\n     * It is possible to alter the response object at this point as it is not sent to the\n     * client yet.\n     *\n     * If false is returned, the event will be stopped and no more listeners will be notified.\n     * Alternatively you can call `$event->stopPropagation()` to achieve the same result.\n     *\n     * @param \\Cake\\Event\\Event $event container object having the `request` and  `response`\n     *    keys in the data property.\n     * @return void\n     *\/",199],["T_WHITESPACE","\n    ",210],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","afterDispatch",211],"(",["T_STRING","Event",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$event",211],")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n",213],"}",["T_WHITESPACE","\n",214]]