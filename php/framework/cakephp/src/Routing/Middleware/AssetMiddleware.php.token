[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Routing",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Middleware",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Plugin",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Filesystem",18],["T_NS_SEPARATOR","\\",18],["T_STRING","File",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Utility",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Inflector",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Psr",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Http",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Message",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ResponseInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Psr",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Http",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Message",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ServerRequestInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Zend",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Diactoros",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Response",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Zend",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Diactoros",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Stream",23],";",["T_WHITESPACE","\n\n",23],["T_DOC_COMMENT","\/**\n * Handles serving plugin assets in development mode.\n *\n * This should not be used in production environments as it\n * has sub-optimal performance when compared to serving files\n * with a real webserver.\n *\/",25],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","AssetMiddleware",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_DOC_COMMENT","\/**\n     * The amount of time to cache the asset.\n     *\n     * @var string\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$cacheTime",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'+1 day'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * A extension to content type mapping for plain text types.\n     *\n     * Because finfo doesn't give useful information for plain text types,\n     * we have to handle that here.\n     *\n     * @var array\n     *\/",41],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$typeMap",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'css'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'text\/css'",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'json'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'js'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'application\/javascript'",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'ico'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'image\/x-icon'",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'eot'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.ms-fontobject'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'svg'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'image\/svg+xml'",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'html'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'rss'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'application\/rss+xml'",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'xml'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",58],",",["T_WHITESPACE","\n    ",58],"]",";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param array $options The options to use\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","__construct",66],"(",["T_ARRAY","array",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$options",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(","!",["T_EMPTY","empty",68],"(",["T_VARIABLE","$options",68],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheTime'",68],"]",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","cacheTime",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$options",69],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheTime'",69],"]",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","!",["T_EMPTY","empty",71],"(",["T_VARIABLE","$options",71],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",71],"]",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","typeMap",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","array_merge",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","typeMap",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$options",72],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",72],"]",")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Serve assets if the path matches one.\n     *\n     * @param \\Psr\\Http\\Message\\ServerRequestInterface $request The request.\n     * @param \\Psr\\Http\\Message\\ResponseInterface $response The response.\n     * @param callable $next Callback to invoke the next middleware.\n     * @return \\Psr\\Http\\Message\\ResponseInterface A response\n     *\/",76],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","__invoke",84],"(",["T_VARIABLE","$request",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$response",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$next",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$url",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$request",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getUri",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getPath",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_STRING","strpos",87],"(",["T_VARIABLE","$url",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'..'",87],")",["T_WHITESPACE"," ",87],["T_IS_NOT_IDENTICAL","!==",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],["T_WHITESPACE"," ",87],["T_BOOLEAN_OR","||",87],["T_WHITESPACE"," ",87],["T_STRING","strpos",87],"(",["T_VARIABLE","$url",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'.'",87],")",["T_WHITESPACE"," ",87],["T_IS_IDENTICAL","===",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$next",88],"(",["T_VARIABLE","$request",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$response",88],")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$assetFile",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_getAssetFile",91],"(",["T_VARIABLE","$url",91],")",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$assetFile",92],["T_WHITESPACE"," ",92],["T_IS_IDENTICAL","===",92],["T_WHITESPACE"," ",92],["T_STRING","null",92],["T_WHITESPACE"," ",92],["T_BOOLEAN_OR","||",92],["T_WHITESPACE"," ",92],"!",["T_STRING","file_exists",92],"(",["T_VARIABLE","$assetFile",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$next",93],"(",["T_VARIABLE","$request",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$response",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$file",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","File",96],"(",["T_VARIABLE","$assetFile",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$modifiedTime",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$file",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","lastChange",97],"(",")",";",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","isNotModified",98],"(",["T_VARIABLE","$request",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$file",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$headers",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$response",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getHeaders",99],"(",")",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$headers",100],"[",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","date",100],"(",["T_STRING","DATE_RFC850",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$modifiedTime",100],")",";",["T_WHITESPACE","\n\n            ",100],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","Response",102],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/memory'",102],",",["T_WHITESPACE"," ",102],["T_LNUMBER","304",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$headers",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","deliverAsset",105],"(",["T_VARIABLE","$request",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$response",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$file",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Check the not modified header.\n     *\n     * @param \\Psr\\Http\\Message\\ServerRequestInterface $request The request to check.\n     * @param \\Cake\\Filesystem\\File $file The file object to compare.\n     * @return bool\n     *\/",108],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","isNotModified",115],"(",["T_VARIABLE","$request",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$file",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$modifiedSince",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$request",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getHeaderLine",117],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since'",117],")",";",["T_WHITESPACE","\n        ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$modifiedSince",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_STRING","false",119],";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","strtotime",122],"(",["T_VARIABLE","$modifiedSince",122],")",["T_WHITESPACE"," ",122],["T_IS_IDENTICAL","===",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$file",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","lastChange",122],"(",")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Builds asset file path based off url\n     *\n     * @param string $url Asset URL\n     * @return string Absolute path for asset file\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","_getAssetFile",131],"(",["T_VARIABLE","$url",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$parts",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","explode",133],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",133],",",["T_WHITESPACE"," ",133],["T_STRING","ltrim",133],"(",["T_VARIABLE","$url",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'\/'",133],")",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$pluginPart",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],"[","]",";",["T_WHITESPACE","\n        ",134],["T_FOR","for",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$i",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_LNUMBER","0",135],";",["T_WHITESPACE"," ",135],["T_VARIABLE","$i",135],["T_WHITESPACE"," ",135],"<",["T_WHITESPACE"," ",135],["T_LNUMBER","2",135],";",["T_WHITESPACE"," ",135],["T_VARIABLE","$i",135],["T_INC","++",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","!",["T_ISSET","isset",136],"(",["T_VARIABLE","$parts",136],"[",["T_VARIABLE","$i",136],"]",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_BREAK","break",137],";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$pluginPart",139],"[","]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","Inflector",139],["T_DOUBLE_COLON","::",139],["T_STRING","camelize",139],"(",["T_VARIABLE","$parts",139],"[",["T_VARIABLE","$i",139],"]",")",";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$plugin",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","implode",140],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$pluginPart",140],")",";",["T_WHITESPACE","\n            ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$plugin",141],["T_WHITESPACE"," ",141],["T_BOOLEAN_AND","&&",141],["T_WHITESPACE"," ",141],["T_STRING","Plugin",141],["T_DOUBLE_COLON","::",141],["T_STRING","loaded",141],"(",["T_VARIABLE","$plugin",141],")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$parts",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","array_slice",142],"(",["T_VARIABLE","$parts",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$i",142],["T_WHITESPACE"," ",142],"+",["T_WHITESPACE"," ",142],["T_LNUMBER","1",142],")",";",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$fileFragment",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","implode",143],"(",["T_STRING","DIRECTORY_SEPARATOR",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$parts",143],")",";",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$pluginWebroot",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","Plugin",144],["T_DOUBLE_COLON","::",144],["T_STRING","path",144],"(",["T_VARIABLE","$plugin",144],")",["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'webroot'",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_STRING","DIRECTORY_SEPARATOR",144],";",["T_WHITESPACE","\n\n                ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$pluginWebroot",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$fileFragment",146],";",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Sends an asset file to the client\n     *\n     * @param \\Psr\\Http\\Message\\ServerRequestInterface $request The request object to use.\n     * @param \\Psr\\Http\\Message\\ResponseInterface $response The response object to use.\n     * @param \\Cake\\Filesystem\\File $file The file wrapper for the file.\n     * @return \\Psr\\Http\\Message\\ResponseInterface The response with the file & headers.\n     *\/",153],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","deliverAsset",161],"(",["T_STRING","ServerRequestInterface",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$request",161],",",["T_WHITESPACE"," ",161],["T_STRING","ResponseInterface",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$response",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$file",161],")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$contentType",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getType",163],"(",["T_VARIABLE","$file",163],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$modified",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$file",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","lastChange",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$expire",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","strtotime",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","cacheTime",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$maxAge",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$expire",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_STRING","time",166],"(",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$stream",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","Stream",168],"(",["T_STRING","fopen",168],"(",["T_VARIABLE","$file",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","path",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'rb'",168],")",")",";",["T_WHITESPACE","\n\n        ",168],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$response",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","withBody",170],"(",["T_VARIABLE","$stream",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","withHeader",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$contentType",171],")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","withHeader",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'public,max-age='",172],["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_VARIABLE","$maxAge",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","withHeader",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",173],",",["T_WHITESPACE"," ",173],["T_STRING","gmdate",173],"(",["T_CONSTANT_ENCAPSED_STRING","'D, j M Y G:i:s \\G\\M\\T'",173],",",["T_WHITESPACE"," ",173],["T_STRING","time",173],"(",")",")",")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","withHeader",174],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",174],",",["T_WHITESPACE"," ",174],["T_STRING","gmdate",174],"(",["T_CONSTANT_ENCAPSED_STRING","'D, j M Y G:i:s \\G\\M\\T'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$modified",174],")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","withHeader",175],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",175],",",["T_WHITESPACE"," ",175],["T_STRING","gmdate",175],"(",["T_CONSTANT_ENCAPSED_STRING","'D, j M Y G:i:s \\G\\M\\T'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$expire",175],")",")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Return the type from a File object\n     *\n     * @param File $file The file from which you get the type\n     * @return string\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getType",184],"(",["T_VARIABLE","$file",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$extension",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$file",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","ext",186],"(",")",";",["T_WHITESPACE","\n        ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_ISSET","isset",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","typeMap",187],"[",["T_VARIABLE","$extension",187],"]",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","typeMap",188],"[",["T_VARIABLE","$extension",188],"]",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$file",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","mime",191],"(",")",["T_WHITESPACE"," ",191],"?",":",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'application\/octet-stream'",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n",192],"}",["T_WHITESPACE","\n",193]]