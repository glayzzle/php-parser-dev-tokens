[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Database",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Schema",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Schema management\/reflection features for Postgres.\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","PostgresSchema",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","BaseSchema",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","listTablesSql",28],"(",["T_VARIABLE","$config",28],")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$sql",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'SELECT table_name as name FROM information_schema.tables WHERE table_schema = ? ORDER BY name'",30],";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$schema",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_EMPTY","empty",31],"(",["T_VARIABLE","$config",31],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",31],"]",")",["T_WHITESPACE"," ",31],"?",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'public'",31],["T_WHITESPACE"," ",31],":",["T_WHITESPACE"," ",31],["T_VARIABLE","$config",31],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",31],"]",";",["T_WHITESPACE","\n\n        ",31],["T_RETURN","return",33],["T_WHITESPACE"," ",33],"[",["T_VARIABLE","$sql",33],",",["T_WHITESPACE"," ",33],"[",["T_VARIABLE","$schema",33],"]","]",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","describeColumnSql",39],"(",["T_VARIABLE","$tableName",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$config",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$sql",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'SELECT DISTINCT table_schema AS schema,\n            column_name AS name,\n            data_type AS type,\n            is_nullable AS null, column_default AS default,\n            character_maximum_length AS char_length,\n            c.collation_name,\n            d.description as comment,\n            ordinal_position,\n            c.numeric_precision as column_precision,\n            c.numeric_scale as column_scale,\n            pg_get_serial_sequence(attr.attrelid::regclass::text, attr.attname) IS NOT NULL AS has_serial\n        FROM information_schema.columns c\n        INNER JOIN pg_catalog.pg_namespace ns ON (ns.nspname = table_schema)\n        INNER JOIN pg_catalog.pg_class cl ON (cl.relnamespace = ns.oid AND cl.relname = table_name)\n        LEFT JOIN pg_catalog.pg_index i ON (i.indrelid = cl.oid AND i.indkey[0] = c.ordinal_position)\n        LEFT JOIN pg_catalog.pg_description d on (cl.oid = d.objoid AND d.objsubid = c.ordinal_position)\n        LEFT JOIN pg_catalog.pg_attribute attr ON (cl.oid = attr.attrelid AND column_name = attr.attname)\n        WHERE table_name = ? AND table_schema = ? AND table_catalog = ?\n        ORDER BY ordinal_position'",41],";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$schema",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_EMPTY","empty",61],"(",["T_VARIABLE","$config",61],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",61],"]",")",["T_WHITESPACE"," ",61],"?",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'public'",61],["T_WHITESPACE"," ",61],":",["T_WHITESPACE"," ",61],["T_VARIABLE","$config",61],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",61],"]",";",["T_WHITESPACE","\n\n        ",61],["T_RETURN","return",63],["T_WHITESPACE"," ",63],"[",["T_VARIABLE","$sql",63],",",["T_WHITESPACE"," ",63],"[",["T_VARIABLE","$tableName",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$schema",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$config",63],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",63],"]","]","]",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Convert a column definition to the abstract types.\n     *\n     * The returned type will be a type that\n     * Cake\\Database\\Type can handle.\n     *\n     * @param string $column The column type + length\n     * @throws \\Cake\\Database\\Exception when column cannot be parsed.\n     * @return array Array of column information.\n     *\/",66],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","_convertColumn",76],"(",["T_VARIABLE","$column",76],")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_STRING","preg_match",78],"(",["T_CONSTANT_ENCAPSED_STRING","'\/([a-z\\s]+)(?:\\(([0-9,]+)\\))?\/i'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$column",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$matches",78],")",";",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_EMPTY","empty",79],"(",["T_VARIABLE","$matches",79],")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_THROW","throw",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Exception",80],"(",["T_STRING","sprintf",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to parse column type from \"%s\"'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$column",80],")",")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$col",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","strtolower",83],"(",["T_VARIABLE","$matches",83],"[",["T_LNUMBER","1",83],"]",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$length",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","null",84],";",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_ISSET","isset",85],"(",["T_VARIABLE","$matches",85],"[",["T_LNUMBER","2",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$length",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_INT_CAST","(int)",86],["T_VARIABLE","$matches",86],"[",["T_LNUMBER","2",86],"]",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_STRING","in_array",89],"(",["T_VARIABLE","$col",89],",",["T_WHITESPACE"," ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'date'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'time'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'boolean'",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$col",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'length'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","null",90],"]",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","strpos",92],"(",["T_VARIABLE","$col",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",92],")",["T_WHITESPACE"," ",92],["T_IS_NOT_IDENTICAL","!==",92],["T_WHITESPACE"," ",92],["T_STRING","false",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'length'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","null",93],"]",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","strpos",95],"(",["T_VARIABLE","$col",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'time'",95],")",["T_WHITESPACE"," ",95],["T_IS_NOT_IDENTICAL","!==",95],["T_WHITESPACE"," ",95],["T_STRING","false",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'time'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'length'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","null",96],"]",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$col",98],["T_WHITESPACE"," ",98],["T_IS_IDENTICAL","===",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'serial'",98],["T_WHITESPACE"," ",98],["T_BOOLEAN_OR","||",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$col",98],["T_WHITESPACE"," ",98],["T_IS_IDENTICAL","===",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'integer'",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'integer'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'length'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_LNUMBER","10",99],"]",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$col",101],["T_WHITESPACE"," ",101],["T_IS_IDENTICAL","===",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'bigserial'",101],["T_WHITESPACE"," ",101],["T_BOOLEAN_OR","||",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$col",101],["T_WHITESPACE"," ",101],["T_IS_IDENTICAL","===",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'bigint'",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'length'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_LNUMBER","20",102],"]",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$col",104],["T_WHITESPACE"," ",104],["T_IS_IDENTICAL","===",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'smallint'",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'integer'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'length'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_LNUMBER","5",105],"]",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$col",107],["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'inet'",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'string'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'length'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_LNUMBER","39",108],"]",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$col",110],["T_WHITESPACE"," ",110],["T_IS_IDENTICAL","===",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'uuid'",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'uuid'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'length'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","null",111],"]",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$col",113],["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'char'",113],["T_WHITESPACE"," ",113],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$col",113],["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'character'",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'string'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'fixed'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_STRING","true",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'length'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$length",114],"]",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_COMMENT","\/\/ money is 'string' as it includes arbitrary text content\n",116],["T_WHITESPACE","        ",117],["T_COMMENT","\/\/ before the number value.\n",117],["T_WHITESPACE","        ",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_STRING","strpos",118],"(",["T_VARIABLE","$col",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'char'",118],")",["T_WHITESPACE"," ",118],["T_IS_NOT_IDENTICAL","!==",118],["T_WHITESPACE"," ",118],["T_STRING","false",118],["T_WHITESPACE"," ",118],["T_BOOLEAN_OR","||",118],["T_WHITESPACE","\n            ",118],["T_STRING","strpos",119],"(",["T_VARIABLE","$col",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'money'",119],")",["T_WHITESPACE"," ",119],["T_IS_NOT_IDENTICAL","!==",119],["T_WHITESPACE"," ",119],["T_STRING","false",119],["T_WHITESPACE","\n        ",119],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'string'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'length'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$length",121],"]",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","strpos",123],"(",["T_VARIABLE","$col",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'text'",123],")",["T_WHITESPACE"," ",123],["T_IS_NOT_IDENTICAL","!==",123],["T_WHITESPACE"," ",123],["T_STRING","false",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'text'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'length'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","null",124],"]",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$col",126],["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'bytea'",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'binary'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'length'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_STRING","null",127],"]",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$col",129],["T_WHITESPACE"," ",129],["T_IS_IDENTICAL","===",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'real'",129],["T_WHITESPACE"," ",129],["T_BOOLEAN_OR","||",129],["T_WHITESPACE"," ",129],["T_STRING","strpos",129],"(",["T_VARIABLE","$col",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'double'",129],")",["T_WHITESPACE"," ",129],["T_IS_NOT_IDENTICAL","!==",129],["T_WHITESPACE"," ",129],["T_STRING","false",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'float'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'length'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_STRING","null",130],"]",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_STRING","strpos",132],"(",["T_VARIABLE","$col",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'numeric'",132],")",["T_WHITESPACE"," ",132],["T_IS_NOT_IDENTICAL","!==",132],["T_WHITESPACE"," ",132],["T_STRING","false",132],["T_WHITESPACE"," ",132],["T_BOOLEAN_OR","||",132],["T_WHITESPACE","\n            ",132],["T_STRING","strpos",133],"(",["T_VARIABLE","$col",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'decimal'",133],")",["T_WHITESPACE"," ",133],["T_IS_NOT_IDENTICAL","!==",133],["T_WHITESPACE"," ",133],["T_STRING","false",133],["T_WHITESPACE","\n        ",133],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'decimal'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'length'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_STRING","null",135],"]",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n\n        ",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","strpos",138],"(",["T_VARIABLE","$col",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'json'",138],")",["T_WHITESPACE"," ",138],["T_IS_NOT_IDENTICAL","!==",138],["T_WHITESPACE"," ",138],["T_STRING","false",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'json'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'length'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_STRING","null",139],"]",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_RETURN","return",142],["T_WHITESPACE"," ",142],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'text'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'length'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_STRING","null",142],"]",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",145],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","convertColumnDescription",148],"(",["T_STRING","Table",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$table",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$row",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$field",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_convertColumn",150],"(",["T_VARIABLE","$row",150],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",150],"]",")",";",["T_WHITESPACE","\n\n        ",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$field",152],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",152],"]",["T_WHITESPACE"," ",152],["T_IS_IDENTICAL","===",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'boolean'",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$row",153],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",153],"]",["T_WHITESPACE"," ",153],["T_IS_IDENTICAL","===",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'true'",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$row",154],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_LNUMBER","1",154],";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n            ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$row",156],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",156],"]",["T_WHITESPACE"," ",156],["T_IS_IDENTICAL","===",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'false'",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$row",157],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_LNUMBER","0",157],";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_EMPTY","empty",160],"(",["T_VARIABLE","$row",160],"[",["T_CONSTANT_ENCAPSED_STRING","'has_serial'",160],"]",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$field",161],"[",["T_CONSTANT_ENCAPSED_STRING","'autoIncrement'",161],"]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","true",161],";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$field",164],["T_WHITESPACE"," ",164],["T_PLUS_EQUAL","+=",164],["T_WHITESPACE"," ",164],"[",["T_WHITESPACE","\n            ",164],["T_CONSTANT_ENCAPSED_STRING","'default'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_defaultValue",165],"(",["T_VARIABLE","$row",165],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",165],"]",")",",",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","'null'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$row",166],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",166],"]",["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'YES'",166],["T_WHITESPACE"," ",166],"?",["T_WHITESPACE"," ",166],["T_STRING","true",166],["T_WHITESPACE"," ",166],":",["T_WHITESPACE"," ",166],["T_STRING","false",166],",",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'collate'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$row",167],"[",["T_CONSTANT_ENCAPSED_STRING","'collation_name'",167],"]",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'comment'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$row",168],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",168],"]",["T_WHITESPACE","\n        ",168],"]",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$field",170],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$row",170],"[",["T_CONSTANT_ENCAPSED_STRING","'char_length'",170],"]",["T_WHITESPACE"," ",170],"?",":",["T_WHITESPACE"," ",170],["T_VARIABLE","$field",170],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",170],"]",";",["T_WHITESPACE","\n\n        ",170],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$field",172],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",172],"]",["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'numeric'",172],["T_WHITESPACE"," ",172],["T_BOOLEAN_OR","||",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$field",172],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",172],"]",["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'decimal'",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$field",173],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$row",173],"[",["T_CONSTANT_ENCAPSED_STRING","'column_precision'",173],"]",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$field",174],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$row",174],"[",["T_CONSTANT_ENCAPSED_STRING","'column_scale'",174],"]",["T_WHITESPACE"," ",174],"?",["T_WHITESPACE"," ",174],["T_VARIABLE","$row",174],"[",["T_CONSTANT_ENCAPSED_STRING","'column_scale'",174],"]",["T_WHITESPACE"," ",174],":",["T_WHITESPACE"," ",174],["T_STRING","null",174],";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$table",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","addColumn",176],"(",["T_VARIABLE","$row",176],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",176],"]",",",["T_WHITESPACE"," ",176],["T_VARIABLE","$field",176],")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Manipulate the default value.\n     *\n     * Postgres includes sequence data and casting information in default values.\n     * We need to remove those.\n     *\n     * @param string|null $default The default value.\n     * @return string|null\n     *\/",179],["T_WHITESPACE","\n    ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","_defaultValue",188],"(",["T_VARIABLE","$default",188],")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_STRING","is_numeric",190],"(",["T_VARIABLE","$default",190],")",["T_WHITESPACE"," ",190],["T_BOOLEAN_OR","||",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$default",190],["T_WHITESPACE"," ",190],["T_IS_IDENTICAL","===",190],["T_WHITESPACE"," ",190],["T_STRING","null",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$default",191],";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n        ",192],["T_COMMENT","\/\/ Sequences\n",193],["T_WHITESPACE","        ",194],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_STRING","strpos",194],"(",["T_VARIABLE","$default",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'nextval'",194],")",["T_WHITESPACE"," ",194],["T_IS_IDENTICAL","===",194],["T_WHITESPACE"," ",194],["T_LNUMBER","0",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_STRING","null",195],";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n\n        ",196],["T_COMMENT","\/\/ Remove quotes and postgres casts\n",198],["T_WHITESPACE","        ",199],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","preg_replace",199],"(",["T_WHITESPACE","\n            ",199],["T_CONSTANT_ENCAPSED_STRING","\"\/^'(.*)'(?:::.*)$\/\"",200],",",["T_WHITESPACE","\n            ",200],["T_CONSTANT_ENCAPSED_STRING","\"$1\"",201],",",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$default",202],["T_WHITESPACE","\n        ",202],")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",206],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","describeIndexSql",209],"(",["T_VARIABLE","$tableName",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$config",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$sql",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","\"SELECT\n        c2.relname,\n        a.attname,\n        i.indisprimary,\n        i.indisunique\n        FROM pg_catalog.pg_namespace n\n        INNER JOIN pg_catalog.pg_class c ON (n.oid = c.relnamespace)\n        INNER JOIN pg_catalog.pg_index i ON (c.oid = i.indrelid)\n        INNER JOIN pg_catalog.pg_class c2 ON (c2.oid = i.indexrelid)\n        INNER JOIN pg_catalog.pg_attribute a ON (a.attrelid = c.oid AND i.indrelid::regclass = a.attrelid::regclass)\n        WHERE n.nspname = ?\n        AND a.attnum = ANY(i.indkey)\n        AND c.relname = ?\n        ORDER BY i.indisprimary DESC, i.indisunique DESC, c.relname, a.attnum\"",211],";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$schema",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'public'",226],";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_EMPTY","empty",227],"(",["T_VARIABLE","$config",227],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",227],"]",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$schema",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$config",228],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",228],"]",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],"[",["T_VARIABLE","$sql",231],",",["T_WHITESPACE"," ",231],"[",["T_VARIABLE","$schema",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$tableName",231],"]","]",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",234],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","convertIndexDescription",237],"(",["T_STRING","Table",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$table",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$row",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$type",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","Table",239],["T_DOUBLE_COLON","::",239],["T_STRING","INDEX_INDEX",239],";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$name",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$row",240],"[",["T_CONSTANT_ENCAPSED_STRING","'relname'",240],"]",";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$row",241],"[",["T_CONSTANT_ENCAPSED_STRING","'indisprimary'",241],"]",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$name",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$type",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","Table",242],["T_DOUBLE_COLON","::",242],["T_STRING","CONSTRAINT_PRIMARY",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$row",244],"[",["T_CONSTANT_ENCAPSED_STRING","'indisunique'",244],"]",["T_WHITESPACE"," ",244],["T_BOOLEAN_AND","&&",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$type",244],["T_WHITESPACE"," ",244],["T_IS_IDENTICAL","===",244],["T_WHITESPACE"," ",244],["T_STRING","Table",244],["T_DOUBLE_COLON","::",244],["T_STRING","INDEX_INDEX",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$type",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","Table",245],["T_DOUBLE_COLON","::",245],["T_STRING","CONSTRAINT_UNIQUE",245],";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$type",247],["T_WHITESPACE"," ",247],["T_IS_IDENTICAL","===",247],["T_WHITESPACE"," ",247],["T_STRING","Table",247],["T_DOUBLE_COLON","::",247],["T_STRING","CONSTRAINT_PRIMARY",247],["T_WHITESPACE"," ",247],["T_BOOLEAN_OR","||",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$type",247],["T_WHITESPACE"," ",247],["T_IS_IDENTICAL","===",247],["T_WHITESPACE"," ",247],["T_STRING","Table",247],["T_DOUBLE_COLON","::",247],["T_STRING","CONSTRAINT_UNIQUE",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_convertConstraint",248],"(",["T_VARIABLE","$table",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$name",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$type",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$row",248],")",";",["T_WHITESPACE","\n\n            ",248],["T_RETURN","return",250],";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$index",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$table",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","index",252],"(",["T_VARIABLE","$name",252],")",";",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_VARIABLE","$index",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$index",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],"[",["T_WHITESPACE","\n                ",254],["T_CONSTANT_ENCAPSED_STRING","'type'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$type",255],",",["T_WHITESPACE","\n                ",255],["T_CONSTANT_ENCAPSED_STRING","'columns'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],"[","]",["T_WHITESPACE","\n            ",256],"]",";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$index",259],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",259],"]","[","]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$row",259],"[",["T_CONSTANT_ENCAPSED_STRING","'attname'",259],"]",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$table",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","addIndex",260],"(",["T_VARIABLE","$name",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$index",260],")",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Add\/update a constraint into the schema object.\n     *\n     * @param \\Cake\\Database\\Schema\\Table $table The table to update.\n     * @param string $name The index name.\n     * @param string $type The index type.\n     * @param array $row The metadata record to update with.\n     * @return void\n     *\/",263],["T_WHITESPACE","\n    ",271],["T_PROTECTED","protected",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","_convertConstraint",272],"(",["T_VARIABLE","$table",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$name",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$type",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$row",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$constraint",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$table",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","constraint",274],"(",["T_VARIABLE","$name",274],")",";",["T_WHITESPACE","\n        ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(","!",["T_VARIABLE","$constraint",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$constraint",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],"[",["T_WHITESPACE","\n                ",276],["T_CONSTANT_ENCAPSED_STRING","'type'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$type",277],",",["T_WHITESPACE","\n                ",277],["T_CONSTANT_ENCAPSED_STRING","'columns'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],"[","]",["T_WHITESPACE","\n            ",278],"]",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$constraint",281],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",281],"]","[","]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$row",281],"[",["T_CONSTANT_ENCAPSED_STRING","'attname'",281],"]",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$table",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","addConstraint",282],"(",["T_VARIABLE","$name",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$constraint",282],")",";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",285],["T_WHITESPACE","\n    ",287],["T_PUBLIC","public",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","describeForeignKeySql",288],"(",["T_VARIABLE","$tableName",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$config",288],")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$sql",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","\"SELECT\n        c.conname AS name,\n        c.contype AS type,\n        a.attname AS column_name,\n        c.confmatchtype AS match_type,\n        c.confupdtype AS on_update,\n        c.confdeltype AS on_delete,\n        c.confrelid::regclass AS references_table,\n        ab.attname AS references_field\n        FROM pg_catalog.pg_namespace n\n        INNER JOIN pg_catalog.pg_class cl ON (n.oid = cl.relnamespace)\n        INNER JOIN pg_catalog.pg_constraint c ON (n.oid = c.connamespace)\n        INNER JOIN pg_catalog.pg_attribute a ON (a.attrelid = cl.oid AND c.conrelid = a.attrelid AND a.attnum = ANY(c.conkey))\n        INNER JOIN pg_catalog.pg_attribute ab ON (a.attrelid = cl.oid AND c.confrelid = ab.attrelid AND ab.attnum = ANY(c.confkey))\n        WHERE n.nspname = ?\n        AND cl.relname = ?\n        ORDER BY name, a.attnum, ab.attnum DESC\"",290],";",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$schema",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_EMPTY","empty",308],"(",["T_VARIABLE","$config",308],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",308],"]",")",["T_WHITESPACE"," ",308],"?",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'public'",308],["T_WHITESPACE"," ",308],":",["T_WHITESPACE"," ",308],["T_VARIABLE","$config",308],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",308],"]",";",["T_WHITESPACE","\n\n        ",308],["T_RETURN","return",310],["T_WHITESPACE"," ",310],"[",["T_VARIABLE","$sql",310],",",["T_WHITESPACE"," ",310],"[",["T_VARIABLE","$schema",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$tableName",310],"]","]",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",313],["T_WHITESPACE","\n    ",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","convertForeignKeyDescription",316],"(",["T_STRING","Table",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$table",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$row",316],")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$data",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],"[",["T_WHITESPACE","\n            ",318],["T_CONSTANT_ENCAPSED_STRING","'type'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_STRING","Table",319],["T_DOUBLE_COLON","::",319],["T_STRING","CONSTRAINT_FOREIGN",319],",",["T_WHITESPACE","\n            ",319],["T_CONSTANT_ENCAPSED_STRING","'columns'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$row",320],"[",["T_CONSTANT_ENCAPSED_STRING","'column_name'",320],"]",",",["T_WHITESPACE","\n            ",320],["T_CONSTANT_ENCAPSED_STRING","'references'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],"[",["T_VARIABLE","$row",321],"[",["T_CONSTANT_ENCAPSED_STRING","'references_table'",321],"]",",",["T_WHITESPACE"," ",321],["T_VARIABLE","$row",321],"[",["T_CONSTANT_ENCAPSED_STRING","'references_field'",321],"]","]",",",["T_WHITESPACE","\n            ",321],["T_CONSTANT_ENCAPSED_STRING","'update'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_convertOnClause",322],"(",["T_VARIABLE","$row",322],"[",["T_CONSTANT_ENCAPSED_STRING","'on_update'",322],"]",")",",",["T_WHITESPACE","\n            ",322],["T_CONSTANT_ENCAPSED_STRING","'delete'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_convertOnClause",323],"(",["T_VARIABLE","$row",323],"[",["T_CONSTANT_ENCAPSED_STRING","'on_delete'",323],"]",")",",",["T_WHITESPACE","\n        ",323],"]",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$table",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","addConstraint",325],"(",["T_VARIABLE","$row",325],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",325],"]",",",["T_WHITESPACE"," ",325],["T_VARIABLE","$data",325],")",";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",328],["T_WHITESPACE","\n    ",330],["T_PROTECTED","protected",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","_convertOnClause",331],"(",["T_VARIABLE","$clause",331],")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_VARIABLE","$clause",333],["T_WHITESPACE"," ",333],["T_IS_IDENTICAL","===",333],["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'r'",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_STRING","Table",334],["T_DOUBLE_COLON","::",334],["T_STRING","ACTION_RESTRICT",334],";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$clause",336],["T_WHITESPACE"," ",336],["T_IS_IDENTICAL","===",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'a'",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_STRING","Table",337],["T_DOUBLE_COLON","::",337],["T_STRING","ACTION_NO_ACTION",337],";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$clause",339],["T_WHITESPACE"," ",339],["T_IS_IDENTICAL","===",339],["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'c'",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_STRING","Table",340],["T_DOUBLE_COLON","::",340],["T_STRING","ACTION_CASCADE",340],";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n\n        ",341],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_STRING","Table",343],["T_DOUBLE_COLON","::",343],["T_STRING","ACTION_SET_NULL",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",346],["T_WHITESPACE","\n    ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","columnSql",349],"(",["T_STRING","Table",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$table",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$name",349],")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$data",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$table",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","column",351],"(",["T_VARIABLE","$name",351],")",";",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$out",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_driver",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","quoteIdentifier",352],"(",["T_VARIABLE","$name",352],")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$typeMap",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],"[",["T_WHITESPACE","\n            ",353],["T_CONSTANT_ENCAPSED_STRING","'boolean'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","' BOOLEAN'",354],",",["T_WHITESPACE","\n            ",354],["T_CONSTANT_ENCAPSED_STRING","'binary'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","' BYTEA'",355],",",["T_WHITESPACE","\n            ",355],["T_CONSTANT_ENCAPSED_STRING","'float'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","' FLOAT'",356],",",["T_WHITESPACE","\n            ",356],["T_CONSTANT_ENCAPSED_STRING","'decimal'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","' DECIMAL'",357],",",["T_WHITESPACE","\n            ",357],["T_CONSTANT_ENCAPSED_STRING","'date'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","' DATE'",358],",",["T_WHITESPACE","\n            ",358],["T_CONSTANT_ENCAPSED_STRING","'time'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","' TIME'",359],",",["T_WHITESPACE","\n            ",359],["T_CONSTANT_ENCAPSED_STRING","'datetime'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","' TIMESTAMP'",360],",",["T_WHITESPACE","\n            ",360],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","' TIMESTAMP'",361],",",["T_WHITESPACE","\n            ",361],["T_CONSTANT_ENCAPSED_STRING","'uuid'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","' UUID'",362],",",["T_WHITESPACE","\n            ",362],["T_CONSTANT_ENCAPSED_STRING","'json'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","' JSONB'",363],["T_WHITESPACE","\n        ",363],"]",";",["T_WHITESPACE","\n\n        ",364],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_ISSET","isset",366],"(",["T_VARIABLE","$typeMap",366],"[",["T_VARIABLE","$data",366],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",366],"]","]",")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$out",367],["T_WHITESPACE"," ",367],["T_CONCAT_EQUAL",".=",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$typeMap",367],"[",["T_VARIABLE","$data",367],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",367],"]","]",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n\n        ",368],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$data",370],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",370],"]",["T_WHITESPACE"," ",370],["T_IS_IDENTICAL","===",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'integer'",370],["T_WHITESPACE"," ",370],["T_BOOLEAN_OR","||",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$data",370],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",370],"]",["T_WHITESPACE"," ",370],["T_IS_IDENTICAL","===",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$type",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$data",371],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",371],"]",["T_WHITESPACE"," ",371],["T_IS_IDENTICAL","===",371],["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'integer'",371],["T_WHITESPACE"," ",371],"?",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","' INTEGER'",371],["T_WHITESPACE"," ",371],":",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","' BIGINT'",371],";",["T_WHITESPACE","\n            ",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(","[",["T_VARIABLE","$name",372],"]",["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$table",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","primaryKey",372],"(",")",["T_WHITESPACE"," ",372],["T_BOOLEAN_OR","||",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$data",372],"[",["T_CONSTANT_ENCAPSED_STRING","'autoIncrement'",372],"]",["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_STRING","true",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$type",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$data",373],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",373],"]",["T_WHITESPACE"," ",373],["T_IS_IDENTICAL","===",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'integer'",373],["T_WHITESPACE"," ",373],"?",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' SERIAL'",373],["T_WHITESPACE"," ",373],":",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' BIGSERIAL'",373],";",["T_WHITESPACE","\n                ",373],["T_UNSET","unset",374],"(",["T_VARIABLE","$data",374],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",374],"]",",",["T_WHITESPACE"," ",374],["T_VARIABLE","$data",374],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",374],"]",")",";",["T_WHITESPACE","\n            ",374],"}",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$out",376],["T_WHITESPACE"," ",376],["T_CONCAT_EQUAL",".=",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$type",376],";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n\n        ",377],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$data",379],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",379],"]",["T_WHITESPACE"," ",379],["T_IS_IDENTICAL","===",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'text'",379],["T_WHITESPACE"," ",379],["T_BOOLEAN_AND","&&",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$data",379],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",379],"]",["T_WHITESPACE"," ",379],["T_IS_NOT_IDENTICAL","!==",379],["T_WHITESPACE"," ",379],["T_STRING","Table",379],["T_DOUBLE_COLON","::",379],["T_STRING","LENGTH_TINY",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$out",380],["T_WHITESPACE"," ",380],["T_CONCAT_EQUAL",".=",380],["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","' TEXT'",380],";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n\n        ",381],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$data",383],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",383],"]",["T_WHITESPACE"," ",383],["T_IS_IDENTICAL","===",383],["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'string'",383],["T_WHITESPACE"," ",383],["T_BOOLEAN_OR","||",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$data",383],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",383],"]",["T_WHITESPACE"," ",383],["T_IS_IDENTICAL","===",383],["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'text'",383],["T_WHITESPACE"," ",383],["T_BOOLEAN_AND","&&",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$data",383],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",383],"]",["T_WHITESPACE"," ",383],["T_IS_IDENTICAL","===",383],["T_WHITESPACE"," ",383],["T_STRING","Table",383],["T_DOUBLE_COLON","::",383],["T_STRING","LENGTH_TINY",383],")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$isFixed",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],"!",["T_EMPTY","empty",384],"(",["T_VARIABLE","$data",384],"[",["T_CONSTANT_ENCAPSED_STRING","'fixed'",384],"]",")",";",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$type",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","' VARCHAR'",385],";",["T_WHITESPACE","\n            ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(",["T_VARIABLE","$isFixed",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n                ",386],["T_VARIABLE","$type",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","' CHAR'",387],";",["T_WHITESPACE","\n            ",387],"}",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$out",389],["T_WHITESPACE"," ",389],["T_CONCAT_EQUAL",".=",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$type",389],";",["T_WHITESPACE","\n            ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_ISSET","isset",390],"(",["T_VARIABLE","$data",390],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",390],"]",")",["T_WHITESPACE"," ",390],["T_BOOLEAN_AND","&&",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$data",390],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",390],"]",["T_WHITESPACE"," ",390],["T_IS_NOT_EQUAL","!=",390],["T_WHITESPACE"," ",390],["T_LNUMBER","36",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                ",390],["T_VARIABLE","$out",391],["T_WHITESPACE"," ",391],["T_CONCAT_EQUAL",".=",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'('",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_INT_CAST","(int)",391],["T_VARIABLE","$data",391],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",391],"]",["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","')'",391],";",["T_WHITESPACE","\n            ",391],"}",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n\n        ",393],["T_VARIABLE","$hasCollate",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",395],",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'string'",395],"]",";",["T_WHITESPACE","\n        ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_STRING","in_array",396],"(",["T_VARIABLE","$data",396],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",396],"]",",",["T_WHITESPACE"," ",396],["T_VARIABLE","$hasCollate",396],",",["T_WHITESPACE"," ",396],["T_STRING","true",396],")",["T_WHITESPACE"," ",396],["T_BOOLEAN_AND","&&",396],["T_WHITESPACE"," ",396],["T_ISSET","isset",396],"(",["T_VARIABLE","$data",396],"[",["T_CONSTANT_ENCAPSED_STRING","'collate'",396],"]",")",["T_WHITESPACE"," ",396],["T_BOOLEAN_AND","&&",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$data",396],"[",["T_CONSTANT_ENCAPSED_STRING","'collate'",396],"]",["T_WHITESPACE"," ",396],["T_IS_NOT_IDENTICAL","!==",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","''",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_VARIABLE","$out",397],["T_WHITESPACE"," ",397],["T_CONCAT_EQUAL",".=",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","' COLLATE \"'",397],["T_WHITESPACE"," ",397],".",["T_WHITESPACE"," ",397],["T_VARIABLE","$data",397],"[",["T_CONSTANT_ENCAPSED_STRING","'collate'",397],"]",["T_WHITESPACE"," ",397],".",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'\"'",397],";",["T_WHITESPACE","\n        ",397],"}",["T_WHITESPACE","\n\n        ",398],["T_IF","if",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$data",400],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",400],"]",["T_WHITESPACE"," ",400],["T_IS_IDENTICAL","===",400],["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'float'",400],["T_WHITESPACE"," ",400],["T_BOOLEAN_AND","&&",400],["T_WHITESPACE"," ",400],["T_ISSET","isset",400],"(",["T_VARIABLE","$data",400],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",400],"]",")",")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$out",401],["T_WHITESPACE"," ",401],["T_CONCAT_EQUAL",".=",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'('",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_INT_CAST","(int)",401],["T_VARIABLE","$data",401],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",401],"]",["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","')'",401],";",["T_WHITESPACE","\n        ",401],"}",["T_WHITESPACE","\n\n        ",402],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$data",404],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",404],"]",["T_WHITESPACE"," ",404],["T_IS_IDENTICAL","===",404],["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'decimal'",404],["T_WHITESPACE"," ",404],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE","\n            ",404],"(",["T_ISSET","isset",405],"(",["T_VARIABLE","$data",405],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",405],"]",")",["T_WHITESPACE"," ",405],["T_BOOLEAN_OR","||",405],["T_WHITESPACE"," ",405],["T_ISSET","isset",405],"(",["T_VARIABLE","$data",405],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",405],"]",")",")",["T_WHITESPACE","\n        ",405],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$out",407],["T_WHITESPACE"," ",407],["T_CONCAT_EQUAL",".=",407],["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'('",407],["T_WHITESPACE"," ",407],".",["T_WHITESPACE"," ",407],["T_INT_CAST","(int)",407],["T_VARIABLE","$data",407],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",407],"]",["T_WHITESPACE"," ",407],".",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","','",407],["T_WHITESPACE"," ",407],".",["T_WHITESPACE"," ",407],["T_INT_CAST","(int)",407],["T_VARIABLE","$data",407],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",407],"]",["T_WHITESPACE"," ",407],".",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","')'",407],";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_ISSET","isset",410],"(",["T_VARIABLE","$data",410],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",410],"]",")",["T_WHITESPACE"," ",410],["T_BOOLEAN_AND","&&",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$data",410],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",410],"]",["T_WHITESPACE"," ",410],["T_IS_IDENTICAL","===",410],["T_WHITESPACE"," ",410],["T_STRING","false",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$out",411],["T_WHITESPACE"," ",411],["T_CONCAT_EQUAL",".=",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","' NOT NULL'",411],";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n        ",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_ISSET","isset",413],"(",["T_VARIABLE","$data",413],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",413],"]",")",["T_WHITESPACE"," ",413],["T_BOOLEAN_AND","&&",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$data",413],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",413],"]",["T_WHITESPACE"," ",413],["T_IS_IDENTICAL","===",413],["T_WHITESPACE"," ",413],["T_STRING","true",413],["T_WHITESPACE"," ",413],["T_BOOLEAN_AND","&&",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$data",413],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",413],"]",["T_WHITESPACE"," ",413],["T_IS_IDENTICAL","===",413],["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n            ",413],["T_VARIABLE","$out",414],["T_WHITESPACE"," ",414],["T_CONCAT_EQUAL",".=",414],["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT NULL'",414],";",["T_WHITESPACE","\n            ",414],["T_UNSET","unset",415],"(",["T_VARIABLE","$data",415],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",415],"]",")",";",["T_WHITESPACE","\n        ",415],"}",["T_WHITESPACE","\n        ",416],["T_IF","if",417],["T_WHITESPACE"," ",417],"(",["T_ISSET","isset",417],"(",["T_VARIABLE","$data",417],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",417],"]",")",["T_WHITESPACE"," ",417],["T_BOOLEAN_AND","&&",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$data",417],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",417],"]",["T_WHITESPACE"," ",417],["T_IS_NOT_IDENTICAL","!==",417],["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n            ",417],["T_VARIABLE","$defaultValue",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$data",418],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",418],"]",";",["T_WHITESPACE","\n            ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$data",419],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",419],"]",["T_WHITESPACE"," ",419],["T_IS_IDENTICAL","===",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'boolean'",419],")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n                ",419],["T_VARIABLE","$defaultValue",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_BOOL_CAST","(bool)",420],["T_VARIABLE","$defaultValue",420],";",["T_WHITESPACE","\n            ",420],"}",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$out",422],["T_WHITESPACE"," ",422],["T_CONCAT_EQUAL",".=",422],["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT '",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_driver",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","schemaValue",422],"(",["T_VARIABLE","$defaultValue",422],")",";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n\n        ",423],["T_RETURN","return",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$out",425],";",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n\n    ",426],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",428],["T_WHITESPACE","\n    ",430],["T_PUBLIC","public",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","addConstraintSql",431],"(",["T_STRING","Table",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$table",431],")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$sqlPattern",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE %s ADD %s;'",433],";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$sql",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],"[","]",";",["T_WHITESPACE","\n\n        ",434],["T_FOREACH","foreach",436],["T_WHITESPACE"," ",436],"(",["T_VARIABLE","$table",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","constraints",436],"(",")",["T_WHITESPACE"," ",436],["T_AS","as",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$name",436],")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$constraint",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$table",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","constraint",437],"(",["T_VARIABLE","$name",437],")",";",["T_WHITESPACE","\n            ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(",["T_VARIABLE","$constraint",438],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",438],"]",["T_WHITESPACE"," ",438],["T_IS_IDENTICAL","===",438],["T_WHITESPACE"," ",438],["T_STRING","Table",438],["T_DOUBLE_COLON","::",438],["T_STRING","CONSTRAINT_FOREIGN",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n                ",438],["T_VARIABLE","$tableName",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_driver",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","quoteIdentifier",439],"(",["T_VARIABLE","$table",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","name",439],"(",")",")",";",["T_WHITESPACE","\n                ",439],["T_VARIABLE","$sql",440],"[","]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","sprintf",440],"(",["T_VARIABLE","$sqlPattern",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$tableName",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","constraintSql",440],"(",["T_VARIABLE","$table",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$name",440],")",")",";",["T_WHITESPACE","\n            ",440],"}",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n\n        ",442],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$sql",444],";",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n\n    ",445],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",447],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","dropConstraintSql",450],"(",["T_STRING","Table",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$table",450],")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$sqlPattern",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE %s DROP CONSTRAINT %s;'",452],";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$sql",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],"[","]",";",["T_WHITESPACE","\n\n        ",453],["T_FOREACH","foreach",455],["T_WHITESPACE"," ",455],"(",["T_VARIABLE","$table",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","constraints",455],"(",")",["T_WHITESPACE"," ",455],["T_AS","as",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$name",455],")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$constraint",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$table",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","constraint",456],"(",["T_VARIABLE","$name",456],")",";",["T_WHITESPACE","\n            ",456],["T_IF","if",457],["T_WHITESPACE"," ",457],"(",["T_VARIABLE","$constraint",457],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",457],"]",["T_WHITESPACE"," ",457],["T_IS_IDENTICAL","===",457],["T_WHITESPACE"," ",457],["T_STRING","Table",457],["T_DOUBLE_COLON","::",457],["T_STRING","CONSTRAINT_FOREIGN",457],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n                ",457],["T_VARIABLE","$tableName",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_driver",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","quoteIdentifier",458],"(",["T_VARIABLE","$table",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","name",458],"(",")",")",";",["T_WHITESPACE","\n                ",458],["T_VARIABLE","$constraintName",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_driver",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","quoteIdentifier",459],"(",["T_VARIABLE","$name",459],")",";",["T_WHITESPACE","\n                ",459],["T_VARIABLE","$sql",460],"[","]",["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_STRING","sprintf",460],"(",["T_VARIABLE","$sqlPattern",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$tableName",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$constraintName",460],")",";",["T_WHITESPACE","\n            ",460],"}",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n\n        ",462],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$sql",464],";",["T_WHITESPACE","\n    ",464],"}",["T_WHITESPACE","\n\n    ",465],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",467],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","indexSql",470],"(",["T_STRING","Table",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$table",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$name",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_VARIABLE","$data",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$table",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","index",472],"(",["T_VARIABLE","$name",472],")",";",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$columns",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_STRING","array_map",473],"(",["T_WHITESPACE","\n            ",473],"[",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_driver",474],",",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'quoteIdentifier'",474],"]",",",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$data",475],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",475],"]",["T_WHITESPACE","\n        ",475],")",";",["T_WHITESPACE","\n\n        ",476],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_STRING","sprintf",478],"(",["T_WHITESPACE","\n            ",478],["T_CONSTANT_ENCAPSED_STRING","'CREATE INDEX %s ON %s (%s)'",479],",",["T_WHITESPACE","\n            ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_driver",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","quoteIdentifier",480],"(",["T_VARIABLE","$name",480],")",",",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_driver",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","quoteIdentifier",481],"(",["T_VARIABLE","$table",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","name",481],"(",")",")",",",["T_WHITESPACE","\n            ",481],["T_STRING","implode",482],"(",["T_CONSTANT_ENCAPSED_STRING","', '",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$columns",482],")",["T_WHITESPACE","\n        ",482],")",";",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",486],["T_WHITESPACE","\n    ",488],["T_PUBLIC","public",489],["T_WHITESPACE"," ",489],["T_FUNCTION","function",489],["T_WHITESPACE"," ",489],["T_STRING","constraintSql",489],"(",["T_STRING","Table",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$table",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$name",489],")",["T_WHITESPACE","\n    ",489],"{",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$data",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$table",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","constraint",491],"(",["T_VARIABLE","$name",491],")",";",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$out",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'CONSTRAINT '",492],["T_WHITESPACE"," ",492],".",["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_driver",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","quoteIdentifier",492],"(",["T_VARIABLE","$name",492],")",";",["T_WHITESPACE","\n        ",492],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$data",493],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",493],"]",["T_WHITESPACE"," ",493],["T_IS_IDENTICAL","===",493],["T_WHITESPACE"," ",493],["T_STRING","Table",493],["T_DOUBLE_COLON","::",493],["T_STRING","CONSTRAINT_PRIMARY",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n            ",493],["T_VARIABLE","$out",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY KEY'",494],";",["T_WHITESPACE","\n        ",494],"}",["T_WHITESPACE","\n        ",495],["T_IF","if",496],["T_WHITESPACE"," ",496],"(",["T_VARIABLE","$data",496],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",496],"]",["T_WHITESPACE"," ",496],["T_IS_IDENTICAL","===",496],["T_WHITESPACE"," ",496],["T_STRING","Table",496],["T_DOUBLE_COLON","::",496],["T_STRING","CONSTRAINT_UNIQUE",496],")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n            ",496],["T_VARIABLE","$out",497],["T_WHITESPACE"," ",497],["T_CONCAT_EQUAL",".=",497],["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","' UNIQUE'",497],";",["T_WHITESPACE","\n        ",497],"}",["T_WHITESPACE","\n\n        ",498],["T_RETURN","return",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_keySql",500],"(",["T_VARIABLE","$out",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$data",500],")",";",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n\n    ",501],["T_DOC_COMMENT","\/**\n     * Helper method for generating key SQL snippets.\n     *\n     * @param string $prefix The key prefix\n     * @param array $data Key data.\n     * @return string\n     *\/",503],["T_WHITESPACE","\n    ",509],["T_PROTECTED","protected",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","_keySql",510],"(",["T_VARIABLE","$prefix",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$data",510],")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$columns",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","array_map",512],"(",["T_WHITESPACE","\n            ",512],"[",["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","_driver",513],",",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","'quoteIdentifier'",513],"]",",",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$data",514],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",514],"]",["T_WHITESPACE","\n        ",514],")",";",["T_WHITESPACE","\n        ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$data",516],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",516],"]",["T_WHITESPACE"," ",516],["T_IS_IDENTICAL","===",516],["T_WHITESPACE"," ",516],["T_STRING","Table",516],["T_DOUBLE_COLON","::",516],["T_STRING","CONSTRAINT_FOREIGN",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_RETURN","return",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$prefix",517],["T_WHITESPACE"," ",517],".",["T_WHITESPACE"," ",517],["T_STRING","sprintf",517],"(",["T_WHITESPACE","\n                ",517],["T_CONSTANT_ENCAPSED_STRING","' FOREIGN KEY (%s) REFERENCES %s (%s) ON UPDATE %s ON DELETE %s DEFERRABLE INITIALLY IMMEDIATE'",518],",",["T_WHITESPACE","\n                ",518],["T_STRING","implode",519],"(",["T_CONSTANT_ENCAPSED_STRING","', '",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$columns",519],")",",",["T_WHITESPACE","\n                ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_driver",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","quoteIdentifier",520],"(",["T_VARIABLE","$data",520],"[",["T_CONSTANT_ENCAPSED_STRING","'references'",520],"]","[",["T_LNUMBER","0",520],"]",")",",",["T_WHITESPACE","\n                ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_convertConstraintColumns",521],"(",["T_VARIABLE","$data",521],"[",["T_CONSTANT_ENCAPSED_STRING","'references'",521],"]","[",["T_LNUMBER","1",521],"]",")",",",["T_WHITESPACE","\n                ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_foreignOnClause",522],"(",["T_VARIABLE","$data",522],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",522],"]",")",",",["T_WHITESPACE","\n                ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_foreignOnClause",523],"(",["T_VARIABLE","$data",523],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",523],"]",")",["T_WHITESPACE","\n            ",523],")",";",["T_WHITESPACE","\n        ",524],"}",["T_WHITESPACE","\n\n        ",525],["T_RETURN","return",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$prefix",527],["T_WHITESPACE"," ",527],".",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","' ('",527],["T_WHITESPACE"," ",527],".",["T_WHITESPACE"," ",527],["T_STRING","implode",527],"(",["T_CONSTANT_ENCAPSED_STRING","', '",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$columns",527],")",["T_WHITESPACE"," ",527],".",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","')'",527],";",["T_WHITESPACE","\n    ",527],"}",["T_WHITESPACE","\n\n    ",528],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",530],["T_WHITESPACE","\n    ",532],["T_PUBLIC","public",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","createTableSql",533],"(",["T_STRING","Table",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$table",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$columns",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$constraints",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$indexes",533],")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$content",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_STRING","array_merge",535],"(",["T_VARIABLE","$columns",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$constraints",535],")",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$content",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","implode",536],"(",["T_CONSTANT_ENCAPSED_STRING","\",\\n\"",536],",",["T_WHITESPACE"," ",536],["T_STRING","array_filter",536],"(",["T_VARIABLE","$content",536],")",")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$tableName",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_driver",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","quoteIdentifier",537],"(",["T_VARIABLE","$table",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","name",537],"(",")",")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$temporary",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$table",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","temporary",538],"(",")",["T_WHITESPACE"," ",538],"?",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","' TEMPORARY '",538],["T_WHITESPACE"," ",538],":",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","' '",538],";",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$out",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],"[","]",";",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$out",540],"[","]",["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_STRING","sprintf",540],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE%sTABLE %s (\\n%s\\n)\"",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$temporary",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$tableName",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$content",540],")",";",["T_WHITESPACE","\n        ",540],["T_FOREACH","foreach",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$indexes",541],["T_WHITESPACE"," ",541],["T_AS","as",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$index",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$out",542],"[","]",["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_VARIABLE","$index",542],";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n        ",543],["T_FOREACH","foreach",544],["T_WHITESPACE"," ",544],"(",["T_VARIABLE","$table",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","columns",544],"(",")",["T_WHITESPACE"," ",544],["T_AS","as",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$column",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n            ",544],["T_VARIABLE","$columnData",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$table",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","column",545],"(",["T_VARIABLE","$column",545],")",";",["T_WHITESPACE","\n            ",545],["T_IF","if",546],["T_WHITESPACE"," ",546],"(",["T_ISSET","isset",546],"(",["T_VARIABLE","$columnData",546],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",546],"]",")",")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n                ",546],["T_VARIABLE","$out",547],"[","]",["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_STRING","sprintf",547],"(",["T_WHITESPACE","\n                    ",547],["T_CONSTANT_ENCAPSED_STRING","'COMMENT ON COLUMN %s.%s IS %s'",548],",",["T_WHITESPACE","\n                    ",548],["T_VARIABLE","$tableName",549],",",["T_WHITESPACE","\n                    ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","_driver",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","quoteIdentifier",550],"(",["T_VARIABLE","$column",550],")",",",["T_WHITESPACE","\n                    ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_driver",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","schemaValue",551],"(",["T_VARIABLE","$columnData",551],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",551],"]",")",["T_WHITESPACE","\n                ",551],")",";",["T_WHITESPACE","\n            ",552],"}",["T_WHITESPACE","\n        ",553],"}",["T_WHITESPACE","\n\n        ",554],["T_RETURN","return",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$out",556],";",["T_WHITESPACE","\n    ",556],"}",["T_WHITESPACE","\n\n    ",557],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",559],["T_WHITESPACE","\n    ",561],["T_PUBLIC","public",562],["T_WHITESPACE"," ",562],["T_FUNCTION","function",562],["T_WHITESPACE"," ",562],["T_STRING","truncateTableSql",562],"(",["T_STRING","Table",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$table",562],")",["T_WHITESPACE","\n    ",562],"{",["T_WHITESPACE","\n        ",563],["T_VARIABLE","$name",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","_driver",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","quoteIdentifier",564],"(",["T_VARIABLE","$table",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","name",564],"(",")",")",";",["T_WHITESPACE","\n\n        ",564],["T_RETURN","return",566],["T_WHITESPACE"," ",566],"[",["T_WHITESPACE","\n            ",566],["T_STRING","sprintf",567],"(",["T_CONSTANT_ENCAPSED_STRING","'TRUNCATE %s RESTART IDENTITY CASCADE'",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$name",567],")",["T_WHITESPACE","\n        ",567],"]",";",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n\n    ",569],["T_DOC_COMMENT","\/**\n     * Generate the SQL to drop a table.\n     *\n     * @param \\Cake\\Database\\Schema\\Table $table Table instance\n     * @return array SQL statements to drop a table.\n     *\/",571],["T_WHITESPACE","\n    ",576],["T_PUBLIC","public",577],["T_WHITESPACE"," ",577],["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],["T_STRING","dropTableSql",577],"(",["T_STRING","Table",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$table",577],")",["T_WHITESPACE","\n    ",577],"{",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$sql",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_STRING","sprintf",579],"(",["T_WHITESPACE","\n            ",579],["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE %s CASCADE'",580],",",["T_WHITESPACE","\n            ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","_driver",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","quoteIdentifier",581],"(",["T_VARIABLE","$table",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","name",581],"(",")",")",["T_WHITESPACE","\n        ",581],")",";",["T_WHITESPACE","\n\n        ",582],["T_RETURN","return",584],["T_WHITESPACE"," ",584],"[",["T_VARIABLE","$sql",584],"]",";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n",585],"}",["T_WHITESPACE","\n",586]]