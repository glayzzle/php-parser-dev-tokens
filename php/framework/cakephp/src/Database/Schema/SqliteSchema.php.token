[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Database",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Schema",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Schema management\/reflection features for Sqlite\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","SqliteSchema",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","BaseSchema",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Array containing the foreign keys constraints names\n     * Necessary for composite foreign keys to be handled\n     *\n     * @var array\n     *\/",25],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_constraintsIdMap",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"[","]",";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Convert a column definition to the abstract types.\n     *\n     * The returned type will be a type that\n     * Cake\\Database\\Type can handle.\n     *\n     * @param string $column The column type + length\n     * @throws \\Cake\\Database\\Exception when unable to parse column type\n     * @return array Array of column information.\n     *\/",33],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","_convertColumn",43],"(",["T_VARIABLE","$column",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_STRING","preg_match",45],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(unsigned)?\\s*([a-z]+)(?:\\(([0-9,]+)\\))?\/i'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$column",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$matches",45],")",";",["T_WHITESPACE","\n        ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_EMPTY","empty",46],"(",["T_VARIABLE","$matches",46],")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_THROW","throw",47],["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","Exception",47],"(",["T_STRING","sprintf",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to parse column type from \"%s\"'",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$column",47],")",")",";",["T_WHITESPACE","\n        ",47],"}",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$unsigned",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","false",50],";",["T_WHITESPACE","\n        ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_STRING","strtolower",51],"(",["T_VARIABLE","$matches",51],"[",["T_LNUMBER","1",51],"]",")",["T_WHITESPACE"," ",51],["T_IS_IDENTICAL","===",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$unsigned",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","true",52],";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$col",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","strtolower",55],"(",["T_VARIABLE","$matches",55],"[",["T_LNUMBER","2",55],"]",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$length",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","null",56],";",["T_WHITESPACE","\n        ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_ISSET","isset",57],"(",["T_VARIABLE","$matches",57],"[",["T_LNUMBER","3",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$length",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$matches",58],"[",["T_LNUMBER","3",58],"]",";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n\n        ",59],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$col",61],["T_WHITESPACE"," ",61],["T_IS_IDENTICAL","===",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'bigint'",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'length'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$length",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$unsigned",62],"]",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_STRING","strpos",64],"(",["T_VARIABLE","$col",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'decimal'",64],")",["T_WHITESPACE"," ",64],["T_IS_NOT_IDENTICAL","!==",64],["T_WHITESPACE"," ",64],["T_STRING","false",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'decimal'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'length'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","null",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$unsigned",65],"]",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_STRING","strpos",67],"(",["T_VARIABLE","$col",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'int'",67],")",["T_WHITESPACE"," ",67],["T_IS_NOT_IDENTICAL","!==",67],["T_WHITESPACE"," ",67],["T_STRING","false",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'integer'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'length'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$length",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$unsigned",68],"]",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_STRING","in_array",70],"(",["T_VARIABLE","$col",70],",",["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'float'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'real'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'double'",70],"]",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'float'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'length'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","null",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$unsigned",71],"]",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_STRING","strpos",74],"(",["T_VARIABLE","$col",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'boolean'",74],")",["T_WHITESPACE"," ",74],["T_IS_NOT_IDENTICAL","!==",74],["T_WHITESPACE"," ",74],["T_STRING","false",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'boolean'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'length'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","null",75],"]",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$col",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'char'",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_AND","&&",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$length",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_LNUMBER","36",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'uuid'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'length'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_STRING","null",79],"]",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$col",81],["T_WHITESPACE"," ",81],["T_IS_IDENTICAL","===",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'char'",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'string'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'fixed'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","true",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'length'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$length",82],"]",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","strpos",84],"(",["T_VARIABLE","$col",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'char'",84],")",["T_WHITESPACE"," ",84],["T_IS_NOT_IDENTICAL","!==",84],["T_WHITESPACE"," ",84],["T_STRING","false",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'string'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'length'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$length",85],"]",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_STRING","in_array",88],"(",["T_VARIABLE","$col",88],",",["T_WHITESPACE"," ",88],"[",["T_CONSTANT_ENCAPSED_STRING","'blob'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'clob'",88],"]",")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'binary'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'length'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_STRING","null",89],"]",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_STRING","in_array",91],"(",["T_VARIABLE","$col",91],",",["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'date'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'time'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'datetime'",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$col",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'length'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_STRING","null",92],"]",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'text'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'length'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","null",95],"]",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","listTablesSql",101],"(",["T_VARIABLE","$config",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],"[",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM sqlite_master WHERE type=\"table\" '",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'AND name != \"sqlite_sequence\" ORDER BY name'",105],",",["T_WHITESPACE","\n            ",105],"[","]",["T_WHITESPACE","\n        ",106],"]",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","describeColumnSql",113],"(",["T_VARIABLE","$tableName",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$config",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$sql",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","sprintf",115],"(",["T_WHITESPACE","\n            ",115],["T_CONSTANT_ENCAPSED_STRING","'PRAGMA table_info(%s)'",116],",",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_driver",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","quoteIdentifier",117],"(",["T_VARIABLE","$tableName",117],")",["T_WHITESPACE","\n        ",117],")",";",["T_WHITESPACE","\n\n        ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],"[",["T_VARIABLE","$sql",120],",",["T_WHITESPACE"," ",120],"[","]","]",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",123],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","convertColumnDescription",126],"(",["T_STRING","Table",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$table",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$row",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$field",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_convertColumn",128],"(",["T_VARIABLE","$row",128],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",128],"]",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$field",129],["T_WHITESPACE"," ",129],["T_PLUS_EQUAL","+=",129],["T_WHITESPACE"," ",129],"[",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'null'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],"!",["T_VARIABLE","$row",130],"[",["T_CONSTANT_ENCAPSED_STRING","'notnull'",130],"]",",",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","'default'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_defaultValue",131],"(",["T_VARIABLE","$row",131],"[",["T_CONSTANT_ENCAPSED_STRING","'dflt_value'",131],"]",")",",",["T_WHITESPACE","\n        ",131],"]",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$primary",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$table",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","constraint",133],"(",["T_CONSTANT_ENCAPSED_STRING","'primary'",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$row",135],"[",["T_CONSTANT_ENCAPSED_STRING","'pk'",135],"]",["T_WHITESPACE"," ",135],["T_BOOLEAN_AND","&&",135],["T_WHITESPACE"," ",135],["T_EMPTY","empty",135],"(",["T_VARIABLE","$primary",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$field",136],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","false",136],";",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$field",137],"[",["T_CONSTANT_ENCAPSED_STRING","'autoIncrement'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","true",137],";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n\n        ",138],["T_COMMENT","\/\/ SQLite does not support autoincrement on composite keys.\n",140],["T_WHITESPACE","        ",141],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$row",141],"[",["T_CONSTANT_ENCAPSED_STRING","'pk'",141],"]",["T_WHITESPACE"," ",141],["T_BOOLEAN_AND","&&",141],["T_WHITESPACE"," ",141],"!",["T_EMPTY","empty",141],"(",["T_VARIABLE","$primary",141],")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$existingColumn",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$primary",142],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",142],"]","[",["T_LNUMBER","0",142],"]",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$table",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","addColumn",143],"(",["T_VARIABLE","$existingColumn",143],",",["T_WHITESPACE"," ",143],"[",["T_CONSTANT_ENCAPSED_STRING","'autoIncrement'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_STRING","null",143],"]",["T_WHITESPACE"," ",143],"+",["T_WHITESPACE"," ",143],["T_VARIABLE","$table",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","column",143],"(",["T_VARIABLE","$existingColumn",143],")",")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$table",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","addColumn",146],"(",["T_VARIABLE","$row",146],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",146],"]",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$field",146],")",";",["T_WHITESPACE","\n        ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$row",147],"[",["T_CONSTANT_ENCAPSED_STRING","'pk'",147],"]",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$constraint",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY_CAST","(array)",148],["T_VARIABLE","$table",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","constraint",148],"(",["T_CONSTANT_ENCAPSED_STRING","'primary'",148],")",["T_WHITESPACE"," ",148],"+",["T_WHITESPACE"," ",148],"[",["T_WHITESPACE","\n                ",148],["T_CONSTANT_ENCAPSED_STRING","'type'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_STRING","Table",149],["T_DOUBLE_COLON","::",149],["T_STRING","CONSTRAINT_PRIMARY",149],",",["T_WHITESPACE","\n                ",149],["T_CONSTANT_ENCAPSED_STRING","'columns'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],"[","]",["T_WHITESPACE","\n            ",150],"]",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$constraint",152],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",152],"]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","array_merge",152],"(",["T_VARIABLE","$constraint",152],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",152],"]",",",["T_WHITESPACE"," ",152],"[",["T_VARIABLE","$row",152],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",152],"]","]",")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$table",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","addConstraint",153],"(",["T_CONSTANT_ENCAPSED_STRING","'primary'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$constraint",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Manipulate the default value.\n     *\n     * Sqlite includes quotes and bared NULLs in default values.\n     * We need to remove those.\n     *\n     * @param string|null $default The default value.\n     * @return string|null\n     *\/",157],["T_WHITESPACE","\n    ",165],["T_PROTECTED","protected",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","_defaultValue",166],"(",["T_VARIABLE","$default",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$default",168],["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'NULL'",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_STRING","null",169],";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_COMMENT","\/\/ Remove quotes\n",172],["T_WHITESPACE","        ",173],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_STRING","preg_match",173],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^'(.*)'$\/\"",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$default",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$matches",173],")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_STRING","str_replace",174],"(",["T_CONSTANT_ENCAPSED_STRING","\"''\"",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","\"'\"",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$matches",174],"[",["T_LNUMBER","1",174],"]",")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$default",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",180],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","describeIndexSql",183],"(",["T_VARIABLE","$tableName",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$config",183],")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$sql",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","sprintf",185],"(",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'PRAGMA index_list(%s)'",186],",",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_driver",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","quoteIdentifier",187],"(",["T_VARIABLE","$tableName",187],")",["T_WHITESPACE","\n        ",187],")",";",["T_WHITESPACE","\n\n        ",188],["T_RETURN","return",190],["T_WHITESPACE"," ",190],"[",["T_VARIABLE","$sql",190],",",["T_WHITESPACE"," ",190],"[","]","]",";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\n     * Since SQLite does not have a way to get metadata about all indexes at once,\n     * additional queries are done here. Sqlite constraint names are not\n     * stable, and the names for constraints will not match those used to create\n     * the table. This is a limitation in Sqlite's metadata features.\n     *\n     *\/",193],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","convertIndexDescription",202],"(",["T_STRING","Table",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$table",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$row",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$sql",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","sprintf",204],"(",["T_WHITESPACE","\n            ",204],["T_CONSTANT_ENCAPSED_STRING","'PRAGMA index_info(%s)'",205],",",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_driver",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","quoteIdentifier",206],"(",["T_VARIABLE","$row",206],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",206],"]",")",["T_WHITESPACE","\n        ",206],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$statement",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_driver",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","prepare",208],"(",["T_VARIABLE","$sql",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$statement",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","execute",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$columns",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[","]",";",["T_WHITESPACE","\n        ",210],["T_FOREACH","foreach",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$statement",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","fetchAll",211],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",211],")",["T_WHITESPACE"," ",211],["T_AS","as",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$column",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$columns",212],"[","]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$column",212],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",212],"]",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$statement",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","closeCursor",214],"(",")",";",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$row",215],"[",["T_CONSTANT_ENCAPSED_STRING","'unique'",215],"]",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$table",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","addConstraint",216],"(",["T_VARIABLE","$row",216],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",216],"]",",",["T_WHITESPACE"," ",216],"[",["T_WHITESPACE","\n                ",216],["T_CONSTANT_ENCAPSED_STRING","'type'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_STRING","Table",217],["T_DOUBLE_COLON","::",217],["T_STRING","CONSTRAINT_UNIQUE",217],",",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'columns'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$columns",218],["T_WHITESPACE","\n            ",218],"]",")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE"," ",220],["T_ELSE","else",220],["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$table",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","addIndex",221],"(",["T_VARIABLE","$row",221],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",221],"]",",",["T_WHITESPACE"," ",221],"[",["T_WHITESPACE","\n                ",221],["T_CONSTANT_ENCAPSED_STRING","'type'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_STRING","Table",222],["T_DOUBLE_COLON","::",222],["T_STRING","INDEX_INDEX",222],",",["T_WHITESPACE","\n                ",222],["T_CONSTANT_ENCAPSED_STRING","'columns'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$columns",223],["T_WHITESPACE","\n            ",223],"]",")",";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",228],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","describeForeignKeySql",231],"(",["T_VARIABLE","$tableName",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$config",231],")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$sql",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","sprintf",233],"(",["T_CONSTANT_ENCAPSED_STRING","'PRAGMA foreign_key_list(%s)'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_driver",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","quoteIdentifier",233],"(",["T_VARIABLE","$tableName",233],")",")",";",["T_WHITESPACE","\n\n        ",233],["T_RETURN","return",235],["T_WHITESPACE"," ",235],"[",["T_VARIABLE","$sql",235],",",["T_WHITESPACE"," ",235],"[","]","]",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",238],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","convertForeignKeyDescription",241],"(",["T_STRING","Table",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$table",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$row",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$name",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$row",243],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",243],"]",["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'_fk'",243],";",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$update",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_ISSET","isset",245],"(",["T_VARIABLE","$row",245],"[",["T_CONSTANT_ENCAPSED_STRING","'on_update'",245],"]",")",["T_WHITESPACE"," ",245],"?",["T_WHITESPACE"," ",245],["T_VARIABLE","$row",245],"[",["T_CONSTANT_ENCAPSED_STRING","'on_update'",245],"]",["T_WHITESPACE"," ",245],":",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","''",245],";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$delete",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_ISSET","isset",246],"(",["T_VARIABLE","$row",246],"[",["T_CONSTANT_ENCAPSED_STRING","'on_delete'",246],"]",")",["T_WHITESPACE"," ",246],"?",["T_WHITESPACE"," ",246],["T_VARIABLE","$row",246],"[",["T_CONSTANT_ENCAPSED_STRING","'on_delete'",246],"]",["T_WHITESPACE"," ",246],":",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","''",246],";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$data",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],"[",["T_WHITESPACE","\n            ",247],["T_CONSTANT_ENCAPSED_STRING","'type'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_STRING","Table",248],["T_DOUBLE_COLON","::",248],["T_STRING","CONSTRAINT_FOREIGN",248],",",["T_WHITESPACE","\n            ",248],["T_CONSTANT_ENCAPSED_STRING","'columns'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],"[",["T_VARIABLE","$row",249],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",249],"]","]",",",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'references'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],"[",["T_VARIABLE","$row",250],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",250],"]",",",["T_WHITESPACE"," ",250],["T_VARIABLE","$row",250],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",250],"]","]",",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'update'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_convertOnClause",251],"(",["T_VARIABLE","$update",251],")",",",["T_WHITESPACE","\n            ",251],["T_CONSTANT_ENCAPSED_STRING","'delete'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_convertOnClause",252],"(",["T_VARIABLE","$delete",252],")",",",["T_WHITESPACE","\n        ",252],"]",";",["T_WHITESPACE","\n\n        ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_ISSET","isset",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_constraintsIdMap",255],"[",["T_VARIABLE","$table",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","name",255],"(",")","]","[",["T_VARIABLE","$row",255],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",255],"]","]",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$name",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_constraintsIdMap",256],"[",["T_VARIABLE","$table",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","name",256],"(",")","]","[",["T_VARIABLE","$row",256],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",256],"]","]",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_constraintsIdMap",258],"[",["T_VARIABLE","$table",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","name",258],"(",")","]","[",["T_VARIABLE","$row",258],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",258],"]","]",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$name",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$table",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","addConstraint",261],"(",["T_VARIABLE","$name",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$data",261],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\n     * @throws \\Cake\\Database\\Exception when the column type is unknown\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","columnSql",269],"(",["T_STRING","Table",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$table",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$name",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$data",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$table",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","column",271],"(",["T_VARIABLE","$name",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$typeMap",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],"[",["T_WHITESPACE","\n            ",272],["T_CONSTANT_ENCAPSED_STRING","'uuid'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","' CHAR(36)'",273],",",["T_WHITESPACE","\n            ",273],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","' BIGINT'",274],",",["T_WHITESPACE","\n            ",274],["T_CONSTANT_ENCAPSED_STRING","'boolean'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","' BOOLEAN'",275],",",["T_WHITESPACE","\n            ",275],["T_CONSTANT_ENCAPSED_STRING","'binary'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","' BLOB'",276],",",["T_WHITESPACE","\n            ",276],["T_CONSTANT_ENCAPSED_STRING","'float'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","' FLOAT'",277],",",["T_WHITESPACE","\n            ",277],["T_CONSTANT_ENCAPSED_STRING","'decimal'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","' DECIMAL'",278],",",["T_WHITESPACE","\n            ",278],["T_CONSTANT_ENCAPSED_STRING","'date'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","' DATE'",279],",",["T_WHITESPACE","\n            ",279],["T_CONSTANT_ENCAPSED_STRING","'time'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","' TIME'",280],",",["T_WHITESPACE","\n            ",280],["T_CONSTANT_ENCAPSED_STRING","'datetime'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","' DATETIME'",281],",",["T_WHITESPACE","\n            ",281],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","' TIMESTAMP'",282],",",["T_WHITESPACE","\n            ",282],["T_CONSTANT_ENCAPSED_STRING","'json'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","' TEXT'",283],["T_WHITESPACE","\n        ",283],"]",";",["T_WHITESPACE","\n\n        ",284],["T_VARIABLE","$out",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_driver",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","quoteIdentifier",286],"(",["T_VARIABLE","$name",286],")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$hasUnsigned",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[",["T_CONSTANT_ENCAPSED_STRING","'biginteger'",287],",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'integer'",287],",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'float'",287],",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'decimal'",287],"]",";",["T_WHITESPACE","\n\n        ",287],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_STRING","in_array",289],"(",["T_VARIABLE","$data",289],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",289],"]",",",["T_WHITESPACE"," ",289],["T_VARIABLE","$hasUnsigned",289],",",["T_WHITESPACE"," ",289],["T_STRING","true",289],")",["T_WHITESPACE"," ",289],["T_BOOLEAN_AND","&&",289],["T_WHITESPACE","\n            ",289],["T_ISSET","isset",290],"(",["T_VARIABLE","$data",290],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",290],"]",")",["T_WHITESPACE"," ",290],["T_BOOLEAN_AND","&&",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$data",290],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",290],"]",["T_WHITESPACE"," ",290],["T_IS_IDENTICAL","===",290],["T_WHITESPACE"," ",290],["T_STRING","true",290],["T_WHITESPACE","\n        ",290],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$data",292],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",292],"]",["T_WHITESPACE"," ",292],["T_IS_NOT_IDENTICAL","!==",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'integer'",292],["T_WHITESPACE"," ",292],["T_BOOLEAN_OR","||",292],["T_WHITESPACE"," ",292],"[",["T_VARIABLE","$name",292],"]",["T_WHITESPACE"," ",292],["T_IS_NOT_IDENTICAL","!==",292],["T_WHITESPACE"," ",292],["T_ARRAY_CAST","(array)",292],["T_VARIABLE","$table",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","primaryKey",292],"(",")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n                ",292],["T_VARIABLE","$out",293],["T_WHITESPACE"," ",293],["T_CONCAT_EQUAL",".=",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","' UNSIGNED'",293],";",["T_WHITESPACE","\n            ",293],"}",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n\n        ",295],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_ISSET","isset",297],"(",["T_VARIABLE","$typeMap",297],"[",["T_VARIABLE","$data",297],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",297],"]","]",")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$out",298],["T_WHITESPACE"," ",298],["T_CONCAT_EQUAL",".=",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$typeMap",298],"[",["T_VARIABLE","$data",298],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",298],"]","]",";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n\n        ",299],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$data",301],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",301],"]",["T_WHITESPACE"," ",301],["T_IS_IDENTICAL","===",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'text'",301],["T_WHITESPACE"," ",301],["T_BOOLEAN_AND","&&",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$data",301],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",301],"]",["T_WHITESPACE"," ",301],["T_IS_NOT_IDENTICAL","!==",301],["T_WHITESPACE"," ",301],["T_STRING","Table",301],["T_DOUBLE_COLON","::",301],["T_STRING","LENGTH_TINY",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$out",302],["T_WHITESPACE"," ",302],["T_CONCAT_EQUAL",".=",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","' TEXT'",302],";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n\n        ",303],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$data",305],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",305],"]",["T_WHITESPACE"," ",305],["T_IS_IDENTICAL","===",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'string'",305],["T_WHITESPACE"," ",305],["T_BOOLEAN_OR","||",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$data",305],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",305],"]",["T_WHITESPACE"," ",305],["T_IS_IDENTICAL","===",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'text'",305],["T_WHITESPACE"," ",305],["T_BOOLEAN_AND","&&",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$data",305],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",305],"]",["T_WHITESPACE"," ",305],["T_IS_IDENTICAL","===",305],["T_WHITESPACE"," ",305],["T_STRING","Table",305],["T_DOUBLE_COLON","::",305],["T_STRING","LENGTH_TINY",305],")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$out",306],["T_WHITESPACE"," ",306],["T_CONCAT_EQUAL",".=",306],["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","' VARCHAR'",306],";",["T_WHITESPACE","\n\n            ",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_ISSET","isset",308],"(",["T_VARIABLE","$data",308],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",308],"]",")",")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                ",308],["T_VARIABLE","$out",309],["T_WHITESPACE"," ",309],["T_CONCAT_EQUAL",".=",309],["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'('",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_INT_CAST","(int)",309],["T_VARIABLE","$data",309],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",309],"]",["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","')'",309],";",["T_WHITESPACE","\n            ",309],"}",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE","\n\n        ",311],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$data",313],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",313],"]",["T_WHITESPACE"," ",313],["T_IS_IDENTICAL","===",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'integer'",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$out",314],["T_WHITESPACE"," ",314],["T_CONCAT_EQUAL",".=",314],["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","' INTEGER'",314],";",["T_WHITESPACE","\n            ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_ISSET","isset",315],"(",["T_VARIABLE","$data",315],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",315],"]",")",["T_WHITESPACE"," ",315],["T_BOOLEAN_AND","&&",315],["T_WHITESPACE"," ",315],"[",["T_VARIABLE","$name",315],"]",["T_WHITESPACE"," ",315],["T_IS_NOT_IDENTICAL","!==",315],["T_WHITESPACE"," ",315],["T_ARRAY_CAST","(array)",315],["T_VARIABLE","$table",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","primaryKey",315],"(",")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                ",315],["T_VARIABLE","$out",316],["T_WHITESPACE"," ",316],["T_CONCAT_EQUAL",".=",316],["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'('",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_INT_CAST","(int)",316],["T_VARIABLE","$data",316],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",316],"]",["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","')'",316],";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$hasPrecision",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],"[",["T_CONSTANT_ENCAPSED_STRING","'float'",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'decimal'",320],"]",";",["T_WHITESPACE","\n        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_STRING","in_array",321],"(",["T_VARIABLE","$data",321],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",321],"]",",",["T_WHITESPACE"," ",321],["T_VARIABLE","$hasPrecision",321],",",["T_WHITESPACE"," ",321],["T_STRING","true",321],")",["T_WHITESPACE"," ",321],["T_BOOLEAN_AND","&&",321],["T_WHITESPACE","\n            ",321],"(",["T_ISSET","isset",322],"(",["T_VARIABLE","$data",322],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",322],"]",")",["T_WHITESPACE"," ",322],["T_BOOLEAN_OR","||",322],["T_WHITESPACE"," ",322],["T_ISSET","isset",322],"(",["T_VARIABLE","$data",322],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",322],"]",")",")",["T_WHITESPACE","\n        ",322],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$out",324],["T_WHITESPACE"," ",324],["T_CONCAT_EQUAL",".=",324],["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'('",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_INT_CAST","(int)",324],["T_VARIABLE","$data",324],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",324],"]",["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","','",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_INT_CAST","(int)",324],["T_VARIABLE","$data",324],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",324],"]",["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","')'",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_ISSET","isset",327],"(",["T_VARIABLE","$data",327],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",327],"]",")",["T_WHITESPACE"," ",327],["T_BOOLEAN_AND","&&",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$data",327],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",327],"]",["T_WHITESPACE"," ",327],["T_IS_IDENTICAL","===",327],["T_WHITESPACE"," ",327],["T_STRING","false",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$out",328],["T_WHITESPACE"," ",328],["T_CONCAT_EQUAL",".=",328],["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","' NOT NULL'",328],";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$data",331],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",331],"]",["T_WHITESPACE"," ",331],["T_IS_IDENTICAL","===",331],["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'integer'",331],["T_WHITESPACE"," ",331],["T_BOOLEAN_AND","&&",331],["T_WHITESPACE"," ",331],"[",["T_VARIABLE","$name",331],"]",["T_WHITESPACE"," ",331],["T_IS_IDENTICAL","===",331],["T_WHITESPACE"," ",331],["T_ARRAY_CAST","(array)",331],["T_VARIABLE","$table",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","primaryKey",331],"(",")",")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$out",332],["T_WHITESPACE"," ",332],["T_CONCAT_EQUAL",".=",332],["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","' PRIMARY KEY AUTOINCREMENT'",332],";",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE","\n\n        ",333],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_ISSET","isset",335],"(",["T_VARIABLE","$data",335],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",335],"]",")",["T_WHITESPACE"," ",335],["T_BOOLEAN_AND","&&",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$data",335],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",335],"]",["T_WHITESPACE"," ",335],["T_IS_IDENTICAL","===",335],["T_WHITESPACE"," ",335],["T_STRING","true",335],["T_WHITESPACE"," ",335],["T_BOOLEAN_AND","&&",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$data",335],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",335],"]",["T_WHITESPACE"," ",335],["T_IS_IDENTICAL","===",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$out",336],["T_WHITESPACE"," ",336],["T_CONCAT_EQUAL",".=",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT NULL'",336],";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n        ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_ISSET","isset",338],"(",["T_VARIABLE","$data",338],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",338],"]",")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n            ",338],["T_VARIABLE","$out",339],["T_WHITESPACE"," ",339],["T_CONCAT_EQUAL",".=",339],["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT '",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_driver",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","schemaValue",339],"(",["T_VARIABLE","$data",339],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",339],"]",")",";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n\n        ",340],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$out",342],";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\n     * Note integer primary keys will return ''. This is intentional as Sqlite requires\n     * that integer primary keys be defined in the column definition.\n     *\n     *\/",345],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","constraintSql",352],"(",["T_STRING","Table",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$table",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$name",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$data",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$table",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","constraint",354],"(",["T_VARIABLE","$name",354],")",";",["T_WHITESPACE","\n        ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$data",355],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",355],"]",["T_WHITESPACE"," ",355],["T_IS_IDENTICAL","===",355],["T_WHITESPACE"," ",355],["T_STRING","Table",355],["T_DOUBLE_COLON","::",355],["T_STRING","CONSTRAINT_PRIMARY",355],["T_WHITESPACE"," ",355],["T_BOOLEAN_AND","&&",355],["T_WHITESPACE","\n            ",355],["T_STRING","count",356],"(",["T_VARIABLE","$data",356],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",356],"]",")",["T_WHITESPACE"," ",356],["T_IS_IDENTICAL","===",356],["T_WHITESPACE"," ",356],["T_LNUMBER","1",356],["T_WHITESPACE"," ",356],["T_BOOLEAN_AND","&&",356],["T_WHITESPACE","\n            ",356],["T_VARIABLE","$table",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","column",357],"(",["T_VARIABLE","$data",357],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",357],"]","[",["T_LNUMBER","0",357],"]",")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",357],"]",["T_WHITESPACE"," ",357],["T_IS_IDENTICAL","===",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'integer'",357],["T_WHITESPACE","\n        ",357],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","''",359],";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$clause",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","''",361],";",["T_WHITESPACE","\n        ",361],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$data",362],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",362],"]",["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_STRING","Table",362],["T_DOUBLE_COLON","::",362],["T_STRING","CONSTRAINT_PRIMARY",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$type",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY KEY'",363],";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n        ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$data",365],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",365],"]",["T_WHITESPACE"," ",365],["T_IS_IDENTICAL","===",365],["T_WHITESPACE"," ",365],["T_STRING","Table",365],["T_DOUBLE_COLON","::",365],["T_STRING","CONSTRAINT_UNIQUE",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$type",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'UNIQUE'",366],";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n        ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$data",368],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",368],"]",["T_WHITESPACE"," ",368],["T_IS_IDENTICAL","===",368],["T_WHITESPACE"," ",368],["T_STRING","Table",368],["T_DOUBLE_COLON","::",368],["T_STRING","CONSTRAINT_FOREIGN",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$type",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'FOREIGN KEY'",369],";",["T_WHITESPACE","\n\n            ",369],["T_VARIABLE","$clause",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","sprintf",371],"(",["T_WHITESPACE","\n                ",371],["T_CONSTANT_ENCAPSED_STRING","' REFERENCES %s (%s) ON UPDATE %s ON DELETE %s'",372],",",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_driver",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","quoteIdentifier",373],"(",["T_VARIABLE","$data",373],"[",["T_CONSTANT_ENCAPSED_STRING","'references'",373],"]","[",["T_LNUMBER","0",373],"]",")",",",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_convertConstraintColumns",374],"(",["T_VARIABLE","$data",374],"[",["T_CONSTANT_ENCAPSED_STRING","'references'",374],"]","[",["T_LNUMBER","1",374],"]",")",",",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_foreignOnClause",375],"(",["T_VARIABLE","$data",375],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",375],"]",")",",",["T_WHITESPACE","\n                ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_foreignOnClause",376],"(",["T_VARIABLE","$data",376],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",376],"]",")",["T_WHITESPACE","\n            ",376],")",";",["T_WHITESPACE","\n        ",377],"}",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$columns",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","array_map",379],"(",["T_WHITESPACE","\n            ",379],"[",["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_driver",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'quoteIdentifier'",380],"]",",",["T_WHITESPACE","\n            ",380],["T_VARIABLE","$data",381],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",381],"]",["T_WHITESPACE","\n        ",381],")",";",["T_WHITESPACE","\n\n        ",382],["T_RETURN","return",384],["T_WHITESPACE"," ",384],["T_STRING","sprintf",384],"(",["T_WHITESPACE","\n            ",384],["T_CONSTANT_ENCAPSED_STRING","'CONSTRAINT %s %s (%s)%s'",385],",",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_driver",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","quoteIdentifier",386],"(",["T_VARIABLE","$name",386],")",",",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$type",387],",",["T_WHITESPACE","\n            ",387],["T_STRING","implode",388],"(",["T_CONSTANT_ENCAPSED_STRING","', '",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$columns",388],")",",",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$clause",389],["T_WHITESPACE","\n        ",389],")",";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\n     * SQLite can not properly handle adding a constraint to an existing table.\n     * This method is no-op\n     *\/",393],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","addConstraintSql",399],"(",["T_STRING","Table",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$table",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],"[","]",";",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n\n    ",402],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\n     * SQLite can not properly handle dropping a constraint to an existing table.\n     * This method is no-op\n     *\/",404],["T_WHITESPACE","\n    ",409],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","dropConstraintSql",410],"(",["T_STRING","Table",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$table",410],")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],"[","]",";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",415],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","indexSql",418],"(",["T_STRING","Table",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$table",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$name",418],")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$data",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$table",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","index",420],"(",["T_VARIABLE","$name",420],")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$columns",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_STRING","array_map",421],"(",["T_WHITESPACE","\n            ",421],"[",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_driver",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'quoteIdentifier'",422],"]",",",["T_WHITESPACE","\n            ",422],["T_VARIABLE","$data",423],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",423],"]",["T_WHITESPACE","\n        ",423],")",";",["T_WHITESPACE","\n\n        ",424],["T_RETURN","return",426],["T_WHITESPACE"," ",426],["T_STRING","sprintf",426],"(",["T_WHITESPACE","\n            ",426],["T_CONSTANT_ENCAPSED_STRING","'CREATE INDEX %s ON %s (%s)'",427],",",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_driver",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","quoteIdentifier",428],"(",["T_VARIABLE","$name",428],")",",",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_driver",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","quoteIdentifier",429],"(",["T_VARIABLE","$table",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","name",429],"(",")",")",",",["T_WHITESPACE","\n            ",429],["T_STRING","implode",430],"(",["T_CONSTANT_ENCAPSED_STRING","', '",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$columns",430],")",["T_WHITESPACE","\n        ",430],")",";",["T_WHITESPACE","\n    ",431],"}",["T_WHITESPACE","\n\n    ",432],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",434],["T_WHITESPACE","\n    ",436],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","createTableSql",437],"(",["T_STRING","Table",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$table",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$columns",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$constraints",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$indexes",437],")",["T_WHITESPACE","\n    ",437],"{",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$lines",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_STRING","array_merge",439],"(",["T_VARIABLE","$columns",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$constraints",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$content",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","implode",440],"(",["T_CONSTANT_ENCAPSED_STRING","\",\\n\"",440],",",["T_WHITESPACE"," ",440],["T_STRING","array_filter",440],"(",["T_VARIABLE","$lines",440],")",")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$temporary",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$table",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","temporary",441],"(",")",["T_WHITESPACE"," ",441],"?",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","' TEMPORARY '",441],["T_WHITESPACE"," ",441],":",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","' '",441],";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$table",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","sprintf",442],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE%sTABLE \\\"%s\\\" (\\n%s\\n)\"",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$temporary",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$table",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","name",442],"(",")",",",["T_WHITESPACE"," ",442],["T_VARIABLE","$content",442],")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$out",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],"[",["T_VARIABLE","$table",443],"]",";",["T_WHITESPACE","\n        ",443],["T_FOREACH","foreach",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$indexes",444],["T_WHITESPACE"," ",444],["T_AS","as",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$index",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$out",445],"[","]",["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$index",445],";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE","\n\n        ",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$out",448],";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n\n    ",449],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",451],["T_WHITESPACE","\n    ",453],["T_PUBLIC","public",454],["T_WHITESPACE"," ",454],["T_FUNCTION","function",454],["T_WHITESPACE"," ",454],["T_STRING","truncateTableSql",454],"(",["T_STRING","Table",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$table",454],")",["T_WHITESPACE","\n    ",454],"{",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$name",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$table",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","name",456],"(",")",";",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$sql",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],"[","]",";",["T_WHITESPACE","\n        ",457],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","hasSequences",458],"(",")",")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$sql",459],"[","]",["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_STRING","sprintf",459],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE FROM sqlite_sequence WHERE name=\"%s\"'",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$name",459],")",";",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n\n        ",460],["T_VARIABLE","$sql",462],"[","]",["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_STRING","sprintf",462],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE FROM \"%s\"'",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$name",462],")",";",["T_WHITESPACE","\n\n        ",462],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$sql",464],";",["T_WHITESPACE","\n    ",464],"}",["T_WHITESPACE","\n\n    ",465],["T_DOC_COMMENT","\/**\n     * Returns whether there is any table in this connection to SQLite containing\n     * sequences\n     *\n     * @return bool\n     *\/",467],["T_WHITESPACE","\n    ",472],["T_PUBLIC","public",473],["T_WHITESPACE"," ",473],["T_FUNCTION","function",473],["T_WHITESPACE"," ",473],["T_STRING","hasSequences",473],"(",")",["T_WHITESPACE","\n    ",473],"{",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$result",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_driver",475],["T_WHITESPACE","\n            ",475],["T_OBJECT_OPERATOR","->",476],["T_STRING","prepare",476],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT 1 FROM sqlite_master WHERE name = \"sqlite_sequence\"'",476],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$result",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","execute",477],"(",")",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_hasSequences",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_BOOL_CAST","(bool)",478],["T_VARIABLE","$result",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","rowCount",478],"(",")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$result",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","closeCursor",479],"(",")",";",["T_WHITESPACE","\n\n        ",479],["T_RETURN","return",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_hasSequences",481],";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n",482],"}",["T_WHITESPACE","\n",483]]