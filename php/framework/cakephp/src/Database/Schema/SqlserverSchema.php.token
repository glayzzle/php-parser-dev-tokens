[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Database",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Schema",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Schema management\/reflection features for SQLServer.\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","SqlserverSchema",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","BaseSchema",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n\n    ",21],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","DEFAULT_SCHEMA_NAME",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'dbo'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","listTablesSql",28],"(",["T_VARIABLE","$config",28],")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$sql",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","\"SELECT TABLE_NAME\n            FROM INFORMATION_SCHEMA.TABLES\n            WHERE TABLE_SCHEMA = ?\n            AND (TABLE_TYPE = 'BASE TABLE' OR TABLE_TYPE = 'VIEW')\n            ORDER BY TABLE_NAME\"",30],";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$schema",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_EMPTY","empty",35],"(",["T_VARIABLE","$config",35],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",35],"]",")",["T_WHITESPACE"," ",35],"?",["T_WHITESPACE"," ",35],["T_STATIC","static",35],["T_DOUBLE_COLON","::",35],["T_STRING","DEFAULT_SCHEMA_NAME",35],["T_WHITESPACE"," ",35],":",["T_WHITESPACE"," ",35],["T_VARIABLE","$config",35],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",35],"]",";",["T_WHITESPACE","\n\n        ",35],["T_RETURN","return",37],["T_WHITESPACE"," ",37],"[",["T_VARIABLE","$sql",37],",",["T_WHITESPACE"," ",37],"[",["T_VARIABLE","$schema",37],"]","]",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","describeColumnSql",43],"(",["T_VARIABLE","$tableName",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$config",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$sql",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT\n            AC.column_id AS [column_id],\n            AC.name AS [name],\n            TY.name AS [type],\n            AC.max_length AS [char_length],\n            AC.precision AS [precision],\n            AC.scale AS [scale],\n            AC.is_identity AS [autoincrement],\n            AC.is_nullable AS [null],\n            OBJECT_DEFINITION(AC.default_object_id) AS [default],\n            AC.collation_name AS [collation_name]\n            FROM sys.[objects] T\n            INNER JOIN sys.[schemas] S ON S.[schema_id] = T.[schema_id]\n            INNER JOIN sys.[all_columns] AC ON T.[object_id] = AC.[object_id]\n            INNER JOIN sys.[types] TY ON TY.[user_type_id] = AC.[user_type_id]\n            WHERE T.[name] = ? AND S.[name] = ?\n            ORDER BY column_id\"",45],";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$schema",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_EMPTY","empty",63],"(",["T_VARIABLE","$config",63],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",63],"]",")",["T_WHITESPACE"," ",63],"?",["T_WHITESPACE"," ",63],["T_STATIC","static",63],["T_DOUBLE_COLON","::",63],["T_STRING","DEFAULT_SCHEMA_NAME",63],["T_WHITESPACE"," ",63],":",["T_WHITESPACE"," ",63],["T_VARIABLE","$config",63],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",63],"]",";",["T_WHITESPACE","\n\n        ",63],["T_RETURN","return",65],["T_WHITESPACE"," ",65],"[",["T_VARIABLE","$sql",65],",",["T_WHITESPACE"," ",65],"[",["T_VARIABLE","$tableName",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$schema",65],"]","]",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Convert a column definition to the abstract types.\n     *\n     * The returned type will be a type that\n     * Cake\\Database\\Type can handle.\n     *\n     * @param string $col The column type\n     * @param int|null $length the column length\n     * @param int|null $precision The column precision\n     * @param int|null $scale The column scale\n     * @return array Array of column information.\n     * @link http:\/\/technet.microsoft.com\/en-us\/library\/ms187752.aspx\n     *\/",68],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","_convertColumn",81],"(",["T_VARIABLE","$col",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$length",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$precision",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$scale",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$col",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","strtolower",83],"(",["T_VARIABLE","$col",83],")",";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","in_array",84],"(",["T_VARIABLE","$col",84],",",["T_WHITESPACE"," ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'date'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'time'",84],"]",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$col",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'length'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","null",85],"]",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_STRING","strpos",87],"(",["T_VARIABLE","$col",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'datetime'",87],")",["T_WHITESPACE"," ",87],["T_IS_NOT_IDENTICAL","!==",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'length'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","null",88],"]",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$col",91],["T_WHITESPACE"," ",91],["T_IS_IDENTICAL","===",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'int'",91],["T_WHITESPACE"," ",91],["T_BOOLEAN_OR","||",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$col",91],["T_WHITESPACE"," ",91],["T_IS_IDENTICAL","===",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'integer'",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'integer'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'length'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$precision",92],["T_WHITESPACE"," ",92],"?",":",["T_WHITESPACE"," ",92],["T_LNUMBER","10",92],"]",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$col",94],["T_WHITESPACE"," ",94],["T_IS_IDENTICAL","===",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'bigint'",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'length'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$precision",95],["T_WHITESPACE"," ",95],"?",":",["T_WHITESPACE"," ",95],["T_LNUMBER","20",95],"]",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$col",97],["T_WHITESPACE"," ",97],["T_IS_IDENTICAL","===",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'smallint'",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'integer'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'length'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$precision",98],["T_WHITESPACE"," ",98],"?",":",["T_WHITESPACE"," ",98],["T_LNUMBER","5",98],"]",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$col",100],["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'integer'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'length'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$precision",101],["T_WHITESPACE"," ",101],"?",":",["T_WHITESPACE"," ",101],["T_LNUMBER","3",101],"]",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$col",103],["T_WHITESPACE"," ",103],["T_IS_IDENTICAL","===",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'bit'",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'boolean'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'length'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_STRING","null",104],"]",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_STRING","strpos",106],"(",["T_VARIABLE","$col",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'numeric'",106],")",["T_WHITESPACE"," ",106],["T_IS_NOT_IDENTICAL","!==",106],["T_WHITESPACE"," ",106],["T_STRING","false",106],["T_WHITESPACE"," ",106],["T_BOOLEAN_OR","||",106],["T_WHITESPACE","\n            ",106],["T_STRING","strpos",107],"(",["T_VARIABLE","$col",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'money'",107],")",["T_WHITESPACE"," ",107],["T_IS_NOT_IDENTICAL","!==",107],["T_WHITESPACE"," ",107],["T_STRING","false",107],["T_WHITESPACE"," ",107],["T_BOOLEAN_OR","||",107],["T_WHITESPACE","\n            ",107],["T_STRING","strpos",108],"(",["T_VARIABLE","$col",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'decimal'",108],")",["T_WHITESPACE"," ",108],["T_IS_NOT_IDENTICAL","!==",108],["T_WHITESPACE"," ",108],["T_STRING","false",108],["T_WHITESPACE","\n        ",108],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'decimal'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'length'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$precision",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'precision'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$scale",110],"]",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$col",113],["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'real'",113],["T_WHITESPACE"," ",113],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$col",113],["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'float'",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'float'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'length'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_STRING","null",114],"]",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n\n        ",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_STRING","strpos",117],"(",["T_VARIABLE","$col",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'varchar'",117],")",["T_WHITESPACE"," ",117],["T_IS_NOT_IDENTICAL","!==",117],["T_WHITESPACE"," ",117],["T_STRING","false",117],["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$length",117],["T_WHITESPACE"," ",117],"<",["T_WHITESPACE"," ",117],["T_LNUMBER","0",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'text'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'length'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING","null",118],"]",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_STRING","strpos",121],"(",["T_VARIABLE","$col",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'varchar'",121],")",["T_WHITESPACE"," ",121],["T_IS_NOT_IDENTICAL","!==",121],["T_WHITESPACE"," ",121],["T_STRING","false",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'string'",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'length'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$length",122],["T_WHITESPACE"," ",122],"?",":",["T_WHITESPACE"," ",122],["T_LNUMBER","255",122],"]",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_STRING","strpos",125],"(",["T_VARIABLE","$col",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'char'",125],")",["T_WHITESPACE"," ",125],["T_IS_NOT_IDENTICAL","!==",125],["T_WHITESPACE"," ",125],["T_STRING","false",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'string'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'fixed'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","true",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'length'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$length",126],"]",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_STRING","strpos",129],"(",["T_VARIABLE","$col",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'text'",129],")",["T_WHITESPACE"," ",129],["T_IS_NOT_IDENTICAL","!==",129],["T_WHITESPACE"," ",129],["T_STRING","false",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'text'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'length'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_STRING","null",130],"]",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$col",133],["T_WHITESPACE"," ",133],["T_IS_IDENTICAL","===",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'image'",133],["T_WHITESPACE"," ",133],["T_BOOLEAN_OR","||",133],["T_WHITESPACE"," ",133],["T_STRING","strpos",133],"(",["T_VARIABLE","$col",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'binary'",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'binary'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'length'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","null",134],"]",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$col",137],["T_WHITESPACE"," ",137],["T_IS_IDENTICAL","===",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'uniqueidentifier'",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'uuid'",138],"]",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'text'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'length'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_STRING","null",141],"]",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",144],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","convertColumnDescription",147],"(",["T_STRING","Table",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$table",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$row",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$field",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_convertColumn",149],"(",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$row",150],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",150],"]",",",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$row",151],"[",["T_CONSTANT_ENCAPSED_STRING","'char_length'",151],"]",",",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$row",152],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",152],"]",",",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$row",153],"[",["T_CONSTANT_ENCAPSED_STRING","'scale'",153],"]",["T_WHITESPACE","\n        ",153],")",";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","!",["T_EMPTY","empty",155],"(",["T_VARIABLE","$row",155],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",155],"]",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$row",156],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",156],"]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","trim",156],"(",["T_VARIABLE","$row",156],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",156],"]",",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'()'",156],")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n        ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_EMPTY","empty",158],"(",["T_VARIABLE","$row",158],"[",["T_CONSTANT_ENCAPSED_STRING","'autoincrement'",158],"]",")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$field",159],"[",["T_CONSTANT_ENCAPSED_STRING","'autoIncrement'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","true",159],";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$field",161],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",161],"]",["T_WHITESPACE"," ",161],["T_IS_IDENTICAL","===",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'boolean'",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$row",162],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",162],"]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_INT_CAST","(int)",162],["T_VARIABLE","$row",162],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",162],"]",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$field",165],["T_WHITESPACE"," ",165],["T_PLUS_EQUAL","+=",165],["T_WHITESPACE"," ",165],"[",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","'null'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$row",166],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",166],"]",["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'1'",166],["T_WHITESPACE"," ",166],"?",["T_WHITESPACE"," ",166],["T_STRING","true",166],["T_WHITESPACE"," ",166],":",["T_WHITESPACE"," ",166],["T_STRING","false",166],",",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'default'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_defaultValue",167],"(",["T_VARIABLE","$row",167],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",167],"]",")",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'collate'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$row",168],"[",["T_CONSTANT_ENCAPSED_STRING","'collation_name'",168],"]",",",["T_WHITESPACE","\n        ",168],"]",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$table",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","addColumn",170],"(",["T_VARIABLE","$row",170],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",170],"]",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$field",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Manipulate the default value.\n     *\n     * Sqlite includes quotes and bared NULLs in default values.\n     * We need to remove those.\n     *\n     * @param string|null $default The default value.\n     * @return string|null\n     *\/",173],["T_WHITESPACE","\n    ",181],["T_PROTECTED","protected",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","_defaultValue",182],"(",["T_VARIABLE","$default",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$default",184],["T_WHITESPACE"," ",184],["T_IS_IDENTICAL","===",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'NULL'",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_STRING","null",185],";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_COMMENT","\/\/ Remove quotes\n",188],["T_WHITESPACE","        ",189],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","preg_match",189],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^N?'(.*)'\/\"",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$default",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$matches",189],")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STRING","str_replace",190],"(",["T_CONSTANT_ENCAPSED_STRING","\"''\"",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","\"'\"",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$matches",190],"[",["T_LNUMBER","1",190],"]",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$default",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",196],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","describeIndexSql",199],"(",["T_VARIABLE","$tableName",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$config",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$sql",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"SELECT\n                I.[name] AS [index_name],\n                IC.[index_column_id] AS [index_order],\n                AC.[name] AS [column_name],\n                I.[is_unique], I.[is_primary_key],\n                I.[is_unique_constraint]\n            FROM sys.[tables] AS T\n            INNER JOIN sys.[schemas] S ON S.[schema_id] = T.[schema_id]\n            INNER JOIN sys.[indexes] I ON T.[object_id] = I.[object_id]\n            INNER JOIN sys.[index_columns] IC ON I.[object_id] = IC.[object_id] AND I.[index_id] = IC.[index_id]\n            INNER JOIN sys.[all_columns] AC ON T.[object_id] = AC.[object_id] AND IC.[column_id] = AC.[column_id]\n            WHERE T.[is_ms_shipped] = 0 AND I.[type_desc] <> 'HEAP' AND T.[name] = ? AND S.[name] = ?\n            ORDER BY I.[index_id], IC.[index_column_id]\"",201],";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$schema",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_EMPTY","empty",215],"(",["T_VARIABLE","$config",215],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",215],"]",")",["T_WHITESPACE"," ",215],"?",["T_WHITESPACE"," ",215],["T_STATIC","static",215],["T_DOUBLE_COLON","::",215],["T_STRING","DEFAULT_SCHEMA_NAME",215],["T_WHITESPACE"," ",215],":",["T_WHITESPACE"," ",215],["T_VARIABLE","$config",215],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",215],"]",";",["T_WHITESPACE","\n\n        ",215],["T_RETURN","return",217],["T_WHITESPACE"," ",217],"[",["T_VARIABLE","$sql",217],",",["T_WHITESPACE"," ",217],"[",["T_VARIABLE","$tableName",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$schema",217],"]","]",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",220],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","convertIndexDescription",223],"(",["T_STRING","Table",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$table",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$row",223],")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$type",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","Table",225],["T_DOUBLE_COLON","::",225],["T_STRING","INDEX_INDEX",225],";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$name",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$row",226],"[",["T_CONSTANT_ENCAPSED_STRING","'index_name'",226],"]",";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$row",227],"[",["T_CONSTANT_ENCAPSED_STRING","'is_primary_key'",227],"]",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$name",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$type",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","Table",228],["T_DOUBLE_COLON","::",228],["T_STRING","CONSTRAINT_PRIMARY",228],";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$row",230],"[",["T_CONSTANT_ENCAPSED_STRING","'is_unique_constraint'",230],"]",["T_WHITESPACE"," ",230],["T_BOOLEAN_AND","&&",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$type",230],["T_WHITESPACE"," ",230],["T_IS_IDENTICAL","===",230],["T_WHITESPACE"," ",230],["T_STRING","Table",230],["T_DOUBLE_COLON","::",230],["T_STRING","INDEX_INDEX",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$type",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","Table",231],["T_DOUBLE_COLON","::",231],["T_STRING","CONSTRAINT_UNIQUE",231],";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$type",234],["T_WHITESPACE"," ",234],["T_IS_IDENTICAL","===",234],["T_WHITESPACE"," ",234],["T_STRING","Table",234],["T_DOUBLE_COLON","::",234],["T_STRING","INDEX_INDEX",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$existing",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$table",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","index",235],"(",["T_VARIABLE","$name",235],")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE"," ",236],["T_ELSE","else",236],["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$existing",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$table",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","constraint",237],"(",["T_VARIABLE","$name",237],")",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$columns",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[",["T_VARIABLE","$row",240],"[",["T_CONSTANT_ENCAPSED_STRING","'column_name'",240],"]","]",";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(","!",["T_EMPTY","empty",241],"(",["T_VARIABLE","$existing",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$columns",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","array_merge",242],"(",["T_VARIABLE","$existing",242],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",242],"]",",",["T_WHITESPACE"," ",242],["T_VARIABLE","$columns",242],")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$type",245],["T_WHITESPACE"," ",245],["T_IS_IDENTICAL","===",245],["T_WHITESPACE"," ",245],["T_STRING","Table",245],["T_DOUBLE_COLON","::",245],["T_STRING","CONSTRAINT_PRIMARY",245],["T_WHITESPACE"," ",245],["T_BOOLEAN_OR","||",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$type",245],["T_WHITESPACE"," ",245],["T_IS_IDENTICAL","===",245],["T_WHITESPACE"," ",245],["T_STRING","Table",245],["T_DOUBLE_COLON","::",245],["T_STRING","CONSTRAINT_UNIQUE",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$table",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","addConstraint",246],"(",["T_VARIABLE","$name",246],",",["T_WHITESPACE"," ",246],"[",["T_WHITESPACE","\n                ",246],["T_CONSTANT_ENCAPSED_STRING","'type'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$type",247],",",["T_WHITESPACE","\n                ",247],["T_CONSTANT_ENCAPSED_STRING","'columns'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$columns",248],["T_WHITESPACE","\n            ",248],"]",")",";",["T_WHITESPACE","\n\n            ",249],["T_RETURN","return",251],";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$table",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","addIndex",253],"(",["T_VARIABLE","$name",253],",",["T_WHITESPACE"," ",253],"[",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'type'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$type",254],",",["T_WHITESPACE","\n            ",254],["T_CONSTANT_ENCAPSED_STRING","'columns'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$columns",255],["T_WHITESPACE","\n        ",255],"]",")",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",259],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","describeForeignKeySql",262],"(",["T_VARIABLE","$tableName",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$config",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$sql",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","\"SELECT FK.[name] AS [foreign_key_name], FK.[delete_referential_action_desc] AS [delete_type],\n                FK.[update_referential_action_desc] AS [update_type], C.name AS [column], RT.name AS [reference_table],\n                RC.name AS [reference_column]\n            FROM sys.foreign_keys FK\n            INNER JOIN sys.foreign_key_columns FKC ON FKC.constraint_object_id = FK.object_id\n            INNER JOIN sys.tables T ON T.object_id = FKC.parent_object_id\n            INNER JOIN sys.tables RT ON RT.object_id = FKC.referenced_object_id\n            INNER JOIN sys.schemas S ON S.schema_id = T.schema_id AND S.schema_id = RT.schema_id\n            INNER JOIN sys.columns C ON C.column_id = FKC.parent_column_id AND C.object_id = FKC.parent_object_id\n            INNER JOIN sys.columns RC ON RC.column_id = FKC.referenced_column_id AND RC.object_id = FKC.referenced_object_id\n            WHERE FK.is_ms_shipped = 0 AND T.name = ? AND S.name = ?\"",264],";",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$schema",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_EMPTY","empty",276],"(",["T_VARIABLE","$config",276],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",276],"]",")",["T_WHITESPACE"," ",276],"?",["T_WHITESPACE"," ",276],["T_STATIC","static",276],["T_DOUBLE_COLON","::",276],["T_STRING","DEFAULT_SCHEMA_NAME",276],["T_WHITESPACE"," ",276],":",["T_WHITESPACE"," ",276],["T_VARIABLE","$config",276],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",276],"]",";",["T_WHITESPACE","\n\n        ",276],["T_RETURN","return",278],["T_WHITESPACE"," ",278],"[",["T_VARIABLE","$sql",278],",",["T_WHITESPACE"," ",278],"[",["T_VARIABLE","$tableName",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$schema",278],"]","]",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",281],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","convertForeignKeyDescription",284],"(",["T_STRING","Table",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$table",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$row",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$data",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],"[",["T_WHITESPACE","\n            ",286],["T_CONSTANT_ENCAPSED_STRING","'type'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_STRING","Table",287],["T_DOUBLE_COLON","::",287],["T_STRING","CONSTRAINT_FOREIGN",287],",",["T_WHITESPACE","\n            ",287],["T_CONSTANT_ENCAPSED_STRING","'columns'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],"[",["T_VARIABLE","$row",288],"[",["T_CONSTANT_ENCAPSED_STRING","'column'",288],"]","]",",",["T_WHITESPACE","\n            ",288],["T_CONSTANT_ENCAPSED_STRING","'references'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],"[",["T_VARIABLE","$row",289],"[",["T_CONSTANT_ENCAPSED_STRING","'reference_table'",289],"]",",",["T_WHITESPACE"," ",289],["T_VARIABLE","$row",289],"[",["T_CONSTANT_ENCAPSED_STRING","'reference_column'",289],"]","]",",",["T_WHITESPACE","\n            ",289],["T_CONSTANT_ENCAPSED_STRING","'update'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_convertOnClause",290],"(",["T_VARIABLE","$row",290],"[",["T_CONSTANT_ENCAPSED_STRING","'update_type'",290],"]",")",",",["T_WHITESPACE","\n            ",290],["T_CONSTANT_ENCAPSED_STRING","'delete'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_convertOnClause",291],"(",["T_VARIABLE","$row",291],"[",["T_CONSTANT_ENCAPSED_STRING","'delete_type'",291],"]",")",",",["T_WHITESPACE","\n        ",291],"]",";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$name",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$row",293],"[",["T_CONSTANT_ENCAPSED_STRING","'foreign_key_name'",293],"]",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$table",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","addConstraint",294],"(",["T_VARIABLE","$name",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$data",294],")",";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",297],["T_WHITESPACE","\n    ",299],["T_PROTECTED","protected",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","_foreignOnClause",300],"(",["T_VARIABLE","$on",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$parent",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","parent",302],["T_DOUBLE_COLON","::",302],["T_STRING","_foreignOnClause",302],"(",["T_VARIABLE","$on",302],")",";",["T_WHITESPACE","\n\n        ",302],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$parent",304],["T_WHITESPACE"," ",304],["T_IS_IDENTICAL","===",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'RESTRICT'",304],["T_WHITESPACE"," ",304],"?",["T_WHITESPACE"," ",304],["T_STRING","parent",304],["T_DOUBLE_COLON","::",304],["T_STRING","_foreignOnClause",304],"(",["T_STRING","Table",304],["T_DOUBLE_COLON","::",304],["T_STRING","ACTION_SET_NULL",304],")",["T_WHITESPACE"," ",304],":",["T_WHITESPACE"," ",304],["T_VARIABLE","$parent",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",307],["T_WHITESPACE","\n    ",309],["T_PROTECTED","protected",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","_convertOnClause",310],"(",["T_VARIABLE","$clause",310],")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_SWITCH","switch",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$clause",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_CASE","case",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'NO_ACTION'",313],":",["T_WHITESPACE","\n                ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_STRING","Table",314],["T_DOUBLE_COLON","::",314],["T_STRING","ACTION_NO_ACTION",314],";",["T_WHITESPACE","\n            ",314],["T_CASE","case",315],["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'CASCADE'",315],":",["T_WHITESPACE","\n                ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_STRING","Table",316],["T_DOUBLE_COLON","::",316],["T_STRING","ACTION_CASCADE",316],";",["T_WHITESPACE","\n            ",316],["T_CASE","case",317],["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'SET_NULL'",317],":",["T_WHITESPACE","\n                ",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_STRING","Table",318],["T_DOUBLE_COLON","::",318],["T_STRING","ACTION_SET_NULL",318],";",["T_WHITESPACE","\n            ",318],["T_CASE","case",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'SET_DEFAULT'",319],":",["T_WHITESPACE","\n                ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_STRING","Table",320],["T_DOUBLE_COLON","::",320],["T_STRING","ACTION_SET_DEFAULT",320],";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_STRING","Table",323],["T_DOUBLE_COLON","::",323],["T_STRING","ACTION_SET_NULL",323],";",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n\n    ",324],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",326],["T_WHITESPACE","\n    ",328],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","columnSql",329],"(",["T_STRING","Table",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$table",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$name",329],")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$data",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$table",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","column",331],"(",["T_VARIABLE","$name",331],")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$out",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_driver",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","quoteIdentifier",332],"(",["T_VARIABLE","$name",332],")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$typeMap",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],"[",["T_WHITESPACE","\n            ",333],["T_CONSTANT_ENCAPSED_STRING","'integer'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","' INTEGER'",334],",",["T_WHITESPACE","\n            ",334],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","' BIGINT'",335],",",["T_WHITESPACE","\n            ",335],["T_CONSTANT_ENCAPSED_STRING","'boolean'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","' BIT'",336],",",["T_WHITESPACE","\n            ",336],["T_CONSTANT_ENCAPSED_STRING","'float'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","' FLOAT'",337],",",["T_WHITESPACE","\n            ",337],["T_CONSTANT_ENCAPSED_STRING","'decimal'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","' DECIMAL'",338],",",["T_WHITESPACE","\n            ",338],["T_CONSTANT_ENCAPSED_STRING","'date'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","' DATE'",339],",",["T_WHITESPACE","\n            ",339],["T_CONSTANT_ENCAPSED_STRING","'time'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","' TIME'",340],",",["T_WHITESPACE","\n            ",340],["T_CONSTANT_ENCAPSED_STRING","'datetime'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","' DATETIME'",341],",",["T_WHITESPACE","\n            ",341],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","' DATETIME'",342],",",["T_WHITESPACE","\n            ",342],["T_CONSTANT_ENCAPSED_STRING","'uuid'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","' UNIQUEIDENTIFIER'",343],",",["T_WHITESPACE","\n            ",343],["T_CONSTANT_ENCAPSED_STRING","'json'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","' NVARCHAR(MAX)'",344],",",["T_WHITESPACE","\n        ",344],"]",";",["T_WHITESPACE","\n\n        ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_ISSET","isset",347],"(",["T_VARIABLE","$typeMap",347],"[",["T_VARIABLE","$data",347],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",347],"]","]",")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_VARIABLE","$out",348],["T_WHITESPACE"," ",348],["T_CONCAT_EQUAL",".=",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$typeMap",348],"[",["T_VARIABLE","$data",348],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",348],"]","]",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n\n        ",349],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$data",351],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",351],"]",["T_WHITESPACE"," ",351],["T_IS_IDENTICAL","===",351],["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'integer'",351],["T_WHITESPACE"," ",351],["T_BOOLEAN_OR","||",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$data",351],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",351],"]",["T_WHITESPACE"," ",351],["T_IS_IDENTICAL","===",351],["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(","[",["T_VARIABLE","$name",352],"]",["T_WHITESPACE"," ",352],["T_IS_IDENTICAL","===",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$table",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","primaryKey",352],"(",")",["T_WHITESPACE"," ",352],["T_BOOLEAN_OR","||",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'autoIncrement'",352],"]",["T_WHITESPACE"," ",352],["T_IS_IDENTICAL","===",352],["T_WHITESPACE"," ",352],["T_STRING","true",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n                ",352],["T_UNSET","unset",353],"(",["T_VARIABLE","$data",353],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",353],"]",",",["T_WHITESPACE"," ",353],["T_VARIABLE","$data",353],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",353],"]",")",";",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$out",354],["T_WHITESPACE"," ",354],["T_CONCAT_EQUAL",".=",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","' IDENTITY(1, 1)'",354],";",["T_WHITESPACE","\n            ",354],"}",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n\n        ",356],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$data",358],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",358],"]",["T_WHITESPACE"," ",358],["T_IS_IDENTICAL","===",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'text'",358],["T_WHITESPACE"," ",358],["T_BOOLEAN_AND","&&",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$data",358],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",358],"]",["T_WHITESPACE"," ",358],["T_IS_NOT_IDENTICAL","!==",358],["T_WHITESPACE"," ",358],["T_STRING","Table",358],["T_DOUBLE_COLON","::",358],["T_STRING","LENGTH_TINY",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$out",359],["T_WHITESPACE"," ",359],["T_CONCAT_EQUAL",".=",359],["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","' NVARCHAR(MAX)'",359],";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$data",362],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",362],"]",["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'binary'",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$out",363],["T_WHITESPACE"," ",363],["T_CONCAT_EQUAL",".=",363],["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","' VARBINARY'",363],";",["T_WHITESPACE","\n\n            ",363],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$data",365],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",365],"]",["T_WHITESPACE"," ",365],["T_IS_NOT_IDENTICAL","!==",365],["T_WHITESPACE"," ",365],["T_STRING","Table",365],["T_DOUBLE_COLON","::",365],["T_STRING","LENGTH_TINY",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n                ",365],["T_VARIABLE","$out",366],["T_WHITESPACE"," ",366],["T_CONCAT_EQUAL",".=",366],["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'(MAX)'",366],";",["T_WHITESPACE","\n            ",366],"}",["T_WHITESPACE"," ",367],["T_ELSE","else",367],["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n                ",367],["T_VARIABLE","$out",368],["T_WHITESPACE"," ",368],["T_CONCAT_EQUAL",".=",368],["T_WHITESPACE"," ",368],["T_STRING","sprintf",368],"(",["T_CONSTANT_ENCAPSED_STRING","'(%s)'",368],",",["T_WHITESPACE"," ",368],["T_STRING","Table",368],["T_DOUBLE_COLON","::",368],["T_STRING","LENGTH_TINY",368],")",";",["T_WHITESPACE","\n            ",368],"}",["T_WHITESPACE","\n        ",369],"}",["T_WHITESPACE","\n\n        ",370],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$data",372],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",372],"]",["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'string'",372],["T_WHITESPACE"," ",372],["T_BOOLEAN_OR","||",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$data",372],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",372],"]",["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'text'",372],["T_WHITESPACE"," ",372],["T_BOOLEAN_AND","&&",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$data",372],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",372],"]",["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_STRING","Table",372],["T_DOUBLE_COLON","::",372],["T_STRING","LENGTH_TINY",372],")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$type",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' NVARCHAR'",373],";",["T_WHITESPACE","\n\n            ",373],["T_IF","if",375],["T_WHITESPACE"," ",375],"(","!",["T_EMPTY","empty",375],"(",["T_VARIABLE","$data",375],"[",["T_CONSTANT_ENCAPSED_STRING","'fixed'",375],"]",")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                ",375],["T_VARIABLE","$type",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","' NCHAR'",376],";",["T_WHITESPACE","\n            ",376],"}",["T_WHITESPACE","\n\n            ",377],["T_IF","if",379],["T_WHITESPACE"," ",379],"(","!",["T_ISSET","isset",379],"(",["T_VARIABLE","$data",379],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",379],"]",")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n                ",379],["T_VARIABLE","$data",380],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",380],"]",["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_LNUMBER","255",380],";",["T_WHITESPACE","\n            ",380],"}",["T_WHITESPACE","\n\n            ",381],["T_VARIABLE","$out",383],["T_WHITESPACE"," ",383],["T_CONCAT_EQUAL",".=",383],["T_WHITESPACE"," ",383],["T_STRING","sprintf",383],"(",["T_CONSTANT_ENCAPSED_STRING","'%s(%d)'",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$type",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$data",383],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",383],"]",")",";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$hasCollate",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'string'",386],"]",";",["T_WHITESPACE","\n        ",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_STRING","in_array",387],"(",["T_VARIABLE","$data",387],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",387],"]",",",["T_WHITESPACE"," ",387],["T_VARIABLE","$hasCollate",387],",",["T_WHITESPACE"," ",387],["T_STRING","true",387],")",["T_WHITESPACE"," ",387],["T_BOOLEAN_AND","&&",387],["T_WHITESPACE"," ",387],["T_ISSET","isset",387],"(",["T_VARIABLE","$data",387],"[",["T_CONSTANT_ENCAPSED_STRING","'collate'",387],"]",")",["T_WHITESPACE"," ",387],["T_BOOLEAN_AND","&&",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$data",387],"[",["T_CONSTANT_ENCAPSED_STRING","'collate'",387],"]",["T_WHITESPACE"," ",387],["T_IS_NOT_IDENTICAL","!==",387],["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","''",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$out",388],["T_WHITESPACE"," ",388],["T_CONCAT_EQUAL",".=",388],["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","' COLLATE '",388],["T_WHITESPACE"," ",388],".",["T_WHITESPACE"," ",388],["T_VARIABLE","$data",388],"[",["T_CONSTANT_ENCAPSED_STRING","'collate'",388],"]",";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n\n        ",389],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$data",391],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",391],"]",["T_WHITESPACE"," ",391],["T_IS_IDENTICAL","===",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'float'",391],["T_WHITESPACE"," ",391],["T_BOOLEAN_AND","&&",391],["T_WHITESPACE"," ",391],["T_ISSET","isset",391],"(",["T_VARIABLE","$data",391],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",391],"]",")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$out",392],["T_WHITESPACE"," ",392],["T_CONCAT_EQUAL",".=",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'('",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_INT_CAST","(int)",392],["T_VARIABLE","$data",392],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",392],"]",["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","')'",392],";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n\n        ",393],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_VARIABLE","$data",395],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",395],"]",["T_WHITESPACE"," ",395],["T_IS_IDENTICAL","===",395],["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'decimal'",395],["T_WHITESPACE"," ",395],["T_BOOLEAN_AND","&&",395],["T_WHITESPACE","\n            ",395],"(",["T_ISSET","isset",396],"(",["T_VARIABLE","$data",396],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",396],"]",")",["T_WHITESPACE"," ",396],["T_BOOLEAN_OR","||",396],["T_WHITESPACE"," ",396],["T_ISSET","isset",396],"(",["T_VARIABLE","$data",396],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",396],"]",")",")",["T_WHITESPACE","\n        ",396],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$out",398],["T_WHITESPACE"," ",398],["T_CONCAT_EQUAL",".=",398],["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'('",398],["T_WHITESPACE"," ",398],".",["T_WHITESPACE"," ",398],["T_INT_CAST","(int)",398],["T_VARIABLE","$data",398],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",398],"]",["T_WHITESPACE"," ",398],".",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","','",398],["T_WHITESPACE"," ",398],".",["T_WHITESPACE"," ",398],["T_INT_CAST","(int)",398],["T_VARIABLE","$data",398],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",398],"]",["T_WHITESPACE"," ",398],".",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","')'",398],";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n\n        ",399],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_ISSET","isset",401],"(",["T_VARIABLE","$data",401],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",401],"]",")",["T_WHITESPACE"," ",401],["T_BOOLEAN_AND","&&",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$data",401],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",401],"]",["T_WHITESPACE"," ",401],["T_IS_IDENTICAL","===",401],["T_WHITESPACE"," ",401],["T_STRING","false",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$out",402],["T_WHITESPACE"," ",402],["T_CONCAT_EQUAL",".=",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","' NOT NULL'",402],";",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n\n        ",403],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_ISSET","isset",405],"(",["T_VARIABLE","$data",405],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",405],"]",")",["T_WHITESPACE"," ",405],["T_BOOLEAN_AND","&&",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$data",405],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",405],"]",["T_WHITESPACE"," ",405],["T_IS_IDENTICAL","===",405],["T_WHITESPACE"," ",405],["T_STRING","true",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$out",406],["T_WHITESPACE"," ",406],["T_CONCAT_EQUAL",".=",406],["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT NULL'",406],";",["T_WHITESPACE","\n            ",406],["T_UNSET","unset",407],"(",["T_VARIABLE","$data",407],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",407],"]",")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_ISSET","isset",410],"(",["T_VARIABLE","$data",410],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",410],"]",")",["T_WHITESPACE"," ",410],["T_BOOLEAN_AND","&&",410],["T_WHITESPACE","\n            ",410],["T_STRING","in_array",411],"(",["T_VARIABLE","$data",411],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",411],"]",",",["T_WHITESPACE"," ",411],"[",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'datetime'",411],"]",")",["T_WHITESPACE"," ",411],["T_BOOLEAN_AND","&&",411],["T_WHITESPACE","\n            ",411],["T_STRING","strtolower",412],"(",["T_VARIABLE","$data",412],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",412],"]",")",["T_WHITESPACE"," ",412],["T_IS_IDENTICAL","===",412],["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'current_timestamp'",412],["T_WHITESPACE","\n        ",412],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n            ",413],["T_VARIABLE","$out",414],["T_WHITESPACE"," ",414],["T_CONCAT_EQUAL",".=",414],["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT CURRENT_TIMESTAMP'",414],";",["T_WHITESPACE","\n            ",414],["T_UNSET","unset",415],"(",["T_VARIABLE","$data",415],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",415],"]",")",";",["T_WHITESPACE","\n        ",415],"}",["T_WHITESPACE","\n        ",416],["T_IF","if",417],["T_WHITESPACE"," ",417],"(",["T_ISSET","isset",417],"(",["T_VARIABLE","$data",417],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",417],"]",")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n            ",417],["T_VARIABLE","$default",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","is_bool",418],"(",["T_VARIABLE","$data",418],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",418],"]",")",["T_WHITESPACE"," ",418],"?",["T_WHITESPACE"," ",418],["T_INT_CAST","(int)",418],["T_VARIABLE","$data",418],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",418],"]",["T_WHITESPACE"," ",418],":",["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_driver",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","schemaValue",418],"(",["T_VARIABLE","$data",418],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",418],"]",")",";",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$out",419],["T_WHITESPACE"," ",419],["T_CONCAT_EQUAL",".=",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT '",419],["T_WHITESPACE"," ",419],".",["T_WHITESPACE"," ",419],["T_VARIABLE","$default",419],";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n\n        ",420],["T_RETURN","return",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$out",422],";",["T_WHITESPACE","\n    ",422],"}",["T_WHITESPACE","\n\n    ",423],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",425],["T_WHITESPACE","\n    ",427],["T_PUBLIC","public",428],["T_WHITESPACE"," ",428],["T_FUNCTION","function",428],["T_WHITESPACE"," ",428],["T_STRING","addConstraintSql",428],"(",["T_STRING","Table",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$table",428],")",["T_WHITESPACE","\n    ",428],"{",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$sqlPattern",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE %s ADD %s;'",430],";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$sql",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],"[","]",";",["T_WHITESPACE","\n\n        ",431],["T_FOREACH","foreach",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$table",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","constraints",433],"(",")",["T_WHITESPACE"," ",433],["T_AS","as",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$name",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n            ",433],["T_VARIABLE","$constraint",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$table",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","constraint",434],"(",["T_VARIABLE","$name",434],")",";",["T_WHITESPACE","\n            ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$constraint",435],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",435],"]",["T_WHITESPACE"," ",435],["T_IS_IDENTICAL","===",435],["T_WHITESPACE"," ",435],["T_STRING","Table",435],["T_DOUBLE_COLON","::",435],["T_STRING","CONSTRAINT_FOREIGN",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                ",435],["T_VARIABLE","$tableName",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_driver",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","quoteIdentifier",436],"(",["T_VARIABLE","$table",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","name",436],"(",")",")",";",["T_WHITESPACE","\n                ",436],["T_VARIABLE","$sql",437],"[","]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","sprintf",437],"(",["T_VARIABLE","$sqlPattern",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$tableName",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","constraintSql",437],"(",["T_VARIABLE","$table",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$name",437],")",")",";",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n\n        ",439],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$sql",441],";",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",444],["T_WHITESPACE","\n    ",446],["T_PUBLIC","public",447],["T_WHITESPACE"," ",447],["T_FUNCTION","function",447],["T_WHITESPACE"," ",447],["T_STRING","dropConstraintSql",447],"(",["T_STRING","Table",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$table",447],")",["T_WHITESPACE","\n    ",447],"{",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$sqlPattern",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE %s DROP CONSTRAINT %s;'",449],";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$sql",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],"[","]",";",["T_WHITESPACE","\n\n        ",450],["T_FOREACH","foreach",452],["T_WHITESPACE"," ",452],"(",["T_VARIABLE","$table",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","constraints",452],"(",")",["T_WHITESPACE"," ",452],["T_AS","as",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$name",452],")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$constraint",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$table",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","constraint",453],"(",["T_VARIABLE","$name",453],")",";",["T_WHITESPACE","\n            ",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_VARIABLE","$constraint",454],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",454],"]",["T_WHITESPACE"," ",454],["T_IS_IDENTICAL","===",454],["T_WHITESPACE"," ",454],["T_STRING","Table",454],["T_DOUBLE_COLON","::",454],["T_STRING","CONSTRAINT_FOREIGN",454],")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n                ",454],["T_VARIABLE","$tableName",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_driver",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","quoteIdentifier",455],"(",["T_VARIABLE","$table",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","name",455],"(",")",")",";",["T_WHITESPACE","\n                ",455],["T_VARIABLE","$constraintName",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_driver",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","quoteIdentifier",456],"(",["T_VARIABLE","$name",456],")",";",["T_WHITESPACE","\n                ",456],["T_VARIABLE","$sql",457],"[","]",["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","sprintf",457],"(",["T_VARIABLE","$sqlPattern",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$tableName",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$constraintName",457],")",";",["T_WHITESPACE","\n            ",457],"}",["T_WHITESPACE","\n        ",458],"}",["T_WHITESPACE","\n\n        ",459],["T_RETURN","return",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$sql",461],";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",464],["T_WHITESPACE","\n    ",466],["T_PUBLIC","public",467],["T_WHITESPACE"," ",467],["T_FUNCTION","function",467],["T_WHITESPACE"," ",467],["T_STRING","indexSql",467],"(",["T_STRING","Table",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$table",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$name",467],")",["T_WHITESPACE","\n    ",467],"{",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$data",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$table",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","index",469],"(",["T_VARIABLE","$name",469],")",";",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$columns",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_STRING","array_map",470],"(",["T_WHITESPACE","\n            ",470],"[",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_driver",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'quoteIdentifier'",471],"]",",",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$data",472],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",472],"]",["T_WHITESPACE","\n        ",472],")",";",["T_WHITESPACE","\n\n        ",473],["T_RETURN","return",475],["T_WHITESPACE"," ",475],["T_STRING","sprintf",475],"(",["T_WHITESPACE","\n            ",475],["T_CONSTANT_ENCAPSED_STRING","'CREATE INDEX %s ON %s (%s)'",476],",",["T_WHITESPACE","\n            ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_driver",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","quoteIdentifier",477],"(",["T_VARIABLE","$name",477],")",",",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_driver",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","quoteIdentifier",478],"(",["T_VARIABLE","$table",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","name",478],"(",")",")",",",["T_WHITESPACE","\n            ",478],["T_STRING","implode",479],"(",["T_CONSTANT_ENCAPSED_STRING","', '",479],",",["T_WHITESPACE"," ",479],["T_VARIABLE","$columns",479],")",["T_WHITESPACE","\n        ",479],")",";",["T_WHITESPACE","\n    ",480],"}",["T_WHITESPACE","\n\n    ",481],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",483],["T_WHITESPACE","\n    ",485],["T_PUBLIC","public",486],["T_WHITESPACE"," ",486],["T_FUNCTION","function",486],["T_WHITESPACE"," ",486],["T_STRING","constraintSql",486],"(",["T_STRING","Table",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$table",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$name",486],")",["T_WHITESPACE","\n    ",486],"{",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$data",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$table",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","constraint",488],"(",["T_VARIABLE","$name",488],")",";",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$out",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'CONSTRAINT '",489],["T_WHITESPACE"," ",489],".",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_driver",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","quoteIdentifier",489],"(",["T_VARIABLE","$name",489],")",";",["T_WHITESPACE","\n        ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$data",490],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",490],"]",["T_WHITESPACE"," ",490],["T_IS_IDENTICAL","===",490],["T_WHITESPACE"," ",490],["T_STRING","Table",490],["T_DOUBLE_COLON","::",490],["T_STRING","CONSTRAINT_PRIMARY",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$out",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY KEY'",491],";",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n        ",492],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$data",493],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",493],"]",["T_WHITESPACE"," ",493],["T_IS_IDENTICAL","===",493],["T_WHITESPACE"," ",493],["T_STRING","Table",493],["T_DOUBLE_COLON","::",493],["T_STRING","CONSTRAINT_UNIQUE",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n            ",493],["T_VARIABLE","$out",494],["T_WHITESPACE"," ",494],["T_CONCAT_EQUAL",".=",494],["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","' UNIQUE'",494],";",["T_WHITESPACE","\n        ",494],"}",["T_WHITESPACE","\n\n        ",495],["T_RETURN","return",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","_keySql",497],"(",["T_VARIABLE","$out",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$data",497],")",";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Helper method for generating key SQL snippets.\n     *\n     * @param string $prefix The key prefix\n     * @param array $data Key data.\n     * @return string\n     *\/",500],["T_WHITESPACE","\n    ",506],["T_PROTECTED","protected",507],["T_WHITESPACE"," ",507],["T_FUNCTION","function",507],["T_WHITESPACE"," ",507],["T_STRING","_keySql",507],"(",["T_VARIABLE","$prefix",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$data",507],")",["T_WHITESPACE","\n    ",507],"{",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$columns",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","array_map",509],"(",["T_WHITESPACE","\n            ",509],"[",["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","_driver",510],",",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","'quoteIdentifier'",510],"]",",",["T_WHITESPACE","\n            ",510],["T_VARIABLE","$data",511],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",511],"]",["T_WHITESPACE","\n        ",511],")",";",["T_WHITESPACE","\n        ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_VARIABLE","$data",513],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",513],"]",["T_WHITESPACE"," ",513],["T_IS_IDENTICAL","===",513],["T_WHITESPACE"," ",513],["T_STRING","Table",513],["T_DOUBLE_COLON","::",513],["T_STRING","CONSTRAINT_FOREIGN",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_RETURN","return",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$prefix",514],["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_STRING","sprintf",514],"(",["T_WHITESPACE","\n                ",514],["T_CONSTANT_ENCAPSED_STRING","' FOREIGN KEY (%s) REFERENCES %s (%s) ON UPDATE %s ON DELETE %s'",515],",",["T_WHITESPACE","\n                ",515],["T_STRING","implode",516],"(",["T_CONSTANT_ENCAPSED_STRING","', '",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$columns",516],")",",",["T_WHITESPACE","\n                ",516],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_driver",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","quoteIdentifier",517],"(",["T_VARIABLE","$data",517],"[",["T_CONSTANT_ENCAPSED_STRING","'references'",517],"]","[",["T_LNUMBER","0",517],"]",")",",",["T_WHITESPACE","\n                ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","_convertConstraintColumns",518],"(",["T_VARIABLE","$data",518],"[",["T_CONSTANT_ENCAPSED_STRING","'references'",518],"]","[",["T_LNUMBER","1",518],"]",")",",",["T_WHITESPACE","\n                ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","_foreignOnClause",519],"(",["T_VARIABLE","$data",519],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",519],"]",")",",",["T_WHITESPACE","\n                ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_foreignOnClause",520],"(",["T_VARIABLE","$data",520],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",520],"]",")",["T_WHITESPACE","\n            ",520],")",";",["T_WHITESPACE","\n        ",521],"}",["T_WHITESPACE","\n\n        ",522],["T_RETURN","return",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$prefix",524],["T_WHITESPACE"," ",524],".",["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","' ('",524],["T_WHITESPACE"," ",524],".",["T_WHITESPACE"," ",524],["T_STRING","implode",524],"(",["T_CONSTANT_ENCAPSED_STRING","', '",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$columns",524],")",["T_WHITESPACE"," ",524],".",["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","')'",524],";",["T_WHITESPACE","\n    ",524],"}",["T_WHITESPACE","\n\n    ",525],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",527],["T_WHITESPACE","\n    ",529],["T_PUBLIC","public",530],["T_WHITESPACE"," ",530],["T_FUNCTION","function",530],["T_WHITESPACE"," ",530],["T_STRING","createTableSql",530],"(",["T_STRING","Table",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$table",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$columns",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$constraints",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$indexes",530],")",["T_WHITESPACE","\n    ",530],"{",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$content",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","array_merge",532],"(",["T_VARIABLE","$columns",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$constraints",532],")",";",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$content",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_STRING","implode",533],"(",["T_CONSTANT_ENCAPSED_STRING","\",\\n\"",533],",",["T_WHITESPACE"," ",533],["T_STRING","array_filter",533],"(",["T_VARIABLE","$content",533],")",")",";",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$tableName",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","_driver",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","quoteIdentifier",534],"(",["T_VARIABLE","$table",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","name",534],"(",")",")",";",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$out",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],"[","]",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$out",536],"[","]",["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","sprintf",536],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE TABLE %s (\\n%s\\n)\"",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$tableName",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$content",536],")",";",["T_WHITESPACE","\n        ",536],["T_FOREACH","foreach",537],["T_WHITESPACE"," ",537],"(",["T_VARIABLE","$indexes",537],["T_WHITESPACE"," ",537],["T_AS","as",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$index",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$out",538],"[","]",["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$index",538],";",["T_WHITESPACE","\n        ",538],"}",["T_WHITESPACE","\n\n        ",539],["T_RETURN","return",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$out",541],";",["T_WHITESPACE","\n    ",541],"}",["T_WHITESPACE","\n\n    ",542],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",544],["T_WHITESPACE","\n    ",546],["T_PUBLIC","public",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","truncateTableSql",547],"(",["T_STRING","Table",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$table",547],")",["T_WHITESPACE","\n    ",547],"{",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$name",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","_driver",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","quoteIdentifier",549],"(",["T_VARIABLE","$table",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","name",549],"(",")",")",";",["T_WHITESPACE","\n        ",549],["T_VARIABLE","$queries",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],"[",["T_WHITESPACE","\n            ",550],["T_STRING","sprintf",551],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE FROM %s'",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$name",551],")",["T_WHITESPACE","\n        ",551],"]",";",["T_WHITESPACE","\n\n        ",552],["T_COMMENT","\/\/ Restart identity sequences\n",554],["T_WHITESPACE","        ",555],["T_VARIABLE","$pk",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_VARIABLE","$table",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","primaryKey",555],"(",")",";",["T_WHITESPACE","\n        ",555],["T_IF","if",556],["T_WHITESPACE"," ",556],"(",["T_STRING","count",556],"(",["T_VARIABLE","$pk",556],")",["T_WHITESPACE"," ",556],["T_IS_IDENTICAL","===",556],["T_WHITESPACE"," ",556],["T_LNUMBER","1",556],")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n            ",556],["T_VARIABLE","$column",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$table",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","column",557],"(",["T_VARIABLE","$pk",557],"[",["T_LNUMBER","0",557],"]",")",";",["T_WHITESPACE","\n            ",557],["T_IF","if",558],["T_WHITESPACE"," ",558],"(",["T_STRING","in_array",558],"(",["T_VARIABLE","$column",558],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",558],"]",",",["T_WHITESPACE"," ",558],"[",["T_CONSTANT_ENCAPSED_STRING","'integer'",558],",",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'biginteger'",558],"]",")",")",["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n                ",558],["T_VARIABLE","$queries",559],"[","]",["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","sprintf",559],"(",["T_WHITESPACE","\n                    ",559],["T_CONSTANT_ENCAPSED_STRING","\"DBCC CHECKIDENT('%s', RESEED, 0)\"",560],",",["T_WHITESPACE","\n                    ",560],["T_VARIABLE","$table",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","name",561],"(",")",["T_WHITESPACE","\n                ",561],")",";",["T_WHITESPACE","\n            ",562],"}",["T_WHITESPACE","\n        ",563],"}",["T_WHITESPACE","\n\n        ",564],["T_RETURN","return",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$queries",566],";",["T_WHITESPACE","\n    ",566],"}",["T_WHITESPACE","\n",567],"}",["T_WHITESPACE","\n",568]]