[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Database",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Expression",17],["T_NS_SEPARATOR","\\",17],["T_STRING","QueryExpression",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Responsible for compiling a Query object into its SQL representation\n *\n * @internal\n *\/",19],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","QueryCompiler",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * List of sprintf templates that will be used for compiling the SQL for\n     * this query. There are some clauses that can be built as just as the\n     * direct concatenation of the internal parts, those are listed here.\n     *\n     * @var array\n     *\/",27],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_templates",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'delete'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",35],",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'where'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","' WHERE %s'",36],",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'group'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","' GROUP BY %s '",37],",",["T_WHITESPACE","\n        ",37],["T_CONSTANT_ENCAPSED_STRING","'having'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","' HAVING %s '",38],",",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'order'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","' %s'",39],",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'limit'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","' LIMIT %s'",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'offset'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","' OFFSET %s'",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'epilog'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","' %s'",42],["T_WHITESPACE","\n    ",42],"]",";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * The list of query clauses to traverse for generating a SELECT statement\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_selectParts",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'select'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'from'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'join'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'where'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'group'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'having'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'order'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'limit'",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'offset'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'union'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'epilog'",52],["T_WHITESPACE","\n    ",52],"]",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * The list of query clauses to traverse for generating an UPDATE statement\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_updateParts",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'set'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'where'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'epilog'",60],"]",";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * The list of query clauses to traverse for generating a DELETE statement\n     *\n     * @var array\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_deleteParts",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'modifier'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'from'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'where'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'epilog'",67],"]",";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * The list of query clauses to traverse for generating an INSERT statement\n     *\n     * @var array\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_insertParts",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[",["T_CONSTANT_ENCAPSED_STRING","'insert'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'values'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'epilog'",74],"]",";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Indicate whether or not this query dialect supports ordered unions.\n     *\n     * Overridden in subclasses.\n     *\n     * @var bool\n     *\/",76],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_orderedUnion",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","true",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Returns the SQL representation of the provided query after generating\n     * the placeholders for the bound values using the provided generator\n     *\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return \\Closure\n     *\/",85],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","compile",93],"(",["T_STRING","Query",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$query",93],",",["T_WHITESPACE"," ",93],["T_STRING","ValueBinder",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$generator",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$sql",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","''",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$type",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$query",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","type",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$query",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","traverse",97],"(",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_sqlCompiler",98],"(",["T_VARIABLE","$sql",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$query",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$generator",98],")",",",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],"{",["T_CONSTANT_ENCAPSED_STRING","'_'",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_VARIABLE","$type",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'Parts'",99],"}",["T_WHITESPACE","\n        ",99],")",";",["T_WHITESPACE","\n\n        ",100],["T_COMMENT","\/\/ Propagate bound parameters from sub-queries if the\n",102],["T_WHITESPACE","        ",103],["T_COMMENT","\/\/ placeholders can be found in the SQL statement.\n",103],["T_WHITESPACE","        ",104],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$query",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","valueBinder",104],"(",")",["T_WHITESPACE"," ",104],["T_IS_NOT_IDENTICAL","!==",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$generator",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$query",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","valueBinder",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","bindings",105],"(",")",["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$binding",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$placeholder",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","':'",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_VARIABLE","$binding",106],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholder'",106],"]",";",["T_WHITESPACE","\n                ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_STRING","preg_match",107],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$placeholder",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'(?:\\W|$)\/'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$sql",107],")",["T_WHITESPACE"," ",107],">",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                    ",107],["T_VARIABLE","$generator",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","bind",108],"(",["T_VARIABLE","$placeholder",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$binding",108],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",108],"]",",",["T_WHITESPACE"," ",108],["T_VARIABLE","$binding",108],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",108],"]",")",";",["T_WHITESPACE","\n                ",108],"}",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$sql",113],";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Returns a callable object that can be used to compile a SQL string representation\n     * of this query.\n     *\n     * @param string $sql initial sql string to append to\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator The placeholder and value binder object\n     * @return \\Closure\n     *\/",116],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","_sqlCompiler",125],"(","&",["T_VARIABLE","$sql",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$query",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$generator",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$parts",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$name",127],")",["T_WHITESPACE"," ",127],["T_USE","use",127],["T_WHITESPACE"," ",127],"(","&",["T_VARIABLE","$sql",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$query",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$generator",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_STRING","count",128],"(",["T_VARIABLE","$parts",128],")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_RETURN","return",129],";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n            ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$parts",131],["T_WHITESPACE"," ",131],["T_INSTANCEOF","instanceof",131],["T_WHITESPACE"," ",131],["T_STRING","ExpressionInterface",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                ",131],["T_VARIABLE","$parts",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],"[",["T_VARIABLE","$parts",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","sql",132],"(",["T_VARIABLE","$generator",132],")","]",";",["T_WHITESPACE","\n            ",132],"}",["T_WHITESPACE","\n            ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_ISSET","isset",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_templates",134],"[",["T_VARIABLE","$name",134],"]",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$parts",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_stringifyExpressions",135],"(",["T_ARRAY_CAST","(array)",135],["T_VARIABLE","$parts",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$generator",135],")",";",["T_WHITESPACE","\n\n                ",135],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$sql",137],["T_WHITESPACE"," ",137],["T_CONCAT_EQUAL",".=",137],["T_WHITESPACE"," ",137],["T_STRING","sprintf",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_templates",137],"[",["T_VARIABLE","$name",137],"]",",",["T_WHITESPACE"," ",137],["T_STRING","implode",137],"(",["T_CONSTANT_ENCAPSED_STRING","', '",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$parts",137],")",")",";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE","\n\n            ",138],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$sql",140],["T_WHITESPACE"," ",140],["T_CONCAT_EQUAL",".=",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],"{",["T_CONSTANT_ENCAPSED_STRING","'_build'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_STRING","ucfirst",140],"(",["T_VARIABLE","$name",140],")",["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Part'",140],"}","(",["T_VARIABLE","$parts",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$query",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$generator",140],")",";",["T_WHITESPACE","\n        ",140],"}",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Helper function used to build the string representation of a SELECT clause,\n     * it constructs the field list taking care of aliasing and\n     * converting expression objects to string. This function also constructs the\n     * DISTINCT clause for the query.\n     *\n     * @param array $parts list of fields to be transformed to string\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string\n     *\/",144],["T_WHITESPACE","\n    ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","_buildSelectPart",155],"(",["T_VARIABLE","$parts",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$query",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$generator",155],")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$driver",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$query",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","connection",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","driver",157],"(",")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$select",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'SELECT%s %s%s'",158],";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_orderedUnion",159],["T_WHITESPACE"," ",159],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$query",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","clause",159],"(",["T_CONSTANT_ENCAPSED_STRING","'union'",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$select",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'(SELECT%s %s%s'",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$distinct",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$query",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","clause",162],"(",["T_CONSTANT_ENCAPSED_STRING","'distinct'",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$modifiers",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_buildModifierPart",163],"(",["T_VARIABLE","$query",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","clause",163],"(",["T_CONSTANT_ENCAPSED_STRING","'modifier'",163],")",",",["T_WHITESPACE"," ",163],["T_VARIABLE","$query",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$generator",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$normalized",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],"[","]",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$parts",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_stringifyExpressions",166],"(",["T_VARIABLE","$parts",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$generator",166],")",";",["T_WHITESPACE","\n        ",166],["T_FOREACH","foreach",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$parts",167],["T_WHITESPACE"," ",167],["T_AS","as",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$k",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$p",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_STRING","is_numeric",168],"(",["T_VARIABLE","$k",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$p",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$p",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","' AS '",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$driver",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","quoteIdentifier",169],"(",["T_VARIABLE","$k",169],")",";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$normalized",171],"[","]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$p",171],";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$distinct",174],["T_WHITESPACE"," ",174],["T_IS_IDENTICAL","===",174],["T_WHITESPACE"," ",174],["T_STRING","true",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$distinct",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'DISTINCT '",175],";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n\n        ",176],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_STRING","is_array",178],"(",["T_VARIABLE","$distinct",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$distinct",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_stringifyExpressions",179],"(",["T_VARIABLE","$distinct",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$generator",179],")",";",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$distinct",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","sprintf",180],"(",["T_CONSTANT_ENCAPSED_STRING","'DISTINCT ON (%s) '",180],",",["T_WHITESPACE"," ",180],["T_STRING","implode",180],"(",["T_CONSTANT_ENCAPSED_STRING","', '",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$distinct",180],")",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_STRING","sprintf",183],"(",["T_VARIABLE","$select",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$modifiers",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$distinct",183],",",["T_WHITESPACE"," ",183],["T_STRING","implode",183],"(",["T_CONSTANT_ENCAPSED_STRING","', '",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$normalized",183],")",")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Helper function used to build the string representation of a FROM clause,\n     * it constructs the tables list taking care of aliasing and\n     * converting expression objects to string.\n     *\n     * @param array $parts list of tables to be transformed to string\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string\n     *\/",186],["T_WHITESPACE","\n    ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","_buildFromPart",196],"(",["T_VARIABLE","$parts",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$query",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$generator",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$select",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","' FROM %s'",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$normalized",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"[","]",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$parts",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_stringifyExpressions",200],"(",["T_VARIABLE","$parts",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$generator",200],")",";",["T_WHITESPACE","\n        ",200],["T_FOREACH","foreach",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$parts",201],["T_WHITESPACE"," ",201],["T_AS","as",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$k",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$p",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(","!",["T_STRING","is_numeric",202],"(",["T_VARIABLE","$k",202],")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$p",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$p",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","' '",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_VARIABLE","$k",203],";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$normalized",205],"[","]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$p",205],";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n\n        ",206],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_STRING","sprintf",208],"(",["T_VARIABLE","$select",208],",",["T_WHITESPACE"," ",208],["T_STRING","implode",208],"(",["T_CONSTANT_ENCAPSED_STRING","', '",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$normalized",208],")",")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Helper function used to build the string representation of multiple JOIN clauses,\n     * it constructs the joins list taking care of aliasing and converting\n     * expression objects to string in both the table to be joined and the conditions\n     * to be used.\n     *\n     * @param array $parts list of joins to be transformed to string\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string\n     *\/",211],["T_WHITESPACE","\n    ",221],["T_PROTECTED","protected",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","_buildJoinPart",222],"(",["T_VARIABLE","$parts",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$query",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$generator",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$joins",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","''",224],";",["T_WHITESPACE","\n        ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$parts",225],["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$join",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$subquery",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$join",226],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",226],"]",["T_WHITESPACE"," ",226],["T_INSTANCEOF","instanceof",226],["T_WHITESPACE"," ",226],["T_STRING","Query",226],["T_WHITESPACE"," ",226],["T_BOOLEAN_OR","||",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$join",226],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",226],"]",["T_WHITESPACE"," ",226],["T_INSTANCEOF","instanceof",226],["T_WHITESPACE"," ",226],["T_STRING","QueryExpression",226],";",["T_WHITESPACE","\n            ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$join",227],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",227],"]",["T_WHITESPACE"," ",227],["T_INSTANCEOF","instanceof",227],["T_WHITESPACE"," ",227],["T_STRING","ExpressionInterface",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                ",227],["T_VARIABLE","$join",228],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$join",228],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",228],"]",["T_OBJECT_OPERATOR","->",228],["T_STRING","sql",228],"(",["T_VARIABLE","$generator",228],")",";",["T_WHITESPACE","\n            ",228],"}",["T_WHITESPACE","\n\n            ",229],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$subquery",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                ",231],["T_VARIABLE","$join",232],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",232],"]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'('",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_VARIABLE","$join",232],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",232],"]",["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","')'",232],";",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE","\n\n            ",233],["T_VARIABLE","$joins",235],["T_WHITESPACE"," ",235],["T_CONCAT_EQUAL",".=",235],["T_WHITESPACE"," ",235],["T_STRING","sprintf",235],"(",["T_CONSTANT_ENCAPSED_STRING","' %s JOIN %s %s'",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$join",235],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",235],"]",",",["T_WHITESPACE"," ",235],["T_VARIABLE","$join",235],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",235],"]",",",["T_WHITESPACE"," ",235],["T_VARIABLE","$join",235],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",235],"]",")",";",["T_WHITESPACE","\n            ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_ISSET","isset",236],"(",["T_VARIABLE","$join",236],"[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",236],"]",")",["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],["T_STRING","count",236],"(",["T_VARIABLE","$join",236],"[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",236],"]",")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$joins",237],["T_WHITESPACE"," ",237],["T_CONCAT_EQUAL",".=",237],["T_WHITESPACE"," ",237],["T_STRING","sprintf",237],"(",["T_CONSTANT_ENCAPSED_STRING","' ON %s'",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$join",237],"[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",237],"]",["T_OBJECT_OPERATOR","->",237],["T_STRING","sql",237],"(",["T_VARIABLE","$generator",237],")",")",";",["T_WHITESPACE","\n            ",237],"}",["T_WHITESPACE"," ",238],["T_ELSE","else",238],["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$joins",239],["T_WHITESPACE"," ",239],["T_CONCAT_EQUAL",".=",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","' ON 1 = 1'",239],";",["T_WHITESPACE","\n            ",239],"}",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n\n        ",241],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$joins",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Helper function to generate SQL for SET expressions.\n     *\n     * @param array $parts List of keys & values to set.\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string\n     *\/",246],["T_WHITESPACE","\n    ",253],["T_PROTECTED","protected",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","_buildSetPart",254],"(",["T_VARIABLE","$parts",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$query",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$generator",254],")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$set",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],"[","]",";",["T_WHITESPACE","\n        ",256],["T_FOREACH","foreach",257],["T_WHITESPACE"," ",257],"(",["T_VARIABLE","$parts",257],["T_WHITESPACE"," ",257],["T_AS","as",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$part",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$part",258],["T_WHITESPACE"," ",258],["T_INSTANCEOF","instanceof",258],["T_WHITESPACE"," ",258],["T_STRING","ExpressionInterface",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$part",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$part",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","sql",259],"(",["T_VARIABLE","$generator",259],")",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE","\n            ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$part",261],"[",["T_LNUMBER","0",261],"]",["T_WHITESPACE"," ",261],["T_IS_IDENTICAL","===",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'('",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$part",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","substr",262],"(",["T_VARIABLE","$part",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","1",262],",",["T_WHITESPACE"," ",262],"-",["T_LNUMBER","1",262],")",";",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$set",264],"[","]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$part",264],";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n\n        ",265],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","' SET '",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_STRING","implode",267],"(",["T_CONSTANT_ENCAPSED_STRING","''",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$set",267],")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Builds the SQL string for all the UNION clauses in this query, when dealing\n     * with query objects it will also transform them using their configured SQL\n     * dialect.\n     *\n     * @param array $parts list of queries to be operated with UNION\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string\n     *\/",270],["T_WHITESPACE","\n    ",279],["T_PROTECTED","protected",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","_buildUnionPart",280],"(",["T_VARIABLE","$parts",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$query",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$generator",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$parts",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","array_map",282],"(",["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$p",282],")",["T_WHITESPACE"," ",282],["T_USE","use",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$generator",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$p",283],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",283],"]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$p",283],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",283],"]",["T_OBJECT_OPERATOR","->",283],["T_STRING","sql",283],"(",["T_VARIABLE","$generator",283],")",";",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$p",284],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",284],"]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$p",284],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",284],"]","[",["T_LNUMBER","0",284],"]",["T_WHITESPACE"," ",284],["T_IS_IDENTICAL","===",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'('",284],["T_WHITESPACE"," ",284],"?",["T_WHITESPACE"," ",284],["T_STRING","trim",284],"(",["T_VARIABLE","$p",284],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",284],"]",",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'()'",284],")",["T_WHITESPACE"," ",284],":",["T_WHITESPACE"," ",284],["T_VARIABLE","$p",284],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",284],"]",";",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$prefix",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$p",285],"[",["T_CONSTANT_ENCAPSED_STRING","'all'",285],"]",["T_WHITESPACE"," ",285],"?",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'ALL '",285],["T_WHITESPACE"," ",285],":",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","''",285],";",["T_WHITESPACE","\n            ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_orderedUnion",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],"\"",["T_CURLY_OPEN","{",287],["T_VARIABLE","$prefix",287],"}",["T_ENCAPSED_AND_WHITESPACE","(",287],["T_CURLY_OPEN","{",287],["T_VARIABLE","$p",287],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",287],"]","}",["T_ENCAPSED_AND_WHITESPACE",")",287],"\"",";",["T_WHITESPACE","\n            ",287],"}",["T_WHITESPACE","\n\n            ",288],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$prefix",290],["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_VARIABLE","$p",290],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",290],"]",";",["T_WHITESPACE","\n        ",290],"}",",",["T_WHITESPACE"," ",291],["T_VARIABLE","$parts",291],")",";",["T_WHITESPACE","\n\n        ",291],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_orderedUnion",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_STRING","sprintf",294],"(",["T_CONSTANT_ENCAPSED_STRING","\")\\nUNION %s\"",294],",",["T_WHITESPACE"," ",294],["T_STRING","implode",294],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nUNION \"",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$parts",294],")",")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n\n        ",295],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_STRING","sprintf",297],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nUNION %s\"",297],",",["T_WHITESPACE"," ",297],["T_STRING","implode",297],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nUNION \"",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$parts",297],")",")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Builds the SQL fragment for INSERT INTO.\n     *\n     * @param array $parts The insert parts.\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string SQL fragment.\n     *\/",300],["T_WHITESPACE","\n    ",307],["T_PROTECTED","protected",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","_buildInsertPart",308],"(",["T_VARIABLE","$parts",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$query",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$generator",308],")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$table",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$parts",310],"[",["T_LNUMBER","0",310],"]",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$columns",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_stringifyExpressions",311],"(",["T_VARIABLE","$parts",311],"[",["T_LNUMBER","1",311],"]",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$generator",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$modifiers",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_buildModifierPart",312],"(",["T_VARIABLE","$query",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","clause",312],"(",["T_CONSTANT_ENCAPSED_STRING","'modifier'",312],")",",",["T_WHITESPACE"," ",312],["T_VARIABLE","$query",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$generator",312],")",";",["T_WHITESPACE","\n\n        ",312],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_STRING","sprintf",314],"(",["T_CONSTANT_ENCAPSED_STRING","'INSERT%s INTO %s (%s)'",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$modifiers",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$table",314],",",["T_WHITESPACE"," ",314],["T_STRING","implode",314],"(",["T_CONSTANT_ENCAPSED_STRING","', '",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$columns",314],")",")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Builds the SQL fragment for INSERT INTO.\n     *\n     * @param array $parts The values parts.\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string SQL fragment.\n     *\/",317],["T_WHITESPACE","\n    ",324],["T_PROTECTED","protected",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","_buildValuesPart",325],"(",["T_VARIABLE","$parts",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$query",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$generator",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_STRING","implode",327],"(",["T_CONSTANT_ENCAPSED_STRING","''",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_stringifyExpressions",327],"(",["T_VARIABLE","$parts",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$generator",327],")",")",";",["T_WHITESPACE","\n    ",327],"}",["T_WHITESPACE","\n\n    ",328],["T_DOC_COMMENT","\/**\n     * Builds the SQL fragment for UPDATE.\n     *\n     * @param array $parts The update parts.\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string SQL fragment.\n     *\/",330],["T_WHITESPACE","\n    ",337],["T_PROTECTED","protected",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","_buildUpdatePart",338],"(",["T_VARIABLE","$parts",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$query",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$generator",338],")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$table",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_stringifyExpressions",340],"(",["T_VARIABLE","$parts",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$generator",340],")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$modifiers",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_buildModifierPart",341],"(",["T_VARIABLE","$query",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","clause",341],"(",["T_CONSTANT_ENCAPSED_STRING","'modifier'",341],")",",",["T_WHITESPACE"," ",341],["T_VARIABLE","$query",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$generator",341],")",";",["T_WHITESPACE","\n\n        ",341],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_STRING","sprintf",343],"(",["T_CONSTANT_ENCAPSED_STRING","'UPDATE%s %s'",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$modifiers",343],",",["T_WHITESPACE"," ",343],["T_STRING","implode",343],"(",["T_CONSTANT_ENCAPSED_STRING","','",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$table",343],")",")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Builds the SQL modifier fragment\n     *\n     * @param array $parts The query modifier parts\n     * @param \\Cake\\Database\\Query $query The query that is being compiled\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @return string SQL fragment.\n     *\/",346],["T_WHITESPACE","\n    ",353],["T_PROTECTED","protected",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","_buildModifierPart",354],"(",["T_VARIABLE","$parts",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$query",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$generator",354],")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$parts",356],["T_WHITESPACE"," ",356],["T_IS_IDENTICAL","===",356],["T_WHITESPACE"," ",356],"[","]",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","''",357],";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n\n        ",358],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","' '",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_STRING","implode",360],"(",["T_CONSTANT_ENCAPSED_STRING","' '",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_stringifyExpressions",360],"(",["T_VARIABLE","$parts",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$generator",360],",",["T_WHITESPACE"," ",360],["T_STRING","false",360],")",")",";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Helper function used to covert ExpressionInterface objects inside an array\n     * into their string representation.\n     *\n     * @param array $expressions list of strings and ExpressionInterface objects\n     * @param \\Cake\\Database\\ValueBinder $generator the placeholder generator to be used in expressions\n     * @param bool $wrap Whether to wrap each expression object with parenthesis\n     * @return array\n     *\/",363],["T_WHITESPACE","\n    ",371],["T_PROTECTED","protected",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","_stringifyExpressions",372],"(",["T_VARIABLE","$expressions",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$generator",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$wrap",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_STRING","true",372],")",["T_WHITESPACE","\n    ",372],"{",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$result",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],"[","]",";",["T_WHITESPACE","\n        ",374],["T_FOREACH","foreach",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$expressions",375],["T_WHITESPACE"," ",375],["T_AS","as",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$k",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$expression",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$expression",376],["T_WHITESPACE"," ",376],["T_INSTANCEOF","instanceof",376],["T_WHITESPACE"," ",376],["T_STRING","ExpressionInterface",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n                ",376],["T_VARIABLE","$value",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$expression",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","sql",377],"(",["T_VARIABLE","$generator",377],")",";",["T_WHITESPACE","\n                ",377],["T_VARIABLE","$expression",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$wrap",378],["T_WHITESPACE"," ",378],"?",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'('",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_VARIABLE","$value",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","')'",378],["T_WHITESPACE"," ",378],":",["T_WHITESPACE"," ",378],["T_VARIABLE","$value",378],";",["T_WHITESPACE","\n            ",378],"}",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$result",380],"[",["T_VARIABLE","$k",380],"]",["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$expression",380],";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n\n        ",381],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$result",383],";",["T_WHITESPACE","\n    ",383],"}",["T_WHITESPACE","\n",384],"}",["T_WHITESPACE","\n",385]]