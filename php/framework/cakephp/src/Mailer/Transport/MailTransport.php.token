[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Send mail using mail() function\n *\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",16],["T_NAMESPACE","namespace",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Mailer",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Transport",17],";",["T_WHITESPACE","\n\n",17],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Mailer",19],["T_NS_SEPARATOR","\\",19],["T_STRING","AbstractTransport",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Mailer",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Email",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Network",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Exception",21],["T_NS_SEPARATOR","\\",21],["T_STRING","SocketException",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Send mail using mail() function\n *\/",23],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","MailTransport",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","AbstractTransport",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Send mail\n     *\n     * @param \\Cake\\Mailer\\Email $email Cake Email\n     * @return array\n     *\/",29],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","send",35],"(",["T_STRING","Email",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$email",35],")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$eol",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","PHP_EOL",37],";",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_ISSET","isset",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","_config",38],"[",["T_CONSTANT_ENCAPSED_STRING","'eol'",38],"]",")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$eol",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_config",39],"[",["T_CONSTANT_ENCAPSED_STRING","'eol'",39],"]",";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$headers",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$email",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getHeaders",41],"(","[",["T_CONSTANT_ENCAPSED_STRING","'from'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'sender'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'replyTo'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'readReceipt'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'returnPath'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'to'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'cc'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'bcc'",41],"]",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$to",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$headers",42],"[",["T_CONSTANT_ENCAPSED_STRING","'To'",42],"]",";",["T_WHITESPACE","\n        ",42],["T_UNSET","unset",43],"(",["T_VARIABLE","$headers",43],"[",["T_CONSTANT_ENCAPSED_STRING","'To'",43],"]",")",";",["T_WHITESPACE","\n        ",43],["T_FOREACH","foreach",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$headers",44],["T_WHITESPACE"," ",44],["T_AS","as",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$key",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$header",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$headers",45],"[",["T_VARIABLE","$key",45],"]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","str_replace",45],"(","[",["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",45],"]",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","''",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$header",45],")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$headers",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_headersToString",47],"(",["T_VARIABLE","$headers",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$eol",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$subject",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","str_replace",48],"(","[",["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",48],"]",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","''",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$email",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","subject",48],"(",")",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$to",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","str_replace",49],"(","[",["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",49],"]",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","''",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$to",49],")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$message",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","implode",51],"(",["T_VARIABLE","$eol",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$email",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","message",51],"(",")",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$params",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ISSET","isset",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_config",53],"[",["T_CONSTANT_ENCAPSED_STRING","'additionalParameters'",53],"]",")",["T_WHITESPACE"," ",53],"?",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_config",53],"[",["T_CONSTANT_ENCAPSED_STRING","'additionalParameters'",53],"]",["T_WHITESPACE"," ",53],":",["T_WHITESPACE"," ",53],["T_STRING","null",53],";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_mail",54],"(",["T_VARIABLE","$to",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$subject",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$message",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$headers",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$params",54],")",";",["T_WHITESPACE","\n\n        ",54],["T_RETURN","return",56],["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$headers",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'message'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$message",56],"]",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Wraps internal function mail() and throws exception instead of errors if anything goes wrong\n     *\n     * @param string $to email's recipient\n     * @param string $subject email's subject\n     * @param string $message email's body\n     * @param string $headers email's custom headers\n     * @param string|null $params additional params for sending email\n     * @throws \\Cake\\Network\\Exception\\SocketException if mail could not be sent\n     * @return void\n     *\/",59],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","_mail",70],"(",["T_VARIABLE","$to",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$subject",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$message",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$headers",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$params",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","null",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_COMMENT","\/\/@codingStandardsIgnoreStart\n",72],["T_WHITESPACE","        ",73],["T_IF","if",73],["T_WHITESPACE"," ",73],"(","!","@",["T_STRING","mail",73],"(",["T_VARIABLE","$to",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$subject",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$message",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$headers",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$params",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$error",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","error_get_last",74],"(",")",";",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$msg",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Could not send email: '",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],"(",["T_ISSET","isset",75],"(",["T_VARIABLE","$error",75],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",75],"]",")",["T_WHITESPACE"," ",75],"?",["T_WHITESPACE"," ",75],["T_VARIABLE","$error",75],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",75],"]",["T_WHITESPACE"," ",75],":",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'unknown'",75],")",";",["T_WHITESPACE","\n            ",75],["T_THROW","throw",76],["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_STRING","SocketException",76],"(",["T_VARIABLE","$msg",76],")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n        ",77],["T_COMMENT","\/\/@codingStandardsIgnoreEnd\n",78],["T_WHITESPACE","    ",79],"}",["T_WHITESPACE","\n",79],"}",["T_WHITESPACE","\n",80]]