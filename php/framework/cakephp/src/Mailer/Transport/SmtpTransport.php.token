[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Mailer",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Transport",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Mailer",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractTransport",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Mailer",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Email",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Network",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Exception",19],["T_NS_SEPARATOR","\\",19],["T_STRING","SocketException",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Network",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Socket",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Exception",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Send mail using SMTP protocol\n *\/",23],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","SmtpTransport",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","AbstractTransport",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Default config for this class\n     *\n     * @var array\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_defaultConfig",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'host'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'localhost'",35],",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'port'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_LNUMBER","25",36],",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'timeout'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_LNUMBER","30",37],",",["T_WHITESPACE","\n        ",37],["T_CONSTANT_ENCAPSED_STRING","'username'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_STRING","null",38],",",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'password'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'client'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","null",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'tls'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","false",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'keepAlive'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","false",42],["T_WHITESPACE","\n    ",42],"]",";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Socket to SMTP server\n     *\n     * @var \\Cake\\Network\\Socket\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_socket",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Content of email to return\n     *\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_content",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * The response of the last sent SMTP command.\n     *\n     * @var array\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_lastResponse",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[","]",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Destructor\n     *\n     * Tries to disconnect to ensure that the connection is being\n     * terminated properly before the socket gets closed.\n     *\/",66],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","__destruct",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_TRY","try",74],["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","disconnect",75],"(",")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE"," ",76],["T_CATCH","catch",76],["T_WHITESPACE"," ",76],"(",["T_STRING","Exception",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$e",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_COMMENT","\/\/ avoid fatal error on script termination\n",77],["T_WHITESPACE","        ",78],"}",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Connect to the SMTP server.\n     *\n     * This method tries to connect only in case there is no open\n     * connection available already.\n     *\n     * @return void\n     *\/",81],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","connect",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(","!",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","connected",91],"(",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_connect",92],"(",")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_auth",93],"(",")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Check whether an open connection to the SMTP server is available.\n     *\n     * @return bool\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","connected",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_socket",104],["T_WHITESPACE"," ",104],["T_IS_NOT_IDENTICAL","!==",104],["T_WHITESPACE"," ",104],["T_STRING","null",104],["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_socket",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","connected",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Disconnect from the SMTP server.\n     *\n     * This method tries to disconnect only in case there is an open\n     * connection available.\n     *\n     * @return void\n     *\/",107],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","disconnect",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","connected",117],"(",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_disconnect",118],"(",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Returns the response of the last sent SMTP command.\n     *\n     * A response consists of one or more lines containing a response\n     * code and an optional response message text:\n     * ```\n     * [\n     *     [\n     *         'code' => '250',\n     *         'message' => 'mail.example.com'\n     *     ],\n     *     [\n     *         'code' => '250',\n     *         'message' => 'PIPELINING'\n     *     ],\n     *     [\n     *         'code' => '250',\n     *         'message' => '8BITMIME'\n     *     ],\n     *     \/\/ etc...\n     * ]\n     * ```\n     *\n     * @return array\n     *\/",122],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getLastResponse",147],"(",")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_lastResponse",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Send mail\n     *\n     * @param \\Cake\\Mailer\\Email $email Email instance\n     * @return array\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",152],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","send",159],"(",["T_STRING","Email",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$email",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","connected",161],"(",")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_connect",162],"(",")",";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_auth",163],"(",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE"," ",164],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_smtpSend",165],"(",["T_CONSTANT_ENCAPSED_STRING","'RSET'",165],")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_sendRcpt",168],"(",["T_VARIABLE","$email",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_sendData",169],"(",["T_VARIABLE","$email",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_config",171],"[",["T_CONSTANT_ENCAPSED_STRING","'keepAlive'",171],"]",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_disconnect",172],"(",")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n\n        ",173],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_content",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Parses and stores the response lines in `'code' => 'message'` format.\n     *\n     * @param array $responseLines Response lines to parse.\n     * @return void\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","_bufferResponseLines",184],"(",["T_ARRAY","array",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$responseLines",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$response",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"[","]",";",["T_WHITESPACE","\n        ",186],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$responseLines",187],["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$responseLine",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_STRING","preg_match",188],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(\\d{3})(?:[ -]+(.*))?$\/'",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$responseLine",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$match",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                ",188],["T_VARIABLE","$response",189],"[","]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],"[",["T_WHITESPACE","\n                    ",189],["T_CONSTANT_ENCAPSED_STRING","'code'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$match",190],"[",["T_LNUMBER","1",190],"]",",",["T_WHITESPACE","\n                    ",190],["T_CONSTANT_ENCAPSED_STRING","'message'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_ISSET","isset",191],"(",["T_VARIABLE","$match",191],"[",["T_LNUMBER","2",191],"]",")",["T_WHITESPACE"," ",191],"?",["T_WHITESPACE"," ",191],["T_VARIABLE","$match",191],"[",["T_LNUMBER","2",191],"]",["T_WHITESPACE"," ",191],":",["T_WHITESPACE"," ",191],["T_STRING","null",191],["T_WHITESPACE","\n                ",191],"]",";",["T_WHITESPACE","\n            ",192],"}",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_lastResponse",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","array_merge",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_lastResponse",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$response",195],")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Connect to SMTP Server\n     *\n     * @return void\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","_connect",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_generateSocket",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_socket",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","connect",207],"(",")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","SocketException",208],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to connect to SMTP server.'",208],")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_smtpSend",210],"(",["T_STRING","null",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'220'",210],")",";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$config",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_config",212],";",["T_WHITESPACE","\n\n        ",212],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_ISSET","isset",214],"(",["T_VARIABLE","$config",214],"[",["T_CONSTANT_ENCAPSED_STRING","'client'",214],"]",")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$host",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$config",215],"[",["T_CONSTANT_ENCAPSED_STRING","'client'",215],"]",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE"," ",216],["T_ELSEIF","elseif",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$httpHost",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","env",216],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_LIST","list",217],"(",["T_VARIABLE","$host",217],")",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","explode",217],"(",["T_CONSTANT_ENCAPSED_STRING","':'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$httpHost",217],")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$host",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'localhost'",219],";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_TRY","try",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_smtpSend",223],"(","\"",["T_ENCAPSED_AND_WHITESPACE","EHLO ",223],["T_CURLY_OPEN","{",223],["T_VARIABLE","$host",223],"}","\"",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'250'",223],")",";",["T_WHITESPACE","\n            ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$config",224],"[",["T_CONSTANT_ENCAPSED_STRING","'tls'",224],"]",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_smtpSend",225],"(",["T_CONSTANT_ENCAPSED_STRING","\"STARTTLS\"",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'220'",225],")",";",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_socket",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","enableCrypto",226],"(",["T_CONSTANT_ENCAPSED_STRING","'tls'",226],")",";",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_smtpSend",227],"(","\"",["T_ENCAPSED_AND_WHITESPACE","EHLO ",227],["T_CURLY_OPEN","{",227],["T_VARIABLE","$host",227],"}","\"",",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'250'",227],")",";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE"," ",229],["T_CATCH","catch",229],["T_WHITESPACE"," ",229],"(",["T_STRING","SocketException",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$e",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$config",230],"[",["T_CONSTANT_ENCAPSED_STRING","'tls'",230],"]",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_THROW","throw",231],["T_WHITESPACE"," ",231],["T_NEW","new",231],["T_WHITESPACE"," ",231],["T_STRING","SocketException",231],"(",["T_CONSTANT_ENCAPSED_STRING","'SMTP server did not accept the connection or trying to connect to non TLS SMTP server using TLS.'",231],")",";",["T_WHITESPACE","\n            ",231],"}",["T_WHITESPACE","\n            ",232],["T_TRY","try",233],["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_smtpSend",234],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HELO ",234],["T_CURLY_OPEN","{",234],["T_VARIABLE","$host",234],"}","\"",",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'250'",234],")",";",["T_WHITESPACE","\n            ",234],"}",["T_WHITESPACE"," ",235],["T_CATCH","catch",235],["T_WHITESPACE"," ",235],"(",["T_STRING","SocketException",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$e2",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                ",235],["T_THROW","throw",236],["T_WHITESPACE"," ",236],["T_NEW","new",236],["T_WHITESPACE"," ",236],["T_STRING","SocketException",236],"(",["T_CONSTANT_ENCAPSED_STRING","'SMTP server did not accept the connection.'",236],")",";",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Send authentication\n     *\n     * @return void\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",241],["T_WHITESPACE","\n    ",246],["T_PROTECTED","protected",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","_auth",247],"(",")",["T_WHITESPACE","\n    ",247],"{",["T_WHITESPACE","\n        ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_ISSET","isset",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_config",249],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",249],"]",",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_config",249],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",249],"]",")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$replyCode",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING_CAST","(string)",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_smtpSend",250],"(",["T_CONSTANT_ENCAPSED_STRING","'AUTH LOGIN'",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'334|500|502|504'",250],")",";",["T_WHITESPACE","\n            ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$replyCode",251],["T_WHITESPACE"," ",251],["T_IS_IDENTICAL","===",251],["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'334'",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_TRY","try",252],["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_smtpSend",253],"(",["T_STRING","base64_encode",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_config",253],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",253],"]",")",",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'334'",253],")",";",["T_WHITESPACE","\n                ",253],"}",["T_WHITESPACE"," ",254],["T_CATCH","catch",254],["T_WHITESPACE"," ",254],"(",["T_STRING","SocketException",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$e",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                    ",254],["T_THROW","throw",255],["T_WHITESPACE"," ",255],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_STRING","SocketException",255],"(",["T_CONSTANT_ENCAPSED_STRING","'SMTP server did not accept the username.'",255],")",";",["T_WHITESPACE","\n                ",255],"}",["T_WHITESPACE","\n                ",256],["T_TRY","try",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n                    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_smtpSend",258],"(",["T_STRING","base64_encode",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_config",258],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",258],"]",")",",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'235'",258],")",";",["T_WHITESPACE","\n                ",258],"}",["T_WHITESPACE"," ",259],["T_CATCH","catch",259],["T_WHITESPACE"," ",259],"(",["T_STRING","SocketException",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$e",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                    ",259],["T_THROW","throw",260],["T_WHITESPACE"," ",260],["T_NEW","new",260],["T_WHITESPACE"," ",260],["T_STRING","SocketException",260],"(",["T_CONSTANT_ENCAPSED_STRING","'SMTP server did not accept the password.'",260],")",";",["T_WHITESPACE","\n                ",260],"}",["T_WHITESPACE","\n            ",261],"}",["T_WHITESPACE"," ",262],["T_ELSEIF","elseif",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$replyCode",262],["T_WHITESPACE"," ",262],["T_IS_IDENTICAL","===",262],["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'504'",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n                ",262],["T_THROW","throw",263],["T_WHITESPACE"," ",263],["T_NEW","new",263],["T_WHITESPACE"," ",263],["T_STRING","SocketException",263],"(",["T_CONSTANT_ENCAPSED_STRING","'SMTP authentication method not allowed, check if SMTP server requires TLS.'",263],")",";",["T_WHITESPACE","\n            ",263],"}",["T_WHITESPACE"," ",264],["T_ELSE","else",264],["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                ",264],["T_THROW","throw",265],["T_WHITESPACE"," ",265],["T_NEW","new",265],["T_WHITESPACE"," ",265],["T_STRING","SocketException",265],"(",["T_CONSTANT_ENCAPSED_STRING","'AUTH command not recognized or not implemented, SMTP server may not require authentication.'",265],")",";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Prepares the `MAIL FROM` SMTP command.\n     *\n     * @param string $email The email address to send with the command.\n     * @return string\n     *\/",270],["T_WHITESPACE","\n    ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","_prepareFromCmd",276],"(",["T_VARIABLE","$email",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'MAIL FROM:<'",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_VARIABLE","$email",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'>'",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Prepares the `RCPT TO` SMTP command.\n     *\n     * @param string $email The email address to send with the command.\n     * @return string\n     *\/",281],["T_WHITESPACE","\n    ",286],["T_PROTECTED","protected",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","_prepareRcptCmd",287],"(",["T_VARIABLE","$email",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'RCPT TO:<'",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_VARIABLE","$email",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'>'",289],";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Prepares the `from` email address.\n     *\n     * @param \\Cake\\Mailer\\Email $email Email instance\n     * @return array\n     *\/",292],["T_WHITESPACE","\n    ",297],["T_PROTECTED","protected",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","_prepareFromAddress",298],"(",["T_VARIABLE","$email",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$from",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$email",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","returnPath",300],"(",")",";",["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_EMPTY","empty",301],"(",["T_VARIABLE","$from",301],")",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$from",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$email",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","from",302],"(",")",";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n\n        ",303],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$from",305],";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Prepares the recipient email addresses.\n     *\n     * @param \\Cake\\Mailer\\Email $email Email instance\n     * @return array\n     *\/",308],["T_WHITESPACE","\n    ",313],["T_PROTECTED","protected",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","_prepareRecipientAddresses",314],"(",["T_VARIABLE","$email",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$to",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$email",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","to",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$cc",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$email",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","cc",317],"(",")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$bcc",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$email",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","bcc",318],"(",")",";",["T_WHITESPACE","\n\n        ",318],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_STRING","array_merge",320],"(",["T_STRING","array_keys",320],"(",["T_VARIABLE","$to",320],")",",",["T_WHITESPACE"," ",320],["T_STRING","array_keys",320],"(",["T_VARIABLE","$cc",320],")",",",["T_WHITESPACE"," ",320],["T_STRING","array_keys",320],"(",["T_VARIABLE","$bcc",320],")",")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Prepares the message headers.\n     *\n     * @param \\Cake\\Mailer\\Email $email Email instance\n     * @return array\n     *\/",323],["T_WHITESPACE","\n    ",328],["T_PROTECTED","protected",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","_prepareMessageHeaders",329],"(",["T_VARIABLE","$email",329],")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$email",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getHeaders",331],"(","[",["T_CONSTANT_ENCAPSED_STRING","'from'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'sender'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'replyTo'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'readReceipt'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'to'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'cc'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'subject'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'returnPath'",331],"]",")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Prepares the message body.\n     *\n     * @param \\Cake\\Mailer\\Email $email Email instance\n     * @return string\n     *\/",334],["T_WHITESPACE","\n    ",339],["T_PROTECTED","protected",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","_prepareMessage",340],"(",["T_VARIABLE","$email",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$lines",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$email",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","message",342],"(",")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$messages",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],"[","]",";",["T_WHITESPACE","\n        ",343],["T_FOREACH","foreach",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$lines",344],["T_WHITESPACE"," ",344],["T_AS","as",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$line",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(","(","!",["T_EMPTY","empty",345],"(",["T_VARIABLE","$line",345],")",")",["T_WHITESPACE"," ",345],["T_BOOLEAN_AND","&&",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$line",345],"[",["T_LNUMBER","0",345],"]",["T_WHITESPACE"," ",345],["T_IS_IDENTICAL","===",345],["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'.'",345],")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$messages",346],"[","]",["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'.'",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_VARIABLE","$line",346],";",["T_WHITESPACE","\n            ",346],"}",["T_WHITESPACE"," ",347],["T_ELSE","else",347],["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n                ",347],["T_VARIABLE","$messages",348],"[","]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$line",348],";",["T_WHITESPACE","\n            ",348],"}",["T_WHITESPACE","\n        ",349],"}",["T_WHITESPACE","\n\n        ",350],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_STRING","implode",352],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$messages",352],")",";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Send emails\n     *\n     * @return void\n     * @param \\Cake\\Mailer\\Email $email Cake Email\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",355],["T_WHITESPACE","\n    ",361],["T_PROTECTED","protected",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","_sendRcpt",362],"(",["T_VARIABLE","$email",362],")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$from",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_prepareFromAddress",364],"(",["T_VARIABLE","$email",364],")",";",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_smtpSend",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_prepareFromCmd",365],"(",["T_STRING","key",365],"(",["T_VARIABLE","$from",365],")",")",")",";",["T_WHITESPACE","\n\n        ",365],["T_VARIABLE","$emails",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_prepareRecipientAddresses",367],"(",["T_VARIABLE","$email",367],")",";",["T_WHITESPACE","\n        ",367],["T_FOREACH","foreach",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$emails",368],["T_WHITESPACE"," ",368],["T_AS","as",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$mail",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_smtpSend",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_prepareRcptCmd",369],"(",["T_VARIABLE","$mail",369],")",")",";",["T_WHITESPACE","\n        ",369],"}",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n\n    ",371],["T_DOC_COMMENT","\/**\n     * Send Data\n     *\n     * @param \\Cake\\Mailer\\Email $email Email instance\n     * @return void\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",373],["T_WHITESPACE","\n    ",379],["T_PROTECTED","protected",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","_sendData",380],"(",["T_VARIABLE","$email",380],")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_smtpSend",382],"(",["T_CONSTANT_ENCAPSED_STRING","'DATA'",382],",",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'354'",382],")",";",["T_WHITESPACE","\n\n        ",382],["T_VARIABLE","$headers",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_headersToString",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_prepareMessageHeaders",384],"(",["T_VARIABLE","$email",384],")",")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$message",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_prepareMessage",385],"(",["T_VARIABLE","$email",385],")",";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_smtpSend",387],"(",["T_VARIABLE","$headers",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$message",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\\r\\n.\"",387],")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_content",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$headers",388],",",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'message'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$message",388],"]",";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Disconnect\n     *\n     * @return void\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",391],["T_WHITESPACE","\n    ",396],["T_PROTECTED","protected",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","_disconnect",397],"(",")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_smtpSend",399],"(",["T_CONSTANT_ENCAPSED_STRING","'QUIT'",399],",",["T_WHITESPACE"," ",399],["T_STRING","false",399],")",";",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_socket",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","disconnect",400],"(",")",";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Helper method to generate socket\n     *\n     * @return void\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",403],["T_WHITESPACE","\n    ",408],["T_PROTECTED","protected",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","_generateSocket",409],"(",")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_socket",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_NEW","new",411],["T_WHITESPACE"," ",411],["T_STRING","Socket",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_config",411],")",";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Protected method for sending data to SMTP connection\n     *\n     * @param string|null $data Data to be sent to SMTP server\n     * @param string|bool $checkCode Code to check for in server response, false to skip\n     * @return string|null The matched code, or null if nothing matched\n     * @throws \\Cake\\Network\\Exception\\SocketException\n     *\/",414],["T_WHITESPACE","\n    ",421],["T_PROTECTED","protected",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","_smtpSend",422],"(",["T_VARIABLE","$data",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$checkCode",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'250'",422],")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_lastResponse",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],"[","]",";",["T_WHITESPACE","\n\n        ",424],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$data",426],["T_WHITESPACE"," ",426],["T_IS_NOT_IDENTICAL","!==",426],["T_WHITESPACE"," ",426],["T_STRING","null",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n            ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_socket",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","write",427],"(",["T_VARIABLE","$data",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",427],")",";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n\n        ",428],["T_VARIABLE","$timeout",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_config",430],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",430],"]",";",["T_WHITESPACE","\n\n        ",430],["T_WHILE","while",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$checkCode",432],["T_WHITESPACE"," ",432],["T_IS_NOT_IDENTICAL","!==",432],["T_WHITESPACE"," ",432],["T_STRING","false",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$response",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","''",433],";",["T_WHITESPACE","\n            ",433],["T_VARIABLE","$startTime",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_STRING","time",434],"(",")",";",["T_WHITESPACE","\n            ",434],["T_WHILE","while",435],["T_WHITESPACE"," ",435],"(",["T_STRING","substr",435],"(",["T_VARIABLE","$response",435],",",["T_WHITESPACE"," ",435],"-",["T_LNUMBER","2",435],")",["T_WHITESPACE"," ",435],["T_IS_NOT_IDENTICAL","!==",435],["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",435],["T_WHITESPACE"," ",435],["T_BOOLEAN_AND","&&",435],["T_WHITESPACE"," ",435],"(","(",["T_STRING","time",435],"(",")",["T_WHITESPACE"," ",435],"-",["T_WHITESPACE"," ",435],["T_VARIABLE","$startTime",435],")",["T_WHITESPACE"," ",435],"<",["T_WHITESPACE"," ",435],["T_VARIABLE","$timeout",435],")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                ",435],["T_VARIABLE","$response",436],["T_WHITESPACE"," ",436],["T_CONCAT_EQUAL",".=",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_socket",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","read",436],"(",")",";",["T_WHITESPACE","\n            ",436],"}",["T_WHITESPACE","\n            ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(",["T_STRING","substr",438],"(",["T_VARIABLE","$response",438],",",["T_WHITESPACE"," ",438],"-",["T_LNUMBER","2",438],")",["T_WHITESPACE"," ",438],["T_IS_NOT_IDENTICAL","!==",438],["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n                ",438],["T_THROW","throw",439],["T_WHITESPACE"," ",439],["T_NEW","new",439],["T_WHITESPACE"," ",439],["T_STRING","SocketException",439],"(",["T_CONSTANT_ENCAPSED_STRING","'SMTP timeout.'",439],")",";",["T_WHITESPACE","\n            ",439],"}",["T_WHITESPACE","\n            ",440],["T_VARIABLE","$responseLines",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","explode",441],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",441],",",["T_WHITESPACE"," ",441],["T_STRING","rtrim",441],"(",["T_VARIABLE","$response",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",441],")",")",";",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$response",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","end",442],"(",["T_VARIABLE","$responseLines",442],")",";",["T_WHITESPACE","\n\n            ",442],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_bufferResponseLines",444],"(",["T_VARIABLE","$responseLines",444],")",";",["T_WHITESPACE","\n\n            ",444],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_STRING","preg_match",446],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^('",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_VARIABLE","$checkCode",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","')(.)\/'",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$response",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$code",446],")",")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n                ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$code",447],"[",["T_LNUMBER","2",447],"]",["T_WHITESPACE"," ",447],["T_IS_IDENTICAL","===",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'-'",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                    ",447],["T_CONTINUE","continue",448],";",["T_WHITESPACE","\n                ",448],"}",["T_WHITESPACE","\n\n                ",449],["T_RETURN","return",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$code",451],"[",["T_LNUMBER","1",451],"]",";",["T_WHITESPACE","\n            ",451],"}",["T_WHITESPACE","\n            ",452],["T_THROW","throw",453],["T_WHITESPACE"," ",453],["T_NEW","new",453],["T_WHITESPACE"," ",453],["T_STRING","SocketException",453],"(",["T_STRING","sprintf",453],"(",["T_CONSTANT_ENCAPSED_STRING","'SMTP Error: %s'",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$response",453],")",")",";",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n    ",454],"}",["T_WHITESPACE","\n",455],"}",["T_WHITESPACE","\n",456]]