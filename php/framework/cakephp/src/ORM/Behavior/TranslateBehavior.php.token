[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ORM",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Behavior",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","ArrayObject",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Collection",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Collection",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Datasource",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EntityInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Event",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Event",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","I18n",21],["T_NS_SEPARATOR","\\",21],["T_STRING","I18n",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ORM",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Behavior",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ORM",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Entity",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","ORM",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Locator",24],["T_NS_SEPARATOR","\\",24],["T_STRING","LocatorAwareTrait",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Cake",25],["T_NS_SEPARATOR","\\",25],["T_STRING","ORM",25],["T_NS_SEPARATOR","\\",25],["T_STRING","PropertyMarshalInterface",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Cake",26],["T_NS_SEPARATOR","\\",26],["T_STRING","ORM",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Query",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Cake",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ORM",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Table",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Cake",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Utility",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Inflector",28],";",["T_WHITESPACE","\n\n",28],["T_DOC_COMMENT","\/**\n * This behavior provides a way to translate dynamic data by keeping translations\n * in a separate table linked to the original record from another one. Translated\n * fields can be configured to override those in the main table when fetched or\n * put aside into another property for the same entity.\n *\n * If you wish to override fields, you need to call the `locale` method in this\n * behavior for setting the language you want to fetch from the translations table.\n *\n * If you want to bring all or certain languages for each of the fetched records,\n * you can use the custom `translations` finders that is exposed to the table.\n *\/",30],["T_WHITESPACE","\n",41],["T_CLASS","class",42],["T_WHITESPACE"," ",42],["T_STRING","TranslateBehavior",42],["T_WHITESPACE"," ",42],["T_EXTENDS","extends",42],["T_WHITESPACE"," ",42],["T_STRING","Behavior",42],["T_WHITESPACE"," ",42],["T_IMPLEMENTS","implements",42],["T_WHITESPACE"," ",42],["T_STRING","PropertyMarshalInterface",42],["T_WHITESPACE","\n",42],"{",["T_WHITESPACE","\n\n    ",43],["T_USE","use",45],["T_WHITESPACE"," ",45],["T_STRING","LocatorAwareTrait",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Table instance\n     *\n     * @var \\Cake\\ORM\\Table\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_table",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * The locale name that will be used to override fields in the bound table\n     * from the translations table\n     *\n     * @var string\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_locale",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Instance of Table responsible for translating\n     *\n     * @var \\Cake\\ORM\\Table\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_translationTable",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Default config\n     *\n     * These are merged with user-provided configuration when the behavior is used.\n     *\n     * @var array\n     *\/",69],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_defaultConfig",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[",["T_WHITESPACE","\n        ",76],["T_CONSTANT_ENCAPSED_STRING","'implementedFinders'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'translations'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'findTranslations'",77],"]",",",["T_WHITESPACE","\n        ",77],["T_CONSTANT_ENCAPSED_STRING","'implementedMethods'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'locale'",78],"]",",",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'fields'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],"[","]",",",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'translationTable'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'I18n'",80],",",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'defaultLocale'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","''",81],",",["T_WHITESPACE","\n        ",81],["T_CONSTANT_ENCAPSED_STRING","'referenceName'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","''",82],",",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'allowEmptyTranslations'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_STRING","true",83],",",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'onlyTranslated'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","false",84],",",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'strategy'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'subquery'",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'tableLocator'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_STRING","null",86],",",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'validator'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],["T_WHITESPACE","\n    ",87],"]",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Cake\\ORM\\Table $table The table this behavior is attached to.\n     * @param array $config The config for this behavior.\n     *\/",90],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","__construct",96],"(",["T_STRING","Table",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$table",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$config",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],"[","]",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$config",98],["T_WHITESPACE"," ",98],["T_PLUS_EQUAL","+=",98],["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n            ",98],["T_CONSTANT_ENCAPSED_STRING","'defaultLocale'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","I18n",99],["T_DOUBLE_COLON","::",99],["T_STRING","defaultLocale",99],"(",")",",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'referenceName'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_referenceName",100],"(",["T_VARIABLE","$table",100],")",["T_WHITESPACE","\n        ",100],"]",";",["T_WHITESPACE","\n\n        ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_ISSET","isset",103],"(",["T_VARIABLE","$config",103],"[",["T_CONSTANT_ENCAPSED_STRING","'tableLocator'",103],"]",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_tableLocator",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$config",104],"[",["T_CONSTANT_ENCAPSED_STRING","'tableLocator'",104],"]",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_STRING","parent",107],["T_DOUBLE_COLON","::",107],["T_STRING","__construct",107],"(",["T_VARIABLE","$table",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$config",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Initialize hook\n     *\n     * @param array $config The config for this behavior.\n     * @return void\n     *\/",110],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","initialize",116],"(",["T_ARRAY","array",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$config",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_translationTable",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","tableLocator",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","get",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_config",118],"[",["T_CONSTANT_ENCAPSED_STRING","'translationTable'",118],"]",")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setupFieldAssociations",120],"(",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_config",121],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",121],"]",",",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_config",122],"[",["T_CONSTANT_ENCAPSED_STRING","'translationTable'",122],"]",",",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_config",123],"[",["T_CONSTANT_ENCAPSED_STRING","'referenceName'",123],"]",",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_config",124],"[",["T_CONSTANT_ENCAPSED_STRING","'strategy'",124],"]",["T_WHITESPACE","\n        ",124],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Creates the associations between the bound table and every field passed to\n     * this method.\n     *\n     * Additionally it creates a `i18n` HasMany association that will be\n     * used for fetching all translations for each record in the bound table\n     *\n     * @param array $fields list of fields to create associations for\n     * @param string $table the table name to use for storing each field translation\n     * @param string $model the model field value\n     * @param string $strategy the strategy used in the _i18n association\n     *\n     * @return void\n     *\/",128],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","setupFieldAssociations",142],"(",["T_VARIABLE","$fields",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$table",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$model",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$strategy",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$targetAlias",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_translationTable",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","alias",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$alias",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_table",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","alias",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$filter",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_config",146],"[",["T_CONSTANT_ENCAPSED_STRING","'onlyTranslated'",146],"]",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$tableLocator",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","tableLocator",147],"(",")",";",["T_WHITESPACE","\n\n        ",147],["T_FOREACH","foreach",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$fields",149],["T_WHITESPACE"," ",149],["T_AS","as",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$field",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$name",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$alias",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'_'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$field",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'_translation'",150],";",["T_WHITESPACE","\n\n            ",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(","!",["T_VARIABLE","$tableLocator",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","exists",152],"(",["T_VARIABLE","$name",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$fieldTable",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$tableLocator",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","get",153],"(",["T_VARIABLE","$name",153],",",["T_WHITESPACE"," ",153],"[",["T_WHITESPACE","\n                    ",153],["T_CONSTANT_ENCAPSED_STRING","'className'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$table",154],",",["T_WHITESPACE","\n                    ",154],["T_CONSTANT_ENCAPSED_STRING","'alias'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$name",155],",",["T_WHITESPACE","\n                    ",155],["T_CONSTANT_ENCAPSED_STRING","'table'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_translationTable",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","table",156],"(",")",["T_WHITESPACE","\n                ",156],"]",")",";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE"," ",158],["T_ELSE","else",158],["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$fieldTable",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$tableLocator",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","get",159],"(",["T_VARIABLE","$name",159],")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n\n            ",160],["T_VARIABLE","$conditions",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$name",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'.model'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$model",163],",",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$name",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'.field'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$field",164],",",["T_WHITESPACE","\n            ",164],"]",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(","!",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_config",166],"[",["T_CONSTANT_ENCAPSED_STRING","'allowEmptyTranslations'",166],"]",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$conditions",167],"[",["T_VARIABLE","$name",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'.content !='",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","''",167],";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n\n            ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_table",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","hasOne",170],"(",["T_VARIABLE","$name",170],",",["T_WHITESPACE"," ",170],"[",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'targetTable'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$fieldTable",171],",",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",172],",",["T_WHITESPACE","\n                ",172],["T_CONSTANT_ENCAPSED_STRING","'joinType'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$filter",173],["T_WHITESPACE"," ",173],"?",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'INNER'",173],["T_WHITESPACE"," ",173],":",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'LEFT'",173],",",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'conditions'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$conditions",174],",",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'propertyName'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$field",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'_translation'",175],["T_WHITESPACE","\n            ",175],"]",")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$conditions",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"[","\"",["T_VARIABLE","$targetAlias",179],["T_ENCAPSED_AND_WHITESPACE",".model",179],"\"",["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$model",179],"]",";",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(","!",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_config",180],"[",["T_CONSTANT_ENCAPSED_STRING","'allowEmptyTranslations'",180],"]",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$conditions",181],"[","\"",["T_VARIABLE","$targetAlias",181],["T_ENCAPSED_AND_WHITESPACE",".content !=",181],"\"","]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","''",181],";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_table",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","hasMany",184],"(",["T_VARIABLE","$targetAlias",184],",",["T_WHITESPACE"," ",184],"[",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'className'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$table",185],",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",186],",",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'strategy'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$strategy",187],",",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","'conditions'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$conditions",188],",",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'propertyName'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'_i18n'",189],",",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'dependent'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_STRING","true",190],["T_WHITESPACE","\n        ",190],"]",")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Callback method that listens to the `beforeFind` event in the bound\n     * table. It modifies the passed query by eager loading the translated fields\n     * and adding a formatter to copy the values into the main table records.\n     *\n     * @param \\Cake\\Event\\Event $event The beforeFind event that was fired.\n     * @param \\Cake\\ORM\\Query $query Query\n     * @param \\ArrayObject $options The options for the query\n     * @return void\n     *\/",194],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","beforeFind",204],"(",["T_STRING","Event",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$event",204],",",["T_WHITESPACE"," ",204],["T_STRING","Query",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$query",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$options",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$locale",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","locale",206],"(",")",";",["T_WHITESPACE","\n\n        ",206],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$locale",208],["T_WHITESPACE"," ",208],["T_IS_IDENTICAL","===",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","config",208],"(",["T_CONSTANT_ENCAPSED_STRING","'defaultLocale'",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_RETURN","return",209],";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$conditions",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$field",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$locale",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$query",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$select",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$q",213],")",["T_WHITESPACE"," ",213],["T_USE","use",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$field",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$locale",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$query",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$select",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$q",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","where",214],"(","[",["T_VARIABLE","$q",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","repository",214],"(",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","aliasField",214],"(",["T_CONSTANT_ENCAPSED_STRING","'locale'",214],")",["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$locale",214],"]",")",";",["T_WHITESPACE","\n\n                ",214],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$query",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","autoFields",216],"(",")",["T_WHITESPACE"," ",216],["T_BOOLEAN_OR","||",216],["T_WHITESPACE","\n                    ",216],["T_STRING","in_array",217],"(",["T_VARIABLE","$field",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$select",217],",",["T_WHITESPACE"," ",217],["T_STRING","true",217],")",["T_WHITESPACE"," ",217],["T_BOOLEAN_OR","||",217],["T_WHITESPACE","\n                    ",217],["T_STRING","in_array",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_table",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","aliasField",218],"(",["T_VARIABLE","$field",218],")",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$select",218],",",["T_WHITESPACE"," ",218],["T_STRING","true",218],")",["T_WHITESPACE","\n                ",218],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$q",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","select",220],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'content'",220],"]",")",";",["T_WHITESPACE","\n                ",220],"}",["T_WHITESPACE","\n\n                ",221],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$q",223],";",["T_WHITESPACE","\n            ",223],"}",";",["T_WHITESPACE","\n        ",224],"}",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$contain",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[","]",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$fields",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_config",228],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",228],"]",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$alias",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_table",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","alias",229],"(",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$select",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$query",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","clause",230],"(",["T_CONSTANT_ENCAPSED_STRING","'select'",230],")",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$changeFilter",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_ISSET","isset",232],"(",["T_VARIABLE","$options",232],"[",["T_CONSTANT_ENCAPSED_STRING","'filterByCurrentLocale'",232],"]",")",["T_WHITESPACE"," ",232],["T_BOOLEAN_AND","&&",232],["T_WHITESPACE","\n            ",232],["T_VARIABLE","$options",233],"[",["T_CONSTANT_ENCAPSED_STRING","'filterByCurrentLocale'",233],"]",["T_WHITESPACE"," ",233],["T_IS_NOT_IDENTICAL","!==",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_config",233],"[",["T_CONSTANT_ENCAPSED_STRING","'onlyTranslated'",233],"]",";",["T_WHITESPACE","\n\n        ",233],["T_FOREACH","foreach",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$fields",235],["T_WHITESPACE"," ",235],["T_AS","as",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$field",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$name",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$alias",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'_'",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_VARIABLE","$field",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'_translation'",236],";",["T_WHITESPACE","\n\n            ",236],["T_VARIABLE","$contain",238],"[",["T_VARIABLE","$name",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",238],"]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$conditions",238],"(",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$field",239],",",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$locale",240],",",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$query",241],",",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$select",242],["T_WHITESPACE","\n            ",242],")",";",["T_WHITESPACE","\n\n            ",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$changeFilter",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$filter",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$options",246],"[",["T_CONSTANT_ENCAPSED_STRING","'filterByCurrentLocale'",246],"]",["T_WHITESPACE"," ",246],"?",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'INNER'",246],["T_WHITESPACE"," ",246],":",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'LEFT'",246],";",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$contain",247],"[",["T_VARIABLE","$name",247],"]","[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",247],"]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$filter",247],";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$query",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","contain",251],"(",["T_VARIABLE","$contain",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$query",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","formatResults",252],"(",["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$results",252],")",["T_WHITESPACE"," ",252],["T_USE","use",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$locale",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_rowMapper",253],"(",["T_VARIABLE","$results",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$locale",253],")",";",["T_WHITESPACE","\n        ",253],"}",",",["T_WHITESPACE"," ",254],["T_VARIABLE","$query",254],["T_DOUBLE_COLON","::",254],["T_STRING","PREPEND",254],")",";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Modifies the entity before it is saved so that translated fields are persisted\n     * in the database too.\n     *\n     * @param \\Cake\\Event\\Event $event The beforeSave event that was fired\n     * @param \\Cake\\Datasource\\EntityInterface $entity The entity that is going to be saved\n     * @param \\ArrayObject $options the options passed to the save method\n     * @return void\n     *\/",257],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","beforeSave",266],"(",["T_STRING","Event",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$event",266],",",["T_WHITESPACE"," ",266],["T_STRING","EntityInterface",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$entity",266],",",["T_WHITESPACE"," ",266],["T_STRING","ArrayObject",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$options",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$locale",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$entity",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","get",268],"(",["T_CONSTANT_ENCAPSED_STRING","'_locale'",268],")",["T_WHITESPACE"," ",268],"?",":",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","locale",268],"(",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$newOptions",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],"[",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_translationTable",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","alias",269],"(",")",["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],"[",["T_CONSTANT_ENCAPSED_STRING","'validate'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_STRING","false",269],"]","]",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$options",270],"[",["T_CONSTANT_ENCAPSED_STRING","'associated'",270],"]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$newOptions",270],["T_WHITESPACE"," ",270],"+",["T_WHITESPACE"," ",270],["T_VARIABLE","$options",270],"[",["T_CONSTANT_ENCAPSED_STRING","'associated'",270],"]",";",["T_WHITESPACE","\n\n        ",270],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_bundleTranslatedFields",272],"(",["T_VARIABLE","$entity",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$bundled",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$entity",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","get",273],"(",["T_CONSTANT_ENCAPSED_STRING","'_i18n'",273],")",["T_WHITESPACE"," ",273],"?",":",["T_WHITESPACE"," ",273],"[","]",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$noBundled",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","count",274],"(",["T_VARIABLE","$bundled",274],")",["T_WHITESPACE"," ",274],["T_IS_IDENTICAL","===",274],["T_WHITESPACE"," ",274],["T_LNUMBER","0",274],";",["T_WHITESPACE","\n\n        ",274],["T_COMMENT","\/\/ No additional translation records need to be saved,\n",276],["T_WHITESPACE","        ",277],["T_COMMENT","\/\/ as the entity is in the default locale.\n",277],["T_WHITESPACE","        ",278],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$noBundled",278],["T_WHITESPACE"," ",278],["T_BOOLEAN_AND","&&",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$locale",278],["T_WHITESPACE"," ",278],["T_IS_IDENTICAL","===",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","config",278],"(",["T_CONSTANT_ENCAPSED_STRING","'defaultLocale'",278],")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_RETURN","return",279],";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$values",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$entity",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","extract",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_config",282],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",282],"]",",",["T_WHITESPACE"," ",282],["T_STRING","true",282],")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$fields",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","array_keys",283],"(",["T_VARIABLE","$values",283],")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$noFields",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_EMPTY","empty",284],"(",["T_VARIABLE","$fields",284],")",";",["T_WHITESPACE","\n\n        ",284],["T_COMMENT","\/\/ If there are no fields and no bundled translations, or both fields\n",286],["T_WHITESPACE","        ",287],["T_COMMENT","\/\/ in the default locale and bundled translations we can\n",287],["T_WHITESPACE","        ",288],["T_COMMENT","\/\/ skip the remaining logic as its not necessary.\n",288],["T_WHITESPACE","        ",289],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$noFields",289],["T_WHITESPACE"," ",289],["T_BOOLEAN_AND","&&",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$noBundled",289],["T_WHITESPACE"," ",289],["T_BOOLEAN_OR","||",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$fields",289],["T_WHITESPACE"," ",289],["T_BOOLEAN_AND","&&",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$bundled",289],")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_RETURN","return",290],";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n\n        ",291],["T_VARIABLE","$primaryKey",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_ARRAY_CAST","(array)",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_table",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","primaryKey",293],"(",")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$key",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$entity",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","get",294],"(",["T_STRING","current",294],"(",["T_VARIABLE","$primaryKey",294],")",")",";",["T_WHITESPACE","\n\n        ",294],["T_COMMENT","\/\/ When we have no key and bundled translations, we\n",296],["T_WHITESPACE","        ",297],["T_COMMENT","\/\/ need to mark the entity dirty so the root\n",297],["T_WHITESPACE","        ",298],["T_COMMENT","\/\/ entity persists.\n",298],["T_WHITESPACE","        ",299],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$noFields",299],["T_WHITESPACE"," ",299],["T_BOOLEAN_AND","&&",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$bundled",299],["T_WHITESPACE"," ",299],["T_BOOLEAN_AND","&&",299],["T_WHITESPACE"," ",299],"!",["T_VARIABLE","$key",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_FOREACH","foreach",300],["T_WHITESPACE"," ",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_config",300],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",300],"]",["T_WHITESPACE"," ",300],["T_AS","as",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$field",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n                ",300],["T_VARIABLE","$entity",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","dirty",301],"(",["T_VARIABLE","$field",301],",",["T_WHITESPACE"," ",301],["T_STRING","true",301],")",";",["T_WHITESPACE","\n            ",301],"}",["T_WHITESPACE","\n\n            ",302],["T_RETURN","return",304],";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$noFields",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_RETURN","return",308],";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$model",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_config",311],"[",["T_CONSTANT_ENCAPSED_STRING","'referenceName'",311],"]",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$preexistent",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_translationTable",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","find",312],"(",")",["T_WHITESPACE","\n            ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","select",313],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'field'",313],"]",")",["T_WHITESPACE","\n            ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","where",314],"(","[",["T_WHITESPACE","\n                ",314],["T_CONSTANT_ENCAPSED_STRING","'field IN'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$fields",315],",",["T_WHITESPACE","\n                ",315],["T_CONSTANT_ENCAPSED_STRING","'locale'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$locale",316],",",["T_WHITESPACE","\n                ",316],["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$key",317],",",["T_WHITESPACE","\n                ",317],["T_CONSTANT_ENCAPSED_STRING","'model'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$model",318],["T_WHITESPACE","\n            ",318],"]",")",["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","bufferResults",320],"(",["T_STRING","false",320],")",["T_WHITESPACE","\n            ",320],["T_OBJECT_OPERATOR","->",321],["T_STRING","indexBy",321],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",321],")",";",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$modified",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],"[","]",";",["T_WHITESPACE","\n        ",323],["T_FOREACH","foreach",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$preexistent",324],["T_WHITESPACE"," ",324],["T_AS","as",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$field",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$translation",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$translation",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","set",325],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$values",325],"[",["T_VARIABLE","$field",325],"]",")",";",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$modified",326],"[",["T_VARIABLE","$field",326],"]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$translation",326],";",["T_WHITESPACE","\n        ",326],"}",["T_WHITESPACE","\n\n        ",327],["T_VARIABLE","$new",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","array_diff_key",329],"(",["T_VARIABLE","$values",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$modified",329],")",";",["T_WHITESPACE","\n        ",329],["T_FOREACH","foreach",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$new",330],["T_WHITESPACE"," ",330],["T_AS","as",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$field",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$content",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$new",331],"[",["T_VARIABLE","$field",331],"]",["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_NEW","new",331],["T_WHITESPACE"," ",331],["T_STRING","Entity",331],"(",["T_STRING","compact",331],"(",["T_CONSTANT_ENCAPSED_STRING","'locale'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'field'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'content'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'model'",331],")",",",["T_WHITESPACE"," ",331],"[",["T_WHITESPACE","\n                ",331],["T_CONSTANT_ENCAPSED_STRING","'useSetters'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_STRING","false",332],",",["T_WHITESPACE","\n                ",332],["T_CONSTANT_ENCAPSED_STRING","'markNew'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_STRING","true",333],["T_WHITESPACE","\n            ",333],"]",")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$entity",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","set",337],"(",["T_CONSTANT_ENCAPSED_STRING","'_i18n'",337],",",["T_WHITESPACE"," ",337],["T_STRING","array_merge",337],"(",["T_VARIABLE","$bundled",337],",",["T_WHITESPACE"," ",337],["T_STRING","array_values",337],"(",["T_VARIABLE","$modified",337],["T_WHITESPACE"," ",337],"+",["T_WHITESPACE"," ",337],["T_VARIABLE","$new",337],")",")",")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$entity",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","set",338],"(",["T_CONSTANT_ENCAPSED_STRING","'_locale'",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$locale",338],",",["T_WHITESPACE"," ",338],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_STRING","false",338],"]",")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$entity",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","dirty",339],"(",["T_CONSTANT_ENCAPSED_STRING","'_locale'",339],",",["T_WHITESPACE"," ",339],["T_STRING","false",339],")",";",["T_WHITESPACE","\n\n        ",339],["T_FOREACH","foreach",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$fields",341],["T_WHITESPACE"," ",341],["T_AS","as",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$field",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$entity",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","dirty",342],"(",["T_VARIABLE","$field",342],",",["T_WHITESPACE"," ",342],["T_STRING","false",342],")",";",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Unsets the temporary `_i18n` property after the entity has been saved\n     *\n     * @param \\Cake\\Event\\Event $event The beforeSave event that was fired\n     * @param \\Cake\\Datasource\\EntityInterface $entity The entity that is going to be saved\n     * @return void\n     *\/",346],["T_WHITESPACE","\n    ",352],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","afterSave",353],"(",["T_STRING","Event",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$event",353],",",["T_WHITESPACE"," ",353],["T_STRING","EntityInterface",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$entity",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$entity",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","unsetProperty",355],"(",["T_CONSTANT_ENCAPSED_STRING","'_i18n'",355],")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Add in _translations marshalling handlers if translation marshalling is\n     * enabled. You need to specifically enable translation marshalling by adding\n     * `'translations' => true` to the options provided to `Table::newEntity()` or `Table::patchEntity()`.\n     *\n     * {@inheritDoc}\n     *\/",358],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","buildMarshalMap",365],"(",["T_VARIABLE","$marshaller",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$map",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$options",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_ISSET","isset",367],"(",["T_VARIABLE","$options",367],"[",["T_CONSTANT_ENCAPSED_STRING","'translations'",367],"]",")",["T_WHITESPACE"," ",367],["T_BOOLEAN_AND","&&",367],["T_WHITESPACE"," ",367],"!",["T_VARIABLE","$options",367],"[",["T_CONSTANT_ENCAPSED_STRING","'translations'",367],"]",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],"[","]",";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n\n        ",369],["T_RETURN","return",371],["T_WHITESPACE"," ",371],"[",["T_WHITESPACE","\n            ",371],["T_CONSTANT_ENCAPSED_STRING","'_translations'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$value",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$entity",372],")",["T_WHITESPACE"," ",372],["T_USE","use",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$marshaller",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$options",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$translations",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$entity",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","get",373],"(",["T_CONSTANT_ENCAPSED_STRING","'_translations'",373],")",";",["T_WHITESPACE","\n                ",373],["T_FOREACH","foreach",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_config",374],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",374],"]",["T_WHITESPACE"," ",374],["T_AS","as",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$field",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                    ",374],["T_VARIABLE","$options",375],"[",["T_CONSTANT_ENCAPSED_STRING","'validate'",375],"]",["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_config",375],"[",["T_CONSTANT_ENCAPSED_STRING","'validator'",375],"]",";",["T_WHITESPACE","\n                    ",375],["T_VARIABLE","$errors",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],"[","]",";",["T_WHITESPACE","\n                    ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(","!",["T_STRING","is_array",377],"(",["T_VARIABLE","$value",377],")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n                        ",377],["T_RETURN","return",378],";",["T_WHITESPACE","\n                    ",378],"}",["T_WHITESPACE","\n                    ",379],["T_FOREACH","foreach",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$value",380],["T_WHITESPACE"," ",380],["T_AS","as",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$language",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$fields",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                        ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_ISSET","isset",381],"(",["T_VARIABLE","$translations",381],"[",["T_VARIABLE","$language",381],"]",")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                            ",381],["T_VARIABLE","$translations",382],"[",["T_VARIABLE","$language",382],"]",["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_table",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","newEntity",382],"(",")",";",["T_WHITESPACE","\n                        ",382],"}",["T_WHITESPACE","\n                        ",383],["T_VARIABLE","$marshaller",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","merge",384],"(",["T_VARIABLE","$translations",384],"[",["T_VARIABLE","$language",384],"]",",",["T_WHITESPACE"," ",384],["T_VARIABLE","$fields",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$options",384],")",";",["T_WHITESPACE","\n                        ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_BOOL_CAST","(bool)",385],["T_VARIABLE","$translations",385],"[",["T_VARIABLE","$language",385],"]",["T_OBJECT_OPERATOR","->",385],["T_STRING","errors",385],"(",")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                            ",385],["T_VARIABLE","$errors",386],"[",["T_VARIABLE","$language",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$translations",386],"[",["T_VARIABLE","$language",386],"]",["T_OBJECT_OPERATOR","->",386],["T_STRING","errors",386],"(",")",";",["T_WHITESPACE","\n                        ",386],"}",["T_WHITESPACE","\n                    ",387],"}",["T_WHITESPACE","\n                    ",388],["T_COMMENT","\/\/ Set errors into the root entity, so validation errors\n",389],["T_WHITESPACE","                    ",390],["T_COMMENT","\/\/ match the original form data position.\n",390],["T_WHITESPACE","                    ",391],["T_VARIABLE","$entity",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","errors",391],"(",["T_VARIABLE","$errors",391],")",";",["T_WHITESPACE","\n                ",391],"}",["T_WHITESPACE","\n\n                ",392],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$translations",394],";",["T_WHITESPACE","\n            ",394],"}",["T_WHITESPACE","\n        ",395],"]",";",["T_WHITESPACE","\n    ",396],"}",["T_WHITESPACE","\n\n    ",397],["T_DOC_COMMENT","\/**\n     * Sets all future finds for the bound table to also fetch translated fields for\n     * the passed locale. If no value is passed, it returns the currently configured\n     * locale\n     *\n     * @param string|null $locale The locale to use for fetching translated records\n     * @return string\n     *\/",399],["T_WHITESPACE","\n    ",406],["T_PUBLIC","public",407],["T_WHITESPACE"," ",407],["T_FUNCTION","function",407],["T_WHITESPACE"," ",407],["T_STRING","locale",407],"(",["T_VARIABLE","$locale",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_STRING","null",407],")",["T_WHITESPACE","\n    ",407],"{",["T_WHITESPACE","\n        ",408],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$locale",409],["T_WHITESPACE"," ",409],["T_IS_IDENTICAL","===",409],["T_WHITESPACE"," ",409],["T_STRING","null",409],")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_locale",410],["T_WHITESPACE"," ",410],"?",":",["T_WHITESPACE"," ",410],["T_STRING","I18n",410],["T_DOUBLE_COLON","::",410],["T_STRING","locale",410],"(",")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n\n        ",411],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_locale",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_STRING_CAST","(string)",413],["T_VARIABLE","$locale",413],";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Custom finder method used to retrieve all translations for the found records.\n     * Fetched translations can be filtered by locale by passing the `locales` key\n     * in the options array.\n     *\n     * Translated values will be found for each entity under the property `_translations`,\n     * containing an array indexed by locale name.\n     *\n     * ### Example:\n     *\n     * ```\n     * $article = $articles->find('translations', ['locales' => ['eng', 'deu'])->first();\n     * $englishTranslatedFields = $article->get('_translations')['eng'];\n     * ```\n     *\n     * If the `locales` array is not passed, it will bring all translations found\n     * for each record.\n     *\n     * @param \\Cake\\ORM\\Query $query The original query to modify\n     * @param array $options Options\n     * @return \\Cake\\ORM\\Query\n     *\/",416],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","findTranslations",438],"(",["T_STRING","Query",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$query",438],",",["T_WHITESPACE"," ",438],["T_ARRAY","array",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$options",438],")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$locales",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_ISSET","isset",440],"(",["T_VARIABLE","$options",440],"[",["T_CONSTANT_ENCAPSED_STRING","'locales'",440],"]",")",["T_WHITESPACE"," ",440],"?",["T_WHITESPACE"," ",440],["T_VARIABLE","$options",440],"[",["T_CONSTANT_ENCAPSED_STRING","'locales'",440],"]",["T_WHITESPACE"," ",440],":",["T_WHITESPACE"," ",440],"[","]",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$targetAlias",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_translationTable",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","alias",441],"(",")",";",["T_WHITESPACE","\n\n        ",441],["T_RETURN","return",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$query",443],["T_WHITESPACE","\n            ",443],["T_OBJECT_OPERATOR","->",444],["T_STRING","contain",444],"(","[",["T_VARIABLE","$targetAlias",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$q",444],")",["T_WHITESPACE"," ",444],["T_USE","use",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$locales",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$targetAlias",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n                ",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$locales",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                    ",445],["T_VARIABLE","$q",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","where",446],"(","[","\"",["T_VARIABLE","$targetAlias",446],["T_ENCAPSED_AND_WHITESPACE",".locale IN",446],"\"",["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$locales",446],"]",")",";",["T_WHITESPACE","\n                ",446],"}",["T_WHITESPACE","\n\n                ",447],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$q",449],";",["T_WHITESPACE","\n            ",449],"}","]",")",["T_WHITESPACE","\n            ",450],["T_OBJECT_OPERATOR","->",451],["T_STRING","formatResults",451],"(","[",["T_VARIABLE","$this",451],",",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'groupTranslations'",451],"]",",",["T_WHITESPACE"," ",451],["T_VARIABLE","$query",451],["T_DOUBLE_COLON","::",451],["T_STRING","PREPEND",451],")",";",["T_WHITESPACE","\n    ",451],"}",["T_WHITESPACE","\n\n    ",452],["T_DOC_COMMENT","\/**\n     * Determine the reference name to use for a given table\n     *\n     * The reference name is usually derived from the class name of the table object\n     * (PostsTable -> Posts), however for autotable instances it is derived from\n     * the database table the object points at - or as a last resort, the alias\n     * of the autotable instance.\n     *\n     * @param \\Cake\\ORM\\Table $table The table class to get a reference name for.\n     * @return string\n     *\/",454],["T_WHITESPACE","\n    ",464],["T_PROTECTED","protected",465],["T_WHITESPACE"," ",465],["T_FUNCTION","function",465],["T_WHITESPACE"," ",465],["T_STRING","_referenceName",465],"(",["T_STRING","Table",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$table",465],")",["T_WHITESPACE","\n    ",465],"{",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$name",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","namespaceSplit",467],"(",["T_STRING","get_class",467],"(",["T_VARIABLE","$table",467],")",")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$name",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_STRING","substr",468],"(",["T_STRING","end",468],"(",["T_VARIABLE","$name",468],")",",",["T_WHITESPACE"," ",468],["T_LNUMBER","0",468],",",["T_WHITESPACE"," ",468],"-",["T_LNUMBER","5",468],")",";",["T_WHITESPACE","\n        ",468],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_EMPTY","empty",469],"(",["T_VARIABLE","$name",469],")",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$name",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$table",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","table",470],"(",")",["T_WHITESPACE"," ",470],"?",":",["T_WHITESPACE"," ",470],["T_VARIABLE","$table",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","alias",470],"(",")",";",["T_WHITESPACE","\n            ",470],["T_VARIABLE","$name",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_STRING","Inflector",471],["T_DOUBLE_COLON","::",471],["T_STRING","camelize",471],"(",["T_VARIABLE","$name",471],")",";",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n\n        ",472],["T_RETURN","return",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$name",474],";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_DOC_COMMENT","\/**\n     * Modifies the results from a table find in order to merge the translated fields\n     * into each entity for a given locale.\n     *\n     * @param \\Cake\\Datasource\\ResultSetInterface $results Results to map.\n     * @param string $locale Locale string\n     * @return \\Cake\\Collection\\Collection\n     *\/",477],["T_WHITESPACE","\n    ",484],["T_PROTECTED","protected",485],["T_WHITESPACE"," ",485],["T_FUNCTION","function",485],["T_WHITESPACE"," ",485],["T_STRING","_rowMapper",485],"(",["T_VARIABLE","$results",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$locale",485],")",["T_WHITESPACE","\n    ",485],"{",["T_WHITESPACE","\n        ",486],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$results",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","map",487],"(",["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$row",487],")",["T_WHITESPACE"," ",487],["T_USE","use",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$locale",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_IF","if",488],["T_WHITESPACE"," ",488],"(",["T_VARIABLE","$row",488],["T_WHITESPACE"," ",488],["T_IS_IDENTICAL","===",488],["T_WHITESPACE"," ",488],["T_STRING","null",488],")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n                ",488],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$row",489],";",["T_WHITESPACE","\n            ",489],"}",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$hydrated",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],"!",["T_STRING","is_array",491],"(",["T_VARIABLE","$row",491],")",";",["T_WHITESPACE","\n\n            ",491],["T_FOREACH","foreach",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_config",493],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",493],"]",["T_WHITESPACE"," ",493],["T_AS","as",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$field",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n                ",493],["T_VARIABLE","$name",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$field",494],["T_WHITESPACE"," ",494],".",["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'_translation'",494],";",["T_WHITESPACE","\n                ",494],["T_VARIABLE","$translation",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_ISSET","isset",495],"(",["T_VARIABLE","$row",495],"[",["T_VARIABLE","$name",495],"]",")",["T_WHITESPACE"," ",495],"?",["T_WHITESPACE"," ",495],["T_VARIABLE","$row",495],"[",["T_VARIABLE","$name",495],"]",["T_WHITESPACE"," ",495],":",["T_WHITESPACE"," ",495],["T_STRING","null",495],";",["T_WHITESPACE","\n\n                ",495],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$translation",497],["T_WHITESPACE"," ",497],["T_IS_IDENTICAL","===",497],["T_WHITESPACE"," ",497],["T_STRING","null",497],["T_WHITESPACE"," ",497],["T_BOOLEAN_OR","||",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$translation",497],["T_WHITESPACE"," ",497],["T_IS_IDENTICAL","===",497],["T_WHITESPACE"," ",497],["T_STRING","false",497],")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n                    ",497],["T_UNSET","unset",498],"(",["T_VARIABLE","$row",498],"[",["T_VARIABLE","$name",498],"]",")",";",["T_WHITESPACE","\n                    ",498],["T_CONTINUE","continue",499],";",["T_WHITESPACE","\n                ",499],"}",["T_WHITESPACE","\n\n                ",500],["T_VARIABLE","$content",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_ISSET","isset",502],"(",["T_VARIABLE","$translation",502],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",502],"]",")",["T_WHITESPACE"," ",502],"?",["T_WHITESPACE"," ",502],["T_VARIABLE","$translation",502],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",502],"]",["T_WHITESPACE"," ",502],":",["T_WHITESPACE"," ",502],["T_STRING","null",502],";",["T_WHITESPACE","\n                ",502],["T_IF","if",503],["T_WHITESPACE"," ",503],"(",["T_VARIABLE","$content",503],["T_WHITESPACE"," ",503],["T_IS_NOT_IDENTICAL","!==",503],["T_WHITESPACE"," ",503],["T_STRING","null",503],")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n                    ",503],["T_VARIABLE","$row",504],"[",["T_VARIABLE","$field",504],"]",["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$content",504],";",["T_WHITESPACE","\n                ",504],"}",["T_WHITESPACE","\n\n                ",505],["T_UNSET","unset",507],"(",["T_VARIABLE","$row",507],"[",["T_VARIABLE","$name",507],"]",")",";",["T_WHITESPACE","\n            ",507],"}",["T_WHITESPACE","\n\n            ",508],["T_VARIABLE","$row",510],"[",["T_CONSTANT_ENCAPSED_STRING","'_locale'",510],"]",["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$locale",510],";",["T_WHITESPACE","\n            ",510],["T_IF","if",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$hydrated",511],")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n                ",511],["T_VARIABLE","$row",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","clean",512],"(",")",";",["T_WHITESPACE","\n            ",512],"}",["T_WHITESPACE","\n\n            ",513],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$row",515],";",["T_WHITESPACE","\n        ",515],"}",")",";",["T_WHITESPACE","\n    ",516],"}",["T_WHITESPACE","\n\n    ",517],["T_DOC_COMMENT","\/**\n     * Modifies the results from a table find in order to merge full translation records\n     * into each entity under the `_translations` key\n     *\n     * @param \\Cake\\Datasource\\ResultSetInterface $results Results to modify.\n     * @return \\Cake\\Collection\\Collection\n     *\/",519],["T_WHITESPACE","\n    ",525],["T_PUBLIC","public",526],["T_WHITESPACE"," ",526],["T_FUNCTION","function",526],["T_WHITESPACE"," ",526],["T_STRING","groupTranslations",526],"(",["T_VARIABLE","$results",526],")",["T_WHITESPACE","\n    ",526],"{",["T_WHITESPACE","\n        ",527],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$results",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","map",528],"(",["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],"(",["T_VARIABLE","$row",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n            ",528],["T_IF","if",529],["T_WHITESPACE"," ",529],"(","!",["T_VARIABLE","$row",529],["T_WHITESPACE"," ",529],["T_INSTANCEOF","instanceof",529],["T_WHITESPACE"," ",529],["T_STRING","EntityInterface",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n                ",529],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$row",530],";",["T_WHITESPACE","\n            ",530],"}",["T_WHITESPACE","\n            ",531],["T_VARIABLE","$translations",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_ARRAY_CAST","(array)",532],["T_VARIABLE","$row",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","get",532],"(",["T_CONSTANT_ENCAPSED_STRING","'_i18n'",532],")",";",["T_WHITESPACE","\n            ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_EMPTY","empty",533],"(",["T_VARIABLE","$translations",533],")",["T_WHITESPACE"," ",533],["T_BOOLEAN_AND","&&",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$row",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","get",533],"(",["T_CONSTANT_ENCAPSED_STRING","'_translations'",533],")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                ",533],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$row",534],";",["T_WHITESPACE","\n            ",534],"}",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$grouped",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_NEW","new",536],["T_WHITESPACE"," ",536],["T_STRING","Collection",536],"(",["T_VARIABLE","$translations",536],")",";",["T_WHITESPACE","\n\n            ",536],["T_VARIABLE","$result",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],"[","]",";",["T_WHITESPACE","\n            ",538],["T_FOREACH","foreach",539],["T_WHITESPACE"," ",539],"(",["T_VARIABLE","$grouped",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","combine",539],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",539],",",["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","'content'",539],",",["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","'locale'",539],")",["T_WHITESPACE"," ",539],["T_AS","as",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$locale",539],["T_WHITESPACE"," ",539],["T_DOUBLE_ARROW","=>",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$keys",539],")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n                ",539],["T_VARIABLE","$entityClass",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","_table",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","entityClass",540],"(",")",";",["T_WHITESPACE","\n                ",540],["T_VARIABLE","$translation",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_NEW","new",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$entityClass",541],"(",["T_VARIABLE","$keys",541],["T_WHITESPACE"," ",541],"+",["T_WHITESPACE"," ",541],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$locale",541],"]",",",["T_WHITESPACE"," ",541],"[",["T_WHITESPACE","\n                    ",541],["T_CONSTANT_ENCAPSED_STRING","'markNew'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_STRING","false",542],",",["T_WHITESPACE","\n                    ",542],["T_CONSTANT_ENCAPSED_STRING","'useSetters'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_STRING","false",543],",",["T_WHITESPACE","\n                    ",543],["T_CONSTANT_ENCAPSED_STRING","'markClean'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_STRING","true",544],["T_WHITESPACE","\n                ",544],"]",")",";",["T_WHITESPACE","\n                ",545],["T_VARIABLE","$result",546],"[",["T_VARIABLE","$locale",546],"]",["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_VARIABLE","$translation",546],";",["T_WHITESPACE","\n            ",546],"}",["T_WHITESPACE","\n\n            ",547],["T_VARIABLE","$options",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_STRING","false",549],",",["T_WHITESPACE"," ",549],["T_CONSTANT_ENCAPSED_STRING","'guard'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_STRING","false",549],"]",";",["T_WHITESPACE","\n            ",549],["T_VARIABLE","$row",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","set",550],"(",["T_CONSTANT_ENCAPSED_STRING","'_translations'",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$result",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$options",550],")",";",["T_WHITESPACE","\n            ",550],["T_UNSET","unset",551],"(",["T_VARIABLE","$row",551],"[",["T_CONSTANT_ENCAPSED_STRING","'_i18n'",551],"]",")",";",["T_WHITESPACE","\n            ",551],["T_VARIABLE","$row",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","clean",552],"(",")",";",["T_WHITESPACE","\n\n            ",552],["T_RETURN","return",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$row",554],";",["T_WHITESPACE","\n        ",554],"}",")",";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Helper method used to generated multiple translated field entities\n     * out of the data found in the `_translations` property in the passed\n     * entity. The result will be put into its `_i18n` property\n     *\n     * @param \\Cake\\Datasource\\EntityInterface $entity Entity\n     * @return void\n     *\/",558],["T_WHITESPACE","\n    ",565],["T_PROTECTED","protected",566],["T_WHITESPACE"," ",566],["T_FUNCTION","function",566],["T_WHITESPACE"," ",566],["T_STRING","_bundleTranslatedFields",566],"(",["T_VARIABLE","$entity",566],")",["T_WHITESPACE","\n    ",566],"{",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$translations",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_ARRAY_CAST","(array)",568],["T_VARIABLE","$entity",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","get",568],"(",["T_CONSTANT_ENCAPSED_STRING","'_translations'",568],")",";",["T_WHITESPACE","\n\n        ",568],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_EMPTY","empty",570],"(",["T_VARIABLE","$translations",570],")",["T_WHITESPACE"," ",570],["T_BOOLEAN_AND","&&",570],["T_WHITESPACE"," ",570],"!",["T_VARIABLE","$entity",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","dirty",570],"(",["T_CONSTANT_ENCAPSED_STRING","'_translations'",570],")",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_RETURN","return",571],";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n\n        ",572],["T_VARIABLE","$fields",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","_config",574],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",574],"]",";",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$primaryKey",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_ARRAY_CAST","(array)",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_table",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","primaryKey",575],"(",")",";",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$key",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_VARIABLE","$entity",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","get",576],"(",["T_STRING","current",576],"(",["T_VARIABLE","$primaryKey",576],")",")",";",["T_WHITESPACE","\n        ",576],["T_VARIABLE","$find",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],"[","]",";",["T_WHITESPACE","\n\n        ",577],["T_FOREACH","foreach",579],["T_WHITESPACE"," ",579],"(",["T_VARIABLE","$translations",579],["T_WHITESPACE"," ",579],["T_AS","as",579],["T_WHITESPACE"," ",579],["T_VARIABLE","$lang",579],["T_WHITESPACE"," ",579],["T_DOUBLE_ARROW","=>",579],["T_WHITESPACE"," ",579],["T_VARIABLE","$translation",579],")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n            ",579],["T_FOREACH","foreach",580],["T_WHITESPACE"," ",580],"(",["T_VARIABLE","$fields",580],["T_WHITESPACE"," ",580],["T_AS","as",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$field",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n                ",580],["T_IF","if",581],["T_WHITESPACE"," ",581],"(","!",["T_VARIABLE","$translation",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","dirty",581],"(",["T_VARIABLE","$field",581],")",")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n                    ",581],["T_CONTINUE","continue",582],";",["T_WHITESPACE","\n                ",582],"}",["T_WHITESPACE","\n                ",583],["T_VARIABLE","$find",584],"[","]",["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],"[",["T_CONSTANT_ENCAPSED_STRING","'locale'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$lang",584],",",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'field'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$field",584],",",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'foreign_key'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$key",584],"]",";",["T_WHITESPACE","\n                ",584],["T_VARIABLE","$contents",585],"[","]",["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],["T_NEW","new",585],["T_WHITESPACE"," ",585],["T_STRING","Entity",585],"(","[",["T_CONSTANT_ENCAPSED_STRING","'content'",585],["T_WHITESPACE"," ",585],["T_DOUBLE_ARROW","=>",585],["T_WHITESPACE"," ",585],["T_VARIABLE","$translation",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","get",585],"(",["T_VARIABLE","$field",585],")","]",",",["T_WHITESPACE"," ",585],"[",["T_WHITESPACE","\n                    ",585],["T_CONSTANT_ENCAPSED_STRING","'useSetters'",586],["T_WHITESPACE"," ",586],["T_DOUBLE_ARROW","=>",586],["T_WHITESPACE"," ",586],["T_STRING","false",586],["T_WHITESPACE","\n                ",586],"]",")",";",["T_WHITESPACE","\n            ",587],"}",["T_WHITESPACE","\n        ",588],"}",["T_WHITESPACE","\n\n        ",589],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_EMPTY","empty",591],"(",["T_VARIABLE","$find",591],")",")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n            ",591],["T_RETURN","return",592],";",["T_WHITESPACE","\n        ",592],"}",["T_WHITESPACE","\n\n        ",593],["T_VARIABLE","$results",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_findExistingTranslations",595],"(",["T_VARIABLE","$find",595],")",";",["T_WHITESPACE","\n\n        ",595],["T_FOREACH","foreach",597],["T_WHITESPACE"," ",597],"(",["T_VARIABLE","$find",597],["T_WHITESPACE"," ",597],["T_AS","as",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$i",597],["T_WHITESPACE"," ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$translation",597],")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n            ",597],["T_IF","if",598],["T_WHITESPACE"," ",598],"(","!",["T_EMPTY","empty",598],"(",["T_VARIABLE","$results",598],"[",["T_VARIABLE","$i",598],"]",")",")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n                ",598],["T_VARIABLE","$contents",599],"[",["T_VARIABLE","$i",599],"]",["T_OBJECT_OPERATOR","->",599],["T_STRING","set",599],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$results",599],"[",["T_VARIABLE","$i",599],"]",",",["T_WHITESPACE"," ",599],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",599],["T_WHITESPACE"," ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_STRING","false",599],"]",")",";",["T_WHITESPACE","\n                ",599],["T_VARIABLE","$contents",600],"[",["T_VARIABLE","$i",600],"]",["T_OBJECT_OPERATOR","->",600],["T_STRING","isNew",600],"(",["T_STRING","false",600],")",";",["T_WHITESPACE","\n            ",600],"}",["T_WHITESPACE"," ",601],["T_ELSE","else",601],["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n                ",601],["T_VARIABLE","$translation",602],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",602],"]",["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","_config",602],"[",["T_CONSTANT_ENCAPSED_STRING","'referenceName'",602],"]",";",["T_WHITESPACE","\n                ",602],["T_VARIABLE","$contents",603],"[",["T_VARIABLE","$i",603],"]",["T_OBJECT_OPERATOR","->",603],["T_STRING","set",603],"(",["T_VARIABLE","$translation",603],",",["T_WHITESPACE"," ",603],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_STRING","false",603],",",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'guard'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_STRING","false",603],"]",")",";",["T_WHITESPACE","\n                ",603],["T_VARIABLE","$contents",604],"[",["T_VARIABLE","$i",604],"]",["T_OBJECT_OPERATOR","->",604],["T_STRING","isNew",604],"(",["T_STRING","true",604],")",";",["T_WHITESPACE","\n            ",604],"}",["T_WHITESPACE","\n        ",605],"}",["T_WHITESPACE","\n\n        ",606],["T_VARIABLE","$entity",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","set",608],"(",["T_CONSTANT_ENCAPSED_STRING","'_i18n'",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$contents",608],")",";",["T_WHITESPACE","\n    ",608],"}",["T_WHITESPACE","\n\n    ",609],["T_DOC_COMMENT","\/**\n     * Returns the ids found for each of the condition arrays passed for the translations\n     * table. Each records is indexed by the corresponding position to the conditions array\n     *\n     * @param array $ruleSet an array of arary of conditions to be used for finding each\n     * @return array\n     *\/",611],["T_WHITESPACE","\n    ",617],["T_PROTECTED","protected",618],["T_WHITESPACE"," ",618],["T_FUNCTION","function",618],["T_WHITESPACE"," ",618],["T_STRING","_findExistingTranslations",618],"(",["T_VARIABLE","$ruleSet",618],")",["T_WHITESPACE","\n    ",618],"{",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$association",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","_table",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","association",620],"(",["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","_translationTable",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","alias",620],"(",")",")",";",["T_WHITESPACE","\n\n        ",620],["T_VARIABLE","$query",622],["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_VARIABLE","$association",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","find",622],"(",")",["T_WHITESPACE","\n            ",622],["T_OBJECT_OPERATOR","->",623],["T_STRING","select",623],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",623],",",["T_WHITESPACE"," ",623],["T_CONSTANT_ENCAPSED_STRING","'num'",623],["T_WHITESPACE"," ",623],["T_DOUBLE_ARROW","=>",623],["T_WHITESPACE"," ",623],["T_LNUMBER","0",623],"]",")",["T_WHITESPACE","\n            ",623],["T_OBJECT_OPERATOR","->",624],["T_STRING","where",624],"(",["T_STRING","current",624],"(",["T_VARIABLE","$ruleSet",624],")",")",["T_WHITESPACE","\n            ",624],["T_OBJECT_OPERATOR","->",625],["T_STRING","hydrate",625],"(",["T_STRING","false",625],")",["T_WHITESPACE","\n            ",625],["T_OBJECT_OPERATOR","->",626],["T_STRING","bufferResults",626],"(",["T_STRING","false",626],")",";",["T_WHITESPACE","\n\n        ",626],["T_UNSET","unset",628],"(",["T_VARIABLE","$ruleSet",628],"[",["T_LNUMBER","0",628],"]",")",";",["T_WHITESPACE","\n        ",628],["T_FOREACH","foreach",629],["T_WHITESPACE"," ",629],"(",["T_VARIABLE","$ruleSet",629],["T_WHITESPACE"," ",629],["T_AS","as",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$i",629],["T_WHITESPACE"," ",629],["T_DOUBLE_ARROW","=>",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$conditions",629],")",["T_WHITESPACE"," ",629],"{",["T_WHITESPACE","\n            ",629],["T_VARIABLE","$q",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$association",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","find",630],"(",")",["T_WHITESPACE","\n                ",630],["T_OBJECT_OPERATOR","->",631],["T_STRING","select",631],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",631],",",["T_WHITESPACE"," ",631],["T_CONSTANT_ENCAPSED_STRING","'num'",631],["T_WHITESPACE"," ",631],["T_DOUBLE_ARROW","=>",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$i",631],"]",")",["T_WHITESPACE","\n                ",631],["T_OBJECT_OPERATOR","->",632],["T_STRING","where",632],"(",["T_VARIABLE","$conditions",632],")",";",["T_WHITESPACE","\n            ",632],["T_VARIABLE","$query",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","unionAll",633],"(",["T_VARIABLE","$q",633],")",";",["T_WHITESPACE","\n        ",633],"}",["T_WHITESPACE","\n\n        ",634],["T_RETURN","return",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$query",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","combine",636],"(",["T_CONSTANT_ENCAPSED_STRING","'num'",636],",",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'id'",636],")",["T_OBJECT_OPERATOR","->",636],["T_STRING","toArray",636],"(",")",";",["T_WHITESPACE","\n    ",636],"}",["T_WHITESPACE","\n",637],"}",["T_WHITESPACE","\n",638]]