[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.3.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ORM",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","ArrayObject",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","RuntimeException",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * OOP style Save Option Builder.\n *\n * This allows you to build options to save entities in a OOP style and helps\n * you to avoid mistakes by validating the options as you build them.\n *\n * @see \\Cake\\Datasource\\RulesChecker\n *\/",20],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","SaveOptionsBuilder",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","ArrayObject",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n\n    ",29],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","AssociationsNormalizerTrait",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Options\n     *\n     * @var array\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_options",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[","]",";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Table object.\n     *\n     * @var \\Cake\\ORM\\Table;\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_table",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param \\Cake\\ORM\\Table $table A table instance.\n     * @param array $options Options to parse when instantiating.\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","__construct",53],"(",["T_STRING","Table",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$table",53],",",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$options",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[","]",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_table",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$table",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","parseArrayOptions",56],"(",["T_VARIABLE","$options",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Takes an options array and populates the option object with the data.\n     *\n     * This can be used to turn an options array into the object.\n     *\n     * @throws \\InvalidArgumentException If a given option key does not exist.\n     * @param array $array Options array.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",59],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","parseArrayOptions",68],"(",["T_VARIABLE","$array",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$array",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$key",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$value",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],"{",["T_VARIABLE","$key",71],"}","(",["T_VARIABLE","$value",71],")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Set associated options.\n     *\n     * @param string|array $associated String or array of associations.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","associated",83],"(",["T_VARIABLE","$associated",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$associated",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_normalizeAssociations",85],"(",["T_VARIABLE","$associated",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_associated",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_table",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$associated",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_options",87],"[",["T_CONSTANT_ENCAPSED_STRING","'associated'",87],"]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$associated",87],";",["T_WHITESPACE","\n\n        ",87],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Checks that the associations exists recursively.\n     *\n     * @param \\Cake\\ORM\\Table $table Table object.\n     * @param array $associations An associations array.\n     * @return void\n     *\/",92],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","_associated",99],"(",["T_STRING","Table",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$table",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$associations",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$associations",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$key",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$associated",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_STRING","is_int",102],"(",["T_VARIABLE","$key",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_checkAssociation",103],"(",["T_VARIABLE","$table",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$associated",103],")",";",["T_WHITESPACE","\n                ",103],["T_CONTINUE","continue",104],";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_checkAssociation",106],"(",["T_VARIABLE","$table",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$key",106],")",";",["T_WHITESPACE","\n            ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_ISSET","isset",107],"(",["T_VARIABLE","$associated",107],"[",["T_CONSTANT_ENCAPSED_STRING","'associated'",107],"]",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_associated",108],"(",["T_VARIABLE","$table",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","association",108],"(",["T_VARIABLE","$key",108],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","target",108],"(",")",",",["T_WHITESPACE"," ",108],["T_VARIABLE","$associated",108],"[",["T_CONSTANT_ENCAPSED_STRING","'associated'",108],"]",")",";",["T_WHITESPACE","\n                ",108],["T_CONTINUE","continue",109],";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Checks if an association exists.\n     *\n     * @throws \\RuntimeException If no such association exists for the given table.\n     * @param \\Cake\\ORM\\Table $table Table object.\n     * @param string $association Association name.\n     * @return void\n     *\/",114],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","_checkAssociation",122],"(",["T_STRING","Table",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$table",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$association",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_VARIABLE","$table",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","associations",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","has",124],"(",["T_VARIABLE","$association",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_THROW","throw",125],["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","RuntimeException",125],"(",["T_STRING","sprintf",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Table `%s` is not associated with `%s`'",125],",",["T_WHITESPACE"," ",125],["T_STRING","get_class",125],"(",["T_VARIABLE","$table",125],")",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$association",125],")",")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Set the guard option.\n     *\n     * @param bool $guard Guard the properties or not.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",129],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","guard",135],"(",["T_VARIABLE","$guard",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_options",137],"[",["T_CONSTANT_ENCAPSED_STRING","'guard'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_BOOL_CAST","(bool)",137],["T_VARIABLE","$guard",137],";",["T_WHITESPACE","\n\n        ",137],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Set the validation rule set to use.\n     *\n     * @param string $validate Name of the validation rule set to use.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",142],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","validate",148],"(",["T_VARIABLE","$validate",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_table",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","validator",150],"(",["T_VARIABLE","$validate",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_options",151],"[",["T_CONSTANT_ENCAPSED_STRING","'validate'",151],"]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$validate",151],";",["T_WHITESPACE","\n\n        ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Set check existing option.\n     *\n     * @param bool $checkExisting Guard the properties or not.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",156],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","checkExisting",162],"(",["T_VARIABLE","$checkExisting",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_options",164],"[",["T_CONSTANT_ENCAPSED_STRING","'checkExisting'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_BOOL_CAST","(bool)",164],["T_VARIABLE","$checkExisting",164],";",["T_WHITESPACE","\n\n        ",164],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Option to check the rules.\n     *\n     * @param bool $checkRules Check the rules or not.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",169],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","checkRules",175],"(",["T_VARIABLE","$checkRules",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_options",177],"[",["T_CONSTANT_ENCAPSED_STRING","'checkRules'",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_BOOL_CAST","(bool)",177],["T_VARIABLE","$checkRules",177],";",["T_WHITESPACE","\n\n        ",177],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Sets the atomic option.\n     *\n     * @param bool $atomic Atomic or not.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",182],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","atomic",188],"(",["T_VARIABLE","$atomic",188],")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_options",190],"[",["T_CONSTANT_ENCAPSED_STRING","'atomic'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_BOOL_CAST","(bool)",190],["T_VARIABLE","$atomic",190],";",["T_WHITESPACE","\n\n        ",190],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",195],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","toArray",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_options",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Setting custom options.\n     *\n     * @param string $option Option key.\n     * @param mixed $value Option value.\n     * @return \\Cake\\ORM\\SaveOptionsBuilder\n     *\/",203],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","set",210],"(",["T_VARIABLE","$option",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$value",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_STRING","method_exists",212],"(",["T_VARIABLE","$this",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$option",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],"{",["T_VARIABLE","$option",213],"}","(",["T_VARIABLE","$value",213],")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_options",215],"[",["T_VARIABLE","$option",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$value",215],";",["T_WHITESPACE","\n\n        ",215],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n",218],"}",["T_WHITESPACE","\n",219]]