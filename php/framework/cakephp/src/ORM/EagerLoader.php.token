[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         3.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ORM",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Statement",17],["T_NS_SEPARATOR","\\",17],["T_STRING","BufferedStatement",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Database",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Statement",18],["T_NS_SEPARATOR","\\",18],["T_STRING","CallbackStatement",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Closure",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","InvalidArgumentException",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Exposes the methods for storing the associations that should be eager loaded\n * for a table once a query is provided and delegates the job of creating the\n * required joins and decorating the results so that those associations can be\n * part of the result set.\n *\/",22],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","EagerLoader",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Nested array describing the association to be fetched\n     * and the options to apply for each of them, if any\n     *\n     * @var array\n     *\/",31],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_containments",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"[","]",";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Contains a nested array with the compiled containments tree\n     * This is a normalized version of the user provided containments array.\n     *\n     * @var array\n     *\/",39],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_normalized",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * List of options accepted by associations in contain()\n     * index by key for faster access\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_containOptions",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'associations'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'foreignKey'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_LNUMBER","1",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'conditions'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'fields'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'sort'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_LNUMBER","1",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'matching'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","1",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","1",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'finder'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","1",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'joinType'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'strategy'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_LNUMBER","1",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'negateMatch'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_LNUMBER","1",64],["T_WHITESPACE","\n    ",64],"]",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * A list of associations that should be loaded with a separate query\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_loadExternal",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Contains a list of the association names that are to be eagerly loaded\n     *\n     * @var array\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_aliasList",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"[","]",";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Another EagerLoader instance that will be used for 'matching' associations.\n     *\n     * @var \\Cake\\ORM\\EagerLoader\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_matching",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * A map of table aliases pointing to the association objects they represent\n     * for the query.\n     *\n     * @var array\n     *\/",88],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$_joinsMap",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[","]",";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Controls whether or not fields from associated tables\n     * will be eagerly loaded. When set to false, no fields will\n     * be loaded from associations.\n     *\n     * @var bool\n     *\/",96],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$_autoFields",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","true",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Sets the list of associations that should be eagerly loaded along for a\n     * specific table using when a query is provided. The list of associated tables\n     * passed to this method must have been previously set as associations using the\n     * Table API.\n     *\n     * Associations can be arbitrarily nested using dot notation or nested arrays,\n     * this allows this object to calculate joins or any additional queries that\n     * must be executed to bring the required associated data.\n     *\n     * Accepted options per passed association:\n     *\n     * - foreignKey: Used to set a different field to match both tables, if set to false\n     *   no join conditions will be generated automatically\n     * - fields: An array with the fields that should be fetched from the association\n     * - queryBuilder: Equivalent to passing a callable instead of an options array\n     * - matching: Whether to inform the association class that it should filter the\n     *  main query by the results fetched by that class.\n     * - joinType: For joinable associations, the SQL join type to use.\n     * - strategy: The loading strategy to use (join, select, subquery)\n     *\n     * @param array|string $associations list of table aliases to be queried.\n     * When this method is called multiple times it will merge previous list with\n     * the new one.\n     * @return array Containments.\n     *\/",105],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","contain",131],"(",["T_VARIABLE","$associations",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],"[","]",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_EMPTY","empty",133],"(",["T_VARIABLE","$associations",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_containments",134],";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$associations",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_ARRAY_CAST","(array)",137],["T_VARIABLE","$associations",137],";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$associations",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_reformatContain",138],"(",["T_VARIABLE","$associations",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_containments",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_normalized",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","null",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_loadExternal",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],"[","]",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_aliasList",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[","]",";",["T_WHITESPACE","\n\n        ",141],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_containments",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$associations",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Remove any existing non-matching based containments.\n     *\n     * This will reset\/clear out any contained associations that were not\n     * added via matching().\n     *\n     * @return void\n     *\/",146],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","clearContain",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_containments",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"[","]",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_normalized",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","null",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_loadExternal",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],"[","]",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_aliasList",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],"[","]",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Set whether or not contained associations will load fields automatically.\n     *\n     * @param bool|null $value The value to set.\n     * @return bool The current value.\n     *\/",162],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","autoFields",168],"(",["T_VARIABLE","$value",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","null",168],")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$value",170],["T_WHITESPACE"," ",170],["T_IS_NOT_IDENTICAL","!==",170],["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_autoFields",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_BOOL_CAST","(bool)",171],["T_VARIABLE","$value",171],";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_autoFields",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Adds a new association to the list that will be used to filter the results of\n     * any given query based on the results of finding records for that association.\n     * You can pass a dot separated path of associations to this method as its first\n     * parameter, this will translate in setting all those associations with the\n     * `matching` option.\n     *\n     * If called with no arguments it will return the current tree of associations to\n     * be matched.\n     *\n     * @param string|null $assoc A single association or a dot separated path of associations.\n     * @param callable|null $builder the callback function to be used for setting extra\n     * options to the filtering query\n     * @param array $options Extra options for the association matching, such as 'joinType'\n     * and 'fields'\n     * @return array The resulting containments array\n     *\/",177],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","matching",194],"(",["T_VARIABLE","$assoc",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","null",194],",",["T_WHITESPACE"," ",194],["T_CALLABLE","callable",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$builder",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","null",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$options",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"[","]",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_matching",196],["T_WHITESPACE"," ",196],["T_IS_IDENTICAL","===",196],["T_WHITESPACE"," ",196],["T_STRING","null",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_matching",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_NEW","new",197],["T_WHITESPACE"," ",197],["T_STRING","self",197],"(",")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n\n        ",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$assoc",200],["T_WHITESPACE"," ",200],["T_IS_IDENTICAL","===",200],["T_WHITESPACE"," ",200],["T_STRING","null",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_matching",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","contain",201],"(",")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_ISSET","isset",203],"(",["T_VARIABLE","$options",203],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$options",204],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'INNER'",204],";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$assocs",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","explode",207],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$assoc",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$last",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","array_pop",208],"(",["T_VARIABLE","$assocs",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$containments",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],"[","]",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$pointer",210],["T_WHITESPACE"," ",210],"=","&",["T_WHITESPACE"," ",210],["T_VARIABLE","$containments",210],";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$opts",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"[",["T_CONSTANT_ENCAPSED_STRING","'matching'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_STRING","true",211],"]",["T_WHITESPACE"," ",211],"+",["T_WHITESPACE"," ",211],["T_VARIABLE","$options",211],";",["T_WHITESPACE","\n        ",211],["T_UNSET","unset",212],"(",["T_VARIABLE","$opts",212],"[",["T_CONSTANT_ENCAPSED_STRING","'negateMatch'",212],"]",")",";",["T_WHITESPACE","\n\n        ",212],["T_FOREACH","foreach",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$assocs",214],["T_WHITESPACE"," ",214],["T_AS","as",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$name",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$pointer",215],"[",["T_VARIABLE","$name",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$opts",215],";",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$pointer",216],["T_WHITESPACE"," ",216],"=","&",["T_WHITESPACE"," ",216],["T_VARIABLE","$pointer",216],"[",["T_VARIABLE","$name",216],"]",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_VARIABLE","$pointer",219],"[",["T_VARIABLE","$last",219],"]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],"[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$builder",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'matching'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_STRING","true",219],"]",["T_WHITESPACE"," ",219],"+",["T_WHITESPACE"," ",219],["T_VARIABLE","$options",219],";",["T_WHITESPACE","\n\n        ",219],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_matching",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","contain",221],"(",["T_VARIABLE","$containments",221],")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Returns the fully normalized array of associations that should be eagerly\n     * loaded for a table. The normalized array will restructure the original array\n     * by sorting all associations under one key and special options under another.\n     *\n     * Each of the levels of the associations tree will converted to a Cake\\ORM\\EagerLoadable\n     * object, that contains all the information required for the association objects\n     * to load the information from the database.\n     *\n     * Additionally it will set an 'instance' key per association containing the\n     * association instance from the corresponding source table\n     *\n     * @param \\Cake\\ORM\\Table $repository The table containing the association that\n     * will be normalized\n     * @return array\n     *\/",224],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","normalized",240],"(",["T_STRING","Table",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$repository",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_normalized",242],["T_WHITESPACE"," ",242],["T_IS_NOT_IDENTICAL","!==",242],["T_WHITESPACE"," ",242],["T_STRING","null",242],["T_WHITESPACE"," ",242],["T_BOOLEAN_OR","||",242],["T_WHITESPACE"," ",242],["T_EMPTY","empty",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_containments",242],")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_ARRAY_CAST","(array)",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_normalized",243],";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$contain",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],"[","]",";",["T_WHITESPACE","\n        ",246],["T_FOREACH","foreach",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_containments",247],["T_WHITESPACE"," ",247],["T_AS","as",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$alias",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$options",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(","!",["T_EMPTY","empty",248],"(",["T_VARIABLE","$options",248],"[",["T_CONSTANT_ENCAPSED_STRING","'instance'",248],"]",")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                ",248],["T_VARIABLE","$contain",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_ARRAY_CAST","(array)",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_containments",249],";",["T_WHITESPACE","\n                ",249],["T_BREAK","break",250],";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$contain",252],"[",["T_VARIABLE","$alias",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_normalizeContain",252],"(",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$repository",253],",",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$alias",254],",",["T_WHITESPACE","\n                ",254],["T_VARIABLE","$options",255],",",["T_WHITESPACE","\n                ",255],"[",["T_CONSTANT_ENCAPSED_STRING","'root'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_STRING","null",256],"]",["T_WHITESPACE","\n            ",256],")",";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n\n        ",258],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_normalized",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$contain",260],";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Formats the containments array so that associations are always set as keys\n     * in the array. This function merges the original associations array with\n     * the new associations provided\n     *\n     * @param array $associations user provided containments array\n     * @param array $original The original containments array to merge\n     * with the new one\n     * @return array\n     *\/",263],["T_WHITESPACE","\n    ",272],["T_PROTECTED","protected",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","_reformatContain",273],"(",["T_VARIABLE","$associations",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$original",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$result",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$original",275],";",["T_WHITESPACE","\n\n        ",275],["T_FOREACH","foreach",277],["T_WHITESPACE"," ",277],"(",["T_ARRAY_CAST","(array)",277],["T_VARIABLE","$associations",277],["T_WHITESPACE"," ",277],["T_AS","as",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$table",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$options",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$pointer",278],["T_WHITESPACE"," ",278],"=","&",["T_WHITESPACE"," ",278],["T_VARIABLE","$result",278],";",["T_WHITESPACE","\n            ",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_STRING","is_int",279],"(",["T_VARIABLE","$table",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$table",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$options",280],";",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$options",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],"[","]",";",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE","\n\n            ",282],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$options",284],["T_WHITESPACE"," ",284],["T_INSTANCEOF","instanceof",284],["T_WHITESPACE"," ",284],["T_STRING","EagerLoadable",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                ",284],["T_VARIABLE","$options",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$options",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","asContainArray",285],"(",")",";",["T_WHITESPACE","\n                ",285],["T_VARIABLE","$table",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","key",286],"(",["T_VARIABLE","$options",286],")",";",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$options",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","current",287],"(",["T_VARIABLE","$options",287],")",";",["T_WHITESPACE","\n            ",287],"}",["T_WHITESPACE","\n\n            ",288],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_ISSET","isset",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_containOptions",290],"[",["T_VARIABLE","$table",290],"]",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$pointer",291],"[",["T_VARIABLE","$table",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$options",291],";",["T_WHITESPACE","\n                ",291],["T_CONTINUE","continue",292],";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE","\n\n            ",293],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_STRING","strpos",295],"(",["T_VARIABLE","$table",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'.'",295],")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$path",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","explode",296],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$table",296],")",";",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$table",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","array_pop",297],"(",["T_VARIABLE","$path",297],")",";",["T_WHITESPACE","\n                ",297],["T_FOREACH","foreach",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$path",298],["T_WHITESPACE"," ",298],["T_AS","as",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$t",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                    ",298],["T_VARIABLE","$pointer",299],["T_WHITESPACE"," ",299],["T_PLUS_EQUAL","+=",299],["T_WHITESPACE"," ",299],"[",["T_VARIABLE","$t",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],"[","]","]",";",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$pointer",300],["T_WHITESPACE"," ",300],"=","&",["T_WHITESPACE"," ",300],["T_VARIABLE","$pointer",300],"[",["T_VARIABLE","$t",300],"]",";",["T_WHITESPACE","\n                ",300],"}",["T_WHITESPACE","\n            ",301],"}",["T_WHITESPACE","\n\n            ",302],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_STRING","is_array",304],"(",["T_VARIABLE","$options",304],")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$options",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_ISSET","isset",305],"(",["T_VARIABLE","$options",305],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",305],"]",")",["T_WHITESPACE"," ",305],"?",["T_WHITESPACE","\n                    ",305],["T_VARIABLE","$options",306],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",306],"]",["T_WHITESPACE"," ",306],"+",["T_WHITESPACE"," ",306],["T_VARIABLE","$options",306],"[",["T_CONSTANT_ENCAPSED_STRING","'associations'",306],"]",["T_WHITESPACE"," ",306],":",["T_WHITESPACE","\n                    ",306],["T_VARIABLE","$options",307],";",["T_WHITESPACE","\n                ",307],["T_VARIABLE","$options",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_reformatContain",308],"(",["T_WHITESPACE","\n                    ",308],["T_VARIABLE","$options",309],",",["T_WHITESPACE","\n                    ",309],["T_ISSET","isset",310],"(",["T_VARIABLE","$pointer",310],"[",["T_VARIABLE","$table",310],"]",")",["T_WHITESPACE"," ",310],"?",["T_WHITESPACE"," ",310],["T_VARIABLE","$pointer",310],"[",["T_VARIABLE","$table",310],"]",["T_WHITESPACE"," ",310],":",["T_WHITESPACE"," ",310],"[","]",["T_WHITESPACE","\n                ",310],")",";",["T_WHITESPACE","\n            ",311],"}",["T_WHITESPACE","\n\n            ",312],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$options",314],["T_WHITESPACE"," ",314],["T_INSTANCEOF","instanceof",314],["T_WHITESPACE"," ",314],["T_STRING","Closure",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$options",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],"[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$options",315],"]",";",["T_WHITESPACE","\n            ",315],"}",["T_WHITESPACE","\n\n            ",316],["T_VARIABLE","$pointer",318],["T_WHITESPACE"," ",318],["T_PLUS_EQUAL","+=",318],["T_WHITESPACE"," ",318],"[",["T_VARIABLE","$table",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],"[","]","]",";",["T_WHITESPACE","\n\n            ",318],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_ISSET","isset",320],"(",["T_VARIABLE","$options",320],"[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",320],"]",")",["T_WHITESPACE"," ",320],["T_BOOLEAN_AND","&&",320],["T_WHITESPACE"," ",320],["T_ISSET","isset",320],"(",["T_VARIABLE","$pointer",320],"[",["T_VARIABLE","$table",320],"]","[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",320],"]",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                ",320],["T_VARIABLE","$first",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$pointer",321],"[",["T_VARIABLE","$table",321],"]","[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",321],"]",";",["T_WHITESPACE","\n                ",321],["T_VARIABLE","$second",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$options",322],"[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",322],"]",";",["T_WHITESPACE","\n                ",322],["T_VARIABLE","$options",323],"[",["T_CONSTANT_ENCAPSED_STRING","'queryBuilder'",323],"]",["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$query",323],")",["T_WHITESPACE"," ",323],["T_USE","use",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$first",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$second",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n                    ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$second",324],"(",["T_VARIABLE","$first",324],"(",["T_VARIABLE","$query",324],")",")",";",["T_WHITESPACE","\n                ",324],"}",";",["T_WHITESPACE","\n            ",325],"}",["T_WHITESPACE","\n\n            ",326],["T_VARIABLE","$pointer",328],"[",["T_VARIABLE","$table",328],"]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$options",328],["T_WHITESPACE"," ",328],"+",["T_WHITESPACE"," ",328],["T_VARIABLE","$pointer",328],"[",["T_VARIABLE","$table",328],"]",";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$result",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Modifies the passed query to apply joins or any other transformation required\n     * in order to eager load the associations described in the `contain` array.\n     * This method will not modify the query for loading external associations, i.e.\n     * those that cannot be loaded without executing a separate query.\n     *\n     * @param \\Cake\\ORM\\Query $query The query to be modified\n     * @param \\Cake\\ORM\\Table $repository The repository containing the associations\n     * @param bool $includeFields whether to append all fields from the associations\n     * to the passed query. This can be overridden according to the settings defined\n     * per association in the containments array\n     * @return void\n     *\/",334],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","attachAssociations",347],"(",["T_STRING","Query",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$query",347],",",["T_WHITESPACE"," ",347],["T_STRING","Table",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$repository",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$includeFields",347],")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_EMPTY","empty",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_containments",349],")",["T_WHITESPACE"," ",349],["T_BOOLEAN_AND","&&",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_matching",349],["T_WHITESPACE"," ",349],["T_IS_IDENTICAL","===",349],["T_WHITESPACE"," ",349],["T_STRING","null",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_RETURN","return",350],";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$attachable",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","attachableAssociations",353],"(",["T_VARIABLE","$repository",353],")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$processed",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],"[","]",";",["T_WHITESPACE","\n        ",354],["T_DO","do",355],["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_FOREACH","foreach",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$attachable",356],["T_WHITESPACE"," ",356],["T_AS","as",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$alias",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$loadable",356],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$config",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$loadable",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","config",357],"(",")",["T_WHITESPACE"," ",357],"+",["T_WHITESPACE"," ",357],"[",["T_WHITESPACE","\n                    ",357],["T_CONSTANT_ENCAPSED_STRING","'aliasPath'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$loadable",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","aliasPath",358],"(",")",",",["T_WHITESPACE","\n                    ",358],["T_CONSTANT_ENCAPSED_STRING","'propertyPath'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$loadable",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","propertyPath",359],"(",")",",",["T_WHITESPACE","\n                    ",359],["T_CONSTANT_ENCAPSED_STRING","'includeFields'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$includeFields",360],",",["T_WHITESPACE","\n                ",360],"]",";",["T_WHITESPACE","\n                ",361],["T_VARIABLE","$loadable",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","instance",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","attachTo",362],"(",["T_VARIABLE","$query",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$config",362],")",";",["T_WHITESPACE","\n                ",362],["T_VARIABLE","$processed",363],"[",["T_VARIABLE","$alias",363],"]",["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_STRING","true",363],";",["T_WHITESPACE","\n            ",363],"}",["T_WHITESPACE","\n\n            ",364],["T_VARIABLE","$newAttachable",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","attachableAssociations",366],"(",["T_VARIABLE","$repository",366],")",";",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$attachable",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","array_diff_key",367],"(",["T_VARIABLE","$newAttachable",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$processed",367],")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE"," ",368],["T_WHILE","while",368],["T_WHITESPACE"," ",368],"(","!",["T_EMPTY","empty",368],"(",["T_VARIABLE","$attachable",368],")",")",";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * Returns an array with the associations that can be fetched using a single query,\n     * the array keys are the association aliases and the values will contain an array\n     * with Cake\\ORM\\EagerLoadable objects.\n     *\n     * @param \\Cake\\ORM\\Table $repository The table containing the associations to be\n     * attached\n     * @return array\n     *\/",371],["T_WHITESPACE","\n    ",379],["T_PUBLIC","public",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","attachableAssociations",380],"(",["T_STRING","Table",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$repository",380],")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$contain",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","normalized",382],"(",["T_VARIABLE","$repository",382],")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$matching",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_matching",383],["T_WHITESPACE"," ",383],"?",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_matching",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","normalized",383],"(",["T_VARIABLE","$repository",383],")",["T_WHITESPACE"," ",383],":",["T_WHITESPACE"," ",383],"[","]",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_fixStrategies",384],"(",")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_loadExternal",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],"[","]",";",["T_WHITESPACE","\n\n        ",385],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_resolveJoins",387],"(",["T_VARIABLE","$contain",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$matching",387],")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Returns an array with the associations that need to be fetched using a\n     * separate query, each array value will contain a Cake\\ORM\\EagerLoadable object.\n     *\n     * @param \\Cake\\ORM\\Table $repository The table containing the associations\n     * to be loaded\n     * @return array\n     *\/",390],["T_WHITESPACE","\n    ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","externalAssociations",398],"(",["T_STRING","Table",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$repository",398],")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_IF","if",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_loadExternal",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_loadExternal",401],";",["T_WHITESPACE","\n        ",401],"}",["T_WHITESPACE","\n\n        ",402],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","attachableAssociations",404],"(",["T_VARIABLE","$repository",404],")",";",["T_WHITESPACE","\n\n        ",404],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_loadExternal",406],";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Auxiliary function responsible for fully normalizing deep associations defined\n     * using `contain()`\n     *\n     * @param \\Cake\\ORM\\Table $parent owning side of the association\n     * @param string $alias name of the association to be loaded\n     * @param array $options list of extra options to use for this association\n     * @param array $paths An array with two values, the first one is a list of dot\n     * separated strings representing associations that lead to this `$alias` in the\n     * chain of associations to be loaded. The second value is the path to follow in\n     * entities' properties to fetch a record of the corresponding association.\n     * @return array normalized associations\n     * @throws \\InvalidArgumentException When containments refer to associations that do not exist.\n     *\/",409],["T_WHITESPACE","\n    ",422],["T_PROTECTED","protected",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","_normalizeContain",423],"(",["T_STRING","Table",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$parent",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$alias",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$options",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$paths",423],")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$defaults",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_containOptions",425],";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$instance",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$parent",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","association",426],"(",["T_VARIABLE","$alias",426],")",";",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(","!",["T_VARIABLE","$instance",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_THROW","throw",428],["T_WHITESPACE"," ",428],["T_NEW","new",428],["T_WHITESPACE"," ",428],["T_STRING","InvalidArgumentException",428],"(",["T_WHITESPACE","\n                ",428],["T_STRING","sprintf",429],"(",["T_CONSTANT_ENCAPSED_STRING","'%s is not associated with %s'",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$parent",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","alias",429],"(",")",",",["T_WHITESPACE"," ",429],["T_VARIABLE","$alias",429],")",["T_WHITESPACE","\n            ",429],")",";",["T_WHITESPACE","\n        ",430],"}",["T_WHITESPACE","\n        ",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$instance",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","alias",432],"(",")",["T_WHITESPACE"," ",432],["T_IS_NOT_IDENTICAL","!==",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$alias",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_THROW","throw",433],["T_WHITESPACE"," ",433],["T_NEW","new",433],["T_WHITESPACE"," ",433],["T_STRING","InvalidArgumentException",433],"(",["T_STRING","sprintf",433],"(",["T_WHITESPACE","\n                ",433],["T_CONSTANT_ENCAPSED_STRING","\"You have contained '%s' but that association was bound as '%s'.\"",434],",",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$alias",435],",",["T_WHITESPACE","\n                ",435],["T_VARIABLE","$instance",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","alias",436],"(",")",["T_WHITESPACE","\n            ",436],")",")",";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n\n        ",438],["T_VARIABLE","$paths",440],["T_WHITESPACE"," ",440],["T_PLUS_EQUAL","+=",440],["T_WHITESPACE"," ",440],"[",["T_CONSTANT_ENCAPSED_STRING","'aliasPath'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","''",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'propertyPath'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","''",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'root'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$alias",440],"]",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$paths",441],"[",["T_CONSTANT_ENCAPSED_STRING","'aliasPath'",441],"]",["T_WHITESPACE"," ",441],["T_CONCAT_EQUAL",".=",441],["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'.'",441],["T_WHITESPACE"," ",441],".",["T_WHITESPACE"," ",441],["T_VARIABLE","$alias",441],";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$paths",442],"[",["T_CONSTANT_ENCAPSED_STRING","'propertyPath'",442],"]",["T_WHITESPACE"," ",442],["T_CONCAT_EQUAL",".=",442],["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'.'",442],["T_WHITESPACE"," ",442],".",["T_WHITESPACE"," ",442],["T_VARIABLE","$instance",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","property",442],"(",")",";",["T_WHITESPACE","\n\n        ",442],["T_VARIABLE","$table",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$instance",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","target",444],"(",")",";",["T_WHITESPACE","\n\n        ",444],["T_VARIABLE","$extra",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","array_diff_key",446],"(",["T_VARIABLE","$options",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$defaults",446],")",";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$config",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],"[",["T_WHITESPACE","\n            ",447],["T_CONSTANT_ENCAPSED_STRING","'associations'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],"[","]",",",["T_WHITESPACE","\n            ",448],["T_CONSTANT_ENCAPSED_STRING","'instance'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$instance",449],",",["T_WHITESPACE","\n            ",449],["T_CONSTANT_ENCAPSED_STRING","'config'",450],["T_WHITESPACE"," ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_STRING","array_diff_key",450],"(",["T_VARIABLE","$options",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$extra",450],")",",",["T_WHITESPACE","\n            ",450],["T_CONSTANT_ENCAPSED_STRING","'aliasPath'",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_STRING","trim",451],"(",["T_VARIABLE","$paths",451],"[",["T_CONSTANT_ENCAPSED_STRING","'aliasPath'",451],"]",",",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'.'",451],")",",",["T_WHITESPACE","\n            ",451],["T_CONSTANT_ENCAPSED_STRING","'propertyPath'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_STRING","trim",452],"(",["T_VARIABLE","$paths",452],"[",["T_CONSTANT_ENCAPSED_STRING","'propertyPath'",452],"]",",",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'.'",452],")",",",["T_WHITESPACE","\n            ",452],["T_CONSTANT_ENCAPSED_STRING","'targetProperty'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$instance",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","property",453],"(",")",["T_WHITESPACE","\n        ",453],"]",";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$config",455],"[",["T_CONSTANT_ENCAPSED_STRING","'canBeJoined'",455],"]",["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$instance",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","canBeJoined",455],"(",["T_VARIABLE","$config",455],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",455],"]",")",";",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$eagerLoadable",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_NEW","new",456],["T_WHITESPACE"," ",456],["T_STRING","EagerLoadable",456],"(",["T_VARIABLE","$alias",456],",",["T_WHITESPACE"," ",456],["T_VARIABLE","$config",456],")",";",["T_WHITESPACE","\n\n        ",456],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$config",458],"[",["T_CONSTANT_ENCAPSED_STRING","'canBeJoined'",458],"]",")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_aliasList",459],"[",["T_VARIABLE","$paths",459],"[",["T_CONSTANT_ENCAPSED_STRING","'root'",459],"]","]","[",["T_VARIABLE","$alias",459],"]","[","]",["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$eagerLoadable",459],";",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE"," ",460],["T_ELSE","else",460],["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$paths",461],"[",["T_CONSTANT_ENCAPSED_STRING","'root'",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$config",461],"[",["T_CONSTANT_ENCAPSED_STRING","'aliasPath'",461],"]",";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n\n        ",462],["T_FOREACH","foreach",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$extra",464],["T_WHITESPACE"," ",464],["T_AS","as",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$t",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$assoc",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$eagerLoadable",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","addAssociation",465],"(",["T_WHITESPACE","\n                ",465],["T_VARIABLE","$t",466],",",["T_WHITESPACE","\n                ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","_normalizeContain",467],"(",["T_VARIABLE","$table",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$t",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$assoc",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$paths",467],")",["T_WHITESPACE","\n            ",467],")",";",["T_WHITESPACE","\n        ",468],"}",["T_WHITESPACE","\n\n        ",469],["T_RETURN","return",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$eagerLoadable",471],";",["T_WHITESPACE","\n    ",471],"}",["T_WHITESPACE","\n\n    ",472],["T_DOC_COMMENT","\/**\n     * Iterates over the joinable aliases list and corrects the fetching strategies\n     * in order to avoid aliases collision in the generated queries.\n     *\n     * This function operates on the array references that were generated by the\n     * _normalizeContain() function.\n     *\n     * @return void\n     *\/",474],["T_WHITESPACE","\n    ",482],["T_PROTECTED","protected",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","_fixStrategies",483],"(",")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_FOREACH","foreach",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_aliasList",485],["T_WHITESPACE"," ",485],["T_AS","as",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$aliases",485],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n            ",485],["T_FOREACH","foreach",486],["T_WHITESPACE"," ",486],"(",["T_VARIABLE","$aliases",486],["T_WHITESPACE"," ",486],["T_AS","as",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$configs",486],")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n                ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_STRING","count",487],"(",["T_VARIABLE","$configs",487],")",["T_WHITESPACE"," ",487],"<",["T_WHITESPACE"," ",487],["T_LNUMBER","2",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n                    ",487],["T_CONTINUE","continue",488],";",["T_WHITESPACE","\n                ",488],"}",["T_WHITESPACE","\n                ",489],["T_FOREACH","foreach",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$configs",490],["T_WHITESPACE"," ",490],["T_AS","as",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$loadable",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                    ",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_STRING","strpos",491],"(",["T_VARIABLE","$loadable",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","aliasPath",491],"(",")",",",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'.'",491],")",")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n                        ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_correctStrategy",492],"(",["T_VARIABLE","$loadable",492],")",";",["T_WHITESPACE","\n                    ",492],"}",["T_WHITESPACE","\n                ",493],"}",["T_WHITESPACE","\n            ",494],"}",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE","\n    ",496],"}",["T_WHITESPACE","\n\n    ",497],["T_DOC_COMMENT","\/**\n     * Changes the association fetching strategy if required because of duplicate\n     * under the same direct associations chain\n     *\n     * @param \\Cake\\ORM\\EagerLoadable $loadable The association config\n     * @return void\n     *\/",499],["T_WHITESPACE","\n    ",505],["T_PROTECTED","protected",506],["T_WHITESPACE"," ",506],["T_FUNCTION","function",506],["T_WHITESPACE"," ",506],["T_STRING","_correctStrategy",506],"(",["T_VARIABLE","$loadable",506],")",["T_WHITESPACE","\n    ",506],"{",["T_WHITESPACE","\n        ",507],["T_VARIABLE","$config",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_VARIABLE","$loadable",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","config",508],"(",")",";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$currentStrategy",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_ISSET","isset",509],"(",["T_VARIABLE","$config",509],"[",["T_CONSTANT_ENCAPSED_STRING","'strategy'",509],"]",")",["T_WHITESPACE"," ",509],"?",["T_WHITESPACE","\n            ",509],["T_VARIABLE","$config",510],"[",["T_CONSTANT_ENCAPSED_STRING","'strategy'",510],"]",["T_WHITESPACE"," ",510],":",["T_WHITESPACE","\n            ",510],["T_CONSTANT_ENCAPSED_STRING","'join'",511],";",["T_WHITESPACE","\n\n        ",511],["T_IF","if",513],["T_WHITESPACE"," ",513],"(","!",["T_VARIABLE","$loadable",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","canBeJoined",513],"(",")",["T_WHITESPACE"," ",513],["T_BOOLEAN_OR","||",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$currentStrategy",513],["T_WHITESPACE"," ",513],["T_IS_NOT_IDENTICAL","!==",513],["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","'join'",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_RETURN","return",514],";",["T_WHITESPACE","\n        ",514],"}",["T_WHITESPACE","\n\n        ",515],["T_VARIABLE","$config",517],"[",["T_CONSTANT_ENCAPSED_STRING","'strategy'",517],"]",["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_STRING","Association",517],["T_DOUBLE_COLON","::",517],["T_STRING","STRATEGY_SELECT",517],";",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$loadable",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","config",518],"(",["T_VARIABLE","$config",518],")",";",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$loadable",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","canBeJoined",519],"(",["T_STRING","false",519],")",";",["T_WHITESPACE","\n    ",519],"}",["T_WHITESPACE","\n\n    ",520],["T_DOC_COMMENT","\/**\n     * Helper function used to compile a list of all associations that can be\n     * joined in the query.\n     *\n     * @param array $associations list of associations from which to obtain joins.\n     * @param array $matching list of associations that should be forcibly joined.\n     * @return array\n     *\/",522],["T_WHITESPACE","\n    ",529],["T_PROTECTED","protected",530],["T_WHITESPACE"," ",530],["T_FUNCTION","function",530],["T_WHITESPACE"," ",530],["T_STRING","_resolveJoins",530],"(",["T_VARIABLE","$associations",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$matching",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],"[","]",")",["T_WHITESPACE","\n    ",530],"{",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$result",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],"[","]",";",["T_WHITESPACE","\n        ",532],["T_FOREACH","foreach",533],["T_WHITESPACE"," ",533],"(",["T_VARIABLE","$matching",533],["T_WHITESPACE"," ",533],["T_AS","as",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$table",533],["T_WHITESPACE"," ",533],["T_DOUBLE_ARROW","=>",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$loadable",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_VARIABLE","$result",534],"[",["T_VARIABLE","$table",534],"]",["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_VARIABLE","$loadable",534],";",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$result",535],["T_WHITESPACE"," ",535],["T_PLUS_EQUAL","+=",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","_resolveJoins",535],"(",["T_VARIABLE","$loadable",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","associations",535],"(",")",",",["T_WHITESPACE"," ",535],"[","]",")",";",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE","\n        ",536],["T_FOREACH","foreach",537],["T_WHITESPACE"," ",537],"(",["T_VARIABLE","$associations",537],["T_WHITESPACE"," ",537],["T_AS","as",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$table",537],["T_WHITESPACE"," ",537],["T_DOUBLE_ARROW","=>",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$loadable",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$inMatching",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_ISSET","isset",538],"(",["T_VARIABLE","$matching",538],"[",["T_VARIABLE","$table",538],"]",")",";",["T_WHITESPACE","\n            ",538],["T_IF","if",539],["T_WHITESPACE"," ",539],"(","!",["T_VARIABLE","$inMatching",539],["T_WHITESPACE"," ",539],["T_BOOLEAN_AND","&&",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$loadable",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","canBeJoined",539],"(",")",")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n                ",539],["T_VARIABLE","$result",540],"[",["T_VARIABLE","$table",540],"]",["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_VARIABLE","$loadable",540],";",["T_WHITESPACE","\n                ",540],["T_VARIABLE","$result",541],["T_WHITESPACE"," ",541],["T_PLUS_EQUAL","+=",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_resolveJoins",541],"(",["T_VARIABLE","$loadable",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","associations",541],"(",")",",",["T_WHITESPACE"," ",541],"[","]",")",";",["T_WHITESPACE","\n                ",541],["T_CONTINUE","continue",542],";",["T_WHITESPACE","\n            ",542],"}",["T_WHITESPACE","\n\n            ",543],["T_IF","if",545],["T_WHITESPACE"," ",545],"(",["T_VARIABLE","$inMatching",545],")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n                ",545],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","_correctStrategy",546],"(",["T_VARIABLE","$loadable",546],")",";",["T_WHITESPACE","\n            ",546],"}",["T_WHITESPACE","\n\n            ",547],["T_VARIABLE","$loadable",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","canBeJoined",549],"(",["T_STRING","false",549],")",";",["T_WHITESPACE","\n            ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","_loadExternal",550],"[","]",["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$loadable",550],";",["T_WHITESPACE","\n        ",550],"}",["T_WHITESPACE","\n\n        ",551],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$result",553],";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n\n    ",554],["T_DOC_COMMENT","\/**\n     * Decorates the passed statement object in order to inject data from associations\n     * that cannot be joined directly.\n     *\n     * @param \\Cake\\ORM\\Query $query The query for which to eager load external\n     * associations\n     * @param \\Cake\\Database\\StatementInterface $statement The statement created after executing the $query\n     * @return \\Cake\\Database\\Statement\\CallbackStatement statement modified statement with extra loaders\n     *\/",556],["T_WHITESPACE","\n    ",564],["T_PUBLIC","public",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","loadExternal",565],"(",["T_VARIABLE","$query",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$statement",565],")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$external",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","externalAssociations",567],"(",["T_VARIABLE","$query",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","repository",567],"(",")",")",";",["T_WHITESPACE","\n        ",567],["T_IF","if",568],["T_WHITESPACE"," ",568],"(",["T_EMPTY","empty",568],"(",["T_VARIABLE","$external",568],")",")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_RETURN","return",569],["T_WHITESPACE"," ",569],["T_VARIABLE","$statement",569],";",["T_WHITESPACE","\n        ",569],"}",["T_WHITESPACE","\n\n        ",570],["T_VARIABLE","$driver",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$query",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","connection",572],"(",")",["T_OBJECT_OPERATOR","->",572],["T_STRING","driver",572],"(",")",";",["T_WHITESPACE","\n        ",572],["T_LIST","list",573],"(",["T_VARIABLE","$collected",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$statement",573],")",["T_WHITESPACE"," ",573],"=",["T_WHITESPACE"," ",573],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_collectKeys",573],"(",["T_VARIABLE","$external",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$query",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$statement",573],")",";",["T_WHITESPACE","\n\n        ",573],["T_FOREACH","foreach",575],["T_WHITESPACE"," ",575],"(",["T_VARIABLE","$external",575],["T_WHITESPACE"," ",575],["T_AS","as",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$meta",575],")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n            ",575],["T_VARIABLE","$contain",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_VARIABLE","$meta",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","associations",576],"(",")",";",["T_WHITESPACE","\n            ",576],["T_VARIABLE","$instance",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_VARIABLE","$meta",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","instance",577],"(",")",";",["T_WHITESPACE","\n            ",577],["T_VARIABLE","$config",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$meta",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","config",578],"(",")",";",["T_WHITESPACE","\n            ",578],["T_VARIABLE","$alias",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_VARIABLE","$instance",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","source",579],"(",")",["T_OBJECT_OPERATOR","->",579],["T_STRING","alias",579],"(",")",";",["T_WHITESPACE","\n            ",579],["T_VARIABLE","$path",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_VARIABLE","$meta",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","aliasPath",580],"(",")",";",["T_WHITESPACE","\n\n            ",580],["T_VARIABLE","$requiresKeys",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$instance",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","requiresKeys",582],"(",["T_VARIABLE","$config",582],")",";",["T_WHITESPACE","\n            ",582],["T_IF","if",583],["T_WHITESPACE"," ",583],"(",["T_VARIABLE","$requiresKeys",583],["T_WHITESPACE"," ",583],["T_BOOLEAN_AND","&&",583],["T_WHITESPACE"," ",583],["T_EMPTY","empty",583],"(",["T_VARIABLE","$collected",583],"[",["T_VARIABLE","$path",583],"]","[",["T_VARIABLE","$alias",583],"]",")",")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n                ",583],["T_CONTINUE","continue",584],";",["T_WHITESPACE","\n            ",584],"}",["T_WHITESPACE","\n\n            ",585],["T_VARIABLE","$keys",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_ISSET","isset",587],"(",["T_VARIABLE","$collected",587],"[",["T_VARIABLE","$path",587],"]","[",["T_VARIABLE","$alias",587],"]",")",["T_WHITESPACE"," ",587],"?",["T_WHITESPACE"," ",587],["T_VARIABLE","$collected",587],"[",["T_VARIABLE","$path",587],"]","[",["T_VARIABLE","$alias",587],"]",["T_WHITESPACE"," ",587],":",["T_WHITESPACE"," ",587],["T_STRING","null",587],";",["T_WHITESPACE","\n            ",587],["T_VARIABLE","$f",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_VARIABLE","$instance",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","eagerLoader",588],"(",["T_WHITESPACE","\n                ",588],["T_VARIABLE","$config",589],["T_WHITESPACE"," ",589],"+",["T_WHITESPACE"," ",589],"[",["T_WHITESPACE","\n                    ",589],["T_CONSTANT_ENCAPSED_STRING","'query'",590],["T_WHITESPACE"," ",590],["T_DOUBLE_ARROW","=>",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$query",590],",",["T_WHITESPACE","\n                    ",590],["T_CONSTANT_ENCAPSED_STRING","'contain'",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$contain",591],",",["T_WHITESPACE","\n                    ",591],["T_CONSTANT_ENCAPSED_STRING","'keys'",592],["T_WHITESPACE"," ",592],["T_DOUBLE_ARROW","=>",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$keys",592],",",["T_WHITESPACE","\n                    ",592],["T_CONSTANT_ENCAPSED_STRING","'nestKey'",593],["T_WHITESPACE"," ",593],["T_DOUBLE_ARROW","=>",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$meta",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","aliasPath",593],"(",")",["T_WHITESPACE","\n                ",593],"]",["T_WHITESPACE","\n            ",594],")",";",["T_WHITESPACE","\n            ",595],["T_VARIABLE","$statement",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_NEW","new",596],["T_WHITESPACE"," ",596],["T_STRING","CallbackStatement",596],"(",["T_VARIABLE","$statement",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$driver",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$f",596],")",";",["T_WHITESPACE","\n        ",596],"}",["T_WHITESPACE","\n\n        ",597],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$statement",599],";",["T_WHITESPACE","\n    ",599],"}",["T_WHITESPACE","\n\n    ",600],["T_DOC_COMMENT","\/**\n     * Returns an array having as keys a dotted path of associations that participate\n     * in this eager loader. The values of the array will contain the following keys\n     *\n     * - alias: The association alias\n     * - instance: The association instance\n     * - canBeJoined: Whether or not the association will be loaded using a JOIN\n     * - entityClass: The entity that should be used for hydrating the results\n     * - nestKey: A dotted path that can be used to correctly insert the data into the results.\n     * - matching: Whether or not it is an association loaded through `matching()`.\n     *\n     * @param \\Cake\\ORM\\Table $table The table containing the association that\n     * will be normalized\n     * @return array\n     *\/",602],["T_WHITESPACE","\n    ",616],["T_PUBLIC","public",617],["T_WHITESPACE"," ",617],["T_FUNCTION","function",617],["T_WHITESPACE"," ",617],["T_STRING","associationsMap",617],"(",["T_VARIABLE","$table",617],")",["T_WHITESPACE","\n    ",617],"{",["T_WHITESPACE","\n        ",618],["T_VARIABLE","$map",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],"[","]",";",["T_WHITESPACE","\n\n        ",619],["T_IF","if",621],["T_WHITESPACE"," ",621],"(","!",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","matching",621],"(",")",["T_WHITESPACE"," ",621],["T_BOOLEAN_AND","&&",621],["T_WHITESPACE"," ",621],"!",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","contain",621],"(",")",["T_WHITESPACE"," ",621],["T_BOOLEAN_AND","&&",621],["T_WHITESPACE"," ",621],["T_EMPTY","empty",621],"(",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","_joinsMap",621],")",")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n            ",621],["T_RETURN","return",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$map",622],";",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n\n        ",623],["T_VARIABLE","$visitor",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_FUNCTION","function",625],["T_WHITESPACE"," ",625],"(",["T_VARIABLE","$level",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$matching",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_STRING","false",625],")",["T_WHITESPACE"," ",625],["T_USE","use",625],["T_WHITESPACE"," ",625],"(","&",["T_VARIABLE","$visitor",625],",",["T_WHITESPACE"," ",625],"&",["T_VARIABLE","$map",625],")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n            ",625],["T_FOREACH","foreach",626],["T_WHITESPACE"," ",626],"(",["T_VARIABLE","$level",626],["T_WHITESPACE"," ",626],["T_AS","as",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$assoc",626],["T_WHITESPACE"," ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$meta",626],")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n                ",626],["T_VARIABLE","$canBeJoined",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_VARIABLE","$meta",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","canBeJoined",627],"(",")",";",["T_WHITESPACE","\n                ",627],["T_VARIABLE","$instance",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_VARIABLE","$meta",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","instance",628],"(",")",";",["T_WHITESPACE","\n                ",628],["T_VARIABLE","$associations",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_VARIABLE","$meta",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","associations",629],"(",")",";",["T_WHITESPACE","\n                ",629],["T_VARIABLE","$forMatching",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$meta",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","forMatching",630],"(",")",";",["T_WHITESPACE","\n                ",630],["T_VARIABLE","$map",631],"[","]",["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],"[",["T_WHITESPACE","\n                    ",631],["T_CONSTANT_ENCAPSED_STRING","'alias'",632],["T_WHITESPACE"," ",632],["T_DOUBLE_ARROW","=>",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$assoc",632],",",["T_WHITESPACE","\n                    ",632],["T_CONSTANT_ENCAPSED_STRING","'instance'",633],["T_WHITESPACE"," ",633],["T_DOUBLE_ARROW","=>",633],["T_WHITESPACE"," ",633],["T_VARIABLE","$instance",633],",",["T_WHITESPACE","\n                    ",633],["T_CONSTANT_ENCAPSED_STRING","'canBeJoined'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$canBeJoined",634],",",["T_WHITESPACE","\n                    ",634],["T_CONSTANT_ENCAPSED_STRING","'entityClass'",635],["T_WHITESPACE"," ",635],["T_DOUBLE_ARROW","=>",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$instance",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","target",635],"(",")",["T_OBJECT_OPERATOR","->",635],["T_STRING","entityClass",635],"(",")",",",["T_WHITESPACE","\n                    ",635],["T_CONSTANT_ENCAPSED_STRING","'nestKey'",636],["T_WHITESPACE"," ",636],["T_DOUBLE_ARROW","=>",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$canBeJoined",636],["T_WHITESPACE"," ",636],"?",["T_WHITESPACE"," ",636],["T_VARIABLE","$assoc",636],["T_WHITESPACE"," ",636],":",["T_WHITESPACE"," ",636],["T_VARIABLE","$meta",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","aliasPath",636],"(",")",",",["T_WHITESPACE","\n                    ",636],["T_CONSTANT_ENCAPSED_STRING","'matching'",637],["T_WHITESPACE"," ",637],["T_DOUBLE_ARROW","=>",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$forMatching",637],["T_WHITESPACE"," ",637],["T_IS_NOT_IDENTICAL","!==",637],["T_WHITESPACE"," ",637],["T_STRING","null",637],["T_WHITESPACE"," ",637],"?",["T_WHITESPACE"," ",637],["T_VARIABLE","$forMatching",637],["T_WHITESPACE"," ",637],":",["T_WHITESPACE"," ",637],["T_VARIABLE","$matching",637],",",["T_WHITESPACE","\n                    ",637],["T_CONSTANT_ENCAPSED_STRING","'targetProperty'",638],["T_WHITESPACE"," ",638],["T_DOUBLE_ARROW","=>",638],["T_WHITESPACE"," ",638],["T_VARIABLE","$meta",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","targetProperty",638],"(",")",["T_WHITESPACE","\n                ",638],"]",";",["T_WHITESPACE","\n                ",639],["T_IF","if",640],["T_WHITESPACE"," ",640],"(",["T_VARIABLE","$canBeJoined",640],["T_WHITESPACE"," ",640],["T_BOOLEAN_AND","&&",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$associations",640],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n                    ",640],["T_VARIABLE","$visitor",641],"(",["T_VARIABLE","$associations",641],",",["T_WHITESPACE"," ",641],["T_VARIABLE","$matching",641],")",";",["T_WHITESPACE","\n                ",641],"}",["T_WHITESPACE","\n            ",642],"}",["T_WHITESPACE","\n        ",643],"}",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$visitor",645],"(",["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_matching",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","normalized",645],"(",["T_VARIABLE","$table",645],")",",",["T_WHITESPACE"," ",645],["T_STRING","true",645],")",";",["T_WHITESPACE","\n        ",645],["T_VARIABLE","$visitor",646],"(",["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","normalized",646],"(",["T_VARIABLE","$table",646],")",")",";",["T_WHITESPACE","\n        ",646],["T_VARIABLE","$visitor",647],"(",["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","_joinsMap",647],")",";",["T_WHITESPACE","\n\n        ",647],["T_RETURN","return",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$map",649],";",["T_WHITESPACE","\n    ",649],"}",["T_WHITESPACE","\n\n    ",650],["T_DOC_COMMENT","\/**\n     * Registers a table alias, typically loaded as a join in a query, as belonging to\n     * an association. This helps hydrators know what to do with the columns coming\n     * from such joined table.\n     *\n     * @param string $alias The table alias as it appears in the query.\n     * @param \\Cake\\ORM\\Association $assoc The association object the alias represents;\n     * will be normalized\n     * @param bool $asMatching Whether or not this join results should be treated as a\n     * 'matching' association.\n     * @param string $targetProperty The property name where the results of the join should be nested at.\n     * If not passed, the default property for the association will be used.\n     * @return void\n     *\/",652],["T_WHITESPACE","\n    ",665],["T_PUBLIC","public",666],["T_WHITESPACE"," ",666],["T_FUNCTION","function",666],["T_WHITESPACE"," ",666],["T_STRING","addToJoinsMap",666],"(",["T_VARIABLE","$alias",666],",",["T_WHITESPACE"," ",666],["T_STRING","Association",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$assoc",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$asMatching",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_STRING","false",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$targetProperty",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_STRING","null",666],")",["T_WHITESPACE","\n    ",666],"{",["T_WHITESPACE","\n        ",667],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","_joinsMap",668],"[",["T_VARIABLE","$alias",668],"]",["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_NEW","new",668],["T_WHITESPACE"," ",668],["T_STRING","EagerLoadable",668],"(",["T_VARIABLE","$alias",668],",",["T_WHITESPACE"," ",668],"[",["T_WHITESPACE","\n            ",668],["T_CONSTANT_ENCAPSED_STRING","'aliasPath'",669],["T_WHITESPACE"," ",669],["T_DOUBLE_ARROW","=>",669],["T_WHITESPACE"," ",669],["T_VARIABLE","$alias",669],",",["T_WHITESPACE","\n            ",669],["T_CONSTANT_ENCAPSED_STRING","'instance'",670],["T_WHITESPACE"," ",670],["T_DOUBLE_ARROW","=>",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$assoc",670],",",["T_WHITESPACE","\n            ",670],["T_CONSTANT_ENCAPSED_STRING","'canBeJoined'",671],["T_WHITESPACE"," ",671],["T_DOUBLE_ARROW","=>",671],["T_WHITESPACE"," ",671],["T_STRING","true",671],",",["T_WHITESPACE","\n            ",671],["T_CONSTANT_ENCAPSED_STRING","'forMatching'",672],["T_WHITESPACE"," ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$asMatching",672],",",["T_WHITESPACE","\n            ",672],["T_CONSTANT_ENCAPSED_STRING","'targetProperty'",673],["T_WHITESPACE"," ",673],["T_DOUBLE_ARROW","=>",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$targetProperty",673],["T_WHITESPACE"," ",673],"?",":",["T_WHITESPACE"," ",673],["T_VARIABLE","$assoc",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","property",673],"(",")",["T_WHITESPACE","\n        ",673],"]",")",";",["T_WHITESPACE","\n    ",674],"}",["T_WHITESPACE","\n\n    ",675],["T_DOC_COMMENT","\/**\n     * Helper function used to return the keys from the query records that will be used\n     * to eagerly load associations.\n     *\n     * @param array $external the list of external associations to be loaded\n     * @param \\Cake\\ORM\\Query $query The query from which the results where generated\n     * @param \\Cake\\Database\\Statement\\BufferedStatement $statement The statement to work on\n     * @return array\n     *\/",677],["T_WHITESPACE","\n    ",685],["T_PROTECTED","protected",686],["T_WHITESPACE"," ",686],["T_FUNCTION","function",686],["T_WHITESPACE"," ",686],["T_STRING","_collectKeys",686],"(",["T_VARIABLE","$external",686],",",["T_WHITESPACE"," ",686],["T_VARIABLE","$query",686],",",["T_WHITESPACE"," ",686],["T_VARIABLE","$statement",686],")",["T_WHITESPACE","\n    ",686],"{",["T_WHITESPACE","\n        ",687],["T_VARIABLE","$collectKeys",688],["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],"[","]",";",["T_WHITESPACE","\n        ",688],["T_FOREACH","foreach",689],["T_WHITESPACE"," ",689],"(",["T_VARIABLE","$external",689],["T_WHITESPACE"," ",689],["T_AS","as",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$meta",689],")",["T_WHITESPACE"," ",689],"{",["T_WHITESPACE","\n            ",689],["T_VARIABLE","$instance",690],["T_WHITESPACE"," ",690],"=",["T_WHITESPACE"," ",690],["T_VARIABLE","$meta",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","instance",690],"(",")",";",["T_WHITESPACE","\n            ",690],["T_IF","if",691],["T_WHITESPACE"," ",691],"(","!",["T_VARIABLE","$instance",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","requiresKeys",691],"(",["T_VARIABLE","$meta",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","config",691],"(",")",")",")",["T_WHITESPACE"," ",691],"{",["T_WHITESPACE","\n                ",691],["T_CONTINUE","continue",692],";",["T_WHITESPACE","\n            ",692],"}",["T_WHITESPACE","\n\n            ",693],["T_VARIABLE","$source",695],["T_WHITESPACE"," ",695],"=",["T_WHITESPACE"," ",695],["T_VARIABLE","$instance",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","source",695],"(",")",";",["T_WHITESPACE","\n            ",695],["T_VARIABLE","$keys",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_VARIABLE","$instance",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","type",696],"(",")",["T_WHITESPACE"," ",696],["T_IS_IDENTICAL","===",696],["T_WHITESPACE"," ",696],["T_STRING","Association",696],["T_DOUBLE_COLON","::",696],["T_STRING","MANY_TO_ONE",696],["T_WHITESPACE"," ",696],"?",["T_WHITESPACE","\n                ",696],["T_ARRAY_CAST","(array)",697],["T_VARIABLE","$instance",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","foreignKey",697],"(",")",["T_WHITESPACE"," ",697],":",["T_WHITESPACE","\n                ",697],["T_ARRAY_CAST","(array)",698],["T_VARIABLE","$instance",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","bindingKey",698],"(",")",";",["T_WHITESPACE","\n\n            ",698],["T_VARIABLE","$alias",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_VARIABLE","$source",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","alias",700],"(",")",";",["T_WHITESPACE","\n            ",700],["T_VARIABLE","$pkFields",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],"[","]",";",["T_WHITESPACE","\n            ",701],["T_FOREACH","foreach",702],["T_WHITESPACE"," ",702],"(",["T_VARIABLE","$keys",702],["T_WHITESPACE"," ",702],["T_AS","as",702],["T_WHITESPACE"," ",702],["T_VARIABLE","$key",702],")",["T_WHITESPACE"," ",702],"{",["T_WHITESPACE","\n                ",702],["T_VARIABLE","$pkFields",703],"[","]",["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_STRING","key",703],"(",["T_VARIABLE","$query",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","aliasField",703],"(",["T_VARIABLE","$key",703],",",["T_WHITESPACE"," ",703],["T_VARIABLE","$alias",703],")",")",";",["T_WHITESPACE","\n            ",703],"}",["T_WHITESPACE","\n            ",704],["T_VARIABLE","$collectKeys",705],"[",["T_VARIABLE","$meta",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","aliasPath",705],"(",")","]",["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],"[",["T_VARIABLE","$alias",705],",",["T_WHITESPACE"," ",705],["T_VARIABLE","$pkFields",705],",",["T_WHITESPACE"," ",705],["T_STRING","count",705],"(",["T_VARIABLE","$pkFields",705],")",["T_WHITESPACE"," ",705],["T_IS_IDENTICAL","===",705],["T_WHITESPACE"," ",705],["T_LNUMBER","1",705],"]",";",["T_WHITESPACE","\n        ",705],"}",["T_WHITESPACE","\n\n        ",706],["T_IF","if",708],["T_WHITESPACE"," ",708],"(",["T_EMPTY","empty",708],"(",["T_VARIABLE","$collectKeys",708],")",")",["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n            ",708],["T_RETURN","return",709],["T_WHITESPACE"," ",709],"[","[","]",",",["T_WHITESPACE"," ",709],["T_VARIABLE","$statement",709],"]",";",["T_WHITESPACE","\n        ",709],"}",["T_WHITESPACE","\n\n        ",710],["T_IF","if",712],["T_WHITESPACE"," ",712],"(","!","(",["T_VARIABLE","$statement",712],["T_WHITESPACE"," ",712],["T_INSTANCEOF","instanceof",712],["T_WHITESPACE"," ",712],["T_STRING","BufferedStatement",712],")",")",["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n            ",712],["T_VARIABLE","$statement",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_NEW","new",713],["T_WHITESPACE"," ",713],["T_STRING","BufferedStatement",713],"(",["T_VARIABLE","$statement",713],",",["T_WHITESPACE"," ",713],["T_VARIABLE","$query",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","connection",713],"(",")",["T_OBJECT_OPERATOR","->",713],["T_STRING","driver",713],"(",")",")",";",["T_WHITESPACE","\n        ",713],"}",["T_WHITESPACE","\n\n        ",714],["T_RETURN","return",716],["T_WHITESPACE"," ",716],"[",["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","_groupKeys",716],"(",["T_VARIABLE","$statement",716],",",["T_WHITESPACE"," ",716],["T_VARIABLE","$collectKeys",716],")",",",["T_WHITESPACE"," ",716],["T_VARIABLE","$statement",716],"]",";",["T_WHITESPACE","\n    ",716],"}",["T_WHITESPACE","\n\n    ",717],["T_DOC_COMMENT","\/**\n     * Helper function used to iterate a statement and extract the columns\n     * defined in $collectKeys\n     *\n     * @param \\Cake\\Database\\StatementInterface $statement The statement to read from.\n     * @param array $collectKeys The keys to collect\n     * @return array\n     *\/",719],["T_WHITESPACE","\n    ",726],["T_PROTECTED","protected",727],["T_WHITESPACE"," ",727],["T_FUNCTION","function",727],["T_WHITESPACE"," ",727],["T_STRING","_groupKeys",727],"(",["T_VARIABLE","$statement",727],",",["T_WHITESPACE"," ",727],["T_VARIABLE","$collectKeys",727],")",["T_WHITESPACE","\n    ",727],"{",["T_WHITESPACE","\n        ",728],["T_VARIABLE","$keys",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],"[","]",";",["T_WHITESPACE","\n        ",729],["T_WHILE","while",730],["T_WHITESPACE"," ",730],"(",["T_VARIABLE","$result",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_VARIABLE","$statement",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","fetch",730],"(",["T_CONSTANT_ENCAPSED_STRING","'assoc'",730],")",")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n            ",730],["T_FOREACH","foreach",731],["T_WHITESPACE"," ",731],"(",["T_VARIABLE","$collectKeys",731],["T_WHITESPACE"," ",731],["T_AS","as",731],["T_WHITESPACE"," ",731],["T_VARIABLE","$nestKey",731],["T_WHITESPACE"," ",731],["T_DOUBLE_ARROW","=>",731],["T_WHITESPACE"," ",731],["T_VARIABLE","$parts",731],")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n                ",731],["T_COMMENT","\/\/ Missed joins will have null in the results.\n",732],["T_WHITESPACE","                ",733],["T_IF","if",733],["T_WHITESPACE"," ",733],"(",["T_VARIABLE","$parts",733],"[",["T_LNUMBER","2",733],"]",["T_WHITESPACE"," ",733],["T_IS_IDENTICAL","===",733],["T_WHITESPACE"," ",733],["T_STRING","true",733],["T_WHITESPACE"," ",733],["T_BOOLEAN_AND","&&",733],["T_WHITESPACE"," ",733],"!",["T_ISSET","isset",733],"(",["T_VARIABLE","$result",733],"[",["T_VARIABLE","$parts",733],"[",["T_LNUMBER","1",733],"]","[",["T_LNUMBER","0",733],"]","]",")",")",["T_WHITESPACE"," ",733],"{",["T_WHITESPACE","\n                    ",733],["T_CONTINUE","continue",734],";",["T_WHITESPACE","\n                ",734],"}",["T_WHITESPACE","\n                ",735],["T_IF","if",736],["T_WHITESPACE"," ",736],"(",["T_VARIABLE","$parts",736],"[",["T_LNUMBER","2",736],"]",["T_WHITESPACE"," ",736],["T_IS_IDENTICAL","===",736],["T_WHITESPACE"," ",736],["T_STRING","true",736],")",["T_WHITESPACE"," ",736],"{",["T_WHITESPACE","\n                    ",736],["T_VARIABLE","$value",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$result",737],"[",["T_VARIABLE","$parts",737],"[",["T_LNUMBER","1",737],"]","[",["T_LNUMBER","0",737],"]","]",";",["T_WHITESPACE","\n                    ",737],["T_VARIABLE","$keys",738],"[",["T_VARIABLE","$nestKey",738],"]","[",["T_VARIABLE","$parts",738],"[",["T_LNUMBER","0",738],"]","]","[",["T_VARIABLE","$value",738],"]",["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_VARIABLE","$value",738],";",["T_WHITESPACE","\n                    ",738],["T_CONTINUE","continue",739],";",["T_WHITESPACE","\n                ",739],"}",["T_WHITESPACE","\n\n                ",740],["T_COMMENT","\/\/ Handle composite keys.\n",742],["T_WHITESPACE","                ",743],["T_VARIABLE","$collected",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],"[","]",";",["T_WHITESPACE","\n                ",743],["T_FOREACH","foreach",744],["T_WHITESPACE"," ",744],"(",["T_VARIABLE","$parts",744],"[",["T_LNUMBER","1",744],"]",["T_WHITESPACE"," ",744],["T_AS","as",744],["T_WHITESPACE"," ",744],["T_VARIABLE","$key",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n                    ",744],["T_VARIABLE","$collected",745],"[","]",["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_VARIABLE","$result",745],"[",["T_VARIABLE","$key",745],"]",";",["T_WHITESPACE","\n                ",745],"}",["T_WHITESPACE","\n                ",746],["T_VARIABLE","$keys",747],"[",["T_VARIABLE","$nestKey",747],"]","[",["T_VARIABLE","$parts",747],"[",["T_LNUMBER","0",747],"]","]","[",["T_STRING","implode",747],"(",["T_CONSTANT_ENCAPSED_STRING","';'",747],",",["T_WHITESPACE"," ",747],["T_VARIABLE","$collected",747],")","]",["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_VARIABLE","$collected",747],";",["T_WHITESPACE","\n            ",747],"}",["T_WHITESPACE","\n        ",748],"}",["T_WHITESPACE","\n\n        ",749],["T_VARIABLE","$statement",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","rewind",751],"(",")",";",["T_WHITESPACE","\n\n        ",751],["T_RETURN","return",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$keys",753],";",["T_WHITESPACE","\n    ",753],"}",["T_WHITESPACE","\n",754],"}",["T_WHITESPACE","\n",755]]