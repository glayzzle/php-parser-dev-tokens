[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @since         1.2.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",13],["T_NAMESPACE","namespace",14],["T_WHITESPACE"," ",14],["T_STRING","Cake",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestSuite",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Fixture",14],";",["T_WHITESPACE","\n\n",14],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Cake",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_WHITESPACE"," ",16],["T_AS","as",16],["T_WHITESPACE"," ",16],["T_STRING","CakeException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Cake",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Database",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Schema",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Table",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Cake",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Datasource",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ConnectionInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Datasource",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ConnectionManager",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Datasource",20],["T_NS_SEPARATOR","\\",20],["T_STRING","FixtureInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Datasource",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TableSchemaInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Cake",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Log",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Log",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Cake",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ORM",23],["T_NS_SEPARATOR","\\",23],["T_STRING","TableRegistry",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Cake",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Utility",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Inflector",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Exception",25],";",["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Cake TestFixture is responsible for building and destroying tables to be used\n * during testing.\n *\/",27],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","TestFixture",31],["T_WHITESPACE"," ",31],["T_IMPLEMENTS","implements",31],["T_WHITESPACE"," ",31],["T_STRING","FixtureInterface",31],",",["T_WHITESPACE"," ",31],["T_STRING","TableSchemaInterface",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Fixture Datasource\n     *\n     * @var string\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$connection",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'test'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Full Table Name\n     *\n     * @var string\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$table",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","null",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Fields \/ Schema for the fixture.\n     *\n     * This array should be compatible with Cake\\Database\\Schema\\Table.\n     * The `_constraints`, `_options` and `_indexes` keys are reserved for defining\n     * constraints, options and indexes respectively.\n     *\n     * @var array\n     *\/",48],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$fields",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"[","]",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Configuration for importing fixture schema\n     *\n     * Accepts a `connection` and `model` or `table` key, to define\n     * which table and which connection contain the schema to be\n     * imported.\n     *\n     * @var array|null\n     *\/",59],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$import",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Fixture records to be inserted.\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$records",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * The Cake\\Database\\Schema\\Table for this fixture.\n     *\n     * @var \\Cake\\Database\\Schema\\Table\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_schema",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Fixture constraints to be created.\n     *\n     * @var array\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$_constraints",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[","]",";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Instantiate the fixture.\n     *\n     * @throws \\Cake\\Core\\Exception\\Exception on invalid datasource usage.\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","__construct",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_EMPTY","empty",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","connection",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$connection",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","connection",99],";",["T_WHITESPACE","\n            ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_STRING","strpos",100],"(",["T_VARIABLE","$connection",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'test'",100],")",["T_WHITESPACE"," ",100],["T_IS_NOT_IDENTICAL","!==",100],["T_WHITESPACE"," ",100],["T_LNUMBER","0",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$message",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","sprintf",101],"(",["T_WHITESPACE","\n                    ",101],["T_CONSTANT_ENCAPSED_STRING","'Invalid datasource name \"%s\" for \"%s\" fixture. Fixture datasource names must begin with \"test\".'",102],",",["T_WHITESPACE","\n                    ",102],["T_VARIABLE","$connection",103],",",["T_WHITESPACE","\n                    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","table",104],["T_WHITESPACE","\n                ",104],")",";",["T_WHITESPACE","\n                ",105],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","CakeException",106],"(",["T_VARIABLE","$message",106],")",";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","init",109],"(",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",112],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","connection",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","connection",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","sourceName",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","table",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Initialize the fixture.\n     *\n     * @return void\n     * @throws \\Cake\\ORM\\Exception\\MissingTableClassException When importing from a table that does not exist.\n     *\/",128],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","init",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","table",136],["T_WHITESPACE"," ",136],["T_IS_IDENTICAL","===",136],["T_WHITESPACE"," ",136],["T_STRING","null",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","table",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_tableFromClass",137],"(",")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n\n        ",138],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_EMPTY","empty",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","import",140],")",["T_WHITESPACE"," ",140],["T_BOOLEAN_AND","&&",140],["T_WHITESPACE"," ",140],"!",["T_EMPTY","empty",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","fields",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_schemaFromFields",141],"(",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_EMPTY","empty",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","import",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_schemaFromImport",145],"(",")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_EMPTY","empty",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","import",148],")",["T_WHITESPACE"," ",148],["T_BOOLEAN_AND","&&",148],["T_WHITESPACE"," ",148],["T_EMPTY","empty",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","fields",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_schemaFromReflection",149],"(",")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Returns the table name using the fixture class\n     *\n     * @return string\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","_tableFromClass",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_LIST","list",160],"(",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$class",160],")",["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","namespaceSplit",160],"(",["T_STRING","get_class",160],"(",["T_VARIABLE","$this",160],")",")",";",["T_WHITESPACE","\n        ",160],["T_STRING","preg_match",161],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(.*)Fixture$\/'",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$class",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$matches",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$table",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$class",162],";",["T_WHITESPACE","\n\n        ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_ISSET","isset",164],"(",["T_VARIABLE","$matches",164],"[",["T_LNUMBER","1",164],"]",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$table",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$matches",165],"[",["T_LNUMBER","1",165],"]",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n\n        ",166],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_STRING","Inflector",168],["T_DOUBLE_COLON","::",168],["T_STRING","tableize",168],"(",["T_VARIABLE","$table",168],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Build the fixtures table schema from the fields property.\n     *\n     * @return void\n     *\/",171],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","_schemaFromFields",176],"(",")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$connection",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","ConnectionManager",178],["T_DOUBLE_COLON","::",178],["T_STRING","get",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","connection",178],"(",")",")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_schema",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_STRING","Table",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","table",179],")",";",["T_WHITESPACE","\n        ",179],["T_FOREACH","foreach",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","fields",180],["T_WHITESPACE"," ",180],["T_AS","as",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$field",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$data",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$field",181],["T_WHITESPACE"," ",181],["T_IS_IDENTICAL","===",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'_constraints'",181],["T_WHITESPACE"," ",181],["T_BOOLEAN_OR","||",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$field",181],["T_WHITESPACE"," ",181],["T_IS_IDENTICAL","===",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'_indexes'",181],["T_WHITESPACE"," ",181],["T_BOOLEAN_OR","||",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$field",181],["T_WHITESPACE"," ",181],["T_IS_IDENTICAL","===",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'_options'",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_CONTINUE","continue",182],";",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_schema",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","addColumn",184],"(",["T_VARIABLE","$field",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$data",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_EMPTY","empty",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","fields",186],"[",["T_CONSTANT_ENCAPSED_STRING","'_constraints'",186],"]",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","fields",187],"[",["T_CONSTANT_ENCAPSED_STRING","'_constraints'",187],"]",["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$name",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$data",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_VARIABLE","$connection",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","supportsDynamicConstraints",188],"(",")",["T_WHITESPACE"," ",188],["T_BOOLEAN_OR","||",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$data",188],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",188],"]",["T_WHITESPACE"," ",188],["T_IS_NOT_IDENTICAL","!==",188],["T_WHITESPACE"," ",188],["T_STRING","Table",188],["T_DOUBLE_COLON","::",188],["T_STRING","CONSTRAINT_FOREIGN",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_schema",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addConstraint",189],"(",["T_VARIABLE","$name",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$data",189],")",";",["T_WHITESPACE","\n                ",189],"}",["T_WHITESPACE"," ",190],["T_ELSE","else",190],["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_constraints",191],"[",["T_VARIABLE","$name",191],"]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$data",191],";",["T_WHITESPACE","\n                ",191],"}",["T_WHITESPACE","\n            ",192],"}",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_EMPTY","empty",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","fields",195],"[",["T_CONSTANT_ENCAPSED_STRING","'_indexes'",195],"]",")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","fields",196],"[",["T_CONSTANT_ENCAPSED_STRING","'_indexes'",196],"]",["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$name",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$data",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_schema",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","addIndex",197],"(",["T_VARIABLE","$name",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$data",197],")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","!",["T_EMPTY","empty",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","fields",200],"[",["T_CONSTANT_ENCAPSED_STRING","'_options'",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_schema",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","options",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","fields",201],"[",["T_CONSTANT_ENCAPSED_STRING","'_options'",201],"]",")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Build fixture schema from a table in another datasource.\n     *\n     * @return void\n     * @throws \\Cake\\Core\\Exception\\Exception when trying to import from an empty table.\n     *\/",205],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","_schemaFromImport",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(","!",["T_STRING","is_array",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","import",213],")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_RETURN","return",214],";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$import",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","import",216],["T_WHITESPACE"," ",216],"+",["T_WHITESPACE"," ",216],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'default'",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'table'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_STRING","null",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'model'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_STRING","null",216],"]",";",["T_WHITESPACE","\n\n        ",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_EMPTY","empty",218],"(",["T_VARIABLE","$import",218],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",218],"]",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_EMPTY","empty",219],"(",["T_VARIABLE","$import",219],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",219],"]",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_THROW","throw",220],["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","CakeException",220],"(",["T_CONSTANT_ENCAPSED_STRING","'You cannot define both table and model.'",220],")",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$import",222],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",222],"]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","TableRegistry",222],["T_DOUBLE_COLON","::",222],["T_STRING","get",222],"(",["T_VARIABLE","$import",222],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",222],"]",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","table",222],"(",")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n\n        ",223],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_EMPTY","empty",225],"(",["T_VARIABLE","$import",225],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",225],"]",")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_THROW","throw",226],["T_WHITESPACE"," ",226],["T_NEW","new",226],["T_WHITESPACE"," ",226],["T_STRING","CakeException",226],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot import from undefined table.'",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","table",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$import",229],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",229],"]",";",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$db",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","ConnectionManager",231],["T_DOUBLE_COLON","::",231],["T_STRING","get",231],"(",["T_VARIABLE","$import",231],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",231],"]",",",["T_WHITESPACE"," ",231],["T_STRING","false",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$schemaCollection",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$db",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","schemaCollection",232],"(",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$table",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$schemaCollection",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","describe",233],"(",["T_VARIABLE","$import",233],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",233],"]",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_schema",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$table",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Build fixture schema directly from the datasource\n     *\n     * @return void\n     * @throws \\Cake\\Core\\Exception\\Exception when trying to reflect a table that does not exist\n     *\/",237],["T_WHITESPACE","\n    ",242],["T_PROTECTED","protected",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","_schemaFromReflection",243],"(",")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$db",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","ConnectionManager",245],["T_DOUBLE_COLON","::",245],["T_STRING","get",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","connection",245],"(",")",")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$schemaCollection",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$db",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","schemaCollection",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$tables",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$schemaCollection",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","listTables",247],"(",")",";",["T_WHITESPACE","\n\n        ",247],["T_IF","if",249],["T_WHITESPACE"," ",249],"(","!",["T_STRING","in_array",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","table",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$tables",249],")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_THROW","throw",250],["T_WHITESPACE"," ",250],["T_NEW","new",250],["T_WHITESPACE"," ",250],["T_STRING","CakeException",250],"(",["T_WHITESPACE","\n                ",250],["T_STRING","sprintf",251],"(",["T_WHITESPACE","\n                    ",251],["T_CONSTANT_ENCAPSED_STRING","'Cannot describe schema for table `%s` for fixture `%s` : the table does not exist.'",252],",",["T_WHITESPACE","\n                    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","table",253],",",["T_WHITESPACE","\n                    ",253],["T_STRING","get_class",254],"(",["T_VARIABLE","$this",254],")",["T_WHITESPACE","\n                ",254],")",["T_WHITESPACE","\n            ",255],")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n\n        ",257],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_schema",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$schemaCollection",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","describe",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","table",259],")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Get\/Set the Cake\\Database\\Schema\\Table instance used by this fixture.\n     *\n     * @param \\Cake\\Database\\Schema\\Table|null $schema The table to set.\n     * @return \\Cake\\Database\\Schema\\Table|null\n     *\/",262],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","schema",268],"(",["T_STRING","Table",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$schema",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","null",268],")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$schema",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_schema",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$schema",271],";",["T_WHITESPACE","\n\n            ",271],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_STRING","null",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_schema",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",279],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","create",282],"(",["T_STRING","ConnectionInterface",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$db",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_EMPTY","empty",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_schema",284],")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_STRING","false",285],";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n\n        ",286],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_EMPTY","empty",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","import",288],")",["T_WHITESPACE"," ",288],["T_BOOLEAN_AND","&&",288],["T_WHITESPACE"," ",288],["T_EMPTY","empty",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","fields",288],")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_STRING","true",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n\n        ",290],["T_TRY","try",292],["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$queries",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_schema",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","createSql",293],"(",["T_VARIABLE","$db",293],")",";",["T_WHITESPACE","\n            ",293],["T_FOREACH","foreach",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$queries",294],["T_WHITESPACE"," ",294],["T_AS","as",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$query",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$stmt",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$db",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","prepare",295],"(",["T_VARIABLE","$query",295],")",";",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$stmt",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","execute",296],"(",")",";",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$stmt",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","closeCursor",297],"(",")",";",["T_WHITESPACE","\n            ",297],"}",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE"," ",299],["T_CATCH","catch",299],["T_WHITESPACE"," ",299],"(",["T_STRING","Exception",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$e",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$msg",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_STRING","sprintf",300],"(",["T_WHITESPACE","\n                ",300],["T_CONSTANT_ENCAPSED_STRING","'Fixture creation for \"%s\" failed \"%s\"'",301],",",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","table",302],",",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$e",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getMessage",303],"(",")",["T_WHITESPACE","\n            ",303],")",";",["T_WHITESPACE","\n            ",304],["T_STRING","Log",305],["T_DOUBLE_COLON","::",305],["T_STRING","error",305],"(",["T_VARIABLE","$msg",305],")",";",["T_WHITESPACE","\n            ",305],["T_STRING","trigger_error",306],"(",["T_VARIABLE","$msg",306],",",["T_WHITESPACE"," ",306],["T_STRING","E_USER_WARNING",306],")",";",["T_WHITESPACE","\n\n            ",306],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_STRING","false",308],";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n\n        ",309],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_STRING","true",311],";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",314],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","drop",317],"(",["T_STRING","ConnectionInterface",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$db",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_EMPTY","empty",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_schema",319],")",")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_STRING","false",320],";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_EMPTY","empty",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","import",323],")",["T_WHITESPACE"," ",323],["T_BOOLEAN_AND","&&",323],["T_WHITESPACE"," ",323],["T_EMPTY","empty",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","fields",323],")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_STRING","true",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_TRY","try",327],["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$sql",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_schema",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","dropSql",328],"(",["T_VARIABLE","$db",328],")",";",["T_WHITESPACE","\n            ",328],["T_FOREACH","foreach",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$sql",329],["T_WHITESPACE"," ",329],["T_AS","as",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$stmt",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n                ",329],["T_VARIABLE","$db",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","execute",330],"(",["T_VARIABLE","$stmt",330],")",["T_OBJECT_OPERATOR","->",330],["T_STRING","closeCursor",330],"(",")",";",["T_WHITESPACE","\n            ",330],"}",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE"," ",332],["T_CATCH","catch",332],["T_WHITESPACE"," ",332],"(",["T_STRING","Exception",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$e",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_STRING","false",333],";",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n\n        ",334],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_STRING","true",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",339],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","insert",342],"(",["T_STRING","ConnectionInterface",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$db",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_ISSET","isset",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","records",344],")",["T_WHITESPACE"," ",344],["T_BOOLEAN_AND","&&",344],["T_WHITESPACE"," ",344],"!",["T_EMPTY","empty",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","records",344],")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_LIST","list",345],"(",["T_VARIABLE","$fields",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$values",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$types",345],")",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_getRecords",345],"(",")",";",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$query",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$db",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","newQuery",346],"(",")",["T_WHITESPACE","\n                ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","insert",347],"(",["T_VARIABLE","$fields",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$types",347],")",["T_WHITESPACE","\n                ",347],["T_OBJECT_OPERATOR","->",348],["T_STRING","into",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","table",348],")",";",["T_WHITESPACE","\n\n            ",348],["T_FOREACH","foreach",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$values",350],["T_WHITESPACE"," ",350],["T_AS","as",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$row",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$query",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","values",351],"(",["T_VARIABLE","$row",351],")",";",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$statement",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$query",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","execute",353],"(",")",";",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$statement",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","closeCursor",354],"(",")",";",["T_WHITESPACE","\n\n            ",354],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$statement",356],";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n\n        ",357],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_STRING","true",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",362],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","createConstraints",365],"(",["T_STRING","ConnectionInterface",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$db",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_EMPTY","empty",367],"(",["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_constraints",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_STRING","true",368],";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n\n        ",369],["T_FOREACH","foreach",371],["T_WHITESPACE"," ",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_constraints",371],["T_WHITESPACE"," ",371],["T_AS","as",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$name",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$data",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_schema",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","addConstraint",372],"(",["T_VARIABLE","$name",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$data",372],")",";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n\n        ",373],["T_VARIABLE","$sql",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_schema",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","addConstraintSql",375],"(",["T_VARIABLE","$db",375],")",";",["T_WHITESPACE","\n\n        ",375],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_EMPTY","empty",377],"(",["T_VARIABLE","$sql",377],")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_STRING","true",378],";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_FOREACH","foreach",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$sql",381],["T_WHITESPACE"," ",381],["T_AS","as",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$stmt",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_VARIABLE","$db",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","execute",382],"(",["T_VARIABLE","$stmt",382],")",["T_OBJECT_OPERATOR","->",382],["T_STRING","closeCursor",382],"(",")",";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_RETURN","return",385],["T_WHITESPACE"," ",385],["T_STRING","true",385],";",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n\n    ",386],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",388],["T_WHITESPACE","\n    ",390],["T_PUBLIC","public",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","dropConstraints",391],"(",["T_STRING","ConnectionInterface",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$db",391],")",["T_WHITESPACE","\n    ",391],"{",["T_WHITESPACE","\n        ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_EMPTY","empty",393],"(",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_constraints",393],")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_STRING","true",394],";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$sql",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_schema",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","dropConstraintSql",397],"(",["T_VARIABLE","$db",397],")",";",["T_WHITESPACE","\n\n        ",397],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_EMPTY","empty",399],"(",["T_VARIABLE","$sql",399],")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n            ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_STRING","true",400],";",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n\n        ",401],["T_FOREACH","foreach",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$sql",403],["T_WHITESPACE"," ",403],["T_AS","as",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$stmt",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_VARIABLE","$db",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","execute",404],"(",["T_VARIABLE","$stmt",404],")",["T_OBJECT_OPERATOR","->",404],["T_STRING","closeCursor",404],"(",")",";",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE","\n\n        ",405],["T_FOREACH","foreach",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_constraints",407],["T_WHITESPACE"," ",407],["T_AS","as",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$name",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$data",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_schema",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","dropConstraint",408],"(",["T_VARIABLE","$name",408],")",";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE","\n\n        ",409],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_STRING","true",411],";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Converts the internal records into data used to generate a query.\n     *\n     * @return array\n     *\/",414],["T_WHITESPACE","\n    ",418],["T_PROTECTED","protected",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","_getRecords",419],"(",")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$fields",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$values",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$types",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],"[","]",";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$columns",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_schema",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","columns",422],"(",")",";",["T_WHITESPACE","\n        ",422],["T_FOREACH","foreach",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","records",423],["T_WHITESPACE"," ",423],["T_AS","as",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$record",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$fields",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","array_merge",424],"(",["T_VARIABLE","$fields",424],",",["T_WHITESPACE"," ",424],["T_STRING","array_intersect",424],"(",["T_STRING","array_keys",424],"(",["T_VARIABLE","$record",424],")",",",["T_WHITESPACE"," ",424],["T_VARIABLE","$columns",424],")",")",";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$fields",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_STRING","array_values",426],"(",["T_STRING","array_unique",426],"(",["T_VARIABLE","$fields",426],")",")",";",["T_WHITESPACE","\n        ",426],["T_FOREACH","foreach",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$fields",427],["T_WHITESPACE"," ",427],["T_AS","as",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$field",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$types",428],"[",["T_VARIABLE","$field",428],"]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_schema",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","column",428],"(",["T_VARIABLE","$field",428],")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",428],"]",";",["T_WHITESPACE","\n        ",428],"}",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$default",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_STRING","array_fill_keys",430],"(",["T_VARIABLE","$fields",430],",",["T_WHITESPACE"," ",430],["T_STRING","null",430],")",";",["T_WHITESPACE","\n        ",430],["T_FOREACH","foreach",431],["T_WHITESPACE"," ",431],"(",["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","records",431],["T_WHITESPACE"," ",431],["T_AS","as",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$record",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n            ",431],["T_VARIABLE","$values",432],"[","]",["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_STRING","array_merge",432],"(",["T_VARIABLE","$default",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$record",432],")",";",["T_WHITESPACE","\n        ",432],"}",["T_WHITESPACE","\n\n        ",433],["T_RETURN","return",435],["T_WHITESPACE"," ",435],"[",["T_VARIABLE","$fields",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$values",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$types",435],"]",";",["T_WHITESPACE","\n    ",435],"}",["T_WHITESPACE","\n\n    ",436],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",438],["T_WHITESPACE","\n    ",440],["T_PUBLIC","public",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","truncate",441],"(",["T_STRING","ConnectionInterface",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$db",441],")",["T_WHITESPACE","\n    ",441],"{",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$sql",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_schema",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","truncateSql",443],"(",["T_VARIABLE","$db",443],")",";",["T_WHITESPACE","\n        ",443],["T_FOREACH","foreach",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$sql",444],["T_WHITESPACE"," ",444],["T_AS","as",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$stmt",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$db",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","execute",445],"(",["T_VARIABLE","$stmt",445],")",["T_OBJECT_OPERATOR","->",445],["T_STRING","closeCursor",445],"(",")",";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE","\n\n        ",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_STRING","true",448],";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n",449],"}",["T_WHITESPACE","\n",450]]