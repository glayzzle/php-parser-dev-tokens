[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CakePHP(tm) : Rapid Development Framework (http:\/\/cakephp.org)\n * Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n *\n * Licensed under The MIT License\n * For full copyright and license information, please see the LICENSE.txt\n * Redistributions of files must retain the above copyright notice.\n *\n * @copyright     Copyright (c) Cake Software Foundation, Inc. (http:\/\/cakefoundation.org)\n * @link          http:\/\/cakephp.org CakePHP(tm) Project\n * @since         2.0.0\n * @license       http:\/\/www.opensource.org\/licenses\/mit-license.php MIT License\n *\/",2],["T_WHITESPACE","\n",14],["T_NAMESPACE","namespace",15],["T_WHITESPACE"," ",15],["T_STRING","Cake",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Network",15],";",["T_WHITESPACE","\n\n",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","ArrayAccess",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","BadMethodCallException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Cake",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Configure",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Cake",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Network",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Exception",20],["T_NS_SEPARATOR","\\",20],["T_STRING","MethodNotAllowedException",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Cake",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Utility",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Hash",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * A class that helps wrap Request information and particulars about a single request.\n * Provides methods commonly used to introspect on the request headers and request body.\n *\n * Has both an Array and Object interface. You can access framework parameters using indexes:\n *\n * `$request['controller']` or `$request->controller`.\n *\/",23],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","Request",31],["T_WHITESPACE"," ",31],["T_IMPLEMENTS","implements",31],["T_WHITESPACE"," ",31],["T_STRING","ArrayAccess",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Array of parameters parsed from the URL.\n     *\n     * @var array\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$params",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],"[",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'plugin'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","null",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'controller'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","null",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'action'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","null",42],",",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'_ext'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_STRING","null",43],",",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'pass'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[","]",["T_WHITESPACE","\n    ",44],"]",";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Array of POST data. Will contain form data as well as uploaded files.\n     * In PUT\/PATCH\/DELETE requests this property will contain the form-urlencoded\n     * data.\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$data",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],"[","]",";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Array of querystring arguments\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$query",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[","]",";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Array of cookie data.\n     *\n     * @var array\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$cookies",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[","]",";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Array of environment data.\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_environment",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * The URL string used for the request.\n     *\n     * @var string\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$url",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Base URL path.\n     *\n     * @var string\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$base",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * webroot path segment for the request.\n     *\n     * @var string\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$webroot",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'\/'",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * The full address to the current request\n     *\n     * @var string\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$here",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Whether or not to trust HTTP_X headers set by most load balancers.\n     * Only set to true if your application runs behind load balancers\/proxies\n     * that you control.\n     *\n     * @var bool\n     *\/",105],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$trustProxy",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","false",112],";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * The built in detectors used with `is()` can be modified with `addDetector()`.\n     *\n     * There are several ways to specify a detector, see Cake\\Network\\Request::addDetector() for the\n     * various formats and ways to define detectors.\n     *\n     * @var array\n     *\/",114],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_STATIC","static",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$_detectors",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[",["T_WHITESPACE","\n        ",122],["T_CONSTANT_ENCAPSED_STRING","'get'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'value'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'GET'",123],"]",",",["T_WHITESPACE","\n        ",123],["T_CONSTANT_ENCAPSED_STRING","'post'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'value'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'POST'",124],"]",",",["T_WHITESPACE","\n        ",124],["T_CONSTANT_ENCAPSED_STRING","'put'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'value'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'PUT'",125],"]",",",["T_WHITESPACE","\n        ",125],["T_CONSTANT_ENCAPSED_STRING","'patch'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'value'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",126],"]",",",["T_WHITESPACE","\n        ",126],["T_CONSTANT_ENCAPSED_STRING","'delete'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'value'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",127],"]",",",["T_WHITESPACE","\n        ",127],["T_CONSTANT_ENCAPSED_STRING","'head'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'value'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",128],"]",",",["T_WHITESPACE","\n        ",128],["T_CONSTANT_ENCAPSED_STRING","'options'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'value'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",129],"]",",",["T_WHITESPACE","\n        ",129],["T_CONSTANT_ENCAPSED_STRING","'ssl'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'options'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],"[",["T_LNUMBER","1",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'on'",130],"]","]",",",["T_WHITESPACE","\n        ",130],["T_CONSTANT_ENCAPSED_STRING","'ajax'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'value'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",131],"]",",",["T_WHITESPACE","\n        ",131],["T_CONSTANT_ENCAPSED_STRING","'flash'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'pattern'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'\/^(Shockwave|Adobe) Flash\/'",132],"]",",",["T_WHITESPACE","\n        ",132],["T_CONSTANT_ENCAPSED_STRING","'requested'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],"[",["T_CONSTANT_ENCAPSED_STRING","'param'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'requested'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'value'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_LNUMBER","1",133],"]",",",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'json'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],"[",["T_CONSTANT_ENCAPSED_STRING","'accept'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],"[",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",134],"]",",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'param'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'_ext'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'value'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'json'",134],"]",",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'xml'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],"[",["T_CONSTANT_ENCAPSED_STRING","'accept'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],"[",["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'text\/xml'",135],"]",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'param'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'_ext'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'value'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'xml'",135],"]",",",["T_WHITESPACE","\n    ",135],"]",";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Instance cache for results of is(something) calls\n     *\n     * @var array\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_detectorCache",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[","]",";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Copy of php:\/\/input. Since this stream can only be read once in most SAPI's\n     * keep a copy of it so users don't need to know about that detail.\n     *\n     * @var string\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$_input",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","''",151],";",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Instance of a Session object relative to this request\n     *\n     * @var \\Cake\\Network\\Session\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$_session",158],";",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Wrapper method to create a new request from PHP superglobals.\n     *\n     * Uses the $_GET, $_POST, $_FILES, $_COOKIE, $_SERVER, $_ENV and php:\/\/input data to construct\n     * the request.\n     *\n     * @return \\Cake\\Network\\Request\n     *\/",160],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_STATIC","static",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","createFromGlobals",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_LIST","list",170],"(",["T_VARIABLE","$base",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$webroot",170],")",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STATIC","static",170],["T_DOUBLE_COLON","::",170],["T_STRING","_base",170],"(",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$sessionConfig",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY_CAST","(array)",171],["T_STRING","Configure",171],["T_DOUBLE_COLON","::",171],["T_STRING","read",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Session'",171],")",["T_WHITESPACE"," ",171],"+",["T_WHITESPACE"," ",171],"[",["T_WHITESPACE","\n            ",171],["T_CONSTANT_ENCAPSED_STRING","'defaults'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'php'",172],",",["T_WHITESPACE","\n            ",172],["T_CONSTANT_ENCAPSED_STRING","'cookiePath'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$webroot",173],["T_WHITESPACE","\n        ",173],"]",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$config",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],"[",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'query'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$_GET",177],",",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'post'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$_POST",178],",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'files'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$_FILES",179],",",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'cookies'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$_COOKIE",180],",",["T_WHITESPACE","\n            ",180],["T_CONSTANT_ENCAPSED_STRING","'environment'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$_SERVER",181],["T_WHITESPACE"," ",181],"+",["T_WHITESPACE"," ",181],["T_VARIABLE","$_ENV",181],",",["T_WHITESPACE","\n            ",181],["T_CONSTANT_ENCAPSED_STRING","'base'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$base",182],",",["T_WHITESPACE","\n            ",182],["T_CONSTANT_ENCAPSED_STRING","'webroot'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$webroot",183],",",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'session'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_STRING","Session",184],["T_DOUBLE_COLON","::",184],["T_STRING","create",184],"(",["T_VARIABLE","$sessionConfig",184],")",["T_WHITESPACE","\n        ",184],"]",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$config",186],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STATIC","static",186],["T_DOUBLE_COLON","::",186],["T_STRING","_url",186],"(",["T_VARIABLE","$config",186],")",";",["T_WHITESPACE","\n\n        ",186],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_NEW","new",188],["T_WHITESPACE"," ",188],["T_STATIC","static",188],"(",["T_VARIABLE","$config",188],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * Create a new request object.\n     *\n     * You can supply the data as either an array or as a string.  If you use\n     * a string you can only supply the URL for the request.  Using an array will\n     * let you provide the following keys:\n     *\n     * - `post` POST data or non query string data\n     * - `query` Additional data from the query string.\n     * - `files` Uploaded file data formatted like $_FILES.\n     * - `cookies` Cookies for this request.\n     * - `environment` $_SERVER and $_ENV data.\n     * - `url` The URL without the base path for the request.\n     * - `base` The base URL for the request.\n     * - `webroot` The webroot directory for the request.\n     * - `input` The data that would come from php:\/\/input this is useful for simulating\n     * - `session` An instance of a Session object\n     *   requests with put, patch or delete data.\n     *\n     * @param string|array $config An array of request data to create a request with.\n     *\/",191],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","__construct",212],"(",["T_VARIABLE","$config",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],"[","]",")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_STRING","is_string",214],"(",["T_VARIABLE","$config",214],")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$config",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$config",215],"]",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$config",217],["T_WHITESPACE"," ",217],["T_PLUS_EQUAL","+=",217],["T_WHITESPACE"," ",217],"[",["T_WHITESPACE","\n            ",217],["T_CONSTANT_ENCAPSED_STRING","'params'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","params",218],",",["T_WHITESPACE","\n            ",218],["T_CONSTANT_ENCAPSED_STRING","'query'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],"[","]",",",["T_WHITESPACE","\n            ",219],["T_CONSTANT_ENCAPSED_STRING","'post'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],"[","]",",",["T_WHITESPACE","\n            ",220],["T_CONSTANT_ENCAPSED_STRING","'files'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],"[","]",",",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'cookies'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],"[","]",",",["T_WHITESPACE","\n            ",222],["T_CONSTANT_ENCAPSED_STRING","'environment'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],"[","]",",",["T_WHITESPACE","\n            ",223],["T_CONSTANT_ENCAPSED_STRING","'url'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","''",224],",",["T_WHITESPACE","\n            ",224],["T_CONSTANT_ENCAPSED_STRING","'base'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","''",225],",",["T_WHITESPACE","\n            ",225],["T_CONSTANT_ENCAPSED_STRING","'webroot'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","''",226],",",["T_WHITESPACE","\n            ",226],["T_CONSTANT_ENCAPSED_STRING","'input'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_STRING","null",227],",",["T_WHITESPACE","\n        ",227],"]",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_setConfig",230],"(",["T_VARIABLE","$config",230],")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Process the config\/settings data into properties.\n     *\n     * @param array $config The config data to use.\n     * @return void\n     *\/",233],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","_setConfig",239],"(",["T_VARIABLE","$config",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(","!",["T_EMPTY","empty",241],"(",["T_VARIABLE","$config",241],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",241],"]",")",["T_WHITESPACE"," ",241],["T_BOOLEAN_AND","&&",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$config",241],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",241],"]","[",["T_LNUMBER","0",241],"]",["T_WHITESPACE"," ",241],["T_IS_IDENTICAL","===",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'\/'",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$config",242],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","substr",242],"(",["T_VARIABLE","$config",242],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",242],"]",",",["T_WHITESPACE"," ",242],["T_LNUMBER","1",242],")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_EMPTY","empty",245],"(",["T_VARIABLE","$config",245],"[",["T_CONSTANT_ENCAPSED_STRING","'session'",245],"]",")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$config",246],"[",["T_CONSTANT_ENCAPSED_STRING","'session'",246],"]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","Session",246],"(","[",["T_WHITESPACE","\n                ",246],["T_CONSTANT_ENCAPSED_STRING","'cookiePath'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$config",247],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",247],"]",["T_WHITESPACE","\n            ",247],"]",")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","url",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$config",251],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",251],"]",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","base",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$config",252],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",252],"]",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","cookies",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$config",253],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",253],"]",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","here",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","base",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'\/'",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","url",254],";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","webroot",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$config",255],"[",["T_CONSTANT_ENCAPSED_STRING","'webroot'",255],"]",";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_environment",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$config",257],"[",["T_CONSTANT_ENCAPSED_STRING","'environment'",257],"]",";",["T_WHITESPACE","\n        ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_ISSET","isset",258],"(",["T_VARIABLE","$config",258],"[",["T_CONSTANT_ENCAPSED_STRING","'input'",258],"]",")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_input",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$config",259],"[",["T_CONSTANT_ENCAPSED_STRING","'input'",259],"]",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$config",261],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",261],"]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_processPost",261],"(",["T_VARIABLE","$config",261],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",261],"]",")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","data",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_processFiles",262],"(",["T_VARIABLE","$config",262],"[",["T_CONSTANT_ENCAPSED_STRING","'post'",262],"]",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$config",262],"[",["T_CONSTANT_ENCAPSED_STRING","'files'",262],"]",")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","query",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_processGet",263],"(",["T_VARIABLE","$config",263],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",263],"]",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","params",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$config",264],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",264],"]",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_session",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$config",265],"[",["T_CONSTANT_ENCAPSED_STRING","'session'",265],"]",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Sets the REQUEST_METHOD environment variable based on the simulated _method\n     * HTTP override value. The 'ORIGINAL_REQUEST_METHOD' is also preserved, if you\n     * want the read the non-simulated HTTP method the client used.\n     *\n     * @param array $data Array of post data.\n     * @return array\n     *\/",268],["T_WHITESPACE","\n    ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","_processPost",276],"(",["T_VARIABLE","$data",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$method",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","env",278],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$override",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","false",279],";",["T_WHITESPACE","\n\n        ",279],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_STRING","in_array",281],"(",["T_VARIABLE","$method",281],",",["T_WHITESPACE"," ",281],"[",["T_CONSTANT_ENCAPSED_STRING","'PUT'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",281],"]",")",["T_WHITESPACE"," ",281],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE","\n            ",281],["T_STRING","strpos",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","contentType",282],"(",")",",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded'",282],")",["T_WHITESPACE"," ",282],["T_IS_IDENTICAL","===",282],["T_WHITESPACE"," ",282],["T_LNUMBER","0",282],["T_WHITESPACE","\n        ",282],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$data",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","input",284],"(",")",";",["T_WHITESPACE","\n            ",284],["T_STRING","parse_str",285],"(",["T_VARIABLE","$data",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$data",285],")",";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n        ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","env",287],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_HTTP_METHOD_OVERRIDE'",287],")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$data",288],"[",["T_CONSTANT_ENCAPSED_STRING","'_method'",288],"]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","env",288],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_HTTP_METHOD_OVERRIDE'",288],")",";",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$override",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","true",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_environment",291],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIGINAL_REQUEST_METHOD'",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$method",291],";",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_ISSET","isset",292],"(",["T_VARIABLE","$data",292],"[",["T_CONSTANT_ENCAPSED_STRING","'_method'",292],"]",")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_environment",293],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$data",293],"[",["T_CONSTANT_ENCAPSED_STRING","'_method'",293],"]",";",["T_WHITESPACE","\n            ",293],["T_UNSET","unset",294],"(",["T_VARIABLE","$data",294],"[",["T_CONSTANT_ENCAPSED_STRING","'_method'",294],"]",")",";",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$override",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","true",295],";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$override",298],["T_WHITESPACE"," ",298],["T_BOOLEAN_AND","&&",298],["T_WHITESPACE"," ",298],"!",["T_STRING","in_array",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_environment",298],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",298],"]",",",["T_WHITESPACE"," ",298],"[",["T_CONSTANT_ENCAPSED_STRING","'PUT'",298],",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'POST'",298],",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",298],",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",298],"]",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$data",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],"[","]",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$data",302],";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Process the GET parameters and move things into the object.\n     *\n     * @param array $query The array to which the parsed keys\/values are being added.\n     * @return array An array containing the parsed querystring keys\/values.\n     *\/",305],["T_WHITESPACE","\n    ",310],["T_PROTECTED","protected",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","_processGet",311],"(",["T_VARIABLE","$query",311],")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$unsetUrl",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'\/'",313],["T_WHITESPACE"," ",313],".",["T_WHITESPACE"," ",313],["T_STRING","str_replace",313],"(","[",["T_CONSTANT_ENCAPSED_STRING","'.'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","' '",313],"]",",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'_'",313],",",["T_WHITESPACE"," ",313],["T_STRING","urldecode",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","url",313],")",")",";",["T_WHITESPACE","\n        ",313],["T_UNSET","unset",314],"(",["T_VARIABLE","$query",314],"[",["T_VARIABLE","$unsetUrl",314],"]",")",";",["T_WHITESPACE","\n        ",314],["T_UNSET","unset",315],"(",["T_VARIABLE","$query",315],"[",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","base",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_VARIABLE","$unsetUrl",315],"]",")",";",["T_WHITESPACE","\n        ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_STRING","strpos",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","url",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'?'",316],")",["T_WHITESPACE"," ",316],["T_IS_NOT_IDENTICAL","!==",316],["T_WHITESPACE"," ",316],["T_STRING","false",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_LIST","list",317],"(",",",["T_WHITESPACE"," ",317],["T_VARIABLE","$querystr",317],")",["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","explode",317],"(",["T_CONSTANT_ENCAPSED_STRING","'?'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","url",317],")",";",["T_WHITESPACE","\n            ",317],["T_STRING","parse_str",318],"(",["T_VARIABLE","$querystr",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$queryArgs",318],")",";",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$query",319],["T_WHITESPACE"," ",319],["T_PLUS_EQUAL","+=",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$queryArgs",319],";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n\n        ",320],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$query",322],";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_DOC_COMMENT","\/**\n     * Get the request uri. Looks in PATH_INFO first, as this is the exact value we need prepared\n     * by PHP. Following that, REQUEST_URI, PHP_SELF, HTTP_X_REWRITE_URL and argv are checked in that order.\n     * Each of these server variables have the base path, and query strings stripped off\n     *\n     * @param array $config Configuration to set.\n     * @return string URI The CakePHP request path that is being accessed.\n     *\/",325],["T_WHITESPACE","\n    ",332],["T_PROTECTED","protected",333],["T_WHITESPACE"," ",333],["T_STATIC","static",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","_url",333],"(",["T_VARIABLE","$config",333],")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_IF","if",335],["T_WHITESPACE"," ",335],"(","!",["T_EMPTY","empty",335],"(",["T_VARIABLE","$_SERVER",335],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",335],"]",")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$_SERVER",336],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",336],"]",";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n        ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_ISSET","isset",338],"(",["T_VARIABLE","$_SERVER",338],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",338],"]",")",["T_WHITESPACE"," ",338],["T_BOOLEAN_AND","&&",338],["T_WHITESPACE"," ",338],["T_STRING","strpos",338],"(",["T_VARIABLE","$_SERVER",338],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",338],"]",",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",338],")",["T_WHITESPACE"," ",338],["T_IS_IDENTICAL","===",338],["T_WHITESPACE"," ",338],["T_STRING","false",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n            ",338],["T_VARIABLE","$uri",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$_SERVER",339],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",339],"]",";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE"," ",340],["T_ELSEIF","elseif",340],["T_WHITESPACE"," ",340],"(",["T_ISSET","isset",340],"(",["T_VARIABLE","$_SERVER",340],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",340],"]",")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_VARIABLE","$uri",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$_SERVER",341],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",341],"]",";",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$fullBaseUrl",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","Configure",342],["T_DOUBLE_COLON","::",342],["T_STRING","read",342],"(",["T_CONSTANT_ENCAPSED_STRING","'App.fullBaseUrl'",342],")",";",["T_WHITESPACE","\n            ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(",["T_STRING","strpos",343],"(",["T_VARIABLE","$uri",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$fullBaseUrl",343],")",["T_WHITESPACE"," ",343],["T_IS_IDENTICAL","===",343],["T_WHITESPACE"," ",343],["T_LNUMBER","0",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$uri",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_STRING","substr",344],"(",["T_VARIABLE","$_SERVER",344],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",344],"]",",",["T_WHITESPACE"," ",344],["T_STRING","strlen",344],"(",["T_VARIABLE","$fullBaseUrl",344],")",")",";",["T_WHITESPACE","\n            ",344],"}",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE"," ",346],["T_ELSEIF","elseif",346],["T_WHITESPACE"," ",346],"(",["T_ISSET","isset",346],"(",["T_VARIABLE","$_SERVER",346],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",346],"]",",",["T_WHITESPACE"," ",346],["T_VARIABLE","$_SERVER",346],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",346],"]",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$uri",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","str_replace",347],"(",["T_VARIABLE","$_SERVER",347],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",347],"]",",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","''",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$_SERVER",347],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",347],"]",")",";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE"," ",348],["T_ELSEIF","elseif",348],["T_WHITESPACE"," ",348],"(",["T_ISSET","isset",348],"(",["T_VARIABLE","$_SERVER",348],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REWRITE_URL'",348],"]",")",")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_VARIABLE","$uri",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$_SERVER",349],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REWRITE_URL'",349],"]",";",["T_WHITESPACE","\n        ",349],"}",["T_WHITESPACE"," ",350],["T_ELSEIF","elseif",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$var",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","env",350],"(",["T_CONSTANT_ENCAPSED_STRING","'argv'",350],")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$uri",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$var",351],"[",["T_LNUMBER","0",351],"]",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_VARIABLE","$base",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$config",354],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",354],"]",";",["T_WHITESPACE","\n\n        ",354],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_STRING","strlen",356],"(",["T_VARIABLE","$base",356],")",["T_WHITESPACE"," ",356],">",["T_WHITESPACE"," ",356],["T_LNUMBER","0",356],["T_WHITESPACE"," ",356],["T_BOOLEAN_AND","&&",356],["T_WHITESPACE"," ",356],["T_STRING","strpos",356],"(",["T_VARIABLE","$uri",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$base",356],")",["T_WHITESPACE"," ",356],["T_IS_IDENTICAL","===",356],["T_WHITESPACE"," ",356],["T_LNUMBER","0",356],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$uri",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","substr",357],"(",["T_VARIABLE","$uri",357],",",["T_WHITESPACE"," ",357],["T_STRING","strlen",357],"(",["T_VARIABLE","$base",357],")",")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n        ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_STRING","strpos",359],"(",["T_VARIABLE","$uri",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'?'",359],")",["T_WHITESPACE"," ",359],["T_IS_NOT_IDENTICAL","!==",359],["T_WHITESPACE"," ",359],["T_STRING","false",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_LIST","list",360],"(",["T_VARIABLE","$uri",360],")",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","explode",360],"(",["T_CONSTANT_ENCAPSED_STRING","'?'",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$uri",360],",",["T_WHITESPACE"," ",360],["T_LNUMBER","2",360],")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n        ",361],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_EMPTY","empty",362],"(",["T_VARIABLE","$uri",362],")",["T_WHITESPACE"," ",362],["T_BOOLEAN_OR","||",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$uri",362],["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'\/'",362],["T_WHITESPACE"," ",362],["T_BOOLEAN_OR","||",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$uri",362],["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'\/\/'",362],["T_WHITESPACE"," ",362],["T_BOOLEAN_OR","||",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$uri",362],["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$uri",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'\/'",363],";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$endsWithIndex",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'\/webroot\/index.php'",365],";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$endsWithLength",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","strlen",366],"(",["T_VARIABLE","$endsWithIndex",366],")",";",["T_WHITESPACE","\n        ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_STRING","strlen",367],"(",["T_VARIABLE","$uri",367],")",["T_WHITESPACE"," ",367],["T_IS_GREATER_OR_EQUAL",">=",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$endsWithLength",367],["T_WHITESPACE"," ",367],["T_BOOLEAN_AND","&&",367],["T_WHITESPACE","\n            ",367],["T_STRING","substr",368],"(",["T_VARIABLE","$uri",368],",",["T_WHITESPACE"," ",368],"-",["T_VARIABLE","$endsWithLength",368],")",["T_WHITESPACE"," ",368],["T_IS_IDENTICAL","===",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$endsWithIndex",368],["T_WHITESPACE","\n        ",368],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$uri",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'\/'",370],";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n\n        ",371],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$uri",373],";",["T_WHITESPACE","\n    ",373],"}",["T_WHITESPACE","\n\n    ",374],["T_DOC_COMMENT","\/**\n     * Returns a base URL and sets the proper webroot\n     *\n     * If CakePHP is called with index.php in the URL even though\n     * URL Rewriting is activated (and thus not needed) it swallows\n     * the unnecessary part from $base to prevent issue #3318.\n     *\n     * @return array Base URL, webroot dir ending in \/\n     *\/",376],["T_WHITESPACE","\n    ",384],["T_PROTECTED","protected",385],["T_WHITESPACE"," ",385],["T_STATIC","static",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","_base",385],"(",")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$base",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$webroot",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$baseUrl",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_STRING","null",387],";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$config",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","Configure",388],["T_DOUBLE_COLON","::",388],["T_STRING","read",388],"(",["T_CONSTANT_ENCAPSED_STRING","'App'",388],")",";",["T_WHITESPACE","\n        ",388],["T_STRING","extract",389],"(",["T_VARIABLE","$config",389],")",";",["T_WHITESPACE","\n\n        ",389],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$base",391],["T_WHITESPACE"," ",391],["T_IS_NOT_IDENTICAL","!==",391],["T_WHITESPACE"," ",391],["T_STRING","false",391],["T_WHITESPACE"," ",391],["T_BOOLEAN_AND","&&",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$base",391],["T_WHITESPACE"," ",391],["T_IS_NOT_IDENTICAL","!==",391],["T_WHITESPACE"," ",391],["T_STRING","null",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],"[",["T_VARIABLE","$base",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$base",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'\/'",392],"]",";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n\n        ",393],["T_IF","if",395],["T_WHITESPACE"," ",395],"(","!",["T_VARIABLE","$baseUrl",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_VARIABLE","$base",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_STRING","dirname",396],"(",["T_STRING","env",396],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",396],")",")",";",["T_WHITESPACE","\n            ",396],["T_COMMENT","\/\/ Clean up additional \/ which cause following code to fail..\n",397],["T_WHITESPACE","            ",398],["T_VARIABLE","$base",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_STRING","preg_replace",398],"(",["T_CONSTANT_ENCAPSED_STRING","'#\/+#'",398],",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'\/'",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$base",398],")",";",["T_WHITESPACE","\n\n            ",398],["T_VARIABLE","$indexPos",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","strpos",400],"(",["T_VARIABLE","$base",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'\/'",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_VARIABLE","$webroot",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",400],")",";",["T_WHITESPACE","\n            ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$indexPos",401],["T_WHITESPACE"," ",401],["T_IS_NOT_IDENTICAL","!==",401],["T_WHITESPACE"," ",401],["T_STRING","false",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                ",401],["T_VARIABLE","$base",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","substr",402],"(",["T_VARIABLE","$base",402],",",["T_WHITESPACE"," ",402],["T_LNUMBER","0",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$indexPos",402],")",["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'\/'",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_VARIABLE","$webroot",402],";",["T_WHITESPACE","\n            ",402],"}",["T_WHITESPACE","\n            ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$webroot",404],["T_WHITESPACE"," ",404],["T_IS_IDENTICAL","===",404],["T_WHITESPACE"," ",404],["T_STRING","basename",404],"(",["T_VARIABLE","$base",404],")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                ",404],["T_VARIABLE","$base",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","dirname",405],"(",["T_VARIABLE","$base",405],")",";",["T_WHITESPACE","\n            ",405],"}",["T_WHITESPACE","\n\n            ",406],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$base",408],["T_WHITESPACE"," ",408],["T_IS_IDENTICAL","===",408],["T_WHITESPACE"," ",408],["T_STRING","DIRECTORY_SEPARATOR",408],["T_WHITESPACE"," ",408],["T_BOOLEAN_OR","||",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$base",408],["T_WHITESPACE"," ",408],["T_IS_IDENTICAL","===",408],["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'.'",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n                ",408],["T_VARIABLE","$base",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","''",409],";",["T_WHITESPACE","\n            ",409],"}",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$base",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","implode",411],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",411],",",["T_WHITESPACE"," ",411],["T_STRING","array_map",411],"(",["T_CONSTANT_ENCAPSED_STRING","'rawurlencode'",411],",",["T_WHITESPACE"," ",411],["T_STRING","explode",411],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$base",411],")",")",")",";",["T_WHITESPACE","\n\n            ",411],["T_RETURN","return",413],["T_WHITESPACE"," ",413],"[",["T_VARIABLE","$base",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$base",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'\/'",413],"]",";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n\n        ",414],["T_VARIABLE","$file",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'\/'",416],["T_WHITESPACE"," ",416],".",["T_WHITESPACE"," ",416],["T_STRING","basename",416],"(",["T_VARIABLE","$baseUrl",416],")",";",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$base",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_STRING","dirname",417],"(",["T_VARIABLE","$baseUrl",417],")",";",["T_WHITESPACE","\n\n        ",417],["T_IF","if",419],["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$base",419],["T_WHITESPACE"," ",419],["T_IS_IDENTICAL","===",419],["T_WHITESPACE"," ",419],["T_STRING","DIRECTORY_SEPARATOR",419],["T_WHITESPACE"," ",419],["T_BOOLEAN_OR","||",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$base",419],["T_WHITESPACE"," ",419],["T_IS_IDENTICAL","===",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'.'",419],")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$base",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","''",420],";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$webrootDir",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$base",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'\/'",422],";",["T_WHITESPACE","\n\n        ",422],["T_VARIABLE","$docRoot",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","env",424],"(",["T_CONSTANT_ENCAPSED_STRING","'DOCUMENT_ROOT'",424],")",";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$docRootContainsWebroot",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","strpos",425],"(",["T_VARIABLE","$docRoot",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$webroot",425],")",";",["T_WHITESPACE","\n\n        ",425],["T_IF","if",427],["T_WHITESPACE"," ",427],"(","!",["T_EMPTY","empty",427],"(",["T_VARIABLE","$base",427],")",["T_WHITESPACE"," ",427],["T_BOOLEAN_OR","||",427],["T_WHITESPACE"," ",427],"!",["T_VARIABLE","$docRootContainsWebroot",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_STRING","strpos",428],"(",["T_VARIABLE","$webrootDir",428],",",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'\/'",428],["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_VARIABLE","$webroot",428],["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'\/'",428],")",["T_WHITESPACE"," ",428],["T_IS_IDENTICAL","===",428],["T_WHITESPACE"," ",428],["T_STRING","false",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n                ",428],["T_VARIABLE","$webrootDir",429],["T_WHITESPACE"," ",429],["T_CONCAT_EQUAL",".=",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$webroot",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'\/'",429],";",["T_WHITESPACE","\n            ",429],"}",["T_WHITESPACE","\n        ",430],"}",["T_WHITESPACE","\n\n        ",431],["T_RETURN","return",433],["T_WHITESPACE"," ",433],"[",["T_VARIABLE","$base",433],["T_WHITESPACE"," ",433],".",["T_WHITESPACE"," ",433],["T_VARIABLE","$file",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$webrootDir",433],"]",";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * Process uploaded files and move things onto the post data.\n     *\n     * @param array $post Post data to merge files onto.\n     * @param array $files Uploaded files to merge in.\n     * @return array merged post + file data.\n     *\/",436],["T_WHITESPACE","\n    ",442],["T_PROTECTED","protected",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","_processFiles",443],"(",["T_VARIABLE","$post",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$files",443],")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n        ",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_STRING","is_array",445],"(",["T_VARIABLE","$files",445],")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n            ",445],["T_FOREACH","foreach",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$files",446],["T_WHITESPACE"," ",446],["T_AS","as",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$key",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$data",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n                ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_ISSET","isset",447],"(",["T_VARIABLE","$data",447],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",447],"]",")",["T_WHITESPACE"," ",447],["T_BOOLEAN_AND","&&",447],["T_WHITESPACE"," ",447],["T_STRING","is_string",447],"(",["T_VARIABLE","$data",447],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",447],"]",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                    ",447],["T_VARIABLE","$post",448],"[",["T_VARIABLE","$key",448],"]",["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$data",448],";",["T_WHITESPACE","\n                ",448],"}",["T_WHITESPACE"," ",449],["T_ELSE","else",449],["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n                    ",449],["T_VARIABLE","$keyData",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_ISSET","isset",450],"(",["T_VARIABLE","$post",450],"[",["T_VARIABLE","$key",450],"]",")",["T_WHITESPACE"," ",450],"?",["T_WHITESPACE"," ",450],["T_VARIABLE","$post",450],"[",["T_VARIABLE","$key",450],"]",["T_WHITESPACE"," ",450],":",["T_WHITESPACE"," ",450],"[","]",";",["T_WHITESPACE","\n                    ",450],["T_VARIABLE","$post",451],"[",["T_VARIABLE","$key",451],"]",["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_processFileData",451],"(",["T_VARIABLE","$keyData",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$data",451],")",";",["T_WHITESPACE","\n                ",451],"}",["T_WHITESPACE","\n            ",452],"}",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n\n        ",454],["T_RETURN","return",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$post",456],";",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n\n    ",457],["T_DOC_COMMENT","\/**\n     * Recursively walks the FILES array restructuring the data\n     * into something sane and usable.\n     *\n     * @param array $data The data being built\n     * @param array $post The post data being traversed\n     * @param string $path The dot separated path to insert $data into.\n     * @param string $field The terminal field in the path. This is one of the\n     *   $_FILES properties e.g. name, tmp_name, size, error\n     * @return array The restructured FILES data\n     *\/",459],["T_WHITESPACE","\n    ",469],["T_PROTECTED","protected",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","_processFileData",470],"(",["T_VARIABLE","$data",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$post",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$path",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","''",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$field",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","''",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_FOREACH","foreach",472],["T_WHITESPACE"," ",472],"(",["T_VARIABLE","$post",472],["T_WHITESPACE"," ",472],["T_AS","as",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$key",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$fields",472],")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$newField",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$field",473],";",["T_WHITESPACE","\n            ",473],["T_VARIABLE","$newPath",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_VARIABLE","$path",474],";",["T_WHITESPACE","\n            ",474],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$path",475],["T_WHITESPACE"," ",475],["T_IS_IDENTICAL","===",475],["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","''",475],["T_WHITESPACE"," ",475],["T_BOOLEAN_AND","&&",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$newField",475],["T_WHITESPACE"," ",475],["T_IS_IDENTICAL","===",475],["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","''",475],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n                ",475],["T_VARIABLE","$newField",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$key",476],";",["T_WHITESPACE","\n            ",476],"}",["T_WHITESPACE","\n            ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$field",478],["T_WHITESPACE"," ",478],["T_IS_IDENTICAL","===",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$newField",478],")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n                ",478],["T_VARIABLE","$newPath",479],["T_WHITESPACE"," ",479],["T_CONCAT_EQUAL",".=",479],["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'.'",479],["T_WHITESPACE"," ",479],".",["T_WHITESPACE"," ",479],["T_VARIABLE","$key",479],";",["T_WHITESPACE","\n            ",479],"}",["T_WHITESPACE","\n            ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_STRING","is_array",481],"(",["T_VARIABLE","$fields",481],")",")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n                ",481],["T_VARIABLE","$data",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_processFileData",482],"(",["T_VARIABLE","$data",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$fields",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$newPath",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$newField",482],")",";",["T_WHITESPACE","\n            ",482],"}",["T_WHITESPACE"," ",483],["T_ELSE","else",483],["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n                ",483],["T_VARIABLE","$newPath",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_STRING","trim",484],"(",["T_VARIABLE","$newPath",484],["T_WHITESPACE"," ",484],".",["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'.'",484],["T_WHITESPACE"," ",484],".",["T_WHITESPACE"," ",484],["T_VARIABLE","$field",484],",",["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'.'",484],")",";",["T_WHITESPACE","\n                ",484],["T_VARIABLE","$data",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_STRING","Hash",485],["T_DOUBLE_COLON","::",485],["T_STRING","insert",485],"(",["T_VARIABLE","$data",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$newPath",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$fields",485],")",";",["T_WHITESPACE","\n            ",485],"}",["T_WHITESPACE","\n        ",486],"}",["T_WHITESPACE","\n\n        ",487],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$data",489],";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_DOC_COMMENT","\/**\n     * Get the content type used in this request.\n     *\n     * @return string\n     *\/",492],["T_WHITESPACE","\n    ",496],["T_PUBLIC","public",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","contentType",497],"(",")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$type",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","env",499],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",499],")",";",["T_WHITESPACE","\n        ",499],["T_IF","if",500],["T_WHITESPACE"," ",500],"(",["T_VARIABLE","$type",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n            ",500],["T_RETURN","return",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$type",501],";",["T_WHITESPACE","\n        ",501],"}",["T_WHITESPACE","\n\n        ",502],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","env",504],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CONTENT_TYPE'",504],")",";",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n\n    ",505],["T_DOC_COMMENT","\/**\n     * Returns the instance of the Session object for this request\n     *\n     * If a session object is passed as first argument it will be set as\n     * the session to use for this request\n     *\n     * @param \\Cake\\Network\\Session|null $session the session object to use\n     * @return \\Cake\\Network\\Session\n     *\/",507],["T_WHITESPACE","\n    ",515],["T_PUBLIC","public",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","session",516],"(",["T_STRING","Session",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$session",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_STRING","null",516],")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$session",518],["T_WHITESPACE"," ",518],["T_IS_IDENTICAL","===",518],["T_WHITESPACE"," ",518],["T_STRING","null",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","_session",519],";",["T_WHITESPACE","\n        ",519],"}",["T_WHITESPACE","\n\n        ",520],["T_RETURN","return",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_session",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$session",522],";",["T_WHITESPACE","\n    ",522],"}",["T_WHITESPACE","\n\n    ",523],["T_DOC_COMMENT","\/**\n     * Get the IP the client is using, or says they are using.\n     *\n     * @return string The client IP.\n     *\/",525],["T_WHITESPACE","\n    ",529],["T_PUBLIC","public",530],["T_WHITESPACE"," ",530],["T_FUNCTION","function",530],["T_WHITESPACE"," ",530],["T_STRING","clientIp",530],"(",")",["T_WHITESPACE","\n    ",530],"{",["T_WHITESPACE","\n        ",531],["T_IF","if",532],["T_WHITESPACE"," ",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","trustProxy",532],["T_WHITESPACE"," ",532],["T_BOOLEAN_AND","&&",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","env",532],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",532],")",")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n            ",532],["T_VARIABLE","$ipaddr",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_STRING","preg_replace",533],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?:,.*)\/'",533],",",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","''",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","env",533],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",533],")",")",";",["T_WHITESPACE","\n        ",533],"}",["T_WHITESPACE"," ",534],["T_ELSEIF","elseif",534],["T_WHITESPACE"," ",534],"(",["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","trustProxy",534],["T_WHITESPACE"," ",534],["T_BOOLEAN_AND","&&",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","env",534],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CLIENT_IP'",534],")",")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$ipaddr",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","env",535],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CLIENT_IP'",535],")",";",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE"," ",536],["T_ELSE","else",536],["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n            ",536],["T_VARIABLE","$ipaddr",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","env",537],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",537],")",";",["T_WHITESPACE","\n        ",537],"}",["T_WHITESPACE","\n\n        ",538],["T_RETURN","return",540],["T_WHITESPACE"," ",540],["T_STRING","trim",540],"(",["T_VARIABLE","$ipaddr",540],")",";",["T_WHITESPACE","\n    ",540],"}",["T_WHITESPACE","\n\n    ",541],["T_DOC_COMMENT","\/**\n     * Returns the referer that referred this request.\n     *\n     * @param bool $local Attempt to return a local address.\n     *   Local addresses do not contain hostnames.\n     * @return string The referring address for this request.\n     *\/",543],["T_WHITESPACE","\n    ",549],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","referer",550],"(",["T_VARIABLE","$local",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_STRING","false",550],")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$ref",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","env",552],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",552],")",";",["T_WHITESPACE","\n\n        ",552],["T_VARIABLE","$base",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","Configure",554],["T_DOUBLE_COLON","::",554],["T_STRING","read",554],"(",["T_CONSTANT_ENCAPSED_STRING","'App.fullBaseUrl'",554],")",["T_WHITESPACE"," ",554],".",["T_WHITESPACE"," ",554],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","webroot",554],";",["T_WHITESPACE","\n        ",554],["T_IF","if",555],["T_WHITESPACE"," ",555],"(","!",["T_EMPTY","empty",555],"(",["T_VARIABLE","$ref",555],")",["T_WHITESPACE"," ",555],["T_BOOLEAN_AND","&&",555],["T_WHITESPACE"," ",555],"!",["T_EMPTY","empty",555],"(",["T_VARIABLE","$base",555],")",")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n            ",555],["T_IF","if",556],["T_WHITESPACE"," ",556],"(",["T_VARIABLE","$local",556],["T_WHITESPACE"," ",556],["T_BOOLEAN_AND","&&",556],["T_WHITESPACE"," ",556],["T_STRING","strpos",556],"(",["T_VARIABLE","$ref",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$base",556],")",["T_WHITESPACE"," ",556],["T_IS_IDENTICAL","===",556],["T_WHITESPACE"," ",556],["T_LNUMBER","0",556],")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n                ",556],["T_VARIABLE","$ref",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_STRING","substr",557],"(",["T_VARIABLE","$ref",557],",",["T_WHITESPACE"," ",557],["T_STRING","strlen",557],"(",["T_VARIABLE","$base",557],")",")",";",["T_WHITESPACE","\n                ",557],["T_IF","if",558],["T_WHITESPACE"," ",558],"(","!",["T_STRING","strlen",558],"(",["T_VARIABLE","$ref",558],")",")",["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n                    ",558],["T_VARIABLE","$ref",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_CONSTANT_ENCAPSED_STRING","'\/'",559],";",["T_WHITESPACE","\n                ",559],"}",["T_WHITESPACE","\n                ",560],["T_IF","if",561],["T_WHITESPACE"," ",561],"(",["T_VARIABLE","$ref",561],"[",["T_LNUMBER","0",561],"]",["T_WHITESPACE"," ",561],["T_IS_NOT_IDENTICAL","!==",561],["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","'\/'",561],")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n                    ",561],["T_VARIABLE","$ref",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","'\/'",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_VARIABLE","$ref",562],";",["T_WHITESPACE","\n                ",562],"}",["T_WHITESPACE","\n\n                ",563],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$ref",565],";",["T_WHITESPACE","\n            ",565],"}",["T_WHITESPACE","\n            ",566],["T_IF","if",567],["T_WHITESPACE"," ",567],"(","!",["T_VARIABLE","$local",567],")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n                ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$ref",568],";",["T_WHITESPACE","\n            ",568],"}",["T_WHITESPACE","\n        ",569],"}",["T_WHITESPACE","\n\n        ",570],["T_RETURN","return",572],["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'\/'",572],";",["T_WHITESPACE","\n    ",572],"}",["T_WHITESPACE","\n\n    ",573],["T_DOC_COMMENT","\/**\n     * Missing method handler, handles wrapping older style isAjax() type methods\n     *\n     * @param string $name The method called\n     * @param array $params Array of parameters for the method call\n     * @return mixed\n     * @throws \\BadMethodCallException when an invalid method is called.\n     *\/",575],["T_WHITESPACE","\n    ",582],["T_PUBLIC","public",583],["T_WHITESPACE"," ",583],["T_FUNCTION","function",583],["T_WHITESPACE"," ",583],["T_STRING","__call",583],"(",["T_VARIABLE","$name",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$params",583],")",["T_WHITESPACE","\n    ",583],"{",["T_WHITESPACE","\n        ",584],["T_IF","if",585],["T_WHITESPACE"," ",585],"(",["T_STRING","strpos",585],"(",["T_VARIABLE","$name",585],",",["T_WHITESPACE"," ",585],["T_CONSTANT_ENCAPSED_STRING","'is'",585],")",["T_WHITESPACE"," ",585],["T_IS_IDENTICAL","===",585],["T_WHITESPACE"," ",585],["T_LNUMBER","0",585],")",["T_WHITESPACE"," ",585],"{",["T_WHITESPACE","\n            ",585],["T_VARIABLE","$type",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_STRING","strtolower",586],"(",["T_STRING","substr",586],"(",["T_VARIABLE","$name",586],",",["T_WHITESPACE"," ",586],["T_LNUMBER","2",586],")",")",";",["T_WHITESPACE","\n\n            ",586],["T_STRING","array_unshift",588],"(",["T_VARIABLE","$params",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$type",588],")",";",["T_WHITESPACE","\n\n            ",588],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_STRING","call_user_func_array",590],"(","[",["T_VARIABLE","$this",590],",",["T_WHITESPACE"," ",590],["T_CONSTANT_ENCAPSED_STRING","'is'",590],"]",",",["T_WHITESPACE"," ",590],["T_VARIABLE","$params",590],")",";",["T_WHITESPACE","\n        ",590],"}",["T_WHITESPACE","\n        ",591],["T_THROW","throw",592],["T_WHITESPACE"," ",592],["T_NEW","new",592],["T_WHITESPACE"," ",592],["T_STRING","BadMethodCallException",592],"(",["T_STRING","sprintf",592],"(",["T_CONSTANT_ENCAPSED_STRING","'Method %s does not exist'",592],",",["T_WHITESPACE"," ",592],["T_VARIABLE","$name",592],")",")",";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n\n    ",593],["T_DOC_COMMENT","\/**\n     * Magic get method allows access to parsed routing parameters directly on the object.\n     *\n     * Allows access to `$this->params['controller']` via `$this->controller`\n     *\n     * @param string $name The property being accessed.\n     * @return mixed Either the value of the parameter or null.\n     *\/",595],["T_WHITESPACE","\n    ",602],["T_PUBLIC","public",603],["T_WHITESPACE"," ",603],["T_FUNCTION","function",603],["T_WHITESPACE"," ",603],["T_STRING","__get",603],"(",["T_VARIABLE","$name",603],")",["T_WHITESPACE","\n    ",603],"{",["T_WHITESPACE","\n        ",604],["T_IF","if",605],["T_WHITESPACE"," ",605],"(",["T_ISSET","isset",605],"(",["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","params",605],"[",["T_VARIABLE","$name",605],"]",")",")",["T_WHITESPACE"," ",605],"{",["T_WHITESPACE","\n            ",605],["T_RETURN","return",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","params",606],"[",["T_VARIABLE","$name",606],"]",";",["T_WHITESPACE","\n        ",606],"}",["T_WHITESPACE","\n\n        ",607],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_STRING","null",609],";",["T_WHITESPACE","\n    ",609],"}",["T_WHITESPACE","\n\n    ",610],["T_DOC_COMMENT","\/**\n     * Magic isset method allows isset\/empty checks\n     * on routing parameters.\n     *\n     * @param string $name The property being accessed.\n     * @return bool Existence\n     *\/",612],["T_WHITESPACE","\n    ",618],["T_PUBLIC","public",619],["T_WHITESPACE"," ",619],["T_FUNCTION","function",619],["T_WHITESPACE"," ",619],["T_STRING","__isset",619],"(",["T_VARIABLE","$name",619],")",["T_WHITESPACE","\n    ",619],"{",["T_WHITESPACE","\n        ",620],["T_RETURN","return",621],["T_WHITESPACE"," ",621],["T_ISSET","isset",621],"(",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","params",621],"[",["T_VARIABLE","$name",621],"]",")",";",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n\n    ",622],["T_DOC_COMMENT","\/**\n     * Check whether or not a Request is a certain type.\n     *\n     * Uses the built in detection rules as well as additional rules\n     * defined with Cake\\Network\\CakeRequest::addDetector(). Any detector can be called\n     * as `is($type)` or `is$Type()`.\n     *\n     * @param string|array $type The type of request you want to check. If an array\n     *   this method will return true if the request matches any type.\n     * @return bool Whether or not the request is the type you are checking.\n     *\/",624],["T_WHITESPACE","\n    ",634],["T_PUBLIC","public",635],["T_WHITESPACE"," ",635],["T_FUNCTION","function",635],["T_WHITESPACE"," ",635],["T_STRING","is",635],"(",["T_VARIABLE","$type",635],")",["T_WHITESPACE","\n    ",635],"{",["T_WHITESPACE","\n        ",636],["T_IF","if",637],["T_WHITESPACE"," ",637],"(",["T_STRING","is_array",637],"(",["T_VARIABLE","$type",637],")",")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n            ",637],["T_VARIABLE","$result",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_STRING","array_map",638],"(","[",["T_VARIABLE","$this",638],",",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","'is'",638],"]",",",["T_WHITESPACE"," ",638],["T_VARIABLE","$type",638],")",";",["T_WHITESPACE","\n\n            ",638],["T_RETURN","return",640],["T_WHITESPACE"," ",640],["T_STRING","count",640],"(",["T_STRING","array_filter",640],"(",["T_VARIABLE","$result",640],")",")",["T_WHITESPACE"," ",640],">",["T_WHITESPACE"," ",640],["T_LNUMBER","0",640],";",["T_WHITESPACE","\n        ",640],"}",["T_WHITESPACE","\n        ",641],["T_VARIABLE","$args",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_STRING","func_get_args",642],"(",")",";",["T_WHITESPACE","\n        ",642],["T_STRING","array_shift",643],"(",["T_VARIABLE","$args",643],")",";",["T_WHITESPACE","\n\n        ",643],["T_VARIABLE","$type",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_STRING","strtolower",645],"(",["T_VARIABLE","$type",645],")",";",["T_WHITESPACE","\n        ",645],["T_IF","if",646],["T_WHITESPACE"," ",646],"(","!",["T_ISSET","isset",646],"(",["T_STATIC","static",646],["T_DOUBLE_COLON","::",646],["T_VARIABLE","$_detectors",646],"[",["T_VARIABLE","$type",646],"]",")",")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n            ",646],["T_RETURN","return",647],["T_WHITESPACE"," ",647],["T_STRING","false",647],";",["T_WHITESPACE","\n        ",647],"}",["T_WHITESPACE","\n        ",648],["T_IF","if",649],["T_WHITESPACE"," ",649],"(",["T_VARIABLE","$args",649],")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n            ",649],["T_RETURN","return",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","_is",650],"(",["T_VARIABLE","$type",650],",",["T_WHITESPACE"," ",650],["T_VARIABLE","$args",650],")",";",["T_WHITESPACE","\n        ",650],"}",["T_WHITESPACE","\n        ",651],["T_IF","if",652],["T_WHITESPACE"," ",652],"(","!",["T_ISSET","isset",652],"(",["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","_detectorCache",652],"[",["T_VARIABLE","$type",652],"]",")",")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n            ",652],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","_detectorCache",653],"[",["T_VARIABLE","$type",653],"]",["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","_is",653],"(",["T_VARIABLE","$type",653],",",["T_WHITESPACE"," ",653],["T_VARIABLE","$args",653],")",";",["T_WHITESPACE","\n        ",653],"}",["T_WHITESPACE","\n\n        ",654],["T_RETURN","return",656],["T_WHITESPACE"," ",656],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","_detectorCache",656],"[",["T_VARIABLE","$type",656],"]",";",["T_WHITESPACE","\n    ",656],"}",["T_WHITESPACE","\n\n    ",657],["T_DOC_COMMENT","\/**\n     * Clears the instance detector cache, used by the is() function\n     *\n     * @return void\n     *\/",659],["T_WHITESPACE","\n    ",663],["T_PUBLIC","public",664],["T_WHITESPACE"," ",664],["T_FUNCTION","function",664],["T_WHITESPACE"," ",664],["T_STRING","clearDetectorCache",664],"(",")",["T_WHITESPACE","\n    ",664],"{",["T_WHITESPACE","\n        ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","_detectorCache",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],"[","]",";",["T_WHITESPACE","\n    ",666],"}",["T_WHITESPACE","\n\n    ",667],["T_DOC_COMMENT","\/**\n     * Worker for the public is() function\n     *\n     * @param string|array $type The type of request you want to check. If an array\n     *   this method will return true if the request matches any type.\n     * @param array $args Array of custom detector arguments.\n     * @return bool Whether or not the request is the type you are checking.\n     *\/",669],["T_WHITESPACE","\n    ",676],["T_PROTECTED","protected",677],["T_WHITESPACE"," ",677],["T_FUNCTION","function",677],["T_WHITESPACE"," ",677],["T_STRING","_is",677],"(",["T_VARIABLE","$type",677],",",["T_WHITESPACE"," ",677],["T_VARIABLE","$args",677],")",["T_WHITESPACE","\n    ",677],"{",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$detect",679],["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],["T_STATIC","static",679],["T_DOUBLE_COLON","::",679],["T_VARIABLE","$_detectors",679],"[",["T_VARIABLE","$type",679],"]",";",["T_WHITESPACE","\n        ",679],["T_IF","if",680],["T_WHITESPACE"," ",680],"(",["T_STRING","is_callable",680],"(",["T_VARIABLE","$detect",680],")",")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n            ",680],["T_STRING","array_unshift",681],"(",["T_VARIABLE","$args",681],",",["T_WHITESPACE"," ",681],["T_VARIABLE","$this",681],")",";",["T_WHITESPACE","\n\n            ",681],["T_RETURN","return",683],["T_WHITESPACE"," ",683],["T_STRING","call_user_func_array",683],"(",["T_VARIABLE","$detect",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$args",683],")",";",["T_WHITESPACE","\n        ",683],"}",["T_WHITESPACE","\n        ",684],["T_IF","if",685],["T_WHITESPACE"," ",685],"(",["T_ISSET","isset",685],"(",["T_VARIABLE","$detect",685],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",685],"]",")",["T_WHITESPACE"," ",685],["T_BOOLEAN_AND","&&",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","_environmentDetector",685],"(",["T_VARIABLE","$detect",685],")",")",["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n            ",685],["T_RETURN","return",686],["T_WHITESPACE"," ",686],["T_STRING","true",686],";",["T_WHITESPACE","\n        ",686],"}",["T_WHITESPACE","\n        ",687],["T_IF","if",688],["T_WHITESPACE"," ",688],"(",["T_ISSET","isset",688],"(",["T_VARIABLE","$detect",688],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",688],"]",")",["T_WHITESPACE"," ",688],["T_BOOLEAN_AND","&&",688],["T_WHITESPACE"," ",688],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","_headerDetector",688],"(",["T_VARIABLE","$detect",688],")",")",["T_WHITESPACE"," ",688],"{",["T_WHITESPACE","\n            ",688],["T_RETURN","return",689],["T_WHITESPACE"," ",689],["T_STRING","true",689],";",["T_WHITESPACE","\n        ",689],"}",["T_WHITESPACE","\n        ",690],["T_IF","if",691],["T_WHITESPACE"," ",691],"(",["T_ISSET","isset",691],"(",["T_VARIABLE","$detect",691],"[",["T_CONSTANT_ENCAPSED_STRING","'accept'",691],"]",")",["T_WHITESPACE"," ",691],["T_BOOLEAN_AND","&&",691],["T_WHITESPACE"," ",691],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","_acceptHeaderDetector",691],"(",["T_VARIABLE","$detect",691],")",")",["T_WHITESPACE"," ",691],"{",["T_WHITESPACE","\n            ",691],["T_RETURN","return",692],["T_WHITESPACE"," ",692],["T_STRING","true",692],";",["T_WHITESPACE","\n        ",692],"}",["T_WHITESPACE","\n        ",693],["T_IF","if",694],["T_WHITESPACE"," ",694],"(",["T_ISSET","isset",694],"(",["T_VARIABLE","$detect",694],"[",["T_CONSTANT_ENCAPSED_STRING","'param'",694],"]",")",["T_WHITESPACE"," ",694],["T_BOOLEAN_AND","&&",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","_paramDetector",694],"(",["T_VARIABLE","$detect",694],")",")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n            ",694],["T_RETURN","return",695],["T_WHITESPACE"," ",695],["T_STRING","true",695],";",["T_WHITESPACE","\n        ",695],"}",["T_WHITESPACE","\n\n        ",696],["T_RETURN","return",698],["T_WHITESPACE"," ",698],["T_STRING","false",698],";",["T_WHITESPACE","\n    ",698],"}",["T_WHITESPACE","\n\n    ",699],["T_DOC_COMMENT","\/**\n     * Detects if a specific accept header is present.\n     *\n     * @param array $detect Detector options array.\n     * @return bool Whether or not the request is the type you are checking.\n     *\/",701],["T_WHITESPACE","\n    ",706],["T_PROTECTED","protected",707],["T_WHITESPACE"," ",707],["T_FUNCTION","function",707],["T_WHITESPACE"," ",707],["T_STRING","_acceptHeaderDetector",707],"(",["T_VARIABLE","$detect",707],")",["T_WHITESPACE","\n    ",707],"{",["T_WHITESPACE","\n        ",708],["T_VARIABLE","$acceptHeaders",709],["T_WHITESPACE"," ",709],"=",["T_WHITESPACE"," ",709],["T_STRING","explode",709],"(",["T_CONSTANT_ENCAPSED_STRING","','",709],",",["T_WHITESPACE"," ",709],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","env",709],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",709],")",")",";",["T_WHITESPACE","\n        ",709],["T_FOREACH","foreach",710],["T_WHITESPACE"," ",710],"(",["T_VARIABLE","$detect",710],"[",["T_CONSTANT_ENCAPSED_STRING","'accept'",710],"]",["T_WHITESPACE"," ",710],["T_AS","as",710],["T_WHITESPACE"," ",710],["T_VARIABLE","$header",710],")",["T_WHITESPACE"," ",710],"{",["T_WHITESPACE","\n            ",710],["T_IF","if",711],["T_WHITESPACE"," ",711],"(",["T_STRING","in_array",711],"(",["T_VARIABLE","$header",711],",",["T_WHITESPACE"," ",711],["T_VARIABLE","$acceptHeaders",711],")",")",["T_WHITESPACE"," ",711],"{",["T_WHITESPACE","\n                ",711],["T_RETURN","return",712],["T_WHITESPACE"," ",712],["T_STRING","true",712],";",["T_WHITESPACE","\n            ",712],"}",["T_WHITESPACE","\n        ",713],"}",["T_WHITESPACE","\n\n        ",714],["T_RETURN","return",716],["T_WHITESPACE"," ",716],["T_STRING","false",716],";",["T_WHITESPACE","\n    ",716],"}",["T_WHITESPACE","\n\n    ",717],["T_DOC_COMMENT","\/**\n     * Detects if a specific header is present.\n     *\n     * @param array $detect Detector options array.\n     * @return bool Whether or not the request is the type you are checking.\n     *\/",719],["T_WHITESPACE","\n    ",724],["T_PROTECTED","protected",725],["T_WHITESPACE"," ",725],["T_FUNCTION","function",725],["T_WHITESPACE"," ",725],["T_STRING","_headerDetector",725],"(",["T_VARIABLE","$detect",725],")",["T_WHITESPACE","\n    ",725],"{",["T_WHITESPACE","\n        ",726],["T_FOREACH","foreach",727],["T_WHITESPACE"," ",727],"(",["T_VARIABLE","$detect",727],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",727],"]",["T_WHITESPACE"," ",727],["T_AS","as",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$header",727],["T_WHITESPACE"," ",727],["T_DOUBLE_ARROW","=>",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$value",727],")",["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n            ",727],["T_VARIABLE","$header",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","env",728],"(",["T_CONSTANT_ENCAPSED_STRING","'http_'",728],["T_WHITESPACE"," ",728],".",["T_WHITESPACE"," ",728],["T_VARIABLE","$header",728],")",";",["T_WHITESPACE","\n            ",728],["T_IF","if",729],["T_WHITESPACE"," ",729],"(",["T_VARIABLE","$header",729],["T_WHITESPACE"," ",729],["T_IS_NOT_IDENTICAL","!==",729],["T_WHITESPACE"," ",729],["T_STRING","null",729],")",["T_WHITESPACE"," ",729],"{",["T_WHITESPACE","\n                ",729],["T_IF","if",730],["T_WHITESPACE"," ",730],"(","!",["T_STRING","is_string",730],"(",["T_VARIABLE","$value",730],")",["T_WHITESPACE"," ",730],["T_BOOLEAN_AND","&&",730],["T_WHITESPACE"," ",730],"!",["T_STRING","is_bool",730],"(",["T_VARIABLE","$value",730],")",["T_WHITESPACE"," ",730],["T_BOOLEAN_AND","&&",730],["T_WHITESPACE"," ",730],["T_STRING","is_callable",730],"(",["T_VARIABLE","$value",730],")",")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n                    ",730],["T_RETURN","return",731],["T_WHITESPACE"," ",731],["T_STRING","call_user_func",731],"(",["T_VARIABLE","$value",731],",",["T_WHITESPACE"," ",731],["T_VARIABLE","$header",731],")",";",["T_WHITESPACE","\n                ",731],"}",["T_WHITESPACE","\n\n                ",732],["T_RETURN","return",734],["T_WHITESPACE"," ",734],"(",["T_VARIABLE","$header",734],["T_WHITESPACE"," ",734],["T_IS_IDENTICAL","===",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$value",734],")",";",["T_WHITESPACE","\n            ",734],"}",["T_WHITESPACE","\n        ",735],"}",["T_WHITESPACE","\n\n        ",736],["T_RETURN","return",738],["T_WHITESPACE"," ",738],["T_STRING","false",738],";",["T_WHITESPACE","\n    ",738],"}",["T_WHITESPACE","\n\n    ",739],["T_DOC_COMMENT","\/**\n     * Detects if a specific request parameter is present.\n     *\n     * @param array $detect Detector options array.\n     * @return bool Whether or not the request is the type you are checking.\n     *\/",741],["T_WHITESPACE","\n    ",746],["T_PROTECTED","protected",747],["T_WHITESPACE"," ",747],["T_FUNCTION","function",747],["T_WHITESPACE"," ",747],["T_STRING","_paramDetector",747],"(",["T_VARIABLE","$detect",747],")",["T_WHITESPACE","\n    ",747],"{",["T_WHITESPACE","\n        ",748],["T_VARIABLE","$key",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_VARIABLE","$detect",749],"[",["T_CONSTANT_ENCAPSED_STRING","'param'",749],"]",";",["T_WHITESPACE","\n        ",749],["T_IF","if",750],["T_WHITESPACE"," ",750],"(",["T_ISSET","isset",750],"(",["T_VARIABLE","$detect",750],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",750],"]",")",")",["T_WHITESPACE"," ",750],"{",["T_WHITESPACE","\n            ",750],["T_VARIABLE","$value",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_VARIABLE","$detect",751],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",751],"]",";",["T_WHITESPACE","\n\n            ",751],["T_RETURN","return",753],["T_WHITESPACE"," ",753],["T_ISSET","isset",753],"(",["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","params",753],"[",["T_VARIABLE","$key",753],"]",")",["T_WHITESPACE"," ",753],"?",["T_WHITESPACE"," ",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","params",753],"[",["T_VARIABLE","$key",753],"]",["T_WHITESPACE"," ",753],["T_IS_EQUAL","==",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$value",753],["T_WHITESPACE"," ",753],":",["T_WHITESPACE"," ",753],["T_STRING","false",753],";",["T_WHITESPACE","\n        ",753],"}",["T_WHITESPACE","\n        ",754],["T_IF","if",755],["T_WHITESPACE"," ",755],"(",["T_ISSET","isset",755],"(",["T_VARIABLE","$detect",755],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",755],"]",")",")",["T_WHITESPACE"," ",755],"{",["T_WHITESPACE","\n            ",755],["T_RETURN","return",756],["T_WHITESPACE"," ",756],["T_ISSET","isset",756],"(",["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","params",756],"[",["T_VARIABLE","$key",756],"]",")",["T_WHITESPACE"," ",756],"?",["T_WHITESPACE"," ",756],["T_STRING","in_array",756],"(",["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","params",756],"[",["T_VARIABLE","$key",756],"]",",",["T_WHITESPACE"," ",756],["T_VARIABLE","$detect",756],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",756],"]",")",["T_WHITESPACE"," ",756],":",["T_WHITESPACE"," ",756],["T_STRING","false",756],";",["T_WHITESPACE","\n        ",756],"}",["T_WHITESPACE","\n\n        ",757],["T_RETURN","return",759],["T_WHITESPACE"," ",759],["T_STRING","false",759],";",["T_WHITESPACE","\n    ",759],"}",["T_WHITESPACE","\n\n    ",760],["T_DOC_COMMENT","\/**\n     * Detects if a specific environment variable is present.\n     *\n     * @param array $detect Detector options array.\n     * @return bool Whether or not the request is the type you are checking.\n     *\/",762],["T_WHITESPACE","\n    ",767],["T_PROTECTED","protected",768],["T_WHITESPACE"," ",768],["T_FUNCTION","function",768],["T_WHITESPACE"," ",768],["T_STRING","_environmentDetector",768],"(",["T_VARIABLE","$detect",768],")",["T_WHITESPACE","\n    ",768],"{",["T_WHITESPACE","\n        ",769],["T_IF","if",770],["T_WHITESPACE"," ",770],"(",["T_ISSET","isset",770],"(",["T_VARIABLE","$detect",770],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",770],"]",")",")",["T_WHITESPACE"," ",770],"{",["T_WHITESPACE","\n            ",770],["T_IF","if",771],["T_WHITESPACE"," ",771],"(",["T_ISSET","isset",771],"(",["T_VARIABLE","$detect",771],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",771],"]",")",")",["T_WHITESPACE"," ",771],"{",["T_WHITESPACE","\n                ",771],["T_RETURN","return",772],["T_WHITESPACE"," ",772],["T_VARIABLE","$this",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","env",772],"(",["T_VARIABLE","$detect",772],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",772],"]",")",["T_WHITESPACE"," ",772],["T_IS_EQUAL","==",772],["T_WHITESPACE"," ",772],["T_VARIABLE","$detect",772],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",772],"]",";",["T_WHITESPACE","\n            ",772],"}",["T_WHITESPACE","\n            ",773],["T_IF","if",774],["T_WHITESPACE"," ",774],"(",["T_ISSET","isset",774],"(",["T_VARIABLE","$detect",774],"[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",774],"]",")",")",["T_WHITESPACE"," ",774],"{",["T_WHITESPACE","\n                ",774],["T_RETURN","return",775],["T_WHITESPACE"," ",775],["T_BOOL_CAST","(bool)",775],["T_STRING","preg_match",775],"(",["T_VARIABLE","$detect",775],"[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",775],"]",",",["T_WHITESPACE"," ",775],["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","env",775],"(",["T_VARIABLE","$detect",775],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",775],"]",")",")",";",["T_WHITESPACE","\n            ",775],"}",["T_WHITESPACE","\n            ",776],["T_IF","if",777],["T_WHITESPACE"," ",777],"(",["T_ISSET","isset",777],"(",["T_VARIABLE","$detect",777],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",777],"]",")",")",["T_WHITESPACE"," ",777],"{",["T_WHITESPACE","\n                ",777],["T_VARIABLE","$pattern",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","'\/'",778],["T_WHITESPACE"," ",778],".",["T_WHITESPACE"," ",778],["T_STRING","implode",778],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",778],",",["T_WHITESPACE"," ",778],["T_VARIABLE","$detect",778],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",778],"]",")",["T_WHITESPACE"," ",778],".",["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","'\/i'",778],";",["T_WHITESPACE","\n\n                ",778],["T_RETURN","return",780],["T_WHITESPACE"," ",780],["T_BOOL_CAST","(bool)",780],["T_STRING","preg_match",780],"(",["T_VARIABLE","$pattern",780],",",["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","env",780],"(",["T_VARIABLE","$detect",780],"[",["T_CONSTANT_ENCAPSED_STRING","'env'",780],"]",")",")",";",["T_WHITESPACE","\n            ",780],"}",["T_WHITESPACE","\n        ",781],"}",["T_WHITESPACE","\n\n        ",782],["T_RETURN","return",784],["T_WHITESPACE"," ",784],["T_STRING","false",784],";",["T_WHITESPACE","\n    ",784],"}",["T_WHITESPACE","\n\n    ",785],["T_DOC_COMMENT","\/**\n     * Check that a request matches all the given types.\n     *\n     * Allows you to test multiple types and union the results.\n     * See Request::is() for how to add additional types and the\n     * built-in types.\n     *\n     * @param array $types The types to check.\n     * @return bool Success.\n     * @see \\Cake\\Network\\Request::is()\n     *\/",787],["T_WHITESPACE","\n    ",797],["T_PUBLIC","public",798],["T_WHITESPACE"," ",798],["T_FUNCTION","function",798],["T_WHITESPACE"," ",798],["T_STRING","isAll",798],"(",["T_ARRAY","array",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$types",798],")",["T_WHITESPACE","\n    ",798],"{",["T_WHITESPACE","\n        ",799],["T_VARIABLE","$result",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_STRING","array_filter",800],"(",["T_STRING","array_map",800],"(","[",["T_VARIABLE","$this",800],",",["T_WHITESPACE"," ",800],["T_CONSTANT_ENCAPSED_STRING","'is'",800],"]",",",["T_WHITESPACE"," ",800],["T_VARIABLE","$types",800],")",")",";",["T_WHITESPACE","\n\n        ",800],["T_RETURN","return",802],["T_WHITESPACE"," ",802],["T_STRING","count",802],"(",["T_VARIABLE","$result",802],")",["T_WHITESPACE"," ",802],["T_IS_IDENTICAL","===",802],["T_WHITESPACE"," ",802],["T_STRING","count",802],"(",["T_VARIABLE","$types",802],")",";",["T_WHITESPACE","\n    ",802],"}",["T_WHITESPACE","\n\n    ",803],["T_DOC_COMMENT","\/**\n     * Add a new detector to the list of detectors that a request can use.\n     * There are several different formats and types of detectors that can be set.\n     *\n     * ### Callback detectors\n     *\n     * Callback detectors allow you to provide a callable to handle the check.\n     * The callback will receive the request object as its only parameter.\n     *\n     * ```\n     * addDetector('custom', function ($request) { \/\/Return a boolean });\n     * addDetector('custom', ['SomeClass', 'somemethod']);\n     * ```\n     *\n     * ### Environment value comparison\n     *\n     * An environment value comparison, compares a value fetched from `env()` to a known value\n     * the environment value is equality checked against the provided value.\n     *\n     * e.g `addDetector('post', ['env' => 'REQUEST_METHOD', 'value' => 'POST'])`\n     *\n     * ### Pattern value comparison\n     *\n     * Pattern value comparison allows you to compare a value fetched from `env()` to a regular expression.\n     *\n     * ```\n     * addDetector('iphone', ['env' => 'HTTP_USER_AGENT', 'pattern' => '\/iPhone\/i']);\n     * ```\n     *\n     * ### Option based comparison\n     *\n     * Option based comparisons use a list of options to create a regular expression. Subsequent calls\n     * to add an already defined options detector will merge the options.\n     *\n     * ```\n     * addDetector('mobile', ['env' => 'HTTP_USER_AGENT', 'options' => ['Fennec']]);\n     * ```\n     *\n     * ### Request parameter detectors\n     *\n     * Allows for custom detectors on the request parameters.\n     *\n     * e.g `addDetector('requested', ['param' => 'requested', 'value' => 1]`\n     *\n     * You can also make parameter detectors that accept multiple values\n     * using the `options` key. This is useful when you want to check\n     * if a request parameter is in a list of options.\n     *\n     * `addDetector('extension', ['param' => 'ext', 'options' => ['pdf', 'csv']]`\n     *\n     * @param string $name The name of the detector.\n     * @param callable|array $callable A callable or options array for the detector definition.\n     * @return void\n     *\/",805],["T_WHITESPACE","\n    ",858],["T_PUBLIC","public",859],["T_WHITESPACE"," ",859],["T_STATIC","static",859],["T_WHITESPACE"," ",859],["T_FUNCTION","function",859],["T_WHITESPACE"," ",859],["T_STRING","addDetector",859],"(",["T_VARIABLE","$name",859],",",["T_WHITESPACE"," ",859],["T_VARIABLE","$callable",859],")",["T_WHITESPACE","\n    ",859],"{",["T_WHITESPACE","\n        ",860],["T_VARIABLE","$name",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_STRING","strtolower",861],"(",["T_VARIABLE","$name",861],")",";",["T_WHITESPACE","\n        ",861],["T_IF","if",862],["T_WHITESPACE"," ",862],"(",["T_STRING","is_callable",862],"(",["T_VARIABLE","$callable",862],")",")",["T_WHITESPACE"," ",862],"{",["T_WHITESPACE","\n            ",862],["T_STATIC","static",863],["T_DOUBLE_COLON","::",863],["T_VARIABLE","$_detectors",863],"[",["T_VARIABLE","$name",863],"]",["T_WHITESPACE"," ",863],"=",["T_WHITESPACE"," ",863],["T_VARIABLE","$callable",863],";",["T_WHITESPACE","\n\n            ",863],["T_RETURN","return",865],";",["T_WHITESPACE","\n        ",865],"}",["T_WHITESPACE","\n        ",866],["T_IF","if",867],["T_WHITESPACE"," ",867],"(",["T_ISSET","isset",867],"(",["T_STATIC","static",867],["T_DOUBLE_COLON","::",867],["T_VARIABLE","$_detectors",867],"[",["T_VARIABLE","$name",867],"]",",",["T_WHITESPACE"," ",867],["T_VARIABLE","$callable",867],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",867],"]",")",")",["T_WHITESPACE"," ",867],"{",["T_WHITESPACE","\n            ",867],["T_VARIABLE","$callable",868],["T_WHITESPACE"," ",868],"=",["T_WHITESPACE"," ",868],["T_STRING","Hash",868],["T_DOUBLE_COLON","::",868],["T_STRING","merge",868],"(",["T_STATIC","static",868],["T_DOUBLE_COLON","::",868],["T_VARIABLE","$_detectors",868],"[",["T_VARIABLE","$name",868],"]",",",["T_WHITESPACE"," ",868],["T_VARIABLE","$callable",868],")",";",["T_WHITESPACE","\n        ",868],"}",["T_WHITESPACE","\n        ",869],["T_STATIC","static",870],["T_DOUBLE_COLON","::",870],["T_VARIABLE","$_detectors",870],"[",["T_VARIABLE","$name",870],"]",["T_WHITESPACE"," ",870],"=",["T_WHITESPACE"," ",870],["T_VARIABLE","$callable",870],";",["T_WHITESPACE","\n    ",870],"}",["T_WHITESPACE","\n\n    ",871],["T_DOC_COMMENT","\/**\n     * Add parameters to the request's parsed parameter set. This will overwrite any existing parameters.\n     * This modifies the parameters available through `$request->params`.\n     *\n     * @param array $params Array of parameters to merge in\n     * @return $this The current object, you can chain this method.\n     *\/",873],["T_WHITESPACE","\n    ",879],["T_PUBLIC","public",880],["T_WHITESPACE"," ",880],["T_FUNCTION","function",880],["T_WHITESPACE"," ",880],["T_STRING","addParams",880],"(",["T_ARRAY","array",880],["T_WHITESPACE"," ",880],["T_VARIABLE","$params",880],")",["T_WHITESPACE","\n    ",880],"{",["T_WHITESPACE","\n        ",881],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","params",882],["T_WHITESPACE"," ",882],"=",["T_WHITESPACE"," ",882],["T_STRING","array_merge",882],"(",["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","params",882],",",["T_WHITESPACE"," ",882],["T_VARIABLE","$params",882],")",";",["T_WHITESPACE","\n\n        ",882],["T_RETURN","return",884],["T_WHITESPACE"," ",884],["T_VARIABLE","$this",884],";",["T_WHITESPACE","\n    ",884],"}",["T_WHITESPACE","\n\n    ",885],["T_DOC_COMMENT","\/**\n     * Add paths to the requests' paths vars. This will overwrite any existing paths.\n     * Provides an easy way to modify, here, webroot and base.\n     *\n     * @param array $paths Array of paths to merge in\n     * @return $this The current object, you can chain this method.\n     *\/",887],["T_WHITESPACE","\n    ",893],["T_PUBLIC","public",894],["T_WHITESPACE"," ",894],["T_FUNCTION","function",894],["T_WHITESPACE"," ",894],["T_STRING","addPaths",894],"(",["T_ARRAY","array",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$paths",894],")",["T_WHITESPACE","\n    ",894],"{",["T_WHITESPACE","\n        ",895],["T_FOREACH","foreach",896],["T_WHITESPACE"," ",896],"(","[",["T_CONSTANT_ENCAPSED_STRING","'webroot'",896],",",["T_WHITESPACE"," ",896],["T_CONSTANT_ENCAPSED_STRING","'here'",896],",",["T_WHITESPACE"," ",896],["T_CONSTANT_ENCAPSED_STRING","'base'",896],"]",["T_WHITESPACE"," ",896],["T_AS","as",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$element",896],")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n            ",896],["T_IF","if",897],["T_WHITESPACE"," ",897],"(",["T_ISSET","isset",897],"(",["T_VARIABLE","$paths",897],"[",["T_VARIABLE","$element",897],"]",")",")",["T_WHITESPACE"," ",897],"{",["T_WHITESPACE","\n                ",897],["T_VARIABLE","$this",898],["T_OBJECT_OPERATOR","->",898],"{",["T_VARIABLE","$element",898],"}",["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_VARIABLE","$paths",898],"[",["T_VARIABLE","$element",898],"]",";",["T_WHITESPACE","\n            ",898],"}",["T_WHITESPACE","\n        ",899],"}",["T_WHITESPACE","\n\n        ",900],["T_RETURN","return",902],["T_WHITESPACE"," ",902],["T_VARIABLE","$this",902],";",["T_WHITESPACE","\n    ",902],"}",["T_WHITESPACE","\n\n    ",903],["T_DOC_COMMENT","\/**\n     * Get the value of the current requests URL. Will include querystring arguments.\n     *\n     * @param bool $base Include the base path, set to false to trim the base path off.\n     * @return string The current request URL including query string args.\n     *\/",905],["T_WHITESPACE","\n    ",910],["T_PUBLIC","public",911],["T_WHITESPACE"," ",911],["T_FUNCTION","function",911],["T_WHITESPACE"," ",911],["T_STRING","here",911],"(",["T_VARIABLE","$base",911],["T_WHITESPACE"," ",911],"=",["T_WHITESPACE"," ",911],["T_STRING","true",911],")",["T_WHITESPACE","\n    ",911],"{",["T_WHITESPACE","\n        ",912],["T_VARIABLE","$url",913],["T_WHITESPACE"," ",913],"=",["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","here",913],";",["T_WHITESPACE","\n        ",913],["T_IF","if",914],["T_WHITESPACE"," ",914],"(","!",["T_EMPTY","empty",914],"(",["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","query",914],")",")",["T_WHITESPACE"," ",914],"{",["T_WHITESPACE","\n            ",914],["T_VARIABLE","$url",915],["T_WHITESPACE"," ",915],["T_CONCAT_EQUAL",".=",915],["T_WHITESPACE"," ",915],["T_CONSTANT_ENCAPSED_STRING","'?'",915],["T_WHITESPACE"," ",915],".",["T_WHITESPACE"," ",915],["T_STRING","http_build_query",915],"(",["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","query",915],",",["T_WHITESPACE"," ",915],["T_STRING","null",915],",",["T_WHITESPACE"," ",915],["T_CONSTANT_ENCAPSED_STRING","'&'",915],")",";",["T_WHITESPACE","\n        ",915],"}",["T_WHITESPACE","\n        ",916],["T_IF","if",917],["T_WHITESPACE"," ",917],"(","!",["T_VARIABLE","$base",917],")",["T_WHITESPACE"," ",917],"{",["T_WHITESPACE","\n            ",917],["T_VARIABLE","$url",918],["T_WHITESPACE"," ",918],"=",["T_WHITESPACE"," ",918],["T_STRING","preg_replace",918],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^'",918],["T_WHITESPACE"," ",918],".",["T_WHITESPACE"," ",918],["T_STRING","preg_quote",918],"(",["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","base",918],",",["T_WHITESPACE"," ",918],["T_CONSTANT_ENCAPSED_STRING","'\/'",918],")",["T_WHITESPACE"," ",918],".",["T_WHITESPACE"," ",918],["T_CONSTANT_ENCAPSED_STRING","'\/'",918],",",["T_WHITESPACE"," ",918],["T_CONSTANT_ENCAPSED_STRING","''",918],",",["T_WHITESPACE"," ",918],["T_VARIABLE","$url",918],",",["T_WHITESPACE"," ",918],["T_LNUMBER","1",918],")",";",["T_WHITESPACE","\n        ",918],"}",["T_WHITESPACE","\n\n        ",919],["T_RETURN","return",921],["T_WHITESPACE"," ",921],["T_VARIABLE","$url",921],";",["T_WHITESPACE","\n    ",921],"}",["T_WHITESPACE","\n\n    ",922],["T_DOC_COMMENT","\/**\n     * Read an HTTP header from the Request information.\n     *\n     * @param string $name Name of the header you want.\n     * @return string|null Either null on no header being set or the value of the header.\n     *\/",924],["T_WHITESPACE","\n    ",929],["T_PUBLIC","public",930],["T_WHITESPACE"," ",930],["T_FUNCTION","function",930],["T_WHITESPACE"," ",930],["T_STRING","header",930],"(",["T_VARIABLE","$name",930],")",["T_WHITESPACE","\n    ",930],"{",["T_WHITESPACE","\n        ",931],["T_VARIABLE","$name",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_STRING","str_replace",932],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",932],",",["T_WHITESPACE"," ",932],["T_CONSTANT_ENCAPSED_STRING","'_'",932],",",["T_WHITESPACE"," ",932],["T_VARIABLE","$name",932],")",";",["T_WHITESPACE","\n        ",932],["T_IF","if",933],["T_WHITESPACE"," ",933],"(","!",["T_STRING","in_array",933],"(",["T_STRING","strtoupper",933],"(",["T_VARIABLE","$name",933],")",",",["T_WHITESPACE"," ",933],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_LENGTH'",933],",",["T_WHITESPACE"," ",933],["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",933],"]",")",")",["T_WHITESPACE"," ",933],"{",["T_WHITESPACE","\n            ",933],["T_VARIABLE","$name",934],["T_WHITESPACE"," ",934],"=",["T_WHITESPACE"," ",934],["T_CONSTANT_ENCAPSED_STRING","'HTTP_'",934],["T_WHITESPACE"," ",934],".",["T_WHITESPACE"," ",934],["T_VARIABLE","$name",934],";",["T_WHITESPACE","\n        ",934],"}",["T_WHITESPACE","\n\n        ",935],["T_RETURN","return",937],["T_WHITESPACE"," ",937],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","env",937],"(",["T_VARIABLE","$name",937],")",";",["T_WHITESPACE","\n    ",937],"}",["T_WHITESPACE","\n\n    ",938],["T_DOC_COMMENT","\/**\n     * Get the HTTP method used for this request.\n     * There are a few ways to specify a method.\n     *\n     * - If your client supports it you can use native HTTP methods.\n     * - You can set the HTTP-X-Method-Override header.\n     * - You can submit an input with the name `_method`\n     *\n     * Any of these 3 approaches can be used to set the HTTP method used\n     * by CakePHP internally, and will effect the result of this method.\n     *\n     * @return string The name of the HTTP method used.\n     *\/",940],["T_WHITESPACE","\n    ",952],["T_PUBLIC","public",953],["T_WHITESPACE"," ",953],["T_FUNCTION","function",953],["T_WHITESPACE"," ",953],["T_STRING","method",953],"(",")",["T_WHITESPACE","\n    ",953],"{",["T_WHITESPACE","\n        ",954],["T_RETURN","return",955],["T_WHITESPACE"," ",955],["T_VARIABLE","$this",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","env",955],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",955],")",";",["T_WHITESPACE","\n    ",955],"}",["T_WHITESPACE","\n\n    ",956],["T_DOC_COMMENT","\/**\n     * Get the host that the request was handled on.\n     *\n     * @return string\n     *\/",958],["T_WHITESPACE","\n    ",962],["T_PUBLIC","public",963],["T_WHITESPACE"," ",963],["T_FUNCTION","function",963],["T_WHITESPACE"," ",963],["T_STRING","host",963],"(",")",["T_WHITESPACE","\n    ",963],"{",["T_WHITESPACE","\n        ",964],["T_IF","if",965],["T_WHITESPACE"," ",965],"(",["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","trustProxy",965],["T_WHITESPACE"," ",965],["T_BOOLEAN_AND","&&",965],["T_WHITESPACE"," ",965],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","env",965],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_HOST'",965],")",")",["T_WHITESPACE"," ",965],"{",["T_WHITESPACE","\n            ",965],["T_RETURN","return",966],["T_WHITESPACE"," ",966],["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","env",966],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_HOST'",966],")",";",["T_WHITESPACE","\n        ",966],"}",["T_WHITESPACE","\n\n        ",967],["T_RETURN","return",969],["T_WHITESPACE"," ",969],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","env",969],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",969],")",";",["T_WHITESPACE","\n    ",969],"}",["T_WHITESPACE","\n\n    ",970],["T_DOC_COMMENT","\/**\n     * Get the port the request was handled on.\n     *\n     * @return string\n     *\/",972],["T_WHITESPACE","\n    ",976],["T_PUBLIC","public",977],["T_WHITESPACE"," ",977],["T_FUNCTION","function",977],["T_WHITESPACE"," ",977],["T_STRING","port",977],"(",")",["T_WHITESPACE","\n    ",977],"{",["T_WHITESPACE","\n        ",978],["T_IF","if",979],["T_WHITESPACE"," ",979],"(",["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","trustProxy",979],["T_WHITESPACE"," ",979],["T_BOOLEAN_AND","&&",979],["T_WHITESPACE"," ",979],["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","env",979],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PORT'",979],")",")",["T_WHITESPACE"," ",979],"{",["T_WHITESPACE","\n            ",979],["T_RETURN","return",980],["T_WHITESPACE"," ",980],["T_VARIABLE","$this",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","env",980],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PORT'",980],")",";",["T_WHITESPACE","\n        ",980],"}",["T_WHITESPACE","\n\n        ",981],["T_RETURN","return",983],["T_WHITESPACE"," ",983],["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","env",983],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",983],")",";",["T_WHITESPACE","\n    ",983],"}",["T_WHITESPACE","\n\n    ",984],["T_DOC_COMMENT","\/**\n     * Get the current url scheme used for the request.\n     *\n     * e.g. 'http', or 'https'\n     *\n     * @return string The scheme used for the request.\n     *\/",986],["T_WHITESPACE","\n    ",992],["T_PUBLIC","public",993],["T_WHITESPACE"," ",993],["T_FUNCTION","function",993],["T_WHITESPACE"," ",993],["T_STRING","scheme",993],"(",")",["T_WHITESPACE","\n    ",993],"{",["T_WHITESPACE","\n        ",994],["T_IF","if",995],["T_WHITESPACE"," ",995],"(",["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","trustProxy",995],["T_WHITESPACE"," ",995],["T_BOOLEAN_AND","&&",995],["T_WHITESPACE"," ",995],["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","env",995],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",995],")",")",["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n            ",995],["T_RETURN","return",996],["T_WHITESPACE"," ",996],["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","env",996],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",996],")",";",["T_WHITESPACE","\n        ",996],"}",["T_WHITESPACE","\n\n        ",997],["T_RETURN","return",999],["T_WHITESPACE"," ",999],["T_VARIABLE","$this",999],["T_OBJECT_OPERATOR","->",999],["T_STRING","env",999],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",999],")",["T_WHITESPACE"," ",999],"?",["T_WHITESPACE"," ",999],["T_CONSTANT_ENCAPSED_STRING","'https'",999],["T_WHITESPACE"," ",999],":",["T_WHITESPACE"," ",999],["T_CONSTANT_ENCAPSED_STRING","'http'",999],";",["T_WHITESPACE","\n    ",999],"}",["T_WHITESPACE","\n\n    ",1000],["T_DOC_COMMENT","\/**\n     * Get the domain name and include $tldLength segments of the tld.\n     *\n     * @param int $tldLength Number of segments your tld contains. For example: `example.com` contains 1 tld.\n     *   While `example.co.uk` contains 2.\n     * @return string Domain name without subdomains.\n     *\/",1002],["T_WHITESPACE","\n    ",1008],["T_PUBLIC","public",1009],["T_WHITESPACE"," ",1009],["T_FUNCTION","function",1009],["T_WHITESPACE"," ",1009],["T_STRING","domain",1009],"(",["T_VARIABLE","$tldLength",1009],["T_WHITESPACE"," ",1009],"=",["T_WHITESPACE"," ",1009],["T_LNUMBER","1",1009],")",["T_WHITESPACE","\n    ",1009],"{",["T_WHITESPACE","\n        ",1010],["T_VARIABLE","$segments",1011],["T_WHITESPACE"," ",1011],"=",["T_WHITESPACE"," ",1011],["T_STRING","explode",1011],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",1011],",",["T_WHITESPACE"," ",1011],["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","host",1011],"(",")",")",";",["T_WHITESPACE","\n        ",1011],["T_VARIABLE","$domain",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_STRING","array_slice",1012],"(",["T_VARIABLE","$segments",1012],",",["T_WHITESPACE"," ",1012],"-",["T_LNUMBER","1",1012],["T_WHITESPACE"," ",1012],"*",["T_WHITESPACE"," ",1012],"(",["T_VARIABLE","$tldLength",1012],["T_WHITESPACE"," ",1012],"+",["T_WHITESPACE"," ",1012],["T_LNUMBER","1",1012],")",")",";",["T_WHITESPACE","\n\n        ",1012],["T_RETURN","return",1014],["T_WHITESPACE"," ",1014],["T_STRING","implode",1014],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",1014],",",["T_WHITESPACE"," ",1014],["T_VARIABLE","$domain",1014],")",";",["T_WHITESPACE","\n    ",1014],"}",["T_WHITESPACE","\n\n    ",1015],["T_DOC_COMMENT","\/**\n     * Get the subdomains for a host.\n     *\n     * @param int $tldLength Number of segments your tld contains. For example: `example.com` contains 1 tld.\n     *   While `example.co.uk` contains 2.\n     * @return array An array of subdomains.\n     *\/",1017],["T_WHITESPACE","\n    ",1023],["T_PUBLIC","public",1024],["T_WHITESPACE"," ",1024],["T_FUNCTION","function",1024],["T_WHITESPACE"," ",1024],["T_STRING","subdomains",1024],"(",["T_VARIABLE","$tldLength",1024],["T_WHITESPACE"," ",1024],"=",["T_WHITESPACE"," ",1024],["T_LNUMBER","1",1024],")",["T_WHITESPACE","\n    ",1024],"{",["T_WHITESPACE","\n        ",1025],["T_VARIABLE","$segments",1026],["T_WHITESPACE"," ",1026],"=",["T_WHITESPACE"," ",1026],["T_STRING","explode",1026],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",1026],",",["T_WHITESPACE"," ",1026],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","host",1026],"(",")",")",";",["T_WHITESPACE","\n\n        ",1026],["T_RETURN","return",1028],["T_WHITESPACE"," ",1028],["T_STRING","array_slice",1028],"(",["T_VARIABLE","$segments",1028],",",["T_WHITESPACE"," ",1028],["T_LNUMBER","0",1028],",",["T_WHITESPACE"," ",1028],"-",["T_LNUMBER","1",1028],["T_WHITESPACE"," ",1028],"*",["T_WHITESPACE"," ",1028],"(",["T_VARIABLE","$tldLength",1028],["T_WHITESPACE"," ",1028],"+",["T_WHITESPACE"," ",1028],["T_LNUMBER","1",1028],")",")",";",["T_WHITESPACE","\n    ",1028],"}",["T_WHITESPACE","\n\n    ",1029],["T_DOC_COMMENT","\/**\n     * Find out which content types the client accepts or check if they accept a\n     * particular type of content.\n     *\n     * #### Get all types:\n     *\n     * ```\n     * $this->request->accepts();\n     * ```\n     *\n     * #### Check for a single type:\n     *\n     * ```\n     * $this->request->accepts('application\/json');\n     * ```\n     *\n     * This method will order the returned content types by the preference values indicated\n     * by the client.\n     *\n     * @param string|null $type The content type to check for. Leave null to get all types a client accepts.\n     * @return array|bool Either an array of all the types the client accepts or a boolean if they accept the\n     *   provided type.\n     *\/",1031],["T_WHITESPACE","\n    ",1053],["T_PUBLIC","public",1054],["T_WHITESPACE"," ",1054],["T_FUNCTION","function",1054],["T_WHITESPACE"," ",1054],["T_STRING","accepts",1054],"(",["T_VARIABLE","$type",1054],["T_WHITESPACE"," ",1054],"=",["T_WHITESPACE"," ",1054],["T_STRING","null",1054],")",["T_WHITESPACE","\n    ",1054],"{",["T_WHITESPACE","\n        ",1055],["T_VARIABLE","$raw",1056],["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","parseAccept",1056],"(",")",";",["T_WHITESPACE","\n        ",1056],["T_VARIABLE","$accept",1057],["T_WHITESPACE"," ",1057],"=",["T_WHITESPACE"," ",1057],"[","]",";",["T_WHITESPACE","\n        ",1057],["T_FOREACH","foreach",1058],["T_WHITESPACE"," ",1058],"(",["T_VARIABLE","$raw",1058],["T_WHITESPACE"," ",1058],["T_AS","as",1058],["T_WHITESPACE"," ",1058],["T_VARIABLE","$types",1058],")",["T_WHITESPACE"," ",1058],"{",["T_WHITESPACE","\n            ",1058],["T_VARIABLE","$accept",1059],["T_WHITESPACE"," ",1059],"=",["T_WHITESPACE"," ",1059],["T_STRING","array_merge",1059],"(",["T_VARIABLE","$accept",1059],",",["T_WHITESPACE"," ",1059],["T_VARIABLE","$types",1059],")",";",["T_WHITESPACE","\n        ",1059],"}",["T_WHITESPACE","\n        ",1060],["T_IF","if",1061],["T_WHITESPACE"," ",1061],"(",["T_VARIABLE","$type",1061],["T_WHITESPACE"," ",1061],["T_IS_IDENTICAL","===",1061],["T_WHITESPACE"," ",1061],["T_STRING","null",1061],")",["T_WHITESPACE"," ",1061],"{",["T_WHITESPACE","\n            ",1061],["T_RETURN","return",1062],["T_WHITESPACE"," ",1062],["T_VARIABLE","$accept",1062],";",["T_WHITESPACE","\n        ",1062],"}",["T_WHITESPACE","\n\n        ",1063],["T_RETURN","return",1065],["T_WHITESPACE"," ",1065],["T_STRING","in_array",1065],"(",["T_VARIABLE","$type",1065],",",["T_WHITESPACE"," ",1065],["T_VARIABLE","$accept",1065],")",";",["T_WHITESPACE","\n    ",1065],"}",["T_WHITESPACE","\n\n    ",1066],["T_DOC_COMMENT","\/**\n     * Parse the HTTP_ACCEPT header and return a sorted array with content types\n     * as the keys, and pref values as the values.\n     *\n     * Generally you want to use Cake\\Network\\Request::accept() to get a simple list\n     * of the accepted content types.\n     *\n     * @return array An array of prefValue => [content\/types]\n     *\/",1068],["T_WHITESPACE","\n    ",1076],["T_PUBLIC","public",1077],["T_WHITESPACE"," ",1077],["T_FUNCTION","function",1077],["T_WHITESPACE"," ",1077],["T_STRING","parseAccept",1077],"(",")",["T_WHITESPACE","\n    ",1077],"{",["T_WHITESPACE","\n        ",1078],["T_RETURN","return",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$this",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","_parseAcceptWithQualifier",1079],"(",["T_VARIABLE","$this",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","header",1079],"(",["T_CONSTANT_ENCAPSED_STRING","'accept'",1079],")",")",";",["T_WHITESPACE","\n    ",1079],"}",["T_WHITESPACE","\n\n    ",1080],["T_DOC_COMMENT","\/**\n     * Get the languages accepted by the client, or check if a specific language is accepted.\n     *\n     * Get the list of accepted languages:\n     *\n     * ``` \\Cake\\Network\\Request::acceptLanguage(); ```\n     *\n     * Check if a specific language is accepted:\n     *\n     * ``` \\Cake\\Network\\Request::acceptLanguage('es-es'); ```\n     *\n     * @param string|null $language The language to test.\n     * @return array|bool If a $language is provided, a boolean. Otherwise the array of accepted languages.\n     *\/",1082],["T_WHITESPACE","\n    ",1095],["T_PUBLIC","public",1096],["T_WHITESPACE"," ",1096],["T_FUNCTION","function",1096],["T_WHITESPACE"," ",1096],["T_STRING","acceptLanguage",1096],"(",["T_VARIABLE","$language",1096],["T_WHITESPACE"," ",1096],"=",["T_WHITESPACE"," ",1096],["T_STRING","null",1096],")",["T_WHITESPACE","\n    ",1096],"{",["T_WHITESPACE","\n        ",1097],["T_VARIABLE","$raw",1098],["T_WHITESPACE"," ",1098],"=",["T_WHITESPACE"," ",1098],["T_VARIABLE","$this",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","_parseAcceptWithQualifier",1098],"(",["T_VARIABLE","$this",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","header",1098],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Language'",1098],")",")",";",["T_WHITESPACE","\n        ",1098],["T_VARIABLE","$accept",1099],["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],"[","]",";",["T_WHITESPACE","\n        ",1099],["T_FOREACH","foreach",1100],["T_WHITESPACE"," ",1100],"(",["T_VARIABLE","$raw",1100],["T_WHITESPACE"," ",1100],["T_AS","as",1100],["T_WHITESPACE"," ",1100],["T_VARIABLE","$languages",1100],")",["T_WHITESPACE"," ",1100],"{",["T_WHITESPACE","\n            ",1100],["T_FOREACH","foreach",1101],["T_WHITESPACE"," ",1101],"(",["T_VARIABLE","$languages",1101],["T_WHITESPACE"," ",1101],["T_AS","as",1101],["T_WHITESPACE"," ",1101],"&",["T_VARIABLE","$lang",1101],")",["T_WHITESPACE"," ",1101],"{",["T_WHITESPACE","\n                ",1101],["T_IF","if",1102],["T_WHITESPACE"," ",1102],"(",["T_STRING","strpos",1102],"(",["T_VARIABLE","$lang",1102],",",["T_WHITESPACE"," ",1102],["T_CONSTANT_ENCAPSED_STRING","'_'",1102],")",")",["T_WHITESPACE"," ",1102],"{",["T_WHITESPACE","\n                    ",1102],["T_VARIABLE","$lang",1103],["T_WHITESPACE"," ",1103],"=",["T_WHITESPACE"," ",1103],["T_STRING","str_replace",1103],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",1103],",",["T_WHITESPACE"," ",1103],["T_CONSTANT_ENCAPSED_STRING","'-'",1103],",",["T_WHITESPACE"," ",1103],["T_VARIABLE","$lang",1103],")",";",["T_WHITESPACE","\n                ",1103],"}",["T_WHITESPACE","\n                ",1104],["T_VARIABLE","$lang",1105],["T_WHITESPACE"," ",1105],"=",["T_WHITESPACE"," ",1105],["T_STRING","strtolower",1105],"(",["T_VARIABLE","$lang",1105],")",";",["T_WHITESPACE","\n            ",1105],"}",["T_WHITESPACE","\n            ",1106],["T_VARIABLE","$accept",1107],["T_WHITESPACE"," ",1107],"=",["T_WHITESPACE"," ",1107],["T_STRING","array_merge",1107],"(",["T_VARIABLE","$accept",1107],",",["T_WHITESPACE"," ",1107],["T_VARIABLE","$languages",1107],")",";",["T_WHITESPACE","\n        ",1107],"}",["T_WHITESPACE","\n        ",1108],["T_IF","if",1109],["T_WHITESPACE"," ",1109],"(",["T_VARIABLE","$language",1109],["T_WHITESPACE"," ",1109],["T_IS_IDENTICAL","===",1109],["T_WHITESPACE"," ",1109],["T_STRING","null",1109],")",["T_WHITESPACE"," ",1109],"{",["T_WHITESPACE","\n            ",1109],["T_RETURN","return",1110],["T_WHITESPACE"," ",1110],["T_VARIABLE","$accept",1110],";",["T_WHITESPACE","\n        ",1110],"}",["T_WHITESPACE","\n\n        ",1111],["T_RETURN","return",1113],["T_WHITESPACE"," ",1113],["T_STRING","in_array",1113],"(",["T_STRING","strtolower",1113],"(",["T_VARIABLE","$language",1113],")",",",["T_WHITESPACE"," ",1113],["T_VARIABLE","$accept",1113],")",";",["T_WHITESPACE","\n    ",1113],"}",["T_WHITESPACE","\n\n    ",1114],["T_DOC_COMMENT","\/**\n     * Parse Accept* headers with qualifier options.\n     *\n     * Only qualifiers will be extracted, any other accept extensions will be\n     * discarded as they are not frequently used.\n     *\n     * @param string $header Header to parse.\n     * @return array\n     *\/",1116],["T_WHITESPACE","\n    ",1124],["T_PROTECTED","protected",1125],["T_WHITESPACE"," ",1125],["T_FUNCTION","function",1125],["T_WHITESPACE"," ",1125],["T_STRING","_parseAcceptWithQualifier",1125],"(",["T_VARIABLE","$header",1125],")",["T_WHITESPACE","\n    ",1125],"{",["T_WHITESPACE","\n        ",1126],["T_VARIABLE","$accept",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],"[","]",";",["T_WHITESPACE","\n        ",1127],["T_VARIABLE","$header",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_STRING","explode",1128],"(",["T_CONSTANT_ENCAPSED_STRING","','",1128],",",["T_WHITESPACE"," ",1128],["T_VARIABLE","$header",1128],")",";",["T_WHITESPACE","\n        ",1128],["T_FOREACH","foreach",1129],["T_WHITESPACE"," ",1129],"(",["T_STRING","array_filter",1129],"(",["T_VARIABLE","$header",1129],")",["T_WHITESPACE"," ",1129],["T_AS","as",1129],["T_WHITESPACE"," ",1129],["T_VARIABLE","$value",1129],")",["T_WHITESPACE"," ",1129],"{",["T_WHITESPACE","\n            ",1129],["T_VARIABLE","$prefValue",1130],["T_WHITESPACE"," ",1130],"=",["T_WHITESPACE"," ",1130],["T_CONSTANT_ENCAPSED_STRING","'1.0'",1130],";",["T_WHITESPACE","\n            ",1130],["T_VARIABLE","$value",1131],["T_WHITESPACE"," ",1131],"=",["T_WHITESPACE"," ",1131],["T_STRING","trim",1131],"(",["T_VARIABLE","$value",1131],")",";",["T_WHITESPACE","\n\n            ",1131],["T_VARIABLE","$semiPos",1133],["T_WHITESPACE"," ",1133],"=",["T_WHITESPACE"," ",1133],["T_STRING","strpos",1133],"(",["T_VARIABLE","$value",1133],",",["T_WHITESPACE"," ",1133],["T_CONSTANT_ENCAPSED_STRING","';'",1133],")",";",["T_WHITESPACE","\n            ",1133],["T_IF","if",1134],["T_WHITESPACE"," ",1134],"(",["T_VARIABLE","$semiPos",1134],["T_WHITESPACE"," ",1134],["T_IS_NOT_IDENTICAL","!==",1134],["T_WHITESPACE"," ",1134],["T_STRING","false",1134],")",["T_WHITESPACE"," ",1134],"{",["T_WHITESPACE","\n                ",1134],["T_VARIABLE","$params",1135],["T_WHITESPACE"," ",1135],"=",["T_WHITESPACE"," ",1135],["T_STRING","explode",1135],"(",["T_CONSTANT_ENCAPSED_STRING","';'",1135],",",["T_WHITESPACE"," ",1135],["T_VARIABLE","$value",1135],")",";",["T_WHITESPACE","\n                ",1135],["T_VARIABLE","$value",1136],["T_WHITESPACE"," ",1136],"=",["T_WHITESPACE"," ",1136],["T_STRING","trim",1136],"(",["T_VARIABLE","$params",1136],"[",["T_LNUMBER","0",1136],"]",")",";",["T_WHITESPACE","\n                ",1136],["T_FOREACH","foreach",1137],["T_WHITESPACE"," ",1137],"(",["T_VARIABLE","$params",1137],["T_WHITESPACE"," ",1137],["T_AS","as",1137],["T_WHITESPACE"," ",1137],["T_VARIABLE","$param",1137],")",["T_WHITESPACE"," ",1137],"{",["T_WHITESPACE","\n                    ",1137],["T_VARIABLE","$qPos",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_STRING","strpos",1138],"(",["T_VARIABLE","$param",1138],",",["T_WHITESPACE"," ",1138],["T_CONSTANT_ENCAPSED_STRING","'q='",1138],")",";",["T_WHITESPACE","\n                    ",1138],["T_IF","if",1139],["T_WHITESPACE"," ",1139],"(",["T_VARIABLE","$qPos",1139],["T_WHITESPACE"," ",1139],["T_IS_NOT_IDENTICAL","!==",1139],["T_WHITESPACE"," ",1139],["T_STRING","false",1139],")",["T_WHITESPACE"," ",1139],"{",["T_WHITESPACE","\n                        ",1139],["T_VARIABLE","$prefValue",1140],["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],["T_STRING","substr",1140],"(",["T_VARIABLE","$param",1140],",",["T_WHITESPACE"," ",1140],["T_VARIABLE","$qPos",1140],["T_WHITESPACE"," ",1140],"+",["T_WHITESPACE"," ",1140],["T_LNUMBER","2",1140],")",";",["T_WHITESPACE","\n                    ",1140],"}",["T_WHITESPACE","\n                ",1141],"}",["T_WHITESPACE","\n            ",1142],"}",["T_WHITESPACE","\n\n            ",1143],["T_IF","if",1145],["T_WHITESPACE"," ",1145],"(","!",["T_ISSET","isset",1145],"(",["T_VARIABLE","$accept",1145],"[",["T_VARIABLE","$prefValue",1145],"]",")",")",["T_WHITESPACE"," ",1145],"{",["T_WHITESPACE","\n                ",1145],["T_VARIABLE","$accept",1146],"[",["T_VARIABLE","$prefValue",1146],"]",["T_WHITESPACE"," ",1146],"=",["T_WHITESPACE"," ",1146],"[","]",";",["T_WHITESPACE","\n            ",1146],"}",["T_WHITESPACE","\n            ",1147],["T_IF","if",1148],["T_WHITESPACE"," ",1148],"(",["T_VARIABLE","$prefValue",1148],")",["T_WHITESPACE"," ",1148],"{",["T_WHITESPACE","\n                ",1148],["T_VARIABLE","$accept",1149],"[",["T_VARIABLE","$prefValue",1149],"]","[","]",["T_WHITESPACE"," ",1149],"=",["T_WHITESPACE"," ",1149],["T_VARIABLE","$value",1149],";",["T_WHITESPACE","\n            ",1149],"}",["T_WHITESPACE","\n        ",1150],"}",["T_WHITESPACE","\n        ",1151],["T_STRING","krsort",1152],"(",["T_VARIABLE","$accept",1152],")",";",["T_WHITESPACE","\n\n        ",1152],["T_RETURN","return",1154],["T_WHITESPACE"," ",1154],["T_VARIABLE","$accept",1154],";",["T_WHITESPACE","\n    ",1154],"}",["T_WHITESPACE","\n\n    ",1155],["T_DOC_COMMENT","\/**\n     * Provides a read accessor for `$this->query`. Allows you\n     * to use a syntax similar to `CakeSession` for reading URL query data.\n     *\n     * @param string $name Query string variable name\n     * @return mixed The value being read\n     *\/",1157],["T_WHITESPACE","\n    ",1163],["T_PUBLIC","public",1164],["T_WHITESPACE"," ",1164],["T_FUNCTION","function",1164],["T_WHITESPACE"," ",1164],["T_STRING","query",1164],"(",["T_VARIABLE","$name",1164],")",["T_WHITESPACE","\n    ",1164],"{",["T_WHITESPACE","\n        ",1165],["T_RETURN","return",1166],["T_WHITESPACE"," ",1166],["T_STRING","Hash",1166],["T_DOUBLE_COLON","::",1166],["T_STRING","get",1166],"(",["T_VARIABLE","$this",1166],["T_OBJECT_OPERATOR","->",1166],["T_STRING","query",1166],",",["T_WHITESPACE"," ",1166],["T_VARIABLE","$name",1166],")",";",["T_WHITESPACE","\n    ",1166],"}",["T_WHITESPACE","\n\n    ",1167],["T_DOC_COMMENT","\/**\n     * Provides a read\/write accessor for `$this->data`. Allows you\n     * to use a syntax similar to `Cake\\Model\\Datasource\\Session` for reading post data.\n     *\n     * ### Reading values.\n     *\n     * ```\n     * $request->data('Post.title');\n     * ```\n     *\n     * When reading values you will get `null` for keys\/values that do not exist.\n     *\n     * ### Writing values\n     *\n     * ```\n     * $request->data('Post.title', 'New post!');\n     * ```\n     *\n     * You can write to any value, even paths\/keys that do not exist, and the arrays\n     * will be created for you.\n     *\n     * @param string|null $name Dot separated name of the value to read\/write\n     * @return mixed|$this Either the value being read, or this so you can chain consecutive writes.\n     *\/",1169],["T_WHITESPACE","\n    ",1192],["T_PUBLIC","public",1193],["T_WHITESPACE"," ",1193],["T_FUNCTION","function",1193],["T_WHITESPACE"," ",1193],["T_STRING","data",1193],"(",["T_VARIABLE","$name",1193],["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],["T_STRING","null",1193],")",["T_WHITESPACE","\n    ",1193],"{",["T_WHITESPACE","\n        ",1194],["T_VARIABLE","$args",1195],["T_WHITESPACE"," ",1195],"=",["T_WHITESPACE"," ",1195],["T_STRING","func_get_args",1195],"(",")",";",["T_WHITESPACE","\n        ",1195],["T_IF","if",1196],["T_WHITESPACE"," ",1196],"(",["T_STRING","count",1196],"(",["T_VARIABLE","$args",1196],")",["T_WHITESPACE"," ",1196],["T_IS_IDENTICAL","===",1196],["T_WHITESPACE"," ",1196],["T_LNUMBER","2",1196],")",["T_WHITESPACE"," ",1196],"{",["T_WHITESPACE","\n            ",1196],["T_VARIABLE","$this",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","data",1197],["T_WHITESPACE"," ",1197],"=",["T_WHITESPACE"," ",1197],["T_STRING","Hash",1197],["T_DOUBLE_COLON","::",1197],["T_STRING","insert",1197],"(",["T_VARIABLE","$this",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","data",1197],",",["T_WHITESPACE"," ",1197],["T_VARIABLE","$name",1197],",",["T_WHITESPACE"," ",1197],["T_VARIABLE","$args",1197],"[",["T_LNUMBER","1",1197],"]",")",";",["T_WHITESPACE","\n\n            ",1197],["T_RETURN","return",1199],["T_WHITESPACE"," ",1199],["T_VARIABLE","$this",1199],";",["T_WHITESPACE","\n        ",1199],"}",["T_WHITESPACE","\n        ",1200],["T_IF","if",1201],["T_WHITESPACE"," ",1201],"(",["T_VARIABLE","$name",1201],["T_WHITESPACE"," ",1201],["T_IS_NOT_IDENTICAL","!==",1201],["T_WHITESPACE"," ",1201],["T_STRING","null",1201],")",["T_WHITESPACE"," ",1201],"{",["T_WHITESPACE","\n            ",1201],["T_RETURN","return",1202],["T_WHITESPACE"," ",1202],["T_STRING","Hash",1202],["T_DOUBLE_COLON","::",1202],["T_STRING","get",1202],"(",["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","data",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$name",1202],")",";",["T_WHITESPACE","\n        ",1202],"}",["T_WHITESPACE","\n\n        ",1203],["T_RETURN","return",1205],["T_WHITESPACE"," ",1205],["T_VARIABLE","$this",1205],["T_OBJECT_OPERATOR","->",1205],["T_STRING","data",1205],";",["T_WHITESPACE","\n    ",1205],"}",["T_WHITESPACE","\n\n    ",1206],["T_DOC_COMMENT","\/**\n     * Safely access the values in $this->params.\n     *\n     * @param string $name The name of the parameter to get.\n     * @return mixed|$this The value of the provided parameter. Will\n     *   return false if the parameter doesn't exist or is falsey.\n     *\/",1208],["T_WHITESPACE","\n    ",1214],["T_PUBLIC","public",1215],["T_WHITESPACE"," ",1215],["T_FUNCTION","function",1215],["T_WHITESPACE"," ",1215],["T_STRING","param",1215],"(",["T_VARIABLE","$name",1215],")",["T_WHITESPACE","\n    ",1215],"{",["T_WHITESPACE","\n        ",1216],["T_VARIABLE","$args",1217],["T_WHITESPACE"," ",1217],"=",["T_WHITESPACE"," ",1217],["T_STRING","func_get_args",1217],"(",")",";",["T_WHITESPACE","\n        ",1217],["T_IF","if",1218],["T_WHITESPACE"," ",1218],"(",["T_STRING","count",1218],"(",["T_VARIABLE","$args",1218],")",["T_WHITESPACE"," ",1218],["T_IS_IDENTICAL","===",1218],["T_WHITESPACE"," ",1218],["T_LNUMBER","2",1218],")",["T_WHITESPACE"," ",1218],"{",["T_WHITESPACE","\n            ",1218],["T_VARIABLE","$this",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","params",1219],["T_WHITESPACE"," ",1219],"=",["T_WHITESPACE"," ",1219],["T_STRING","Hash",1219],["T_DOUBLE_COLON","::",1219],["T_STRING","insert",1219],"(",["T_VARIABLE","$this",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","params",1219],",",["T_WHITESPACE"," ",1219],["T_VARIABLE","$name",1219],",",["T_WHITESPACE"," ",1219],["T_VARIABLE","$args",1219],"[",["T_LNUMBER","1",1219],"]",")",";",["T_WHITESPACE","\n\n            ",1219],["T_RETURN","return",1221],["T_WHITESPACE"," ",1221],["T_VARIABLE","$this",1221],";",["T_WHITESPACE","\n        ",1221],"}",["T_WHITESPACE","\n        ",1222],["T_IF","if",1223],["T_WHITESPACE"," ",1223],"(","!",["T_ISSET","isset",1223],"(",["T_VARIABLE","$this",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","params",1223],"[",["T_VARIABLE","$name",1223],"]",")",")",["T_WHITESPACE"," ",1223],"{",["T_WHITESPACE","\n            ",1223],["T_RETURN","return",1224],["T_WHITESPACE"," ",1224],["T_STRING","Hash",1224],["T_DOUBLE_COLON","::",1224],["T_STRING","get",1224],"(",["T_VARIABLE","$this",1224],["T_OBJECT_OPERATOR","->",1224],["T_STRING","params",1224],",",["T_WHITESPACE"," ",1224],["T_VARIABLE","$name",1224],",",["T_WHITESPACE"," ",1224],["T_STRING","false",1224],")",";",["T_WHITESPACE","\n        ",1224],"}",["T_WHITESPACE","\n\n        ",1225],["T_RETURN","return",1227],["T_WHITESPACE"," ",1227],["T_VARIABLE","$this",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","params",1227],"[",["T_VARIABLE","$name",1227],"]",";",["T_WHITESPACE","\n    ",1227],"}",["T_WHITESPACE","\n\n    ",1228],["T_DOC_COMMENT","\/**\n     * Read data from `php:\/\/input`. Useful when interacting with XML or JSON\n     * request body content.\n     *\n     * Getting input with a decoding function:\n     *\n     * ```\n     * $this->request->input('json_decode');\n     * ```\n     *\n     * Getting input using a decoding function, and additional params:\n     *\n     * ```\n     * $this->request->input('Xml::build', ['return' => 'DOMDocument']);\n     * ```\n     *\n     * Any additional parameters are applied to the callback in the order they are given.\n     *\n     * @param string|null $callback A decoding callback that will convert the string data to another\n     *     representation. Leave empty to access the raw input data. You can also\n     *     supply additional parameters for the decoding callback using var args, see above.\n     * @return string The decoded\/processed request data.\n     *\/",1230],["T_WHITESPACE","\n    ",1252],["T_PUBLIC","public",1253],["T_WHITESPACE"," ",1253],["T_FUNCTION","function",1253],["T_WHITESPACE"," ",1253],["T_STRING","input",1253],"(",["T_VARIABLE","$callback",1253],["T_WHITESPACE"," ",1253],"=",["T_WHITESPACE"," ",1253],["T_STRING","null",1253],")",["T_WHITESPACE","\n    ",1253],"{",["T_WHITESPACE","\n        ",1254],["T_VARIABLE","$input",1255],["T_WHITESPACE"," ",1255],"=",["T_WHITESPACE"," ",1255],["T_VARIABLE","$this",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","_readInput",1255],"(",")",";",["T_WHITESPACE","\n        ",1255],["T_VARIABLE","$args",1256],["T_WHITESPACE"," ",1256],"=",["T_WHITESPACE"," ",1256],["T_STRING","func_get_args",1256],"(",")",";",["T_WHITESPACE","\n        ",1256],["T_IF","if",1257],["T_WHITESPACE"," ",1257],"(","!",["T_EMPTY","empty",1257],"(",["T_VARIABLE","$args",1257],")",")",["T_WHITESPACE"," ",1257],"{",["T_WHITESPACE","\n            ",1257],["T_VARIABLE","$callback",1258],["T_WHITESPACE"," ",1258],"=",["T_WHITESPACE"," ",1258],["T_STRING","array_shift",1258],"(",["T_VARIABLE","$args",1258],")",";",["T_WHITESPACE","\n            ",1258],["T_STRING","array_unshift",1259],"(",["T_VARIABLE","$args",1259],",",["T_WHITESPACE"," ",1259],["T_VARIABLE","$input",1259],")",";",["T_WHITESPACE","\n\n            ",1259],["T_RETURN","return",1261],["T_WHITESPACE"," ",1261],["T_STRING","call_user_func_array",1261],"(",["T_VARIABLE","$callback",1261],",",["T_WHITESPACE"," ",1261],["T_VARIABLE","$args",1261],")",";",["T_WHITESPACE","\n        ",1261],"}",["T_WHITESPACE","\n\n        ",1262],["T_RETURN","return",1264],["T_WHITESPACE"," ",1264],["T_VARIABLE","$input",1264],";",["T_WHITESPACE","\n    ",1264],"}",["T_WHITESPACE","\n\n    ",1265],["T_DOC_COMMENT","\/**\n     * Read cookie data from the request's cookie data.\n     *\n     * @param string $key The key you want to read.\n     * @return null|string Either the cookie value, or null if the value doesn't exist.\n     *\/",1267],["T_WHITESPACE","\n    ",1272],["T_PUBLIC","public",1273],["T_WHITESPACE"," ",1273],["T_FUNCTION","function",1273],["T_WHITESPACE"," ",1273],["T_STRING","cookie",1273],"(",["T_VARIABLE","$key",1273],")",["T_WHITESPACE","\n    ",1273],"{",["T_WHITESPACE","\n        ",1274],["T_IF","if",1275],["T_WHITESPACE"," ",1275],"(",["T_ISSET","isset",1275],"(",["T_VARIABLE","$this",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","cookies",1275],"[",["T_VARIABLE","$key",1275],"]",")",")",["T_WHITESPACE"," ",1275],"{",["T_WHITESPACE","\n            ",1275],["T_RETURN","return",1276],["T_WHITESPACE"," ",1276],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","cookies",1276],"[",["T_VARIABLE","$key",1276],"]",";",["T_WHITESPACE","\n        ",1276],"}",["T_WHITESPACE","\n\n        ",1277],["T_RETURN","return",1279],["T_WHITESPACE"," ",1279],["T_STRING","null",1279],";",["T_WHITESPACE","\n    ",1279],"}",["T_WHITESPACE","\n\n    ",1280],["T_DOC_COMMENT","\/**\n     * Get\/Set value from the request's environment data.\n     * Fallback to using env() if key not set in $environment property.\n     *\n     * @param string $key The key you want to read\/write from\/to.\n     * @param string|null $value Value to set. Default null.\n     * @param string|null $default Default value when trying to retrieve an environment\n     *   variable's value that does not exist. The value parameter must be null.\n     * @return $this|string|null This instance if used as setter,\n     *   if used as getter either the environment value, or null if the value doesn't exist.\n     *\/",1282],["T_WHITESPACE","\n    ",1292],["T_PUBLIC","public",1293],["T_WHITESPACE"," ",1293],["T_FUNCTION","function",1293],["T_WHITESPACE"," ",1293],["T_STRING","env",1293],"(",["T_VARIABLE","$key",1293],",",["T_WHITESPACE"," ",1293],["T_VARIABLE","$value",1293],["T_WHITESPACE"," ",1293],"=",["T_WHITESPACE"," ",1293],["T_STRING","null",1293],",",["T_WHITESPACE"," ",1293],["T_VARIABLE","$default",1293],["T_WHITESPACE"," ",1293],"=",["T_WHITESPACE"," ",1293],["T_STRING","null",1293],")",["T_WHITESPACE","\n    ",1293],"{",["T_WHITESPACE","\n        ",1294],["T_IF","if",1295],["T_WHITESPACE"," ",1295],"(",["T_VARIABLE","$value",1295],["T_WHITESPACE"," ",1295],["T_IS_NOT_IDENTICAL","!==",1295],["T_WHITESPACE"," ",1295],["T_STRING","null",1295],")",["T_WHITESPACE"," ",1295],"{",["T_WHITESPACE","\n            ",1295],["T_VARIABLE","$this",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","_environment",1296],"[",["T_VARIABLE","$key",1296],"]",["T_WHITESPACE"," ",1296],"=",["T_WHITESPACE"," ",1296],["T_VARIABLE","$value",1296],";",["T_WHITESPACE","\n            ",1296],["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","clearDetectorCache",1297],"(",")",";",["T_WHITESPACE","\n\n            ",1297],["T_RETURN","return",1299],["T_WHITESPACE"," ",1299],["T_VARIABLE","$this",1299],";",["T_WHITESPACE","\n        ",1299],"}",["T_WHITESPACE","\n\n        ",1300],["T_VARIABLE","$key",1302],["T_WHITESPACE"," ",1302],"=",["T_WHITESPACE"," ",1302],["T_STRING","strtoupper",1302],"(",["T_VARIABLE","$key",1302],")",";",["T_WHITESPACE","\n        ",1302],["T_IF","if",1303],["T_WHITESPACE"," ",1303],"(","!",["T_STRING","array_key_exists",1303],"(",["T_VARIABLE","$key",1303],",",["T_WHITESPACE"," ",1303],["T_VARIABLE","$this",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","_environment",1303],")",")",["T_WHITESPACE"," ",1303],"{",["T_WHITESPACE","\n            ",1303],["T_VARIABLE","$this",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","_environment",1304],"[",["T_VARIABLE","$key",1304],"]",["T_WHITESPACE"," ",1304],"=",["T_WHITESPACE"," ",1304],["T_STRING","env",1304],"(",["T_VARIABLE","$key",1304],")",";",["T_WHITESPACE","\n        ",1304],"}",["T_WHITESPACE","\n\n        ",1305],["T_RETURN","return",1307],["T_WHITESPACE"," ",1307],["T_VARIABLE","$this",1307],["T_OBJECT_OPERATOR","->",1307],["T_STRING","_environment",1307],"[",["T_VARIABLE","$key",1307],"]",["T_WHITESPACE"," ",1307],["T_IS_NOT_IDENTICAL","!==",1307],["T_WHITESPACE"," ",1307],["T_STRING","null",1307],["T_WHITESPACE"," ",1307],"?",["T_WHITESPACE"," ",1307],["T_VARIABLE","$this",1307],["T_OBJECT_OPERATOR","->",1307],["T_STRING","_environment",1307],"[",["T_VARIABLE","$key",1307],"]",["T_WHITESPACE"," ",1307],":",["T_WHITESPACE"," ",1307],["T_VARIABLE","$default",1307],";",["T_WHITESPACE","\n    ",1307],"}",["T_WHITESPACE","\n\n    ",1308],["T_DOC_COMMENT","\/**\n     * Allow only certain HTTP request methods, if the request method does not match\n     * a 405 error will be shown and the required \"Allow\" response header will be set.\n     *\n     * Example:\n     *\n     * $this->request->allowMethod('post');\n     * or\n     * $this->request->allowMethod(['post', 'delete']);\n     *\n     * If the request would be GET, response header \"Allow: POST, DELETE\" will be set\n     * and a 405 error will be returned.\n     *\n     * @param string|array $methods Allowed HTTP request methods.\n     * @return bool true\n     * @throws \\Cake\\Network\\Exception\\MethodNotAllowedException\n     *\/",1310],["T_WHITESPACE","\n    ",1326],["T_PUBLIC","public",1327],["T_WHITESPACE"," ",1327],["T_FUNCTION","function",1327],["T_WHITESPACE"," ",1327],["T_STRING","allowMethod",1327],"(",["T_VARIABLE","$methods",1327],")",["T_WHITESPACE","\n    ",1327],"{",["T_WHITESPACE","\n        ",1328],["T_VARIABLE","$methods",1329],["T_WHITESPACE"," ",1329],"=",["T_WHITESPACE"," ",1329],["T_ARRAY_CAST","(array)",1329],["T_VARIABLE","$methods",1329],";",["T_WHITESPACE","\n        ",1329],["T_FOREACH","foreach",1330],["T_WHITESPACE"," ",1330],"(",["T_VARIABLE","$methods",1330],["T_WHITESPACE"," ",1330],["T_AS","as",1330],["T_WHITESPACE"," ",1330],["T_VARIABLE","$method",1330],")",["T_WHITESPACE"," ",1330],"{",["T_WHITESPACE","\n            ",1330],["T_IF","if",1331],["T_WHITESPACE"," ",1331],"(",["T_VARIABLE","$this",1331],["T_OBJECT_OPERATOR","->",1331],["T_STRING","is",1331],"(",["T_VARIABLE","$method",1331],")",")",["T_WHITESPACE"," ",1331],"{",["T_WHITESPACE","\n                ",1331],["T_RETURN","return",1332],["T_WHITESPACE"," ",1332],["T_STRING","true",1332],";",["T_WHITESPACE","\n            ",1332],"}",["T_WHITESPACE","\n        ",1333],"}",["T_WHITESPACE","\n        ",1334],["T_VARIABLE","$allowed",1335],["T_WHITESPACE"," ",1335],"=",["T_WHITESPACE"," ",1335],["T_STRING","strtoupper",1335],"(",["T_STRING","implode",1335],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1335],",",["T_WHITESPACE"," ",1335],["T_VARIABLE","$methods",1335],")",")",";",["T_WHITESPACE","\n        ",1335],["T_VARIABLE","$e",1336],["T_WHITESPACE"," ",1336],"=",["T_WHITESPACE"," ",1336],["T_NEW","new",1336],["T_WHITESPACE"," ",1336],["T_STRING","MethodNotAllowedException",1336],"(",")",";",["T_WHITESPACE","\n        ",1336],["T_VARIABLE","$e",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","responseHeader",1337],"(",["T_CONSTANT_ENCAPSED_STRING","'Allow'",1337],",",["T_WHITESPACE"," ",1337],["T_VARIABLE","$allowed",1337],")",";",["T_WHITESPACE","\n        ",1337],["T_THROW","throw",1338],["T_WHITESPACE"," ",1338],["T_VARIABLE","$e",1338],";",["T_WHITESPACE","\n    ",1338],"}",["T_WHITESPACE","\n\n    ",1339],["T_DOC_COMMENT","\/**\n     * Read data from php:\/\/input, mocked in tests.\n     *\n     * @return string contents of php:\/\/input\n     *\/",1341],["T_WHITESPACE","\n    ",1345],["T_PROTECTED","protected",1346],["T_WHITESPACE"," ",1346],["T_FUNCTION","function",1346],["T_WHITESPACE"," ",1346],["T_STRING","_readInput",1346],"(",")",["T_WHITESPACE","\n    ",1346],"{",["T_WHITESPACE","\n        ",1347],["T_IF","if",1348],["T_WHITESPACE"," ",1348],"(",["T_EMPTY","empty",1348],"(",["T_VARIABLE","$this",1348],["T_OBJECT_OPERATOR","->",1348],["T_STRING","_input",1348],")",")",["T_WHITESPACE"," ",1348],"{",["T_WHITESPACE","\n            ",1348],["T_VARIABLE","$fh",1349],["T_WHITESPACE"," ",1349],"=",["T_WHITESPACE"," ",1349],["T_STRING","fopen",1349],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/input'",1349],",",["T_WHITESPACE"," ",1349],["T_CONSTANT_ENCAPSED_STRING","'r'",1349],")",";",["T_WHITESPACE","\n            ",1349],["T_VARIABLE","$content",1350],["T_WHITESPACE"," ",1350],"=",["T_WHITESPACE"," ",1350],["T_STRING","stream_get_contents",1350],"(",["T_VARIABLE","$fh",1350],")",";",["T_WHITESPACE","\n            ",1350],["T_STRING","fclose",1351],"(",["T_VARIABLE","$fh",1351],")",";",["T_WHITESPACE","\n            ",1351],["T_VARIABLE","$this",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","_input",1352],["T_WHITESPACE"," ",1352],"=",["T_WHITESPACE"," ",1352],["T_VARIABLE","$content",1352],";",["T_WHITESPACE","\n        ",1352],"}",["T_WHITESPACE","\n\n        ",1353],["T_RETURN","return",1355],["T_WHITESPACE"," ",1355],["T_VARIABLE","$this",1355],["T_OBJECT_OPERATOR","->",1355],["T_STRING","_input",1355],";",["T_WHITESPACE","\n    ",1355],"}",["T_WHITESPACE","\n\n    ",1356],["T_DOC_COMMENT","\/**\n     * Modify data originally from `php:\/\/input`. Useful for altering json\/xml data\n     * in middleware or DispatcherFilters before it gets to RequestHandlerComponent\n     *\n     * @param string $input A string to replace original parsed data from input()\n     * @return void\n     *\/",1358],["T_WHITESPACE","\n    ",1364],["T_PUBLIC","public",1365],["T_WHITESPACE"," ",1365],["T_FUNCTION","function",1365],["T_WHITESPACE"," ",1365],["T_STRING","setInput",1365],"(",["T_VARIABLE","$input",1365],")",["T_WHITESPACE","\n    ",1365],"{",["T_WHITESPACE","\n        ",1366],["T_VARIABLE","$this",1367],["T_OBJECT_OPERATOR","->",1367],["T_STRING","_input",1367],["T_WHITESPACE"," ",1367],"=",["T_WHITESPACE"," ",1367],["T_VARIABLE","$input",1367],";",["T_WHITESPACE","\n    ",1367],"}",["T_WHITESPACE","\n\n    ",1368],["T_DOC_COMMENT","\/**\n     * Array access read implementation\n     *\n     * @param string $name Name of the key being accessed.\n     * @return mixed\n     *\/",1370],["T_WHITESPACE","\n    ",1375],["T_PUBLIC","public",1376],["T_WHITESPACE"," ",1376],["T_FUNCTION","function",1376],["T_WHITESPACE"," ",1376],["T_STRING","offsetGet",1376],"(",["T_VARIABLE","$name",1376],")",["T_WHITESPACE","\n    ",1376],"{",["T_WHITESPACE","\n        ",1377],["T_IF","if",1378],["T_WHITESPACE"," ",1378],"(",["T_ISSET","isset",1378],"(",["T_VARIABLE","$this",1378],["T_OBJECT_OPERATOR","->",1378],["T_STRING","params",1378],"[",["T_VARIABLE","$name",1378],"]",")",")",["T_WHITESPACE"," ",1378],"{",["T_WHITESPACE","\n            ",1378],["T_RETURN","return",1379],["T_WHITESPACE"," ",1379],["T_VARIABLE","$this",1379],["T_OBJECT_OPERATOR","->",1379],["T_STRING","params",1379],"[",["T_VARIABLE","$name",1379],"]",";",["T_WHITESPACE","\n        ",1379],"}",["T_WHITESPACE","\n        ",1380],["T_IF","if",1381],["T_WHITESPACE"," ",1381],"(",["T_VARIABLE","$name",1381],["T_WHITESPACE"," ",1381],["T_IS_IDENTICAL","===",1381],["T_WHITESPACE"," ",1381],["T_CONSTANT_ENCAPSED_STRING","'url'",1381],")",["T_WHITESPACE"," ",1381],"{",["T_WHITESPACE","\n            ",1381],["T_RETURN","return",1382],["T_WHITESPACE"," ",1382],["T_VARIABLE","$this",1382],["T_OBJECT_OPERATOR","->",1382],["T_STRING","query",1382],";",["T_WHITESPACE","\n        ",1382],"}",["T_WHITESPACE","\n        ",1383],["T_IF","if",1384],["T_WHITESPACE"," ",1384],"(",["T_VARIABLE","$name",1384],["T_WHITESPACE"," ",1384],["T_IS_IDENTICAL","===",1384],["T_WHITESPACE"," ",1384],["T_CONSTANT_ENCAPSED_STRING","'data'",1384],")",["T_WHITESPACE"," ",1384],"{",["T_WHITESPACE","\n            ",1384],["T_RETURN","return",1385],["T_WHITESPACE"," ",1385],["T_VARIABLE","$this",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","data",1385],";",["T_WHITESPACE","\n        ",1385],"}",["T_WHITESPACE","\n\n        ",1386],["T_RETURN","return",1388],["T_WHITESPACE"," ",1388],["T_STRING","null",1388],";",["T_WHITESPACE","\n    ",1388],"}",["T_WHITESPACE","\n\n    ",1389],["T_DOC_COMMENT","\/**\n     * Array access write implementation\n     *\n     * @param string $name Name of the key being written\n     * @param mixed $value The value being written.\n     * @return void\n     *\/",1391],["T_WHITESPACE","\n    ",1397],["T_PUBLIC","public",1398],["T_WHITESPACE"," ",1398],["T_FUNCTION","function",1398],["T_WHITESPACE"," ",1398],["T_STRING","offsetSet",1398],"(",["T_VARIABLE","$name",1398],",",["T_WHITESPACE"," ",1398],["T_VARIABLE","$value",1398],")",["T_WHITESPACE","\n    ",1398],"{",["T_WHITESPACE","\n        ",1399],["T_VARIABLE","$this",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","params",1400],"[",["T_VARIABLE","$name",1400],"]",["T_WHITESPACE"," ",1400],"=",["T_WHITESPACE"," ",1400],["T_VARIABLE","$value",1400],";",["T_WHITESPACE","\n    ",1400],"}",["T_WHITESPACE","\n\n    ",1401],["T_DOC_COMMENT","\/**\n     * Array access isset() implementation\n     *\n     * @param string $name thing to check.\n     * @return bool\n     *\/",1403],["T_WHITESPACE","\n    ",1408],["T_PUBLIC","public",1409],["T_WHITESPACE"," ",1409],["T_FUNCTION","function",1409],["T_WHITESPACE"," ",1409],["T_STRING","offsetExists",1409],"(",["T_VARIABLE","$name",1409],")",["T_WHITESPACE","\n    ",1409],"{",["T_WHITESPACE","\n        ",1410],["T_IF","if",1411],["T_WHITESPACE"," ",1411],"(",["T_VARIABLE","$name",1411],["T_WHITESPACE"," ",1411],["T_IS_IDENTICAL","===",1411],["T_WHITESPACE"," ",1411],["T_CONSTANT_ENCAPSED_STRING","'url'",1411],["T_WHITESPACE"," ",1411],["T_BOOLEAN_OR","||",1411],["T_WHITESPACE"," ",1411],["T_VARIABLE","$name",1411],["T_WHITESPACE"," ",1411],["T_IS_IDENTICAL","===",1411],["T_WHITESPACE"," ",1411],["T_CONSTANT_ENCAPSED_STRING","'data'",1411],")",["T_WHITESPACE"," ",1411],"{",["T_WHITESPACE","\n            ",1411],["T_RETURN","return",1412],["T_WHITESPACE"," ",1412],["T_STRING","true",1412],";",["T_WHITESPACE","\n        ",1412],"}",["T_WHITESPACE","\n\n        ",1413],["T_RETURN","return",1415],["T_WHITESPACE"," ",1415],["T_ISSET","isset",1415],"(",["T_VARIABLE","$this",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","params",1415],"[",["T_VARIABLE","$name",1415],"]",")",";",["T_WHITESPACE","\n    ",1415],"}",["T_WHITESPACE","\n\n    ",1416],["T_DOC_COMMENT","\/**\n     * Array access unset() implementation\n     *\n     * @param string $name Name to unset.\n     * @return void\n     *\/",1418],["T_WHITESPACE","\n    ",1423],["T_PUBLIC","public",1424],["T_WHITESPACE"," ",1424],["T_FUNCTION","function",1424],["T_WHITESPACE"," ",1424],["T_STRING","offsetUnset",1424],"(",["T_VARIABLE","$name",1424],")",["T_WHITESPACE","\n    ",1424],"{",["T_WHITESPACE","\n        ",1425],["T_UNSET","unset",1426],"(",["T_VARIABLE","$this",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","params",1426],"[",["T_VARIABLE","$name",1426],"]",")",";",["T_WHITESPACE","\n    ",1426],"}",["T_WHITESPACE","\n",1427],"}",["T_WHITESPACE","\n",1428]]