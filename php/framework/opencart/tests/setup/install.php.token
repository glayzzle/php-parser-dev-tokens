[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Demo install file allows for config and module settings to be set-up using a single setup file.\n *\n * Designed to be used with build automation services like Jenkins to save time with demo installation sites, no need\n * for admin to login to the store and update settings or installing modules manually for each test build.\n *\n * @todo support for modules & order totals\n * @todo create front end demo user account from config (or re-use current selenium test account)\n *\/",2],["T_WHITESPACE","\n\n",10],["T_COMMENT","\/\/ Version\n",12],["T_STRING","define",13],"(",["T_CONSTANT_ENCAPSED_STRING","'CONFIG_ADMIN'",13],",",["T_WHITESPACE"," ",13],["T_DIR","__DIR__",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/upload\/admin\/config.php'",13],")",";",["T_WHITESPACE","\n",13],["T_REQUIRE","require",14],"(",["T_CONSTANT_ENCAPSED_STRING","'.\/config.php'",14],")",";",["T_WHITESPACE","\n\n",14],["T_REQUIRE","require",16],"(",["T_STRING","CONFIG_ADMIN",16],")",";",["T_WHITESPACE","\n",16],["T_REQUIRE","require",17],"(",["T_STRING","DIR_SYSTEM",17],["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'library\/db.php'",17],")",";",["T_WHITESPACE","\n",17],["T_REQUIRE","require",18],"(",["T_STRING","DIR_SYSTEM",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'library\/db\/'",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_STRING","DB_DRIVER",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'.php'",18],")",";",["T_WHITESPACE","\n\n",18],["T_VARIABLE","$db",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_NEW","new",20],["T_WHITESPACE"," ",20],["T_STRING","DB",20],"(",["T_STRING","DB_DRIVER",20],",",["T_WHITESPACE"," ",20],["T_STRING","DB_HOSTNAME",20],",",["T_WHITESPACE"," ",20],["T_STRING","DB_USERNAME",20],",",["T_WHITESPACE"," ",20],["T_STRING","DB_PASSWORD",20],",",["T_WHITESPACE"," ",20],["T_STRING","DB_DATABASE",20],",",["T_WHITESPACE"," ",20],["T_STRING","DB_PORT",20],")",";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Store settings configuration\n *\/",22],["T_WHITESPACE","\n",24],["T_FOREACH","foreach",25],["T_WHITESPACE"," ",25],"(",["T_VARIABLE","$settings",25],["T_WHITESPACE"," ",25],["T_AS","as",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$store_id",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$store_settings",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\t",25],["T_VARIABLE","$query",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$db",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","query",26],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_STRING","DB_PREFIX",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"setting` WHERE store_id = '\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_INT_CAST","(int)",26],["T_VARIABLE","$store_id",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"'\"",26],")",";",["T_WHITESPACE","\n\n\t",26],["T_VARIABLE","$old_store_config",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",")",";",["T_WHITESPACE","\n\n\t",28],["T_FOREACH","foreach",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$query",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","rows",30],["T_WHITESPACE"," ",30],["T_AS","as",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$result",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t",30],["T_IF","if",31],["T_WHITESPACE"," ",31],"(",["T_VARIABLE","$result",31],"[",["T_CONSTANT_ENCAPSED_STRING","'serialized'",31],"]",["T_WHITESPACE"," ",31],["T_IS_EQUAL","==",31],["T_WHITESPACE"," ",31],["T_LNUMBER","1",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\t\t\t",31],["T_VARIABLE","$old_store_config",32],"[",["T_VARIABLE","$result",32],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",32],"]","]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","json_decode",32],"(",["T_VARIABLE","$result",32],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",32],"]",")",";",["T_WHITESPACE","\n\t\t",32],"}",["T_WHITESPACE"," ",33],["T_ELSE","else",33],["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n\t\t\t",33],["T_VARIABLE","$old_store_config",34],"[",["T_VARIABLE","$result",34],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",34],"]","]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$result",34],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",34],"]",";",["T_WHITESPACE","\n\n\t\t",34],"}",["T_WHITESPACE","\n\t",36],"}",["T_WHITESPACE","\n\n\t",37],["T_VARIABLE","$new_store_config",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","array_merge",39],"(",["T_VARIABLE","$old_store_config",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$store_settings",39],")",";",["T_WHITESPACE","\n\n\t",39],["T_STRING","editSetting",41],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$new_store_config",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$store_id",41],")",";",["T_WHITESPACE","\n",41],"}",["T_WHITESPACE","\n\n",42],["T_COMMENT","\/\/ Startup\n",44],["T_REQUIRE_ONCE","require_once",45],"(",["T_STRING","DIR_SYSTEM",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'startup.php'",45],")",";",["T_WHITESPACE","\n\n",45],["T_COMMENT","\/\/ Registry\n",47],["T_VARIABLE","$registry",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STRING","Registry",48],"(",")",";",["T_WHITESPACE","\n\n",48],["T_COMMENT","\/\/ Loader\n",50],["T_VARIABLE","$loader",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","Loader",51],"(",["T_VARIABLE","$registry",51],")",";",["T_WHITESPACE","\n",51],["T_VARIABLE","$registry",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","set",52],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$loader",52],")",";",["T_WHITESPACE","\n\n",52],["T_COMMENT","\/\/ Request\n",54],["T_VARIABLE","$request",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","Request",55],"(",")",";",["T_WHITESPACE","\n",55],["T_VARIABLE","$registry",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","set",56],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$request",56],")",";",["T_WHITESPACE","\n\n",56],["T_COMMENT","\/\/ Cache\n",58],["T_VARIABLE","$cache",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STRING","Cache",59],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",59],")",";",["T_WHITESPACE","\n",59],["T_VARIABLE","$registry",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","set",60],"(",["T_CONSTANT_ENCAPSED_STRING","'cache'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$cache",60],")",";",["T_WHITESPACE","\n\n",60],["T_COMMENT","\/\/ Session\n",62],["T_VARIABLE","$session",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Session",63],"(",")",";",["T_WHITESPACE","\n",63],["T_VARIABLE","$registry",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","set",64],"(",["T_CONSTANT_ENCAPSED_STRING","'session'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$session",64],")",";",["T_WHITESPACE","\n\n",64],["T_COMMENT","\/\/ Config\n",66],["T_VARIABLE","$config",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","Config",67],"(",")",";",["T_WHITESPACE","\n",67],["T_VARIABLE","$registry",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","set",68],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$config",68],")",";",["T_WHITESPACE","\n\n",68],["T_COMMENT","\/\/ Database\n",70],["T_VARIABLE","$registry",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","set",71],"(",["T_CONSTANT_ENCAPSED_STRING","'db'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$db",71],")",";",["T_WHITESPACE","\n\n",71],["T_COMMENT","\/\/ User\n",73],["T_VARIABLE","$user",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","Cart",74],["T_NS_SEPARATOR","\\",74],["T_STRING","User",74],"(",["T_VARIABLE","$registry",74],")",";",["T_WHITESPACE","\n",74],["T_VARIABLE","$user",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","login",75],"(",["T_STRING","ADMIN_USERNAME",75],",",["T_WHITESPACE"," ",75],["T_STRING","ADMIN_PASSWORD",75],")",";",["T_WHITESPACE","\n\n",75],["T_VARIABLE","$registry",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","set",77],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$user",77],")",";",["T_WHITESPACE","\n\n",77],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$module_settings",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$module_settings_type",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$module_settings_data",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n\t",79],["T_VARIABLE","$installed_extensions",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","getInstalledExtension",80],"(",["T_VARIABLE","$module_settings_type",80],")",";",["T_WHITESPACE","\n\n\t",80],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$installed_extensions",82],["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$remove_extension",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n\t\t",82],["T_VARIABLE","$loader",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","controller",83],"(",["T_VARIABLE","$module_settings_type",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'\/'",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$remove_extension",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'\/uninstall'",83],")",";",["T_WHITESPACE","\n\t\t",83],["T_STRING","deleteSetting",84],"(",["T_VARIABLE","$store_id",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$remove_extension",84],")",";",["T_WHITESPACE","\n\t",84],"}",["T_WHITESPACE","\n\n\t",85],["T_VARIABLE","$db",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","query",87],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_STRING","DB_PREFIX",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"extension WHERE `type` = '\"",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_VARIABLE","$db",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","escape",87],"(",["T_VARIABLE","$module_settings_type",87],")",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"' AND `code` = '\"",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_VARIABLE","$db",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","escape",87],"(",["T_VARIABLE","$remove_extension",87],")",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"'\"",87],")",";",["T_WHITESPACE","\n\n\t",87],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$module_settings_data",89],["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$module_key",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$module_data",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n\t\t",89],["T_VARIABLE","$db",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","query",90],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_STRING","DB_PREFIX",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"extension SET `type` = '\"",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$db",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","escape",90],"(",["T_VARIABLE","$module_settings_type",90],")",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"', `code` = '\"",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$db",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","escape",90],"(",["T_VARIABLE","$module_key",90],")",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"'\"",90],")",";",["T_WHITESPACE","\n\n\t\t",90],["T_VARIABLE","$loader",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","model",92],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/user_group'",92],")",";",["T_WHITESPACE","\n\n\t\t",92],["T_VARIABLE","$loader",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","controller",94],"(",["T_VARIABLE","$module_settings_type",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$module_key",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/install'",94],")",";",["T_WHITESPACE","\n\n\t\t",94],["T_STRING","editSetting",96],"(",["T_VARIABLE","$module_key",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$module_data",96],")",";",["T_WHITESPACE","\n\t",96],"}",["T_WHITESPACE","\n",97],"}",["T_WHITESPACE","\n\n",98],["T_ECHO","echo",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"Setting update completed\\r\\n\"",100],";",["T_WHITESPACE","\n\n",100],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","deleteSetting",102],"(",["T_VARIABLE","$store_id",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$code",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t",102],["T_GLOBAL","global",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$db",103],";",["T_WHITESPACE","\n\n\t",103],["T_VARIABLE","$db",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","query",105],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_STRING","DB_PREFIX",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"setting` WHERE store_id = '\"",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_INT_CAST","(int)",105],["T_VARIABLE","$store_id",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"' AND `code` = '\"",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$db",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","escape",105],"(",["T_VARIABLE","$code",105],")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"'\"",105],")",";",["T_WHITESPACE","\n",105],"}",["T_WHITESPACE","\n\n",106],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","editSetting",108],"(",["T_VARIABLE","$code",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$data",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$store_id",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n\t",108],["T_GLOBAL","global",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$db",109],";",["T_WHITESPACE","\n\n\t",109],["T_VARIABLE","$db",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","query",111],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_STRING","DB_PREFIX",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","\"setting` WHERE store_id = '\"",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_INT_CAST","(int)",111],["T_VARIABLE","$store_id",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","\"' AND `code` = '\"",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$db",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","escape",111],"(",["T_VARIABLE","$code",111],")",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","\"'\"",111],")",";",["T_WHITESPACE","\n\n\t",111],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$data",113],["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$key",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$value",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n\t\t",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_STRING","substr",114],"(",["T_VARIABLE","$key",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],",",["T_WHITESPACE"," ",114],["T_STRING","strlen",114],"(",["T_VARIABLE","$code",114],")",")",["T_WHITESPACE"," ",114],["T_IS_EQUAL","==",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$code",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n\t\t\t",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(","!",["T_STRING","is_array",115],"(",["T_VARIABLE","$value",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n\t\t\t\t",115],["T_VARIABLE","$db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","query",116],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_STRING","DB_PREFIX",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"setting SET store_id = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_INT_CAST","(int)",116],["T_VARIABLE","$store_id",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"', `code` = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_VARIABLE","$db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","escape",116],"(",["T_VARIABLE","$code",116],")",["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"', `key` = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_VARIABLE","$db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","escape",116],"(",["T_VARIABLE","$key",116],")",["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"', `value` = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_VARIABLE","$db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","escape",116],"(",["T_VARIABLE","$value",116],")",["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"'\"",116],")",";",["T_WHITESPACE","\n\t\t\t",116],"}",["T_WHITESPACE"," ",117],["T_ELSE","else",117],["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n\t\t\t\t",117],["T_VARIABLE","$db",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","query",118],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_STRING","DB_PREFIX",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"setting SET store_id = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_INT_CAST","(int)",118],["T_VARIABLE","$store_id",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"', `code` = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$db",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","escape",118],"(",["T_VARIABLE","$code",118],")",["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"', `key` = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$db",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","escape",118],"(",["T_VARIABLE","$key",118],")",["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"', `value` = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$db",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","escape",118],"(",["T_STRING","json_encode",118],"(",["T_VARIABLE","$value",118],")",")",["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"', serialized = '1'\"",118],")",";",["T_WHITESPACE","\n\t\t\t",118],"}",["T_WHITESPACE","\n\t\t",119],"}",["T_WHITESPACE","\n\t",120],"}",["T_WHITESPACE","\n",121],"}",["T_WHITESPACE","\n\n",122],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getInstalledExtension",124],"(",["T_VARIABLE","$type",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n\t",124],["T_GLOBAL","global",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$db",125],";",["T_WHITESPACE","\n\n\t",125],["T_VARIABLE","$extension_data",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",";",["T_WHITESPACE","\n\n\t",127],["T_VARIABLE","$query",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$db",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","query",129],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_STRING","DB_PREFIX",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"extension WHERE `type` = '\"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_VARIABLE","$db",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","escape",129],"(",["T_VARIABLE","$type",129],")",["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY code\"",129],")",";",["T_WHITESPACE","\n\n\t",129],["T_FOREACH","foreach",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$query",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","rows",131],["T_WHITESPACE"," ",131],["T_AS","as",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$result",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\t\t",131],["T_VARIABLE","$extension_data",132],"[","]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$result",132],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",132],"]",";",["T_WHITESPACE","\n\t",132],"}",["T_WHITESPACE","\n\n\t",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$extension_data",135],";",["T_WHITESPACE","\n",135],"}"]