[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_CLASS","class",3],["T_WHITESPACE"," ",3],["T_STRING","CatalogModelCatalogReviewTest",3],["T_WHITESPACE"," ",3],["T_EXTENDS","extends",3],["T_WHITESPACE"," ",3],["T_STRING","OpenCartTest",3],["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\n\t",3],["T_DOC_COMMENT","\/**\n\t * @before\n\t *\/",5],["T_WHITESPACE","\n\t",7],["T_PUBLIC","public",8],["T_WHITESPACE"," ",8],["T_FUNCTION","function",8],["T_WHITESPACE"," ",8],["T_STRING","setupTest",8],"(",")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t",8],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","loadModelByRoute",9],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/review'",9],")",";",["T_WHITESPACE","\n\t\t",9],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","query",10],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_STRING","DB_PREFIX",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"review\"",10],")",";",["T_WHITESPACE","\n\t",10],"}",["T_WHITESPACE","\n\t\n\t",11],["T_DOC_COMMENT","\/**\n\t * @after\n\t *\/",13],["T_WHITESPACE","\n\t",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","completeTest",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","loadModelByRoute",17],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/review'",17],")",";",["T_WHITESPACE","\n\t\t",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","db",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","query",18],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_STRING","DB_PREFIX",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","\"review\"",18],")",";",["T_WHITESPACE","\n\t",18],"}",["T_WHITESPACE","\n\t\n\t",19],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testAddReviews",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\t\t\n\t\t",21],["T_VARIABLE","$productId",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_LNUMBER","0",22],";",["T_WHITESPACE","\n\t\t",22],["T_VARIABLE","$data",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_WHITESPACE","\n\t\t\t",23],["T_CONSTANT_ENCAPSED_STRING","'name'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","\"Reviewer's name\"",24],",",["T_WHITESPACE","\n\t\t\t",24],["T_CONSTANT_ENCAPSED_STRING","'text'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'Review'",25],",",["T_WHITESPACE","\n\t\t\t",25],["T_CONSTANT_ENCAPSED_STRING","'rating'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_LNUMBER","0",26],",",["T_WHITESPACE","\n\t\t",26],")",";",["T_WHITESPACE","\n\t\t\n\t\t",27],["T_FOR","for",29],["T_WHITESPACE"," ",29],"(",["T_VARIABLE","$i",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],";",["T_WHITESPACE"," ",29],["T_VARIABLE","$i",29],["T_WHITESPACE"," ",29],"<",["T_WHITESPACE"," ",29],["T_LNUMBER","5",29],";",["T_WHITESPACE"," ",29],["T_VARIABLE","$i",29],["T_INC","++",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\t\t\t",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","model_catalog_review",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","addReview",30],"(",["T_VARIABLE","$productId",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$data",30],")",";",["T_WHITESPACE","\n\t\t",30],"}",["T_WHITESPACE","\n\t\t\n\t\t",31],["T_VARIABLE","$reviewCount",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_INT_CAST","(int)",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","db",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","query",33],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS review_num FROM \"",33],["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_STRING","DB_PREFIX",33],["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","\"review\"",33],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","row",33],"[",["T_CONSTANT_ENCAPSED_STRING","'review_num'",33],"]",";",["T_WHITESPACE","\n\t\t",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertEquals",34],"(",["T_LNUMBER","5",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$reviewCount",34],")",";",["T_WHITESPACE","\n\t",34],"}",["T_WHITESPACE","\n\t\n\t",35],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testGetReviews",37],"(",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n\t\t",37],["T_VARIABLE","$productId",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_LNUMBER","28",38],";",["T_WHITESPACE","\n\t\t",38],["T_VARIABLE","$data",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE","\n\t\t\t",39],["T_CONSTANT_ENCAPSED_STRING","'name'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","\"Reviewer's name\"",40],",",["T_WHITESPACE","\n\t\t\t",40],["T_CONSTANT_ENCAPSED_STRING","'text'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Review'",41],",",["T_WHITESPACE","\n\t\t\t",41],["T_CONSTANT_ENCAPSED_STRING","'rating'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],",",["T_WHITESPACE","\n\t\t",42],")",";",["T_WHITESPACE","\n\t\t\n\t\t",43],["T_FOR","for",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$i",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],";",["T_WHITESPACE"," ",45],["T_VARIABLE","$i",45],["T_WHITESPACE"," ",45],"<",["T_WHITESPACE"," ",45],["T_LNUMBER","5",45],";",["T_WHITESPACE"," ",45],["T_VARIABLE","$i",45],["T_INC","++",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n\t\t\t",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","model_catalog_review",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","addReview",46],"(",["T_VARIABLE","$productId",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$data",46],")",";",["T_WHITESPACE","\n\t\t",46],"}",["T_WHITESPACE","\n\t\t\n\t\t",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","db",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","query",49],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_STRING","DB_PREFIX",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"review SET `status` = 1\"",49],")",";",["T_WHITESPACE","\n\t\t\n\t\t",49],["T_VARIABLE","$reviews",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","model_catalog_review",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getReviewsByProductId",51],"(",["T_VARIABLE","$productId",51],")",";",["T_WHITESPACE","\n\t\t\n\t\t",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertCount",53],"(",["T_LNUMBER","5",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$reviews",53],")",";",["T_WHITESPACE","\n\t",53],"}",["T_WHITESPACE","\n\t\n\t",54],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","testGetReviewCount",56],"(",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n\t\t",56],["T_VARIABLE","$productId",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_LNUMBER","28",57],";",["T_WHITESPACE","\n\t\t",57],["T_VARIABLE","$data",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_WHITESPACE","\n\t\t\t",58],["T_CONSTANT_ENCAPSED_STRING","'name'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"Reviewer's name\"",59],",",["T_WHITESPACE","\n\t\t\t",59],["T_CONSTANT_ENCAPSED_STRING","'text'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Review'",60],",",["T_WHITESPACE","\n\t\t\t",60],["T_CONSTANT_ENCAPSED_STRING","'rating'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],",",["T_WHITESPACE","\n\t\t",61],")",";",["T_WHITESPACE","\n\t\t\n\t\t",62],["T_FOR","for",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$i",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","0",64],";",["T_WHITESPACE"," ",64],["T_VARIABLE","$i",64],["T_WHITESPACE"," ",64],"<",["T_WHITESPACE"," ",64],["T_LNUMBER","5",64],";",["T_WHITESPACE"," ",64],["T_VARIABLE","$i",64],["T_INC","++",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t\t",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","model_catalog_review",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","addReview",65],"(",["T_VARIABLE","$productId",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$data",65],")",";",["T_WHITESPACE","\n\t\t",65],"}",["T_WHITESPACE","\n\t\t\n\t\t",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","db",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","query",68],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_STRING","DB_PREFIX",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","\"review SET `status` = 1\"",68],")",";",["T_WHITESPACE","\n\t\t\n\t\t",68],["T_VARIABLE","$reviewCount",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","model_catalog_review",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getTotalReviewsByProductId",70],"(",["T_VARIABLE","$productId",70],")",";",["T_WHITESPACE","\n\t\t\n\t\t",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEquals",72],"(",["T_LNUMBER","5",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$reviewCount",72],")",";",["T_WHITESPACE","\n\t",72],"}",["T_WHITESPACE","\n",73],"}",["T_WHITESPACE","\n",74]]