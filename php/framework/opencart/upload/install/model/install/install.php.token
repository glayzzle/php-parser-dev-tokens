[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelInstallInstall",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","database",3],"(",["T_VARIABLE","$data",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$db",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_NEW","new",4],["T_WHITESPACE"," ",4],["T_STRING","DB",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'db_driver'",4],"]",",",["T_WHITESPACE"," ",4],["T_STRING","htmlspecialchars_decode",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'db_hostname'",4],"]",")",",",["T_WHITESPACE"," ",4],["T_STRING","htmlspecialchars_decode",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'db_username'",4],"]",")",",",["T_WHITESPACE"," ",4],["T_STRING","htmlspecialchars_decode",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'db_password'",4],"]",")",",",["T_WHITESPACE"," ",4],["T_STRING","htmlspecialchars_decode",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'db_database'",4],"]",")",",",["T_WHITESPACE"," ",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'db_port'",4],"]",")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$file",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_STRING","DIR_APPLICATION",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","'opencart.sql'",6],";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(","!",["T_STRING","file_exists",8],"(",["T_VARIABLE","$file",8],")",")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_EXIT","exit",9],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not load sql file: '",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_VARIABLE","$file",9],")",";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE","\n\n\t\t",10],["T_VARIABLE","$lines",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_STRING","file",12],"(",["T_VARIABLE","$file",12],")",";",["T_WHITESPACE","\n\n\t\t",12],["T_IF","if",14],["T_WHITESPACE"," ",14],"(",["T_VARIABLE","$lines",14],")",["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\t\t\t",14],["T_VARIABLE","$sql",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","''",15],";",["T_WHITESPACE","\n\n\t\t\t",15],["T_FOREACH","foreach",17],"(",["T_VARIABLE","$lines",17],["T_WHITESPACE"," ",17],["T_AS","as",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$line",17],")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t\t\t\t",17],["T_IF","if",18],["T_WHITESPACE"," ",18],"(",["T_VARIABLE","$line",18],["T_WHITESPACE"," ",18],["T_BOOLEAN_AND","&&",18],["T_WHITESPACE"," ",18],"(",["T_STRING","substr",18],"(",["T_VARIABLE","$line",18],",",["T_WHITESPACE"," ",18],["T_LNUMBER","0",18],",",["T_WHITESPACE"," ",18],["T_LNUMBER","2",18],")",["T_WHITESPACE"," ",18],["T_IS_NOT_EQUAL","!=",18],["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'--'",18],")",["T_WHITESPACE"," ",18],["T_BOOLEAN_AND","&&",18],["T_WHITESPACE"," ",18],"(",["T_STRING","substr",18],"(",["T_VARIABLE","$line",18],",",["T_WHITESPACE"," ",18],["T_LNUMBER","0",18],",",["T_WHITESPACE"," ",18],["T_LNUMBER","1",18],")",["T_WHITESPACE"," ",18],["T_IS_NOT_EQUAL","!=",18],["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'#'",18],")",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\t\t\t\t\t",18],["T_VARIABLE","$sql",19],["T_WHITESPACE"," ",19],["T_CONCAT_EQUAL",".=",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$line",19],";",["T_WHITESPACE","\n\n\t\t\t\t\t",19],["T_IF","if",21],["T_WHITESPACE"," ",21],"(",["T_STRING","preg_match",21],"(",["T_CONSTANT_ENCAPSED_STRING","'\/;\\s*$\/'",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$line",21],")",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",21],["T_VARIABLE","$sql",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","str_replace",22],"(",["T_CONSTANT_ENCAPSED_STRING","\"DROP TABLE IF EXISTS `oc_\"",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","\"DROP TABLE IF EXISTS `\"",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_VARIABLE","$data",22],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",22],"]",",",["T_WHITESPACE"," ",22],["T_VARIABLE","$sql",22],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",22],["T_VARIABLE","$sql",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","str_replace",23],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE TABLE `oc_\"",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\"CREATE TABLE `\"",23],["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_VARIABLE","$data",23],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",23],"]",",",["T_WHITESPACE"," ",23],["T_VARIABLE","$sql",23],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",23],["T_VARIABLE","$sql",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","str_replace",24],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `oc_\"",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_VARIABLE","$data",24],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",24],"]",",",["T_WHITESPACE"," ",24],["T_VARIABLE","$sql",24],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",24],["T_VARIABLE","$db",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","query",26],"(",["T_VARIABLE","$sql",26],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",26],["T_VARIABLE","$sql",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","''",28],";",["T_WHITESPACE","\n\t\t\t\t\t",28],"}",["T_WHITESPACE","\n\t\t\t\t",29],"}",["T_WHITESPACE","\n\t\t\t",30],"}",["T_WHITESPACE","\n\n\t\t\t",31],["T_VARIABLE","$db",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","query",33],"(",["T_CONSTANT_ENCAPSED_STRING","\"SET CHARACTER SET utf8\"",33],")",";",["T_WHITESPACE","\n\n\t\t\t",33],["T_VARIABLE","$db",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","query",35],"(",["T_CONSTANT_ENCAPSED_STRING","\"SET @@session.sql_mode = 'MYSQL40'\"",35],")",";",["T_WHITESPACE","\n\n\t\t\t",35],["T_VARIABLE","$db",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","query",37],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",37],"]",["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"user` WHERE user_id = '1'\"",37],")",";",["T_WHITESPACE","\n\n\t\t\t",37],["T_VARIABLE","$db",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","query",39],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",39],"]",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"user` SET user_id = '1', user_group_id = '1', username = '\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$db",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","escape",39],"(",["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",39],"]",")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"', salt = '\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$db",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","escape",39],"(",["T_VARIABLE","$salt",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","token",39],"(",["T_LNUMBER","9",39],")",")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"', password = '\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$db",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","escape",39],"(",["T_STRING","sha1",39],"(",["T_VARIABLE","$salt",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","sha1",39],"(",["T_VARIABLE","$salt",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","sha1",39],"(",["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",39],"]",")",")",")",")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"', firstname = 'John', lastname = 'Doe', email = '\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$db",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","escape",39],"(",["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",39],"]",")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"', status = '1', date_added = NOW()\"",39],")",";",["T_WHITESPACE","\n\n\t\t\t",39],["T_VARIABLE","$db",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","query",41],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$data",41],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",41],"]",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"setting` WHERE `key` = 'config_email'\"",41],")",";",["T_WHITESPACE","\n\t\t\t",41],["T_VARIABLE","$db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","query",42],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",42],"]",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"setting` SET `code` = 'config', `key` = 'config_email', value = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"'\"",42],")",";",["T_WHITESPACE","\n\n\t\t\t",42],["T_VARIABLE","$db",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","query",44],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_VARIABLE","$data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",44],"]",["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"setting` WHERE `key` = 'config_encryption'\"",44],")",";",["T_WHITESPACE","\n\t\t\t",44],["T_VARIABLE","$db",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","query",45],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_VARIABLE","$data",45],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",45],"]",["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","\"setting` SET `code` = 'config', `key` = 'config_encryption', value = '\"",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_VARIABLE","$db",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","escape",45],"(",["T_STRING","token",45],"(",["T_LNUMBER","1024",45],")",")",["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","\"'\"",45],")",";",["T_WHITESPACE","\n\n\t\t\t",45],["T_VARIABLE","$db",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","query",47],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_VARIABLE","$data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",47],"]",["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"product` SET `viewed` = '0'\"",47],")",";",["T_WHITESPACE","\n\n\t\t\t",47],["T_VARIABLE","$db",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","query",49],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$data",49],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",49],"]",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"api` SET name = 'Default', `key` = '\"",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$db",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","escape",49],"(",["T_STRING","token",49],"(",["T_LNUMBER","256",49],")",")",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"', status = 1, date_added = NOW(), date_modified = NOW()\"",49],")",";",["T_WHITESPACE","\n\n\t\t\t",49],["T_VARIABLE","$api_id",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$db",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getLastId",51],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",51],["T_VARIABLE","$db",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","query",53],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$data",53],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",53],"]",["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","\"setting` WHERE `key` = 'config_api_id'\"",53],")",";",["T_WHITESPACE","\n\t\t\t",53],["T_VARIABLE","$db",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","query",54],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_VARIABLE","$data",54],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",54],"]",["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"setting` SET `code` = 'config', `key` = 'config_api_id', value = '\"",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_INT_CAST","(int)",54],["T_VARIABLE","$api_id",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"'\"",54],")",";",["T_WHITESPACE","\n\t\t",54],"}",["T_WHITESPACE","\n\t",55],"}",["T_WHITESPACE","\n",56],"}",["T_WHITESPACE","\n",57]]