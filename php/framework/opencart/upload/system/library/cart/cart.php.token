[["T_OPEN_TAG","<?php\n",1],["T_NAMESPACE","namespace",2],["T_WHITESPACE"," ",2],["T_STRING","Cart",2],";",["T_WHITESPACE","\n",2],["T_CLASS","class",3],["T_WHITESPACE"," ",3],["T_STRING","Cart",3],["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t",3],["T_PRIVATE","private",4],["T_WHITESPACE"," ",4],["T_VARIABLE","$data",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_ARRAY","array",4],"(",")",";",["T_WHITESPACE","\n\n\t",4],["T_PUBLIC","public",6],["T_WHITESPACE"," ",6],["T_FUNCTION","function",6],["T_WHITESPACE"," ",6],["T_STRING","__construct",6],"(",["T_VARIABLE","$registry",6],")",["T_WHITESPACE"," ",6],"{",["T_WHITESPACE","\n\t\t",6],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","config",7],["T_WHITESPACE"," ",7],"=",["T_WHITESPACE"," ",7],["T_VARIABLE","$registry",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",7],")",";",["T_WHITESPACE","\n\t\t",7],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","customer",8],["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$registry",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",8],")",";",["T_WHITESPACE","\n\t\t",8],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","session",9],["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_VARIABLE","$registry",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","get",9],"(",["T_CONSTANT_ENCAPSED_STRING","'session'",9],")",";",["T_WHITESPACE","\n\t\t",9],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_VARIABLE","$registry",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","get",10],"(",["T_CONSTANT_ENCAPSED_STRING","'db'",10],")",";",["T_WHITESPACE","\n\t\t",10],["T_VARIABLE","$this",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","tax",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_VARIABLE","$registry",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","get",11],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",11],")",";",["T_WHITESPACE","\n\t\t",11],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","weight",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_VARIABLE","$registry",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",12],")",";",["T_WHITESPACE","\n\n\t\t",12],["T_COMMENT","\/\/ Remove all the expired carts with no customer ID\n",14],["T_WHITESPACE","\t\t",15],["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","db",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","query",15],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_STRING","DB_PREFIX",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","\"cart WHERE (api_id > '0' OR customer_id = '0') AND date_added < DATE_SUB(NOW(), INTERVAL 1 HOUR)\"",15],")",";",["T_WHITESPACE","\n\n\t\t",15],["T_IF","if",17],["T_WHITESPACE"," ",17],"(",["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","customer",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","getId",17],"(",")",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t\t\t",17],["T_COMMENT","\/\/ We want to change the session ID on all the old items in the customers cart\n",18],["T_WHITESPACE","\t\t\t",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","db",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","query",19],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_STRING","DB_PREFIX",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"cart SET session_id = '\"",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","db",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","escape",19],"(",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","session",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","getId",19],"(",")",")",["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE api_id = '0' AND customer_id = '\"",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_INT_CAST","(int)",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","customer",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","getId",19],"(",")",["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"'\"",19],")",";",["T_WHITESPACE","\n\n\t\t\t",19],["T_COMMENT","\/\/ Once the customer is logged in we want to update the customers cart\n",21],["T_WHITESPACE","\t\t\t",22],["T_VARIABLE","$cart_query",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","db",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","query",22],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_STRING","DB_PREFIX",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","\"cart WHERE api_id = '0' AND customer_id = '0' AND session_id = '\"",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","db",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","escape",22],"(",["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","session",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getId",22],"(",")",")",["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","\"'\"",22],")",";",["T_WHITESPACE","\n\n\t\t\t",22],["T_FOREACH","foreach",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$cart_query",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","rows",24],["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$cart",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\t\t\t\t",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","db",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","query",25],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",25],["T_WHITESPACE"," ",25],".",["T_WHITESPACE"," ",25],["T_STRING","DB_PREFIX",25],["T_WHITESPACE"," ",25],".",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","\"cart WHERE cart_id = '\"",25],["T_WHITESPACE"," ",25],".",["T_WHITESPACE"," ",25],["T_INT_CAST","(int)",25],["T_VARIABLE","$cart",25],"[",["T_CONSTANT_ENCAPSED_STRING","'cart_id'",25],"]",["T_WHITESPACE"," ",25],".",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","\"'\"",25],")",";",["T_WHITESPACE","\n\n\t\t\t\t",25],["T_COMMENT","\/\/ The advantage of using $this->add is that it will check if the products already exist and increaser the quantity if necessary.\n",27],["T_WHITESPACE","\t\t\t\t",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","add",28],"(",["T_VARIABLE","$cart",28],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",28],"]",",",["T_WHITESPACE"," ",28],["T_VARIABLE","$cart",28],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",28],"]",",",["T_WHITESPACE"," ",28],["T_STRING","json_decode",28],"(",["T_VARIABLE","$cart",28],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",28],"]",")",",",["T_WHITESPACE"," ",28],["T_VARIABLE","$cart",28],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_id'",28],"]",")",";",["T_WHITESPACE","\n\t\t\t",28],"}",["T_WHITESPACE","\n\t\t",29],"}",["T_WHITESPACE","\n\t",30],"}",["T_WHITESPACE","\n\n\t",31],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","getProducts",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n\t\t",33],["T_VARIABLE","$product_data",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n\n\t\t",34],["T_VARIABLE","$cart_query",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","db",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","query",36],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_STRING","DB_PREFIX",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"cart WHERE api_id = '\"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],"(",["T_ISSET","isset",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","session",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","data",36],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",36],"]",")",["T_WHITESPACE"," ",36],"?",["T_WHITESPACE"," ",36],["T_INT_CAST","(int)",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","session",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","data",36],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",36],"]",["T_WHITESPACE"," ",36],":",["T_WHITESPACE"," ",36],["T_LNUMBER","0",36],")",["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_id = '\"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_INT_CAST","(int)",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","customer",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getId",36],"(",")",["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"' AND session_id = '\"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","db",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","escape",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","session",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getId",36],"(",")",")",["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"'\"",36],")",";",["T_WHITESPACE","\n\n\t\t",36],["T_FOREACH","foreach",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$cart_query",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","rows",38],["T_WHITESPACE"," ",38],["T_AS","as",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$cart",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t",38],["T_VARIABLE","$stock",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","true",39],";",["T_WHITESPACE","\n\n\t\t\t",39],["T_VARIABLE","$product_query",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","db",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","query",41],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_STRING","DB_PREFIX",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s LEFT JOIN \"",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_STRING","DB_PREFIX",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (p2s.product_id = p.product_id) LEFT JOIN \"",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_STRING","DB_PREFIX",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id) WHERE p2s.store_id = '\"",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_INT_CAST","(int)",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","config",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",41],")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"' AND p2s.product_id = '\"",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_INT_CAST","(int)",41],["T_VARIABLE","$cart",41],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",41],"]",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"' AND pd.language_id = '\"",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_INT_CAST","(int)",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","config",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",41],")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"' AND p.date_available <= NOW() AND p.status = '1'\"",41],")",";",["T_WHITESPACE","\n\n\t\t\t",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$product_query",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","num_rows",43],["T_WHITESPACE"," ",43],["T_BOOLEAN_AND","&&",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$cart",43],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",43],"]",["T_WHITESPACE"," ",43],">",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t\t",43],["T_VARIABLE","$option_price",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],";",["T_WHITESPACE","\n\t\t\t\t",44],["T_VARIABLE","$option_points",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],";",["T_WHITESPACE","\n\t\t\t\t",45],["T_VARIABLE","$option_weight",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_LNUMBER","0",46],";",["T_WHITESPACE","\n\n\t\t\t\t",46],["T_VARIABLE","$option_data",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",48],["T_FOREACH","foreach",50],["T_WHITESPACE"," ",50],"(",["T_STRING","json_decode",50],"(",["T_VARIABLE","$cart",50],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",50],"]",")",["T_WHITESPACE"," ",50],["T_AS","as",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$product_option_id",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$value",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n\t\t\t\t\t",50],["T_VARIABLE","$option_query",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","db",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","query",51],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT po.product_option_id, po.option_id, od.name, o.type FROM \"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_STRING","DB_PREFIX",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"product_option po LEFT JOIN `\"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_STRING","DB_PREFIX",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"option` o ON (po.option_id = o.option_id) LEFT JOIN \"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_STRING","DB_PREFIX",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"option_description od ON (o.option_id = od.option_id) WHERE po.product_option_id = '\"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_INT_CAST","(int)",51],["T_VARIABLE","$product_option_id",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"' AND po.product_id = '\"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_INT_CAST","(int)",51],["T_VARIABLE","$cart",51],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",51],"]",["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"' AND od.language_id = '\"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_INT_CAST","(int)",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","config",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",51],")",["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"'\"",51],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",51],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$option_query",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","num_rows",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$option_query",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","row",54],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",54],"]",["T_WHITESPACE"," ",54],["T_IS_EQUAL","==",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'select'",54],["T_WHITESPACE"," ",54],["T_BOOLEAN_OR","||",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$option_query",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","row",54],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",54],"]",["T_WHITESPACE"," ",54],["T_IS_EQUAL","==",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'radio'",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",54],["T_VARIABLE","$option_value_query",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","db",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","query",55],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT pov.option_value_id, ovd.name, pov.quantity, pov.subtract, pov.price, pov.price_prefix, pov.points, pov.points_prefix, pov.weight, pov.weight_prefix FROM \"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_STRING","DB_PREFIX",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"product_option_value pov LEFT JOIN \"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_STRING","DB_PREFIX",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"option_value ov ON (pov.option_value_id = ov.option_value_id) LEFT JOIN \"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_STRING","DB_PREFIX",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"option_value_description ovd ON (ov.option_value_id = ovd.option_value_id) WHERE pov.product_option_value_id = '\"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_INT_CAST","(int)",55],["T_VARIABLE","$value",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"' AND pov.product_option_id = '\"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_INT_CAST","(int)",55],["T_VARIABLE","$product_option_id",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"' AND ovd.language_id = '\"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_INT_CAST","(int)",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","config",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",55],")",["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"'\"",55],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",55],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$option_value_query",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","num_rows",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$option_value_query",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","row",58],"[",["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",58],"]",["T_WHITESPACE"," ",58],["T_IS_EQUAL","==",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'+'",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",58],["T_VARIABLE","$option_price",59],["T_WHITESPACE"," ",59],["T_PLUS_EQUAL","+=",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$option_value_query",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","row",59],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",59],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",59],"}",["T_WHITESPACE"," ",60],["T_ELSEIF","elseif",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$option_value_query",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","row",60],"[",["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",60],"]",["T_WHITESPACE"," ",60],["T_IS_EQUAL","==",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'-'",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",60],["T_VARIABLE","$option_price",61],["T_WHITESPACE"," ",61],["T_MINUS_EQUAL","-=",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$option_value_query",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","row",61],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",61],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",61],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",62],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$option_value_query",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","row",64],"[",["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",64],"]",["T_WHITESPACE"," ",64],["T_IS_EQUAL","==",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'+'",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",64],["T_VARIABLE","$option_points",65],["T_WHITESPACE"," ",65],["T_PLUS_EQUAL","+=",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$option_value_query",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","row",65],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",65],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",65],"}",["T_WHITESPACE"," ",66],["T_ELSEIF","elseif",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$option_value_query",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","row",66],"[",["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",66],"]",["T_WHITESPACE"," ",66],["T_IS_EQUAL","==",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'-'",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",66],["T_VARIABLE","$option_points",67],["T_WHITESPACE"," ",67],["T_MINUS_EQUAL","-=",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$option_value_query",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","row",67],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",67],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",67],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$option_value_query",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","row",70],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",70],"]",["T_WHITESPACE"," ",70],["T_IS_EQUAL","==",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'+'",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",70],["T_VARIABLE","$option_weight",71],["T_WHITESPACE"," ",71],["T_PLUS_EQUAL","+=",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$option_value_query",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","row",71],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",71],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",71],"}",["T_WHITESPACE"," ",72],["T_ELSEIF","elseif",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$option_value_query",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","row",72],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",72],"]",["T_WHITESPACE"," ",72],["T_IS_EQUAL","==",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'-'",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",72],["T_VARIABLE","$option_weight",73],["T_WHITESPACE"," ",73],["T_MINUS_EQUAL","-=",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$option_value_query",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","row",73],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",73],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",73],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",74],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$option_value_query",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","row",76],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",76],"]",["T_WHITESPACE"," ",76],["T_BOOLEAN_AND","&&",76],["T_WHITESPACE"," ",76],"(","!",["T_VARIABLE","$option_value_query",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","row",76],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",76],"]",["T_WHITESPACE"," ",76],["T_BOOLEAN_OR","||",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$option_value_query",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","row",76],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",76],"]",["T_WHITESPACE"," ",76],"<",["T_WHITESPACE"," ",76],["T_VARIABLE","$cart",76],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",76],"]",")",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",76],["T_VARIABLE","$stock",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","false",77],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",77],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",78],["T_VARIABLE","$option_data",80],"[","]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",80],["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",81],["T_WHITESPACE","       ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$product_option_id",81],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",81],["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$value",82],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",82],["T_CONSTANT_ENCAPSED_STRING","'option_id'",83],["T_WHITESPACE","               ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$option_query",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","row",83],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",83],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",83],["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",84],["T_WHITESPACE","         ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$option_value_query",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","row",84],"[",["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",84],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",84],["T_CONSTANT_ENCAPSED_STRING","'name'",85],["T_WHITESPACE","                    ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$option_query",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","row",85],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",85],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",85],["T_CONSTANT_ENCAPSED_STRING","'value'",86],["T_WHITESPACE","                   ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$option_value_query",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","row",86],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",86],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",86],["T_CONSTANT_ENCAPSED_STRING","'type'",87],["T_WHITESPACE","                    ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$option_query",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","row",87],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",87],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",87],["T_CONSTANT_ENCAPSED_STRING","'quantity'",88],["T_WHITESPACE","                ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$option_value_query",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","row",88],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",88],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",88],["T_CONSTANT_ENCAPSED_STRING","'subtract'",89],["T_WHITESPACE","                ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$option_value_query",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","row",89],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",89],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",89],["T_CONSTANT_ENCAPSED_STRING","'price'",90],["T_WHITESPACE","                   ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$option_value_query",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","row",90],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",90],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",90],["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",91],["T_WHITESPACE","            ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$option_value_query",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","row",91],"[",["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",91],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",91],["T_CONSTANT_ENCAPSED_STRING","'points'",92],["T_WHITESPACE","                  ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$option_value_query",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","row",92],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",92],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",92],["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",93],["T_WHITESPACE","           ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$option_value_query",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","row",93],"[",["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",93],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",93],["T_CONSTANT_ENCAPSED_STRING","'weight'",94],["T_WHITESPACE","                  ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$option_value_query",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","row",94],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",94],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",94],["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",95],["T_WHITESPACE","           ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$option_value_query",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","row",95],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",95],"]",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",95],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",96],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",97],"}",["T_WHITESPACE"," ",98],["T_ELSEIF","elseif",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$option_query",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","row",98],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",98],"]",["T_WHITESPACE"," ",98],["T_IS_EQUAL","==",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",98],["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_STRING","is_array",98],"(",["T_VARIABLE","$value",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",98],["T_FOREACH","foreach",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$value",99],["T_WHITESPACE"," ",99],["T_AS","as",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$product_option_value_id",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",99],["T_VARIABLE","$option_value_query",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","db",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","query",100],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT pov.option_value_id, pov.quantity, pov.subtract, pov.price, pov.price_prefix, pov.points, pov.points_prefix, pov.weight, pov.weight_prefix, ovd.name FROM \"",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_STRING","DB_PREFIX",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"product_option_value pov LEFT JOIN \"",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_STRING","DB_PREFIX",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"option_value_description ovd ON (pov.option_value_id = ovd.option_value_id) WHERE pov.product_option_value_id = '\"",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_INT_CAST","(int)",100],["T_VARIABLE","$product_option_value_id",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"' AND pov.product_option_id = '\"",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_INT_CAST","(int)",100],["T_VARIABLE","$product_option_id",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"' AND ovd.language_id = '\"",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_INT_CAST","(int)",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","config",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","get",100],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",100],")",["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"'\"",100],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",100],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$option_value_query",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","num_rows",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$option_value_query",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","row",103],"[",["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",103],"]",["T_WHITESPACE"," ",103],["T_IS_EQUAL","==",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'+'",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",103],["T_VARIABLE","$option_price",104],["T_WHITESPACE"," ",104],["T_PLUS_EQUAL","+=",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$option_value_query",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","row",104],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",104],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",104],"}",["T_WHITESPACE"," ",105],["T_ELSEIF","elseif",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$option_value_query",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","row",105],"[",["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",105],"]",["T_WHITESPACE"," ",105],["T_IS_EQUAL","==",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'-'",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",105],["T_VARIABLE","$option_price",106],["T_WHITESPACE"," ",106],["T_MINUS_EQUAL","-=",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$option_value_query",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","row",106],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",106],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",106],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$option_value_query",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","row",109],"[",["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",109],"]",["T_WHITESPACE"," ",109],["T_IS_EQUAL","==",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'+'",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",109],["T_VARIABLE","$option_points",110],["T_WHITESPACE"," ",110],["T_PLUS_EQUAL","+=",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$option_value_query",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","row",110],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",110],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",110],"}",["T_WHITESPACE"," ",111],["T_ELSEIF","elseif",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$option_value_query",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","row",111],"[",["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",111],"]",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'-'",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",111],["T_VARIABLE","$option_points",112],["T_WHITESPACE"," ",112],["T_MINUS_EQUAL","-=",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$option_value_query",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","row",112],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",112],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",112],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$option_value_query",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","row",115],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",115],"]",["T_WHITESPACE"," ",115],["T_IS_EQUAL","==",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'+'",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",115],["T_VARIABLE","$option_weight",116],["T_WHITESPACE"," ",116],["T_PLUS_EQUAL","+=",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$option_value_query",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","row",116],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",116],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",116],"}",["T_WHITESPACE"," ",117],["T_ELSEIF","elseif",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$option_value_query",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","row",117],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",117],"]",["T_WHITESPACE"," ",117],["T_IS_EQUAL","==",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'-'",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",117],["T_VARIABLE","$option_weight",118],["T_WHITESPACE"," ",118],["T_MINUS_EQUAL","-=",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$option_value_query",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","row",118],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",118],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",118],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$option_value_query",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","row",121],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",121],"]",["T_WHITESPACE"," ",121],["T_BOOLEAN_AND","&&",121],["T_WHITESPACE"," ",121],"(","!",["T_VARIABLE","$option_value_query",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","row",121],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",121],"]",["T_WHITESPACE"," ",121],["T_BOOLEAN_OR","||",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$option_value_query",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","row",121],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",121],"]",["T_WHITESPACE"," ",121],"<",["T_WHITESPACE"," ",121],["T_VARIABLE","$cart",121],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",121],"]",")",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",121],["T_VARIABLE","$stock",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","false",122],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",122],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",123],["T_VARIABLE","$option_data",125],"[","]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",125],["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",126],["T_WHITESPACE","       ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$product_option_id",126],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",126],["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$product_option_value_id",127],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",127],["T_CONSTANT_ENCAPSED_STRING","'option_id'",128],["T_WHITESPACE","               ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$option_query",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","row",128],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",128],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",128],["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",129],["T_WHITESPACE","         ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$option_value_query",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","row",129],"[",["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",129],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",129],["T_CONSTANT_ENCAPSED_STRING","'name'",130],["T_WHITESPACE","                    ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$option_query",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","row",130],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",130],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",130],["T_CONSTANT_ENCAPSED_STRING","'value'",131],["T_WHITESPACE","                   ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$option_value_query",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","row",131],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",131],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",131],["T_CONSTANT_ENCAPSED_STRING","'type'",132],["T_WHITESPACE","                    ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$option_query",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","row",132],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",132],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",132],["T_CONSTANT_ENCAPSED_STRING","'quantity'",133],["T_WHITESPACE","                ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$option_value_query",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","row",133],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",133],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",133],["T_CONSTANT_ENCAPSED_STRING","'subtract'",134],["T_WHITESPACE","                ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$option_value_query",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","row",134],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",134],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",134],["T_CONSTANT_ENCAPSED_STRING","'price'",135],["T_WHITESPACE","                   ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$option_value_query",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","row",135],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",135],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",135],["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",136],["T_WHITESPACE","            ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$option_value_query",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","row",136],"[",["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",136],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",136],["T_CONSTANT_ENCAPSED_STRING","'points'",137],["T_WHITESPACE","                  ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$option_value_query",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","row",137],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",137],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",137],["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",138],["T_WHITESPACE","           ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$option_value_query",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","row",138],"[",["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",138],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",138],["T_CONSTANT_ENCAPSED_STRING","'weight'",139],["T_WHITESPACE","                  ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$option_value_query",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","row",139],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",139],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",139],["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",140],["T_WHITESPACE","           ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$option_value_query",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","row",140],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",140],"]",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",140],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",141],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",142],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",143],"}",["T_WHITESPACE"," ",144],["T_ELSEIF","elseif",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$option_query",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","row",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'text'",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_OR","||",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$option_query",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","row",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'textarea'",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_OR","||",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$option_query",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","row",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'file'",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_OR","||",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$option_query",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","row",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'date'",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_OR","||",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$option_query",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","row",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'datetime'",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_OR","||",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$option_query",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","row",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'time'",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",144],["T_VARIABLE","$option_data",145],"[","]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",145],["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",146],["T_WHITESPACE","       ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$product_option_id",146],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",146],["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","''",147],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",147],["T_CONSTANT_ENCAPSED_STRING","'option_id'",148],["T_WHITESPACE","               ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$option_query",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","row",148],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",148],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",148],["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",149],["T_WHITESPACE","         ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",149],["T_CONSTANT_ENCAPSED_STRING","'name'",150],["T_WHITESPACE","                    ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$option_query",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","row",150],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",150],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",150],["T_CONSTANT_ENCAPSED_STRING","'value'",151],["T_WHITESPACE","                   ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$value",151],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",151],["T_CONSTANT_ENCAPSED_STRING","'type'",152],["T_WHITESPACE","                    ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$option_query",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","row",152],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",152],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",152],["T_CONSTANT_ENCAPSED_STRING","'quantity'",153],["T_WHITESPACE","                ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","''",153],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",153],["T_CONSTANT_ENCAPSED_STRING","'subtract'",154],["T_WHITESPACE","                ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",154],["T_CONSTANT_ENCAPSED_STRING","'price'",155],["T_WHITESPACE","                   ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",155],["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",156],["T_WHITESPACE","            ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",156],["T_CONSTANT_ENCAPSED_STRING","'points'",157],["T_WHITESPACE","                  ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","''",157],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",157],["T_CONSTANT_ENCAPSED_STRING","'points_prefix'",158],["T_WHITESPACE","           ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",158],["T_CONSTANT_ENCAPSED_STRING","'weight'",159],["T_WHITESPACE","                  ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","''",159],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",159],["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",160],["T_WHITESPACE","           ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","''",160],["T_WHITESPACE","\n\t\t\t\t\t\t\t",160],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",161],"}",["T_WHITESPACE","\n\t\t\t\t\t",162],"}",["T_WHITESPACE","\n\t\t\t\t",163],"}",["T_WHITESPACE","\n\n\t\t\t\t",164],["T_VARIABLE","$price",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$product_query",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","row",166],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",166],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",166],["T_COMMENT","\/\/ Product Discounts\n",168],["T_WHITESPACE","\t\t\t\t",169],["T_VARIABLE","$discount_quantity",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_LNUMBER","0",169],";",["T_WHITESPACE","\n\n\t\t\t\t",169],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$cart_query",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","rows",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$cart_2",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t\t\t\t",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$cart_2",172],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",172],"]",["T_WHITESPACE"," ",172],["T_IS_EQUAL","==",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$cart",172],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",172],"]",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",172],["T_VARIABLE","$discount_quantity",173],["T_WHITESPACE"," ",173],["T_PLUS_EQUAL","+=",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$cart_2",173],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",173],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",173],"}",["T_WHITESPACE","\n\t\t\t\t",174],"}",["T_WHITESPACE","\n\n\t\t\t\t",175],["T_VARIABLE","$product_discount_query",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","db",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","query",177],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT price FROM \"",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_STRING","DB_PREFIX",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","\"product_discount WHERE product_id = '\"",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_INT_CAST","(int)",177],["T_VARIABLE","$cart",177],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",177],"]",["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_group_id = '\"",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_INT_CAST","(int)",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","config",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","get",177],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",177],")",["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","\"' AND quantity <= '\"",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_INT_CAST","(int)",177],["T_VARIABLE","$discount_quantity",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","\"' AND ((date_start = '0000-00-00' OR date_start < NOW()) AND (date_end = '0000-00-00' OR date_end > NOW())) ORDER BY quantity DESC, priority ASC, price ASC LIMIT 1\"",177],")",";",["T_WHITESPACE","\n\n\t\t\t\t",177],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$product_discount_query",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","num_rows",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n\t\t\t\t\t",179],["T_VARIABLE","$price",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$product_discount_query",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","row",180],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",180],"]",";",["T_WHITESPACE","\n\t\t\t\t",180],"}",["T_WHITESPACE","\n\n\t\t\t\t",181],["T_COMMENT","\/\/ Product Specials\n",183],["T_WHITESPACE","\t\t\t\t",184],["T_VARIABLE","$product_special_query",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","db",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","query",184],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT price FROM \"",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_STRING","DB_PREFIX",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","\"product_special WHERE product_id = '\"",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_INT_CAST","(int)",184],["T_VARIABLE","$cart",184],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",184],"]",["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_group_id = '\"",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_INT_CAST","(int)",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","config",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",184],")",["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","\"' AND ((date_start = '0000-00-00' OR date_start < NOW()) AND (date_end = '0000-00-00' OR date_end > NOW())) ORDER BY priority ASC, price ASC LIMIT 1\"",184],")",";",["T_WHITESPACE","\n\n\t\t\t\t",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$product_special_query",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","num_rows",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n\t\t\t\t\t",186],["T_VARIABLE","$price",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$product_special_query",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","row",187],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",187],"]",";",["T_WHITESPACE","\n\t\t\t\t",187],"}",["T_WHITESPACE","\n\n\t\t\t\t",188],["T_COMMENT","\/\/ Reward Points\n",190],["T_WHITESPACE","\t\t\t\t",191],["T_VARIABLE","$product_reward_query",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","db",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","query",191],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT points FROM \"",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_STRING","DB_PREFIX",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","\"product_reward WHERE product_id = '\"",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_INT_CAST","(int)",191],["T_VARIABLE","$cart",191],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",191],"]",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_group_id = '\"",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_INT_CAST","(int)",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","config",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","get",191],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",191],")",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","\"'\"",191],")",";",["T_WHITESPACE","\n\n\t\t\t\t",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$product_reward_query",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","num_rows",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n\t\t\t\t\t",193],["T_VARIABLE","$reward",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$product_reward_query",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","row",194],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",194],"]",";",["T_WHITESPACE","\n\t\t\t\t",194],"}",["T_WHITESPACE"," ",195],["T_ELSE","else",195],["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n\t\t\t\t\t",195],["T_VARIABLE","$reward",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_LNUMBER","0",196],";",["T_WHITESPACE","\n\t\t\t\t",196],"}",["T_WHITESPACE","\n\n\t\t\t\t",197],["T_COMMENT","\/\/ Downloads\n",199],["T_WHITESPACE","\t\t\t\t",200],["T_VARIABLE","$download_data",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",200],["T_VARIABLE","$download_query",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","db",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","query",202],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_STRING","DB_PREFIX",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","\"product_to_download p2d LEFT JOIN \"",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_STRING","DB_PREFIX",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","\"download d ON (p2d.download_id = d.download_id) LEFT JOIN \"",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_STRING","DB_PREFIX",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","\"download_description dd ON (d.download_id = dd.download_id) WHERE p2d.product_id = '\"",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_INT_CAST","(int)",202],["T_VARIABLE","$cart",202],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",202],"]",["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","\"' AND dd.language_id = '\"",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_INT_CAST","(int)",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","config",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","get",202],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",202],")",["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","\"'\"",202],")",";",["T_WHITESPACE","\n\n\t\t\t\t",202],["T_FOREACH","foreach",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$download_query",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","rows",204],["T_WHITESPACE"," ",204],["T_AS","as",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$download",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t\t\t\t\t",204],["T_VARIABLE","$download_data",205],"[","]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",205],["T_CONSTANT_ENCAPSED_STRING","'download_id'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$download",206],"[",["T_CONSTANT_ENCAPSED_STRING","'download_id'",206],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",206],["T_CONSTANT_ENCAPSED_STRING","'name'",207],["T_WHITESPACE","        ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$download",207],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",207],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",207],["T_CONSTANT_ENCAPSED_STRING","'filename'",208],["T_WHITESPACE","    ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$download",208],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",208],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",208],["T_CONSTANT_ENCAPSED_STRING","'mask'",209],["T_WHITESPACE","        ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$download",209],"[",["T_CONSTANT_ENCAPSED_STRING","'mask'",209],"]",["T_WHITESPACE","\n\t\t\t\t\t",209],")",";",["T_WHITESPACE","\n\t\t\t\t",210],"}",["T_WHITESPACE","\n\n\t\t\t\t",211],["T_COMMENT","\/\/ Stock\n",213],["T_WHITESPACE","\t\t\t\t",214],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_VARIABLE","$product_query",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","row",214],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",214],"]",["T_WHITESPACE"," ",214],["T_BOOLEAN_OR","||",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$product_query",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","row",214],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",214],"]",["T_WHITESPACE"," ",214],"<",["T_WHITESPACE"," ",214],["T_VARIABLE","$cart",214],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",214],"]",")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n\t\t\t\t\t",214],["T_VARIABLE","$stock",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","false",215],";",["T_WHITESPACE","\n\t\t\t\t",215],"}",["T_WHITESPACE","\n\n\t\t\t\t",216],["T_VARIABLE","$recurring_query",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","db",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","query",218],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_STRING","DB_PREFIX",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"recurring r LEFT JOIN \"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_STRING","DB_PREFIX",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"product_recurring pr ON (r.recurring_id = pr.recurring_id) LEFT JOIN \"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_STRING","DB_PREFIX",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"recurring_description rd ON (r.recurring_id = rd.recurring_id) WHERE r.recurring_id = '\"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_INT_CAST","(int)",218],["T_VARIABLE","$cart",218],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_id'",218],"]",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"' AND pr.product_id = '\"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_INT_CAST","(int)",218],["T_VARIABLE","$cart",218],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",218],"]",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"' AND rd.language_id = \"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_INT_CAST","(int)",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","config",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","get",218],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",218],")",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\" AND r.status = 1 AND pr.customer_group_id = '\"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_INT_CAST","(int)",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","config",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","get",218],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",218],")",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"'\"",218],")",";",["T_WHITESPACE","\n\n\t\t\t\t",218],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$recurring_query",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","num_rows",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n\t\t\t\t\t",220],["T_VARIABLE","$recurring",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",221],["T_CONSTANT_ENCAPSED_STRING","'recurring_id'",222],["T_WHITESPACE","    ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$cart",222],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_id'",222],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",222],["T_CONSTANT_ENCAPSED_STRING","'name'",223],["T_WHITESPACE","            ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$recurring_query",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","row",223],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",223],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",223],["T_CONSTANT_ENCAPSED_STRING","'frequency'",224],["T_WHITESPACE","       ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$recurring_query",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","row",224],"[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",224],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",224],["T_CONSTANT_ENCAPSED_STRING","'price'",225],["T_WHITESPACE","           ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$recurring_query",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","row",225],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",225],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",225],["T_CONSTANT_ENCAPSED_STRING","'cycle'",226],["T_WHITESPACE","           ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$recurring_query",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","row",226],"[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",226],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",226],["T_CONSTANT_ENCAPSED_STRING","'duration'",227],["T_WHITESPACE","        ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$recurring_query",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","row",227],"[",["T_CONSTANT_ENCAPSED_STRING","'duration'",227],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",227],["T_CONSTANT_ENCAPSED_STRING","'trial'",228],["T_WHITESPACE","           ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$recurring_query",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","row",228],"[",["T_CONSTANT_ENCAPSED_STRING","'trial_status'",228],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",228],["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$recurring_query",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","row",229],"[",["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",229],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",229],["T_CONSTANT_ENCAPSED_STRING","'trial_price'",230],["T_WHITESPACE","     ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$recurring_query",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","row",230],"[",["T_CONSTANT_ENCAPSED_STRING","'trial_price'",230],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",230],["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",231],["T_WHITESPACE","     ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$recurring_query",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","row",231],"[",["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",231],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",231],["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",232],["T_WHITESPACE","  ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$recurring_query",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","row",232],"[",["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",232],"]",["T_WHITESPACE","\n\t\t\t\t\t",232],")",";",["T_WHITESPACE","\n\t\t\t\t",233],"}",["T_WHITESPACE"," ",234],["T_ELSE","else",234],["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n\t\t\t\t\t",234],["T_VARIABLE","$recurring",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","false",235],";",["T_WHITESPACE","\n\t\t\t\t",235],"}",["T_WHITESPACE","\n\n\t\t\t\t",236],["T_VARIABLE","$product_data",238],"[","]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_WHITESPACE","\n\t\t\t\t\t",238],["T_CONSTANT_ENCAPSED_STRING","'cart_id'",239],["T_WHITESPACE","         ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$cart",239],"[",["T_CONSTANT_ENCAPSED_STRING","'cart_id'",239],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",239],["T_CONSTANT_ENCAPSED_STRING","'product_id'",240],["T_WHITESPACE","      ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$product_query",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","row",240],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",240],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",240],["T_CONSTANT_ENCAPSED_STRING","'name'",241],["T_WHITESPACE","            ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$product_query",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","row",241],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",241],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",241],["T_CONSTANT_ENCAPSED_STRING","'model'",242],["T_WHITESPACE","           ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$product_query",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","row",242],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",242],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",242],["T_CONSTANT_ENCAPSED_STRING","'shipping'",243],["T_WHITESPACE","        ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$product_query",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","row",243],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",243],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",243],["T_CONSTANT_ENCAPSED_STRING","'image'",244],["T_WHITESPACE","           ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$product_query",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","row",244],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",244],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",244],["T_CONSTANT_ENCAPSED_STRING","'option'",245],["T_WHITESPACE","          ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$option_data",245],",",["T_WHITESPACE","\n\t\t\t\t\t",245],["T_CONSTANT_ENCAPSED_STRING","'download'",246],["T_WHITESPACE","        ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$download_data",246],",",["T_WHITESPACE","\n\t\t\t\t\t",246],["T_CONSTANT_ENCAPSED_STRING","'quantity'",247],["T_WHITESPACE","        ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$cart",247],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",247],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",247],["T_CONSTANT_ENCAPSED_STRING","'minimum'",248],["T_WHITESPACE","         ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$product_query",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","row",248],"[",["T_CONSTANT_ENCAPSED_STRING","'minimum'",248],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",248],["T_CONSTANT_ENCAPSED_STRING","'subtract'",249],["T_WHITESPACE","        ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$product_query",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","row",249],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",249],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",249],["T_CONSTANT_ENCAPSED_STRING","'stock'",250],["T_WHITESPACE","           ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$stock",250],",",["T_WHITESPACE","\n\t\t\t\t\t",250],["T_CONSTANT_ENCAPSED_STRING","'price'",251],["T_WHITESPACE","           ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$price",251],["T_WHITESPACE"," ",251],"+",["T_WHITESPACE"," ",251],["T_VARIABLE","$option_price",251],")",",",["T_WHITESPACE","\n\t\t\t\t\t",251],["T_CONSTANT_ENCAPSED_STRING","'total'",252],["T_WHITESPACE","           ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$price",252],["T_WHITESPACE"," ",252],"+",["T_WHITESPACE"," ",252],["T_VARIABLE","$option_price",252],")",["T_WHITESPACE"," ",252],"*",["T_WHITESPACE"," ",252],["T_VARIABLE","$cart",252],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",252],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",252],["T_CONSTANT_ENCAPSED_STRING","'reward'",253],["T_WHITESPACE","          ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$reward",253],["T_WHITESPACE"," ",253],"*",["T_WHITESPACE"," ",253],["T_VARIABLE","$cart",253],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",253],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",253],["T_CONSTANT_ENCAPSED_STRING","'points'",254],["T_WHITESPACE","          ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$product_query",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","row",254],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",254],"]",["T_WHITESPACE"," ",254],"?",["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$product_query",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","row",254],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",254],"]",["T_WHITESPACE"," ",254],"+",["T_WHITESPACE"," ",254],["T_VARIABLE","$option_points",254],")",["T_WHITESPACE"," ",254],"*",["T_WHITESPACE"," ",254],["T_VARIABLE","$cart",254],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",254],"]",["T_WHITESPACE"," ",254],":",["T_WHITESPACE"," ",254],["T_LNUMBER","0",254],")",",",["T_WHITESPACE","\n\t\t\t\t\t",254],["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",255],["T_WHITESPACE","    ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$product_query",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","row",255],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",255],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",255],["T_CONSTANT_ENCAPSED_STRING","'weight'",256],["T_WHITESPACE","          ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$product_query",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","row",256],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",256],"]",["T_WHITESPACE"," ",256],"+",["T_WHITESPACE"," ",256],["T_VARIABLE","$option_weight",256],")",["T_WHITESPACE"," ",256],"*",["T_WHITESPACE"," ",256],["T_VARIABLE","$cart",256],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",256],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",256],["T_CONSTANT_ENCAPSED_STRING","'weight_class_id'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$product_query",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","row",257],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_class_id'",257],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",257],["T_CONSTANT_ENCAPSED_STRING","'length'",258],["T_WHITESPACE","          ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$product_query",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","row",258],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",258],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",258],["T_CONSTANT_ENCAPSED_STRING","'width'",259],["T_WHITESPACE","           ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$product_query",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","row",259],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",259],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",259],["T_CONSTANT_ENCAPSED_STRING","'height'",260],["T_WHITESPACE","          ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$product_query",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","row",260],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",260],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",260],["T_CONSTANT_ENCAPSED_STRING","'length_class_id'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$product_query",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","row",261],"[",["T_CONSTANT_ENCAPSED_STRING","'length_class_id'",261],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",261],["T_CONSTANT_ENCAPSED_STRING","'recurring'",262],["T_WHITESPACE","       ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$recurring",262],["T_WHITESPACE","\n\t\t\t\t",262],")",";",["T_WHITESPACE","\n\t\t\t",263],"}",["T_WHITESPACE"," ",264],["T_ELSE","else",264],["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n\t\t\t\t",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","remove",265],"(",["T_VARIABLE","$cart",265],"[",["T_CONSTANT_ENCAPSED_STRING","'cart_id'",265],"]",")",";",["T_WHITESPACE","\n\t\t\t",265],"}",["T_WHITESPACE","\n\t\t",266],"}",["T_WHITESPACE","\n\n\t\t",267],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$product_data",269],";",["T_WHITESPACE","\n\t",269],"}",["T_WHITESPACE","\n\n\t",270],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","add",272],"(",["T_VARIABLE","$product_id",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$quantity",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_LNUMBER","1",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$option",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",")",",",["T_WHITESPACE"," ",272],["T_VARIABLE","$recurring_id",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_LNUMBER","0",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n\t\t",272],["T_VARIABLE","$query",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","db",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","query",273],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_STRING","DB_PREFIX",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"cart WHERE api_id = '\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],"(",["T_ISSET","isset",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","session",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","data",273],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",273],"]",")",["T_WHITESPACE"," ",273],"?",["T_WHITESPACE"," ",273],["T_INT_CAST","(int)",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","session",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","data",273],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",273],"]",["T_WHITESPACE"," ",273],":",["T_WHITESPACE"," ",273],["T_LNUMBER","0",273],")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_id = '\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_INT_CAST","(int)",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","customer",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getId",273],"(",")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"' AND session_id = '\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","db",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","escape",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","session",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getId",273],"(",")",")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"' AND product_id = '\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_INT_CAST","(int)",273],["T_VARIABLE","$product_id",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"' AND recurring_id = '\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_INT_CAST","(int)",273],["T_VARIABLE","$recurring_id",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"' AND `option` = '\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","db",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","escape",273],"(",["T_STRING","json_encode",273],"(",["T_VARIABLE","$option",273],")",")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"'\"",273],")",";",["T_WHITESPACE","\n\n\t\t",273],["T_IF","if",275],["T_WHITESPACE"," ",275],"(","!",["T_VARIABLE","$query",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","row",275],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",275],"]",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n\t\t\t",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","db",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","query",276],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT \"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_STRING","DB_PREFIX",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"cart SET api_id = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],"(",["T_ISSET","isset",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","session",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","data",276],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",276],"]",")",["T_WHITESPACE"," ",276],"?",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","session",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","data",276],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",276],"]",["T_WHITESPACE"," ",276],":",["T_WHITESPACE"," ",276],["T_LNUMBER","0",276],")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', customer_id = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","customer",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getId",276],"(",")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', session_id = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","db",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","escape",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","session",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getId",276],"(",")",")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', product_id = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$product_id",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', recurring_id = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$recurring_id",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', `option` = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","db",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","escape",276],"(",["T_STRING","json_encode",276],"(",["T_VARIABLE","$option",276],")",")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', quantity = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$quantity",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",276],")",";",["T_WHITESPACE","\n\t\t",276],"}",["T_WHITESPACE"," ",277],["T_ELSE","else",277],["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n\t\t\t",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","db",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","query",278],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_STRING","DB_PREFIX",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"cart SET quantity = (quantity + \"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_INT_CAST","(int)",278],["T_VARIABLE","$quantity",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\") WHERE api_id = '\"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],"(",["T_ISSET","isset",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","session",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","data",278],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",278],"]",")",["T_WHITESPACE"," ",278],"?",["T_WHITESPACE"," ",278],["T_INT_CAST","(int)",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","session",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","data",278],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",278],"]",["T_WHITESPACE"," ",278],":",["T_WHITESPACE"," ",278],["T_LNUMBER","0",278],")",["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_id = '\"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_INT_CAST","(int)",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","customer",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getId",278],"(",")",["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"' AND session_id = '\"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","db",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","escape",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","session",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getId",278],"(",")",")",["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"' AND product_id = '\"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_INT_CAST","(int)",278],["T_VARIABLE","$product_id",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"' AND recurring_id = '\"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_INT_CAST","(int)",278],["T_VARIABLE","$recurring_id",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"' AND `option` = '\"",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","db",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","escape",278],"(",["T_STRING","json_encode",278],"(",["T_VARIABLE","$option",278],")",")",["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"'\"",278],")",";",["T_WHITESPACE","\n\t\t",278],"}",["T_WHITESPACE","\n\t",279],"}",["T_WHITESPACE","\n\n\t",280],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","update",282],"(",["T_VARIABLE","$cart_id",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$quantity",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n\t\t",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","db",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","query",283],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_STRING","DB_PREFIX",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"cart SET quantity = '\"",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_INT_CAST","(int)",283],["T_VARIABLE","$quantity",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE cart_id = '\"",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_INT_CAST","(int)",283],["T_VARIABLE","$cart_id",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"' AND api_id = '\"",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],"(",["T_ISSET","isset",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","session",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","data",283],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",283],"]",")",["T_WHITESPACE"," ",283],"?",["T_WHITESPACE"," ",283],["T_INT_CAST","(int)",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","session",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","data",283],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",283],"]",["T_WHITESPACE"," ",283],":",["T_WHITESPACE"," ",283],["T_LNUMBER","0",283],")",["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_id = '\"",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_INT_CAST","(int)",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","customer",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getId",283],"(",")",["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"' AND session_id = '\"",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","db",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","escape",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","session",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getId",283],"(",")",")",["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"'\"",283],")",";",["T_WHITESPACE","\n\t",283],"}",["T_WHITESPACE","\n\n\t",284],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","remove",286],"(",["T_VARIABLE","$cart_id",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n\t\t",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","db",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","query",287],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_STRING","DB_PREFIX",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\"cart WHERE cart_id = '\"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_INT_CAST","(int)",287],["T_VARIABLE","$cart_id",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\"' AND api_id = '\"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],"(",["T_ISSET","isset",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","session",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","data",287],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",287],"]",")",["T_WHITESPACE"," ",287],"?",["T_WHITESPACE"," ",287],["T_INT_CAST","(int)",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","session",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","data",287],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",287],"]",["T_WHITESPACE"," ",287],":",["T_WHITESPACE"," ",287],["T_LNUMBER","0",287],")",["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_id = '\"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_INT_CAST","(int)",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","customer",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getId",287],"(",")",["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\"' AND session_id = '\"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","db",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","escape",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","session",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getId",287],"(",")",")",["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\"'\"",287],")",";",["T_WHITESPACE","\n\t",287],"}",["T_WHITESPACE","\n\n\t",288],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","clear",290],"(",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n\t\t",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","db",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","query",291],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",291],["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_STRING","DB_PREFIX",291],["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","\"cart WHERE api_id = '\"",291],["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],"(",["T_ISSET","isset",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","session",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","data",291],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",291],"]",")",["T_WHITESPACE"," ",291],"?",["T_WHITESPACE"," ",291],["T_INT_CAST","(int)",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","session",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","data",291],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",291],"]",["T_WHITESPACE"," ",291],":",["T_WHITESPACE"," ",291],["T_LNUMBER","0",291],")",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_id = '\"",291],["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_INT_CAST","(int)",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","customer",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getId",291],"(",")",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","\"' AND session_id = '\"",291],["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","db",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","escape",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","session",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getId",291],"(",")",")",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","\"'\"",291],")",";",["T_WHITESPACE","\n\t",291],"}",["T_WHITESPACE","\n\n\t",292],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","getRecurringProducts",294],"(",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n\t\t",294],["T_VARIABLE","$product_data",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",")",";",["T_WHITESPACE","\n\n\t\t",295],["T_FOREACH","foreach",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getProducts",297],"(",")",["T_WHITESPACE"," ",297],["T_AS","as",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$value",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n\t\t\t",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$value",298],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",298],"]",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n\t\t\t\t",298],["T_VARIABLE","$product_data",299],"[","]",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$value",299],";",["T_WHITESPACE","\n\t\t\t",299],"}",["T_WHITESPACE","\n\t\t",300],"}",["T_WHITESPACE","\n\n\t\t",301],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$product_data",303],";",["T_WHITESPACE","\n\t",303],"}",["T_WHITESPACE","\n\n\t",304],["T_PUBLIC","public",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","getWeight",306],"(",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n\t\t",306],["T_VARIABLE","$weight",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_LNUMBER","0",307],";",["T_WHITESPACE","\n\n\t\t",307],["T_FOREACH","foreach",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getProducts",309],"(",")",["T_WHITESPACE"," ",309],["T_AS","as",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$product",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n\t\t\t",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$product",310],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",310],"]",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n\t\t\t\t",310],["T_VARIABLE","$weight",311],["T_WHITESPACE"," ",311],["T_PLUS_EQUAL","+=",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","weight",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","convert",311],"(",["T_VARIABLE","$product",311],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",311],"]",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$product",311],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_class_id'",311],"]",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","config",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","get",311],"(",["T_CONSTANT_ENCAPSED_STRING","'config_weight_class_id'",311],")",")",";",["T_WHITESPACE","\n\t\t\t",311],"}",["T_WHITESPACE","\n\t\t",312],"}",["T_WHITESPACE","\n\n\t\t",313],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$weight",315],";",["T_WHITESPACE","\n\t",315],"}",["T_WHITESPACE","\n\n\t",316],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","getSubTotal",318],"(",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n\t\t",318],["T_VARIABLE","$total",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_LNUMBER","0",319],";",["T_WHITESPACE","\n\n\t\t",319],["T_FOREACH","foreach",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getProducts",321],"(",")",["T_WHITESPACE"," ",321],["T_AS","as",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$product",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n\t\t\t",321],["T_VARIABLE","$total",322],["T_WHITESPACE"," ",322],["T_PLUS_EQUAL","+=",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$product",322],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",322],"]",";",["T_WHITESPACE","\n\t\t",322],"}",["T_WHITESPACE","\n\n\t\t",323],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$total",325],";",["T_WHITESPACE","\n\t",325],"}",["T_WHITESPACE","\n\n\t",326],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getTaxes",328],"(",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n\t\t",328],["T_VARIABLE","$tax_data",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",")",";",["T_WHITESPACE","\n\n\t\t",329],["T_FOREACH","foreach",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getProducts",331],"(",")",["T_WHITESPACE"," ",331],["T_AS","as",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$product",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n\t\t\t",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$product",332],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",332],"]",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n\t\t\t\t",332],["T_VARIABLE","$tax_rates",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","tax",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getRates",333],"(",["T_VARIABLE","$product",333],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",333],"]",",",["T_WHITESPACE"," ",333],["T_VARIABLE","$product",333],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",333],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",333],["T_FOREACH","foreach",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$tax_rates",335],["T_WHITESPACE"," ",335],["T_AS","as",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$tax_rate",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n\t\t\t\t\t",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(","!",["T_ISSET","isset",336],"(",["T_VARIABLE","$tax_data",336],"[",["T_VARIABLE","$tax_rate",336],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate_id'",336],"]","]",")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",336],["T_VARIABLE","$tax_data",337],"[",["T_VARIABLE","$tax_rate",337],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate_id'",337],"]","]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$tax_rate",337],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",337],"]",["T_WHITESPACE"," ",337],"*",["T_WHITESPACE"," ",337],["T_VARIABLE","$product",337],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",337],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",337],"}",["T_WHITESPACE"," ",338],["T_ELSE","else",338],["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",338],["T_VARIABLE","$tax_data",339],"[",["T_VARIABLE","$tax_rate",339],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate_id'",339],"]","]",["T_WHITESPACE"," ",339],["T_PLUS_EQUAL","+=",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$tax_rate",339],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",339],"]",["T_WHITESPACE"," ",339],"*",["T_WHITESPACE"," ",339],["T_VARIABLE","$product",339],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",339],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",339],"}",["T_WHITESPACE","\n\t\t\t\t",340],"}",["T_WHITESPACE","\n\t\t\t",341],"}",["T_WHITESPACE","\n\t\t",342],"}",["T_WHITESPACE","\n\n\t\t",343],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$tax_data",345],";",["T_WHITESPACE","\n\t",345],"}",["T_WHITESPACE","\n\n\t",346],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","getTotal",348],"(",")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n\t\t",348],["T_VARIABLE","$total",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_LNUMBER","0",349],";",["T_WHITESPACE","\n\n\t\t",349],["T_FOREACH","foreach",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getProducts",351],"(",")",["T_WHITESPACE"," ",351],["T_AS","as",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$product",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n\t\t\t",351],["T_VARIABLE","$total",352],["T_WHITESPACE"," ",352],["T_PLUS_EQUAL","+=",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","tax",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","calculate",352],"(",["T_VARIABLE","$product",352],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",352],"]",",",["T_WHITESPACE"," ",352],["T_VARIABLE","$product",352],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",352],"]",",",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","config",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","get",352],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",352],")",")",["T_WHITESPACE"," ",352],"*",["T_WHITESPACE"," ",352],["T_VARIABLE","$product",352],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",352],"]",";",["T_WHITESPACE","\n\t\t",352],"}",["T_WHITESPACE","\n\n\t\t",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$total",355],";",["T_WHITESPACE","\n\t",355],"}",["T_WHITESPACE","\n\n\t",356],["T_PUBLIC","public",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","countProducts",358],"(",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n\t\t",358],["T_VARIABLE","$product_total",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_LNUMBER","0",359],";",["T_WHITESPACE","\n\n\t\t",359],["T_VARIABLE","$products",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getProducts",361],"(",")",";",["T_WHITESPACE","\n\n\t\t",361],["T_FOREACH","foreach",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$products",363],["T_WHITESPACE"," ",363],["T_AS","as",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$product",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n\t\t\t",363],["T_VARIABLE","$product_total",364],["T_WHITESPACE"," ",364],["T_PLUS_EQUAL","+=",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$product",364],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",364],"]",";",["T_WHITESPACE","\n\t\t",364],"}",["T_WHITESPACE","\n\n\t\t",365],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$product_total",367],";",["T_WHITESPACE","\n\t",367],"}",["T_WHITESPACE","\n\n\t",368],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","hasProducts",370],"(",")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n\t\t",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_STRING","count",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getProducts",371],"(",")",")",";",["T_WHITESPACE","\n\t",371],"}",["T_WHITESPACE","\n\n\t",372],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","hasRecurringProducts",374],"(",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n\t\t",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_STRING","count",375],"(",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getRecurringProducts",375],"(",")",")",";",["T_WHITESPACE","\n\t",375],"}",["T_WHITESPACE","\n\n\t",376],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","hasStock",378],"(",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n\t\t",378],["T_FOREACH","foreach",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getProducts",379],"(",")",["T_WHITESPACE"," ",379],["T_AS","as",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$product",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n\t\t\t",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(","!",["T_VARIABLE","$product",380],"[",["T_CONSTANT_ENCAPSED_STRING","'stock'",380],"]",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n\t\t\t\t",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_STRING","false",381],";",["T_WHITESPACE","\n\t\t\t",381],"}",["T_WHITESPACE","\n\t\t",382],"}",["T_WHITESPACE","\n\n\t\t",383],["T_RETURN","return",385],["T_WHITESPACE"," ",385],["T_STRING","true",385],";",["T_WHITESPACE","\n\t",385],"}",["T_WHITESPACE","\n\n\t",386],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","hasShipping",388],"(",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n\t\t",388],["T_FOREACH","foreach",389],["T_WHITESPACE"," ",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getProducts",389],"(",")",["T_WHITESPACE"," ",389],["T_AS","as",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$product",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n\t\t\t",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$product",390],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",390],"]",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n\t\t\t\t",390],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_STRING","true",391],";",["T_WHITESPACE","\n\t\t\t",391],"}",["T_WHITESPACE","\n\t\t",392],"}",["T_WHITESPACE","\n\n\t\t",393],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_STRING","false",395],";",["T_WHITESPACE","\n\t",395],"}",["T_WHITESPACE","\n\n\t",396],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","hasDownload",398],"(",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n\t\t",398],["T_FOREACH","foreach",399],["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getProducts",399],"(",")",["T_WHITESPACE"," ",399],["T_AS","as",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$product",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n\t\t\t",399],["T_IF","if",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$product",400],"[",["T_CONSTANT_ENCAPSED_STRING","'download'",400],"]",")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n\t\t\t\t",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_STRING","true",401],";",["T_WHITESPACE","\n\t\t\t",401],"}",["T_WHITESPACE","\n\t\t",402],"}",["T_WHITESPACE","\n\n\t\t",403],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_STRING","false",405],";",["T_WHITESPACE","\n\t",405],"}",["T_WHITESPACE","\n",406],"}",["T_WHITESPACE","\n",407]]