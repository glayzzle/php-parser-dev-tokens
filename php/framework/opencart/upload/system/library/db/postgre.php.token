[["T_OPEN_TAG","<?php\n",1],["T_NAMESPACE","namespace",2],["T_WHITESPACE"," ",2],["T_STRING","DB",2],";",["T_WHITESPACE","\n",2],["T_FINAL","final",3],["T_WHITESPACE"," ",3],["T_CLASS","class",3],["T_WHITESPACE"," ",3],["T_STRING","Postgre",3],["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t",3],["T_PRIVATE","private",4],["T_WHITESPACE"," ",4],["T_VARIABLE","$link",4],";",["T_WHITESPACE","\n\n\t",4],["T_PUBLIC","public",6],["T_WHITESPACE"," ",6],["T_FUNCTION","function",6],["T_WHITESPACE"," ",6],["T_STRING","__construct",6],"(",["T_VARIABLE","$hostname",6],",",["T_WHITESPACE"," ",6],["T_VARIABLE","$username",6],",",["T_WHITESPACE"," ",6],["T_VARIABLE","$password",6],",",["T_WHITESPACE"," ",6],["T_VARIABLE","$database",6],",",["T_WHITESPACE"," ",6],["T_VARIABLE","$port",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","'5432'",6],")",["T_WHITESPACE"," ",6],"{",["T_WHITESPACE","\n\t\t",6],["T_IF","if",7],["T_WHITESPACE"," ",7],"(","!",["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","link",7],["T_WHITESPACE"," ",7],"=",["T_WHITESPACE"," ",7],["T_STRING","pg_connect",7],"(",["T_CONSTANT_ENCAPSED_STRING","'host='",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_VARIABLE","$hostname",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","' port='",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_VARIABLE","$port",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE","  ",7],["T_CONSTANT_ENCAPSED_STRING","' user='",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_VARIABLE","$username",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","' password='",7],["T_WHITESPACE","\t",7],".",["T_WHITESPACE"," ",7],["T_VARIABLE","$password",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","' dbname='",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_VARIABLE","$database",7],")",")",["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t\t",7],["T_THROW","throw",8],["T_WHITESPACE"," ",8],["T_NEW","new",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],"(",["T_CONSTANT_ENCAPSED_STRING","'Error: Could not make a database link using '",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$username",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","'@'",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$hostname",8],")",";",["T_WHITESPACE","\n\t\t",8],"}",["T_WHITESPACE","\n\n\t\t",9],["T_IF","if",11],["T_WHITESPACE"," ",11],"(","!",["T_STRING","pg_ping",11],"(",["T_VARIABLE","$this",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","link",11],")",")",["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\t\t\t",11],["T_THROW","throw",12],["T_WHITESPACE"," ",12],["T_NEW","new",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],"(",["T_CONSTANT_ENCAPSED_STRING","'Error: Could not connect to database '",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_VARIABLE","$database",12],")",";",["T_WHITESPACE","\n\t\t",12],"}",["T_WHITESPACE","\n\n\t\t",13],["T_STRING","pg_query",15],"(",["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","link",15],",",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","\"SET CLIENT_ENCODING TO 'UTF8'\"",15],")",";",["T_WHITESPACE","\n\t",15],"}",["T_WHITESPACE","\n\n\t",16],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","query",18],"(",["T_VARIABLE","$sql",18],")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\t\t",18],["T_VARIABLE","$resource",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","pg_query",19],"(",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","link",19],",",["T_WHITESPACE"," ",19],["T_VARIABLE","$sql",19],")",";",["T_WHITESPACE","\n\n\t\t",19],["T_IF","if",21],["T_WHITESPACE"," ",21],"(",["T_VARIABLE","$resource",21],")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\t\t\t",21],["T_IF","if",22],["T_WHITESPACE"," ",22],"(",["T_STRING","is_resource",22],"(",["T_VARIABLE","$resource",22],")",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\t\t\t\t",22],["T_VARIABLE","$i",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_LNUMBER","0",23],";",["T_WHITESPACE","\n\n\t\t\t\t",23],["T_VARIABLE","$data",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",25],["T_WHILE","while",27],["T_WHITESPACE"," ",27],"(",["T_VARIABLE","$result",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","pg_fetch_assoc",27],"(",["T_VARIABLE","$resource",27],")",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\t\t\t\t\t",27],["T_VARIABLE","$data",28],"[",["T_VARIABLE","$i",28],"]",["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$result",28],";",["T_WHITESPACE","\n\n\t\t\t\t\t",28],["T_VARIABLE","$i",30],["T_INC","++",30],";",["T_WHITESPACE","\n\t\t\t\t",30],"}",["T_WHITESPACE","\n\n\t\t\t\t",31],["T_STRING","pg_free_result",33],"(",["T_VARIABLE","$resource",33],")",";",["T_WHITESPACE","\n\n\t\t\t\t",33],["T_VARIABLE","$query",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","stdClass",35],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",35],["T_VARIABLE","$query",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","row",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ISSET","isset",36],"(",["T_VARIABLE","$data",36],"[",["T_LNUMBER","0",36],"]",")",["T_WHITESPACE"," ",36],"?",["T_WHITESPACE"," ",36],["T_VARIABLE","$data",36],"[",["T_LNUMBER","0",36],"]",["T_WHITESPACE"," ",36],":",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",36],["T_VARIABLE","$query",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","rows",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$data",37],";",["T_WHITESPACE","\n\t\t\t\t",37],["T_VARIABLE","$query",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","num_rows",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$i",38],";",["T_WHITESPACE","\n\n\t\t\t\t",38],["T_UNSET","unset",40],"(",["T_VARIABLE","$data",40],")",";",["T_WHITESPACE","\n\n\t\t\t\t",40],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$query",42],";",["T_WHITESPACE","\n\t\t\t",42],"}",["T_WHITESPACE"," ",43],["T_ELSE","else",43],["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t\t",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_STRING","true",44],";",["T_WHITESPACE","\n\t\t\t",44],"}",["T_WHITESPACE","\n\t\t",45],"}",["T_WHITESPACE"," ",46],["T_ELSE","else",46],["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n\t\t\t",46],["T_THROW","throw",47],["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Exception",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Error: '",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_STRING","pg_result_error",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","link",47],")",["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'<br \/>'",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_VARIABLE","$sql",47],")",";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\t",48],"}",["T_WHITESPACE","\n\n\t",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","escape",51],"(",["T_VARIABLE","$value",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n\t\t",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_STRING","pg_escape_string",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","link",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$value",52],")",";",["T_WHITESPACE","\n\t",52],"}",["T_WHITESPACE","\n\n\t",53],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","countAffected",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n\t\t",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_STRING","pg_affected_rows",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","link",56],")",";",["T_WHITESPACE","\n\t",56],"}",["T_WHITESPACE","\n\n\t",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getLastId",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t",59],["T_VARIABLE","$query",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","query",60],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT LASTVAL() AS `id`\"",60],")",";",["T_WHITESPACE","\n\n\t\t",60],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$query",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","row",62],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",62],"]",";",["T_WHITESPACE","\n\t",62],"}",["T_WHITESPACE","\n\n\t",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__destruct",65],"(",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n\t\t",65],["T_STRING","pg_close",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","link",66],")",";",["T_WHITESPACE","\n\t",66],"}",["T_WHITESPACE","\n",67],"}"]