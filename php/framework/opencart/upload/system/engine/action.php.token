[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","Action",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PRIVATE","private",3],["T_WHITESPACE"," ",3],["T_VARIABLE","$id",3],";",["T_WHITESPACE","\n\t",3],["T_PRIVATE","private",4],["T_WHITESPACE"," ",4],["T_VARIABLE","$route",4],";",["T_WHITESPACE","\n\t",4],["T_PRIVATE","private",5],["T_WHITESPACE"," ",5],["T_VARIABLE","$method",5],["T_WHITESPACE"," ",5],"=",["T_WHITESPACE"," ",5],["T_CONSTANT_ENCAPSED_STRING","'index'",5],";",["T_WHITESPACE","\n\n\t",5],["T_PUBLIC","public",7],["T_WHITESPACE"," ",7],["T_FUNCTION","function",7],["T_WHITESPACE"," ",7],["T_STRING","__construct",7],"(",["T_VARIABLE","$route",7],")",["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t",7],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","id",8],["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$route",8],";",["T_WHITESPACE","\n\t\t\n\t\t",8],["T_VARIABLE","$parts",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_STRING","explode",10],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",10],",",["T_WHITESPACE"," ",10],["T_STRING","preg_replace",10],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^a-zA-Z0-9_\\\/]\/'",10],",",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","''",10],",",["T_WHITESPACE"," ",10],["T_STRING_CAST","(string)",10],["T_VARIABLE","$route",10],")",")",";",["T_WHITESPACE","\n\n\t\t",10],["T_COMMENT","\/\/ Break apart the route\n",12],["T_WHITESPACE","\t\t",13],["T_WHILE","while",13],["T_WHITESPACE"," ",13],"(",["T_VARIABLE","$parts",13],")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t\t",13],["T_VARIABLE","$file",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_STRING","DIR_APPLICATION",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'controller\/'",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_STRING","implode",14],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",14],",",["T_WHITESPACE"," ",14],["T_VARIABLE","$parts",14],")",["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'.php'",14],";",["T_WHITESPACE","\n\n\t\t\t",14],["T_IF","if",16],["T_WHITESPACE"," ",16],"(",["T_STRING","is_file",16],"(",["T_VARIABLE","$file",16],")",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t\t\t",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","route",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_STRING","implode",17],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",17],",",["T_WHITESPACE"," ",17],["T_VARIABLE","$parts",17],")",";",["T_WHITESPACE","\t\t\n\t\t\t\t\n\t\t\t\t",17],["T_BREAK","break",19],";",["T_WHITESPACE","\n\t\t\t",19],"}",["T_WHITESPACE"," ",20],["T_ELSE","else",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\t\t\t\t",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","method",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","array_pop",21],"(",["T_VARIABLE","$parts",21],")",";",["T_WHITESPACE","\n\t\t\t",21],"}",["T_WHITESPACE","\n\t\t",22],"}",["T_WHITESPACE","\n\t",23],"}",["T_WHITESPACE","\n\t\n\t",24],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","getId",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t",26],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","id",27],";",["T_WHITESPACE","\n\t",27],"}",["T_WHITESPACE","\n\t\n\t",28],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","execute",30],"(",["T_VARIABLE","$registry",30],",",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$args",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t",30],["T_COMMENT","\/\/ Stop any magical methods being called\n",31],["T_WHITESPACE","\t\t",32],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_STRING","substr",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","method",32],",",["T_WHITESPACE"," ",32],["T_LNUMBER","0",32],",",["T_WHITESPACE"," ",32],["T_LNUMBER","2",32],")",["T_WHITESPACE"," ",32],["T_IS_EQUAL","==",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'__'",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t",32],["T_RETURN","return",33],["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Exception",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Error: Calls to magic methods are not allowed!'",33],")",";",["T_WHITESPACE","\n\t\t",33],"}",["T_WHITESPACE","\n\n\t\t",34],["T_VARIABLE","$file",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","DIR_APPLICATION",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'controller\/'",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","route",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'.php'",36],";",["T_WHITESPACE","\t\t\n\t\t",36],["T_VARIABLE","$class",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Controller'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_STRING","preg_replace",37],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^a-zA-Z0-9]\/'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","''",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","route",37],")",";",["T_WHITESPACE","\n\t\t\n\t\t",37],["T_COMMENT","\/\/ Initialize the class\n",39],["T_WHITESPACE","\t\t",40],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_STRING","is_file",40],"(",["T_VARIABLE","$file",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\t\t\t",40],["T_INCLUDE_ONCE","include_once",41],"(",["T_VARIABLE","$file",41],")",";",["T_WHITESPACE","\n\t\t\n\t\t\t",41],["T_VARIABLE","$controller",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$class",43],"(",["T_VARIABLE","$registry",43],")",";",["T_WHITESPACE","\n\t\t",43],"}",["T_WHITESPACE"," ",44],["T_ELSE","else",44],["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\t\t\t",44],["T_RETURN","return",45],["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Exception",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Error: Could not call '",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","route",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'\/'",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","method",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'!'",45],")",";",["T_WHITESPACE","\n\t\t",45],"}",["T_WHITESPACE","\n\t\t\n\t\t",46],["T_VARIABLE","$reflection",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STRING","ReflectionClass",48],"(",["T_VARIABLE","$class",48],")",";",["T_WHITESPACE","\n\t\t\n\t\t",48],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$reflection",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","hasMethod",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","method",50],")",["T_WHITESPACE"," ",50],["T_BOOLEAN_AND","&&",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$reflection",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMethod",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","method",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","getNumberOfRequiredParameters",50],"(",")",["T_WHITESPACE"," ",50],["T_IS_SMALLER_OR_EQUAL","<=",50],["T_WHITESPACE"," ",50],["T_STRING","count",50],"(",["T_VARIABLE","$args",50],")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n\t\t\t",50],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_STRING","call_user_func_array",51],"(",["T_ARRAY","array",51],"(",["T_VARIABLE","$controller",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","method",51],")",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$args",51],")",";",["T_WHITESPACE","\n\t\t",51],"}",["T_WHITESPACE"," ",52],["T_ELSE","else",52],["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t\t",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Exception",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Error: Could not call '",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","route",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'\/'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","method",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'!'",53],")",";",["T_WHITESPACE","\n\t\t",53],"}",["T_WHITESPACE","\n\t",54],"}",["T_WHITESPACE","\n",55],"}",["T_WHITESPACE","\n",56]]