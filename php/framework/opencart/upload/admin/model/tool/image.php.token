[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelToolImage",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","resize",3],"(",["T_VARIABLE","$filename",3],",",["T_WHITESPACE"," ",3],["T_VARIABLE","$width",3],",",["T_WHITESPACE"," ",3],["T_VARIABLE","$height",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_IF","if",4],["T_WHITESPACE"," ",4],"(","!",["T_STRING","is_file",4],"(",["T_STRING","DIR_IMAGE",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$filename",4],")",["T_WHITESPACE"," ",4],["T_BOOLEAN_OR","||",4],["T_WHITESPACE"," ",4],["T_STRING","substr",4],"(",["T_STRING","str_replace",4],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",4],",",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","'\/'",4],",",["T_WHITESPACE"," ",4],["T_STRING","realpath",4],"(",["T_STRING","DIR_IMAGE",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$filename",4],")",")",",",["T_WHITESPACE"," ",4],["T_LNUMBER","0",4],",",["T_WHITESPACE"," ",4],["T_STRING","strlen",4],"(",["T_STRING","DIR_IMAGE",4],")",")",["T_WHITESPACE"," ",4],["T_IS_NOT_EQUAL","!=",4],["T_WHITESPACE"," ",4],["T_STRING","DIR_IMAGE",4],")",["T_WHITESPACE"," ",4],"{",["T_WHITESPACE","\n\t\t\t",4],["T_RETURN","return",5],";",["T_WHITESPACE","\n\t\t",5],"}",["T_WHITESPACE","\n\n\t\t",6],["T_VARIABLE","$extension",8],["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_STRING","pathinfo",8],"(",["T_VARIABLE","$filename",8],",",["T_WHITESPACE"," ",8],["T_STRING","PATHINFO_EXTENSION",8],")",";",["T_WHITESPACE","\n\n\t\t",8],["T_VARIABLE","$image_old",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_VARIABLE","$filename",10],";",["T_WHITESPACE","\n\t\t",10],["T_VARIABLE","$image_new",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_CONSTANT_ENCAPSED_STRING","'cache\/'",11],["T_WHITESPACE"," ",11],".",["T_WHITESPACE"," ",11],["T_STRING","utf8_substr",11],"(",["T_VARIABLE","$filename",11],",",["T_WHITESPACE"," ",11],["T_LNUMBER","0",11],",",["T_WHITESPACE"," ",11],["T_STRING","utf8_strrpos",11],"(",["T_VARIABLE","$filename",11],",",["T_WHITESPACE"," ",11],["T_CONSTANT_ENCAPSED_STRING","'.'",11],")",")",["T_WHITESPACE"," ",11],".",["T_WHITESPACE"," ",11],["T_CONSTANT_ENCAPSED_STRING","'-'",11],["T_WHITESPACE"," ",11],".",["T_WHITESPACE"," ",11],["T_VARIABLE","$width",11],["T_WHITESPACE"," ",11],".",["T_WHITESPACE"," ",11],["T_CONSTANT_ENCAPSED_STRING","'x'",11],["T_WHITESPACE"," ",11],".",["T_WHITESPACE"," ",11],["T_VARIABLE","$height",11],["T_WHITESPACE"," ",11],".",["T_WHITESPACE"," ",11],["T_CONSTANT_ENCAPSED_STRING","'.'",11],["T_WHITESPACE"," ",11],".",["T_WHITESPACE"," ",11],["T_VARIABLE","$extension",11],";",["T_WHITESPACE","\n\n\t\t",11],["T_IF","if",13],["T_WHITESPACE"," ",13],"(","!",["T_STRING","is_file",13],"(",["T_STRING","DIR_IMAGE",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$image_new",13],")",["T_WHITESPACE"," ",13],["T_BOOLEAN_OR","||",13],["T_WHITESPACE"," ",13],"(",["T_STRING","filectime",13],"(",["T_STRING","DIR_IMAGE",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$image_old",13],")",["T_WHITESPACE"," ",13],">",["T_WHITESPACE"," ",13],["T_STRING","filectime",13],"(",["T_STRING","DIR_IMAGE",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$image_new",13],")",")",")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t\t",13],["T_LIST","list",14],"(",["T_VARIABLE","$width_orig",14],",",["T_WHITESPACE"," ",14],["T_VARIABLE","$height_orig",14],",",["T_WHITESPACE"," ",14],["T_VARIABLE","$image_type",14],")",["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_STRING","getimagesize",14],"(",["T_STRING","DIR_IMAGE",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_VARIABLE","$image_old",14],")",";",["T_WHITESPACE","\n\t\t\t\t \n\t\t\t",14],["T_IF","if",16],["T_WHITESPACE"," ",16],"(","!",["T_STRING","in_array",16],"(",["T_VARIABLE","$image_type",16],",",["T_WHITESPACE"," ",16],["T_ARRAY","array",16],"(",["T_STRING","IMAGETYPE_PNG",16],",",["T_WHITESPACE"," ",16],["T_STRING","IMAGETYPE_JPEG",16],",",["T_WHITESPACE"," ",16],["T_STRING","IMAGETYPE_GIF",16],")",")",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE"," \n\t\t\t\t",16],["T_RETURN","return",17],["T_WHITESPACE"," ",17],["T_STRING","DIR_IMAGE",17],["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_VARIABLE","$image_old",17],";",["T_WHITESPACE","\n\t\t\t",17],"}",["T_WHITESPACE","\n \n\t\t\t",18],["T_VARIABLE","$path",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","''",20],";",["T_WHITESPACE","\n\n\t\t\t",20],["T_VARIABLE","$directories",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","explode",22],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",22],",",["T_WHITESPACE"," ",22],["T_STRING","dirname",22],"(",["T_VARIABLE","$image_new",22],")",")",";",["T_WHITESPACE","\n\n\t\t\t",22],["T_FOREACH","foreach",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$directories",24],["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$directory",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\t\t\t\t",24],["T_VARIABLE","$path",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$path",25],["T_WHITESPACE"," ",25],".",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'\/'",25],["T_WHITESPACE"," ",25],".",["T_WHITESPACE"," ",25],["T_VARIABLE","$directory",25],";",["T_WHITESPACE","\n\n\t\t\t\t",25],["T_IF","if",27],["T_WHITESPACE"," ",27],"(","!",["T_STRING","is_dir",27],"(",["T_STRING","DIR_IMAGE",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_VARIABLE","$path",27],")",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\t\t\t\t\t",27],"@",["T_STRING","mkdir",28],"(",["T_STRING","DIR_IMAGE",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$path",28],",",["T_WHITESPACE"," ",28],["T_LNUMBER","0777",28],")",";",["T_WHITESPACE","\n\t\t\t\t",28],"}",["T_WHITESPACE","\n\t\t\t",29],"}",["T_WHITESPACE","\n\n\t\t\t",30],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$width_orig",32],["T_WHITESPACE"," ",32],["T_IS_NOT_EQUAL","!=",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$width",32],["T_WHITESPACE"," ",32],["T_BOOLEAN_OR","||",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$height_orig",32],["T_WHITESPACE"," ",32],["T_IS_NOT_EQUAL","!=",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$height",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t\t",32],["T_VARIABLE","$image",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","Image",33],"(",["T_STRING","DIR_IMAGE",33],["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_VARIABLE","$image_old",33],")",";",["T_WHITESPACE","\n\t\t\t\t",33],["T_VARIABLE","$image",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","resize",34],"(",["T_VARIABLE","$width",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$height",34],")",";",["T_WHITESPACE","\n\t\t\t\t",34],["T_VARIABLE","$image",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","save",35],"(",["T_STRING","DIR_IMAGE",35],["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_VARIABLE","$image_new",35],")",";",["T_WHITESPACE","\n\t\t\t",35],"}",["T_WHITESPACE"," ",36],["T_ELSE","else",36],["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\t\t\t\t",36],["T_STRING","copy",37],"(",["T_STRING","DIR_IMAGE",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$image_old",37],",",["T_WHITESPACE"," ",37],["T_STRING","DIR_IMAGE",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$image_new",37],")",";",["T_WHITESPACE","\n\t\t\t",37],"}",["T_WHITESPACE","\n\t\t",38],"}",["T_WHITESPACE","\n\n\t\t",39],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","request",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","server",41],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",41],"]",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n\t\t\t",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_STRING","HTTPS_CATALOG",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'image\/'",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$image_new",42],";",["T_WHITESPACE","\n\t\t",42],"}",["T_WHITESPACE"," ",43],["T_ELSE","else",43],["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_STRING","HTTP_CATALOG",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'image\/'",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_VARIABLE","$image_new",44],";",["T_WHITESPACE","\n\t\t",44],"}",["T_WHITESPACE","\n\t",45],"}",["T_WHITESPACE","\n",46],"}",["T_WHITESPACE","\n",47]]