[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelCatalogReview",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addReview",3],"(",["T_VARIABLE","$data",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"review SET author = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'author'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', product_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', text = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_STRING","strip_tags",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",4],"]",")",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', rating = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'rating'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'date_added'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"'\"",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$review_id",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","getLastId",6],"(",")",";",["T_WHITESPACE","\n\n\t\t",6],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","cache",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","delete",8],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",8],")",";",["T_WHITESPACE","\n\n\t\t",8],["T_RETURN","return",10],["T_WHITESPACE"," ",10],["T_VARIABLE","$review_id",10],";",["T_WHITESPACE","\n\t",10],"}",["T_WHITESPACE","\n\n\t",11],["T_PUBLIC","public",13],["T_WHITESPACE"," ",13],["T_FUNCTION","function",13],["T_WHITESPACE"," ",13],["T_STRING","editReview",13],"(",["T_VARIABLE","$review_id",13],",",["T_WHITESPACE"," ",13],["T_VARIABLE","$data",13],")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t",13],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","db",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","query",14],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_STRING","DB_PREFIX",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"review SET author = '\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","db",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","escape",14],"(",["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'author'",14],"]",")",["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"', product_id = '\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_INT_CAST","(int)",14],["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",14],"]",["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"', text = '\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","db",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","escape",14],"(",["T_STRING","strip_tags",14],"(",["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",14],"]",")",")",["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"', rating = '\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_INT_CAST","(int)",14],["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'rating'",14],"]",["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_INT_CAST","(int)",14],["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",14],"]",["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = '\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","db",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","escape",14],"(",["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'date_added'",14],"]",")",["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"', date_modified = NOW() WHERE review_id = '\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_INT_CAST","(int)",14],["T_VARIABLE","$review_id",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"'\"",14],")",";",["T_WHITESPACE","\n\n\t\t",14],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","cache",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","delete",16],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",16],")",";",["T_WHITESPACE","\n\t",16],"}",["T_WHITESPACE","\n\n\t",17],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","deleteReview",19],"(",["T_VARIABLE","$review_id",19],")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\t\t",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","db",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","query",20],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_STRING","DB_PREFIX",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\"review WHERE review_id = '\"",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_INT_CAST","(int)",20],["T_VARIABLE","$review_id",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\"'\"",20],")",";",["T_WHITESPACE","\n\n\t\t",20],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","cache",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","delete",22],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",22],")",";",["T_WHITESPACE","\n\t",22],"}",["T_WHITESPACE","\n\n\t",23],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","getReview",25],"(",["T_VARIABLE","$review_id",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\t\t",25],["T_VARIABLE","$query",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","db",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","query",26],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT *, (SELECT pd.name FROM \"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_STRING","DB_PREFIX",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd WHERE pd.product_id = r.product_id AND pd.language_id = '\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_INT_CAST","(int)",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","config",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",26],")",["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"') AS product FROM \"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_STRING","DB_PREFIX",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"review r WHERE r.review_id = '\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_INT_CAST","(int)",26],["T_VARIABLE","$review_id",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"'\"",26],")",";",["T_WHITESPACE","\n\n\t\t",26],["T_RETURN","return",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$query",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","row",28],";",["T_WHITESPACE","\n\t",28],"}",["T_WHITESPACE","\n\n\t",29],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","getReviews",31],"(",["T_VARIABLE","$data",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",")",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\t\t",31],["T_VARIABLE","$sql",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"SELECT r.review_id, pd.name, r.author, r.rating, r.status, r.date_added FROM \"",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_STRING","DB_PREFIX",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"review r LEFT JOIN \"",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_STRING","DB_PREFIX",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (r.product_id = pd.product_id) WHERE pd.language_id = '\"",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_INT_CAST","(int)",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","config",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","get",32],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",32],")",["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"'\"",32],";",["T_WHITESPACE","\n\n\t\t",32],["T_IF","if",34],["T_WHITESPACE"," ",34],"(","!",["T_EMPTY","empty",34],"(",["T_VARIABLE","$data",34],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_product'",34],"]",")",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n\t\t\t",34],["T_VARIABLE","$sql",35],["T_WHITESPACE"," ",35],["T_CONCAT_EQUAL",".=",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","\" AND pd.name LIKE '\"",35],["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","db",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","escape",35],"(",["T_VARIABLE","$data",35],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_product'",35],"]",")",["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",35],";",["T_WHITESPACE","\n\t\t",35],"}",["T_WHITESPACE","\n\n\t\t",36],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_EMPTY","empty",38],"(",["T_VARIABLE","$data",38],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_author'",38],"]",")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t",38],["T_VARIABLE","$sql",39],["T_WHITESPACE"," ",39],["T_CONCAT_EQUAL",".=",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\" AND r.author LIKE '\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","db",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","escape",39],"(",["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_author'",39],"]",")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",39],";",["T_WHITESPACE","\n\t\t",39],"}",["T_WHITESPACE","\n\n\t\t",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_ISSET","isset",42],"(",["T_VARIABLE","$data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",42],"]",")",["T_WHITESPACE"," ",42],["T_BOOLEAN_AND","&&",42],["T_WHITESPACE"," ",42],"!",["T_STRING","is_null",42],"(",["T_VARIABLE","$data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",42],"]",")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t",42],["T_VARIABLE","$sql",43],["T_WHITESPACE"," ",43],["T_CONCAT_EQUAL",".=",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","\" AND r.status = '\"",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_INT_CAST","(int)",43],["T_VARIABLE","$data",43],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",43],"]",["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","\"'\"",43],";",["T_WHITESPACE","\n\t\t",43],"}",["T_WHITESPACE","\n\n\t\t",44],["T_IF","if",46],["T_WHITESPACE"," ",46],"(","!",["T_EMPTY","empty",46],"(",["T_VARIABLE","$data",46],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",46],"]",")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n\t\t\t",46],["T_VARIABLE","$sql",47],["T_WHITESPACE"," ",47],["T_CONCAT_EQUAL",".=",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(r.date_added) = DATE('\"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","db",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","escape",47],"(",["T_VARIABLE","$data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",47],"]",")",["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"')\"",47],";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\n\t\t",48],["T_VARIABLE","$sort_data",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_WHITESPACE","\n\t\t\t",50],["T_CONSTANT_ENCAPSED_STRING","'pd.name'",51],",",["T_WHITESPACE","\n\t\t\t",51],["T_CONSTANT_ENCAPSED_STRING","'r.author'",52],",",["T_WHITESPACE","\n\t\t\t",52],["T_CONSTANT_ENCAPSED_STRING","'r.rating'",53],",",["T_WHITESPACE","\n\t\t\t",53],["T_CONSTANT_ENCAPSED_STRING","'r.status'",54],",",["T_WHITESPACE","\n\t\t\t",54],["T_CONSTANT_ENCAPSED_STRING","'r.date_added'",55],["T_WHITESPACE","\n\t\t",55],")",";",["T_WHITESPACE","\n\n\t\t",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_ISSET","isset",58],"(",["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",58],"]",")",["T_WHITESPACE"," ",58],["T_BOOLEAN_AND","&&",58],["T_WHITESPACE"," ",58],["T_STRING","in_array",58],"(",["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",58],"]",",",["T_WHITESPACE"," ",58],["T_VARIABLE","$sort_data",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n\t\t\t",58],["T_VARIABLE","$sql",59],["T_WHITESPACE"," ",59],["T_CONCAT_EQUAL",".=",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$data",59],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",59],"]",";",["T_WHITESPACE","\n\t\t",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t\t",60],["T_VARIABLE","$sql",61],["T_WHITESPACE"," ",61],["T_CONCAT_EQUAL",".=",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY r.date_added\"",61],";",["T_WHITESPACE","\n\t\t",61],"}",["T_WHITESPACE","\n\n\t\t",62],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_ISSET","isset",64],"(",["T_VARIABLE","$data",64],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",64],"]",")",["T_WHITESPACE"," ",64],["T_BOOLEAN_AND","&&",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$data",64],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",64],"]",["T_WHITESPACE"," ",64],["T_IS_EQUAL","==",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'DESC'",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t\t",64],["T_VARIABLE","$sql",65],["T_WHITESPACE"," ",65],["T_CONCAT_EQUAL",".=",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\" DESC\"",65],";",["T_WHITESPACE","\n\t\t",65],"}",["T_WHITESPACE"," ",66],["T_ELSE","else",66],["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t",66],["T_VARIABLE","$sql",67],["T_WHITESPACE"," ",67],["T_CONCAT_EQUAL",".=",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\" ASC\"",67],";",["T_WHITESPACE","\n\t\t",67],"}",["T_WHITESPACE","\n\n\t\t",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_ISSET","isset",70],"(",["T_VARIABLE","$data",70],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",70],"]",")",["T_WHITESPACE"," ",70],["T_BOOLEAN_OR","||",70],["T_WHITESPACE"," ",70],["T_ISSET","isset",70],"(",["T_VARIABLE","$data",70],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",70],"]",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$data",71],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",71],"]",["T_WHITESPACE"," ",71],"<",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n\t\t\t\t",71],["T_VARIABLE","$data",72],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],";",["T_WHITESPACE","\n\t\t\t",72],"}",["T_WHITESPACE","\n\n\t\t\t",73],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$data",75],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",75],"]",["T_WHITESPACE"," ",75],"<",["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n\t\t\t\t",75],["T_VARIABLE","$data",76],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_LNUMBER","20",76],";",["T_WHITESPACE","\n\t\t\t",76],"}",["T_WHITESPACE","\n\n\t\t\t",77],["T_VARIABLE","$sql",79],["T_WHITESPACE"," ",79],["T_CONCAT_EQUAL",".=",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_INT_CAST","(int)",79],["T_VARIABLE","$data",79],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",79],"]",["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\",\"",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_INT_CAST","(int)",79],["T_VARIABLE","$data",79],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",79],"]",";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE","\n\n\t\t",80],["T_VARIABLE","$query",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","db",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","query",82],"(",["T_VARIABLE","$sql",82],")",";",["T_WHITESPACE","\n\n\t\t",82],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$query",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","rows",84],";",["T_WHITESPACE","\n\t",84],"}",["T_WHITESPACE","\n\n\t",85],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getTotalReviews",87],"(",["T_VARIABLE","$data",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n\t\t",87],["T_VARIABLE","$sql",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_STRING","DB_PREFIX",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"review r LEFT JOIN \"",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_STRING","DB_PREFIX",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (r.product_id = pd.product_id) WHERE pd.language_id = '\"",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_INT_CAST","(int)",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","config",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",88],")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"'\"",88],";",["T_WHITESPACE","\n\n\t\t",88],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_EMPTY","empty",90],"(",["T_VARIABLE","$data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_product'",90],"]",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n\t\t\t",90],["T_VARIABLE","$sql",91],["T_WHITESPACE"," ",91],["T_CONCAT_EQUAL",".=",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","\" AND pd.name LIKE '\"",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","db",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","escape",91],"(",["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_product'",91],"]",")",["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",91],";",["T_WHITESPACE","\n\t\t",91],"}",["T_WHITESPACE","\n\n\t\t",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_EMPTY","empty",94],"(",["T_VARIABLE","$data",94],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_author'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n\t\t\t",94],["T_VARIABLE","$sql",95],["T_WHITESPACE"," ",95],["T_CONCAT_EQUAL",".=",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","\" AND r.author LIKE '\"",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","db",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","escape",95],"(",["T_VARIABLE","$data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_author'",95],"]",")",["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",95],";",["T_WHITESPACE","\n\t\t",95],"}",["T_WHITESPACE","\n\n\t\t",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_ISSET","isset",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",98],"]",")",["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],"!",["T_STRING","is_null",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",98],"]",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n\t\t\t",98],["T_VARIABLE","$sql",99],["T_WHITESPACE"," ",99],["T_CONCAT_EQUAL",".=",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","\" AND r.status = '\"",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_INT_CAST","(int)",99],["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",99],"]",["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","\"'\"",99],";",["T_WHITESPACE","\n\t\t",99],"}",["T_WHITESPACE","\n\n\t\t",100],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_EMPTY","empty",102],"(",["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",102],"]",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t\t\t",102],["T_VARIABLE","$sql",103],["T_WHITESPACE"," ",103],["T_CONCAT_EQUAL",".=",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(r.date_added) = DATE('\"",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","db",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","escape",103],"(",["T_VARIABLE","$data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",103],"]",")",["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"')\"",103],";",["T_WHITESPACE","\n\t\t",103],"}",["T_WHITESPACE","\n\n\t\t",104],["T_VARIABLE","$query",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","db",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","query",106],"(",["T_VARIABLE","$sql",106],")",";",["T_WHITESPACE","\n\n\t\t",106],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$query",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","row",108],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",108],"]",";",["T_WHITESPACE","\n\t",108],"}",["T_WHITESPACE","\n\n\t",109],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","getTotalReviewsAwaitingApproval",111],"(",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t",111],["T_VARIABLE","$query",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","db",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","query",112],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_STRING","DB_PREFIX",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"review WHERE status = '0'\"",112],")",";",["T_WHITESPACE","\n\n\t\t",112],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$query",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","row",114],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",114],"]",";",["T_WHITESPACE","\n\t",114],"}",["T_WHITESPACE","\n",115],"}"]