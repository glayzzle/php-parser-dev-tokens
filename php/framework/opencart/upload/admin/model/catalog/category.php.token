[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelCatalogCategory",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addCategory",3],"(",["T_VARIABLE","$data",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"category SET parent_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `top` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],"(",["T_ISSET","isset",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'top'",4],"]",")",["T_WHITESPACE"," ",4],"?",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'top'",4],"]",["T_WHITESPACE"," ",4],":",["T_WHITESPACE"," ",4],["T_LNUMBER","0",4],")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `column` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'column'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', sort_order = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', date_modified = NOW(), date_added = NOW()\"",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$category_id",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","getLastId",6],"(",")",";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(",["T_ISSET","isset",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",8],"]",")",")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","db",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","query",9],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_STRING","DB_PREFIX",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","\"category SET image = '\"",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","db",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","escape",9],"(",["T_VARIABLE","$data",9],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",9],"]",")",["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE category_id = '\"",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_INT_CAST","(int)",9],["T_VARIABLE","$category_id",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","\"'\"",9],")",";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE","\n\n\t\t",10],["T_FOREACH","foreach",12],["T_WHITESPACE"," ",12],"(",["T_VARIABLE","$data",12],"[",["T_CONSTANT_ENCAPSED_STRING","'category_description'",12],"]",["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_VARIABLE","$language_id",12],["T_WHITESPACE"," ",12],["T_DOUBLE_ARROW","=>",12],["T_WHITESPACE"," ",12],["T_VARIABLE","$value",12],")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","query",13],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","DB_PREFIX",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"category_description SET category_id = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_INT_CAST","(int)",13],["T_VARIABLE","$category_id",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"', language_id = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_INT_CAST","(int)",13],["T_VARIABLE","$language_id",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"', name = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$value",13],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",13],"]",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"', description = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$value",13],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",13],"]",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"', meta_title = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$value",13],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_title'",13],"]",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"', meta_description = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$value",13],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_description'",13],"]",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"', meta_keyword = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$value",13],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",13],"]",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"'\"",13],")",";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE","\n\n\t\t",14],["T_COMMENT","\/\/ MySQL Hierarchical Data Closure Table Pattern\n",16],["T_WHITESPACE","\t\t",17],["T_VARIABLE","$level",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_LNUMBER","0",17],";",["T_WHITESPACE","\n\n\t\t",17],["T_VARIABLE","$query",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","db",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","query",19],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_STRING","DB_PREFIX",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_INT_CAST","(int)",19],["T_VARIABLE","$data",19],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",19],"]",["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY `level` ASC\"",19],")",";",["T_WHITESPACE","\n\n\t\t",19],["T_FOREACH","foreach",21],["T_WHITESPACE"," ",21],"(",["T_VARIABLE","$query",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","rows",21],["T_WHITESPACE"," ",21],["T_AS","as",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$result",21],")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\t\t\t",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","db",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","query",22],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_STRING","DB_PREFIX",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET `category_id` = '\"",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_INT_CAST","(int)",22],["T_VARIABLE","$category_id",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_INT_CAST","(int)",22],["T_VARIABLE","$result",22],"[",["T_CONSTANT_ENCAPSED_STRING","'path_id'",22],"]",["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","\"', `level` = '\"",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_INT_CAST","(int)",22],["T_VARIABLE","$level",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","\"'\"",22],")",";",["T_WHITESPACE","\n\n\t\t\t",22],["T_VARIABLE","$level",24],["T_INC","++",24],";",["T_WHITESPACE","\n\t\t",24],"}",["T_WHITESPACE","\n\n\t\t",25],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","db",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","query",27],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_STRING","DB_PREFIX",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET `category_id` = '\"",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_INT_CAST","(int)",27],["T_VARIABLE","$category_id",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_INT_CAST","(int)",27],["T_VARIABLE","$category_id",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"', `level` = '\"",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_INT_CAST","(int)",27],["T_VARIABLE","$level",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"'\"",27],")",";",["T_WHITESPACE","\n\n\t\t",27],["T_IF","if",29],["T_WHITESPACE"," ",29],"(",["T_ISSET","isset",29],"(",["T_VARIABLE","$data",29],"[",["T_CONSTANT_ENCAPSED_STRING","'category_filter'",29],"]",")",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\t\t\t",29],["T_FOREACH","foreach",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$data",30],"[",["T_CONSTANT_ENCAPSED_STRING","'category_filter'",30],"]",["T_WHITESPACE"," ",30],["T_AS","as",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$filter_id",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t\t",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","db",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","query",31],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_STRING","DB_PREFIX",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"category_filter SET category_id = '\"",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_INT_CAST","(int)",31],["T_VARIABLE","$category_id",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"', filter_id = '\"",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_INT_CAST","(int)",31],["T_VARIABLE","$filter_id",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"'\"",31],")",";",["T_WHITESPACE","\n\t\t\t",31],"}",["T_WHITESPACE","\n\t\t",32],"}",["T_WHITESPACE","\n\n\t\t",33],["T_IF","if",35],["T_WHITESPACE"," ",35],"(",["T_ISSET","isset",35],"(",["T_VARIABLE","$data",35],"[",["T_CONSTANT_ENCAPSED_STRING","'category_store'",35],"]",")",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n\t\t\t",35],["T_FOREACH","foreach",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$data",36],"[",["T_CONSTANT_ENCAPSED_STRING","'category_store'",36],"]",["T_WHITESPACE"," ",36],["T_AS","as",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$store_id",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\t\t\t\t",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","db",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","query",37],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_STRING","DB_PREFIX",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store SET category_id = '\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_INT_CAST","(int)",37],["T_VARIABLE","$category_id",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"', store_id = '\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_INT_CAST","(int)",37],["T_VARIABLE","$store_id",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"'\"",37],")",";",["T_WHITESPACE","\n\t\t\t",37],"}",["T_WHITESPACE","\n\t\t",38],"}",["T_WHITESPACE","\n\n\t\t",39],["T_COMMENT","\/\/ Set which layout to use with this category\n",41],["T_WHITESPACE","\t\t",42],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_ISSET","isset",42],"(",["T_VARIABLE","$data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'category_layout'",42],"]",")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t",42],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$data",43],"[",["T_CONSTANT_ENCAPSED_STRING","'category_layout'",43],"]",["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$store_id",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$layout_id",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t\t",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","db",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","query",44],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_STRING","DB_PREFIX",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"category_to_layout SET category_id = '\"",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_INT_CAST","(int)",44],["T_VARIABLE","$category_id",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"', store_id = '\"",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_INT_CAST","(int)",44],["T_VARIABLE","$store_id",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"', layout_id = '\"",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_INT_CAST","(int)",44],["T_VARIABLE","$layout_id",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"'\"",44],")",";",["T_WHITESPACE","\n\t\t\t",44],"}",["T_WHITESPACE","\n\t\t",45],"}",["T_WHITESPACE","\n\n\t\t",46],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$data",48],"[",["T_CONSTANT_ENCAPSED_STRING","'keyword'",48],"]",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n\t\t\t",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","db",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","query",49],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_STRING","DB_PREFIX",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"url_alias SET query = 'category_id=\"",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_INT_CAST","(int)",49],["T_VARIABLE","$category_id",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"', keyword = '\"",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","db",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","escape",49],"(",["T_VARIABLE","$data",49],"[",["T_CONSTANT_ENCAPSED_STRING","'keyword'",49],"]",")",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"'\"",49],")",";",["T_WHITESPACE","\n\t\t",49],"}",["T_WHITESPACE","\n\n\t\t",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","cache",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","delete",52],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",52],")",";",["T_WHITESPACE","\n\n\t\t",52],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$category_id",54],";",["T_WHITESPACE","\n\t",54],"}",["T_WHITESPACE","\n\n\t",55],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","editCategory",57],"(",["T_VARIABLE","$category_id",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$data",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n\t\t",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","db",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","query",58],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_STRING","DB_PREFIX",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"category SET parent_id = '\"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",58],"]",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"', `top` = '\"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],"(",["T_ISSET","isset",58],"(",["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'top'",58],"]",")",["T_WHITESPACE"," ",58],"?",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'top'",58],"]",["T_WHITESPACE"," ",58],":",["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],")",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"', `column` = '\"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'column'",58],"]",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"', sort_order = '\"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",58],"]",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",58],"]",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"', date_modified = NOW() WHERE category_id = '\"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$category_id",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"'\"",58],")",";",["T_WHITESPACE","\n\n\t\t",58],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_ISSET","isset",60],"(",["T_VARIABLE","$data",60],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",60],"]",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t\t",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","db",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","query",61],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_STRING","DB_PREFIX",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"category SET image = '\"",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","db",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","escape",61],"(",["T_VARIABLE","$data",61],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",61],"]",")",["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE category_id = '\"",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_INT_CAST","(int)",61],["T_VARIABLE","$category_id",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"'\"",61],")",";",["T_WHITESPACE","\n\t\t",61],"}",["T_WHITESPACE","\n\n\t\t",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","db",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","query",64],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_STRING","DB_PREFIX",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"category_description WHERE category_id = '\"",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_INT_CAST","(int)",64],["T_VARIABLE","$category_id",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"'\"",64],")",";",["T_WHITESPACE","\n\n\t\t",64],["T_FOREACH","foreach",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$data",66],"[",["T_CONSTANT_ENCAPSED_STRING","'category_description'",66],"]",["T_WHITESPACE"," ",66],["T_AS","as",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$language_id",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$value",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","query",67],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_STRING","DB_PREFIX",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"category_description SET category_id = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_INT_CAST","(int)",67],["T_VARIABLE","$category_id",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"', language_id = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_INT_CAST","(int)",67],["T_VARIABLE","$language_id",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"', name = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","escape",67],"(",["T_VARIABLE","$value",67],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",67],"]",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"', description = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","escape",67],"(",["T_VARIABLE","$value",67],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",67],"]",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"', meta_title = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","escape",67],"(",["T_VARIABLE","$value",67],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_title'",67],"]",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"', meta_description = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","escape",67],"(",["T_VARIABLE","$value",67],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_description'",67],"]",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"', meta_keyword = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","escape",67],"(",["T_VARIABLE","$value",67],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",67],"]",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"'\"",67],")",";",["T_WHITESPACE","\n\t\t",67],"}",["T_WHITESPACE","\n\n\t\t",68],["T_COMMENT","\/\/ MySQL Hierarchical Data Closure Table Pattern\n",70],["T_WHITESPACE","\t\t",71],["T_VARIABLE","$query",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","db",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","query",71],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_STRING","DB_PREFIX",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE path_id = '\"",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_INT_CAST","(int)",71],["T_VARIABLE","$category_id",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY level ASC\"",71],")",";",["T_WHITESPACE","\n\n\t\t",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$query",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","rows",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n\t\t\t",73],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$query",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","rows",74],["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$category_path",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t\t\t",74],["T_COMMENT","\/\/ Delete the path below the current one\n",75],["T_WHITESPACE","\t\t\t\t",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","db",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","query",76],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_STRING","DB_PREFIX",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_INT_CAST","(int)",76],["T_VARIABLE","$category_path",76],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",76],"]",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","\"' AND level < '\"",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_INT_CAST","(int)",76],["T_VARIABLE","$category_path",76],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",76],"]",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","\"'\"",76],")",";",["T_WHITESPACE","\n\n\t\t\t\t",76],["T_VARIABLE","$path",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",78],["T_COMMENT","\/\/ Get the nodes new parents\n",80],["T_WHITESPACE","\t\t\t\t",81],["T_VARIABLE","$query",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","db",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","query",81],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_STRING","DB_PREFIX",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_INT_CAST","(int)",81],["T_VARIABLE","$data",81],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",81],"]",["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY level ASC\"",81],")",";",["T_WHITESPACE","\n\n\t\t\t\t",81],["T_FOREACH","foreach",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$query",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","rows",83],["T_WHITESPACE"," ",83],["T_AS","as",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$result",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t\t\t",83],["T_VARIABLE","$path",84],"[","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$result",84],"[",["T_CONSTANT_ENCAPSED_STRING","'path_id'",84],"]",";",["T_WHITESPACE","\n\t\t\t\t",84],"}",["T_WHITESPACE","\n\n\t\t\t\t",85],["T_COMMENT","\/\/ Get whats left of the nodes current path\n",87],["T_WHITESPACE","\t\t\t\t",88],["T_VARIABLE","$query",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","db",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","query",88],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_STRING","DB_PREFIX",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_INT_CAST","(int)",88],["T_VARIABLE","$category_path",88],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",88],"]",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY level ASC\"",88],")",";",["T_WHITESPACE","\n\n\t\t\t\t",88],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$query",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","rows",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$result",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n\t\t\t\t\t",90],["T_VARIABLE","$path",91],"[","]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$result",91],"[",["T_CONSTANT_ENCAPSED_STRING","'path_id'",91],"]",";",["T_WHITESPACE","\n\t\t\t\t",91],"}",["T_WHITESPACE","\n\n\t\t\t\t",92],["T_COMMENT","\/\/ Combine the paths with a new level\n",94],["T_WHITESPACE","\t\t\t\t",95],["T_VARIABLE","$level",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_LNUMBER","0",95],";",["T_WHITESPACE","\n\n\t\t\t\t",95],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$path",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$path_id",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n\t\t\t\t\t",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","db",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","query",98],"(",["T_CONSTANT_ENCAPSED_STRING","\"REPLACE INTO `\"",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_STRING","DB_PREFIX",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET category_id = '\"",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_INT_CAST","(int)",98],["T_VARIABLE","$category_path",98],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",98],"]",["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_INT_CAST","(int)",98],["T_VARIABLE","$path_id",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","\"', level = '\"",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_INT_CAST","(int)",98],["T_VARIABLE","$level",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","\"'\"",98],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",98],["T_VARIABLE","$level",100],["T_INC","++",100],";",["T_WHITESPACE","\n\t\t\t\t",100],"}",["T_WHITESPACE","\n\t\t\t",101],"}",["T_WHITESPACE","\n\t\t",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t\t",103],["T_COMMENT","\/\/ Delete the path below the current one\n",104],["T_WHITESPACE","\t\t\t",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","db",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","query",105],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_STRING","DB_PREFIX",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_INT_CAST","(int)",105],["T_VARIABLE","$category_id",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"'\"",105],")",";",["T_WHITESPACE","\n\n\t\t\t",105],["T_COMMENT","\/\/ Fix for records with no paths\n",107],["T_WHITESPACE","\t\t\t",108],["T_VARIABLE","$level",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],";",["T_WHITESPACE","\n\n\t\t\t",108],["T_VARIABLE","$query",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","db",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","query",110],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_STRING","DB_PREFIX",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_INT_CAST","(int)",110],["T_VARIABLE","$data",110],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",110],"]",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY level ASC\"",110],")",";",["T_WHITESPACE","\n\n\t\t\t",110],["T_FOREACH","foreach",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$query",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","rows",112],["T_WHITESPACE"," ",112],["T_AS","as",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$result",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n\t\t\t\t",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","db",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","query",113],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_STRING","DB_PREFIX",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET category_id = '\"",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_INT_CAST","(int)",113],["T_VARIABLE","$category_id",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_INT_CAST","(int)",113],["T_VARIABLE","$result",113],"[",["T_CONSTANT_ENCAPSED_STRING","'path_id'",113],"]",["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"', level = '\"",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_INT_CAST","(int)",113],["T_VARIABLE","$level",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"'\"",113],")",";",["T_WHITESPACE","\n\n\t\t\t\t",113],["T_VARIABLE","$level",115],["T_INC","++",115],";",["T_WHITESPACE","\n\t\t\t",115],"}",["T_WHITESPACE","\n\n\t\t\t",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","db",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","query",118],"(",["T_CONSTANT_ENCAPSED_STRING","\"REPLACE INTO `\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_STRING","DB_PREFIX",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET category_id = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_INT_CAST","(int)",118],["T_VARIABLE","$category_id",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_INT_CAST","(int)",118],["T_VARIABLE","$category_id",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"', level = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_INT_CAST","(int)",118],["T_VARIABLE","$level",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"'\"",118],")",";",["T_WHITESPACE","\n\t\t",118],"}",["T_WHITESPACE","\n\n\t\t",119],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","db",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","query",121],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_STRING","DB_PREFIX",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","\"category_filter WHERE category_id = '\"",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_INT_CAST","(int)",121],["T_VARIABLE","$category_id",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","\"'\"",121],")",";",["T_WHITESPACE","\n\n\t\t",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_ISSET","isset",123],"(",["T_VARIABLE","$data",123],"[",["T_CONSTANT_ENCAPSED_STRING","'category_filter'",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n\t\t\t",123],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'category_filter'",124],"]",["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$filter_id",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n\t\t\t\t",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","db",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","query",125],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_STRING","DB_PREFIX",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","\"category_filter SET category_id = '\"",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_INT_CAST","(int)",125],["T_VARIABLE","$category_id",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","\"', filter_id = '\"",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_INT_CAST","(int)",125],["T_VARIABLE","$filter_id",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","\"'\"",125],")",";",["T_WHITESPACE","\n\t\t\t",125],"}",["T_WHITESPACE","\n\t\t",126],"}",["T_WHITESPACE","\n\n\t\t",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","db",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","query",129],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_STRING","DB_PREFIX",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store WHERE category_id = '\"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_INT_CAST","(int)",129],["T_VARIABLE","$category_id",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"'\"",129],")",";",["T_WHITESPACE","\n\n\t\t",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_ISSET","isset",131],"(",["T_VARIABLE","$data",131],"[",["T_CONSTANT_ENCAPSED_STRING","'category_store'",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\t\t\t",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$data",132],"[",["T_CONSTANT_ENCAPSED_STRING","'category_store'",132],"]",["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$store_id",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n\t\t\t\t",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","db",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","query",133],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_STRING","DB_PREFIX",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store SET category_id = '\"",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_INT_CAST","(int)",133],["T_VARIABLE","$category_id",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","\"', store_id = '\"",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_INT_CAST","(int)",133],["T_VARIABLE","$store_id",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","\"'\"",133],")",";",["T_WHITESPACE","\n\t\t\t",133],"}",["T_WHITESPACE","\n\t\t",134],"}",["T_WHITESPACE","\n\n\t\t",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","db",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","query",137],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_STRING","DB_PREFIX",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","\"category_to_layout WHERE category_id = '\"",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_INT_CAST","(int)",137],["T_VARIABLE","$category_id",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","\"'\"",137],")",";",["T_WHITESPACE","\n\n\t\t",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_ISSET","isset",139],"(",["T_VARIABLE","$data",139],"[",["T_CONSTANT_ENCAPSED_STRING","'category_layout'",139],"]",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n\t\t\t",139],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$data",140],"[",["T_CONSTANT_ENCAPSED_STRING","'category_layout'",140],"]",["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$store_id",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$layout_id",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n\t\t\t\t",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","db",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","query",141],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_STRING","DB_PREFIX",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","\"category_to_layout SET category_id = '\"",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_INT_CAST","(int)",141],["T_VARIABLE","$category_id",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","\"', store_id = '\"",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_INT_CAST","(int)",141],["T_VARIABLE","$store_id",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","\"', layout_id = '\"",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_INT_CAST","(int)",141],["T_VARIABLE","$layout_id",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","\"'\"",141],")",";",["T_WHITESPACE","\n\t\t\t",141],"}",["T_WHITESPACE","\n\t\t",142],"}",["T_WHITESPACE","\n\n\t\t",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","db",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","query",145],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_STRING","DB_PREFIX",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","\"url_alias WHERE query = 'category_id=\"",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_INT_CAST","(int)",145],["T_VARIABLE","$category_id",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","\"'\"",145],")",";",["T_WHITESPACE","\n\n\t\t",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$data",147],"[",["T_CONSTANT_ENCAPSED_STRING","'keyword'",147],"]",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n\t\t\t",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","db",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","query",148],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_STRING","DB_PREFIX",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","\"url_alias SET query = 'category_id=\"",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_INT_CAST","(int)",148],["T_VARIABLE","$category_id",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","\"', keyword = '\"",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","db",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","escape",148],"(",["T_VARIABLE","$data",148],"[",["T_CONSTANT_ENCAPSED_STRING","'keyword'",148],"]",")",["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","\"'\"",148],")",";",["T_WHITESPACE","\n\t\t",148],"}",["T_WHITESPACE","\n\n\t\t",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","cache",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","delete",151],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",151],")",";",["T_WHITESPACE","\n\t",151],"}",["T_WHITESPACE","\n\n\t",152],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","deleteCategory",154],"(",["T_VARIABLE","$category_id",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n\t\t",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","db",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","query",155],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_STRING","DB_PREFIX",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","\"category_path WHERE category_id = '\"",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_INT_CAST","(int)",155],["T_VARIABLE","$category_id",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","\"'\"",155],")",";",["T_WHITESPACE","\n\n\t\t",155],["T_VARIABLE","$query",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","db",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","query",157],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_STRING","DB_PREFIX",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"category_path WHERE path_id = '\"",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_INT_CAST","(int)",157],["T_VARIABLE","$category_id",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"'\"",157],")",";",["T_WHITESPACE","\n\n\t\t",157],["T_FOREACH","foreach",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$query",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","rows",159],["T_WHITESPACE"," ",159],["T_AS","as",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$result",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t\t",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","deleteCategory",160],"(",["T_VARIABLE","$result",160],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",160],"]",")",";",["T_WHITESPACE","\n\t\t",160],"}",["T_WHITESPACE","\n\n\t\t",161],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","db",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","query",163],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_STRING","DB_PREFIX",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","\"category WHERE category_id = '\"",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_INT_CAST","(int)",163],["T_VARIABLE","$category_id",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","\"'\"",163],")",";",["T_WHITESPACE","\n\t\t",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","db",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","query",164],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_STRING","DB_PREFIX",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"category_description WHERE category_id = '\"",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_INT_CAST","(int)",164],["T_VARIABLE","$category_id",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"'\"",164],")",";",["T_WHITESPACE","\n\t\t",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","db",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","query",165],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_STRING","DB_PREFIX",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","\"category_filter WHERE category_id = '\"",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_INT_CAST","(int)",165],["T_VARIABLE","$category_id",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","\"'\"",165],")",";",["T_WHITESPACE","\n\t\t",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","db",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","query",166],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_STRING","DB_PREFIX",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store WHERE category_id = '\"",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_INT_CAST","(int)",166],["T_VARIABLE","$category_id",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","\"'\"",166],")",";",["T_WHITESPACE","\n\t\t",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","db",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","query",167],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_STRING","DB_PREFIX",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","\"category_to_layout WHERE category_id = '\"",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_INT_CAST","(int)",167],["T_VARIABLE","$category_id",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","\"'\"",167],")",";",["T_WHITESPACE","\n\t\t",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","db",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","query",168],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_STRING","DB_PREFIX",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category WHERE category_id = '\"",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_INT_CAST","(int)",168],["T_VARIABLE","$category_id",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","\"'\"",168],")",";",["T_WHITESPACE","\n\t\t",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","db",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","query",169],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_STRING","DB_PREFIX",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","\"url_alias WHERE query = 'category_id=\"",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_INT_CAST","(int)",169],["T_VARIABLE","$category_id",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","\"'\"",169],")",";",["T_WHITESPACE","\n\t\t",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","db",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","query",170],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_STRING","DB_PREFIX",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","\"coupon_category WHERE category_id = '\"",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_INT_CAST","(int)",170],["T_VARIABLE","$category_id",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","\"'\"",170],")",";",["T_WHITESPACE","\n\n\t\t",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","cache",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","delete",172],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",172],")",";",["T_WHITESPACE","\n\t",172],"}",["T_WHITESPACE","\n\n\t",173],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","repairCategories",175],"(",["T_VARIABLE","$parent_id",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_LNUMBER","0",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n\t\t",175],["T_VARIABLE","$query",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","db",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","query",176],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_STRING","DB_PREFIX",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","\"category WHERE parent_id = '\"",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_INT_CAST","(int)",176],["T_VARIABLE","$parent_id",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","\"'\"",176],")",";",["T_WHITESPACE","\n\n\t\t",176],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$query",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","rows",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$category",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n\t\t\t",178],["T_COMMENT","\/\/ Delete the path below the current one\n",179],["T_WHITESPACE","\t\t\t",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","db",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","query",180],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_STRING","DB_PREFIX",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_INT_CAST","(int)",180],["T_VARIABLE","$category",180],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",180],"]",["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","\"'\"",180],")",";",["T_WHITESPACE","\n\n\t\t\t",180],["T_COMMENT","\/\/ Fix for records with no paths\n",182],["T_WHITESPACE","\t\t\t",183],["T_VARIABLE","$level",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],";",["T_WHITESPACE","\n\n\t\t\t",183],["T_VARIABLE","$query",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","db",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","query",185],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_STRING","DB_PREFIX",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_INT_CAST","(int)",185],["T_VARIABLE","$parent_id",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY level ASC\"",185],")",";",["T_WHITESPACE","\n\n\t\t\t",185],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$query",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","rows",187],["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$result",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n\t\t\t\t",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","db",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","query",188],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_STRING","DB_PREFIX",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET category_id = '\"",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_INT_CAST","(int)",188],["T_VARIABLE","$category",188],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",188],"]",["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_INT_CAST","(int)",188],["T_VARIABLE","$result",188],"[",["T_CONSTANT_ENCAPSED_STRING","'path_id'",188],"]",["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","\"', level = '\"",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_INT_CAST","(int)",188],["T_VARIABLE","$level",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","\"'\"",188],")",";",["T_WHITESPACE","\n\n\t\t\t\t",188],["T_VARIABLE","$level",190],["T_INC","++",190],";",["T_WHITESPACE","\n\t\t\t",190],"}",["T_WHITESPACE","\n\n\t\t\t",191],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","db",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","query",193],"(",["T_CONSTANT_ENCAPSED_STRING","\"REPLACE INTO `\"",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_STRING","DB_PREFIX",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET category_id = '\"",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_INT_CAST","(int)",193],["T_VARIABLE","$category",193],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",193],"]",["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_INT_CAST","(int)",193],["T_VARIABLE","$category",193],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",193],"]",["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\"', level = '\"",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_INT_CAST","(int)",193],["T_VARIABLE","$level",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\"'\"",193],")",";",["T_WHITESPACE","\n\n\t\t\t",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","repairCategories",195],"(",["T_VARIABLE","$category",195],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",195],"]",")",";",["T_WHITESPACE","\n\t\t",195],"}",["T_WHITESPACE","\n\t",196],"}",["T_WHITESPACE","\n\n\t",197],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","getCategory",199],"(",["T_VARIABLE","$category_id",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n\t\t",199],["T_VARIABLE","$query",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","db",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","query",200],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT *, (SELECT GROUP_CONCAT(cd1.name ORDER BY level SEPARATOR '&nbsp;&nbsp;&gt;&nbsp;&nbsp;') FROM \"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_STRING","DB_PREFIX",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"category_path cp LEFT JOIN \"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_STRING","DB_PREFIX",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"category_description cd1 ON (cp.path_id = cd1.category_id AND cp.category_id != cp.path_id) WHERE cp.category_id = c.category_id AND cd1.language_id = '\"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_INT_CAST","(int)",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","config",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","get",200],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",200],")",["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"' GROUP BY cp.category_id) AS path, (SELECT DISTINCT keyword FROM \"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_STRING","DB_PREFIX",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"url_alias WHERE query = 'category_id=\"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_INT_CAST","(int)",200],["T_VARIABLE","$category_id",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"') AS keyword FROM \"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_STRING","DB_PREFIX",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"category c LEFT JOIN \"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_STRING","DB_PREFIX",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"category_description cd2 ON (c.category_id = cd2.category_id) WHERE c.category_id = '\"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_INT_CAST","(int)",200],["T_VARIABLE","$category_id",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"' AND cd2.language_id = '\"",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_INT_CAST","(int)",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","config",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","get",200],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",200],")",["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"'\"",200],")",";",["T_WHITESPACE","\n\n\t\t",200],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$query",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","row",202],";",["T_WHITESPACE","\n\t",202],"}",["T_WHITESPACE","\n\n\t",203],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getCategories",205],"(",["T_VARIABLE","$data",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n\t\t",205],["T_VARIABLE","$sql",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"SELECT cp.category_id AS category_id, GROUP_CONCAT(cd1.name ORDER BY cp.level SEPARATOR '&nbsp;&nbsp;&gt;&nbsp;&nbsp;') AS name, c1.parent_id, c1.sort_order FROM \"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_STRING","DB_PREFIX",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"category_path cp LEFT JOIN \"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_STRING","DB_PREFIX",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"category c1 ON (cp.category_id = c1.category_id) LEFT JOIN \"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_STRING","DB_PREFIX",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"category c2 ON (cp.path_id = c2.category_id) LEFT JOIN \"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_STRING","DB_PREFIX",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"category_description cd1 ON (cp.path_id = cd1.category_id) LEFT JOIN \"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_STRING","DB_PREFIX",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"category_description cd2 ON (cp.category_id = cd2.category_id) WHERE cd1.language_id = '\"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_INT_CAST","(int)",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","config",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",206],")",["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"' AND cd2.language_id = '\"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_INT_CAST","(int)",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","config",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",206],")",["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"'\"",206],";",["T_WHITESPACE","\n\n\t\t",206],["T_IF","if",208],["T_WHITESPACE"," ",208],"(","!",["T_EMPTY","empty",208],"(",["T_VARIABLE","$data",208],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",208],"]",")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n\t\t\t",208],["T_VARIABLE","$sql",209],["T_WHITESPACE"," ",209],["T_CONCAT_EQUAL",".=",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\" AND cd2.name LIKE '%\"",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","db",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","escape",209],"(",["T_VARIABLE","$data",209],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",209],"]",")",["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",209],";",["T_WHITESPACE","\n\t\t",209],"}",["T_WHITESPACE","\n\n\t\t",210],["T_VARIABLE","$sql",212],["T_WHITESPACE"," ",212],["T_CONCAT_EQUAL",".=",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY cp.category_id\"",212],";",["T_WHITESPACE","\n\n\t\t",212],["T_VARIABLE","$sort_data",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",["T_WHITESPACE","\n\t\t\t",214],["T_CONSTANT_ENCAPSED_STRING","'name'",215],",",["T_WHITESPACE","\n\t\t\t",215],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",216],["T_WHITESPACE","\n\t\t",216],")",";",["T_WHITESPACE","\n\n\t\t",217],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_ISSET","isset",219],"(",["T_VARIABLE","$data",219],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",219],"]",")",["T_WHITESPACE"," ",219],["T_BOOLEAN_AND","&&",219],["T_WHITESPACE"," ",219],["T_STRING","in_array",219],"(",["T_VARIABLE","$data",219],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",219],"]",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$sort_data",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n\t\t\t",219],["T_VARIABLE","$sql",220],["T_WHITESPACE"," ",220],["T_CONCAT_EQUAL",".=",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_VARIABLE","$data",220],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",220],"]",";",["T_WHITESPACE","\n\t\t",220],"}",["T_WHITESPACE"," ",221],["T_ELSE","else",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t\t",221],["T_VARIABLE","$sql",222],["T_WHITESPACE"," ",222],["T_CONCAT_EQUAL",".=",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY sort_order\"",222],";",["T_WHITESPACE","\n\t\t",222],"}",["T_WHITESPACE","\n\n\t\t",223],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_ISSET","isset",225],"(",["T_VARIABLE","$data",225],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",225],"]",")",["T_WHITESPACE"," ",225],["T_BOOLEAN_AND","&&",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$data",225],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",225],"]",["T_WHITESPACE"," ",225],["T_IS_EQUAL","==",225],["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'DESC'",225],")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n\t\t\t",225],["T_VARIABLE","$sql",226],["T_WHITESPACE"," ",226],["T_CONCAT_EQUAL",".=",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","\" DESC\"",226],";",["T_WHITESPACE","\n\t\t",226],"}",["T_WHITESPACE"," ",227],["T_ELSE","else",227],["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n\t\t\t",227],["T_VARIABLE","$sql",228],["T_WHITESPACE"," ",228],["T_CONCAT_EQUAL",".=",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","\" ASC\"",228],";",["T_WHITESPACE","\n\t\t",228],"}",["T_WHITESPACE","\n\n\t\t",229],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_ISSET","isset",231],"(",["T_VARIABLE","$data",231],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",231],"]",")",["T_WHITESPACE"," ",231],["T_BOOLEAN_OR","||",231],["T_WHITESPACE"," ",231],["T_ISSET","isset",231],"(",["T_VARIABLE","$data",231],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",231],"]",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n\t\t\t",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$data",232],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",232],"]",["T_WHITESPACE"," ",232],"<",["T_WHITESPACE"," ",232],["T_LNUMBER","0",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n\t\t\t\t",232],["T_VARIABLE","$data",233],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],";",["T_WHITESPACE","\n\t\t\t",233],"}",["T_WHITESPACE","\n\n\t\t\t",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$data",236],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",236],"]",["T_WHITESPACE"," ",236],"<",["T_WHITESPACE"," ",236],["T_LNUMBER","1",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n\t\t\t\t",236],["T_VARIABLE","$data",237],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",237],"]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_LNUMBER","20",237],";",["T_WHITESPACE","\n\t\t\t",237],"}",["T_WHITESPACE","\n\n\t\t\t",238],["T_VARIABLE","$sql",240],["T_WHITESPACE"," ",240],["T_CONCAT_EQUAL",".=",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_INT_CAST","(int)",240],["T_VARIABLE","$data",240],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",240],"]",["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","\",\"",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_INT_CAST","(int)",240],["T_VARIABLE","$data",240],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",240],"]",";",["T_WHITESPACE","\n\t\t",240],"}",["T_WHITESPACE","\n\n\t\t",241],["T_VARIABLE","$query",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","db",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","query",243],"(",["T_VARIABLE","$sql",243],")",";",["T_WHITESPACE","\n\n\t\t",243],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$query",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","rows",245],";",["T_WHITESPACE","\n\t",245],"}",["T_WHITESPACE","\n\n\t",246],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","getCategoryDescriptions",248],"(",["T_VARIABLE","$category_id",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n\t\t",248],["T_VARIABLE","$category_description_data",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",")",";",["T_WHITESPACE","\n\n\t\t",249],["T_VARIABLE","$query",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","db",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","query",251],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_STRING","DB_PREFIX",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","\"category_description WHERE category_id = '\"",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_INT_CAST","(int)",251],["T_VARIABLE","$category_id",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","\"'\"",251],")",";",["T_WHITESPACE","\n\n\t\t",251],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$query",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","rows",253],["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$result",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n\t\t\t",253],["T_VARIABLE","$category_description_data",254],"[",["T_VARIABLE","$result",254],"[",["T_CONSTANT_ENCAPSED_STRING","'language_id'",254],"]","]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",["T_WHITESPACE","\n\t\t\t\t",254],["T_CONSTANT_ENCAPSED_STRING","'name'",255],["T_WHITESPACE","             ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$result",255],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",255],"]",",",["T_WHITESPACE","\n\t\t\t\t",255],["T_CONSTANT_ENCAPSED_STRING","'meta_title'",256],["T_WHITESPACE","       ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$result",256],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_title'",256],"]",",",["T_WHITESPACE","\n\t\t\t\t",256],["T_CONSTANT_ENCAPSED_STRING","'meta_description'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$result",257],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_description'",257],"]",",",["T_WHITESPACE","\n\t\t\t\t",257],["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",258],["T_WHITESPACE","     ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$result",258],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",258],"]",",",["T_WHITESPACE","\n\t\t\t\t",258],["T_CONSTANT_ENCAPSED_STRING","'description'",259],["T_WHITESPACE","      ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$result",259],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",259],"]",["T_WHITESPACE","\n\t\t\t",259],")",";",["T_WHITESPACE","\n\t\t",260],"}",["T_WHITESPACE","\n\n\t\t",261],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$category_description_data",263],";",["T_WHITESPACE","\n\t",263],"}",["T_WHITESPACE","\n\t\n\t",264],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getCategoryPath",266],"(",["T_VARIABLE","$category_id",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n\t\t",266],["T_VARIABLE","$query",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","db",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","query",267],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT category_id, path_id, level FROM \"",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_STRING","DB_PREFIX",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"category_path WHERE category_id = '\"",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_INT_CAST","(int)",267],["T_VARIABLE","$category_id",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"'\"",267],")",";",["T_WHITESPACE","\n\n\t\t",267],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$query",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","rows",269],";",["T_WHITESPACE","\n\t",269],"}",["T_WHITESPACE","\n\t\n\t",270],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getCategoryFilters",272],"(",["T_VARIABLE","$category_id",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n\t\t",272],["T_VARIABLE","$category_filter_data",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_ARRAY","array",273],"(",")",";",["T_WHITESPACE","\n\n\t\t",273],["T_VARIABLE","$query",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","db",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","query",275],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_STRING","DB_PREFIX",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","\"category_filter WHERE category_id = '\"",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_INT_CAST","(int)",275],["T_VARIABLE","$category_id",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","\"'\"",275],")",";",["T_WHITESPACE","\n\n\t\t",275],["T_FOREACH","foreach",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$query",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","rows",277],["T_WHITESPACE"," ",277],["T_AS","as",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$result",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n\t\t\t",277],["T_VARIABLE","$category_filter_data",278],"[","]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$result",278],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_id'",278],"]",";",["T_WHITESPACE","\n\t\t",278],"}",["T_WHITESPACE","\n\n\t\t",279],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$category_filter_data",281],";",["T_WHITESPACE","\n\t",281],"}",["T_WHITESPACE","\n\n\t",282],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","getCategoryStores",284],"(",["T_VARIABLE","$category_id",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n\t\t",284],["T_VARIABLE","$category_store_data",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",")",";",["T_WHITESPACE","\n\n\t\t",285],["T_VARIABLE","$query",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","db",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","query",287],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_STRING","DB_PREFIX",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store WHERE category_id = '\"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_INT_CAST","(int)",287],["T_VARIABLE","$category_id",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\"'\"",287],")",";",["T_WHITESPACE","\n\n\t\t",287],["T_FOREACH","foreach",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$query",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","rows",289],["T_WHITESPACE"," ",289],["T_AS","as",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$result",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n\t\t\t",289],["T_VARIABLE","$category_store_data",290],"[","]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$result",290],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",290],"]",";",["T_WHITESPACE","\n\t\t",290],"}",["T_WHITESPACE","\n\n\t\t",291],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$category_store_data",293],";",["T_WHITESPACE","\n\t",293],"}",["T_WHITESPACE","\n\n\t",294],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getCategoryLayouts",296],"(",["T_VARIABLE","$category_id",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n\t\t",296],["T_VARIABLE","$category_layout_data",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_ARRAY","array",297],"(",")",";",["T_WHITESPACE","\n\n\t\t",297],["T_VARIABLE","$query",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","db",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","query",299],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_STRING","DB_PREFIX",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","\"category_to_layout WHERE category_id = '\"",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_INT_CAST","(int)",299],["T_VARIABLE","$category_id",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","\"'\"",299],")",";",["T_WHITESPACE","\n\n\t\t",299],["T_FOREACH","foreach",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$query",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","rows",301],["T_WHITESPACE"," ",301],["T_AS","as",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$result",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n\t\t\t",301],["T_VARIABLE","$category_layout_data",302],"[",["T_VARIABLE","$result",302],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",302],"]","]",["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$result",302],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_id'",302],"]",";",["T_WHITESPACE","\n\t\t",302],"}",["T_WHITESPACE","\n\n\t\t",303],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$category_layout_data",305],";",["T_WHITESPACE","\n\t",305],"}",["T_WHITESPACE","\n\n\t",306],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","getTotalCategories",308],"(",")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n\t\t",308],["T_VARIABLE","$query",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","db",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","query",309],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_STRING","DB_PREFIX",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","\"category\"",309],")",";",["T_WHITESPACE","\n\n\t\t",309],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$query",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","row",311],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",311],"]",";",["T_WHITESPACE","\n\t",311],"}",["T_WHITESPACE","\n\t\n\t",312],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","getTotalCategoriesByLayoutId",314],"(",["T_VARIABLE","$layout_id",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n\t\t",314],["T_VARIABLE","$query",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","db",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","query",315],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_STRING","DB_PREFIX",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","\"category_to_layout WHERE layout_id = '\"",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_INT_CAST","(int)",315],["T_VARIABLE","$layout_id",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","\"'\"",315],")",";",["T_WHITESPACE","\n\n\t\t",315],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$query",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","row",317],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",317],"]",";",["T_WHITESPACE","\n\t",317],"}",["T_WHITESPACE","\t\n",318],"}",["T_WHITESPACE","\n",319]]