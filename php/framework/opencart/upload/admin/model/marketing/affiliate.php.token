[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelMarketingAffiliate",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addAffiliate",3],"(",["T_VARIABLE","$data",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"affiliate SET firstname = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', lastname = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', email = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', telephone = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', fax = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'fax'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', salt = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$salt",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_STRING","token",4],"(",["T_LNUMBER","9",4],")",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', password = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_STRING","sha1",4],"(",["T_VARIABLE","$salt",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","sha1",4],"(",["T_VARIABLE","$salt",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","sha1",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",4],"]",")",")",")",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', company = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', website = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'website'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', address_1 = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', address_2 = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', city = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', postcode = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', country_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', zone_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', code = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', commission = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_DOUBLE_CAST","(float)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'commission'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', tax = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', payment = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', cheque = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'cheque'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', paypal = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', bank_name = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_name'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', bank_branch_number = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_branch_number'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', bank_swift_code = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_swift_code'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', bank_account_name = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_account_name'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', bank_account_number = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_account_number'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_RETURN","return",6],["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","getLastId",6],"(",")",";",["T_WHITESPACE","\n\t",6],"}",["T_WHITESPACE","\n\n\t",7],["T_PUBLIC","public",9],["T_WHITESPACE"," ",9],["T_FUNCTION","function",9],["T_WHITESPACE"," ",9],["T_STRING","editAffiliate",9],"(",["T_VARIABLE","$affiliate_id",9],",",["T_WHITESPACE"," ",9],["T_VARIABLE","$data",9],")",["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t\t",9],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","query",10],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_STRING","DB_PREFIX",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"affiliate SET firstname = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', lastname = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', email = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', telephone = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', fax = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'fax'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', company = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', website = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'website'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', address_1 = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', address_2 = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', city = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', postcode = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', country_id = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",10],"]",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', zone_id = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",10],"]",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', code = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', commission = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_DOUBLE_CAST","(float)",10],["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'commission'",10],"]",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', tax = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', payment = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', cheque = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'cheque'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', paypal = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', bank_name = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_name'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', bank_branch_number = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_branch_number'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', bank_swift_code = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_swift_code'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', bank_account_name = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_account_name'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', bank_account_number = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'bank_account_number'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",10],"]",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE affiliate_id = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$affiliate_id",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"'\"",10],")",";",["T_WHITESPACE","\n\n\t\t",10],["T_IF","if",12],["T_WHITESPACE"," ",12],"(",["T_VARIABLE","$data",12],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",12],"]",")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","query",13],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","DB_PREFIX",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"affiliate SET salt = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$salt",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_STRING","token",13],"(",["T_LNUMBER","9",13],")",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"', password = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_STRING","sha1",13],"(",["T_VARIABLE","$salt",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","sha1",13],"(",["T_VARIABLE","$salt",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","sha1",13],"(",["T_VARIABLE","$data",13],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",13],"]",")",")",")",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE affiliate_id = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_INT_CAST","(int)",13],["T_VARIABLE","$affiliate_id",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"'\"",13],")",";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE","\n\t",14],"}",["T_WHITESPACE","\n\n\t",15],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","deleteAffiliate",17],"(",["T_VARIABLE","$affiliate_id",17],")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t\t",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","db",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","query",18],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_STRING","DB_PREFIX",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE affiliate_id = '\"",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_INT_CAST","(int)",18],["T_VARIABLE","$affiliate_id",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","\"'\"",18],")",";",["T_WHITESPACE","\n\t\t",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","db",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","query",19],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_STRING","DB_PREFIX",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_activity WHERE affiliate_id = '\"",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_INT_CAST","(int)",19],["T_VARIABLE","$affiliate_id",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"'\"",19],")",";",["T_WHITESPACE","\n\t\t",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","db",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","query",20],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_STRING","DB_PREFIX",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction WHERE affiliate_id = '\"",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_INT_CAST","(int)",20],["T_VARIABLE","$affiliate_id",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\"'\"",20],")",";",["T_WHITESPACE","\n\t",20],"}",["T_WHITESPACE","\n\n\t",21],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","getAffiliate",23],"(",["T_VARIABLE","$affiliate_id",23],")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\t\t",23],["T_VARIABLE","$query",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","db",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","query",24],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT * FROM \"",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_STRING","DB_PREFIX",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE affiliate_id = '\"",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_INT_CAST","(int)",24],["T_VARIABLE","$affiliate_id",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","\"'\"",24],")",";",["T_WHITESPACE","\n\n\t\t",24],["T_RETURN","return",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$query",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","row",26],";",["T_WHITESPACE","\n\t",26],"}",["T_WHITESPACE","\n\n\t",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","getAffiliateByEmail",29],"(",["T_VARIABLE","$email",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\t\t",29],["T_VARIABLE","$query",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","db",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","query",30],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT * FROM \"",30],["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_STRING","DB_PREFIX",30],["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE LCASE(email) = '\"",30],["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","db",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","escape",30],"(",["T_STRING","utf8_strtolower",30],"(",["T_VARIABLE","$email",30],")",")",["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","\"'\"",30],")",";",["T_WHITESPACE","\n\n\t\t",30],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$query",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","row",32],";",["T_WHITESPACE","\n\t",32],"}",["T_WHITESPACE","\n\n\t",33],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","getAffiliateByCode",35],"(",["T_VARIABLE","$code",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n\t\t",35],["T_VARIABLE","$query",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","db",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","query",36],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT * FROM \"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_STRING","DB_PREFIX",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE code = '\"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","db",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","escape",36],"(",["T_VARIABLE","$code",36],")",["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"'\"",36],")",";",["T_WHITESPACE","\n\n\t\t",36],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$query",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","row",38],";",["T_WHITESPACE","\n\t",38],"}",["T_WHITESPACE","\n\n\t",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","getAffiliates",41],"(",["T_VARIABLE","$data",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n\t\t",41],["T_VARIABLE","$sql",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"SELECT *, CONCAT(a.firstname, ' ', a.lastname) AS name, (SELECT SUM(at.amount) FROM \"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_STRING","DB_PREFIX",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction at WHERE at.affiliate_id = a.affiliate_id GROUP BY at.affiliate_id) AS balance FROM \"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_STRING","DB_PREFIX",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"affiliate a\"",42],";",["T_WHITESPACE","\n\n\t\t",42],["T_VARIABLE","$implode",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n\n\t\t",44],["T_IF","if",46],["T_WHITESPACE"," ",46],"(","!",["T_EMPTY","empty",46],"(",["T_VARIABLE","$data",46],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",46],"]",")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n\t\t\t",46],["T_VARIABLE","$implode",47],"[","]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"CONCAT(a.firstname, ' ', a.lastname) LIKE '\"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","db",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","escape",47],"(",["T_VARIABLE","$data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",47],"]",")",["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",47],";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\n\t\t",48],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","!",["T_EMPTY","empty",50],"(",["T_VARIABLE","$data",50],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",50],"]",")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n\t\t\t",50],["T_VARIABLE","$implode",51],"[","]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"LCASE(a.email) = '\"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","db",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","escape",51],"(",["T_STRING","utf8_strtolower",51],"(",["T_VARIABLE","$data",51],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",51],"]",")",")",["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"'\"",51],";",["T_WHITESPACE","\n\t\t",51],"}",["T_WHITESPACE","\n\n\t\t",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_EMPTY","empty",54],"(",["T_VARIABLE","$data",54],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_code'",54],"]",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t",54],["T_VARIABLE","$implode",55],"[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"a.code = '\"",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","db",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","escape",55],"(",["T_VARIABLE","$data",55],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_code'",55],"]",")",["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"'\"",55],";",["T_WHITESPACE","\n\t\t",55],"}",["T_WHITESPACE","\n\n\t\t",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_ISSET","isset",58],"(",["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",58],"]",")",["T_WHITESPACE"," ",58],["T_BOOLEAN_AND","&&",58],["T_WHITESPACE"," ",58],"!",["T_STRING","is_null",58],"(",["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",58],"]",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n\t\t\t",58],["T_VARIABLE","$implode",59],"[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"a.status = '\"",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_INT_CAST","(int)",59],["T_VARIABLE","$data",59],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",59],"]",["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"'\"",59],";",["T_WHITESPACE","\n\t\t",59],"}",["T_WHITESPACE","\n\n\t\t",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_ISSET","isset",62],"(",["T_VARIABLE","$data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",62],"]",")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],"!",["T_STRING","is_null",62],"(",["T_VARIABLE","$data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",62],"]",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\t\t\t",62],["T_VARIABLE","$implode",63],"[","]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"a.approved = '\"",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_INT_CAST","(int)",63],["T_VARIABLE","$data",63],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",63],"]",["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"'\"",63],";",["T_WHITESPACE","\n\t\t",63],"}",["T_WHITESPACE","\n\n\t\t",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(","!",["T_EMPTY","empty",66],"(",["T_VARIABLE","$data",66],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",66],"]",")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t",66],["T_VARIABLE","$implode",67],"[","]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"DATE(a.date_added) = DATE('\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","escape",67],"(",["T_VARIABLE","$data",67],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",67],"]",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"')\"",67],";",["T_WHITESPACE","\n\t\t",67],"}",["T_WHITESPACE","\n\n\t\t",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$implode",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_VARIABLE","$sql",71],["T_WHITESPACE"," ",71],["T_CONCAT_EQUAL",".=",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","\" WHERE \"",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_STRING","implode",71],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$implode",71],")",";",["T_WHITESPACE","\n\t\t",71],"}",["T_WHITESPACE","\n\n\t\t",72],["T_VARIABLE","$sort_data",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_WHITESPACE","\n\t\t\t",74],["T_CONSTANT_ENCAPSED_STRING","'name'",75],",",["T_WHITESPACE","\n\t\t\t",75],["T_CONSTANT_ENCAPSED_STRING","'a.email'",76],",",["T_WHITESPACE","\n\t\t\t",76],["T_CONSTANT_ENCAPSED_STRING","'a.code'",77],",",["T_WHITESPACE","\n\t\t\t",77],["T_CONSTANT_ENCAPSED_STRING","'a.status'",78],",",["T_WHITESPACE","\n\t\t\t",78],["T_CONSTANT_ENCAPSED_STRING","'a.approved'",79],",",["T_WHITESPACE","\n\t\t\t",79],["T_CONSTANT_ENCAPSED_STRING","'a.date_added'",80],["T_WHITESPACE","\n\t\t",80],")",";",["T_WHITESPACE","\n\n\t\t",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_ISSET","isset",83],"(",["T_VARIABLE","$data",83],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",83],"]",")",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],["T_STRING","in_array",83],"(",["T_VARIABLE","$data",83],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",83],"]",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$sort_data",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t",83],["T_VARIABLE","$sql",84],["T_WHITESPACE"," ",84],["T_CONCAT_EQUAL",".=",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$data",84],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",84],"]",";",["T_WHITESPACE","\n\t\t",84],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t\t",85],["T_VARIABLE","$sql",86],["T_WHITESPACE"," ",86],["T_CONCAT_EQUAL",".=",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY name\"",86],";",["T_WHITESPACE","\n\t\t",86],"}",["T_WHITESPACE","\n\n\t\t",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_ISSET","isset",89],"(",["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",89],"]",")",["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",89],"]",["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'DESC'",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n\t\t\t",89],["T_VARIABLE","$sql",90],["T_WHITESPACE"," ",90],["T_CONCAT_EQUAL",".=",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\" DESC\"",90],";",["T_WHITESPACE","\n\t\t",90],"}",["T_WHITESPACE"," ",91],["T_ELSE","else",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n\t\t\t",91],["T_VARIABLE","$sql",92],["T_WHITESPACE"," ",92],["T_CONCAT_EQUAL",".=",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","\" ASC\"",92],";",["T_WHITESPACE","\n\t\t",92],"}",["T_WHITESPACE","\n\n\t\t",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_ISSET","isset",95],"(",["T_VARIABLE","$data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",95],"]",")",["T_WHITESPACE"," ",95],["T_BOOLEAN_OR","||",95],["T_WHITESPACE"," ",95],["T_ISSET","isset",95],"(",["T_VARIABLE","$data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",95],"]",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n\t\t\t",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",96],"]",["T_WHITESPACE"," ",96],"<",["T_WHITESPACE"," ",96],["T_LNUMBER","0",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n\t\t\t\t",96],["T_VARIABLE","$data",97],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_LNUMBER","0",97],";",["T_WHITESPACE","\n\t\t\t",97],"}",["T_WHITESPACE","\n\n\t\t\t",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",100],"]",["T_WHITESPACE"," ",100],"<",["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t\t\t",100],["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_LNUMBER","20",101],";",["T_WHITESPACE","\n\t\t\t",101],"}",["T_WHITESPACE","\n\n\t\t\t",102],["T_VARIABLE","$sql",104],["T_WHITESPACE"," ",104],["T_CONCAT_EQUAL",".=",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_INT_CAST","(int)",104],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",104],"]",["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\",\"",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_INT_CAST","(int)",104],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",104],"]",";",["T_WHITESPACE","\n\t\t",104],"}",["T_WHITESPACE","\n\n\t\t",105],["T_VARIABLE","$query",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","db",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","query",107],"(",["T_VARIABLE","$sql",107],")",";",["T_WHITESPACE","\n\n\t\t",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$query",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","rows",109],";",["T_WHITESPACE","\n\t",109],"}",["T_WHITESPACE","\n\n\t",110],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","approve",112],"(",["T_VARIABLE","$affiliate_id",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n\t\t",112],["T_VARIABLE","$affiliate_info",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getAffiliate",113],"(",["T_VARIABLE","$affiliate_id",113],")",";",["T_WHITESPACE","\n\n\t\t",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$affiliate_info",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n\t\t\t",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","query",116],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_STRING","DB_PREFIX",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"affiliate SET approved = '1' WHERE affiliate_id = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_INT_CAST","(int)",116],["T_VARIABLE","$affiliate_id",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"'\"",116],")",";",["T_WHITESPACE","\n\n\t\t\t",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","load",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","language",118],"(",["T_CONSTANT_ENCAPSED_STRING","'mail\/affiliate'",118],")",";",["T_WHITESPACE","\n\n\t\t\t",118],["T_VARIABLE","$message",120],["T_WHITESPACE","  ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","sprintf",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","language",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","get",120],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_welcome'",120],")",",",["T_WHITESPACE"," ",120],["T_STRING","html_entity_decode",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","config",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","get",120],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",120],")",",",["T_WHITESPACE"," ",120],["T_STRING","ENT_QUOTES",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",120],")",")",["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",120],";",["T_WHITESPACE","\n\t\t\t",120],["T_VARIABLE","$message",121],["T_WHITESPACE"," ",121],["T_CONCAT_EQUAL",".=",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","language",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","get",121],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_login'",121],")",["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",121],";",["T_WHITESPACE","\n\t\t\t",121],["T_VARIABLE","$message",122],["T_WHITESPACE"," ",122],["T_CONCAT_EQUAL",".=",122],["T_WHITESPACE"," ",122],["T_STRING","HTTP_CATALOG",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'index.php?route=affiliate\/login'",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",122],";",["T_WHITESPACE","\n\t\t\t",122],["T_VARIABLE","$message",123],["T_WHITESPACE"," ",123],["T_CONCAT_EQUAL",".=",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","language",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_services'",123],")",["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",123],";",["T_WHITESPACE","\n\t\t\t",123],["T_VARIABLE","$message",124],["T_WHITESPACE"," ",124],["T_CONCAT_EQUAL",".=",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","language",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","get",124],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_thanks'",124],")",["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",124],";",["T_WHITESPACE","\n\t\t\t",124],["T_VARIABLE","$message",125],["T_WHITESPACE"," ",125],["T_CONCAT_EQUAL",".=",125],["T_WHITESPACE"," ",125],["T_STRING","html_entity_decode",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","config",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","get",125],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",125],")",",",["T_WHITESPACE"," ",125],["T_STRING","ENT_QUOTES",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",125],")",";",["T_WHITESPACE","\n\n\t\t\t",125],["T_VARIABLE","$mail",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","Mail",127],"(",")",";",["T_WHITESPACE","\n\t\t\t",127],["T_VARIABLE","$mail",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","protocol",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","config",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","get",128],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_protocol'",128],")",";",["T_WHITESPACE","\n\t\t\t",128],["T_VARIABLE","$mail",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","parameter",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","config",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_parameter'",129],")",";",["T_WHITESPACE","\n\t\t\t",129],["T_VARIABLE","$mail",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","smtp_hostname",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","config",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","get",130],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_hostname'",130],")",";",["T_WHITESPACE","\n\t\t\t",130],["T_VARIABLE","$mail",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","smtp_username",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","config",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","get",131],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_username'",131],")",";",["T_WHITESPACE","\n\t\t\t",131],["T_VARIABLE","$mail",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","smtp_password",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","html_entity_decode",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","config",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_password'",132],")",",",["T_WHITESPACE"," ",132],["T_STRING","ENT_QUOTES",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",132],")",";",["T_WHITESPACE","\n\t\t\t",132],["T_VARIABLE","$mail",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","smtp_port",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","config",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","get",133],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_port'",133],")",";",["T_WHITESPACE","\n\t\t\t",133],["T_VARIABLE","$mail",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","smtp_timeout",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","config",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","get",134],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_timeout'",134],")",";",["T_WHITESPACE","\n\n\t\t\t",134],["T_VARIABLE","$mail",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setTo",136],"(",["T_VARIABLE","$affiliate_info",136],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",136],"]",")",";",["T_WHITESPACE","\n\t\t\t",136],["T_VARIABLE","$mail",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setFrom",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","config",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","get",137],"(",["T_CONSTANT_ENCAPSED_STRING","'config_email'",137],")",")",";",["T_WHITESPACE","\n\t\t\t",137],["T_VARIABLE","$mail",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setSender",138],"(",["T_STRING","html_entity_decode",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","config",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",138],")",",",["T_WHITESPACE"," ",138],["T_STRING","ENT_QUOTES",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",138],")",")",";",["T_WHITESPACE","\n\t\t\t",138],["T_VARIABLE","$mail",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setSubject",139],"(",["T_STRING","sprintf",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","language",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_subject'",139],")",",",["T_WHITESPACE"," ",139],["T_STRING","html_entity_decode",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","config",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",139],")",",",["T_WHITESPACE"," ",139],["T_STRING","ENT_QUOTES",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",139],")",")",")",";",["T_WHITESPACE","\n\t\t\t",139],["T_VARIABLE","$mail",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setText",140],"(",["T_VARIABLE","$message",140],")",";",["T_WHITESPACE","\n\t\t\t",140],["T_VARIABLE","$mail",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","send",141],"(",")",";",["T_WHITESPACE","\n\t\t",141],"}",["T_WHITESPACE","\n\t",142],"}",["T_WHITESPACE","\n\n\t",143],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","getAffiliatesByNewsletter",145],"(",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n\t\t",145],["T_VARIABLE","$query",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","db",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","query",146],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_STRING","DB_PREFIX",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE newsletter = '1' ORDER BY firstname, lastname, email\"",146],")",";",["T_WHITESPACE","\n\n\t\t",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$query",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","rows",148],";",["T_WHITESPACE","\n\t",148],"}",["T_WHITESPACE","\n\n\t",149],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getTotalAffiliates",151],"(",["T_VARIABLE","$data",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t",151],["T_VARIABLE","$sql",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_STRING","DB_PREFIX",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","\"affiliate\"",152],";",["T_WHITESPACE","\n\n\t\t",152],["T_VARIABLE","$implode",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",")",";",["T_WHITESPACE","\n\n\t\t",154],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_EMPTY","empty",156],"(",["T_VARIABLE","$data",156],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",156],"]",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n\t\t\t",156],["T_VARIABLE","$implode",157],"[","]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"CONCAT(firstname, ' ', lastname) LIKE '%\"",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","db",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","escape",157],"(",["T_VARIABLE","$data",157],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",157],"]",")",["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",157],";",["T_WHITESPACE","\n\t\t",157],"}",["T_WHITESPACE","\n\n\t\t",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_EMPTY","empty",160],"(",["T_VARIABLE","$data",160],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",160],"]",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n\t\t\t",160],["T_VARIABLE","$implode",161],"[","]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","\"LCASE(email) = '\"",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","db",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","escape",161],"(",["T_STRING","utf8_strtolower",161],"(",["T_VARIABLE","$data",161],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",161],"]",")",")",["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","\"'\"",161],";",["T_WHITESPACE","\n\t\t",161],"}",["T_WHITESPACE","\n\n\t\t",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_ISSET","isset",164],"(",["T_VARIABLE","$data",164],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",164],"]",")",["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],"!",["T_STRING","is_null",164],"(",["T_VARIABLE","$data",164],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",164],"]",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n\t\t\t",164],["T_VARIABLE","$implode",165],"[","]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","\"status = '\"",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_INT_CAST","(int)",165],["T_VARIABLE","$data",165],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",165],"]",["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","\"'\"",165],";",["T_WHITESPACE","\n\t\t",165],"}",["T_WHITESPACE","\n\n\t\t",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_ISSET","isset",168],"(",["T_VARIABLE","$data",168],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",168],"]",")",["T_WHITESPACE"," ",168],["T_BOOLEAN_AND","&&",168],["T_WHITESPACE"," ",168],"!",["T_STRING","is_null",168],"(",["T_VARIABLE","$data",168],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",168],"]",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n\t\t\t",168],["T_VARIABLE","$implode",169],"[","]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","\"approved = '\"",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_INT_CAST","(int)",169],["T_VARIABLE","$data",169],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",169],"]",["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","\"'\"",169],";",["T_WHITESPACE","\n\t\t",169],"}",["T_WHITESPACE","\n\n\t\t",170],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_EMPTY","empty",172],"(",["T_VARIABLE","$data",172],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",172],"]",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n\t\t\t",172],["T_VARIABLE","$implode",173],"[","]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","\"DATE(date_added) = DATE('\"",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","db",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","escape",173],"(",["T_VARIABLE","$data",173],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",173],"]",")",["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","\"')\"",173],";",["T_WHITESPACE","\n\t\t",173],"}",["T_WHITESPACE","\n\n\t\t",174],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$implode",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n\t\t\t",176],["T_VARIABLE","$sql",177],["T_WHITESPACE"," ",177],["T_CONCAT_EQUAL",".=",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","\" WHERE \"",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_STRING","implode",177],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$implode",177],")",";",["T_WHITESPACE","\n\t\t",177],"}",["T_WHITESPACE","\n\n\t\t",178],["T_VARIABLE","$query",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","db",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","query",180],"(",["T_VARIABLE","$sql",180],")",";",["T_WHITESPACE","\n\n\t\t",180],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$query",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","row",182],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",182],"]",";",["T_WHITESPACE","\n\t",182],"}",["T_WHITESPACE","\n\n\t",183],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","getTotalAffiliatesAwaitingApproval",185],"(",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n\t\t",185],["T_VARIABLE","$query",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","db",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","query",186],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_STRING","DB_PREFIX",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE status = '0' OR approved = '0'\"",186],")",";",["T_WHITESPACE","\n\n\t\t",186],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$query",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","row",188],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",188],"]",";",["T_WHITESPACE","\n\t",188],"}",["T_WHITESPACE","\n\n\t",189],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","getTotalAffiliatesByCountryId",191],"(",["T_VARIABLE","$country_id",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n\t\t",191],["T_VARIABLE","$query",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","db",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","query",192],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_STRING","DB_PREFIX",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE country_id = '\"",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_INT_CAST","(int)",192],["T_VARIABLE","$country_id",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","\"'\"",192],")",";",["T_WHITESPACE","\n\n\t\t",192],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$query",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","row",194],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",194],"]",";",["T_WHITESPACE","\n\t",194],"}",["T_WHITESPACE","\n\n\t",195],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getTotalAffiliatesByZoneId",197],"(",["T_VARIABLE","$zone_id",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n\t\t",197],["T_VARIABLE","$query",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","db",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","query",198],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_STRING","DB_PREFIX",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","\"affiliate WHERE zone_id = '\"",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_INT_CAST","(int)",198],["T_VARIABLE","$zone_id",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","\"'\"",198],")",";",["T_WHITESPACE","\n\n\t\t",198],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$query",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","row",200],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",200],"]",";",["T_WHITESPACE","\n\t",200],"}",["T_WHITESPACE","\n\n\t",201],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","addTransaction",203],"(",["T_VARIABLE","$affiliate_id",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$description",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","''",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$amount",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","''",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$order_id",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_LNUMBER","0",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n\t\t",203],["T_VARIABLE","$affiliate_info",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getAffiliate",204],"(",["T_VARIABLE","$affiliate_id",204],")",";",["T_WHITESPACE","\n\n\t\t",204],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$affiliate_info",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","db",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","query",207],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_STRING","DB_PREFIX",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction SET affiliate_id = '\"",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_INT_CAST","(int)",207],["T_VARIABLE","$affiliate_id",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\"', order_id = '\"",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_DOUBLE_CAST","(float)",207],["T_VARIABLE","$order_id",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\"', description = '\"",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","db",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","escape",207],"(",["T_VARIABLE","$description",207],")",["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\"', amount = '\"",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_DOUBLE_CAST","(float)",207],["T_VARIABLE","$amount",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",207],")",";",["T_WHITESPACE","\n\n\t\t\t",207],["T_VARIABLE","$affiliate_transaction_id",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","db",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getLastId",209],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",209],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","load",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","language",211],"(",["T_CONSTANT_ENCAPSED_STRING","'mail\/affiliate'",211],")",";",["T_WHITESPACE","\n\n\t\t\t",211],["T_VARIABLE","$message",213],["T_WHITESPACE","  ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","sprintf",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","language",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_CONSTANT_ENCAPSED_STRING","'text_transaction_received'",213],")",",",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","currency",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","format",213],"(",["T_VARIABLE","$amount",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","config",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_CONSTANT_ENCAPSED_STRING","'config_currency'",213],")",")",")",["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",213],";",["T_WHITESPACE","\n\t\t\t",213],["T_VARIABLE","$message",214],["T_WHITESPACE"," ",214],["T_CONCAT_EQUAL",".=",214],["T_WHITESPACE"," ",214],["T_STRING","sprintf",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","language",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","get",214],"(",["T_CONSTANT_ENCAPSED_STRING","'text_transaction_total'",214],")",",",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","currency",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","format",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getTransactionTotal",214],"(",["T_VARIABLE","$affiliate_id",214],")",",",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","config",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","get",214],"(",["T_CONSTANT_ENCAPSED_STRING","'config_currency'",214],")",")",")",";",["T_WHITESPACE","\n\n\t\t\t",214],["T_VARIABLE","$mail",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","Mail",216],"(",")",";",["T_WHITESPACE","\n\t\t\t",216],["T_VARIABLE","$mail",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","protocol",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","config",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","get",217],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_protocol'",217],")",";",["T_WHITESPACE","\n\t\t\t",217],["T_VARIABLE","$mail",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","parameter",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","config",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","get",218],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_parameter'",218],")",";",["T_WHITESPACE","\n\t\t\t",218],["T_VARIABLE","$mail",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","smtp_hostname",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","config",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","get",219],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_hostname'",219],")",";",["T_WHITESPACE","\n\t\t\t",219],["T_VARIABLE","$mail",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","smtp_username",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","config",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","get",220],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_username'",220],")",";",["T_WHITESPACE","\n\t\t\t",220],["T_VARIABLE","$mail",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","smtp_password",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","html_entity_decode",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","config",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","get",221],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_password'",221],")",",",["T_WHITESPACE"," ",221],["T_STRING","ENT_QUOTES",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",221],")",";",["T_WHITESPACE","\n\t\t\t",221],["T_VARIABLE","$mail",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","smtp_port",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","config",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","get",222],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_port'",222],")",";",["T_WHITESPACE","\n\t\t\t",222],["T_VARIABLE","$mail",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","smtp_timeout",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","config",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","get",223],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_timeout'",223],")",";",["T_WHITESPACE","\n\n\t\t\t",223],["T_VARIABLE","$mail",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","setTo",225],"(",["T_VARIABLE","$affiliate_info",225],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",225],"]",")",";",["T_WHITESPACE","\n\t\t\t",225],["T_VARIABLE","$mail",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setFrom",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","config",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","get",226],"(",["T_CONSTANT_ENCAPSED_STRING","'config_email'",226],")",")",";",["T_WHITESPACE","\n\t\t\t",226],["T_VARIABLE","$mail",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setSender",227],"(",["T_STRING","html_entity_decode",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","config",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","get",227],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",227],")",",",["T_WHITESPACE"," ",227],["T_STRING","ENT_QUOTES",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",227],")",")",";",["T_WHITESPACE","\n\t\t\t",227],["T_VARIABLE","$mail",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setSubject",228],"(",["T_STRING","sprintf",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","language",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","get",228],"(",["T_CONSTANT_ENCAPSED_STRING","'text_transaction_subject'",228],")",",",["T_WHITESPACE"," ",228],["T_STRING","html_entity_decode",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","config",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","get",228],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",228],")",",",["T_WHITESPACE"," ",228],["T_STRING","ENT_QUOTES",228],",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",228],")",")",")",";",["T_WHITESPACE","\n\t\t\t",228],["T_VARIABLE","$mail",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","setText",229],"(",["T_VARIABLE","$message",229],")",";",["T_WHITESPACE","\n\t\t\t",229],["T_VARIABLE","$mail",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","send",230],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",230],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$affiliate_transaction_id",232],";",["T_WHITESPACE","\n\t\t",232],"}",["T_WHITESPACE","\n\t",233],"}",["T_WHITESPACE","\n\n\t",234],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","deleteTransaction",236],"(",["T_VARIABLE","$order_id",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n\t\t",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","db",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","query",237],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_STRING","DB_PREFIX",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction WHERE order_id = '\"",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_INT_CAST","(int)",237],["T_VARIABLE","$order_id",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","\"'\"",237],")",";",["T_WHITESPACE","\n\t",237],"}",["T_WHITESPACE","\n\n\t",238],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","getTransactions",240],"(",["T_VARIABLE","$affiliate_id",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$start",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_LNUMBER","0",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$limit",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_LNUMBER","10",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n\t\t",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$start",241],["T_WHITESPACE"," ",241],"<",["T_WHITESPACE"," ",241],["T_LNUMBER","0",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n\t\t\t",241],["T_VARIABLE","$start",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_LNUMBER","0",242],";",["T_WHITESPACE","\n\t\t",242],"}",["T_WHITESPACE","\n\n\t\t",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$limit",245],["T_WHITESPACE"," ",245],"<",["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n\t\t\t",245],["T_VARIABLE","$limit",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_LNUMBER","10",246],";",["T_WHITESPACE","\n\t\t",246],"}",["T_WHITESPACE","\n\n\t\t",247],["T_VARIABLE","$query",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","db",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","query",249],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_STRING","DB_PREFIX",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction WHERE affiliate_id = '\"",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_INT_CAST","(int)",249],["T_VARIABLE","$affiliate_id",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY date_added DESC LIMIT \"",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_INT_CAST","(int)",249],["T_VARIABLE","$start",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","\",\"",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_INT_CAST","(int)",249],["T_VARIABLE","$limit",249],")",";",["T_WHITESPACE","\n\n\t\t",249],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$query",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","rows",251],";",["T_WHITESPACE","\n\t",251],"}",["T_WHITESPACE","\n\n\t",252],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","getTotalTransactions",254],"(",["T_VARIABLE","$affiliate_id",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n\t\t",254],["T_VARIABLE","$query",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","db",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","query",255],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total  FROM \"",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE"," ",255],["T_STRING","DB_PREFIX",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction WHERE affiliate_id = '\"",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE"," ",255],["T_INT_CAST","(int)",255],["T_VARIABLE","$affiliate_id",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","\"'\"",255],")",";",["T_WHITESPACE","\n\n\t\t",255],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$query",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","row",257],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",257],"]",";",["T_WHITESPACE","\n\t",257],"}",["T_WHITESPACE","\n\n\t",258],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","getTransactionTotal",260],"(",["T_VARIABLE","$affiliate_id",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n\t\t",260],["T_VARIABLE","$query",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","db",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","query",261],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT SUM(amount) AS total FROM \"",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_STRING","DB_PREFIX",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction WHERE affiliate_id = '\"",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_INT_CAST","(int)",261],["T_VARIABLE","$affiliate_id",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","\"'\"",261],")",";",["T_WHITESPACE","\n\n\t\t",261],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$query",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","row",263],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",263],"]",";",["T_WHITESPACE","\n\t",263],"}",["T_WHITESPACE","\n\n\t",264],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getTotalTransactionsByOrderId",266],"(",["T_VARIABLE","$order_id",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n\t\t",266],["T_VARIABLE","$query",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","db",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","query",267],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_STRING","DB_PREFIX",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_transaction WHERE order_id = '\"",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_INT_CAST","(int)",267],["T_VARIABLE","$order_id",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"'\"",267],")",";",["T_WHITESPACE","\n\n\t\t",267],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$query",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","row",269],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",269],"]",";",["T_WHITESPACE","\n\t",269],"}",["T_WHITESPACE","\n\n\t",270],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getTotalLoginAttempts",272],"(",["T_VARIABLE","$email",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n\t\t",272],["T_VARIABLE","$query",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","db",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","query",273],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_STRING","DB_PREFIX",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_login` WHERE `email` = '\"",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","db",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","escape",273],"(",["T_VARIABLE","$email",273],")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"'\"",273],")",";",["T_WHITESPACE","\n\n\t\t",273],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$query",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","row",275],";",["T_WHITESPACE","\n\t",275],"}",["T_WHITESPACE","\n\n\t",276],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","deleteLoginAttempts",278],"(",["T_VARIABLE","$email",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n\t\t",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","db",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","query",279],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_STRING","DB_PREFIX",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","\"affiliate_login` WHERE `email` = '\"",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","db",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","escape",279],"(",["T_VARIABLE","$email",279],")",["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","\"'\"",279],")",";",["T_WHITESPACE","\n\t",279],"}",["T_WHITESPACE","\n",280],"}"]