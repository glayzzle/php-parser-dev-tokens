[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionOpenBayOpenbay",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PRIVATE","private",3],["T_WHITESPACE"," ",3],["T_VARIABLE","$url",3],["T_WHITESPACE"," ",3],"=",["T_WHITESPACE"," ",3],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/account.openbaypro.com\/'",3],";",["T_WHITESPACE","\n\t",3],["T_PRIVATE","private",4],["T_WHITESPACE"," ",4],["T_VARIABLE","$error",4],";",["T_WHITESPACE","\n\n\t",4],["T_PUBLIC","public",6],["T_WHITESPACE"," ",6],["T_FUNCTION","function",6],["T_WHITESPACE"," ",6],["T_STRING","patch",6],"(",")",["T_WHITESPACE"," ",6],"{",["T_WHITESPACE","\n\n\t",6],"}",["T_WHITESPACE","\n\n\t",8],["T_PUBLIC","public",10],["T_WHITESPACE"," ",10],["T_FUNCTION","function",10],["T_WHITESPACE"," ",10],["T_STRING","updateV2Test",10],"(",")",["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\t\t",10],["T_VARIABLE","$this",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","error",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_ARRAY","array",11],"(",")",";",["T_WHITESPACE","\n\n\t\t",11],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","openbay",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","log",13],"(",["T_CONSTANT_ENCAPSED_STRING","'Starting update test'",13],")",";",["T_WHITESPACE","\n\n\t\t",13],["T_IF","if",15],["T_WHITESPACE"," ",15],"(","!",["T_STRING","function_exists",15],"(",["T_CONSTANT_ENCAPSED_STRING","\"exception_error_handler\"",15],")",")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\t\t\t",15],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","exception_error_handler",16],"(",["T_VARIABLE","$errno",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$errstr",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$errfile",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$errline",16],["T_WHITESPACE"," ",16],")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t\t\t",16],["T_THROW","throw",17],["T_WHITESPACE"," ",17],["T_NEW","new",17],["T_WHITESPACE"," ",17],["T_STRING","ErrorException",17],"(",["T_VARIABLE","$errstr",17],",",["T_WHITESPACE"," ",17],["T_LNUMBER","0",17],",",["T_WHITESPACE"," ",17],["T_VARIABLE","$errno",17],",",["T_WHITESPACE"," ",17],["T_VARIABLE","$errfile",17],",",["T_WHITESPACE"," ",17],["T_VARIABLE","$errline",17],")",";",["T_WHITESPACE","\n\t\t\t",17],"}",["T_WHITESPACE","\n\t\t",18],"}",["T_WHITESPACE","\n\n\t\t",19],["T_STRING","set_error_handler",21],"(",["T_CONSTANT_ENCAPSED_STRING","'exception_error_handler'",21],")",";",["T_WHITESPACE","\n\n\t\t",21],["T_COMMENT","\/\/ check for mkdir enabled\n",23],["T_WHITESPACE","\t\t",24],["T_IF","if",24],["T_WHITESPACE"," ",24],"(","!",["T_STRING","function_exists",24],"(",["T_CONSTANT_ENCAPSED_STRING","'mkdir'",24],")",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\t\t\t",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","error",25],"[","]",["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","language",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'error_mkdir'",25],")",";",["T_WHITESPACE","\n\t\t",25],"}",["T_WHITESPACE","\n\n\t\t",26],["T_COMMENT","\/\/ create a tmp folder\n",28],["T_WHITESPACE","\t\t",29],["T_IF","if",29],["T_WHITESPACE"," ",29],"(","!",["T_STRING","is_dir",29],"(",["T_STRING","DIR_DOWNLOAD",29],["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'\/tmp'",29],")",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\t\t\t",29],["T_TRY","try",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t\t",30],["T_STRING","mkdir",31],"(",["T_STRING","DIR_DOWNLOAD",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\/tmp'",31],")",";",["T_WHITESPACE","\n\t\t\t",31],"}",["T_WHITESPACE"," ",32],["T_CATCH","catch",32],"(",["T_STRING","ErrorException",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$ex",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t\t",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","error",33],"[","]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$ex",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMessage",33],"(",")",";",["T_WHITESPACE","\n\t\t\t",33],"}",["T_WHITESPACE","\n\t\t",34],"}",["T_WHITESPACE","\n\n\t\t",35],["T_COMMENT","\/\/ create tmp file\n",37],["T_WHITESPACE","\t\t",38],["T_TRY","try",38],["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t",38],["T_VARIABLE","$tmp_file",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","fopen",39],"(",["T_STRING","DIR_DOWNLOAD",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'\/tmp\/test_file.php'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'w+'",39],")",";",["T_WHITESPACE","\n\t\t",39],"}",["T_WHITESPACE"," ",40],["T_CATCH","catch",40],"(",["T_STRING","ErrorException",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$ex",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\t\t\t",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","error",41],"[","]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$ex",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMessage",41],"(",")",";",["T_WHITESPACE","\n\t\t",41],"}",["T_WHITESPACE","\n\n\t\t",42],["T_COMMENT","\/\/ open and write over tmp file\n",44],["T_WHITESPACE","\t\t",45],["T_TRY","try",45],["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n\t\t\t",45],["T_VARIABLE","$output",46],["T_WHITESPACE","  ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'<?php'",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",46],";",["T_WHITESPACE","\n\t\t\t",46],["T_VARIABLE","$output",47],["T_WHITESPACE","  ",47],["T_CONCAT_EQUAL",".=",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'$test = \\'12345\\';'",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",47],";",["T_WHITESPACE","\n\t\t\t",47],["T_VARIABLE","$output",48],["T_WHITESPACE","  ",48],["T_CONCAT_EQUAL",".=",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'echo $test;'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",48],";",["T_WHITESPACE","\n\n\t\t\t",48],["T_STRING","fwrite",50],"(",["T_VARIABLE","$tmp_file",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$output",50],")",";",["T_WHITESPACE","\n\t\t\t",50],["T_STRING","fclose",51],"(",["T_VARIABLE","$tmp_file",51],")",";",["T_WHITESPACE","\n\t\t",51],"}",["T_WHITESPACE"," ",52],["T_CATCH","catch",52],"(",["T_STRING","ErrorException",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$ex",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t\t",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","error",53],"[","]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$ex",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMessage",53],"(",")",";",["T_WHITESPACE","\n\t\t",53],"}",["T_WHITESPACE","\n\n\t\t",54],["T_COMMENT","\/\/ try and read the file\n",56],["T_WHITESPACE","\n\t\t",57],["T_COMMENT","\/\/ remove tmp file\n",58],["T_WHITESPACE","\t\t",59],["T_TRY","try",59],["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t\t",59],["T_STRING","unlink",60],"(",["T_STRING","DIR_DOWNLOAD",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'\/tmp\/test_file.php'",60],")",";",["T_WHITESPACE","\n\t\t",60],"}",["T_WHITESPACE"," ",61],["T_CATCH","catch",61],"(",["T_STRING","ErrorException",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$ex",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n\t\t\t",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","error",62],"[","]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$ex",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMessage",62],"(",")",";",["T_WHITESPACE","\n\t\t",62],"}",["T_WHITESPACE","\n\n\t\t",63],["T_COMMENT","\/\/ delete tmp folder\n",65],["T_WHITESPACE","\t\t",66],["T_TRY","try",66],["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t",66],["T_STRING","rmdir",67],"(",["T_STRING","DIR_DOWNLOAD",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'\/tmp'",67],")",";",["T_WHITESPACE","\n\t\t",67],"}",["T_WHITESPACE"," ",68],["T_CATCH","catch",68],"(",["T_STRING","ErrorException",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$ex",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n\t\t\t",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","error",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$ex",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMessage",69],"(",")",";",["T_WHITESPACE","\n\t\t",69],"}",["T_WHITESPACE","\n\n\t\t",70],["T_COMMENT","\/\/ reset to the OC error handler\n",72],["T_WHITESPACE","\t\t",73],["T_STRING","restore_error_handler",73],"(",")",";",["T_WHITESPACE","\n\n\t\t",73],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","openbay",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","log",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Finished update test'",75],")",";",["T_WHITESPACE","\n\n\t\t",75],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","error",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n\t\t\t",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","openbay",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","log",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Finished update test - no errors'",78],")",";",["T_WHITESPACE","\n\t\t\t",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'response'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","''",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'percent_complete'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","20",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'status_message'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","language",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'text_check_new'",79],")",")",";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t\t",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","openbay",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","log",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Finished update test - errors: '",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_STRING","print_r",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","error",81],")",")",";",["T_WHITESPACE","\n\t\t\t",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_LNUMBER","1",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'response'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","error",82],")",";",["T_WHITESPACE","\n\t\t",82],"}",["T_WHITESPACE","\n\t",83],"}",["T_WHITESPACE","\n\n\t",84],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","updateV2CheckVersion",86],"(",["T_VARIABLE","$beta",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_LNUMBER","0",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n\t\t",86],["T_VARIABLE","$current_version",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","config",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","get",87],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay_version'",87],")",";",["T_WHITESPACE","\n\n\t\t",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","openbay",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","log",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Start check version, beta: '",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$beta",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","', current: '",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$current_version",89],")",";",["T_WHITESPACE","\n\n\t\t",89],["T_VARIABLE","$post",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_LNUMBER","4",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'beta'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$beta",91],")",";",["T_WHITESPACE","\n\n\t\t",91],["T_VARIABLE","$data",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","call",93],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/version\/'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$post",93],")",";",["T_WHITESPACE","\n\n\t\t",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","lasterror",95],["T_WHITESPACE"," ",95],["T_IS_EQUAL","==",95],["T_WHITESPACE"," ",95],["T_STRING","true",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n\t\t\t",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","openbay",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","log",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Check version error: '",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","lastmsg",96],")",";",["T_WHITESPACE","\n\n\t\t\t",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'response'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","lastmsg",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","' ('",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_STRING","VERSION",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","')'",98],")",";",["T_WHITESPACE","\n\t\t",98],"}",["T_WHITESPACE"," ",99],["T_ELSE","else",99],["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",100],"]",["T_WHITESPACE"," ",100],">",["T_WHITESPACE"," ",100],["T_VARIABLE","$current_version",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t\t\t",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","openbay",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","log",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Check version new available: '",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",101],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_LNUMBER","0",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'response'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",102],"]",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'percent_complete'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_LNUMBER","40",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'status_message'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","language",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'text_downloading'",102],")",")",";",["T_WHITESPACE","\n\t\t\t",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t\t\t",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","openbay",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","log",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Check version - already latest'",104],")",";",["T_WHITESPACE","\n\t\t\t\t",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_LNUMBER","1",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'response'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","language",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_CONSTANT_ENCAPSED_STRING","'text_version_ok'",105],")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$current_version",105],")",";",["T_WHITESPACE","\n\t\t\t",105],"}",["T_WHITESPACE","\n\t\t",106],"}",["T_WHITESPACE","\n\t",107],"}",["T_WHITESPACE","\n\n\t",108],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","updateV2Download",110],"(",["T_VARIABLE","$beta",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\t\t",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","openbay",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","log",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Downloading'",111],")",";",["T_WHITESPACE","\n\n\t\t",111],["T_VARIABLE","$local_file",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","DIR_DOWNLOAD",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'\/openbaypro_update.zip'",113],";",["T_WHITESPACE","\n\t\t",113],["T_VARIABLE","$handle",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","fopen",114],"(",["T_VARIABLE","$local_file",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"w+\"",114],")",";",["T_WHITESPACE","\n\n\t\t",114],["T_VARIABLE","$post",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_LNUMBER","4",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'beta'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$beta",116],")",";",["T_WHITESPACE","\n\n\t\t",116],["T_VARIABLE","$defaults",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n\t\t\t",118],["T_STRING","CURLOPT_POST",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_LNUMBER","1",119],",",["T_WHITESPACE","\n\t\t\t",119],["T_STRING","CURLOPT_HEADER",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_LNUMBER","0",120],",",["T_WHITESPACE","\n\t\t\t",120],["T_STRING","CURLOPT_URL",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","url",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'update\/download\/'",121],",",["T_WHITESPACE","\n\t\t\t",121],["T_STRING","CURLOPT_USERAGENT",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'OpenBay Pro update script'",122],",",["T_WHITESPACE","\n\t\t\t",122],["T_STRING","CURLOPT_FRESH_CONNECT",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],",",["T_WHITESPACE","\n\t\t\t",123],["T_STRING","CURLOPT_RETURNTRANSFER",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_LNUMBER","1",124],",",["T_WHITESPACE","\n\t\t\t",124],["T_STRING","CURLOPT_FORBID_REUSE",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_LNUMBER","1",125],",",["T_WHITESPACE","\n\t\t\t",125],["T_STRING","CURLOPT_TIMEOUT",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_LNUMBER","0",126],",",["T_WHITESPACE","\n\t\t\t",126],["T_STRING","CURLOPT_SSL_VERIFYPEER",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_LNUMBER","0",127],",",["T_WHITESPACE","\n\t\t\t",127],["T_STRING","CURLOPT_SSL_VERIFYHOST",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],",",["T_WHITESPACE","\n\t\t\t",128],["T_STRING","CURLOPT_POSTFIELDS",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","http_build_query",129],"(",["T_VARIABLE","$post",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","''",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"&\"",129],")",",",["T_WHITESPACE","\n\t\t\t",129],["T_STRING","CURLOPT_FILE",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$handle",130],["T_WHITESPACE","\n\t\t",130],")",";",["T_WHITESPACE","\n\n\t\t",131],["T_VARIABLE","$ch",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","curl_init",133],"(",")",";",["T_WHITESPACE","\n\t\t",133],["T_STRING","curl_setopt_array",134],"(",["T_VARIABLE","$ch",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$defaults",134],")",";",["T_WHITESPACE","\n\t\t",134],["T_STRING","curl_exec",135],"(",["T_VARIABLE","$ch",135],")",";",["T_WHITESPACE","\n\n\t\t",135],["T_VARIABLE","$curl_error",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","curl_error",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$ch",137],")",";",["T_WHITESPACE","\n\n\t\t",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","openbay",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","log",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Download errors: '",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_VARIABLE","$curl_error",139],")",";",["T_WHITESPACE","\n\n\t\t",139],["T_STRING","curl_close",141],"(",["T_VARIABLE","$ch",141],")",";",["T_WHITESPACE","\n\n\t\t",141],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'response'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$curl_error",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'percent_complete'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_LNUMBER","60",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'status_message'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","language",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","get",143],"(",["T_CONSTANT_ENCAPSED_STRING","'text_extracting'",143],")",")",";",["T_WHITESPACE","\n\t",143],"}",["T_WHITESPACE","\n\n\t",144],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","updateV2Extract",146],"(",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n\t\t",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","error",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",")",";",["T_WHITESPACE","\n\n\t\t",147],["T_VARIABLE","$web_root",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","preg_replace",149],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system\\\/$\/'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],",",["T_WHITESPACE"," ",149],["T_STRING","DIR_SYSTEM",149],")",";",["T_WHITESPACE","\n\n\t\t",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","!",["T_STRING","function_exists",151],"(",["T_CONSTANT_ENCAPSED_STRING","\"exception_error_handler\"",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t\t",151],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","exception_error_handler",152],"(",["T_VARIABLE","$errno",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$errstr",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$errfile",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$errline",152],["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t\t",152],["T_THROW","throw",153],["T_WHITESPACE"," ",153],["T_NEW","new",153],["T_WHITESPACE"," ",153],["T_STRING","ErrorException",153],"(",["T_VARIABLE","$errstr",153],",",["T_WHITESPACE"," ",153],["T_LNUMBER","0",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$errno",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$errfile",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$errline",153],")",";",["T_WHITESPACE","\n\t\t\t",153],"}",["T_WHITESPACE","\n\t\t",154],"}",["T_WHITESPACE","\n\n\t\t",155],["T_STRING","set_error_handler",157],"(",["T_CONSTANT_ENCAPSED_STRING","'exception_error_handler'",157],")",";",["T_WHITESPACE","\n\n\t\t",157],["T_TRY","try",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t\t",159],["T_VARIABLE","$zip",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_NEW","new",160],["T_WHITESPACE"," ",160],["T_STRING","ZipArchive",160],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$zip",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","open",162],"(",["T_STRING","DIR_DOWNLOAD",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'openbaypro_update.zip'",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n\t\t\t\t",162],["T_VARIABLE","$zip",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","extractTo",163],"(",["T_VARIABLE","$web_root",163],")",";",["T_WHITESPACE","\n\t\t\t\t",163],["T_VARIABLE","$zip",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","close",164],"(",")",";",["T_WHITESPACE","\n\t\t\t",164],"}",["T_WHITESPACE"," ",165],["T_ELSE","else",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n\t\t\t\t",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","openbay",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","log",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to extract update files'",166],")",";",["T_WHITESPACE","\n\n\t\t\t\t",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","error",168],"[","]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","language",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","get",168],"(",["T_CONSTANT_ENCAPSED_STRING","'text_fail_patch'",168],")",";",["T_WHITESPACE","\n\t\t\t",168],"}",["T_WHITESPACE","\n\t\t",169],"}",["T_WHITESPACE"," ",170],["T_CATCH","catch",170],"(",["T_STRING","ErrorException",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$ex",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n\t\t\t",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","openbay",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","log",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to extract update files'",171],")",";",["T_WHITESPACE","\n\t\t\t",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","error",172],"[","]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$ex",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMessage",172],"(",")",";",["T_WHITESPACE","\n\t\t",172],"}",["T_WHITESPACE","\n\n\t\t",173],["T_COMMENT","\/\/ reset to the OC error handler\n",175],["T_WHITESPACE","\t\t",176],["T_STRING","restore_error_handler",176],"(",")",";",["T_WHITESPACE","\n\n\t\t",176],["T_IF","if",178],["T_WHITESPACE"," ",178],"(","!",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","error",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n\t\t\t",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_LNUMBER","0",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'response'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","''",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'percent_complete'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_LNUMBER","80",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'status_message'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","language",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"(",["T_CONSTANT_ENCAPSED_STRING","'text_remove_files'",179],")",")",";",["T_WHITESPACE","\n\t\t",179],"}",["T_WHITESPACE"," ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_LNUMBER","1",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'response'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","error",181],")",";",["T_WHITESPACE","\n\t\t",181],"}",["T_WHITESPACE","\n\t",182],"}",["T_WHITESPACE","\n\n\t",183],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","updateV2Remove",185],"(",["T_VARIABLE","$beta",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_LNUMBER","0",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n\t\t",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","error",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",")",";",["T_WHITESPACE","\n\n\t\t",186],["T_VARIABLE","$web_root",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","preg_replace",188],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system\\\/$\/'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","''",188],",",["T_WHITESPACE"," ",188],["T_STRING","DIR_SYSTEM",188],")",";",["T_WHITESPACE","\n\n\t\t",188],["T_IF","if",190],["T_WHITESPACE"," ",190],"(","!",["T_STRING","function_exists",190],"(",["T_CONSTANT_ENCAPSED_STRING","\"exception_error_handler\"",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n\t\t\t",190],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","exception_error_handler",191],"(",["T_VARIABLE","$errno",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$errstr",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$errfile",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$errline",191],["T_WHITESPACE"," ",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n\t\t\t\t",191],["T_THROW","throw",192],["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","ErrorException",192],"(",["T_VARIABLE","$errstr",192],",",["T_WHITESPACE"," ",192],["T_LNUMBER","0",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$errno",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$errfile",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$errline",192],")",";",["T_WHITESPACE","\n\t\t\t",192],"}",["T_WHITESPACE","\n\t\t",193],"}",["T_WHITESPACE","\n\n\t\t",194],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","openbay",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","log",196],"(",["T_CONSTANT_ENCAPSED_STRING","'Get files to remove, beta: '",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$beta",196],")",";",["T_WHITESPACE","\n\n\t\t",196],["T_VARIABLE","$post",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'beta'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$beta",198],")",";",["T_WHITESPACE","\n\n\t\t",198],["T_VARIABLE","$files",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","call",200],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/getRemoveList\/'",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$post",200],")",";",["T_WHITESPACE","\n\n\t\t",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","openbay",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","log",202],"(",["T_CONSTANT_ENCAPSED_STRING","\"Remove Files: \"",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_STRING","print_r",202],"(",["T_VARIABLE","$files",202],",",["T_WHITESPACE"," ",202],["T_LNUMBER","1",202],")",")",";",["T_WHITESPACE","\n\n\t\t",202],["T_IF","if",204],["T_WHITESPACE"," ",204],"(","!",["T_EMPTY","empty",204],"(",["T_VARIABLE","$files",204],"[",["T_CONSTANT_ENCAPSED_STRING","'asset'",204],"]",")",["T_WHITESPACE"," ",204],["T_BOOLEAN_AND","&&",204],["T_WHITESPACE"," ",204],["T_STRING","is_array",204],"(",["T_VARIABLE","$files",204],"[",["T_CONSTANT_ENCAPSED_STRING","'asset'",204],"]",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t\t\t",204],["T_FOREACH","foreach",205],"(",["T_VARIABLE","$files",205],"[",["T_CONSTANT_ENCAPSED_STRING","'asset'",205],"]",["T_WHITESPACE"," ",205],["T_AS","as",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$file",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n\t\t\t\t",205],["T_VARIABLE","$filename",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$web_root",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_STRING","implode",206],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$file",206],"[",["T_CONSTANT_ENCAPSED_STRING","'locations'",206],"]","[",["T_CONSTANT_ENCAPSED_STRING","'location'",206],"]",")",["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'\/'",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$file",206],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",206],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",206],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_STRING","file_exists",208],"(",["T_VARIABLE","$filename",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n\t\t\t\t\t",208],["T_TRY","try",209],["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",209],["T_STRING","unlink",210],"(",["T_VARIABLE","$filename",210],")",";",["T_WHITESPACE","\n\t\t\t\t\t",210],"}",["T_WHITESPACE"," ",211],["T_CATCH","catch",211],"(",["T_STRING","ErrorException",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$ex",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","openbay",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","log",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to remove file: '",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$filename",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","', '",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$ex",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getMessage",212],"(",")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","error",213],"[","]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$filename",213],";",["T_WHITESPACE","\n\t\t\t\t\t",213],"}",["T_WHITESPACE","\n\t\t\t\t",214],"}",["T_WHITESPACE","\n\t\t\t",215],"}",["T_WHITESPACE","\n\t\t",216],"}",["T_WHITESPACE","\n\n\t\t",217],["T_COMMENT","\/\/ reset to the OC error handler\n",219],["T_WHITESPACE","\t\t",220],["T_STRING","restore_error_handler",220],"(",")",";",["T_WHITESPACE","\n\n\t\t",220],["T_IF","if",222],["T_WHITESPACE"," ",222],"(","!",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","error",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n\t\t\t",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_LNUMBER","0",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'response'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'percent_complete'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_LNUMBER","90",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'status_message'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","language",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","get",223],"(",["T_CONSTANT_ENCAPSED_STRING","'text_running_patch'",223],")",")",";",["T_WHITESPACE","\n\t\t",223],"}",["T_WHITESPACE"," ",224],["T_ELSE","else",224],["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n\t\t\t",224],["T_VARIABLE","$response_error",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'<p>'",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","language",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","get",225],"(",["T_CONSTANT_ENCAPSED_STRING","'error_file_delete'",225],")",["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",225],";",["T_WHITESPACE","\n\t\t\t",225],["T_VARIABLE","$response_error",226],["T_WHITESPACE"," ",226],["T_CONCAT_EQUAL",".=",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'<ul>'",226],";",["T_WHITESPACE","\n\n\t\t\t",226],["T_FOREACH","foreach",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","error",228],["T_WHITESPACE"," ",228],["T_AS","as",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$error_file",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t\t\t",228],["T_VARIABLE","$response_error",229],["T_WHITESPACE"," ",229],["T_CONCAT_EQUAL",".=",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'<li>'",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_VARIABLE","$error_file",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'<\/li>'",229],";",["T_WHITESPACE","\n\t\t\t",229],"}",["T_WHITESPACE","\n\n\t\t\t",230],["T_VARIABLE","$response_error",232],["T_WHITESPACE"," ",232],["T_CONCAT_EQUAL",".=",232],["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'<\/ul>'",232],";",["T_WHITESPACE","\n\n\t\t\t",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_LNUMBER","1",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'response'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$response_error",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'percent_complete'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_LNUMBER","90",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'status_message'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","language",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","get",234],"(",["T_CONSTANT_ENCAPSED_STRING","'text_running_patch'",234],")",")",";",["T_WHITESPACE","\n\t\t",234],"}",["T_WHITESPACE","\n\t",235],"}",["T_WHITESPACE","\n\n\t",236],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","updateV2UpdateVersion",238],"(",["T_VARIABLE","$beta",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_LNUMBER","0",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n\t\t",238],["T_VARIABLE","$post",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_LNUMBER","4",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'beta'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$beta",239],")",";",["T_WHITESPACE","\n\n\t\t",239],["T_VARIABLE","$data",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","call",241],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/version\/'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$post",241],")",";",["T_WHITESPACE","\n\n\t\t",241],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","lasterror",243],["T_WHITESPACE"," ",243],["T_IS_EQUAL","==",243],["T_WHITESPACE"," ",243],["T_STRING","true",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n\t\t\t",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","openbay",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","log",244],"(",["T_CONSTANT_ENCAPSED_STRING","'Update version: '",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","lastmsg",244],")",";",["T_WHITESPACE","\n\n\t\t\t",244],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_LNUMBER","1",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'response'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","lastmsg",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","' ('",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_STRING","VERSION",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","')'",246],")",";",["T_WHITESPACE","\n\t\t",246],"}",["T_WHITESPACE"," ",247],["T_ELSE","else",247],["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n\t\t\t",247],["T_VARIABLE","$settings",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","model_setting_setting",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getSetting",248],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay'",248],")",";",["T_WHITESPACE","\n\t\t\t",248],["T_VARIABLE","$settings",249],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_version'",249],"]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$data",249],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",249],"]",";",["T_WHITESPACE","\n\t\t\t",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","model_setting_setting",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","editSetting",250],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$settings",250],")",";",["T_WHITESPACE","\n\t\t\t",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_LNUMBER","0",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'response'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$data",251],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",251],"]",",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'percent_complete'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_LNUMBER","100",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'status_message'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","language",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","get",251],"(",["T_CONSTANT_ENCAPSED_STRING","'text_updated_ok'",251],")",["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_VARIABLE","$data",251],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",251],"]",")",";",["T_WHITESPACE","\n\t\t",251],"}",["T_WHITESPACE","\n\t",252],"}",["T_WHITESPACE","\n\n\t",253],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","setUrl",255],"(",["T_VARIABLE","$url",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n\t\t",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","url",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$url",256],";",["T_WHITESPACE","\n\t",256],"}",["T_WHITESPACE","\n\n\t",257],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","updateTest",259],"(",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\t\t",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","load",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","language",260],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/openbay'",260],")",";",["T_WHITESPACE","\n\n\t\t",260],["T_VARIABLE","$data",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","request",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","post",262],";",["T_WHITESPACE","\n\t\t",262],["T_VARIABLE","$data",263],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$data",263],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_username'",263],"]",";",["T_WHITESPACE","\n\t\t",263],["T_VARIABLE","$data",264],"[",["T_CONSTANT_ENCAPSED_STRING","'pw'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","html_entity_decode",264],"(",["T_VARIABLE","$data",264],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_pw'",264],"]",")",";",["T_WHITESPACE","\n\t\t",264],["T_VARIABLE","$data",265],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",265],"]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","trim",265],"(",["T_VARIABLE","$data",265],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_server'",265],"]",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\'",265],")",";",["T_WHITESPACE","\n\t\t",265],["T_VARIABLE","$data",266],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",266],"]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$data",266],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_rootpath'",266],"]",";",["T_WHITESPACE","\n\n\t\t",266],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_EMPTY","empty",268],"(",["T_VARIABLE","$data",268],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",268],"]",")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n\t\t\t",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_STRING","false",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'msg'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","language",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'error_username'",269],")",")",";",["T_WHITESPACE","\n\t\t",269],"}",["T_WHITESPACE","\n\t\t",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_EMPTY","empty",271],"(",["T_VARIABLE","$data",271],"[",["T_CONSTANT_ENCAPSED_STRING","'pw'",271],"]",")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n\t\t\t",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_STRING","false",272],",",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'msg'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","language",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","get",272],"(",["T_CONSTANT_ENCAPSED_STRING","'error_password'",272],")",")",";",["T_WHITESPACE","\n\t\t",272],"}",["T_WHITESPACE","\n\t\t",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_EMPTY","empty",274],"(",["T_VARIABLE","$data",274],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",274],"]",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n\t\t\t",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_ARRAY","array",275],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_STRING","false",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'msg'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","language",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","get",275],"(",["T_CONSTANT_ENCAPSED_STRING","'error_server'",275],")",")",";",["T_WHITESPACE","\n\t\t",275],"}",["T_WHITESPACE","\n\n\t\t",276],["T_VARIABLE","$connection",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],"@",["T_STRING","ftp_connect",278],"(",["T_VARIABLE","$data",278],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",278],"]",")",";",["T_WHITESPACE","\n\n\t\t",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$connection",280],["T_WHITESPACE"," ",280],["T_IS_NOT_EQUAL","!=",280],["T_WHITESPACE"," ",280],["T_STRING","false",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n\t\t\t",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","@",["T_STRING","ftp_login",281],"(",["T_VARIABLE","$connection",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$data",281],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",281],"]",",",["T_WHITESPACE"," ",281],["T_VARIABLE","$data",281],"[",["T_CONSTANT_ENCAPSED_STRING","'pw'",281],"]",")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n\t\t\t\t",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_EMPTY","empty",282],"(",["T_VARIABLE","$data",282],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",282],"]",")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n\t\t\t\t\t",282],"@",["T_STRING","ftp_chdir",283],"(",["T_VARIABLE","$connection",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$data",283],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",283],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",283],"}",["T_WHITESPACE","\n\n\t\t\t\t",284],["T_VARIABLE","$directory_list",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","ftp_nlist",286],"(",["T_VARIABLE","$connection",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","\".\"",286],")",";",["T_WHITESPACE","\n\n\t\t\t\t",286],["T_VARIABLE","$folders",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",288],["T_FOREACH","foreach",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$directory_list",289],["T_WHITESPACE"," ",289],["T_AS","as",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$key",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$list",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n\t\t\t\t\t",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","ftpDir",290],"(",["T_VARIABLE","$list",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$connection",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",290],["T_VARIABLE","$folders",291],"[","]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$list",291],";",["T_WHITESPACE","\n\t\t\t\t\t",291],"}",["T_WHITESPACE","\n\t\t\t\t",292],"}",["T_WHITESPACE","\n\n\t\t\t\t",293],["T_VARIABLE","$folder_error",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","false",295],";",["T_WHITESPACE","\n\t\t\t\t",295],["T_VARIABLE","$folder_error_admin",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","false",296],";",["T_WHITESPACE","\n\t\t\t\t",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(","!",["T_STRING","in_array",297],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$folders",297],")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n\t\t\t\t\t",297],["T_VARIABLE","$folder_error",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","true",298],";",["T_WHITESPACE","\n\t\t\t\t",298],"}",["T_WHITESPACE","\n\t\t\t\t",299],["T_IF","if",300],["T_WHITESPACE"," ",300],"(","!",["T_STRING","in_array",300],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$folders",300],")",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n\t\t\t\t\t",300],["T_VARIABLE","$folder_error",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","true",301],";",["T_WHITESPACE","\n\t\t\t\t",301],"}",["T_WHITESPACE","\n\t\t\t\t",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(","!",["T_STRING","in_array",303],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$folders",303],")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n\t\t\t\t\t",303],["T_VARIABLE","$folder_error",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","true",304],";",["T_WHITESPACE","\n\t\t\t\t",304],"}",["T_WHITESPACE","\n\t\t\t\t",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","!",["T_STRING","in_array",306],"(",["T_VARIABLE","$data",306],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_admin_directory'",306],"]",",",["T_WHITESPACE"," ",306],["T_VARIABLE","$folders",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n\t\t\t\t\t",306],["T_VARIABLE","$folder_error_admin",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","true",307],";",["T_WHITESPACE","\n\t\t\t\t",307],"}",["T_WHITESPACE","\n\n\t\t\t\t",308],["T_STRING","ftp_close",310],"(",["T_VARIABLE","$connection",310],")",";",["T_WHITESPACE","\n\n\t\t\t\t",310],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$folder_error_admin",312],["T_WHITESPACE"," ",312],["T_IS_EQUAL","==",312],["T_WHITESPACE"," ",312],["T_STRING","true",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n\t\t\t\t\t",312],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_STRING","false",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'msg'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","language",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","get",313],"(",["T_CONSTANT_ENCAPSED_STRING","'error_no_admin'",313],")",")",";",["T_WHITESPACE","\n\t\t\t\t",313],"}",["T_WHITESPACE"," ",314],["T_ELSE","else",314],["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n\t\t\t\t\t",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$folder_error",315],["T_WHITESPACE"," ",315],["T_IS_EQUAL","==",315],["T_WHITESPACE"," ",315],["T_STRING","true",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_STRING","false",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'msg'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","language",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","get",316],"(",["T_CONSTANT_ENCAPSED_STRING","'error_no_files'",316],")",",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'dir'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_STRING","json_encode",316],"(",["T_VARIABLE","$directory_list",316],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",316],"}",["T_WHITESPACE"," ",317],["T_ELSE","else",317],["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_STRING","true",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'msg'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","language",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","get",318],"(",["T_CONSTANT_ENCAPSED_STRING","'text_connection_ok'",318],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",318],"}",["T_WHITESPACE","\n\t\t\t\t",319],"}",["T_WHITESPACE","\n\t\t\t",320],"}",["T_WHITESPACE"," ",321],["T_ELSE","else",321],["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n\t\t\t\t",321],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_STRING","false",322],",",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'msg'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","language",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","get",322],"(",["T_CONSTANT_ENCAPSED_STRING","'error_ftp_login'",322],")",")",";",["T_WHITESPACE","\n\t\t\t",322],"}",["T_WHITESPACE","\n\t\t",323],"}",["T_WHITESPACE"," ",324],["T_ELSE","else",324],["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n\t\t\t",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_ARRAY","array",325],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_STRING","false",325],",",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'msg'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","language",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","get",325],"(",["T_CONSTANT_ENCAPSED_STRING","'error_ftp_connect'",325],")",")",";",["T_WHITESPACE","\n\t\t",325],"}",["T_WHITESPACE","\n\t",326],"}",["T_WHITESPACE","\n\n\t",327],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","update",329],"(",")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n\t\t",329],["T_COMMENT","\/*\n\t\t * Disable error reporting due to noticed thrown when directories are checked\n\t\t * It will cause constant loading icon otherwise.\n\t\t *\/",330],["T_WHITESPACE","\n\t\t",333],["T_STRING","error_reporting",334],"(",["T_LNUMBER","0",334],")",";",["T_WHITESPACE","\n\t\t",334],["T_STRING","set_time_limit",335],"(",["T_LNUMBER","0",335],")",";",["T_WHITESPACE","\n\t\t",335],["T_STRING","ob_start",336],"(",")",";",["T_WHITESPACE","\n\n\t\t",336],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","load",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","model",338],"(",["T_CONSTANT_ENCAPSED_STRING","'setting\/setting'",338],")",";",["T_WHITESPACE","\n\t\t",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","load",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","language",339],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/openbay'",339],")",";",["T_WHITESPACE","\n\n\t\t",339],["T_VARIABLE","$data",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","request",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","post",341],";",["T_WHITESPACE","\n\t\t",341],["T_VARIABLE","$data",342],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",342],"]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$data",342],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_username'",342],"]",";",["T_WHITESPACE","\n\t\t",342],["T_VARIABLE","$data",343],"[",["T_CONSTANT_ENCAPSED_STRING","'pw'",343],"]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","html_entity_decode",343],"(",["T_VARIABLE","$data",343],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_pw'",343],"]",")",";",["T_WHITESPACE","\n\t\t",343],["T_VARIABLE","$data",344],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",344],"]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$data",344],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_server'",344],"]",";",["T_WHITESPACE","\n\t\t",344],["T_VARIABLE","$data",345],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",345],"]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$data",345],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_rootpath'",345],"]",";",["T_WHITESPACE","\n\t\t",345],["T_VARIABLE","$data",346],"[",["T_CONSTANT_ENCAPSED_STRING","'adminDir'",346],"]",["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$data",346],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_admin_directory'",346],"]",";",["T_WHITESPACE","\n\t\t",346],["T_VARIABLE","$data",347],"[",["T_CONSTANT_ENCAPSED_STRING","'beta'",347],"]",["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],"(","(",["T_ISSET","isset",347],"(",["T_VARIABLE","$data",347],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_beta'",347],"]",")",["T_WHITESPACE"," ",347],["T_BOOLEAN_AND","&&",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$data",347],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_beta'",347],"]",["T_WHITESPACE"," ",347],["T_IS_EQUAL","==",347],["T_WHITESPACE"," ",347],["T_LNUMBER","1",347],")",["T_WHITESPACE"," ",347],"?",["T_WHITESPACE"," ",347],["T_LNUMBER","1",347],["T_WHITESPACE"," ",347],":",["T_WHITESPACE"," ",347],["T_LNUMBER","0",347],")",";",["T_WHITESPACE","\n\n\t\t",347],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_EMPTY","empty",349],"(",["T_VARIABLE","$data",349],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",349],"]",")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n\t\t\t",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_ARRAY","array",350],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_STRING","false",350],",",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'msg'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","language",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","get",350],"(",["T_CONSTANT_ENCAPSED_STRING","'error_username'",350],")",")",";",["T_WHITESPACE","\n\t\t",350],"}",["T_WHITESPACE","\n\t\t",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_EMPTY","empty",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'pw'",352],"]",")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n\t\t\t",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_STRING","false",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'msg'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","language",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","get",353],"(",["T_CONSTANT_ENCAPSED_STRING","'error_password'",353],")",")",";",["T_WHITESPACE","\n\t\t",353],"}",["T_WHITESPACE","\n\t\t",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_EMPTY","empty",355],"(",["T_VARIABLE","$data",355],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",355],"]",")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n\t\t\t",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_ARRAY","array",356],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","false",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'msg'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","language",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","get",356],"(",["T_CONSTANT_ENCAPSED_STRING","'error_server'",356],")",")",";",["T_WHITESPACE","\n\t\t",356],"}",["T_WHITESPACE","\n\t\t",357],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_EMPTY","empty",358],"(",["T_VARIABLE","$data",358],"[",["T_CONSTANT_ENCAPSED_STRING","'adminDir'",358],"]",")",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n\t\t\t",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_STRING","false",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'msg'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","language",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","get",359],"(",["T_CONSTANT_ENCAPSED_STRING","'error_admin'",359],")",")",";",["T_WHITESPACE","\n\t\t",359],"}",["T_WHITESPACE","\n\n\t\t",360],["T_VARIABLE","$connection",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],"@",["T_STRING","ftp_connect",362],"(",["T_VARIABLE","$data",362],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",362],"]",")",";",["T_WHITESPACE","\n\t\t",362],["T_VARIABLE","$updatelog",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","\"Connecting to server\\n\"",363],";",["T_WHITESPACE","\n\n\t\t",363],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$connection",365],["T_WHITESPACE"," ",365],["T_IS_NOT_EQUAL","!=",365],["T_WHITESPACE"," ",365],["T_STRING","false",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n\t\t\t",365],["T_VARIABLE","$updatelog",366],["T_WHITESPACE"," ",366],["T_CONCAT_EQUAL",".=",366],["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","\"Connected\\n\"",366],";",["T_WHITESPACE","\n\t\t\t",366],["T_VARIABLE","$updatelog",367],["T_WHITESPACE"," ",367],["T_CONCAT_EQUAL",".=",367],["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","\"Checking login details\\n\"",367],";",["T_WHITESPACE","\n\n\t\t\t",367],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_ISSET","isset",369],"(",["T_VARIABLE","$data",369],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_pasv'",369],"]",")",["T_WHITESPACE"," ",369],["T_BOOLEAN_AND","&&",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$data",369],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_ftp_pasv'",369],"]",["T_WHITESPACE"," ",369],["T_IS_EQUAL","==",369],["T_WHITESPACE"," ",369],["T_LNUMBER","1",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n\t\t\t\t",369],["T_STRING","ftp_pasv",370],"(",["T_VARIABLE","$connection",370],",",["T_WHITESPACE"," ",370],["T_STRING","true",370],")",";",["T_WHITESPACE","\n\t\t\t\t",370],["T_VARIABLE","$updatelog",371],["T_WHITESPACE"," ",371],["T_CONCAT_EQUAL",".=",371],["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","\"Using pasv connection\\n\"",371],";",["T_WHITESPACE","\n\t\t\t",371],"}",["T_WHITESPACE","\n\n\t\t\t",372],["T_IF","if",374],["T_WHITESPACE"," ",374],"(","@",["T_STRING","ftp_login",374],"(",["T_VARIABLE","$connection",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$data",374],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",374],"]",",",["T_WHITESPACE"," ",374],["T_VARIABLE","$data",374],"[",["T_CONSTANT_ENCAPSED_STRING","'pw'",374],"]",")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n\t\t\t\t",374],["T_VARIABLE","$updatelog",375],["T_WHITESPACE"," ",375],["T_CONCAT_EQUAL",".=",375],["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","\"Logged in\\n\"",375],";",["T_WHITESPACE","\n\n\t\t\t\t",375],["T_IF","if",377],["T_WHITESPACE"," ",377],"(","!",["T_EMPTY","empty",377],"(",["T_VARIABLE","$data",377],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",377],"]",")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n\t\t\t\t\t",377],["T_VARIABLE","$updatelog",378],["T_WHITESPACE"," ",378],["T_CONCAT_EQUAL",".=",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","\"Setting root path\\n\"",378],";",["T_WHITESPACE","\n\t\t\t\t\t",378],"@",["T_STRING","ftp_chdir",379],"(",["T_VARIABLE","$connection",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$data",379],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",379],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",379],["T_VARIABLE","$directory_list",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_STRING","ftp_nlist",380],"(",["T_VARIABLE","$connection",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$data",380],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",380],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",380],"}",["T_WHITESPACE","\n\n\t\t\t\t",381],["T_VARIABLE","$current_version",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","config",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","get",383],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay_version'",383],")",";",["T_WHITESPACE","\n\n\t\t\t\t",383],["T_VARIABLE","$send",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_ARRAY","array",385],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$current_version",385],",",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'ocversion'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_STRING","VERSION",385],",",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'beta'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$data",385],"[",["T_CONSTANT_ENCAPSED_STRING","'beta'",385],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",385],["T_VARIABLE","$files",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","call",387],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/getList\/'",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$send",387],")",";",["T_WHITESPACE","\n\t\t\t\t",387],["T_VARIABLE","$updatelog",388],["T_WHITESPACE"," ",388],["T_CONCAT_EQUAL",".=",388],["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","\"Requesting file list\\n\"",388],";",["T_WHITESPACE","\n\n\t\t\t\t",388],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","lasterror",390],["T_WHITESPACE"," ",390],["T_IS_EQUAL","==",390],["T_WHITESPACE"," ",390],["T_STRING","true",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n\t\t\t\t\t",390],["T_VARIABLE","$updatelog",391],["T_WHITESPACE"," ",391],["T_CONCAT_EQUAL",".=",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","lastmsg",391],";",["T_WHITESPACE","\n\t\t\t\t\t",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_ARRAY","array",392],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_STRING","true",392],",",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'msg'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","lastmsg",392],")",";",["T_WHITESPACE","\n\t\t\t\t",392],"}",["T_WHITESPACE"," ",393],["T_ELSE","else",393],["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n\t\t\t\t\t",393],["T_VARIABLE","$updatelog",394],["T_WHITESPACE"," ",394],["T_CONCAT_EQUAL",".=",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","\"Received list of files\\n\"",394],";",["T_WHITESPACE","\n\n\t\t\t\t\t",394],["T_FOREACH","foreach",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$files",396],"[",["T_CONSTANT_ENCAPSED_STRING","'asset'",396],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",396],"]",["T_WHITESPACE"," ",396],["T_AS","as",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$file",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",396],["T_VARIABLE","$dir",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","''",397],";",["T_WHITESPACE","\n\t\t\t\t\t\t",397],["T_VARIABLE","$dir_level",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_LNUMBER","0",398],";",["T_WHITESPACE","\n\t\t\t\t\t\t",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_ISSET","isset",399],"(",["T_VARIABLE","$file",399],"[",["T_CONSTANT_ENCAPSED_STRING","'locations'",399],"]","[",["T_CONSTANT_ENCAPSED_STRING","'location'",399],"]",")",["T_WHITESPACE"," ",399],["T_BOOLEAN_AND","&&",399],["T_WHITESPACE"," ",399],["T_STRING","is_array",399],"(",["T_VARIABLE","$file",399],"[",["T_CONSTANT_ENCAPSED_STRING","'locations'",399],"]","[",["T_CONSTANT_ENCAPSED_STRING","'location'",399],"]",")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",399],["T_FOREACH","foreach",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$file",400],"[",["T_CONSTANT_ENCAPSED_STRING","'locations'",400],"]","[",["T_CONSTANT_ENCAPSED_STRING","'location'",400],"]",["T_WHITESPACE"," ",400],["T_AS","as",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$location",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",400],["T_VARIABLE","$updatelog",401],["T_WHITESPACE"," ",401],["T_CONCAT_EQUAL",".=",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","\"Current location: \"",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_VARIABLE","$dir",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",401],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",401],["T_COMMENT","\/\/ Added to allow OC security where the admin directory is renamed\n",403],["T_WHITESPACE","\t\t\t\t\t\t\t\t",404],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$location",404],["T_WHITESPACE"," ",404],["T_IS_EQUAL","==",404],["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'admin'",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",404],["T_VARIABLE","$location",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$data",405],"[",["T_CONSTANT_ENCAPSED_STRING","'adminDir'",405],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",405],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",406],["T_VARIABLE","$dir",408],["T_WHITESPACE"," ",408],["T_CONCAT_EQUAL",".=",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$location",408],["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'\/'",408],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",408],["T_VARIABLE","$updatelog",409],["T_WHITESPACE"," ",409],["T_CONCAT_EQUAL",".=",409],["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","\"Trying to get to: \"",409],["T_WHITESPACE"," ",409],".",["T_WHITESPACE"," ",409],["T_VARIABLE","$dir",409],["T_WHITESPACE"," ",409],".",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",409],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",409],["T_VARIABLE","$updatelog",410],["T_WHITESPACE"," ",410],["T_CONCAT_EQUAL",".=",410],["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","\"ftp_pwd output: \"",410],["T_WHITESPACE"," ",410],".",["T_WHITESPACE"," ",410],["T_STRING","ftp_pwd",410],"(",["T_VARIABLE","$connection",410],")",["T_WHITESPACE"," ",410],".",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",410],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",410],["T_IF","if",412],["T_WHITESPACE"," ",412],"(","@",["T_STRING","ftp_chdir",412],"(",["T_VARIABLE","$connection",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$location",412],")",")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",412],["T_VARIABLE","$dir_level",413],["T_INC","++",413],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",413],"}",["T_WHITESPACE"," ",414],["T_ELSE","else",414],["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",414],["T_IF","if",415],["T_WHITESPACE"," ",415],"(","@",["T_STRING","ftp_mkdir",415],"(",["T_VARIABLE","$connection",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$location",415],")",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",415],["T_VARIABLE","$updatelog",416],["T_WHITESPACE"," ",416],["T_CONCAT_EQUAL",".=",416],["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","\"Created directory: \"",416],["T_WHITESPACE"," ",416],".",["T_WHITESPACE"," ",416],["T_VARIABLE","$dir",416],["T_WHITESPACE"," ",416],".",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",416],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t\t",416],["T_STRING","ftp_chdir",418],"(",["T_VARIABLE","$connection",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$location",418],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",418],["T_VARIABLE","$dir_level",419],["T_INC","++",419],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",419],"}",["T_WHITESPACE"," ",420],["T_ELSE","else",420],["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",420],["T_VARIABLE","$updatelog",421],["T_WHITESPACE"," ",421],["T_CONCAT_EQUAL",".=",421],["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","\"FAILED TO CREATE DIRECTORY: \"",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_VARIABLE","$dir",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",421],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",421],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",422],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",423],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",424],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t",425],["T_VARIABLE","$filedata",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_STRING","base64_decode",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","call",427],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/getFileContent\/'",427],",",["T_WHITESPACE"," ",427],["T_ARRAY","array",427],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_STRING","implode",427],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$file",427],"[",["T_CONSTANT_ENCAPSED_STRING","'locations'",427],"]","[",["T_CONSTANT_ENCAPSED_STRING","'location'",427],"]",")",["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'\/'",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_VARIABLE","$file",427],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",427],"]",",",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'beta'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$data",427],"[",["T_CONSTANT_ENCAPSED_STRING","'beta'",427],"]",")",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",427],["T_VARIABLE","$tmp_file",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_STRING","DIR_CACHE",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'openbay.tmp'",429],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",429],["T_VARIABLE","$fp",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","fopen",431],"(",["T_VARIABLE","$tmp_file",431],",",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'w'",431],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",431],["T_STRING","fwrite",432],"(",["T_VARIABLE","$fp",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$filedata",432],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",432],["T_STRING","fclose",433],"(",["T_VARIABLE","$fp",433],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",433],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_STRING","ftp_put",435],"(",["T_VARIABLE","$connection",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$file",435],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",435],"]",",",["T_WHITESPACE"," ",435],["T_VARIABLE","$tmp_file",435],",",["T_WHITESPACE"," ",435],["T_STRING","FTP_BINARY",435],")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",435],["T_VARIABLE","$updatelog",436],["T_WHITESPACE"," ",436],["T_CONCAT_EQUAL",".=",436],["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","\"Updated file: \"",436],["T_WHITESPACE"," ",436],".",["T_WHITESPACE"," ",436],["T_VARIABLE","$dir",436],["T_WHITESPACE"," ",436],".",["T_WHITESPACE"," ",436],["T_VARIABLE","$file",436],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",436],"]",["T_WHITESPACE"," ",436],".",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",436],";",["T_WHITESPACE","\n\t\t\t\t\t\t",436],"}",["T_WHITESPACE"," ",437],["T_ELSE","else",437],["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",437],["T_VARIABLE","$updatelog",438],["T_WHITESPACE"," ",438],["T_CONCAT_EQUAL",".=",438],["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","\"FAILED TO UPDATE FILE: \"",438],["T_WHITESPACE"," ",438],".",["T_WHITESPACE"," ",438],["T_VARIABLE","$dir",438],["T_WHITESPACE"," ",438],".",["T_WHITESPACE"," ",438],["T_VARIABLE","$file",438],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",438],"]",["T_WHITESPACE"," ",438],".",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",438],";",["T_WHITESPACE","\n\t\t\t\t\t\t",438],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t",439],["T_STRING","unlink",441],"(",["T_VARIABLE","$tmp_file",441],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",441],["T_WHILE","while",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$dir_level",443],["T_WHITESPACE"," ",443],["T_IS_NOT_EQUAL","!=",443],["T_WHITESPACE"," ",443],["T_LNUMBER","0",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",443],["T_STRING","ftp_cdup",444],"(",["T_VARIABLE","$connection",444],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",444],["T_VARIABLE","$dir_level",445],["T_DEC","--",445],";",["T_WHITESPACE","\n\t\t\t\t\t\t",445],"}",["T_WHITESPACE","\n\t\t\t\t\t",446],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",447],["T_VARIABLE","$openbay_settings",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","model_setting_setting",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getSetting",449],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay'",449],")",";",["T_WHITESPACE","\n\t\t\t\t\t",449],["T_VARIABLE","$openbay_settings",450],"[",["T_CONSTANT_ENCAPSED_STRING","'openbay_version'",450],"]",["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$files",450],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",450],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","model_setting_setting",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","editSetting",451],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay'",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$openbay_settings",451],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",451],"@",["T_STRING","ftp_close",453],"(",["T_VARIABLE","$connection",453],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",453],["T_DOC_COMMENT","\/**\n\t\t\t\t\t * Run the patch files\n\t\t\t\t\t *\/",455],["T_WHITESPACE","\n\t\t\t\t\t",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","patch",458],"(",["T_STRING","false",458],")",";",["T_WHITESPACE","\n\t\t\t\t\t",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","load",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","model",459],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/openbay\/ebay'",459],")",";",["T_WHITESPACE","\n\t\t\t\t\t",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","model_extension_openbay_ebay",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","patch",460],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","load",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","model",461],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/openbay\/amazon'",461],")",";",["T_WHITESPACE","\n\t\t\t\t\t",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","model_extension_openbay_amazon",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","patch",462],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","load",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","model",463],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/openbay\/amazonus'",463],")",";",["T_WHITESPACE","\n\t\t\t\t\t",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","model_extension_openbay_amazonus",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","patch",464],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","load",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","model",465],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/openbay\/etsy'",465],")",";",["T_WHITESPACE","\n\t\t\t\t\t",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","model_extension_openbay_etsy",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","patch",466],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",466],["T_DOC_COMMENT","\/**\n\t\t\t\t\t * File remove operation (clean up old files)\n\t\t\t\t\t *\/",468],["T_WHITESPACE","\n\t\t\t\t\t",470],["T_VARIABLE","$updatelog",471],["T_WHITESPACE"," ",471],["T_CONCAT_EQUAL",".=",471],["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\\nStarting Remove\\n\\n\\n\"",471],";",["T_WHITESPACE","\n\n\t\t\t\t\t",471],["T_VARIABLE","$connection",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],"@",["T_STRING","ftp_connect",473],"(",["T_VARIABLE","$data",473],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",473],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",473],"@",["T_STRING","ftp_login",474],"(",["T_VARIABLE","$connection",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$data",474],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",474],"]",",",["T_WHITESPACE"," ",474],["T_VARIABLE","$data",474],"[",["T_CONSTANT_ENCAPSED_STRING","'pw'",474],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",474],["T_IF","if",476],["T_WHITESPACE"," ",476],"(","!",["T_EMPTY","empty",476],"(",["T_VARIABLE","$data",476],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",476],"]",")",")",["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",476],"@",["T_STRING","ftp_chdir",477],"(",["T_VARIABLE","$connection",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$data",477],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",477],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",477],["T_VARIABLE","$directory_list",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_STRING","ftp_nlist",478],"(",["T_VARIABLE","$connection",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$data",478],"[",["T_CONSTANT_ENCAPSED_STRING","'rootpath'",478],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",478],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",479],["T_VARIABLE","$files_update",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$files",481],";",["T_WHITESPACE","\n\t\t\t\t\t",481],["T_VARIABLE","$files",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","call",482],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/getRemoveList\/'",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$send",482],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",482],["T_VARIABLE","$updatelog",484],["T_WHITESPACE"," ",484],["T_CONCAT_EQUAL",".=",484],["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","\"Remove Files: \"",484],["T_WHITESPACE"," ",484],".",["T_WHITESPACE"," ",484],["T_STRING","print_r",484],"(",["T_VARIABLE","$files",484],",",["T_WHITESPACE"," ",484],["T_LNUMBER","1",484],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",484],["T_IF","if",486],["T_WHITESPACE"," ",486],"(","!",["T_EMPTY","empty",486],"(",["T_VARIABLE","$files",486],"[",["T_CONSTANT_ENCAPSED_STRING","'asset'",486],"]",")",["T_WHITESPACE"," ",486],["T_BOOLEAN_AND","&&",486],["T_WHITESPACE"," ",486],["T_STRING","is_array",486],"(",["T_VARIABLE","$files",486],"[",["T_CONSTANT_ENCAPSED_STRING","'asset'",486],"]",")",")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",486],["T_FOREACH","foreach",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$files",487],"[",["T_CONSTANT_ENCAPSED_STRING","'asset'",487],"]",["T_WHITESPACE"," ",487],["T_AS","as",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$file",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",487],["T_VARIABLE","$dir",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","''",488],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",488],["T_VARIABLE","$dir_level",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_LNUMBER","0",489],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",489],["T_VARIABLE","$error",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_STRING","false",490],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",490],["T_IF","if",492],["T_WHITESPACE"," ",492],"(","!",["T_EMPTY","empty",492],"(",["T_VARIABLE","$file",492],"[",["T_CONSTANT_ENCAPSED_STRING","'locations'",492],"]",")",")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",492],["T_FOREACH","foreach",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$file",493],"[",["T_CONSTANT_ENCAPSED_STRING","'locations'",493],"]","[",["T_CONSTANT_ENCAPSED_STRING","'location'",493],"]",["T_WHITESPACE"," ",493],["T_AS","as",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$location",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",493],["T_VARIABLE","$dir",494],["T_WHITESPACE"," ",494],["T_CONCAT_EQUAL",".=",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$location",494],["T_WHITESPACE"," ",494],".",["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'\/'",494],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",494],["T_VARIABLE","$updatelog",495],["T_WHITESPACE"," ",495],["T_CONCAT_EQUAL",".=",495],["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","\"Current location: \"",495],["T_WHITESPACE"," ",495],".",["T_WHITESPACE"," ",495],["T_VARIABLE","$dir",495],["T_WHITESPACE"," ",495],".",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",495],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",495],["T_COMMENT","\/\/ Added to allow OC security where the admin directory is renamed\n",497],["T_WHITESPACE","\t\t\t\t\t\t\t\t\t",498],["T_IF","if",498],["T_WHITESPACE"," ",498],"(",["T_VARIABLE","$location",498],["T_WHITESPACE"," ",498],["T_IS_EQUAL","==",498],["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'admin'",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",498],["T_VARIABLE","$location",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$data",499],"[",["T_CONSTANT_ENCAPSED_STRING","'adminDir'",499],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",499],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",500],["T_IF","if",502],["T_WHITESPACE"," ",502],"(","@",["T_STRING","ftp_chdir",502],"(",["T_VARIABLE","$connection",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$location",502],")",")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",502],["T_VARIABLE","$updatelog",503],["T_WHITESPACE"," ",503],["T_CONCAT_EQUAL",".=",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$location",503],["T_WHITESPACE"," ",503],".",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","\"\/ found\\n\"",503],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",503],["T_VARIABLE","$dir_level",504],["T_INC","++",504],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",504],"}",["T_WHITESPACE"," ",505],["T_ELSE","else",505],["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",505],["T_COMMENT","\/\/ folder does not exist, therefore, file does not exist.\n",506],["T_WHITESPACE","\t\t\t\t\t\t\t\t\t\t",507],["T_VARIABLE","$updatelog",507],["T_WHITESPACE"," ",507],["T_CONCAT_EQUAL",".=",507],["T_WHITESPACE"," ",507],"\"",["T_VARIABLE","$location",507],["T_ENCAPSED_AND_WHITESPACE"," not found\\n",507],"\"",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",507],["T_VARIABLE","$error",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","true",508],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",508],["T_BREAK","break",509],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",509],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",510],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",511],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",512],["T_IF","if",514],["T_WHITESPACE"," ",514],"(","!",["T_VARIABLE","$error",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",514],["T_COMMENT","\/\/remove the file\n",515],["T_WHITESPACE","\t\t\t\t\t\t\t\t",516],["T_VARIABLE","$updatelog",516],["T_WHITESPACE"," ",516],["T_CONCAT_EQUAL",".=",516],["T_WHITESPACE"," ",516],["T_CONSTANT_ENCAPSED_STRING","\"File: \"",516],["T_WHITESPACE"," ",516],".",["T_WHITESPACE"," ",516],["T_VARIABLE","$file",516],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",516],"]",["T_WHITESPACE"," ",516],".",["T_WHITESPACE"," ",516],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",516],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",516],["T_VARIABLE","$updatelog",517],["T_WHITESPACE"," ",517],["T_CONCAT_EQUAL",".=",517],["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","\"Size:\"",517],["T_WHITESPACE"," ",517],".",["T_WHITESPACE"," ",517],["T_STRING","ftp_size",517],"(",["T_VARIABLE","$connection",517],",",["T_WHITESPACE"," ",517],["T_VARIABLE","$file",517],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",517],"]",")",["T_WHITESPACE"," ",517],".",["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",517],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t",517],["T_IF","if",519],["T_WHITESPACE"," ",519],"(","@",["T_STRING","ftp_size",519],"(",["T_VARIABLE","$connection",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$file",519],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",519],"]",")",["T_WHITESPACE"," ",519],["T_IS_NOT_EQUAL","!=",519],["T_WHITESPACE"," ",519],"-",["T_LNUMBER","1",519],")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",519],"@",["T_STRING","ftp_delete",520],"(",["T_VARIABLE","$connection",520],",",["T_WHITESPACE"," ",520],["T_VARIABLE","$file",520],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",520],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",520],["T_VARIABLE","$updatelog",521],["T_WHITESPACE"," ",521],["T_CONCAT_EQUAL",".=",521],["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","\"Removed\\n\"",521],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",521],"}",["T_WHITESPACE"," ",522],["T_ELSE","else",522],["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",522],["T_VARIABLE","$updatelog",523],["T_WHITESPACE"," ",523],["T_CONCAT_EQUAL",".=",523],["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","\"File not found\\n\"",523],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",523],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",524],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",525],["T_WHILE","while",527],["T_WHITESPACE"," ",527],"(",["T_VARIABLE","$dir_level",527],["T_WHITESPACE"," ",527],["T_IS_NOT_EQUAL","!=",527],["T_WHITESPACE"," ",527],["T_LNUMBER","0",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",527],["T_STRING","ftp_cdup",528],"(",["T_VARIABLE","$connection",528],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",528],["T_VARIABLE","$dir_level",529],["T_DEC","--",529],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",529],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",530],"}",["T_WHITESPACE","\n\t\t\t\t\t",531],"}",["T_WHITESPACE","\n\t\t\t\t",532],"}",["T_WHITESPACE","\n\n\t\t\t\t",533],["T_VARIABLE","$updatelog",535],["T_WHITESPACE"," ",535],["T_CONCAT_EQUAL",".=",535],["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","\"Update complete\\n\\n\\n\"",535],";",["T_WHITESPACE","\n\t\t\t\t",535],["T_VARIABLE","$output",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","ob_get_contents",536],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",536],["T_STRING","ob_end_clean",537],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",537],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","writeUpdateLog",539],"(",["T_VARIABLE","$updatelog",539],["T_WHITESPACE"," ",539],".",["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\\nErrors:\\n\"",539],["T_WHITESPACE"," ",539],".",["T_WHITESPACE"," ",539],["T_VARIABLE","$output",539],")",";",["T_WHITESPACE","\n\n\t\t\t\t",539],["T_RETURN","return",541],["T_WHITESPACE"," ",541],["T_ARRAY","array",541],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_STRING","true",541],",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'msg'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_STRING","sprintf",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","language",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","get",541],"(",["T_CONSTANT_ENCAPSED_STRING","'text_updated'",541],")",",",["T_WHITESPACE"," ",541],["T_VARIABLE","$files_update",541],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",541],"]",")",",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'version'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$files_update",541],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",541],"]",")",";",["T_WHITESPACE","\n\t\t\t",541],"}",["T_WHITESPACE"," ",542],["T_ELSE","else",542],["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n\t\t\t\t",542],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_ARRAY","array",543],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_STRING","false",543],",",["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'msg'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","language",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","get",543],"(",["T_CONSTANT_ENCAPSED_STRING","'error_ftp_login'",543],")",")",";",["T_WHITESPACE","\n\t\t\t",543],"}",["T_WHITESPACE","\n\t\t",544],"}",["T_WHITESPACE"," ",545],["T_ELSE","else",545],["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n\t\t\t",545],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_ARRAY","array",546],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_STRING","false",546],",",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'msg'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","language",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","get",546],"(",["T_CONSTANT_ENCAPSED_STRING","'error_ftp_connect'",546],")",")",";",["T_WHITESPACE","\n\t\t",546],"}",["T_WHITESPACE","\n\t",547],"}",["T_WHITESPACE","\n\n\t",548],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","getNotifications",550],"(",")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n\t\t",550],["T_VARIABLE","$data",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","call",551],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/getNotifications\/'",551],")",";",["T_WHITESPACE","\n\t\t",551],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$data",552],";",["T_WHITESPACE","\n\t",552],"}",["T_WHITESPACE","\n\n\t",553],["T_PUBLIC","public",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","version",555],"(",")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n\t\t",555],["T_VARIABLE","$data",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","call",556],"(",["T_CONSTANT_ENCAPSED_STRING","'update\/getStableVersion\/'",556],")",";",["T_WHITESPACE","\n\n\t\t",556],["T_IF","if",558],["T_WHITESPACE"," ",558],"(",["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","lasterror",558],["T_WHITESPACE"," ",558],["T_IS_EQUAL","==",558],["T_WHITESPACE"," ",558],["T_STRING","true",558],")",["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n\t\t\t",558],["T_VARIABLE","$data",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_ARRAY","array",559],"(",["T_WHITESPACE","\n\t\t\t\t",559],["T_CONSTANT_ENCAPSED_STRING","'error'",560],["T_WHITESPACE"," ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_STRING","true",560],",",["T_WHITESPACE","\n\t\t\t\t",560],["T_CONSTANT_ENCAPSED_STRING","'msg'",561],["T_WHITESPACE"," ",561],["T_DOUBLE_ARROW","=>",561],["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","lastmsg",561],["T_WHITESPACE"," ",561],".",["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","' ('",561],["T_WHITESPACE"," ",561],".",["T_WHITESPACE"," ",561],["T_STRING","VERSION",561],["T_WHITESPACE"," ",561],".",["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","')'",561],",",["T_WHITESPACE","\n\t\t\t",561],")",";",["T_WHITESPACE","\n\n\t\t\t",562],["T_RETURN","return",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$data",564],";",["T_WHITESPACE","\n\t\t",564],"}",["T_WHITESPACE"," ",565],["T_ELSE","else",565],["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n\t\t\t",565],["T_RETURN","return",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$data",566],";",["T_WHITESPACE","\n\t\t",566],"}",["T_WHITESPACE","\n\t",567],"}",["T_WHITESPACE","\n\n\t",568],["T_PUBLIC","public",570],["T_WHITESPACE"," ",570],["T_FUNCTION","function",570],["T_WHITESPACE"," ",570],["T_STRING","faqGet",570],"(",["T_VARIABLE","$route",570],")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n\t\t",570],["T_IF","if",571],["T_WHITESPACE"," ",571],"(",["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","faqIsDismissed",571],"(",["T_VARIABLE","$route",571],")",["T_WHITESPACE"," ",571],["T_IS_NOT_EQUAL","!=",571],["T_WHITESPACE"," ",571],["T_STRING","true",571],")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n\t\t\t",571],["T_VARIABLE","$data",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","call",572],"(",["T_CONSTANT_ENCAPSED_STRING","'faq\/get\/'",572],",",["T_WHITESPACE"," ",572],["T_ARRAY","array",572],"(",["T_CONSTANT_ENCAPSED_STRING","'route'",572],["T_WHITESPACE"," ",572],["T_DOUBLE_ARROW","=>",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$route",572],")",")",";",["T_WHITESPACE","\n\t\t\t",572],["T_RETURN","return",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$data",573],";",["T_WHITESPACE","\n\t\t",573],"}",["T_WHITESPACE"," ",574],["T_ELSE","else",574],["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n\t\t\t",574],["T_RETURN","return",575],["T_WHITESPACE"," ",575],["T_STRING","false",575],";",["T_WHITESPACE","\n\t\t",575],"}",["T_WHITESPACE","\n\t",576],"}",["T_WHITESPACE","\n\n\t",577],["T_PUBLIC","public",579],["T_WHITESPACE"," ",579],["T_FUNCTION","function",579],["T_WHITESPACE"," ",579],["T_STRING","faqIsDismissed",579],"(",["T_VARIABLE","$route",579],")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n\t\t",579],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","faqDbTableCheck",580],"(",")",";",["T_WHITESPACE","\n\n\t\t",580],["T_VARIABLE","$sql",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","db",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","query",582],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_STRING","DB_PREFIX",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"openbay_faq` WHERE `route` = '\"",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","db",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","escape",582],"(",["T_VARIABLE","$route",582],")",["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"'\"",582],")",";",["T_WHITESPACE","\n\n\t\t",582],["T_IF","if",584],["T_WHITESPACE"," ",584],"(",["T_VARIABLE","$sql",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","num_rows",584],["T_WHITESPACE"," ",584],">",["T_WHITESPACE"," ",584],["T_LNUMBER","0",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n\t\t\t",584],["T_RETURN","return",585],["T_WHITESPACE"," ",585],["T_STRING","true",585],";",["T_WHITESPACE","\n\t\t",585],"}",["T_WHITESPACE"," ",586],["T_ELSE","else",586],["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n\t\t\t",586],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_STRING","false",587],";",["T_WHITESPACE","\n\t\t",587],"}",["T_WHITESPACE","\n\t",588],"}",["T_WHITESPACE","\n\n\t",589],["T_PUBLIC","public",591],["T_WHITESPACE"," ",591],["T_FUNCTION","function",591],["T_WHITESPACE"," ",591],["T_STRING","faqDismiss",591],"(",["T_VARIABLE","$route",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n\t\t",591],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","faqDbTableCheck",592],"(",")",";",["T_WHITESPACE","\n\t\t",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","db",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","query",593],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",593],["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_STRING","DB_PREFIX",593],["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","\"openbay_faq` SET `route` = '\"",593],["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","db",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","escape",593],"(",["T_VARIABLE","$route",593],")",["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","\"'\"",593],")",";",["T_WHITESPACE","\n\t",593],"}",["T_WHITESPACE","\n\n\t",594],["T_PUBLIC","public",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","faqClear",596],"(",")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n\t\t",596],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","faqDbTableCheck",597],"(",")",";",["T_WHITESPACE","\n\t\t",597],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","db",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","query",598],"(",["T_CONSTANT_ENCAPSED_STRING","\"TRUNCATE `\"",598],["T_WHITESPACE"," ",598],".",["T_WHITESPACE"," ",598],["T_STRING","DB_PREFIX",598],["T_WHITESPACE"," ",598],".",["T_WHITESPACE"," ",598],["T_CONSTANT_ENCAPSED_STRING","\"openbay_faq`\"",598],")",";",["T_WHITESPACE","\n\t",598],"}",["T_WHITESPACE","\n\n\t",599],["T_PUBLIC","public",601],["T_WHITESPACE"," ",601],["T_FUNCTION","function",601],["T_WHITESPACE"," ",601],["T_STRING","faqDbTableCheck",601],"(",")",["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n\t\t",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(","!",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","openbay",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","testDbTable",602],"(",["T_STRING","DB_PREFIX",602],["T_WHITESPACE"," ",602],".",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","\"openbay_faq\"",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n\t\t\t",602],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","db",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","query",603],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE TABLE IF NOT EXISTS `\"",603],["T_WHITESPACE"," ",603],".",["T_WHITESPACE"," ",603],["T_STRING","DB_PREFIX",603],["T_WHITESPACE"," ",603],".",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","\"openbay_faq` (`id` int(11) NOT NULL AUTO_INCREMENT,`route` text NOT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM DEFAULT CHARSET=utf8;\"",603],")",";",["T_WHITESPACE","\n\t\t",603],"}",["T_WHITESPACE","\n\t",604],"}",["T_WHITESPACE","\n\n\t",605],["T_PRIVATE","private",607],["T_WHITESPACE"," ",607],["T_FUNCTION","function",607],["T_WHITESPACE"," ",607],["T_STRING","ftpDir",607],"(",["T_VARIABLE","$file",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$connection",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n\t\t",607],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_STRING","ftp_size",608],"(",["T_VARIABLE","$connection",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$file",608],")",["T_WHITESPACE"," ",608],["T_IS_EQUAL","==",608],["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'-1'",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n\t\t\t",608],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_STRING","true",609],";",["T_WHITESPACE","\n\t\t",609],"}",["T_WHITESPACE"," ",610],["T_ELSE","else",610],["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n\t\t\t",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_STRING","false",611],";",["T_WHITESPACE","\n\t\t",611],"}",["T_WHITESPACE","\n\t",612],"}",["T_WHITESPACE","\n\n\t",613],["T_PUBLIC","public",615],["T_WHITESPACE"," ",615],["T_FUNCTION","function",615],["T_WHITESPACE"," ",615],["T_STRING","requirementTest",615],"(",")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n\t\t",615],["T_VARIABLE","$error",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_ARRAY","array",616],"(",")",";",["T_WHITESPACE","\n\n\t\t",616],["T_IF","if",618],["T_WHITESPACE"," ",618],"(","!",["T_STRING","function_exists",618],"(",["T_CONSTANT_ENCAPSED_STRING","'mcrypt_encrypt'",618],")",")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n\t\t\t",618],["T_VARIABLE","$error",619],"[","]",["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","language",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","get",619],"(",["T_CONSTANT_ENCAPSED_STRING","'error_mcrypt'",619],")",";",["T_WHITESPACE","\n\t\t",619],"}",["T_WHITESPACE","\n\n\t\t",620],["T_IF","if",622],["T_WHITESPACE"," ",622],"(","!",["T_STRING","function_exists",622],"(",["T_CONSTANT_ENCAPSED_STRING","'mb_detect_encoding'",622],")",")",["T_WHITESPACE"," ",622],"{",["T_WHITESPACE","\n\t\t\t",622],["T_VARIABLE","$error",623],"[","]",["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","language",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","get",623],"(",["T_CONSTANT_ENCAPSED_STRING","'error_mbstring'",623],")",";",["T_WHITESPACE","\n\t\t",623],"}",["T_WHITESPACE","\n\n\t\t",624],["T_IF","if",626],["T_WHITESPACE"," ",626],"(","!",["T_STRING","function_exists",626],"(",["T_CONSTANT_ENCAPSED_STRING","'ftp_connect'",626],")",")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n\t\t\t",626],["T_VARIABLE","$error",627],"[","]",["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","language",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","get",627],"(",["T_CONSTANT_ENCAPSED_STRING","'error_ftpconnect'",627],")",";",["T_WHITESPACE","\n\t\t",627],"}",["T_WHITESPACE","\n\n\t\t",628],["T_IF","if",630],["T_WHITESPACE"," ",630],"(","!",["T_STRING","ini_get",630],"(",["T_CONSTANT_ENCAPSED_STRING","'allow_url_fopen'",630],")",")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n\t\t\t",630],["T_VARIABLE","$error",631],"[","]",["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","language",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","get",631],"(",["T_CONSTANT_ENCAPSED_STRING","'error_fopen'",631],")",";",["T_WHITESPACE","\n\t\t",631],"}",["T_WHITESPACE","\n\n\t\t",632],["T_VARIABLE","$root_directory",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_STRING","preg_replace",634],"(",["T_CONSTANT_ENCAPSED_STRING","'\/catalog\\\/$\/'",634],",",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","''",634],",",["T_WHITESPACE"," ",634],["T_STRING","DIR_CATALOG",634],")",";",["T_WHITESPACE","\n\n\t\t",634],["T_IF","if",636],["T_WHITESPACE"," ",636],"(",["T_STRING","file_exists",636],"(",["T_VARIABLE","$root_directory",636],["T_WHITESPACE"," ",636],".",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'\/vqmod\/xml\/ebay.xml'",636],")",["T_WHITESPACE"," ",636],["T_BOOLEAN_OR","||",636],["T_WHITESPACE"," ",636],["T_STRING","file_exists",636],"(",["T_VARIABLE","$root_directory",636],["T_WHITESPACE"," ",636],".",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'\/vqmod\/xml\/amazon.xml'",636],")",["T_WHITESPACE"," ",636],["T_BOOLEAN_OR","||",636],["T_WHITESPACE"," ",636],["T_STRING","file_exists",636],"(",["T_VARIABLE","$root_directory",636],["T_WHITESPACE"," ",636],".",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'\/vqmod\/xml\/amazonus.xml'",636],")",["T_WHITESPACE"," ",636],["T_BOOLEAN_OR","||",636],["T_WHITESPACE"," ",636],["T_STRING","file_exists",636],"(",["T_VARIABLE","$root_directory",636],["T_WHITESPACE"," ",636],".",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'\/vqmod\/xml\/play.xml'",636],")",["T_WHITESPACE"," ",636],["T_BOOLEAN_OR","||",636],["T_WHITESPACE"," ",636],["T_STRING","file_exists",636],"(",["T_VARIABLE","$root_directory",636],["T_WHITESPACE"," ",636],".",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'\/vqmod\/xml\/openbay.xml'",636],")",")",["T_WHITESPACE"," ",636],"{",["T_WHITESPACE","\n\t\t\t",636],["T_VARIABLE","$error",637],"[","]",["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","language",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","get",637],"(",["T_CONSTANT_ENCAPSED_STRING","'lang_error_vqmod'",637],")",";",["T_WHITESPACE","\n\t\t",637],"}",["T_WHITESPACE","\n\n\t\t",638],["T_RETURN","return",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$error",640],";",["T_WHITESPACE","\n\t",640],"}",["T_WHITESPACE","\n\n\t",641],["T_PRIVATE","private",643],["T_WHITESPACE"," ",643],["T_FUNCTION","function",643],["T_WHITESPACE"," ",643],["T_STRING","call",643],"(",["T_VARIABLE","$call",643],",",["T_WHITESPACE"," ",643],["T_ARRAY","array",643],["T_WHITESPACE"," ",643],["T_VARIABLE","$post",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_STRING","null",643],",",["T_WHITESPACE"," ",643],["T_ARRAY","array",643],["T_WHITESPACE"," ",643],["T_VARIABLE","$options",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_ARRAY","array",643],"(",")",",",["T_WHITESPACE"," ",643],["T_VARIABLE","$content_type",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'json'",643],")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n\t\t",643],["T_IF","if",644],["T_WHITESPACE"," ",644],"(",["T_STRING","defined",644],"(",["T_CONSTANT_ENCAPSED_STRING","\"HTTP_CATALOG\"",644],")",")",["T_WHITESPACE"," ",644],"{",["T_WHITESPACE","\n\t\t\t",644],["T_VARIABLE","$domain",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_STRING","HTTP_CATALOG",645],";",["T_WHITESPACE","\n\t\t",645],"}",["T_WHITESPACE"," ",646],["T_ELSE","else",646],["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n\t\t\t",646],["T_VARIABLE","$domain",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_STRING","HTTP_SERVER",647],";",["T_WHITESPACE","\n\t\t",647],"}",["T_WHITESPACE","\n\n\t\t",648],["T_VARIABLE","$data",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_ARRAY","array",650],"(",["T_WHITESPACE","\n\t\t\t",650],["T_CONSTANT_ENCAPSED_STRING","'language'",651],["T_WHITESPACE"," ",651],["T_DOUBLE_ARROW","=>",651],["T_WHITESPACE"," ",651],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","config",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","get",651],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay_language'",651],")",",",["T_WHITESPACE","\n\t\t\t",651],["T_CONSTANT_ENCAPSED_STRING","'server'",652],["T_WHITESPACE"," ",652],["T_DOUBLE_ARROW","=>",652],["T_WHITESPACE"," ",652],["T_LNUMBER","1",652],",",["T_WHITESPACE","\n\t\t\t",652],["T_CONSTANT_ENCAPSED_STRING","'domain'",653],["T_WHITESPACE"," ",653],["T_DOUBLE_ARROW","=>",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$domain",653],",",["T_WHITESPACE","\n\t\t\t",653],["T_CONSTANT_ENCAPSED_STRING","'openbay_version'",654],["T_WHITESPACE"," ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],["T_INT_CAST","(int)",654],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","config",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","get",654],"(",["T_CONSTANT_ENCAPSED_STRING","'openbay_version'",654],")",",",["T_WHITESPACE","\n\t\t\t",654],["T_CONSTANT_ENCAPSED_STRING","'data'",655],["T_WHITESPACE"," ",655],["T_DOUBLE_ARROW","=>",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$post",655],",",["T_WHITESPACE","\n\t\t\t",655],["T_CONSTANT_ENCAPSED_STRING","'content_type'",656],["T_WHITESPACE"," ",656],["T_DOUBLE_ARROW","=>",656],["T_WHITESPACE"," ",656],["T_VARIABLE","$content_type",656],",",["T_WHITESPACE","\n\t\t\t",656],["T_CONSTANT_ENCAPSED_STRING","'ocversion'",657],["T_WHITESPACE"," ",657],["T_DOUBLE_ARROW","=>",657],["T_WHITESPACE"," ",657],["T_STRING","VERSION",657],["T_WHITESPACE","\n\t\t",657],")",";",["T_WHITESPACE","\n\n\t\t",658],["T_VARIABLE","$useragent",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_CONSTANT_ENCAPSED_STRING","\"Mozilla\/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.1) Gecko\/20061204 Firefox\/2.0.0.1\"",660],";",["T_WHITESPACE","\n\n\t\t",660],["T_VARIABLE","$defaults",662],["T_WHITESPACE"," ",662],"=",["T_WHITESPACE"," ",662],["T_ARRAY","array",662],"(",["T_WHITESPACE","\n\t\t\t",662],["T_STRING","CURLOPT_POST",663],["T_WHITESPACE"," ",663],["T_DOUBLE_ARROW","=>",663],["T_WHITESPACE"," ",663],["T_LNUMBER","1",663],",",["T_WHITESPACE","\n\t\t\t",663],["T_STRING","CURLOPT_HEADER",664],["T_WHITESPACE"," ",664],["T_DOUBLE_ARROW","=>",664],["T_WHITESPACE"," ",664],["T_LNUMBER","0",664],",",["T_WHITESPACE","\n\t\t\t",664],["T_STRING","CURLOPT_URL",665],["T_WHITESPACE"," ",665],["T_DOUBLE_ARROW","=>",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","url",665],["T_WHITESPACE"," ",665],".",["T_WHITESPACE"," ",665],["T_VARIABLE","$call",665],",",["T_WHITESPACE","\n\t\t\t",665],["T_STRING","CURLOPT_USERAGENT",666],["T_WHITESPACE"," ",666],["T_DOUBLE_ARROW","=>",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$useragent",666],",",["T_WHITESPACE","\n\t\t\t",666],["T_STRING","CURLOPT_FRESH_CONNECT",667],["T_WHITESPACE"," ",667],["T_DOUBLE_ARROW","=>",667],["T_WHITESPACE"," ",667],["T_LNUMBER","1",667],",",["T_WHITESPACE","\n\t\t\t",667],["T_STRING","CURLOPT_RETURNTRANSFER",668],["T_WHITESPACE"," ",668],["T_DOUBLE_ARROW","=>",668],["T_WHITESPACE"," ",668],["T_LNUMBER","1",668],",",["T_WHITESPACE","\n\t\t\t",668],["T_STRING","CURLOPT_FORBID_REUSE",669],["T_WHITESPACE"," ",669],["T_DOUBLE_ARROW","=>",669],["T_WHITESPACE"," ",669],["T_LNUMBER","1",669],",",["T_WHITESPACE","\n\t\t\t",669],["T_STRING","CURLOPT_TIMEOUT",670],["T_WHITESPACE"," ",670],["T_DOUBLE_ARROW","=>",670],["T_WHITESPACE"," ",670],["T_LNUMBER","0",670],",",["T_WHITESPACE","\n\t\t\t",670],["T_STRING","CURLOPT_SSL_VERIFYPEER",671],["T_WHITESPACE"," ",671],["T_DOUBLE_ARROW","=>",671],["T_WHITESPACE"," ",671],["T_LNUMBER","0",671],",",["T_WHITESPACE","\n\t\t\t",671],["T_STRING","CURLOPT_SSL_VERIFYHOST",672],["T_WHITESPACE"," ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],["T_LNUMBER","0",672],",",["T_WHITESPACE","\n\t\t\t",672],["T_STRING","CURLOPT_POSTFIELDS",673],["T_WHITESPACE"," ",673],["T_DOUBLE_ARROW","=>",673],["T_WHITESPACE"," ",673],["T_STRING","http_build_query",673],"(",["T_VARIABLE","$data",673],",",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","''",673],",",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","\"&\"",673],")",["T_WHITESPACE","\n\t\t",673],")",";",["T_WHITESPACE","\n\n\t\t",674],["T_VARIABLE","$ch",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_STRING","curl_init",676],"(",")",";",["T_WHITESPACE","\n\t\t",676],["T_STRING","curl_setopt_array",677],"(",["T_VARIABLE","$ch",677],",",["T_WHITESPACE"," ",677],"(",["T_VARIABLE","$options",677],["T_WHITESPACE"," ",677],"+",["T_WHITESPACE"," ",677],["T_VARIABLE","$defaults",677],")",")",";",["T_WHITESPACE","\n\t\t",677],["T_VARIABLE","$result",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_STRING","curl_exec",678],"(",["T_VARIABLE","$ch",678],")",";",["T_WHITESPACE","\n\t\t",678],["T_STRING","curl_close",679],"(",["T_VARIABLE","$ch",679],")",";",["T_WHITESPACE","\n\n\t\t",679],["T_IF","if",681],["T_WHITESPACE"," ",681],"(",["T_VARIABLE","$content_type",681],["T_WHITESPACE"," ",681],["T_IS_EQUAL","==",681],["T_WHITESPACE"," ",681],["T_CONSTANT_ENCAPSED_STRING","'json'",681],")",["T_WHITESPACE"," ",681],"{",["T_WHITESPACE","\n\t\t\t",681],["T_VARIABLE","$encoding",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_STRING","mb_detect_encoding",682],"(",["T_VARIABLE","$result",682],")",";",["T_WHITESPACE","\n\n\t\t\t",682],["T_COMMENT","\/* some json data may have BOM due to php not handling types correctly *\/",684],["T_WHITESPACE","\n\t\t\t",684],["T_IF","if",685],["T_WHITESPACE"," ",685],"(",["T_VARIABLE","$encoding",685],["T_WHITESPACE"," ",685],["T_IS_EQUAL","==",685],["T_WHITESPACE"," ",685],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",685],")",["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n\t\t\t\t",685],["T_VARIABLE","$result",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_STRING","preg_replace",686],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^(\\x20-\\x7F)]*\/'",686],",",["T_WHITESPACE"," ",686],["T_CONSTANT_ENCAPSED_STRING","''",686],",",["T_WHITESPACE"," ",686],["T_VARIABLE","$result",686],")",";",["T_WHITESPACE","\n\t\t\t",686],"}",["T_WHITESPACE","\n\n\t\t\t",687],["T_VARIABLE","$result",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_STRING","json_decode",689],"(",["T_VARIABLE","$result",689],",",["T_WHITESPACE"," ",689],["T_LNUMBER","1",689],")",";",["T_WHITESPACE","\n\t\t\t",689],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","lasterror",690],["T_WHITESPACE"," ",690],"=",["T_WHITESPACE"," ",690],["T_VARIABLE","$result",690],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",690],"]",";",["T_WHITESPACE","\n\t\t\t",690],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","lastmsg",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_VARIABLE","$result",691],"[",["T_CONSTANT_ENCAPSED_STRING","'msg'",691],"]",";",["T_WHITESPACE","\n\n\t\t\t",691],["T_IF","if",693],["T_WHITESPACE"," ",693],"(","!",["T_EMPTY","empty",693],"(",["T_VARIABLE","$result",693],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",693],"]",")",")",["T_WHITESPACE"," ",693],"{",["T_WHITESPACE","\n\t\t\t\t",693],["T_RETURN","return",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$result",694],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",694],"]",";",["T_WHITESPACE","\n\t\t\t",694],"}",["T_WHITESPACE"," ",695],["T_ELSE","else",695],["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n\t\t\t\t",695],["T_RETURN","return",696],["T_WHITESPACE"," ",696],["T_STRING","false",696],";",["T_WHITESPACE","\n\t\t\t",696],"}",["T_WHITESPACE","\n\t\t",697],"}",["T_WHITESPACE"," ",698],["T_ELSEIF","elseif",698],["T_WHITESPACE"," ",698],"(",["T_VARIABLE","$content_type",698],["T_WHITESPACE"," ",698],["T_IS_EQUAL","==",698],["T_WHITESPACE"," ",698],["T_CONSTANT_ENCAPSED_STRING","'xml'",698],")",["T_WHITESPACE"," ",698],"{",["T_WHITESPACE","\n\t\t\t",698],["T_VARIABLE","$result",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_STRING","simplexml_load_string",699],"(",["T_VARIABLE","$result",699],")",";",["T_WHITESPACE","\n\t\t\t",699],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","lasterror",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_VARIABLE","$result",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","error",700],";",["T_WHITESPACE","\n\t\t\t",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","lastmsg",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_VARIABLE","$result",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","msg",701],";",["T_WHITESPACE","\n\n\t\t\t",701],["T_IF","if",703],["T_WHITESPACE"," ",703],"(","!",["T_EMPTY","empty",703],"(",["T_VARIABLE","$result",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","data",703],")",")",["T_WHITESPACE"," ",703],"{",["T_WHITESPACE","\n\t\t\t\t",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$result",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","data",704],";",["T_WHITESPACE","\n\t\t\t",704],"}",["T_WHITESPACE"," ",705],["T_ELSE","else",705],["T_WHITESPACE"," ",705],"{",["T_WHITESPACE","\n\t\t\t\t",705],["T_RETURN","return",706],["T_WHITESPACE"," ",706],["T_STRING","false",706],";",["T_WHITESPACE","\n\t\t\t",706],"}",["T_WHITESPACE","\n\t\t",707],"}",["T_WHITESPACE","\n\t",708],"}",["T_WHITESPACE","\n\n\t",709],["T_PUBLIC","public",711],["T_WHITESPACE"," ",711],["T_FUNCTION","function",711],["T_WHITESPACE"," ",711],["T_STRING","writeUpdateLog",711],"(",["T_VARIABLE","$data",711],")",["T_WHITESPACE"," ",711],"{",["T_WHITESPACE","\n\t\t",711],["T_VARIABLE","$file",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_STRING","DIR_LOGS",712],["T_WHITESPACE"," ",712],".",["T_WHITESPACE"," ",712],["T_CONSTANT_ENCAPSED_STRING","'openbay_update_'",712],["T_WHITESPACE"," ",712],".",["T_WHITESPACE"," ",712],["T_STRING","date",712],"(",["T_CONSTANT_ENCAPSED_STRING","'Y_m_d_G_i_s'",712],")",["T_WHITESPACE"," ",712],".",["T_WHITESPACE"," ",712],["T_CONSTANT_ENCAPSED_STRING","' . log'",712],";",["T_WHITESPACE","\n\n\t\t",712],["T_VARIABLE","$handle",714],["T_WHITESPACE"," ",714],"=",["T_WHITESPACE"," ",714],["T_STRING","fopen",714],"(",["T_VARIABLE","$file",714],",",["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'w+'",714],")",";",["T_WHITESPACE","\n\t\t",714],["T_STRING","fwrite",715],"(",["T_VARIABLE","$handle",715],",",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","\"** Update started: \"",715],["T_WHITESPACE"," ",715],".",["T_WHITESPACE"," ",715],["T_STRING","date",715],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d G:i:s'",715],")",["T_WHITESPACE"," ",715],".",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","\" **\"",715],["T_WHITESPACE"," ",715],".",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",715],")",";",["T_WHITESPACE","\n\n\t\t",715],["T_STRING","fwrite",717],"(",["T_VARIABLE","$handle",717],",",["T_WHITESPACE"," ",717],["T_VARIABLE","$data",717],")",";",["T_WHITESPACE","\n\t\t",717],["T_STRING","fclose",718],"(",["T_VARIABLE","$handle",718],")",";",["T_WHITESPACE","\n\t",718],"}",["T_WHITESPACE","\n\n\t",719],["T_PUBLIC","public",721],["T_WHITESPACE"," ",721],["T_FUNCTION","function",721],["T_WHITESPACE"," ",721],["T_STRING","getTotalProducts",721],"(",["T_VARIABLE","$data",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_ARRAY","array",721],"(",")",")",["T_WHITESPACE"," ",721],"{",["T_WHITESPACE","\n\t\t",721],["T_VARIABLE","$sql",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(DISTINCT p.product_id) AS total FROM \"",722],["T_WHITESPACE"," ",722],".",["T_WHITESPACE"," ",722],["T_STRING","DB_PREFIX",722],["T_WHITESPACE"," ",722],".",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","\"product p LEFT JOIN \"",722],["T_WHITESPACE"," ",722],".",["T_WHITESPACE"," ",722],["T_STRING","DB_PREFIX",722],["T_WHITESPACE"," ",722],".",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id)\"",722],";",["T_WHITESPACE","\n\n\t\t",722],["T_IF","if",724],["T_WHITESPACE"," ",724],"(","!",["T_EMPTY","empty",724],"(",["T_VARIABLE","$data",724],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",724],"]",")",")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n\t\t\t",724],["T_VARIABLE","$sql",725],["T_WHITESPACE"," ",725],["T_CONCAT_EQUAL",".=",725],["T_WHITESPACE"," ",725],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",725],["T_WHITESPACE"," ",725],".",["T_WHITESPACE"," ",725],["T_STRING","DB_PREFIX",725],["T_WHITESPACE"," ",725],".",["T_WHITESPACE"," ",725],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category p2c ON (p.product_id = p2c.product_id)\"",725],";",["T_WHITESPACE","\n\t\t",725],"}",["T_WHITESPACE","\n\n\t\t",726],["T_IF","if",728],["T_WHITESPACE"," ",728],"(",["T_VARIABLE","$data",728],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",728],"]",["T_WHITESPACE"," ",728],["T_IS_EQUAL","==",728],["T_WHITESPACE"," ",728],["T_CONSTANT_ENCAPSED_STRING","'ebay'",728],")",["T_WHITESPACE"," ",728],"{",["T_WHITESPACE","\n\t\t\t",728],["T_VARIABLE","$sql",729],["T_WHITESPACE"," ",729],["T_CONCAT_EQUAL",".=",729],["T_WHITESPACE"," ",729],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN `\"",729],["T_WHITESPACE"," ",729],".",["T_WHITESPACE"," ",729],["T_STRING","DB_PREFIX",729],["T_WHITESPACE"," ",729],".",["T_WHITESPACE"," ",729],["T_CONSTANT_ENCAPSED_STRING","\"ebay_listing` `ebay` ON (`p`.`product_id` = `ebay`.`product_id`)\"",729],";",["T_WHITESPACE","\n\n\t\t\t",729],["T_IF","if",731],["T_WHITESPACE"," ",731],"(",["T_VARIABLE","$data",731],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",731],"]",["T_WHITESPACE"," ",731],["T_IS_EQUAL","==",731],["T_WHITESPACE"," ",731],["T_LNUMBER","0",731],")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n\t\t\t\t",731],["T_VARIABLE","$sql",732],["T_WHITESPACE"," ",732],["T_CONCAT_EQUAL",".=",732],["T_WHITESPACE"," ",732],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN (SELECT product_id, IF( SUM( `status` ) = 0, 0, 1 ) AS 'listing_status' FROM \"",732],["T_WHITESPACE"," ",732],".",["T_WHITESPACE"," ",732],["T_STRING","DB_PREFIX",732],["T_WHITESPACE"," ",732],".",["T_WHITESPACE"," ",732],["T_CONSTANT_ENCAPSED_STRING","\"ebay_listing GROUP BY product_id ) ebay2 ON (p.product_id = ebay2.product_id)\"",732],";",["T_WHITESPACE","\n\t\t\t",732],"}",["T_WHITESPACE","\n\t\t",733],"}",["T_WHITESPACE","\n\n\t\t",734],["T_IF","if",736],["T_WHITESPACE"," ",736],"(",["T_VARIABLE","$data",736],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",736],"]",["T_WHITESPACE"," ",736],["T_IS_EQUAL","==",736],["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","'amazon'",736],")",["T_WHITESPACE"," ",736],"{",["T_WHITESPACE","\n\t\t\t",736],["T_IF","if",737],["T_WHITESPACE"," ",737],"(",["T_VARIABLE","$data",737],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",737],"]",["T_WHITESPACE"," ",737],["T_IS_SMALLER_OR_EQUAL","<=",737],["T_WHITESPACE"," ",737],["T_LNUMBER","4",737],")",["T_WHITESPACE"," ",737],"{",["T_WHITESPACE","\n\t\t\t\t",737],["T_VARIABLE","$sql",738],["T_WHITESPACE"," ",738],["T_CONCAT_EQUAL",".=",738],["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",738],["T_WHITESPACE"," ",738],".",["T_WHITESPACE"," ",738],["T_STRING","DB_PREFIX",738],["T_WHITESPACE"," ",738],".",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","\"amazon_product ap ON p.product_id = ap.product_id\"",738],";",["T_WHITESPACE","\n\t\t\t",738],"}",["T_WHITESPACE"," ",739],["T_ELSE","else",739],["T_WHITESPACE"," ",739],"{",["T_WHITESPACE","\n\t\t\t\t",739],["T_VARIABLE","$sql",740],["T_WHITESPACE"," ",740],["T_CONCAT_EQUAL",".=",740],["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",740],["T_WHITESPACE"," ",740],".",["T_WHITESPACE"," ",740],["T_STRING","DB_PREFIX",740],["T_WHITESPACE"," ",740],".",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","\"amazon_product_link apl ON p.product_id = apl.product_id\"",740],";",["T_WHITESPACE","\n\t\t\t",740],"}",["T_WHITESPACE","\n\n\t\t\t",741],["T_VARIABLE","$amazon_status",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_ARRAY","array",743],"(",["T_WHITESPACE","\n\t\t\t\t",743],["T_LNUMBER","1",744],["T_WHITESPACE"," ",744],["T_DOUBLE_ARROW","=>",744],["T_WHITESPACE"," ",744],["T_CONSTANT_ENCAPSED_STRING","'saved'",744],",",["T_WHITESPACE","\n\t\t\t\t",744],["T_LNUMBER","2",745],["T_WHITESPACE"," ",745],["T_DOUBLE_ARROW","=>",745],["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'uploaded'",745],",",["T_WHITESPACE","\n\t\t\t\t",745],["T_LNUMBER","3",746],["T_WHITESPACE"," ",746],["T_DOUBLE_ARROW","=>",746],["T_WHITESPACE"," ",746],["T_CONSTANT_ENCAPSED_STRING","'ok'",746],",",["T_WHITESPACE","\n\t\t\t\t",746],["T_LNUMBER","4",747],["T_WHITESPACE"," ",747],["T_DOUBLE_ARROW","=>",747],["T_WHITESPACE"," ",747],["T_CONSTANT_ENCAPSED_STRING","'error'",747],",",["T_WHITESPACE","\n\t\t\t\t",747],["T_LNUMBER","5",748],["T_WHITESPACE"," ",748],["T_DOUBLE_ARROW","=>",748],["T_WHITESPACE"," ",748],["T_CONSTANT_ENCAPSED_STRING","'amazon_linked'",748],",",["T_WHITESPACE","\n\t\t\t\t",748],["T_LNUMBER","6",749],["T_WHITESPACE"," ",749],["T_DOUBLE_ARROW","=>",749],["T_WHITESPACE"," ",749],["T_CONSTANT_ENCAPSED_STRING","'amazon_not_linked'",749],",",["T_WHITESPACE","\n\t\t\t",749],")",";",["T_WHITESPACE","\n\t\t",750],"}",["T_WHITESPACE","\n\n\t\t",751],["T_VARIABLE","$sql",753],["T_WHITESPACE"," ",753],["T_CONCAT_EQUAL",".=",753],["T_WHITESPACE"," ",753],["T_CONSTANT_ENCAPSED_STRING","\" WHERE pd.language_id = '\"",753],["T_WHITESPACE"," ",753],".",["T_WHITESPACE"," ",753],["T_INT_CAST","(int)",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","config",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","get",753],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",753],")",["T_WHITESPACE"," ",753],".",["T_WHITESPACE"," ",753],["T_CONSTANT_ENCAPSED_STRING","\"'\"",753],";",["T_WHITESPACE","\n\n\t\t",753],["T_IF","if",755],["T_WHITESPACE"," ",755],"(","!",["T_EMPTY","empty",755],"(",["T_VARIABLE","$data",755],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",755],"]",")",")",["T_WHITESPACE"," ",755],"{",["T_WHITESPACE","\n\t\t\t",755],["T_IF","if",756],["T_WHITESPACE"," ",756],"(",["T_VARIABLE","$data",756],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",756],"]",["T_WHITESPACE"," ",756],["T_IS_EQUAL","==",756],["T_WHITESPACE"," ",756],["T_CONSTANT_ENCAPSED_STRING","'none'",756],")",["T_WHITESPACE"," ",756],"{",["T_WHITESPACE","\n\t\t\t\t",756],["T_VARIABLE","$sql",757],["T_WHITESPACE"," ",757],["T_CONCAT_EQUAL",".=",757],["T_WHITESPACE"," ",757],["T_CONSTANT_ENCAPSED_STRING","\" AND p2c.category_id IS NULL\"",757],";",["T_WHITESPACE","\n\t\t\t",757],"}",["T_WHITESPACE"," ",758],["T_ELSE","else",758],["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n\t\t\t\t",758],["T_VARIABLE","$sql",759],["T_WHITESPACE"," ",759],["T_CONCAT_EQUAL",".=",759],["T_WHITESPACE"," ",759],["T_CONSTANT_ENCAPSED_STRING","\" AND p2c.category_id = '\"",759],["T_WHITESPACE"," ",759],".",["T_WHITESPACE"," ",759],["T_INT_CAST","(int)",759],["T_VARIABLE","$data",759],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",759],"]",["T_WHITESPACE"," ",759],".",["T_WHITESPACE"," ",759],["T_CONSTANT_ENCAPSED_STRING","\"'\"",759],";",["T_WHITESPACE","\n\t\t\t",759],"}",["T_WHITESPACE","\n\t\t",760],"}",["T_WHITESPACE","\n\n\t\t",761],["T_IF","if",763],["T_WHITESPACE"," ",763],"(",["T_VARIABLE","$data",763],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",763],"]",["T_WHITESPACE"," ",763],["T_IS_EQUAL","==",763],["T_WHITESPACE"," ",763],["T_CONSTANT_ENCAPSED_STRING","'ebay'",763],")",["T_WHITESPACE"," ",763],"{",["T_WHITESPACE","\n\t\t\t",763],["T_IF","if",764],["T_WHITESPACE"," ",764],"(",["T_VARIABLE","$data",764],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",764],"]",["T_WHITESPACE"," ",764],["T_IS_EQUAL","==",764],["T_WHITESPACE"," ",764],["T_LNUMBER","0",764],")",["T_WHITESPACE"," ",764],"{",["T_WHITESPACE","\n\t\t\t\t",764],["T_VARIABLE","$sql",765],["T_WHITESPACE"," ",765],["T_CONCAT_EQUAL",".=",765],["T_WHITESPACE"," ",765],["T_CONSTANT_ENCAPSED_STRING","\" AND (ebay.ebay_listing_id IS NULL OR ebay2.listing_status = 0)\"",765],";",["T_WHITESPACE","\n\t\t\t",765],"}",["T_WHITESPACE"," ",766],["T_ELSE","else",766],["T_WHITESPACE"," ",766],"{",["T_WHITESPACE","\n\t\t\t\t",766],["T_VARIABLE","$sql",767],["T_WHITESPACE"," ",767],["T_CONCAT_EQUAL",".=",767],["T_WHITESPACE"," ",767],["T_CONSTANT_ENCAPSED_STRING","\" AND (ebay.ebay_listing_id IS NOT NULL AND ebay.status = 1)\"",767],";",["T_WHITESPACE","\n\t\t\t",767],"}",["T_WHITESPACE","\n\t\t",768],"}",["T_WHITESPACE","\n\n\t\t",769],["T_IF","if",771],["T_WHITESPACE"," ",771],"(",["T_VARIABLE","$data",771],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",771],"]",["T_WHITESPACE"," ",771],["T_IS_EQUAL","==",771],["T_WHITESPACE"," ",771],["T_CONSTANT_ENCAPSED_STRING","'amazon'",771],")",["T_WHITESPACE"," ",771],"{",["T_WHITESPACE","\n\t\t\t",771],["T_IF","if",772],["T_WHITESPACE"," ",772],"(",["T_VARIABLE","$data",772],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",772],"]",["T_WHITESPACE"," ",772],["T_IS_EQUAL","==",772],["T_WHITESPACE"," ",772],["T_LNUMBER","0",772],")",["T_WHITESPACE"," ",772],"{",["T_WHITESPACE","\n\t\t\t\t",772],["T_VARIABLE","$sql",773],["T_WHITESPACE"," ",773],["T_CONCAT_EQUAL",".=",773],["T_WHITESPACE"," ",773],["T_CONSTANT_ENCAPSED_STRING","\" AND ap.product_id IS NULL \"",773],";",["T_WHITESPACE","\n\t\t\t",773],"}",["T_WHITESPACE"," ",774],["T_ELSEIF","elseif",774],["T_WHITESPACE"," ",774],"(",["T_VARIABLE","$data",774],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",774],"]",["T_WHITESPACE"," ",774],["T_IS_EQUAL","==",774],["T_WHITESPACE"," ",774],["T_LNUMBER","5",774],")",["T_WHITESPACE"," ",774],"{",["T_WHITESPACE","\n\t\t\t\t",774],["T_VARIABLE","$sql",775],["T_WHITESPACE"," ",775],["T_CONCAT_EQUAL",".=",775],["T_WHITESPACE"," ",775],["T_CONSTANT_ENCAPSED_STRING","\" AND apl.id IS NOT NULL\"",775],";",["T_WHITESPACE","\n\t\t\t",775],"}",["T_WHITESPACE"," ",776],["T_ELSEIF","elseif",776],["T_WHITESPACE"," ",776],"(",["T_VARIABLE","$data",776],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",776],"]",["T_WHITESPACE"," ",776],["T_IS_EQUAL","==",776],["T_WHITESPACE"," ",776],["T_LNUMBER","6",776],")",["T_WHITESPACE"," ",776],"{",["T_WHITESPACE","\n\t\t\t\t",776],["T_VARIABLE","$sql",777],["T_WHITESPACE"," ",777],["T_CONCAT_EQUAL",".=",777],["T_WHITESPACE"," ",777],["T_CONSTANT_ENCAPSED_STRING","\" AND apl.id IS NULL\"",777],";",["T_WHITESPACE","\n\t\t\t",777],"}",["T_WHITESPACE"," ",778],["T_ELSE","else",778],["T_WHITESPACE"," ",778],"{",["T_WHITESPACE","\n\t\t\t\t",778],["T_VARIABLE","$sql",779],["T_WHITESPACE"," ",779],["T_CONCAT_EQUAL",".=",779],["T_WHITESPACE"," ",779],["T_CONSTANT_ENCAPSED_STRING","\" AND FIND_IN_SET('\"",779],["T_WHITESPACE"," ",779],".",["T_WHITESPACE"," ",779],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","db",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","escape",779],"(",["T_VARIABLE","$amazon_status",779],"[",["T_VARIABLE","$data",779],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",779],"]","]",")",["T_WHITESPACE"," ",779],".",["T_WHITESPACE"," ",779],["T_CONSTANT_ENCAPSED_STRING","\"', ap.`status`) != 0\"",779],";",["T_WHITESPACE","\n\t\t\t",779],"}",["T_WHITESPACE","\n\t\t",780],"}",["T_WHITESPACE","\n\n\t\t",781],["T_IF","if",783],["T_WHITESPACE"," ",783],"(","!",["T_EMPTY","empty",783],"(",["T_VARIABLE","$data",783],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",783],"]",")",")",["T_WHITESPACE"," ",783],"{",["T_WHITESPACE","\n\t\t\t",783],["T_VARIABLE","$sql",784],["T_WHITESPACE"," ",784],["T_CONCAT_EQUAL",".=",784],["T_WHITESPACE"," ",784],["T_CONSTANT_ENCAPSED_STRING","\" AND pd.name LIKE '%\"",784],["T_WHITESPACE"," ",784],".",["T_WHITESPACE"," ",784],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","db",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","escape",784],"(",["T_VARIABLE","$data",784],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",784],"]",")",["T_WHITESPACE"," ",784],".",["T_WHITESPACE"," ",784],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",784],";",["T_WHITESPACE","\n\t\t",784],"}",["T_WHITESPACE","\n\n\t\t",785],["T_IF","if",787],["T_WHITESPACE"," ",787],"(","!",["T_EMPTY","empty",787],"(",["T_VARIABLE","$data",787],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_model'",787],"]",")",")",["T_WHITESPACE"," ",787],"{",["T_WHITESPACE","\n\t\t\t",787],["T_VARIABLE","$sql",788],["T_WHITESPACE"," ",788],["T_CONCAT_EQUAL",".=",788],["T_WHITESPACE"," ",788],["T_CONSTANT_ENCAPSED_STRING","\" AND p.model LIKE '%\"",788],["T_WHITESPACE"," ",788],".",["T_WHITESPACE"," ",788],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","db",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","escape",788],"(",["T_VARIABLE","$data",788],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_model'",788],"]",")",["T_WHITESPACE"," ",788],".",["T_WHITESPACE"," ",788],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",788],";",["T_WHITESPACE","\n\t\t",788],"}",["T_WHITESPACE","\n\n\t\t",789],["T_IF","if",791],["T_WHITESPACE"," ",791],"(","!",["T_EMPTY","empty",791],"(",["T_VARIABLE","$data",791],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price'",791],"]",")",")",["T_WHITESPACE"," ",791],"{",["T_WHITESPACE","\n\t\t\t",791],["T_VARIABLE","$sql",792],["T_WHITESPACE"," ",792],["T_CONCAT_EQUAL",".=",792],["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","\" AND p.price >= '\"",792],["T_WHITESPACE"," ",792],".",["T_WHITESPACE"," ",792],["T_DOUBLE_CAST","(double)",792],["T_VARIABLE","$data",792],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price'",792],"]",["T_WHITESPACE"," ",792],".",["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","\"'\"",792],";",["T_WHITESPACE","\n\t\t",792],"}",["T_WHITESPACE","\n\n\t\t",793],["T_IF","if",795],["T_WHITESPACE"," ",795],"(","!",["T_EMPTY","empty",795],"(",["T_VARIABLE","$data",795],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price_to'",795],"]",")",")",["T_WHITESPACE"," ",795],"{",["T_WHITESPACE","\n\t\t\t",795],["T_VARIABLE","$sql",796],["T_WHITESPACE"," ",796],["T_CONCAT_EQUAL",".=",796],["T_WHITESPACE"," ",796],["T_CONSTANT_ENCAPSED_STRING","\" AND p.price <= '\"",796],["T_WHITESPACE"," ",796],".",["T_WHITESPACE"," ",796],["T_DOUBLE_CAST","(double)",796],["T_VARIABLE","$data",796],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price_to'",796],"]",["T_WHITESPACE"," ",796],".",["T_WHITESPACE"," ",796],["T_CONSTANT_ENCAPSED_STRING","\"'\"",796],";",["T_WHITESPACE","\n\t\t",796],"}",["T_WHITESPACE","\n\n\t\t",797],["T_IF","if",799],["T_WHITESPACE"," ",799],"(",["T_ISSET","isset",799],"(",["T_VARIABLE","$data",799],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity'",799],"]",")",["T_WHITESPACE"," ",799],["T_BOOLEAN_AND","&&",799],["T_WHITESPACE"," ",799],"!",["T_STRING","is_null",799],"(",["T_VARIABLE","$data",799],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity'",799],"]",")",")",["T_WHITESPACE"," ",799],"{",["T_WHITESPACE","\n\t\t\t",799],["T_VARIABLE","$sql",800],["T_WHITESPACE"," ",800],["T_CONCAT_EQUAL",".=",800],["T_WHITESPACE"," ",800],["T_CONSTANT_ENCAPSED_STRING","\" AND p.quantity >= '\"",800],["T_WHITESPACE"," ",800],".",["T_WHITESPACE"," ",800],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","db",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","escape",800],"(",["T_VARIABLE","$data",800],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity'",800],"]",")",["T_WHITESPACE"," ",800],".",["T_WHITESPACE"," ",800],["T_CONSTANT_ENCAPSED_STRING","\"'\"",800],";",["T_WHITESPACE","\n\t\t",800],"}",["T_WHITESPACE","\n\n\t\t",801],["T_IF","if",803],["T_WHITESPACE"," ",803],"(",["T_ISSET","isset",803],"(",["T_VARIABLE","$data",803],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity_to'",803],"]",")",["T_WHITESPACE"," ",803],["T_BOOLEAN_AND","&&",803],["T_WHITESPACE"," ",803],"!",["T_STRING","is_null",803],"(",["T_VARIABLE","$data",803],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity_to'",803],"]",")",")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n\t\t\t",803],["T_VARIABLE","$sql",804],["T_WHITESPACE"," ",804],["T_CONCAT_EQUAL",".=",804],["T_WHITESPACE"," ",804],["T_CONSTANT_ENCAPSED_STRING","\" AND p.quantity <= '\"",804],["T_WHITESPACE"," ",804],".",["T_WHITESPACE"," ",804],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","db",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","escape",804],"(",["T_VARIABLE","$data",804],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity_to'",804],"]",")",["T_WHITESPACE"," ",804],".",["T_WHITESPACE"," ",804],["T_CONSTANT_ENCAPSED_STRING","\"'\"",804],";",["T_WHITESPACE","\n\t\t",804],"}",["T_WHITESPACE","\n\n\t\t",805],["T_IF","if",807],["T_WHITESPACE"," ",807],"(",["T_ISSET","isset",807],"(",["T_VARIABLE","$data",807],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",807],"]",")",["T_WHITESPACE"," ",807],["T_BOOLEAN_AND","&&",807],["T_WHITESPACE"," ",807],"!",["T_STRING","is_null",807],"(",["T_VARIABLE","$data",807],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",807],"]",")",")",["T_WHITESPACE"," ",807],"{",["T_WHITESPACE","\n\t\t\t",807],["T_VARIABLE","$sql",808],["T_WHITESPACE"," ",808],["T_CONCAT_EQUAL",".=",808],["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","\" AND p.status = '\"",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_INT_CAST","(int)",808],["T_VARIABLE","$data",808],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",808],"]",["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","\"'\"",808],";",["T_WHITESPACE","\n\t\t",808],"}",["T_WHITESPACE","\n\n\t\t",809],["T_IF","if",811],["T_WHITESPACE"," ",811],"(",["T_ISSET","isset",811],"(",["T_VARIABLE","$data",811],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sku'",811],"]",")",["T_WHITESPACE"," ",811],["T_BOOLEAN_AND","&&",811],["T_WHITESPACE"," ",811],"!",["T_STRING","is_null",811],"(",["T_VARIABLE","$data",811],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sku'",811],"]",")",")",["T_WHITESPACE"," ",811],"{",["T_WHITESPACE","\n\t\t\t",811],["T_VARIABLE","$sql",812],["T_WHITESPACE"," ",812],["T_CONCAT_EQUAL",".=",812],["T_WHITESPACE"," ",812],["T_CONSTANT_ENCAPSED_STRING","\" AND p.sku != ''\"",812],";",["T_WHITESPACE","\n\t\t",812],"}",["T_WHITESPACE","\n\n\t\t",813],["T_IF","if",815],["T_WHITESPACE"," ",815],"(",["T_ISSET","isset",815],"(",["T_VARIABLE","$data",815],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_desc'",815],"]",")",["T_WHITESPACE"," ",815],["T_BOOLEAN_AND","&&",815],["T_WHITESPACE"," ",815],"!",["T_STRING","is_null",815],"(",["T_VARIABLE","$data",815],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_desc'",815],"]",")",")",["T_WHITESPACE"," ",815],"{",["T_WHITESPACE","\n\t\t\t",815],["T_VARIABLE","$sql",816],["T_WHITESPACE"," ",816],["T_CONCAT_EQUAL",".=",816],["T_WHITESPACE"," ",816],["T_CONSTANT_ENCAPSED_STRING","\" AND pd.description != ''\"",816],";",["T_WHITESPACE","\n\t\t",816],"}",["T_WHITESPACE","\n\n\t\t",817],["T_IF","if",819],["T_WHITESPACE"," ",819],"(",["T_ISSET","isset",819],"(",["T_VARIABLE","$data",819],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer'",819],"]",")",["T_WHITESPACE"," ",819],["T_BOOLEAN_AND","&&",819],["T_WHITESPACE"," ",819],"!",["T_STRING","is_null",819],"(",["T_VARIABLE","$data",819],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer'",819],"]",")",")",["T_WHITESPACE"," ",819],"{",["T_WHITESPACE","\n\t\t\t",819],["T_VARIABLE","$sql",820],["T_WHITESPACE"," ",820],["T_CONCAT_EQUAL",".=",820],["T_WHITESPACE"," ",820],["T_CONSTANT_ENCAPSED_STRING","\" AND p.manufacturer_id = '\"",820],["T_WHITESPACE"," ",820],".",["T_WHITESPACE"," ",820],["T_INT_CAST","(int)",820],["T_VARIABLE","$data",820],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer'",820],"]",["T_WHITESPACE"," ",820],".",["T_WHITESPACE"," ",820],["T_CONSTANT_ENCAPSED_STRING","\"'\"",820],";",["T_WHITESPACE","\n\t\t",820],"}",["T_WHITESPACE","\n\n\t\t",821],["T_VARIABLE","$query",823],["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","db",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","query",823],"(",["T_VARIABLE","$sql",823],")",";",["T_WHITESPACE","\n\n\t\t",823],["T_RETURN","return",825],["T_WHITESPACE"," ",825],["T_VARIABLE","$query",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","row",825],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",825],"]",";",["T_WHITESPACE","\n\t",825],"}",["T_WHITESPACE","\n\n\t",826],["T_PUBLIC","public",828],["T_WHITESPACE"," ",828],["T_FUNCTION","function",828],["T_WHITESPACE"," ",828],["T_STRING","getProducts",828],"(",["T_VARIABLE","$data",828],["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_ARRAY","array",828],"(",")",")",["T_WHITESPACE"," ",828],"{",["T_WHITESPACE","\n\t\t",828],["T_VARIABLE","$sql",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","\"SELECT p.*, pd.* FROM \"",829],["T_WHITESPACE"," ",829],".",["T_WHITESPACE"," ",829],["T_STRING","DB_PREFIX",829],["T_WHITESPACE"," ",829],".",["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","\"product p LEFT JOIN \"",829],["T_WHITESPACE"," ",829],".",["T_WHITESPACE"," ",829],["T_STRING","DB_PREFIX",829],["T_WHITESPACE"," ",829],".",["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id)\"",829],";",["T_WHITESPACE","\n\n\t\t",829],["T_IF","if",831],["T_WHITESPACE"," ",831],"(","!",["T_EMPTY","empty",831],"(",["T_VARIABLE","$data",831],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",831],"]",")",")",["T_WHITESPACE"," ",831],"{",["T_WHITESPACE","\n\t\t\t",831],["T_VARIABLE","$sql",832],["T_WHITESPACE"," ",832],["T_CONCAT_EQUAL",".=",832],["T_WHITESPACE"," ",832],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",832],["T_WHITESPACE"," ",832],".",["T_WHITESPACE"," ",832],["T_STRING","DB_PREFIX",832],["T_WHITESPACE"," ",832],".",["T_WHITESPACE"," ",832],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category p2c ON (p.product_id = p2c.product_id)\"",832],";",["T_WHITESPACE","\n\t\t",832],"}",["T_WHITESPACE","\n\n\t\t",833],["T_IF","if",835],["T_WHITESPACE"," ",835],"(",["T_VARIABLE","$data",835],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",835],"]",["T_WHITESPACE"," ",835],["T_IS_EQUAL","==",835],["T_WHITESPACE"," ",835],["T_CONSTANT_ENCAPSED_STRING","'ebay'",835],")",["T_WHITESPACE"," ",835],"{",["T_WHITESPACE","\n\t\t\t",835],["T_VARIABLE","$sql",836],["T_WHITESPACE"," ",836],["T_CONCAT_EQUAL",".=",836],["T_WHITESPACE"," ",836],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN `\"",836],["T_WHITESPACE"," ",836],".",["T_WHITESPACE"," ",836],["T_STRING","DB_PREFIX",836],["T_WHITESPACE"," ",836],".",["T_WHITESPACE"," ",836],["T_CONSTANT_ENCAPSED_STRING","\"ebay_listing` `ebay` ON (`p`.`product_id` = `ebay`.`product_id`)\"",836],";",["T_WHITESPACE","\n\n\t\t\t",836],["T_IF","if",838],["T_WHITESPACE"," ",838],"(",["T_VARIABLE","$data",838],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",838],"]",["T_WHITESPACE"," ",838],["T_IS_EQUAL","==",838],["T_WHITESPACE"," ",838],["T_LNUMBER","0",838],")",["T_WHITESPACE"," ",838],"{",["T_WHITESPACE","\n\t\t\t\t",838],["T_VARIABLE","$sql",839],["T_WHITESPACE"," ",839],["T_CONCAT_EQUAL",".=",839],["T_WHITESPACE"," ",839],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN (SELECT product_id, IF( SUM( `status` ) = 0, 0, 1 ) AS 'listing_status' FROM \"",839],["T_WHITESPACE"," ",839],".",["T_WHITESPACE"," ",839],["T_STRING","DB_PREFIX",839],["T_WHITESPACE"," ",839],".",["T_WHITESPACE"," ",839],["T_CONSTANT_ENCAPSED_STRING","\"ebay_listing GROUP BY product_id ) ebay2 ON (p.product_id = ebay2.product_id)\"",839],";",["T_WHITESPACE","\n\t\t\t",839],"}",["T_WHITESPACE","\n\t\t",840],"}",["T_WHITESPACE","\n\n\t\t",841],["T_IF","if",843],["T_WHITESPACE"," ",843],"(",["T_VARIABLE","$data",843],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",843],"]",["T_WHITESPACE"," ",843],["T_IS_EQUAL","==",843],["T_WHITESPACE"," ",843],["T_CONSTANT_ENCAPSED_STRING","'amazon'",843],")",["T_WHITESPACE"," ",843],"{",["T_WHITESPACE","\n\t\t\t",843],["T_IF","if",844],["T_WHITESPACE"," ",844],"(",["T_VARIABLE","$data",844],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",844],"]",["T_WHITESPACE"," ",844],["T_IS_SMALLER_OR_EQUAL","<=",844],["T_WHITESPACE"," ",844],["T_LNUMBER","4",844],")",["T_WHITESPACE"," ",844],"{",["T_WHITESPACE","\n\t\t\t\t",844],["T_VARIABLE","$sql",845],["T_WHITESPACE"," ",845],["T_CONCAT_EQUAL",".=",845],["T_WHITESPACE"," ",845],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",845],["T_WHITESPACE"," ",845],".",["T_WHITESPACE"," ",845],["T_STRING","DB_PREFIX",845],["T_WHITESPACE"," ",845],".",["T_WHITESPACE"," ",845],["T_CONSTANT_ENCAPSED_STRING","\"amazon_product ap ON p.product_id = ap.product_id\"",845],";",["T_WHITESPACE","\n\t\t\t",845],"}",["T_WHITESPACE"," ",846],["T_ELSEIF","elseif",846],["T_WHITESPACE"," ",846],"(",["T_VARIABLE","$data",846],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",846],"]",["T_WHITESPACE"," ",846],["T_IS_SMALLER_OR_EQUAL","<=",846],["T_WHITESPACE"," ",846],["T_LNUMBER","6",846],")",["T_WHITESPACE"," ",846],"{",["T_WHITESPACE","\n\t\t\t\t",846],["T_VARIABLE","$sql",847],["T_WHITESPACE"," ",847],["T_CONCAT_EQUAL",".=",847],["T_WHITESPACE"," ",847],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",847],["T_WHITESPACE"," ",847],".",["T_WHITESPACE"," ",847],["T_STRING","DB_PREFIX",847],["T_WHITESPACE"," ",847],".",["T_WHITESPACE"," ",847],["T_CONSTANT_ENCAPSED_STRING","\"amazon_product_link apl ON p.product_id = apl.product_id\"",847],";",["T_WHITESPACE","\n\t\t\t",847],"}",["T_WHITESPACE","\n\n\t\t\t",848],["T_VARIABLE","$amazon_status",850],["T_WHITESPACE"," ",850],"=",["T_WHITESPACE"," ",850],["T_ARRAY","array",850],"(",["T_WHITESPACE","\n\t\t\t\t",850],["T_LNUMBER","1",851],["T_WHITESPACE"," ",851],["T_DOUBLE_ARROW","=>",851],["T_WHITESPACE"," ",851],["T_CONSTANT_ENCAPSED_STRING","'saved'",851],",",["T_WHITESPACE","\n\t\t\t\t",851],["T_LNUMBER","2",852],["T_WHITESPACE"," ",852],["T_DOUBLE_ARROW","=>",852],["T_WHITESPACE"," ",852],["T_CONSTANT_ENCAPSED_STRING","'uploaded'",852],",",["T_WHITESPACE","\n\t\t\t\t",852],["T_LNUMBER","3",853],["T_WHITESPACE"," ",853],["T_DOUBLE_ARROW","=>",853],["T_WHITESPACE"," ",853],["T_CONSTANT_ENCAPSED_STRING","'ok'",853],",",["T_WHITESPACE","\n\t\t\t\t",853],["T_LNUMBER","4",854],["T_WHITESPACE"," ",854],["T_DOUBLE_ARROW","=>",854],["T_WHITESPACE"," ",854],["T_CONSTANT_ENCAPSED_STRING","'error'",854],",",["T_WHITESPACE","\n\t\t\t",854],")",";",["T_WHITESPACE","\n\t\t",855],"}",["T_WHITESPACE","\n\n\t\t",856],["T_IF","if",858],["T_WHITESPACE"," ",858],"(",["T_VARIABLE","$data",858],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",858],"]",["T_WHITESPACE"," ",858],["T_IS_EQUAL","==",858],["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'amazonus'",858],")",["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n\t\t\t",858],["T_IF","if",859],["T_WHITESPACE"," ",859],"(",["T_VARIABLE","$data",859],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",859],"]",["T_WHITESPACE"," ",859],["T_IS_SMALLER_OR_EQUAL","<=",859],["T_WHITESPACE"," ",859],["T_LNUMBER","4",859],")",["T_WHITESPACE"," ",859],"{",["T_WHITESPACE","\n\t\t\t\t",859],["T_VARIABLE","$sql",860],["T_WHITESPACE"," ",860],["T_CONCAT_EQUAL",".=",860],["T_WHITESPACE"," ",860],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",860],["T_WHITESPACE"," ",860],".",["T_WHITESPACE"," ",860],["T_STRING","DB_PREFIX",860],["T_WHITESPACE"," ",860],".",["T_WHITESPACE"," ",860],["T_CONSTANT_ENCAPSED_STRING","\"amazonus_product ap ON p.product_id = ap.product_id\"",860],";",["T_WHITESPACE","\n\t\t\t",860],"}",["T_WHITESPACE"," ",861],["T_ELSEIF","elseif",861],["T_WHITESPACE"," ",861],"(",["T_VARIABLE","$data",861],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",861],"]",["T_WHITESPACE"," ",861],["T_IS_SMALLER_OR_EQUAL","<=",861],["T_WHITESPACE"," ",861],["T_LNUMBER","6",861],")",["T_WHITESPACE"," ",861],"{",["T_WHITESPACE","\n\t\t\t\t",861],["T_VARIABLE","$sql",862],["T_WHITESPACE"," ",862],["T_CONCAT_EQUAL",".=",862],["T_WHITESPACE"," ",862],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",862],["T_WHITESPACE"," ",862],".",["T_WHITESPACE"," ",862],["T_STRING","DB_PREFIX",862],["T_WHITESPACE"," ",862],".",["T_WHITESPACE"," ",862],["T_CONSTANT_ENCAPSED_STRING","\"amazonus_product_link apl ON p.product_id = apl.product_id\"",862],";",["T_WHITESPACE","\n\t\t\t",862],"}",["T_WHITESPACE","\n\n\t\t\t",863],["T_VARIABLE","$amazonus_status",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_ARRAY","array",865],"(",["T_WHITESPACE","\n\t\t\t\t",865],["T_LNUMBER","1",866],["T_WHITESPACE"," ",866],["T_DOUBLE_ARROW","=>",866],["T_WHITESPACE"," ",866],["T_CONSTANT_ENCAPSED_STRING","'saved'",866],",",["T_WHITESPACE","\n\t\t\t\t",866],["T_LNUMBER","2",867],["T_WHITESPACE"," ",867],["T_DOUBLE_ARROW","=>",867],["T_WHITESPACE"," ",867],["T_CONSTANT_ENCAPSED_STRING","'uploaded'",867],",",["T_WHITESPACE","\n\t\t\t\t",867],["T_LNUMBER","3",868],["T_WHITESPACE"," ",868],["T_DOUBLE_ARROW","=>",868],["T_WHITESPACE"," ",868],["T_CONSTANT_ENCAPSED_STRING","'ok'",868],",",["T_WHITESPACE","\n\t\t\t\t",868],["T_LNUMBER","4",869],["T_WHITESPACE"," ",869],["T_DOUBLE_ARROW","=>",869],["T_WHITESPACE"," ",869],["T_CONSTANT_ENCAPSED_STRING","'error'",869],",",["T_WHITESPACE","\n\t\t\t",869],")",";",["T_WHITESPACE","\n\t\t",870],"}",["T_WHITESPACE","\n\n\t\t",871],["T_VARIABLE","$sql",873],["T_WHITESPACE"," ",873],["T_CONCAT_EQUAL",".=",873],["T_WHITESPACE"," ",873],["T_CONSTANT_ENCAPSED_STRING","\" WHERE pd.language_id = '\"",873],["T_WHITESPACE"," ",873],".",["T_WHITESPACE"," ",873],["T_INT_CAST","(int)",873],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","config",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","get",873],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",873],")",["T_WHITESPACE"," ",873],".",["T_WHITESPACE"," ",873],["T_CONSTANT_ENCAPSED_STRING","\"'\"",873],";",["T_WHITESPACE","\n\n\t\t",873],["T_IF","if",875],["T_WHITESPACE"," ",875],"(","!",["T_EMPTY","empty",875],"(",["T_VARIABLE","$data",875],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",875],"]",")",")",["T_WHITESPACE"," ",875],"{",["T_WHITESPACE","\n\t\t\t",875],["T_IF","if",876],["T_WHITESPACE"," ",876],"(",["T_VARIABLE","$data",876],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",876],"]",["T_WHITESPACE"," ",876],["T_IS_EQUAL","==",876],["T_WHITESPACE"," ",876],["T_CONSTANT_ENCAPSED_STRING","'none'",876],")",["T_WHITESPACE"," ",876],"{",["T_WHITESPACE","\n\t\t\t\t",876],["T_VARIABLE","$sql",877],["T_WHITESPACE"," ",877],["T_CONCAT_EQUAL",".=",877],["T_WHITESPACE"," ",877],["T_CONSTANT_ENCAPSED_STRING","\" AND p2c.category_id IS NULL\"",877],";",["T_WHITESPACE","\n\t\t\t",877],"}",["T_WHITESPACE"," ",878],["T_ELSE","else",878],["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n\t\t\t\t",878],["T_VARIABLE","$sql",879],["T_WHITESPACE"," ",879],["T_CONCAT_EQUAL",".=",879],["T_WHITESPACE"," ",879],["T_CONSTANT_ENCAPSED_STRING","\" AND p2c.category_id = '\"",879],["T_WHITESPACE"," ",879],".",["T_WHITESPACE"," ",879],["T_INT_CAST","(int)",879],["T_VARIABLE","$data",879],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category'",879],"]",["T_WHITESPACE"," ",879],".",["T_WHITESPACE"," ",879],["T_CONSTANT_ENCAPSED_STRING","\"'\"",879],";",["T_WHITESPACE","\n\t\t\t",879],"}",["T_WHITESPACE","\n\t\t",880],"}",["T_WHITESPACE","\n\n\t\t",881],["T_IF","if",883],["T_WHITESPACE"," ",883],"(",["T_VARIABLE","$data",883],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",883],"]",["T_WHITESPACE"," ",883],["T_IS_EQUAL","==",883],["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'ebay'",883],")",["T_WHITESPACE"," ",883],"{",["T_WHITESPACE","\n\t\t\t",883],["T_IF","if",884],["T_WHITESPACE"," ",884],"(",["T_VARIABLE","$data",884],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",884],"]",["T_WHITESPACE"," ",884],["T_IS_EQUAL","==",884],["T_WHITESPACE"," ",884],["T_LNUMBER","0",884],")",["T_WHITESPACE"," ",884],"{",["T_WHITESPACE","\n\t\t\t\t",884],["T_VARIABLE","$sql",885],["T_WHITESPACE"," ",885],["T_CONCAT_EQUAL",".=",885],["T_WHITESPACE"," ",885],["T_CONSTANT_ENCAPSED_STRING","\" AND (ebay.ebay_listing_id IS NULL OR ebay2.listing_status = 0)\"",885],";",["T_WHITESPACE","\n\t\t\t",885],"}",["T_WHITESPACE"," ",886],["T_ELSE","else",886],["T_WHITESPACE"," ",886],"{",["T_WHITESPACE","\n\t\t\t\t",886],["T_VARIABLE","$sql",887],["T_WHITESPACE"," ",887],["T_CONCAT_EQUAL",".=",887],["T_WHITESPACE"," ",887],["T_CONSTANT_ENCAPSED_STRING","\" AND (ebay.ebay_listing_id IS NOT NULL AND ebay.status = 1)\"",887],";",["T_WHITESPACE","\n\t\t\t",887],"}",["T_WHITESPACE","\n\t\t",888],"}",["T_WHITESPACE","\n\n\t\t",889],["T_IF","if",891],["T_WHITESPACE"," ",891],"(",["T_VARIABLE","$data",891],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",891],"]",["T_WHITESPACE"," ",891],["T_IS_EQUAL","==",891],["T_WHITESPACE"," ",891],["T_CONSTANT_ENCAPSED_STRING","'amazon'",891],")",["T_WHITESPACE"," ",891],"{",["T_WHITESPACE","\n\t\t\t",891],["T_IF","if",892],["T_WHITESPACE"," ",892],"(",["T_VARIABLE","$data",892],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",892],"]",["T_WHITESPACE"," ",892],["T_IS_EQUAL","==",892],["T_WHITESPACE"," ",892],["T_LNUMBER","0",892],")",["T_WHITESPACE"," ",892],"{",["T_WHITESPACE","\n\t\t\t\t",892],["T_VARIABLE","$sql",893],["T_WHITESPACE"," ",893],["T_CONCAT_EQUAL",".=",893],["T_WHITESPACE"," ",893],["T_CONSTANT_ENCAPSED_STRING","\" AND ap.product_id IS NULL \"",893],";",["T_WHITESPACE","\n\t\t\t",893],"}",["T_WHITESPACE"," ",894],["T_ELSEIF","elseif",894],["T_WHITESPACE"," ",894],"(",["T_VARIABLE","$data",894],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",894],"]",["T_WHITESPACE"," ",894],["T_IS_EQUAL","==",894],["T_WHITESPACE"," ",894],["T_LNUMBER","5",894],")",["T_WHITESPACE"," ",894],"{",["T_WHITESPACE","\n\t\t\t\t",894],["T_VARIABLE","$sql",895],["T_WHITESPACE"," ",895],["T_CONCAT_EQUAL",".=",895],["T_WHITESPACE"," ",895],["T_CONSTANT_ENCAPSED_STRING","\" AND apl.id IS NOT NULL\"",895],";",["T_WHITESPACE","\n\t\t\t",895],"}",["T_WHITESPACE"," ",896],["T_ELSEIF","elseif",896],["T_WHITESPACE"," ",896],"(",["T_VARIABLE","$data",896],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",896],"]",["T_WHITESPACE"," ",896],["T_IS_EQUAL","==",896],["T_WHITESPACE"," ",896],["T_LNUMBER","6",896],")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n\t\t\t\t",896],["T_VARIABLE","$sql",897],["T_WHITESPACE"," ",897],["T_CONCAT_EQUAL",".=",897],["T_WHITESPACE"," ",897],["T_CONSTANT_ENCAPSED_STRING","\" AND apl.id IS NULL\"",897],";",["T_WHITESPACE","\n\t\t\t",897],"}",["T_WHITESPACE"," ",898],["T_ELSE","else",898],["T_WHITESPACE"," ",898],"{",["T_WHITESPACE","\n\t\t\t\t",898],["T_VARIABLE","$sql",899],["T_WHITESPACE"," ",899],["T_CONCAT_EQUAL",".=",899],["T_WHITESPACE"," ",899],["T_CONSTANT_ENCAPSED_STRING","\" AND FIND_IN_SET('\"",899],["T_WHITESPACE"," ",899],".",["T_WHITESPACE"," ",899],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","db",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","escape",899],"(",["T_VARIABLE","$amazon_status",899],"[",["T_VARIABLE","$data",899],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",899],"]","]",")",["T_WHITESPACE"," ",899],".",["T_WHITESPACE"," ",899],["T_CONSTANT_ENCAPSED_STRING","\"', ap.`status`) != 0\"",899],";",["T_WHITESPACE","\n\t\t\t",899],"}",["T_WHITESPACE","\n\t\t",900],"}",["T_WHITESPACE","\n\n\t\t",901],["T_IF","if",903],["T_WHITESPACE"," ",903],"(",["T_VARIABLE","$data",903],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_name'",903],"]",["T_WHITESPACE"," ",903],["T_IS_EQUAL","==",903],["T_WHITESPACE"," ",903],["T_CONSTANT_ENCAPSED_STRING","'amazonus'",903],")",["T_WHITESPACE"," ",903],"{",["T_WHITESPACE","\n\t\t\t",903],["T_IF","if",904],["T_WHITESPACE"," ",904],"(",["T_VARIABLE","$data",904],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",904],"]",["T_WHITESPACE"," ",904],["T_IS_EQUAL","==",904],["T_WHITESPACE"," ",904],["T_LNUMBER","0",904],")",["T_WHITESPACE"," ",904],"{",["T_WHITESPACE","\n\t\t\t\t",904],["T_VARIABLE","$sql",905],["T_WHITESPACE"," ",905],["T_CONCAT_EQUAL",".=",905],["T_WHITESPACE"," ",905],["T_CONSTANT_ENCAPSED_STRING","\" AND ap.product_id IS NULL \"",905],";",["T_WHITESPACE","\n\t\t\t",905],"}",["T_WHITESPACE"," ",906],["T_ELSEIF","elseif",906],["T_WHITESPACE"," ",906],"(",["T_VARIABLE","$data",906],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",906],"]",["T_WHITESPACE"," ",906],["T_IS_EQUAL","==",906],["T_WHITESPACE"," ",906],["T_LNUMBER","5",906],")",["T_WHITESPACE"," ",906],"{",["T_WHITESPACE","\n\t\t\t\t",906],["T_VARIABLE","$sql",907],["T_WHITESPACE"," ",907],["T_CONCAT_EQUAL",".=",907],["T_WHITESPACE"," ",907],["T_CONSTANT_ENCAPSED_STRING","\" AND apl.id IS NOT NULL\"",907],";",["T_WHITESPACE","\n\t\t\t",907],"}",["T_WHITESPACE"," ",908],["T_ELSEIF","elseif",908],["T_WHITESPACE"," ",908],"(",["T_VARIABLE","$data",908],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",908],"]",["T_WHITESPACE"," ",908],["T_IS_EQUAL","==",908],["T_WHITESPACE"," ",908],["T_LNUMBER","6",908],")",["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n\t\t\t\t",908],["T_VARIABLE","$sql",909],["T_WHITESPACE"," ",909],["T_CONCAT_EQUAL",".=",909],["T_WHITESPACE"," ",909],["T_CONSTANT_ENCAPSED_STRING","\" AND apl.id IS NULL\"",909],";",["T_WHITESPACE","\n\t\t\t",909],"}",["T_WHITESPACE"," ",910],["T_ELSE","else",910],["T_WHITESPACE"," ",910],"{",["T_WHITESPACE","\n\t\t\t\t",910],["T_VARIABLE","$sql",911],["T_WHITESPACE"," ",911],["T_CONCAT_EQUAL",".=",911],["T_WHITESPACE"," ",911],["T_CONSTANT_ENCAPSED_STRING","\" AND FIND_IN_SET('\"",911],["T_WHITESPACE"," ",911],".",["T_WHITESPACE"," ",911],["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","db",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","escape",911],"(",["T_VARIABLE","$amazonus_status",911],"[",["T_VARIABLE","$data",911],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_market_id'",911],"]","]",")",["T_WHITESPACE"," ",911],".",["T_WHITESPACE"," ",911],["T_CONSTANT_ENCAPSED_STRING","\"', ap.`status`) != 0\"",911],";",["T_WHITESPACE","\n\t\t\t",911],"}",["T_WHITESPACE","\n\t\t",912],"}",["T_WHITESPACE","\n\n\t\t",913],["T_IF","if",915],["T_WHITESPACE"," ",915],"(","!",["T_EMPTY","empty",915],"(",["T_VARIABLE","$data",915],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",915],"]",")",")",["T_WHITESPACE"," ",915],"{",["T_WHITESPACE","\n\t\t\t",915],["T_VARIABLE","$sql",916],["T_WHITESPACE"," ",916],["T_CONCAT_EQUAL",".=",916],["T_WHITESPACE"," ",916],["T_CONSTANT_ENCAPSED_STRING","\" AND pd.name LIKE '\"",916],["T_WHITESPACE"," ",916],".",["T_WHITESPACE"," ",916],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","db",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","escape",916],"(",["T_VARIABLE","$data",916],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",916],"]",")",["T_WHITESPACE"," ",916],".",["T_WHITESPACE"," ",916],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",916],";",["T_WHITESPACE","\n\t\t",916],"}",["T_WHITESPACE","\n\n\t\t",917],["T_IF","if",919],["T_WHITESPACE"," ",919],"(","!",["T_EMPTY","empty",919],"(",["T_VARIABLE","$data",919],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_model'",919],"]",")",")",["T_WHITESPACE"," ",919],"{",["T_WHITESPACE","\n\t\t\t",919],["T_VARIABLE","$sql",920],["T_WHITESPACE"," ",920],["T_CONCAT_EQUAL",".=",920],["T_WHITESPACE"," ",920],["T_CONSTANT_ENCAPSED_STRING","\" AND p.model LIKE '\"",920],["T_WHITESPACE"," ",920],".",["T_WHITESPACE"," ",920],["T_VARIABLE","$this",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","db",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","escape",920],"(",["T_VARIABLE","$data",920],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_model'",920],"]",")",["T_WHITESPACE"," ",920],".",["T_WHITESPACE"," ",920],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",920],";",["T_WHITESPACE","\n\t\t",920],"}",["T_WHITESPACE","\n\n\t\t",921],["T_IF","if",923],["T_WHITESPACE"," ",923],"(","!",["T_EMPTY","empty",923],"(",["T_VARIABLE","$data",923],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price'",923],"]",")",")",["T_WHITESPACE"," ",923],"{",["T_WHITESPACE","\n\t\t\t",923],["T_VARIABLE","$sql",924],["T_WHITESPACE"," ",924],["T_CONCAT_EQUAL",".=",924],["T_WHITESPACE"," ",924],["T_CONSTANT_ENCAPSED_STRING","\" AND p.price >= '\"",924],["T_WHITESPACE"," ",924],".",["T_WHITESPACE"," ",924],["T_DOUBLE_CAST","(double)",924],["T_VARIABLE","$data",924],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price'",924],"]",["T_WHITESPACE"," ",924],".",["T_WHITESPACE"," ",924],["T_CONSTANT_ENCAPSED_STRING","\"'\"",924],";",["T_WHITESPACE","\n\t\t",924],"}",["T_WHITESPACE","\n\n\t\t",925],["T_IF","if",927],["T_WHITESPACE"," ",927],"(","!",["T_EMPTY","empty",927],"(",["T_VARIABLE","$data",927],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price_to'",927],"]",")",")",["T_WHITESPACE"," ",927],"{",["T_WHITESPACE","\n\t\t\t",927],["T_VARIABLE","$sql",928],["T_WHITESPACE"," ",928],["T_CONCAT_EQUAL",".=",928],["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","\" AND p.price <= '\"",928],["T_WHITESPACE"," ",928],".",["T_WHITESPACE"," ",928],["T_DOUBLE_CAST","(double)",928],["T_VARIABLE","$data",928],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_price_to'",928],"]",["T_WHITESPACE"," ",928],".",["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","\"'\"",928],";",["T_WHITESPACE","\n\t\t",928],"}",["T_WHITESPACE","\n\n\t\t",929],["T_IF","if",931],["T_WHITESPACE"," ",931],"(",["T_ISSET","isset",931],"(",["T_VARIABLE","$data",931],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity'",931],"]",")",["T_WHITESPACE"," ",931],["T_BOOLEAN_AND","&&",931],["T_WHITESPACE"," ",931],"!",["T_STRING","is_null",931],"(",["T_VARIABLE","$data",931],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity'",931],"]",")",")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n\t\t\t",931],["T_VARIABLE","$sql",932],["T_WHITESPACE"," ",932],["T_CONCAT_EQUAL",".=",932],["T_WHITESPACE"," ",932],["T_CONSTANT_ENCAPSED_STRING","\" AND p.quantity >= '\"",932],["T_WHITESPACE"," ",932],".",["T_WHITESPACE"," ",932],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","db",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","escape",932],"(",["T_VARIABLE","$data",932],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity'",932],"]",")",["T_WHITESPACE"," ",932],".",["T_WHITESPACE"," ",932],["T_CONSTANT_ENCAPSED_STRING","\"'\"",932],";",["T_WHITESPACE","\n\t\t",932],"}",["T_WHITESPACE","\n\n\t\t",933],["T_IF","if",935],["T_WHITESPACE"," ",935],"(",["T_ISSET","isset",935],"(",["T_VARIABLE","$data",935],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity_to'",935],"]",")",["T_WHITESPACE"," ",935],["T_BOOLEAN_AND","&&",935],["T_WHITESPACE"," ",935],"!",["T_STRING","is_null",935],"(",["T_VARIABLE","$data",935],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity_to'",935],"]",")",")",["T_WHITESPACE"," ",935],"{",["T_WHITESPACE","\n\t\t\t",935],["T_VARIABLE","$sql",936],["T_WHITESPACE"," ",936],["T_CONCAT_EQUAL",".=",936],["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","\" AND p.quantity <= '\"",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","db",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","escape",936],"(",["T_VARIABLE","$data",936],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_quantity_to'",936],"]",")",["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","\"'\"",936],";",["T_WHITESPACE","\n\t\t",936],"}",["T_WHITESPACE","\n\n\t\t",937],["T_IF","if",939],["T_WHITESPACE"," ",939],"(",["T_ISSET","isset",939],"(",["T_VARIABLE","$data",939],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",939],"]",")",["T_WHITESPACE"," ",939],["T_BOOLEAN_AND","&&",939],["T_WHITESPACE"," ",939],"!",["T_STRING","is_null",939],"(",["T_VARIABLE","$data",939],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",939],"]",")",")",["T_WHITESPACE"," ",939],"{",["T_WHITESPACE","\n\t\t\t",939],["T_VARIABLE","$sql",940],["T_WHITESPACE"," ",940],["T_CONCAT_EQUAL",".=",940],["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","\" AND p.status = '\"",940],["T_WHITESPACE"," ",940],".",["T_WHITESPACE"," ",940],["T_INT_CAST","(int)",940],["T_VARIABLE","$data",940],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",940],"]",["T_WHITESPACE"," ",940],".",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","\"'\"",940],";",["T_WHITESPACE","\n\t\t",940],"}",["T_WHITESPACE","\n\n\t\t",941],["T_IF","if",943],["T_WHITESPACE"," ",943],"(",["T_ISSET","isset",943],"(",["T_VARIABLE","$data",943],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sku'",943],"]",")",["T_WHITESPACE"," ",943],["T_BOOLEAN_AND","&&",943],["T_WHITESPACE"," ",943],"!",["T_STRING","is_null",943],"(",["T_VARIABLE","$data",943],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sku'",943],"]",")",")",["T_WHITESPACE"," ",943],"{",["T_WHITESPACE","\n\t\t\t",943],["T_VARIABLE","$sql",944],["T_WHITESPACE"," ",944],["T_CONCAT_EQUAL",".=",944],["T_WHITESPACE"," ",944],["T_CONSTANT_ENCAPSED_STRING","\" AND p.sku != ''\"",944],";",["T_WHITESPACE","\n\t\t",944],"}",["T_WHITESPACE","\n\n\t\t",945],["T_IF","if",947],["T_WHITESPACE"," ",947],"(",["T_ISSET","isset",947],"(",["T_VARIABLE","$data",947],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_desc'",947],"]",")",["T_WHITESPACE"," ",947],["T_BOOLEAN_AND","&&",947],["T_WHITESPACE"," ",947],"!",["T_STRING","is_null",947],"(",["T_VARIABLE","$data",947],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_desc'",947],"]",")",")",["T_WHITESPACE"," ",947],"{",["T_WHITESPACE","\n\t\t\t",947],["T_VARIABLE","$sql",948],["T_WHITESPACE"," ",948],["T_CONCAT_EQUAL",".=",948],["T_WHITESPACE"," ",948],["T_CONSTANT_ENCAPSED_STRING","\" AND pd.description != ''\"",948],";",["T_WHITESPACE","\n\t\t",948],"}",["T_WHITESPACE","\n\n\t\t",949],["T_IF","if",951],["T_WHITESPACE"," ",951],"(",["T_ISSET","isset",951],"(",["T_VARIABLE","$data",951],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer'",951],"]",")",["T_WHITESPACE"," ",951],["T_BOOLEAN_AND","&&",951],["T_WHITESPACE"," ",951],"!",["T_STRING","is_null",951],"(",["T_VARIABLE","$data",951],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer'",951],"]",")",")",["T_WHITESPACE"," ",951],"{",["T_WHITESPACE","\n\t\t\t",951],["T_VARIABLE","$sql",952],["T_WHITESPACE"," ",952],["T_CONCAT_EQUAL",".=",952],["T_WHITESPACE"," ",952],["T_CONSTANT_ENCAPSED_STRING","\" AND p.manufacturer_id = '\"",952],["T_WHITESPACE"," ",952],".",["T_WHITESPACE"," ",952],["T_INT_CAST","(int)",952],["T_VARIABLE","$data",952],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer'",952],"]",["T_WHITESPACE"," ",952],".",["T_WHITESPACE"," ",952],["T_CONSTANT_ENCAPSED_STRING","\"'\"",952],";",["T_WHITESPACE","\n\t\t",952],"}",["T_WHITESPACE","\n\n\t\t",953],["T_VARIABLE","$sql",955],["T_WHITESPACE"," ",955],["T_CONCAT_EQUAL",".=",955],["T_WHITESPACE"," ",955],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY p.product_id\"",955],";",["T_WHITESPACE","\n\n\t\t",955],["T_VARIABLE","$sort_data",957],["T_WHITESPACE"," ",957],"=",["T_WHITESPACE"," ",957],["T_ARRAY","array",957],"(",["T_WHITESPACE","\n\t\t\t",957],["T_CONSTANT_ENCAPSED_STRING","'pd.name'",958],",",["T_WHITESPACE","\n\t\t\t",958],["T_CONSTANT_ENCAPSED_STRING","'p.model'",959],",",["T_WHITESPACE","\n\t\t\t",959],["T_CONSTANT_ENCAPSED_STRING","'p.price'",960],",",["T_WHITESPACE","\n\t\t\t",960],["T_CONSTANT_ENCAPSED_STRING","'p.quantity'",961],",",["T_WHITESPACE","\n\t\t\t",961],["T_CONSTANT_ENCAPSED_STRING","'p.status'",962],",",["T_WHITESPACE","\n\t\t\t",962],["T_CONSTANT_ENCAPSED_STRING","'p.sort_order'",963],["T_WHITESPACE","\n\t\t",963],")",";",["T_WHITESPACE","\n\n\t\t",964],["T_IF","if",966],["T_WHITESPACE"," ",966],"(",["T_ISSET","isset",966],"(",["T_VARIABLE","$data",966],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",966],"]",")",["T_WHITESPACE"," ",966],["T_BOOLEAN_AND","&&",966],["T_WHITESPACE"," ",966],["T_STRING","in_array",966],"(",["T_VARIABLE","$data",966],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",966],"]",",",["T_WHITESPACE"," ",966],["T_VARIABLE","$sort_data",966],")",")",["T_WHITESPACE"," ",966],"{",["T_WHITESPACE","\n\t\t\t",966],["T_VARIABLE","$sql",967],["T_WHITESPACE"," ",967],["T_CONCAT_EQUAL",".=",967],["T_WHITESPACE"," ",967],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",967],["T_WHITESPACE"," ",967],".",["T_WHITESPACE"," ",967],["T_VARIABLE","$data",967],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",967],"]",";",["T_WHITESPACE","\n\t\t",967],"}",["T_WHITESPACE"," ",968],["T_ELSE","else",968],["T_WHITESPACE"," ",968],"{",["T_WHITESPACE","\n\t\t\t",968],["T_VARIABLE","$sql",969],["T_WHITESPACE"," ",969],["T_CONCAT_EQUAL",".=",969],["T_WHITESPACE"," ",969],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY pd.name\"",969],";",["T_WHITESPACE","\n\t\t",969],"}",["T_WHITESPACE","\n\n\t\t",970],["T_IF","if",972],["T_WHITESPACE"," ",972],"(",["T_ISSET","isset",972],"(",["T_VARIABLE","$data",972],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",972],"]",")",["T_WHITESPACE"," ",972],["T_BOOLEAN_AND","&&",972],["T_WHITESPACE"," ",972],"(",["T_VARIABLE","$data",972],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",972],"]",["T_WHITESPACE"," ",972],["T_IS_EQUAL","==",972],["T_WHITESPACE"," ",972],["T_CONSTANT_ENCAPSED_STRING","'DESC'",972],")",")",["T_WHITESPACE"," ",972],"{",["T_WHITESPACE","\n\t\t\t",972],["T_VARIABLE","$sql",973],["T_WHITESPACE"," ",973],["T_CONCAT_EQUAL",".=",973],["T_WHITESPACE"," ",973],["T_CONSTANT_ENCAPSED_STRING","\" DESC\"",973],";",["T_WHITESPACE","\n\t\t",973],"}",["T_WHITESPACE"," ",974],["T_ELSE","else",974],["T_WHITESPACE"," ",974],"{",["T_WHITESPACE","\n\t\t\t",974],["T_VARIABLE","$sql",975],["T_WHITESPACE"," ",975],["T_CONCAT_EQUAL",".=",975],["T_WHITESPACE"," ",975],["T_CONSTANT_ENCAPSED_STRING","\" ASC\"",975],";",["T_WHITESPACE","\n\t\t",975],"}",["T_WHITESPACE","\n\n\t\t",976],["T_IF","if",978],["T_WHITESPACE"," ",978],"(",["T_ISSET","isset",978],"(",["T_VARIABLE","$data",978],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",978],"]",")",["T_WHITESPACE"," ",978],["T_BOOLEAN_OR","||",978],["T_WHITESPACE"," ",978],["T_ISSET","isset",978],"(",["T_VARIABLE","$data",978],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",978],"]",")",")",["T_WHITESPACE"," ",978],"{",["T_WHITESPACE","\n\t\t\t",978],["T_IF","if",979],["T_WHITESPACE"," ",979],"(",["T_VARIABLE","$data",979],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",979],"]",["T_WHITESPACE"," ",979],"<",["T_WHITESPACE"," ",979],["T_LNUMBER","0",979],")",["T_WHITESPACE"," ",979],"{",["T_WHITESPACE","\n\t\t\t\t",979],["T_VARIABLE","$data",980],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",980],"]",["T_WHITESPACE"," ",980],"=",["T_WHITESPACE"," ",980],["T_LNUMBER","0",980],";",["T_WHITESPACE","\n\t\t\t",980],"}",["T_WHITESPACE","\n\n\t\t\t",981],["T_IF","if",983],["T_WHITESPACE"," ",983],"(",["T_VARIABLE","$data",983],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",983],"]",["T_WHITESPACE"," ",983],"<",["T_WHITESPACE"," ",983],["T_LNUMBER","1",983],")",["T_WHITESPACE"," ",983],"{",["T_WHITESPACE","\n\t\t\t\t",983],["T_VARIABLE","$data",984],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",984],"]",["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_LNUMBER","20",984],";",["T_WHITESPACE","\n\t\t\t",984],"}",["T_WHITESPACE","\n\n\t\t\t",985],["T_VARIABLE","$sql",987],["T_WHITESPACE"," ",987],["T_CONCAT_EQUAL",".=",987],["T_WHITESPACE"," ",987],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",987],["T_WHITESPACE"," ",987],".",["T_WHITESPACE"," ",987],["T_INT_CAST","(int)",987],["T_VARIABLE","$data",987],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",987],"]",["T_WHITESPACE"," ",987],".",["T_WHITESPACE"," ",987],["T_CONSTANT_ENCAPSED_STRING","\",\"",987],["T_WHITESPACE"," ",987],".",["T_WHITESPACE"," ",987],["T_INT_CAST","(int)",987],["T_VARIABLE","$data",987],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",987],"]",";",["T_WHITESPACE","\n\t\t",987],"}",["T_WHITESPACE","\n\n\t\t",988],["T_VARIABLE","$query",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_VARIABLE","$this",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","db",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","query",990],"(",["T_VARIABLE","$sql",990],")",";",["T_WHITESPACE","\n\n\t\t",990],["T_RETURN","return",992],["T_WHITESPACE"," ",992],["T_VARIABLE","$query",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","rows",992],";",["T_WHITESPACE","\n\t",992],"}",["T_WHITESPACE","\n\n\t",993],["T_PUBLIC","public",995],["T_WHITESPACE"," ",995],["T_FUNCTION","function",995],["T_WHITESPACE"," ",995],["T_STRING","addOrderHistory",995],"(",["T_VARIABLE","$order_id",995],",",["T_WHITESPACE"," ",995],["T_VARIABLE","$data",995],",",["T_WHITESPACE"," ",995],["T_VARIABLE","$store_id",995],["T_WHITESPACE"," ",995],"=",["T_WHITESPACE"," ",995],["T_LNUMBER","0",995],")",["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n\t\t",995],["T_VARIABLE","$json",996],["T_WHITESPACE"," ",996],"=",["T_WHITESPACE"," ",996],["T_ARRAY","array",996],"(",")",";",["T_WHITESPACE","\n\n\t\t",996],["T_VARIABLE","$this",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","load",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","model",998],"(",["T_CONSTANT_ENCAPSED_STRING","'setting\/store'",998],")",";",["T_WHITESPACE","\n\n\t\t",998],["T_VARIABLE","$store_info",1000],["T_WHITESPACE"," ",1000],"=",["T_WHITESPACE"," ",1000],["T_VARIABLE","$this",1000],["T_OBJECT_OPERATOR","->",1000],["T_STRING","model_setting_store",1000],["T_OBJECT_OPERATOR","->",1000],["T_STRING","getStore",1000],"(",["T_VARIABLE","$store_id",1000],")",";",["T_WHITESPACE","\n\n\t\t",1000],["T_IF","if",1002],["T_WHITESPACE"," ",1002],"(",["T_VARIABLE","$store_info",1002],")",["T_WHITESPACE"," ",1002],"{",["T_WHITESPACE","\n\t\t\t",1002],["T_VARIABLE","$url",1003],["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_VARIABLE","$store_info",1003],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",1003],"]",";",["T_WHITESPACE","\n\t\t",1003],"}",["T_WHITESPACE"," ",1004],["T_ELSE","else",1004],["T_WHITESPACE"," ",1004],"{",["T_WHITESPACE","\n\t\t\t",1004],["T_VARIABLE","$url",1005],["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_STRING","HTTPS_CATALOG",1005],";",["T_WHITESPACE","\n\t\t",1005],"}",["T_WHITESPACE","\n\n\t\t",1006],["T_IF","if",1008],["T_WHITESPACE"," ",1008],"(",["T_ISSET","isset",1008],"(",["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","session",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","data",1008],"[",["T_CONSTANT_ENCAPSED_STRING","'cookie'",1008],"]",")",")",["T_WHITESPACE"," ",1008],"{",["T_WHITESPACE","\n\t\t\t",1008],["T_VARIABLE","$curl",1009],["T_WHITESPACE"," ",1009],"=",["T_WHITESPACE"," ",1009],["T_STRING","curl_init",1009],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",1009],["T_COMMENT","\/\/ Set SSL if required\n",1011],["T_WHITESPACE","\t\t\t",1012],["T_IF","if",1012],["T_WHITESPACE"," ",1012],"(",["T_STRING","substr",1012],"(",["T_VARIABLE","$url",1012],",",["T_WHITESPACE"," ",1012],["T_LNUMBER","0",1012],",",["T_WHITESPACE"," ",1012],["T_LNUMBER","5",1012],")",["T_WHITESPACE"," ",1012],["T_IS_EQUAL","==",1012],["T_WHITESPACE"," ",1012],["T_CONSTANT_ENCAPSED_STRING","'https'",1012],")",["T_WHITESPACE"," ",1012],"{",["T_WHITESPACE","\n\t\t\t\t",1012],["T_STRING","curl_setopt",1013],"(",["T_VARIABLE","$curl",1013],",",["T_WHITESPACE"," ",1013],["T_STRING","CURLOPT_PORT",1013],",",["T_WHITESPACE"," ",1013],["T_LNUMBER","443",1013],")",";",["T_WHITESPACE","\n\t\t\t",1013],"}",["T_WHITESPACE","\n\n\t\t\t",1014],["T_STRING","curl_setopt",1016],"(",["T_VARIABLE","$curl",1016],",",["T_WHITESPACE"," ",1016],["T_STRING","CURLOPT_HEADER",1016],",",["T_WHITESPACE"," ",1016],["T_STRING","false",1016],")",";",["T_WHITESPACE","\n\t\t\t",1016],["T_STRING","curl_setopt",1017],"(",["T_VARIABLE","$curl",1017],",",["T_WHITESPACE"," ",1017],["T_STRING","CURLINFO_HEADER_OUT",1017],",",["T_WHITESPACE"," ",1017],["T_STRING","true",1017],")",";",["T_WHITESPACE","\n\t\t\t",1017],["T_STRING","curl_setopt",1018],"(",["T_VARIABLE","$curl",1018],",",["T_WHITESPACE"," ",1018],["T_STRING","CURLOPT_USERAGENT",1018],",",["T_WHITESPACE"," ",1018],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","request",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","server",1018],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1018],"]",")",";",["T_WHITESPACE","\n\t\t\t",1018],["T_STRING","curl_setopt",1019],"(",["T_VARIABLE","$curl",1019],",",["T_WHITESPACE"," ",1019],["T_STRING","CURLOPT_SSL_VERIFYHOST",1019],",",["T_WHITESPACE"," ",1019],["T_STRING","false",1019],")",";",["T_WHITESPACE","\n\t\t\t",1019],["T_STRING","curl_setopt",1020],"(",["T_VARIABLE","$curl",1020],",",["T_WHITESPACE"," ",1020],["T_STRING","CURLOPT_SSL_VERIFYPEER",1020],",",["T_WHITESPACE"," ",1020],["T_STRING","false",1020],")",";",["T_WHITESPACE","\n\t\t\t",1020],["T_STRING","curl_setopt",1021],"(",["T_VARIABLE","$curl",1021],",",["T_WHITESPACE"," ",1021],["T_STRING","CURLOPT_FORBID_REUSE",1021],",",["T_WHITESPACE"," ",1021],["T_STRING","false",1021],")",";",["T_WHITESPACE","\n\t\t\t",1021],["T_STRING","curl_setopt",1022],"(",["T_VARIABLE","$curl",1022],",",["T_WHITESPACE"," ",1022],["T_STRING","CURLOPT_RETURNTRANSFER",1022],",",["T_WHITESPACE"," ",1022],["T_STRING","true",1022],")",";",["T_WHITESPACE","\n\t\t\t",1022],["T_STRING","curl_setopt",1023],"(",["T_VARIABLE","$curl",1023],",",["T_WHITESPACE"," ",1023],["T_STRING","CURLOPT_URL",1023],",",["T_WHITESPACE"," ",1023],["T_VARIABLE","$url",1023],["T_WHITESPACE"," ",1023],".",["T_WHITESPACE"," ",1023],["T_CONSTANT_ENCAPSED_STRING","'index.php?route=api\/order\/history&order_id='",1023],["T_WHITESPACE"," ",1023],".",["T_WHITESPACE"," ",1023],["T_VARIABLE","$order_id",1023],")",";",["T_WHITESPACE","\n\t\t\t",1023],["T_STRING","curl_setopt",1024],"(",["T_VARIABLE","$curl",1024],",",["T_WHITESPACE"," ",1024],["T_STRING","CURLOPT_POST",1024],",",["T_WHITESPACE"," ",1024],["T_STRING","true",1024],")",";",["T_WHITESPACE","\n\t\t\t",1024],["T_STRING","curl_setopt",1025],"(",["T_VARIABLE","$curl",1025],",",["T_WHITESPACE"," ",1025],["T_STRING","CURLOPT_POSTFIELDS",1025],",",["T_WHITESPACE"," ",1025],["T_STRING","http_build_query",1025],"(",["T_VARIABLE","$data",1025],")",")",";",["T_WHITESPACE","\n\t\t\t",1025],["T_STRING","curl_setopt",1026],"(",["T_VARIABLE","$curl",1026],",",["T_WHITESPACE"," ",1026],["T_STRING","CURLOPT_COOKIE",1026],",",["T_WHITESPACE"," ",1026],["T_STRING","session_name",1026],"(",")",["T_WHITESPACE"," ",1026],".",["T_WHITESPACE"," ",1026],["T_CONSTANT_ENCAPSED_STRING","'='",1026],["T_WHITESPACE"," ",1026],".",["T_WHITESPACE"," ",1026],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","session",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","data",1026],"[",["T_CONSTANT_ENCAPSED_STRING","'cookie'",1026],"]",["T_WHITESPACE"," ",1026],".",["T_WHITESPACE"," ",1026],["T_CONSTANT_ENCAPSED_STRING","';'",1026],")",";",["T_WHITESPACE","\n\n\t\t\t",1026],["T_VARIABLE","$json",1028],["T_WHITESPACE"," ",1028],"=",["T_WHITESPACE"," ",1028],["T_STRING","curl_exec",1028],"(",["T_VARIABLE","$curl",1028],")",";",["T_WHITESPACE","\n\n\t\t\t",1028],["T_STRING","curl_close",1030],"(",["T_VARIABLE","$curl",1030],")",";",["T_WHITESPACE","\n\t\t",1030],"}",["T_WHITESPACE","\n\n\t\t",1031],["T_RETURN","return",1033],["T_WHITESPACE"," ",1033],["T_VARIABLE","$json",1033],";",["T_WHITESPACE","\n\t",1033],"}",["T_WHITESPACE","\n",1034],"}"]