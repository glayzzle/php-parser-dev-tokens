[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionPaymentLaybuy",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addRevisedTransaction",3],"(",["T_VARIABLE","$data",3],["T_WHITESPACE"," ",3],"=",["T_WHITESPACE"," ",3],["T_ARRAY","array",3],"(",")",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$query",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` SET `laybuy_transaction_id` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `type` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `order_id` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `firstname` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `lastname` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `address` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `suburb` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'suburb'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `state` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'state'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `country` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `postcode` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `email` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `amount` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_DOUBLE_CAST","(float)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `currency` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `downpayment` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'downpayment'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `months` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `downpayment_amount` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_DOUBLE_CAST","(float)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'downpayment_amount'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_amounts` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_DOUBLE_CAST","(float)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_amounts'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `first_payment_due` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'first_payment_due'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `last_payment_due` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'last_payment_due'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `status` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `report` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'report'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `transaction` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `paypal_profile_id` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_profile_id'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `laybuy_ref_no` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'laybuy_ref_no'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_type` = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_type'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW()\"",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_RETURN","return",6],["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","getLastId",6],"(",")",";",["T_WHITESPACE","\n\t",6],"}",["T_WHITESPACE","\n\n\t",7],["T_PUBLIC","public",9],["T_WHITESPACE"," ",9],["T_FUNCTION","function",9],["T_WHITESPACE"," ",9],["T_STRING","getCustomerIdByOrderId",9],"(",["T_VARIABLE","$order_id",9],")",["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t\t",9],["T_VARIABLE","$query",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","query",10],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `customer_id` FROM `\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_STRING","DB_PREFIX",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"order` WHERE `order_id` = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$order_id",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"'\"",10],")",";",["T_WHITESPACE","\n\n\t\t",10],["T_IF","if",12],["T_WHITESPACE"," ",12],"(",["T_VARIABLE","$query",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","num_rows",12],")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_RETURN","return",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$query",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","row",13],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",13],"]",";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE"," ",14],["T_ELSE","else",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\t\t\t",14],["T_RETURN","return",15],["T_WHITESPACE"," ",15],["T_LNUMBER","0",15],";",["T_WHITESPACE","\n\t\t",15],"}",["T_WHITESPACE","\n\t",16],"}",["T_WHITESPACE","\n\n\t",17],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","getInitialPayments",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\t\t",19],["T_VARIABLE","$minimum",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","config",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","get",20],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_min_deposit'",20],")",["T_WHITESPACE"," ",20],"?",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","config",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","get",20],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_min_deposit'",20],")",["T_WHITESPACE"," ",20],":",["T_WHITESPACE"," ",20],["T_LNUMBER","20",20],";",["T_WHITESPACE","\n\n\t\t",20],["T_VARIABLE","$maximum",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","config",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_max_deposit'",22],")",["T_WHITESPACE"," ",22],"?",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","config",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_max_deposit'",22],")",["T_WHITESPACE"," ",22],":",["T_WHITESPACE"," ",22],["T_LNUMBER","50",22],";",["T_WHITESPACE","\n\n\t\t",22],["T_VARIABLE","$initial_payments",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",")",";",["T_WHITESPACE","\n\n\t\t",24],["T_FOR","for",26],["T_WHITESPACE"," ",26],"(",["T_VARIABLE","$i",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$minimum",26],";",["T_WHITESPACE"," ",26],["T_VARIABLE","$i",26],["T_WHITESPACE"," ",26],["T_IS_SMALLER_OR_EQUAL","<=",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$maximum",26],";",["T_WHITESPACE"," ",26],["T_VARIABLE","$i",26],["T_WHITESPACE"," ",26],["T_PLUS_EQUAL","+=",26],["T_WHITESPACE"," ",26],["T_LNUMBER","10",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t\t",26],["T_VARIABLE","$initial_payments",27],"[","]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$i",27],";",["T_WHITESPACE","\n\t\t",27],"}",["T_WHITESPACE","\n\n\t\t",28],["T_RETURN","return",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$initial_payments",30],";",["T_WHITESPACE","\n\t",30],"}",["T_WHITESPACE","\n\n\t",31],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","getMonths",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n\t\t",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","load",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","language",34],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/laybuy'",34],")",";",["T_WHITESPACE","\n\n\t\t",34],["T_VARIABLE","$max_months",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","config",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","get",36],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_max_months'",36],")",";",["T_WHITESPACE","\n\n\t\t",36],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_VARIABLE","$max_months",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t",38],["T_VARIABLE","$max_months",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","3",39],";",["T_WHITESPACE","\n\t\t",39],"}",["T_WHITESPACE","\n\n\t\t",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$max_months",42],["T_WHITESPACE"," ",42],"<",["T_WHITESPACE"," ",42],["T_LNUMBER","1",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t",42],["T_VARIABLE","$max_months",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],";",["T_WHITESPACE","\n\t\t",43],"}",["T_WHITESPACE","\n\n\t\t",44],["T_VARIABLE","$months",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",";",["T_WHITESPACE","\n\n\t\t",46],["T_FOR","for",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$i",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","1",48],";",["T_WHITESPACE"," ",48],["T_VARIABLE","$i",48],["T_WHITESPACE"," ",48],["T_IS_SMALLER_OR_EQUAL","<=",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$max_months",48],";",["T_WHITESPACE"," ",48],["T_VARIABLE","$i",48],["T_INC","++",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n\t\t\t",48],["T_VARIABLE","$months",49],"[","]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n\t\t\t\t",49],["T_CONSTANT_ENCAPSED_STRING","'value'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$i",50],",",["T_WHITESPACE","\n\t\t\t\t",50],["T_CONSTANT_ENCAPSED_STRING","'label'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$i",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","' '",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],"(","(",["T_VARIABLE","$i",51],["T_WHITESPACE"," ",51],">",["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],")",["T_WHITESPACE"," ",51],"?",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","language",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'text_months'",51],")",["T_WHITESPACE"," ",51],":",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","language",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'text_month'",51],")",")",["T_WHITESPACE","\n\t\t\t",51],")",";",["T_WHITESPACE","\n\t\t",52],"}",["T_WHITESPACE","\n\n\t\t",53],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$months",55],";",["T_WHITESPACE","\n\t",55],"}",["T_WHITESPACE","\n\n\t",56],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","getPayPalProfileIds",58],"(",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n\t\t",58],["T_VARIABLE","$query",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","db",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","query",59],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `paypal_profile_id` FROM `\"",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_STRING","DB_PREFIX",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `status` = '1'\"",59],")",";",["T_WHITESPACE","\n\n\t\t",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$query",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","rows",61],";",["T_WHITESPACE","\n\t",61],"}",["T_WHITESPACE","\n\n\t",62],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","getRevisedTransaction",64],"(",["T_VARIABLE","$id",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t",64],["T_VARIABLE","$query",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","db",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","query",65],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_STRING","DB_PREFIX",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` WHERE `laybuy_revise_request_id` = '\"",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_INT_CAST","(int)",65],["T_VARIABLE","$id",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\"'\"",65],")",";",["T_WHITESPACE","\n\n\t\t",65],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$query",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","row",67],";",["T_WHITESPACE","\n\t",67],"}",["T_WHITESPACE","\n\n\t",68],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","getRemainingAmount",70],"(",["T_VARIABLE","$amount",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$downpayment_amount",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$payment_amounts",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$transaction",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_LNUMBER","2",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$amount",71],["T_WHITESPACE"," ",71],"-",["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$downpayment_amount",71],["T_WHITESPACE"," ",71],"+",["T_WHITESPACE"," ",71],"(","(",["T_INT_CAST","(int)",71],["T_VARIABLE","$transaction",71],["T_WHITESPACE"," ",71],"-",["T_WHITESPACE"," ",71],["T_LNUMBER","2",71],")",["T_WHITESPACE"," ",71],"*",["T_WHITESPACE"," ",71],["T_VARIABLE","$payment_amounts",71],")",")",";",["T_WHITESPACE","\n\t",71],"}",["T_WHITESPACE","\n\n\t",72],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getRevisedTransactions",74],"(",["T_VARIABLE","$id",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t",74],["T_VARIABLE","$query",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","db",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","query",75],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_STRING","DB_PREFIX",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` WHERE `laybuy_revise_request_id` = '\"",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_INT_CAST","(int)",75],["T_VARIABLE","$id",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"'\"",75],")",";",["T_WHITESPACE","\n\n\t\t",75],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$query",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","rows",77],";",["T_WHITESPACE","\n\t",77],"}",["T_WHITESPACE","\n\n\t",78],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getStatusLabel",80],"(",["T_VARIABLE","$id",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t",80],["T_VARIABLE","$statuses",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getTransactionStatuses",81],"(",")",";",["T_WHITESPACE","\n\n\t\t",81],["T_FOREACH","foreach",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$statuses",83],["T_WHITESPACE"," ",83],["T_AS","as",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$status",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$status",84],"[",["T_CONSTANT_ENCAPSED_STRING","'status_id'",84],"]",["T_WHITESPACE"," ",84],["T_IS_EQUAL","==",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$id",84],["T_WHITESPACE"," ",84],["T_BOOLEAN_AND","&&",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$status",84],"[",["T_CONSTANT_ENCAPSED_STRING","'status_name'",84],"]",["T_WHITESPACE"," ",84],["T_IS_NOT_EQUAL","!=",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","''",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t\t",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$status",85],"[",["T_CONSTANT_ENCAPSED_STRING","'status_name'",85],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",85],["T_BREAK","break",87],";",["T_WHITESPACE","\n\t\t\t",87],"}",["T_WHITESPACE","\n\t\t",88],"}",["T_WHITESPACE","\n\n\t\t",89],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$id",91],";",["T_WHITESPACE","\n\t",91],"}",["T_WHITESPACE","\n\n\t",92],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","getTransaction",94],"(",["T_VARIABLE","$id",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n\t\t",94],["T_VARIABLE","$query",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","db",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","query",95],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_STRING","DB_PREFIX",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `laybuy_transaction_id` = '\"",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_INT_CAST","(int)",95],["T_VARIABLE","$id",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","\"'\"",95],")",";",["T_WHITESPACE","\n\n\t\t",95],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$query",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","row",97],";",["T_WHITESPACE","\n\t",97],"}",["T_WHITESPACE","\n\n\t",98],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getTransactions",100],"(",["T_VARIABLE","$data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t",100],["T_VARIABLE","$sql",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\"SELECT *, CONCAT(firstname, ' ', lastname) AS `customer` FROM `\"",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_STRING","DB_PREFIX",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` `lt` WHERE 1 = 1\"",101],";",["T_WHITESPACE","\n\n\t\t",101],["T_VARIABLE","$implode",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n\n\t\t",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_EMPTY","empty",105],"(",["T_VARIABLE","$data",105],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_id'",105],"]",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t",105],["T_VARIABLE","$implode",106],"[","]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`order_id` = '\"",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_INT_CAST","(int)",106],["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_id'",106],"]",["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","\"'\"",106],";",["T_WHITESPACE","\n\t\t",106],"}",["T_WHITESPACE","\n\n\t\t",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_EMPTY","empty",109],"(",["T_VARIABLE","$data",109],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n\t\t\t",109],["T_VARIABLE","$implode",110],"[","]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"CONCAT(firstname, ' ', lastname) LIKE '%\"",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","db",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","escape",110],"(",["T_VARIABLE","$data",110],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer'",110],"]",")",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",110],";",["T_WHITESPACE","\n\t\t",110],"}",["T_WHITESPACE","\n\n\t\t",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(","!",["T_EMPTY","empty",113],"(",["T_VARIABLE","$data",113],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_dp_percent'",113],"]",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n\t\t\t",113],["T_VARIABLE","$implode",114],"[","]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`downpayment` = '\"",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_INT_CAST","(int)",114],["T_VARIABLE","$data",114],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_dp_percent'",114],"]",["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"'\"",114],";",["T_WHITESPACE","\n\t\t",114],"}",["T_WHITESPACE","\n\n\t\t",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(","!",["T_EMPTY","empty",117],"(",["T_VARIABLE","$data",117],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_months'",117],"]",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n\t\t\t",117],["T_VARIABLE","$implode",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`months` = '\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_INT_CAST","(int)",118],["T_VARIABLE","$data",118],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_months'",118],"]",["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"'\"",118],";",["T_WHITESPACE","\n\t\t",118],"}",["T_WHITESPACE","\n\n\t\t",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_EMPTY","empty",121],"(",["T_VARIABLE","$data",121],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",121],"]",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n\t\t\t",121],["T_VARIABLE","$implode",122],"[","]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`status` = '\"",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_INT_CAST","(int)",122],["T_VARIABLE","$data",122],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",122],"]",["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"'\"",122],";",["T_WHITESPACE","\n\t\t",122],"}",["T_WHITESPACE","\n\n\t\t",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!",["T_EMPTY","empty",125],"(",["T_VARIABLE","$data",125],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",125],"]",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n\t\t\t",125],["T_VARIABLE","$implode",126],"[","]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","\"DATE(`lt`.`date_added`) = DATE('\"",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","db",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","escape",126],"(",["T_VARIABLE","$data",126],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",126],"]",")",["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","\"')\"",126],";",["T_WHITESPACE","\n\t\t",126],"}",["T_WHITESPACE","\n\n\t\t",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$implode",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n\t\t\t",129],["T_VARIABLE","$sql",130],["T_WHITESPACE"," ",130],["T_CONCAT_EQUAL",".=",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\" AND \"",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_STRING","implode",130],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$implode",130],")",";",["T_WHITESPACE","\n\t\t",130],"}",["T_WHITESPACE","\n\n\t\t",131],["T_VARIABLE","$sort_data",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_WHITESPACE","\n\t\t\t",133],["T_CONSTANT_ENCAPSED_STRING","'lt.order_id'",134],",",["T_WHITESPACE","\n\t\t\t",134],["T_CONSTANT_ENCAPSED_STRING","'customer'",135],",",["T_WHITESPACE","\n\t\t\t",135],["T_CONSTANT_ENCAPSED_STRING","'lt.amount'",136],",",["T_WHITESPACE","\n\t\t\t",136],["T_CONSTANT_ENCAPSED_STRING","'lt.downpayment'",137],",",["T_WHITESPACE","\n\t\t\t",137],["T_CONSTANT_ENCAPSED_STRING","'lt.months'",138],",",["T_WHITESPACE","\n\t\t\t",138],["T_CONSTANT_ENCAPSED_STRING","'lt.downpayment_amount'",139],",",["T_WHITESPACE","\n\t\t\t",139],["T_CONSTANT_ENCAPSED_STRING","'lt.first_payment_due'",140],",",["T_WHITESPACE","\n\t\t\t",140],["T_CONSTANT_ENCAPSED_STRING","'lt.last_payment_due'",141],",",["T_WHITESPACE","\n\t\t\t",141],["T_CONSTANT_ENCAPSED_STRING","'lt.status'",142],",",["T_WHITESPACE","\n\t\t\t",142],["T_CONSTANT_ENCAPSED_STRING","'lt.date_added'",143],["T_WHITESPACE","\n\t\t",143],")",";",["T_WHITESPACE","\n\n\t\t",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_ISSET","isset",146],"(",["T_VARIABLE","$data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",146],"]",")",["T_WHITESPACE"," ",146],["T_BOOLEAN_AND","&&",146],["T_WHITESPACE"," ",146],["T_STRING","in_array",146],"(",["T_VARIABLE","$data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",146],"]",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$sort_data",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n\t\t\t",146],["T_VARIABLE","$sql",147],["T_WHITESPACE"," ",147],["T_CONCAT_EQUAL",".=",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$data",147],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",147],"]",";",["T_WHITESPACE","\n\t\t",147],"}",["T_WHITESPACE"," ",148],["T_ELSE","else",148],["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\t\t\t",148],["T_VARIABLE","$sql",149],["T_WHITESPACE"," ",149],["T_CONCAT_EQUAL",".=",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY order_id\"",149],";",["T_WHITESPACE","\n\t\t",149],"}",["T_WHITESPACE","\n\n\t\t",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_ISSET","isset",152],"(",["T_VARIABLE","$data",152],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",152],"]",")",["T_WHITESPACE"," ",152],["T_BOOLEAN_AND","&&",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$data",152],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",152],"]",["T_WHITESPACE"," ",152],["T_IS_EQUAL","==",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'DESC'",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t",152],["T_VARIABLE","$sql",153],["T_WHITESPACE"," ",153],["T_CONCAT_EQUAL",".=",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","\" DESC\"",153],";",["T_WHITESPACE","\n\t\t",153],"}",["T_WHITESPACE"," ",154],["T_ELSE","else",154],["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n\t\t\t",154],["T_VARIABLE","$sql",155],["T_WHITESPACE"," ",155],["T_CONCAT_EQUAL",".=",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","\" ASC\"",155],";",["T_WHITESPACE","\n\t\t",155],"}",["T_WHITESPACE","\n\n\t\t",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_ISSET","isset",158],"(",["T_VARIABLE","$data",158],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",158],"]",")",["T_WHITESPACE"," ",158],["T_BOOLEAN_AND","&&",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$data",158],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",158],"]",["T_WHITESPACE"," ",158],["T_IS_NOT_EQUAL","!=",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'lt.date_added'",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n\t\t\t",158],["T_VARIABLE","$sql",159],["T_WHITESPACE"," ",159],["T_CONCAT_EQUAL",".=",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","\", lt.date_added DESC\"",159],";",["T_WHITESPACE","\n\t\t",159],"}",["T_WHITESPACE","\n\n\t\t",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_ISSET","isset",162],"(",["T_VARIABLE","$data",162],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",162],"]",")",["T_WHITESPACE"," ",162],["T_BOOLEAN_OR","||",162],["T_WHITESPACE"," ",162],["T_ISSET","isset",162],"(",["T_VARIABLE","$data",162],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",162],"]",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n\t\t\t",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$data",163],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",163],"]",["T_WHITESPACE"," ",163],"<",["T_WHITESPACE"," ",163],["T_LNUMBER","0",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n\t\t\t\t",163],["T_VARIABLE","$data",164],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_LNUMBER","0",164],";",["T_WHITESPACE","\n\t\t\t",164],"}",["T_WHITESPACE","\n\n\t\t\t",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$data",167],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",167],"]",["T_WHITESPACE"," ",167],"<",["T_WHITESPACE"," ",167],["T_LNUMBER","1",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n\t\t\t\t",167],["T_VARIABLE","$data",168],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_LNUMBER","20",168],";",["T_WHITESPACE","\n\t\t\t",168],"}",["T_WHITESPACE","\n\n\t\t\t",169],["T_VARIABLE","$sql",171],["T_WHITESPACE"," ",171],["T_CONCAT_EQUAL",".=",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_INT_CAST","(int)",171],["T_VARIABLE","$data",171],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",171],"]",["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","\",\"",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_INT_CAST","(int)",171],["T_VARIABLE","$data",171],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",171],"]",";",["T_WHITESPACE","\n\t\t",171],"}",["T_WHITESPACE","\n\n\t\t",172],["T_VARIABLE","$query",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","db",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","query",174],"(",["T_VARIABLE","$sql",174],")",";",["T_WHITESPACE","\n\n\t\t",174],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$query",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","rows",176],";",["T_WHITESPACE","\n\t",176],"}",["T_WHITESPACE","\n\n\t",177],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","getTotalTransactions",179],"(",["T_VARIABLE","$data",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n\t\t",179],["T_VARIABLE","$sql",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS `total` FROM `\"",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_STRING","DB_PREFIX",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` `lt` WHERE 1 = 1\"",180],";",["T_WHITESPACE","\n\n\t\t",180],["T_VARIABLE","$implode",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",")",";",["T_WHITESPACE","\n\n\t\t",182],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","!",["T_EMPTY","empty",184],"(",["T_VARIABLE","$data",184],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_id'",184],"]",")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n\t\t\t",184],["T_VARIABLE","$implode",185],"[","]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`order_id` = '\"",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_INT_CAST","(int)",185],["T_VARIABLE","$data",185],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_id'",185],"]",["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","\"'\"",185],";",["T_WHITESPACE","\n\t\t",185],"}",["T_WHITESPACE","\n\n\t\t",186],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_EMPTY","empty",188],"(",["T_VARIABLE","$data",188],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer'",188],"]",")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n\t\t\t",188],["T_VARIABLE","$implode",189],"[","]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","\"CONCAT(firstname, ' ', lastname) LIKE '%\"",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","db",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","escape",189],"(",["T_VARIABLE","$data",189],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer'",189],"]",")",["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",189],";",["T_WHITESPACE","\n\t\t",189],"}",["T_WHITESPACE","\n\n\t\t",190],["T_IF","if",192],["T_WHITESPACE"," ",192],"(","!",["T_EMPTY","empty",192],"(",["T_VARIABLE","$data",192],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_dp_percent'",192],"]",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n\t\t\t",192],["T_VARIABLE","$implode",193],"[","]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`downpayment` = '\"",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_INT_CAST","(int)",193],["T_VARIABLE","$data",193],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_dp_percent'",193],"]",["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\"'\"",193],";",["T_WHITESPACE","\n\t\t",193],"}",["T_WHITESPACE","\n\n\t\t",194],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","!",["T_EMPTY","empty",196],"(",["T_VARIABLE","$data",196],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_months'",196],"]",")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n\t\t\t",196],["T_VARIABLE","$implode",197],"[","]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`months` = '\"",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_INT_CAST","(int)",197],["T_VARIABLE","$data",197],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_months'",197],"]",["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","\"'\"",197],";",["T_WHITESPACE","\n\t\t",197],"}",["T_WHITESPACE","\n\n\t\t",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","!",["T_EMPTY","empty",200],"(",["T_VARIABLE","$data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n\t\t\t",200],["T_VARIABLE","$implode",201],"[","]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"`lt`.`status` = '\"",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_INT_CAST","(int)",201],["T_VARIABLE","$data",201],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",201],"]",["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"'\"",201],";",["T_WHITESPACE","\n\t\t",201],"}",["T_WHITESPACE","\n\n\t\t",202],["T_IF","if",204],["T_WHITESPACE"," ",204],"(","!",["T_EMPTY","empty",204],"(",["T_VARIABLE","$data",204],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",204],"]",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t\t\t",204],["T_VARIABLE","$implode",205],"[","]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","\"DATE(`lt`.`date_added`) = DATE('\"",205],["T_WHITESPACE"," ",205],".",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","db",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","escape",205],"(",["T_VARIABLE","$data",205],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",205],"]",")",["T_WHITESPACE"," ",205],".",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","\"')\"",205],";",["T_WHITESPACE","\n\t\t",205],"}",["T_WHITESPACE","\n\n\t\t",206],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$implode",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n\t\t\t",208],["T_VARIABLE","$sql",209],["T_WHITESPACE"," ",209],["T_CONCAT_EQUAL",".=",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\" AND \"",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_STRING","implode",209],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$implode",209],")",";",["T_WHITESPACE","\n\t\t",209],"}",["T_WHITESPACE","\n\n\t\t",210],["T_VARIABLE","$query",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","db",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","query",212],"(",["T_VARIABLE","$sql",212],")",";",["T_WHITESPACE","\n\n\t\t",212],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$query",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","row",214],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",214],"]",";",["T_WHITESPACE","\n\t",214],"}",["T_WHITESPACE","\n\n\t",215],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","getTransactionByLayBuyRefId",217],"(",["T_VARIABLE","$laybuy_ref_id",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n\t\t",217],["T_VARIABLE","$query",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","db",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","query",218],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_STRING","DB_PREFIX",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `laybuy_ref_no` = '\"",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_INT_CAST","(int)",218],["T_VARIABLE","$laybuy_ref_id",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"'\"",218],")",";",["T_WHITESPACE","\n\n\t\t",218],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$query",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","row",220],";",["T_WHITESPACE","\n\t",220],"}",["T_WHITESPACE","\n\n\t",221],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","getTransactionByOrderId",223],"(",["T_VARIABLE","$order_id",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n\t\t",223],["T_VARIABLE","$query",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","db",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","query",224],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_STRING","DB_PREFIX",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `order_id` = '\"",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_INT_CAST","(int)",224],["T_VARIABLE","$order_id",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY `laybuy_ref_no` DESC LIMIT 1\"",224],")",";",["T_WHITESPACE","\n\n\t\t",224],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$query",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","row",226],";",["T_WHITESPACE","\n\t",226],"}",["T_WHITESPACE","\n\n\t",227],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","getTransactionStatuses",229],"(",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n\t\t",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","load",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","language",230],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/laybuy'",230],")",";",["T_WHITESPACE","\n\n\t\t",230],["T_VARIABLE","$transaction_statuses",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",["T_WHITESPACE","\n\t\t\t",232],["T_ARRAY","array",233],"(",["T_WHITESPACE","\n\t\t\t\t",233],["T_CONSTANT_ENCAPSED_STRING","'status_id'",234],["T_WHITESPACE","\t\t",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_LNUMBER","1",234],",",["T_WHITESPACE","\n\t\t\t\t",234],["T_CONSTANT_ENCAPSED_STRING","'status_name'",235],["T_WHITESPACE","\t",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","language",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","get",235],"(",["T_CONSTANT_ENCAPSED_STRING","'text_status_1'",235],")",["T_WHITESPACE","\n\t\t\t",235],")",",",["T_WHITESPACE","\n\t\t\t",236],["T_ARRAY","array",237],"(",["T_WHITESPACE","\n\t\t\t\t",237],["T_CONSTANT_ENCAPSED_STRING","'status_id'",238],["T_WHITESPACE","\t\t",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_LNUMBER","5",238],",",["T_WHITESPACE","\n\t\t\t\t",238],["T_CONSTANT_ENCAPSED_STRING","'status_name'",239],["T_WHITESPACE","\t",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","language",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","get",239],"(",["T_CONSTANT_ENCAPSED_STRING","'text_status_5'",239],")",["T_WHITESPACE","\n\t\t\t",239],")",",",["T_WHITESPACE","\n\t\t\t",240],["T_ARRAY","array",241],"(",["T_WHITESPACE","\n\t\t\t\t",241],["T_CONSTANT_ENCAPSED_STRING","'status_id'",242],["T_WHITESPACE","\t\t",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_LNUMBER","7",242],",",["T_WHITESPACE","\n\t\t\t\t",242],["T_CONSTANT_ENCAPSED_STRING","'status_name'",243],["T_WHITESPACE","\t",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","language",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","get",243],"(",["T_CONSTANT_ENCAPSED_STRING","'text_status_7'",243],")",["T_WHITESPACE","\n\t\t\t",243],")",",",["T_WHITESPACE","\n\t\t\t",244],["T_ARRAY","array",245],"(",["T_WHITESPACE","\n\t\t\t\t",245],["T_CONSTANT_ENCAPSED_STRING","'status_id'",246],["T_WHITESPACE","\t\t",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_LNUMBER","50",246],",",["T_WHITESPACE","\n\t\t\t\t",246],["T_CONSTANT_ENCAPSED_STRING","'status_name'",247],["T_WHITESPACE","\t",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","language",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","get",247],"(",["T_CONSTANT_ENCAPSED_STRING","'text_status_50'",247],")",["T_WHITESPACE","\n\t\t\t",247],")",",",["T_WHITESPACE","\n\t\t\t",248],["T_ARRAY","array",249],"(",["T_WHITESPACE","\n\t\t\t\t",249],["T_CONSTANT_ENCAPSED_STRING","'status_id'",250],["T_WHITESPACE","\t\t",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_LNUMBER","51",250],",",["T_WHITESPACE","\n\t\t\t\t",250],["T_CONSTANT_ENCAPSED_STRING","'status_name'",251],["T_WHITESPACE","\t",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","language",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","get",251],"(",["T_CONSTANT_ENCAPSED_STRING","'text_status_51'",251],")",["T_WHITESPACE","\n\t\t\t",251],")",["T_WHITESPACE","\n\t\t",252],")",";",["T_WHITESPACE","\n\n\t\t",253],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$transaction_statuses",255],";",["T_WHITESPACE","\n\t",255],"}",["T_WHITESPACE","\n\n\t",256],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","install",258],"(",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\t\t",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","db",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","query",259],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE TABLE IF NOT EXISTS `\"",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_STRING","DB_PREFIX",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` (\n\t\t\t`laybuy_transaction_id` int(11) NOT NULL AUTO_INCREMENT,\n\t\t\t`order_id` int(11) NOT NULL DEFAULT '0',\n\t\t\t`firstname` varchar(32) NOT NULL DEFAULT '',\n\t\t\t`lastname` varchar(32) NOT NULL DEFAULT '',\n\t\t\t`address` text,\n\t\t\t`suburb` varchar(128) NOT NULL DEFAULT '',\n\t\t\t`state` varchar(128) NOT NULL DEFAULT '',\n\t\t\t`country` varchar(32) NOT NULL DEFAULT '',\n\t\t\t`postcode` varchar(10) NOT NULL DEFAULT '',\n\t\t\t`email` varchar(96) NOT NULL DEFAULT '',\n\t\t\t`amount` double NOT NULL,\n\t\t\t`currency` varchar(5) NOT NULL,\n\t\t\t`downpayment` double NOT NULL,\n\t\t\t`months` int(11) NOT NULL,\n\t\t\t`downpayment_amount` double NOT NULL,\n\t\t\t`payment_amounts` double NOT NULL,\n\t\t\t`first_payment_due` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n\t\t\t`last_payment_due` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n\t\t\t`store_id` int(11) NOT NULL DEFAULT '0',\n\t\t\t`status` int(11) NOT NULL DEFAULT '1',\n\t\t\t`report` text,\n\t\t\t`transaction` int(11) NOT NULL DEFAULT '2',\n\t\t\t`paypal_profile_id` varchar(250) NOT NULL DEFAULT '',\n\t\t\t`laybuy_ref_no` int(11) NOT NULL DEFAULT '0',\n\t\t\t`date_added` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n\t\t\tPRIMARY KEY (`laybuy_transaction_id`)\n\t\t) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci\"",259],")",";",["T_WHITESPACE","\n\n\t\t",286],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","db",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","query",288],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE TABLE IF NOT EXISTS `\"",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_STRING","DB_PREFIX",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` (\n\t\t\t`laybuy_revise_request_id` int(11) NOT NULL AUTO_INCREMENT,\n\t\t\t`laybuy_transaction_id` int(11) DEFAULT '0',\n\t\t\t`type` varchar(250) NOT NULL DEFAULT '',\n\t\t\t`order_id` int(11) NOT NULL DEFAULT '0',\n\t\t\t`firstname` varchar(32) NOT NULL DEFAULT '',\n\t\t\t`lastname` varchar(32) NOT NULL DEFAULT '',\n\t\t\t`address` text,\n\t\t\t`suburb` varchar(128) NOT NULL DEFAULT '',\n\t\t\t`state` varchar(128) NOT NULL DEFAULT '',\n\t\t\t`country` varchar(32) NOT NULL DEFAULT '',\n\t\t\t`postcode` varchar(10) NOT NULL DEFAULT '',\n\t\t\t`email` varchar(96) NOT NULL DEFAULT '',\n\t\t\t`amount` double NOT NULL,\n\t\t\t`currency` varchar(5) NOT NULL,\n\t\t\t`downpayment` double NOT NULL,\n\t\t\t`months` int(11) NOT NULL,\n\t\t\t`downpayment_amount` double NOT NULL,\n\t\t\t`payment_amounts` double NOT NULL,\n\t\t\t`first_payment_due` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n\t\t\t`last_payment_due` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n\t\t\t`store_id` int(11) NOT NULL DEFAULT '0',\n\t\t\t`status` int(11) NOT NULL DEFAULT '1',\n\t\t\t`report` text,\n\t\t\t`transaction` int(11) NOT NULL DEFAULT '2',\n\t\t\t`paypal_profile_id` varchar(250) NOT NULL DEFAULT '',\n\t\t\t`laybuy_ref_no` int(11) NOT NULL DEFAULT '0',\n\t\t\t`payment_type` tinyint(1) NOT NULL DEFAULT '1',\n\t\t\t`date_added` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n\t\t\tPRIMARY KEY (`laybuy_revise_request_id`)\n\t\t) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci\"",288],")",";",["T_WHITESPACE","\n\n\t\t",318],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","load",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","model",320],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/event'",320],")",";",["T_WHITESPACE","\n\n\t\t",320],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","model_extension_event",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","addEvent",322],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy'",322],",",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'catalog\/model\/checkout\/order\/deleteOrder\/after'",322],",",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/laybuy\/deleteOrder'",322],")",";",["T_WHITESPACE","\n\t",322],"}",["T_WHITESPACE","\n\n\t",323],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","log",325],"(",["T_VARIABLE","$data",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$step",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_LNUMBER","6",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n\t\t",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","config",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","get",326],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_logging'",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n\t\t\t",326],["T_VARIABLE","$backtrace",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","debug_backtrace",327],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",327],["T_VARIABLE","$log",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_NEW","new",329],["T_WHITESPACE"," ",329],["T_STRING","Log",329],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy.log'",329],")",";",["T_WHITESPACE","\n\n\t\t\t",329],["T_VARIABLE","$log",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","write",331],"(",["T_CONSTANT_ENCAPSED_STRING","'('",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$backtrace",331],"[",["T_VARIABLE","$step",331],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",331],"]",["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'::'",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$backtrace",331],"[",["T_VARIABLE","$step",331],"]","[",["T_CONSTANT_ENCAPSED_STRING","'function'",331],"]",["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","') - '",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$data",331],")",";",["T_WHITESPACE","\n\t\t",331],"}",["T_WHITESPACE","\n\t",332],"}",["T_WHITESPACE","\n\n\t",333],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","uninstall",335],"(",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n\t\t",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","db",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","query",336],"(",["T_CONSTANT_ENCAPSED_STRING","\"DROP TABLE IF EXISTS `\"",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_STRING","DB_PREFIX",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction`\"",336],")",";",["T_WHITESPACE","\n\n\t\t",336],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","db",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","query",338],"(",["T_CONSTANT_ENCAPSED_STRING","\"DROP TABLE IF EXISTS `\"",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_STRING","DB_PREFIX",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request`\"",338],")",";",["T_WHITESPACE","\n\n\t\t",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","load",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","model",340],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/event'",340],")",";",["T_WHITESPACE","\n\n\t\t",340],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","model_extension_event",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","deleteEvent",342],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy'",342],")",";",["T_WHITESPACE","\n\t",342],"}",["T_WHITESPACE","\n\n\t",343],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","updateOrderStatus",345],"(",["T_VARIABLE","$order_id",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$order_status_id",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$comment",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n\t\t",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","db",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","query",346],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_STRING","DB_PREFIX",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","\"order` SET `order_status_id` = '\"",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_INT_CAST","(int)",346],["T_VARIABLE","$order_status_id",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","\"', `date_modified` = NOW() WHERE `order_id` = '\"",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_INT_CAST","(int)",346],["T_VARIABLE","$order_id",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","\"'\"",346],")",";",["T_WHITESPACE","\n\n\t\t",346],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","db",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","query",348],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_STRING","DB_PREFIX",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","\"order_history` SET `order_id` = '\"",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_INT_CAST","(int)",348],["T_VARIABLE","$order_id",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","\"', `order_status_id` = '\"",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_INT_CAST","(int)",348],["T_VARIABLE","$order_status_id",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","\"', `notify` = '0', `comment` = '\"",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","db",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","escape",348],"(",["T_VARIABLE","$comment",348],")",["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW()\"",348],")",";",["T_WHITESPACE","\n\t",348],"}",["T_WHITESPACE","\n\n\t",349],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","updateRevisedTransaction",351],"(",["T_VARIABLE","$id",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$data",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_ARRAY","array",351],"(",")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n\t\t",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","query",352],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_STRING","DB_PREFIX",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` SET `laybuy_transaction_id` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `type` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `order_id` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `firstname` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `lastname` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `address` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `suburb` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'suburb'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `state` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'state'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `country` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `postcode` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `email` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `amount` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_DOUBLE_CAST","(float)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `currency` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `downpayment` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'downpayment'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `months` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `downpayment_amount` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_DOUBLE_CAST","(float)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'downpayment_amount'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_amounts` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_DOUBLE_CAST","(float)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_amounts'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `first_payment_due` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'first_payment_due'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `last_payment_due` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'last_payment_due'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `status` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `report` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'report'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `transaction` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `paypal_profile_id` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","db",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","escape",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_profile_id'",352],"]",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `laybuy_ref_no` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'laybuy_ref_no'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_type` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_type'",352],"]",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW() WHERE `laybuy_revise_request_id` = '\"",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$id",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"'\"",352],")",";",["T_WHITESPACE","\n\t",352],"}",["T_WHITESPACE","\n\n\t",353],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","updateTransaction",355],"(",["T_VARIABLE","$id",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$status",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$report",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$transaction",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n\t\t",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","db",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","query",356],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_STRING","DB_PREFIX",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` SET `status` = '\"",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_INT_CAST","(int)",356],["T_VARIABLE","$status",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","\"', `report` = '\"",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","db",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","escape",356],"(",["T_VARIABLE","$report",356],")",["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","\"', `transaction` = '\"",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_INT_CAST","(int)",356],["T_VARIABLE","$transaction",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE `laybuy_transaction_id` = '\"",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_INT_CAST","(int)",356],["T_VARIABLE","$id",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","\"'\"",356],")",";",["T_WHITESPACE","\n\t",356],"}",["T_WHITESPACE","\n\n\t",357],["T_PUBLIC","public",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","updateTransactionStatus",359],"(",["T_VARIABLE","$id",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$status",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n\t\t",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","db",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","query",360],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_STRING","DB_PREFIX",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` SET `status` = '\"",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_INT_CAST","(int)",360],["T_VARIABLE","$status",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE `laybuy_transaction_id` = '\"",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_INT_CAST","(int)",360],["T_VARIABLE","$id",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","\"'\"",360],")",";",["T_WHITESPACE","\n\t",360],"}",["T_WHITESPACE","\n",361],"}"]