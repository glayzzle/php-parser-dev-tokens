[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelReportMarketing",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getMarketing",3],"(",["T_VARIABLE","$data",3],["T_WHITESPACE"," ",3],"=",["T_WHITESPACE"," ",3],["T_ARRAY","array",3],"(",")",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$sql",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"SELECT m.marketing_id, m.name AS campaign, m.code, m.clicks AS clicks, (SELECT COUNT(DISTINCT order_id) FROM `\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"order` o1 WHERE o1.marketing_id = m.marketing_id\"",4],";",["T_WHITESPACE","\n\n\t\t",4],["T_IF","if",6],["T_WHITESPACE"," ",6],"(","!",["T_EMPTY","empty",6],"(",["T_VARIABLE","$data",6],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_status_id'",6],"]",")",")",["T_WHITESPACE"," ",6],"{",["T_WHITESPACE","\n\t\t\t",6],["T_VARIABLE","$sql",7],["T_WHITESPACE"," ",7],["T_CONCAT_EQUAL",".=",7],["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","\" AND o1.order_status_id = '\"",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_INT_CAST","(int)",7],["T_VARIABLE","$data",7],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_status_id'",7],"]",["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","\"'\"",7],";",["T_WHITESPACE","\n\t\t",7],"}",["T_WHITESPACE"," ",8],["T_ELSE","else",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$sql",9],["T_WHITESPACE"," ",9],["T_CONCAT_EQUAL",".=",9],["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","\" AND o1.order_status_id > '0'\"",9],";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE","\n\n\t\t",10],["T_IF","if",12],["T_WHITESPACE"," ",12],"(","!",["T_EMPTY","empty",12],"(",["T_VARIABLE","$data",12],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",12],"]",")",")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$sql",13],["T_WHITESPACE"," ",13],["T_CONCAT_EQUAL",".=",13],["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(o1.date_added) >= '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$data",13],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",13],"]",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"'\"",13],";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE","\n\n\t\t",14],["T_IF","if",16],["T_WHITESPACE"," ",16],"(","!",["T_EMPTY","empty",16],"(",["T_VARIABLE","$data",16],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",16],"]",")",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t\t",16],["T_VARIABLE","$sql",17],["T_WHITESPACE"," ",17],["T_CONCAT_EQUAL",".=",17],["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(o1.date_added) <= '\"",17],["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","db",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","escape",17],"(",["T_VARIABLE","$data",17],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",17],"]",")",["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","\"'\"",17],";",["T_WHITESPACE","\n\t\t",17],"}",["T_WHITESPACE","\n\n\t\t",18],["T_VARIABLE","$sql",20],["T_WHITESPACE"," ",20],["T_CONCAT_EQUAL",".=",20],["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\") AS `orders`, (SELECT SUM(total) FROM `\"",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_STRING","DB_PREFIX",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\"order` o2 WHERE o2.marketing_id = m.marketing_id\"",20],";",["T_WHITESPACE","\n\n\t\t",20],["T_IF","if",22],["T_WHITESPACE"," ",22],"(","!",["T_EMPTY","empty",22],"(",["T_VARIABLE","$data",22],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_status_id'",22],"]",")",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\t\t\t",22],["T_VARIABLE","$sql",23],["T_WHITESPACE"," ",23],["T_CONCAT_EQUAL",".=",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\" AND o2.order_status_id = '\"",23],["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_INT_CAST","(int)",23],["T_VARIABLE","$data",23],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_order_status_id'",23],"]",["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\"'\"",23],";",["T_WHITESPACE","\n\t\t",23],"}",["T_WHITESPACE"," ",24],["T_ELSE","else",24],["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\t\t\t",24],["T_VARIABLE","$sql",25],["T_WHITESPACE"," ",25],["T_CONCAT_EQUAL",".=",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","\" AND o2.order_status_id > '0'\"",25],";",["T_WHITESPACE","\n\t\t",25],"}",["T_WHITESPACE","\n\n\t\t",26],["T_IF","if",28],["T_WHITESPACE"," ",28],"(","!",["T_EMPTY","empty",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",28],"]",")",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\t\t\t",28],["T_VARIABLE","$sql",29],["T_WHITESPACE"," ",29],["T_CONCAT_EQUAL",".=",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(o2.date_added) >= '\"",29],["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","db",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","escape",29],"(",["T_VARIABLE","$data",29],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",29],"]",")",["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","\"'\"",29],";",["T_WHITESPACE","\n\t\t",29],"}",["T_WHITESPACE","\n\n\t\t",30],["T_IF","if",32],["T_WHITESPACE"," ",32],"(","!",["T_EMPTY","empty",32],"(",["T_VARIABLE","$data",32],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",32],"]",")",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t",32],["T_VARIABLE","$sql",33],["T_WHITESPACE"," ",33],["T_CONCAT_EQUAL",".=",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(o2.date_added) <= '\"",33],["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","db",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","escape",33],"(",["T_VARIABLE","$data",33],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",33],"]",")",["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","\"'\"",33],";",["T_WHITESPACE","\n\t\t",33],"}",["T_WHITESPACE","\n\n\t\t",34],["T_VARIABLE","$sql",36],["T_WHITESPACE"," ",36],["T_CONCAT_EQUAL",".=",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY o2.marketing_id) AS `total` FROM `\"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_STRING","DB_PREFIX",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"marketing` m ORDER BY m.date_added ASC\"",36],";",["T_WHITESPACE","\n\n\t\t",36],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_ISSET","isset",38],"(",["T_VARIABLE","$data",38],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",38],"]",")",["T_WHITESPACE"," ",38],["T_BOOLEAN_OR","||",38],["T_WHITESPACE"," ",38],["T_ISSET","isset",38],"(",["T_VARIABLE","$data",38],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",38],"]",")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t",38],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",39],"]",["T_WHITESPACE"," ",39],"<",["T_WHITESPACE"," ",39],["T_LNUMBER","0",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n\t\t\t\t",39],["T_VARIABLE","$data",40],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",40],"]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","0",40],";",["T_WHITESPACE","\n\t\t\t",40],"}",["T_WHITESPACE","\n\n\t\t\t",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$data",43],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",43],"]",["T_WHITESPACE"," ",43],"<",["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t\t",43],["T_VARIABLE","$data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","20",44],";",["T_WHITESPACE","\n\t\t\t",44],"}",["T_WHITESPACE","\n\n\t\t\t",45],["T_VARIABLE","$sql",47],["T_WHITESPACE"," ",47],["T_CONCAT_EQUAL",".=",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_INT_CAST","(int)",47],["T_VARIABLE","$data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",47],"]",["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\",\"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_INT_CAST","(int)",47],["T_VARIABLE","$data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",47],"]",";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\n\t\t",48],["T_VARIABLE","$query",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","db",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","query",50],"(",["T_VARIABLE","$sql",50],")",";",["T_WHITESPACE","\n\n\t\t",50],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$query",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","rows",52],";",["T_WHITESPACE","\n\t",52],"}",["T_WHITESPACE","\n\n\t",53],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","getTotalMarketing",55],"(",["T_VARIABLE","$data",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n\t\t",55],["T_VARIABLE","$query",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","db",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","query",56],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM `\"",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_STRING","DB_PREFIX",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","\"marketing`\"",56],")",";",["T_WHITESPACE","\n\n\t\t",56],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$query",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","row",58],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",58],"]",";",["T_WHITESPACE","\n\t",58],"}",["T_WHITESPACE","\n",59],"}"]