[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelReportReturn",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getReturns",3],"(",["T_VARIABLE","$data",3],["T_WHITESPACE"," ",3],"=",["T_WHITESPACE"," ",3],["T_ARRAY","array",3],"(",")",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$sql",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"SELECT MIN(r.date_added) AS date_start, MAX(r.date_added) AS date_end, COUNT(r.return_id) AS `returns` FROM `\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"return` r\"",4],";",["T_WHITESPACE","\n\n\t\t",4],["T_IF","if",6],["T_WHITESPACE"," ",6],"(","!",["T_EMPTY","empty",6],"(",["T_VARIABLE","$data",6],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_return_status_id'",6],"]",")",")",["T_WHITESPACE"," ",6],"{",["T_WHITESPACE","\n\t\t\t",6],["T_VARIABLE","$sql",7],["T_WHITESPACE"," ",7],["T_CONCAT_EQUAL",".=",7],["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","\" WHERE r.return_status_id = '\"",7],["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_INT_CAST","(int)",7],["T_VARIABLE","$data",7],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_return_status_id'",7],"]",["T_WHITESPACE"," ",7],".",["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","\"'\"",7],";",["T_WHITESPACE","\n\t\t",7],"}",["T_WHITESPACE"," ",8],["T_ELSE","else",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$sql",9],["T_WHITESPACE"," ",9],["T_CONCAT_EQUAL",".=",9],["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","\" WHERE r.return_status_id > '0'\"",9],";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE","\n\n\t\t",10],["T_IF","if",12],["T_WHITESPACE"," ",12],"(","!",["T_EMPTY","empty",12],"(",["T_VARIABLE","$data",12],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",12],"]",")",")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$sql",13],["T_WHITESPACE"," ",13],["T_CONCAT_EQUAL",".=",13],["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(r.date_added) >= '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escape",13],"(",["T_VARIABLE","$data",13],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",13],"]",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"'\"",13],";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE","\n\n\t\t",14],["T_IF","if",16],["T_WHITESPACE"," ",16],"(","!",["T_EMPTY","empty",16],"(",["T_VARIABLE","$data",16],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",16],"]",")",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t\t",16],["T_VARIABLE","$sql",17],["T_WHITESPACE"," ",17],["T_CONCAT_EQUAL",".=",17],["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(r.date_added) <= '\"",17],["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","db",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","escape",17],"(",["T_VARIABLE","$data",17],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",17],"]",")",["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","\"'\"",17],";",["T_WHITESPACE","\n\t\t",17],"}",["T_WHITESPACE","\n\n\t\t",18],["T_IF","if",20],["T_WHITESPACE"," ",20],"(",["T_ISSET","isset",20],"(",["T_VARIABLE","$data",20],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_group'",20],"]",")",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\t\t\t",20],["T_VARIABLE","$group",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$data",21],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_group'",21],"]",";",["T_WHITESPACE","\n\t\t",21],"}",["T_WHITESPACE"," ",22],["T_ELSE","else",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\t\t\t",22],["T_VARIABLE","$group",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'week'",23],";",["T_WHITESPACE","\n\t\t",23],"}",["T_WHITESPACE","\n\n\t\t",24],["T_SWITCH","switch",26],"(",["T_VARIABLE","$group",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t\t",26],["T_CASE","case",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'day'",27],";",["T_WHITESPACE","\n\t\t\t\t",27],["T_VARIABLE","$sql",28],["T_WHITESPACE"," ",28],["T_CONCAT_EQUAL",".=",28],["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY YEAR(r.date_added), MONTH(r.date_added), DAY(r.date_added)\"",28],";",["T_WHITESPACE","\n\t\t\t\t",28],["T_BREAK","break",29],";",["T_WHITESPACE","\n\t\t\t",29],["T_DEFAULT","default",30],":",["T_WHITESPACE","\n\t\t\t",30],["T_CASE","case",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'week'",31],":",["T_WHITESPACE","\n\t\t\t\t",31],["T_VARIABLE","$sql",32],["T_WHITESPACE"," ",32],["T_CONCAT_EQUAL",".=",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY YEAR(r.date_added), WEEK(r.date_added)\"",32],";",["T_WHITESPACE","\n\t\t\t\t",32],["T_BREAK","break",33],";",["T_WHITESPACE","\n\t\t\t",33],["T_CASE","case",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'month'",34],":",["T_WHITESPACE","\n\t\t\t\t",34],["T_VARIABLE","$sql",35],["T_WHITESPACE"," ",35],["T_CONCAT_EQUAL",".=",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY YEAR(r.date_added), MONTH(r.date_added)\"",35],";",["T_WHITESPACE","\n\t\t\t\t",35],["T_BREAK","break",36],";",["T_WHITESPACE","\n\t\t\t",36],["T_CASE","case",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'year'",37],":",["T_WHITESPACE","\n\t\t\t\t",37],["T_VARIABLE","$sql",38],["T_WHITESPACE"," ",38],["T_CONCAT_EQUAL",".=",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY YEAR(r.date_added)\"",38],";",["T_WHITESPACE","\n\t\t\t\t",38],["T_BREAK","break",39],";",["T_WHITESPACE","\n\t\t",39],"}",["T_WHITESPACE","\n\n\t\t",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_ISSET","isset",42],"(",["T_VARIABLE","$data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",42],"]",")",["T_WHITESPACE"," ",42],["T_BOOLEAN_OR","||",42],["T_WHITESPACE"," ",42],["T_ISSET","isset",42],"(",["T_VARIABLE","$data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",42],"]",")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$data",43],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",43],"]",["T_WHITESPACE"," ",43],"<",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t\t",43],["T_VARIABLE","$data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],";",["T_WHITESPACE","\n\t\t\t",44],"}",["T_WHITESPACE","\n\n\t\t\t",45],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",47],"]",["T_WHITESPACE"," ",47],"<",["T_WHITESPACE"," ",47],["T_LNUMBER","1",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n\t\t\t\t",47],["T_VARIABLE","$data",48],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","20",48],";",["T_WHITESPACE","\n\t\t\t",48],"}",["T_WHITESPACE","\n\n\t\t\t",49],["T_VARIABLE","$sql",51],["T_WHITESPACE"," ",51],["T_CONCAT_EQUAL",".=",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_INT_CAST","(int)",51],["T_VARIABLE","$data",51],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",51],"]",["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\",\"",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_INT_CAST","(int)",51],["T_VARIABLE","$data",51],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",51],"]",";",["T_WHITESPACE","\n\t\t",51],"}",["T_WHITESPACE","\n\n\t\t",52],["T_VARIABLE","$query",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","db",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","query",54],"(",["T_VARIABLE","$sql",54],")",";",["T_WHITESPACE","\n\n\t\t",54],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$query",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","rows",56],";",["T_WHITESPACE","\n\t",56],"}",["T_WHITESPACE","\n\n\t",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getTotalReturns",59],"(",["T_VARIABLE","$data",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_EMPTY","empty",60],"(",["T_VARIABLE","$data",60],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_group'",60],"]",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t\t",60],["T_VARIABLE","$group",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$data",61],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_group'",61],"]",";",["T_WHITESPACE","\n\t\t",61],"}",["T_WHITESPACE"," ",62],["T_ELSE","else",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\t\t\t",62],["T_VARIABLE","$group",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'week'",63],";",["T_WHITESPACE","\n\t\t",63],"}",["T_WHITESPACE","\n\n\t\t",64],["T_SWITCH","switch",66],"(",["T_VARIABLE","$group",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t",66],["T_CASE","case",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'day'",67],";",["T_WHITESPACE","\n\t\t\t\t",67],["T_VARIABLE","$sql",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(DISTINCT YEAR(date_added), MONTH(date_added), DAY(date_added)) AS total FROM `\"",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_STRING","DB_PREFIX",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","\"return`\"",68],";",["T_WHITESPACE","\n\t\t\t\t",68],["T_BREAK","break",69],";",["T_WHITESPACE","\n\t\t\t",69],["T_DEFAULT","default",70],":",["T_WHITESPACE","\n\t\t\t",70],["T_CASE","case",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'week'",71],":",["T_WHITESPACE","\n\t\t\t\t",71],["T_VARIABLE","$sql",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(DISTINCT YEAR(date_added), WEEK(date_added)) AS total FROM `\"",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_STRING","DB_PREFIX",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","\"return`\"",72],";",["T_WHITESPACE","\n\t\t\t\t",72],["T_BREAK","break",73],";",["T_WHITESPACE","\n\t\t\t",73],["T_CASE","case",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'month'",74],":",["T_WHITESPACE","\n\t\t\t\t",74],["T_VARIABLE","$sql",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(DISTINCT YEAR(date_added), MONTH(date_added)) AS total FROM `\"",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_STRING","DB_PREFIX",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"return`\"",75],";",["T_WHITESPACE","\n\t\t\t\t",75],["T_BREAK","break",76],";",["T_WHITESPACE","\n\t\t\t",76],["T_CASE","case",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'year'",77],":",["T_WHITESPACE","\n\t\t\t\t",77],["T_VARIABLE","$sql",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(DISTINCT YEAR(date_added)) AS total FROM `\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_STRING","DB_PREFIX",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"return`\"",78],";",["T_WHITESPACE","\n\t\t\t\t",78],["T_BREAK","break",79],";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE","\n\n\t\t",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(","!",["T_EMPTY","empty",82],"(",["T_VARIABLE","$data",82],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_return_status_id'",82],"]",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n\t\t\t",82],["T_VARIABLE","$sql",83],["T_WHITESPACE"," ",83],["T_CONCAT_EQUAL",".=",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\" WHERE return_status_id = '\"",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_INT_CAST","(int)",83],["T_VARIABLE","$data",83],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_return_status_id'",83],"]",["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\"'\"",83],";",["T_WHITESPACE","\n\t\t",83],"}",["T_WHITESPACE"," ",84],["T_ELSE","else",84],["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t",84],["T_VARIABLE","$sql",85],["T_WHITESPACE"," ",85],["T_CONCAT_EQUAL",".=",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","\" WHERE return_status_id > '0'\"",85],";",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\n\t\t",86],["T_IF","if",88],["T_WHITESPACE"," ",88],"(","!",["T_EMPTY","empty",88],"(",["T_VARIABLE","$data",88],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",88],"]",")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n\t\t\t",88],["T_VARIABLE","$sql",89],["T_WHITESPACE"," ",89],["T_CONCAT_EQUAL",".=",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(date_added) >= '\"",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","db",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","escape",89],"(",["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_start'",89],"]",")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","\"'\"",89],";",["T_WHITESPACE","\n\t\t",89],"}",["T_WHITESPACE","\n\n\t\t",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(","!",["T_EMPTY","empty",92],"(",["T_VARIABLE","$data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\t\t\t",92],["T_VARIABLE","$sql",93],["T_WHITESPACE"," ",93],["T_CONCAT_EQUAL",".=",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","\" AND DATE(date_added) <= '\"",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","db",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","escape",93],"(",["T_VARIABLE","$data",93],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_end'",93],"]",")",["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","\"'\"",93],";",["T_WHITESPACE","\n\t\t",93],"}",["T_WHITESPACE","\n\n\t\t",94],["T_VARIABLE","$query",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","db",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","query",96],"(",["T_VARIABLE","$sql",96],")",";",["T_WHITESPACE","\n\n\t\t",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$query",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","row",98],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",98],"]",";",["T_WHITESPACE","\n\t",98],"}",["T_WHITESPACE","\n",99],"}"]