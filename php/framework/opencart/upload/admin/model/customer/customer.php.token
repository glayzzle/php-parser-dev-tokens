[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelCustomerCustomer",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addCustomer",3],"(",["T_VARIABLE","$data",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"customer SET customer_group_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', firstname = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', lastname = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', email = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', telephone = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', fax = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'fax'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', custom_field = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_ISSET","isset",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",4],"]",")",["T_WHITESPACE"," ",4],"?",["T_WHITESPACE"," ",4],["T_STRING","json_encode",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",4],"]",")",["T_WHITESPACE"," ",4],":",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","''",4],")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', newsletter = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', salt = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$salt",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_STRING","token",4],"(",["T_LNUMBER","9",4],")",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', password = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_STRING","sha1",4],"(",["T_VARIABLE","$salt",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","sha1",4],"(",["T_VARIABLE","$salt",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","sha1",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",4],"]",")",")",")",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', approved = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'approved'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', safe = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'safe'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$customer_id",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","getLastId",6],"(",")",";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(",["T_ISSET","isset",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",8],"]",")",")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_FOREACH","foreach",9],["T_WHITESPACE"," ",9],"(",["T_VARIABLE","$data",9],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",9],"]",["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_VARIABLE","$address",9],")",["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t\t\t\t",9],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","query",10],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_STRING","DB_PREFIX",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"address SET customer_id = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$customer_id",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', firstname = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', lastname = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', company = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', address_1 = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', address_2 = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', city = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', postcode = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",10],"]",")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', country_id = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",10],"]",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', zone_id = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_INT_CAST","(int)",10],["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",10],"]",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"', custom_field = '\"",10],["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","db",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","escape",10],"(",["T_ISSET","isset",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",10],"]",")",["T_WHITESPACE"," ",10],"?",["T_WHITESPACE"," ",10],["T_STRING","json_encode",10],"(",["T_VARIABLE","$address",10],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",10],"]",")",["T_WHITESPACE"," ",10],":",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","''",10],")",["T_WHITESPACE"," ",10],".",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","\"'\"",10],")",";",["T_WHITESPACE","\n\n\t\t\t\t",10],["T_IF","if",12],["T_WHITESPACE"," ",12],"(",["T_ISSET","isset",12],"(",["T_VARIABLE","$address",12],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",12],"]",")",")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t\t\t",12],["T_VARIABLE","$address_id",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","getLastId",13],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",13],["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","db",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","query",15],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_STRING","DB_PREFIX",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","\"customer SET address_id = '\"",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_INT_CAST","(int)",15],["T_VARIABLE","$address_id",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE customer_id = '\"",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_INT_CAST","(int)",15],["T_VARIABLE","$customer_id",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","\"'\"",15],")",";",["T_WHITESPACE","\n\t\t\t\t",15],"}",["T_WHITESPACE","\n\t\t\t",16],"}",["T_WHITESPACE","\n\t\t",17],"}",["T_WHITESPACE","\n\t\t\n\t\t",18],["T_RETURN","return",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$customer_id",20],";",["T_WHITESPACE","\n\t",20],"}",["T_WHITESPACE","\n\n\t",21],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","editCustomer",23],"(",["T_VARIABLE","$customer_id",23],",",["T_WHITESPACE"," ",23],["T_VARIABLE","$data",23],")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\t\t",23],["T_IF","if",24],["T_WHITESPACE"," ",24],"(","!",["T_ISSET","isset",24],"(",["T_VARIABLE","$data",24],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",24],"]",")",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\t\t\t",24],["T_VARIABLE","$data",25],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",25],"]",["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",";",["T_WHITESPACE","\n\t\t",25],"}",["T_WHITESPACE","\n\n\t\t",26],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","db",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","query",28],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_STRING","DB_PREFIX",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"customer SET customer_group_id = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_INT_CAST","(int)",28],["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",28],"]",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', firstname = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","db",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","escape",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",28],"]",")",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', lastname = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","db",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","escape",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",28],"]",")",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', email = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","db",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","escape",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",28],"]",")",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', telephone = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","db",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","escape",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",28],"]",")",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', fax = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","db",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","escape",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'fax'",28],"]",")",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', custom_field = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","db",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","escape",28],"(",["T_ISSET","isset",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",28],"]",")",["T_WHITESPACE"," ",28],"?",["T_WHITESPACE"," ",28],["T_STRING","json_encode",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",28],"]",")",["T_WHITESPACE"," ",28],":",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","''",28],")",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', newsletter = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_INT_CAST","(int)",28],["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",28],"]",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', status = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_INT_CAST","(int)",28],["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",28],"]",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', approved = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_INT_CAST","(int)",28],["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'approved'",28],"]",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"', safe = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_INT_CAST","(int)",28],["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'safe'",28],"]",["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE customer_id = '\"",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_INT_CAST","(int)",28],["T_VARIABLE","$customer_id",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","\"'\"",28],")",";",["T_WHITESPACE","\n\n\t\t",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$data",30],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",30],"]",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","db",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","query",31],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_STRING","DB_PREFIX",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"customer SET salt = '\"",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","db",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","escape",31],"(",["T_VARIABLE","$salt",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","token",31],"(",["T_LNUMBER","9",31],")",")",["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"', password = '\"",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","db",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","escape",31],"(",["T_STRING","sha1",31],"(",["T_VARIABLE","$salt",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_STRING","sha1",31],"(",["T_VARIABLE","$salt",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_STRING","sha1",31],"(",["T_VARIABLE","$data",31],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",31],"]",")",")",")",")",["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE customer_id = '\"",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_INT_CAST","(int)",31],["T_VARIABLE","$customer_id",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"'\"",31],")",";",["T_WHITESPACE","\n\t\t",31],"}",["T_WHITESPACE","\n\n\t\t",32],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","db",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","query",34],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_STRING","DB_PREFIX",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","\"address WHERE customer_id = '\"",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_INT_CAST","(int)",34],["T_VARIABLE","$customer_id",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","\"'\"",34],")",";",["T_WHITESPACE","\n\n\t\t",34],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_ISSET","isset",36],"(",["T_VARIABLE","$data",36],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",36],"]",")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\t\t\t",36],["T_FOREACH","foreach",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",37],"]",["T_WHITESPACE"," ",37],["T_AS","as",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$address",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n\t\t\t\t",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_ISSET","isset",38],"(",["T_VARIABLE","$address",38],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",38],"]",")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t\t\t",38],["T_VARIABLE","$address",39],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",39],"]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",39],"}",["T_WHITESPACE","\n\n\t\t\t\t",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","query",42],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_STRING","DB_PREFIX",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"address SET address_id = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_INT_CAST","(int)",42],["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'address_id'",42],"]",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', customer_id = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_INT_CAST","(int)",42],["T_VARIABLE","$customer_id",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', firstname = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', lastname = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', company = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', address_1 = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', address_2 = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', city = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', postcode = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', country_id = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_INT_CAST","(int)",42],["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",42],"]",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', zone_id = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_INT_CAST","(int)",42],["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",42],"]",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"', custom_field = '\"",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_ISSET","isset",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",42],"]",")",["T_WHITESPACE"," ",42],"?",["T_WHITESPACE"," ",42],["T_STRING","json_encode",42],"(",["T_VARIABLE","$address",42],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",42],"]",")",["T_WHITESPACE"," ",42],":",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","''",42],")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"'\"",42],")",";",["T_WHITESPACE","\n\n\t\t\t\t",42],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_ISSET","isset",44],"(",["T_VARIABLE","$address",44],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",44],"]",")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\t\t\t\t\t",44],["T_VARIABLE","$address_id",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","db",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getLastId",45],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","db",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","query",47],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_STRING","DB_PREFIX",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"customer SET address_id = '\"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_INT_CAST","(int)",47],["T_VARIABLE","$address_id",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE customer_id = '\"",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_INT_CAST","(int)",47],["T_VARIABLE","$customer_id",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"'\"",47],")",";",["T_WHITESPACE","\n\t\t\t\t",47],"}",["T_WHITESPACE","\n\t\t\t",48],"}",["T_WHITESPACE","\n\t\t",49],"}",["T_WHITESPACE","\n\t",50],"}",["T_WHITESPACE","\n\n\t",51],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","editToken",53],"(",["T_VARIABLE","$customer_id",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$token",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n\t\t",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","db",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","query",54],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_STRING","DB_PREFIX",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"customer SET token = '\"",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","db",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","escape",54],"(",["T_VARIABLE","$token",54],")",["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE customer_id = '\"",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_INT_CAST","(int)",54],["T_VARIABLE","$customer_id",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"'\"",54],")",";",["T_WHITESPACE","\n\t",54],"}",["T_WHITESPACE","\n\n\t",55],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","deleteCustomer",57],"(",["T_VARIABLE","$customer_id",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n\t\t",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","db",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","query",58],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_STRING","DB_PREFIX",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"customer WHERE customer_id = '\"",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_VARIABLE","$customer_id",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"'\"",58],")",";",["T_WHITESPACE","\n\t\t",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","db",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","query",59],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_STRING","DB_PREFIX",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"customer_activity WHERE customer_id = '\"",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_INT_CAST","(int)",59],["T_VARIABLE","$customer_id",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"'\"",59],")",";",["T_WHITESPACE","\n\t\t",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","db",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","query",60],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_STRING","DB_PREFIX",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"customer_reward WHERE customer_id = '\"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_VARIABLE","$customer_id",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"'\"",60],")",";",["T_WHITESPACE","\n\t\t",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","db",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","query",61],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_STRING","DB_PREFIX",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"customer_transaction WHERE customer_id = '\"",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_INT_CAST","(int)",61],["T_VARIABLE","$customer_id",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"'\"",61],")",";",["T_WHITESPACE","\n\t\t",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","db",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","query",62],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_STRING","DB_PREFIX",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","\"customer_ip WHERE customer_id = '\"",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_INT_CAST","(int)",62],["T_VARIABLE","$customer_id",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","\"'\"",62],")",";",["T_WHITESPACE","\n\t\t",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","db",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","query",63],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_STRING","DB_PREFIX",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"address WHERE customer_id = '\"",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_INT_CAST","(int)",63],["T_VARIABLE","$customer_id",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"'\"",63],")",";",["T_WHITESPACE","\n\t",63],"}",["T_WHITESPACE","\n\n\t",64],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","getCustomer",66],"(",["T_VARIABLE","$customer_id",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t",66],["T_VARIABLE","$query",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","query",67],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT * FROM \"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_STRING","DB_PREFIX",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"customer WHERE customer_id = '\"",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_INT_CAST","(int)",67],["T_VARIABLE","$customer_id",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"'\"",67],")",";",["T_WHITESPACE","\n\n\t\t",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$query",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","row",69],";",["T_WHITESPACE","\n\t",69],"}",["T_WHITESPACE","\n\n\t",70],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","getCustomerByEmail",72],"(",["T_VARIABLE","$email",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n\t\t",72],["T_VARIABLE","$query",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","db",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","query",73],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT * FROM \"",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_STRING","DB_PREFIX",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","\"customer WHERE LCASE(email) = '\"",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","db",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","escape",73],"(",["T_STRING","utf8_strtolower",73],"(",["T_VARIABLE","$email",73],")",")",["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","\"'\"",73],")",";",["T_WHITESPACE","\n\n\t\t",73],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$query",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","row",75],";",["T_WHITESPACE","\n\t",75],"}",["T_WHITESPACE","\n\n\t",76],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","getCustomers",78],"(",["T_VARIABLE","$data",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t",78],["T_VARIABLE","$sql",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\"SELECT *, CONCAT(c.firstname, ' ', c.lastname) AS name, cgd.name AS customer_group FROM \"",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_STRING","DB_PREFIX",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\"customer c LEFT JOIN \"",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_STRING","DB_PREFIX",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\"customer_group_description cgd ON (c.customer_group_id = cgd.customer_group_id) WHERE cgd.language_id = '\"",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_INT_CAST","(int)",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","config",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",79],")",["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\"'\"",79],";",["T_WHITESPACE","\n\n\t\t",79],["T_VARIABLE","$implode",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",")",";",["T_WHITESPACE","\n\n\t\t",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_EMPTY","empty",83],"(",["T_VARIABLE","$data",83],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t",83],["T_VARIABLE","$implode",84],"[","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","\"CONCAT(c.firstname, ' ', c.lastname) LIKE '%\"",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","db",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","escape",84],"(",["T_VARIABLE","$data",84],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",84],"]",")",["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",84],";",["T_WHITESPACE","\n\t\t",84],"}",["T_WHITESPACE","\n\n\t\t",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_EMPTY","empty",87],"(",["T_VARIABLE","$data",87],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",87],"]",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n\t\t\t",87],["T_VARIABLE","$implode",88],"[","]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"c.email LIKE '\"",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","db",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","escape",88],"(",["T_VARIABLE","$data",88],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",88],"]",")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",88],";",["T_WHITESPACE","\n\t\t",88],"}",["T_WHITESPACE","\n\n\t\t",89],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_newsletter'",91],"]",")",["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],"!",["T_STRING","is_null",91],"(",["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_newsletter'",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n\t\t\t",91],["T_VARIABLE","$implode",92],"[","]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","\"c.newsletter = '\"",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_INT_CAST","(int)",92],["T_VARIABLE","$data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_newsletter'",92],"]",["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","\"'\"",92],";",["T_WHITESPACE","\n\t\t",92],"}",["T_WHITESPACE","\n\n\t\t",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_EMPTY","empty",95],"(",["T_VARIABLE","$data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer_group_id'",95],"]",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n\t\t\t",95],["T_VARIABLE","$implode",96],"[","]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"c.customer_group_id = '\"",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_INT_CAST","(int)",96],["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer_group_id'",96],"]",["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"'\"",96],";",["T_WHITESPACE","\n\t\t",96],"}",["T_WHITESPACE","\n\n\t\t",97],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_EMPTY","empty",99],"(",["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_ip'",99],"]",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t",99],["T_VARIABLE","$implode",100],"[","]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"c.customer_id IN (SELECT customer_id FROM \"",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_STRING","DB_PREFIX",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"customer_ip WHERE ip = '\"",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","db",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","escape",100],"(",["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_ip'",100],"]",")",["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"')\"",100],";",["T_WHITESPACE","\n\t\t",100],"}",["T_WHITESPACE","\n\n\t\t",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_ISSET","isset",103],"(",["T_VARIABLE","$data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",103],"]",")",["T_WHITESPACE"," ",103],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE"," ",103],"!",["T_STRING","is_null",103],"(",["T_VARIABLE","$data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",103],"]",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t\t",103],["T_VARIABLE","$implode",104],"[","]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"c.status = '\"",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_INT_CAST","(int)",104],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",104],"]",["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"'\"",104],";",["T_WHITESPACE","\n\t\t",104],"}",["T_WHITESPACE","\n\n\t\t",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_ISSET","isset",107],"(",["T_VARIABLE","$data",107],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",107],"]",")",["T_WHITESPACE"," ",107],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE"," ",107],"!",["T_STRING","is_null",107],"(",["T_VARIABLE","$data",107],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",107],"]",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n\t\t\t",107],["T_VARIABLE","$implode",108],"[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"c.approved = '\"",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_INT_CAST","(int)",108],["T_VARIABLE","$data",108],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",108],"]",["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"'\"",108],";",["T_WHITESPACE","\n\t\t",108],"}",["T_WHITESPACE","\n\n\t\t",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(","!",["T_EMPTY","empty",111],"(",["T_VARIABLE","$data",111],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",111],"]",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t",111],["T_VARIABLE","$implode",112],"[","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"DATE(c.date_added) = DATE('\"",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","db",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","escape",112],"(",["T_VARIABLE","$data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",112],"]",")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"')\"",112],";",["T_WHITESPACE","\n\t\t",112],"}",["T_WHITESPACE","\n\n\t\t",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$implode",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n\t\t\t",115],["T_VARIABLE","$sql",116],["T_WHITESPACE"," ",116],["T_CONCAT_EQUAL",".=",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\" AND \"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_STRING","implode",116],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$implode",116],")",";",["T_WHITESPACE","\n\t\t",116],"}",["T_WHITESPACE","\n\n\t\t",117],["T_VARIABLE","$sort_data",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n\t\t\t",119],["T_CONSTANT_ENCAPSED_STRING","'name'",120],",",["T_WHITESPACE","\n\t\t\t",120],["T_CONSTANT_ENCAPSED_STRING","'c.email'",121],",",["T_WHITESPACE","\n\t\t\t",121],["T_CONSTANT_ENCAPSED_STRING","'customer_group'",122],",",["T_WHITESPACE","\n\t\t\t",122],["T_CONSTANT_ENCAPSED_STRING","'c.status'",123],",",["T_WHITESPACE","\n\t\t\t",123],["T_CONSTANT_ENCAPSED_STRING","'c.approved'",124],",",["T_WHITESPACE","\n\t\t\t",124],["T_CONSTANT_ENCAPSED_STRING","'c.ip'",125],",",["T_WHITESPACE","\n\t\t\t",125],["T_CONSTANT_ENCAPSED_STRING","'c.date_added'",126],["T_WHITESPACE","\n\t\t",126],")",";",["T_WHITESPACE","\n\n\t\t",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_ISSET","isset",129],"(",["T_VARIABLE","$data",129],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",129],"]",")",["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_STRING","in_array",129],"(",["T_VARIABLE","$data",129],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",129],"]",",",["T_WHITESPACE"," ",129],["T_VARIABLE","$sort_data",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n\t\t\t",129],["T_VARIABLE","$sql",130],["T_WHITESPACE"," ",130],["T_CONCAT_EQUAL",".=",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$data",130],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",130],"]",";",["T_WHITESPACE","\n\t\t",130],"}",["T_WHITESPACE"," ",131],["T_ELSE","else",131],["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\t\t\t",131],["T_VARIABLE","$sql",132],["T_WHITESPACE"," ",132],["T_CONCAT_EQUAL",".=",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY name\"",132],";",["T_WHITESPACE","\n\t\t",132],"}",["T_WHITESPACE","\n\n\t\t",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_ISSET","isset",135],"(",["T_VARIABLE","$data",135],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",135],"]",")",["T_WHITESPACE"," ",135],["T_BOOLEAN_AND","&&",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$data",135],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",135],"]",["T_WHITESPACE"," ",135],["T_IS_EQUAL","==",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'DESC'",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n\t\t\t",135],["T_VARIABLE","$sql",136],["T_WHITESPACE"," ",136],["T_CONCAT_EQUAL",".=",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","\" DESC\"",136],";",["T_WHITESPACE","\n\t\t",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n\t\t\t",137],["T_VARIABLE","$sql",138],["T_WHITESPACE"," ",138],["T_CONCAT_EQUAL",".=",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","\" ASC\"",138],";",["T_WHITESPACE","\n\t\t",138],"}",["T_WHITESPACE","\n\n\t\t",139],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_ISSET","isset",141],"(",["T_VARIABLE","$data",141],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",141],"]",")",["T_WHITESPACE"," ",141],["T_BOOLEAN_OR","||",141],["T_WHITESPACE"," ",141],["T_ISSET","isset",141],"(",["T_VARIABLE","$data",141],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n\t\t\t",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$data",142],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",142],"]",["T_WHITESPACE"," ",142],"<",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n\t\t\t\t",142],["T_VARIABLE","$data",143],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],";",["T_WHITESPACE","\n\t\t\t",143],"}",["T_WHITESPACE","\n\n\t\t\t",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",146],"]",["T_WHITESPACE"," ",146],"<",["T_WHITESPACE"," ",146],["T_LNUMBER","1",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n\t\t\t\t",146],["T_VARIABLE","$data",147],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",147],"]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_LNUMBER","20",147],";",["T_WHITESPACE","\n\t\t\t",147],"}",["T_WHITESPACE","\n\n\t\t\t",148],["T_VARIABLE","$sql",150],["T_WHITESPACE"," ",150],["T_CONCAT_EQUAL",".=",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_INT_CAST","(int)",150],["T_VARIABLE","$data",150],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",150],"]",["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","\",\"",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_INT_CAST","(int)",150],["T_VARIABLE","$data",150],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",150],"]",";",["T_WHITESPACE","\n\t\t",150],"}",["T_WHITESPACE","\n\n\t\t",151],["T_VARIABLE","$query",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","db",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","query",153],"(",["T_VARIABLE","$sql",153],")",";",["T_WHITESPACE","\n\n\t\t",153],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$query",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","rows",155],";",["T_WHITESPACE","\n\t",155],"}",["T_WHITESPACE","\n\n\t",156],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","approve",158],"(",["T_VARIABLE","$customer_id",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n\t\t",158],["T_VARIABLE","$customer_info",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getCustomer",159],"(",["T_VARIABLE","$customer_id",159],")",";",["T_WHITESPACE","\n\n\t\t",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$customer_info",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n\t\t\t",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","db",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","query",162],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_STRING","DB_PREFIX",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","\"customer SET approved = '1' WHERE customer_id = '\"",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_INT_CAST","(int)",162],["T_VARIABLE","$customer_id",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","\"'\"",162],")",";",["T_WHITESPACE","\n\n\t\t\t",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","load",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","model",164],"(",["T_CONSTANT_ENCAPSED_STRING","'setting\/store'",164],")",";",["T_WHITESPACE","\n\n\t\t\t",164],["T_VARIABLE","$store_info",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","model_setting_store",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getStore",166],"(",["T_VARIABLE","$customer_info",166],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",166],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$store_info",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n\t\t\t\t",168],["T_VARIABLE","$store_name",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$store_info",169],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",169],"]",";",["T_WHITESPACE","\n\t\t\t\t",169],["T_VARIABLE","$store_url",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$store_info",170],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",170],"]",["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'index.php?route=account\/login'",170],";",["T_WHITESPACE","\n\t\t\t",170],"}",["T_WHITESPACE"," ",171],["T_ELSE","else",171],["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t\t\t",171],["T_VARIABLE","$store_name",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","config",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","get",172],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",172],")",";",["T_WHITESPACE","\n\t\t\t\t",172],["T_VARIABLE","$store_url",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","HTTP_CATALOG",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'index.php?route=account\/login'",173],";",["T_WHITESPACE","\n\t\t\t",173],"}",["T_WHITESPACE","\n\n\t\t\t",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","load",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","model",176],"(",["T_CONSTANT_ENCAPSED_STRING","'localisation\/language'",176],")",";",["T_WHITESPACE","\n\t\t\t\n\t\t\t",176],["T_VARIABLE","$language_info",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","model_localisation_language",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getLanguage",178],"(",["T_VARIABLE","$customer_info",178],"[",["T_CONSTANT_ENCAPSED_STRING","'language_id'",178],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$language_info",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t\t",180],["T_VARIABLE","$language_code",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$language_info",181],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",181],"]",";",["T_WHITESPACE","\n\t\t\t",181],"}",["T_WHITESPACE"," ",182],["T_ELSE","else",182],["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n\t\t\t\t",182],["T_VARIABLE","$language_code",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","config",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language'",183],")",";",["T_WHITESPACE","\n\t\t\t",183],"}",["T_WHITESPACE","\n\n\t\t\t",184],["T_VARIABLE","$language",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Language",186],"(",["T_VARIABLE","$language_code",186],")",";",["T_WHITESPACE","\n\t\t\t",186],["T_VARIABLE","$language",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","load",187],"(",["T_VARIABLE","$language_code",187],")",";",["T_WHITESPACE","\n\t\t\t",187],["T_VARIABLE","$language",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","load",188],"(",["T_CONSTANT_ENCAPSED_STRING","'mail\/customer'",188],")",";",["T_WHITESPACE","\n\t\t\t\t\n\t\t\t",188],["T_VARIABLE","$message",190],["T_WHITESPACE","  ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","sprintf",190],"(",["T_VARIABLE","$language",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","get",190],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_welcome'",190],")",",",["T_WHITESPACE"," ",190],["T_STRING","html_entity_decode",190],"(",["T_VARIABLE","$store_name",190],",",["T_WHITESPACE"," ",190],["T_STRING","ENT_QUOTES",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",190],")",")",["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",190],";",["T_WHITESPACE","\n\t\t\t",190],["T_VARIABLE","$message",191],["T_WHITESPACE"," ",191],["T_CONCAT_EQUAL",".=",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$language",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","get",191],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_login'",191],")",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",191],";",["T_WHITESPACE","\n\t\t\t",191],["T_VARIABLE","$message",192],["T_WHITESPACE"," ",192],["T_CONCAT_EQUAL",".=",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$store_url",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",192],";",["T_WHITESPACE","\n\t\t\t",192],["T_VARIABLE","$message",193],["T_WHITESPACE"," ",193],["T_CONCAT_EQUAL",".=",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$language",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","get",193],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_services'",193],")",["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",193],";",["T_WHITESPACE","\n\t\t\t",193],["T_VARIABLE","$message",194],["T_WHITESPACE"," ",194],["T_CONCAT_EQUAL",".=",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$language",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","get",194],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_thanks'",194],")",["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",194],";",["T_WHITESPACE","\n\t\t\t",194],["T_VARIABLE","$message",195],["T_WHITESPACE"," ",195],["T_CONCAT_EQUAL",".=",195],["T_WHITESPACE"," ",195],["T_STRING","html_entity_decode",195],"(",["T_VARIABLE","$store_name",195],",",["T_WHITESPACE"," ",195],["T_STRING","ENT_QUOTES",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",195],")",";",["T_WHITESPACE","\n\n\t\t\t",195],["T_VARIABLE","$mail",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_NEW","new",197],["T_WHITESPACE"," ",197],["T_STRING","Mail",197],"(",")",";",["T_WHITESPACE","\n\t\t\t",197],["T_VARIABLE","$mail",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","protocol",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","config",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","get",198],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_protocol'",198],")",";",["T_WHITESPACE","\n\t\t\t",198],["T_VARIABLE","$mail",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","parameter",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","config",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","get",199],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_parameter'",199],")",";",["T_WHITESPACE","\n\t\t\t",199],["T_VARIABLE","$mail",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","smtp_hostname",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","config",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","get",200],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_hostname'",200],")",";",["T_WHITESPACE","\n\t\t\t",200],["T_VARIABLE","$mail",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","smtp_username",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","config",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","get",201],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_username'",201],")",";",["T_WHITESPACE","\n\t\t\t",201],["T_VARIABLE","$mail",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","smtp_password",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","html_entity_decode",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","config",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","get",202],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_password'",202],")",",",["T_WHITESPACE"," ",202],["T_STRING","ENT_QUOTES",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",202],")",";",["T_WHITESPACE","\n\t\t\t",202],["T_VARIABLE","$mail",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","smtp_port",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","config",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","get",203],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_port'",203],")",";",["T_WHITESPACE","\n\t\t\t",203],["T_VARIABLE","$mail",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","smtp_timeout",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","config",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","get",204],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_timeout'",204],")",";",["T_WHITESPACE","\n\n\t\t\t",204],["T_VARIABLE","$mail",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","setTo",206],"(",["T_VARIABLE","$customer_info",206],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",206],"]",")",";",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$mail",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","setFrom",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","config",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","get",207],"(",["T_CONSTANT_ENCAPSED_STRING","'config_email'",207],")",")",";",["T_WHITESPACE","\n\t\t\t",207],["T_VARIABLE","$mail",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","setSender",208],"(",["T_STRING","html_entity_decode",208],"(",["T_VARIABLE","$store_name",208],",",["T_WHITESPACE"," ",208],["T_STRING","ENT_QUOTES",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",208],")",")",";",["T_WHITESPACE","\n\t\t\t",208],["T_VARIABLE","$mail",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","setSubject",209],"(",["T_STRING","sprintf",209],"(",["T_VARIABLE","$language",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","get",209],"(",["T_CONSTANT_ENCAPSED_STRING","'text_approve_subject'",209],")",",",["T_WHITESPACE"," ",209],["T_STRING","html_entity_decode",209],"(",["T_VARIABLE","$store_name",209],",",["T_WHITESPACE"," ",209],["T_STRING","ENT_QUOTES",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",209],")",")",")",";",["T_WHITESPACE","\n\t\t\t",209],["T_VARIABLE","$mail",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setText",210],"(",["T_VARIABLE","$message",210],")",";",["T_WHITESPACE","\n\t\t\t",210],["T_VARIABLE","$mail",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","send",211],"(",")",";",["T_WHITESPACE","\n\t\t",211],"}",["T_WHITESPACE","\n\t",212],"}",["T_WHITESPACE","\n\n\t",213],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getAddress",215],"(",["T_VARIABLE","$address_id",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n\t\t",215],["T_VARIABLE","$address_query",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","db",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","query",216],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_STRING","DB_PREFIX",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","\"address WHERE address_id = '\"",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_INT_CAST","(int)",216],["T_VARIABLE","$address_id",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","\"'\"",216],")",";",["T_WHITESPACE","\n\n\t\t",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$address_query",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","num_rows",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n\t\t\t",218],["T_VARIABLE","$country_query",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","db",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","query",219],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_STRING","DB_PREFIX",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","\"country` WHERE country_id = '\"",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_INT_CAST","(int)",219],["T_VARIABLE","$address_query",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","row",219],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",219],"]",["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","\"'\"",219],")",";",["T_WHITESPACE","\n\n\t\t\t",219],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$country_query",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","num_rows",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t\t\t",221],["T_VARIABLE","$country",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$country_query",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","row",222],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",222],"]",";",["T_WHITESPACE","\n\t\t\t\t",222],["T_VARIABLE","$iso_code_2",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$country_query",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","row",223],"[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",223],"]",";",["T_WHITESPACE","\n\t\t\t\t",223],["T_VARIABLE","$iso_code_3",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$country_query",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","row",224],"[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",224],"]",";",["T_WHITESPACE","\n\t\t\t\t",224],["T_VARIABLE","$address_format",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$country_query",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","row",225],"[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",225],"]",";",["T_WHITESPACE","\n\t\t\t",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n\t\t\t\t",226],["T_VARIABLE","$country",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","''",227],";",["T_WHITESPACE","\n\t\t\t\t",227],["T_VARIABLE","$iso_code_2",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","''",228],";",["T_WHITESPACE","\n\t\t\t\t",228],["T_VARIABLE","$iso_code_3",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","''",229],";",["T_WHITESPACE","\n\t\t\t\t",229],["T_VARIABLE","$address_format",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","''",230],";",["T_WHITESPACE","\n\t\t\t",230],"}",["T_WHITESPACE","\n\n\t\t\t",231],["T_VARIABLE","$zone_query",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","db",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","query",233],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_STRING","DB_PREFIX",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"zone` WHERE zone_id = '\"",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_INT_CAST","(int)",233],["T_VARIABLE","$address_query",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","row",233],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",233],"]",["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"'\"",233],")",";",["T_WHITESPACE","\n\n\t\t\t",233],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$zone_query",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","num_rows",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n\t\t\t\t",235],["T_VARIABLE","$zone",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$zone_query",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","row",236],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",236],"]",";",["T_WHITESPACE","\n\t\t\t\t",236],["T_VARIABLE","$zone_code",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$zone_query",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","row",237],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",237],"]",";",["T_WHITESPACE","\n\t\t\t",237],"}",["T_WHITESPACE"," ",238],["T_ELSE","else",238],["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n\t\t\t\t",238],["T_VARIABLE","$zone",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","''",239],";",["T_WHITESPACE","\n\t\t\t\t",239],["T_VARIABLE","$zone_code",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","''",240],";",["T_WHITESPACE","\n\t\t\t",240],"}",["T_WHITESPACE","\n\n\t\t\t",241],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_ARRAY","array",243],"(",["T_WHITESPACE","\n\t\t\t\t",243],["T_CONSTANT_ENCAPSED_STRING","'address_id'",244],["T_WHITESPACE","     ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$address_query",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","row",244],"[",["T_CONSTANT_ENCAPSED_STRING","'address_id'",244],"]",",",["T_WHITESPACE","\n\t\t\t\t",244],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",245],["T_WHITESPACE","    ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$address_query",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","row",245],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",245],"]",",",["T_WHITESPACE","\n\t\t\t\t",245],["T_CONSTANT_ENCAPSED_STRING","'firstname'",246],["T_WHITESPACE","      ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$address_query",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","row",246],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",246],"]",",",["T_WHITESPACE","\n\t\t\t\t",246],["T_CONSTANT_ENCAPSED_STRING","'lastname'",247],["T_WHITESPACE","       ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$address_query",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","row",247],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",247],"]",",",["T_WHITESPACE","\n\t\t\t\t",247],["T_CONSTANT_ENCAPSED_STRING","'company'",248],["T_WHITESPACE","        ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$address_query",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","row",248],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",248],"]",",",["T_WHITESPACE","\n\t\t\t\t",248],["T_CONSTANT_ENCAPSED_STRING","'address_1'",249],["T_WHITESPACE","      ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$address_query",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","row",249],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",249],"]",",",["T_WHITESPACE","\n\t\t\t\t",249],["T_CONSTANT_ENCAPSED_STRING","'address_2'",250],["T_WHITESPACE","      ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$address_query",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","row",250],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",250],"]",",",["T_WHITESPACE","\n\t\t\t\t",250],["T_CONSTANT_ENCAPSED_STRING","'postcode'",251],["T_WHITESPACE","       ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$address_query",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","row",251],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",251],"]",",",["T_WHITESPACE","\n\t\t\t\t",251],["T_CONSTANT_ENCAPSED_STRING","'city'",252],["T_WHITESPACE","           ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$address_query",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","row",252],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",252],"]",",",["T_WHITESPACE","\n\t\t\t\t",252],["T_CONSTANT_ENCAPSED_STRING","'zone_id'",253],["T_WHITESPACE","        ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$address_query",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","row",253],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",253],"]",",",["T_WHITESPACE","\n\t\t\t\t",253],["T_CONSTANT_ENCAPSED_STRING","'zone'",254],["T_WHITESPACE","           ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$zone",254],",",["T_WHITESPACE","\n\t\t\t\t",254],["T_CONSTANT_ENCAPSED_STRING","'zone_code'",255],["T_WHITESPACE","      ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$zone_code",255],",",["T_WHITESPACE","\n\t\t\t\t",255],["T_CONSTANT_ENCAPSED_STRING","'country_id'",256],["T_WHITESPACE","     ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$address_query",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","row",256],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",256],"]",",",["T_WHITESPACE","\n\t\t\t\t",256],["T_CONSTANT_ENCAPSED_STRING","'country'",257],["T_WHITESPACE","        ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$country",257],",",["T_WHITESPACE","\n\t\t\t\t",257],["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",258],["T_WHITESPACE","     ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$iso_code_2",258],",",["T_WHITESPACE","\n\t\t\t\t",258],["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",259],["T_WHITESPACE","     ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$iso_code_3",259],",",["T_WHITESPACE","\n\t\t\t\t",259],["T_CONSTANT_ENCAPSED_STRING","'address_format'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$address_format",260],",",["T_WHITESPACE","\n\t\t\t\t",260],["T_CONSTANT_ENCAPSED_STRING","'custom_field'",261],["T_WHITESPACE","   ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_STRING","json_decode",261],"(",["T_VARIABLE","$address_query",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","row",261],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",261],"]",",",["T_WHITESPACE"," ",261],["T_STRING","true",261],")",["T_WHITESPACE","\n\t\t\t",261],")",";",["T_WHITESPACE","\n\t\t",262],"}",["T_WHITESPACE","\n\t",263],"}",["T_WHITESPACE","\n\n\t",264],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getAddresses",266],"(",["T_VARIABLE","$customer_id",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n\t\t",266],["T_VARIABLE","$address_data",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",")",";",["T_WHITESPACE","\n\n\t\t",267],["T_VARIABLE","$query",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","db",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","query",269],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT address_id FROM \"",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_STRING","DB_PREFIX",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","\"address WHERE customer_id = '\"",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_INT_CAST","(int)",269],["T_VARIABLE","$customer_id",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","\"'\"",269],")",";",["T_WHITESPACE","\n\n\t\t",269],["T_FOREACH","foreach",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$query",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","rows",271],["T_WHITESPACE"," ",271],["T_AS","as",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$result",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n\t\t\t",271],["T_VARIABLE","$address_info",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getAddress",272],"(",["T_VARIABLE","$result",272],"[",["T_CONSTANT_ENCAPSED_STRING","'address_id'",272],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$address_info",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n\t\t\t\t",274],["T_VARIABLE","$address_data",275],"[",["T_VARIABLE","$result",275],"[",["T_CONSTANT_ENCAPSED_STRING","'address_id'",275],"]","]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$address_info",275],";",["T_WHITESPACE","\n\t\t\t",275],"}",["T_WHITESPACE","\n\t\t",276],"}",["T_WHITESPACE","\n\n\t\t",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$address_data",279],";",["T_WHITESPACE","\n\t",279],"}",["T_WHITESPACE","\n\n\t",280],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","getTotalCustomers",282],"(",["T_VARIABLE","$data",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_ARRAY","array",282],"(",")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n\t\t",282],["T_VARIABLE","$sql",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_STRING","DB_PREFIX",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"customer\"",283],";",["T_WHITESPACE","\n\n\t\t",283],["T_VARIABLE","$implode",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",")",";",["T_WHITESPACE","\n\n\t\t",285],["T_IF","if",287],["T_WHITESPACE"," ",287],"(","!",["T_EMPTY","empty",287],"(",["T_VARIABLE","$data",287],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",287],"]",")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n\t\t\t",287],["T_VARIABLE","$implode",288],"[","]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","\"CONCAT(firstname, ' ', lastname) LIKE '%\"",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","db",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","escape",288],"(",["T_VARIABLE","$data",288],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",288],"]",")",["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",288],";",["T_WHITESPACE","\n\t\t",288],"}",["T_WHITESPACE","\n\n\t\t",289],["T_IF","if",291],["T_WHITESPACE"," ",291],"(","!",["T_EMPTY","empty",291],"(",["T_VARIABLE","$data",291],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n\t\t\t",291],["T_VARIABLE","$implode",292],"[","]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","\"email LIKE '\"",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","db",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","escape",292],"(",["T_VARIABLE","$data",292],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_email'",292],"]",")",["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",292],";",["T_WHITESPACE","\n\t\t",292],"}",["T_WHITESPACE","\n\n\t\t",293],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_ISSET","isset",295],"(",["T_VARIABLE","$data",295],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_newsletter'",295],"]",")",["T_WHITESPACE"," ",295],["T_BOOLEAN_AND","&&",295],["T_WHITESPACE"," ",295],"!",["T_STRING","is_null",295],"(",["T_VARIABLE","$data",295],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_newsletter'",295],"]",")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n\t\t\t",295],["T_VARIABLE","$implode",296],"[","]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","\"newsletter = '\"",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_INT_CAST","(int)",296],["T_VARIABLE","$data",296],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_newsletter'",296],"]",["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","\"'\"",296],";",["T_WHITESPACE","\n\t\t",296],"}",["T_WHITESPACE","\n\n\t\t",297],["T_IF","if",299],["T_WHITESPACE"," ",299],"(","!",["T_EMPTY","empty",299],"(",["T_VARIABLE","$data",299],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer_group_id'",299],"]",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n\t\t\t",299],["T_VARIABLE","$implode",300],"[","]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","\"customer_group_id = '\"",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_INT_CAST","(int)",300],["T_VARIABLE","$data",300],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_customer_group_id'",300],"]",["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","\"'\"",300],";",["T_WHITESPACE","\n\t\t",300],"}",["T_WHITESPACE","\n\n\t\t",301],["T_IF","if",303],["T_WHITESPACE"," ",303],"(","!",["T_EMPTY","empty",303],"(",["T_VARIABLE","$data",303],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_ip'",303],"]",")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n\t\t\t",303],["T_VARIABLE","$implode",304],"[","]",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","\"customer_id IN (SELECT customer_id FROM \"",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_STRING","DB_PREFIX",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","\"customer_ip WHERE ip = '\"",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","db",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","escape",304],"(",["T_VARIABLE","$data",304],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_ip'",304],"]",")",["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","\"')\"",304],";",["T_WHITESPACE","\n\t\t",304],"}",["T_WHITESPACE","\n\n\t\t",305],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_ISSET","isset",307],"(",["T_VARIABLE","$data",307],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",307],"]",")",["T_WHITESPACE"," ",307],["T_BOOLEAN_AND","&&",307],["T_WHITESPACE"," ",307],"!",["T_STRING","is_null",307],"(",["T_VARIABLE","$data",307],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",307],"]",")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n\t\t\t",307],["T_VARIABLE","$implode",308],"[","]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","\"status = '\"",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_INT_CAST","(int)",308],["T_VARIABLE","$data",308],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_status'",308],"]",["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","\"'\"",308],";",["T_WHITESPACE","\n\t\t",308],"}",["T_WHITESPACE","\n\n\t\t",309],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_ISSET","isset",311],"(",["T_VARIABLE","$data",311],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",311],"]",")",["T_WHITESPACE"," ",311],["T_BOOLEAN_AND","&&",311],["T_WHITESPACE"," ",311],"!",["T_STRING","is_null",311],"(",["T_VARIABLE","$data",311],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",311],"]",")",")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n\t\t\t",311],["T_VARIABLE","$implode",312],"[","]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"approved = '\"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_INT_CAST","(int)",312],["T_VARIABLE","$data",312],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_approved'",312],"]",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"'\"",312],";",["T_WHITESPACE","\n\t\t",312],"}",["T_WHITESPACE","\n\n\t\t",313],["T_IF","if",315],["T_WHITESPACE"," ",315],"(","!",["T_EMPTY","empty",315],"(",["T_VARIABLE","$data",315],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",315],"]",")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n\t\t\t",315],["T_VARIABLE","$implode",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","\"DATE(date_added) = DATE('\"",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","db",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","escape",316],"(",["T_VARIABLE","$data",316],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_date_added'",316],"]",")",["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","\"')\"",316],";",["T_WHITESPACE","\n\t\t",316],"}",["T_WHITESPACE","\n\n\t\t",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$implode",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n\t\t\t",319],["T_VARIABLE","$sql",320],["T_WHITESPACE"," ",320],["T_CONCAT_EQUAL",".=",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","\" WHERE \"",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_STRING","implode",320],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$implode",320],")",";",["T_WHITESPACE","\n\t\t",320],"}",["T_WHITESPACE","\n\n\t\t",321],["T_VARIABLE","$query",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","db",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","query",323],"(",["T_VARIABLE","$sql",323],")",";",["T_WHITESPACE","\n\n\t\t",323],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$query",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","row",325],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",325],"]",";",["T_WHITESPACE","\n\t",325],"}",["T_WHITESPACE","\n\n\t",326],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getTotalCustomersAwaitingApproval",328],"(",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n\t\t",328],["T_VARIABLE","$query",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","db",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","query",329],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_STRING","DB_PREFIX",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","\"customer WHERE status = '0' OR approved = '0'\"",329],")",";",["T_WHITESPACE","\n\n\t\t",329],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$query",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","row",331],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",331],"]",";",["T_WHITESPACE","\n\t",331],"}",["T_WHITESPACE","\n\n\t",332],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","getTotalAddressesByCustomerId",334],"(",["T_VARIABLE","$customer_id",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n\t\t",334],["T_VARIABLE","$query",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","db",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","query",335],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_STRING","DB_PREFIX",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","\"address WHERE customer_id = '\"",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_INT_CAST","(int)",335],["T_VARIABLE","$customer_id",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","\"'\"",335],")",";",["T_WHITESPACE","\n\n\t\t",335],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$query",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","row",337],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",337],"]",";",["T_WHITESPACE","\n\t",337],"}",["T_WHITESPACE","\n\n\t",338],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","getTotalAddressesByCountryId",340],"(",["T_VARIABLE","$country_id",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n\t\t",340],["T_VARIABLE","$query",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","db",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","query",341],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_STRING","DB_PREFIX",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","\"address WHERE country_id = '\"",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_INT_CAST","(int)",341],["T_VARIABLE","$country_id",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","\"'\"",341],")",";",["T_WHITESPACE","\n\n\t\t",341],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$query",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","row",343],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",343],"]",";",["T_WHITESPACE","\n\t",343],"}",["T_WHITESPACE","\n\n\t",344],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","getTotalAddressesByZoneId",346],"(",["T_VARIABLE","$zone_id",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n\t\t",346],["T_VARIABLE","$query",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","db",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","query",347],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_STRING","DB_PREFIX",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","\"address WHERE zone_id = '\"",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_INT_CAST","(int)",347],["T_VARIABLE","$zone_id",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","\"'\"",347],")",";",["T_WHITESPACE","\n\n\t\t",347],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$query",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","row",349],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",349],"]",";",["T_WHITESPACE","\n\t",349],"}",["T_WHITESPACE","\n\n\t",350],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","getTotalCustomersByCustomerGroupId",352],"(",["T_VARIABLE","$customer_group_id",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n\t\t",352],["T_VARIABLE","$query",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","db",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","query",353],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_STRING","DB_PREFIX",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","\"customer WHERE customer_group_id = '\"",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_INT_CAST","(int)",353],["T_VARIABLE","$customer_group_id",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","\"'\"",353],")",";",["T_WHITESPACE","\n\n\t\t",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$query",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","row",355],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",355],"]",";",["T_WHITESPACE","\n\t",355],"}",["T_WHITESPACE","\n\n\t",356],["T_PUBLIC","public",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","addHistory",358],"(",["T_VARIABLE","$customer_id",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$comment",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n\t\t",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","db",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","query",359],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",359],["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_STRING","DB_PREFIX",359],["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","\"customer_history SET customer_id = '\"",359],["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_INT_CAST","(int)",359],["T_VARIABLE","$customer_id",359],["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","\"', comment = '\"",359],["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","db",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","escape",359],"(",["T_STRING","strip_tags",359],"(",["T_VARIABLE","$comment",359],")",")",["T_WHITESPACE"," ",359],".",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",359],")",";",["T_WHITESPACE","\n\t",359],"}",["T_WHITESPACE","\n\n\t",360],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","getHistories",362],"(",["T_VARIABLE","$customer_id",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$start",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_LNUMBER","0",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$limit",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_LNUMBER","10",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n\t\t",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$start",363],["T_WHITESPACE"," ",363],"<",["T_WHITESPACE"," ",363],["T_LNUMBER","0",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n\t\t\t",363],["T_VARIABLE","$start",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_LNUMBER","0",364],";",["T_WHITESPACE","\n\t\t",364],"}",["T_WHITESPACE","\n\n\t\t",365],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$limit",367],["T_WHITESPACE"," ",367],"<",["T_WHITESPACE"," ",367],["T_LNUMBER","1",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n\t\t\t",367],["T_VARIABLE","$limit",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_LNUMBER","10",368],";",["T_WHITESPACE","\n\t\t",368],"}",["T_WHITESPACE","\n\n\t\t",369],["T_VARIABLE","$query",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","db",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","query",371],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT comment, date_added FROM \"",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_STRING","DB_PREFIX",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","\"customer_history WHERE customer_id = '\"",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_INT_CAST","(int)",371],["T_VARIABLE","$customer_id",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY date_added DESC LIMIT \"",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_INT_CAST","(int)",371],["T_VARIABLE","$start",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","\",\"",371],["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_INT_CAST","(int)",371],["T_VARIABLE","$limit",371],")",";",["T_WHITESPACE","\n\n\t\t",371],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$query",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","rows",373],";",["T_WHITESPACE","\n\t",373],"}",["T_WHITESPACE","\n\n\t",374],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","getTotalHistories",376],"(",["T_VARIABLE","$customer_id",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n\t\t",376],["T_VARIABLE","$query",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","db",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","query",377],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_STRING","DB_PREFIX",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","\"customer_history WHERE customer_id = '\"",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_INT_CAST","(int)",377],["T_VARIABLE","$customer_id",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","\"'\"",377],")",";",["T_WHITESPACE","\n\n\t\t",377],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$query",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","row",379],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",379],"]",";",["T_WHITESPACE","\n\t",379],"}",["T_WHITESPACE","\n\n\t",380],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","addTransaction",382],"(",["T_VARIABLE","$customer_id",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$description",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","''",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$amount",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","''",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$order_id",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_LNUMBER","0",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n\t\t",382],["T_VARIABLE","$customer_info",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getCustomer",383],"(",["T_VARIABLE","$customer_id",383],")",";",["T_WHITESPACE","\n\n\t\t",383],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$customer_info",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n\t\t\t",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","db",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","query",386],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_STRING","DB_PREFIX",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"customer_transaction SET customer_id = '\"",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_INT_CAST","(int)",386],["T_VARIABLE","$customer_id",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"', order_id = '\"",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_INT_CAST","(int)",386],["T_VARIABLE","$order_id",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"', description = '\"",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","db",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","escape",386],"(",["T_VARIABLE","$description",386],")",["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"', amount = '\"",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_DOUBLE_CAST","(float)",386],["T_VARIABLE","$amount",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",386],")",";",["T_WHITESPACE","\n\n\t\t\t",386],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","load",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","language",388],"(",["T_CONSTANT_ENCAPSED_STRING","'mail\/customer'",388],")",";",["T_WHITESPACE","\n\n\t\t\t",388],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","load",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","model",390],"(",["T_CONSTANT_ENCAPSED_STRING","'setting\/store'",390],")",";",["T_WHITESPACE","\n\n\t\t\t",390],["T_VARIABLE","$store_info",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","model_setting_store",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getStore",392],"(",["T_VARIABLE","$customer_info",392],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",392],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",392],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$store_info",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n\t\t\t\t",394],["T_VARIABLE","$store_name",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$store_info",395],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",395],"]",";",["T_WHITESPACE","\n\t\t\t",395],"}",["T_WHITESPACE"," ",396],["T_ELSE","else",396],["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n\t\t\t\t",396],["T_VARIABLE","$store_name",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","config",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","get",397],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",397],")",";",["T_WHITESPACE","\n\t\t\t",397],"}",["T_WHITESPACE","\n\n\t\t\t",398],["T_VARIABLE","$message",400],["T_WHITESPACE","  ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","sprintf",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","language",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","get",400],"(",["T_CONSTANT_ENCAPSED_STRING","'text_transaction_received'",400],")",",",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","currency",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","format",400],"(",["T_VARIABLE","$amount",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","config",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","get",400],"(",["T_CONSTANT_ENCAPSED_STRING","'config_currency'",400],")",")",")",["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",400],";",["T_WHITESPACE","\n\t\t\t",400],["T_VARIABLE","$message",401],["T_WHITESPACE"," ",401],["T_CONCAT_EQUAL",".=",401],["T_WHITESPACE"," ",401],["T_STRING","sprintf",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","language",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","get",401],"(",["T_CONSTANT_ENCAPSED_STRING","'text_transaction_total'",401],")",",",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","currency",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","format",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getTransactionTotal",401],"(",["T_VARIABLE","$customer_id",401],")",",",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","session",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","data",401],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",401],"]",")",")",";",["T_WHITESPACE","\n\n\t\t\t",401],["T_VARIABLE","$mail",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_NEW","new",403],["T_WHITESPACE"," ",403],["T_STRING","Mail",403],"(",")",";",["T_WHITESPACE","\n\t\t\t",403],["T_VARIABLE","$mail",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","protocol",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","config",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","get",404],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_protocol'",404],")",";",["T_WHITESPACE","\n\t\t\t",404],["T_VARIABLE","$mail",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","parameter",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","config",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","get",405],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_parameter'",405],")",";",["T_WHITESPACE","\n\t\t\t",405],["T_VARIABLE","$mail",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","smtp_hostname",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","config",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","get",406],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_hostname'",406],")",";",["T_WHITESPACE","\n\t\t\t",406],["T_VARIABLE","$mail",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","smtp_username",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","config",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","get",407],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_username'",407],")",";",["T_WHITESPACE","\n\t\t\t",407],["T_VARIABLE","$mail",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","smtp_password",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_STRING","html_entity_decode",408],"(",["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","config",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","get",408],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_password'",408],")",",",["T_WHITESPACE"," ",408],["T_STRING","ENT_QUOTES",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",408],")",";",["T_WHITESPACE","\n\t\t\t",408],["T_VARIABLE","$mail",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","smtp_port",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","config",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","get",409],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_port'",409],")",";",["T_WHITESPACE","\n\t\t\t",409],["T_VARIABLE","$mail",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","smtp_timeout",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","config",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","get",410],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_timeout'",410],")",";",["T_WHITESPACE","\n\n\t\t\t",410],["T_VARIABLE","$mail",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","setTo",412],"(",["T_VARIABLE","$customer_info",412],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",412],"]",")",";",["T_WHITESPACE","\n\t\t\t",412],["T_VARIABLE","$mail",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","setFrom",413],"(",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","config",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","get",413],"(",["T_CONSTANT_ENCAPSED_STRING","'config_email'",413],")",")",";",["T_WHITESPACE","\n\t\t\t",413],["T_VARIABLE","$mail",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","setSender",414],"(",["T_STRING","html_entity_decode",414],"(",["T_VARIABLE","$store_name",414],",",["T_WHITESPACE"," ",414],["T_STRING","ENT_QUOTES",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",414],")",")",";",["T_WHITESPACE","\n\t\t\t",414],["T_VARIABLE","$mail",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","setSubject",415],"(",["T_STRING","sprintf",415],"(",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","language",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","get",415],"(",["T_CONSTANT_ENCAPSED_STRING","'text_transaction_subject'",415],")",",",["T_WHITESPACE"," ",415],["T_STRING","html_entity_decode",415],"(",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","config",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","get",415],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",415],")",",",["T_WHITESPACE"," ",415],["T_STRING","ENT_QUOTES",415],",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",415],")",")",")",";",["T_WHITESPACE","\n\t\t\t",415],["T_VARIABLE","$mail",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","setText",416],"(",["T_VARIABLE","$message",416],")",";",["T_WHITESPACE","\n\t\t\t",416],["T_VARIABLE","$mail",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","send",417],"(",")",";",["T_WHITESPACE","\n\t\t",417],"}",["T_WHITESPACE","\n\t",418],"}",["T_WHITESPACE","\n\n\t",419],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","deleteTransaction",421],"(",["T_VARIABLE","$order_id",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n\t\t",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","db",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","query",422],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_STRING","DB_PREFIX",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","\"customer_transaction WHERE order_id = '\"",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_INT_CAST","(int)",422],["T_VARIABLE","$order_id",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","\"'\"",422],")",";",["T_WHITESPACE","\n\t",422],"}",["T_WHITESPACE","\n\n\t",423],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","getTransactions",425],"(",["T_VARIABLE","$customer_id",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$start",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_LNUMBER","0",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$limit",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_LNUMBER","10",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n\t\t",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$start",426],["T_WHITESPACE"," ",426],"<",["T_WHITESPACE"," ",426],["T_LNUMBER","0",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n\t\t\t",426],["T_VARIABLE","$start",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_LNUMBER","0",427],";",["T_WHITESPACE","\n\t\t",427],"}",["T_WHITESPACE","\n\n\t\t",428],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$limit",430],["T_WHITESPACE"," ",430],"<",["T_WHITESPACE"," ",430],["T_LNUMBER","1",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n\t\t\t",430],["T_VARIABLE","$limit",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_LNUMBER","10",431],";",["T_WHITESPACE","\n\t\t",431],"}",["T_WHITESPACE","\n\n\t\t",432],["T_VARIABLE","$query",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","db",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","query",434],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_STRING","DB_PREFIX",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","\"customer_transaction WHERE customer_id = '\"",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_INT_CAST","(int)",434],["T_VARIABLE","$customer_id",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY date_added DESC LIMIT \"",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_INT_CAST","(int)",434],["T_VARIABLE","$start",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","\",\"",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_INT_CAST","(int)",434],["T_VARIABLE","$limit",434],")",";",["T_WHITESPACE","\n\n\t\t",434],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$query",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","rows",436],";",["T_WHITESPACE","\n\t",436],"}",["T_WHITESPACE","\n\n\t",437],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","getTotalTransactions",439],"(",["T_VARIABLE","$customer_id",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n\t\t",439],["T_VARIABLE","$query",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","db",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","query",440],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total  FROM \"",440],["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_STRING","DB_PREFIX",440],["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","\"customer_transaction WHERE customer_id = '\"",440],["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_INT_CAST","(int)",440],["T_VARIABLE","$customer_id",440],["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","\"'\"",440],")",";",["T_WHITESPACE","\n\n\t\t",440],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$query",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","row",442],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",442],"]",";",["T_WHITESPACE","\n\t",442],"}",["T_WHITESPACE","\n\n\t",443],["T_PUBLIC","public",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","getTransactionTotal",445],"(",["T_VARIABLE","$customer_id",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n\t\t",445],["T_VARIABLE","$query",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","db",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","query",446],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT SUM(amount) AS total FROM \"",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_STRING","DB_PREFIX",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","\"customer_transaction WHERE customer_id = '\"",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_INT_CAST","(int)",446],["T_VARIABLE","$customer_id",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","\"'\"",446],")",";",["T_WHITESPACE","\n\n\t\t",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$query",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","row",448],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",448],"]",";",["T_WHITESPACE","\n\t",448],"}",["T_WHITESPACE","\n\n\t",449],["T_PUBLIC","public",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","getTotalTransactionsByOrderId",451],"(",["T_VARIABLE","$order_id",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n\t\t",451],["T_VARIABLE","$query",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","db",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","query",452],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",452],["T_WHITESPACE"," ",452],".",["T_WHITESPACE"," ",452],["T_STRING","DB_PREFIX",452],["T_WHITESPACE"," ",452],".",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","\"customer_transaction WHERE order_id = '\"",452],["T_WHITESPACE"," ",452],".",["T_WHITESPACE"," ",452],["T_INT_CAST","(int)",452],["T_VARIABLE","$order_id",452],["T_WHITESPACE"," ",452],".",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","\"'\"",452],")",";",["T_WHITESPACE","\n\n\t\t",452],["T_RETURN","return",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$query",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","row",454],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",454],"]",";",["T_WHITESPACE","\n\t",454],"}",["T_WHITESPACE","\n\n\t",455],["T_PUBLIC","public",457],["T_WHITESPACE"," ",457],["T_FUNCTION","function",457],["T_WHITESPACE"," ",457],["T_STRING","addReward",457],"(",["T_VARIABLE","$customer_id",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$description",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","''",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$points",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","''",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$order_id",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_LNUMBER","0",457],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n\t\t",457],["T_VARIABLE","$customer_info",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","getCustomer",458],"(",["T_VARIABLE","$customer_id",458],")",";",["T_WHITESPACE","\n\n\t\t",458],["T_IF","if",460],["T_WHITESPACE"," ",460],"(",["T_VARIABLE","$customer_info",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n\t\t\t",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","db",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","query",461],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_STRING","DB_PREFIX",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","\"customer_reward SET customer_id = '\"",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_INT_CAST","(int)",461],["T_VARIABLE","$customer_id",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","\"', order_id = '\"",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_INT_CAST","(int)",461],["T_VARIABLE","$order_id",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","\"', points = '\"",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_INT_CAST","(int)",461],["T_VARIABLE","$points",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","\"', description = '\"",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","db",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","escape",461],"(",["T_VARIABLE","$description",461],")",["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",461],")",";",["T_WHITESPACE","\n\n\t\t\t",461],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","load",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","language",463],"(",["T_CONSTANT_ENCAPSED_STRING","'mail\/customer'",463],")",";",["T_WHITESPACE","\n\n\t\t\t",463],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","load",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","model",465],"(",["T_CONSTANT_ENCAPSED_STRING","'setting\/store'",465],")",";",["T_WHITESPACE","\n\n\t\t\t",465],["T_VARIABLE","$store_info",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","model_setting_store",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getStore",467],"(",["T_VARIABLE","$customer_info",467],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",467],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",467],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_VARIABLE","$store_info",469],")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n\t\t\t\t",469],["T_VARIABLE","$store_name",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$store_info",470],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",470],"]",";",["T_WHITESPACE","\n\t\t\t",470],"}",["T_WHITESPACE"," ",471],["T_ELSE","else",471],["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n\t\t\t\t",471],["T_VARIABLE","$store_name",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","config",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","get",472],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",472],")",";",["T_WHITESPACE","\n\t\t\t",472],"}",["T_WHITESPACE","\n\n\t\t\t",473],["T_VARIABLE","$message",475],["T_WHITESPACE","  ",475],"=",["T_WHITESPACE"," ",475],["T_STRING","sprintf",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","language",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","get",475],"(",["T_CONSTANT_ENCAPSED_STRING","'text_reward_received'",475],")",",",["T_WHITESPACE"," ",475],["T_VARIABLE","$points",475],")",["T_WHITESPACE"," ",475],".",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",475],";",["T_WHITESPACE","\n\t\t\t",475],["T_VARIABLE","$message",476],["T_WHITESPACE"," ",476],["T_CONCAT_EQUAL",".=",476],["T_WHITESPACE"," ",476],["T_STRING","sprintf",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","language",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","get",476],"(",["T_CONSTANT_ENCAPSED_STRING","'text_reward_total'",476],")",",",["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getRewardTotal",476],"(",["T_VARIABLE","$customer_id",476],")",")",";",["T_WHITESPACE","\n\n\t\t\t",476],["T_VARIABLE","$mail",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_NEW","new",478],["T_WHITESPACE"," ",478],["T_STRING","Mail",478],"(",")",";",["T_WHITESPACE","\n\t\t\t",478],["T_VARIABLE","$mail",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","protocol",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","config",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","get",479],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_protocol'",479],")",";",["T_WHITESPACE","\n\t\t\t",479],["T_VARIABLE","$mail",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","parameter",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","config",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","get",480],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_parameter'",480],")",";",["T_WHITESPACE","\n\t\t\t",480],["T_VARIABLE","$mail",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","smtp_hostname",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","config",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","get",481],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_hostname'",481],")",";",["T_WHITESPACE","\n\t\t\t",481],["T_VARIABLE","$mail",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","smtp_username",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","config",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","get",482],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_username'",482],")",";",["T_WHITESPACE","\n\t\t\t",482],["T_VARIABLE","$mail",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","smtp_password",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_STRING","html_entity_decode",483],"(",["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","config",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","get",483],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_password'",483],")",",",["T_WHITESPACE"," ",483],["T_STRING","ENT_QUOTES",483],",",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",483],")",";",["T_WHITESPACE","\n\t\t\t",483],["T_VARIABLE","$mail",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","smtp_port",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","config",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","get",484],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_port'",484],")",";",["T_WHITESPACE","\n\t\t\t",484],["T_VARIABLE","$mail",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","smtp_timeout",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","config",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","get",485],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_timeout'",485],")",";",["T_WHITESPACE","\n\n\t\t\t",485],["T_VARIABLE","$mail",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","setTo",487],"(",["T_VARIABLE","$customer_info",487],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",487],"]",")",";",["T_WHITESPACE","\n\t\t\t",487],["T_VARIABLE","$mail",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","setFrom",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","config",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","get",488],"(",["T_CONSTANT_ENCAPSED_STRING","'config_email'",488],")",")",";",["T_WHITESPACE","\n\t\t\t",488],["T_VARIABLE","$mail",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","setSender",489],"(",["T_STRING","html_entity_decode",489],"(",["T_VARIABLE","$store_name",489],",",["T_WHITESPACE"," ",489],["T_STRING","ENT_QUOTES",489],",",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",489],")",")",";",["T_WHITESPACE","\n\t\t\t",489],["T_VARIABLE","$mail",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","setSubject",490],"(",["T_STRING","sprintf",490],"(",["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","language",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","get",490],"(",["T_CONSTANT_ENCAPSED_STRING","'text_reward_subject'",490],")",",",["T_WHITESPACE"," ",490],["T_STRING","html_entity_decode",490],"(",["T_VARIABLE","$store_name",490],",",["T_WHITESPACE"," ",490],["T_STRING","ENT_QUOTES",490],",",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",490],")",")",")",";",["T_WHITESPACE","\n\t\t\t",490],["T_VARIABLE","$mail",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","setText",491],"(",["T_VARIABLE","$message",491],")",";",["T_WHITESPACE","\n\t\t\t",491],["T_VARIABLE","$mail",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","send",492],"(",")",";",["T_WHITESPACE","\n\t\t",492],"}",["T_WHITESPACE","\n\t",493],"}",["T_WHITESPACE","\n\n\t",494],["T_PUBLIC","public",496],["T_WHITESPACE"," ",496],["T_FUNCTION","function",496],["T_WHITESPACE"," ",496],["T_STRING","deleteReward",496],"(",["T_VARIABLE","$order_id",496],")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n\t\t",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","db",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","query",497],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM \"",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_STRING","DB_PREFIX",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","\"customer_reward WHERE order_id = '\"",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_INT_CAST","(int)",497],["T_VARIABLE","$order_id",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","\"' AND points > 0\"",497],")",";",["T_WHITESPACE","\n\t",497],"}",["T_WHITESPACE","\n\n\t",498],["T_PUBLIC","public",500],["T_WHITESPACE"," ",500],["T_FUNCTION","function",500],["T_WHITESPACE"," ",500],["T_STRING","getRewards",500],"(",["T_VARIABLE","$customer_id",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$start",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_LNUMBER","0",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$limit",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_LNUMBER","10",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n\t\t",500],["T_VARIABLE","$query",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","db",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","query",501],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_STRING","DB_PREFIX",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\"customer_reward WHERE customer_id = '\"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_INT_CAST","(int)",501],["T_VARIABLE","$customer_id",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY date_added DESC LIMIT \"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_INT_CAST","(int)",501],["T_VARIABLE","$start",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\",\"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_INT_CAST","(int)",501],["T_VARIABLE","$limit",501],")",";",["T_WHITESPACE","\n\n\t\t",501],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$query",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","rows",503],";",["T_WHITESPACE","\n\t",503],"}",["T_WHITESPACE","\n\n\t",504],["T_PUBLIC","public",506],["T_WHITESPACE"," ",506],["T_FUNCTION","function",506],["T_WHITESPACE"," ",506],["T_STRING","getTotalRewards",506],"(",["T_VARIABLE","$customer_id",506],")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n\t\t",506],["T_VARIABLE","$query",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","db",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","query",507],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",507],["T_WHITESPACE"," ",507],".",["T_WHITESPACE"," ",507],["T_STRING","DB_PREFIX",507],["T_WHITESPACE"," ",507],".",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","\"customer_reward WHERE customer_id = '\"",507],["T_WHITESPACE"," ",507],".",["T_WHITESPACE"," ",507],["T_INT_CAST","(int)",507],["T_VARIABLE","$customer_id",507],["T_WHITESPACE"," ",507],".",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","\"'\"",507],")",";",["T_WHITESPACE","\n\n\t\t",507],["T_RETURN","return",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$query",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","row",509],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",509],"]",";",["T_WHITESPACE","\n\t",509],"}",["T_WHITESPACE","\n\n\t",510],["T_PUBLIC","public",512],["T_WHITESPACE"," ",512],["T_FUNCTION","function",512],["T_WHITESPACE"," ",512],["T_STRING","getRewardTotal",512],"(",["T_VARIABLE","$customer_id",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n\t\t",512],["T_VARIABLE","$query",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","db",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","query",513],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT SUM(points) AS total FROM \"",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_STRING","DB_PREFIX",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","\"customer_reward WHERE customer_id = '\"",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_INT_CAST","(int)",513],["T_VARIABLE","$customer_id",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","\"'\"",513],")",";",["T_WHITESPACE","\n\n\t\t",513],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$query",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","row",515],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",515],"]",";",["T_WHITESPACE","\n\t",515],"}",["T_WHITESPACE","\n\n\t",516],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","getTotalCustomerRewardsByOrderId",518],"(",["T_VARIABLE","$order_id",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n\t\t",518],["T_VARIABLE","$query",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","db",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","query",519],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_STRING","DB_PREFIX",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"customer_reward WHERE order_id = '\"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_INT_CAST","(int)",519],["T_VARIABLE","$order_id",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"' AND points > 0\"",519],")",";",["T_WHITESPACE","\n\n\t\t",519],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$query",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","row",521],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",521],"]",";",["T_WHITESPACE","\n\t",521],"}",["T_WHITESPACE","\n\n\t",522],["T_PUBLIC","public",524],["T_WHITESPACE"," ",524],["T_FUNCTION","function",524],["T_WHITESPACE"," ",524],["T_STRING","getIps",524],"(",["T_VARIABLE","$customer_id",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$start",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_LNUMBER","0",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$limit",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_LNUMBER","10",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n\t\t",524],["T_IF","if",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$start",525],["T_WHITESPACE"," ",525],"<",["T_WHITESPACE"," ",525],["T_LNUMBER","0",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n\t\t\t",525],["T_VARIABLE","$start",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_LNUMBER","0",526],";",["T_WHITESPACE","\n\t\t",526],"}",["T_WHITESPACE","\n\t\t",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(",["T_VARIABLE","$limit",528],["T_WHITESPACE"," ",528],"<",["T_WHITESPACE"," ",528],["T_LNUMBER","1",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n\t\t\t",528],["T_VARIABLE","$limit",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_LNUMBER","10",529],";",["T_WHITESPACE","\n\t\t",529],"}",["T_WHITESPACE","\n\n\t\t",530],["T_VARIABLE","$query",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","db",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","query",532],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_STRING","DB_PREFIX",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","\"customer_ip WHERE customer_id = '\"",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_INT_CAST","(int)",532],["T_VARIABLE","$customer_id",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY date_added DESC LIMIT \"",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_INT_CAST","(int)",532],["T_VARIABLE","$start",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","\",\"",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_INT_CAST","(int)",532],["T_VARIABLE","$limit",532],")",";",["T_WHITESPACE","\n\t\t\n\t\t",532],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$query",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","rows",534],";",["T_WHITESPACE","\n\t",534],"}",["T_WHITESPACE","\n\n\t",535],["T_PUBLIC","public",537],["T_WHITESPACE"," ",537],["T_FUNCTION","function",537],["T_WHITESPACE"," ",537],["T_STRING","getTotalIps",537],"(",["T_VARIABLE","$customer_id",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n\t\t",537],["T_VARIABLE","$query",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","db",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","query",538],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_STRING","DB_PREFIX",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"customer_ip WHERE customer_id = '\"",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_INT_CAST","(int)",538],["T_VARIABLE","$customer_id",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"'\"",538],")",";",["T_WHITESPACE","\n\n\t\t",538],["T_RETURN","return",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$query",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","row",540],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",540],"]",";",["T_WHITESPACE","\n\t",540],"}",["T_WHITESPACE","\n\n\t",541],["T_PUBLIC","public",543],["T_WHITESPACE"," ",543],["T_FUNCTION","function",543],["T_WHITESPACE"," ",543],["T_STRING","getTotalCustomersByIp",543],"(",["T_VARIABLE","$ip",543],")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n\t\t",543],["T_VARIABLE","$query",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","db",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","query",544],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",544],["T_WHITESPACE"," ",544],".",["T_WHITESPACE"," ",544],["T_STRING","DB_PREFIX",544],["T_WHITESPACE"," ",544],".",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","\"customer_ip WHERE ip = '\"",544],["T_WHITESPACE"," ",544],".",["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","db",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","escape",544],"(",["T_VARIABLE","$ip",544],")",["T_WHITESPACE"," ",544],".",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","\"'\"",544],")",";",["T_WHITESPACE","\n\n\t\t",544],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$query",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","row",546],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",546],"]",";",["T_WHITESPACE","\n\t",546],"}",["T_WHITESPACE","\n\n\t",547],["T_PUBLIC","public",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","getTotalLoginAttempts",549],"(",["T_VARIABLE","$email",549],")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n\t\t",549],["T_VARIABLE","$query",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","db",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","query",550],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",550],["T_WHITESPACE"," ",550],".",["T_WHITESPACE"," ",550],["T_STRING","DB_PREFIX",550],["T_WHITESPACE"," ",550],".",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","\"customer_login` WHERE `email` = '\"",550],["T_WHITESPACE"," ",550],".",["T_WHITESPACE"," ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","db",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","escape",550],"(",["T_VARIABLE","$email",550],")",["T_WHITESPACE"," ",550],".",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","\"'\"",550],")",";",["T_WHITESPACE","\n\n\t\t",550],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$query",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","row",552],";",["T_WHITESPACE","\n\t",552],"}",["T_WHITESPACE","\n\n\t",553],["T_PUBLIC","public",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","deleteLoginAttempts",555],"(",["T_VARIABLE","$email",555],")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n\t\t",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","db",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","query",556],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",556],["T_WHITESPACE"," ",556],".",["T_WHITESPACE"," ",556],["T_STRING","DB_PREFIX",556],["T_WHITESPACE"," ",556],".",["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","\"customer_login` WHERE `email` = '\"",556],["T_WHITESPACE"," ",556],".",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","db",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","escape",556],"(",["T_VARIABLE","$email",556],")",["T_WHITESPACE"," ",556],".",["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","\"'\"",556],")",";",["T_WHITESPACE","\n\t",556],"}",["T_WHITESPACE","\n",557],"}",["T_WHITESPACE","\n",558]]