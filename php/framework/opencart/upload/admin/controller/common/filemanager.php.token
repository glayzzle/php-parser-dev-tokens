[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerCommonFileManager",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_COMMENT","\/\/ Find which protocol to use to pass the full image link back\n",6],["T_WHITESPACE","\t\t",7],["T_IF","if",7],["T_WHITESPACE"," ",7],"(",["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","request",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","server",7],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",7],"]",")",["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t\t",7],["T_VARIABLE","$server",8],["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_STRING","HTTPS_CATALOG",8],";",["T_WHITESPACE","\n\t\t",8],"}",["T_WHITESPACE"," ",9],["T_ELSE","else",9],["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t\t\t",9],["T_VARIABLE","$server",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_STRING","HTTP_CATALOG",10],";",["T_WHITESPACE","\n\t\t",10],"}",["T_WHITESPACE","\n\n\t\t",11],["T_IF","if",13],["T_WHITESPACE"," ",13],"(",["T_ISSET","isset",13],"(",["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","request",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","get",13],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",13],"]",")",")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t\t",13],["T_VARIABLE","$filter_name",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_STRING","rtrim",14],"(",["T_STRING","str_replace",14],"(",["T_ARRAY","array",14],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",14],",",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'\/'",14],")",",",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","''",14],",",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","request",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","get",14],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",14],"]",")",",",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'\/'",14],")",";",["T_WHITESPACE","\n\t\t",14],"}",["T_WHITESPACE"," ",15],["T_ELSE","else",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\t\t\t",15],["T_VARIABLE","$filter_name",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_STRING","null",16],";",["T_WHITESPACE","\n\t\t",16],"}",["T_WHITESPACE","\n\n\t\t",17],["T_COMMENT","\/\/ Make sure we have the correct directory\n",19],["T_WHITESPACE","\t\t",20],["T_IF","if",20],["T_WHITESPACE"," ",20],"(",["T_ISSET","isset",20],"(",["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","request",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","get",20],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",20],"]",")",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\t\t\t",20],["T_VARIABLE","$directory",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","rtrim",21],"(",["T_STRING","DIR_IMAGE",21],["T_WHITESPACE"," ",21],".",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",21],["T_WHITESPACE"," ",21],".",["T_WHITESPACE"," ",21],["T_STRING","str_replace",21],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","''",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","request",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","get",21],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",21],"]",")",",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'\/'",21],")",";",["T_WHITESPACE","\n\t\t",21],"}",["T_WHITESPACE"," ",22],["T_ELSE","else",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\t\t\t",22],["T_VARIABLE","$directory",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","DIR_IMAGE",23],["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'catalog'",23],";",["T_WHITESPACE","\n\t\t",23],"}",["T_WHITESPACE","\n\n\t\t",24],["T_IF","if",26],["T_WHITESPACE"," ",26],"(",["T_ISSET","isset",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","request",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",26],"]",")",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t\t",26],["T_VARIABLE","$page",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","request",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",27],"]",";",["T_WHITESPACE","\n\t\t",27],"}",["T_WHITESPACE"," ",28],["T_ELSE","else",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\t\t\t",28],["T_VARIABLE","$page",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","1",29],";",["T_WHITESPACE","\n\t\t",29],"}",["T_WHITESPACE","\n\n\t\t",30],["T_VARIABLE","$directories",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",")",";",["T_WHITESPACE","\n\t\t",32],["T_VARIABLE","$files",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",")",";",["T_WHITESPACE","\n\n\t\t",33],["T_VARIABLE","$data",35],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",35],"]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",")",";",["T_WHITESPACE","\n\n\t\t",35],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","load",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","model",37],"(",["T_CONSTANT_ENCAPSED_STRING","'tool\/image'",37],")",";",["T_WHITESPACE","\n\n\t\t",37],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_STRING","substr",39],"(",["T_STRING","str_replace",39],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'\/'",39],",",["T_WHITESPACE"," ",39],["T_STRING","realpath",39],"(",["T_VARIABLE","$directory",39],")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'\/'",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$filter_name",39],")",",",["T_WHITESPACE"," ",39],["T_LNUMBER","0",39],",",["T_WHITESPACE"," ",39],["T_STRING","strlen",39],"(",["T_STRING","DIR_IMAGE",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'catalog'",39],")",")",["T_WHITESPACE"," ",39],["T_IS_EQUAL","==",39],["T_WHITESPACE"," ",39],["T_STRING","DIR_IMAGE",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'catalog'",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n\t\t\t",39],["T_COMMENT","\/\/ Get directories\n",40],["T_WHITESPACE","\t\t\t",41],["T_VARIABLE","$directories",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","glob",41],"(",["T_VARIABLE","$directory",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'\/'",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$filter_name",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'*'",41],",",["T_WHITESPACE"," ",41],["T_STRING","GLOB_ONLYDIR",41],")",";",["T_WHITESPACE","\n\n\t\t\t",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(","!",["T_VARIABLE","$directories",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t\t",43],["T_VARIABLE","$directories",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n\t\t\t",44],"}",["T_WHITESPACE","\n\n\t\t\t",45],["T_COMMENT","\/\/ Get files\n",47],["T_WHITESPACE","\t\t\t",48],["T_VARIABLE","$files",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","glob",48],"(",["T_VARIABLE","$directory",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'\/'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_VARIABLE","$filter_name",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'*.{jpg,jpeg,png,gif,JPG,JPEG,PNG,GIF}'",48],",",["T_WHITESPACE"," ",48],["T_STRING","GLOB_BRACE",48],")",";",["T_WHITESPACE","\n\n\t\t\t",48],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","!",["T_VARIABLE","$files",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n\t\t\t\t",50],["T_VARIABLE","$files",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\t\t\t",51],"}",["T_WHITESPACE","\n\t\t",52],"}",["T_WHITESPACE","\n\n\t\t",53],["T_COMMENT","\/\/ Merge directories and files\n",55],["T_WHITESPACE","\t\t",56],["T_VARIABLE","$images",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","array_merge",56],"(",["T_VARIABLE","$directories",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$files",56],")",";",["T_WHITESPACE","\n\n\t\t",56],["T_COMMENT","\/\/ Get total number of files and directories\n",58],["T_WHITESPACE","\t\t",59],["T_VARIABLE","$image_total",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","count",59],"(",["T_VARIABLE","$images",59],")",";",["T_WHITESPACE","\n\n\t\t",59],["T_COMMENT","\/\/ Split the array based on current page number and max number of items per page of 10\n",61],["T_WHITESPACE","\t\t",62],["T_VARIABLE","$images",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","array_splice",62],"(",["T_VARIABLE","$images",62],",",["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$page",62],["T_WHITESPACE"," ",62],"-",["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],")",["T_WHITESPACE"," ",62],"*",["T_WHITESPACE"," ",62],["T_LNUMBER","16",62],",",["T_WHITESPACE"," ",62],["T_LNUMBER","16",62],")",";",["T_WHITESPACE","\n\n\t\t",62],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$images",64],["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$image",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t\t",64],["T_VARIABLE","$name",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","str_split",65],"(",["T_STRING","basename",65],"(",["T_VARIABLE","$image",65],")",",",["T_WHITESPACE"," ",65],["T_LNUMBER","14",65],")",";",["T_WHITESPACE","\n\n\t\t\t",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_STRING","is_dir",67],"(",["T_VARIABLE","$image",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t\t\t",67],["T_VARIABLE","$url",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","''",68],";",["T_WHITESPACE","\n\n\t\t\t\t",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_ISSET","isset",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","request",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","get",70],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",70],"]",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t\t\t",70],["T_VARIABLE","$url",71],["T_WHITESPACE"," ",71],["T_CONCAT_EQUAL",".=",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'&target='",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","request",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",71],"]",";",["T_WHITESPACE","\n\t\t\t\t",71],"}",["T_WHITESPACE","\n\n\t\t\t\t",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_ISSET","isset",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","request",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",74],"]",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t\t\t\t",74],["T_VARIABLE","$url",75],["T_WHITESPACE"," ",75],["T_CONCAT_EQUAL",".=",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'&thumb='",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","request",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",75],"]",";",["T_WHITESPACE","\n\t\t\t\t",75],"}",["T_WHITESPACE","\n\n\t\t\t\t",76],["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",78],"]","[","]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n\t\t\t\t\t",78],["T_CONSTANT_ENCAPSED_STRING","'thumb'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","''",79],",",["T_WHITESPACE","\n\t\t\t\t\t",79],["T_CONSTANT_ENCAPSED_STRING","'name'",80],["T_WHITESPACE","  ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","implode",80],"(",["T_CONSTANT_ENCAPSED_STRING","' '",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$name",80],")",",",["T_WHITESPACE","\n\t\t\t\t\t",80],["T_CONSTANT_ENCAPSED_STRING","'type'",81],["T_WHITESPACE","  ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'directory'",81],",",["T_WHITESPACE","\n\t\t\t\t\t",81],["T_CONSTANT_ENCAPSED_STRING","'path'",82],["T_WHITESPACE","  ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","utf8_substr",82],"(",["T_VARIABLE","$image",82],",",["T_WHITESPACE"," ",82],["T_STRING","utf8_strlen",82],"(",["T_STRING","DIR_IMAGE",82],")",")",",",["T_WHITESPACE","\n\t\t\t\t\t",82],["T_CONSTANT_ENCAPSED_STRING","'href'",83],["T_WHITESPACE","  ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","url",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","link",83],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'token='",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","session",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","data",83],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",83],"]",["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'&directory='",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_STRING","urlencode",83],"(",["T_STRING","utf8_substr",83],"(",["T_VARIABLE","$image",83],",",["T_WHITESPACE"," ",83],["T_STRING","utf8_strlen",83],"(",["T_STRING","DIR_IMAGE",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",83],")",")",")",["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$url",83],",",["T_WHITESPACE"," ",83],["T_STRING","true",83],")",["T_WHITESPACE","\n\t\t\t\t",83],")",";",["T_WHITESPACE","\n\t\t\t",84],"}",["T_WHITESPACE"," ",85],["T_ELSEIF","elseif",85],["T_WHITESPACE"," ",85],"(",["T_STRING","is_file",85],"(",["T_VARIABLE","$image",85],")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t\t\t",85],["T_VARIABLE","$data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",86],"]","[","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n\t\t\t\t\t",86],["T_CONSTANT_ENCAPSED_STRING","'thumb'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","model_tool_image",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","resize",87],"(",["T_STRING","utf8_substr",87],"(",["T_VARIABLE","$image",87],",",["T_WHITESPACE"," ",87],["T_STRING","utf8_strlen",87],"(",["T_STRING","DIR_IMAGE",87],")",")",",",["T_WHITESPACE"," ",87],["T_LNUMBER","100",87],",",["T_WHITESPACE"," ",87],["T_LNUMBER","100",87],")",",",["T_WHITESPACE","\n\t\t\t\t\t",87],["T_CONSTANT_ENCAPSED_STRING","'name'",88],["T_WHITESPACE","  ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","implode",88],"(",["T_CONSTANT_ENCAPSED_STRING","' '",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$name",88],")",",",["T_WHITESPACE","\n\t\t\t\t\t",88],["T_CONSTANT_ENCAPSED_STRING","'type'",89],["T_WHITESPACE","  ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'image'",89],",",["T_WHITESPACE","\n\t\t\t\t\t",89],["T_CONSTANT_ENCAPSED_STRING","'path'",90],["T_WHITESPACE","  ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","utf8_substr",90],"(",["T_VARIABLE","$image",90],",",["T_WHITESPACE"," ",90],["T_STRING","utf8_strlen",90],"(",["T_STRING","DIR_IMAGE",90],")",")",",",["T_WHITESPACE","\n\t\t\t\t\t",90],["T_CONSTANT_ENCAPSED_STRING","'href'",91],["T_WHITESPACE","  ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$server",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'image\/'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_STRING","utf8_substr",91],"(",["T_VARIABLE","$image",91],",",["T_WHITESPACE"," ",91],["T_STRING","utf8_strlen",91],"(",["T_STRING","DIR_IMAGE",91],")",")",["T_WHITESPACE","\n\t\t\t\t",91],")",";",["T_WHITESPACE","\n\t\t\t",92],"}",["T_WHITESPACE","\n\t\t",93],"}",["T_WHITESPACE","\n\n\t\t",94],["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'heading_title'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","language",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","get",96],"(",["T_CONSTANT_ENCAPSED_STRING","'heading_title'",96],")",";",["T_WHITESPACE","\n\n\t\t",96],["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'text_no_results'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","language",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","get",98],"(",["T_CONSTANT_ENCAPSED_STRING","'text_no_results'",98],")",";",["T_WHITESPACE","\n\t\t",98],["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'text_confirm'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","language",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","get",99],"(",["T_CONSTANT_ENCAPSED_STRING","'text_confirm'",99],")",";",["T_WHITESPACE","\n\n\t\t",99],["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_search'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","language",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_search'",101],")",";",["T_WHITESPACE","\n\t\t",101],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_folder'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","language",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_folder'",102],")",";",["T_WHITESPACE","\n\n\t\t",102],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'button_parent'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","language",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","get",104],"(",["T_CONSTANT_ENCAPSED_STRING","'button_parent'",104],")",";",["T_WHITESPACE","\n\t\t",104],["T_VARIABLE","$data",105],"[",["T_CONSTANT_ENCAPSED_STRING","'button_refresh'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","language",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_CONSTANT_ENCAPSED_STRING","'button_refresh'",105],")",";",["T_WHITESPACE","\n\t\t",105],["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'button_upload'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","language",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","get",106],"(",["T_CONSTANT_ENCAPSED_STRING","'button_upload'",106],")",";",["T_WHITESPACE","\n\t\t",106],["T_VARIABLE","$data",107],"[",["T_CONSTANT_ENCAPSED_STRING","'button_folder'",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","language",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_CONSTANT_ENCAPSED_STRING","'button_folder'",107],")",";",["T_WHITESPACE","\n\t\t",107],["T_VARIABLE","$data",108],"[",["T_CONSTANT_ENCAPSED_STRING","'button_delete'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","language",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","get",108],"(",["T_CONSTANT_ENCAPSED_STRING","'button_delete'",108],")",";",["T_WHITESPACE","\n\t\t",108],["T_VARIABLE","$data",109],"[",["T_CONSTANT_ENCAPSED_STRING","'button_search'",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","language",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","get",109],"(",["T_CONSTANT_ENCAPSED_STRING","'button_search'",109],")",";",["T_WHITESPACE","\n\n\t\t",109],["T_VARIABLE","$data",111],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","session",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","data",111],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",111],"]",";",["T_WHITESPACE","\n\n\t\t",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_ISSET","isset",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","request",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","get",113],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",113],"]",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n\t\t\t",113],["T_VARIABLE","$data",114],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","urlencode",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","request",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",114],"]",")",";",["T_WHITESPACE","\n\t\t",114],"}",["T_WHITESPACE"," ",115],["T_ELSE","else",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n\t\t\t",115],["T_VARIABLE","$data",116],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","''",116],";",["T_WHITESPACE","\n\t\t",116],"}",["T_WHITESPACE","\n\n\t\t",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_ISSET","isset",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","request",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","get",119],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n\t\t\t",119],["T_VARIABLE","$data",120],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","request",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","get",120],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",120],"]",";",["T_WHITESPACE","\n\t\t",120],"}",["T_WHITESPACE"," ",121],["T_ELSE","else",121],["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n\t\t\t",121],["T_VARIABLE","$data",122],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","''",122],";",["T_WHITESPACE","\n\t\t",122],"}",["T_WHITESPACE","\n\n\t\t",123],["T_COMMENT","\/\/ Return the target ID for the file manager to set the value\n",125],["T_WHITESPACE","\t\t",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","request",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","get",126],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n\t\t\t",126],["T_VARIABLE","$data",127],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","request",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","get",127],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",127],"]",";",["T_WHITESPACE","\n\t\t",127],"}",["T_WHITESPACE"," ",128],["T_ELSE","else",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n\t\t\t",128],["T_VARIABLE","$data",129],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","''",129],";",["T_WHITESPACE","\n\t\t",129],"}",["T_WHITESPACE","\n\n\t\t",130],["T_COMMENT","\/\/ Return the thumbnail for the file manager to show a thumbnail\n",132],["T_WHITESPACE","\t\t",133],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_ISSET","isset",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","request",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","get",133],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",133],"]",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n\t\t\t",133],["T_VARIABLE","$data",134],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","request",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","get",134],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",134],"]",";",["T_WHITESPACE","\n\t\t",134],"}",["T_WHITESPACE"," ",135],["T_ELSE","else",135],["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n\t\t\t",135],["T_VARIABLE","$data",136],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","''",136],";",["T_WHITESPACE","\n\t\t",136],"}",["T_WHITESPACE","\n\n\t\t",137],["T_COMMENT","\/\/ Parent\n",139],["T_WHITESPACE","\t\t",140],["T_VARIABLE","$url",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","''",140],";",["T_WHITESPACE","\n\n\t\t",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_ISSET","isset",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","request",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","get",142],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",142],"]",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n\t\t\t",142],["T_VARIABLE","$pos",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","strrpos",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","request",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","get",143],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",143],"]",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'\/'",143],")",";",["T_WHITESPACE","\n\n\t\t\t",143],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$pos",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n\t\t\t\t",145],["T_VARIABLE","$url",146],["T_WHITESPACE"," ",146],["T_CONCAT_EQUAL",".=",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'&directory='",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_STRING","urlencode",146],"(",["T_STRING","substr",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","request",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","get",146],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",146],"]",",",["T_WHITESPACE"," ",146],["T_LNUMBER","0",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$pos",146],")",")",";",["T_WHITESPACE","\n\t\t\t",146],"}",["T_WHITESPACE","\n\t\t",147],"}",["T_WHITESPACE","\n\n\t\t",148],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_ISSET","isset",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","request",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","get",150],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",150],"]",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n\t\t\t",150],["T_VARIABLE","$url",151],["T_WHITESPACE"," ",151],["T_CONCAT_EQUAL",".=",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'&target='",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","request",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","get",151],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",151],"]",";",["T_WHITESPACE","\n\t\t",151],"}",["T_WHITESPACE","\n\n\t\t",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_ISSET","isset",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","request",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","get",154],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",154],"]",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n\t\t\t",154],["T_VARIABLE","$url",155],["T_WHITESPACE"," ",155],["T_CONCAT_EQUAL",".=",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'&thumb='",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","request",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","get",155],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",155],"]",";",["T_WHITESPACE","\n\t\t",155],"}",["T_WHITESPACE","\n\n\t\t",156],["T_VARIABLE","$data",158],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","url",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","link",158],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'token='",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","session",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","data",158],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",158],"]",["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$url",158],",",["T_WHITESPACE"," ",158],["T_STRING","true",158],")",";",["T_WHITESPACE","\n\n\t\t",158],["T_COMMENT","\/\/ Refresh\n",160],["T_WHITESPACE","\t\t",161],["T_VARIABLE","$url",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","''",161],";",["T_WHITESPACE","\n\n\t\t",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_ISSET","isset",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","request",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","get",163],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",163],"]",")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n\t\t\t",163],["T_VARIABLE","$url",164],["T_WHITESPACE"," ",164],["T_CONCAT_EQUAL",".=",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'&directory='",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_STRING","urlencode",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","request",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","get",164],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",164],"]",")",";",["T_WHITESPACE","\n\t\t",164],"}",["T_WHITESPACE","\n\n\t\t",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_ISSET","isset",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","request",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","get",167],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",167],"]",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n\t\t\t",167],["T_VARIABLE","$url",168],["T_WHITESPACE"," ",168],["T_CONCAT_EQUAL",".=",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'&target='",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","request",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","get",168],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",168],"]",";",["T_WHITESPACE","\n\t\t",168],"}",["T_WHITESPACE","\n\n\t\t",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_ISSET","isset",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","request",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","get",171],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",171],"]",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t\t",171],["T_VARIABLE","$url",172],["T_WHITESPACE"," ",172],["T_CONCAT_EQUAL",".=",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'&thumb='",172],["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","request",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","get",172],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",172],"]",";",["T_WHITESPACE","\n\t\t",172],"}",["T_WHITESPACE","\n\n\t\t",173],["T_VARIABLE","$data",175],"[",["T_CONSTANT_ENCAPSED_STRING","'refresh'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","url",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","link",175],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'token='",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","session",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","data",175],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",175],"]",["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$url",175],",",["T_WHITESPACE"," ",175],["T_STRING","true",175],")",";",["T_WHITESPACE","\n\n\t\t",175],["T_VARIABLE","$url",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","''",177],";",["T_WHITESPACE","\n\n\t\t",177],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_ISSET","isset",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","request",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",179],"]",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n\t\t\t",179],["T_VARIABLE","$url",180],["T_WHITESPACE"," ",180],["T_CONCAT_EQUAL",".=",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'&directory='",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_STRING","urlencode",180],"(",["T_STRING","html_entity_decode",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","request",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","get",180],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",180],"]",",",["T_WHITESPACE"," ",180],["T_STRING","ENT_QUOTES",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",180],")",")",";",["T_WHITESPACE","\n\t\t",180],"}",["T_WHITESPACE","\n\n\t\t",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_ISSET","isset",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","request",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n\t\t\t",183],["T_VARIABLE","$url",184],["T_WHITESPACE"," ",184],["T_CONCAT_EQUAL",".=",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'&filter_name='",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_STRING","urlencode",184],"(",["T_STRING","html_entity_decode",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","request",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",184],"]",",",["T_WHITESPACE"," ",184],["T_STRING","ENT_QUOTES",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",184],")",")",";",["T_WHITESPACE","\n\t\t",184],"}",["T_WHITESPACE","\n\n\t\t",185],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_ISSET","isset",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","request",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","get",187],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",187],"]",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n\t\t\t",187],["T_VARIABLE","$url",188],["T_WHITESPACE"," ",188],["T_CONCAT_EQUAL",".=",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'&target='",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","request",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","get",188],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",188],"]",";",["T_WHITESPACE","\n\t\t",188],"}",["T_WHITESPACE","\n\n\t\t",189],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_ISSET","isset",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","request",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","get",191],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",191],"]",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n\t\t\t",191],["T_VARIABLE","$url",192],["T_WHITESPACE"," ",192],["T_CONCAT_EQUAL",".=",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'&thumb='",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","request",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","get",192],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",192],"]",";",["T_WHITESPACE","\n\t\t",192],"}",["T_WHITESPACE","\n\n\t\t",193],["T_VARIABLE","$pagination",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","Pagination",195],"(",")",";",["T_WHITESPACE","\n\t\t",195],["T_VARIABLE","$pagination",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","total",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$image_total",196],";",["T_WHITESPACE","\n\t\t",196],["T_VARIABLE","$pagination",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","page",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$page",197],";",["T_WHITESPACE","\n\t\t",197],["T_VARIABLE","$pagination",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","limit",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_LNUMBER","16",198],";",["T_WHITESPACE","\n\t\t",198],["T_VARIABLE","$pagination",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","url",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","url",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","link",199],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'token='",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","session",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","data",199],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",199],"]",["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_VARIABLE","$url",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'&page={page}'",199],",",["T_WHITESPACE"," ",199],["T_STRING","true",199],")",";",["T_WHITESPACE","\n\n\t\t",199],["T_VARIABLE","$data",201],"[",["T_CONSTANT_ENCAPSED_STRING","'pagination'",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$pagination",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","render",201],"(",")",";",["T_WHITESPACE","\n\n\t\t",201],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","response",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","setOutput",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","load",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","view",203],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$data",203],")",")",";",["T_WHITESPACE","\n\t",203],"}",["T_WHITESPACE","\n\n\t",204],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","upload",206],"(",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n\t\t",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","load",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","language",207],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",207],")",";",["T_WHITESPACE","\n\n\t\t",207],["T_VARIABLE","$json",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",")",";",["T_WHITESPACE","\n\n\t\t",209],["T_COMMENT","\/\/ Check user has permission\n",211],["T_WHITESPACE","\t\t",212],["T_IF","if",212],["T_WHITESPACE"," ",212],"(","!",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","user",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","hasPermission",212],"(",["T_CONSTANT_ENCAPSED_STRING","'modify'",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n\t\t\t",212],["T_VARIABLE","$json",213],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","language",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_CONSTANT_ENCAPSED_STRING","'error_permission'",213],")",";",["T_WHITESPACE","\n\t\t",213],"}",["T_WHITESPACE","\n\n\t\t",214],["T_COMMENT","\/\/ Make sure we have the correct directory\n",216],["T_WHITESPACE","\t\t",217],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_ISSET","isset",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","request",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","get",217],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",217],"]",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n\t\t\t",217],["T_VARIABLE","$directory",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","rtrim",218],"(",["T_STRING","DIR_IMAGE",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","request",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","get",218],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",218],"]",",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'\/'",218],")",";",["T_WHITESPACE","\n\t\t",218],"}",["T_WHITESPACE"," ",219],["T_ELSE","else",219],["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n\t\t\t",219],["T_VARIABLE","$directory",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","DIR_IMAGE",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'catalog'",220],";",["T_WHITESPACE","\n\t\t",220],"}",["T_WHITESPACE","\n\n\t\t",221],["T_COMMENT","\/\/ Check its a directory\n",223],["T_WHITESPACE","\t\t",224],["T_IF","if",224],["T_WHITESPACE"," ",224],"(","!",["T_STRING","is_dir",224],"(",["T_VARIABLE","$directory",224],")",["T_WHITESPACE"," ",224],["T_BOOLEAN_OR","||",224],["T_WHITESPACE"," ",224],["T_STRING","substr",224],"(",["T_STRING","str_replace",224],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'\/'",224],",",["T_WHITESPACE"," ",224],["T_STRING","realpath",224],"(",["T_VARIABLE","$directory",224],")",")",",",["T_WHITESPACE"," ",224],["T_LNUMBER","0",224],",",["T_WHITESPACE"," ",224],["T_STRING","strlen",224],"(",["T_STRING","DIR_IMAGE",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'catalog'",224],")",")",["T_WHITESPACE"," ",224],["T_IS_NOT_EQUAL","!=",224],["T_WHITESPACE"," ",224],["T_STRING","DIR_IMAGE",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'catalog'",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n\t\t\t",224],["T_VARIABLE","$json",225],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","language",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","get",225],"(",["T_CONSTANT_ENCAPSED_STRING","'error_directory'",225],")",";",["T_WHITESPACE","\n\t\t",225],"}",["T_WHITESPACE","\n\n\t\t",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(","!",["T_VARIABLE","$json",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t\t",228],["T_COMMENT","\/\/ Check if multiple files are uploaded or just one\n",229],["T_WHITESPACE","\t\t\t",230],["T_VARIABLE","$files",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",230],["T_IF","if",232],["T_WHITESPACE"," ",232],"(","!",["T_EMPTY","empty",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","request",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","files",232],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",232],"]",")",["T_WHITESPACE"," ",232],["T_BOOLEAN_AND","&&",232],["T_WHITESPACE"," ",232],["T_STRING","is_array",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","request",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","files",232],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",232],"]",")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n\t\t\t\t",232],["T_FOREACH","foreach",233],["T_WHITESPACE"," ",233],"(",["T_STRING","array_keys",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","request",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","files",233],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",233],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",233],"]",")",["T_WHITESPACE"," ",233],["T_AS","as",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$key",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n\t\t\t\t\t",233],["T_VARIABLE","$files",234],"[","]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",234],["T_CONSTANT_ENCAPSED_STRING","'name'",235],["T_WHITESPACE","     ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","request",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","files",235],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",235],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",235],"]","[",["T_VARIABLE","$key",235],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",235],["T_CONSTANT_ENCAPSED_STRING","'type'",236],["T_WHITESPACE","     ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","request",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","files",236],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",236],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",236],"]","[",["T_VARIABLE","$key",236],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",236],["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","request",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","files",237],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",237],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",237],"]","[",["T_VARIABLE","$key",237],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",237],["T_CONSTANT_ENCAPSED_STRING","'error'",238],["T_WHITESPACE","    ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","request",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","files",238],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",238],"]","[",["T_VARIABLE","$key",238],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",238],["T_CONSTANT_ENCAPSED_STRING","'size'",239],["T_WHITESPACE","     ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","request",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","files",239],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",239],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",239],"]","[",["T_VARIABLE","$key",239],"]",["T_WHITESPACE","\n\t\t\t\t\t",239],")",";",["T_WHITESPACE","\n\t\t\t\t",240],"}",["T_WHITESPACE","\n\t\t\t",241],"}",["T_WHITESPACE","\n\n\t\t\t",242],["T_FOREACH","foreach",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$files",244],["T_WHITESPACE"," ",244],["T_AS","as",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$file",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n\t\t\t\t",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_STRING","is_file",245],"(",["T_VARIABLE","$file",245],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",245],"]",")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n\t\t\t\t\t",245],["T_COMMENT","\/\/ Sanitize the filename\n",246],["T_WHITESPACE","\t\t\t\t\t",247],["T_VARIABLE","$filename",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","basename",247],"(",["T_STRING","html_entity_decode",247],"(",["T_VARIABLE","$file",247],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",247],"]",",",["T_WHITESPACE"," ",247],["T_STRING","ENT_QUOTES",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",247],")",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",247],["T_COMMENT","\/\/ Validate the filename length\n",249],["T_WHITESPACE","\t\t\t\t\t",250],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","(",["T_STRING","utf8_strlen",250],"(",["T_VARIABLE","$filename",250],")",["T_WHITESPACE"," ",250],"<",["T_WHITESPACE"," ",250],["T_LNUMBER","3",250],")",["T_WHITESPACE"," ",250],["T_BOOLEAN_OR","||",250],["T_WHITESPACE"," ",250],"(",["T_STRING","utf8_strlen",250],"(",["T_VARIABLE","$filename",250],")",["T_WHITESPACE"," ",250],">",["T_WHITESPACE"," ",250],["T_LNUMBER","255",250],")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",250],["T_VARIABLE","$json",251],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",251],"]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","language",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","get",251],"(",["T_CONSTANT_ENCAPSED_STRING","'error_filename'",251],")",";",["T_WHITESPACE","\n\t\t\t\t\t",251],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",252],["T_COMMENT","\/\/ Allowed file extension types\n",254],["T_WHITESPACE","\t\t\t\t\t",255],["T_VARIABLE","$allowed",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",255],["T_CONSTANT_ENCAPSED_STRING","'jpg'",256],",",["T_WHITESPACE","\n\t\t\t\t\t\t",256],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",257],",",["T_WHITESPACE","\n\t\t\t\t\t\t",257],["T_CONSTANT_ENCAPSED_STRING","'gif'",258],",",["T_WHITESPACE","\n\t\t\t\t\t\t",258],["T_CONSTANT_ENCAPSED_STRING","'png'",259],["T_WHITESPACE","\n\t\t\t\t\t",259],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",260],["T_IF","if",262],["T_WHITESPACE"," ",262],"(","!",["T_STRING","in_array",262],"(",["T_STRING","utf8_strtolower",262],"(",["T_STRING","utf8_substr",262],"(",["T_STRING","strrchr",262],"(",["T_VARIABLE","$filename",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'.'",262],")",",",["T_WHITESPACE"," ",262],["T_LNUMBER","1",262],")",")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$allowed",262],")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",262],["T_VARIABLE","$json",263],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","language",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","get",263],"(",["T_CONSTANT_ENCAPSED_STRING","'error_filetype'",263],")",";",["T_WHITESPACE","\n\t\t\t\t\t",263],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",264],["T_COMMENT","\/\/ Allowed file mime types\n",266],["T_WHITESPACE","\t\t\t\t\t",267],["T_VARIABLE","$allowed",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",267],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",268],",",["T_WHITESPACE","\n\t\t\t\t\t\t",268],["T_CONSTANT_ENCAPSED_STRING","'image\/pjpeg'",269],",",["T_WHITESPACE","\n\t\t\t\t\t\t",269],["T_CONSTANT_ENCAPSED_STRING","'image\/png'",270],",",["T_WHITESPACE","\n\t\t\t\t\t\t",270],["T_CONSTANT_ENCAPSED_STRING","'image\/x-png'",271],",",["T_WHITESPACE","\n\t\t\t\t\t\t",271],["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",272],["T_WHITESPACE","\n\t\t\t\t\t",272],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",273],["T_IF","if",275],["T_WHITESPACE"," ",275],"(","!",["T_STRING","in_array",275],"(",["T_VARIABLE","$file",275],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",275],"]",",",["T_WHITESPACE"," ",275],["T_VARIABLE","$allowed",275],")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",275],["T_VARIABLE","$json",276],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",276],"]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","language",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","get",276],"(",["T_CONSTANT_ENCAPSED_STRING","'error_filetype'",276],")",";",["T_WHITESPACE","\n\t\t\t\t\t",276],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",277],["T_COMMENT","\/\/ Return any upload error\n",279],["T_WHITESPACE","\t\t\t\t\t",280],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$file",280],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",280],"]",["T_WHITESPACE"," ",280],["T_IS_NOT_EQUAL","!=",280],["T_WHITESPACE"," ",280],["T_STRING","UPLOAD_ERR_OK",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",280],["T_VARIABLE","$json",281],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",281],"]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","language",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","get",281],"(",["T_CONSTANT_ENCAPSED_STRING","'error_upload_'",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_VARIABLE","$file",281],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",281],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",281],"}",["T_WHITESPACE","\n\t\t\t\t",282],"}",["T_WHITESPACE"," ",283],["T_ELSE","else",283],["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n\t\t\t\t\t",283],["T_VARIABLE","$json",284],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",284],"]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","language",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","get",284],"(",["T_CONSTANT_ENCAPSED_STRING","'error_upload'",284],")",";",["T_WHITESPACE","\n\t\t\t\t",284],"}",["T_WHITESPACE","\n\n\t\t\t\t",285],["T_IF","if",287],["T_WHITESPACE"," ",287],"(","!",["T_VARIABLE","$json",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n\t\t\t\t\t",287],["T_STRING","move_uploaded_file",288],"(",["T_VARIABLE","$file",288],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",288],"]",",",["T_WHITESPACE"," ",288],["T_VARIABLE","$directory",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'\/'",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_VARIABLE","$filename",288],")",";",["T_WHITESPACE","\n\t\t\t\t",288],"}",["T_WHITESPACE","\n\t\t\t",289],"}",["T_WHITESPACE","\n\t\t",290],"}",["T_WHITESPACE","\n\n\t\t",291],["T_IF","if",293],["T_WHITESPACE"," ",293],"(","!",["T_VARIABLE","$json",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n\t\t\t",293],["T_VARIABLE","$json",294],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","language",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","get",294],"(",["T_CONSTANT_ENCAPSED_STRING","'text_uploaded'",294],")",";",["T_WHITESPACE","\n\t\t",294],"}",["T_WHITESPACE","\n\n\t\t",295],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","response",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","addHeader",297],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",297],")",";",["T_WHITESPACE","\n\t\t",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","response",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","setOutput",298],"(",["T_STRING","json_encode",298],"(",["T_VARIABLE","$json",298],")",")",";",["T_WHITESPACE","\n\t",298],"}",["T_WHITESPACE","\n\n\t",299],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","folder",301],"(",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n\t\t",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","load",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","language",302],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",302],")",";",["T_WHITESPACE","\n\n\t\t",302],["T_VARIABLE","$json",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_ARRAY","array",304],"(",")",";",["T_WHITESPACE","\n\n\t\t",304],["T_COMMENT","\/\/ Check user has permission\n",306],["T_WHITESPACE","\t\t",307],["T_IF","if",307],["T_WHITESPACE"," ",307],"(","!",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","user",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","hasPermission",307],"(",["T_CONSTANT_ENCAPSED_STRING","'modify'",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",307],")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n\t\t\t",307],["T_VARIABLE","$json",308],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",308],"]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","language",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","get",308],"(",["T_CONSTANT_ENCAPSED_STRING","'error_permission'",308],")",";",["T_WHITESPACE","\n\t\t",308],"}",["T_WHITESPACE","\n\n\t\t",309],["T_COMMENT","\/\/ Make sure we have the correct directory\n",311],["T_WHITESPACE","\t\t",312],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_ISSET","isset",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","request",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","get",312],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",312],"]",")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n\t\t\t",312],["T_VARIABLE","$directory",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","rtrim",313],"(",["T_STRING","DIR_IMAGE",313],["T_WHITESPACE"," ",313],".",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",313],["T_WHITESPACE"," ",313],".",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","request",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","get",313],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",313],"]",",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'\/'",313],")",";",["T_WHITESPACE","\n\t\t",313],"}",["T_WHITESPACE"," ",314],["T_ELSE","else",314],["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n\t\t\t",314],["T_VARIABLE","$directory",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","DIR_IMAGE",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'catalog'",315],";",["T_WHITESPACE","\n\t\t",315],"}",["T_WHITESPACE","\n\n\t\t",316],["T_COMMENT","\/\/ Check its a directory\n",318],["T_WHITESPACE","\t\t",319],["T_IF","if",319],["T_WHITESPACE"," ",319],"(","!",["T_STRING","is_dir",319],"(",["T_VARIABLE","$directory",319],")",["T_WHITESPACE"," ",319],["T_BOOLEAN_OR","||",319],["T_WHITESPACE"," ",319],["T_STRING","substr",319],"(",["T_STRING","str_replace",319],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'\/'",319],",",["T_WHITESPACE"," ",319],["T_STRING","realpath",319],"(",["T_VARIABLE","$directory",319],")",")",",",["T_WHITESPACE"," ",319],["T_LNUMBER","0",319],",",["T_WHITESPACE"," ",319],["T_STRING","strlen",319],"(",["T_STRING","DIR_IMAGE",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'catalog'",319],")",")",["T_WHITESPACE"," ",319],["T_IS_NOT_EQUAL","!=",319],["T_WHITESPACE"," ",319],["T_STRING","DIR_IMAGE",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'catalog'",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n\t\t\t",319],["T_VARIABLE","$json",320],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",320],"]",["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","language",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","get",320],"(",["T_CONSTANT_ENCAPSED_STRING","'error_directory'",320],")",";",["T_WHITESPACE","\n\t\t",320],"}",["T_WHITESPACE","\n\n\t\t",321],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","request",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","server",323],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",323],"]",["T_WHITESPACE"," ",323],["T_IS_EQUAL","==",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'POST'",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n\t\t\t",323],["T_COMMENT","\/\/ Sanitize the folder name\n",324],["T_WHITESPACE","\t\t\t",325],["T_VARIABLE","$folder",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","basename",325],"(",["T_STRING","html_entity_decode",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","request",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","post",325],"[",["T_CONSTANT_ENCAPSED_STRING","'folder'",325],"]",",",["T_WHITESPACE"," ",325],["T_STRING","ENT_QUOTES",325],",",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",325],")",")",";",["T_WHITESPACE","\n\n\t\t\t",325],["T_COMMENT","\/\/ Validate the filename length\n",327],["T_WHITESPACE","\t\t\t",328],["T_IF","if",328],["T_WHITESPACE"," ",328],"(","(",["T_STRING","utf8_strlen",328],"(",["T_VARIABLE","$folder",328],")",["T_WHITESPACE"," ",328],"<",["T_WHITESPACE"," ",328],["T_LNUMBER","3",328],")",["T_WHITESPACE"," ",328],["T_BOOLEAN_OR","||",328],["T_WHITESPACE"," ",328],"(",["T_STRING","utf8_strlen",328],"(",["T_VARIABLE","$folder",328],")",["T_WHITESPACE"," ",328],">",["T_WHITESPACE"," ",328],["T_LNUMBER","128",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n\t\t\t\t",328],["T_VARIABLE","$json",329],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",329],"]",["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","language",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","get",329],"(",["T_CONSTANT_ENCAPSED_STRING","'error_folder'",329],")",";",["T_WHITESPACE","\n\t\t\t",329],"}",["T_WHITESPACE","\n\n\t\t\t",330],["T_COMMENT","\/\/ Check if directory already exists or not\n",332],["T_WHITESPACE","\t\t\t",333],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","is_dir",333],"(",["T_VARIABLE","$directory",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'\/'",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_VARIABLE","$folder",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n\t\t\t\t",333],["T_VARIABLE","$json",334],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",334],"]",["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","language",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","get",334],"(",["T_CONSTANT_ENCAPSED_STRING","'error_exists'",334],")",";",["T_WHITESPACE","\n\t\t\t",334],"}",["T_WHITESPACE","\n\t\t",335],"}",["T_WHITESPACE","\n\n\t\t",336],["T_IF","if",338],["T_WHITESPACE"," ",338],"(","!",["T_ISSET","isset",338],"(",["T_VARIABLE","$json",338],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",338],"]",")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n\t\t\t",338],["T_STRING","mkdir",339],"(",["T_VARIABLE","$directory",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'\/'",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_VARIABLE","$folder",339],",",["T_WHITESPACE"," ",339],["T_LNUMBER","0777",339],")",";",["T_WHITESPACE","\n\t\t\t",339],["T_STRING","chmod",340],"(",["T_VARIABLE","$directory",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'\/'",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_VARIABLE","$folder",340],",",["T_WHITESPACE"," ",340],["T_LNUMBER","0777",340],")",";",["T_WHITESPACE","\n\n\t\t\t",340],"@",["T_STRING","touch",342],"(",["T_VARIABLE","$directory",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'\/'",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_VARIABLE","$folder",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'\/'",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'index.html'",342],")",";",["T_WHITESPACE","\n\n\t\t\t",342],["T_VARIABLE","$json",344],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",344],"]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","language",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","get",344],"(",["T_CONSTANT_ENCAPSED_STRING","'text_directory'",344],")",";",["T_WHITESPACE","\n\t\t",344],"}",["T_WHITESPACE","\n\n\t\t",345],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","response",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","addHeader",347],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",347],")",";",["T_WHITESPACE","\n\t\t",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","response",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","setOutput",348],"(",["T_STRING","json_encode",348],"(",["T_VARIABLE","$json",348],")",")",";",["T_WHITESPACE","\n\t",348],"}",["T_WHITESPACE","\n\n\t",349],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","delete",351],"(",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n\t\t",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","load",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","language",352],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",352],")",";",["T_WHITESPACE","\n\n\t\t",352],["T_VARIABLE","$json",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_ARRAY","array",354],"(",")",";",["T_WHITESPACE","\n\n\t\t",354],["T_COMMENT","\/\/ Check user has permission\n",356],["T_WHITESPACE","\t\t",357],["T_IF","if",357],["T_WHITESPACE"," ",357],"(","!",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","user",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","hasPermission",357],"(",["T_CONSTANT_ENCAPSED_STRING","'modify'",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'common\/filemanager'",357],")",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n\t\t\t",357],["T_VARIABLE","$json",358],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",358],"]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","language",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","get",358],"(",["T_CONSTANT_ENCAPSED_STRING","'error_permission'",358],")",";",["T_WHITESPACE","\n\t\t",358],"}",["T_WHITESPACE","\n\n\t\t",359],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_ISSET","isset",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","request",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","post",361],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",361],"]",")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n\t\t\t",361],["T_VARIABLE","$paths",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","request",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","post",362],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",362],"]",";",["T_WHITESPACE","\n\t\t",362],"}",["T_WHITESPACE"," ",363],["T_ELSE","else",363],["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n\t\t\t",363],["T_VARIABLE","$paths",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_ARRAY","array",364],"(",")",";",["T_WHITESPACE","\n\t\t",364],"}",["T_WHITESPACE","\n\n\t\t",365],["T_COMMENT","\/\/ Loop through each path to run validations\n",367],["T_WHITESPACE","\t\t",368],["T_FOREACH","foreach",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$paths",368],["T_WHITESPACE"," ",368],["T_AS","as",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$path",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n\t\t\t",368],["T_COMMENT","\/\/ Check path exsists\n",369],["T_WHITESPACE","\t\t\t",370],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$path",370],["T_WHITESPACE"," ",370],["T_IS_EQUAL","==",370],["T_WHITESPACE"," ",370],["T_STRING","DIR_IMAGE",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'catalog'",370],["T_WHITESPACE"," ",370],["T_BOOLEAN_OR","||",370],["T_WHITESPACE"," ",370],["T_STRING","substr",370],"(",["T_STRING","str_replace",370],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'\/'",370],",",["T_WHITESPACE"," ",370],["T_STRING","realpath",370],"(",["T_STRING","DIR_IMAGE",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_VARIABLE","$path",370],")",")",",",["T_WHITESPACE"," ",370],["T_LNUMBER","0",370],",",["T_WHITESPACE"," ",370],["T_STRING","strlen",370],"(",["T_STRING","DIR_IMAGE",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'catalog'",370],")",")",["T_WHITESPACE"," ",370],["T_IS_NOT_EQUAL","!=",370],["T_WHITESPACE"," ",370],["T_STRING","DIR_IMAGE",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'catalog'",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n\t\t\t\t",370],["T_VARIABLE","$json",371],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",371],"]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","language",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","get",371],"(",["T_CONSTANT_ENCAPSED_STRING","'error_delete'",371],")",";",["T_WHITESPACE","\n\n\t\t\t\t",371],["T_BREAK","break",373],";",["T_WHITESPACE","\n\t\t\t",373],"}",["T_WHITESPACE","\n\t\t",374],"}",["T_WHITESPACE","\n\n\t\t",375],["T_IF","if",377],["T_WHITESPACE"," ",377],"(","!",["T_VARIABLE","$json",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n\t\t\t",377],["T_COMMENT","\/\/ Loop through each path\n",378],["T_WHITESPACE","\t\t\t",379],["T_FOREACH","foreach",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$paths",379],["T_WHITESPACE"," ",379],["T_AS","as",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$path",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n\t\t\t\t",379],["T_VARIABLE","$path",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_STRING","rtrim",380],"(",["T_STRING","DIR_IMAGE",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_VARIABLE","$path",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'\/'",380],")",";",["T_WHITESPACE","\n\n\t\t\t\t",380],["T_COMMENT","\/\/ If path is just a file delete it\n",382],["T_WHITESPACE","\t\t\t\t",383],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_STRING","is_file",383],"(",["T_VARIABLE","$path",383],")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n\t\t\t\t\t",383],["T_STRING","unlink",384],"(",["T_VARIABLE","$path",384],")",";",["T_WHITESPACE","\n\n\t\t\t\t",384],["T_COMMENT","\/\/ If path is a directory beging deleting each file and sub folder\n",386],["T_WHITESPACE","\t\t\t\t",387],"}",["T_WHITESPACE"," ",387],["T_ELSEIF","elseif",387],["T_WHITESPACE"," ",387],"(",["T_STRING","is_dir",387],"(",["T_VARIABLE","$path",387],")",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n\t\t\t\t\t",387],["T_VARIABLE","$files",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",388],["T_COMMENT","\/\/ Make path into an array\n",390],["T_WHITESPACE","\t\t\t\t\t",391],["T_VARIABLE","$path",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",["T_VARIABLE","$path",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'*'",391],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",391],["T_COMMENT","\/\/ While the path array is still populated keep looping through\n",393],["T_WHITESPACE","\t\t\t\t\t",394],["T_WHILE","while",394],["T_WHITESPACE"," ",394],"(",["T_STRING","count",394],"(",["T_VARIABLE","$path",394],")",["T_WHITESPACE"," ",394],["T_IS_NOT_EQUAL","!=",394],["T_WHITESPACE"," ",394],["T_LNUMBER","0",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",394],["T_VARIABLE","$next",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","array_shift",395],"(",["T_VARIABLE","$path",395],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",395],["T_FOREACH","foreach",397],["T_WHITESPACE"," ",397],"(",["T_STRING","glob",397],"(",["T_VARIABLE","$next",397],")",["T_WHITESPACE"," ",397],["T_AS","as",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$file",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",397],["T_COMMENT","\/\/ If directory add to path array\n",398],["T_WHITESPACE","\t\t\t\t\t\t\t",399],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_STRING","is_dir",399],"(",["T_VARIABLE","$file",399],")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",399],["T_VARIABLE","$path",400],"[","]",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$file",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'\/*'",400],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",400],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",401],["T_COMMENT","\/\/ Add the file to the files to be deleted array\n",403],["T_WHITESPACE","\t\t\t\t\t\t\t",404],["T_VARIABLE","$files",404],"[","]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$file",404],";",["T_WHITESPACE","\n\t\t\t\t\t\t",404],"}",["T_WHITESPACE","\n\t\t\t\t\t",405],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",406],["T_COMMENT","\/\/ Reverse sort the file array\n",408],["T_WHITESPACE","\t\t\t\t\t",409],["T_STRING","rsort",409],"(",["T_VARIABLE","$files",409],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",409],["T_FOREACH","foreach",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$files",411],["T_WHITESPACE"," ",411],["T_AS","as",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$file",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",411],["T_COMMENT","\/\/ If file just delete\n",412],["T_WHITESPACE","\t\t\t\t\t\t",413],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_STRING","is_file",413],"(",["T_VARIABLE","$file",413],")",")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",413],["T_STRING","unlink",414],"(",["T_VARIABLE","$file",414],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",414],["T_COMMENT","\/\/ If directory use the remove directory function\n",416],["T_WHITESPACE","\t\t\t\t\t\t",417],"}",["T_WHITESPACE"," ",417],["T_ELSEIF","elseif",417],["T_WHITESPACE"," ",417],"(",["T_STRING","is_dir",417],"(",["T_VARIABLE","$file",417],")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",417],["T_STRING","rmdir",418],"(",["T_VARIABLE","$file",418],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",418],"}",["T_WHITESPACE","\n\t\t\t\t\t",419],"}",["T_WHITESPACE","\n\t\t\t\t",420],"}",["T_WHITESPACE","\n\t\t\t",421],"}",["T_WHITESPACE","\n\n\t\t\t",422],["T_VARIABLE","$json",424],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",424],"]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","language",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","get",424],"(",["T_CONSTANT_ENCAPSED_STRING","'text_delete'",424],")",";",["T_WHITESPACE","\n\t\t",424],"}",["T_WHITESPACE","\n\n\t\t",425],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","response",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","addHeader",427],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",427],")",";",["T_WHITESPACE","\n\t\t",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","response",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","setOutput",428],"(",["T_STRING","json_encode",428],"(",["T_VARIABLE","$json",428],")",")",";",["T_WHITESPACE","\n\t",428],"}",["T_WHITESPACE","\n",429],"}",["T_WHITESPACE","\n",430]]