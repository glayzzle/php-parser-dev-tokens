[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerStartupRouter",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_COMMENT","\/\/ Route\n",4],["T_WHITESPACE","\t\t",5],["T_IF","if",5],["T_WHITESPACE"," ",5],"(",["T_ISSET","isset",5],"(",["T_VARIABLE","$this",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","request",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","get",5],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",5],"]",")",["T_WHITESPACE"," ",5],["T_BOOLEAN_AND","&&",5],["T_WHITESPACE"," ",5],["T_VARIABLE","$this",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","request",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","get",5],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",5],"]",["T_WHITESPACE"," ",5],["T_IS_NOT_EQUAL","!=",5],["T_WHITESPACE"," ",5],["T_CONSTANT_ENCAPSED_STRING","'startup\/router'",5],")",["T_WHITESPACE"," ",5],"{",["T_WHITESPACE","\n\t\t\t",5],["T_VARIABLE","$route",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","request",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",6],"]",";",["T_WHITESPACE","\n\t\t",6],"}",["T_WHITESPACE"," ",7],["T_ELSE","else",7],["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t\t",7],["T_VARIABLE","$route",8],["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'action_default'",8],")",";",["T_WHITESPACE","\n\t\t",8],"}",["T_WHITESPACE","\n\t\t\n\t\t",9],["T_VARIABLE","$data",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_ARRAY","array",11],"(",")",";",["T_WHITESPACE","\n\t\t\n\t\t",11],["T_COMMENT","\/\/ Sanitize the call\n",13],["T_WHITESPACE","\t\t",14],["T_VARIABLE","$route",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_STRING","preg_replace",14],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^a-zA-Z0-9_\\\/]\/'",14],",",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","''",14],",",["T_WHITESPACE"," ",14],["T_STRING_CAST","(string)",14],["T_VARIABLE","$route",14],")",";",["T_WHITESPACE","\n\t\t\n\t\t",14],["T_COMMENT","\/\/ Trigger the pre events\n",16],["T_WHITESPACE","\t\t",17],["T_VARIABLE","$result",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","event",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","trigger",17],"(",["T_CONSTANT_ENCAPSED_STRING","'controller\/'",17],["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_VARIABLE","$route",17],["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'\/before'",17],",",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(","&",["T_VARIABLE","$route",17],",",["T_WHITESPACE"," ",17],"&",["T_VARIABLE","$data",17],")",")",";",["T_WHITESPACE","\n\t\t\n\t\t",17],["T_IF","if",19],["T_WHITESPACE"," ",19],"(","!",["T_STRING","is_null",19],"(",["T_VARIABLE","$result",19],")",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\t\t\t",19],["T_RETURN","return",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$result",20],";",["T_WHITESPACE","\n\t\t",20],"}",["T_WHITESPACE","\n\t\t\n\t\t",21],["T_VARIABLE","$action",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_NEW","new",23],["T_WHITESPACE"," ",23],["T_STRING","Action",23],"(",["T_VARIABLE","$route",23],")",";",["T_WHITESPACE","\n\t\t\n\t\t",23],["T_COMMENT","\/\/ Any output needs to be another Action object. \n",25],["T_WHITESPACE","\t\t",26],["T_VARIABLE","$output",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$action",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","execute",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","registry",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$data",26],")",";",["T_WHITESPACE","\n\t\t\n\t\t",26],["T_COMMENT","\/\/ Trigger the post events\n",28],["T_WHITESPACE","\t\t",29],["T_VARIABLE","$result",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","event",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","trigger",29],"(",["T_CONSTANT_ENCAPSED_STRING","'controller\/'",29],["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_VARIABLE","$route",29],["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'\/after'",29],",",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(","&",["T_VARIABLE","$route",29],",",["T_WHITESPACE"," ",29],"&",["T_VARIABLE","$output",29],")",")",";",["T_WHITESPACE","\n\t\t\n\t\t",29],["T_IF","if",31],["T_WHITESPACE"," ",31],"(","!",["T_STRING","is_null",31],"(",["T_VARIABLE","$result",31],")",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\t\t\t",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$result",32],";",["T_WHITESPACE","\n\t\t",32],"}",["T_WHITESPACE","\n\t\t\n\t\t",33],["T_RETURN","return",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$output",35],";",["T_WHITESPACE","\n\t",35],"}",["T_WHITESPACE","\n",36],"}",["T_WHITESPACE","\n",37]]