[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionShippingCitylink",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getQuote",3],"(",["T_VARIABLE","$address",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/shipping\/citylink'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$query",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","query",6],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_STRING","DB_PREFIX",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"zone_to_geo_zone WHERE geo_zone_id = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","config",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'citylink_geo_zone_id'",6],")",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' AND country_id = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$address",6],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",6],"]",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' AND (zone_id = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$address",6],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",6],"]",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' OR zone_id = '0')\"",6],")",";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(","!",["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'citylink_geo_zone_id'",8],")",")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$status",9],["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_STRING","true",9],";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE"," ",10],["T_ELSEIF","elseif",10],["T_WHITESPACE"," ",10],"(",["T_VARIABLE","$query",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","num_rows",10],")",["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\t\t\t",10],["T_VARIABLE","$status",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_STRING","true",11],";",["T_WHITESPACE","\n\t\t",11],"}",["T_WHITESPACE"," ",12],["T_ELSE","else",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$status",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_STRING","false",13],";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE","\n\n\t\t",14],["T_VARIABLE","$method_data",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_ARRAY","array",16],"(",")",";",["T_WHITESPACE","\n\n\t\t",16],["T_IF","if",18],["T_WHITESPACE"," ",18],"(",["T_VARIABLE","$status",18],")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\t\t\t",18],["T_VARIABLE","$cost",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_LNUMBER","0",19],";",["T_WHITESPACE","\n\t\t\t",19],["T_VARIABLE","$weight",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","cart",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","getWeight",20],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",20],["T_VARIABLE","$rates",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","explode",22],"(",["T_CONSTANT_ENCAPSED_STRING","','",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","config",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'citylink_rate'",22],")",")",";",["T_WHITESPACE","\n\n\t\t\t",22],["T_FOREACH","foreach",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$rates",24],["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$rate",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\t\t\t\t",24],["T_VARIABLE","$data",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","explode",25],"(",["T_CONSTANT_ENCAPSED_STRING","':'",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$rate",25],")",";",["T_WHITESPACE","\n\n\t\t\t\t",25],["T_IF","if",27],["T_WHITESPACE"," ",27],"(",["T_VARIABLE","$data",27],"[",["T_LNUMBER","0",27],"]",["T_WHITESPACE"," ",27],["T_IS_GREATER_OR_EQUAL",">=",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$weight",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\t\t\t\t\t",27],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_ISSET","isset",28],"(",["T_VARIABLE","$data",28],"[",["T_LNUMBER","1",28],"]",")",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",28],["T_VARIABLE","$cost",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$data",29],"[",["T_LNUMBER","1",29],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",29],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",30],["T_BREAK","break",32],";",["T_WHITESPACE","\n\t\t\t\t",32],"}",["T_WHITESPACE","\n\t\t\t",33],"}",["T_WHITESPACE","\n\n\t\t\t",34],["T_VARIABLE","$quote_data",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",36],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_DOUBLE_CAST","(float)",38],["T_VARIABLE","$cost",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t\t",38],["T_VARIABLE","$quote_data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'citylink'",39],"]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE","\n\t\t\t\t\t",39],["T_CONSTANT_ENCAPSED_STRING","'code'",40],["T_WHITESPACE","         ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'citylink.citylink'",40],",",["T_WHITESPACE","\n\t\t\t\t\t",40],["T_CONSTANT_ENCAPSED_STRING","'title'",41],["T_WHITESPACE","        ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","language",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'text_title'",41],")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'  ('",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","language",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'text_weight'",41],")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","' '",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","weight",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","format",41],"(",["T_VARIABLE","$weight",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","config",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'config_weight_class_id'",41],")",")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","')'",41],",",["T_WHITESPACE","\n\t\t\t\t\t",41],["T_CONSTANT_ENCAPSED_STRING","'cost'",42],["T_WHITESPACE","         ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$cost",42],",",["T_WHITESPACE","\n\t\t\t\t\t",42],["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","config",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'citylink_tax_class_id'",43],")",",",["T_WHITESPACE","\n\t\t\t\t\t",43],["T_CONSTANT_ENCAPSED_STRING","'text'",44],["T_WHITESPACE","         ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","currency",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","format",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","tax",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","calculate",44],"(",["T_VARIABLE","$cost",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","config",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_CONSTANT_ENCAPSED_STRING","'citylink_tax_class_id'",44],")",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","config",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",44],")",")",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","session",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",44],"]",")",["T_WHITESPACE","\n\t\t\t\t",44],")",";",["T_WHITESPACE","\n\n\t\t\t\t",45],["T_VARIABLE","$method_data",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n\t\t\t\t\t",47],["T_CONSTANT_ENCAPSED_STRING","'code'",48],["T_WHITESPACE","       ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'citylink'",48],",",["T_WHITESPACE","\n\t\t\t\t\t",48],["T_CONSTANT_ENCAPSED_STRING","'title'",49],["T_WHITESPACE","      ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","language",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'text_title'",49],")",",",["T_WHITESPACE","\n\t\t\t\t\t",49],["T_CONSTANT_ENCAPSED_STRING","'quote'",50],["T_WHITESPACE","      ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$quote_data",50],",",["T_WHITESPACE","\n\t\t\t\t\t",50],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","config",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'citylink_sort_order'",51],")",",",["T_WHITESPACE","\n\t\t\t\t\t",51],["T_CONSTANT_ENCAPSED_STRING","'error'",52],["T_WHITESPACE","      ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","false",52],["T_WHITESPACE","\n\t\t\t\t",52],")",";",["T_WHITESPACE","\n\t\t\t",53],"}",["T_WHITESPACE","\n\t\t",54],"}",["T_WHITESPACE","\n\n\t\t",55],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$method_data",57],";",["T_WHITESPACE","\n\t",57],"}",["T_WHITESPACE","\n",58],"}"]