[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionPaymentRealexRemote",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getMethod",3],"(",["T_VARIABLE","$address",3],",",["T_WHITESPACE"," ",3],["T_VARIABLE","$total",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$query",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","query",6],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_STRING","DB_PREFIX",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"zone_to_geo_zone WHERE geo_zone_id = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","config",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_geo_zone_id'",6],")",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' AND country_id = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$address",6],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",6],"]",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' AND (zone_id = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$address",6],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",6],"]",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' OR zone_id = '0')\"",6],")",";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(",["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_total'",8],")",["T_WHITESPACE"," ",8],">",["T_WHITESPACE"," ",8],["T_LNUMBER","0",8],["T_WHITESPACE"," ",8],["T_BOOLEAN_AND","&&",8],["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_total'",8],")",["T_WHITESPACE"," ",8],">",["T_WHITESPACE"," ",8],["T_VARIABLE","$total",8],")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$status",9],["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_STRING","false",9],";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE"," ",10],["T_ELSEIF","elseif",10],["T_WHITESPACE"," ",10],"(","!",["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","config",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","get",10],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_geo_zone_id'",10],")",")",["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\t\t\t",10],["T_VARIABLE","$status",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_STRING","true",11],";",["T_WHITESPACE","\n\t\t",11],"}",["T_WHITESPACE"," ",12],["T_ELSEIF","elseif",12],["T_WHITESPACE"," ",12],"(",["T_VARIABLE","$query",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","num_rows",12],")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$status",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_STRING","true",13],";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE"," ",14],["T_ELSE","else",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\t\t\t",14],["T_VARIABLE","$status",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_STRING","false",15],";",["T_WHITESPACE","\n\t\t",15],"}",["T_WHITESPACE","\n\n\t\t",16],["T_VARIABLE","$method_data",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",")",";",["T_WHITESPACE","\n\n\t\t",18],["T_IF","if",20],["T_WHITESPACE"," ",20],"(",["T_VARIABLE","$status",20],")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\t\t\t",20],["T_VARIABLE","$method_data",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n\t\t\t\t",21],["T_CONSTANT_ENCAPSED_STRING","'code'",22],["T_WHITESPACE","       ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'realex_remote'",22],",",["T_WHITESPACE","\n\t\t\t\t",22],["T_CONSTANT_ENCAPSED_STRING","'title'",23],["T_WHITESPACE","      ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","language",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","get",23],"(",["T_CONSTANT_ENCAPSED_STRING","'text_title'",23],")",",",["T_WHITESPACE","\n\t\t\t\t",23],["T_CONSTANT_ENCAPSED_STRING","'terms'",24],["T_WHITESPACE","      ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","''",24],",",["T_WHITESPACE","\n\t\t\t\t",24],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","config",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_sort_order'",25],")",["T_WHITESPACE","\n\t\t\t",25],")",";",["T_WHITESPACE","\n\t\t",26],"}",["T_WHITESPACE","\n\n\t\t",27],["T_RETURN","return",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$method_data",29],";",["T_WHITESPACE","\n\t",29],"}",["T_WHITESPACE","\n\n\t",30],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","checkEnrollment",32],"(",["T_VARIABLE","$account",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$amount",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$currency",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$order_ref",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t",32],["T_VARIABLE","$timestamp",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","strftime",33],"(",["T_CONSTANT_ENCAPSED_STRING","\"%Y%m%d%H%M%S\"",33],")",";",["T_WHITESPACE","\n\t\t",33],["T_VARIABLE","$merchant_id",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","config",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","get",34],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_merchant_id'",34],")",";",["T_WHITESPACE","\n\t\t",34],["T_VARIABLE","$secret",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","config",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","get",35],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_secret'",35],")",";",["T_WHITESPACE","\n\n\t\t",35],["T_VARIABLE","$tmp",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$timestamp",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'.'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$merchant_id",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'.'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$order_ref",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'.'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$amount",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'.'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$currency",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'.'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","request",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","post",37],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",37],"]",";",["T_WHITESPACE","\n\t\t",37],["T_VARIABLE","$hash",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","sha1",38],"(",["T_VARIABLE","$tmp",38],")",";",["T_WHITESPACE","\n\t\t",38],["T_VARIABLE","$tmp",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$hash",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'.'",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_VARIABLE","$secret",39],";",["T_WHITESPACE","\n\t\t",39],["T_VARIABLE","$hash",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","sha1",40],"(",["T_VARIABLE","$tmp",40],")",";",["T_WHITESPACE","\n\n\t\t",40],["T_VARIABLE","$xml",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","''",42],";",["T_WHITESPACE","\n\t\t",42],["T_VARIABLE","$xml",43],["T_WHITESPACE"," ",43],["T_CONCAT_EQUAL",".=",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'<request type=\"3ds-verifyenrolled\" timestamp=\"'",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_VARIABLE","$timestamp",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\">'",43],";",["T_WHITESPACE","\n\t\t\t",43],["T_VARIABLE","$xml",44],["T_WHITESPACE"," ",44],["T_CONCAT_EQUAL",".=",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'<merchantid>'",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_VARIABLE","$merchant_id",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'<\/merchantid>'",44],";",["T_WHITESPACE","\n\t\t\t",44],["T_VARIABLE","$xml",45],["T_WHITESPACE"," ",45],["T_CONCAT_EQUAL",".=",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'<account>'",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_VARIABLE","$account",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'<\/account>'",45],";",["T_WHITESPACE","\n\t\t\t",45],["T_VARIABLE","$xml",46],["T_WHITESPACE"," ",46],["T_CONCAT_EQUAL",".=",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'<orderid>'",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_VARIABLE","$order_ref",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'<\/orderid>'",46],";",["T_WHITESPACE","\n\t\t\t",46],["T_VARIABLE","$xml",47],["T_WHITESPACE"," ",47],["T_CONCAT_EQUAL",".=",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'<amount currency=\"'",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_VARIABLE","$currency",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'\">'",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_VARIABLE","$amount",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'<\/amount>'",47],";",["T_WHITESPACE","\n\t\t\t",47],["T_VARIABLE","$xml",48],["T_WHITESPACE"," ",48],["T_CONCAT_EQUAL",".=",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'<card>'",48],";",["T_WHITESPACE","\n\t\t\t\t",48],["T_VARIABLE","$xml",49],["T_WHITESPACE"," ",49],["T_CONCAT_EQUAL",".=",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'<number>'",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","request",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","post",49],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",49],"]",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'<\/number>'",49],";",["T_WHITESPACE","\n\t\t\t\t",49],["T_VARIABLE","$xml",50],["T_WHITESPACE"," ",50],["T_CONCAT_EQUAL",".=",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'<expdate>'",50],["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","request",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","post",50],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_month'",50],"]",["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","request",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","post",50],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_year'",50],"]",["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'<\/expdate>'",50],";",["T_WHITESPACE","\n\t\t\t\t",50],["T_VARIABLE","$xml",51],["T_WHITESPACE"," ",51],["T_CONCAT_EQUAL",".=",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'<type>'",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","request",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","post",51],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",51],"]",["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'<\/type>'",51],";",["T_WHITESPACE","\n\t\t\t\t",51],["T_VARIABLE","$xml",52],["T_WHITESPACE"," ",52],["T_CONCAT_EQUAL",".=",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'<chname>'",52],["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","request",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","post",52],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",52],"]",["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'<\/chname>'",52],";",["T_WHITESPACE","\n\t\t\t",52],["T_VARIABLE","$xml",53],["T_WHITESPACE"," ",53],["T_CONCAT_EQUAL",".=",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'<\/card>'",53],";",["T_WHITESPACE","\n\t\t\t",53],["T_VARIABLE","$xml",54],["T_WHITESPACE"," ",54],["T_CONCAT_EQUAL",".=",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'<sha1hash>'",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_VARIABLE","$hash",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'<\/sha1hash>'",54],";",["T_WHITESPACE","\n\t\t",54],["T_VARIABLE","$xml",55],["T_WHITESPACE"," ",55],["T_CONCAT_EQUAL",".=",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'<\/request>'",55],";",["T_WHITESPACE","\n\n\t\t",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","logger",57],"(",["T_CONSTANT_ENCAPSED_STRING","'checkEnrollment call'",57],")",";",["T_WHITESPACE","\n\t\t",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","logger",58],"(",["T_STRING","simplexml_load_string",58],"(",["T_VARIABLE","$xml",58],")",")",";",["T_WHITESPACE","\n\t\t",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","logger",59],"(",["T_VARIABLE","$xml",59],")",";",["T_WHITESPACE","\n\n\t\t",59],["T_VARIABLE","$ch",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","curl_init",61],"(",")",";",["T_WHITESPACE","\n\t\t",61],["T_STRING","curl_setopt",62],"(",["T_VARIABLE","$ch",62],",",["T_WHITESPACE"," ",62],["T_STRING","CURLOPT_URL",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","\"https:\/\/epage.payandshop.com\/epage-3dsecure.cgi\"",62],")",";",["T_WHITESPACE","\n\t\t",62],["T_STRING","curl_setopt",63],"(",["T_VARIABLE","$ch",63],",",["T_WHITESPACE"," ",63],["T_STRING","CURLOPT_POST",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","1",63],")",";",["T_WHITESPACE","\n\t\t",63],["T_STRING","curl_setopt",64],"(",["T_VARIABLE","$ch",64],",",["T_WHITESPACE"," ",64],["T_STRING","CURLOPT_USERAGENT",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"OpenCart \"",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_STRING","VERSION",64],")",";",["T_WHITESPACE","\n\t\t",64],["T_STRING","curl_setopt",65],"(",["T_VARIABLE","$ch",65],",",["T_WHITESPACE"," ",65],["T_STRING","CURLOPT_RETURNTRANSFER",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","1",65],")",";",["T_WHITESPACE","\n\t\t",65],["T_STRING","curl_setopt",66],"(",["T_VARIABLE","$ch",66],",",["T_WHITESPACE"," ",66],["T_STRING","CURLOPT_POSTFIELDS",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$xml",66],")",";",["T_WHITESPACE","\n\t\t",66],["T_STRING","curl_setopt",67],"(",["T_VARIABLE","$ch",67],",",["T_WHITESPACE"," ",67],["T_STRING","CURLOPT_SSL_VERIFYPEER",67],",",["T_WHITESPACE"," ",67],["T_STRING","false",67],")",";",["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$response",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","curl_exec",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$ch",68],")",";",["T_WHITESPACE","\n\t\t",68],["T_STRING","curl_close",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$ch",69],")",";",["T_WHITESPACE","\n\n\t\t",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","logger",71],"(",["T_CONSTANT_ENCAPSED_STRING","'checkEnrollment xml response'",71],")",";",["T_WHITESPACE","\n\t\t",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","logger",72],"(",["T_VARIABLE","$response",72],")",";",["T_WHITESPACE","\n\n\t\t",72],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_STRING","simplexml_load_string",74],"(",["T_VARIABLE","$response",74],")",";",["T_WHITESPACE","\n\t",74],"}",["T_WHITESPACE","\n\n\t",75],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","enrollmentSignature",77],"(",["T_VARIABLE","$account",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$amount",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$currency",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$order_ref",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$card_number",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$card_expire",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$card_type",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$card_name",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$pares",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n\t\t",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","load",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","model",78],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",78],")",";",["T_WHITESPACE","\n\n\t\t",78],["T_VARIABLE","$timestamp",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","strftime",80],"(",["T_CONSTANT_ENCAPSED_STRING","\"%Y%m%d%H%M%S\"",80],")",";",["T_WHITESPACE","\n\t\t",80],["T_VARIABLE","$merchant_id",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","config",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_merchant_id'",81],")",";",["T_WHITESPACE","\n\t\t",81],["T_VARIABLE","$secret",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","config",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","get",82],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_secret'",82],")",";",["T_WHITESPACE","\n\n\t\t",82],["T_VARIABLE","$tmp",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$timestamp",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'.'",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$merchant_id",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'.'",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$order_ref",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'.'",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$amount",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'.'",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$currency",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'.'",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$card_number",84],";",["T_WHITESPACE","\n\t\t",84],["T_VARIABLE","$hash",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","sha1",85],"(",["T_VARIABLE","$tmp",85],")",";",["T_WHITESPACE","\n\t\t",85],["T_VARIABLE","$tmp",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$hash",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'.'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$secret",86],";",["T_WHITESPACE","\n\t\t",86],["T_VARIABLE","$hash",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","sha1",87],"(",["T_VARIABLE","$tmp",87],")",";",["T_WHITESPACE","\n\n\t\t",87],["T_VARIABLE","$xml",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","''",89],";",["T_WHITESPACE","\n\t\t",89],["T_VARIABLE","$xml",90],["T_WHITESPACE"," ",90],["T_CONCAT_EQUAL",".=",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'<request type=\"3ds-verifysig\" timestamp=\"'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$timestamp",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'\">'",90],";",["T_WHITESPACE","\n\t\t\t",90],["T_VARIABLE","$xml",91],["T_WHITESPACE"," ",91],["T_CONCAT_EQUAL",".=",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'<merchantid>'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$merchant_id",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'<\/merchantid>'",91],";",["T_WHITESPACE","\n\t\t\t",91],["T_VARIABLE","$xml",92],["T_WHITESPACE"," ",92],["T_CONCAT_EQUAL",".=",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'<account>'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_VARIABLE","$account",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'<\/account>'",92],";",["T_WHITESPACE","\n\t\t\t",92],["T_VARIABLE","$xml",93],["T_WHITESPACE"," ",93],["T_CONCAT_EQUAL",".=",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'<orderid>'",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_VARIABLE","$order_ref",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'<\/orderid>'",93],";",["T_WHITESPACE","\n\t\t\t",93],["T_VARIABLE","$xml",94],["T_WHITESPACE"," ",94],["T_CONCAT_EQUAL",".=",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'<amount currency=\"'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$currency",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\">'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_INT_CAST","(int)",94],["T_VARIABLE","$amount",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'<\/amount>'",94],";",["T_WHITESPACE","\n\t\t\t",94],["T_VARIABLE","$xml",95],["T_WHITESPACE"," ",95],["T_CONCAT_EQUAL",".=",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'<card>'",95],";",["T_WHITESPACE","\n\t\t\t\t",95],["T_VARIABLE","$xml",96],["T_WHITESPACE"," ",96],["T_CONCAT_EQUAL",".=",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'<number>'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$card_number",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'<\/number>'",96],";",["T_WHITESPACE","\n\t\t\t\t",96],["T_VARIABLE","$xml",97],["T_WHITESPACE"," ",97],["T_CONCAT_EQUAL",".=",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'<expdate>'",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_VARIABLE","$card_expire",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'<\/expdate>'",97],";",["T_WHITESPACE","\n\t\t\t\t",97],["T_VARIABLE","$xml",98],["T_WHITESPACE"," ",98],["T_CONCAT_EQUAL",".=",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'<type>'",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_VARIABLE","$card_type",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'<\/type>'",98],";",["T_WHITESPACE","\n\t\t\t\t",98],["T_VARIABLE","$xml",99],["T_WHITESPACE"," ",99],["T_CONCAT_EQUAL",".=",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'<chname>'",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_VARIABLE","$card_name",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'<\/chname>'",99],";",["T_WHITESPACE","\n\t\t\t",99],["T_VARIABLE","$xml",100],["T_WHITESPACE"," ",100],["T_CONCAT_EQUAL",".=",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'<\/card>'",100],";",["T_WHITESPACE","\n\t\t\t",100],["T_VARIABLE","$xml",101],["T_WHITESPACE"," ",101],["T_CONCAT_EQUAL",".=",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'<pares>'",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$pares",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'<\/pares>'",101],";",["T_WHITESPACE","\n\t\t\t",101],["T_VARIABLE","$xml",102],["T_WHITESPACE"," ",102],["T_CONCAT_EQUAL",".=",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'<sha1hash>'",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$hash",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'<\/sha1hash>'",102],";",["T_WHITESPACE","\n\t\t",102],["T_VARIABLE","$xml",103],["T_WHITESPACE"," ",103],["T_CONCAT_EQUAL",".=",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'<\/request>'",103],";",["T_WHITESPACE","\n\n\t\t",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","logger",105],"(",["T_CONSTANT_ENCAPSED_STRING","'enrollmentSignature call'",105],")",";",["T_WHITESPACE","\n\t\t",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","logger",106],"(",["T_STRING","simplexml_load_string",106],"(",["T_VARIABLE","$xml",106],")",")",";",["T_WHITESPACE","\n\t\t",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","logger",107],"(",["T_VARIABLE","$xml",107],")",";",["T_WHITESPACE","\n\n\t\t",107],["T_VARIABLE","$ch",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","curl_init",109],"(",")",";",["T_WHITESPACE","\n\t\t",109],["T_STRING","curl_setopt",110],"(",["T_VARIABLE","$ch",110],",",["T_WHITESPACE"," ",110],["T_STRING","CURLOPT_URL",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"https:\/\/epage.payandshop.com\/epage-3dsecure.cgi\"",110],")",";",["T_WHITESPACE","\n\t\t",110],["T_STRING","curl_setopt",111],"(",["T_VARIABLE","$ch",111],",",["T_WHITESPACE"," ",111],["T_STRING","CURLOPT_POST",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","1",111],")",";",["T_WHITESPACE","\n\t\t",111],["T_STRING","curl_setopt",112],"(",["T_VARIABLE","$ch",112],",",["T_WHITESPACE"," ",112],["T_STRING","CURLOPT_USERAGENT",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"OpenCart \"",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_STRING","VERSION",112],")",";",["T_WHITESPACE","\n\t\t",112],["T_STRING","curl_setopt",113],"(",["T_VARIABLE","$ch",113],",",["T_WHITESPACE"," ",113],["T_STRING","CURLOPT_RETURNTRANSFER",113],",",["T_WHITESPACE"," ",113],["T_LNUMBER","1",113],")",";",["T_WHITESPACE","\n\t\t",113],["T_STRING","curl_setopt",114],"(",["T_VARIABLE","$ch",114],",",["T_WHITESPACE"," ",114],["T_STRING","CURLOPT_POSTFIELDS",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$xml",114],")",";",["T_WHITESPACE","\n\t\t",114],["T_STRING","curl_setopt",115],"(",["T_VARIABLE","$ch",115],",",["T_WHITESPACE"," ",115],["T_STRING","CURLOPT_SSL_VERIFYPEER",115],",",["T_WHITESPACE"," ",115],["T_STRING","false",115],")",";",["T_WHITESPACE","\n\t\t",115],["T_VARIABLE","$response",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","curl_exec",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$ch",116],")",";",["T_WHITESPACE","\n\t\t",116],["T_STRING","curl_close",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$ch",117],")",";",["T_WHITESPACE","\n\n\t\t",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","logger",119],"(",["T_CONSTANT_ENCAPSED_STRING","'enrollmentSignature xml response'",119],")",";",["T_WHITESPACE","\n\t\t",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","logger",120],"(",["T_VARIABLE","$response",120],")",";",["T_WHITESPACE","\n\n\t\t",120],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","simplexml_load_string",122],"(",["T_VARIABLE","$response",122],")",";",["T_WHITESPACE","\n\t",122],"}",["T_WHITESPACE","\n\n\t",123],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","capturePayment",125],"(",["T_VARIABLE","$account",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$amount",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$currency",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$order_id",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$order_ref",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$card_number",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$expire",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$name",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$type",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$cvv",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$issue",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$eci_ref",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$eci",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","''",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$cavv",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","''",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$xid",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","''",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n\t\t",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","load",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","model",126],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",126],")",";",["T_WHITESPACE","\n\n\t\t",126],["T_VARIABLE","$timestamp",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","strftime",128],"(",["T_CONSTANT_ENCAPSED_STRING","\"%Y%m%d%H%M%S\"",128],")",";",["T_WHITESPACE","\n\t\t",128],["T_VARIABLE","$merchant_id",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","config",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_merchant_id'",129],")",";",["T_WHITESPACE","\n\t\t",129],["T_VARIABLE","$secret",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","config",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","get",130],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_secret'",130],")",";",["T_WHITESPACE","\n\n\t\t",130],["T_VARIABLE","$tmp",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$timestamp",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'.'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$merchant_id",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'.'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$order_ref",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'.'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$amount",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'.'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$currency",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'.'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$card_number",132],";",["T_WHITESPACE","\n\t\t",132],["T_VARIABLE","$hash",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","sha1",133],"(",["T_VARIABLE","$tmp",133],")",";",["T_WHITESPACE","\n\t\t",133],["T_VARIABLE","$tmp",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$hash",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'.'",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_VARIABLE","$secret",134],";",["T_WHITESPACE","\n\t\t",134],["T_VARIABLE","$hash",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","sha1",135],"(",["T_VARIABLE","$tmp",135],")",";",["T_WHITESPACE","\n\n\t\t",135],["T_VARIABLE","$order_info",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","model_checkout_order",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getOrder",137],"(",["T_VARIABLE","$order_id",137],")",";",["T_WHITESPACE","\n\n\t\t",137],["T_VARIABLE","$xml",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],";",["T_WHITESPACE","\n\t\t",139],["T_VARIABLE","$xml",140],["T_WHITESPACE"," ",140],["T_CONCAT_EQUAL",".=",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'<request type=\"auth\" timestamp=\"'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$timestamp",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'\">'",140],";",["T_WHITESPACE","\n\t\t\t",140],["T_VARIABLE","$xml",141],["T_WHITESPACE"," ",141],["T_CONCAT_EQUAL",".=",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'<merchantid>'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$merchant_id",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'<\/merchantid>'",141],";",["T_WHITESPACE","\n\t\t\t",141],["T_VARIABLE","$xml",142],["T_WHITESPACE"," ",142],["T_CONCAT_EQUAL",".=",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'<account>'",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$account",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'<\/account>'",142],";",["T_WHITESPACE","\n\t\t\t",142],["T_VARIABLE","$xml",143],["T_WHITESPACE"," ",143],["T_CONCAT_EQUAL",".=",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'<orderid>'",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_VARIABLE","$order_ref",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'<\/orderid>'",143],";",["T_WHITESPACE","\n\t\t\t",143],["T_VARIABLE","$xml",144],["T_WHITESPACE"," ",144],["T_CONCAT_EQUAL",".=",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'<amount currency=\"'",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_VARIABLE","$currency",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\">'",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_VARIABLE","$amount",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'<\/amount>'",144],";",["T_WHITESPACE","\n\t\t\t",144],["T_VARIABLE","$xml",145],["T_WHITESPACE"," ",145],["T_CONCAT_EQUAL",".=",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'<comments>'",145],";",["T_WHITESPACE","\n\t\t\t\t",145],["T_VARIABLE","$xml",146],["T_WHITESPACE"," ",146],["T_CONCAT_EQUAL",".=",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'<comment id=\"1\">OpenCart<\/comment>'",146],";",["T_WHITESPACE","\n\t\t\t",146],["T_VARIABLE","$xml",147],["T_WHITESPACE"," ",147],["T_CONCAT_EQUAL",".=",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'<\/comments>'",147],";",["T_WHITESPACE","\n\t\t\t",147],["T_VARIABLE","$xml",148],["T_WHITESPACE"," ",148],["T_CONCAT_EQUAL",".=",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'<card>'",148],";",["T_WHITESPACE","\n\t\t\t\t",148],["T_VARIABLE","$xml",149],["T_WHITESPACE"," ",149],["T_CONCAT_EQUAL",".=",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'<number>'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$card_number",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'<\/number>'",149],";",["T_WHITESPACE","\n\t\t\t\t",149],["T_VARIABLE","$xml",150],["T_WHITESPACE"," ",150],["T_CONCAT_EQUAL",".=",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'<expdate>'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$expire",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'<\/expdate>'",150],";",["T_WHITESPACE","\n\t\t\t\t",150],["T_VARIABLE","$xml",151],["T_WHITESPACE"," ",151],["T_CONCAT_EQUAL",".=",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'<type>'",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_VARIABLE","$type",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'<\/type>'",151],";",["T_WHITESPACE","\n\t\t\t\t",151],["T_VARIABLE","$xml",152],["T_WHITESPACE"," ",152],["T_CONCAT_EQUAL",".=",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'<chname>'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$name",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'<\/chname>'",152],";",["T_WHITESPACE","\n\t\t\t\t",152],["T_VARIABLE","$xml",153],["T_WHITESPACE"," ",153],["T_CONCAT_EQUAL",".=",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'<cvn>'",153],";",["T_WHITESPACE","\n\t\t\t\t\t",153],["T_VARIABLE","$xml",154],["T_WHITESPACE"," ",154],["T_CONCAT_EQUAL",".=",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'<number>'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_INT_CAST","(int)",154],["T_VARIABLE","$cvv",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'<\/number>'",154],";",["T_WHITESPACE","\n\t\t\t\t\t",154],["T_VARIABLE","$xml",155],["T_WHITESPACE"," ",155],["T_CONCAT_EQUAL",".=",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'<presind>2<\/presind>'",155],";",["T_WHITESPACE","\n\t\t\t\t",155],["T_VARIABLE","$xml",156],["T_WHITESPACE"," ",156],["T_CONCAT_EQUAL",".=",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'<\/cvn>'",156],";",["T_WHITESPACE","\n\t\t\t\t",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_EMPTY","empty",157],"(",["T_VARIABLE","$issue",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n\t\t\t\t\t",157],["T_VARIABLE","$xml",158],["T_WHITESPACE"," ",158],["T_CONCAT_EQUAL",".=",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'<issueno>'",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_INT_CAST","(int)",158],["T_VARIABLE","$issue",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'<\/issueno>'",158],";",["T_WHITESPACE","\n\t\t\t\t",158],"}",["T_WHITESPACE","\n\t\t\t",159],["T_VARIABLE","$xml",160],["T_WHITESPACE"," ",160],["T_CONCAT_EQUAL",".=",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'<\/card>'",160],";",["T_WHITESPACE","\n\n\t\t\t",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","config",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","get",162],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_auto_settle'",162],")",["T_WHITESPACE"," ",162],["T_IS_EQUAL","==",162],["T_WHITESPACE"," ",162],["T_LNUMBER","0",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n\t\t\t\t",162],["T_VARIABLE","$xml",163],["T_WHITESPACE"," ",163],["T_CONCAT_EQUAL",".=",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'<autosettle flag=\"0\" \/>'",163],";",["T_WHITESPACE","\n\t\t\t",163],"}",["T_WHITESPACE"," ",164],["T_ELSEIF","elseif",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","config",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","get",164],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_auto_settle'",164],")",["T_WHITESPACE"," ",164],["T_IS_EQUAL","==",164],["T_WHITESPACE"," ",164],["T_LNUMBER","1",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n\t\t\t\t",164],["T_VARIABLE","$xml",165],["T_WHITESPACE"," ",165],["T_CONCAT_EQUAL",".=",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'<autosettle flag=\"1\" \/>'",165],";",["T_WHITESPACE","\n\t\t\t",165],"}",["T_WHITESPACE"," ",166],["T_ELSEIF","elseif",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","config",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_auto_settle'",166],")",["T_WHITESPACE"," ",166],["T_IS_EQUAL","==",166],["T_WHITESPACE"," ",166],["T_LNUMBER","2",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n\t\t\t\t",166],["T_VARIABLE","$xml",167],["T_WHITESPACE"," ",167],["T_CONCAT_EQUAL",".=",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'<autosettle flag=\"MULTI\" \/>'",167],";",["T_WHITESPACE","\n\t\t\t",167],"}",["T_WHITESPACE","\n\n\t\t\t",168],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$eci",170],["T_WHITESPACE"," ",170],["T_IS_NOT_EQUAL","!=",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","''",170],["T_WHITESPACE"," ",170],["T_BOOLEAN_OR","||",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$cavv",170],["T_WHITESPACE"," ",170],["T_IS_NOT_EQUAL","!=",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","''",170],["T_WHITESPACE"," ",170],["T_BOOLEAN_OR","||",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$xid",170],["T_WHITESPACE"," ",170],["T_IS_NOT_EQUAL","!=",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","''",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n\t\t\t\t",170],["T_VARIABLE","$xml",171],["T_WHITESPACE"," ",171],["T_CONCAT_EQUAL",".=",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'<mpi>'",171],";",["T_WHITESPACE","\n\t\t\t\t\t",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$eci",172],["T_WHITESPACE"," ",172],["T_IS_NOT_EQUAL","!=",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","''",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",172],["T_VARIABLE","$xml",173],["T_WHITESPACE"," ",173],["T_CONCAT_EQUAL",".=",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'<eci>'",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_STRING_CAST","(string)",173],["T_VARIABLE","$eci",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'<\/eci>'",173],";",["T_WHITESPACE","\n\t\t\t\t\t",173],"}",["T_WHITESPACE","\n\t\t\t\t\t",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$cavv",175],["T_WHITESPACE"," ",175],["T_IS_NOT_EQUAL","!=",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","''",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",175],["T_VARIABLE","$xml",176],["T_WHITESPACE"," ",176],["T_CONCAT_EQUAL",".=",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'<cavv>'",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_STRING_CAST","(string)",176],["T_VARIABLE","$cavv",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'<\/cavv>'",176],";",["T_WHITESPACE","\n\t\t\t\t\t",176],"}",["T_WHITESPACE","\n\t\t\t\t\t",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$xid",178],["T_WHITESPACE"," ",178],["T_IS_NOT_EQUAL","!=",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","''",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",178],["T_VARIABLE","$xml",179],["T_WHITESPACE"," ",179],["T_CONCAT_EQUAL",".=",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'<xid>'",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_STRING_CAST","(string)",179],["T_VARIABLE","$xid",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'<\/xid>'",179],";",["T_WHITESPACE","\n\t\t\t\t\t",179],"}",["T_WHITESPACE","\n\t\t\t\t",180],["T_VARIABLE","$xml",181],["T_WHITESPACE"," ",181],["T_CONCAT_EQUAL",".=",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'<\/mpi>'",181],";",["T_WHITESPACE","\n\t\t\t",181],"}",["T_WHITESPACE","\n\n\t\t\t",182],["T_VARIABLE","$xml",184],["T_WHITESPACE"," ",184],["T_CONCAT_EQUAL",".=",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'<sha1hash>'",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$hash",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'<\/sha1hash>'",184],";",["T_WHITESPACE","\n\n\t\t\t",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","config",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","get",186],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_tss_check'",186],")",["T_WHITESPACE"," ",186],["T_IS_EQUAL","==",186],["T_WHITESPACE"," ",186],["T_LNUMBER","1",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n\t\t\t\t",186],["T_VARIABLE","$xml",187],["T_WHITESPACE"," ",187],["T_CONCAT_EQUAL",".=",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'<tssinfo>'",187],";",["T_WHITESPACE","\n\t\t\t\t\t",187],["T_VARIABLE","$xml",188],["T_WHITESPACE"," ",188],["T_CONCAT_EQUAL",".=",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'<custipaddress>'",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_VARIABLE","$order_info",188],"[",["T_CONSTANT_ENCAPSED_STRING","'ip'",188],"]",["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'<\/custipaddress>'",188],";",["T_WHITESPACE","\n\n\t\t\t\t\t",188],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","customer",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getId",190],"(",")",["T_WHITESPACE"," ",190],">",["T_WHITESPACE"," ",190],["T_LNUMBER","0",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",190],["T_VARIABLE","$xml",191],["T_WHITESPACE"," ",191],["T_CONCAT_EQUAL",".=",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'<custnum>'",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_INT_CAST","(int)",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","customer",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getId",191],"(",")",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'<\/custnum>'",191],";",["T_WHITESPACE","\n\t\t\t\t\t",191],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(","(",["T_ISSET","isset",194],"(",["T_VARIABLE","$order_info",194],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_iso_code_2'",194],"]",")",["T_WHITESPACE"," ",194],["T_BOOLEAN_AND","&&",194],["T_WHITESPACE"," ",194],"!",["T_EMPTY","empty",194],"(",["T_VARIABLE","$order_info",194],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_iso_code_2'",194],"]",")",")",["T_WHITESPACE"," ",194],["T_BOOLEAN_OR","||",194],["T_WHITESPACE"," ",194],"(",["T_ISSET","isset",194],"(",["T_VARIABLE","$order_info",194],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_postcode'",194],"]",")",["T_WHITESPACE"," ",194],["T_BOOLEAN_AND","&&",194],["T_WHITESPACE"," ",194],"!",["T_EMPTY","empty",194],"(",["T_VARIABLE","$order_info",194],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_postcode'",194],"]",")",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",194],["T_VARIABLE","$xml",195],["T_WHITESPACE"," ",195],["T_CONCAT_EQUAL",".=",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'<address type=\"billing\">'",195],";",["T_WHITESPACE","\n\t\t\t\t\t\t",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","(",["T_ISSET","isset",196],"(",["T_VARIABLE","$order_info",196],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_postcode'",196],"]",")",["T_WHITESPACE"," ",196],["T_BOOLEAN_AND","&&",196],["T_WHITESPACE"," ",196],"!",["T_EMPTY","empty",196],"(",["T_VARIABLE","$order_info",196],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_postcode'",196],"]",")",")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",196],["T_VARIABLE","$xml",197],["T_WHITESPACE"," ",197],["T_CONCAT_EQUAL",".=",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'<code>'",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_STRING","filter_var",197],"(",["T_VARIABLE","$order_info",197],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_postcode'",197],"]",",",["T_WHITESPACE"," ",197],["T_STRING","FILTER_SANITIZE_NUMBER_INT",197],")",["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'|'",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_STRING","filter_var",197],"(",["T_VARIABLE","$order_info",197],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_1'",197],"]",",",["T_WHITESPACE"," ",197],["T_STRING","FILTER_SANITIZE_NUMBER_INT",197],")",["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'<\/code>'",197],";",["T_WHITESPACE","\n\t\t\t\t\t\t",197],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(","(",["T_ISSET","isset",199],"(",["T_VARIABLE","$order_info",199],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_iso_code_2'",199],"]",")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],"!",["T_EMPTY","empty",199],"(",["T_VARIABLE","$order_info",199],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_iso_code_2'",199],"]",")",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",199],["T_VARIABLE","$xml",200],["T_WHITESPACE"," ",200],["T_CONCAT_EQUAL",".=",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'<country>'",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_VARIABLE","$order_info",200],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_iso_code_2'",200],"]",["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'<\/country>'",200],";",["T_WHITESPACE","\n\t\t\t\t\t\t",200],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",201],["T_VARIABLE","$xml",202],["T_WHITESPACE"," ",202],["T_CONCAT_EQUAL",".=",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'<\/address>'",202],";",["T_WHITESPACE","\n\t\t\t\t\t",202],"}",["T_WHITESPACE","\n\t\t\t\t\t",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(","(",["T_ISSET","isset",204],"(",["T_VARIABLE","$order_info",204],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_iso_code_2'",204],"]",")",["T_WHITESPACE"," ",204],["T_BOOLEAN_AND","&&",204],["T_WHITESPACE"," ",204],"!",["T_EMPTY","empty",204],"(",["T_VARIABLE","$order_info",204],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_iso_code_2'",204],"]",")",")",["T_WHITESPACE"," ",204],["T_BOOLEAN_OR","||",204],["T_WHITESPACE"," ",204],"(",["T_ISSET","isset",204],"(",["T_VARIABLE","$order_info",204],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",204],"]",")",["T_WHITESPACE"," ",204],["T_BOOLEAN_AND","&&",204],["T_WHITESPACE"," ",204],"!",["T_EMPTY","empty",204],"(",["T_VARIABLE","$order_info",204],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",204],"]",")",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",204],["T_VARIABLE","$xml",205],["T_WHITESPACE"," ",205],["T_CONCAT_EQUAL",".=",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'<address type=\"shipping\">'",205],";",["T_WHITESPACE","\n\t\t\t\t\t\t",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(","(",["T_ISSET","isset",206],"(",["T_VARIABLE","$order_info",206],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",206],"]",")",["T_WHITESPACE"," ",206],["T_BOOLEAN_AND","&&",206],["T_WHITESPACE"," ",206],"!",["T_EMPTY","empty",206],"(",["T_VARIABLE","$order_info",206],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",206],"]",")",")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",206],["T_VARIABLE","$xml",207],["T_WHITESPACE"," ",207],["T_CONCAT_EQUAL",".=",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'<code>'",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_STRING","filter_var",207],"(",["T_VARIABLE","$order_info",207],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",207],"]",",",["T_WHITESPACE"," ",207],["T_STRING","FILTER_SANITIZE_NUMBER_INT",207],")",["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'|'",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_STRING","filter_var",207],"(",["T_VARIABLE","$order_info",207],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_1'",207],"]",",",["T_WHITESPACE"," ",207],["T_STRING","FILTER_SANITIZE_NUMBER_INT",207],")",["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'<\/code>'",207],";",["T_WHITESPACE","\n\t\t\t\t\t\t",207],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","(",["T_ISSET","isset",209],"(",["T_VARIABLE","$order_info",209],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_iso_code_2'",209],"]",")",["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],"!",["T_EMPTY","empty",209],"(",["T_VARIABLE","$order_info",209],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_iso_code_2'",209],"]",")",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",209],["T_VARIABLE","$xml",210],["T_WHITESPACE"," ",210],["T_CONCAT_EQUAL",".=",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'<country>'",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_VARIABLE","$order_info",210],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_iso_code_2'",210],"]",["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'<\/country>'",210],";",["T_WHITESPACE","\n\t\t\t\t\t\t",210],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",211],["T_VARIABLE","$xml",212],["T_WHITESPACE"," ",212],["T_CONCAT_EQUAL",".=",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'<\/address>'",212],";",["T_WHITESPACE","\n\t\t\t\t\t",212],"}",["T_WHITESPACE","\n\t\t\t\t",213],["T_VARIABLE","$xml",214],["T_WHITESPACE"," ",214],["T_CONCAT_EQUAL",".=",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'<\/tssinfo>'",214],";",["T_WHITESPACE","\n\t\t\t",214],"}",["T_WHITESPACE","\n\n\t\t",215],["T_VARIABLE","$xml",217],["T_WHITESPACE"," ",217],["T_CONCAT_EQUAL",".=",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'<\/request>'",217],";",["T_WHITESPACE","\n\n\t\t",217],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","logger",219],"(",["T_CONSTANT_ENCAPSED_STRING","'capturePayment call'",219],")",";",["T_WHITESPACE","\n\t\t",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","logger",220],"(",["T_STRING","simplexml_load_string",220],"(",["T_VARIABLE","$xml",220],")",")",";",["T_WHITESPACE","\n\t\t",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","logger",221],"(",["T_VARIABLE","$xml",221],")",";",["T_WHITESPACE","\n\n\t\t",221],["T_VARIABLE","$ch",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","curl_init",223],"(",")",";",["T_WHITESPACE","\n\t\t",223],["T_STRING","curl_setopt",224],"(",["T_VARIABLE","$ch",224],",",["T_WHITESPACE"," ",224],["T_STRING","CURLOPT_URL",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","\"https:\/\/epage.payandshop.com\/epage-remote.cgi\"",224],")",";",["T_WHITESPACE","\n\t\t",224],["T_STRING","curl_setopt",225],"(",["T_VARIABLE","$ch",225],",",["T_WHITESPACE"," ",225],["T_STRING","CURLOPT_POST",225],",",["T_WHITESPACE"," ",225],["T_LNUMBER","1",225],")",";",["T_WHITESPACE","\n\t\t",225],["T_STRING","curl_setopt",226],"(",["T_VARIABLE","$ch",226],",",["T_WHITESPACE"," ",226],["T_STRING","CURLOPT_USERAGENT",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","\"OpenCart \"",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_STRING","VERSION",226],")",";",["T_WHITESPACE","\n\t\t",226],["T_STRING","curl_setopt",227],"(",["T_VARIABLE","$ch",227],",",["T_WHITESPACE"," ",227],["T_STRING","CURLOPT_RETURNTRANSFER",227],",",["T_WHITESPACE"," ",227],["T_LNUMBER","1",227],")",";",["T_WHITESPACE","\n\t\t",227],["T_STRING","curl_setopt",228],"(",["T_VARIABLE","$ch",228],",",["T_WHITESPACE"," ",228],["T_STRING","CURLOPT_POSTFIELDS",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$xml",228],")",";",["T_WHITESPACE","\n\t\t",228],["T_STRING","curl_setopt",229],"(",["T_VARIABLE","$ch",229],",",["T_WHITESPACE"," ",229],["T_STRING","CURLOPT_SSL_VERIFYPEER",229],",",["T_WHITESPACE"," ",229],["T_STRING","false",229],")",";",["T_WHITESPACE","\n\t\t",229],["T_VARIABLE","$response",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","curl_exec",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$ch",230],")",";",["T_WHITESPACE","\n\t\t",230],["T_STRING","curl_close",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$ch",231],")",";",["T_WHITESPACE","\n\n\t\t",231],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","logger",233],"(",["T_CONSTANT_ENCAPSED_STRING","'capturePayment xml response'",233],")",";",["T_WHITESPACE","\n\t\t",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","logger",234],"(",["T_VARIABLE","$response",234],")",";",["T_WHITESPACE","\n\n\t\t",234],["T_VARIABLE","$response",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","simplexml_load_string",236],"(",["T_VARIABLE","$response",236],")",";",["T_WHITESPACE","\n\n\t\t",236],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","load",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","language",238],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",238],")",";",["T_WHITESPACE","\n\n\t\t",238],["T_VARIABLE","$message",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'<strong>'",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","language",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","get",240],"(",["T_CONSTANT_ENCAPSED_STRING","'text_result'",240],")",["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_INT_CAST","(int)",240],["T_VARIABLE","$response",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","result",240],";",["T_WHITESPACE","\n\t\t",240],["T_VARIABLE","$message",241],["T_WHITESPACE"," ",241],["T_CONCAT_EQUAL",".=",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",241],["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","language",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","get",241],"(",["T_CONSTANT_ENCAPSED_STRING","'text_message'",241],")",["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",241],["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_STRING_CAST","(string)",241],["T_VARIABLE","$response",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","message",241],";",["T_WHITESPACE","\n\t\t",241],["T_VARIABLE","$message",242],["T_WHITESPACE"," ",242],["T_CONCAT_EQUAL",".=",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",242],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","language",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","get",242],"(",["T_CONSTANT_ENCAPSED_STRING","'text_order_ref'",242],")",["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",242],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_STRING_CAST","(string)",242],["T_VARIABLE","$order_ref",242],";",["T_WHITESPACE","\n\n\t\t",242],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_ISSET","isset",244],"(",["T_VARIABLE","$response",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","cvnresult",244],")",["T_WHITESPACE"," ",244],["T_BOOLEAN_AND","&&",244],["T_WHITESPACE"," ",244],"!",["T_EMPTY","empty",244],"(",["T_VARIABLE","$response",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","cvnresult",244],")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n\t\t\t",244],["T_VARIABLE","$message",245],["T_WHITESPACE"," ",245],["T_CONCAT_EQUAL",".=",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","language",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","get",245],"(",["T_CONSTANT_ENCAPSED_STRING","'text_cvn_result'",245],")",["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_STRING_CAST","(string)",245],["T_VARIABLE","$response",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","cvnresult",245],";",["T_WHITESPACE","\n\t\t",245],"}",["T_WHITESPACE","\n\n\t\t",246],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_ISSET","isset",248],"(",["T_VARIABLE","$response",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","avspostcoderesponse",248],")",["T_WHITESPACE"," ",248],["T_BOOLEAN_AND","&&",248],["T_WHITESPACE"," ",248],"!",["T_EMPTY","empty",248],"(",["T_VARIABLE","$response",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","avspostcoderesponse",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n\t\t\t",248],["T_VARIABLE","$message",249],["T_WHITESPACE"," ",249],["T_CONCAT_EQUAL",".=",249],["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","language",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","get",249],"(",["T_CONSTANT_ENCAPSED_STRING","'text_avs_postcode'",249],")",["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_STRING_CAST","(string)",249],["T_VARIABLE","$response",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","avspostcoderesponse",249],";",["T_WHITESPACE","\n\t\t",249],"}",["T_WHITESPACE","\n\n\t\t",250],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_ISSET","isset",252],"(",["T_VARIABLE","$response",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","avsaddressresponse",252],")",["T_WHITESPACE"," ",252],["T_BOOLEAN_AND","&&",252],["T_WHITESPACE"," ",252],"!",["T_EMPTY","empty",252],"(",["T_VARIABLE","$response",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","avsaddressresponse",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n\t\t\t",252],["T_VARIABLE","$message",253],["T_WHITESPACE"," ",253],["T_CONCAT_EQUAL",".=",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",253],["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","language",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","get",253],"(",["T_CONSTANT_ENCAPSED_STRING","'text_avs_address'",253],")",["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",253],["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_STRING_CAST","(string)",253],["T_VARIABLE","$response",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","avsaddressresponse",253],";",["T_WHITESPACE","\n\t\t",253],"}",["T_WHITESPACE","\n\n\t\t",254],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_ISSET","isset",256],"(",["T_VARIABLE","$response",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","authcode",256],")",["T_WHITESPACE"," ",256],["T_BOOLEAN_AND","&&",256],["T_WHITESPACE"," ",256],"!",["T_EMPTY","empty",256],"(",["T_VARIABLE","$response",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","authcode",256],")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n\t\t\t",256],["T_VARIABLE","$message",257],["T_WHITESPACE"," ",257],["T_CONCAT_EQUAL",".=",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",257],["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","language",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","get",257],"(",["T_CONSTANT_ENCAPSED_STRING","'text_auth_code'",257],")",["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",257],["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_STRING_CAST","(string)",257],["T_VARIABLE","$response",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","authcode",257],";",["T_WHITESPACE","\n\t\t",257],"}",["T_WHITESPACE","\n\n\t\t",258],["T_IF","if",260],["T_WHITESPACE"," ",260],"(","!",["T_EMPTY","empty",260],"(",["T_VARIABLE","$eci_ref",260],")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n\t\t\t",260],["T_VARIABLE","$message",261],["T_WHITESPACE"," ",261],["T_CONCAT_EQUAL",".=",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","language",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","get",261],"(",["T_CONSTANT_ENCAPSED_STRING","'text_eci'",261],")",["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> ('",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_INT_CAST","(int)",261],["T_VARIABLE","$eci",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","') '",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","language",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","get",261],"(",["T_CONSTANT_ENCAPSED_STRING","'text_3d_s'",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_INT_CAST","(int)",261],["T_VARIABLE","$eci_ref",261],")",";",["T_WHITESPACE","\n\t\t",261],"}",["T_WHITESPACE","\n\n\t\t",262],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_ISSET","isset",264],"(",["T_VARIABLE","$response",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","tss",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","result",264],")",["T_WHITESPACE"," ",264],["T_BOOLEAN_AND","&&",264],["T_WHITESPACE"," ",264],"!",["T_EMPTY","empty",264],"(",["T_VARIABLE","$response",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","tss",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","result",264],")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n\t\t\t",264],["T_VARIABLE","$message",265],["T_WHITESPACE"," ",265],["T_CONCAT_EQUAL",".=",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",265],["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","language",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","get",265],"(",["T_CONSTANT_ENCAPSED_STRING","'text_tss'",265],")",["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",265],["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_INT_CAST","(int)",265],["T_VARIABLE","$response",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","tss",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","result",265],";",["T_WHITESPACE","\n\t\t",265],"}",["T_WHITESPACE","\n\n\t\t",266],["T_VARIABLE","$message",268],["T_WHITESPACE"," ",268],["T_CONCAT_EQUAL",".=",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","language",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","get",268],"(",["T_CONSTANT_ENCAPSED_STRING","'text_timestamp'",268],")",["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_STRING_CAST","(string)",268],["T_VARIABLE","$timestamp",268],";",["T_WHITESPACE","\n\n\t\t",268],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","config",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","get",270],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_card_data_status'",270],")",["T_WHITESPACE"," ",270],["T_IS_EQUAL","==",270],["T_WHITESPACE"," ",270],["T_LNUMBER","1",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n\t\t\t",270],["T_VARIABLE","$message",271],["T_WHITESPACE"," ",271],["T_CONCAT_EQUAL",".=",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","language",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","get",271],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_type'",271],")",["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_STRING_CAST","(string)",271],["T_VARIABLE","$type",271],";",["T_WHITESPACE","\n\t\t\t",271],["T_VARIABLE","$message",272],["T_WHITESPACE"," ",272],["T_CONCAT_EQUAL",".=",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",272],["T_WHITESPACE"," ",272],".",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","language",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","get",272],"(",["T_CONSTANT_ENCAPSED_STRING","'text_last_digits'",272],")",["T_WHITESPACE"," ",272],".",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",272],["T_WHITESPACE"," ",272],".",["T_WHITESPACE"," ",272],["T_STRING_CAST","(string)",272],["T_STRING","substr",272],"(",["T_VARIABLE","$card_number",272],",",["T_WHITESPACE"," ",272],"-",["T_LNUMBER","4",272],")",";",["T_WHITESPACE","\n\t\t\t",272],["T_VARIABLE","$message",273],["T_WHITESPACE"," ",273],["T_CONCAT_EQUAL",".=",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","language",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","get",273],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_expire_date'",273],")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_STRING_CAST","(string)",273],["T_VARIABLE","$expire",273],";",["T_WHITESPACE","\n\t\t\t",273],["T_VARIABLE","$message",274],["T_WHITESPACE"," ",274],["T_CONCAT_EQUAL",".=",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",274],["T_WHITESPACE"," ",274],".",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","language",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","get",274],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_name'",274],")",["T_WHITESPACE"," ",274],".",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",274],["T_WHITESPACE"," ",274],".",["T_WHITESPACE"," ",274],["T_STRING_CAST","(string)",274],["T_VARIABLE","$name",274],";",["T_WHITESPACE","\n\n\t\t\t",274],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_ISSET","isset",276],"(",["T_VARIABLE","$response",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","cardissuer",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","bank",276],")",["T_WHITESPACE"," ",276],["T_BOOLEAN_AND","&&",276],["T_WHITESPACE"," ",276],"!",["T_EMPTY","empty",276],"(",["T_VARIABLE","$response",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","cardissuer",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","bank",276],")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n\t\t\t\t",276],["T_VARIABLE","$message",277],["T_WHITESPACE"," ",277],["T_CONCAT_EQUAL",".=",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",277],["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","language",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","get",277],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_bank'",277],")",["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",277],["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_STRING_CAST","(string)",277],["T_VARIABLE","$response",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","cardissuer",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","bank",277],";",["T_WHITESPACE","\n\t\t\t",277],"}",["T_WHITESPACE","\n\n\t\t\t",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_ISSET","isset",280],"(",["T_VARIABLE","$response",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","cardissuer",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","country",280],")",["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],"!",["T_EMPTY","empty",280],"(",["T_VARIABLE","$response",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","cardissuer",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","country",280],")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n\t\t\t\t",280],["T_VARIABLE","$message",281],["T_WHITESPACE"," ",281],["T_CONCAT_EQUAL",".=",281],["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","language",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","get",281],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_country'",281],")",["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_STRING_CAST","(string)",281],["T_VARIABLE","$response",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","cardissuer",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","country",281],";",["T_WHITESPACE","\n\t\t\t",281],"}",["T_WHITESPACE","\n\n\t\t\t",282],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_ISSET","isset",284],"(",["T_VARIABLE","$response",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","cardissuer",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","region",284],")",["T_WHITESPACE"," ",284],["T_BOOLEAN_AND","&&",284],["T_WHITESPACE"," ",284],"!",["T_EMPTY","empty",284],"(",["T_VARIABLE","$response",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","cardissuer",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","region",284],")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n\t\t\t\t",284],["T_VARIABLE","$message",285],["T_WHITESPACE"," ",285],["T_CONCAT_EQUAL",".=",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","language",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","get",285],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_region'",285],")",["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_STRING_CAST","(string)",285],["T_VARIABLE","$response",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","cardissuer",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","region",285],";",["T_WHITESPACE","\n\t\t\t",285],"}",["T_WHITESPACE","\n\t\t",286],"}",["T_WHITESPACE","\n\n\t\t",287],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$response",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","result",289],["T_WHITESPACE"," ",289],["T_IS_EQUAL","==",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'00'",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n\t\t\t",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","model_checkout_order",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","addOrderHistory",290],"(",["T_VARIABLE","$order_id",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","config",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","get",290],"(",["T_CONSTANT_ENCAPSED_STRING","'config_order_status_id'",290],")",")",";",["T_WHITESPACE","\n\n\t\t\t",290],["T_VARIABLE","$realex_order_id",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","addOrder",292],"(",["T_VARIABLE","$order_info",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$response",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$account",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$order_ref",292],")",";",["T_WHITESPACE","\n\n\t\t\t",292],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","config",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","get",294],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_auto_settle'",294],")",["T_WHITESPACE"," ",294],["T_IS_EQUAL","==",294],["T_WHITESPACE"," ",294],["T_LNUMBER","1",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n\t\t\t\t",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","addTransaction",295],"(",["T_VARIABLE","$realex_order_id",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'payment'",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$order_info",295],")",";",["T_WHITESPACE","\n\t\t\t\t",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","model_checkout_order",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","addOrderHistory",296],"(",["T_VARIABLE","$order_id",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","config",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","get",296],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_success_settled_id'",296],")",",",["T_WHITESPACE"," ",296],["T_VARIABLE","$message",296],")",";",["T_WHITESPACE","\n\t\t\t",296],"}",["T_WHITESPACE"," ",297],["T_ELSE","else",297],["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n\t\t\t\t",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","addTransaction",298],"(",["T_VARIABLE","$realex_order_id",298],",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'auth'",298],",",["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],")",";",["T_WHITESPACE","\n\t\t\t\t",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","model_checkout_order",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","addOrderHistory",299],"(",["T_VARIABLE","$order_id",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","config",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","get",299],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_success_unsettled_id'",299],")",",",["T_WHITESPACE"," ",299],["T_VARIABLE","$message",299],")",";",["T_WHITESPACE","\n\t\t\t",299],"}",["T_WHITESPACE","\n\t\t",300],"}",["T_WHITESPACE"," ",301],["T_ELSEIF","elseif",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$response",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","result",301],["T_WHITESPACE"," ",301],["T_IS_EQUAL","==",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","\"101\"",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n\t\t\t",301],["T_COMMENT","\/\/ Decline\n",302],["T_WHITESPACE","\t\t\t",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","addHistory",303],"(",["T_VARIABLE","$order_id",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","config",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","get",303],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_id'",303],")",",",["T_WHITESPACE"," ",303],["T_VARIABLE","$message",303],")",";",["T_WHITESPACE","\n\t\t",303],"}",["T_WHITESPACE"," ",304],["T_ELSEIF","elseif",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$response",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","result",304],["T_WHITESPACE"," ",304],["T_IS_EQUAL","==",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","\"102\"",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n\t\t\t",304],["T_COMMENT","\/\/ Referal B\n",305],["T_WHITESPACE","\t\t\t",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","addHistory",306],"(",["T_VARIABLE","$order_id",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","config",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","get",306],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_pending_id'",306],")",",",["T_WHITESPACE"," ",306],["T_VARIABLE","$message",306],")",";",["T_WHITESPACE","\n\t\t",306],"}",["T_WHITESPACE"," ",307],["T_ELSEIF","elseif",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$response",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","result",307],["T_WHITESPACE"," ",307],["T_IS_EQUAL","==",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","\"103\"",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n\t\t\t",307],["T_COMMENT","\/\/ Referal A\n",308],["T_WHITESPACE","\t\t\t",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","addHistory",309],"(",["T_VARIABLE","$order_id",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","config",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","get",309],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_stolen_id'",309],")",",",["T_WHITESPACE"," ",309],["T_VARIABLE","$message",309],")",";",["T_WHITESPACE","\n\t\t",309],"}",["T_WHITESPACE"," ",310],["T_ELSEIF","elseif",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$response",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","result",310],["T_WHITESPACE"," ",310],["T_IS_EQUAL","==",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","\"200\"",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n\t\t\t",310],["T_COMMENT","\/\/ Error Connecting to Bank\n",311],["T_WHITESPACE","\t\t\t",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","addHistory",312],"(",["T_VARIABLE","$order_id",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","config",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","get",312],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_bank_id'",312],")",",",["T_WHITESPACE"," ",312],["T_VARIABLE","$message",312],")",";",["T_WHITESPACE","\n\t\t",312],"}",["T_WHITESPACE"," ",313],["T_ELSEIF","elseif",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$response",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","result",313],["T_WHITESPACE"," ",313],["T_IS_EQUAL","==",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","\"204\"",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n\t\t\t",313],["T_COMMENT","\/\/ Error Connecting to Bank\n",314],["T_WHITESPACE","\t\t\t",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","addHistory",315],"(",["T_VARIABLE","$order_id",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","config",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","get",315],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_bank_id'",315],")",",",["T_WHITESPACE"," ",315],["T_VARIABLE","$message",315],")",";",["T_WHITESPACE","\n\t\t",315],"}",["T_WHITESPACE"," ",316],["T_ELSEIF","elseif",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$response",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","result",316],["T_WHITESPACE"," ",316],["T_IS_EQUAL","==",316],["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","\"205\"",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n\t\t\t",316],["T_COMMENT","\/\/ Comms Error\n",317],["T_WHITESPACE","\t\t\t",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","addHistory",318],"(",["T_VARIABLE","$order_id",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","config",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","get",318],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_bank_id'",318],")",",",["T_WHITESPACE"," ",318],["T_VARIABLE","$message",318],")",";",["T_WHITESPACE","\n\t\t",318],"}",["T_WHITESPACE"," ",319],["T_ELSE","else",319],["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n\t\t\t",319],["T_COMMENT","\/\/ Other\n",320],["T_WHITESPACE","\t\t\t",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","addHistory",321],"(",["T_VARIABLE","$order_id",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","config",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","get",321],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_id'",321],")",",",["T_WHITESPACE"," ",321],["T_VARIABLE","$message",321],")",";",["T_WHITESPACE","\n\t\t",321],"}",["T_WHITESPACE","\n\n\t\t",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$response",324],";",["T_WHITESPACE","\n\t",324],"}",["T_WHITESPACE","\n\n\t",325],["T_PUBLIC","public",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","addOrder",327],"(",["T_VARIABLE","$order_info",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$response",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$account",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$order_ref",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n\t\t",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","config",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","get",328],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_auto_settle'",328],")",["T_WHITESPACE"," ",328],["T_IS_EQUAL","==",328],["T_WHITESPACE"," ",328],["T_LNUMBER","1",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n\t\t\t",328],["T_VARIABLE","$settle_status",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_LNUMBER","1",329],";",["T_WHITESPACE","\n\t\t",329],"}",["T_WHITESPACE"," ",330],["T_ELSE","else",330],["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n\t\t\t",330],["T_VARIABLE","$settle_status",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_LNUMBER","0",331],";",["T_WHITESPACE","\n\t\t",331],"}",["T_WHITESPACE","\n\n\t\t",332],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","query",334],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_STRING","DB_PREFIX",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"realex_remote_order` SET `order_id` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_INT_CAST","(int)",334],["T_VARIABLE","$order_info",334],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",334],"]",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `settle_type` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_INT_CAST","(int)",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","config",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","get",334],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_auto_settle'",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `order_ref` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escape",334],"(",["T_VARIABLE","$order_ref",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `order_ref_previous` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escape",334],"(",["T_VARIABLE","$order_ref",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = now(), `date_modified` = now(), `capture_status` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_INT_CAST","(int)",334],["T_VARIABLE","$settle_status",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `currency_code` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escape",334],"(",["T_VARIABLE","$order_info",334],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",334],"]",")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `pasref` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escape",334],"(",["T_VARIABLE","$response",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","pasref",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `pasref_previous` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escape",334],"(",["T_VARIABLE","$response",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","pasref",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `authcode` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escape",334],"(",["T_VARIABLE","$response",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","authcode",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `account` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","db",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escape",334],"(",["T_VARIABLE","$account",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"', `total` = '\"",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","currency",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","format",334],"(",["T_VARIABLE","$order_info",334],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",334],"]",",",["T_WHITESPACE"," ",334],["T_VARIABLE","$order_info",334],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",334],"]",",",["T_WHITESPACE"," ",334],["T_VARIABLE","$order_info",334],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_value'",334],"]",",",["T_WHITESPACE"," ",334],["T_STRING","false",334],")",["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","\"'\"",334],")",";",["T_WHITESPACE","\n\n\t\t",334],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","db",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getLastId",336],"(",")",";",["T_WHITESPACE","\n\t",336],"}",["T_WHITESPACE","\n\n\t",337],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","addTransaction",339],"(",["T_VARIABLE","$realex_remote_order_id",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$type",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$order_info",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n\t\t",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","db",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","query",340],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_STRING","DB_PREFIX",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"realex_remote_order_transaction` SET `realex_remote_order_id` = '\"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_INT_CAST","(int)",340],["T_VARIABLE","$realex_remote_order_id",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = now(), `type` = '\"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","db",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","escape",340],"(",["T_VARIABLE","$type",340],")",["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"', `amount` = '\"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","currency",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","format",340],"(",["T_VARIABLE","$order_info",340],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",340],"]",",",["T_WHITESPACE"," ",340],["T_VARIABLE","$order_info",340],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",340],"]",",",["T_WHITESPACE"," ",340],["T_VARIABLE","$order_info",340],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_value'",340],"]",",",["T_WHITESPACE"," ",340],["T_STRING","false",340],")",["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"'\"",340],")",";",["T_WHITESPACE","\n\t",340],"}",["T_WHITESPACE","\n\n\t",341],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","logger",343],"(",["T_VARIABLE","$message",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n\t\t",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","config",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","get",344],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_debug'",344],")",["T_WHITESPACE"," ",344],["T_IS_EQUAL","==",344],["T_WHITESPACE"," ",344],["T_LNUMBER","1",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n\t\t\t",344],["T_VARIABLE","$log",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_NEW","new",345],["T_WHITESPACE"," ",345],["T_STRING","Log",345],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote.log'",345],")",";",["T_WHITESPACE","\n\t\t\t",345],["T_VARIABLE","$log",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","write",346],"(",["T_VARIABLE","$message",346],")",";",["T_WHITESPACE","\n\t\t",346],"}",["T_WHITESPACE","\n\t",347],"}",["T_WHITESPACE","\n\n\t",348],["T_PUBLIC","public",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","addHistory",350],"(",["T_VARIABLE","$order_id",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$order_status_id",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$comment",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n\t\t",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","db",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","query",351],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_STRING","DB_PREFIX",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","\"order_history SET order_id = '\"",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_INT_CAST","(int)",351],["T_VARIABLE","$order_id",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","\"', order_status_id = '\"",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_INT_CAST","(int)",351],["T_VARIABLE","$order_status_id",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","\"', notify = '0', comment = '\"",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","db",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","escape",351],"(",["T_VARIABLE","$comment",351],")",["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",351],")",";",["T_WHITESPACE","\n\t",351],"}",["T_WHITESPACE","\n",352],"}"]