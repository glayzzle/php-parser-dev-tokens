[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionPaymentLaybuy",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addTransaction",3],"(",["T_VARIABLE","$data",3],["T_WHITESPACE"," ",3],"=",["T_WHITESPACE"," ",3],["T_ARRAY","array",3],"(",")",",",["T_WHITESPACE"," ",3],["T_VARIABLE","$status",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","log",4],"(",["T_CONSTANT_ENCAPSED_STRING","'Report: '",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","print_r",4],"(",["T_VARIABLE","$data",4],",",["T_WHITESPACE"," ",4],["T_STRING","true",4],")",",",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","'1'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","log",6],"(",["T_CONSTANT_ENCAPSED_STRING","'Status: '",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_VARIABLE","$status",6],",",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","'1'",6],")",";",["T_WHITESPACE","\n\n\t\t",6],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","query",8],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` SET `order_id` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",8],"]",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `firstname` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `lastname` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `address` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `suburb` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'suburb'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `state` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'state'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `country` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `postcode` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `email` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `amount` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_DOUBLE_CAST","(float)",8],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",8],"]",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `currency` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `downpayment` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'downpayment'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `months` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",8],"]",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `downpayment_amount` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_DOUBLE_CAST","(float)",8],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'downpayment_amount'",8],"]",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_amounts` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_DOUBLE_CAST","(float)",8],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_amounts'",8],"]",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `first_payment_due` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'first_payment_due'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `last_payment_due` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'last_payment_due'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",8],"]",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `status` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$status",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `report` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'report'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `paypal_profile_id` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","escape",8],"(",["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_profile_id'",8],"]",")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `laybuy_ref_no` = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'laybuy_ref_no'",8],"]",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW()\"",8],")",";",["T_WHITESPACE","\n\t",8],"}",["T_WHITESPACE","\n\n\t",9],["T_PUBLIC","public",11],["T_WHITESPACE"," ",11],["T_FUNCTION","function",11],["T_WHITESPACE"," ",11],["T_STRING","deleteRevisedTransaction",11],"(",["T_VARIABLE","$id",11],")",["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\t\t",11],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","db",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","query",12],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_STRING","DB_PREFIX",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` WHERE `laybuy_revise_request_id` = '\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_INT_CAST","(int)",12],["T_VARIABLE","$id",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"'\"",12],")",";",["T_WHITESPACE","\n\t",12],"}",["T_WHITESPACE","\n\n\t",13],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","deleteTransactionByOrderId",15],"(",["T_VARIABLE","$order_id",15],")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\t\t",15],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","db",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","query",16],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",16],["T_WHITESPACE"," ",16],".",["T_WHITESPACE"," ",16],["T_STRING","DB_PREFIX",16],["T_WHITESPACE"," ",16],".",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `order_id` = '\"",16],["T_WHITESPACE"," ",16],".",["T_WHITESPACE"," ",16],["T_INT_CAST","(int)",16],["T_VARIABLE","$order_id",16],["T_WHITESPACE"," ",16],".",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","\"'\"",16],")",";",["T_WHITESPACE","\n\n\t\t",16],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","db",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","query",18],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_STRING","DB_PREFIX",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` WHERE `order_id` = '\"",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_INT_CAST","(int)",18],["T_VARIABLE","$order_id",18],["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","\"'\"",18],")",";",["T_WHITESPACE","\n\t",18],"}",["T_WHITESPACE","\n\n\t",19],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","getInitialPayments",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\t\t",21],["T_VARIABLE","$minimum",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","config",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_min_deposit'",22],")",["T_WHITESPACE"," ",22],"?",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","config",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_min_deposit'",22],")",["T_WHITESPACE"," ",22],":",["T_WHITESPACE"," ",22],["T_LNUMBER","20",22],";",["T_WHITESPACE","\n\n\t\t",22],["T_VARIABLE","$maximum",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","config",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_max_deposit'",24],")",["T_WHITESPACE"," ",24],"?",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","config",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_max_deposit'",24],")",["T_WHITESPACE"," ",24],":",["T_WHITESPACE"," ",24],["T_LNUMBER","50",24],";",["T_WHITESPACE","\n\n\t\t",24],["T_VARIABLE","$initial_payments",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",")",";",["T_WHITESPACE","\n\n\t\t",26],["T_FOR","for",28],["T_WHITESPACE"," ",28],"(",["T_VARIABLE","$i",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$minimum",28],";",["T_WHITESPACE"," ",28],["T_VARIABLE","$i",28],["T_WHITESPACE"," ",28],["T_IS_SMALLER_OR_EQUAL","<=",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$maximum",28],";",["T_WHITESPACE"," ",28],["T_VARIABLE","$i",28],["T_WHITESPACE"," ",28],["T_PLUS_EQUAL","+=",28],["T_WHITESPACE"," ",28],["T_LNUMBER","10",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\t\t\t",28],["T_VARIABLE","$initial_payments",29],"[","]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$i",29],";",["T_WHITESPACE","\n\t\t",29],"}",["T_WHITESPACE","\n\n\t\t",30],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$initial_payments",32],";",["T_WHITESPACE","\n\t",32],"}",["T_WHITESPACE","\n\n\t",33],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","getMethod",35],"(",["T_VARIABLE","$address",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$total",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n\t\t",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","load",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","language",36],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/laybuy'",36],")",";",["T_WHITESPACE","\n\n\t\t",36],["T_VARIABLE","$query",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","db",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","query",38],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_STRING","DB_PREFIX",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"zone_to_geo_zone` WHERE `geo_zone_id` = '\"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_INT_CAST","(int)",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","config",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_geo_zone'",38],")",["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"' AND `country_id` = '\"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_INT_CAST","(int)",38],["T_VARIABLE","$address",38],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",38],"]",["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"' AND (`zone_id` = '\"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_INT_CAST","(int)",38],["T_VARIABLE","$address",38],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",38],"]",["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"' OR `zone_id` = '0')\"",38],")",";",["T_WHITESPACE","\n\n\t\t",38],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","config",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_total'",40],")",["T_WHITESPACE"," ",40],">",["T_WHITESPACE"," ",40],["T_LNUMBER","0",40],["T_WHITESPACE"," ",40],["T_BOOLEAN_AND","&&",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","config",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_total'",40],")",["T_WHITESPACE"," ",40],">",["T_WHITESPACE"," ",40],["T_VARIABLE","$total",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\t\t\t",40],["T_VARIABLE","$status",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","false",41],";",["T_WHITESPACE","\n\t\t",41],"}",["T_WHITESPACE"," ",42],["T_ELSEIF","elseif",42],["T_WHITESPACE"," ",42],"(","!",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","config",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_geo_zone'",42],")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t",42],["T_VARIABLE","$status",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","true",43],";",["T_WHITESPACE","\n\t\t",43],"}",["T_WHITESPACE"," ",44],["T_ELSEIF","elseif",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$query",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","num_rows",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\t\t\t",44],["T_VARIABLE","$status",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","true",45],";",["T_WHITESPACE","\n\t\t",45],"}",["T_WHITESPACE"," ",46],["T_ELSE","else",46],["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n\t\t\t",46],["T_VARIABLE","$status",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","false",47],";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\n\t\t",48],["T_COMMENT","\/* Condition for customer group *\/",50],["T_WHITESPACE","\n\t\t",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$status",51],["T_WHITESPACE"," ",51],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","config",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_customer_group'",51],")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n\t\t\t",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_ISSET","isset",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","session",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","data",52],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",52],"]",")",["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],["T_STRING","in_array",52],"(",["T_LNUMBER","0",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","config",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","get",52],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_customer_group'",52],")",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t\t\t",52],["T_VARIABLE","$status",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","true",53],";",["T_WHITESPACE","\n\t\t\t",53],"}",["T_WHITESPACE"," ",54],["T_ELSEIF","elseif",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","customer",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","isLogged",54],"(",")",["T_WHITESPACE"," ",54],["T_BOOLEAN_AND","&&",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","session",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","data",54],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",54],"]",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t\t",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","load",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","model",55],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/customer'",55],")",";",["T_WHITESPACE","\n\n\t\t\t\t",55],["T_VARIABLE","$customer",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","model_account_customer",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getCustomer",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","session",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","data",57],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",57],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_STRING","in_array",59],"(",["T_VARIABLE","$customer",59],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",59],"]",",",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","config",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_customer_group'",59],")",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t\t\t\t",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","session",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","data",60],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$customer",60],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",60],"]",";",["T_WHITESPACE","\n\n\t\t\t\t\t",60],["T_VARIABLE","$status",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","true",62],";",["T_WHITESPACE","\n\t\t\t\t",62],"}",["T_WHITESPACE"," ",63],["T_ELSE","else",63],["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n\t\t\t\t\t",63],["T_VARIABLE","$status",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","false",64],";",["T_WHITESPACE","\n\t\t\t\t",64],"}",["T_WHITESPACE","\n\t\t\t",65],"}",["T_WHITESPACE"," ",66],["T_ELSE","else",66],["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t\t",66],["T_VARIABLE","$status",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","false",67],";",["T_WHITESPACE","\n\t\t\t",67],"}",["T_WHITESPACE","\n\t\t",68],"}",["T_WHITESPACE","\n\n\t\t",69],["T_COMMENT","\/* Condition for categories and products *\/",71],["T_WHITESPACE","\n\t\t",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$status",72],["T_WHITESPACE"," ",72],["T_BOOLEAN_AND","&&",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","config",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","get",72],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_category'",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n\t\t\t",72],["T_VARIABLE","$allowed_categories",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","config",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_category'",73],")",";",["T_WHITESPACE","\n\n\t\t\t",73],["T_VARIABLE","$xproducts",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","explode",75],"(",["T_CONSTANT_ENCAPSED_STRING","','",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","config",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_xproducts'",75],")",")",";",["T_WHITESPACE","\n\n\t\t\t",75],["T_VARIABLE","$cart_products",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","cart",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getProducts",77],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",77],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$cart_products",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$cart_product",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n\t\t\t\t",79],["T_VARIABLE","$product",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$xproducts",82],["T_WHITESPACE"," ",82],["T_BOOLEAN_AND","&&",82],["T_WHITESPACE"," ",82],["T_STRING","in_array",82],"(",["T_VARIABLE","$cart_product",82],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",82],"]",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$xproducts",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n\t\t\t\t\t",82],["T_VARIABLE","$status",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","false",83],";",["T_WHITESPACE","\n\t\t\t\t\t",83],["T_BREAK","break",84],";",["T_WHITESPACE","\n\t\t\t\t",84],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t\t\t\t",85],["T_VARIABLE","$product",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","db",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","query",86],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT GROUP_CONCAT(`category_id`) as `categories` FROM `\"",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_STRING","DB_PREFIX",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category` WHERE `product_id` = '\"",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_INT_CAST","(int)",86],["T_VARIABLE","$cart_product",86],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",86],"]",["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","\"'\"",86],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",86],["T_VARIABLE","$product",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$product",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","row",88],";",["T_WHITESPACE","\n\n\t\t\t\t\t",88],["T_VARIABLE","$product",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","explode",90],"(",["T_CONSTANT_ENCAPSED_STRING","','",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$product",90],"[",["T_CONSTANT_ENCAPSED_STRING","'categories'",90],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$product",92],["T_WHITESPACE"," ",92],["T_BOOLEAN_AND","&&",92],["T_WHITESPACE"," ",92],["T_STRING","count",92],"(",["T_STRING","array_diff",92],"(",["T_VARIABLE","$product",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$allowed_categories",92],")",")",["T_WHITESPACE"," ",92],">",["T_WHITESPACE"," ",92],["T_LNUMBER","0",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",92],["T_VARIABLE","$status",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","false",93],";",["T_WHITESPACE","\n\t\t\t\t\t\t",93],["T_BREAK","break",94],";",["T_WHITESPACE","\n\t\t\t\t\t",94],"}",["T_WHITESPACE","\n\t\t\t\t",95],"}",["T_WHITESPACE","\n\t\t\t",96],"}",["T_WHITESPACE","\n\t\t",97],"}",["T_WHITESPACE","\n\n\t\t",98],["T_VARIABLE","$method_data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",")",";",["T_WHITESPACE","\n\n\t\t",100],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$status",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t\t\t",102],["T_VARIABLE","$method_data",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_WHITESPACE","\n\t\t\t\t",103],["T_CONSTANT_ENCAPSED_STRING","'code'",104],["T_WHITESPACE","\t\t\t",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'laybuy'",104],",",["T_WHITESPACE","\n\t\t\t\t",104],["T_CONSTANT_ENCAPSED_STRING","'title'",105],["T_WHITESPACE","\t\t\t",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","language",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_CONSTANT_ENCAPSED_STRING","'text_title'",105],")",",",["T_WHITESPACE","\n\t\t\t\t",105],["T_CONSTANT_ENCAPSED_STRING","'terms'",106],["T_WHITESPACE","\t\t\t",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],",",["T_WHITESPACE","\n\t\t\t\t",106],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",107],["T_WHITESPACE","\t",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","config",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_sort_order'",107],")",["T_WHITESPACE","\n\t\t\t",107],")",";",["T_WHITESPACE","\n\t\t",108],"}",["T_WHITESPACE","\n\n\t\t",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$method_data",111],";",["T_WHITESPACE","\n\t",111],"}",["T_WHITESPACE","\n\n\t",112],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","getMonths",114],"(",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n\t\t",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","load",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","language",115],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/laybuy'",115],")",";",["T_WHITESPACE","\n\n\t\t",115],["T_VARIABLE","$max_months",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","config",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","get",117],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_max_months'",117],")",";",["T_WHITESPACE","\n\n\t\t",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_VARIABLE","$max_months",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n\t\t\t",119],["T_VARIABLE","$max_months",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_LNUMBER","3",120],";",["T_WHITESPACE","\n\t\t",120],"}",["T_WHITESPACE","\n\n\t\t",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$max_months",123],["T_WHITESPACE"," ",123],"<",["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n\t\t\t",123],["T_VARIABLE","$max_months",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_LNUMBER","1",124],";",["T_WHITESPACE","\n\t\t",124],"}",["T_WHITESPACE","\n\n\t\t",125],["T_VARIABLE","$months",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",";",["T_WHITESPACE","\n\n\t\t",127],["T_FOR","for",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$i",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_LNUMBER","1",129],";",["T_WHITESPACE"," ",129],["T_VARIABLE","$i",129],["T_WHITESPACE"," ",129],["T_IS_SMALLER_OR_EQUAL","<=",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$max_months",129],";",["T_WHITESPACE"," ",129],["T_VARIABLE","$i",129],["T_INC","++",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n\t\t\t",129],["T_VARIABLE","$months",130],"[","]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_WHITESPACE","\n\t\t\t\t",130],["T_CONSTANT_ENCAPSED_STRING","'value'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$i",131],",",["T_WHITESPACE","\n\t\t\t\t",131],["T_CONSTANT_ENCAPSED_STRING","'label'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$i",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","' '",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],"(","(",["T_VARIABLE","$i",132],["T_WHITESPACE"," ",132],">",["T_WHITESPACE"," ",132],["T_LNUMBER","1",132],")",["T_WHITESPACE"," ",132],"?",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","language",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",["T_CONSTANT_ENCAPSED_STRING","'text_months'",132],")",["T_WHITESPACE"," ",132],":",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","language",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",["T_CONSTANT_ENCAPSED_STRING","'text_month'",132],")",")",["T_WHITESPACE","\n\t\t\t",132],")",";",["T_WHITESPACE","\n\t\t",133],"}",["T_WHITESPACE","\n\n\t\t",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$months",136],";",["T_WHITESPACE","\n\t",136],"}",["T_WHITESPACE","\n\n\t",137],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getPayPalProfileIds",139],"(",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n\t\t",139],["T_VARIABLE","$query",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","db",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","query",140],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `paypal_profile_id` FROM `\"",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_STRING","DB_PREFIX",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `status` = '1'\"",140],")",";",["T_WHITESPACE","\n\n\t\t",140],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$query",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","rows",142],";",["T_WHITESPACE","\n\t",142],"}",["T_WHITESPACE","\n\n\t",143],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","getRevisedTransaction",145],"(",["T_VARIABLE","$id",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n\t\t",145],["T_VARIABLE","$query",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","db",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","query",146],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_STRING","DB_PREFIX",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_revise_request` WHERE `laybuy_revise_request_id` = '\"",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_INT_CAST","(int)",146],["T_VARIABLE","$id",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","\"'\"",146],")",";",["T_WHITESPACE","\n\n\t\t",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$query",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","row",148],";",["T_WHITESPACE","\n\t",148],"}",["T_WHITESPACE","\n\n\t",149],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getTransaction",151],"(",["T_VARIABLE","$id",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t",151],["T_VARIABLE","$query",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","db",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","query",152],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_STRING","DB_PREFIX",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `laybuy_transaction_id` = '\"",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_INT_CAST","(int)",152],["T_VARIABLE","$id",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","\"'\"",152],")",";",["T_WHITESPACE","\n\n\t\t",152],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$query",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","row",154],";",["T_WHITESPACE","\n\t",154],"}",["T_WHITESPACE","\n\n\t",155],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","getTransactionByLayBuyRefId",157],"(",["T_VARIABLE","$laybuy_ref_id",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n\t\t",157],["T_VARIABLE","$query",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","db",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","query",158],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_STRING","DB_PREFIX",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` WHERE `laybuy_ref_no` = '\"",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_INT_CAST","(int)",158],["T_VARIABLE","$laybuy_ref_id",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","\"'\"",158],")",";",["T_WHITESPACE","\n\n\t\t",158],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$query",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","row",160],";",["T_WHITESPACE","\n\t",160],"}",["T_WHITESPACE","\n\n\t",161],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","log",163],"(",["T_VARIABLE","$data",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$step",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_LNUMBER","6",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n\t\t",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","config",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","get",164],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy_logging'",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n\t\t\t",164],["T_VARIABLE","$backtrace",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","debug_backtrace",165],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",165],["T_VARIABLE","$log",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Log",167],"(",["T_CONSTANT_ENCAPSED_STRING","'laybuy.log'",167],")",";",["T_WHITESPACE","\n\n\t\t\t",167],["T_VARIABLE","$log",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","write",169],"(",["T_CONSTANT_ENCAPSED_STRING","'('",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$backtrace",169],"[",["T_VARIABLE","$step",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",169],"]",["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'::'",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$backtrace",169],"[",["T_VARIABLE","$step",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'function'",169],"]",["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","') - '",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$data",169],")",";",["T_WHITESPACE","\n\t\t",169],"}",["T_WHITESPACE","\n\t",170],"}",["T_WHITESPACE","\n\n\t",171],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","prepareTransactionReport",173],"(",["T_VARIABLE","$post_data",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n\t\t",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","load",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","model",174],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",174],")",";",["T_WHITESPACE","\n\n\t\t",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","load",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","language",176],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/laybuy'",176],")",";",["T_WHITESPACE","\n\n\t\t",176],["T_VARIABLE","$data",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","array_change_key_case",178],"(",["T_VARIABLE","$post_data",178],",",["T_WHITESPACE"," ",178],["T_STRING","CASE_LOWER",178],")",";",["T_WHITESPACE","\n\n\t\t",178],["T_VARIABLE","$data",180],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$data",180],"[",["T_CONSTANT_ENCAPSED_STRING","'custom'",180],"]",";",["T_WHITESPACE","\n\n\t\t",180],["T_VARIABLE","$order_info",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","model_checkout_order",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getOrder",182],"(",["T_VARIABLE","$data",182],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",182],"]",")",";",["T_WHITESPACE","\n\n\t\t",182],["T_VARIABLE","$date_added",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","date",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","language",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_CONSTANT_ENCAPSED_STRING","'date_format_short'",184],")",",",["T_WHITESPACE"," ",184],["T_STRING","strtotime",184],"(",["T_VARIABLE","$order_info",184],"[",["T_CONSTANT_ENCAPSED_STRING","'date_added'",184],"]",")",")",";",["T_WHITESPACE","\n\n\t\t",184],["T_VARIABLE","$data",186],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$order_info",186],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",186],"]",";",["T_WHITESPACE","\n\n\t\t",186],["T_VARIABLE","$data",188],"[",["T_CONSTANT_ENCAPSED_STRING","'date_added'",188],"]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$order_info",188],"[",["T_CONSTANT_ENCAPSED_STRING","'date_added'",188],"]",";",["T_WHITESPACE","\n\n\t\t",188],["T_VARIABLE","$data",190],"[",["T_CONSTANT_ENCAPSED_STRING","'first_payment_due'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","date",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d h:i:s'",190],",",["T_WHITESPACE"," ",190],["T_STRING","strtotime",190],"(",["T_STRING","str_replace",190],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'-'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$data",190],"[",["T_CONSTANT_ENCAPSED_STRING","'first_payment_due'",190],"]",")",")",")",";",["T_WHITESPACE","\n\n\t\t",190],["T_VARIABLE","$data",192],"[",["T_CONSTANT_ENCAPSED_STRING","'last_payment_due'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","date",192],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d h:i:s'",192],",",["T_WHITESPACE"," ",192],["T_STRING","strtotime",192],"(",["T_STRING","str_replace",192],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'-'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$data",192],"[",["T_CONSTANT_ENCAPSED_STRING","'last_payment_due'",192],"]",")",")",")",";",["T_WHITESPACE","\n\n\t\t",192],["T_VARIABLE","$months",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_INT_CAST","(int)",194],["T_VARIABLE","$data",194],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",194],"]",";",["T_WHITESPACE","\n\n\t\t",194],["T_VARIABLE","$report_content",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",")",";",["T_WHITESPACE","\n\n\t\t",196],["T_VARIABLE","$report_content",198],"[","]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_WHITESPACE","\n\t\t\t",198],["T_CONSTANT_ENCAPSED_STRING","'instalment'",199],["T_WHITESPACE","\t",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_LNUMBER","0",199],",",["T_WHITESPACE","\n\t\t\t",199],["T_CONSTANT_ENCAPSED_STRING","'amount'",200],["T_WHITESPACE","\t\t",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","currency",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","format",200],"(",["T_VARIABLE","$data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'downpayment_amount'",200],"]",",",["T_WHITESPACE"," ",200],["T_VARIABLE","$data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",200],"]",")",",",["T_WHITESPACE","\n\t\t\t",200],["T_CONSTANT_ENCAPSED_STRING","'date'",201],["T_WHITESPACE","\t\t\t",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$date_added",201],",",["T_WHITESPACE","\n\t\t\t",201],["T_CONSTANT_ENCAPSED_STRING","'pp_trans_id'",202],["T_WHITESPACE","\t",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$data",202],"[",["T_CONSTANT_ENCAPSED_STRING","'dp_paypal_txn_id'",202],"]",",",["T_WHITESPACE","\n\t\t\t",202],["T_CONSTANT_ENCAPSED_STRING","'status'",203],["T_WHITESPACE","\t\t",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Completed'",203],["T_WHITESPACE","\n\t\t",203],")",";",["T_WHITESPACE","\n\n\t\t",204],["T_FOR","for",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$month",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],";",["T_WHITESPACE"," ",206],["T_VARIABLE","$month",206],["T_WHITESPACE"," ",206],["T_IS_SMALLER_OR_EQUAL","<=",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$months",206],";",["T_WHITESPACE"," ",206],["T_VARIABLE","$month",206],["T_INC","++",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$date",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","date",207],"(",["T_CONSTANT_ENCAPSED_STRING","\"Y-m-d h:i:s\"",207],",",["T_WHITESPACE"," ",207],["T_STRING","strtotime",207],"(",["T_VARIABLE","$data",207],"[",["T_CONSTANT_ENCAPSED_STRING","'first_payment_due'",207],"]",["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\" +\"",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$month",207],["T_WHITESPACE"," ",207],"-",["T_LNUMBER","1",207],")",["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\" month\"",207],")",")",";",["T_WHITESPACE","\n\t\t\t",207],["T_VARIABLE","$date",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","date",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","language",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","get",208],"(",["T_CONSTANT_ENCAPSED_STRING","'date_format_short'",208],")",",",["T_WHITESPACE"," ",208],["T_STRING","strtotime",208],"(",["T_VARIABLE","$date",208],")",")",";",["T_WHITESPACE","\n\n\t\t\t",208],["T_VARIABLE","$report_content",210],"[","]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",["T_WHITESPACE","\n\t\t\t",210],["T_CONSTANT_ENCAPSED_STRING","'instalment'",211],["T_WHITESPACE","\t",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$month",211],",",["T_WHITESPACE","\n\t\t\t",211],["T_CONSTANT_ENCAPSED_STRING","'amount'",212],["T_WHITESPACE","\t\t",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","currency",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","format",212],"(",["T_VARIABLE","$data",212],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_amounts'",212],"]",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$data",212],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",212],"]",")",",",["T_WHITESPACE","\n\t\t\t",212],["T_CONSTANT_ENCAPSED_STRING","'date'",213],["T_WHITESPACE","\t\t\t",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$date",213],",",["T_WHITESPACE","\n\t\t\t",213],["T_CONSTANT_ENCAPSED_STRING","'pp_trans_id'",214],["T_WHITESPACE","\t",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","''",214],",",["T_WHITESPACE","\n\t\t\t",214],["T_CONSTANT_ENCAPSED_STRING","'status'",215],["T_WHITESPACE","\t\t",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'Pending'",215],["T_WHITESPACE","\n\t\t\t",215],")",";",["T_WHITESPACE","\n\t\t",216],"}",["T_WHITESPACE","\n\n\t\t",217],["T_VARIABLE","$data",219],"[",["T_CONSTANT_ENCAPSED_STRING","'report'",219],"]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","json_encode",219],"(",["T_VARIABLE","$report_content",219],")",";",["T_WHITESPACE","\n\n\t\t",219],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$data",221],";",["T_WHITESPACE","\n\t",221],"}",["T_WHITESPACE","\n\n\t",222],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","updateCronRunTime",224],"(",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n\t\t",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","db",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","query",225],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_STRING","DB_PREFIX",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","\"setting` WHERE `key` = 'laybuy_cron_time'\"",225],")",";",["T_WHITESPACE","\n\n\t\t",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","db",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","query",227],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",227],["T_WHITESPACE"," ",227],".",["T_WHITESPACE"," ",227],["T_STRING","DB_PREFIX",227],["T_WHITESPACE"," ",227],".",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","\"setting` SET `store_id` = '0', `code` = 'laybuy', `key` = 'laybuy_cron_time', `value` = NOW(), `serialized` = '0'\"",227],")",";",["T_WHITESPACE","\n\t",227],"}",["T_WHITESPACE","\n\n\t",228],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","updateTransaction",230],"(",["T_VARIABLE","$id",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$status",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$report",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$transaction",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n\t\t",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","db",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","query",231],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_STRING","DB_PREFIX",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","\"laybuy_transaction` SET `status` = '\"",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_INT_CAST","(int)",231],["T_VARIABLE","$status",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","\"', `report` = '\"",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","db",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","escape",231],"(",["T_VARIABLE","$report",231],")",["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","\"', `transaction` = '\"",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_INT_CAST","(int)",231],["T_VARIABLE","$transaction",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE `laybuy_transaction_id` = '\"",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_INT_CAST","(int)",231],["T_VARIABLE","$id",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","\"'\"",231],")",";",["T_WHITESPACE","\n\t",231],"}",["T_WHITESPACE","\n",232],"}"]