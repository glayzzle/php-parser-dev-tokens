[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionPaymentPilibaba",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getMethod",3],"(",["T_VARIABLE","$address",3],",",["T_WHITESPACE"," ",3],["T_VARIABLE","$total",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pilibaba'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$status",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_STRING","true",6],";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(","!",["T_ISSET","isset",8],"(",["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","session",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",8],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",8],"]",")",["T_WHITESPACE"," ",8],["T_BOOLEAN_OR","||",8],["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","session",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",8],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",8],"]",["T_WHITESPACE"," ",8],["T_IS_NOT_EQUAL","!=",8],["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","'pilibaba.pilibaba'",8],")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$status",9],["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_STRING","false",9],";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE","\n\n\t\t",10],["T_VARIABLE","$method_data",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_ARRAY","array",12],"(",")",";",["T_WHITESPACE","\n\n\t\t",12],["T_IF","if",14],["T_WHITESPACE"," ",14],"(",["T_VARIABLE","$status",14],")",["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\t\t\t",14],["T_VARIABLE","$method_data",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_ARRAY","array",15],"(",["T_WHITESPACE","\n\t\t\t\t",15],["T_CONSTANT_ENCAPSED_STRING","'code'",16],["T_WHITESPACE","\t\t\t",16],["T_DOUBLE_ARROW","=>",16],["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'pilibaba'",16],",",["T_WHITESPACE","\n\t\t\t\t",16],["T_CONSTANT_ENCAPSED_STRING","'title'",17],["T_WHITESPACE","\t\t\t",17],["T_DOUBLE_ARROW","=>",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","language",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","get",17],"(",["T_CONSTANT_ENCAPSED_STRING","'text_title'",17],")",",",["T_WHITESPACE","\n\t\t\t\t",17],["T_CONSTANT_ENCAPSED_STRING","'terms'",18],["T_WHITESPACE","\t\t\t",18],["T_DOUBLE_ARROW","=>",18],["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","''",18],",",["T_WHITESPACE","\n\t\t\t\t",18],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",19],["T_WHITESPACE","\t",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","config",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","get",19],"(",["T_CONSTANT_ENCAPSED_STRING","'pilibaba_sort_order'",19],")",["T_WHITESPACE","\n\t\t\t",19],")",";",["T_WHITESPACE","\n\t\t",20],"}",["T_WHITESPACE","\n\n\t\t",21],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$method_data",23],";",["T_WHITESPACE","\n\t",23],"}",["T_WHITESPACE","\n\n\t",24],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","getOrderTaxAmount",26],"(",["T_VARIABLE","$order_id",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t",26],["T_VARIABLE","$query",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","db",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","query",27],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT SUM(`value`) AS `value` FROM `\"",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_STRING","DB_PREFIX",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"order_total` WHERE `order_id` = '\"",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_INT_CAST","(int)",27],["T_VARIABLE","$order_id",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"' AND `code` = 'tax'\"",27],")",";",["T_WHITESPACE","\n\n\t\t",27],["T_IF","if",29],["T_WHITESPACE"," ",29],"(",["T_VARIABLE","$query",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","num_rows",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n\t\t\t",29],["T_RETURN","return",30],["T_WHITESPACE"," ",30],["T_STRING","intval",30],"(",["T_STRING","round",30],"(",["T_VARIABLE","$query",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","row",30],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",30],"]",",",["T_WHITESPACE"," ",30],["T_LNUMBER","2",30],")",["T_WHITESPACE"," ",30],"*",["T_WHITESPACE"," ",30],["T_LNUMBER","100",30],")",";",["T_WHITESPACE","\n\t\t",30],"}",["T_WHITESPACE"," ",31],["T_ELSE","else",31],["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\t\t\t",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_LNUMBER","0",32],";",["T_WHITESPACE","\n\t\t",32],"}",["T_WHITESPACE","\n\t",33],"}",["T_WHITESPACE","\n\n\t",34],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","addPilibabaOrder",36],"(",["T_VARIABLE","$response_data",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\t\t",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","db",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","query",37],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_STRING","DB_PREFIX",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"pilibaba_order` SET `order_id` = '\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_INT_CAST","(int)",37],["T_VARIABLE","$response_data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'orderNo'",37],"]",["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"', `amount` = '\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_DOUBLE_CAST","(float)",37],["T_VARIABLE","$response_data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'orderAmount'",37],"]",["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"', `fee` = '\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_DOUBLE_CAST","(float)",37],["T_VARIABLE","$response_data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'fee'",37],"]",["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"', `tracking` = '', `date_added` = NOW()\"",37],")",";",["T_WHITESPACE","\n\t",37],"}",["T_WHITESPACE","\n\n\t",38],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","getConsumerInfo",40],"(",["T_VARIABLE","$order_id",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\t\t",40],["T_VARIABLE","$sign_msg",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","strtoupper",41],"(",["T_STRING","md5",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","config",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'pilibaba_merchant_number'",41],")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$order_id",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'MD5'",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","config",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'pilibaba_secret_key'",41],")",")",")",";",["T_WHITESPACE","\n\n\t\t",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","config",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'pilibaba_environment'",43],")",["T_WHITESPACE"," ",43],["T_IS_EQUAL","==",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'live'",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t",43],["T_VARIABLE","$url",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.pilibaba.com\/pilipay\/consumerInfo'",44],";",["T_WHITESPACE","\n\t\t",44],"}",["T_WHITESPACE"," ",45],["T_ELSE","else",45],["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n\t\t\t",45],["T_VARIABLE","$url",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/pre.pilibaba.com\/pilipay\/consumerInfo'",46],";",["T_WHITESPACE","\n\t\t",46],"}",["T_WHITESPACE","\n\n\t\t",47],["T_VARIABLE","$url",49],["T_WHITESPACE"," ",49],["T_CONCAT_EQUAL",".=",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'?merchantNo='",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","config",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'pilibaba_merchant_number'",49],")",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'&orderNo='",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$order_id",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'&signType='",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'MD5'",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'&signMsg='",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$sign_msg",49],";",["T_WHITESPACE","\n\n\t\t",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","log",51],"(",["T_CONSTANT_ENCAPSED_STRING","'URL: '",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$url",51],")",";",["T_WHITESPACE","\n\n\t\t",51],["T_VARIABLE","$ch",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","curl_init",53],"(",")",";",["T_WHITESPACE","\n\t\t",53],["T_STRING","curl_setopt",54],"(",["T_VARIABLE","$ch",54],",",["T_WHITESPACE"," ",54],["T_STRING","CURLOPT_URL",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$url",54],")",";",["T_WHITESPACE","\n\t\t",54],["T_STRING","curl_setopt",55],"(",["T_VARIABLE","$ch",55],",",["T_WHITESPACE"," ",55],["T_STRING","CURLOPT_CUSTOMREQUEST",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'GET'",55],")",";",["T_WHITESPACE","\n\t\t",55],["T_STRING","curl_setopt",56],"(",["T_VARIABLE","$ch",56],",",["T_WHITESPACE"," ",56],["T_STRING","CURLOPT_RETURNTRANSFER",56],",",["T_WHITESPACE"," ",56],["T_STRING","true",56],")",";",["T_WHITESPACE","\n\t\t",56],["T_STRING","curl_setopt",57],"(",["T_VARIABLE","$ch",57],",",["T_WHITESPACE"," ",57],["T_STRING","CURLOPT_HEADER",57],",",["T_WHITESPACE"," ",57],["T_STRING","false",57],")",";",["T_WHITESPACE","\n\t\t",57],["T_STRING","curl_setopt",58],"(",["T_VARIABLE","$ch",58],",",["T_WHITESPACE"," ",58],["T_STRING","CURLOPT_TIMEOUT",58],",",["T_WHITESPACE"," ",58],["T_LNUMBER","30",58],")",";",["T_WHITESPACE","\n\t\t",58],["T_STRING","curl_setopt",59],"(",["T_VARIABLE","$ch",59],",",["T_WHITESPACE"," ",59],["T_STRING","CURLOPT_SSL_VERIFYPEER",59],",",["T_WHITESPACE"," ",59],["T_STRING","false",59],")",";",["T_WHITESPACE","\n\t\t",59],["T_VARIABLE","$response",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","curl_exec",60],"(",["T_VARIABLE","$ch",60],")",";",["T_WHITESPACE","\n\t\t",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_STRING","curl_errno",61],"(",["T_VARIABLE","$ch",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n\t\t\t",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","log",62],"(",["T_CONSTANT_ENCAPSED_STRING","'cURL error: '",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_STRING","curl_errno",62],"(",["T_VARIABLE","$ch",62],")",")",";",["T_WHITESPACE","\n\t\t",62],"}",["T_WHITESPACE","\n\t\t",63],["T_STRING","curl_close",64],"(",["T_VARIABLE","$ch",64],")",";",["T_WHITESPACE","\n\n\t\t",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","log",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Response: '",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","print_r",66],"(",["T_VARIABLE","$response",66],",",["T_WHITESPACE"," ",66],["T_STRING","true",66],")",")",";",["T_WHITESPACE","\n\n\t\t",66],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_STRING","json_decode",68],"(",["T_VARIABLE","$response",68],",",["T_WHITESPACE"," ",68],["T_STRING","true",68],")",";",["T_WHITESPACE","\n\t",68],"}",["T_WHITESPACE","\n\n\t",69],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","updateOrderInfo",71],"(",["T_VARIABLE","$data",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$order_id",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n\t\t",71],["T_VARIABLE","$parts",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","explode",72],"(",["T_CONSTANT_ENCAPSED_STRING","' '",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$data",72],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",72],"]",")",";",["T_WHITESPACE","\n\n\t\t",72],["T_VARIABLE","$data",74],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","array_pop",74],"(",["T_VARIABLE","$parts",74],")",";",["T_WHITESPACE","\n\n\t\t",74],["T_VARIABLE","$data",76],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","implode",76],"(",["T_CONSTANT_ENCAPSED_STRING","' '",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$parts",76],")",";",["T_WHITESPACE","\n\n\t\t",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","query",78],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_STRING","DB_PREFIX",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"order` SET `firstname` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `lastname` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `email` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `telephone` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'mobile'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_firstname` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_lastname` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_address_1` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_city` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_postcode` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'zipcode'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_country` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `payment_zone` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'district'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `shipping_firstname` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `shipping_lastname` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `shipping_address_1` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'address'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `shipping_city` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `shipping_postcode` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'zipcode'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `shipping_country` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `shipping_zone` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","db",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escape",78],"(",["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'district'",78],"]",")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"', `date_modified` = NOW() WHERE `order_id` = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_INT_CAST","(int)",78],["T_VARIABLE","$order_id",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"'\"",78],")",";",["T_WHITESPACE","\n\t",78],"}",["T_WHITESPACE","\n\n\t",79],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","log",81],"(",["T_VARIABLE","$data",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n\t\t",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","config",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","get",82],"(",["T_CONSTANT_ENCAPSED_STRING","'pilibaba_logging'",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n\t\t\t",82],["T_VARIABLE","$log",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","Log",83],"(",["T_CONSTANT_ENCAPSED_STRING","'pilibaba.log'",83],")",";",["T_WHITESPACE","\n\n\t\t\t",83],["T_VARIABLE","$log",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","write",85],"(",["T_VARIABLE","$data",85],")",";",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\t",86],"}",["T_WHITESPACE","\n",87],"}"]