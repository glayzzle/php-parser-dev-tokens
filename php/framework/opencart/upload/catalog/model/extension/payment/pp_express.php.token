[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionPaymentPPExpress",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getMethod",3],"(",["T_VARIABLE","$address",3],",",["T_WHITESPACE"," ",3],["T_VARIABLE","$total",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$query",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","query",6],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_STRING","DB_PREFIX",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"zone_to_geo_zone` WHERE `geo_zone_id` = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","config",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_geo_zone_id'",6],")",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' AND `country_id` = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$address",6],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",6],"]",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' AND (`zone_id` = '\"",6],["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_INT_CAST","(int)",6],["T_VARIABLE","$address",6],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",6],"]",["T_WHITESPACE"," ",6],".",["T_WHITESPACE"," ",6],["T_CONSTANT_ENCAPSED_STRING","\"' OR `zone_id` = '0')\"",6],")",";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(",["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_total'",8],")",["T_WHITESPACE"," ",8],">",["T_WHITESPACE"," ",8],["T_VARIABLE","$total",8],")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$status",9],["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_STRING","false",9],";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE"," ",10],["T_ELSEIF","elseif",10],["T_WHITESPACE"," ",10],"(","!",["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","config",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","get",10],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_geo_zone_id'",10],")",")",["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\t\t\t",10],["T_VARIABLE","$status",11],["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_STRING","true",11],";",["T_WHITESPACE","\n\t\t",11],"}",["T_WHITESPACE"," ",12],["T_ELSEIF","elseif",12],["T_WHITESPACE"," ",12],"(",["T_VARIABLE","$query",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","num_rows",12],")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$status",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_STRING","true",13],";",["T_WHITESPACE","\n\t\t",13],"}",["T_WHITESPACE"," ",14],["T_ELSE","else",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\t\t\t",14],["T_VARIABLE","$status",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_STRING","false",15],";",["T_WHITESPACE","\n\t\t",15],"}",["T_WHITESPACE","\n\n\t\t",16],["T_VARIABLE","$method_data",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",")",";",["T_WHITESPACE","\n\n\t\t",18],["T_IF","if",20],["T_WHITESPACE"," ",20],"(",["T_VARIABLE","$status",20],")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\t\t\t",20],["T_VARIABLE","$method_data",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n\t\t\t\t",21],["T_CONSTANT_ENCAPSED_STRING","'code'",22],["T_WHITESPACE","       ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'pp_express'",22],",",["T_WHITESPACE","\n\t\t\t\t",22],["T_CONSTANT_ENCAPSED_STRING","'title'",23],["T_WHITESPACE","      ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","language",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","get",23],"(",["T_CONSTANT_ENCAPSED_STRING","'text_title'",23],")",",",["T_WHITESPACE","\n\t\t\t\t",23],["T_CONSTANT_ENCAPSED_STRING","'terms'",24],["T_WHITESPACE","      ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","''",24],",",["T_WHITESPACE","\n\t\t\t\t",24],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","config",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_sort_order'",25],")",["T_WHITESPACE","\n\t\t\t",25],")",";",["T_WHITESPACE","\n\t\t",26],"}",["T_WHITESPACE","\n\n\t\t",27],["T_RETURN","return",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$method_data",29],";",["T_WHITESPACE","\n\t",29],"}",["T_WHITESPACE","\n\n\t",30],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","addOrder",32],"(",["T_VARIABLE","$order_data",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t",32],["T_DOC_COMMENT","\/**\n\t\t * 1 to 1 relationship with order table (extends order info)\n\t\t *\/",33],["T_WHITESPACE","\n\n\t\t",35],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","db",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","query",37],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_STRING","DB_PREFIX",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order` SET\n\t\t\t`order_id` = '\"",37],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_INT_CAST","(int)",38],["T_VARIABLE","$order_data",38],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",38],"]",["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`date_added` = NOW(),\n\t\t\t`date_modified` = NOW(),\n\t\t\t`capture_status` = '\"",38],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","db",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","escape",41],"(",["T_VARIABLE","$order_data",41],"[",["T_CONSTANT_ENCAPSED_STRING","'capture_status'",41],"]",")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`currency_code` = '\"",41],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","db",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escape",42],"(",["T_VARIABLE","$order_data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",42],"]",")",["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`total` = '\"",42],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_DOUBLE_CAST","(float)",43],["T_VARIABLE","$order_data",43],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",43],"]",["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`authorization_id` = '\"",43],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","db",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","escape",44],"(",["T_VARIABLE","$order_data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'authorization_id'",44],"]",")",["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"'\"",44],")",";",["T_WHITESPACE","\n\n\t\t",44],["T_RETURN","return",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","db",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getLastId",46],"(",")",";",["T_WHITESPACE","\n\t",46],"}",["T_WHITESPACE","\n\n\t",47],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","addTransaction",49],"(",["T_VARIABLE","$transaction_data",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n\t\t",49],["T_DOC_COMMENT","\/**\n\t\t * 1 to many relationship with paypal order table, many transactions per 1 order\n\t\t *\/",50],["T_WHITESPACE","\n\n\t\t",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","db",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","query",54],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_STRING","DB_PREFIX",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` SET\n\t\t\t`paypal_order_id` = '\"",54],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_INT_CAST","(int)",55],["T_VARIABLE","$transaction_data",55],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",55],"]",["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`transaction_id` = '\"",55],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","db",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","escape",56],"(",["T_VARIABLE","$transaction_data",56],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",56],"]",")",["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`parent_id` = '\"",56],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","db",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","escape",57],"(",["T_VARIABLE","$transaction_data",57],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",57],"]",")",["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`date_added` = NOW(),\n\t\t\t`note` = '\"",57],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","db",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","escape",59],"(",["T_VARIABLE","$transaction_data",59],"[",["T_CONSTANT_ENCAPSED_STRING","'note'",59],"]",")",["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`msgsubid` = '\"",59],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","db",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","escape",60],"(",["T_VARIABLE","$transaction_data",60],"[",["T_CONSTANT_ENCAPSED_STRING","'msgsubid'",60],"]",")",["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`receipt_id` = '\"",60],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","db",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","escape",61],"(",["T_VARIABLE","$transaction_data",61],"[",["T_CONSTANT_ENCAPSED_STRING","'receipt_id'",61],"]",")",["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`payment_type` = '\"",61],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","db",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","escape",62],"(",["T_VARIABLE","$transaction_data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_type'",62],"]",")",["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`payment_status` = '\"",62],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","db",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","escape",63],"(",["T_VARIABLE","$transaction_data",63],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",63],"]",")",["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`pending_reason` = '\"",63],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","db",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","escape",64],"(",["T_VARIABLE","$transaction_data",64],"[",["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",64],"]",")",["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`transaction_entity` = '\"",64],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","db",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","escape",65],"(",["T_VARIABLE","$transaction_data",65],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",65],"]",")",["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`amount` = '\"",65],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_DOUBLE_CAST","(float)",66],["T_VARIABLE","$transaction_data",66],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",66],"]",["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t`debug_data` = '\"",66],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","db",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","escape",67],"(",["T_VARIABLE","$transaction_data",67],"[",["T_CONSTANT_ENCAPSED_STRING","'debug_data'",67],"]",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"'\"",67],")",";",["T_WHITESPACE","\n\t",67],"}",["T_WHITESPACE","\n\n\t",68],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","paymentRequestInfo",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\n\t\t",70],["T_VARIABLE","$data",72],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPPINGAMT'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","''",72],";",["T_WHITESPACE","\n\t\t",72],["T_VARIABLE","$data",73],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_CURRENCYCODE'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","session",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","data",73],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",73],"]",";",["T_WHITESPACE","\n\t\t",73],["T_VARIABLE","$data",74],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_PAYMENTACTION'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","config",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_transaction'",74],")",";",["T_WHITESPACE","\n\n\t\t",74],["T_VARIABLE","$i",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_LNUMBER","0",76],";",["T_WHITESPACE","\n\t\t",76],["T_VARIABLE","$item_total",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","0",77],";",["T_WHITESPACE","\n\n\t\t",77],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","cart",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getProducts",79],"(",")",["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$item",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n\t\t\t",79],["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_DESC'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$i",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","''",80],";",["T_WHITESPACE","\n\n\t\t\t",80],["T_VARIABLE","$option_count",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_LNUMBER","0",82],";",["T_WHITESPACE","\n\t\t\t",82],["T_FOREACH","foreach",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$item",83],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",83],"]",["T_WHITESPACE"," ",83],["T_AS","as",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$option",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t\t",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$option",84],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",84],"]",["T_WHITESPACE"," ",84],["T_IS_NOT_EQUAL","!=",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'file'",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t\t\t",84],["T_VARIABLE","$value",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$option",85],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",85],"]",";",["T_WHITESPACE","\n\t\t\t\t",85],"}",["T_WHITESPACE"," ",86],["T_ELSE","else",86],["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n\t\t\t\t\t",86],["T_VARIABLE","$filename",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","encryption",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","decrypt",87],"(",["T_VARIABLE","$option",87],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",87],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",87],["T_VARIABLE","$value",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","utf8_substr",88],"(",["T_VARIABLE","$filename",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0",88],",",["T_WHITESPACE"," ",88],["T_STRING","utf8_strrpos",88],"(",["T_VARIABLE","$filename",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'.'",88],")",")",";",["T_WHITESPACE","\n\t\t\t\t",88],"}",["T_WHITESPACE","\n\n\t\t\t\t",89],["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_DESC'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$i",91],"]",["T_WHITESPACE"," ",91],["T_CONCAT_EQUAL",".=",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$option_count",91],["T_WHITESPACE"," ",91],">",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],["T_WHITESPACE"," ",91],"?",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","', '",91],["T_WHITESPACE"," ",91],":",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","''",91],")",["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$option",91],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",91],"]",["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","':'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],"(",["T_STRING","utf8_strlen",91],"(",["T_VARIABLE","$value",91],")",["T_WHITESPACE"," ",91],">",["T_WHITESPACE"," ",91],["T_LNUMBER","20",91],["T_WHITESPACE"," ",91],"?",["T_WHITESPACE"," ",91],["T_STRING","utf8_substr",91],"(",["T_VARIABLE","$value",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","20",91],")",["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'..'",91],["T_WHITESPACE"," ",91],":",["T_WHITESPACE"," ",91],["T_VARIABLE","$value",91],")",";",["T_WHITESPACE","\n\n\t\t\t\t",91],["T_VARIABLE","$option_count",93],["T_INC","++",93],";",["T_WHITESPACE","\n\t\t\t",93],"}",["T_WHITESPACE","\n\n\t\t\t",94],["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_DESC'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$i",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","substr",96],"(",["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_DESC'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$i",96],"]",",",["T_WHITESPACE"," ",96],["T_LNUMBER","0",96],",",["T_WHITESPACE"," ",96],["T_LNUMBER","126",96],")",";",["T_WHITESPACE","\n\n\t\t\t",96],["T_VARIABLE","$item_price",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","currency",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","format",98],"(",["T_VARIABLE","$item",98],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",98],"]",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","session",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",98],"]",",",["T_WHITESPACE"," ",98],["T_STRING","false",98],",",["T_WHITESPACE"," ",98],["T_STRING","false",98],")",";",["T_WHITESPACE","\n\n\t\t\t",98],["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NAME'",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_VARIABLE","$i",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$item",100],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",100],"]",";",["T_WHITESPACE","\n\t\t\t",100],["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NUMBER'",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$i",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$item",101],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",101],"]",";",["T_WHITESPACE","\n\t\t\t",101],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_AMT'",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$i",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$item_price",102],";",["T_WHITESPACE","\n\n\t\t\t",102],["T_VARIABLE","$item_total",104],["T_WHITESPACE"," ",104],["T_PLUS_EQUAL","+=",104],["T_WHITESPACE"," ",104],["T_STRING","number_format",104],"(",["T_VARIABLE","$item_price",104],["T_WHITESPACE"," ",104],"*",["T_WHITESPACE"," ",104],["T_VARIABLE","$item",104],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",104],"]",",",["T_WHITESPACE"," ",104],["T_LNUMBER","2",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'.'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","''",104],")",";",["T_WHITESPACE","\n\n\t\t\t",104],["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_QTY'",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_VARIABLE","$i",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$item",106],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",106],"]",";",["T_WHITESPACE","\n\n\t\t\t",106],["T_VARIABLE","$data",108],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMURL'",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_VARIABLE","$i",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","url",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","link",108],"(",["T_CONSTANT_ENCAPSED_STRING","'product\/product'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'product_id='",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_VARIABLE","$item",108],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",108],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","config",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_CONSTANT_ENCAPSED_STRING","'config_cart_weight'",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\t\t\t\t",110],["T_VARIABLE","$weight",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","weight",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","convert",111],"(",["T_VARIABLE","$item",111],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",111],"]",",",["T_WHITESPACE"," ",111],["T_VARIABLE","$item",111],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_class_id'",111],"]",",",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","config",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",["T_CONSTANT_ENCAPSED_STRING","'config_weight_class_id'",111],")",")",";",["T_WHITESPACE","\n\t\t\t\t",111],["T_VARIABLE","$data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMWEIGHTVALUE'",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$i",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","number_format",112],"(",["T_VARIABLE","$weight",112],["T_WHITESPACE"," ",112],"\/",["T_WHITESPACE"," ",112],["T_VARIABLE","$item",112],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",112],"]",",",["T_WHITESPACE"," ",112],["T_LNUMBER","2",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'.'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],")",";",["T_WHITESPACE","\n\t\t\t\t",112],["T_VARIABLE","$data",113],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMWEIGHTUNIT'",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_VARIABLE","$i",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","weight",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getUnit",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","config",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","get",113],"(",["T_CONSTANT_ENCAPSED_STRING","'config_weight_class_id'",113],")",")",";",["T_WHITESPACE","\n\t\t\t",113],"}",["T_WHITESPACE","\n\n\t\t\t",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$item",116],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",116],"]",["T_WHITESPACE"," ",116],">",["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],["T_WHITESPACE"," ",116],["T_BOOLEAN_OR","||",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$item",116],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",116],"]",["T_WHITESPACE"," ",116],">",["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],["T_WHITESPACE"," ",116],["T_BOOLEAN_OR","||",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$item",116],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",116],"]",["T_WHITESPACE"," ",116],">",["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n\t\t\t\t",116],["T_VARIABLE","$unit",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","length",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getUnit",117],"(",["T_VARIABLE","$item",117],"[",["T_CONSTANT_ENCAPSED_STRING","'length_class_id'",117],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",117],["T_VARIABLE","$data",118],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMLENGTHVALUE'",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$i",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$item",118],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",118],"]",";",["T_WHITESPACE","\n\t\t\t\t",118],["T_VARIABLE","$data",119],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMLENGTHUNIT'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$i",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$unit",119],";",["T_WHITESPACE","\n\t\t\t\t",119],["T_VARIABLE","$data",120],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMWIDTHVALUE'",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_VARIABLE","$i",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$item",120],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",120],"]",";",["T_WHITESPACE","\n\t\t\t\t",120],["T_VARIABLE","$data",121],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMWIDTHUNIT'",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$i",121],"]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$unit",121],";",["T_WHITESPACE","\n\t\t\t\t",121],["T_VARIABLE","$data",122],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMHEIGHTVALUE'",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_VARIABLE","$i",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$item",122],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",122],"]",";",["T_WHITESPACE","\n\t\t\t\t",122],["T_VARIABLE","$data",123],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_ITEMHEIGHTUNIT'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$i",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$unit",123],";",["T_WHITESPACE","\n\t\t\t",123],"}",["T_WHITESPACE","\n\n\t\t\t",124],["T_VARIABLE","$i",126],["T_INC","++",126],";",["T_WHITESPACE","\n\t\t",126],"}",["T_WHITESPACE","\n\n\t\t",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_EMPTY","empty",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","session",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","data",129],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",129],"]",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n\t\t\t",129],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","session",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","data",130],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",130],"]",["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$voucher",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t\t\t\t",130],["T_VARIABLE","$item_total",131],["T_WHITESPACE"," ",131],["T_PLUS_EQUAL","+=",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","currency",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","format",131],"(",["T_VARIABLE","$voucher",131],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",131],"]",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","session",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","data",131],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",131],"]",",",["T_WHITESPACE"," ",131],["T_STRING","false",131],",",["T_WHITESPACE"," ",131],["T_STRING","false",131],")",";",["T_WHITESPACE","\n\n\t\t\t\t",131],["T_VARIABLE","$data",133],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_DESC'",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_VARIABLE","$i",133],"]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","''",133],";",["T_WHITESPACE","\n\t\t\t\t",133],["T_VARIABLE","$data",134],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NAME'",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_VARIABLE","$i",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$voucher",134],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",134],"]",";",["T_WHITESPACE","\n\t\t\t\t",134],["T_VARIABLE","$data",135],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NUMBER'",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_VARIABLE","$i",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'VOUCHER'",135],";",["T_WHITESPACE","\n\t\t\t\t",135],["T_VARIABLE","$data",136],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_QTY'",136],["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_VARIABLE","$i",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_LNUMBER","1",136],";",["T_WHITESPACE","\n\t\t\t\t",136],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_AMT'",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$i",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","currency",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","format",137],"(",["T_VARIABLE","$voucher",137],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",137],"]",",",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","session",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",137],"]",",",["T_WHITESPACE"," ",137],["T_STRING","false",137],",",["T_WHITESPACE"," ",137],["T_STRING","false",137],")",";",["T_WHITESPACE","\n\t\t\t\t",137],["T_VARIABLE","$i",138],["T_INC","++",138],";",["T_WHITESPACE","\n\t\t\t",138],"}",["T_WHITESPACE","\n\t\t",139],"}",["T_WHITESPACE","\n\n\t\t",140],["T_COMMENT","\/\/ Totals\n",142],["T_WHITESPACE","\t\t",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","load",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","model",143],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/extension'",143],")",";",["T_WHITESPACE","\n\n\t\t",143],["T_VARIABLE","$totals",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",")",";",["T_WHITESPACE","\n\t\t",145],["T_VARIABLE","$taxes",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","cart",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getTaxes",146],"(",")",";",["T_WHITESPACE","\n\t\t",146],["T_VARIABLE","$total",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_LNUMBER","0",147],";",["T_WHITESPACE","\n\n\t\t",147],["T_COMMENT","\/\/ Because __call can not keep var references so we put them into an array.\n",149],["T_WHITESPACE","\t\t",150],["T_VARIABLE","$total_data",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n\t\t\t",150],["T_CONSTANT_ENCAPSED_STRING","'totals'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],"&",["T_VARIABLE","$totals",151],",",["T_WHITESPACE","\n\t\t\t",151],["T_CONSTANT_ENCAPSED_STRING","'taxes'",152],["T_WHITESPACE","  ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],"&",["T_VARIABLE","$taxes",152],",",["T_WHITESPACE","\n\t\t\t",152],["T_CONSTANT_ENCAPSED_STRING","'total'",153],["T_WHITESPACE","  ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],"&",["T_VARIABLE","$total",153],["T_WHITESPACE","\n\t\t",153],")",";",["T_WHITESPACE","\n\n\t\t",154],["T_COMMENT","\/\/ Display prices\n",156],["T_WHITESPACE","\t\t",157],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","customer",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","isLogged",157],"(",")",["T_WHITESPACE"," ",157],["T_BOOLEAN_OR","||",157],["T_WHITESPACE"," ",157],"!",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","config",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","get",157],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_price'",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n\t\t\t",157],["T_VARIABLE","$sort_order",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",158],["T_VARIABLE","$results",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","model_extension_extension",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getExtensions",160],"(",["T_CONSTANT_ENCAPSED_STRING","'total'",160],")",";",["T_WHITESPACE","\n\n\t\t\t",160],["T_FOREACH","foreach",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$results",162],["T_WHITESPACE"," ",162],["T_AS","as",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$key",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$value",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n\t\t\t\t",162],["T_VARIABLE","$sort_order",163],"[",["T_VARIABLE","$key",163],"]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","config",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","get",163],"(",["T_VARIABLE","$value",163],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",163],"]",["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'_sort_order'",163],")",";",["T_WHITESPACE","\n\t\t\t",163],"}",["T_WHITESPACE","\n\n\t\t\t",164],["T_STRING","array_multisort",166],"(",["T_VARIABLE","$sort_order",166],",",["T_WHITESPACE"," ",166],["T_STRING","SORT_ASC",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$results",166],")",";",["T_WHITESPACE","\n\n\t\t\t",166],["T_FOREACH","foreach",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$results",168],["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$result",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n\t\t\t\t",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","config",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","get",169],"(",["T_VARIABLE","$result",169],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",169],"]",["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'_status'",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t\t\t",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","load",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","model",170],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/'",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_VARIABLE","$result",170],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",170],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",170],["T_COMMENT","\/\/ We have to put the totals in an array so that they pass by reference.\n",172],["T_WHITESPACE","\t\t\t\t\t",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],"{",["T_CONSTANT_ENCAPSED_STRING","'model_extension_total_'",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_VARIABLE","$result",173],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",173],"]","}",["T_OBJECT_OPERATOR","->",173],["T_STRING","getTotal",173],"(",["T_VARIABLE","$total_data",173],")",";",["T_WHITESPACE","\n\t\t\t\t",173],"}",["T_WHITESPACE","\n\n\t\t\t\t",174],["T_VARIABLE","$sort_order",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",176],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$totals",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$key",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$value",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n\t\t\t\t\t",178],["T_VARIABLE","$sort_order",179],"[",["T_VARIABLE","$key",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$value",179],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",179],"]",";",["T_WHITESPACE","\n\t\t\t\t",179],"}",["T_WHITESPACE","\n\n\t\t\t\t",180],["T_STRING","array_multisort",182],"(",["T_VARIABLE","$sort_order",182],",",["T_WHITESPACE"," ",182],["T_STRING","SORT_ASC",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$totals",182],")",";",["T_WHITESPACE","\n\t\t\t",182],"}",["T_WHITESPACE","\n\t\t",183],"}",["T_WHITESPACE","\n\n\t\t",184],["T_FOREACH","foreach",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$total_data",186],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",186],"]",["T_WHITESPACE"," ",186],["T_AS","as",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$total_row",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n\t\t\t",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(","!",["T_STRING","in_array",187],"(",["T_VARIABLE","$total_row",187],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",187],"]",",",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'total'",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'sub_total'",187],")",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n\t\t\t\t",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$total_row",188],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",188],"]",["T_WHITESPACE"," ",188],["T_IS_NOT_EQUAL","!=",188],["T_WHITESPACE"," ",188],["T_LNUMBER","0",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n\t\t\t\t\t",188],["T_VARIABLE","$item_price",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","currency",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","format",189],"(",["T_VARIABLE","$total_row",189],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",189],"]",",",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","session",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","data",189],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",189],"]",",",["T_WHITESPACE"," ",189],["T_STRING","false",189],",",["T_WHITESPACE"," ",189],["T_STRING","false",189],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",189],["T_VARIABLE","$data",191],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NUMBER'",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$i",191],"]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$total_row",191],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",191],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",191],["T_VARIABLE","$data",192],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NAME'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$i",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$total_row",192],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",192],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",192],["T_VARIABLE","$data",193],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_AMT'",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_VARIABLE","$i",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","currency",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","format",193],"(",["T_VARIABLE","$total_row",193],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",193],"]",",",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","session",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","data",193],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",193],"]",",",["T_WHITESPACE"," ",193],["T_STRING","false",193],",",["T_WHITESPACE"," ",193],["T_STRING","false",193],")",";",["T_WHITESPACE","\n\t\t\t\t\t",193],["T_VARIABLE","$data",194],"[",["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_QTY'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$i",194],"]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_LNUMBER","1",194],";",["T_WHITESPACE","\n\n\t\t\t\t\t",194],["T_VARIABLE","$item_total",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$item_total",196],["T_WHITESPACE"," ",196],"+",["T_WHITESPACE"," ",196],["T_VARIABLE","$item_price",196],";",["T_WHITESPACE","\n\t\t\t\t\t",196],["T_VARIABLE","$i",197],["T_INC","++",197],";",["T_WHITESPACE","\n\t\t\t\t",197],"}",["T_WHITESPACE","\n\t\t\t",198],"}",["T_WHITESPACE","\n\t\t",199],"}",["T_WHITESPACE","\n\n\t\t",200],["T_VARIABLE","$data",202],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_ITEMAMT'",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","number_format",202],"(",["T_VARIABLE","$item_total",202],",",["T_WHITESPACE"," ",202],["T_LNUMBER","2",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'.'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","''",202],")",";",["T_WHITESPACE","\n\t\t",202],["T_VARIABLE","$data",203],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_AMT'",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","number_format",203],"(",["T_VARIABLE","$item_total",203],",",["T_WHITESPACE"," ",203],["T_LNUMBER","2",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'.'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","''",203],")",";",["T_WHITESPACE","\n\n\t\t",203],["T_VARIABLE","$z",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],";",["T_WHITESPACE","\n\n\t\t",205],["T_VARIABLE","$recurring_products",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","cart",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getRecurringProducts",207],"(",")",";",["T_WHITESPACE","\n\n\t\t",207],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$recurring_products",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t\t",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","load",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","language",210],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",210],")",";",["T_WHITESPACE","\n\n\t\t\t",210],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$recurring_products",212],["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$item",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n\t\t\t\t",212],["T_VARIABLE","$data",213],"[",["T_CONSTANT_ENCAPSED_STRING","'L_BILLINGTYPE'",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_VARIABLE","$z",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'RecurringPayments'",213],";",["T_WHITESPACE","\n\n\t\t\t\t",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$item",215],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial'",215],"]",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n\t\t\t\t\t",215],["T_VARIABLE","$trial_amt",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","currency",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","format",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","tax",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","calculate",216],"(",["T_VARIABLE","$item",216],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",216],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_price'",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$item",216],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","config",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","get",216],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",216],")",")",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","session",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","data",216],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",216],"]",",",["T_WHITESPACE"," ",216],["T_STRING","false",216],",",["T_WHITESPACE"," ",216],["T_STRING","false",216],")",["T_WHITESPACE"," ",216],"*",["T_WHITESPACE"," ",216],["T_VARIABLE","$item",216],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",216],"]",["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","' '",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","session",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","data",216],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",216],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",216],["T_VARIABLE","$trial_text",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE","  ",217],["T_STRING","sprintf",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","language",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","get",217],"(",["T_CONSTANT_ENCAPSED_STRING","'text_trial'",217],")",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$trial_amt",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$item",217],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",217],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",217],"]",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$item",217],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",217],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",217],"]",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$item",217],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",217],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",217],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n\t\t\t\t\t",218],["T_VARIABLE","$trial_text",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","''",219],";",["T_WHITESPACE","\n\t\t\t\t",219],"}",["T_WHITESPACE","\n\n\t\t\t\t",220],["T_VARIABLE","$recurring_amt",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","currency",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","format",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","tax",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","calculate",222],"(",["T_VARIABLE","$item",222],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",222],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",222],"]",",",["T_WHITESPACE"," ",222],["T_VARIABLE","$item",222],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",222],"]",",",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","config",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","get",222],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",222],")",")",",",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","session",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","data",222],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",222],"]",",",["T_WHITESPACE"," ",222],["T_STRING","false",222],",",["T_WHITESPACE"," ",222],["T_STRING","false",222],")",["T_WHITESPACE","  ",222],"*",["T_WHITESPACE"," ",222],["T_VARIABLE","$item",222],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",222],"]",["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","' '",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","session",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","data",222],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",222],"]",";",["T_WHITESPACE","\n\t\t\t\t",222],["T_VARIABLE","$recurring_description",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$trial_text",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_STRING","sprintf",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","language",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","get",223],"(",["T_CONSTANT_ENCAPSED_STRING","'text_recurring'",223],")",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$recurring_amt",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$item",223],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",223],"]",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$item",223],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",223],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",223],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$item",225],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",225],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",225],"]",["T_WHITESPACE"," ",225],">",["T_WHITESPACE"," ",225],["T_LNUMBER","0",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n\t\t\t\t\t",225],["T_VARIABLE","$recurring_description",226],["T_WHITESPACE"," ",226],["T_CONCAT_EQUAL",".=",226],["T_WHITESPACE"," ",226],["T_STRING","sprintf",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","language",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","get",226],"(",["T_CONSTANT_ENCAPSED_STRING","'text_length'",226],")",",",["T_WHITESPACE"," ",226],["T_VARIABLE","$item",226],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",226],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",226],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",226],"}",["T_WHITESPACE","\n\n\t\t\t\t",227],["T_VARIABLE","$data",229],"[",["T_CONSTANT_ENCAPSED_STRING","'L_BILLINGAGREEMENTDESCRIPTION'",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_VARIABLE","$z",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$recurring_description",229],";",["T_WHITESPACE","\n\t\t\t\t",229],["T_VARIABLE","$z",230],["T_INC","++",230],";",["T_WHITESPACE","\n\t\t\t",230],"}",["T_WHITESPACE","\n\t\t",231],"}",["T_WHITESPACE","\n\n\t\t",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$data",234],";",["T_WHITESPACE","\n\t",234],"}",["T_WHITESPACE","\n\n\t",235],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","getTotalCaptured",237],"(",["T_VARIABLE","$paypal_order_id",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n\t\t",237],["T_VARIABLE","$qry",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","db",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","query",238],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT SUM(`amount`) AS `amount` FROM `\"",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_STRING","DB_PREFIX",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` WHERE `paypal_order_id` = '\"",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_INT_CAST","(int)",238],["T_VARIABLE","$paypal_order_id",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","\"' AND `pending_reason` != 'authorization' AND `pending_reason` != 'paymentreview' AND (`payment_status` = 'Partially-Refunded' OR `payment_status` = 'Completed' OR `payment_status` = 'Pending') AND `transaction_entity` = 'payment'\"",238],")",";",["T_WHITESPACE","\n\n\t\t",238],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$qry",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","row",240],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",240],"]",";",["T_WHITESPACE","\n\t",240],"}",["T_WHITESPACE","\n\n\t",241],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","getTotalRefunded",243],"(",["T_VARIABLE","$paypal_order_id",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n\t\t",243],["T_VARIABLE","$qry",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","db",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","query",244],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT SUM(`amount`) AS `amount` FROM `\"",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_STRING","DB_PREFIX",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` WHERE `paypal_order_id` = '\"",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_INT_CAST","(int)",244],["T_VARIABLE","$paypal_order_id",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","\"' AND `payment_status` = 'Refunded'\"",244],")",";",["T_WHITESPACE","\n\n\t\t",244],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$qry",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","row",246],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",246],"]",";",["T_WHITESPACE","\n\t",246],"}",["T_WHITESPACE","\n\n\t",247],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","getTransactionRow",249],"(",["T_VARIABLE","$transaction_id",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n\t\t",249],["T_VARIABLE","$qry",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","db",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","query",250],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_STRING","DB_PREFIX",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` `pt` LEFT JOIN `\"",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_STRING","DB_PREFIX",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order` `po` ON `pt`.`paypal_order_id` = `po`.`paypal_order_id`  WHERE `pt`.`transaction_id` = '\"",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","db",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","escape",250],"(",["T_VARIABLE","$transaction_id",250],")",["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",250],")",";",["T_WHITESPACE","\n\n\t\t",250],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$qry",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","num_rows",252],["T_WHITESPACE"," ",252],">",["T_WHITESPACE"," ",252],["T_LNUMBER","0",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n\t\t\t",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$qry",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","row",253],";",["T_WHITESPACE","\n\t\t",253],"}",["T_WHITESPACE"," ",254],["T_ELSE","else",254],["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n\t\t\t",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_STRING","false",255],";",["T_WHITESPACE","\n\t\t",255],"}",["T_WHITESPACE","\n\t",256],"}",["T_WHITESPACE","\n\n\t",257],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","updateOrder",259],"(",["T_VARIABLE","$capture_status",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$order_id",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\t\t",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","db",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","query",260],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_STRING","DB_PREFIX",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order` SET `date_modified` = now(), `capture_status` = '\"",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","db",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","escape",260],"(",["T_VARIABLE","$capture_status",260],")",["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE `order_id` = '\"",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_INT_CAST","(int)",260],["T_VARIABLE","$order_id",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","\"'\"",260],")",";",["T_WHITESPACE","\n\t",260],"}",["T_WHITESPACE","\n\n\t",261],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","call",263],"(",["T_VARIABLE","$data",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n\t\t",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","config",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","get",264],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_test'",264],")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n\t\t\t",264],["T_VARIABLE","$api_url",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/api-3t.sandbox.paypal.com\/nvp'",265],";",["T_WHITESPACE","\n\t\t\t",265],["T_VARIABLE","$api_user",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","config",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","get",266],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_sandbox_username'",266],")",";",["T_WHITESPACE","\n\t\t\t",266],["T_VARIABLE","$api_password",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","config",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","get",267],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_sandbox_password'",267],")",";",["T_WHITESPACE","\n\t\t\t",267],["T_VARIABLE","$api_signature",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","config",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","get",268],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_sandbox_signature'",268],")",";",["T_WHITESPACE","\n\t\t",268],"}",["T_WHITESPACE"," ",269],["T_ELSE","else",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n\t\t\t",269],["T_VARIABLE","$api_url",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/api-3t.paypal.com\/nvp'",270],";",["T_WHITESPACE","\n\t\t\t",270],["T_VARIABLE","$api_user",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","config",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","get",271],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_username'",271],")",";",["T_WHITESPACE","\n\t\t\t",271],["T_VARIABLE","$api_password",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","config",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","get",272],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_password'",272],")",";",["T_WHITESPACE","\n\t\t\t",272],["T_VARIABLE","$api_signature",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","config",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","get",273],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_signature'",273],")",";",["T_WHITESPACE","\n\t\t",273],"}",["T_WHITESPACE","\n\n\t\t",274],["T_VARIABLE","$settings",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_ARRAY","array",276],"(",["T_WHITESPACE","\n\t\t\t",276],["T_CONSTANT_ENCAPSED_STRING","'USER'",277],["T_WHITESPACE","         ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$api_user",277],",",["T_WHITESPACE","\n\t\t\t",277],["T_CONSTANT_ENCAPSED_STRING","'PWD'",278],["T_WHITESPACE","          ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$api_password",278],",",["T_WHITESPACE","\n\t\t\t",278],["T_CONSTANT_ENCAPSED_STRING","'SIGNATURE'",279],["T_WHITESPACE","    ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$api_signature",279],",",["T_WHITESPACE","\n\t\t\t",279],["T_CONSTANT_ENCAPSED_STRING","'VERSION'",280],["T_WHITESPACE","      ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'109.0'",280],",",["T_WHITESPACE","\n\t\t\t",280],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'OpenCart_2.0_EC'",281],["T_WHITESPACE","\n\t\t",281],")",";",["T_WHITESPACE","\n\n\t\t",282],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","log",284],"(",["T_VARIABLE","$data",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'Call data'",284],")",";",["T_WHITESPACE","\n\n\t\t",284],["T_VARIABLE","$defaults",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_WHITESPACE","\n\t\t\t",286],["T_STRING","CURLOPT_POST",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_LNUMBER","1",287],",",["T_WHITESPACE","\n\t\t\t",287],["T_STRING","CURLOPT_HEADER",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_LNUMBER","0",288],",",["T_WHITESPACE","\n\t\t\t",288],["T_STRING","CURLOPT_URL",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$api_url",289],",",["T_WHITESPACE","\n\t\t\t",289],["T_STRING","CURLOPT_USERAGENT",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","\"Mozilla\/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.1) Gecko\/20061204 Firefox\/2.0.0.1\"",290],",",["T_WHITESPACE","\n\t\t\t",290],["T_STRING","CURLOPT_FRESH_CONNECT",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_LNUMBER","1",291],",",["T_WHITESPACE","\n\t\t\t",291],["T_STRING","CURLOPT_RETURNTRANSFER",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_LNUMBER","1",292],",",["T_WHITESPACE","\n\t\t\t",292],["T_STRING","CURLOPT_FORBID_REUSE",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_LNUMBER","1",293],",",["T_WHITESPACE","\n\t\t\t",293],["T_STRING","CURLOPT_TIMEOUT",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_LNUMBER","0",294],",",["T_WHITESPACE","\n\t\t\t",294],["T_STRING","CURLOPT_SSL_VERIFYPEER",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_LNUMBER","0",295],",",["T_WHITESPACE","\n\t\t\t",295],["T_STRING","CURLOPT_SSL_VERIFYHOST",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_LNUMBER","0",296],",",["T_WHITESPACE","\n\t\t\t",296],["T_STRING","CURLOPT_POSTFIELDS",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_STRING","http_build_query",297],"(",["T_STRING","array_merge",297],"(",["T_VARIABLE","$data",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$settings",297],")",",",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","''",297],",",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"&\"",297],")",",",["T_WHITESPACE","\n\t\t",297],")",";",["T_WHITESPACE","\n\n\t\t",298],["T_VARIABLE","$ch",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_STRING","curl_init",300],"(",")",";",["T_WHITESPACE","\n\n\t\t",300],["T_STRING","curl_setopt_array",302],"(",["T_VARIABLE","$ch",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$defaults",302],")",";",["T_WHITESPACE","\n\n\t\t",302],["T_IF","if",304],["T_WHITESPACE"," ",304],"(","!",["T_VARIABLE","$result",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","curl_exec",304],"(",["T_VARIABLE","$ch",304],")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n\t\t\t",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","log",305],"(",["T_ARRAY","array",305],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_STRING","curl_error",305],"(",["T_VARIABLE","$ch",305],")",",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'errno'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_STRING","curl_errno",305],"(",["T_VARIABLE","$ch",305],")",")",",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'cURL failed'",305],")",";",["T_WHITESPACE","\n\t\t",305],"}",["T_WHITESPACE","\n\n\t\t",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","log",308],"(",["T_VARIABLE","$result",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'Result'",308],")",";",["T_WHITESPACE","\n\n\t\t",308],["T_STRING","curl_close",310],"(",["T_VARIABLE","$ch",310],")",";",["T_WHITESPACE","\n\n\t\t",310],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","cleanReturn",312],"(",["T_VARIABLE","$result",312],")",";",["T_WHITESPACE","\n\t",312],"}",["T_WHITESPACE","\n\n\t",313],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","recurringPayments",315],"(",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n\t\t",315],["T_COMMENT","\/*\n\t\t * Used by the checkout to state the module\n\t\t * supports recurring recurrings.\n\t\t *\/",316],["T_WHITESPACE","\n\t\t",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_STRING","true",320],";",["T_WHITESPACE","\n\t",320],"}",["T_WHITESPACE","\n\n\t",321],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","createToken",323],"(",["T_VARIABLE","$len",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_LNUMBER","32",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n\t\t",323],["T_VARIABLE","$base",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'ABCDEFGHKLMNOPQRSTWXYZabcdefghjkmnpqrstwxyz123456789'",324],";",["T_WHITESPACE","\n\t\t",324],["T_VARIABLE","$max",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","strlen",325],"(",["T_VARIABLE","$base",325],")","-",["T_LNUMBER","1",325],";",["T_WHITESPACE","\n\t\t",325],["T_VARIABLE","$activate_code",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","''",326],";",["T_WHITESPACE","\n\t\t",326],["T_STRING","mt_srand",327],"(",["T_DOUBLE_CAST","(float)",327],["T_STRING","microtime",327],"(",")","*",["T_LNUMBER","1000000",327],")",";",["T_WHITESPACE","\n\n\t\t",327],["T_WHILE","while",329],["T_WHITESPACE"," ",329],"(",["T_STRING","strlen",329],"(",["T_VARIABLE","$activate_code",329],")","<",["T_VARIABLE","$len",329],"+",["T_LNUMBER","1",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n\t\t\t",329],["T_VARIABLE","$activate_code",330],["T_WHITESPACE"," ",330],["T_CONCAT_EQUAL",".=",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$base",330],"{",["T_STRING","mt_rand",330],"(",["T_LNUMBER","0",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$max",330],")","}",";",["T_WHITESPACE","\n\t\t",330],"}",["T_WHITESPACE","\n\n\t\t",331],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$activate_code",333],";",["T_WHITESPACE","\n\t",333],"}",["T_WHITESPACE","\n\n\t",334],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","log",336],"(",["T_VARIABLE","$data",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$title",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_STRING","null",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n\t\t",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","config",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","get",337],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_debug'",337],")",")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n\t\t\t",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","log",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","write",338],"(",["T_CONSTANT_ENCAPSED_STRING","'PayPal Express debug ('",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_VARIABLE","$title",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'): '",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_STRING","json_encode",338],"(",["T_VARIABLE","$data",338],")",")",";",["T_WHITESPACE","\n\t\t",338],"}",["T_WHITESPACE","\n\t",339],"}",["T_WHITESPACE","\n\n\t",340],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","cleanReturn",342],"(",["T_VARIABLE","$data",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n\t\t",342],["T_VARIABLE","$data",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","explode",343],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$data",343],")",";",["T_WHITESPACE","\n\n\t\t",343],["T_VARIABLE","$arr",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",")",";",["T_WHITESPACE","\n\n\t\t",345],["T_FOREACH","foreach",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$data",347],["T_WHITESPACE"," ",347],["T_AS","as",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$k",347],["T_DOUBLE_ARROW","=>",347],["T_VARIABLE","$v",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n\t\t\t",347],["T_VARIABLE","$tmp",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","explode",348],"(",["T_CONSTANT_ENCAPSED_STRING","'='",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$v",348],")",";",["T_WHITESPACE","\n\t\t\t",348],["T_VARIABLE","$arr",349],"[",["T_VARIABLE","$tmp",349],"[",["T_LNUMBER","0",349],"]","]",["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_ISSET","isset",349],"(",["T_VARIABLE","$tmp",349],"[",["T_LNUMBER","1",349],"]",")",["T_WHITESPACE"," ",349],"?",["T_WHITESPACE"," ",349],["T_STRING","urldecode",349],"(",["T_VARIABLE","$tmp",349],"[",["T_LNUMBER","1",349],"]",")",["T_WHITESPACE"," ",349],":",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","''",349],";",["T_WHITESPACE","\n\t\t",349],"}",["T_WHITESPACE","\n\n\t\t",350],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$arr",352],";",["T_WHITESPACE","\n\t",352],"}",["T_WHITESPACE","\n",353],"}"]