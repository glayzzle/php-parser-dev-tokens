[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelExtensionOpenBayEbayProduct",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getRelistRule",3],"(",["T_VARIABLE","$id",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_RETURN","return",4],["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","openbay",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","ebay",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","call",4],"(",["T_CONSTANT_ENCAPSED_STRING","'item\/getAutomationRule'",4],",",["T_WHITESPACE"," ",4],["T_ARRAY","array",4],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",4],["T_WHITESPACE"," ",4],["T_DOUBLE_ARROW","=>",4],["T_WHITESPACE"," ",4],["T_VARIABLE","$id",4],")",")",";",["T_WHITESPACE","\n\t",4],"}",["T_WHITESPACE","\n\n\t",5],["T_PUBLIC","public",7],["T_WHITESPACE"," ",7],["T_FUNCTION","function",7],["T_WHITESPACE"," ",7],["T_STRING","importItems",7],"(",["T_VARIABLE","$data",7],")",["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t",7],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","openbay",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","ebay",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","log",8],"(",["T_CONSTANT_ENCAPSED_STRING","'Starting item import'",8],")",";",["T_WHITESPACE","\n\t\t",8],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","load",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","model",9],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",9],")",";",["T_WHITESPACE","\n\n\t\t",9],["T_COMMENT","\/\/check for ebay import img table\n",11],["T_WHITESPACE","\t\t",12],["T_VARIABLE","$res",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","db",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","query",12],"(",["T_CONSTANT_ENCAPSED_STRING","\"SHOW TABLES LIKE '\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_STRING","DB_PREFIX",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"ebay_image_import'\"",12],")",";",["T_WHITESPACE","\n\t\t",12],["T_IF","if",13],["T_WHITESPACE"," ",13],"(",["T_VARIABLE","$res",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","num_rows",13],["T_WHITESPACE"," ",13],["T_IS_EQUAL","==",13],["T_WHITESPACE"," ",13],["T_LNUMBER","0",13],")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t\t",13],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","db",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","query",14],"(",["T_CONSTANT_ENCAPSED_STRING","\"CREATE TABLE IF NOT EXISTS `\"",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_STRING","DB_PREFIX",14],["T_WHITESPACE"," ",14],".",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","\"ebay_image_import` (`id` int(11) NOT NULL AUTO_INCREMENT, `image_original` text NOT NULL, `image_new` text NOT NULL, `name` text NOT NULL, `product_id` int(11) NOT NULL, `imgcount` int(11) NOT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8;\"",14],")",";",["T_WHITESPACE","\n\t\t",14],"}",["T_WHITESPACE","\n\n\t\t",15],["T_IF","if",17],["T_WHITESPACE"," ",17],"(",["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","openbay",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","addonLoad",17],"(",["T_CONSTANT_ENCAPSED_STRING","'openstock'",17],")",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t\t\t",17],["T_VARIABLE","$openstock",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","true",18],";",["T_WHITESPACE","\n\t\t\t",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","load",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","model",19],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/module\/openstock'",19],")",";",["T_WHITESPACE","\n\t\t",19],"}",["T_WHITESPACE"," ",20],["T_ELSE","else",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\t\t\t",20],["T_VARIABLE","$openstock",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","false",21],";",["T_WHITESPACE","\n\t\t\t",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","openbay",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","ebay",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","log",22],"(",["T_CONSTANT_ENCAPSED_STRING","'Openstock module not found'",22],")",";",["T_WHITESPACE","\n\t\t",22],"}",["T_WHITESPACE","\n\n\t\t",23],["T_VARIABLE","$categories",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",";",["T_WHITESPACE","\n\t\t",25],["T_VARIABLE","$data",26],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","unserialize",26],"(",["T_STRING","gzuncompress",26],"(",["T_STRING","stripslashes",26],"(",["T_STRING","base64_decode",26],"(",["T_STRING","strtr",26],"(",["T_VARIABLE","$data",26],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",26],"]",",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'-_,'",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'+\/='",26],")",")",")",")",")",";",["T_WHITESPACE","\n\t\t",26],["T_VARIABLE","$new_data",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","base64_decode",27],"(",["T_VARIABLE","$data",27],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",27],"]",")",";",["T_WHITESPACE","\n\t\t",27],["T_UNSET","unset",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",28],"]",")",";",["T_WHITESPACE","\n\n\t\t",28],["T_VARIABLE","$options",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","json_decode",30],"(",["T_STRING","html_entity_decode",30],"(",["T_VARIABLE","$data",30],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",30],"]",")",",",["T_WHITESPACE"," ",30],["T_LNUMBER","1",30],")",";",["T_WHITESPACE","\n\t\t",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","openbay",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","ebay",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","log",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Options data from API'",31],")",";",["T_WHITESPACE","\n\t\t",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","openbay",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","ebay",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","log",32],"(",["T_VARIABLE","$data",32],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",32],"]",")",";",["T_WHITESPACE","\n\t\t",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","openbay",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","ebay",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","log",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoded options'",33],")",";",["T_WHITESPACE","\n\t\t",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","openbay",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","ebay",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","log",34],"(",["T_STRING","print_r",34],"(",["T_VARIABLE","$options",34],",",["T_WHITESPACE"," ",34],["T_LNUMBER","1",34],")",")",";",["T_WHITESPACE","\n\t\t",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","openbay",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","ebay",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","log",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoded data'",35],")",";",["T_WHITESPACE","\n\n\t\t",35],["T_VARIABLE","$new_data_1",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","unserialize",37],"(",["T_VARIABLE","$new_data",37],")",";",["T_WHITESPACE","\n\t\t",37],["T_UNSET","unset",38],"(",["T_VARIABLE","$new_data",38],")",";",["T_WHITESPACE","\n\n\t\t",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","openbay",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","ebay",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","log",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Data unserialized'",40],")",";",["T_WHITESPACE","\n\n\t\t",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$options",42],"[",["T_CONSTANT_ENCAPSED_STRING","'cat'",42],"]",["T_WHITESPACE"," ",42],["T_IS_EQUAL","==",42],["T_WHITESPACE"," ",42],["T_LNUMBER","1",42],["T_WHITESPACE"," ",42],["T_BOOLEAN_OR","||",42],["T_WHITESPACE"," ",42],"!",["T_ISSET","isset",42],"(",["T_VARIABLE","$options",42],"[",["T_CONSTANT_ENCAPSED_STRING","'cat'",42],"]",")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t",42],["T_VARIABLE","$item_count_loop",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],";",["T_WHITESPACE","\n\t\t\t",43],["T_FOREACH","foreach",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$new_data_1",44],["T_WHITESPACE"," ",44],["T_AS","as",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$item",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\t\t\t\t",44],["T_VARIABLE","$item_count_loop",45],["T_INC","++",45],";",["T_WHITESPACE","\n\t\t\t\t",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","openbay",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","ebay",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","log",46],"(",["T_CONSTANT_ENCAPSED_STRING","'Processing item: '",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_VARIABLE","$item_count_loop",46],")",";",["T_WHITESPACE","\n\n\t\t\t\t",46],["T_VARIABLE","$parts",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","explode",48],"(",["T_CONSTANT_ENCAPSED_STRING","':'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$item",48],"[",["T_CONSTANT_ENCAPSED_STRING","'CategoryName'",48],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",48],["T_COMMENT","\/\/skip the first category as they are likely to be selling in that\n",50],["T_WHITESPACE","\t\t\t\t",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_ISSET","isset",51],"(",["T_VARIABLE","$parts",51],"[",["T_LNUMBER","1",51],"]",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n\t\t\t\t\t",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(","!",["T_ISSET","isset",52],"(",["T_VARIABLE","$categories",52],"[",["T_VARIABLE","$parts",52],"[",["T_LNUMBER","0",52],"]","]","[",["T_VARIABLE","$parts",52],"[",["T_LNUMBER","1",52],"]","]",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(","!",["T_EMPTY","empty",53],"(",["T_VARIABLE","$parts",53],"[",["T_LNUMBER","1",53],"]",")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",53],["T_VARIABLE","$categories",54],"[",["T_VARIABLE","$parts",54],"[",["T_LNUMBER","0",54],"]","]","[",["T_VARIABLE","$parts",54],"[",["T_LNUMBER","1",54],"]","]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",54],"}",["T_WHITESPACE","\n\t\t\t\t\t",55],"}",["T_WHITESPACE","\n\t\t\t\t",56],"}",["T_WHITESPACE","\n\n\t\t\t\t",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_ISSET","isset",59],"(",["T_VARIABLE","$parts",59],"[",["T_LNUMBER","2",59],"]",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t\t\t\t",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_ISSET","isset",60],"(",["T_VARIABLE","$categories",60],"[",["T_VARIABLE","$parts",60],"[",["T_LNUMBER","0",60],"]","]","[",["T_VARIABLE","$parts",60],"[",["T_LNUMBER","1",60],"]","]","[",["T_VARIABLE","$parts",60],"[",["T_LNUMBER","2",60],"]","]",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_EMPTY","empty",61],"(",["T_VARIABLE","$parts",61],"[",["T_LNUMBER","2",61],"]",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",61],["T_VARIABLE","$categories",62],"[",["T_VARIABLE","$parts",62],"[",["T_LNUMBER","0",62],"]","]","[",["T_VARIABLE","$parts",62],"[",["T_LNUMBER","1",62],"]","]","[",["T_VARIABLE","$parts",62],"[",["T_LNUMBER","2",62],"]","]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",62],"}",["T_WHITESPACE","\n\t\t\t\t\t",63],"}",["T_WHITESPACE","\n\t\t\t\t",64],"}",["T_WHITESPACE","\n\n\t\t\t\t",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_ISSET","isset",67],"(",["T_VARIABLE","$parts",67],"[",["T_LNUMBER","3",67],"]",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n\t\t\t\t\t",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(","!",["T_ISSET","isset",68],"(",["T_VARIABLE","$categories",68],"[",["T_VARIABLE","$parts",68],"[",["T_LNUMBER","0",68],"]","]","[",["T_VARIABLE","$parts",68],"[",["T_LNUMBER","1",68],"]","]","[",["T_VARIABLE","$parts",68],"[",["T_LNUMBER","2",68],"]","]","[",["T_VARIABLE","$parts",68],"[",["T_LNUMBER","3",68],"]","]",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_EMPTY","empty",69],"(",["T_VARIABLE","$parts",69],"[",["T_LNUMBER","3",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",69],["T_VARIABLE","$categories",70],"[",["T_VARIABLE","$parts",70],"[",["T_LNUMBER","0",70],"]","]","[",["T_VARIABLE","$parts",70],"[",["T_LNUMBER","1",70],"]","]","[",["T_VARIABLE","$parts",70],"[",["T_LNUMBER","2",70],"]","]","[",["T_VARIABLE","$parts",70],"[",["T_LNUMBER","3",70],"]","]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",70],"}",["T_WHITESPACE","\n\t\t\t\t\t",71],"}",["T_WHITESPACE","\n\t\t\t\t",72],"}",["T_WHITESPACE","\n\n\t\t\t\t",73],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_ISSET","isset",75],"(",["T_VARIABLE","$parts",75],"[",["T_LNUMBER","4",75],"]",")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n\t\t\t\t\t",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_ISSET","isset",76],"(",["T_VARIABLE","$categories",76],"[",["T_VARIABLE","$parts",76],"[",["T_LNUMBER","0",76],"]","]","[",["T_VARIABLE","$parts",76],"[",["T_LNUMBER","1",76],"]","]","[",["T_VARIABLE","$parts",76],"[",["T_LNUMBER","2",76],"]","]","[",["T_VARIABLE","$parts",76],"[",["T_LNUMBER","3",76],"]","]","[",["T_VARIABLE","$parts",76],"[",["T_LNUMBER","4",76],"]","]",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_EMPTY","empty",77],"(",["T_VARIABLE","$parts",77],"[",["T_LNUMBER","4",77],"]",")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",77],["T_VARIABLE","$categories",78],"[",["T_VARIABLE","$parts",78],"[",["T_LNUMBER","0",78],"]","]","[",["T_VARIABLE","$parts",78],"[",["T_LNUMBER","1",78],"]","]","[",["T_VARIABLE","$parts",78],"[",["T_LNUMBER","2",78],"]","]","[",["T_VARIABLE","$parts",78],"[",["T_LNUMBER","3",78],"]","]","[",["T_VARIABLE","$parts",78],"[",["T_LNUMBER","4",78],"]","]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",78],"}",["T_WHITESPACE","\n\t\t\t\t\t",79],"}",["T_WHITESPACE","\n\t\t\t\t",80],"}",["T_WHITESPACE","\n\n\t\t\t\t",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_ISSET","isset",83],"(",["T_VARIABLE","$parts",83],"[",["T_LNUMBER","5",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t\t\t",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_ISSET","isset",84],"(",["T_VARIABLE","$categories",84],"[",["T_VARIABLE","$parts",84],"[",["T_LNUMBER","0",84],"]","]","[",["T_VARIABLE","$parts",84],"[",["T_LNUMBER","1",84],"]","]","[",["T_VARIABLE","$parts",84],"[",["T_LNUMBER","2",84],"]","]","[",["T_VARIABLE","$parts",84],"[",["T_LNUMBER","3",84],"]","]","[",["T_VARIABLE","$parts",84],"[",["T_LNUMBER","4",84],"]","]","[",["T_VARIABLE","$parts",84],"[",["T_LNUMBER","5",84],"]","]",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_EMPTY","empty",85],"(",["T_VARIABLE","$parts",85],"[",["T_LNUMBER","5",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",85],["T_VARIABLE","$categories",86],"[",["T_VARIABLE","$parts",86],"[",["T_LNUMBER","0",86],"]","]","[",["T_VARIABLE","$parts",86],"[",["T_LNUMBER","1",86],"]","]","[",["T_VARIABLE","$parts",86],"[",["T_LNUMBER","2",86],"]","]","[",["T_VARIABLE","$parts",86],"[",["T_LNUMBER","3",86],"]","]","[",["T_VARIABLE","$parts",86],"[",["T_LNUMBER","4",86],"]","]","[",["T_VARIABLE","$parts",86],"[",["T_LNUMBER","5",86],"]","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",86],"}",["T_WHITESPACE","\n\t\t\t\t\t",87],"}",["T_WHITESPACE","\n\t\t\t\t",88],"}",["T_WHITESPACE","\n\t\t\t",89],"}",["T_WHITESPACE","\n\n\t\t\t",90],["T_VARIABLE","$cat_link",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",";",["T_WHITESPACE","\n\t\t\t",92],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$categories",93],["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$key1",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$cat1",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n\t\t\t\t",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$cat1",94],["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$key2",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$cat2",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n\t\t\t\t\t",94],["T_COMMENT","\/\/final cat, add to array as node\n",95],["T_WHITESPACE","\t\t\t\t\t",96],["T_VARIABLE","$qry",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","db",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","query",96],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_STRING","DB_PREFIX",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"category`, `\"",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_STRING","DB_PREFIX",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"category_description` WHERE `\"",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_STRING","DB_PREFIX",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"category`.`parent_id` = '0' AND `\"",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_STRING","DB_PREFIX",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"category_description`.`name` = '\"",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","db",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","escape",96],"(",["T_VARIABLE","$key2",96],")",["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",96],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$qry",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","num_rows",98],["T_WHITESPACE"," ",98],["T_IS_NOT_EQUAL","!=",98],["T_WHITESPACE"," ",98],["T_LNUMBER","0",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",98],["T_VARIABLE","$id1",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$qry",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","row",99],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",99],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",99],"}",["T_WHITESPACE"," ",100],["T_ELSE","else",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","db",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","query",101],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_STRING","DB_PREFIX",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\"category` SET `parent_id` = '0', `status` = '1', `top` = '1'\"",101],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",101],["T_VARIABLE","$id1",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","db",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getLastId",102],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","db",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","query",103],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_STRING","DB_PREFIX",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"category_description` SET `name` = '\"",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","db",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","escape",103],"(",["T_VARIABLE","$key2",103],")",["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_INT_CAST","(int)",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","config",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","get",103],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",103],")",["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"', `category_id` = '\"",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","db",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","escape",103],"(",["T_VARIABLE","$id1",103],")",["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"'\"",103],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","db",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","query",104],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_STRING","DB_PREFIX",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store` SET `category_id` = '\"",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","db",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","escape",104],"(",["T_VARIABLE","$id1",104],")",["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '0'\"",104],")",";",["T_WHITESPACE","\n\t\t\t\t\t",104],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_EMPTY","empty",107],"(",["T_VARIABLE","$cat2",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$cat2",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$key3",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$cat3",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",108],["T_VARIABLE","$qry",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","db",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","query",109],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_STRING","DB_PREFIX",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"category`, `\"",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_STRING","DB_PREFIX",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"category_description` WHERE `\"",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_STRING","DB_PREFIX",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"category`.`parent_id` = '\"",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","db",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","escape",109],"(",["T_VARIABLE","$id1",109],")",["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"' AND `\"",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_STRING","DB_PREFIX",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"category_description`.`name` = '\"",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","db",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","escape",109],"(",["T_VARIABLE","$key3",109],")",["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",109],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$qry",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","num_rows",111],["T_WHITESPACE"," ",111],["T_IS_NOT_EQUAL","!=",111],["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",111],["T_VARIABLE","$id2",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$qry",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","row",112],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",112],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",112],"}",["T_WHITESPACE"," ",113],["T_ELSE","else",113],["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","db",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","query",114],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_STRING","DB_PREFIX",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"category` SET `parent_id` = '\"",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","db",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","escape",114],"(",["T_VARIABLE","$id1",114],")",["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"', `status` = '1', `top` = '1'\"",114],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",114],["T_VARIABLE","$id2",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","db",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getLastId",115],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","query",116],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_STRING","DB_PREFIX",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"category_description` SET `name` = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","escape",116],"(",["T_VARIABLE","$key3",116],")",["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_INT_CAST","(int)",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","config",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",116],")",["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"', `category_id` = '\"",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","db",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","escape",116],"(",["T_VARIABLE","$id2",116],")",["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\"'\"",116],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","db",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","query",117],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_STRING","DB_PREFIX",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store` SET `category_id` = '\"",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","db",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","escape",117],"(",["T_VARIABLE","$id2",117],")",["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '0'\"",117],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",117],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_EMPTY","empty",120],"(",["T_VARIABLE","$cat3",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",120],["T_FOREACH","foreach",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$cat3",121],["T_WHITESPACE"," ",121],["T_AS","as",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$key4",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$cat4",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",121],["T_VARIABLE","$qry",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","db",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","query",122],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_STRING","DB_PREFIX",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"category`, `\"",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_STRING","DB_PREFIX",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"category_description` WHERE `\"",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_STRING","DB_PREFIX",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"category`.`parent_id` = '\"",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","db",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","escape",122],"(",["T_VARIABLE","$id2",122],")",["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"' AND `\"",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_STRING","DB_PREFIX",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"category_description`.`name` = '\"",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","db",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","escape",122],"(",["T_VARIABLE","$key4",122],")",["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",122],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$qry",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","num_rows",124],["T_WHITESPACE"," ",124],["T_IS_NOT_EQUAL","!=",124],["T_WHITESPACE"," ",124],["T_LNUMBER","0",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",124],["T_VARIABLE","$id3",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$qry",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","row",125],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",125],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",125],"}",["T_WHITESPACE"," ",126],["T_ELSE","else",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","db",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","query",127],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_STRING","DB_PREFIX",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","\"category` SET `parent_id` = '\"",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","db",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","escape",127],"(",["T_VARIABLE","$id2",127],")",["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","\"', `status` = '1', `top` = '1'\"",127],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",127],["T_VARIABLE","$id3",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","db",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getLastId",128],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","db",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","query",129],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_STRING","DB_PREFIX",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"category_description` SET `name` = '\"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","db",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","escape",129],"(",["T_VARIABLE","$key4",129],")",["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_INT_CAST","(int)",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","config",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",129],")",["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"', `category_id` = '\"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_VARIABLE","$id3",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"'\"",129],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","db",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","query",130],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_STRING","DB_PREFIX",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store` SET `category_id` = '\"",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","db",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","escape",130],"(",["T_VARIABLE","$id3",130],")",["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '0'\"",130],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",130],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_EMPTY","empty",133],"(",["T_VARIABLE","$cat4",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",133],["T_FOREACH","foreach",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$cat4",134],["T_WHITESPACE"," ",134],["T_AS","as",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$key5",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$cat5",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t",134],["T_VARIABLE","$qry",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","db",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","query",135],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_STRING","DB_PREFIX",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\"category`, `\"",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_STRING","DB_PREFIX",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\"category_description` WHERE `\"",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_STRING","DB_PREFIX",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\"category`.`parent_id` = '\"",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","db",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","escape",135],"(",["T_VARIABLE","$id3",135],")",["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\"' AND `\"",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_STRING","DB_PREFIX",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\"category_description`.`name` = '\"",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","db",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","escape",135],"(",["T_VARIABLE","$key5",135],")",["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",135],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t\t\t",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$qry",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","num_rows",137],["T_WHITESPACE"," ",137],["T_IS_NOT_EQUAL","!=",137],["T_WHITESPACE"," ",137],["T_LNUMBER","0",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t\t",137],["T_VARIABLE","$id4",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$qry",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","row",138],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",138],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t\t",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","db",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","query",140],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_STRING","DB_PREFIX",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\"category` SET `parent_id` = '\"",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","db",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","escape",140],"(",["T_VARIABLE","$id3",140],")",["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\"', `status` = '1', `top` = '1'\"",140],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t\t",140],["T_VARIABLE","$id4",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","db",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getLastId",141],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t\t",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","db",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","query",142],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_STRING","DB_PREFIX",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\"category_description` SET `name` = '\"",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","db",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","escape",142],"(",["T_VARIABLE","$key5",142],")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_INT_CAST","(int)",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","config",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","get",142],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",142],")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\"', `category_id` = '\"",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","db",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","escape",142],"(",["T_VARIABLE","$id4",142],")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\"'\"",142],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t\t",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","db",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","query",143],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_STRING","DB_PREFIX",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","\"category_to_store` SET `category_id` = '\"",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","db",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","escape",143],"(",["T_VARIABLE","$id4",143],")",["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '0'\"",143],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t\t",143],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t\t\t\t\t",144],["T_VARIABLE","$cat_link",146],"[",["T_VARIABLE","$key1",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","':'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$key2",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","':'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$key3",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","':'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$key4",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","':'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$key5",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$id4",146],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",146],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",147],"}",["T_WHITESPACE"," ",148],["T_ELSE","else",148],["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t\t",148],["T_VARIABLE","$cat_link",149],"[",["T_VARIABLE","$key1",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","':'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$key2",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","':'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$key3",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","':'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$key4",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$id3",149],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",149],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",150],"}",["T_WHITESPACE","\n\t\t\t\t\t\t\t",151],"}",["T_WHITESPACE"," ",152],["T_ELSE","else",152],["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",152],["T_VARIABLE","$cat_link",153],"[",["T_VARIABLE","$key1",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","':'",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$key2",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","':'",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$key3",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$id2",153],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",153],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",154],"}",["T_WHITESPACE","\n\t\t\t\t\t",155],"}",["T_WHITESPACE"," ",156],["T_ELSE","else",156],["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",156],["T_VARIABLE","$cat_link",157],"[",["T_VARIABLE","$key1",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","':'",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$key2",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$id1",157],";",["T_WHITESPACE","\n\t\t\t\t\t",157],"}",["T_WHITESPACE","\n\t\t\t\t",158],"}",["T_WHITESPACE","\n\t\t\t",159],"}",["T_WHITESPACE","\n\n\t\t\t",160],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","repairCategories",162],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","openbay",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","ebay",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","log",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Categories done'",164],")",";",["T_WHITESPACE","\n\t\t",164],"}",["T_WHITESPACE"," ",165],["T_ELSE","else",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n\t\t\t",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","openbay",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","ebay",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","log",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Categories set not to be created'",166],")",";",["T_WHITESPACE","\n\t\t",166],"}",["T_WHITESPACE","\n\n\t\t",167],["T_VARIABLE","$current",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","openbay",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","ebay",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getLiveListingArray",169],"(",")",";",["T_WHITESPACE","\n\n\t\t",169],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$new_data_1",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$item",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t\t",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_STRING","in_array",172],"(",["T_VARIABLE","$item",172],"[",["T_CONSTANT_ENCAPSED_STRING","'ItemID'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$current",172],")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n\t\t\t\t",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","openbay",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","ebay",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","log",173],"(",["T_CONSTANT_ENCAPSED_STRING","'New item being created: '",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_VARIABLE","$item",173],"[",["T_CONSTANT_ENCAPSED_STRING","'ItemID'",173],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",173],["T_COMMENT","\/\/get the manufacturer id\n",175],["T_WHITESPACE","\t\t\t\t",176],["T_VARIABLE","$manufacturer_id",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],";",["T_WHITESPACE","\n\t\t\t\t",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","!",["T_EMPTY","empty",177],"(",["T_VARIABLE","$item",177],"[",["T_CONSTANT_ENCAPSED_STRING","'Brand'",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n\t\t\t\t\t",177],["T_VARIABLE","$manufacturer_id",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","manufacturerExists",178],"(",["T_VARIABLE","$item",178],"[",["T_CONSTANT_ENCAPSED_STRING","'Brand'",178],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",178],"}",["T_WHITESPACE","\n\n\t\t\t\t",179],["T_COMMENT","\/\/get the length class id\n",181],["T_WHITESPACE","\t\t\t\t",182],["T_VARIABLE","$length_class_id",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_LNUMBER","1",182],";",["T_WHITESPACE","\n\t\t\t\t",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_ISSET","isset",183],"(",["T_VARIABLE","$item",183],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width_unit'",183],"]",")",["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],"!",["T_EMPTY","empty",183],"(",["T_VARIABLE","$item",183],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width_unit'",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n\t\t\t\t\t",183],["T_VARIABLE","$length_class_id",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","lengthClassExists",184],"(",["T_VARIABLE","$item",184],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width_unit'",184],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",184],"}",["T_WHITESPACE","\n\n\t\t\t\t",185],["T_COMMENT","\/\/get the weight class id\n",187],["T_WHITESPACE","\t\t\t\t",188],["T_VARIABLE","$weight_class_id",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_LNUMBER","1",188],";",["T_WHITESPACE","\n\t\t\t\t",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_ISSET","isset",189],"(",["T_VARIABLE","$item",189],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'major_unit'",189],"]",")",["T_WHITESPACE"," ",189],["T_BOOLEAN_AND","&&",189],["T_WHITESPACE"," ",189],"!",["T_EMPTY","empty",189],"(",["T_VARIABLE","$item",189],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'major_unit'",189],"]",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n\t\t\t\t\t",189],["T_VARIABLE","$weight_class_id",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","weightClassExists",190],"(",["T_VARIABLE","$item",190],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'major_unit'",190],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",190],"}",["T_WHITESPACE","\n\n\t\t\t\t",191],["T_VARIABLE","$tax",193],["T_WHITESPACE","            ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","config",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","get",193],"(",["T_CONSTANT_ENCAPSED_STRING","'ebay_tax'",193],")",";",["T_WHITESPACE","\n\t\t\t\t",193],["T_VARIABLE","$net_price",194],["T_WHITESPACE","      ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$item",194],"[",["T_CONSTANT_ENCAPSED_STRING","'priceGross'",194],"]",["T_WHITESPACE"," ",194],"\/",["T_WHITESPACE"," ",194],"(","(",["T_VARIABLE","$tax",194],["T_WHITESPACE"," ",194],"\/",["T_WHITESPACE"," ",194],["T_LNUMBER","100",194],")",["T_WHITESPACE"," ",194],"+",["T_WHITESPACE"," ",194],["T_LNUMBER","1",194],")",";",["T_WHITESPACE","\n\n\t\t\t\t",194],["T_COMMENT","\/\/openstock variant check\n",196],["T_WHITESPACE","\t\t\t\t",197],["T_VARIABLE","$openstock_sql",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","''",197],";",["T_WHITESPACE","\n\t\t\t\t",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(","!",["T_EMPTY","empty",198],"(",["T_VARIABLE","$item",198],"[",["T_CONSTANT_ENCAPSED_STRING","'variation'",198],"]",")",["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$openstock",198],["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_STRING","true",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n\t\t\t\t\t",198],["T_VARIABLE","$openstock_sql",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","\"`has_option` = '1',\"",199],";",["T_WHITESPACE","\n\t\t\t\t",199],"}",["T_WHITESPACE","\n\n\t\t\t\t",200],["T_COMMENT","\/\/package weight\n",202],["T_WHITESPACE","\t\t\t\t",203],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_ISSET","isset",203],"(",["T_VARIABLE","$item",203],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'major'",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n\t\t\t\t\t",203],["T_VARIABLE","$weight",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$item",204],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'major'",204],"]",["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'.'",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_VARIABLE","$item",204],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'minor'",204],"]",";",["T_WHITESPACE","\n\t\t\t\t",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n\t\t\t\t\t",205],["T_VARIABLE","$weight",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_LNUMBER","0",206],";",["T_WHITESPACE","\n\t\t\t\t",206],"}",["T_WHITESPACE","\n\n\t\t\t\t",207],["T_COMMENT","\/\/package length\n",209],["T_WHITESPACE","\t\t\t\t",210],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_ISSET","isset",210],"(",["T_VARIABLE","$item",210],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'length'",210],"]",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n\t\t\t\t\t",210],["T_VARIABLE","$length",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$item",211],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'length'",211],"]",";",["T_WHITESPACE","\n\t\t\t\t",211],"}",["T_WHITESPACE"," ",212],["T_ELSE","else",212],["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n\t\t\t\t\t",212],["T_VARIABLE","$length",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_LNUMBER","0",213],";",["T_WHITESPACE","\n\t\t\t\t",213],"}",["T_WHITESPACE","\n\n\t\t\t\t",214],["T_COMMENT","\/\/package width\n",216],["T_WHITESPACE","\t\t\t\t",217],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_ISSET","isset",217],"(",["T_VARIABLE","$item",217],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",217],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",217],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",217],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",217],"]",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n\t\t\t\t\t",217],["T_VARIABLE","$width",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$item",218],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",218],"]",";",["T_WHITESPACE","\n\t\t\t\t",218],"}",["T_WHITESPACE"," ",219],["T_ELSE","else",219],["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n\t\t\t\t\t",219],["T_VARIABLE","$width",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_LNUMBER","0",220],";",["T_WHITESPACE","\n\t\t\t\t",220],"}",["T_WHITESPACE","\n\n\t\t\t\t",221],["T_COMMENT","\/\/package height\n",223],["T_WHITESPACE","\t\t\t\t",224],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_ISSET","isset",224],"(",["T_VARIABLE","$item",224],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",224],"]",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n\t\t\t\t\t",224],["T_VARIABLE","$height",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$item",225],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",225],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",225],"]","[",["T_CONSTANT_ENCAPSED_STRING","'size'",225],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",225],"]",";",["T_WHITESPACE","\n\t\t\t\t",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n\t\t\t\t\t",226],["T_VARIABLE","$height",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_LNUMBER","0",227],";",["T_WHITESPACE","\n\t\t\t\t",227],"}",["T_WHITESPACE","\n\n\t\t\t\t",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","db",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","query",230],"(",["T_CONSTANT_ENCAPSED_STRING","\"\n\t\t\t\t\tINSERT INTO `\"",230],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_STRING","DB_PREFIX",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","\"product` SET\n\t\t\t\t\t\t`quantity`              = '\"",231],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_INT_CAST","(int)",232],["T_VARIABLE","$item",232],"[",["T_CONSTANT_ENCAPSED_STRING","'Quantity'",232],"]",["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`manufacturer_id`       = '\"",232],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_INT_CAST","(int)",233],["T_VARIABLE","$manufacturer_id",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`stock_status_id`       = '6',\n\t\t\t\t\t\t`price`                 = '\"",233],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_DOUBLE_CAST","(double)",235],["T_VARIABLE","$net_price",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`tax_class_id`          = '9',\n\t\t\t\t\t\t`location`              = '\"",235],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","db",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","escape",237],"(",["T_ISSET","isset",237],"(",["T_VARIABLE","$item",237],"[",["T_CONSTANT_ENCAPSED_STRING","'note'",237],"]",")",["T_WHITESPACE"," ",237],"?",["T_WHITESPACE"," ",237],["T_VARIABLE","$item",237],"[",["T_CONSTANT_ENCAPSED_STRING","'note'",237],"]",["T_WHITESPACE"," ",237],":",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","''",237],")",["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`mpn`              \t\t= '\"",237],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","db",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","escape",238],"(",["T_ISSET","isset",238],"(",["T_VARIABLE","$item",238],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'brand'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mpn'",238],"]",")",["T_WHITESPACE"," ",238],"?",["T_WHITESPACE"," ",238],["T_VARIABLE","$item",238],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'brand'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mpn'",238],"]",["T_WHITESPACE"," ",238],":",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","''",238],")",["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`sku`              \t\t= '\"",238],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","db",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","escape",239],"(",["T_ISSET","isset",239],"(",["T_VARIABLE","$item",239],"[",["T_CONSTANT_ENCAPSED_STRING","'SKU'",239],"]",")",["T_WHITESPACE"," ",239],"?",["T_WHITESPACE"," ",239],["T_VARIABLE","$item",239],"[",["T_CONSTANT_ENCAPSED_STRING","'SKU'",239],"]",["T_WHITESPACE"," ",239],":",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","''",239],")",["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`model`              \t= '\"",239],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","db",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","escape",240],"(",["T_ISSET","isset",240],"(",["T_VARIABLE","$item",240],"[",["T_CONSTANT_ENCAPSED_STRING","'SKU'",240],"]",")",["T_WHITESPACE"," ",240],"?",["T_WHITESPACE"," ",240],["T_VARIABLE","$item",240],"[",["T_CONSTANT_ENCAPSED_STRING","'SKU'",240],"]",["T_WHITESPACE"," ",240],":",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","''",240],")",["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`isbn`              \t= '\"",240],["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","db",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","escape",241],"(",["T_ISSET","isset",241],"(",["T_VARIABLE","$item",241],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",241],"]","[",["T_CONSTANT_ENCAPSED_STRING","'isbn'",241],"]",")",["T_WHITESPACE"," ",241],"?",["T_WHITESPACE"," ",241],["T_VARIABLE","$item",241],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",241],"]","[",["T_CONSTANT_ENCAPSED_STRING","'isbn'",241],"]",["T_WHITESPACE"," ",241],":",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],")",["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`ean`              \t\t= '\"",241],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","db",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","escape",242],"(",["T_ISSET","isset",242],"(",["T_VARIABLE","$item",242],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",242],"]","[",["T_CONSTANT_ENCAPSED_STRING","'ean'",242],"]",")",["T_WHITESPACE"," ",242],"?",["T_WHITESPACE"," ",242],["T_VARIABLE","$item",242],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",242],"]","[",["T_CONSTANT_ENCAPSED_STRING","'ean'",242],"]",["T_WHITESPACE"," ",242],":",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","''",242],")",["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`upc`              \t\t= '\"",242],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","db",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","escape",243],"(",["T_ISSET","isset",243],"(",["T_VARIABLE","$item",243],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",243],"]","[",["T_CONSTANT_ENCAPSED_STRING","'upc'",243],"]",")",["T_WHITESPACE"," ",243],"?",["T_WHITESPACE"," ",243],["T_VARIABLE","$item",243],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",243],"]","[",["T_CONSTANT_ENCAPSED_STRING","'upc'",243],"]",["T_WHITESPACE"," ",243],":",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","''",243],")",["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`weight`       \t\t\t= '\"",243],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_DOUBLE_CAST","(double)",244],["T_VARIABLE","$weight",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`weight_class_id`       = '\"",244],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_INT_CAST","(int)",245],["T_VARIABLE","$weight_class_id",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`length`       \t\t\t= '\"",245],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_DOUBLE_CAST","(double)",246],["T_VARIABLE","$length",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`width`       \t\t\t= '\"",246],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_DOUBLE_CAST","(double)",247],["T_VARIABLE","$width",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`height`       \t\t\t= '\"",247],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_DOUBLE_CAST","(double)",248],["T_VARIABLE","$height",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`length_class_id`       = '\"",248],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_INT_CAST","(int)",249],["T_VARIABLE","$length_class_id",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","\"',\n\t\t\t\t\t\t`subtract`              = '1',\n\t\t\t\t\t\t`minimum`               = '1',\n\t\t\t\t\t\t`status`                = '1',\n\t\t\t\t\t\t\"",249],["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_VARIABLE","$openstock_sql",253],["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","\"\n\t\t\t\t\t\t`date_available`        = now(),\n\t\t\t\t\t\t`date_added`            = now(),\n\t\t\t\t\t\t`date_modified`         = now()\n\t\t\t\t\"",253],")",";",["T_WHITESPACE","\n\n\t\t\t\t",257],["T_VARIABLE","$product_id",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","db",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getLastId",259],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",259],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","openbay",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","ebay",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","log",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Product insert done'",261],")",";",["T_WHITESPACE","\n\n\t\t\t\t",261],["T_COMMENT","\/\/Insert product description\n",263],["T_WHITESPACE","\t\t\t\t",264],["T_VARIABLE","$original_description",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$item",264],"[",["T_CONSTANT_ENCAPSED_STRING","'Description'",264],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",264],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_EMPTY","empty",266],"(",["T_VARIABLE","$original_description",266],")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n\t\t\t\t\t",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_STRING","false",267],["T_WHITESPACE"," ",267],["T_IS_NOT_IDENTICAL","!==",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$item",267],"[",["T_CONSTANT_ENCAPSED_STRING","'Description'",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","gzuncompress",267],"(",["T_VARIABLE","$original_description",267],")",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",267],["T_VARIABLE","$item",268],"[",["T_CONSTANT_ENCAPSED_STRING","'Description'",268],"]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","html_entity_decode",268],"(",["T_VARIABLE","$item",268],"[",["T_CONSTANT_ENCAPSED_STRING","'Description'",268],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",268],"}",["T_WHITESPACE"," ",269],["T_ELSE","else",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","openbay",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","ebay",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","log",270],"(",["T_CONSTANT_ENCAPSED_STRING","'Description could not be decompressed, output below'",270],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","openbay",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","ebay",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","log",271],"(",["T_VARIABLE","$original_description",271],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",271],["T_VARIABLE","$item",272],"[",["T_CONSTANT_ENCAPSED_STRING","'Description'",272],"]",["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","''",272],";",["T_WHITESPACE","\n\t\t\t\t\t",272],"}",["T_WHITESPACE","\n\t\t\t\t",273],"}",["T_WHITESPACE","\n\n\t\t\t\t",274],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","db",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","query",276],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_STRING","DB_PREFIX",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"product_description` SET `product_id` = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$product_id",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","config",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","get",276],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",276],")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', `name` = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","db",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","escape",276],"(",["T_STRING","htmlspecialchars",276],"(",["T_STRING","base64_decode",276],"(",["T_VARIABLE","$item",276],"[",["T_CONSTANT_ENCAPSED_STRING","'Title'",276],"]",")",",",["T_WHITESPACE"," ",276],["T_STRING","ENT_COMPAT",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",276],")",")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"', `description` = '\"",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","db",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","escape",276],"(",["T_STRING","htmlspecialchars",276],"(",["T_STRING","utf8_encode",276],"(",["T_VARIABLE","$item",276],"[",["T_CONSTANT_ENCAPSED_STRING","'Description'",276],"]",")",",",["T_WHITESPACE"," ",276],["T_STRING","ENT_COMPAT",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",276],")",")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","\"'\"",276],")",";",["T_WHITESPACE","\n\t\t\t\t",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","openbay",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","ebay",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","log",277],"(",["T_CONSTANT_ENCAPSED_STRING","'Product description done'",277],")",";",["T_WHITESPACE","\n\n\t\t\t\t",277],["T_COMMENT","\/\/Insert product store link\n",279],["T_WHITESPACE","\t\t\t\t",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","db",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","query",280],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_STRING","DB_PREFIX",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store` SET `product_id` = '\"",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_INT_CAST","(int)",280],["T_VARIABLE","$product_id",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '0'\"",280],")",";",["T_WHITESPACE","\n\t\t\t\t",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","openbay",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","ebay",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","log",281],"(",["T_CONSTANT_ENCAPSED_STRING","'Store link done'",281],")",";",["T_WHITESPACE","\n\n\t\t\t\t",281],["T_COMMENT","\/\/Create any attributes from eBay for the item\n",283],["T_WHITESPACE","\t\t\t\t",284],["T_IF","if",284],["T_WHITESPACE"," ",284],"(","!",["T_EMPTY","empty",284],"(",["T_VARIABLE","$item",284],"[",["T_CONSTANT_ENCAPSED_STRING","'specs'",284],"]",")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n\t\t\t\t\t",284],["T_COMMENT","\/\/check the main group exists, if not create\n",285],["T_WHITESPACE","\t\t\t\t\t",286],["T_VARIABLE","$group_id",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","attributeGroupExists",286],"(",["T_STRING","base64_decode",286],"(",["T_VARIABLE","$item",286],"[",["T_CONSTANT_ENCAPSED_STRING","'CategoryNameSingle'",286],"]",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",286],["T_FOREACH","foreach",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$item",288],"[",["T_CONSTANT_ENCAPSED_STRING","'specs'",288],"]",["T_WHITESPACE"," ",288],["T_AS","as",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$spec",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",288],["T_COMMENT","\/\/check if the attribute exists in the group, if not create\n",289],["T_WHITESPACE","\t\t\t\t\t\t",290],["T_VARIABLE","$attribute_id",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","attributeExists",290],"(",["T_VARIABLE","$group_id",290],",",["T_WHITESPACE"," ",290],["T_STRING","base64_decode",290],"(",["T_VARIABLE","$spec",290],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",290],"]",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",290],["T_COMMENT","\/\/insert the attribute value into the product attribute table\n",292],["T_WHITESPACE","\t\t\t\t\t\t",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","attributeAdd",293],"(",["T_VARIABLE","$product_id",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$attribute_id",293],",",["T_WHITESPACE"," ",293],["T_STRING","base64_decode",293],"(",["T_VARIABLE","$spec",293],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",293],"]",")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",293],"}",["T_WHITESPACE","\n\t\t\t\t",294],"}",["T_WHITESPACE","\n\n\t\t\t\t",295],["T_COMMENT","\/\/Create the product variants for OpenStock\n",297],["T_WHITESPACE","\t\t\t\t",298],["T_VARIABLE","$variant",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],";",["T_WHITESPACE","\n\t\t\t\t",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(","!",["T_EMPTY","empty",299],"(",["T_VARIABLE","$item",299],"[",["T_CONSTANT_ENCAPSED_STRING","'variation'",299],"]",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n\t\t\t\t\t",299],["T_VARIABLE","$variant",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_LNUMBER","1",300],";",["T_WHITESPACE","\n\n\t\t\t\t\t",300],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$openstock",302],["T_WHITESPACE"," ",302],["T_IS_EQUAL","==",302],["T_WHITESPACE"," ",302],["T_STRING","true",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","openbay",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","ebay",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","log",303],"(",["T_CONSTANT_ENCAPSED_STRING","'OpenStock Loaded'",303],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","createVariants",304],"(",["T_VARIABLE","$product_id",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$item",304],")",";",["T_WHITESPACE","\n\t\t\t\t\t",304],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",305],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","openbay",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","ebay",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","log",307],"(",["T_CONSTANT_ENCAPSED_STRING","'Variants done'",307],")",";",["T_WHITESPACE","\n\t\t\t\t",307],"}",["T_WHITESPACE","\n\n\t\t\t\t",308],["T_COMMENT","\/\/insert store to eBay item link\n",310],["T_WHITESPACE","\t\t\t\t",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","openbay",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","ebay",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","createLink",311],"(",["T_VARIABLE","$product_id",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$item",311],"[",["T_CONSTANT_ENCAPSED_STRING","'ItemID'",311],"]",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$variant",311],")",";",["T_WHITESPACE","\n\n\t\t\t\t",311],["T_COMMENT","\/\/Insert product\/category link\n",313],["T_WHITESPACE","\t\t\t\t",314],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$options",314],"[",["T_CONSTANT_ENCAPSED_STRING","'cat'",314],"]",["T_WHITESPACE"," ",314],["T_IS_EQUAL","==",314],["T_WHITESPACE"," ",314],["T_LNUMBER","1",314],["T_WHITESPACE"," ",314],["T_BOOLEAN_OR","||",314],["T_WHITESPACE"," ",314],"!",["T_ISSET","isset",314],"(",["T_VARIABLE","$options",314],"[",["T_CONSTANT_ENCAPSED_STRING","'cat'",314],"]",")",")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n\t\t\t\t\t",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","createCategoryLink",315],"(",["T_VARIABLE","$product_id",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$cat_link",315],"[",["T_VARIABLE","$item",315],"[",["T_CONSTANT_ENCAPSED_STRING","'CategoryName'",315],"]","]",")",";",["T_WHITESPACE","\n\t\t\t\t",315],"}",["T_WHITESPACE","\n\n\t\t\t\t",316],["T_COMMENT","\/\/images\n",318],["T_WHITESPACE","\t\t\t\t",319],["T_VARIABLE","$img_count",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_LNUMBER","0",319],";",["T_WHITESPACE","\n\t\t\t\t",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_STRING","is_array",320],"(",["T_VARIABLE","$item",320],"[",["T_CONSTANT_ENCAPSED_STRING","'pictures'",320],"]",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n\t\t\t\t\t",320],["T_FOREACH","foreach",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$item",321],"[",["T_CONSTANT_ENCAPSED_STRING","'pictures'",321],"]",["T_WHITESPACE"," ",321],["T_AS","as",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$img",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(","!",["T_EMPTY","empty",322],"(",["T_VARIABLE","$img",322],")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",322],["T_VARIABLE","$name",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","rand",323],"(",["T_LNUMBER","500000",323],",",["T_WHITESPACE"," ",323],["T_LNUMBER","1000000000",323],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","addImage",324],"(",["T_VARIABLE","$img",324],",",["T_WHITESPACE"," ",324],["T_STRING","DIR_IMAGE",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_VARIABLE","$name",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$name",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$product_id",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$img_count",324],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",324],["T_VARIABLE","$img_count",325],["T_INC","++",325],";",["T_WHITESPACE","\n\t\t\t\t\t\t",325],"}",["T_WHITESPACE","\n\t\t\t\t\t",326],"}",["T_WHITESPACE","\n\t\t\t\t",327],"}",["T_WHITESPACE","\n\n\t\t\t\t",328],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","openbay",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","ebay",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","log",330],"(",["T_CONSTANT_ENCAPSED_STRING","'Product import completed . '",330],")",";",["T_WHITESPACE","\n\t\t\t",330],"}",["T_WHITESPACE"," ",331],["T_ELSE","else",331],["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n\t\t\t\t",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","openbay",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","ebay",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","log",332],"(",["T_VARIABLE","$item",332],"[",["T_CONSTANT_ENCAPSED_STRING","'ItemID'",332],"]",["T_WHITESPACE"," ",332],".",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","' exists already'",332],")",";",["T_WHITESPACE","\n\t\t\t",332],"}",["T_WHITESPACE","\n\t\t",333],"}",["T_WHITESPACE","\n\n\t\t",334],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","openbay",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","ebay",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","log",336],"(",["T_CONSTANT_ENCAPSED_STRING","'Product data import done'",336],")",";",["T_WHITESPACE","\n\t\t",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","openbay",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","ebay",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getImages",337],"(",")",";",["T_WHITESPACE","\n\t",337],"}",["T_WHITESPACE","\n\n\t",338],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","getDisplayProducts",340],"(",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n\t\t",340],["T_VARIABLE","$data",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_ARRAY","array",341],"(",")",";",["T_WHITESPACE","\n\t\t",341],["T_VARIABLE","$data",342],"[",["T_CONSTANT_ENCAPSED_STRING","'search_keyword'",342],"]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","config",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","get",342],"(",["T_CONSTANT_ENCAPSED_STRING","'ebaydisplay_module_keywords'",342],")",";",["T_WHITESPACE","\n\t\t",342],["T_VARIABLE","$data",343],"[",["T_CONSTANT_ENCAPSED_STRING","'seller_id'",343],"]",["T_WHITESPACE","      ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","config",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","get",343],"(",["T_CONSTANT_ENCAPSED_STRING","'ebaydisplay_module_username'",343],")",";",["T_WHITESPACE","\n\t\t",343],["T_VARIABLE","$data",344],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",344],"]",["T_WHITESPACE","          ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","config",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","get",344],"(",["T_CONSTANT_ENCAPSED_STRING","'ebaydisplay_module_limit'",344],")",";",["T_WHITESPACE","\n\t\t",344],["T_VARIABLE","$data",345],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",345],"]",["T_WHITESPACE","           ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","config",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","get",345],"(",["T_CONSTANT_ENCAPSED_STRING","'ebaydisplay_module_sort'",345],")",";",["T_WHITESPACE","\n\t\t",345],["T_VARIABLE","$data",346],"[",["T_CONSTANT_ENCAPSED_STRING","'search_desc'",346],"]",["T_WHITESPACE","    ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","config",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","get",346],"(",["T_CONSTANT_ENCAPSED_STRING","'ebaydisplay_module_description'",346],")",";",["T_WHITESPACE","\n\n\t\t",346],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","openbay",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","ebay",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","call",348],"(",["T_CONSTANT_ENCAPSED_STRING","'item\/searchListingsForDisplay'",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$data",348],")",";",["T_WHITESPACE","\n\t",348],"}",["T_WHITESPACE","\n\n\t",349],["T_PRIVATE","private",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","createVariants",351],"(",["T_VARIABLE","$product_id",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$data",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n\t\t",351],["T_FOREACH","foreach",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$data",352],"[",["T_CONSTANT_ENCAPSED_STRING","'variation'",352],"]","[",["T_CONSTANT_ENCAPSED_STRING","'vars'",352],"]",["T_WHITESPACE"," ",352],["T_AS","as",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$variant_id",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$variant",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n\t\t\t",352],["T_FOREACH","foreach",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$variant",353],"[",["T_CONSTANT_ENCAPSED_STRING","'opt'",353],"]",["T_WHITESPACE"," ",353],["T_AS","as",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$k_opt",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$v_opt",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n\t\t\t\t",353],["T_VARIABLE","$name",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","base64_decode",354],"(",["T_VARIABLE","$k_opt",354],")",";",["T_WHITESPACE","\n\t\t\t\t",354],["T_VARIABLE","$value",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$v_opt",355],";",["T_WHITESPACE","\n\n\t\t\t\t",355],["T_VARIABLE","$option",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getOption",357],"(",["T_VARIABLE","$name",357],")",";",["T_WHITESPACE","\n\t\t\t\t",357],["T_VARIABLE","$option_value",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getOptionValue",358],"(",["T_VARIABLE","$value",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$option",358],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",358],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",358],["T_VARIABLE","$product_option_id",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getProductOption",360],"(",["T_VARIABLE","$product_id",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$option",360],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",360],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",360],["T_VARIABLE","$product_option_value_id",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getProductOptionValue",361],"(",["T_VARIABLE","$product_id",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$option",361],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",361],"]",",",["T_WHITESPACE"," ",361],["T_VARIABLE","$option_value",361],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",361],"]",",",["T_WHITESPACE"," ",361],["T_VARIABLE","$product_option_id",361],")",";",["T_WHITESPACE","\n\t\t\t\t",361],["T_VARIABLE","$data",362],"[",["T_CONSTANT_ENCAPSED_STRING","'variation'",362],"]","[",["T_CONSTANT_ENCAPSED_STRING","'vars'",362],"]","[",["T_VARIABLE","$variant_id",362],"]","[",["T_CONSTANT_ENCAPSED_STRING","'product_option_values'",362],"]","[","]",["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$product_option_value_id",362],";",["T_WHITESPACE","\n\t\t\t",362],"}",["T_WHITESPACE","\n\n\t\t\t",363],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","db",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","query",365],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_STRING","DB_PREFIX",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","\"product_option_value` SET subtract = '0', price = '0.000', quantity = '0' WHERE product_id = '\"",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_INT_CAST","(int)",365],["T_VARIABLE","$product_id",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","\"'\"",365],")",";",["T_WHITESPACE","\n\t\t",365],"}",["T_WHITESPACE","\n\n\t\t",366],["T_VARIABLE","$all_variants",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","model_extension_module_openstock",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","calculateVariants",368],"(",["T_VARIABLE","$product_id",368],")",";",["T_WHITESPACE","\n\t\t",368],["T_FOREACH","foreach",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$all_variants",369],["T_WHITESPACE"," ",369],["T_AS","as",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$new_variant",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n\t\t\t",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","db",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","query",370],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_STRING","DB_PREFIX",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","\"product_option_variant` SET `product_id` = '\"",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_INT_CAST","(int)",370],["T_VARIABLE","$product_id",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","\"', `sku` = '', `stock` = '0', `active` = '0', `subtract` = '1', `price` = '0.00', `image` = '', `weight` = '0.00'\"",370],")",";",["T_WHITESPACE","\n\n\t\t\t",370],["T_VARIABLE","$variant_id",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","db",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getLastId",372],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",372],["T_VARIABLE","$i",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_LNUMBER","1",374],";",["T_WHITESPACE","\n\t\t\t",374],["T_FOREACH","foreach",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$new_variant",375],["T_WHITESPACE"," ",375],["T_AS","as",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$new_variant_value",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n\t\t\t\t",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","db",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","query",376],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_STRING","DB_PREFIX",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\"product_option_variant_value` SET `product_option_variant_id` = '\"",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_INT_CAST","(int)",376],["T_VARIABLE","$variant_id",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\"', `product_option_value_id` = '\"",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_INT_CAST","(int)",376],["T_VARIABLE","$new_variant_value",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\"', `product_id` = '\"",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_INT_CAST","(int)",376],["T_VARIABLE","$product_id",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\"', `sort_order` = '\"",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_INT_CAST","(int)",376],["T_VARIABLE","$i",376],["T_INC","++",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\"'\"",376],")",";",["T_WHITESPACE","\n\t\t\t",376],"}",["T_WHITESPACE","\n\t\t",377],"}",["T_WHITESPACE","\n\n\t\t",378],["T_FOREACH","foreach",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$data",380],"[",["T_CONSTANT_ENCAPSED_STRING","'variation'",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'vars'",380],"]",["T_WHITESPACE"," ",380],["T_AS","as",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$variant_id",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$variant",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n\t\t\t",380],["T_VARIABLE","$variant_row",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","model_extension_module_openstock",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getVariantByOptionValues",381],"(",["T_VARIABLE","$variant",381],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_values'",381],"]",",",["T_WHITESPACE"," ",381],["T_VARIABLE","$product_id",381],")",";",["T_WHITESPACE","\n\n\t\t\t",381],["T_IF","if",383],["T_WHITESPACE"," ",383],"(","!",["T_EMPTY","empty",383],"(",["T_VARIABLE","$variant_row",383],")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n\t\t\t\t",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","db",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","query",384],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_STRING","DB_PREFIX",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","\"product_option_variant` SET `product_id` = '\"",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_INT_CAST","(int)",384],["T_VARIABLE","$product_id",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","\"', `sku` = '\"",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","db",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","escape",384],"(",["T_VARIABLE","$variant",384],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",384],"]",")",["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","\"', `stock` = '\"",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_INT_CAST","(int)",384],["T_VARIABLE","$variant",384],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",384],"]",["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","\"', `active` = 1, `price` = '\"",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_DOUBLE_CAST","(float)",384],["T_VARIABLE","$variant",384],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",384],"]",["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE `product_option_variant_id` = '\"",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_INT_CAST","(int)",384],["T_VARIABLE","$variant_row",384],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_variant_id'",384],"]",["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","\"'\"",384],")",";",["T_WHITESPACE","\n\t\t\t",384],"}",["T_WHITESPACE","\n\t\t",385],"}",["T_WHITESPACE","\n\t",386],"}",["T_WHITESPACE","\n\n\t",387],["T_PRIVATE","private",389],["T_WHITESPACE"," ",389],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","getOption",389],"(",["T_VARIABLE","$name",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n\t\t",389],["T_VARIABLE","$qry",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","db",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","query",390],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_STRING","DB_PREFIX",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","\"option` `o` LEFT JOIN `\"",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_STRING","DB_PREFIX",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","\"option_description` `od` ON (`od`.`option_id` = `o`.`option_id`) WHERE `od`.`name` = '\"",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","db",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","escape",390],"(",["T_VARIABLE","$name",390],")",["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","\"'LIMIT 1\"",390],")",";",["T_WHITESPACE","\n\n\t\t",390],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$qry",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","num_rows",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n\t\t\t",392],["T_RETURN","return",393],["T_WHITESPACE"," ",393],["T_ARRAY","array",393],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_INT_CAST","(int)",393],["T_VARIABLE","$qry",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","row",393],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",393],"]",",",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'sort'",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_INT_CAST","(int)",393],["T_VARIABLE","$qry",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","row",393],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",393],"]",")",";",["T_WHITESPACE","\n\t\t",393],"}",["T_WHITESPACE"," ",394],["T_ELSE","else",394],["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n\t\t\t",394],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","createOption",395],"(",["T_VARIABLE","$name",395],")",";",["T_WHITESPACE","\n\t\t",395],"}",["T_WHITESPACE","\n\t",396],"}",["T_WHITESPACE","\n\n\t",397],["T_PRIVATE","private",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","createOption",399],"(",["T_VARIABLE","$name",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n\t\t",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","db",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","query",400],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_STRING","DB_PREFIX",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","\"option` SET `type` = 'select', `sort_order` = IFNULL((select `sort` FROM (SELECT (MAX(`sort_order`)+1) AS `sort` FROM `\"",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_STRING","DB_PREFIX",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","\"option`) AS `i`),0)\"",400],")",";",["T_WHITESPACE","\n\n\t\t",400],["T_VARIABLE","$option_id",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","db",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getLastId",402],"(",")",";",["T_WHITESPACE","\n\n\t\t",402],["T_VARIABLE","$qry_sort",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","db",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","query",404],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE"," ",404],["T_STRING","DB_PREFIX",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","\"option` WHERE `option_id` = '\"",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE"," ",404],["T_INT_CAST","(int)",404],["T_VARIABLE","$option_id",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",404],")",";",["T_WHITESPACE","\n\n\t\t",404],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","db",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","query",406],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_STRING","DB_PREFIX",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","\"option_description` SET `language_id` = '\"",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_INT_CAST","(int)",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","config",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","get",406],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",406],")",["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","\"', `name` = '\"",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","db",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","escape",406],"(",["T_VARIABLE","$name",406],")",["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","\"', `option_id` = '\"",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_INT_CAST","(int)",406],["T_VARIABLE","$option_id",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","\"'\"",406],")",";",["T_WHITESPACE","\n\n\t\t",406],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_ARRAY","array",408],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_INT_CAST","(int)",408],["T_VARIABLE","$option_id",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'sort'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_INT_CAST","(int)",408],["T_VARIABLE","$qry_sort",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","row",408],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",408],"]",")",";",["T_WHITESPACE","\n\t",408],"}",["T_WHITESPACE","\n\n\t",409],["T_PRIVATE","private",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","getOptionValue",411],"(",["T_VARIABLE","$name",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$option_id",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n\t\t",411],["T_VARIABLE","$qry",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","db",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","query",412],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_STRING","DB_PREFIX",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","\"option_value` ov LEFT JOIN `\"",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_STRING","DB_PREFIX",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","\"option_value_description` `ovd` ON (`ovd`.`option_value_id` = `ov`.`option_value_id`) WHERE `ovd`.`name` = '\"",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","db",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","escape",412],"(",["T_VARIABLE","$name",412],")",["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","\"' AND `ovd`.`option_id` = '\"",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_INT_CAST","(int)",412],["T_VARIABLE","$option_id",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","\"'LIMIT 1\"",412],")",";",["T_WHITESPACE","\n\n\t\t",412],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$qry",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","num_rows",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n\t\t\t",414],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_ARRAY","array",415],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_INT_CAST","(int)",415],["T_VARIABLE","$qry",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","row",415],"[",["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",415],"]",",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'sort'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_INT_CAST","(int)",415],["T_VARIABLE","$qry",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","row",415],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",415],"]",")",";",["T_WHITESPACE","\n\t\t",415],"}",["T_WHITESPACE"," ",416],["T_ELSE","else",416],["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n\t\t\t",416],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","createOptionValue",417],"(",["T_VARIABLE","$name",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$option_id",417],")",";",["T_WHITESPACE","\n\t\t",417],"}",["T_WHITESPACE","\n\t",418],"}",["T_WHITESPACE","\n\n\t",419],["T_PRIVATE","private",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","createOptionValue",421],"(",["T_VARIABLE","$name",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$option_id",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n\t\t",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","db",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","query",422],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_STRING","DB_PREFIX",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","\"option_value` SET `option_id` = '\"",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_INT_CAST","(int)",422],["T_VARIABLE","$option_id",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","\"', `sort_order` = IFNULL((select `sort` FROM (SELECT (MAX(`sort_order`)+1) AS `sort` FROM `\"",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_STRING","DB_PREFIX",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","\"option_value`) AS `i`),0)\"",422],")",";",["T_WHITESPACE","\n\n\t\t",422],["T_VARIABLE","$id",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","db",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getLastId",424],"(",")",";",["T_WHITESPACE","\n\n\t\t",424],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","db",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","query",426],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_STRING","DB_PREFIX",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","\"option_value_description` SET `language_id` = '\"",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_INT_CAST","(int)",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","config",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","get",426],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",426],")",["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","\"', `name` = '\"",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","db",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","escape",426],"(",["T_VARIABLE","$name",426],")",["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","\"', `option_id` = '\"",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_INT_CAST","(int)",426],["T_VARIABLE","$option_id",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","\"', `option_value_id` = '\"",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_INT_CAST","(int)",426],["T_VARIABLE","$id",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","\"'\"",426],")",";",["T_WHITESPACE","\n\n\t\t",426],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_INT_CAST","(int)",428],["T_VARIABLE","$id",428],")",";",["T_WHITESPACE","\n\t",428],"}",["T_WHITESPACE","\n\n\t",429],["T_PRIVATE","private",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","getProductOption",431],"(",["T_VARIABLE","$product_id",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$option_id",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n\t\t",431],["T_VARIABLE","$qry",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","db",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","query",432],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM  \"",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_STRING","DB_PREFIX",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","\"product_option WHERE product_id = '\"",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_INT_CAST","(int)",432],["T_VARIABLE","$product_id",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","\"' AND option_id = '\"",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_INT_CAST","(int)",432],["T_VARIABLE","$option_id",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",432],")",";",["T_WHITESPACE","\n\n\t\t",432],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$qry",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","num_rows",434],["T_WHITESPACE"," ",434],["T_IS_NOT_EQUAL","!=",434],["T_WHITESPACE"," ",434],["T_LNUMBER","0",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n\t\t\t",434],["T_RETURN","return",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$qry",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","row",435],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",435],"]",";",["T_WHITESPACE","\n\t\t",435],"}",["T_WHITESPACE"," ",436],["T_ELSE","else",436],["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n\t\t\t",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","db",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","query",437],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_STRING","DB_PREFIX",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","\"product_option SET product_id = '\"",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_INT_CAST","(int)",437],["T_VARIABLE","$product_id",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","\"', option_id = '\"",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_INT_CAST","(int)",437],["T_VARIABLE","$option_id",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","\"', required = '1'\"",437],")",";",["T_WHITESPACE","\n\t\t\t",437],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","db",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getLastId",438],"(",")",";",["T_WHITESPACE","\n\t\t",438],"}",["T_WHITESPACE","\n\t",439],"}",["T_WHITESPACE","\n\n\t",440],["T_PRIVATE","private",442],["T_WHITESPACE"," ",442],["T_FUNCTION","function",442],["T_WHITESPACE"," ",442],["T_STRING","getProductOptionValue",442],"(",["T_VARIABLE","$product_id",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$option_id",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$option_value_id",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$product_option_id",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n\t\t",442],["T_VARIABLE","$qry",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","db",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","query",443],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM  `\"",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_STRING","DB_PREFIX",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","\"product_option_value` WHERE `product_id` = '\"",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_INT_CAST","(int)",443],["T_VARIABLE","$product_id",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","\"' AND `option_id` = '\"",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_INT_CAST","(int)",443],["T_VARIABLE","$option_id",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","\"' AND `product_option_id` = '\"",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_INT_CAST","(int)",443],["T_VARIABLE","$product_option_id",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","\"' AND `option_value_id` = '\"",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_INT_CAST","(int)",443],["T_VARIABLE","$option_value_id",443],["T_WHITESPACE"," ",443],".",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",443],")",";",["T_WHITESPACE","\n\n\t\t",443],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$qry",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","num_rows",445],["T_WHITESPACE"," ",445],["T_IS_NOT_EQUAL","!=",445],["T_WHITESPACE"," ",445],["T_LNUMBER","0",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n\t\t\t",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$qry",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","row",446],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",446],"]",";",["T_WHITESPACE","\n\t\t",446],"}",["T_WHITESPACE"," ",447],["T_ELSE","else",447],["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n\t\t\t",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","db",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","query",448],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_STRING","DB_PREFIX",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","\"product_option_value SET product_option_id = '\"",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_INT_CAST","(int)",448],["T_VARIABLE","$product_option_id",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","\"', product_id = '\"",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_INT_CAST","(int)",448],["T_VARIABLE","$product_id",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","\"', option_id = '\"",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_INT_CAST","(int)",448],["T_VARIABLE","$option_id",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","\"', option_value_id = '\"",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_INT_CAST","(int)",448],["T_VARIABLE","$option_value_id",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","\"'\"",448],")",";",["T_WHITESPACE","\n\n\t\t\t",448],["T_RETURN","return",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","db",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getLastId",450],"(",")",";",["T_WHITESPACE","\n\t\t",450],"}",["T_WHITESPACE","\n\t",451],"}",["T_WHITESPACE","\n\n\t",452],["T_PRIVATE","private",454],["T_WHITESPACE"," ",454],["T_FUNCTION","function",454],["T_WHITESPACE"," ",454],["T_STRING","attributeGroupExists",454],"(",["T_VARIABLE","$name",454],")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n\t\t",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","openbay",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","ebay",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","log",455],"(",["T_CONSTANT_ENCAPSED_STRING","'Checking attribute group: '",455],["T_WHITESPACE"," ",455],".",["T_WHITESPACE"," ",455],["T_VARIABLE","$name",455],")",";",["T_WHITESPACE","\n\t\t",455],["T_VARIABLE","$qry",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","db",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","query",456],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM  `\"",456],["T_WHITESPACE"," ",456],".",["T_WHITESPACE"," ",456],["T_STRING","DB_PREFIX",456],["T_WHITESPACE"," ",456],".",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","\"attribute_group_description` WHERE `name` = '\"",456],["T_WHITESPACE"," ",456],".",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","db",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","escape",456],"(",["T_STRING","htmlspecialchars",456],"(",["T_VARIABLE","$name",456],",",["T_WHITESPACE"," ",456],["T_STRING","ENT_COMPAT",456],")",")",["T_WHITESPACE"," ",456],".",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","\"' AND `language_id` = '\"",456],["T_WHITESPACE"," ",456],".",["T_WHITESPACE"," ",456],["T_INT_CAST","(int)",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","config",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","get",456],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",456],")",["T_WHITESPACE"," ",456],".",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",456],")",";",["T_WHITESPACE","\n\n\t\t",456],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$qry",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","num_rows",458],["T_WHITESPACE"," ",458],["T_IS_NOT_EQUAL","!=",458],["T_WHITESPACE"," ",458],["T_LNUMBER","0",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n\t\t\t",458],["T_RETURN","return",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$qry",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","row",459],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_group_id'",459],"]",";",["T_WHITESPACE","\n\t\t",459],"}",["T_WHITESPACE"," ",460],["T_ELSE","else",460],["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n\t\t\t",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","openbay",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","ebay",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","log",461],"(",["T_CONSTANT_ENCAPSED_STRING","'New group'",461],")",";",["T_WHITESPACE","\n\t\t\t",461],["T_VARIABLE","$qry2",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","db",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","query",462],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `sort_order` FROM  `\"",462],["T_WHITESPACE"," ",462],".",["T_WHITESPACE"," ",462],["T_STRING","DB_PREFIX",462],["T_WHITESPACE"," ",462],".",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","\"attribute_group` ORDER BY `sort_order` DESC LIMIT 1\"",462],")",";",["T_WHITESPACE","\n\n\t\t\t",462],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$qry2",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","num_rows",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n\t\t\t\t",464],["T_VARIABLE","$sort",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$qry2",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","row",465],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",465],"]",["T_WHITESPACE"," ",465],"+",["T_WHITESPACE"," ",465],["T_LNUMBER","1",465],";",["T_WHITESPACE","\n\t\t\t",465],"}",["T_WHITESPACE"," ",466],["T_ELSE","else",466],["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n\t\t\t\t",466],["T_VARIABLE","$sort",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_LNUMBER","0",467],";",["T_WHITESPACE","\n\t\t\t",467],"}",["T_WHITESPACE","\n\n\t\t\t",468],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","db",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","query",470],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",470],["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_STRING","DB_PREFIX",470],["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","\"attribute_group` SET `sort_order` = '\"",470],["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_INT_CAST","(int)",470],["T_VARIABLE","$sort",470],["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","\"'\"",470],")",";",["T_WHITESPACE","\n\n\t\t\t",470],["T_VARIABLE","$id",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","db",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getLastId",472],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",472],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","db",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","query",474],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_STRING","DB_PREFIX",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\"attribute_group_description` SET `attribute_group_id` = '\"",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_INT_CAST","(int)",474],["T_VARIABLE","$id",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_INT_CAST","(int)",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","config",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","get",474],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",474],")",["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\"', `name` = '\"",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","db",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","escape",474],"(",["T_STRING","htmlspecialchars",474],"(",["T_VARIABLE","$name",474],",",["T_WHITESPACE"," ",474],["T_STRING","ENT_COMPAT",474],")",")",["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\"'\"",474],")",";",["T_WHITESPACE","\n\n\t\t\t",474],["T_RETURN","return",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$id",476],";",["T_WHITESPACE","\n\t\t",476],"}",["T_WHITESPACE","\n\t",477],"}",["T_WHITESPACE","\n\n\t",478],["T_PRIVATE","private",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","attributeExists",480],"(",["T_VARIABLE","$group_id",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$name",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n\t\t",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","openbay",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","ebay",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","log",481],"(",["T_CONSTANT_ENCAPSED_STRING","'Checking attribute: '",481],["T_WHITESPACE"," ",481],".",["T_WHITESPACE"," ",481],["T_VARIABLE","$name",481],")",";",["T_WHITESPACE","\n\n\t\t",481],["T_VARIABLE","$qry",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","db",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","query",483],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_STRING","DB_PREFIX",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","\"attribute_description` `ad`, `\"",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_STRING","DB_PREFIX",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","\"attribute` `a` WHERE `ad`.`name` = '\"",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","db",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","escape",483],"(",["T_STRING","htmlspecialchars",483],"(",["T_VARIABLE","$name",483],",",["T_WHITESPACE"," ",483],["T_STRING","ENT_COMPAT",483],")",")",["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","\"' AND `ad`.`language_id` = '\"",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_INT_CAST","(int)",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","config",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","get",483],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",483],")",["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","\"' AND `a`.`attribute_id` = `ad`.`attribute_id` AND `a`.`attribute_group_id` = '\"",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_INT_CAST","(int)",483],["T_VARIABLE","$group_id",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",483],")",";",["T_WHITESPACE","\n\n\t\t",483],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$qry",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","num_rows",485],["T_WHITESPACE"," ",485],["T_IS_NOT_EQUAL","!=",485],["T_WHITESPACE"," ",485],["T_LNUMBER","0",485],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n\t\t\t",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$qry",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","row",486],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",486],"]",";",["T_WHITESPACE","\n\t\t",486],"}",["T_WHITESPACE"," ",487],["T_ELSE","else",487],["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n\t\t\t",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","openbay",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","ebay",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","log",488],"(",["T_CONSTANT_ENCAPSED_STRING","'New attribute'",488],")",";",["T_WHITESPACE","\n\t\t\t",488],["T_VARIABLE","$qry2",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","db",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","query",489],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `sort_order` FROM  `\"",489],["T_WHITESPACE"," ",489],".",["T_WHITESPACE"," ",489],["T_STRING","DB_PREFIX",489],["T_WHITESPACE"," ",489],".",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","\"attribute` ORDER BY `sort_order` DESC LIMIT 1\"",489],")",";",["T_WHITESPACE","\n\n\t\t\t",489],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_VARIABLE","$qry2",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","num_rows",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n\t\t\t\t",491],["T_VARIABLE","$sort",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$qry2",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","row",492],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",492],"]",["T_WHITESPACE"," ",492],"+",["T_WHITESPACE"," ",492],["T_LNUMBER","1",492],";",["T_WHITESPACE","\n\t\t\t",492],"}",["T_WHITESPACE"," ",493],["T_ELSE","else",493],["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n\t\t\t\t",493],["T_VARIABLE","$sort",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_LNUMBER","0",494],";",["T_WHITESPACE","\n\t\t\t",494],"}",["T_WHITESPACE","\n\n\t\t\t",495],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","db",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","query",497],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_STRING","DB_PREFIX",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","\"attribute` SET `sort_order` = '\"",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_INT_CAST","(int)",497],["T_VARIABLE","$sort",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","\"', `attribute_group_id` = '\"",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_INT_CAST","(int)",497],["T_VARIABLE","$group_id",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","\"'\"",497],")",";",["T_WHITESPACE","\n\n\t\t\t",497],["T_VARIABLE","$id",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","db",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getLastId",499],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",499],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","db",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","query",501],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_STRING","DB_PREFIX",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\"attribute_description` SET `attribute_id` = '\"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_INT_CAST","(int)",501],["T_VARIABLE","$id",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_INT_CAST","(int)",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","config",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","get",501],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",501],")",["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\"', `name` = '\"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","db",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","escape",501],"(",["T_STRING","htmlspecialchars",501],"(",["T_VARIABLE","$name",501],",",["T_WHITESPACE"," ",501],["T_STRING","ENT_COMPAT",501],")",")",["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\"'\"",501],")",";",["T_WHITESPACE","\n\n\t\t\t",501],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_INT_CAST","(int)",503],["T_VARIABLE","$id",503],";",["T_WHITESPACE","\n\t\t",503],"}",["T_WHITESPACE","\n\t",504],"}",["T_WHITESPACE","\n\n\t",505],["T_PRIVATE","private",507],["T_WHITESPACE"," ",507],["T_FUNCTION","function",507],["T_WHITESPACE"," ",507],["T_STRING","attributeAdd",507],"(",["T_VARIABLE","$product_id",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$attribute_id",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$name",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n\t\t",507],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","openbay",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","ebay",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","log",508],"(",["T_CONSTANT_ENCAPSED_STRING","'Adding product attribute'",508],")",";",["T_WHITESPACE","\n\n\t\t",508],["T_VARIABLE","$sql",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","db",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","query",510],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_STRING","DB_PREFIX",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","\"product_attribute` WHERE `product_id` = '\"",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_INT_CAST","(int)",510],["T_VARIABLE","$product_id",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","\"' AND `attribute_id` = '\"",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_INT_CAST","(int)",510],["T_VARIABLE","$attribute_id",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","\"' AND `language_id` = '\"",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_INT_CAST","(int)",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","config",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","get",510],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",510],")",["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","\"'\"",510],")",";",["T_WHITESPACE","\n\n\t\t",510],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_VARIABLE","$sql",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","num_rows",512],["T_WHITESPACE"," ",512],["T_IS_EQUAL","==",512],["T_WHITESPACE"," ",512],["T_LNUMBER","0",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n\t\t\t",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","db",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","query",513],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_STRING","DB_PREFIX",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","\"product_attribute` SET `product_id` = '\"",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_INT_CAST","(int)",513],["T_VARIABLE","$product_id",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","\"', `attribute_id` = '\"",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_INT_CAST","(int)",513],["T_VARIABLE","$attribute_id",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","\"', `text` = '\"",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","db",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","escape",513],"(",["T_STRING","htmlspecialchars",513],"(",["T_VARIABLE","$name",513],",",["T_WHITESPACE"," ",513],["T_STRING","ENT_COMPAT",513],")",")",["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","\"', `language_id` = '\"",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_INT_CAST","(int)",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","config",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","get",513],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",513],")",["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","\"'\"",513],")",";",["T_WHITESPACE","\n\t\t",513],"}",["T_WHITESPACE","\n\t",514],"}",["T_WHITESPACE","\n\n\t",515],["T_PRIVATE","private",517],["T_WHITESPACE"," ",517],["T_FUNCTION","function",517],["T_WHITESPACE"," ",517],["T_STRING","createCategoryLink",517],"(",["T_VARIABLE","$product_id",517],",",["T_WHITESPACE"," ",517],["T_VARIABLE","$category_id",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n\t\t",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","db",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","query",518],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_STRING","DB_PREFIX",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category` SET `product_id` = '\"",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_INT_CAST","(int)",518],["T_VARIABLE","$product_id",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","\"', `category_id` = '\"",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_INT_CAST","(int)",518],["T_VARIABLE","$category_id",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","\"'\"",518],")",";",["T_WHITESPACE","\n\t",518],"}",["T_WHITESPACE","\n\n\t",519],["T_PRIVATE","private",521],["T_WHITESPACE"," ",521],["T_FUNCTION","function",521],["T_WHITESPACE"," ",521],["T_STRING","manufacturerExists",521],"(",["T_VARIABLE","$name",521],")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n\t\t",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","openbay",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","ebay",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","log",522],"(",["T_CONSTANT_ENCAPSED_STRING","'Checking manufacturer: '",522],["T_WHITESPACE"," ",522],".",["T_WHITESPACE"," ",522],["T_VARIABLE","$name",522],")",";",["T_WHITESPACE","\n\n\t\t",522],["T_VARIABLE","$qry",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","db",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","query",524],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM  `\"",524],["T_WHITESPACE"," ",524],".",["T_WHITESPACE"," ",524],["T_STRING","DB_PREFIX",524],["T_WHITESPACE"," ",524],".",["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","\"manufacturer` WHERE LCASE(`name`) = '\"",524],["T_WHITESPACE"," ",524],".",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","db",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","escape",524],"(",["T_STRING","htmlspecialchars",524],"(",["T_VARIABLE","$name",524],",",["T_WHITESPACE"," ",524],["T_STRING","ENT_COMPAT",524],")",")",["T_WHITESPACE"," ",524],".",["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",524],")",";",["T_WHITESPACE","\n\n\t\t",524],["T_IF","if",526],["T_WHITESPACE"," ",526],"(",["T_VARIABLE","$qry",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","num_rows",526],["T_WHITESPACE"," ",526],["T_IS_NOT_EQUAL","!=",526],["T_WHITESPACE"," ",526],["T_LNUMBER","0",526],")",["T_WHITESPACE"," ",526],"{",["T_WHITESPACE","\n\t\t\t",526],["T_RETURN","return",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$qry",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","row",527],"[",["T_CONSTANT_ENCAPSED_STRING","'manufacturer_id'",527],"]",";",["T_WHITESPACE","\n\t\t",527],"}",["T_WHITESPACE"," ",528],["T_ELSE","else",528],["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n\t\t\t",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","openbay",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","ebay",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","log",529],"(",["T_CONSTANT_ENCAPSED_STRING","'New manufacturer'",529],")",";",["T_WHITESPACE","\n\t\t\t",529],["T_VARIABLE","$qry2",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","db",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","query",530],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `sort_order` FROM  `\"",530],["T_WHITESPACE"," ",530],".",["T_WHITESPACE"," ",530],["T_STRING","DB_PREFIX",530],["T_WHITESPACE"," ",530],".",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","\"manufacturer` ORDER BY `sort_order` DESC LIMIT 1\"",530],")",";",["T_WHITESPACE","\n\n\t\t\t",530],["T_IF","if",532],["T_WHITESPACE"," ",532],"(",["T_VARIABLE","$qry2",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","num_rows",532],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n\t\t\t\t",532],["T_VARIABLE","$sort",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$qry2",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","row",533],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",533],"]",["T_WHITESPACE"," ",533],"+",["T_WHITESPACE"," ",533],["T_LNUMBER","1",533],";",["T_WHITESPACE","\n\t\t\t",533],"}",["T_WHITESPACE"," ",534],["T_ELSE","else",534],["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n\t\t\t\t",534],["T_VARIABLE","$sort",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_LNUMBER","0",535],";",["T_WHITESPACE","\n\t\t\t",535],"}",["T_WHITESPACE","\n\n\t\t\t",536],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","db",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","query",538],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_STRING","DB_PREFIX",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"manufacturer` SET `sort_order` = '\"",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_INT_CAST","(int)",538],["T_VARIABLE","$sort",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"', `name` = '\"",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","db",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","escape",538],"(",["T_STRING","htmlspecialchars",538],"(",["T_VARIABLE","$name",538],",",["T_WHITESPACE"," ",538],["T_STRING","ENT_COMPAT",538],")",")",["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"'\"",538],")",";",["T_WHITESPACE","\n\n\t\t\t",538],["T_VARIABLE","$id",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","db",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","getLastId",540],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",540],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","db",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","query",542],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",542],["T_WHITESPACE"," ",542],".",["T_WHITESPACE"," ",542],["T_STRING","DB_PREFIX",542],["T_WHITESPACE"," ",542],".",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","\"manufacturer_to_store` SET `manufacturer_id` = '\"",542],["T_WHITESPACE"," ",542],".",["T_WHITESPACE"," ",542],["T_INT_CAST","(int)",542],["T_VARIABLE","$id",542],["T_WHITESPACE"," ",542],".",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","\"', `store_id` = '0'\"",542],")",";",["T_WHITESPACE","\n\n\t\t\t",542],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$id",544],";",["T_WHITESPACE","\n\t\t",544],"}",["T_WHITESPACE","\n\t",545],"}",["T_WHITESPACE","\n\n\t",546],["T_PRIVATE","private",548],["T_WHITESPACE"," ",548],["T_FUNCTION","function",548],["T_WHITESPACE"," ",548],["T_STRING","weightClassExists",548],"(",["T_VARIABLE","$name",548],")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n\t\t",548],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","openbay",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","ebay",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","log",549],"(",["T_CONSTANT_ENCAPSED_STRING","'Checking weight class: '",549],["T_WHITESPACE"," ",549],".",["T_WHITESPACE"," ",549],["T_VARIABLE","$name",549],")",";",["T_WHITESPACE","\n\n\t\t",549],["T_VARIABLE","$qry",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","db",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","query",551],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `weight_class_id` FROM `\"",551],["T_WHITESPACE"," ",551],".",["T_WHITESPACE"," ",551],["T_STRING","DB_PREFIX",551],["T_WHITESPACE"," ",551],".",["T_WHITESPACE"," ",551],["T_CONSTANT_ENCAPSED_STRING","\"weight_class_description` WHERE LCASE(`title`) = '\"",551],["T_WHITESPACE"," ",551],".",["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","db",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","escape",551],"(",["T_STRING","strtolower",551],"(",["T_VARIABLE","$name",551],")",")",["T_WHITESPACE"," ",551],".",["T_WHITESPACE"," ",551],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",551],")",";",["T_WHITESPACE","\n\n\t\t",551],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$qry",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","num_rows",553],["T_WHITESPACE"," ",553],["T_IS_NOT_EQUAL","!=",553],["T_WHITESPACE"," ",553],["T_LNUMBER","0",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n\t\t\t",553],["T_RETURN","return",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$qry",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","row",554],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_class_id'",554],"]",";",["T_WHITESPACE","\n\t\t",554],"}",["T_WHITESPACE"," ",555],["T_ELSE","else",555],["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n\t\t\t",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","openbay",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","ebay",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","log",556],"(",["T_CONSTANT_ENCAPSED_STRING","'New weight class'",556],")",";",["T_WHITESPACE","\n\n\t\t\t",556],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","db",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","query",558],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",558],["T_WHITESPACE"," ",558],".",["T_WHITESPACE"," ",558],["T_STRING","DB_PREFIX",558],["T_WHITESPACE"," ",558],".",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","\"weight_class` SET `value` = '1'\"",558],")",";",["T_WHITESPACE","\n\n\t\t\t",558],["T_VARIABLE","$id",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","db",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getLastId",560],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",560],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","db",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","query",562],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_STRING","DB_PREFIX",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","\"weight_class_description` SET `language_id` = '\"",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_INT_CAST","(int)",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","config",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","get",562],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",562],")",["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","\"', `weight_class_id` = '\"",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_INT_CAST","(int)",562],["T_VARIABLE","$id",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","\"', `title` = '\"",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","db",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","escape",562],"(",["T_STRING","htmlspecialchars",562],"(",["T_VARIABLE","$name",562],",",["T_WHITESPACE"," ",562],["T_STRING","ENT_COMPAT",562],")",")",["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","\"', `unit` = '\"",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","db",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","escape",562],"(",["T_STRING","htmlspecialchars",562],"(",["T_VARIABLE","$name",562],",",["T_WHITESPACE"," ",562],["T_STRING","ENT_COMPAT",562],")",")",["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","\"'\"",562],")",";",["T_WHITESPACE","\n\n\t\t\t",562],["T_RETURN","return",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$id",564],";",["T_WHITESPACE","\n\t\t",564],"}",["T_WHITESPACE","\n\t",565],"}",["T_WHITESPACE","\n\n\t",566],["T_PRIVATE","private",568],["T_WHITESPACE"," ",568],["T_FUNCTION","function",568],["T_WHITESPACE"," ",568],["T_STRING","lengthClassExists",568],"(",["T_VARIABLE","$name",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n\t\t",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","openbay",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","ebay",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","log",569],"(",["T_CONSTANT_ENCAPSED_STRING","'Checking length class: '",569],["T_WHITESPACE"," ",569],".",["T_WHITESPACE"," ",569],["T_VARIABLE","$name",569],")",";",["T_WHITESPACE","\n\n\t\t",569],["T_VARIABLE","$qry",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","db",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","query",571],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT `length_class_id` FROM `\"",571],["T_WHITESPACE"," ",571],".",["T_WHITESPACE"," ",571],["T_STRING","DB_PREFIX",571],["T_WHITESPACE"," ",571],".",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","\"length_class_description` WHERE LCASE(`title`) = '\"",571],["T_WHITESPACE"," ",571],".",["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","db",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","escape",571],"(",["T_STRING","strtolower",571],"(",["T_VARIABLE","$name",571],")",")",["T_WHITESPACE"," ",571],".",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",571],")",";",["T_WHITESPACE","\n\n\t\t",571],["T_IF","if",573],["T_WHITESPACE"," ",573],"(",["T_VARIABLE","$qry",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","num_rows",573],["T_WHITESPACE"," ",573],["T_IS_NOT_EQUAL","!=",573],["T_WHITESPACE"," ",573],["T_LNUMBER","0",573],")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n\t\t\t",573],["T_RETURN","return",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$qry",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","row",574],"[",["T_CONSTANT_ENCAPSED_STRING","'length_class_id'",574],"]",";",["T_WHITESPACE","\n\t\t",574],"}",["T_WHITESPACE"," ",575],["T_ELSE","else",575],["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n\t\t\t",575],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","openbay",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","ebay",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","log",576],"(",["T_CONSTANT_ENCAPSED_STRING","'New length class'",576],")",";",["T_WHITESPACE","\n\n\t\t\t",576],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","db",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","query",578],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",578],["T_WHITESPACE"," ",578],".",["T_WHITESPACE"," ",578],["T_STRING","DB_PREFIX",578],["T_WHITESPACE"," ",578],".",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","\"length_class` SET `value` = '1'\"",578],")",";",["T_WHITESPACE","\n\n\t\t\t",578],["T_VARIABLE","$id",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","db",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","getLastId",580],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",580],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","db",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","query",582],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_STRING","DB_PREFIX",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"length_class_description` SET `language_id` = '\"",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_INT_CAST","(int)",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","config",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","get",582],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",582],")",["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"', `length_class_id` = '\"",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_INT_CAST","(int)",582],["T_VARIABLE","$id",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"', `title` = '\"",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","db",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","escape",582],"(",["T_STRING","htmlspecialchars",582],"(",["T_VARIABLE","$name",582],",",["T_WHITESPACE"," ",582],["T_STRING","ENT_COMPAT",582],")",")",["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"', `unit` = '\"",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","db",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","escape",582],"(",["T_STRING","htmlspecialchars",582],"(",["T_VARIABLE","$name",582],",",["T_WHITESPACE"," ",582],["T_STRING","ENT_COMPAT",582],")",")",["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"'\"",582],")",";",["T_WHITESPACE","\n\n\t\t\t",582],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$id",584],";",["T_WHITESPACE","\n\t\t",584],"}",["T_WHITESPACE","\n\t",585],"}",["T_WHITESPACE","\n\n\t",586],["T_PRIVATE","private",588],["T_WHITESPACE"," ",588],["T_FUNCTION","function",588],["T_WHITESPACE"," ",588],["T_STRING","addImage",588],"(",["T_VARIABLE","$orig",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$new",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$name",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$product_id",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$img_count",588],")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n\t\t",588],["T_VARIABLE","$orig",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_STRING","str_replace",589],"(",["T_CONSTANT_ENCAPSED_STRING","' '",589],",",["T_WHITESPACE"," ",589],["T_CONSTANT_ENCAPSED_STRING","'%20'",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$orig",589],")",";",["T_WHITESPACE","\n\n\t\t",589],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","db",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","query",591],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_STRING","DB_PREFIX",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","\"ebay_image_import` SET `image_original` = '\"",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","db",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","escape",591],"(",["T_VARIABLE","$orig",591],")",["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","\"', `image_new` = '\"",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","db",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","escape",591],"(",["T_VARIABLE","$new",591],")",["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","\"', `name` = '\"",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","db",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","escape",591],"(",["T_VARIABLE","$name",591],")",["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","\"', `product_id` = '\"",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_INT_CAST","(int)",591],["T_VARIABLE","$product_id",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","\"', `imgcount` = '\"",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_INT_CAST","(int)",591],["T_VARIABLE","$img_count",591],["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","\"'\"",591],")",";",["T_WHITESPACE","\n\t",591],"}",["T_WHITESPACE","\n\n\t",592],["T_PUBLIC","public",594],["T_WHITESPACE"," ",594],["T_FUNCTION","function",594],["T_WHITESPACE"," ",594],["T_STRING","resize",594],"(",["T_VARIABLE","$filename",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$width",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$height",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$type",594],["T_WHITESPACE"," ",594],"=",["T_WHITESPACE"," ",594],["T_CONSTANT_ENCAPSED_STRING","\"\"",594],")",["T_WHITESPACE"," ",594],"{",["T_WHITESPACE","\n\t\t",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(","!",["T_STRING","file_exists",595],"(",["T_STRING","DIR_IMAGE",595],["T_WHITESPACE"," ",595],".",["T_WHITESPACE"," ",595],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",595],["T_WHITESPACE"," ",595],".",["T_WHITESPACE"," ",595],["T_STRING","md5",595],"(",["T_VARIABLE","$filename",595],")",["T_WHITESPACE"," ",595],".",["T_WHITESPACE"," ",595],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",595],")",")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n\t\t\t",595],["T_STRING","copy",596],"(",["T_VARIABLE","$filename",596],",",["T_WHITESPACE"," ",596],["T_STRING","DIR_IMAGE",596],["T_WHITESPACE"," ",596],".",["T_WHITESPACE"," ",596],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",596],["T_WHITESPACE"," ",596],".",["T_WHITESPACE"," ",596],["T_STRING","md5",596],"(",["T_VARIABLE","$filename",596],")",["T_WHITESPACE"," ",596],".",["T_WHITESPACE"," ",596],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",596],")",";",["T_WHITESPACE","\n\t\t",596],"}",["T_WHITESPACE","\n\n\t\t",597],["T_VARIABLE","$image_old",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_STRING","DIR_IMAGE",599],["T_WHITESPACE"," ",599],".",["T_WHITESPACE"," ",599],["T_CONSTANT_ENCAPSED_STRING","'catalog\/'",599],["T_WHITESPACE"," ",599],".",["T_WHITESPACE"," ",599],["T_STRING","md5",599],"(",["T_VARIABLE","$filename",599],")",["T_WHITESPACE"," ",599],".",["T_WHITESPACE"," ",599],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",599],";",["T_WHITESPACE","\n\t\t",599],["T_VARIABLE","$image_new",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'cache\/ebaydisplay\/'",600],["T_WHITESPACE"," ",600],".",["T_WHITESPACE"," ",600],["T_STRING","md5",600],"(",["T_VARIABLE","$filename",600],")",["T_WHITESPACE"," ",600],".",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'-'",600],["T_WHITESPACE"," ",600],".",["T_WHITESPACE"," ",600],["T_VARIABLE","$width",600],["T_WHITESPACE"," ",600],".",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'x'",600],["T_WHITESPACE"," ",600],".",["T_WHITESPACE"," ",600],["T_VARIABLE","$height",600],["T_WHITESPACE"," ",600],".",["T_WHITESPACE"," ",600],["T_VARIABLE","$type",600],["T_WHITESPACE","  ",600],".",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",600],";",["T_WHITESPACE","\n\n\t\t",600],["T_IF","if",602],["T_WHITESPACE"," ",602],"(","!",["T_STRING","file_exists",602],"(",["T_STRING","DIR_IMAGE",602],["T_WHITESPACE"," ",602],".",["T_WHITESPACE"," ",602],["T_VARIABLE","$image_new",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n\t\t\t",602],["T_VARIABLE","$path",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","''",603],";",["T_WHITESPACE","\n\n\t\t\t",603],["T_VARIABLE","$directories",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_STRING","explode",605],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",605],",",["T_WHITESPACE"," ",605],["T_STRING","dirname",605],"(",["T_STRING","str_replace",605],"(",["T_CONSTANT_ENCAPSED_STRING","' . .\/'",605],",",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","''",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$image_new",605],")",")",")",";",["T_WHITESPACE","\n\n\t\t\t",605],["T_FOREACH","foreach",607],["T_WHITESPACE"," ",607],"(",["T_VARIABLE","$directories",607],["T_WHITESPACE"," ",607],["T_AS","as",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$directory",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n\t\t\t\t",607],["T_VARIABLE","$path",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$path",608],["T_WHITESPACE"," ",608],".",["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'\/'",608],["T_WHITESPACE"," ",608],".",["T_WHITESPACE"," ",608],["T_VARIABLE","$directory",608],";",["T_WHITESPACE","\n\n\t\t\t\t",608],["T_IF","if",610],["T_WHITESPACE"," ",610],"(","!",["T_STRING","file_exists",610],"(",["T_STRING","DIR_IMAGE",610],["T_WHITESPACE"," ",610],".",["T_WHITESPACE"," ",610],["T_VARIABLE","$path",610],")",")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n\t\t\t\t\t",610],"@",["T_STRING","mkdir",611],"(",["T_STRING","DIR_IMAGE",611],["T_WHITESPACE"," ",611],".",["T_WHITESPACE"," ",611],["T_VARIABLE","$path",611],",",["T_WHITESPACE"," ",611],["T_LNUMBER","0777",611],")",";",["T_WHITESPACE","\n\t\t\t\t",611],"}",["T_WHITESPACE","\n\t\t\t",612],"}",["T_WHITESPACE","\n\n\t\t\t",613],["T_LIST","list",615],"(",["T_VARIABLE","$width_orig",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$height_orig",615],")",["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_STRING","getimagesize",615],"(",["T_VARIABLE","$filename",615],")",";",["T_WHITESPACE","\n\n\t\t\t",615],["T_IF","if",617],["T_WHITESPACE"," ",617],"(",["T_VARIABLE","$width_orig",617],["T_WHITESPACE"," ",617],["T_IS_NOT_EQUAL","!=",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$width",617],["T_WHITESPACE"," ",617],["T_BOOLEAN_OR","||",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$height_orig",617],["T_WHITESPACE"," ",617],["T_IS_NOT_EQUAL","!=",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$height",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n\t\t\t\t",617],["T_VARIABLE","$image",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_NEW","new",618],["T_WHITESPACE"," ",618],["T_STRING","Image",618],"(",["T_VARIABLE","$image_old",618],")",";",["T_WHITESPACE","\n\t\t\t\t",618],["T_VARIABLE","$image",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","resize",619],"(",["T_VARIABLE","$width",619],",",["T_WHITESPACE"," ",619],["T_VARIABLE","$height",619],",",["T_WHITESPACE"," ",619],["T_VARIABLE","$type",619],")",";",["T_WHITESPACE","\n\t\t\t\t",619],["T_VARIABLE","$image",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","save",620],"(",["T_STRING","DIR_IMAGE",620],["T_WHITESPACE"," ",620],".",["T_WHITESPACE"," ",620],["T_VARIABLE","$image_new",620],")",";",["T_WHITESPACE","\n\t\t\t",620],"}",["T_WHITESPACE"," ",621],["T_ELSE","else",621],["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n\t\t\t\t",621],["T_STRING","copy",622],"(",["T_VARIABLE","$filename",622],",",["T_WHITESPACE"," ",622],["T_STRING","DIR_IMAGE",622],["T_WHITESPACE"," ",622],".",["T_WHITESPACE"," ",622],["T_VARIABLE","$image_new",622],")",";",["T_WHITESPACE","\n\t\t\t",622],"}",["T_WHITESPACE","\n\t\t",623],"}",["T_WHITESPACE","\n\n\t\t",624],["T_IF","if",626],["T_WHITESPACE"," ",626],"(",["T_ISSET","isset",626],"(",["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","request",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","server",626],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",626],"]",")",["T_WHITESPACE"," ",626],["T_BOOLEAN_AND","&&",626],["T_WHITESPACE"," ",626],"(","(",["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","request",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","server",626],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",626],"]",["T_WHITESPACE"," ",626],["T_IS_EQUAL","==",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'on'",626],")",["T_WHITESPACE"," ",626],["T_BOOLEAN_OR","||",626],["T_WHITESPACE"," ",626],"(",["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","request",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","server",626],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",626],"]",["T_WHITESPACE"," ",626],["T_IS_EQUAL","==",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'1'",626],")",")",")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n\t\t\t",626],["T_RETURN","return",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","config",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","get",627],"(",["T_CONSTANT_ENCAPSED_STRING","'config_ssl'",627],")",["T_WHITESPACE"," ",627],".",["T_WHITESPACE"," ",627],["T_CONSTANT_ENCAPSED_STRING","'image\/'",627],["T_WHITESPACE"," ",627],".",["T_WHITESPACE"," ",627],["T_VARIABLE","$image_new",627],";",["T_WHITESPACE","\n\t\t",627],"}",["T_WHITESPACE"," ",628],["T_ELSE","else",628],["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n\t\t\t",628],["T_RETURN","return",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","config",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","get",629],"(",["T_CONSTANT_ENCAPSED_STRING","'config_url'",629],")",["T_WHITESPACE"," ",629],".",["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","'image\/'",629],["T_WHITESPACE"," ",629],".",["T_WHITESPACE"," ",629],["T_VARIABLE","$image_new",629],";",["T_WHITESPACE","\n\t\t",629],"}",["T_WHITESPACE","\n\t",630],"}",["T_WHITESPACE","\n\n\t",631],["T_PRIVATE","private",633],["T_WHITESPACE"," ",633],["T_FUNCTION","function",633],["T_WHITESPACE"," ",633],["T_STRING","repairCategories",633],"(",["T_VARIABLE","$parent_id",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_LNUMBER","0",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n\t\t",633],["T_VARIABLE","$query",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","db",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","query",634],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",634],["T_WHITESPACE"," ",634],".",["T_WHITESPACE"," ",634],["T_STRING","DB_PREFIX",634],["T_WHITESPACE"," ",634],".",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","\"category WHERE parent_id = '\"",634],["T_WHITESPACE"," ",634],".",["T_WHITESPACE"," ",634],["T_INT_CAST","(int)",634],["T_VARIABLE","$parent_id",634],["T_WHITESPACE"," ",634],".",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","\"'\"",634],")",";",["T_WHITESPACE","\n\n\t\t",634],["T_FOREACH","foreach",636],["T_WHITESPACE"," ",636],"(",["T_VARIABLE","$query",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","rows",636],["T_WHITESPACE"," ",636],["T_AS","as",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$category",636],")",["T_WHITESPACE"," ",636],"{",["T_WHITESPACE","\n\t\t\t",636],["T_COMMENT","\/\/ Delete the path below the current one\n",637],["T_WHITESPACE","\t\t\t",638],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","db",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","query",638],"(",["T_CONSTANT_ENCAPSED_STRING","\"DELETE FROM `\"",638],["T_WHITESPACE"," ",638],".",["T_WHITESPACE"," ",638],["T_STRING","DB_PREFIX",638],["T_WHITESPACE"," ",638],".",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",638],["T_WHITESPACE"," ",638],".",["T_WHITESPACE"," ",638],["T_INT_CAST","(int)",638],["T_VARIABLE","$category",638],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",638],"]",["T_WHITESPACE"," ",638],".",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","\"'\"",638],")",";",["T_WHITESPACE","\n\n\t\t\t",638],["T_COMMENT","\/\/ Fix for records with no paths\n",640],["T_WHITESPACE","\t\t\t",641],["T_VARIABLE","$level",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_LNUMBER","0",641],";",["T_WHITESPACE","\n\n\t\t\t",641],["T_VARIABLE","$query",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","db",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","query",643],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",643],["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_STRING","DB_PREFIX",643],["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","\"category_path` WHERE category_id = '\"",643],["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_INT_CAST","(int)",643],["T_VARIABLE","$parent_id",643],["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY level ASC\"",643],")",";",["T_WHITESPACE","\n\n\t\t\t",643],["T_FOREACH","foreach",645],["T_WHITESPACE"," ",645],"(",["T_VARIABLE","$query",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","rows",645],["T_WHITESPACE"," ",645],["T_AS","as",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$result",645],")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n\t\t\t\t",645],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","db",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","query",646],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_STRING","DB_PREFIX",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET category_id = '\"",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_INT_CAST","(int)",646],["T_VARIABLE","$category",646],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",646],"]",["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_INT_CAST","(int)",646],["T_VARIABLE","$result",646],"[",["T_CONSTANT_ENCAPSED_STRING","'path_id'",646],"]",["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","\"', level = '\"",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_INT_CAST","(int)",646],["T_VARIABLE","$level",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","\"'\"",646],")",";",["T_WHITESPACE","\n\n\t\t\t\t",646],["T_VARIABLE","$level",648],["T_INC","++",648],";",["T_WHITESPACE","\n\t\t\t",648],"}",["T_WHITESPACE","\n\n\t\t\t",649],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","db",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","query",651],"(",["T_CONSTANT_ENCAPSED_STRING","\"REPLACE INTO `\"",651],["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_STRING","DB_PREFIX",651],["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_CONSTANT_ENCAPSED_STRING","\"category_path` SET category_id = '\"",651],["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_INT_CAST","(int)",651],["T_VARIABLE","$category",651],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",651],"]",["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_CONSTANT_ENCAPSED_STRING","\"', `path_id` = '\"",651],["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_INT_CAST","(int)",651],["T_VARIABLE","$category",651],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",651],"]",["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_CONSTANT_ENCAPSED_STRING","\"', level = '\"",651],["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_INT_CAST","(int)",651],["T_VARIABLE","$level",651],["T_WHITESPACE"," ",651],".",["T_WHITESPACE"," ",651],["T_CONSTANT_ENCAPSED_STRING","\"'\"",651],")",";",["T_WHITESPACE","\n\n\t\t\t",651],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","repairCategories",653],"(",["T_VARIABLE","$category",653],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",653],"]",")",";",["T_WHITESPACE","\n\t\t",653],"}",["T_WHITESPACE","\n\t",654],"}",["T_WHITESPACE","\n",655],"}",["T_WHITESPACE","\n",656]]