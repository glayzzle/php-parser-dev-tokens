[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelAccountReturn",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addReturn",3],"(",["T_VARIABLE","$data",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"return` SET order_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', customer_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","customer",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","getId",4],"(",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', firstname = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', lastname = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', email = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', telephone = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', product = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', model = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', quantity = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', opened = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'opened'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', return_reason_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'return_reason_id'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', return_status_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","config",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","get",4],"(",["T_CONSTANT_ENCAPSED_STRING","'config_return_status_id'",4],")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', comment = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', date_ordered = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'date_ordered'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW(), date_modified = NOW()\"",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$return_id",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","getLastId",6],"(",")",";",["T_WHITESPACE","\n\n\t\t",6],["T_RETURN","return",8],["T_WHITESPACE"," ",8],["T_VARIABLE","$return_id",8],";",["T_WHITESPACE","\n\t",8],"}",["T_WHITESPACE","\n\n\t",9],["T_PUBLIC","public",11],["T_WHITESPACE"," ",11],["T_FUNCTION","function",11],["T_WHITESPACE"," ",11],["T_STRING","getReturn",11],"(",["T_VARIABLE","$return_id",11],")",["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\t\t",11],["T_VARIABLE","$query",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","db",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","query",12],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT r.return_id, r.order_id, r.firstname, r.lastname, r.email, r.telephone, r.product, r.model, r.quantity, r.opened, (SELECT rr.name FROM \"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_STRING","DB_PREFIX",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"return_reason rr WHERE rr.return_reason_id = r.return_reason_id AND rr.language_id = '\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_INT_CAST","(int)",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","config",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",12],")",["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"') AS reason, (SELECT ra.name FROM \"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_STRING","DB_PREFIX",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"return_action ra WHERE ra.return_action_id = r.return_action_id AND ra.language_id = '\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_INT_CAST","(int)",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","config",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",12],")",["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"') AS action, (SELECT rs.name FROM \"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_STRING","DB_PREFIX",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"return_status rs WHERE rs.return_status_id = r.return_status_id AND rs.language_id = '\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_INT_CAST","(int)",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","config",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",12],")",["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"') AS status, r.comment, r.date_ordered, r.date_added, r.date_modified FROM `\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_STRING","DB_PREFIX",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"return` r WHERE r.return_id = '\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_INT_CAST","(int)",12],["T_VARIABLE","$return_id",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"' AND r.customer_id = '\"",12],["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","customer",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","getId",12],"(",")",["T_WHITESPACE"," ",12],".",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","\"'\"",12],")",";",["T_WHITESPACE","\n\n\t\t",12],["T_RETURN","return",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$query",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","row",14],";",["T_WHITESPACE","\n\t",14],"}",["T_WHITESPACE","\n\n\t",15],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","getReturns",17],"(",["T_VARIABLE","$start",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_LNUMBER","0",17],",",["T_WHITESPACE"," ",17],["T_VARIABLE","$limit",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_LNUMBER","20",17],")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t\t",17],["T_IF","if",18],["T_WHITESPACE"," ",18],"(",["T_VARIABLE","$start",18],["T_WHITESPACE"," ",18],"<",["T_WHITESPACE"," ",18],["T_LNUMBER","0",18],")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\t\t\t",18],["T_VARIABLE","$start",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_LNUMBER","0",19],";",["T_WHITESPACE","\n\t\t",19],"}",["T_WHITESPACE","\n\n\t\t",20],["T_IF","if",22],["T_WHITESPACE"," ",22],"(",["T_VARIABLE","$limit",22],["T_WHITESPACE"," ",22],"<",["T_WHITESPACE"," ",22],["T_LNUMBER","1",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\t\t\t",22],["T_VARIABLE","$limit",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_LNUMBER","20",23],";",["T_WHITESPACE","\n\t\t",23],"}",["T_WHITESPACE","\n\n\t\t",24],["T_VARIABLE","$query",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","db",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","query",26],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT r.return_id, r.order_id, r.firstname, r.lastname, rs.name as status, r.date_added FROM `\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_STRING","DB_PREFIX",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"return` r LEFT JOIN \"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_STRING","DB_PREFIX",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"return_status rs ON (r.return_status_id = rs.return_status_id) WHERE r.customer_id = '\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","customer",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getId",26],"(",")",["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"' AND rs.language_id = '\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_INT_CAST","(int)",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","config",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",26],")",["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY r.return_id DESC LIMIT \"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_INT_CAST","(int)",26],["T_VARIABLE","$start",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\",\"",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_INT_CAST","(int)",26],["T_VARIABLE","$limit",26],")",";",["T_WHITESPACE","\n\n\t\t",26],["T_RETURN","return",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$query",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","rows",28],";",["T_WHITESPACE","\n\t",28],"}",["T_WHITESPACE","\n\n\t",29],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","getTotalReturns",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\t\t",31],["T_VARIABLE","$query",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","db",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","query",32],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM `\"",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_STRING","DB_PREFIX",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"return`WHERE customer_id = '\"",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","customer",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getId",32],"(",")",["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"'\"",32],")",";",["T_WHITESPACE","\n\n\t\t",32],["T_RETURN","return",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$query",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","row",34],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",34],"]",";",["T_WHITESPACE","\n\t",34],"}",["T_WHITESPACE","\n\n\t",35],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","getReturnHistories",37],"(",["T_VARIABLE","$return_id",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n\t\t",37],["T_VARIABLE","$query",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","db",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","query",38],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT rh.date_added, rs.name AS status, rh.comment FROM \"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_STRING","DB_PREFIX",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"return_history rh LEFT JOIN \"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_STRING","DB_PREFIX",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"return_status rs ON rh.return_status_id = rs.return_status_id WHERE rh.return_id = '\"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_INT_CAST","(int)",38],["T_VARIABLE","$return_id",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"' AND rs.language_id = '\"",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_INT_CAST","(int)",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","config",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",38],")",["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY rh.date_added ASC\"",38],")",";",["T_WHITESPACE","\n\n\t\t",38],["T_RETURN","return",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$query",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","rows",40],";",["T_WHITESPACE","\n\t",40],"}",["T_WHITESPACE","\n",41],"}",["T_WHITESPACE","\n",42]]