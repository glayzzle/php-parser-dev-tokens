[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelAccountDownload",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","getDownload",3],"(",["T_VARIABLE","$download_id",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$implode",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_ARRAY","array",4],"(",")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$order_statuses",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","config",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'config_complete_status'",6],")",";",["T_WHITESPACE","\n\n\t\t",6],["T_FOREACH","foreach",8],["T_WHITESPACE"," ",8],"(",["T_VARIABLE","$order_statuses",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_VARIABLE","$order_status_id",8],")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$implode",9],"[","]",["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","\"o.order_status_id = '\"",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_INT_CAST","(int)",9],["T_VARIABLE","$order_status_id",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","\"'\"",9],";",["T_WHITESPACE","\n\t\t",9],"}",["T_WHITESPACE","\n\n\t\t",10],["T_IF","if",12],["T_WHITESPACE"," ",12],"(",["T_VARIABLE","$implode",12],")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\t\t\t",12],["T_VARIABLE","$query",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","db",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","query",13],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT d.filename, d.mask FROM `\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","DB_PREFIX",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"order` o LEFT JOIN \"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","DB_PREFIX",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"order_product op ON (o.order_id = op.order_id) LEFT JOIN \"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","DB_PREFIX",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"product_to_download p2d ON (op.product_id = p2d.product_id) LEFT JOIN \"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","DB_PREFIX",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"download d ON (p2d.download_id = d.download_id) WHERE o.customer_id = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_INT_CAST","(int)",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","customer",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","getId",13],"(",")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"' AND (\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_STRING","implode",13],"(",["T_CONSTANT_ENCAPSED_STRING","\" OR \"",13],",",["T_WHITESPACE"," ",13],["T_VARIABLE","$implode",13],")",["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\") AND d.download_id = '\"",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_INT_CAST","(int)",13],["T_VARIABLE","$download_id",13],["T_WHITESPACE"," ",13],".",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","\"'\"",13],")",";",["T_WHITESPACE","\n\n\t\t\t",13],["T_RETURN","return",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$query",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","row",15],";",["T_WHITESPACE","\n\t\t",15],"}",["T_WHITESPACE"," ",16],["T_ELSE","else",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t\t",16],["T_RETURN","return",17],";",["T_WHITESPACE","\n\t\t",17],"}",["T_WHITESPACE","\n\t",18],"}",["T_WHITESPACE","\n\n\t",19],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","getDownloads",21],"(",["T_VARIABLE","$start",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","0",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$limit",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","20",21],")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\t\t",21],["T_IF","if",22],["T_WHITESPACE"," ",22],"(",["T_VARIABLE","$start",22],["T_WHITESPACE"," ",22],"<",["T_WHITESPACE"," ",22],["T_LNUMBER","0",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\t\t\t",22],["T_VARIABLE","$start",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_LNUMBER","0",23],";",["T_WHITESPACE","\n\t\t",23],"}",["T_WHITESPACE","\n\n\t\t",24],["T_IF","if",26],["T_WHITESPACE"," ",26],"(",["T_VARIABLE","$limit",26],["T_WHITESPACE"," ",26],"<",["T_WHITESPACE"," ",26],["T_LNUMBER","1",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t\t",26],["T_VARIABLE","$limit",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_LNUMBER","20",27],";",["T_WHITESPACE","\n\t\t",27],"}",["T_WHITESPACE","\n\n\t\t",28],["T_VARIABLE","$implode",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",";",["T_WHITESPACE","\n\n\t\t",30],["T_VARIABLE","$order_statuses",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","config",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","get",32],"(",["T_CONSTANT_ENCAPSED_STRING","'config_complete_status'",32],")",";",["T_WHITESPACE","\n\n\t\t",32],["T_FOREACH","foreach",34],["T_WHITESPACE"," ",34],"(",["T_VARIABLE","$order_statuses",34],["T_WHITESPACE"," ",34],["T_AS","as",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$order_status_id",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n\t\t\t",34],["T_VARIABLE","$implode",35],"[","]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","\"o.order_status_id = '\"",35],["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_INT_CAST","(int)",35],["T_VARIABLE","$order_status_id",35],["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","\"'\"",35],";",["T_WHITESPACE","\n\t\t",35],"}",["T_WHITESPACE","\n\n\t\t",36],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$implode",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t",38],["T_VARIABLE","$query",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","db",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","query",39],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT d.download_id, o.order_id, o.date_added, dd.name, d.filename FROM `\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","DB_PREFIX",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"order` o LEFT JOIN \"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","DB_PREFIX",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"order_product op ON (o.order_id = op.order_id) LEFT JOIN \"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","DB_PREFIX",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"product_to_download p2d ON (op.product_id = p2d.product_id) LEFT JOIN \"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","DB_PREFIX",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"download d ON (p2d.download_id = d.download_id) LEFT JOIN \"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","DB_PREFIX",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"download_description dd ON (d.download_id = dd.download_id) WHERE o.customer_id = '\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_INT_CAST","(int)",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","customer",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getId",39],"(",")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"' AND dd.language_id = '\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_INT_CAST","(int)",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","config",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",39],")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"' AND (\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","implode",39],"(",["T_CONSTANT_ENCAPSED_STRING","\" OR \"",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$implode",39],")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\") ORDER BY o.date_added DESC LIMIT \"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_INT_CAST","(int)",39],["T_VARIABLE","$start",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\",\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_INT_CAST","(int)",39],["T_VARIABLE","$limit",39],")",";",["T_WHITESPACE","\n\n\t\t\t",39],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$query",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","rows",41],";",["T_WHITESPACE","\n\t\t",41],"}",["T_WHITESPACE"," ",42],["T_ELSE","else",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",")",";",["T_WHITESPACE","\n\t\t",43],"}",["T_WHITESPACE","\n\t",44],"}",["T_WHITESPACE","\n\n\t",45],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","getTotalDownloads",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n\t\t",47],["T_VARIABLE","$implode",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",")",";",["T_WHITESPACE","\n\n\t\t",48],["T_VARIABLE","$order_statuses",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","config",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'config_complete_status'",50],")",";",["T_WHITESPACE","\n\n\t\t",50],["T_FOREACH","foreach",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$order_statuses",52],["T_WHITESPACE"," ",52],["T_AS","as",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$order_status_id",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t\t",52],["T_VARIABLE","$implode",53],"[","]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","\"o.order_status_id = '\"",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_INT_CAST","(int)",53],["T_VARIABLE","$order_status_id",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","\"'\"",53],";",["T_WHITESPACE","\n\t\t",53],"}",["T_WHITESPACE","\n\n\t\t",54],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$implode",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n\t\t\t",56],["T_VARIABLE","$query",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","db",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","query",57],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM `\"",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_STRING","DB_PREFIX",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","\"order` o LEFT JOIN \"",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_STRING","DB_PREFIX",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","\"order_product op ON (o.order_id = op.order_id) LEFT JOIN \"",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_STRING","DB_PREFIX",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","\"product_to_download p2d ON (op.product_id = p2d.product_id) WHERE o.customer_id = '\"",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_INT_CAST","(int)",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","customer",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getId",57],"(",")",["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","\"' AND (\"",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_STRING","implode",57],"(",["T_CONSTANT_ENCAPSED_STRING","\" OR \"",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$implode",57],")",["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","\")\"",57],")",";",["T_WHITESPACE","\n\n\t\t\t",57],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$query",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","row",59],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",59],"]",";",["T_WHITESPACE","\n\t\t",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n\t\t\t",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],";",["T_WHITESPACE","\n\t\t",61],"}",["T_WHITESPACE","\n\t",62],"}",["T_WHITESPACE","\n",63],"}"]