[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelCatalogReview",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","addReview",3],"(",["T_VARIABLE","$product_id",3],",",["T_WHITESPACE"," ",3],["T_VARIABLE","$data",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO \"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"review SET author = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', customer_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","customer",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","getId",4],"(",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', product_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$product_id",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', text = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","escape",4],"(",["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",4],"]",")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', rating = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$data",4],"[",["T_CONSTANT_ENCAPSED_STRING","'rating'",4],"]",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"', date_added = NOW()\"",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$review_id",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","db",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","getLastId",6],"(",")",";",["T_WHITESPACE","\n\n\t\t",6],["T_IF","if",8],["T_WHITESPACE"," ",8],"(",["T_STRING","in_array",8],"(",["T_CONSTANT_ENCAPSED_STRING","'review'",8],",",["T_WHITESPACE"," ",8],["T_ARRAY_CAST","(array)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_alert'",8],")",")",")",["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\t\t\t",8],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","load",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","language",9],"(",["T_CONSTANT_ENCAPSED_STRING","'mail\/review'",9],")",";",["T_WHITESPACE","\n\t\t\t",9],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","load",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","model",10],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",10],")",";",["T_WHITESPACE","\n\t\t\t\n\t\t\t",10],["T_VARIABLE","$product_info",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","model_catalog_product",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","getProduct",12],"(",["T_VARIABLE","$product_id",12],")",";",["T_WHITESPACE","\n\n\t\t\t",12],["T_VARIABLE","$subject",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_STRING","sprintf",14],"(",["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","language",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","get",14],"(",["T_CONSTANT_ENCAPSED_STRING","'text_subject'",14],")",",",["T_WHITESPACE"," ",14],["T_STRING","html_entity_decode",14],"(",["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","config",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","get",14],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",14],")",",",["T_WHITESPACE"," ",14],["T_STRING","ENT_QUOTES",14],",",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",14],")",")",";",["T_WHITESPACE","\n\n\t\t\t",14],["T_VARIABLE","$message",16],["T_WHITESPACE","  ",16],"=",["T_WHITESPACE"," ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","language",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","get",16],"(",["T_CONSTANT_ENCAPSED_STRING","'text_waiting'",16],")",["T_WHITESPACE"," ",16],".",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",16],";",["T_WHITESPACE","\n\t\t\t",16],["T_VARIABLE","$message",17],["T_WHITESPACE"," ",17],["T_CONCAT_EQUAL",".=",17],["T_WHITESPACE"," ",17],["T_STRING","sprintf",17],"(",["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","language",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","get",17],"(",["T_CONSTANT_ENCAPSED_STRING","'text_product'",17],")",",",["T_WHITESPACE"," ",17],["T_STRING","html_entity_decode",17],"(",["T_VARIABLE","$product_info",17],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",17],"]",",",["T_WHITESPACE"," ",17],["T_STRING","ENT_QUOTES",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",17],")",")",["T_WHITESPACE"," ",17],".",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",17],";",["T_WHITESPACE","\n\t\t\t",17],["T_VARIABLE","$message",18],["T_WHITESPACE"," ",18],["T_CONCAT_EQUAL",".=",18],["T_WHITESPACE"," ",18],["T_STRING","sprintf",18],"(",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","language",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","get",18],"(",["T_CONSTANT_ENCAPSED_STRING","'text_reviewer'",18],")",",",["T_WHITESPACE"," ",18],["T_STRING","html_entity_decode",18],"(",["T_VARIABLE","$data",18],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",18],"]",",",["T_WHITESPACE"," ",18],["T_STRING","ENT_QUOTES",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",18],")",")",["T_WHITESPACE"," ",18],".",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",18],";",["T_WHITESPACE","\n\t\t\t",18],["T_VARIABLE","$message",19],["T_WHITESPACE"," ",19],["T_CONCAT_EQUAL",".=",19],["T_WHITESPACE"," ",19],["T_STRING","sprintf",19],"(",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","language",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","get",19],"(",["T_CONSTANT_ENCAPSED_STRING","'text_rating'",19],")",",",["T_WHITESPACE"," ",19],["T_VARIABLE","$data",19],"[",["T_CONSTANT_ENCAPSED_STRING","'rating'",19],"]",")",["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",19],";",["T_WHITESPACE","\n\t\t\t",19],["T_VARIABLE","$message",20],["T_WHITESPACE"," ",20],["T_CONCAT_EQUAL",".=",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","language",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","get",20],"(",["T_CONSTANT_ENCAPSED_STRING","'text_review'",20],")",["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",20],";",["T_WHITESPACE","\n\t\t\t",20],["T_VARIABLE","$message",21],["T_WHITESPACE"," ",21],["T_CONCAT_EQUAL",".=",21],["T_WHITESPACE"," ",21],["T_STRING","html_entity_decode",21],"(",["T_VARIABLE","$data",21],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",21],"]",",",["T_WHITESPACE"," ",21],["T_STRING","ENT_QUOTES",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",21],")",["T_WHITESPACE"," ",21],".",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",21],";",["T_WHITESPACE","\n\n\t\t\t",21],["T_VARIABLE","$mail",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_NEW","new",23],["T_WHITESPACE"," ",23],["T_STRING","Mail",23],"(",")",";",["T_WHITESPACE","\n\t\t\t",23],["T_VARIABLE","$mail",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","protocol",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","config",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_protocol'",24],")",";",["T_WHITESPACE","\n\t\t\t",24],["T_VARIABLE","$mail",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","parameter",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","config",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_parameter'",25],")",";",["T_WHITESPACE","\n\t\t\t",25],["T_VARIABLE","$mail",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","smtp_hostname",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","config",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_hostname'",26],")",";",["T_WHITESPACE","\n\t\t\t",26],["T_VARIABLE","$mail",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","smtp_username",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","config",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_username'",27],")",";",["T_WHITESPACE","\n\t\t\t",27],["T_VARIABLE","$mail",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","smtp_password",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","html_entity_decode",28],"(",["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","config",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","get",28],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_password'",28],")",",",["T_WHITESPACE"," ",28],["T_STRING","ENT_QUOTES",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",28],")",";",["T_WHITESPACE","\n\t\t\t",28],["T_VARIABLE","$mail",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","smtp_port",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","config",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","get",29],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_port'",29],")",";",["T_WHITESPACE","\n\t\t\t",29],["T_VARIABLE","$mail",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","smtp_timeout",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","config",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_CONSTANT_ENCAPSED_STRING","'config_mail_smtp_timeout'",30],")",";",["T_WHITESPACE","\n\n\t\t\t",30],["T_VARIABLE","$mail",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","setTo",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","config",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","get",32],"(",["T_CONSTANT_ENCAPSED_STRING","'config_email'",32],")",")",";",["T_WHITESPACE","\n\t\t\t",32],["T_VARIABLE","$mail",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","setFrom",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","config",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","get",33],"(",["T_CONSTANT_ENCAPSED_STRING","'config_email'",33],")",")",";",["T_WHITESPACE","\n\t\t\t",33],["T_VARIABLE","$mail",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","setSender",34],"(",["T_STRING","html_entity_decode",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","config",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","get",34],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",34],")",",",["T_WHITESPACE"," ",34],["T_STRING","ENT_QUOTES",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",34],")",")",";",["T_WHITESPACE","\n\t\t\t",34],["T_VARIABLE","$mail",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","setSubject",35],"(",["T_VARIABLE","$subject",35],")",";",["T_WHITESPACE","\n\t\t\t",35],["T_VARIABLE","$mail",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","setText",36],"(",["T_VARIABLE","$message",36],")",";",["T_WHITESPACE","\n\t\t\t",36],["T_VARIABLE","$mail",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","send",37],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",37],["T_COMMENT","\/\/ Send to additional alert emails\n",39],["T_WHITESPACE","\t\t\t",40],["T_VARIABLE","$emails",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","explode",40],"(",["T_CONSTANT_ENCAPSED_STRING","','",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","config",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'config_alert_email'",40],")",")",";",["T_WHITESPACE","\n\n\t\t\t",40],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$emails",42],["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$email",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t\t",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$email",43],["T_WHITESPACE"," ",43],["T_BOOLEAN_AND","&&",43],["T_WHITESPACE"," ",43],["T_STRING","filter_var",43],"(",["T_VARIABLE","$email",43],",",["T_WHITESPACE"," ",43],["T_STRING","FILTER_VALIDATE_EMAIL",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t\t\t",43],["T_VARIABLE","$mail",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setTo",44],"(",["T_VARIABLE","$email",44],")",";",["T_WHITESPACE","\n\t\t\t\t\t",44],["T_VARIABLE","$mail",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","send",45],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",45],"}",["T_WHITESPACE","\n\t\t\t",46],"}",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\t",48],"}",["T_WHITESPACE","\n\n\t",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getReviewsByProductId",51],"(",["T_VARIABLE","$product_id",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$start",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","0",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$limit",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","20",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n\t\t",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$start",52],["T_WHITESPACE"," ",52],"<",["T_WHITESPACE"," ",52],["T_LNUMBER","0",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t\t",52],["T_VARIABLE","$start",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_LNUMBER","0",53],";",["T_WHITESPACE","\n\t\t",53],"}",["T_WHITESPACE","\n\n\t\t",54],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$limit",56],["T_WHITESPACE"," ",56],"<",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n\t\t\t",56],["T_VARIABLE","$limit",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_LNUMBER","20",57],";",["T_WHITESPACE","\n\t\t",57],"}",["T_WHITESPACE","\n\n\t\t",58],["T_VARIABLE","$query",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","db",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","query",60],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT r.review_id, r.author, r.rating, r.text, p.product_id, pd.name, p.price, p.image, r.date_added FROM \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_STRING","DB_PREFIX",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"review r LEFT JOIN \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_STRING","DB_PREFIX",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (r.product_id = p.product_id) LEFT JOIN \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_STRING","DB_PREFIX",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id) WHERE p.product_id = '\"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_VARIABLE","$product_id",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"' AND p.date_available <= NOW() AND p.status = '1' AND r.status = '1' AND pd.language_id = '\"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","config",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",60],")",["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY r.date_added DESC LIMIT \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_VARIABLE","$start",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\",\"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_VARIABLE","$limit",60],")",";",["T_WHITESPACE","\n\n\t\t",60],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$query",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","rows",62],";",["T_WHITESPACE","\n\t",62],"}",["T_WHITESPACE","\n\n\t",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","getTotalReviewsByProductId",65],"(",["T_VARIABLE","$product_id",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n\t\t",65],["T_VARIABLE","$query",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","db",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","query",66],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) AS total FROM \"",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","DB_PREFIX",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"review r LEFT JOIN \"",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","DB_PREFIX",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (r.product_id = p.product_id) LEFT JOIN \"",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","DB_PREFIX",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id) WHERE p.product_id = '\"",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_INT_CAST","(int)",66],["T_VARIABLE","$product_id",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"' AND p.date_available <= NOW() AND p.status = '1' AND r.status = '1' AND pd.language_id = '\"",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_INT_CAST","(int)",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","config",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","get",66],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",66],")",["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"'\"",66],")",";",["T_WHITESPACE","\n\n\t\t",66],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$query",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","row",68],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",68],"]",";",["T_WHITESPACE","\n\t",68],"}",["T_WHITESPACE","\n",69],"}"]