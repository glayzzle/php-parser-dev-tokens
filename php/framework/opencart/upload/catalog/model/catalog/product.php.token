[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ModelCatalogProduct",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Model",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","updateViewed",3],"(",["T_VARIABLE","$product_id",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","db",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","query",4],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE \"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_STRING","DB_PREFIX",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"product SET viewed = (viewed + 1) WHERE product_id = '\"",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_INT_CAST","(int)",4],["T_VARIABLE","$product_id",4],["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","\"'\"",4],")",";",["T_WHITESPACE","\n\t",4],"}",["T_WHITESPACE","\n\n\t",5],["T_PUBLIC","public",7],["T_WHITESPACE"," ",7],["T_FUNCTION","function",7],["T_WHITESPACE"," ",7],["T_STRING","getProduct",7],"(",["T_VARIABLE","$product_id",7],")",["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t",7],["T_VARIABLE","$query",8],["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","db",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","query",8],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT *, pd.name AS name, p.image, m.name AS manufacturer, (SELECT price FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"product_discount pd2 WHERE pd2.product_id = p.product_id AND pd2.customer_group_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"' AND pd2.quantity = '1' AND ((pd2.date_start = '0000-00-00' OR pd2.date_start < NOW()) AND (pd2.date_end = '0000-00-00' OR pd2.date_end > NOW())) ORDER BY pd2.priority ASC, pd2.price ASC LIMIT 1) AS discount, (SELECT price FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"product_special ps WHERE ps.product_id = p.product_id AND ps.customer_group_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"' AND ((ps.date_start = '0000-00-00' OR ps.date_start < NOW()) AND (ps.date_end = '0000-00-00' OR ps.date_end > NOW())) ORDER BY ps.priority ASC, ps.price ASC LIMIT 1) AS special, (SELECT points FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"product_reward pr WHERE pr.product_id = p.product_id AND pr.customer_group_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"') AS reward, (SELECT ss.name FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"stock_status ss WHERE ss.stock_status_id = p.stock_status_id AND ss.language_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"') AS stock_status, (SELECT wcd.unit FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"weight_class_description wcd WHERE p.weight_class_id = wcd.weight_class_id AND wcd.language_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"') AS weight_class, (SELECT lcd.unit FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"length_class_description lcd WHERE p.length_class_id = lcd.length_class_id AND lcd.language_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"') AS length_class, (SELECT AVG(rating) AS total FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"review r1 WHERE r1.product_id = p.product_id AND r1.status = '1' GROUP BY r1.product_id) AS rating, (SELECT COUNT(*) AS total FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"review r2 WHERE r2.product_id = p.product_id AND r2.status = '1' GROUP BY r2.product_id) AS reviews, p.sort_order FROM \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"product p LEFT JOIN \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id) LEFT JOIN \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) LEFT JOIN \"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_STRING","DB_PREFIX",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"manufacturer m ON (p.manufacturer_id = m.manufacturer_id) WHERE p.product_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$product_id",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"' AND pd.language_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"' AND p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",8],["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_INT_CAST","(int)",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",8],")",["T_WHITESPACE"," ",8],".",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","\"'\"",8],")",";",["T_WHITESPACE","\n\n\t\t",8],["T_IF","if",10],["T_WHITESPACE"," ",10],"(",["T_VARIABLE","$query",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","num_rows",10],")",["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\t\t\t",10],["T_RETURN","return",11],["T_WHITESPACE"," ",11],["T_ARRAY","array",11],"(",["T_WHITESPACE","\n\t\t\t\t",11],["T_CONSTANT_ENCAPSED_STRING","'product_id'",12],["T_WHITESPACE","       ",12],["T_DOUBLE_ARROW","=>",12],["T_WHITESPACE"," ",12],["T_VARIABLE","$query",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","row",12],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",12],"]",",",["T_WHITESPACE","\n\t\t\t\t",12],["T_CONSTANT_ENCAPSED_STRING","'name'",13],["T_WHITESPACE","             ",13],["T_DOUBLE_ARROW","=>",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$query",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","row",13],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",13],"]",",",["T_WHITESPACE","\n\t\t\t\t",13],["T_CONSTANT_ENCAPSED_STRING","'description'",14],["T_WHITESPACE","      ",14],["T_DOUBLE_ARROW","=>",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$query",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","row",14],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",14],"]",",",["T_WHITESPACE","\n\t\t\t\t",14],["T_CONSTANT_ENCAPSED_STRING","'meta_title'",15],["T_WHITESPACE","       ",15],["T_DOUBLE_ARROW","=>",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$query",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","row",15],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_title'",15],"]",",",["T_WHITESPACE","\n\t\t\t\t",15],["T_CONSTANT_ENCAPSED_STRING","'meta_description'",16],["T_WHITESPACE"," ",16],["T_DOUBLE_ARROW","=>",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$query",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","row",16],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_description'",16],"]",",",["T_WHITESPACE","\n\t\t\t\t",16],["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",17],["T_WHITESPACE","     ",17],["T_DOUBLE_ARROW","=>",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$query",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","row",17],"[",["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",17],"]",",",["T_WHITESPACE","\n\t\t\t\t",17],["T_CONSTANT_ENCAPSED_STRING","'tag'",18],["T_WHITESPACE","              ",18],["T_DOUBLE_ARROW","=>",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$query",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","row",18],"[",["T_CONSTANT_ENCAPSED_STRING","'tag'",18],"]",",",["T_WHITESPACE","\n\t\t\t\t",18],["T_CONSTANT_ENCAPSED_STRING","'model'",19],["T_WHITESPACE","            ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$query",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","row",19],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",19],"]",",",["T_WHITESPACE","\n\t\t\t\t",19],["T_CONSTANT_ENCAPSED_STRING","'sku'",20],["T_WHITESPACE","              ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$query",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","row",20],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",20],"]",",",["T_WHITESPACE","\n\t\t\t\t",20],["T_CONSTANT_ENCAPSED_STRING","'upc'",21],["T_WHITESPACE","              ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$query",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","row",21],"[",["T_CONSTANT_ENCAPSED_STRING","'upc'",21],"]",",",["T_WHITESPACE","\n\t\t\t\t",21],["T_CONSTANT_ENCAPSED_STRING","'ean'",22],["T_WHITESPACE","              ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$query",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","row",22],"[",["T_CONSTANT_ENCAPSED_STRING","'ean'",22],"]",",",["T_WHITESPACE","\n\t\t\t\t",22],["T_CONSTANT_ENCAPSED_STRING","'jan'",23],["T_WHITESPACE","              ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$query",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","row",23],"[",["T_CONSTANT_ENCAPSED_STRING","'jan'",23],"]",",",["T_WHITESPACE","\n\t\t\t\t",23],["T_CONSTANT_ENCAPSED_STRING","'isbn'",24],["T_WHITESPACE","             ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$query",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","row",24],"[",["T_CONSTANT_ENCAPSED_STRING","'isbn'",24],"]",",",["T_WHITESPACE","\n\t\t\t\t",24],["T_CONSTANT_ENCAPSED_STRING","'mpn'",25],["T_WHITESPACE","              ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$query",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","row",25],"[",["T_CONSTANT_ENCAPSED_STRING","'mpn'",25],"]",",",["T_WHITESPACE","\n\t\t\t\t",25],["T_CONSTANT_ENCAPSED_STRING","'location'",26],["T_WHITESPACE","         ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$query",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","row",26],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",26],"]",",",["T_WHITESPACE","\n\t\t\t\t",26],["T_CONSTANT_ENCAPSED_STRING","'quantity'",27],["T_WHITESPACE","         ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$query",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","row",27],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",27],"]",",",["T_WHITESPACE","\n\t\t\t\t",27],["T_CONSTANT_ENCAPSED_STRING","'stock_status'",28],["T_WHITESPACE","     ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$query",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","row",28],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_status'",28],"]",",",["T_WHITESPACE","\n\t\t\t\t",28],["T_CONSTANT_ENCAPSED_STRING","'image'",29],["T_WHITESPACE","            ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$query",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","row",29],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",29],"]",",",["T_WHITESPACE","\n\t\t\t\t",29],["T_CONSTANT_ENCAPSED_STRING","'manufacturer_id'",30],["T_WHITESPACE","  ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$query",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","row",30],"[",["T_CONSTANT_ENCAPSED_STRING","'manufacturer_id'",30],"]",",",["T_WHITESPACE","\n\t\t\t\t",30],["T_CONSTANT_ENCAPSED_STRING","'manufacturer'",31],["T_WHITESPACE","     ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$query",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","row",31],"[",["T_CONSTANT_ENCAPSED_STRING","'manufacturer'",31],"]",",",["T_WHITESPACE","\n\t\t\t\t",31],["T_CONSTANT_ENCAPSED_STRING","'price'",32],["T_WHITESPACE","            ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$query",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","row",32],"[",["T_CONSTANT_ENCAPSED_STRING","'discount'",32],"]",["T_WHITESPACE"," ",32],"?",["T_WHITESPACE"," ",32],["T_VARIABLE","$query",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","row",32],"[",["T_CONSTANT_ENCAPSED_STRING","'discount'",32],"]",["T_WHITESPACE"," ",32],":",["T_WHITESPACE"," ",32],["T_VARIABLE","$query",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","row",32],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",32],"]",")",",",["T_WHITESPACE","\n\t\t\t\t",32],["T_CONSTANT_ENCAPSED_STRING","'special'",33],["T_WHITESPACE","          ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$query",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","row",33],"[",["T_CONSTANT_ENCAPSED_STRING","'special'",33],"]",",",["T_WHITESPACE","\n\t\t\t\t",33],["T_CONSTANT_ENCAPSED_STRING","'reward'",34],["T_WHITESPACE","           ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$query",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","row",34],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",34],"]",",",["T_WHITESPACE","\n\t\t\t\t",34],["T_CONSTANT_ENCAPSED_STRING","'points'",35],["T_WHITESPACE","           ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$query",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","row",35],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",35],"]",",",["T_WHITESPACE","\n\t\t\t\t",35],["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",36],["T_WHITESPACE","     ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$query",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","row",36],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",36],"]",",",["T_WHITESPACE","\n\t\t\t\t",36],["T_CONSTANT_ENCAPSED_STRING","'date_available'",37],["T_WHITESPACE","   ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$query",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","row",37],"[",["T_CONSTANT_ENCAPSED_STRING","'date_available'",37],"]",",",["T_WHITESPACE","\n\t\t\t\t",37],["T_CONSTANT_ENCAPSED_STRING","'weight'",38],["T_WHITESPACE","           ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$query",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","row",38],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",38],"]",",",["T_WHITESPACE","\n\t\t\t\t",38],["T_CONSTANT_ENCAPSED_STRING","'weight_class_id'",39],["T_WHITESPACE","  ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$query",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","row",39],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_class_id'",39],"]",",",["T_WHITESPACE","\n\t\t\t\t",39],["T_CONSTANT_ENCAPSED_STRING","'length'",40],["T_WHITESPACE","           ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$query",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","row",40],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",40],"]",",",["T_WHITESPACE","\n\t\t\t\t",40],["T_CONSTANT_ENCAPSED_STRING","'width'",41],["T_WHITESPACE","            ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$query",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","row",41],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",41],"]",",",["T_WHITESPACE","\n\t\t\t\t",41],["T_CONSTANT_ENCAPSED_STRING","'height'",42],["T_WHITESPACE","           ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$query",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","row",42],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",42],"]",",",["T_WHITESPACE","\n\t\t\t\t",42],["T_CONSTANT_ENCAPSED_STRING","'length_class_id'",43],["T_WHITESPACE","  ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$query",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","row",43],"[",["T_CONSTANT_ENCAPSED_STRING","'length_class_id'",43],"]",",",["T_WHITESPACE","\n\t\t\t\t",43],["T_CONSTANT_ENCAPSED_STRING","'subtract'",44],["T_WHITESPACE","         ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$query",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","row",44],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",44],"]",",",["T_WHITESPACE","\n\t\t\t\t",44],["T_CONSTANT_ENCAPSED_STRING","'rating'",45],["T_WHITESPACE","           ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","round",45],"(",["T_VARIABLE","$query",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","row",45],"[",["T_CONSTANT_ENCAPSED_STRING","'rating'",45],"]",")",",",["T_WHITESPACE","\n\t\t\t\t",45],["T_CONSTANT_ENCAPSED_STRING","'reviews'",46],["T_WHITESPACE","          ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$query",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","row",46],"[",["T_CONSTANT_ENCAPSED_STRING","'reviews'",46],"]",["T_WHITESPACE"," ",46],"?",["T_WHITESPACE"," ",46],["T_VARIABLE","$query",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","row",46],"[",["T_CONSTANT_ENCAPSED_STRING","'reviews'",46],"]",["T_WHITESPACE"," ",46],":",["T_WHITESPACE"," ",46],["T_LNUMBER","0",46],",",["T_WHITESPACE","\n\t\t\t\t",46],["T_CONSTANT_ENCAPSED_STRING","'minimum'",47],["T_WHITESPACE","          ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$query",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","row",47],"[",["T_CONSTANT_ENCAPSED_STRING","'minimum'",47],"]",",",["T_WHITESPACE","\n\t\t\t\t",47],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",48],["T_WHITESPACE","       ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$query",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","row",48],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",48],"]",",",["T_WHITESPACE","\n\t\t\t\t",48],["T_CONSTANT_ENCAPSED_STRING","'status'",49],["T_WHITESPACE","           ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$query",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","row",49],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",49],"]",",",["T_WHITESPACE","\n\t\t\t\t",49],["T_CONSTANT_ENCAPSED_STRING","'date_added'",50],["T_WHITESPACE","       ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$query",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","row",50],"[",["T_CONSTANT_ENCAPSED_STRING","'date_added'",50],"]",",",["T_WHITESPACE","\n\t\t\t\t",50],["T_CONSTANT_ENCAPSED_STRING","'date_modified'",51],["T_WHITESPACE","    ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$query",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","row",51],"[",["T_CONSTANT_ENCAPSED_STRING","'date_modified'",51],"]",",",["T_WHITESPACE","\n\t\t\t\t",51],["T_CONSTANT_ENCAPSED_STRING","'viewed'",52],["T_WHITESPACE","           ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$query",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","row",52],"[",["T_CONSTANT_ENCAPSED_STRING","'viewed'",52],"]",["T_WHITESPACE","\n\t\t\t",52],")",";",["T_WHITESPACE","\n\t\t",53],"}",["T_WHITESPACE"," ",54],["T_ELSE","else",54],["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_STRING","false",55],";",["T_WHITESPACE","\n\t\t",55],"}",["T_WHITESPACE","\n\t",56],"}",["T_WHITESPACE","\n\n\t",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getProducts",59],"(",["T_VARIABLE","$data",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t",59],["T_VARIABLE","$sql",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"SELECT p.product_id, (SELECT AVG(rating) AS total FROM \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_STRING","DB_PREFIX",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"review r1 WHERE r1.product_id = p.product_id AND r1.status = '1' GROUP BY r1.product_id) AS rating, (SELECT price FROM \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_STRING","DB_PREFIX",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"product_discount pd2 WHERE pd2.product_id = p.product_id AND pd2.customer_group_id = '\"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","config",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",60],")",["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"' AND pd2.quantity = '1' AND ((pd2.date_start = '0000-00-00' OR pd2.date_start < NOW()) AND (pd2.date_end = '0000-00-00' OR pd2.date_end > NOW())) ORDER BY pd2.priority ASC, pd2.price ASC LIMIT 1) AS discount, (SELECT price FROM \"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_STRING","DB_PREFIX",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"product_special ps WHERE ps.product_id = p.product_id AND ps.customer_group_id = '\"",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","config",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",60],")",["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","\"' AND ((ps.date_start = '0000-00-00' OR ps.date_start < NOW()) AND (ps.date_end = '0000-00-00' OR ps.date_end > NOW())) ORDER BY ps.priority ASC, ps.price ASC LIMIT 1) AS special\"",60],";",["T_WHITESPACE","\n\n\t\t",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(","!",["T_EMPTY","empty",62],"(",["T_VARIABLE","$data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",62],"]",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\t\t\t",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_EMPTY","empty",63],"(",["T_VARIABLE","$data",63],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sub_category'",63],"]",")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n\t\t\t\t",63],["T_VARIABLE","$sql",64],["T_WHITESPACE"," ",64],["T_CONCAT_EQUAL",".=",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\" FROM \"",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_STRING","DB_PREFIX",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"category_path cp LEFT JOIN \"",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_STRING","DB_PREFIX",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category p2c ON (cp.category_id = p2c.category_id)\"",64],";",["T_WHITESPACE","\n\t\t\t",64],"}",["T_WHITESPACE"," ",65],["T_ELSE","else",65],["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n\t\t\t\t",65],["T_VARIABLE","$sql",66],["T_WHITESPACE"," ",66],["T_CONCAT_EQUAL",".=",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\" FROM \"",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","DB_PREFIX",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category p2c\"",66],";",["T_WHITESPACE","\n\t\t\t",66],"}",["T_WHITESPACE","\n\n\t\t\t",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_EMPTY","empty",69],"(",["T_VARIABLE","$data",69],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_filter'",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n\t\t\t\t",69],["T_VARIABLE","$sql",70],["T_WHITESPACE"," ",70],["T_CONCAT_EQUAL",".=",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_STRING","DB_PREFIX",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","\"product_filter pf ON (p2c.product_id = pf.product_id) LEFT JOIN \"",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_STRING","DB_PREFIX",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (pf.product_id = p.product_id)\"",70],";",["T_WHITESPACE","\n\t\t\t",70],"}",["T_WHITESPACE"," ",71],["T_ELSE","else",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n\t\t\t\t",71],["T_VARIABLE","$sql",72],["T_WHITESPACE"," ",72],["T_CONCAT_EQUAL",".=",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_STRING","DB_PREFIX",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (p2c.product_id = p.product_id)\"",72],";",["T_WHITESPACE","\n\t\t\t",72],"}",["T_WHITESPACE","\n\t\t",73],"}",["T_WHITESPACE"," ",74],["T_ELSE","else",74],["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t\t",74],["T_VARIABLE","$sql",75],["T_WHITESPACE"," ",75],["T_CONCAT_EQUAL",".=",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\" FROM \"",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_STRING","DB_PREFIX",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"product p\"",75],";",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE","\n\n\t\t",76],["T_VARIABLE","$sql",78],["T_WHITESPACE"," ",78],["T_CONCAT_EQUAL",".=",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_STRING","DB_PREFIX",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id) LEFT JOIN \"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_STRING","DB_PREFIX",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE pd.language_id = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_INT_CAST","(int)",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","config",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",78],")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"' AND p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_INT_CAST","(int)",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","config",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",78],")",["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"'\"",78],";",["T_WHITESPACE","\n\n\t\t",78],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_EMPTY","empty",80],"(",["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",80],"]",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t\t",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_EMPTY","empty",81],"(",["T_VARIABLE","$data",81],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sub_category'",81],"]",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n\t\t\t\t",81],["T_VARIABLE","$sql",82],["T_WHITESPACE"," ",82],["T_CONCAT_EQUAL",".=",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","\" AND cp.path_id = '\"",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_INT_CAST","(int)",82],["T_VARIABLE","$data",82],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",82],"]",["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","\"'\"",82],";",["T_WHITESPACE","\n\t\t\t",82],"}",["T_WHITESPACE"," ",83],["T_ELSE","else",83],["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n\t\t\t\t",83],["T_VARIABLE","$sql",84],["T_WHITESPACE"," ",84],["T_CONCAT_EQUAL",".=",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","\" AND p2c.category_id = '\"",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_INT_CAST","(int)",84],["T_VARIABLE","$data",84],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",84],"]",["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","\"'\"",84],";",["T_WHITESPACE","\n\t\t\t",84],"}",["T_WHITESPACE","\n\n\t\t\t",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_EMPTY","empty",87],"(",["T_VARIABLE","$data",87],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_filter'",87],"]",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n\t\t\t\t",87],["T_VARIABLE","$implode",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",88],["T_VARIABLE","$filters",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","explode",90],"(",["T_CONSTANT_ENCAPSED_STRING","','",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_filter'",90],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",90],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$filters",92],["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$filter_id",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\t\t\t\t\t",92],["T_VARIABLE","$implode",93],"[","]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_INT_CAST","(int)",93],["T_VARIABLE","$filter_id",93],";",["T_WHITESPACE","\n\t\t\t\t",93],"}",["T_WHITESPACE","\n\n\t\t\t\t",94],["T_VARIABLE","$sql",96],["T_WHITESPACE"," ",96],["T_CONCAT_EQUAL",".=",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\" AND pf.filter_id IN (\"",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_STRING","implode",96],"(",["T_CONSTANT_ENCAPSED_STRING","','",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$implode",96],")",["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\")\"",96],";",["T_WHITESPACE","\n\t\t\t",96],"}",["T_WHITESPACE","\n\t\t",97],"}",["T_WHITESPACE","\n\n\t\t",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_EMPTY","empty",100],"(",["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",100],"]",")",["T_WHITESPACE"," ",100],["T_BOOLEAN_OR","||",100],["T_WHITESPACE"," ",100],"!",["T_EMPTY","empty",100],"(",["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",100],"]",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t\t",100],["T_VARIABLE","$sql",101],["T_WHITESPACE"," ",101],["T_CONCAT_EQUAL",".=",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\" AND (\"",101],";",["T_WHITESPACE","\n\n\t\t\t",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_EMPTY","empty",103],"(",["T_VARIABLE","$data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",103],"]",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t\t\t",103],["T_VARIABLE","$implode",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",104],["T_VARIABLE","$words",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","explode",106],"(",["T_CONSTANT_ENCAPSED_STRING","' '",106],",",["T_WHITESPACE"," ",106],["T_STRING","trim",106],"(",["T_STRING","preg_replace",106],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","' '",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",106],"]",")",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",106],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$words",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$word",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n\t\t\t\t\t",108],["T_VARIABLE","$implode",109],"[","]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"pd.name LIKE '%\"",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","db",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","escape",109],"(",["T_VARIABLE","$word",109],")",["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",109],";",["T_WHITESPACE","\n\t\t\t\t",109],"}",["T_WHITESPACE","\n\n\t\t\t\t",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$implode",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n\t\t\t\t\t",112],["T_VARIABLE","$sql",113],["T_WHITESPACE"," ",113],["T_CONCAT_EQUAL",".=",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\" \"",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_STRING","implode",113],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$implode",113],")",["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"\"",113],";",["T_WHITESPACE","\n\t\t\t\t",113],"}",["T_WHITESPACE","\n\n\t\t\t\t",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_EMPTY","empty",116],"(",["T_VARIABLE","$data",116],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_description'",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n\t\t\t\t\t",116],["T_VARIABLE","$sql",117],["T_WHITESPACE"," ",117],["T_CONCAT_EQUAL",".=",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","\" OR pd.description LIKE '%\"",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","db",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","escape",117],"(",["T_VARIABLE","$data",117],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",117],"]",")",["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",117],";",["T_WHITESPACE","\n\t\t\t\t",117],"}",["T_WHITESPACE","\n\t\t\t",118],"}",["T_WHITESPACE","\n\n\t\t\t",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_EMPTY","empty",121],"(",["T_VARIABLE","$data",121],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",121],"]",")",["T_WHITESPACE"," ",121],["T_BOOLEAN_AND","&&",121],["T_WHITESPACE"," ",121],"!",["T_EMPTY","empty",121],"(",["T_VARIABLE","$data",121],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",121],"]",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n\t\t\t\t",121],["T_VARIABLE","$sql",122],["T_WHITESPACE"," ",122],["T_CONCAT_EQUAL",".=",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\" OR \"",122],";",["T_WHITESPACE","\n\t\t\t",122],"}",["T_WHITESPACE","\n\n\t\t\t",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!",["T_EMPTY","empty",125],"(",["T_VARIABLE","$data",125],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",125],"]",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n\t\t\t\t",125],["T_VARIABLE","$implode",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",126],["T_VARIABLE","$words",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","explode",128],"(",["T_CONSTANT_ENCAPSED_STRING","' '",128],",",["T_WHITESPACE"," ",128],["T_STRING","trim",128],"(",["T_STRING","preg_replace",128],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","' '",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$data",128],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",128],"]",")",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",128],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$words",130],["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$word",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t\t\t\t\t",130],["T_VARIABLE","$implode",131],"[","]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","\"pd.tag LIKE '%\"",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","db",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","escape",131],"(",["T_VARIABLE","$word",131],")",["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",131],";",["T_WHITESPACE","\n\t\t\t\t",131],"}",["T_WHITESPACE","\n\n\t\t\t\t",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$implode",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n\t\t\t\t\t",134],["T_VARIABLE","$sql",135],["T_WHITESPACE"," ",135],["T_CONCAT_EQUAL",".=",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\" \"",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_STRING","implode",135],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$implode",135],")",["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\"\"",135],";",["T_WHITESPACE","\n\t\t\t\t",135],"}",["T_WHITESPACE","\n\t\t\t",136],"}",["T_WHITESPACE","\n\n\t\t\t",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_EMPTY","empty",139],"(",["T_VARIABLE","$data",139],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",139],"]",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n\t\t\t\t",139],["T_VARIABLE","$sql",140],["T_WHITESPACE"," ",140],["T_CONCAT_EQUAL",".=",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.model) = '\"",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","db",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","escape",140],"(",["T_STRING","utf8_strtolower",140],"(",["T_VARIABLE","$data",140],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",140],"]",")",")",["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\"'\"",140],";",["T_WHITESPACE","\n\t\t\t\t",140],["T_VARIABLE","$sql",141],["T_WHITESPACE"," ",141],["T_CONCAT_EQUAL",".=",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.sku) = '\"",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","db",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","escape",141],"(",["T_STRING","utf8_strtolower",141],"(",["T_VARIABLE","$data",141],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",141],"]",")",")",["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","\"'\"",141],";",["T_WHITESPACE","\n\t\t\t\t",141],["T_VARIABLE","$sql",142],["T_WHITESPACE"," ",142],["T_CONCAT_EQUAL",".=",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.upc) = '\"",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","db",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","escape",142],"(",["T_STRING","utf8_strtolower",142],"(",["T_VARIABLE","$data",142],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",142],"]",")",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\"'\"",142],";",["T_WHITESPACE","\n\t\t\t\t",142],["T_VARIABLE","$sql",143],["T_WHITESPACE"," ",143],["T_CONCAT_EQUAL",".=",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.ean) = '\"",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","db",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","escape",143],"(",["T_STRING","utf8_strtolower",143],"(",["T_VARIABLE","$data",143],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",143],"]",")",")",["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","\"'\"",143],";",["T_WHITESPACE","\n\t\t\t\t",143],["T_VARIABLE","$sql",144],["T_WHITESPACE"," ",144],["T_CONCAT_EQUAL",".=",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.jan) = '\"",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","db",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","escape",144],"(",["T_STRING","utf8_strtolower",144],"(",["T_VARIABLE","$data",144],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",144],"]",")",")",["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","\"'\"",144],";",["T_WHITESPACE","\n\t\t\t\t",144],["T_VARIABLE","$sql",145],["T_WHITESPACE"," ",145],["T_CONCAT_EQUAL",".=",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.isbn) = '\"",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","db",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","escape",145],"(",["T_STRING","utf8_strtolower",145],"(",["T_VARIABLE","$data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",145],"]",")",")",["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","\"'\"",145],";",["T_WHITESPACE","\n\t\t\t\t",145],["T_VARIABLE","$sql",146],["T_WHITESPACE"," ",146],["T_CONCAT_EQUAL",".=",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.mpn) = '\"",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","db",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","escape",146],"(",["T_STRING","utf8_strtolower",146],"(",["T_VARIABLE","$data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",146],"]",")",")",["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","\"'\"",146],";",["T_WHITESPACE","\n\t\t\t",146],"}",["T_WHITESPACE","\n\n\t\t\t",147],["T_VARIABLE","$sql",149],["T_WHITESPACE"," ",149],["T_CONCAT_EQUAL",".=",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","\")\"",149],";",["T_WHITESPACE","\n\t\t",149],"}",["T_WHITESPACE","\n\n\t\t",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(","!",["T_EMPTY","empty",152],"(",["T_VARIABLE","$data",152],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer_id'",152],"]",")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t",152],["T_VARIABLE","$sql",153],["T_WHITESPACE"," ",153],["T_CONCAT_EQUAL",".=",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","\" AND p.manufacturer_id = '\"",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_INT_CAST","(int)",153],["T_VARIABLE","$data",153],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer_id'",153],"]",["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","\"'\"",153],";",["T_WHITESPACE","\n\t\t",153],"}",["T_WHITESPACE","\n\n\t\t",154],["T_VARIABLE","$sql",156],["T_WHITESPACE"," ",156],["T_CONCAT_EQUAL",".=",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","\" GROUP BY p.product_id\"",156],";",["T_WHITESPACE","\n\n\t\t",156],["T_VARIABLE","$sort_data",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_WHITESPACE","\n\t\t\t",158],["T_CONSTANT_ENCAPSED_STRING","'pd.name'",159],",",["T_WHITESPACE","\n\t\t\t",159],["T_CONSTANT_ENCAPSED_STRING","'p.model'",160],",",["T_WHITESPACE","\n\t\t\t",160],["T_CONSTANT_ENCAPSED_STRING","'p.quantity'",161],",",["T_WHITESPACE","\n\t\t\t",161],["T_CONSTANT_ENCAPSED_STRING","'p.price'",162],",",["T_WHITESPACE","\n\t\t\t",162],["T_CONSTANT_ENCAPSED_STRING","'rating'",163],",",["T_WHITESPACE","\n\t\t\t",163],["T_CONSTANT_ENCAPSED_STRING","'p.sort_order'",164],",",["T_WHITESPACE","\n\t\t\t",164],["T_CONSTANT_ENCAPSED_STRING","'p.date_added'",165],["T_WHITESPACE","\n\t\t",165],")",";",["T_WHITESPACE","\n\n\t\t",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_ISSET","isset",168],"(",["T_VARIABLE","$data",168],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",168],"]",")",["T_WHITESPACE"," ",168],["T_BOOLEAN_AND","&&",168],["T_WHITESPACE"," ",168],["T_STRING","in_array",168],"(",["T_VARIABLE","$data",168],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",168],"]",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$sort_data",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n\t\t\t",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$data",169],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",169],"]",["T_WHITESPACE"," ",169],["T_IS_EQUAL","==",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'pd.name'",169],["T_WHITESPACE"," ",169],["T_BOOLEAN_OR","||",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$data",169],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",169],"]",["T_WHITESPACE"," ",169],["T_IS_EQUAL","==",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'p.model'",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t\t",169],["T_VARIABLE","$sql",170],["T_WHITESPACE"," ",170],["T_CONCAT_EQUAL",".=",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY LCASE(\"",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_VARIABLE","$data",170],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",170],"]",["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","\")\"",170],";",["T_WHITESPACE","\n\t\t\t",170],"}",["T_WHITESPACE"," ",171],["T_ELSEIF","elseif",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$data",171],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",171],"]",["T_WHITESPACE"," ",171],["T_IS_EQUAL","==",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'p.price'",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t\t\t",171],["T_VARIABLE","$sql",172],["T_WHITESPACE"," ",172],["T_CONCAT_EQUAL",".=",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY (CASE WHEN special IS NOT NULL THEN special WHEN discount IS NOT NULL THEN discount ELSE p.price END)\"",172],";",["T_WHITESPACE","\n\t\t\t",172],"}",["T_WHITESPACE"," ",173],["T_ELSE","else",173],["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n\t\t\t\t",173],["T_VARIABLE","$sql",174],["T_WHITESPACE"," ",174],["T_CONCAT_EQUAL",".=",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$data",174],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",174],"]",";",["T_WHITESPACE","\n\t\t\t",174],"}",["T_WHITESPACE","\n\t\t",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n\t\t\t",176],["T_VARIABLE","$sql",177],["T_WHITESPACE"," ",177],["T_CONCAT_EQUAL",".=",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY p.sort_order\"",177],";",["T_WHITESPACE","\n\t\t",177],"}",["T_WHITESPACE","\n\n\t\t",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_ISSET","isset",180],"(",["T_VARIABLE","$data",180],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",180],"]",")",["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$data",180],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",180],"]",["T_WHITESPACE"," ",180],["T_IS_EQUAL","==",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'DESC'",180],")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t",180],["T_VARIABLE","$sql",181],["T_WHITESPACE"," ",181],["T_CONCAT_EQUAL",".=",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","\" DESC, LCASE(pd.name) DESC\"",181],";",["T_WHITESPACE","\n\t\t",181],"}",["T_WHITESPACE"," ",182],["T_ELSE","else",182],["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n\t\t\t",182],["T_VARIABLE","$sql",183],["T_WHITESPACE"," ",183],["T_CONCAT_EQUAL",".=",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","\" ASC, LCASE(pd.name) ASC\"",183],";",["T_WHITESPACE","\n\t\t",183],"}",["T_WHITESPACE","\n\n\t\t",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_ISSET","isset",186],"(",["T_VARIABLE","$data",186],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",186],"]",")",["T_WHITESPACE"," ",186],["T_BOOLEAN_OR","||",186],["T_WHITESPACE"," ",186],["T_ISSET","isset",186],"(",["T_VARIABLE","$data",186],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",186],"]",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n\t\t\t",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$data",187],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",187],"]",["T_WHITESPACE"," ",187],"<",["T_WHITESPACE"," ",187],["T_LNUMBER","0",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n\t\t\t\t",187],["T_VARIABLE","$data",188],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",188],"]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_LNUMBER","0",188],";",["T_WHITESPACE","\n\t\t\t",188],"}",["T_WHITESPACE","\n\n\t\t\t",189],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$data",191],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",191],"]",["T_WHITESPACE"," ",191],"<",["T_WHITESPACE"," ",191],["T_LNUMBER","1",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n\t\t\t\t",191],["T_VARIABLE","$data",192],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_LNUMBER","20",192],";",["T_WHITESPACE","\n\t\t\t",192],"}",["T_WHITESPACE","\n\n\t\t\t",193],["T_VARIABLE","$sql",195],["T_WHITESPACE"," ",195],["T_CONCAT_EQUAL",".=",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_INT_CAST","(int)",195],["T_VARIABLE","$data",195],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",195],"]",["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","\",\"",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_INT_CAST","(int)",195],["T_VARIABLE","$data",195],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",195],"]",";",["T_WHITESPACE","\n\t\t",195],"}",["T_WHITESPACE","\n\n\t\t",196],["T_VARIABLE","$product_data",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",")",";",["T_WHITESPACE","\n\n\t\t",198],["T_VARIABLE","$query",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","db",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","query",200],"(",["T_VARIABLE","$sql",200],")",";",["T_WHITESPACE","\n\n\t\t",200],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$query",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","rows",202],["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$result",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n\t\t\t",202],["T_VARIABLE","$product_data",203],"[",["T_VARIABLE","$result",203],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",203],"]","]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getProduct",203],"(",["T_VARIABLE","$result",203],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",203],"]",")",";",["T_WHITESPACE","\n\t\t",203],"}",["T_WHITESPACE","\n\n\t\t",204],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$product_data",206],";",["T_WHITESPACE","\n\t",206],"}",["T_WHITESPACE","\n\n\t",207],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getProductSpecials",209],"(",["T_VARIABLE","$data",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n\t\t",209],["T_VARIABLE","$sql",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT ps.product_id, (SELECT AVG(rating) FROM \"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_STRING","DB_PREFIX",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"review r1 WHERE r1.product_id = ps.product_id AND r1.status = '1' GROUP BY r1.product_id) AS rating FROM \"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_STRING","DB_PREFIX",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"product_special ps LEFT JOIN \"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_STRING","DB_PREFIX",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (ps.product_id = p.product_id) LEFT JOIN \"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_STRING","DB_PREFIX",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id) LEFT JOIN \"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_STRING","DB_PREFIX",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_INT_CAST","(int)",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","config",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","get",210],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",210],")",["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"' AND ps.customer_group_id = '\"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_INT_CAST","(int)",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","config",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","get",210],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",210],")",["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"' AND ((ps.date_start = '0000-00-00' OR ps.date_start < NOW()) AND (ps.date_end = '0000-00-00' OR ps.date_end > NOW())) GROUP BY ps.product_id\"",210],";",["T_WHITESPACE","\n\n\t\t",210],["T_VARIABLE","$sort_data",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",["T_WHITESPACE","\n\t\t\t",212],["T_CONSTANT_ENCAPSED_STRING","'pd.name'",213],",",["T_WHITESPACE","\n\t\t\t",213],["T_CONSTANT_ENCAPSED_STRING","'p.model'",214],",",["T_WHITESPACE","\n\t\t\t",214],["T_CONSTANT_ENCAPSED_STRING","'ps.price'",215],",",["T_WHITESPACE","\n\t\t\t",215],["T_CONSTANT_ENCAPSED_STRING","'rating'",216],",",["T_WHITESPACE","\n\t\t\t",216],["T_CONSTANT_ENCAPSED_STRING","'p.sort_order'",217],["T_WHITESPACE","\n\t\t",217],")",";",["T_WHITESPACE","\n\n\t\t",218],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_ISSET","isset",220],"(",["T_VARIABLE","$data",220],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",220],"]",")",["T_WHITESPACE"," ",220],["T_BOOLEAN_AND","&&",220],["T_WHITESPACE"," ",220],["T_STRING","in_array",220],"(",["T_VARIABLE","$data",220],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",220],"]",",",["T_WHITESPACE"," ",220],["T_VARIABLE","$sort_data",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n\t\t\t",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$data",221],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",221],"]",["T_WHITESPACE"," ",221],["T_IS_EQUAL","==",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'pd.name'",221],["T_WHITESPACE"," ",221],["T_BOOLEAN_OR","||",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$data",221],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",221],"]",["T_WHITESPACE"," ",221],["T_IS_EQUAL","==",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'p.model'",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t\t\t",221],["T_VARIABLE","$sql",222],["T_WHITESPACE"," ",222],["T_CONCAT_EQUAL",".=",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY LCASE(\"",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_VARIABLE","$data",222],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",222],"]",["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","\")\"",222],";",["T_WHITESPACE","\n\t\t\t",222],"}",["T_WHITESPACE"," ",223],["T_ELSE","else",223],["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n\t\t\t\t",223],["T_VARIABLE","$sql",224],["T_WHITESPACE"," ",224],["T_CONCAT_EQUAL",".=",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY \"",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_VARIABLE","$data",224],"[",["T_CONSTANT_ENCAPSED_STRING","'sort'",224],"]",";",["T_WHITESPACE","\n\t\t\t",224],"}",["T_WHITESPACE","\n\t\t",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n\t\t\t",226],["T_VARIABLE","$sql",227],["T_WHITESPACE"," ",227],["T_CONCAT_EQUAL",".=",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","\" ORDER BY p.sort_order\"",227],";",["T_WHITESPACE","\n\t\t",227],"}",["T_WHITESPACE","\n\n\t\t",228],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_ISSET","isset",230],"(",["T_VARIABLE","$data",230],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",230],"]",")",["T_WHITESPACE"," ",230],["T_BOOLEAN_AND","&&",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$data",230],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",230],"]",["T_WHITESPACE"," ",230],["T_IS_EQUAL","==",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'DESC'",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n\t\t\t",230],["T_VARIABLE","$sql",231],["T_WHITESPACE"," ",231],["T_CONCAT_EQUAL",".=",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","\" DESC, LCASE(pd.name) DESC\"",231],";",["T_WHITESPACE","\n\t\t",231],"}",["T_WHITESPACE"," ",232],["T_ELSE","else",232],["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n\t\t\t",232],["T_VARIABLE","$sql",233],["T_WHITESPACE"," ",233],["T_CONCAT_EQUAL",".=",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\" ASC, LCASE(pd.name) ASC\"",233],";",["T_WHITESPACE","\n\t\t",233],"}",["T_WHITESPACE","\n\n\t\t",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_ISSET","isset",236],"(",["T_VARIABLE","$data",236],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",236],"]",")",["T_WHITESPACE"," ",236],["T_BOOLEAN_OR","||",236],["T_WHITESPACE"," ",236],["T_ISSET","isset",236],"(",["T_VARIABLE","$data",236],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",236],"]",")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n\t\t\t",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$data",237],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",237],"]",["T_WHITESPACE"," ",237],"<",["T_WHITESPACE"," ",237],["T_LNUMBER","0",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n\t\t\t\t",237],["T_VARIABLE","$data",238],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",238],"]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_LNUMBER","0",238],";",["T_WHITESPACE","\n\t\t\t",238],"}",["T_WHITESPACE","\n\n\t\t\t",239],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$data",241],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",241],"]",["T_WHITESPACE"," ",241],"<",["T_WHITESPACE"," ",241],["T_LNUMBER","1",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n\t\t\t\t",241],["T_VARIABLE","$data",242],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_LNUMBER","20",242],";",["T_WHITESPACE","\n\t\t\t",242],"}",["T_WHITESPACE","\n\n\t\t\t",243],["T_VARIABLE","$sql",245],["T_WHITESPACE"," ",245],["T_CONCAT_EQUAL",".=",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","\" LIMIT \"",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_INT_CAST","(int)",245],["T_VARIABLE","$data",245],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",245],"]",["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","\",\"",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_INT_CAST","(int)",245],["T_VARIABLE","$data",245],"[",["T_CONSTANT_ENCAPSED_STRING","'limit'",245],"]",";",["T_WHITESPACE","\n\t\t",245],"}",["T_WHITESPACE","\n\n\t\t",246],["T_VARIABLE","$product_data",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",")",";",["T_WHITESPACE","\n\n\t\t",248],["T_VARIABLE","$query",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","db",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","query",250],"(",["T_VARIABLE","$sql",250],")",";",["T_WHITESPACE","\n\n\t\t",250],["T_FOREACH","foreach",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$query",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","rows",252],["T_WHITESPACE"," ",252],["T_AS","as",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$result",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n\t\t\t",252],["T_VARIABLE","$product_data",253],"[",["T_VARIABLE","$result",253],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",253],"]","]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getProduct",253],"(",["T_VARIABLE","$result",253],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",253],"]",")",";",["T_WHITESPACE","\n\t\t",253],"}",["T_WHITESPACE","\n\n\t\t",254],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$product_data",256],";",["T_WHITESPACE","\n\t",256],"}",["T_WHITESPACE","\n\n\t",257],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","getLatestProducts",259],"(",["T_VARIABLE","$limit",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\t\t",259],["T_VARIABLE","$product_data",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","cache",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","get",260],"(",["T_CONSTANT_ENCAPSED_STRING","'product.latest.'",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_INT_CAST","(int)",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","config",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","get",260],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",260],")",["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'.'",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_INT_CAST","(int)",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","config",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","get",260],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",260],")",["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'.'",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","config",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","get",260],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",260],")",["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'.'",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_INT_CAST","(int)",260],["T_VARIABLE","$limit",260],")",";",["T_WHITESPACE","\n\n\t\t",260],["T_IF","if",262],["T_WHITESPACE"," ",262],"(","!",["T_VARIABLE","$product_data",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n\t\t\t",262],["T_VARIABLE","$query",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","db",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","query",263],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT p.product_id FROM \"",263],["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_STRING","DB_PREFIX",263],["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","\"product p LEFT JOIN \"",263],["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_STRING","DB_PREFIX",263],["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",263],["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_INT_CAST","(int)",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","config",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","get",263],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",263],")",["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY p.date_added DESC LIMIT \"",263],["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_INT_CAST","(int)",263],["T_VARIABLE","$limit",263],")",";",["T_WHITESPACE","\n\n\t\t\t",263],["T_FOREACH","foreach",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$query",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","rows",265],["T_WHITESPACE"," ",265],["T_AS","as",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$result",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n\t\t\t\t",265],["T_VARIABLE","$product_data",266],"[",["T_VARIABLE","$result",266],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",266],"]","]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getProduct",266],"(",["T_VARIABLE","$result",266],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",266],"]",")",";",["T_WHITESPACE","\n\t\t\t",266],"}",["T_WHITESPACE","\n\n\t\t\t",267],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","cache",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","set",269],"(",["T_CONSTANT_ENCAPSED_STRING","'product.latest.'",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_INT_CAST","(int)",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","config",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",269],")",["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'.'",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_INT_CAST","(int)",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","config",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",269],")",["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'.'",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","config",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",269],")",["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'.'",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_INT_CAST","(int)",269],["T_VARIABLE","$limit",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$product_data",269],")",";",["T_WHITESPACE","\n\t\t",269],"}",["T_WHITESPACE","\n\n\t\t",270],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$product_data",272],";",["T_WHITESPACE","\n\t",272],"}",["T_WHITESPACE","\n\n\t",273],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","getPopularProducts",275],"(",["T_VARIABLE","$limit",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n\t\t",275],["T_VARIABLE","$product_data",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","cache",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","get",276],"(",["T_CONSTANT_ENCAPSED_STRING","'product.popular.'",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","config",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","get",276],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",276],")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'.'",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","config",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","get",276],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",276],")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'.'",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","config",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","get",276],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",276],")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'.'",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$limit",276],")",";",["T_WHITESPACE","\n\t\n\t\t",276],["T_IF","if",278],["T_WHITESPACE"," ",278],"(","!",["T_VARIABLE","$product_data",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n\t\t\t",278],["T_VARIABLE","$query",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","db",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","query",279],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT p.product_id FROM \"",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_STRING","DB_PREFIX",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","\"product p LEFT JOIN \"",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_STRING","DB_PREFIX",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_INT_CAST","(int)",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","config",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","get",279],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",279],")",["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY p.viewed DESC, p.date_added DESC LIMIT \"",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_INT_CAST","(int)",279],["T_VARIABLE","$limit",279],")",";",["T_WHITESPACE","\n\t\n\t\t\t",279],["T_FOREACH","foreach",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$query",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","rows",281],["T_WHITESPACE"," ",281],["T_AS","as",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$result",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n\t\t\t\t",281],["T_VARIABLE","$product_data",282],"[",["T_VARIABLE","$result",282],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",282],"]","]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getProduct",282],"(",["T_VARIABLE","$result",282],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",282],"]",")",";",["T_WHITESPACE","\n\t\t\t",282],"}",["T_WHITESPACE","\n\t\t\t\n\t\t\t",283],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","cache",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","set",285],"(",["T_CONSTANT_ENCAPSED_STRING","'product.popular.'",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_INT_CAST","(int)",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","config",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","get",285],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",285],")",["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'.'",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_INT_CAST","(int)",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","config",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","get",285],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",285],")",["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'.'",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","config",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","get",285],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",285],")",["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'.'",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_INT_CAST","(int)",285],["T_VARIABLE","$limit",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$product_data",285],")",";",["T_WHITESPACE","\n\t\t",285],"}",["T_WHITESPACE","\n\t\t\n\t\t",286],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$product_data",288],";",["T_WHITESPACE","\n\t",288],"}",["T_WHITESPACE","\n\n\t",289],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","getBestSellerProducts",291],"(",["T_VARIABLE","$limit",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n\t\t",291],["T_VARIABLE","$product_data",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","cache",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","get",292],"(",["T_CONSTANT_ENCAPSED_STRING","'product.bestseller.'",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_INT_CAST","(int)",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","config",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","get",292],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",292],")",["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'.'",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_INT_CAST","(int)",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","config",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","get",292],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",292],")",["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'.'",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","config",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","get",292],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",292],")",["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'.'",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_INT_CAST","(int)",292],["T_VARIABLE","$limit",292],")",";",["T_WHITESPACE","\n\n\t\t",292],["T_IF","if",294],["T_WHITESPACE"," ",294],"(","!",["T_VARIABLE","$product_data",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n\t\t\t",294],["T_VARIABLE","$product_data",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",295],["T_VARIABLE","$query",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","db",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","query",297],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT op.product_id, SUM(op.quantity) AS total FROM \"",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_STRING","DB_PREFIX",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"order_product op LEFT JOIN `\"",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_STRING","DB_PREFIX",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"order` o ON (op.order_id = o.order_id) LEFT JOIN `\"",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_STRING","DB_PREFIX",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"product` p ON (op.product_id = p.product_id) LEFT JOIN \"",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_STRING","DB_PREFIX",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE o.order_status_id > '0' AND p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_INT_CAST","(int)",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","config",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","get",297],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",297],")",["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"' GROUP BY op.product_id ORDER BY total DESC LIMIT \"",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_INT_CAST","(int)",297],["T_VARIABLE","$limit",297],")",";",["T_WHITESPACE","\n\n\t\t\t",297],["T_FOREACH","foreach",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$query",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","rows",299],["T_WHITESPACE"," ",299],["T_AS","as",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$result",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n\t\t\t\t",299],["T_VARIABLE","$product_data",300],"[",["T_VARIABLE","$result",300],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",300],"]","]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getProduct",300],"(",["T_VARIABLE","$result",300],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",300],"]",")",";",["T_WHITESPACE","\n\t\t\t",300],"}",["T_WHITESPACE","\n\n\t\t\t",301],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","cache",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","set",303],"(",["T_CONSTANT_ENCAPSED_STRING","'product.bestseller.'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_INT_CAST","(int)",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","config",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","get",303],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",303],")",["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'.'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_INT_CAST","(int)",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","config",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","get",303],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",303],")",["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'.'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","config",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","get",303],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",303],")",["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'.'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_INT_CAST","(int)",303],["T_VARIABLE","$limit",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$product_data",303],")",";",["T_WHITESPACE","\n\t\t",303],"}",["T_WHITESPACE","\n\n\t\t",304],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$product_data",306],";",["T_WHITESPACE","\n\t",306],"}",["T_WHITESPACE","\n\n\t",307],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","getProductAttributes",309],"(",["T_VARIABLE","$product_id",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n\t\t",309],["T_VARIABLE","$product_attribute_group_data",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",")",";",["T_WHITESPACE","\n\n\t\t",310],["T_VARIABLE","$product_attribute_group_query",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","db",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","query",312],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT ag.attribute_group_id, agd.name FROM \"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_STRING","DB_PREFIX",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"product_attribute pa LEFT JOIN \"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_STRING","DB_PREFIX",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"attribute a ON (pa.attribute_id = a.attribute_id) LEFT JOIN \"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_STRING","DB_PREFIX",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"attribute_group ag ON (a.attribute_group_id = ag.attribute_group_id) LEFT JOIN \"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_STRING","DB_PREFIX",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"attribute_group_description agd ON (ag.attribute_group_id = agd.attribute_group_id) WHERE pa.product_id = '\"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_INT_CAST","(int)",312],["T_VARIABLE","$product_id",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"' AND agd.language_id = '\"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_INT_CAST","(int)",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","config",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","get",312],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",312],")",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"' GROUP BY ag.attribute_group_id ORDER BY ag.sort_order, agd.name\"",312],")",";",["T_WHITESPACE","\n\n\t\t",312],["T_FOREACH","foreach",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$product_attribute_group_query",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","rows",314],["T_WHITESPACE"," ",314],["T_AS","as",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$product_attribute_group",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n\t\t\t",314],["T_VARIABLE","$product_attribute_data",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",315],["T_VARIABLE","$product_attribute_query",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","db",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","query",317],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT a.attribute_id, ad.name, pa.text FROM \"",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_STRING","DB_PREFIX",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"product_attribute pa LEFT JOIN \"",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_STRING","DB_PREFIX",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"attribute a ON (pa.attribute_id = a.attribute_id) LEFT JOIN \"",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_STRING","DB_PREFIX",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"attribute_description ad ON (a.attribute_id = ad.attribute_id) WHERE pa.product_id = '\"",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_INT_CAST","(int)",317],["T_VARIABLE","$product_id",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"' AND a.attribute_group_id = '\"",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_INT_CAST","(int)",317],["T_VARIABLE","$product_attribute_group",317],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_group_id'",317],"]",["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"' AND ad.language_id = '\"",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_INT_CAST","(int)",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","config",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","get",317],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",317],")",["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"' AND pa.language_id = '\"",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_INT_CAST","(int)",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","config",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","get",317],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",317],")",["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY a.sort_order, ad.name\"",317],")",";",["T_WHITESPACE","\n\n\t\t\t",317],["T_FOREACH","foreach",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$product_attribute_query",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","rows",319],["T_WHITESPACE"," ",319],["T_AS","as",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$product_attribute",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n\t\t\t\t",319],["T_VARIABLE","$product_attribute_data",320],"[","]",["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_WHITESPACE","\n\t\t\t\t\t",320],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$product_attribute",321],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",321],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",321],["T_CONSTANT_ENCAPSED_STRING","'name'",322],["T_WHITESPACE","         ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$product_attribute",322],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",322],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",322],["T_CONSTANT_ENCAPSED_STRING","'text'",323],["T_WHITESPACE","         ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$product_attribute",323],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",323],"]",["T_WHITESPACE","\n\t\t\t\t",323],")",";",["T_WHITESPACE","\n\t\t\t",324],"}",["T_WHITESPACE","\n\n\t\t\t",325],["T_VARIABLE","$product_attribute_group_data",327],"[","]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_ARRAY","array",327],"(",["T_WHITESPACE","\n\t\t\t\t",327],["T_CONSTANT_ENCAPSED_STRING","'attribute_group_id'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$product_attribute_group",328],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_group_id'",328],"]",",",["T_WHITESPACE","\n\t\t\t\t",328],["T_CONSTANT_ENCAPSED_STRING","'name'",329],["T_WHITESPACE","               ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$product_attribute_group",329],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",329],"]",",",["T_WHITESPACE","\n\t\t\t\t",329],["T_CONSTANT_ENCAPSED_STRING","'attribute'",330],["T_WHITESPACE","          ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$product_attribute_data",330],["T_WHITESPACE","\n\t\t\t",330],")",";",["T_WHITESPACE","\n\t\t",331],"}",["T_WHITESPACE","\n\n\t\t",332],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$product_attribute_group_data",334],";",["T_WHITESPACE","\n\t",334],"}",["T_WHITESPACE","\n\n\t",335],["T_PUBLIC","public",337],["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],["T_STRING","getProductOptions",337],"(",["T_VARIABLE","$product_id",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n\t\t",337],["T_VARIABLE","$product_option_data",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",")",";",["T_WHITESPACE","\n\n\t\t",338],["T_VARIABLE","$product_option_query",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","db",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","query",340],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_STRING","DB_PREFIX",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"product_option po LEFT JOIN `\"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_STRING","DB_PREFIX",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"option` o ON (po.option_id = o.option_id) LEFT JOIN \"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_STRING","DB_PREFIX",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"option_description od ON (o.option_id = od.option_id) WHERE po.product_id = '\"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_INT_CAST","(int)",340],["T_VARIABLE","$product_id",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"' AND od.language_id = '\"",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_INT_CAST","(int)",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","config",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","get",340],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",340],")",["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY o.sort_order\"",340],")",";",["T_WHITESPACE","\n\n\t\t",340],["T_FOREACH","foreach",342],["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$product_option_query",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","rows",342],["T_WHITESPACE"," ",342],["T_AS","as",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$product_option",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n\t\t\t",342],["T_VARIABLE","$product_option_value_data",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_ARRAY","array",343],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",343],["T_VARIABLE","$product_option_value_query",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","db",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","query",345],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_STRING","DB_PREFIX",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"product_option_value pov LEFT JOIN \"",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_STRING","DB_PREFIX",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"option_value ov ON (pov.option_value_id = ov.option_value_id) LEFT JOIN \"",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_STRING","DB_PREFIX",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"option_value_description ovd ON (ov.option_value_id = ovd.option_value_id) WHERE pov.product_id = '\"",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_INT_CAST","(int)",345],["T_VARIABLE","$product_id",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"' AND pov.product_option_id = '\"",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_INT_CAST","(int)",345],["T_VARIABLE","$product_option",345],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",345],"]",["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"' AND ovd.language_id = '\"",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_INT_CAST","(int)",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","config",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","get",345],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",345],")",["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY ov.sort_order\"",345],")",";",["T_WHITESPACE","\n\n\t\t\t",345],["T_FOREACH","foreach",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$product_option_value_query",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","rows",347],["T_WHITESPACE"," ",347],["T_AS","as",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$product_option_value",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n\t\t\t\t",347],["T_VARIABLE","$product_option_value_data",348],"[","]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_ARRAY","array",348],"(",["T_WHITESPACE","\n\t\t\t\t\t",348],["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$product_option_value",349],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",349],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",349],["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",350],["T_WHITESPACE","         ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$product_option_value",350],"[",["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",350],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",350],["T_CONSTANT_ENCAPSED_STRING","'name'",351],["T_WHITESPACE","                    ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$product_option_value",351],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",351],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",351],["T_CONSTANT_ENCAPSED_STRING","'image'",352],["T_WHITESPACE","                   ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$product_option_value",352],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",352],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",352],["T_CONSTANT_ENCAPSED_STRING","'quantity'",353],["T_WHITESPACE","                ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$product_option_value",353],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",353],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",353],["T_CONSTANT_ENCAPSED_STRING","'subtract'",354],["T_WHITESPACE","                ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$product_option_value",354],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",354],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",354],["T_CONSTANT_ENCAPSED_STRING","'price'",355],["T_WHITESPACE","                   ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$product_option_value",355],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",355],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",355],["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",356],["T_WHITESPACE","            ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$product_option_value",356],"[",["T_CONSTANT_ENCAPSED_STRING","'price_prefix'",356],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",356],["T_CONSTANT_ENCAPSED_STRING","'weight'",357],["T_WHITESPACE","                  ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$product_option_value",357],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",357],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",357],["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",358],["T_WHITESPACE","           ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$product_option_value",358],"[",["T_CONSTANT_ENCAPSED_STRING","'weight_prefix'",358],"]",["T_WHITESPACE","\n\t\t\t\t",358],")",";",["T_WHITESPACE","\n\t\t\t",359],"}",["T_WHITESPACE","\n\n\t\t\t",360],["T_VARIABLE","$product_option_data",362],"[","]",["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_ARRAY","array",362],"(",["T_WHITESPACE","\n\t\t\t\t",362],["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",363],["T_WHITESPACE","    ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$product_option",363],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",363],"]",",",["T_WHITESPACE","\n\t\t\t\t",363],["T_CONSTANT_ENCAPSED_STRING","'product_option_value'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$product_option_value_data",364],",",["T_WHITESPACE","\n\t\t\t\t",364],["T_CONSTANT_ENCAPSED_STRING","'option_id'",365],["T_WHITESPACE","            ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$product_option",365],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",365],"]",",",["T_WHITESPACE","\n\t\t\t\t",365],["T_CONSTANT_ENCAPSED_STRING","'name'",366],["T_WHITESPACE","                 ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$product_option",366],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",366],"]",",",["T_WHITESPACE","\n\t\t\t\t",366],["T_CONSTANT_ENCAPSED_STRING","'type'",367],["T_WHITESPACE","                 ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$product_option",367],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",367],"]",",",["T_WHITESPACE","\n\t\t\t\t",367],["T_CONSTANT_ENCAPSED_STRING","'value'",368],["T_WHITESPACE","                ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$product_option",368],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",368],"]",",",["T_WHITESPACE","\n\t\t\t\t",368],["T_CONSTANT_ENCAPSED_STRING","'required'",369],["T_WHITESPACE","             ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$product_option",369],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",369],"]",["T_WHITESPACE","\n\t\t\t",369],")",";",["T_WHITESPACE","\n\t\t",370],"}",["T_WHITESPACE","\n\n\t\t",371],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$product_option_data",373],";",["T_WHITESPACE","\n\t",373],"}",["T_WHITESPACE","\n\n\t",374],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","getProductDiscounts",376],"(",["T_VARIABLE","$product_id",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n\t\t",376],["T_VARIABLE","$query",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","db",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","query",377],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_STRING","DB_PREFIX",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","\"product_discount WHERE product_id = '\"",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_INT_CAST","(int)",377],["T_VARIABLE","$product_id",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","\"' AND customer_group_id = '\"",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_INT_CAST","(int)",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","config",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","get",377],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",377],")",["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","\"' AND quantity > 1 AND ((date_start = '0000-00-00' OR date_start < NOW()) AND (date_end = '0000-00-00' OR date_end > NOW())) ORDER BY quantity ASC, priority ASC, price ASC\"",377],")",";",["T_WHITESPACE","\n\n\t\t",377],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$query",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","rows",379],";",["T_WHITESPACE","\n\t",379],"}",["T_WHITESPACE","\n\n\t",380],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","getProductImages",382],"(",["T_VARIABLE","$product_id",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n\t\t",382],["T_VARIABLE","$query",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","db",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","query",383],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_STRING","DB_PREFIX",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","\"product_image WHERE product_id = '\"",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_INT_CAST","(int)",383],["T_VARIABLE","$product_id",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY sort_order ASC\"",383],")",";",["T_WHITESPACE","\n\n\t\t",383],["T_RETURN","return",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$query",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","rows",385],";",["T_WHITESPACE","\n\t",385],"}",["T_WHITESPACE","\n\n\t",386],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","getProductRelated",388],"(",["T_VARIABLE","$product_id",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n\t\t",388],["T_VARIABLE","$product_data",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",")",";",["T_WHITESPACE","\n\n\t\t",389],["T_VARIABLE","$query",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","db",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","query",391],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_STRING","DB_PREFIX",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","\"product_related pr LEFT JOIN \"",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_STRING","DB_PREFIX",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (pr.related_id = p.product_id) LEFT JOIN \"",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_STRING","DB_PREFIX",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE pr.product_id = '\"",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_INT_CAST","(int)",391],["T_VARIABLE","$product_id",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","\"' AND p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_INT_CAST","(int)",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","config",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","get",391],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",391],")",["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","\"'\"",391],")",";",["T_WHITESPACE","\n\n\t\t",391],["T_FOREACH","foreach",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$query",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","rows",393],["T_WHITESPACE"," ",393],["T_AS","as",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$result",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n\t\t\t",393],["T_VARIABLE","$product_data",394],"[",["T_VARIABLE","$result",394],"[",["T_CONSTANT_ENCAPSED_STRING","'related_id'",394],"]","]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","getProduct",394],"(",["T_VARIABLE","$result",394],"[",["T_CONSTANT_ENCAPSED_STRING","'related_id'",394],"]",")",";",["T_WHITESPACE","\n\t\t",394],"}",["T_WHITESPACE","\n\n\t\t",395],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$product_data",397],";",["T_WHITESPACE","\n\t",397],"}",["T_WHITESPACE","\n\n\t",398],["T_PUBLIC","public",400],["T_WHITESPACE"," ",400],["T_FUNCTION","function",400],["T_WHITESPACE"," ",400],["T_STRING","getProductLayoutId",400],"(",["T_VARIABLE","$product_id",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n\t\t",400],["T_VARIABLE","$query",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","db",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","query",401],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_STRING","DB_PREFIX",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","\"product_to_layout WHERE product_id = '\"",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_INT_CAST","(int)",401],["T_VARIABLE","$product_id",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","\"' AND store_id = '\"",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_INT_CAST","(int)",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","config",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","get",401],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",401],")",["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","\"'\"",401],")",";",["T_WHITESPACE","\n\n\t\t",401],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$query",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","num_rows",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n\t\t\t",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$query",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","row",404],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_id'",404],"]",";",["T_WHITESPACE","\n\t\t",404],"}",["T_WHITESPACE"," ",405],["T_ELSE","else",405],["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n\t\t\t",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_LNUMBER","0",406],";",["T_WHITESPACE","\n\t\t",406],"}",["T_WHITESPACE","\n\t",407],"}",["T_WHITESPACE","\n\n\t",408],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","getCategories",410],"(",["T_VARIABLE","$product_id",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n\t\t",410],["T_VARIABLE","$query",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","db",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","query",411],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",411],["T_WHITESPACE"," ",411],".",["T_WHITESPACE"," ",411],["T_STRING","DB_PREFIX",411],["T_WHITESPACE"," ",411],".",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category WHERE product_id = '\"",411],["T_WHITESPACE"," ",411],".",["T_WHITESPACE"," ",411],["T_INT_CAST","(int)",411],["T_VARIABLE","$product_id",411],["T_WHITESPACE"," ",411],".",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","\"'\"",411],")",";",["T_WHITESPACE","\n\n\t\t",411],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$query",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","rows",413],";",["T_WHITESPACE","\n\t",413],"}",["T_WHITESPACE","\n\n\t",414],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","getTotalProducts",416],"(",["T_VARIABLE","$data",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_ARRAY","array",416],"(",")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n\t\t",416],["T_VARIABLE","$sql",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(DISTINCT p.product_id) AS total\"",417],";",["T_WHITESPACE","\n\n\t\t",417],["T_IF","if",419],["T_WHITESPACE"," ",419],"(","!",["T_EMPTY","empty",419],"(",["T_VARIABLE","$data",419],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",419],"]",")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n\t\t\t",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(","!",["T_EMPTY","empty",420],"(",["T_VARIABLE","$data",420],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sub_category'",420],"]",")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n\t\t\t\t",420],["T_VARIABLE","$sql",421],["T_WHITESPACE"," ",421],["T_CONCAT_EQUAL",".=",421],["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","\" FROM \"",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_STRING","DB_PREFIX",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","\"category_path cp LEFT JOIN \"",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_STRING","DB_PREFIX",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category p2c ON (cp.category_id = p2c.category_id)\"",421],";",["T_WHITESPACE","\n\t\t\t",421],"}",["T_WHITESPACE"," ",422],["T_ELSE","else",422],["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n\t\t\t\t",422],["T_VARIABLE","$sql",423],["T_WHITESPACE"," ",423],["T_CONCAT_EQUAL",".=",423],["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","\" FROM \"",423],["T_WHITESPACE"," ",423],".",["T_WHITESPACE"," ",423],["T_STRING","DB_PREFIX",423],["T_WHITESPACE"," ",423],".",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","\"product_to_category p2c\"",423],";",["T_WHITESPACE","\n\t\t\t",423],"}",["T_WHITESPACE","\n\n\t\t\t",424],["T_IF","if",426],["T_WHITESPACE"," ",426],"(","!",["T_EMPTY","empty",426],"(",["T_VARIABLE","$data",426],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_filter'",426],"]",")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n\t\t\t\t",426],["T_VARIABLE","$sql",427],["T_WHITESPACE"," ",427],["T_CONCAT_EQUAL",".=",427],["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_STRING","DB_PREFIX",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","\"product_filter pf ON (p2c.product_id = pf.product_id) LEFT JOIN \"",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_STRING","DB_PREFIX",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (pf.product_id = p.product_id)\"",427],";",["T_WHITESPACE","\n\t\t\t",427],"}",["T_WHITESPACE"," ",428],["T_ELSE","else",428],["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n\t\t\t\t",428],["T_VARIABLE","$sql",429],["T_WHITESPACE"," ",429],["T_CONCAT_EQUAL",".=",429],["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_STRING","DB_PREFIX",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (p2c.product_id = p.product_id)\"",429],";",["T_WHITESPACE","\n\t\t\t",429],"}",["T_WHITESPACE","\n\t\t",430],"}",["T_WHITESPACE"," ",431],["T_ELSE","else",431],["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n\t\t\t",431],["T_VARIABLE","$sql",432],["T_WHITESPACE"," ",432],["T_CONCAT_EQUAL",".=",432],["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","\" FROM \"",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_STRING","DB_PREFIX",432],["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","\"product p\"",432],";",["T_WHITESPACE","\n\t\t",432],"}",["T_WHITESPACE","\n\n\t\t",433],["T_VARIABLE","$sql",435],["T_WHITESPACE"," ",435],["T_CONCAT_EQUAL",".=",435],["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\" LEFT JOIN \"",435],["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_STRING","DB_PREFIX",435],["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\"product_description pd ON (p.product_id = pd.product_id) LEFT JOIN \"",435],["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_STRING","DB_PREFIX",435],["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE pd.language_id = '\"",435],["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_INT_CAST","(int)",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","config",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","get",435],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",435],")",["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\"' AND p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",435],["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_INT_CAST","(int)",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","config",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","get",435],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",435],")",["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\"'\"",435],";",["T_WHITESPACE","\n\n\t\t",435],["T_IF","if",437],["T_WHITESPACE"," ",437],"(","!",["T_EMPTY","empty",437],"(",["T_VARIABLE","$data",437],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",437],"]",")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n\t\t\t",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(","!",["T_EMPTY","empty",438],"(",["T_VARIABLE","$data",438],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_sub_category'",438],"]",")",")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n\t\t\t\t",438],["T_VARIABLE","$sql",439],["T_WHITESPACE"," ",439],["T_CONCAT_EQUAL",".=",439],["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","\" AND cp.path_id = '\"",439],["T_WHITESPACE"," ",439],".",["T_WHITESPACE"," ",439],["T_INT_CAST","(int)",439],["T_VARIABLE","$data",439],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",439],"]",["T_WHITESPACE"," ",439],".",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","\"'\"",439],";",["T_WHITESPACE","\n\t\t\t",439],"}",["T_WHITESPACE"," ",440],["T_ELSE","else",440],["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n\t\t\t\t",440],["T_VARIABLE","$sql",441],["T_WHITESPACE"," ",441],["T_CONCAT_EQUAL",".=",441],["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","\" AND p2c.category_id = '\"",441],["T_WHITESPACE"," ",441],".",["T_WHITESPACE"," ",441],["T_INT_CAST","(int)",441],["T_VARIABLE","$data",441],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_category_id'",441],"]",["T_WHITESPACE"," ",441],".",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","\"'\"",441],";",["T_WHITESPACE","\n\t\t\t",441],"}",["T_WHITESPACE","\n\n\t\t\t",442],["T_IF","if",444],["T_WHITESPACE"," ",444],"(","!",["T_EMPTY","empty",444],"(",["T_VARIABLE","$data",444],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_filter'",444],"]",")",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n\t\t\t\t",444],["T_VARIABLE","$implode",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",445],["T_VARIABLE","$filters",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_STRING","explode",447],"(",["T_CONSTANT_ENCAPSED_STRING","','",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$data",447],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_filter'",447],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",447],["T_FOREACH","foreach",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$filters",449],["T_WHITESPACE"," ",449],["T_AS","as",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$filter_id",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n\t\t\t\t\t",449],["T_VARIABLE","$implode",450],"[","]",["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_INT_CAST","(int)",450],["T_VARIABLE","$filter_id",450],";",["T_WHITESPACE","\n\t\t\t\t",450],"}",["T_WHITESPACE","\n\n\t\t\t\t",451],["T_VARIABLE","$sql",453],["T_WHITESPACE"," ",453],["T_CONCAT_EQUAL",".=",453],["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","\" AND pf.filter_id IN (\"",453],["T_WHITESPACE"," ",453],".",["T_WHITESPACE"," ",453],["T_STRING","implode",453],"(",["T_CONSTANT_ENCAPSED_STRING","','",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$implode",453],")",["T_WHITESPACE"," ",453],".",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","\")\"",453],";",["T_WHITESPACE","\n\t\t\t",453],"}",["T_WHITESPACE","\n\t\t",454],"}",["T_WHITESPACE","\n\n\t\t",455],["T_IF","if",457],["T_WHITESPACE"," ",457],"(","!",["T_EMPTY","empty",457],"(",["T_VARIABLE","$data",457],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",457],"]",")",["T_WHITESPACE"," ",457],["T_BOOLEAN_OR","||",457],["T_WHITESPACE"," ",457],"!",["T_EMPTY","empty",457],"(",["T_VARIABLE","$data",457],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",457],"]",")",")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n\t\t\t",457],["T_VARIABLE","$sql",458],["T_WHITESPACE"," ",458],["T_CONCAT_EQUAL",".=",458],["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","\" AND (\"",458],";",["T_WHITESPACE","\n\n\t\t\t",458],["T_IF","if",460],["T_WHITESPACE"," ",460],"(","!",["T_EMPTY","empty",460],"(",["T_VARIABLE","$data",460],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",460],"]",")",")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n\t\t\t\t",460],["T_VARIABLE","$implode",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_ARRAY","array",461],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",461],["T_VARIABLE","$words",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_STRING","explode",463],"(",["T_CONSTANT_ENCAPSED_STRING","' '",463],",",["T_WHITESPACE"," ",463],["T_STRING","trim",463],"(",["T_STRING","preg_replace",463],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","' '",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$data",463],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",463],"]",")",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",463],["T_FOREACH","foreach",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$words",465],["T_WHITESPACE"," ",465],["T_AS","as",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$word",465],")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n\t\t\t\t\t",465],["T_VARIABLE","$implode",466],"[","]",["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","\"pd.name LIKE '%\"",466],["T_WHITESPACE"," ",466],".",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","db",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","escape",466],"(",["T_VARIABLE","$word",466],")",["T_WHITESPACE"," ",466],".",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",466],";",["T_WHITESPACE","\n\t\t\t\t",466],"}",["T_WHITESPACE","\n\n\t\t\t\t",467],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_VARIABLE","$implode",469],")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n\t\t\t\t\t",469],["T_VARIABLE","$sql",470],["T_WHITESPACE"," ",470],["T_CONCAT_EQUAL",".=",470],["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","\" \"",470],["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_STRING","implode",470],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$implode",470],")",["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","\"\"",470],";",["T_WHITESPACE","\n\t\t\t\t",470],"}",["T_WHITESPACE","\n\n\t\t\t\t",471],["T_IF","if",473],["T_WHITESPACE"," ",473],"(","!",["T_EMPTY","empty",473],"(",["T_VARIABLE","$data",473],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_description'",473],"]",")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n\t\t\t\t\t",473],["T_VARIABLE","$sql",474],["T_WHITESPACE"," ",474],["T_CONCAT_EQUAL",".=",474],["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\" OR pd.description LIKE '%\"",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","db",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","escape",474],"(",["T_VARIABLE","$data",474],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",474],"]",")",["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",474],";",["T_WHITESPACE","\n\t\t\t\t",474],"}",["T_WHITESPACE","\n\t\t\t",475],"}",["T_WHITESPACE","\n\n\t\t\t",476],["T_IF","if",478],["T_WHITESPACE"," ",478],"(","!",["T_EMPTY","empty",478],"(",["T_VARIABLE","$data",478],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",478],"]",")",["T_WHITESPACE"," ",478],["T_BOOLEAN_AND","&&",478],["T_WHITESPACE"," ",478],"!",["T_EMPTY","empty",478],"(",["T_VARIABLE","$data",478],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",478],"]",")",")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n\t\t\t\t",478],["T_VARIABLE","$sql",479],["T_WHITESPACE"," ",479],["T_CONCAT_EQUAL",".=",479],["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","\" OR \"",479],";",["T_WHITESPACE","\n\t\t\t",479],"}",["T_WHITESPACE","\n\n\t\t\t",480],["T_IF","if",482],["T_WHITESPACE"," ",482],"(","!",["T_EMPTY","empty",482],"(",["T_VARIABLE","$data",482],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",482],"]",")",")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n\t\t\t\t",482],["T_VARIABLE","$implode",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_ARRAY","array",483],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",483],["T_VARIABLE","$words",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_STRING","explode",485],"(",["T_CONSTANT_ENCAPSED_STRING","' '",485],",",["T_WHITESPACE"," ",485],["T_STRING","trim",485],"(",["T_STRING","preg_replace",485],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s+\/'",485],",",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","' '",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$data",485],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_tag'",485],"]",")",")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",485],["T_FOREACH","foreach",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$words",487],["T_WHITESPACE"," ",487],["T_AS","as",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$word",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n\t\t\t\t\t",487],["T_VARIABLE","$implode",488],"[","]",["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","\"pd.tag LIKE '%\"",488],["T_WHITESPACE"," ",488],".",["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","db",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","escape",488],"(",["T_VARIABLE","$word",488],")",["T_WHITESPACE"," ",488],".",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","\"%'\"",488],";",["T_WHITESPACE","\n\t\t\t\t",488],"}",["T_WHITESPACE","\n\n\t\t\t\t",489],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_VARIABLE","$implode",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n\t\t\t\t\t",491],["T_VARIABLE","$sql",492],["T_WHITESPACE"," ",492],["T_CONCAT_EQUAL",".=",492],["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","\" \"",492],["T_WHITESPACE"," ",492],".",["T_WHITESPACE"," ",492],["T_STRING","implode",492],"(",["T_CONSTANT_ENCAPSED_STRING","\" AND \"",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$implode",492],")",["T_WHITESPACE"," ",492],".",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","\"\"",492],";",["T_WHITESPACE","\n\t\t\t\t",492],"}",["T_WHITESPACE","\n\t\t\t",493],"}",["T_WHITESPACE","\n\n\t\t\t",494],["T_IF","if",496],["T_WHITESPACE"," ",496],"(","!",["T_EMPTY","empty",496],"(",["T_VARIABLE","$data",496],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",496],"]",")",")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n\t\t\t\t",496],["T_VARIABLE","$sql",497],["T_WHITESPACE"," ",497],["T_CONCAT_EQUAL",".=",497],["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.model) = '\"",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","db",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","escape",497],"(",["T_STRING","utf8_strtolower",497],"(",["T_VARIABLE","$data",497],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",497],"]",")",")",["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","\"'\"",497],";",["T_WHITESPACE","\n\t\t\t\t",497],["T_VARIABLE","$sql",498],["T_WHITESPACE"," ",498],["T_CONCAT_EQUAL",".=",498],["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.sku) = '\"",498],["T_WHITESPACE"," ",498],".",["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","db",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","escape",498],"(",["T_STRING","utf8_strtolower",498],"(",["T_VARIABLE","$data",498],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",498],"]",")",")",["T_WHITESPACE"," ",498],".",["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","\"'\"",498],";",["T_WHITESPACE","\n\t\t\t\t",498],["T_VARIABLE","$sql",499],["T_WHITESPACE"," ",499],["T_CONCAT_EQUAL",".=",499],["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.upc) = '\"",499],["T_WHITESPACE"," ",499],".",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","db",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","escape",499],"(",["T_STRING","utf8_strtolower",499],"(",["T_VARIABLE","$data",499],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",499],"]",")",")",["T_WHITESPACE"," ",499],".",["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","\"'\"",499],";",["T_WHITESPACE","\n\t\t\t\t",499],["T_VARIABLE","$sql",500],["T_WHITESPACE"," ",500],["T_CONCAT_EQUAL",".=",500],["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.ean) = '\"",500],["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","db",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","escape",500],"(",["T_STRING","utf8_strtolower",500],"(",["T_VARIABLE","$data",500],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",500],"]",")",")",["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","\"'\"",500],";",["T_WHITESPACE","\n\t\t\t\t",500],["T_VARIABLE","$sql",501],["T_WHITESPACE"," ",501],["T_CONCAT_EQUAL",".=",501],["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.jan) = '\"",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","db",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","escape",501],"(",["T_STRING","utf8_strtolower",501],"(",["T_VARIABLE","$data",501],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",501],"]",")",")",["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","\"'\"",501],";",["T_WHITESPACE","\n\t\t\t\t",501],["T_VARIABLE","$sql",502],["T_WHITESPACE"," ",502],["T_CONCAT_EQUAL",".=",502],["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.isbn) = '\"",502],["T_WHITESPACE"," ",502],".",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","db",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","escape",502],"(",["T_STRING","utf8_strtolower",502],"(",["T_VARIABLE","$data",502],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",502],"]",")",")",["T_WHITESPACE"," ",502],".",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","\"'\"",502],";",["T_WHITESPACE","\n\t\t\t\t",502],["T_VARIABLE","$sql",503],["T_WHITESPACE"," ",503],["T_CONCAT_EQUAL",".=",503],["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","\" OR LCASE(p.mpn) = '\"",503],["T_WHITESPACE"," ",503],".",["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","db",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","escape",503],"(",["T_STRING","utf8_strtolower",503],"(",["T_VARIABLE","$data",503],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_name'",503],"]",")",")",["T_WHITESPACE"," ",503],".",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","\"'\"",503],";",["T_WHITESPACE","\n\t\t\t",503],"}",["T_WHITESPACE","\n\n\t\t\t",504],["T_VARIABLE","$sql",506],["T_WHITESPACE"," ",506],["T_CONCAT_EQUAL",".=",506],["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","\")\"",506],";",["T_WHITESPACE","\n\t\t",506],"}",["T_WHITESPACE","\n\n\t\t",507],["T_IF","if",509],["T_WHITESPACE"," ",509],"(","!",["T_EMPTY","empty",509],"(",["T_VARIABLE","$data",509],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer_id'",509],"]",")",")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n\t\t\t",509],["T_VARIABLE","$sql",510],["T_WHITESPACE"," ",510],["T_CONCAT_EQUAL",".=",510],["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","\" AND p.manufacturer_id = '\"",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_INT_CAST","(int)",510],["T_VARIABLE","$data",510],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_manufacturer_id'",510],"]",["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","\"'\"",510],";",["T_WHITESPACE","\n\t\t",510],"}",["T_WHITESPACE","\n\n\t\t",511],["T_VARIABLE","$query",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","db",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","query",513],"(",["T_VARIABLE","$sql",513],")",";",["T_WHITESPACE","\n\n\t\t",513],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$query",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","row",515],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",515],"]",";",["T_WHITESPACE","\n\t",515],"}",["T_WHITESPACE","\n\n\t",516],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","getProfile",518],"(",["T_VARIABLE","$product_id",518],",",["T_WHITESPACE"," ",518],["T_VARIABLE","$recurring_id",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n\t\t",518],["T_VARIABLE","$query",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","db",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","query",519],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM \"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_STRING","DB_PREFIX",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"recurring r JOIN \"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_STRING","DB_PREFIX",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"product_recurring pr ON (pr.recurring_id = r.recurring_id AND pr.product_id = '\"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_INT_CAST","(int)",519],["T_VARIABLE","$product_id",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"') WHERE pr.recurring_id = '\"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_INT_CAST","(int)",519],["T_VARIABLE","$recurring_id",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"' AND status = '1' AND pr.customer_group_id = '\"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_INT_CAST","(int)",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","config",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","get",519],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",519],")",["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"'\"",519],")",";",["T_WHITESPACE","\n\n\t\t",519],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$query",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","row",521],";",["T_WHITESPACE","\n\t",521],"}",["T_WHITESPACE","\n\n\t",522],["T_PUBLIC","public",524],["T_WHITESPACE"," ",524],["T_FUNCTION","function",524],["T_WHITESPACE"," ",524],["T_STRING","getProfiles",524],"(",["T_VARIABLE","$product_id",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n\t\t",524],["T_VARIABLE","$query",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","db",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","query",525],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT rd.* FROM \"",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_STRING","DB_PREFIX",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","\"product_recurring pr JOIN \"",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_STRING","DB_PREFIX",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","\"recurring_description rd ON (rd.language_id = \"",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_INT_CAST","(int)",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","config",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","get",525],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",525],")",["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","\" AND rd.recurring_id = pr.recurring_id) JOIN \"",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_STRING","DB_PREFIX",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","\"recurring r ON r.recurring_id = rd.recurring_id WHERE pr.product_id = \"",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_INT_CAST","(int)",525],["T_VARIABLE","$product_id",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","\" AND status = '1' AND pr.customer_group_id = '\"",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_INT_CAST","(int)",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","config",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","get",525],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",525],")",["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","\"' ORDER BY sort_order ASC\"",525],")",";",["T_WHITESPACE","\n\n\t\t",525],["T_RETURN","return",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$query",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","rows",527],";",["T_WHITESPACE","\n\t",527],"}",["T_WHITESPACE","\n\n\t",528],["T_PUBLIC","public",530],["T_WHITESPACE"," ",530],["T_FUNCTION","function",530],["T_WHITESPACE"," ",530],["T_STRING","getTotalProductSpecials",530],"(",")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n\t\t",530],["T_VARIABLE","$query",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","db",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","query",531],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(DISTINCT ps.product_id) AS total FROM \"",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_STRING","DB_PREFIX",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","\"product_special ps LEFT JOIN \"",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_STRING","DB_PREFIX",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","\"product p ON (ps.product_id = p.product_id) LEFT JOIN \"",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_STRING","DB_PREFIX",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","\"product_to_store p2s ON (p.product_id = p2s.product_id) WHERE p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '\"",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_INT_CAST","(int)",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","config",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","get",531],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",531],")",["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","\"' AND ps.customer_group_id = '\"",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_INT_CAST","(int)",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","config",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","get",531],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",531],")",["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","\"' AND ((ps.date_start = '0000-00-00' OR ps.date_start < NOW()) AND (ps.date_end = '0000-00-00' OR ps.date_end > NOW()))\"",531],")",";",["T_WHITESPACE","\n\n\t\t",531],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_ISSET","isset",533],"(",["T_VARIABLE","$query",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","row",533],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",533],"]",")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n\t\t\t",533],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$query",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","row",534],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",534],"]",";",["T_WHITESPACE","\n\t\t",534],"}",["T_WHITESPACE"," ",535],["T_ELSE","else",535],["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n\t\t\t",535],["T_RETURN","return",536],["T_WHITESPACE"," ",536],["T_LNUMBER","0",536],";",["T_WHITESPACE","\n\t\t",536],"}",["T_WHITESPACE","\n\t",537],"}",["T_WHITESPACE","\n",538],"}",["T_WHITESPACE","\n",539]]