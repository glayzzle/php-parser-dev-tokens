[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerStartupRouter",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_COMMENT","\/\/ Route\n",4],["T_WHITESPACE","\t\t",5],["T_IF","if",5],["T_WHITESPACE"," ",5],"(",["T_ISSET","isset",5],"(",["T_VARIABLE","$this",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","request",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","get",5],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",5],"]",")",["T_WHITESPACE"," ",5],["T_BOOLEAN_AND","&&",5],["T_WHITESPACE"," ",5],["T_VARIABLE","$this",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","request",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","get",5],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",5],"]",["T_WHITESPACE"," ",5],["T_IS_NOT_EQUAL","!=",5],["T_WHITESPACE"," ",5],["T_CONSTANT_ENCAPSED_STRING","'startup\/router'",5],")",["T_WHITESPACE"," ",5],"{",["T_WHITESPACE","\n\t\t\t",5],["T_VARIABLE","$route",6],["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","request",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",6],"]",";",["T_WHITESPACE","\n\t\t",6],"}",["T_WHITESPACE"," ",7],["T_ELSE","else",7],["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t\t",7],["T_VARIABLE","$route",8],["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","config",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'action_default'",8],")",";",["T_WHITESPACE","\n\t\t",8],"}",["T_WHITESPACE","\n\t\t\n\t\t",9],["T_COMMENT","\/\/ Sanitize the call\n",11],["T_WHITESPACE","\t\t",12],["T_VARIABLE","$route",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_STRING","preg_replace",12],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^a-zA-Z0-9_\\\/]\/'",12],",",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","''",12],",",["T_WHITESPACE"," ",12],["T_STRING_CAST","(string)",12],["T_VARIABLE","$route",12],")",";",["T_WHITESPACE","\n\t\t\n\t\t",12],["T_COMMENT","\/\/ Trigger the pre events\n",14],["T_WHITESPACE","\t\t",15],["T_VARIABLE","$result",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","event",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","trigger",15],"(",["T_CONSTANT_ENCAPSED_STRING","'controller\/'",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_VARIABLE","$route",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'\/before'",15],",",["T_WHITESPACE"," ",15],["T_ARRAY","array",15],"(","&",["T_VARIABLE","$route",15],",",["T_WHITESPACE"," ",15],"&",["T_VARIABLE","$data",15],")",")",";",["T_WHITESPACE","\n\t\t\n\t\t",15],["T_IF","if",17],["T_WHITESPACE"," ",17],"(","!",["T_STRING","is_null",17],"(",["T_VARIABLE","$result",17],")",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\t\t\t",17],["T_RETURN","return",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$result",18],";",["T_WHITESPACE","\n\t\t",18],"}",["T_WHITESPACE","\n\t\t\n\t\t",19],["T_COMMENT","\/\/ We dont want to use the loader class as it would make an controller callable.\n",21],["T_WHITESPACE","\t\t",22],["T_VARIABLE","$action",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_NEW","new",22],["T_WHITESPACE"," ",22],["T_STRING","Action",22],"(",["T_VARIABLE","$route",22],")",";",["T_WHITESPACE","\n\t\t\n\t\t",22],["T_COMMENT","\/\/ Any output needs to be another Action object.\n",24],["T_WHITESPACE","\t\t",25],["T_VARIABLE","$output",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$action",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","execute",25],"(",["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","registry",25],")",";",["T_WHITESPACE"," \n\t\t\n\t\t",25],["T_COMMENT","\/\/ Trigger the post events\n",27],["T_WHITESPACE","\t\t",28],["T_VARIABLE","$result",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","event",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","trigger",28],"(",["T_CONSTANT_ENCAPSED_STRING","'controller\/'",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$route",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'\/after'",28],",",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(","&",["T_VARIABLE","$route",28],",",["T_WHITESPACE"," ",28],"&",["T_VARIABLE","$data",28],",",["T_WHITESPACE"," ",28],"&",["T_VARIABLE","$output",28],")",")",";",["T_WHITESPACE","\n\t\t\n\t\t",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(","!",["T_STRING","is_null",30],"(",["T_VARIABLE","$result",30],")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t",30],["T_RETURN","return",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$result",31],";",["T_WHITESPACE","\n\t\t",31],"}",["T_WHITESPACE","\n\t\t\n\t\t",32],["T_RETURN","return",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$output",34],";",["T_WHITESPACE","\n\t",34],"}",["T_WHITESPACE","\n",35],"}",["T_WHITESPACE","\n",36]]