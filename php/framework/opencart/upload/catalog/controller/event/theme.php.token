[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerEventTheme",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(","&",["T_VARIABLE","$view",3],",",["T_WHITESPACE"," ",3],"&",["T_VARIABLE","$data",3],",",["T_WHITESPACE"," ",3],"&",["T_VARIABLE","$output",3],")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_IF","if",4],["T_WHITESPACE"," ",4],"(","!",["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","config",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","get",4],"(",["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","config",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","get",4],"(",["T_CONSTANT_ENCAPSED_STRING","'config_theme'",4],")",["T_WHITESPACE"," ",4],".",["T_WHITESPACE"," ",4],["T_CONSTANT_ENCAPSED_STRING","'_status'",4],")",")",["T_WHITESPACE"," ",4],"{",["T_WHITESPACE","\n\t\t\t",4],["T_EXIT","exit",5],"(",["T_CONSTANT_ENCAPSED_STRING","'Error: A theme has not been assigned to this store!'",5],")",";",["T_WHITESPACE","\n\t\t",5],"}",["T_WHITESPACE","\n\t\t\n\t\t",6],["T_COMMENT","\/\/ This is only here for compatibility with older extensions\n",8],["T_WHITESPACE","\t\t",9],["T_IF","if",9],["T_WHITESPACE"," ",9],"(",["T_STRING","substr",9],"(",["T_VARIABLE","$view",9],",",["T_WHITESPACE"," ",9],"-",["T_LNUMBER","3",9],")",["T_WHITESPACE"," ",9],["T_IS_EQUAL","==",9],["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","'tpl'",9],")",["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t\t\t",9],["T_VARIABLE","$view",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_STRING","substr",10],"(",["T_VARIABLE","$view",10],",",["T_WHITESPACE"," ",10],["T_LNUMBER","0",10],",",["T_WHITESPACE"," ",10],"-",["T_LNUMBER","3",10],")",";",["T_WHITESPACE","\n\t\t",10],"}",["T_WHITESPACE","\n\t\t\n\t\t",11],["T_IF","if",13],["T_WHITESPACE"," ",13],"(",["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","config",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","get",13],"(",["T_CONSTANT_ENCAPSED_STRING","'config_theme'",13],")",["T_WHITESPACE"," ",13],["T_IS_EQUAL","==",13],["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'theme_default'",13],")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t\t",13],["T_VARIABLE","$theme",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","config",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","get",14],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_default_directory'",14],")",";",["T_WHITESPACE","\n\t\t",14],"}",["T_WHITESPACE"," ",15],["T_ELSE","else",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\t\t\t",15],["T_VARIABLE","$theme",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","config",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","get",16],"(",["T_CONSTANT_ENCAPSED_STRING","'config_theme'",16],")",";",["T_WHITESPACE","\n\t\t",16],"}",["T_WHITESPACE","\n\t\t\n\t\t",17],["T_IF","if",19],["T_WHITESPACE"," ",19],"(",["T_STRING","is_file",19],"(",["T_STRING","DIR_TEMPLATE",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_VARIABLE","$theme",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'\/template\/'",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_VARIABLE","$view",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'.tpl'",19],")",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\t\t\t",19],["T_VARIABLE","$view",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$theme",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'\/template\/'",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_VARIABLE","$view",20],";",["T_WHITESPACE","\n\t\t",20],"}",["T_WHITESPACE"," ",21],["T_ELSE","else",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\t\t\t",21],["T_VARIABLE","$view",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'default\/template\/'",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_VARIABLE","$view",22],";",["T_WHITESPACE","\n\t\t",22],"}",["T_WHITESPACE","\n\t\t",23],["T_COMMENT","\/*\t\t\t\n\t\t\/\/ If there is a theme override we should get it\t\t\t\t\n\t\t$this->load->model('design\/theme');\n\t\t\n\t\t$theme_info = $this->model_design_theme->getTheme($view, $theme);\n\t\t\n\t\tif ($theme_info) {\n\t\t\textract($data);\n\n\t\t\tob_start();\n\n\t\t\teval('?>' . html_entity_decode($theme_info['code']));\n\n\t\t\t$output = ob_get_clean();\n\t\t} else {\n\t\t\tif (is_file(DIR_TEMPLATE . $theme . '\/template\/' . $view . '.tpl')) {\n\t\t\t\t$view = $theme . '\/template\/' . $view;\n\t\t\t} else {\n\t\t\t\t$view = 'default\/template\/' . $view;\n\t\t\t}\t\t\n\t\t}\n\t\t*\/",24],["T_WHITESPACE","\n\t",45],"}",["T_WHITESPACE","\n",46],"}",["T_WHITESPACE","\n",47]]