[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerAffiliateLogin",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PRIVATE","private",3],["T_WHITESPACE"," ",3],["T_VARIABLE","$error",3],["T_WHITESPACE"," ",3],"=",["T_WHITESPACE"," ",3],["T_ARRAY","array",3],"(",")",";",["T_WHITESPACE","\n\n\t",3],["T_PUBLIC","public",5],["T_WHITESPACE"," ",5],["T_FUNCTION","function",5],["T_WHITESPACE"," ",5],["T_STRING","index",5],"(",")",["T_WHITESPACE"," ",5],"{",["T_WHITESPACE","\n\t\t",5],["T_IF","if",6],["T_WHITESPACE"," ",6],"(",["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","affiliate",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","isLogged",6],"(",")",")",["T_WHITESPACE"," ",6],"{",["T_WHITESPACE","\n\t\t\t",6],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","response",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","redirect",7],"(",["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","url",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","link",7],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/account'",7],",",["T_WHITESPACE"," ",7],["T_CONSTANT_ENCAPSED_STRING","''",7],",",["T_WHITESPACE"," ",7],["T_STRING","true",7],")",")",";",["T_WHITESPACE","\n\t\t",7],"}",["T_WHITESPACE","\n\n\t\t",8],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","load",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","language",10],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/login'",10],")",";",["T_WHITESPACE","\n\n\t\t",10],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","document",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","setTitle",12],"(",["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","language",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'heading_title'",12],")",")",";",["T_WHITESPACE","\n\n\t\t",12],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","load",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","model",14],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/affiliate'",14],")",";",["T_WHITESPACE","\n\n\t\t",14],["T_IF","if",16],["T_WHITESPACE"," ",16],"(","(",["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","request",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","server",16],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",16],"]",["T_WHITESPACE"," ",16],["T_IS_EQUAL","==",16],["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'POST'",16],")",["T_WHITESPACE"," ",16],["T_BOOLEAN_AND","&&",16],["T_WHITESPACE"," ",16],["T_ISSET","isset",16],"(",["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","request",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","post",16],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",16],"]",")",["T_WHITESPACE"," ",16],["T_BOOLEAN_AND","&&",16],["T_WHITESPACE"," ",16],["T_ISSET","isset",16],"(",["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","request",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","post",16],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",16],"]",")",["T_WHITESPACE"," ",16],["T_BOOLEAN_AND","&&",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","validate",16],"(",")",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t\t",16],["T_COMMENT","\/\/ Add to activity log\n",17],["T_WHITESPACE","\t\t\t",18],["T_IF","if",18],["T_WHITESPACE"," ",18],"(",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","config",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","get",18],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_activity'",18],")",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\t\t\t\t",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","load",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","model",19],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/activity'",19],")",";",["T_WHITESPACE","\n\n\t\t\t\t",19],["T_VARIABLE","$activity_data",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n\t\t\t\t\t",21],["T_CONSTANT_ENCAPSED_STRING","'affiliate_id'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","affiliate",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getId",22],"(",")",",",["T_WHITESPACE","\n\t\t\t\t\t",22],["T_CONSTANT_ENCAPSED_STRING","'name'",23],["T_WHITESPACE","         ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","affiliate",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getFirstName",23],"(",")",["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","' '",23],["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","affiliate",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getLastName",23],"(",")",["T_WHITESPACE","\n\t\t\t\t",23],")",";",["T_WHITESPACE","\n\n\t\t\t\t",24],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","model_affiliate_activity",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","addActivity",26],"(",["T_CONSTANT_ENCAPSED_STRING","'login'",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$activity_data",26],")",";",["T_WHITESPACE","\n\t\t\t",26],"}",["T_WHITESPACE","\n\n\t\t\t",27],["T_COMMENT","\/\/ Added strpos check to pass McAfee PCI compliance test (http:\/\/forum.opencart.com\/viewtopic.php?f=10&t=12043&p=151494#p151295)\n",29],["T_WHITESPACE","\t\t\t",30],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_ISSET","isset",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","request",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","post",30],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",30],"]",")",["T_WHITESPACE"," ",30],["T_BOOLEAN_AND","&&",30],["T_WHITESPACE"," ",30],"(",["T_STRING","strpos",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","request",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","post",30],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",30],"]",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","config",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_CONSTANT_ENCAPSED_STRING","'config_url'",30],")",")",["T_WHITESPACE"," ",30],["T_IS_NOT_IDENTICAL","!==",30],["T_WHITESPACE"," ",30],["T_STRING","false",30],["T_WHITESPACE"," ",30],["T_BOOLEAN_OR","||",30],["T_WHITESPACE"," ",30],["T_STRING","strpos",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","request",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","post",30],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",30],"]",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","config",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_CONSTANT_ENCAPSED_STRING","'config_ssl'",30],")",")",["T_WHITESPACE"," ",30],["T_IS_NOT_IDENTICAL","!==",30],["T_WHITESPACE"," ",30],["T_STRING","false",30],")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t\t",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","response",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","redirect",31],"(",["T_STRING","str_replace",31],"(",["T_CONSTANT_ENCAPSED_STRING","'&amp;'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'&'",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","request",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","post",31],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",31],"]",")",")",";",["T_WHITESPACE","\n\t\t\t",31],"}",["T_WHITESPACE"," ",32],["T_ELSE","else",32],["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t\t",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","response",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","redirect",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","url",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","link",33],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/account'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","''",33],",",["T_WHITESPACE"," ",33],["T_STRING","true",33],")",")",";",["T_WHITESPACE","\n\t\t\t",33],"}",["T_WHITESPACE","\n\t\t",34],"}",["T_WHITESPACE","\n\n\t\t",35],["T_VARIABLE","$data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",";",["T_WHITESPACE","\n\n\t\t",37],["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",39],"]","[","]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE","\n\t\t\t",39],["T_CONSTANT_ENCAPSED_STRING","'text'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","language",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'text_home'",40],")",",",["T_WHITESPACE","\n\t\t\t",40],["T_CONSTANT_ENCAPSED_STRING","'href'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","url",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","link",41],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/home'",41],")",["T_WHITESPACE","\n\t\t",41],")",";",["T_WHITESPACE","\n\n\t\t",42],["T_VARIABLE","$data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",44],"]","[","]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n\t\t\t",44],["T_CONSTANT_ENCAPSED_STRING","'text'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","language",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'text_account'",45],")",",",["T_WHITESPACE","\n\t\t\t",45],["T_CONSTANT_ENCAPSED_STRING","'href'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","url",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","link",46],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/account'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","''",46],",",["T_WHITESPACE"," ",46],["T_STRING","true",46],")",["T_WHITESPACE","\n\t\t",46],")",";",["T_WHITESPACE","\n\n\t\t",47],["T_VARIABLE","$data",49],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",49],"]","[","]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n\t\t\t",49],["T_CONSTANT_ENCAPSED_STRING","'text'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","language",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'text_login'",50],")",",",["T_WHITESPACE","\n\t\t\t",50],["T_CONSTANT_ENCAPSED_STRING","'href'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","url",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","link",51],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/login'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],",",["T_WHITESPACE"," ",51],["T_STRING","true",51],")",["T_WHITESPACE","\n\t\t",51],")",";",["T_WHITESPACE","\n\n\t\t",52],["T_VARIABLE","$data",54],"[",["T_CONSTANT_ENCAPSED_STRING","'heading_title'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","language",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'heading_title'",54],")",";",["T_WHITESPACE","\n\n\t\t",54],["T_VARIABLE","$data",56],"[",["T_CONSTANT_ENCAPSED_STRING","'text_description'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","sprintf",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","language",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'text_description'",56],")",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","config",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",56],")",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","config",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",56],")",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","config",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'config_affiliate_commission'",56],")",["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'%'",56],")",";",["T_WHITESPACE","\n\t\t",56],["T_VARIABLE","$data",57],"[",["T_CONSTANT_ENCAPSED_STRING","'text_new_affiliate'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","language",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_CONSTANT_ENCAPSED_STRING","'text_new_affiliate'",57],")",";",["T_WHITESPACE","\n\t\t",57],["T_VARIABLE","$data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'text_register_account'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","language",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'text_register_account'",58],")",";",["T_WHITESPACE","\n\t\t",58],["T_VARIABLE","$data",59],"[",["T_CONSTANT_ENCAPSED_STRING","'text_returning_affiliate'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","language",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'text_returning_affiliate'",59],")",";",["T_WHITESPACE","\n\t\t",59],["T_VARIABLE","$data",60],"[",["T_CONSTANT_ENCAPSED_STRING","'text_i_am_returning_affiliate'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","language",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'text_i_am_returning_affiliate'",60],")",";",["T_WHITESPACE","\n\t\t",60],["T_VARIABLE","$data",61],"[",["T_CONSTANT_ENCAPSED_STRING","'text_forgotten'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","language",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_CONSTANT_ENCAPSED_STRING","'text_forgotten'",61],")",";",["T_WHITESPACE","\n\n\t\t",61],["T_VARIABLE","$data",63],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_email'",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","language",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","get",63],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_email'",63],")",";",["T_WHITESPACE","\n\t\t",63],["T_VARIABLE","$data",64],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_password'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","language",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","get",64],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_password'",64],")",";",["T_WHITESPACE","\n\n\t\t",64],["T_VARIABLE","$data",66],"[",["T_CONSTANT_ENCAPSED_STRING","'button_continue'",66],"]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","language",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","get",66],"(",["T_CONSTANT_ENCAPSED_STRING","'button_continue'",66],")",";",["T_WHITESPACE","\n\t\t",66],["T_VARIABLE","$data",67],"[",["T_CONSTANT_ENCAPSED_STRING","'button_login'",67],"]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","language",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","get",67],"(",["T_CONSTANT_ENCAPSED_STRING","'button_login'",67],")",";",["T_WHITESPACE","\n\n\t\t",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_ISSET","isset",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","error",69],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n\t\t\t",69],["T_VARIABLE","$data",70],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","error",70],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",70],"]",";",["T_WHITESPACE","\n\t\t",70],"}",["T_WHITESPACE"," ",71],["T_ELSE","else",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n\t\t\t",71],["T_VARIABLE","$data",72],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","''",72],";",["T_WHITESPACE","\n\t\t",72],"}",["T_WHITESPACE","\n\n\t\t",73],["T_VARIABLE","$data",75],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","url",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","link",75],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/login'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","''",75],",",["T_WHITESPACE"," ",75],["T_STRING","true",75],")",";",["T_WHITESPACE","\n\t\t",75],["T_VARIABLE","$data",76],"[",["T_CONSTANT_ENCAPSED_STRING","'register'",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","url",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","link",76],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/register'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],",",["T_WHITESPACE"," ",76],["T_STRING","true",76],")",";",["T_WHITESPACE","\n\t\t",76],["T_VARIABLE","$data",77],"[",["T_CONSTANT_ENCAPSED_STRING","'forgotten'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","url",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","link",77],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/forgotten'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],",",["T_WHITESPACE"," ",77],["T_STRING","true",77],")",";",["T_WHITESPACE","\n\n\t\t",77],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_ISSET","isset",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","request",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","post",79],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",79],"]",")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n\t\t\t",79],["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","request",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","post",80],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",80],"]",";",["T_WHITESPACE","\n\t\t",80],"}",["T_WHITESPACE"," ",81],["T_ELSEIF","elseif",81],["T_WHITESPACE"," ",81],"(",["T_ISSET","isset",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","session",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","data",81],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",81],"]",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n\t\t\t",81],["T_VARIABLE","$data",82],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","session",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","data",82],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",82],"]",";",["T_WHITESPACE","\n\n\t\t\t",82],["T_UNSET","unset",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","session",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","data",84],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",84],"]",")",";",["T_WHITESPACE","\n\t\t",84],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t\t",85],["T_VARIABLE","$data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","''",86],";",["T_WHITESPACE","\n\t\t",86],"}",["T_WHITESPACE","\n\n\t\t",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_ISSET","isset",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","session",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n\t\t\t",89],["T_VARIABLE","$data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","session",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",90],"]",";",["T_WHITESPACE","\n\n\t\t\t",90],["T_UNSET","unset",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","session",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",92],"]",")",";",["T_WHITESPACE","\n\t\t",92],"}",["T_WHITESPACE"," ",93],["T_ELSE","else",93],["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n\t\t\t",93],["T_VARIABLE","$data",94],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","''",94],";",["T_WHITESPACE","\n\t\t",94],"}",["T_WHITESPACE","\n\n\t\t",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_ISSET","isset",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","request",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","post",97],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",97],"]",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n\t\t\t",97],["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","request",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","post",98],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",98],"]",";",["T_WHITESPACE","\n\t\t",98],"}",["T_WHITESPACE"," ",99],["T_ELSE","else",99],["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t",99],["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","''",100],";",["T_WHITESPACE","\n\t\t",100],"}",["T_WHITESPACE","\n\n\t\t",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_ISSET","isset",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","request",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","post",103],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",103],"]",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\t\t\t",103],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","request",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","post",104],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",104],"]",";",["T_WHITESPACE","\n\t\t",104],"}",["T_WHITESPACE"," ",105],["T_ELSE","else",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t",105],["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],";",["T_WHITESPACE","\n\t\t",106],"}",["T_WHITESPACE","\n\n\t\t",107],["T_VARIABLE","$data",109],"[",["T_CONSTANT_ENCAPSED_STRING","'column_left'",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","load",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","controller",109],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/column_left'",109],")",";",["T_WHITESPACE","\n\t\t",109],["T_VARIABLE","$data",110],"[",["T_CONSTANT_ENCAPSED_STRING","'column_right'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","load",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","controller",110],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/column_right'",110],")",";",["T_WHITESPACE","\n\t\t",110],["T_VARIABLE","$data",111],"[",["T_CONSTANT_ENCAPSED_STRING","'content_top'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","load",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","controller",111],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/content_top'",111],")",";",["T_WHITESPACE","\n\t\t",111],["T_VARIABLE","$data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'content_bottom'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","load",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","controller",112],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/content_bottom'",112],")",";",["T_WHITESPACE","\n\t\t",112],["T_VARIABLE","$data",113],"[",["T_CONSTANT_ENCAPSED_STRING","'footer'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","load",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","controller",113],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/footer'",113],")",";",["T_WHITESPACE","\n\t\t",113],["T_VARIABLE","$data",114],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","load",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","controller",114],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/header'",114],")",";",["T_WHITESPACE","\n\n\t\t",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","response",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","setOutput",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","load",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","view",116],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/login'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$data",116],")",")",";",["T_WHITESPACE","\n\t",116],"}",["T_WHITESPACE","\n\n\t",117],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","validate",119],"(",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n\t\t",119],["T_COMMENT","\/\/ Check how many login attempts have been made.\n",120],["T_WHITESPACE","\t\t",121],["T_VARIABLE","$login_info",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","model_affiliate_affiliate",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getLoginAttempts",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","request",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","post",121],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",121],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\n\t\t",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$login_info",123],["T_WHITESPACE"," ",123],["T_BOOLEAN_AND","&&",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$login_info",123],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",123],"]",["T_WHITESPACE"," ",123],["T_IS_GREATER_OR_EQUAL",">=",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","config",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_CONSTANT_ENCAPSED_STRING","'config_login_attempts'",123],")",")",["T_WHITESPACE"," ",123],["T_BOOLEAN_AND","&&",123],["T_WHITESPACE"," ",123],["T_STRING","strtotime",123],"(",["T_CONSTANT_ENCAPSED_STRING","'-1 hour'",123],")",["T_WHITESPACE"," ",123],"<",["T_WHITESPACE"," ",123],["T_STRING","strtotime",123],"(",["T_VARIABLE","$login_info",123],"[",["T_CONSTANT_ENCAPSED_STRING","'date_modified'",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n\t\t\t",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","error",124],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","language",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","get",124],"(",["T_CONSTANT_ENCAPSED_STRING","'error_attempts'",124],")",";",["T_WHITESPACE","\n\t\t",124],"}",["T_WHITESPACE","\t\t\n\t\t\n\t\t",125],["T_COMMENT","\/\/ Check if affiliate has been approved.\n",127],["T_WHITESPACE","\t\t",128],["T_VARIABLE","$affiliate_info",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","model_affiliate_affiliate",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getAffiliateByEmail",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","request",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","post",128],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",128],"]",")",";",["T_WHITESPACE","\n\n\t\t",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$affiliate_info",130],["T_WHITESPACE"," ",130],["T_BOOLEAN_AND","&&",130],["T_WHITESPACE"," ",130],"!",["T_VARIABLE","$affiliate_info",130],"[",["T_CONSTANT_ENCAPSED_STRING","'approved'",130],"]",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t\t\t",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","error",131],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","language",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","get",131],"(",["T_CONSTANT_ENCAPSED_STRING","'error_approved'",131],")",";",["T_WHITESPACE","\n\t\t",131],"}",["T_WHITESPACE","\n\t\t\n\t\t",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","error",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n\t\t\t",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","affiliate",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","login",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","request",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","post",135],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",135],"]",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","request",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","post",135],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",135],"]",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n\t\t\t\t",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","error",136],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","language",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",["T_CONSTANT_ENCAPSED_STRING","'error_login'",136],")",";",["T_WHITESPACE","\n\t\t\t\n\t\t\t\t",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","model_affiliate_affiliate",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","addLoginAttempt",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","request",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","post",138],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",138],"]",")",";",["T_WHITESPACE","\n\t\t\t",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n\t\t\t\t",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","model_affiliate_affiliate",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","deleteLoginAttempts",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","request",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","post",140],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",140],"]",")",";",["T_WHITESPACE","\n\t\t\t",140],"}",["T_WHITESPACE","\n\t\t",141],"}",["T_WHITESPACE","\n\t\t\n\t\t",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],"!",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","error",144],";",["T_WHITESPACE","\n\t",144],"}",["T_WHITESPACE","\n",145],"}"]