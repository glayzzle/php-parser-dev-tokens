[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerExtensionModuleAmazonPay",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\n\t\t",3],["T_VARIABLE","$this",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","load",5],["T_OBJECT_OPERATOR","->",5],["T_STRING","model",5],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay'",5],")",";",["T_WHITESPACE","\n\n\t\t",5],["T_IF","if",7],["T_WHITESPACE"," ",7],"(",["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","config",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_status'",7],")",["T_WHITESPACE"," ",7],["T_BOOLEAN_AND","&&",7],["T_WHITESPACE"," ",7],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","config",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_status'",7],")",["T_WHITESPACE"," ",7],["T_BOOLEAN_AND","&&",7],["T_WHITESPACE"," ",7],"!",["T_EMPTY","empty",7],"(",["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","request",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","server",7],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",7],"]",")",["T_WHITESPACE"," ",7],["T_BOOLEAN_AND","&&",7],["T_WHITESPACE"," ",7],"!","(",["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","config",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_minimum_total'",7],")",["T_WHITESPACE"," ",7],">",["T_WHITESPACE"," ",7],["T_LNUMBER","0",7],["T_WHITESPACE"," ",7],["T_BOOLEAN_AND","&&",7],["T_WHITESPACE"," ",7],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","config",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_minimum_total'",7],")",["T_WHITESPACE"," ",7],">",["T_WHITESPACE"," ",7],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","cart",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","getSubTotal",7],"(",")",")",")",["T_WHITESPACE"," ",7],"{",["T_WHITESPACE","\n\t\t\t",7],["T_COMMENT","\/\/ capital L in Amazon cookie name is required, do not alter for coding standards\n",8],["T_WHITESPACE","\t\t\t",9],["T_IF","if",9],["T_WHITESPACE"," ",9],"(","!",["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","customer",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","isLogged",9],"(",")",["T_WHITESPACE"," ",9],["T_BOOLEAN_AND","&&",9],["T_WHITESPACE"," ",9],["T_ISSET","isset",9],"(",["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","request",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","cookie",9],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_Login_state_cache'",9],"]",")",")",["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\t\t\t\t",9],["T_STRING","setcookie",10],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_Login_state_cache'",10],",",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","''",10],",",["T_WHITESPACE"," ",10],["T_STRING","time",10],"(",")",["T_WHITESPACE"," ",10],"-",["T_WHITESPACE"," ",10],["T_LNUMBER","4815162342",10],")",";",["T_WHITESPACE","\n\t\t\t",10],"}",["T_WHITESPACE","\n\n\t\t\t",11],["T_VARIABLE","$amazon_payment_js",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","model_extension_payment_amazon_login_pay",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","getWidgetJs",13],"(",")",";",["T_WHITESPACE","\n\t\t\t",13],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","document",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","addScript",14],"(",["T_VARIABLE","$amazon_payment_js",14],")",";",["T_WHITESPACE","\n\n\t\t\t",14],["T_VARIABLE","$data",16],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_client_id'",16],"]",["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","config",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","get",16],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_client_id'",16],")",";",["T_WHITESPACE","\n\n\t\t\t",16],["T_IF","if",18],["T_WHITESPACE"," ",18],"(",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","config",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","get",18],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_test'",18],")",["T_WHITESPACE"," ",18],["T_IS_EQUAL","==",18],["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'sandbox'",18],")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\t\t\t\t",18],["T_VARIABLE","$data",19],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_test'",19],"]",["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","true",19],";",["T_WHITESPACE","\n\t\t\t",19],"}",["T_WHITESPACE","\n\n\t\t\t",20],["T_VARIABLE","$data",22],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_return_url'",22],"]",["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","url",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","link",22],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/module\/amazon_pay\/login'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","''",22],",",["T_WHITESPACE"," ",22],["T_STRING","true",22],")",";",["T_WHITESPACE","\n\n\t\t\t",22],["T_IF","if",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","config",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_type'",24],")",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\t\t\t\t",24],["T_VARIABLE","$data",25],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_type'",25],"]",["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","config",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_type'",25],")",";",["T_WHITESPACE","\n\t\t\t",25],"}",["T_WHITESPACE"," ",26],["T_ELSE","else",26],["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t\t\t",26],["T_VARIABLE","$data",27],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_type'",27],"]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'PwA'",27],";",["T_WHITESPACE","\n\t\t\t",27],"}",["T_WHITESPACE","\n\n\t\t\t",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","config",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_colour'",30],")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t\t",30],["T_VARIABLE","$data",31],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_colour'",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","config",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","get",31],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_colour'",31],")",";",["T_WHITESPACE","\n\t\t\t",31],"}",["T_WHITESPACE"," ",32],["T_ELSE","else",32],["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t\t",32],["T_VARIABLE","$data",33],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_colour'",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Gold'",33],";",["T_WHITESPACE","\n\t\t\t",33],"}",["T_WHITESPACE","\n\n\t\t\t",34],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","config",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","get",36],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_size'",36],")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\t\t\t\t",36],["T_VARIABLE","$data",37],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_size'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","config",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","get",37],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_size'",37],")",";",["T_WHITESPACE","\n\t\t\t",37],"}",["T_WHITESPACE"," ",38],["T_ELSE","else",38],["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\t\t\t\t",38],["T_VARIABLE","$data",39],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_pay_button_size'",39],"]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'medium'",39],";",["T_WHITESPACE","\n\t\t\t",39],"}",["T_WHITESPACE","\n\n\t\t\t",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","config",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_language'",42],")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t\t",42],["T_VARIABLE","$data",43],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_language'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","config",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_language'",43],")",";",["T_WHITESPACE","\n\t\t\t",43],"}",["T_WHITESPACE"," ",44],["T_ELSE","else",44],["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\t\t\t\t",44],["T_VARIABLE","$data",45],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_language'",45],"]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'en-US'",45],";",["T_WHITESPACE","\n\t\t\t",45],"}",["T_WHITESPACE","\n\n\t\t\t",46],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","load",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","view",48],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/module\/amazon_pay'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$data",48],")",";",["T_WHITESPACE","\n\t\t",48],"}",["T_WHITESPACE","\n\t",49],"}",["T_WHITESPACE","\n\n\t",50],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","login",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n\t\t",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","load",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","model",53],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay'",53],")",";",["T_WHITESPACE","\n\t\t",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","load",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","model",54],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/customer'",54],")",";",["T_WHITESPACE","\n\t\t",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","load",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","model",55],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/customer_group'",55],")",";",["T_WHITESPACE","\n\t\t",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","load",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","language",56],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay'",56],")",";",["T_WHITESPACE","\n\n\t\t",56],["T_UNSET","unset",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","session",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","data",58],"[",["T_CONSTANT_ENCAPSED_STRING","'lpa'",58],"]",")",";",["T_WHITESPACE","\n\t\t",58],["T_UNSET","unset",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","session",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","data",59],"[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",59],"]",")",";",["T_WHITESPACE","\n\n\t\t",59],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_ISSET","isset",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","request",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",61],"]",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n\t\t\t",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","session",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","request",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",62],"]",";",["T_WHITESPACE","\n\t\t\t",62],["T_VARIABLE","$user",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","model_extension_payment_amazon_login_pay",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getUserInfo",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","request",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","get",63],"[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",63],"]",")",";",["T_WHITESPACE","\n\t\t",63],"}",["T_WHITESPACE"," ",64],["T_ELSE","else",64],["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t\t",64],["T_VARIABLE","$user",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",")",";",["T_WHITESPACE","\n\t\t",65],"}",["T_WHITESPACE","\n\n\t\t",66],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_ARRAY_CAST","(array)",68],["T_VARIABLE","$user",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n\t\t\t",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_ISSET","isset",69],"(",["T_VARIABLE","$user",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","error",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n\t\t\t\t",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","model_extension_payment_amazon_login_pay",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","logger",70],"(",["T_VARIABLE","$user",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","error",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","': '",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_VARIABLE","$user",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","error_description",70],")",";",["T_WHITESPACE","\n\t\t\t\t",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","session",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","data",71],"[",["T_CONSTANT_ENCAPSED_STRING","'lpa'",71],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","language",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_CONSTANT_ENCAPSED_STRING","'error_login'",71],")",";",["T_WHITESPACE","\n\t\t\t\t",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","response",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","redirect",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","url",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","link",72],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/loginFailure'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","''",72],",",["T_WHITESPACE"," ",72],["T_STRING","true",72],")",")",";",["T_WHITESPACE","\n\t\t\t",72],"}",["T_WHITESPACE","\n\n\t\t\t",73],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","customer",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","isLogged",75],"(",")",["T_WHITESPACE"," ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","customer",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getEmail",75],"(",")",["T_WHITESPACE"," ",75],["T_IS_NOT_EQUAL","!=",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$user",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","email",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n\t\t\t\t",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","session",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","data",76],"[",["T_CONSTANT_ENCAPSED_STRING","'lpa'",76],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","sprintf",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","language",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'error_login_email'",76],")",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","config",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",76],")",")",";",["T_WHITESPACE","\n\t\t\t\t",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","response",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","redirect",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","url",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","link",77],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/loginFailure'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],",",["T_WHITESPACE"," ",77],["T_STRING","true",77],")",")",";",["T_WHITESPACE","\n\t\t\t",77],"}",["T_WHITESPACE"," ",78],["T_ELSEIF","elseif",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","customer",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","isLogged",78],"(",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t\t",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","model_extension_payment_amazon_login_pay",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","logger",79],"(",["T_CONSTANT_ENCAPSED_STRING","'isLogged'",79],")",";",["T_WHITESPACE","\n\t\t\t\t",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","response",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","redirect",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","url",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","link",80],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/address'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","''",80],",",["T_WHITESPACE"," ",80],["T_STRING","true",80],")",")",";",["T_WHITESPACE","\n\t\t\t",80],"}",["T_WHITESPACE","\n\n\t\t\t",81],["T_VARIABLE","$customer_info",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","model_account_customer",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getCustomerByEmail",83],"(",["T_VARIABLE","$user",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","email",83],")",";",["T_WHITESPACE","\n\t\t\t",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","model_extension_payment_amazon_login_pay",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","logger",84],"(",["T_VARIABLE","$user",84],")",";",["T_WHITESPACE","\n\n\t\t\t",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","config",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_login_pay_checkout'",86],")",["T_WHITESPACE"," ",86],["T_IS_EQUAL","==",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'guest'",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n\t\t\t\t",86],["T_VARIABLE","$full_name",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","explode",87],"(",["T_CONSTANT_ENCAPSED_STRING","' '",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$user",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","name",87],")",";",["T_WHITESPACE","\n\t\t\t\t",87],["T_VARIABLE","$last_name",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","array_pop",88],"(",["T_VARIABLE","$full_name",88],")",";",["T_WHITESPACE","\n\t\t\t\t",88],["T_VARIABLE","$first_name",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","implode",89],"(",["T_CONSTANT_ENCAPSED_STRING","' '",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$full_name",89],")",";",["T_WHITESPACE","\n\t\t\t\t",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","session",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'account'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'guest'",90],";",["T_WHITESPACE","\n\t\t\t\t",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","session",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",91],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",91],")",";",["T_WHITESPACE","\n\t\t\t\t",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","session",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$first_name",92],";",["T_WHITESPACE","\n\t\t\t\t",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","session",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","data",93],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$last_name",93],";",["T_WHITESPACE","\n\t\t\t\t",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","session",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","data",94],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'email'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$user",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","email",94],";",["T_WHITESPACE","\n\t\t\t\t",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","session",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","''",95],";",["T_WHITESPACE","\n\t\t\t\t",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","session",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fax'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","''",96],";",["T_WHITESPACE","\n\t\t\t\t",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","response",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","redirect",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","url",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","link",97],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/address'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","''",97],",",["T_WHITESPACE"," ",97],["T_STRING","true",97],")",")",";",["T_WHITESPACE","\n\t\t\t",97],"}",["T_WHITESPACE"," ",98],["T_ELSE","else",98],["T_WHITESPACE"," ",98],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$customer_info",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n\t\t\t\t",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","validate",99],"(",["T_VARIABLE","$user",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","email",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t\t\t",99],["T_UNSET","unset",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","session",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",100],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","load",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","model",102],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",102],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","config",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","get",104],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax_customer'",104],")",["T_WHITESPACE"," ",104],["T_IS_EQUAL","==",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'payment'",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",104],["T_VARIABLE","$payment_address",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","model_account_address",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getAddress",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","customer",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getAddressId",105],"(",")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",105],["T_IF","if",106],"(",["T_VARIABLE","$payment_address",106],")","{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","session",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","data",107],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address'",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$payment_address",107],";",["T_WHITESPACE","\n\t\t\t\t\t\t",107],"}",["T_WHITESPACE","\n\t\t\t\t\t",108],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","config",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax_customer'",111],")",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'shipping'",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",111],["T_VARIABLE","$shipping_address",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","model_account_address",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getAddress",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","customer",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getAddressId",112],"(",")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",112],["T_IF","if",113],"(",["T_VARIABLE","$shipping_address",113],")","{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","session",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","data",114],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$shipping_address",114],";",["T_WHITESPACE","\n\t\t\t\t\t\t",114],"}",["T_WHITESPACE","\n\t\t\t\t\t",115],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",116],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","config",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","get",118],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_activity'",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","load",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","model",119],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/activity'",119],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",119],["T_VARIABLE","$activity_data",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t",121],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","customer",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getId",122],"(",")",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",122],["T_CONSTANT_ENCAPSED_STRING","'name'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","customer",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getFirstName",123],"(",")",["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","' '",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","customer",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getLastName",123],"(",")",["T_WHITESPACE","\n\t\t\t\t\t\t",123],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",124],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","model_account_activity",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","addActivity",126],"(",["T_CONSTANT_ENCAPSED_STRING","'login'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$activity_data",126],")",";",["T_WHITESPACE","\n\t\t\t\t\t",126],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","model_extension_payment_amazon_login_pay",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","logger",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer logged in - ID: '",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_VARIABLE","$customer_info",129],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",129],"]",["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","', Email: '",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_VARIABLE","$customer_info",129],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",129],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t\t\t\t\t",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","model_extension_payment_amazon_login_pay",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","logger",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not login to - ID: '",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$customer_info",131],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",131],"]",["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","', Email: '",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$customer_info",131],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",131],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","session",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","data",132],"[",["T_CONSTANT_ENCAPSED_STRING","'lpa'",132],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","language",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",["T_CONSTANT_ENCAPSED_STRING","'error_login'",132],")",";",["T_WHITESPACE","\n\t\t\t\t\t",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","response",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","redirect",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","url",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","link",133],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/loginFailure'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","''",133],",",["T_WHITESPACE"," ",133],["T_STRING","true",133],")",")",";",["T_WHITESPACE","\n\t\t\t\t",133],"}",["T_WHITESPACE","\n\n\t\t\t\t",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","response",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","redirect",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","url",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","link",136],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/address'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","''",136],",",["T_WHITESPACE"," ",136],["T_STRING","true",136],")",")",";",["T_WHITESPACE","\n\t\t\t",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n\t\t\t\t",137],["T_VARIABLE","$country_id",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],";",["T_WHITESPACE","\n\t\t\t\t",138],["T_VARIABLE","$zone_id",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_LNUMBER","0",139],";",["T_WHITESPACE","\n\n\t\t\t\t",139],["T_VARIABLE","$full_name",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","explode",141],"(",["T_CONSTANT_ENCAPSED_STRING","' '",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$user",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","name",141],")",";",["T_WHITESPACE","\n\t\t\t\t",141],["T_VARIABLE","$last_name",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","array_pop",142],"(",["T_VARIABLE","$full_name",142],")",";",["T_WHITESPACE","\n\t\t\t\t",142],["T_VARIABLE","$first_name",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","implode",143],"(",["T_CONSTANT_ENCAPSED_STRING","' '",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$full_name",143],")",";",["T_WHITESPACE","\n\n\t\t\t\t",143],["T_VARIABLE","$data",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_WHITESPACE","\n\t\t\t\t\t",145],["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_INT_CAST","(int)",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","config",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","get",146],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",146],")",",",["T_WHITESPACE","\n\t\t\t\t\t",146],["T_CONSTANT_ENCAPSED_STRING","'firstname'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$first_name",147],",",["T_WHITESPACE","\n\t\t\t\t\t",147],["T_CONSTANT_ENCAPSED_STRING","'lastname'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$last_name",148],",",["T_WHITESPACE","\n\t\t\t\t\t",148],["T_CONSTANT_ENCAPSED_STRING","'email'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$user",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","email",149],",",["T_WHITESPACE","\n\t\t\t\t\t",149],["T_CONSTANT_ENCAPSED_STRING","'telephone'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],",",["T_WHITESPACE","\n\t\t\t\t\t",150],["T_CONSTANT_ENCAPSED_STRING","'fax'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","''",151],",",["T_WHITESPACE","\n\t\t\t\t\t",151],["T_CONSTANT_ENCAPSED_STRING","'password'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_STRING","uniqid",152],"(",["T_STRING","rand",152],"(",")",",",["T_WHITESPACE"," ",152],["T_STRING","true",152],")",",",["T_WHITESPACE","\n\t\t\t\t\t",152],["T_CONSTANT_ENCAPSED_STRING","'company'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","''",153],",",["T_WHITESPACE","\n\t\t\t\t\t",153],["T_CONSTANT_ENCAPSED_STRING","'address_1'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],",",["T_WHITESPACE","\n\t\t\t\t\t",154],["T_CONSTANT_ENCAPSED_STRING","'address_2'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],",",["T_WHITESPACE","\n\t\t\t\t\t",155],["T_CONSTANT_ENCAPSED_STRING","'city'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],",",["T_WHITESPACE","\n\t\t\t\t\t",156],["T_CONSTANT_ENCAPSED_STRING","'postcode'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","''",157],",",["T_WHITESPACE","\n\t\t\t\t\t",157],["T_CONSTANT_ENCAPSED_STRING","'country_id'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_INT_CAST","(int)",158],["T_VARIABLE","$country_id",158],",",["T_WHITESPACE","\n\t\t\t\t\t",158],["T_CONSTANT_ENCAPSED_STRING","'zone_id'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_INT_CAST","(int)",159],["T_VARIABLE","$zone_id",159],",",["T_WHITESPACE","\n\t\t\t\t",159],")",";",["T_WHITESPACE","\n\n\t\t\t\t",160],["T_VARIABLE","$customer_id",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","model_extension_payment_amazon_login_pay",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","addCustomer",162],"(",["T_VARIABLE","$data",162],")",";",["T_WHITESPACE","\n\n\t\t\t\t",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","model_extension_payment_amazon_login_pay",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","logger",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer ID created: '",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_VARIABLE","$customer_id",164],")",";",["T_WHITESPACE","\n\n\t\t\t\t",164],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","validate",166],"(",["T_VARIABLE","$user",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","email",166],")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n\t\t\t\t\t",166],["T_UNSET","unset",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","session",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","data",167],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",167],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",167],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","load",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","model",169],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",169],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","config",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","get",171],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax_customer'",171],")",["T_WHITESPACE"," ",171],["T_IS_EQUAL","==",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'payment'",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",171],["T_VARIABLE","$payment_address",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","model_account_address",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getAddress",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","customer",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getAddressId",172],"(",")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",172],["T_IF","if",173],"(",["T_VARIABLE","$payment_address",173],")","{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","session",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","data",174],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$payment_address",174],";",["T_WHITESPACE","\n\t\t\t\t\t\t",174],"}",["T_WHITESPACE","\n\t\t\t\t\t",175],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",176],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","config",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","get",178],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax_customer'",178],")",["T_WHITESPACE"," ",178],["T_IS_EQUAL","==",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'shipping'",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",178],["T_VARIABLE","$shipping_address",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","model_account_address",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getAddress",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","customer",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getAddressId",179],"(",")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",179],["T_IF","if",180],"(",["T_VARIABLE","$shipping_address",180],")","{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","session",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","data",181],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$shipping_address",181],";",["T_WHITESPACE","\n\t\t\t\t\t\t",181],"}",["T_WHITESPACE","\n\t\t\t\t\t",182],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",183],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","config",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","get",185],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_activity'",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","load",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","model",186],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/activity'",186],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",186],["T_VARIABLE","$activity_data",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t",188],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","customer",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getId",189],"(",")",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",189],["T_CONSTANT_ENCAPSED_STRING","'name'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","customer",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getFirstName",190],"(",")",["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","' '",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","customer",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getLastName",190],"(",")",["T_WHITESPACE","\n\t\t\t\t\t\t",190],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",191],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","model_account_activity",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","addActivity",193],"(",["T_CONSTANT_ENCAPSED_STRING","'login'",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$activity_data",193],")",";",["T_WHITESPACE","\n\t\t\t\t\t",193],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",194],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","model_extension_payment_amazon_login_pay",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","logger",196],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer logged in - ID: '",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$customer_id",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","', Email: '",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$user",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","email",196],")",";",["T_WHITESPACE","\n\t\t\t\t\t",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","response",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","redirect",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","url",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","link",197],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/address'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","''",197],",",["T_WHITESPACE"," ",197],["T_STRING","true",197],")",")",";",["T_WHITESPACE","\n\t\t\t\t",197],"}",["T_WHITESPACE"," ",198],["T_ELSE","else",198],["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n\t\t\t\t\t",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","model_extension_payment_amazon_login_pay",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","logger",199],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not login to - ID: '",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_VARIABLE","$customer_id",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","', Email: '",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_VARIABLE","$user",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","email",199],")",";",["T_WHITESPACE","\n\t\t\t\t\t",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","session",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'lpa'",200],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","language",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","get",200],"(",["T_CONSTANT_ENCAPSED_STRING","'error_login'",200],")",";",["T_WHITESPACE","\n\t\t\t\t\t",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","response",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","redirect",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","url",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","link",201],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/loginFailure'",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","''",201],",",["T_WHITESPACE"," ",201],["T_STRING","true",201],")",")",";",["T_WHITESPACE","\n\t\t\t\t",201],"}",["T_WHITESPACE","\n\t\t\t",202],"}",["T_WHITESPACE","\n\t\t",203],"}",["T_WHITESPACE"," ",204],["T_ELSE","else",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n\n\t\t\t",204],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","session",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","data",206],"[",["T_CONSTANT_ENCAPSED_STRING","'lpa'",206],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","language",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'error_login'",206],")",";",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","response",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","redirect",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","url",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","link",207],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/amazon_login_pay\/loginFailure'",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","''",207],",",["T_WHITESPACE"," ",207],["T_STRING","true",207],")",")",";",["T_WHITESPACE","\n\t\t",207],"}",["T_WHITESPACE","\n\t",208],"}",["T_WHITESPACE","\n\n\t",209],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","logout",211],"(",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n\t\t",211],["T_UNSET","unset",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","session",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","data",212],"[",["T_CONSTANT_ENCAPSED_STRING","'lpa'",212],"]",")",";",["T_WHITESPACE","\n\t\t",212],["T_UNSET","unset",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","session",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","data",213],"[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",213],"]",")",";",["T_WHITESPACE","\n\n\t\t",213],["T_COMMENT","\/\/ capital L in Amazon cookie name is required, do not alter for coding standards\n",215],["T_WHITESPACE","\t\t",216],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_ISSET","isset",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","request",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","cookie",216],"[",["T_CONSTANT_ENCAPSED_STRING","'amazon_Login_state_cache'",216],"]",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n\t\t\t",216],["T_STRING","setcookie",217],"(",["T_CONSTANT_ENCAPSED_STRING","'amazon_Login_state_cache'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],",",["T_WHITESPACE"," ",217],["T_STRING","time",217],"(",")",["T_WHITESPACE"," ",217],"-",["T_WHITESPACE"," ",217],["T_LNUMBER","4815162342",217],")",";",["T_WHITESPACE","\n\t\t",217],"}",["T_WHITESPACE","\n\t",218],"}",["T_WHITESPACE","\n\n\t",219],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","validate",221],"(",["T_VARIABLE","$email",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n\t\t",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(","!",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","customer",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","login",222],"(",["T_VARIABLE","$email",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","''",222],",",["T_WHITESPACE"," ",222],["T_STRING","true",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n\t\t\t",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","error",223],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","language",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","get",223],"(",["T_CONSTANT_ENCAPSED_STRING","'error_login'",223],")",";",["T_WHITESPACE","\n\t\t",223],"}",["T_WHITESPACE","\n\n\t\t",224],["T_VARIABLE","$customer_info",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","model_account_customer",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getCustomerByEmail",226],"(",["T_VARIABLE","$email",226],")",";",["T_WHITESPACE","\n\n\t\t",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$customer_info",228],["T_WHITESPACE"," ",228],["T_BOOLEAN_AND","&&",228],["T_WHITESPACE"," ",228],"!",["T_VARIABLE","$customer_info",228],"[",["T_CONSTANT_ENCAPSED_STRING","'approved'",228],"]",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t\t",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","error",229],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","language",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","get",229],"(",["T_CONSTANT_ENCAPSED_STRING","'error_approved'",229],")",";",["T_WHITESPACE","\n\t\t",229],"}",["T_WHITESPACE","\n\n\t\t",230],["T_RETURN","return",232],["T_WHITESPACE"," ",232],"!",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","error",232],";",["T_WHITESPACE","\n\t",232],"}",["T_WHITESPACE","\n\n",233],"}",["T_WHITESPACE","\n",235]]