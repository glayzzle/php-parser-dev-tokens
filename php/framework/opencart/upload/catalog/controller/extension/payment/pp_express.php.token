[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerExtensionPaymentPPExpress",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$data",6],"[",["T_CONSTANT_ENCAPSED_STRING","'button_continue'",6],"]",["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","language",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'button_continue'",6],")",";",["T_WHITESPACE","\n\t\t",6],["T_VARIABLE","$data",7],"[",["T_CONSTANT_ENCAPSED_STRING","'text_loading'",7],"]",["T_WHITESPACE"," ",7],"=",["T_WHITESPACE"," ",7],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","language",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'text_loading'",7],")",";",["T_WHITESPACE","\n\n\t\t",7],["T_VARIABLE","$data",9],"[",["T_CONSTANT_ENCAPSED_STRING","'continue'",9],"]",["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","url",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","link",9],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/checkout'",9],",",["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","''",9],",",["T_WHITESPACE"," ",9],["T_STRING","true",9],")",";",["T_WHITESPACE","\n\n\t\t",9],["T_UNSET","unset",11],"(",["T_VARIABLE","$this",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","session",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","data",11],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",11],"]",")",";",["T_WHITESPACE","\n\n\t\t",11],["T_RETURN","return",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","load",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","view",13],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",13],",",["T_WHITESPACE"," ",13],["T_VARIABLE","$data",13],")",";",["T_WHITESPACE","\n\t",13],"}",["T_WHITESPACE","\n\n\t",14],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","express",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\t\t",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","load",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","model",17],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",17],")",";",["T_WHITESPACE","\n\n\t\t",17],["T_IF","if",19],["T_WHITESPACE"," ",19],"(","(","!",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","cart",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","hasProducts",19],"(",")",["T_WHITESPACE"," ",19],["T_BOOLEAN_AND","&&",19],["T_WHITESPACE"," ",19],["T_EMPTY","empty",19],"(",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","session",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","data",19],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",19],"]",")",")",["T_WHITESPACE"," ",19],["T_BOOLEAN_OR","||",19],["T_WHITESPACE"," ",19],"(","!",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","cart",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","hasStock",19],"(",")",["T_WHITESPACE"," ",19],["T_BOOLEAN_AND","&&",19],["T_WHITESPACE"," ",19],"!",["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","config",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","get",19],"(",["T_CONSTANT_ENCAPSED_STRING","'config_stock_checkout'",19],")",")",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\t\t\t",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","response",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","redirect",20],"(",["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","url",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","link",20],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",20],")",")",";",["T_WHITESPACE","\n\t\t",20],"}",["T_WHITESPACE","\n\n\t\t",21],["T_IF","if",23],["T_WHITESPACE"," ",23],"(",["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","customer",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","isLogged",23],"(",")",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\t\t\t",23],["T_DOC_COMMENT","\/**\n\t\t\t * If the customer is already logged in\n\t\t\t *\/",24],["T_WHITESPACE","\n\t\t\t",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","session",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","data",27],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",27],"]","[",["T_CONSTANT_ENCAPSED_STRING","'guest'",27],"]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","false",27],";",["T_WHITESPACE","\n\n\t\t\t",27],["T_UNSET","unset",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","session",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","data",29],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",29],"]",")",";",["T_WHITESPACE","\n\t\t",29],"}",["T_WHITESPACE"," ",30],["T_ELSE","else",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\t\t\t",30],["T_IF","if",31],["T_WHITESPACE"," ",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","config",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","get",31],"(",["T_CONSTANT_ENCAPSED_STRING","'config_checkout_guest'",31],")",["T_WHITESPACE"," ",31],["T_BOOLEAN_AND","&&",31],["T_WHITESPACE"," ",31],"!",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","config",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","get",31],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_price'",31],")",["T_WHITESPACE"," ",31],["T_BOOLEAN_AND","&&",31],["T_WHITESPACE"," ",31],"!",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","cart",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","hasDownload",31],"(",")",["T_WHITESPACE"," ",31],["T_BOOLEAN_AND","&&",31],["T_WHITESPACE"," ",31],"!",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","cart",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","hasRecurringProducts",31],"(",")",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\t\t\t\t",31],["T_DOC_COMMENT","\/**\n\t\t\t\t * If the guest checkout is allowed (config ok, no login for price and doesn't have downloads)\n\t\t\t\t *\/",32],["T_WHITESPACE","\n\t\t\t\t",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","session",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","data",35],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",35],"]","[",["T_CONSTANT_ENCAPSED_STRING","'guest'",35],"]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","true",35],";",["T_WHITESPACE","\n\t\t\t",35],"}",["T_WHITESPACE"," ",36],["T_ELSE","else",36],["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\t\t\t\t",36],["T_DOC_COMMENT","\/**\n\t\t\t\t * If guest checkout disabled or login is required before price or order has downloads\n\t\t\t\t *\n\t\t\t\t * Send them to the normal checkout flow.\n\t\t\t\t *\/",37],["T_WHITESPACE","\n\t\t\t\t",41],["T_UNSET","unset",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","session",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","data",42],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",42],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","response",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","redirect",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","url",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","link",44],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","''",44],",",["T_WHITESPACE"," ",44],["T_STRING","true",44],")",")",";",["T_WHITESPACE","\n\t\t\t",44],"}",["T_WHITESPACE","\n\t\t",45],"}",["T_WHITESPACE","\n\n\t\t",46],["T_UNSET","unset",48],"(",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","session",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","data",48],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",48],"]",")",";",["T_WHITESPACE","\n\t\t",48],["T_UNSET","unset",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","session",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","data",49],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",49],"]",")",";",["T_WHITESPACE","\n\t\t",49],["T_UNSET","unset",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","session",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","data",50],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",50],"]",")",";",["T_WHITESPACE","\n\t\t",50],["T_UNSET","unset",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","session",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","data",51],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_methods'",51],"]",")",";",["T_WHITESPACE","\n\n\t\t",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","load",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","model",53],"(",["T_CONSTANT_ENCAPSED_STRING","'tool\/image'",53],")",";",["T_WHITESPACE","\n\n\t\t",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","cart",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","hasShipping",55],"(",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n\t\t\t",55],["T_VARIABLE","$shipping",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","2",56],";",["T_WHITESPACE","\n\t\t",56],"}",["T_WHITESPACE"," ",57],["T_ELSE","else",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n\t\t\t",57],["T_VARIABLE","$shipping",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_LNUMBER","1",58],";",["T_WHITESPACE","\n\t\t",58],"}",["T_WHITESPACE","\n\n\t\t",59],["T_VARIABLE","$max_amount",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","cart",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getTotal",61],"(",")",["T_WHITESPACE"," ",61],"*",["T_WHITESPACE"," ",61],["T_DNUMBER","1.5",61],";",["T_WHITESPACE","\n\t\t",61],["T_VARIABLE","$max_amount",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","currency",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","format",62],"(",["T_VARIABLE","$max_amount",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","session",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",62],"]",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","''",62],",",["T_WHITESPACE"," ",62],["T_STRING","false",62],")",";",["T_WHITESPACE","\n\n\t\t",62],["T_VARIABLE","$data",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n\t\t\t",64],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",65],["T_WHITESPACE","             ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'SetExpressCheckout'",65],",",["T_WHITESPACE","\n\t\t\t",65],["T_CONSTANT_ENCAPSED_STRING","'MAXAMT'",66],["T_WHITESPACE","             ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$max_amount",66],",",["T_WHITESPACE","\n\t\t\t",66],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",67],["T_WHITESPACE","          ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","url",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","link",67],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressReturn'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","''",67],",",["T_WHITESPACE"," ",67],["T_STRING","true",67],")",",",["T_WHITESPACE","\n\t\t\t",67],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",68],["T_WHITESPACE","          ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","url",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","link",68],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE"," ",68],["T_STRING","true",68],")",",",["T_WHITESPACE","\n\t\t\t",68],["T_CONSTANT_ENCAPSED_STRING","'REQCONFIRMSHIPPING'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","0",69],",",["T_WHITESPACE","\n\t\t\t",69],["T_CONSTANT_ENCAPSED_STRING","'NOSHIPPING'",70],["T_WHITESPACE","         ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$shipping",70],",",["T_WHITESPACE","\n\t\t\t",70],["T_CONSTANT_ENCAPSED_STRING","'ALLOWNOTE'",71],["T_WHITESPACE","          ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","config",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_allow_note'",71],")",",",["T_WHITESPACE","\n\t\t\t",71],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",72],["T_WHITESPACE","         ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'EN'",72],",",["T_WHITESPACE","\n\t\t\t",72],["T_CONSTANT_ENCAPSED_STRING","'LANDINGPAGE'",73],["T_WHITESPACE","        ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Login'",73],",",["T_WHITESPACE","\n\t\t\t",73],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",74],["T_WHITESPACE","             ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","model_tool_image",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","resize",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","config",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_logo'",74],")",",",["T_WHITESPACE"," ",74],["T_LNUMBER","750",74],",",["T_WHITESPACE"," ",74],["T_LNUMBER","90",74],")",",",["T_WHITESPACE","\n\t\t\t",74],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",75],["T_WHITESPACE","       ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","config",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_colour'",75],")",",",["T_WHITESPACE","\n\t\t\t",75],["T_CONSTANT_ENCAPSED_STRING","'CHANNELTYPE'",76],["T_WHITESPACE","        ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Merchant'",76],["T_WHITESPACE","\n\t\t",76],")",";",["T_WHITESPACE","\n\n\t\t",77],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_ISSET","isset",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","session",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","data",79],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",79],"]",")",["T_WHITESPACE"," ",79],["T_BOOLEAN_AND","&&",79],["T_WHITESPACE"," ",79],"(",["T_ISSET","isset",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","session",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","data",79],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",79],"]",")",["T_WHITESPACE"," ",79],["T_BOOLEAN_AND","&&",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","session",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","data",79],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",79],"]",["T_WHITESPACE"," ",79],["T_IS_EQUAL","==",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","customer",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getId",79],"(",")",")",["T_WHITESPACE"," ",79],["T_BOOLEAN_AND","&&",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","config",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_login_seamless'",79],")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n\t\t\t",79],["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'IDENTITYACCESSTOKEN'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","session",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",80],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",80],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",80],"]",";",["T_WHITESPACE","\n\t\t",80],"}",["T_WHITESPACE","\n\n\t\t",81],["T_VARIABLE","$data",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","array_merge",83],"(",["T_VARIABLE","$data",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","model_extension_payment_pp_express",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","paymentRequestInfo",83],"(",")",")",";",["T_WHITESPACE","\n\n\t\t",83],["T_VARIABLE","$result",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","model_extension_payment_pp_express",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","call",85],"(",["T_VARIABLE","$data",85],")",";",["T_WHITESPACE","\n\n\t\t",85],["T_DOC_COMMENT","\/**\n\t\t * If a failed PayPal setup happens, handle it.\n\t\t *\/",87],["T_WHITESPACE","\n\t\t",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_ISSET","isset",90],"(",["T_VARIABLE","$result",90],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",90],"]",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n\t\t\t",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","session",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$result",91],"[",["T_CONSTANT_ENCAPSED_STRING","'L_LONGMESSAGE0'",91],"]",";",["T_WHITESPACE","\n\t\t\t",91],["T_DOC_COMMENT","\/**\n\t\t\t * Unable to add error message to user as the session errors\/success are not\n\t\t\t * used on the cart or checkout pages - need to be added?\n\t\t\t * If PayPal debug log is off then still log error to normal error log.\n\t\t\t *\/",92],["T_WHITESPACE","\n\n\t\t\t",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","log",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","write",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to create PayPal call: '",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_STRING","json_encode",98],"(",["T_VARIABLE","$result",98],")",")",";",["T_WHITESPACE","\n\n\t\t\t",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","response",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","redirect",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","url",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","link",100],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","''",100],",",["T_WHITESPACE"," ",100],["T_STRING","true",100],")",")",";",["T_WHITESPACE","\n\t\t",100],"}",["T_WHITESPACE","\n\n\t\t",101],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","session",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$result",103],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",103],"]",";",["T_WHITESPACE","\n\n\t\t",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","config",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_test'",105],")",["T_WHITESPACE"," ",105],["T_IS_EQUAL","==",105],["T_WHITESPACE"," ",105],["T_LNUMBER","1",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t",105],["T_STRING","header",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: https:\/\/www.sandbox.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_VARIABLE","$result",106],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",106],"]",")",";",["T_WHITESPACE","\n\t\t",106],"}",["T_WHITESPACE"," ",107],["T_ELSE","else",107],["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n\t\t\t",107],["T_STRING","header",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: https:\/\/www.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_VARIABLE","$result",108],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",108],"]",")",";",["T_WHITESPACE","\n\t\t",108],"}",["T_WHITESPACE","\n\t",109],"}",["T_WHITESPACE","\n\n\t",110],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","expressReturn",112],"(",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n\t\t",112],["T_DOC_COMMENT","\/**\n\t\t * This is the url when PayPal has completed the auth.\n\t\t *\n\t\t * It has no output, instead it sets the data and locates to checkout\n\t\t *\/",113],["T_WHITESPACE","\n\t\t",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","load",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","model",118],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",118],")",";",["T_WHITESPACE","\n\t\t",118],["T_VARIABLE","$data",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n\t\t\t",119],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'GetExpressCheckoutDetails'",120],",",["T_WHITESPACE","\n\t\t\t",120],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",121],["T_WHITESPACE","  ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","session",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","data",121],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",121],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",121],"]",["T_WHITESPACE","\n\t\t",121],")",";",["T_WHITESPACE","\n\n\t\t",122],["T_VARIABLE","$result",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","model_extension_payment_pp_express",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","call",124],"(",["T_VARIABLE","$data",124],")",";",["T_WHITESPACE","\n\t\t",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","session",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","data",125],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",125],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payerid'",125],"]",["T_WHITESPACE","   ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$result",125],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",125],"]",";",["T_WHITESPACE","\n\t\t",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","session",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","data",126],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",126],"]","[",["T_CONSTANT_ENCAPSED_STRING","'result'",126],"]",["T_WHITESPACE","    ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$result",126],";",["T_WHITESPACE","\n\n\t\t",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","session",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","data",128],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","''",128],";",["T_WHITESPACE","\n\t\t",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_ISSET","isset",129],"(",["T_VARIABLE","$result",129],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_NOTETEXT'",129],"]",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n\t\t\t",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","session",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","data",130],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$result",130],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_NOTETEXT'",130],"]",";",["T_WHITESPACE","\n\t\t",130],"}",["T_WHITESPACE","\n\n\t\t",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","session",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","data",133],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",133],"]","[",["T_CONSTANT_ENCAPSED_STRING","'guest'",133],"]",["T_WHITESPACE"," ",133],["T_IS_EQUAL","==",133],["T_WHITESPACE"," ",133],["T_STRING","true",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n\n\t\t\t",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","session",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","data",135],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",135],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","config",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","get",135],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",135],")",";",["T_WHITESPACE","\n\t\t\t",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","session",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","data",136],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","trim",136],"(",["T_VARIABLE","$result",136],"[",["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",136],"]",")",";",["T_WHITESPACE","\n\t\t\t",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","session",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",137],"]","[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","trim",137],"(",["T_VARIABLE","$result",137],"[",["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",137],"]",")",";",["T_WHITESPACE","\n\t\t\t",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","session",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","data",138],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",138],"]","[",["T_CONSTANT_ENCAPSED_STRING","'email'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","trim",138],"(",["T_VARIABLE","$result",138],"[",["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",138],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",138],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_ISSET","isset",140],"(",["T_VARIABLE","$result",140],"[",["T_CONSTANT_ENCAPSED_STRING","'PHONENUM'",140],"]",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n\t\t\t\t",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","session",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","data",141],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$result",141],"[",["T_CONSTANT_ENCAPSED_STRING","'PHONENUM'",141],"]",";",["T_WHITESPACE","\n\t\t\t",141],"}",["T_WHITESPACE"," ",142],["T_ELSE","else",142],["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n\t\t\t\t",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","session",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","data",143],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",143],"]","[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","''",143],";",["T_WHITESPACE","\n\t\t\t",143],"}",["T_WHITESPACE","\n\n\t\t\t",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","session",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fax'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","''",146],";",["T_WHITESPACE","\n\n\t\t\t",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","session",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","data",148],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",148],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",148],"]","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","trim",148],"(",["T_VARIABLE","$result",148],"[",["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",148],"]",")",";",["T_WHITESPACE","\n\t\t\t",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","session",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","data",149],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",149],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",149],"]","[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","trim",149],"(",["T_VARIABLE","$result",149],"[",["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",149],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_ISSET","isset",151],"(",["T_VARIABLE","$result",151],"[",["T_CONSTANT_ENCAPSED_STRING","'BUSINESS'",151],"]",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t\t\t",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","session",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","data",152],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",152],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",152],"]","[",["T_CONSTANT_ENCAPSED_STRING","'company'",152],"]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$result",152],"[",["T_CONSTANT_ENCAPSED_STRING","'BUSINESS'",152],"]",";",["T_WHITESPACE","\n\t\t\t",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n\t\t\t\t",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","session",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","data",154],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",154],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",154],"]","[",["T_CONSTANT_ENCAPSED_STRING","'company'",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],";",["T_WHITESPACE","\n\t\t\t",154],"}",["T_WHITESPACE","\n\n\t\t\t",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","session",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","data",157],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",157],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",157],"]","[",["T_CONSTANT_ENCAPSED_STRING","'company_id'",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","''",157],";",["T_WHITESPACE","\n\t\t\t",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","session",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","data",158],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tax_id'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],";",["T_WHITESPACE","\n\n\t\t\t",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","cart",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","hasShipping",160],"(",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n\t\t\t\t",160],["T_VARIABLE","$shipping_name",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","explode",161],"(",["T_CONSTANT_ENCAPSED_STRING","' '",161],",",["T_WHITESPACE"," ",161],["T_STRING","trim",161],"(",["T_VARIABLE","$result",161],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTONAME'",161],"]",")",")",";",["T_WHITESPACE","\n\t\t\t\t",161],["T_VARIABLE","$shipping_first_name",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$shipping_name",162],"[",["T_LNUMBER","0",162],"]",";",["T_WHITESPACE","\n\t\t\t\t",162],["T_UNSET","unset",163],"(",["T_VARIABLE","$shipping_name",163],"[",["T_LNUMBER","0",163],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",163],["T_VARIABLE","$shipping_last_name",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","implode",164],"(",["T_CONSTANT_ENCAPSED_STRING","' '",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$shipping_name",164],")",";",["T_WHITESPACE","\n\n\t\t\t\t",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","session",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","data",166],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$result",166],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET'",166],"]",";",["T_WHITESPACE","\n\t\t\t\t",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_ISSET","isset",167],"(",["T_VARIABLE","$result",167],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET2'",167],"]",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n\t\t\t\t\t",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","session",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","data",168],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",168],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",168],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$result",168],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET2'",168],"]",";",["T_WHITESPACE","\n\t\t\t\t",168],"}",["T_WHITESPACE"," ",169],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t\t\t",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","session",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","data",170],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",170],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",170],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","''",170],";",["T_WHITESPACE","\n\t\t\t\t",170],"}",["T_WHITESPACE","\n\n\t\t\t\t",171],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","session",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","data",173],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$result",173],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOZIP'",173],"]",";",["T_WHITESPACE","\n\t\t\t\t",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","session",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","data",174],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'city'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$result",174],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOCITY'",174],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","session",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","data",176],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",176],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",176],"]","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$shipping_first_name",176],";",["T_WHITESPACE","\n\t\t\t\t",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","session",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","data",177],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",177],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",177],"]","[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$shipping_last_name",177],";",["T_WHITESPACE","\n\t\t\t\t",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","session",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","data",178],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",178],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",178],"]","[",["T_CONSTANT_ENCAPSED_STRING","'company'",178],"]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","''",178],";",["T_WHITESPACE","\n\t\t\t\t",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","session",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","data",179],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",179],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",179],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$result",179],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET'",179],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",179],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_ISSET","isset",181],"(",["T_VARIABLE","$result",181],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET2'",181],"]",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n\t\t\t\t\t",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","session",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","data",182],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$result",182],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET2'",182],"]",";",["T_WHITESPACE","\n\t\t\t\t",182],"}",["T_WHITESPACE"," ",183],["T_ELSE","else",183],["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n\t\t\t\t\t",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","session",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","data",184],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","''",184],";",["T_WHITESPACE","\n\t\t\t\t",184],"}",["T_WHITESPACE","\n\n\t\t\t\t",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","session",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","data",187],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",187],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",187],"]","[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$result",187],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOZIP'",187],"]",";",["T_WHITESPACE","\n\t\t\t\t",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","session",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","data",188],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",188],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",188],"]","[",["T_CONSTANT_ENCAPSED_STRING","'city'",188],"]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$result",188],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOCITY'",188],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","session",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","data",190],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$result",190],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOZIP'",190],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",190],["T_VARIABLE","$country_info",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","db",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","query",192],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_STRING","DB_PREFIX",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","\"country` WHERE `iso_code_2` = '\"",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","db",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","escape",192],"(",["T_VARIABLE","$result",192],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOCOUNTRYCODE'",192],"]",")",["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","\"' AND `status` = '1' LIMIT 1\"",192],")",["T_OBJECT_OPERATOR","->",192],["T_STRING","row",192],";",["T_WHITESPACE","\n\n\t\t\t\t",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$country_info",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n\t\t\t\t\t",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","session",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","data",195],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",195],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",195],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",195],"]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$country_info",195],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",195],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","session",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","data",196],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",196],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",196],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country'",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$country_info",196],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",196],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","session",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","data",197],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",197],"]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$country_info",197],"[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",197],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","session",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","data",198],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",198],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",198],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",198],"]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$country_info",198],"[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",198],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","session",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","data",199],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",199],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",199],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",199],"]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$country_info",199],"[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",199],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","session",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",200],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",200],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$country_info",200],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",200],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","session",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","data",201],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",201],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",201],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country'",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$country_info",201],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",201],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","session",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","data",202],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",202],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",202],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$country_info",202],"[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",202],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","session",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","data",203],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$country_info",203],"[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",203],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","session",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","data",204],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$country_info",204],"[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",204],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","session",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","data",205],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country_id'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$country_info",205],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",205],"]",";",["T_WHITESPACE","\n\t\t\t\t",205],"}",["T_WHITESPACE"," ",206],["T_ELSE","else",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n\t\t\t\t\t",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","session",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","data",207],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",207],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",207],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","''",207],";",["T_WHITESPACE","\n\t\t\t\t\t",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","session",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","data",208],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",208],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",208],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country'",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","''",208],";",["T_WHITESPACE","\n\t\t\t\t\t",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","session",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","data",209],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",209],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",209],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",209],"]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","''",209],";",["T_WHITESPACE","\n\t\t\t\t\t",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","session",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","data",210],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",210],"]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","''",210],";",["T_WHITESPACE","\n\t\t\t\t\t",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","session",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","data",211],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","''",211],";",["T_WHITESPACE","\n\t\t\t\t\t",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","session",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","data",212],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",212],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",212],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","''",212],";",["T_WHITESPACE","\n\t\t\t\t\t",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","session",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","data",213],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",213],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",213],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country'",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","''",213],";",["T_WHITESPACE","\n\t\t\t\t\t",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","session",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","data",214],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",214],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",214],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","''",214],";",["T_WHITESPACE","\n\t\t\t\t\t",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","session",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","data",215],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","''",215],";",["T_WHITESPACE","\n\t\t\t\t\t",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","session",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","data",216],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",216],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",216],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",216],"]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","''",216],";",["T_WHITESPACE","\n\t\t\t\t\t",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","session",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","data",217],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country_id'",217],"]",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],";",["T_WHITESPACE","\n\t\t\t\t",217],"}",["T_WHITESPACE","\n\n\t\t\t\t",218],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_ISSET","isset",220],"(",["T_VARIABLE","$result",220],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTATE'",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n\t\t\t\t\t",220],["T_VARIABLE","$returned_shipping_zone",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$result",221],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTATE'",221],"]",";",["T_WHITESPACE","\n\t\t\t\t",221],"}",["T_WHITESPACE"," ",222],["T_ELSE","else",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n\t\t\t\t\t",222],["T_VARIABLE","$returned_shipping_zone",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],";",["T_WHITESPACE","\n\t\t\t\t",223],"}",["T_WHITESPACE","\n\n\t\t\t\t",224],["T_VARIABLE","$zone_info",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","db",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","query",226],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_STRING","DB_PREFIX",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","\"zone` WHERE (`name` = '\"",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","db",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","escape",226],"(",["T_VARIABLE","$returned_shipping_zone",226],")",["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","\"' OR `code` = '\"",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","db",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","escape",226],"(",["T_VARIABLE","$returned_shipping_zone",226],")",["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","\"') AND `status` = '1' AND `country_id` = '\"",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_INT_CAST","(int)",226],["T_VARIABLE","$country_info",226],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",226],"]",["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",226],")",["T_OBJECT_OPERATOR","->",226],["T_STRING","row",226],";",["T_WHITESPACE","\n\n\t\t\t\t",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$zone_info",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n\t\t\t\t\t",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","session",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","data",229],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",229],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",229],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone'",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$zone_info",229],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",229],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","session",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","data",230],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",230],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",230],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_code'",230],"]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$zone_info",230],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",230],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","session",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","data",231],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",231],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",231],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",231],"]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$zone_info",231],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",231],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","session",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","data",232],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone'",232],"]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$zone_info",232],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",232],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","session",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","data",233],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",233],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",233],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_code'",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$zone_info",233],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",233],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","session",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","data",234],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",234],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",234],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$zone_info",234],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",234],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","session",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","data",235],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone_id'",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$zone_info",235],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",235],"]",";",["T_WHITESPACE","\n\t\t\t\t",235],"}",["T_WHITESPACE"," ",236],["T_ELSE","else",236],["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n\t\t\t\t\t",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","session",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","data",237],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",237],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",237],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone'",237],"]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","''",237],";",["T_WHITESPACE","\n\t\t\t\t\t",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","session",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","data",238],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_code'",238],"]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","''",238],";",["T_WHITESPACE","\n\t\t\t\t\t",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","session",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","data",239],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",239],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",239],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",239],"]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","''",239],";",["T_WHITESPACE","\n\t\t\t\t\t",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","session",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","data",240],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone'",240],"]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","''",240],";",["T_WHITESPACE","\n\t\t\t\t\t",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","session",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","data",241],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",241],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",241],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_code'",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],";",["T_WHITESPACE","\n\t\t\t\t\t",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","session",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","data",242],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",242],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",242],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","''",242],";",["T_WHITESPACE","\n\t\t\t\t\t",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","session",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","data",243],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone_id'",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","''",243],";",["T_WHITESPACE","\n\t\t\t\t",243],"}",["T_WHITESPACE","\n\n\t\t\t\t",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","session",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","data",246],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",246],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",246],"]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","true",246],";",["T_WHITESPACE","\n\t\t\t",246],"}",["T_WHITESPACE"," ",247],["T_ELSE","else",247],["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n\t\t\t\t",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","session",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","data",248],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",248],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",248],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",248],"]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","''",248],";",["T_WHITESPACE","\n\t\t\t\t",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","session",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","data",249],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",249],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",249],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",249],"]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","''",249],";",["T_WHITESPACE","\n\t\t\t\t",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","session",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","data",250],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",250],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",250],"]","[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",250],"]",["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","''",250],";",["T_WHITESPACE","\n\t\t\t\t",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","session",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","data",251],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",251],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",251],"]","[",["T_CONSTANT_ENCAPSED_STRING","'city'",251],"]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","''",251],";",["T_WHITESPACE","\n\t\t\t\t",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","session",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","data",252],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",252],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",252],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","''",252],";",["T_WHITESPACE","\n\t\t\t\t",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","session",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","data",253],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",253],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",253],"]","[",["T_CONSTANT_ENCAPSED_STRING","'country'",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","''",253],";",["T_WHITESPACE","\n\t\t\t\t",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","session",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","data",254],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",254],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",254],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_2'",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","''",254],";",["T_WHITESPACE","\n\t\t\t\t",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","session",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","data",255],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'iso_code_3'",255],"]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","''",255],";",["T_WHITESPACE","\n\t\t\t\t",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","session",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","data",256],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","''",256],";",["T_WHITESPACE","\n\t\t\t\t",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","session",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","data",257],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",257],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",257],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone'",257],"]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","''",257],";",["T_WHITESPACE","\n\t\t\t\t",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","session",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","data",258],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_code'",258],"]",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","''",258],";",["T_WHITESPACE","\n\t\t\t\t",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","session",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","data",259],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",259],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",259],"]","[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",259],"]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","''",259],";",["T_WHITESPACE","\n\t\t\t\t",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","session",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","data",260],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",260],"]",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","false",260],";",["T_WHITESPACE","\n\t\t\t",260],"}",["T_WHITESPACE","\n\n\t\t\t",261],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","session",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","data",263],"[",["T_CONSTANT_ENCAPSED_STRING","'account'",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'guest'",263],";",["T_WHITESPACE","\n\n\t\t\t",263],["T_UNSET","unset",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","session",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","data",265],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",265],"]",")",";",["T_WHITESPACE","\n\t\t\t",265],["T_UNSET","unset",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","session",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","data",266],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",266],"]",")",";",["T_WHITESPACE","\n\t\t\t",266],["T_UNSET","unset",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","session",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","data",267],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",267],"]",")",";",["T_WHITESPACE","\n\t\t\t",267],["T_UNSET","unset",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","session",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","data",268],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_methods'",268],"]",")",";",["T_WHITESPACE","\n\t\t",268],"}",["T_WHITESPACE"," ",269],["T_ELSE","else",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n\t\t\t",269],["T_UNSET","unset",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","session",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","data",270],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",270],"]",")",";",["T_WHITESPACE","\n\t\t\t",270],["T_DOC_COMMENT","\/**\n\t\t\t * if the user is logged in, add the address to the account and set the ID.\n\t\t\t *\/",271],["T_WHITESPACE","\n\n\t\t\t",273],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","cart",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","hasShipping",275],"(",")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n\t\t\t\t",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","load",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","model",276],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",276],")",";",["T_WHITESPACE","\n\n\t\t\t\t",276],["T_VARIABLE","$addresses",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","model_account_address",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getAddresses",278],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",278],["T_DOC_COMMENT","\/**\n\t\t\t\t * Compare all of the user addresses and see if there is a match\n\t\t\t\t *\/",280],["T_WHITESPACE","\n\t\t\t\t",282],["T_VARIABLE","$match",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","false",283],";",["T_WHITESPACE","\n\t\t\t\t",283],["T_FOREACH","foreach",284],"(",["T_VARIABLE","$addresses",284],["T_WHITESPACE"," ",284],["T_AS","as",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$address",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n\t\t\t\t\t",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_STRING","trim",285],"(",["T_STRING","strtolower",285],"(",["T_VARIABLE","$address",285],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",285],"]",")",")",["T_WHITESPACE"," ",285],["T_IS_EQUAL","==",285],["T_WHITESPACE"," ",285],["T_STRING","trim",285],"(",["T_STRING","strtolower",285],"(",["T_VARIABLE","$result",285],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET'",285],"]",")",")",["T_WHITESPACE"," ",285],["T_BOOLEAN_AND","&&",285],["T_WHITESPACE"," ",285],["T_STRING","trim",285],"(",["T_STRING","strtolower",285],"(",["T_VARIABLE","$address",285],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",285],"]",")",")",["T_WHITESPACE"," ",285],["T_IS_EQUAL","==",285],["T_WHITESPACE"," ",285],["T_STRING","trim",285],"(",["T_STRING","strtolower",285],"(",["T_VARIABLE","$result",285],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOZIP'",285],"]",")",")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",285],["T_VARIABLE","$match",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","true",286],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",286],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","session",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","data",288],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",288],"]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$address",288],"[",["T_CONSTANT_ENCAPSED_STRING","'address_id'",288],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","session",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","data",289],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_country_id'",289],"]",["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$address",289],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",289],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","session",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","data",290],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_zone_id'",290],"]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$address",290],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",290],"]",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",290],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","session",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","data",292],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_id'",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$address",292],"[",["T_CONSTANT_ENCAPSED_STRING","'address_id'",292],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","session",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","data",293],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country_id'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$address",293],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",293],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","session",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","data",294],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone_id'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$address",294],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",294],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","session",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","data",295],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$address",295],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",295],"]",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",295],["T_BREAK","break",297],";",["T_WHITESPACE","\n\t\t\t\t\t",297],"}",["T_WHITESPACE","\n\t\t\t\t",298],"}",["T_WHITESPACE","\n\n\t\t\t\t",299],["T_DOC_COMMENT","\/**\n\t\t\t\t * If there is no address match add the address and set the info.\n\t\t\t\t *\/",301],["T_WHITESPACE","\n\t\t\t\t",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$match",304],["T_WHITESPACE"," ",304],["T_IS_EQUAL","==",304],["T_WHITESPACE"," ",304],["T_STRING","false",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n\n\t\t\t\t\t",304],["T_VARIABLE","$shipping_name",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_STRING","explode",306],"(",["T_CONSTANT_ENCAPSED_STRING","' '",306],",",["T_WHITESPACE"," ",306],["T_STRING","trim",306],"(",["T_VARIABLE","$result",306],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTONAME'",306],"]",")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",306],["T_VARIABLE","$shipping_first_name",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$shipping_name",307],"[",["T_LNUMBER","0",307],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",307],["T_UNSET","unset",308],"(",["T_VARIABLE","$shipping_name",308],"[",["T_LNUMBER","0",308],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",308],["T_VARIABLE","$shipping_last_name",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","implode",309],"(",["T_CONSTANT_ENCAPSED_STRING","' '",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$shipping_name",309],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",309],["T_VARIABLE","$country_info",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","db",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","query",311],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_STRING","DB_PREFIX",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","\"country` WHERE `iso_code_2` = '\"",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","db",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","escape",311],"(",["T_VARIABLE","$result",311],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOCOUNTRYCODE'",311],"]",")",["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","\"' AND `status` = '1' LIMIT 1\"",311],")",["T_OBJECT_OPERATOR","->",311],["T_STRING","row",311],";",["T_WHITESPACE","\n\t\t\t\t\t",311],["T_VARIABLE","$zone_info",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","db",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","query",312],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT * FROM `\"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_STRING","DB_PREFIX",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"zone` WHERE (`name` = '\"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","db",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","escape",312],"(",["T_VARIABLE","$result",312],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTATE'",312],"]",")",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"' OR `code` = '\"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","db",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","escape",312],"(",["T_VARIABLE","$result",312],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTATE'",312],"]",")",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"') AND `status` = '1' AND `country_id` = '\"",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_INT_CAST","(int)",312],["T_VARIABLE","$country_info",312],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",312],"]",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","\"'\"",312],")",["T_OBJECT_OPERATOR","->",312],["T_STRING","row",312],";",["T_WHITESPACE","\n\n\t\t\t\t\t",312],["T_VARIABLE","$address_data",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_ARRAY","array",314],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",314],["T_CONSTANT_ENCAPSED_STRING","'firstname'",315],["T_WHITESPACE","  ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$shipping_first_name",315],",",["T_WHITESPACE","\n\t\t\t\t\t\t",315],["T_CONSTANT_ENCAPSED_STRING","'lastname'",316],["T_WHITESPACE","   ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$shipping_last_name",316],",",["T_WHITESPACE","\n\t\t\t\t\t\t",316],["T_CONSTANT_ENCAPSED_STRING","'company'",317],["T_WHITESPACE","    ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","''",317],",",["T_WHITESPACE","\n\t\t\t\t\t\t",317],["T_CONSTANT_ENCAPSED_STRING","'company_id'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","''",318],",",["T_WHITESPACE","\n\t\t\t\t\t\t",318],["T_CONSTANT_ENCAPSED_STRING","'tax_id'",319],["T_WHITESPACE","     ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","''",319],",",["T_WHITESPACE","\n\t\t\t\t\t\t",319],["T_CONSTANT_ENCAPSED_STRING","'address_1'",320],["T_WHITESPACE","  ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$result",320],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET'",320],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",320],["T_CONSTANT_ENCAPSED_STRING","'address_2'",321],["T_WHITESPACE","  ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],"(",["T_ISSET","isset",321],"(",["T_VARIABLE","$result",321],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET2'",321],"]",")",["T_WHITESPACE"," ",321],"?",["T_WHITESPACE"," ",321],["T_VARIABLE","$result",321],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET2'",321],"]",["T_WHITESPACE"," ",321],":",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","''",321],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",321],["T_CONSTANT_ENCAPSED_STRING","'postcode'",322],["T_WHITESPACE","   ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$result",322],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOZIP'",322],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",322],["T_CONSTANT_ENCAPSED_STRING","'city'",323],["T_WHITESPACE","       ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$result",323],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOCITY'",323],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",323],["T_CONSTANT_ENCAPSED_STRING","'zone_id'",324],["T_WHITESPACE","    ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],"(",["T_ISSET","isset",324],"(",["T_VARIABLE","$zone_info",324],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",324],"]",")",["T_WHITESPACE"," ",324],"?",["T_WHITESPACE"," ",324],["T_VARIABLE","$zone_info",324],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",324],"]",["T_WHITESPACE"," ",324],":",["T_WHITESPACE"," ",324],["T_LNUMBER","0",324],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",324],["T_CONSTANT_ENCAPSED_STRING","'country_id'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],"(",["T_ISSET","isset",325],"(",["T_VARIABLE","$country_info",325],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",325],"]",")",["T_WHITESPACE"," ",325],"?",["T_WHITESPACE"," ",325],["T_VARIABLE","$country_info",325],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",325],"]",["T_WHITESPACE"," ",325],":",["T_WHITESPACE"," ",325],["T_LNUMBER","0",325],")",["T_WHITESPACE","\n\t\t\t\t\t",325],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",326],["T_VARIABLE","$address_id",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","model_account_address",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","addAddress",328],"(",["T_VARIABLE","$address_data",328],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",328],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","session",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","data",330],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",330],"]",["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$address_id",330],";",["T_WHITESPACE","\n\t\t\t\t\t",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","session",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","data",331],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_country_id'",331],"]",["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$address_data",331],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",331],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","session",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","data",332],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_zone_id'",332],"]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$address_data",332],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",332],"]",";",["T_WHITESPACE","\n\n\t\t\t\t\t",332],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","session",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","data",334],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_id'",334],"]",["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$address_id",334],";",["T_WHITESPACE","\n\t\t\t\t\t",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","session",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","data",335],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country_id'",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$address_data",335],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",335],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","session",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","data",336],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone_id'",336],"]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$address_data",336],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",336],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","session",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","data",337],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",337],"]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$address_data",337],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",337],"]",";",["T_WHITESPACE","\n\t\t\t\t",337],"}",["T_WHITESPACE","\n\t\t\t",338],"}",["T_WHITESPACE"," ",339],["T_ELSE","else",339],["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n\t\t\t\t",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","session",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","data",340],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",340],"]",["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","''",340],";",["T_WHITESPACE","\n\t\t\t\t",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","session",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","data",341],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_country_id'",341],"]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","''",341],";",["T_WHITESPACE","\n\t\t\t\t",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","session",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","data",342],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_zone_id'",342],"]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","''",342],";",["T_WHITESPACE","\n\t\t\t",342],"}",["T_WHITESPACE","\n\t\t",343],"}",["T_WHITESPACE","\n\n\t\t",344],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","response",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","redirect",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","url",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","link",346],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",346],",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","''",346],",",["T_WHITESPACE"," ",346],["T_STRING","true",346],")",")",";",["T_WHITESPACE","\n\t",346],"}",["T_WHITESPACE","\n\n\t",347],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","expressConfirm",349],"(",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n\t\t",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","load",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","language",350],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",350],")",";",["T_WHITESPACE","\n\t\t",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","load",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","language",351],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",351],")",";",["T_WHITESPACE","\n\n\t\t",351],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","load",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","model",353],"(",["T_CONSTANT_ENCAPSED_STRING","'tool\/image'",353],")",";",["T_WHITESPACE","\n\n\t\t",353],["T_COMMENT","\/\/ Coupon\n",355],["T_WHITESPACE","\t\t",356],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_ISSET","isset",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","request",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","post",356],"[",["T_CONSTANT_ENCAPSED_STRING","'coupon'",356],"]",")",["T_WHITESPACE"," ",356],["T_BOOLEAN_AND","&&",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","validateCoupon",356],"(",")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n\t\t\t",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","session",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","data",357],"[",["T_CONSTANT_ENCAPSED_STRING","'coupon'",357],"]",["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","request",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","post",357],"[",["T_CONSTANT_ENCAPSED_STRING","'coupon'",357],"]",";",["T_WHITESPACE","\n\n\t\t\t",357],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","session",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","data",359],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",359],"]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","language",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","get",359],"(",["T_CONSTANT_ENCAPSED_STRING","'text_coupon'",359],")",";",["T_WHITESPACE","\n\n\t\t\t",359],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","response",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","redirect",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","url",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","link",361],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","''",361],",",["T_WHITESPACE"," ",361],["T_STRING","true",361],")",")",";",["T_WHITESPACE","\n\t\t",361],"}",["T_WHITESPACE","\n\n\t\t",362],["T_COMMENT","\/\/ Voucher\n",364],["T_WHITESPACE","\t\t",365],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_ISSET","isset",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","request",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","post",365],"[",["T_CONSTANT_ENCAPSED_STRING","'voucher'",365],"]",")",["T_WHITESPACE"," ",365],["T_BOOLEAN_AND","&&",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","validateVoucher",365],"(",")",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n\t\t\t",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","session",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","data",366],"[",["T_CONSTANT_ENCAPSED_STRING","'voucher'",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","request",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","post",366],"[",["T_CONSTANT_ENCAPSED_STRING","'voucher'",366],"]",";",["T_WHITESPACE","\n\n\t\t\t",366],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","session",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","data",368],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",368],"]",["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","language",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","get",368],"(",["T_CONSTANT_ENCAPSED_STRING","'text_voucher'",368],")",";",["T_WHITESPACE","\n\n\t\t\t",368],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","response",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","redirect",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","url",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","link",370],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","''",370],",",["T_WHITESPACE"," ",370],["T_STRING","true",370],")",")",";",["T_WHITESPACE","\n\t\t",370],"}",["T_WHITESPACE","\n\n\t\t",371],["T_COMMENT","\/\/ Reward\n",373],["T_WHITESPACE","\t\t",374],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_ISSET","isset",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","request",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","post",374],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",374],"]",")",["T_WHITESPACE"," ",374],["T_BOOLEAN_AND","&&",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","validateReward",374],"(",")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n\t\t\t",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","session",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","data",375],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",375],"]",["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","abs",375],"(",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","request",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","post",375],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",375],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",375],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","session",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","data",377],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",377],"]",["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","language",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","get",377],"(",["T_CONSTANT_ENCAPSED_STRING","'text_reward'",377],")",";",["T_WHITESPACE","\n\n\t\t\t",377],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","response",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","redirect",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","url",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","link",379],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",379],",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","''",379],",",["T_WHITESPACE"," ",379],["T_STRING","true",379],")",")",";",["T_WHITESPACE","\n\t\t",379],"}",["T_WHITESPACE","\n\n\t\t",380],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","document",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","setTitle",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","language",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","get",382],"(",["T_CONSTANT_ENCAPSED_STRING","'express_text_title'",382],")",")",";",["T_WHITESPACE","\n\n\t\t",382],["T_VARIABLE","$data",384],"[",["T_CONSTANT_ENCAPSED_STRING","'heading_title'",384],"]",["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","language",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","get",384],"(",["T_CONSTANT_ENCAPSED_STRING","'express_text_title'",384],")",";",["T_WHITESPACE","\n\n\t\t",384],["T_VARIABLE","$data",386],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",")",";",["T_WHITESPACE","\n\n\t\t",386],["T_VARIABLE","$data",388],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",388],"]","[","]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",["T_WHITESPACE","\n\t\t\t",388],["T_CONSTANT_ENCAPSED_STRING","'href'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","url",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","link",389],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/home'",389],")",",",["T_WHITESPACE","\n\t\t\t",389],["T_CONSTANT_ENCAPSED_STRING","'text'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","language",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","get",390],"(",["T_CONSTANT_ENCAPSED_STRING","'text_home'",390],")",["T_WHITESPACE","\n\t\t",390],")",";",["T_WHITESPACE","\n\n\t\t",391],["T_VARIABLE","$data",393],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",393],"]","[","]",["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_ARRAY","array",393],"(",["T_WHITESPACE","\n\t\t\t",393],["T_CONSTANT_ENCAPSED_STRING","'href'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","url",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","link",394],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/express'",394],")",",",["T_WHITESPACE","\n\t\t\t",394],["T_CONSTANT_ENCAPSED_STRING","'text'",395],["T_WHITESPACE"," ",395],["T_DOUBLE_ARROW","=>",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","language",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","get",395],"(",["T_CONSTANT_ENCAPSED_STRING","'text_title'",395],")",["T_WHITESPACE","\n\t\t",395],")",";",["T_WHITESPACE","\n\n\t\t",396],["T_VARIABLE","$data",398],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",398],"]","[","]",["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_ARRAY","array",398],"(",["T_WHITESPACE","\n\t\t\t",398],["T_CONSTANT_ENCAPSED_STRING","'href'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","url",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","link",399],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",399],")",",",["T_WHITESPACE","\n\t\t\t",399],["T_CONSTANT_ENCAPSED_STRING","'text'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","language",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","get",400],"(",["T_CONSTANT_ENCAPSED_STRING","'express_text_title'",400],")",["T_WHITESPACE","\n\t\t",400],")",";",["T_WHITESPACE","\n\n\t\t",401],["T_VARIABLE","$points",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","customer",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getRewardPoints",403],"(",")",";",["T_WHITESPACE","\n\n\t\t",403],["T_VARIABLE","$points_total",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_LNUMBER","0",405],";",["T_WHITESPACE","\n\n\t\t",405],["T_FOREACH","foreach",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","cart",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getProducts",407],"(",")",["T_WHITESPACE"," ",407],["T_AS","as",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$product",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n\t\t\t",407],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$product",408],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",408],"]",")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n\t\t\t\t",408],["T_VARIABLE","$points_total",409],["T_WHITESPACE"," ",409],["T_PLUS_EQUAL","+=",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$product",409],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",409],"]",";",["T_WHITESPACE","\n\t\t\t",409],"}",["T_WHITESPACE","\n\t\t",410],"}",["T_WHITESPACE","\n\n\t\t",411],["T_VARIABLE","$data",413],"[",["T_CONSTANT_ENCAPSED_STRING","'text_trial'",413],"]",["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","language",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","get",413],"(",["T_CONSTANT_ENCAPSED_STRING","'text_trial'",413],")",";",["T_WHITESPACE","\n\t\t",413],["T_VARIABLE","$data",414],"[",["T_CONSTANT_ENCAPSED_STRING","'text_recurring'",414],"]",["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","language",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","get",414],"(",["T_CONSTANT_ENCAPSED_STRING","'text_recurring'",414],")",";",["T_WHITESPACE","\n\t\t",414],["T_VARIABLE","$data",415],"[",["T_CONSTANT_ENCAPSED_STRING","'text_length'",415],"]",["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","language",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","get",415],"(",["T_CONSTANT_ENCAPSED_STRING","'text_length'",415],")",";",["T_WHITESPACE","\n\t\t",415],["T_VARIABLE","$data",416],"[",["T_CONSTANT_ENCAPSED_STRING","'text_recurring_item'",416],"]",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","language",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","get",416],"(",["T_CONSTANT_ENCAPSED_STRING","'text_recurring_item'",416],")",";",["T_WHITESPACE","\n\t\t",416],["T_VARIABLE","$data",417],"[",["T_CONSTANT_ENCAPSED_STRING","'text_payment_recurring'",417],"]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","language",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","get",417],"(",["T_CONSTANT_ENCAPSED_STRING","'text_payment_recurring'",417],")",";",["T_WHITESPACE","\n\t\t",417],["T_VARIABLE","$data",418],"[",["T_CONSTANT_ENCAPSED_STRING","'text_until_cancelled'",418],"]",["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","language",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","get",418],"(",["T_CONSTANT_ENCAPSED_STRING","'text_until_cancelled'",418],")",";",["T_WHITESPACE","\n\n\t\t",418],["T_VARIABLE","$data",420],"[",["T_CONSTANT_ENCAPSED_STRING","'column_name'",420],"]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","language",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","get",420],"(",["T_CONSTANT_ENCAPSED_STRING","'column_name'",420],")",";",["T_WHITESPACE","\n\t\t",420],["T_VARIABLE","$data",421],"[",["T_CONSTANT_ENCAPSED_STRING","'column_model'",421],"]",["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","language",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","get",421],"(",["T_CONSTANT_ENCAPSED_STRING","'column_model'",421],")",";",["T_WHITESPACE","\n\t\t",421],["T_VARIABLE","$data",422],"[",["T_CONSTANT_ENCAPSED_STRING","'column_quantity'",422],"]",["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","language",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","get",422],"(",["T_CONSTANT_ENCAPSED_STRING","'column_quantity'",422],")",";",["T_WHITESPACE","\n\t\t",422],["T_VARIABLE","$data",423],"[",["T_CONSTANT_ENCAPSED_STRING","'column_price'",423],"]",["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","language",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","get",423],"(",["T_CONSTANT_ENCAPSED_STRING","'column_price'",423],")",";",["T_WHITESPACE","\n\t\t",423],["T_VARIABLE","$data",424],"[",["T_CONSTANT_ENCAPSED_STRING","'column_total'",424],"]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","language",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","get",424],"(",["T_CONSTANT_ENCAPSED_STRING","'column_total'",424],")",";",["T_WHITESPACE","\n\n\t\t",424],["T_VARIABLE","$data",426],"[",["T_CONSTANT_ENCAPSED_STRING","'button_shipping'",426],"]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","language",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","get",426],"(",["T_CONSTANT_ENCAPSED_STRING","'button_express_shipping'",426],")",";",["T_WHITESPACE","\n\t\t",426],["T_VARIABLE","$data",427],"[",["T_CONSTANT_ENCAPSED_STRING","'button_confirm'",427],"]",["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","language",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","get",427],"(",["T_CONSTANT_ENCAPSED_STRING","'button_express_confirm'",427],")",";",["T_WHITESPACE","\n\n\t\t",427],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_ISSET","isset",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","request",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","post",429],"[",["T_CONSTANT_ENCAPSED_STRING","'next'",429],"]",")",")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n\t\t\t",429],["T_VARIABLE","$data",430],"[",["T_CONSTANT_ENCAPSED_STRING","'next'",430],"]",["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","request",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","post",430],"[",["T_CONSTANT_ENCAPSED_STRING","'next'",430],"]",";",["T_WHITESPACE","\n\t\t",430],"}",["T_WHITESPACE"," ",431],["T_ELSE","else",431],["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n\t\t\t",431],["T_VARIABLE","$data",432],"[",["T_CONSTANT_ENCAPSED_STRING","'next'",432],"]",["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","''",432],";",["T_WHITESPACE","\n\t\t",432],"}",["T_WHITESPACE","\n\n\t\t",433],["T_VARIABLE","$data",435],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",435],"]",["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","url",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","link",435],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",435],",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","''",435],",",["T_WHITESPACE"," ",435],["T_STRING","true",435],")",";",["T_WHITESPACE","\n\n\t\t",435],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","load",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","model",437],"(",["T_CONSTANT_ENCAPSED_STRING","'tool\/upload'",437],")",";",["T_WHITESPACE","\n\n\t\t",437],["T_VARIABLE","$products",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","cart",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getProducts",439],"(",")",";",["T_WHITESPACE","\n\n\t\t",439],["T_FOREACH","foreach",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$products",441],["T_WHITESPACE"," ",441],["T_AS","as",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$product",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n\t\t\t",441],["T_VARIABLE","$product_total",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_LNUMBER","0",442],";",["T_WHITESPACE","\n\n\t\t\t",442],["T_FOREACH","foreach",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$products",444],["T_WHITESPACE"," ",444],["T_AS","as",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$product_2",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n\t\t\t\t",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$product_2",445],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",445],"]",["T_WHITESPACE"," ",445],["T_IS_EQUAL","==",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$product",445],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",445],"]",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n\t\t\t\t\t",445],["T_VARIABLE","$product_total",446],["T_WHITESPACE"," ",446],["T_PLUS_EQUAL","+=",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$product_2",446],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",446],"]",";",["T_WHITESPACE","\n\t\t\t\t",446],"}",["T_WHITESPACE","\n\t\t\t",447],"}",["T_WHITESPACE","\n\n\t\t\t",448],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$product",450],"[",["T_CONSTANT_ENCAPSED_STRING","'minimum'",450],"]",["T_WHITESPACE"," ",450],">",["T_WHITESPACE"," ",450],["T_VARIABLE","$product_total",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n\t\t\t\t",450],["T_VARIABLE","$data",451],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",451],"]",["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","sprintf",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","language",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","get",451],"(",["T_CONSTANT_ENCAPSED_STRING","'error_minimum'",451],")",",",["T_WHITESPACE"," ",451],["T_VARIABLE","$product",451],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",451],"]",",",["T_WHITESPACE"," ",451],["T_VARIABLE","$product",451],"[",["T_CONSTANT_ENCAPSED_STRING","'minimum'",451],"]",")",";",["T_WHITESPACE","\n\t\t\t",451],"}",["T_WHITESPACE","\n\n\t\t\t",452],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_VARIABLE","$product",454],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",454],"]",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n\t\t\t\t",454],["T_VARIABLE","$image",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","model_tool_image",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","resize",455],"(",["T_VARIABLE","$product",455],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",455],"]",",",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","config",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","get",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","config",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","get",455],"(",["T_CONSTANT_ENCAPSED_STRING","'config_theme'",455],")",["T_WHITESPACE"," ",455],".",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'_image_cart_width'",455],")",",",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","config",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","get",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","config",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","get",455],"(",["T_CONSTANT_ENCAPSED_STRING","'config_theme'",455],")",["T_WHITESPACE"," ",455],".",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'_image_cart_height'",455],")",")",";",["T_WHITESPACE","\n\t\t\t",455],"}",["T_WHITESPACE"," ",456],["T_ELSE","else",456],["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n\t\t\t\t",456],["T_VARIABLE","$image",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","''",457],";",["T_WHITESPACE","\n\t\t\t",457],"}",["T_WHITESPACE","\n\n\t\t\t",458],["T_VARIABLE","$option_data",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_ARRAY","array",460],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",460],["T_FOREACH","foreach",462],["T_WHITESPACE"," ",462],"(",["T_VARIABLE","$product",462],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",462],"]",["T_WHITESPACE"," ",462],["T_AS","as",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$option",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n\t\t\t\t",462],["T_IF","if",463],["T_WHITESPACE"," ",463],"(",["T_VARIABLE","$option",463],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",463],"]",["T_WHITESPACE"," ",463],["T_IS_NOT_EQUAL","!=",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'file'",463],")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n\t\t\t\t\t",463],["T_VARIABLE","$value",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$option",464],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",464],"]",";",["T_WHITESPACE","\n\t\t\t\t",464],"}",["T_WHITESPACE"," ",465],["T_ELSE","else",465],["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n\t\t\t\t\t",465],["T_VARIABLE","$upload_info",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","model_tool_upload",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getUploadByCode",466],"(",["T_VARIABLE","$option",466],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",466],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",466],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_VARIABLE","$upload_info",468],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",468],["T_VARIABLE","$value",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$upload_info",469],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",469],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",469],"}",["T_WHITESPACE"," ",470],["T_ELSE","else",470],["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",470],["T_VARIABLE","$value",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","''",471],";",["T_WHITESPACE","\n\t\t\t\t\t",471],"}",["T_WHITESPACE","\n\t\t\t\t",472],"}",["T_WHITESPACE","\n\n\t\t\t\t",473],["T_VARIABLE","$option_data",475],"[","]",["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_ARRAY","array",475],"(",["T_WHITESPACE","\n\t\t\t\t\t",475],["T_CONSTANT_ENCAPSED_STRING","'name'",476],["T_WHITESPACE","  ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$option",476],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",476],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",476],["T_CONSTANT_ENCAPSED_STRING","'value'",477],["T_WHITESPACE"," ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],"(",["T_STRING","utf8_strlen",477],"(",["T_VARIABLE","$value",477],")",["T_WHITESPACE"," ",477],">",["T_WHITESPACE"," ",477],["T_LNUMBER","20",477],["T_WHITESPACE"," ",477],"?",["T_WHITESPACE"," ",477],["T_STRING","utf8_substr",477],"(",["T_VARIABLE","$value",477],",",["T_WHITESPACE"," ",477],["T_LNUMBER","0",477],",",["T_WHITESPACE"," ",477],["T_LNUMBER","20",477],")",["T_WHITESPACE"," ",477],".",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'..'",477],["T_WHITESPACE"," ",477],":",["T_WHITESPACE"," ",477],["T_VARIABLE","$value",477],")",["T_WHITESPACE","\n\t\t\t\t",477],")",";",["T_WHITESPACE","\n\t\t\t",478],"}",["T_WHITESPACE","\n\n\t\t\t",479],["T_COMMENT","\/\/ Display prices\n",481],["T_WHITESPACE","\t\t\t",482],["T_IF","if",482],["T_WHITESPACE"," ",482],"(",["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","customer",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","isLogged",482],"(",")",["T_WHITESPACE"," ",482],["T_BOOLEAN_OR","||",482],["T_WHITESPACE"," ",482],"!",["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","config",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","get",482],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_price'",482],")",")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n\t\t\t\t",482],["T_VARIABLE","$price",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","currency",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","format",483],"(",["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","tax",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","calculate",483],"(",["T_VARIABLE","$product",483],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",483],"]",",",["T_WHITESPACE"," ",483],["T_VARIABLE","$product",483],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",483],"]",",",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","config",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","get",483],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",483],")",")",",",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","session",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","data",483],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",483],"]",")",";",["T_WHITESPACE","\n\t\t\t",483],"}",["T_WHITESPACE"," ",484],["T_ELSE","else",484],["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n\t\t\t\t",484],["T_VARIABLE","$price",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_STRING","false",485],";",["T_WHITESPACE","\n\t\t\t",485],"}",["T_WHITESPACE","\n\n\t\t\t",486],["T_COMMENT","\/\/ Display prices\n",488],["T_WHITESPACE","\t\t\t",489],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","customer",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","isLogged",489],"(",")",["T_WHITESPACE"," ",489],["T_BOOLEAN_OR","||",489],["T_WHITESPACE"," ",489],"!",["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","config",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","get",489],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_price'",489],")",")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n\t\t\t\t",489],["T_VARIABLE","$total",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","currency",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","format",490],"(",["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","tax",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","calculate",490],"(",["T_VARIABLE","$product",490],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",490],"]",",",["T_WHITESPACE"," ",490],["T_VARIABLE","$product",490],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",490],"]",",",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","config",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","get",490],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",490],")",")",["T_WHITESPACE"," ",490],"*",["T_WHITESPACE"," ",490],["T_VARIABLE","$product",490],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",490],"]",",",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","session",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","data",490],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",490],"]",")",";",["T_WHITESPACE","\n\t\t\t",490],"}",["T_WHITESPACE"," ",491],["T_ELSE","else",491],["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n\t\t\t\t",491],["T_VARIABLE","$total",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","false",492],";",["T_WHITESPACE","\n\t\t\t",492],"}",["T_WHITESPACE","\n\n\t\t\t",493],["T_VARIABLE","$recurring_description",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","''",495],";",["T_WHITESPACE","\n\n\t\t\t",495],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$product",497],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",497],"]",")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n\t\t\t\t",497],["T_VARIABLE","$frequencies",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_ARRAY","array",498],"(",["T_WHITESPACE","\n\t\t\t\t\t",498],["T_CONSTANT_ENCAPSED_STRING","'day'",499],["T_WHITESPACE","        ",499],["T_DOUBLE_ARROW","=>",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","language",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","get",499],"(",["T_CONSTANT_ENCAPSED_STRING","'text_day'",499],")",",",["T_WHITESPACE","\n\t\t\t\t\t",499],["T_CONSTANT_ENCAPSED_STRING","'week'",500],["T_WHITESPACE","       ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","language",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","get",500],"(",["T_CONSTANT_ENCAPSED_STRING","'text_week'",500],")",",",["T_WHITESPACE","\n\t\t\t\t\t",500],["T_CONSTANT_ENCAPSED_STRING","'semi_month'",501],["T_WHITESPACE"," ",501],["T_DOUBLE_ARROW","=>",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","language",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","get",501],"(",["T_CONSTANT_ENCAPSED_STRING","'text_semi_month'",501],")",",",["T_WHITESPACE","\n\t\t\t\t\t",501],["T_CONSTANT_ENCAPSED_STRING","'month'",502],["T_WHITESPACE","      ",502],["T_DOUBLE_ARROW","=>",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","language",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","get",502],"(",["T_CONSTANT_ENCAPSED_STRING","'text_month'",502],")",",",["T_WHITESPACE","\n\t\t\t\t\t",502],["T_CONSTANT_ENCAPSED_STRING","'year'",503],["T_WHITESPACE","       ",503],["T_DOUBLE_ARROW","=>",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","language",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","get",503],"(",["T_CONSTANT_ENCAPSED_STRING","'text_year'",503],")",",",["T_WHITESPACE","\n\t\t\t\t",503],")",";",["T_WHITESPACE","\n\n\t\t\t\t",504],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_VARIABLE","$product",506],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",506],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial'",506],"]",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n\t\t\t\t\t",506],["T_VARIABLE","$recurring_price",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","currency",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","format",507],"(",["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","tax",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","calculate",507],"(",["T_VARIABLE","$product",507],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",507],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_price'",507],"]",["T_WHITESPACE"," ",507],"*",["T_WHITESPACE"," ",507],["T_VARIABLE","$product",507],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",507],"]",",",["T_WHITESPACE"," ",507],["T_VARIABLE","$product",507],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",507],"]",",",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","config",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","get",507],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",507],")",")",",",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","session",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","data",507],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",507],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",507],["T_VARIABLE","$recurring_description",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","sprintf",508],"(",["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","language",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","get",508],"(",["T_CONSTANT_ENCAPSED_STRING","'text_trial_description'",508],")",",",["T_WHITESPACE"," ",508],["T_VARIABLE","$recurring_price",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$product",508],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",508],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",508],"]",",",["T_WHITESPACE"," ",508],["T_VARIABLE","$frequencies",508],"[",["T_VARIABLE","$product",508],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",508],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",508],"]","]",",",["T_WHITESPACE"," ",508],["T_VARIABLE","$product",508],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",508],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",508],"]",")",["T_WHITESPACE"," ",508],".",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","' '",508],";",["T_WHITESPACE","\n\t\t\t\t",508],"}",["T_WHITESPACE","\n\n\t\t\t\t",509],["T_VARIABLE","$recurring_price",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","currency",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","format",511],"(",["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","tax",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","calculate",511],"(",["T_VARIABLE","$product",511],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",511],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",511],"]",["T_WHITESPACE"," ",511],"*",["T_WHITESPACE"," ",511],["T_VARIABLE","$product",511],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",511],"]",",",["T_WHITESPACE"," ",511],["T_VARIABLE","$product",511],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",511],"]",",",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","config",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","get",511],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",511],")",")",",",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","session",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","data",511],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",511],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",511],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_VARIABLE","$product",513],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",513],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",513],"]",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n\t\t\t\t\t",513],["T_VARIABLE","$recurring_description",514],["T_WHITESPACE"," ",514],["T_CONCAT_EQUAL",".=",514],["T_WHITESPACE"," ",514],["T_STRING","sprintf",514],"(",["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","language",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","get",514],"(",["T_CONSTANT_ENCAPSED_STRING","'text_payment_description'",514],")",",",["T_WHITESPACE"," ",514],["T_VARIABLE","$recurring_price",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$product",514],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",514],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",514],"]",",",["T_WHITESPACE"," ",514],["T_VARIABLE","$frequencies",514],"[",["T_VARIABLE","$product",514],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",514],"]","[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",514],"]","]",",",["T_WHITESPACE"," ",514],["T_VARIABLE","$product",514],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",514],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",514],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",514],"}",["T_WHITESPACE"," ",515],["T_ELSE","else",515],["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n\t\t\t\t\t",515],["T_VARIABLE","$recurring_description",516],["T_WHITESPACE"," ",516],["T_CONCAT_EQUAL",".=",516],["T_WHITESPACE"," ",516],["T_STRING","sprintf",516],"(",["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","language",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","get",516],"(",["T_CONSTANT_ENCAPSED_STRING","'text_payment_cancel'",516],")",",",["T_WHITESPACE"," ",516],["T_VARIABLE","$recurring_price",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$product",516],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",516],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",516],"]",",",["T_WHITESPACE"," ",516],["T_VARIABLE","$frequencies",516],"[",["T_VARIABLE","$product",516],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",516],"]","[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",516],"]","]",",",["T_WHITESPACE"," ",516],["T_VARIABLE","$product",516],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",516],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",516],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",516],"}",["T_WHITESPACE","\n\t\t\t",517],"}",["T_WHITESPACE","\n\n\t\t\t",518],["T_VARIABLE","$data",520],"[",["T_CONSTANT_ENCAPSED_STRING","'products'",520],"]","[","]",["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_ARRAY","array",520],"(",["T_WHITESPACE","\n\t\t\t\t",520],["T_CONSTANT_ENCAPSED_STRING","'cart_id'",521],["T_WHITESPACE","               ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$product",521],"[",["T_CONSTANT_ENCAPSED_STRING","'cart_id'",521],"]",",",["T_WHITESPACE","\n\t\t\t\t",521],["T_CONSTANT_ENCAPSED_STRING","'thumb'",522],["T_WHITESPACE","                 ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$image",522],",",["T_WHITESPACE","\n\t\t\t\t",522],["T_CONSTANT_ENCAPSED_STRING","'name'",523],["T_WHITESPACE","                  ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$product",523],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",523],"]",",",["T_WHITESPACE","\n\t\t\t\t",523],["T_CONSTANT_ENCAPSED_STRING","'model'",524],["T_WHITESPACE","                 ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$product",524],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",524],"]",",",["T_WHITESPACE","\n\t\t\t\t",524],["T_CONSTANT_ENCAPSED_STRING","'option'",525],["T_WHITESPACE","                ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$option_data",525],",",["T_WHITESPACE","\n\t\t\t\t",525],["T_CONSTANT_ENCAPSED_STRING","'quantity'",526],["T_WHITESPACE","              ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$product",526],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",526],"]",",",["T_WHITESPACE","\n\t\t\t\t",526],["T_CONSTANT_ENCAPSED_STRING","'stock'",527],["T_WHITESPACE","                 ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$product",527],"[",["T_CONSTANT_ENCAPSED_STRING","'stock'",527],"]",["T_WHITESPACE"," ",527],"?",["T_WHITESPACE"," ",527],["T_STRING","true",527],["T_WHITESPACE"," ",527],":",["T_WHITESPACE"," ",527],"!","(","!",["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","config",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","get",527],"(",["T_CONSTANT_ENCAPSED_STRING","'config_stock_checkout'",527],")",["T_WHITESPACE"," ",527],["T_BOOLEAN_OR","||",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","config",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","get",527],"(",["T_CONSTANT_ENCAPSED_STRING","'config_stock_warning'",527],")",")",",",["T_WHITESPACE","\n\t\t\t\t",527],["T_CONSTANT_ENCAPSED_STRING","'reward'",528],["T_WHITESPACE","                ",528],["T_DOUBLE_ARROW","=>",528],["T_WHITESPACE"," ",528],"(",["T_VARIABLE","$product",528],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",528],"]",["T_WHITESPACE"," ",528],"?",["T_WHITESPACE"," ",528],["T_STRING","sprintf",528],"(",["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","language",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","get",528],"(",["T_CONSTANT_ENCAPSED_STRING","'text_points'",528],")",",",["T_WHITESPACE"," ",528],["T_VARIABLE","$product",528],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",528],"]",")",["T_WHITESPACE"," ",528],":",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","''",528],")",",",["T_WHITESPACE","\n\t\t\t\t",528],["T_CONSTANT_ENCAPSED_STRING","'price'",529],["T_WHITESPACE","                 ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$price",529],",",["T_WHITESPACE","\n\t\t\t\t",529],["T_CONSTANT_ENCAPSED_STRING","'total'",530],["T_WHITESPACE","                 ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$total",530],",",["T_WHITESPACE","\n\t\t\t\t",530],["T_CONSTANT_ENCAPSED_STRING","'href'",531],["T_WHITESPACE","                  ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","url",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","link",531],"(",["T_CONSTANT_ENCAPSED_STRING","'product\/product'",531],",",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'product_id='",531],["T_WHITESPACE"," ",531],".",["T_WHITESPACE"," ",531],["T_VARIABLE","$product",531],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",531],"]",")",",",["T_WHITESPACE","\n\t\t\t\t",531],["T_CONSTANT_ENCAPSED_STRING","'remove'",532],["T_WHITESPACE","                ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","url",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","link",532],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",532],",",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'remove='",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_VARIABLE","$product",532],"[",["T_CONSTANT_ENCAPSED_STRING","'cart_id'",532],"]",")",",",["T_WHITESPACE","\n\t\t\t\t",532],["T_CONSTANT_ENCAPSED_STRING","'recurring'",533],["T_WHITESPACE","             ",533],["T_DOUBLE_ARROW","=>",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$product",533],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",533],"]",",",["T_WHITESPACE","\n\t\t\t\t",533],["T_CONSTANT_ENCAPSED_STRING","'recurring_name'",534],["T_WHITESPACE","        ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],"(",["T_ISSET","isset",534],"(",["T_VARIABLE","$product",534],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",534],"]","[",["T_CONSTANT_ENCAPSED_STRING","'recurring_name'",534],"]",")",["T_WHITESPACE"," ",534],"?",["T_WHITESPACE"," ",534],["T_VARIABLE","$product",534],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",534],"]","[",["T_CONSTANT_ENCAPSED_STRING","'recurring_name'",534],"]",["T_WHITESPACE"," ",534],":",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","''",534],")",",",["T_WHITESPACE","\n\t\t\t\t",534],["T_CONSTANT_ENCAPSED_STRING","'recurring_description'",535],["T_WHITESPACE"," ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$recurring_description",535],["T_WHITESPACE","\n\t\t\t",535],")",";",["T_WHITESPACE","\n\t\t",536],"}",["T_WHITESPACE","\n\n\t\t",537],["T_VARIABLE","$data",539],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",539],"]",["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_ARRAY","array",539],"(",")",";",["T_WHITESPACE","\n\n\t\t",539],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","cart",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","hasShipping",541],"(",")",")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n\n\t\t\t",541],["T_VARIABLE","$data",543],"[",["T_CONSTANT_ENCAPSED_STRING","'has_shipping'",543],"]",["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_STRING","true",543],";",["T_WHITESPACE","\n\t\t\t",543],["T_DOC_COMMENT","\/**\n\t\t\t * Shipping services\n\t\t\t *\/",544],["T_WHITESPACE","\n\t\t\t",546],["T_IF","if",547],["T_WHITESPACE"," ",547],"(",["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","customer",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","isLogged",547],"(",")",")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n\t\t\t\t",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","load",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","model",548],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",548],")",";",["T_WHITESPACE","\n\t\t\t\t",548],["T_VARIABLE","$shipping_address",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","model_account_address",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","getAddress",549],"(",["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","session",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","data",549],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_id'",549],"]",")",";",["T_WHITESPACE","\n\t\t\t",549],"}",["T_WHITESPACE"," ",550],["T_ELSEIF","elseif",550],["T_WHITESPACE"," ",550],"(",["T_ISSET","isset",550],"(",["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","session",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","data",550],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",550],"]",")",")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n\t\t\t\t",550],["T_VARIABLE","$shipping_address",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","session",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","data",551],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",551],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",551],"]",";",["T_WHITESPACE","\n\t\t\t",551],"}",["T_WHITESPACE","\n\n\t\t\t",552],["T_IF","if",554],["T_WHITESPACE"," ",554],"(","!",["T_EMPTY","empty",554],"(",["T_VARIABLE","$shipping_address",554],")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n\t\t\t\t",554],["T_COMMENT","\/\/ Shipping Methods\n",555],["T_WHITESPACE","\t\t\t\t",556],["T_VARIABLE","$quote_data",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_ARRAY","array",556],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",556],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","load",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","model",558],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/extension'",558],")",";",["T_WHITESPACE","\n\n\t\t\t\t",558],["T_VARIABLE","$results",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","model_extension_extension",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getExtensions",560],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping'",560],")",";",["T_WHITESPACE","\n\n\t\t\t\t",560],["T_IF","if",562],["T_WHITESPACE"," ",562],"(","!",["T_EMPTY","empty",562],"(",["T_VARIABLE","$results",562],")",")",["T_WHITESPACE"," ",562],"{",["T_WHITESPACE","\n\t\t\t\t\t",562],["T_FOREACH","foreach",563],["T_WHITESPACE"," ",563],"(",["T_VARIABLE","$results",563],["T_WHITESPACE"," ",563],["T_AS","as",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$result",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",563],["T_IF","if",564],["T_WHITESPACE"," ",564],"(",["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","config",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","get",564],"(",["T_VARIABLE","$result",564],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",564],"]",["T_WHITESPACE"," ",564],".",["T_WHITESPACE"," ",564],["T_CONSTANT_ENCAPSED_STRING","'_status'",564],")",")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","load",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","model",565],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/shipping\/'",565],["T_WHITESPACE"," ",565],".",["T_WHITESPACE"," ",565],["T_VARIABLE","$result",565],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",565],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",565],["T_VARIABLE","$quote",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],"{",["T_CONSTANT_ENCAPSED_STRING","'model_extension_shipping_'",567],["T_WHITESPACE"," ",567],".",["T_WHITESPACE"," ",567],["T_VARIABLE","$result",567],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",567],"]","}",["T_OBJECT_OPERATOR","->",567],["T_STRING","getQuote",567],"(",["T_VARIABLE","$shipping_address",567],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",567],["T_IF","if",569],["T_WHITESPACE"," ",569],"(",["T_VARIABLE","$quote",569],")",["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",569],["T_VARIABLE","$quote_data",570],"[",["T_VARIABLE","$result",570],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",570],"]","]",["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_ARRAY","array",570],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",570],["T_CONSTANT_ENCAPSED_STRING","'title'",571],["T_WHITESPACE","      ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$quote",571],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",571],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",571],["T_CONSTANT_ENCAPSED_STRING","'quote'",572],["T_WHITESPACE","      ",572],["T_DOUBLE_ARROW","=>",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$quote",572],"[",["T_CONSTANT_ENCAPSED_STRING","'quote'",572],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",572],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$quote",573],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",573],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t\t",573],["T_CONSTANT_ENCAPSED_STRING","'error'",574],["T_WHITESPACE","      ",574],["T_DOUBLE_ARROW","=>",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$quote",574],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",574],"]",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",574],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",575],"}",["T_WHITESPACE","\n\t\t\t\t\t\t",576],"}",["T_WHITESPACE","\n\t\t\t\t\t",577],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",578],["T_IF","if",580],["T_WHITESPACE"," ",580],"(","!",["T_EMPTY","empty",580],"(",["T_VARIABLE","$quote_data",580],")",")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",580],["T_VARIABLE","$sort_order",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",581],["T_FOREACH","foreach",583],["T_WHITESPACE"," ",583],"(",["T_VARIABLE","$quote_data",583],["T_WHITESPACE"," ",583],["T_AS","as",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$key",583],["T_WHITESPACE"," ",583],["T_DOUBLE_ARROW","=>",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$value",583],")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",583],["T_VARIABLE","$sort_order",584],"[",["T_VARIABLE","$key",584],"]",["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_VARIABLE","$value",584],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",584],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",584],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t",585],["T_STRING","array_multisort",587],"(",["T_VARIABLE","$sort_order",587],",",["T_WHITESPACE"," ",587],["T_STRING","SORT_ASC",587],",",["T_WHITESPACE"," ",587],["T_VARIABLE","$quote_data",587],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",587],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","session",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","data",589],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",589],"]",["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_VARIABLE","$quote_data",589],";",["T_WHITESPACE","\n\t\t\t\t\t\t",589],["T_VARIABLE","$data",590],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",590],"]",["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_VARIABLE","$quote_data",590],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",590],["T_IF","if",592],["T_WHITESPACE"," ",592],"(","!",["T_ISSET","isset",592],"(",["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","session",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","data",592],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",592],"]",")",")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",592],["T_COMMENT","\/\/default the shipping to the very first option.\n",593],["T_WHITESPACE","\t\t\t\t\t\t\t",594],["T_VARIABLE","$key1",594],["T_WHITESPACE"," ",594],"=",["T_WHITESPACE"," ",594],["T_STRING","key",594],"(",["T_VARIABLE","$quote_data",594],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",594],["T_VARIABLE","$key2",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_STRING","key",595],"(",["T_VARIABLE","$quote_data",595],"[",["T_VARIABLE","$key1",595],"]","[",["T_CONSTANT_ENCAPSED_STRING","'quote'",595],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",595],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","session",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","data",596],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",596],"]",["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$quote_data",596],"[",["T_VARIABLE","$key1",596],"]","[",["T_CONSTANT_ENCAPSED_STRING","'quote'",596],"]","[",["T_VARIABLE","$key2",596],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",596],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t",597],["T_VARIABLE","$data",599],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",599],"]",["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","session",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","data",599],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",599],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",599],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",599],["T_VARIABLE","$data",600],"[",["T_CONSTANT_ENCAPSED_STRING","'action_shipping'",600],"]",["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","url",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","link",600],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/shipping'",600],",",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","''",600],",",["T_WHITESPACE"," ",600],["T_STRING","true",600],")",";",["T_WHITESPACE","\n\t\t\t\t\t",600],"}",["T_WHITESPACE"," ",601],["T_ELSE","else",601],["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",601],["T_UNSET","unset",602],"(",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","session",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","data",602],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",602],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",602],["T_UNSET","unset",603],"(",["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","session",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","data",603],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",603],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",603],["T_VARIABLE","$data",604],"[",["T_CONSTANT_ENCAPSED_STRING","'error_no_shipping'",604],"]",["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","language",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","get",604],"(",["T_CONSTANT_ENCAPSED_STRING","'error_no_shipping'",604],")",";",["T_WHITESPACE","\n\t\t\t\t\t",604],"}",["T_WHITESPACE","\n\t\t\t\t",605],"}",["T_WHITESPACE"," ",606],["T_ELSE","else",606],["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n\t\t\t\t\t",606],["T_UNSET","unset",607],"(",["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","session",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","data",607],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",607],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",607],["T_UNSET","unset",608],"(",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","session",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","data",608],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",608],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",608],["T_VARIABLE","$data",609],"[",["T_CONSTANT_ENCAPSED_STRING","'error_no_shipping'",609],"]",["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","language",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","get",609],"(",["T_CONSTANT_ENCAPSED_STRING","'error_no_shipping'",609],")",";",["T_WHITESPACE","\n\t\t\t\t",609],"}",["T_WHITESPACE","\n\t\t\t",610],"}",["T_WHITESPACE","\n\t\t",611],"}",["T_WHITESPACE"," ",612],["T_ELSE","else",612],["T_WHITESPACE"," ",612],"{",["T_WHITESPACE","\n\t\t\t",612],["T_VARIABLE","$data",613],"[",["T_CONSTANT_ENCAPSED_STRING","'has_shipping'",613],"]",["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_STRING","false",613],";",["T_WHITESPACE","\n\t\t",613],"}",["T_WHITESPACE","\n\n\t\t",614],["T_COMMENT","\/\/ Totals\n",616],["T_WHITESPACE","\t\t",617],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","load",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","model",617],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/extension'",617],")",";",["T_WHITESPACE","\n\n\t\t",617],["T_VARIABLE","$totals",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_ARRAY","array",619],"(",")",";",["T_WHITESPACE","\n\t\t",619],["T_VARIABLE","$taxes",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","cart",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getTaxes",620],"(",")",";",["T_WHITESPACE","\n\t\t",620],["T_VARIABLE","$total",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_LNUMBER","0",621],";",["T_WHITESPACE","\n\n\t\t",621],["T_COMMENT","\/\/ Because __call can not keep var references so we put them into an array.\n",623],["T_WHITESPACE","\t\t",624],["T_VARIABLE","$total_data",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_ARRAY","array",624],"(",["T_WHITESPACE","\n\t\t\t",624],["T_CONSTANT_ENCAPSED_STRING","'totals'",625],["T_WHITESPACE"," ",625],["T_DOUBLE_ARROW","=>",625],["T_WHITESPACE"," ",625],"&",["T_VARIABLE","$totals",625],",",["T_WHITESPACE","\n\t\t\t",625],["T_CONSTANT_ENCAPSED_STRING","'taxes'",626],["T_WHITESPACE","  ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],"&",["T_VARIABLE","$taxes",626],",",["T_WHITESPACE","\n\t\t\t",626],["T_CONSTANT_ENCAPSED_STRING","'total'",627],["T_WHITESPACE","  ",627],["T_DOUBLE_ARROW","=>",627],["T_WHITESPACE"," ",627],"&",["T_VARIABLE","$total",627],["T_WHITESPACE","\n\t\t",627],")",";",["T_WHITESPACE","\n\n\t\t",628],["T_COMMENT","\/\/ Display prices\n",630],["T_WHITESPACE","\t\t",631],["T_IF","if",631],["T_WHITESPACE"," ",631],"(",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","customer",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","isLogged",631],"(",")",["T_WHITESPACE"," ",631],["T_BOOLEAN_OR","||",631],["T_WHITESPACE"," ",631],"!",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","config",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","get",631],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_price'",631],")",")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n\t\t\t",631],["T_VARIABLE","$sort_order",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_ARRAY","array",632],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",632],["T_VARIABLE","$results",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","model_extension_extension",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getExtensions",634],"(",["T_CONSTANT_ENCAPSED_STRING","'total'",634],")",";",["T_WHITESPACE","\n\n\t\t\t",634],["T_FOREACH","foreach",636],["T_WHITESPACE"," ",636],"(",["T_VARIABLE","$results",636],["T_WHITESPACE"," ",636],["T_AS","as",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$key",636],["T_WHITESPACE"," ",636],["T_DOUBLE_ARROW","=>",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$value",636],")",["T_WHITESPACE"," ",636],"{",["T_WHITESPACE","\n\t\t\t\t",636],["T_VARIABLE","$sort_order",637],"[",["T_VARIABLE","$key",637],"]",["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","config",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","get",637],"(",["T_VARIABLE","$value",637],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",637],"]",["T_WHITESPACE"," ",637],".",["T_WHITESPACE"," ",637],["T_CONSTANT_ENCAPSED_STRING","'_sort_order'",637],")",";",["T_WHITESPACE","\n\t\t\t",637],"}",["T_WHITESPACE","\n\n\t\t\t",638],["T_STRING","array_multisort",640],"(",["T_VARIABLE","$sort_order",640],",",["T_WHITESPACE"," ",640],["T_STRING","SORT_ASC",640],",",["T_WHITESPACE"," ",640],["T_VARIABLE","$results",640],")",";",["T_WHITESPACE","\n\n\t\t\t",640],["T_FOREACH","foreach",642],["T_WHITESPACE"," ",642],"(",["T_VARIABLE","$results",642],["T_WHITESPACE"," ",642],["T_AS","as",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$result",642],")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n\t\t\t\t",642],["T_IF","if",643],["T_WHITESPACE"," ",643],"(",["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","config",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","get",643],"(",["T_VARIABLE","$result",643],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",643],"]",["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'_status'",643],")",")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n\t\t\t\t\t",643],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","load",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","model",644],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/'",644],["T_WHITESPACE"," ",644],".",["T_WHITESPACE"," ",644],["T_VARIABLE","$result",644],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",644],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",644],["T_COMMENT","\/\/ We have to put the totals in an array so that they pass by reference.\n",646],["T_WHITESPACE","\t\t\t\t\t",647],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],"{",["T_CONSTANT_ENCAPSED_STRING","'model_extension_total_'",647],["T_WHITESPACE"," ",647],".",["T_WHITESPACE"," ",647],["T_VARIABLE","$result",647],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",647],"]","}",["T_OBJECT_OPERATOR","->",647],["T_STRING","getTotal",647],"(",["T_VARIABLE","$total_data",647],")",";",["T_WHITESPACE","\n\t\t\t\t",647],"}",["T_WHITESPACE","\n\t\t\t",648],"}",["T_WHITESPACE","\n\n\t\t\t",649],["T_VARIABLE","$sort_order",651],["T_WHITESPACE"," ",651],"=",["T_WHITESPACE"," ",651],["T_ARRAY","array",651],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",651],["T_FOREACH","foreach",653],["T_WHITESPACE"," ",653],"(",["T_VARIABLE","$totals",653],["T_WHITESPACE"," ",653],["T_AS","as",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$key",653],["T_WHITESPACE"," ",653],["T_DOUBLE_ARROW","=>",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$value",653],")",["T_WHITESPACE"," ",653],"{",["T_WHITESPACE","\n\t\t\t\t",653],["T_VARIABLE","$sort_order",654],"[",["T_VARIABLE","$key",654],"]",["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$value",654],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",654],"]",";",["T_WHITESPACE","\n\t\t\t",654],"}",["T_WHITESPACE","\n\n\t\t\t",655],["T_STRING","array_multisort",657],"(",["T_VARIABLE","$sort_order",657],",",["T_WHITESPACE"," ",657],["T_STRING","SORT_ASC",657],",",["T_WHITESPACE"," ",657],["T_VARIABLE","$totals",657],")",";",["T_WHITESPACE","\n\t\t",657],"}",["T_WHITESPACE","\n\n\t\t",658],["T_VARIABLE","$data",660],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",660],"]",["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_ARRAY","array",660],"(",")",";",["T_WHITESPACE","\n\n\t\t",660],["T_FOREACH","foreach",662],["T_WHITESPACE"," ",662],"(",["T_VARIABLE","$totals",662],["T_WHITESPACE"," ",662],["T_AS","as",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$total",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n\t\t\t",662],["T_VARIABLE","$data",663],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",663],"]","[","]",["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_ARRAY","array",663],"(",["T_WHITESPACE","\n\t\t\t\t",663],["T_CONSTANT_ENCAPSED_STRING","'title'",664],["T_WHITESPACE"," ",664],["T_DOUBLE_ARROW","=>",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$total",664],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",664],"]",",",["T_WHITESPACE","\n\t\t\t\t",664],["T_CONSTANT_ENCAPSED_STRING","'text'",665],["T_WHITESPACE","  ",665],["T_DOUBLE_ARROW","=>",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","currency",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","format",665],"(",["T_VARIABLE","$total",665],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",665],"]",",",["T_WHITESPACE"," ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","session",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","data",665],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",665],"]",")",",",["T_WHITESPACE","\n\t\t\t",665],")",";",["T_WHITESPACE","\n\t\t",666],"}",["T_WHITESPACE","\n\n\t\t",667],["T_DOC_COMMENT","\/**\n\t\t * Payment methods\n\t\t *\/",669],["T_WHITESPACE","\n\t\t",671],["T_IF","if",672],["T_WHITESPACE"," ",672],"(",["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","customer",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","isLogged",672],"(",")",["T_WHITESPACE"," ",672],["T_BOOLEAN_AND","&&",672],["T_WHITESPACE"," ",672],["T_ISSET","isset",672],"(",["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","session",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","data",672],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",672],"]",")",")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n\t\t\t",672],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","load",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","model",673],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",673],")",";",["T_WHITESPACE","\n\t\t\t",673],["T_VARIABLE","$payment_address",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","model_account_address",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getAddress",674],"(",["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","session",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","data",674],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",674],"]",")",";",["T_WHITESPACE","\n\t\t",674],"}",["T_WHITESPACE"," ",675],["T_ELSEIF","elseif",675],["T_WHITESPACE"," ",675],"(",["T_ISSET","isset",675],"(",["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","session",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","data",675],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",675],"]",")",")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n\t\t\t",675],["T_VARIABLE","$payment_address",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","session",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","data",676],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",676],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",676],"]",";",["T_WHITESPACE","\n\t\t",676],"}",["T_WHITESPACE","\n\n\t\t",677],["T_VARIABLE","$method_data",679],["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],["T_ARRAY","array",679],"(",")",";",["T_WHITESPACE","\n\n\t\t",679],["T_VARIABLE","$this",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","load",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","model",681],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/extension'",681],")",";",["T_WHITESPACE","\n\n\t\t",681],["T_VARIABLE","$results",683],["T_WHITESPACE"," ",683],"=",["T_WHITESPACE"," ",683],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","model_extension_extension",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","getExtensions",683],"(",["T_CONSTANT_ENCAPSED_STRING","'payment'",683],")",";",["T_WHITESPACE","\n\n\t\t",683],["T_FOREACH","foreach",685],["T_WHITESPACE"," ",685],"(",["T_VARIABLE","$results",685],["T_WHITESPACE"," ",685],["T_AS","as",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$result",685],")",["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n\t\t\t",685],["T_IF","if",686],["T_WHITESPACE"," ",686],"(",["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","config",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","get",686],"(",["T_VARIABLE","$result",686],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",686],"]",["T_WHITESPACE"," ",686],".",["T_WHITESPACE"," ",686],["T_CONSTANT_ENCAPSED_STRING","'_status'",686],")",")",["T_WHITESPACE"," ",686],"{",["T_WHITESPACE","\n\t\t\t\t",686],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","load",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","model",687],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/'",687],["T_WHITESPACE"," ",687],".",["T_WHITESPACE"," ",687],["T_VARIABLE","$result",687],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",687],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",687],["T_VARIABLE","$method",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],"{",["T_CONSTANT_ENCAPSED_STRING","'model_extension_payment_'",689],["T_WHITESPACE"," ",689],".",["T_WHITESPACE"," ",689],["T_VARIABLE","$result",689],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",689],"]","}",["T_OBJECT_OPERATOR","->",689],["T_STRING","getMethod",689],"(",["T_VARIABLE","$payment_address",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$total",689],")",";",["T_WHITESPACE","\n\n\t\t\t\t",689],["T_IF","if",691],["T_WHITESPACE"," ",691],"(",["T_VARIABLE","$method",691],")",["T_WHITESPACE"," ",691],"{",["T_WHITESPACE","\n\t\t\t\t\t",691],["T_VARIABLE","$method_data",692],"[",["T_VARIABLE","$result",692],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",692],"]","]",["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_VARIABLE","$method",692],";",["T_WHITESPACE","\n\t\t\t\t",692],"}",["T_WHITESPACE","\n\t\t\t",693],"}",["T_WHITESPACE","\n\t\t",694],"}",["T_WHITESPACE","\n\n\t\t",695],["T_VARIABLE","$sort_order",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_ARRAY","array",697],"(",")",";",["T_WHITESPACE","\n\n\t\t",697],["T_FOREACH","foreach",699],["T_WHITESPACE"," ",699],"(",["T_VARIABLE","$method_data",699],["T_WHITESPACE"," ",699],["T_AS","as",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$key",699],["T_WHITESPACE"," ",699],["T_DOUBLE_ARROW","=>",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$value",699],")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n\t\t\t",699],["T_VARIABLE","$sort_order",700],"[",["T_VARIABLE","$key",700],"]",["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_VARIABLE","$value",700],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",700],"]",";",["T_WHITESPACE","\n\t\t",700],"}",["T_WHITESPACE","\n\n\t\t",701],["T_STRING","array_multisort",703],"(",["T_VARIABLE","$sort_order",703],",",["T_WHITESPACE"," ",703],["T_STRING","SORT_ASC",703],",",["T_WHITESPACE"," ",703],["T_VARIABLE","$method_data",703],")",";",["T_WHITESPACE","\n\n\t\t",703],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","session",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","data",705],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_methods'",705],"]",["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_VARIABLE","$method_data",705],";",["T_WHITESPACE","\n\t\t",705],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","session",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","data",706],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",706],"]",["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","session",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","data",706],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_methods'",706],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pp_express'",706],"]",";",["T_WHITESPACE","\n\n\t\t",706],["T_VARIABLE","$data",708],"[",["T_CONSTANT_ENCAPSED_STRING","'action_confirm'",708],"]",["T_WHITESPACE"," ",708],"=",["T_WHITESPACE"," ",708],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","url",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","link",708],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressComplete'",708],",",["T_WHITESPACE"," ",708],["T_CONSTANT_ENCAPSED_STRING","''",708],",",["T_WHITESPACE"," ",708],["T_STRING","true",708],")",";",["T_WHITESPACE","\n\n\t\t",708],["T_IF","if",710],["T_WHITESPACE"," ",710],"(",["T_ISSET","isset",710],"(",["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","session",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","data",710],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",710],"]",")",")",["T_WHITESPACE"," ",710],"{",["T_WHITESPACE","\n\t\t\t",710],["T_VARIABLE","$data",711],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",711],"]",["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","session",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","data",711],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",711],"]",";",["T_WHITESPACE","\n\t\t\t",711],["T_UNSET","unset",712],"(",["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","session",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","data",712],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",712],"]",")",";",["T_WHITESPACE","\n\t\t",712],"}",["T_WHITESPACE"," ",713],["T_ELSE","else",713],["T_WHITESPACE"," ",713],"{",["T_WHITESPACE","\n\t\t\t",713],["T_VARIABLE","$data",714],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",714],"]",["T_WHITESPACE"," ",714],"=",["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","''",714],";",["T_WHITESPACE","\n\t\t",714],"}",["T_WHITESPACE","\n\n\t\t",715],["T_IF","if",717],["T_WHITESPACE"," ",717],"(",["T_ISSET","isset",717],"(",["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","session",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","data",717],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",717],"]",")",")",["T_WHITESPACE"," ",717],"{",["T_WHITESPACE","\n\t\t\t",717],["T_VARIABLE","$data",718],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",718],"]",["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","session",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","data",718],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",718],"]",";",["T_WHITESPACE","\n\t\t\t",718],["T_UNSET","unset",719],"(",["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","session",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","data",719],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",719],"]",")",";",["T_WHITESPACE","\n\t\t",719],"}",["T_WHITESPACE"," ",720],["T_ELSE","else",720],["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n\t\t\t",720],["T_VARIABLE","$data",721],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",721],"]",["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","''",721],";",["T_WHITESPACE","\n\t\t",721],"}",["T_WHITESPACE","\n\n\t\t",722],["T_IF","if",724],["T_WHITESPACE"," ",724],"(",["T_ISSET","isset",724],"(",["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","session",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","data",724],"[",["T_CONSTANT_ENCAPSED_STRING","'attention'",724],"]",")",")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n\t\t\t",724],["T_VARIABLE","$data",725],"[",["T_CONSTANT_ENCAPSED_STRING","'attention'",725],"]",["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$this",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","session",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","data",725],"[",["T_CONSTANT_ENCAPSED_STRING","'attention'",725],"]",";",["T_WHITESPACE","\n\t\t\t",725],["T_UNSET","unset",726],"(",["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","session",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","data",726],"[",["T_CONSTANT_ENCAPSED_STRING","'attention'",726],"]",")",";",["T_WHITESPACE","\n\t\t",726],"}",["T_WHITESPACE"," ",727],["T_ELSE","else",727],["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n\t\t\t",727],["T_VARIABLE","$data",728],"[",["T_CONSTANT_ENCAPSED_STRING","'attention'",728],"]",["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_CONSTANT_ENCAPSED_STRING","''",728],";",["T_WHITESPACE","\n\t\t",728],"}",["T_WHITESPACE","\n\n\t\t",729],["T_VARIABLE","$data",731],"[",["T_CONSTANT_ENCAPSED_STRING","'coupon'",731],"]",["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","load",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","controller",731],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/coupon'",731],")",";",["T_WHITESPACE","\n\t\t",731],["T_VARIABLE","$data",732],"[",["T_CONSTANT_ENCAPSED_STRING","'voucher'",732],"]",["T_WHITESPACE"," ",732],"=",["T_WHITESPACE"," ",732],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","load",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","controller",732],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/voucher'",732],")",";",["T_WHITESPACE","\n\t\t",732],["T_VARIABLE","$data",733],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",733],"]",["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","load",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","controller",733],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/reward'",733],")",";",["T_WHITESPACE","\n\t\t",733],["T_VARIABLE","$data",734],"[",["T_CONSTANT_ENCAPSED_STRING","'column_left'",734],"]",["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","load",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","controller",734],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/column_left'",734],")",";",["T_WHITESPACE","\n\t\t",734],["T_VARIABLE","$data",735],"[",["T_CONSTANT_ENCAPSED_STRING","'column_right'",735],"]",["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","load",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","controller",735],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/column_right'",735],")",";",["T_WHITESPACE","\n\t\t",735],["T_VARIABLE","$data",736],"[",["T_CONSTANT_ENCAPSED_STRING","'content_top'",736],"]",["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","load",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","controller",736],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/content_top'",736],")",";",["T_WHITESPACE","\n\t\t",736],["T_VARIABLE","$data",737],"[",["T_CONSTANT_ENCAPSED_STRING","'content_bottom'",737],"]",["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","load",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","controller",737],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/content_bottom'",737],")",";",["T_WHITESPACE","\n\t\t",737],["T_VARIABLE","$data",738],"[",["T_CONSTANT_ENCAPSED_STRING","'footer'",738],"]",["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","load",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","controller",738],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/footer'",738],")",";",["T_WHITESPACE","\n\t\t",738],["T_VARIABLE","$data",739],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",739],"]",["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","load",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","controller",739],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/header'",739],")",";",["T_WHITESPACE","\n\n\t\t",739],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","response",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","setOutput",741],"(",["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","load",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","view",741],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express_confirm'",741],",",["T_WHITESPACE"," ",741],["T_VARIABLE","$data",741],")",")",";",["T_WHITESPACE","\n\t",741],"}",["T_WHITESPACE","\n\n\t",742],["T_PUBLIC","public",744],["T_WHITESPACE"," ",744],["T_FUNCTION","function",744],["T_WHITESPACE"," ",744],["T_STRING","expressComplete",744],"(",")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n\t\t",744],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","load",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","language",745],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",745],")",";",["T_WHITESPACE","\n\t\t",745],["T_VARIABLE","$redirect",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_CONSTANT_ENCAPSED_STRING","''",746],";",["T_WHITESPACE","\n\n\t\t",746],["T_IF","if",748],["T_WHITESPACE"," ",748],"(",["T_VARIABLE","$this",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","cart",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","hasShipping",748],"(",")",")",["T_WHITESPACE"," ",748],"{",["T_WHITESPACE","\n\t\t\t",748],["T_COMMENT","\/\/ Validate if shipping address has been set.\n",749],["T_WHITESPACE","\t\t\t",750],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","load",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","model",750],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",750],")",";",["T_WHITESPACE","\n\n\t\t\t",750],["T_IF","if",752],["T_WHITESPACE"," ",752],"(",["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","customer",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","isLogged",752],"(",")",["T_WHITESPACE"," ",752],["T_BOOLEAN_AND","&&",752],["T_WHITESPACE"," ",752],["T_ISSET","isset",752],"(",["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","session",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","data",752],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_id'",752],"]",")",")",["T_WHITESPACE"," ",752],"{",["T_WHITESPACE","\n\t\t\t\t",752],["T_VARIABLE","$shipping_address",753],["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","model_account_address",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","getAddress",753],"(",["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","session",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","data",753],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_id'",753],"]",")",";",["T_WHITESPACE","\n\t\t\t",753],"}",["T_WHITESPACE"," ",754],["T_ELSEIF","elseif",754],["T_WHITESPACE"," ",754],"(",["T_ISSET","isset",754],"(",["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","session",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","data",754],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",754],"]",")",")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n\t\t\t\t",754],["T_VARIABLE","$shipping_address",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","session",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","data",755],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",755],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",755],"]",";",["T_WHITESPACE","\n\t\t\t",755],"}",["T_WHITESPACE","\n\n\t\t\t",756],["T_IF","if",758],["T_WHITESPACE"," ",758],"(",["T_EMPTY","empty",758],"(",["T_VARIABLE","$shipping_address",758],")",")",["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n\t\t\t\t",758],["T_VARIABLE","$redirect",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","url",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","link",759],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",759],",",["T_WHITESPACE"," ",759],["T_CONSTANT_ENCAPSED_STRING","''",759],",",["T_WHITESPACE"," ",759],["T_STRING","true",759],")",";",["T_WHITESPACE","\n\t\t\t",759],"}",["T_WHITESPACE","\n\n\t\t\t",760],["T_COMMENT","\/\/ Validate if shipping method has been set.\n",762],["T_WHITESPACE","\t\t\t",763],["T_IF","if",763],["T_WHITESPACE"," ",763],"(","!",["T_ISSET","isset",763],"(",["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","session",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","data",763],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",763],"]",")",")",["T_WHITESPACE"," ",763],"{",["T_WHITESPACE","\n\t\t\t\t",763],["T_VARIABLE","$redirect",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","url",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","link",764],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","''",764],",",["T_WHITESPACE"," ",764],["T_STRING","true",764],")",";",["T_WHITESPACE","\n\t\t\t",764],"}",["T_WHITESPACE","\n\t\t",765],"}",["T_WHITESPACE"," ",766],["T_ELSE","else",766],["T_WHITESPACE"," ",766],"{",["T_WHITESPACE","\n\t\t\t",766],["T_UNSET","unset",767],"(",["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","session",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","data",767],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",767],"]",")",";",["T_WHITESPACE","\n\t\t\t",767],["T_UNSET","unset",768],"(",["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","session",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","data",768],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",768],"]",")",";",["T_WHITESPACE","\n\t\t",768],"}",["T_WHITESPACE","\n\n\t\t",769],["T_COMMENT","\/\/ Validate if payment address has been set.\n",771],["T_WHITESPACE","\t\t",772],["T_VARIABLE","$this",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","load",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","model",772],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",772],")",";",["T_WHITESPACE","\n\n\t\t",772],["T_IF","if",774],["T_WHITESPACE"," ",774],"(",["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","customer",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","isLogged",774],"(",")",["T_WHITESPACE"," ",774],["T_BOOLEAN_AND","&&",774],["T_WHITESPACE"," ",774],["T_ISSET","isset",774],"(",["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","session",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","data",774],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",774],"]",")",")",["T_WHITESPACE"," ",774],"{",["T_WHITESPACE","\n\t\t\t",774],["T_VARIABLE","$payment_address",775],["T_WHITESPACE"," ",775],"=",["T_WHITESPACE"," ",775],["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","model_account_address",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","getAddress",775],"(",["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","session",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","data",775],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",775],"]",")",";",["T_WHITESPACE","\n\t\t",775],"}",["T_WHITESPACE"," ",776],["T_ELSEIF","elseif",776],["T_WHITESPACE"," ",776],"(",["T_ISSET","isset",776],"(",["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","session",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","data",776],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",776],"]",")",")",["T_WHITESPACE"," ",776],"{",["T_WHITESPACE","\n\t\t\t",776],["T_VARIABLE","$payment_address",777],["T_WHITESPACE"," ",777],"=",["T_WHITESPACE"," ",777],["T_VARIABLE","$this",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","session",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","data",777],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",777],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",777],"]",";",["T_WHITESPACE","\n\t\t",777],"}",["T_WHITESPACE","\n\n\t\t",778],["T_COMMENT","\/\/ Validate if payment method has been set.\n",780],["T_WHITESPACE","\t\t",781],["T_IF","if",781],["T_WHITESPACE"," ",781],"(","!",["T_ISSET","isset",781],"(",["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","session",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","data",781],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",781],"]",")",")",["T_WHITESPACE"," ",781],"{",["T_WHITESPACE","\n\t\t\t",781],["T_VARIABLE","$redirect",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","url",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","link",782],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",782],",",["T_WHITESPACE"," ",782],["T_CONSTANT_ENCAPSED_STRING","''",782],",",["T_WHITESPACE"," ",782],["T_STRING","true",782],")",";",["T_WHITESPACE","\n\t\t",782],"}",["T_WHITESPACE","\n\n\t\t",783],["T_COMMENT","\/\/ Validate cart has products and has stock.\n",785],["T_WHITESPACE","\t\t",786],["T_IF","if",786],["T_WHITESPACE"," ",786],"(","(","!",["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","cart",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","hasProducts",786],"(",")",["T_WHITESPACE"," ",786],["T_BOOLEAN_AND","&&",786],["T_WHITESPACE"," ",786],["T_EMPTY","empty",786],"(",["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","session",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","data",786],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",786],"]",")",")",["T_WHITESPACE"," ",786],["T_BOOLEAN_OR","||",786],["T_WHITESPACE"," ",786],"(","!",["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","cart",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","hasStock",786],"(",")",["T_WHITESPACE"," ",786],["T_BOOLEAN_AND","&&",786],["T_WHITESPACE"," ",786],"!",["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","config",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","get",786],"(",["T_CONSTANT_ENCAPSED_STRING","'config_stock_checkout'",786],")",")",")",["T_WHITESPACE"," ",786],"{",["T_WHITESPACE","\n\t\t\t",786],["T_VARIABLE","$redirect",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","url",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","link",787],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",787],")",";",["T_WHITESPACE","\n\t\t",787],"}",["T_WHITESPACE","\n\n\t\t",788],["T_COMMENT","\/\/ Validate minimum quantity requirements.\n",790],["T_WHITESPACE","\t\t",791],["T_VARIABLE","$products",791],["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","cart",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","getProducts",791],"(",")",";",["T_WHITESPACE","\n\n\t\t",791],["T_FOREACH","foreach",793],["T_WHITESPACE"," ",793],"(",["T_VARIABLE","$products",793],["T_WHITESPACE"," ",793],["T_AS","as",793],["T_WHITESPACE"," ",793],["T_VARIABLE","$product",793],")",["T_WHITESPACE"," ",793],"{",["T_WHITESPACE","\n\t\t\t",793],["T_VARIABLE","$product_total",794],["T_WHITESPACE"," ",794],"=",["T_WHITESPACE"," ",794],["T_LNUMBER","0",794],";",["T_WHITESPACE","\n\n\t\t\t",794],["T_FOREACH","foreach",796],["T_WHITESPACE"," ",796],"(",["T_VARIABLE","$products",796],["T_WHITESPACE"," ",796],["T_AS","as",796],["T_WHITESPACE"," ",796],["T_VARIABLE","$product_2",796],")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n\t\t\t\t",796],["T_IF","if",797],["T_WHITESPACE"," ",797],"(",["T_VARIABLE","$product_2",797],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",797],"]",["T_WHITESPACE"," ",797],["T_IS_EQUAL","==",797],["T_WHITESPACE"," ",797],["T_VARIABLE","$product",797],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",797],"]",")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n\t\t\t\t\t",797],["T_VARIABLE","$product_total",798],["T_WHITESPACE"," ",798],["T_PLUS_EQUAL","+=",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$product_2",798],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",798],"]",";",["T_WHITESPACE","\n\t\t\t\t",798],"}",["T_WHITESPACE","\n\t\t\t",799],"}",["T_WHITESPACE","\n\n\t\t\t",800],["T_IF","if",802],["T_WHITESPACE"," ",802],"(",["T_VARIABLE","$product",802],"[",["T_CONSTANT_ENCAPSED_STRING","'minimum'",802],"]",["T_WHITESPACE"," ",802],">",["T_WHITESPACE"," ",802],["T_VARIABLE","$product_total",802],")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n\t\t\t\t",802],["T_VARIABLE","$redirect",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","url",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","link",803],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",803],")",";",["T_WHITESPACE","\n\n\t\t\t\t",803],["T_BREAK","break",805],";",["T_WHITESPACE","\n\t\t\t",805],"}",["T_WHITESPACE","\n\t\t",806],"}",["T_WHITESPACE","\n\n\t\t",807],["T_IF","if",809],["T_WHITESPACE"," ",809],"(",["T_VARIABLE","$redirect",809],["T_WHITESPACE"," ",809],["T_IS_EQUAL","==",809],["T_WHITESPACE"," ",809],["T_CONSTANT_ENCAPSED_STRING","''",809],")",["T_WHITESPACE"," ",809],"{",["T_WHITESPACE","\n\t\t\t",809],["T_VARIABLE","$totals",810],["T_WHITESPACE"," ",810],"=",["T_WHITESPACE"," ",810],["T_ARRAY","array",810],"(",")",";",["T_WHITESPACE","\n\t\t\t",810],["T_VARIABLE","$taxes",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","cart",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getTaxes",811],"(",")",";",["T_WHITESPACE","\n\t\t\t",811],["T_VARIABLE","$total",812],["T_WHITESPACE"," ",812],"=",["T_WHITESPACE"," ",812],["T_LNUMBER","0",812],";",["T_WHITESPACE","\n\n\t\t\t",812],["T_COMMENT","\/\/ Because __call can not keep var references so we put them into an array.\n",814],["T_WHITESPACE","\t\t\t",815],["T_VARIABLE","$total_data",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_ARRAY","array",815],"(",["T_WHITESPACE","\n\t\t\t\t",815],["T_CONSTANT_ENCAPSED_STRING","'totals'",816],["T_WHITESPACE"," ",816],["T_DOUBLE_ARROW","=>",816],["T_WHITESPACE"," ",816],"&",["T_VARIABLE","$totals",816],",",["T_WHITESPACE","\n\t\t\t\t",816],["T_CONSTANT_ENCAPSED_STRING","'taxes'",817],["T_WHITESPACE","  ",817],["T_DOUBLE_ARROW","=>",817],["T_WHITESPACE"," ",817],"&",["T_VARIABLE","$taxes",817],",",["T_WHITESPACE","\n\t\t\t\t",817],["T_CONSTANT_ENCAPSED_STRING","'total'",818],["T_WHITESPACE","  ",818],["T_DOUBLE_ARROW","=>",818],["T_WHITESPACE"," ",818],"&",["T_VARIABLE","$total",818],["T_WHITESPACE","\n\t\t\t",818],")",";",["T_WHITESPACE","\n\n\t\t\t",819],["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","load",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","model",821],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/extension'",821],")",";",["T_WHITESPACE","\n\n\t\t\t",821],["T_VARIABLE","$sort_order",823],["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_ARRAY","array",823],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",823],["T_VARIABLE","$results",825],["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_VARIABLE","$this",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","model_extension_extension",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","getExtensions",825],"(",["T_CONSTANT_ENCAPSED_STRING","'total'",825],")",";",["T_WHITESPACE","\n\n\t\t\t",825],["T_FOREACH","foreach",827],["T_WHITESPACE"," ",827],"(",["T_VARIABLE","$results",827],["T_WHITESPACE"," ",827],["T_AS","as",827],["T_WHITESPACE"," ",827],["T_VARIABLE","$key",827],["T_WHITESPACE"," ",827],["T_DOUBLE_ARROW","=>",827],["T_WHITESPACE"," ",827],["T_VARIABLE","$value",827],")",["T_WHITESPACE"," ",827],"{",["T_WHITESPACE","\n\t\t\t\t",827],["T_VARIABLE","$sort_order",828],"[",["T_VARIABLE","$key",828],"]",["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_VARIABLE","$this",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","config",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","get",828],"(",["T_VARIABLE","$value",828],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",828],"]",["T_WHITESPACE"," ",828],".",["T_WHITESPACE"," ",828],["T_CONSTANT_ENCAPSED_STRING","'_sort_order'",828],")",";",["T_WHITESPACE","\n\t\t\t",828],"}",["T_WHITESPACE","\n\n\t\t\t",829],["T_STRING","array_multisort",831],"(",["T_VARIABLE","$sort_order",831],",",["T_WHITESPACE"," ",831],["T_STRING","SORT_ASC",831],",",["T_WHITESPACE"," ",831],["T_VARIABLE","$results",831],")",";",["T_WHITESPACE","\n\n\t\t\t",831],["T_FOREACH","foreach",833],["T_WHITESPACE"," ",833],"(",["T_VARIABLE","$results",833],["T_WHITESPACE"," ",833],["T_AS","as",833],["T_WHITESPACE"," ",833],["T_VARIABLE","$result",833],")",["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n\t\t\t\t",833],["T_IF","if",834],["T_WHITESPACE"," ",834],"(",["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","config",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","get",834],"(",["T_VARIABLE","$result",834],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",834],"]",["T_WHITESPACE"," ",834],".",["T_WHITESPACE"," ",834],["T_CONSTANT_ENCAPSED_STRING","'_status'",834],")",")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n\t\t\t\t\t",834],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","load",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","model",835],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/'",835],["T_WHITESPACE"," ",835],".",["T_WHITESPACE"," ",835],["T_VARIABLE","$result",835],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",835],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",835],["T_COMMENT","\/\/ We have to put the totals in an array so that they pass by reference.\n",837],["T_WHITESPACE","\t\t\t\t\t",838],["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],"{",["T_CONSTANT_ENCAPSED_STRING","'model_extension_total_'",838],["T_WHITESPACE"," ",838],".",["T_WHITESPACE"," ",838],["T_VARIABLE","$result",838],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",838],"]","}",["T_OBJECT_OPERATOR","->",838],["T_STRING","getTotal",838],"(",["T_VARIABLE","$total_data",838],")",";",["T_WHITESPACE","\n\t\t\t\t",838],"}",["T_WHITESPACE","\n\t\t\t",839],"}",["T_WHITESPACE","\n\n\t\t\t",840],["T_VARIABLE","$sort_order",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_ARRAY","array",842],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",842],["T_FOREACH","foreach",844],["T_WHITESPACE"," ",844],"(",["T_VARIABLE","$totals",844],["T_WHITESPACE"," ",844],["T_AS","as",844],["T_WHITESPACE"," ",844],["T_VARIABLE","$key",844],["T_WHITESPACE"," ",844],["T_DOUBLE_ARROW","=>",844],["T_WHITESPACE"," ",844],["T_VARIABLE","$value",844],")",["T_WHITESPACE"," ",844],"{",["T_WHITESPACE","\n\t\t\t\t",844],["T_VARIABLE","$sort_order",845],"[",["T_VARIABLE","$key",845],"]",["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$value",845],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",845],"]",";",["T_WHITESPACE","\n\t\t\t",845],"}",["T_WHITESPACE","\n\n\t\t\t",846],["T_STRING","array_multisort",848],"(",["T_VARIABLE","$sort_order",848],",",["T_WHITESPACE"," ",848],["T_STRING","SORT_ASC",848],",",["T_WHITESPACE"," ",848],["T_VARIABLE","$totals",848],")",";",["T_WHITESPACE","\n\n\t\t\t",848],["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","load",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","language",850],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",850],")",";",["T_WHITESPACE","\n\n\t\t\t",850],["T_VARIABLE","$data",852],["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],["T_ARRAY","array",852],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",852],["T_VARIABLE","$data",854],"[",["T_CONSTANT_ENCAPSED_STRING","'invoice_prefix'",854],"]",["T_WHITESPACE"," ",854],"=",["T_WHITESPACE"," ",854],["T_VARIABLE","$this",854],["T_OBJECT_OPERATOR","->",854],["T_STRING","config",854],["T_OBJECT_OPERATOR","->",854],["T_STRING","get",854],"(",["T_CONSTANT_ENCAPSED_STRING","'config_invoice_prefix'",854],")",";",["T_WHITESPACE","\n\t\t\t",854],["T_VARIABLE","$data",855],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",855],"]",["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","config",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","get",855],"(",["T_CONSTANT_ENCAPSED_STRING","'config_store_id'",855],")",";",["T_WHITESPACE","\n\t\t\t",855],["T_VARIABLE","$data",856],"[",["T_CONSTANT_ENCAPSED_STRING","'store_name'",856],"]",["T_WHITESPACE"," ",856],"=",["T_WHITESPACE"," ",856],["T_VARIABLE","$this",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","config",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","get",856],"(",["T_CONSTANT_ENCAPSED_STRING","'config_name'",856],")",";",["T_WHITESPACE","\n\n\t\t\t",856],["T_IF","if",858],["T_WHITESPACE"," ",858],"(",["T_VARIABLE","$data",858],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",858],"]",")",["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n\t\t\t\t",858],["T_VARIABLE","$data",859],"[",["T_CONSTANT_ENCAPSED_STRING","'store_url'",859],"]",["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","config",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","get",859],"(",["T_CONSTANT_ENCAPSED_STRING","'config_url'",859],")",";",["T_WHITESPACE","\n\t\t\t",859],"}",["T_WHITESPACE"," ",860],["T_ELSE","else",860],["T_WHITESPACE"," ",860],"{",["T_WHITESPACE","\n\t\t\t\t",860],["T_VARIABLE","$data",861],"[",["T_CONSTANT_ENCAPSED_STRING","'store_url'",861],"]",["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_STRING","HTTP_SERVER",861],";",["T_WHITESPACE","\n\t\t\t",861],"}",["T_WHITESPACE","\n\n\t\t\t",862],["T_IF","if",864],["T_WHITESPACE"," ",864],"(",["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","customer",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","isLogged",864],"(",")",["T_WHITESPACE"," ",864],["T_BOOLEAN_AND","&&",864],["T_WHITESPACE"," ",864],["T_ISSET","isset",864],"(",["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","session",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","data",864],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",864],"]",")",")",["T_WHITESPACE"," ",864],"{",["T_WHITESPACE","\n\t\t\t\t",864],["T_VARIABLE","$data",865],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",865],"]",["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","customer",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","getId",865],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",865],["T_VARIABLE","$data",866],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",866],"]",["T_WHITESPACE"," ",866],"=",["T_WHITESPACE"," ",866],["T_VARIABLE","$this",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","config",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","get",866],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",866],")",";",["T_WHITESPACE","\n\t\t\t\t",866],["T_VARIABLE","$data",867],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",867],"]",["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_VARIABLE","$this",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","customer",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","getFirstName",867],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",867],["T_VARIABLE","$data",868],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",868],"]",["T_WHITESPACE"," ",868],"=",["T_WHITESPACE"," ",868],["T_VARIABLE","$this",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","customer",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","getLastName",868],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",868],["T_VARIABLE","$data",869],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",869],"]",["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_VARIABLE","$this",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","customer",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","getEmail",869],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",869],["T_VARIABLE","$data",870],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",870],"]",["T_WHITESPACE"," ",870],"=",["T_WHITESPACE"," ",870],["T_VARIABLE","$this",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","customer",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","getTelephone",870],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",870],["T_VARIABLE","$data",871],"[",["T_CONSTANT_ENCAPSED_STRING","'fax'",871],"]",["T_WHITESPACE"," ",871],"=",["T_WHITESPACE"," ",871],["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","customer",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","getFax",871],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",871],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","load",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","model",873],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",873],")",";",["T_WHITESPACE","\n\n\t\t\t\t",873],["T_VARIABLE","$payment_address",875],["T_WHITESPACE"," ",875],"=",["T_WHITESPACE"," ",875],["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","model_account_address",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","getAddress",875],"(",["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","session",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","data",875],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_id'",875],"]",")",";",["T_WHITESPACE","\n\t\t\t",875],"}",["T_WHITESPACE"," ",876],["T_ELSEIF","elseif",876],["T_WHITESPACE"," ",876],"(",["T_ISSET","isset",876],"(",["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","session",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","data",876],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",876],"]",")",")",["T_WHITESPACE"," ",876],"{",["T_WHITESPACE","\n\t\t\t\t",876],["T_VARIABLE","$data",877],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",877],"]",["T_WHITESPACE"," ",877],"=",["T_WHITESPACE"," ",877],["T_LNUMBER","0",877],";",["T_WHITESPACE","\n\t\t\t\t",877],["T_VARIABLE","$data",878],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",878],"]",["T_WHITESPACE"," ",878],"=",["T_WHITESPACE"," ",878],["T_VARIABLE","$this",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","session",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","data",878],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",878],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",878],"]",";",["T_WHITESPACE","\n\t\t\t\t",878],["T_VARIABLE","$data",879],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",879],"]",["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","session",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","data",879],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",879],"]","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",879],"]",";",["T_WHITESPACE","\n\t\t\t\t",879],["T_VARIABLE","$data",880],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",880],"]",["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","session",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","data",880],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",880],"]","[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",880],"]",";",["T_WHITESPACE","\n\t\t\t\t",880],["T_VARIABLE","$data",881],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",881],"]",["T_WHITESPACE"," ",881],"=",["T_WHITESPACE"," ",881],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","session",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","data",881],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",881],"]","[",["T_CONSTANT_ENCAPSED_STRING","'email'",881],"]",";",["T_WHITESPACE","\n\t\t\t\t",881],["T_VARIABLE","$data",882],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",882],"]",["T_WHITESPACE"," ",882],"=",["T_WHITESPACE"," ",882],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","session",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","data",882],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",882],"]","[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",882],"]",";",["T_WHITESPACE","\n\t\t\t\t",882],["T_VARIABLE","$data",883],"[",["T_CONSTANT_ENCAPSED_STRING","'fax'",883],"]",["T_WHITESPACE"," ",883],"=",["T_WHITESPACE"," ",883],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","session",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","data",883],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",883],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fax'",883],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",883],["T_VARIABLE","$payment_address",885],["T_WHITESPACE"," ",885],"=",["T_WHITESPACE"," ",885],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","session",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","data",885],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",885],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payment'",885],"]",";",["T_WHITESPACE","\n\t\t\t",885],"}",["T_WHITESPACE","\n\n\t\t\t",886],["T_VARIABLE","$data",888],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_firstname'",888],"]",["T_WHITESPACE"," ",888],"=",["T_WHITESPACE"," ",888],["T_ISSET","isset",888],"(",["T_VARIABLE","$payment_address",888],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",888],"]",")",["T_WHITESPACE"," ",888],"?",["T_WHITESPACE"," ",888],["T_VARIABLE","$payment_address",888],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",888],"]",["T_WHITESPACE"," ",888],":",["T_WHITESPACE"," ",888],["T_CONSTANT_ENCAPSED_STRING","''",888],";",["T_WHITESPACE","\n\t\t\t",888],["T_VARIABLE","$data",889],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_lastname'",889],"]",["T_WHITESPACE"," ",889],"=",["T_WHITESPACE"," ",889],["T_ISSET","isset",889],"(",["T_VARIABLE","$payment_address",889],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",889],"]",")",["T_WHITESPACE"," ",889],"?",["T_WHITESPACE"," ",889],["T_VARIABLE","$payment_address",889],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",889],"]",["T_WHITESPACE"," ",889],":",["T_WHITESPACE"," ",889],["T_CONSTANT_ENCAPSED_STRING","''",889],";",["T_WHITESPACE","\n\t\t\t",889],["T_VARIABLE","$data",890],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_company'",890],"]",["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_ISSET","isset",890],"(",["T_VARIABLE","$payment_address",890],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",890],"]",")",["T_WHITESPACE"," ",890],"?",["T_WHITESPACE"," ",890],["T_VARIABLE","$payment_address",890],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",890],"]",["T_WHITESPACE"," ",890],":",["T_WHITESPACE"," ",890],["T_CONSTANT_ENCAPSED_STRING","''",890],";",["T_WHITESPACE","\n\t\t\t",890],["T_VARIABLE","$data",891],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_company_id'",891],"]",["T_WHITESPACE"," ",891],"=",["T_WHITESPACE"," ",891],["T_ISSET","isset",891],"(",["T_VARIABLE","$payment_address",891],"[",["T_CONSTANT_ENCAPSED_STRING","'company_id'",891],"]",")",["T_WHITESPACE"," ",891],"?",["T_WHITESPACE"," ",891],["T_VARIABLE","$payment_address",891],"[",["T_CONSTANT_ENCAPSED_STRING","'company_id'",891],"]",["T_WHITESPACE"," ",891],":",["T_WHITESPACE"," ",891],["T_CONSTANT_ENCAPSED_STRING","''",891],";",["T_WHITESPACE","\n\t\t\t",891],["T_VARIABLE","$data",892],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_tax_id'",892],"]",["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_ISSET","isset",892],"(",["T_VARIABLE","$payment_address",892],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_id'",892],"]",")",["T_WHITESPACE"," ",892],"?",["T_WHITESPACE"," ",892],["T_VARIABLE","$payment_address",892],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_id'",892],"]",["T_WHITESPACE"," ",892],":",["T_WHITESPACE"," ",892],["T_CONSTANT_ENCAPSED_STRING","''",892],";",["T_WHITESPACE","\n\t\t\t",892],["T_VARIABLE","$data",893],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_1'",893],"]",["T_WHITESPACE"," ",893],"=",["T_WHITESPACE"," ",893],["T_ISSET","isset",893],"(",["T_VARIABLE","$payment_address",893],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",893],"]",")",["T_WHITESPACE"," ",893],"?",["T_WHITESPACE"," ",893],["T_VARIABLE","$payment_address",893],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",893],"]",["T_WHITESPACE"," ",893],":",["T_WHITESPACE"," ",893],["T_CONSTANT_ENCAPSED_STRING","''",893],";",["T_WHITESPACE","\n\t\t\t",893],["T_VARIABLE","$data",894],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_2'",894],"]",["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_ISSET","isset",894],"(",["T_VARIABLE","$payment_address",894],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",894],"]",")",["T_WHITESPACE"," ",894],"?",["T_WHITESPACE"," ",894],["T_VARIABLE","$payment_address",894],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",894],"]",["T_WHITESPACE"," ",894],":",["T_WHITESPACE"," ",894],["T_CONSTANT_ENCAPSED_STRING","''",894],";",["T_WHITESPACE","\n\t\t\t",894],["T_VARIABLE","$data",895],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_city'",895],"]",["T_WHITESPACE"," ",895],"=",["T_WHITESPACE"," ",895],["T_ISSET","isset",895],"(",["T_VARIABLE","$payment_address",895],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",895],"]",")",["T_WHITESPACE"," ",895],"?",["T_WHITESPACE"," ",895],["T_VARIABLE","$payment_address",895],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",895],"]",["T_WHITESPACE"," ",895],":",["T_WHITESPACE"," ",895],["T_CONSTANT_ENCAPSED_STRING","''",895],";",["T_WHITESPACE","\n\t\t\t",895],["T_VARIABLE","$data",896],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_postcode'",896],"]",["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],["T_ISSET","isset",896],"(",["T_VARIABLE","$payment_address",896],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",896],"]",")",["T_WHITESPACE"," ",896],"?",["T_WHITESPACE"," ",896],["T_VARIABLE","$payment_address",896],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",896],"]",["T_WHITESPACE"," ",896],":",["T_WHITESPACE"," ",896],["T_CONSTANT_ENCAPSED_STRING","''",896],";",["T_WHITESPACE","\n\t\t\t",896],["T_VARIABLE","$data",897],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_zone'",897],"]",["T_WHITESPACE"," ",897],"=",["T_WHITESPACE"," ",897],["T_ISSET","isset",897],"(",["T_VARIABLE","$payment_address",897],"[",["T_CONSTANT_ENCAPSED_STRING","'zone'",897],"]",")",["T_WHITESPACE"," ",897],"?",["T_WHITESPACE"," ",897],["T_VARIABLE","$payment_address",897],"[",["T_CONSTANT_ENCAPSED_STRING","'zone'",897],"]",["T_WHITESPACE"," ",897],":",["T_WHITESPACE"," ",897],["T_CONSTANT_ENCAPSED_STRING","''",897],";",["T_WHITESPACE","\n\t\t\t",897],["T_VARIABLE","$data",898],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_zone_id'",898],"]",["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_ISSET","isset",898],"(",["T_VARIABLE","$payment_address",898],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",898],"]",")",["T_WHITESPACE"," ",898],"?",["T_WHITESPACE"," ",898],["T_VARIABLE","$payment_address",898],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",898],"]",["T_WHITESPACE"," ",898],":",["T_WHITESPACE"," ",898],["T_CONSTANT_ENCAPSED_STRING","''",898],";",["T_WHITESPACE","\n\t\t\t",898],["T_VARIABLE","$data",899],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_country'",899],"]",["T_WHITESPACE"," ",899],"=",["T_WHITESPACE"," ",899],["T_ISSET","isset",899],"(",["T_VARIABLE","$payment_address",899],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",899],"]",")",["T_WHITESPACE"," ",899],"?",["T_WHITESPACE"," ",899],["T_VARIABLE","$payment_address",899],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",899],"]",["T_WHITESPACE"," ",899],":",["T_WHITESPACE"," ",899],["T_CONSTANT_ENCAPSED_STRING","''",899],";",["T_WHITESPACE","\n\t\t\t",899],["T_VARIABLE","$data",900],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_country_id'",900],"]",["T_WHITESPACE"," ",900],"=",["T_WHITESPACE"," ",900],["T_ISSET","isset",900],"(",["T_VARIABLE","$payment_address",900],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",900],"]",")",["T_WHITESPACE"," ",900],"?",["T_WHITESPACE"," ",900],["T_VARIABLE","$payment_address",900],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",900],"]",["T_WHITESPACE"," ",900],":",["T_WHITESPACE"," ",900],["T_CONSTANT_ENCAPSED_STRING","''",900],";",["T_WHITESPACE","\n\t\t\t",900],["T_VARIABLE","$data",901],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_address_format'",901],"]",["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_ISSET","isset",901],"(",["T_VARIABLE","$payment_address",901],"[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",901],"]",")",["T_WHITESPACE"," ",901],"?",["T_WHITESPACE"," ",901],["T_VARIABLE","$payment_address",901],"[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",901],"]",["T_WHITESPACE"," ",901],":",["T_WHITESPACE"," ",901],["T_CONSTANT_ENCAPSED_STRING","''",901],";",["T_WHITESPACE","\n\n\t\t\t",901],["T_VARIABLE","$data",903],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",903],"]",["T_WHITESPACE"," ",903],"=",["T_WHITESPACE"," ",903],["T_CONSTANT_ENCAPSED_STRING","''",903],";",["T_WHITESPACE","\n\t\t\t",903],["T_IF","if",904],["T_WHITESPACE"," ",904],"(",["T_ISSET","isset",904],"(",["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","session",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","data",904],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",904],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",904],"]",")",")",["T_WHITESPACE"," ",904],"{",["T_WHITESPACE","\n\t\t\t\t",904],["T_VARIABLE","$data",905],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",905],"]",["T_WHITESPACE"," ",905],"=",["T_WHITESPACE"," ",905],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","session",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","data",905],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",905],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",905],"]",";",["T_WHITESPACE","\n\t\t\t",905],"}",["T_WHITESPACE","\n\n\t\t\t",906],["T_VARIABLE","$data",908],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_code'",908],"]",["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_CONSTANT_ENCAPSED_STRING","''",908],";",["T_WHITESPACE","\n\t\t\t",908],["T_IF","if",909],["T_WHITESPACE"," ",909],"(",["T_ISSET","isset",909],"(",["T_VARIABLE","$this",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","session",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","data",909],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",909],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",909],"]",")",")",["T_WHITESPACE"," ",909],"{",["T_WHITESPACE","\n\t\t\t\t",909],["T_VARIABLE","$data",910],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_code'",910],"]",["T_WHITESPACE"," ",910],"=",["T_WHITESPACE"," ",910],["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","session",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","data",910],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",910],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",910],"]",";",["T_WHITESPACE","\n\t\t\t",910],"}",["T_WHITESPACE","\n\n\t\t\t",911],["T_IF","if",913],["T_WHITESPACE"," ",913],"(",["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","cart",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","hasShipping",913],"(",")",")",["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n\t\t\t\t",913],["T_IF","if",914],["T_WHITESPACE"," ",914],"(",["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","customer",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","isLogged",914],"(",")",")",["T_WHITESPACE"," ",914],"{",["T_WHITESPACE","\n\t\t\t\t\t",914],["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","load",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","model",915],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/address'",915],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",915],["T_VARIABLE","$shipping_address",917],["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","model_account_address",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","getAddress",917],"(",["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","session",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","data",917],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_id'",917],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",917],"}",["T_WHITESPACE"," ",918],["T_ELSEIF","elseif",918],["T_WHITESPACE"," ",918],"(",["T_ISSET","isset",918],"(",["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","session",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","data",918],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",918],"]",")",")",["T_WHITESPACE"," ",918],"{",["T_WHITESPACE","\n\t\t\t\t\t",918],["T_VARIABLE","$shipping_address",919],["T_WHITESPACE"," ",919],"=",["T_WHITESPACE"," ",919],["T_VARIABLE","$this",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","session",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","data",919],"[",["T_CONSTANT_ENCAPSED_STRING","'guest'",919],"]","[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",919],"]",";",["T_WHITESPACE","\n\t\t\t\t",919],"}",["T_WHITESPACE","\n\n\t\t\t\t",920],["T_VARIABLE","$data",922],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_firstname'",922],"]",["T_WHITESPACE"," ",922],"=",["T_WHITESPACE"," ",922],["T_VARIABLE","$shipping_address",922],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",922],"]",";",["T_WHITESPACE","\n\t\t\t\t",922],["T_VARIABLE","$data",923],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_lastname'",923],"]",["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_VARIABLE","$shipping_address",923],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",923],"]",";",["T_WHITESPACE","\n\t\t\t\t",923],["T_VARIABLE","$data",924],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_company'",924],"]",["T_WHITESPACE"," ",924],"=",["T_WHITESPACE"," ",924],["T_VARIABLE","$shipping_address",924],"[",["T_CONSTANT_ENCAPSED_STRING","'company'",924],"]",";",["T_WHITESPACE","\n\t\t\t\t",924],["T_VARIABLE","$data",925],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_1'",925],"]",["T_WHITESPACE"," ",925],"=",["T_WHITESPACE"," ",925],["T_VARIABLE","$shipping_address",925],"[",["T_CONSTANT_ENCAPSED_STRING","'address_1'",925],"]",";",["T_WHITESPACE","\n\t\t\t\t",925],["T_VARIABLE","$data",926],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_2'",926],"]",["T_WHITESPACE"," ",926],"=",["T_WHITESPACE"," ",926],["T_VARIABLE","$shipping_address",926],"[",["T_CONSTANT_ENCAPSED_STRING","'address_2'",926],"]",";",["T_WHITESPACE","\n\t\t\t\t",926],["T_VARIABLE","$data",927],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_city'",927],"]",["T_WHITESPACE"," ",927],"=",["T_WHITESPACE"," ",927],["T_VARIABLE","$shipping_address",927],"[",["T_CONSTANT_ENCAPSED_STRING","'city'",927],"]",";",["T_WHITESPACE","\n\t\t\t\t",927],["T_VARIABLE","$data",928],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",928],"]",["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_VARIABLE","$shipping_address",928],"[",["T_CONSTANT_ENCAPSED_STRING","'postcode'",928],"]",";",["T_WHITESPACE","\n\t\t\t\t",928],["T_VARIABLE","$data",929],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone'",929],"]",["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],["T_VARIABLE","$shipping_address",929],"[",["T_CONSTANT_ENCAPSED_STRING","'zone'",929],"]",";",["T_WHITESPACE","\n\t\t\t\t",929],["T_VARIABLE","$data",930],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone_id'",930],"]",["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_VARIABLE","$shipping_address",930],"[",["T_CONSTANT_ENCAPSED_STRING","'zone_id'",930],"]",";",["T_WHITESPACE","\n\t\t\t\t",930],["T_VARIABLE","$data",931],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country'",931],"]",["T_WHITESPACE"," ",931],"=",["T_WHITESPACE"," ",931],["T_VARIABLE","$shipping_address",931],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",931],"]",";",["T_WHITESPACE","\n\t\t\t\t",931],["T_VARIABLE","$data",932],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country_id'",932],"]",["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$shipping_address",932],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",932],"]",";",["T_WHITESPACE","\n\t\t\t\t",932],["T_VARIABLE","$data",933],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_format'",933],"]",["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_VARIABLE","$shipping_address",933],"[",["T_CONSTANT_ENCAPSED_STRING","'address_format'",933],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",933],["T_VARIABLE","$data",935],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",935],"]",["T_WHITESPACE"," ",935],"=",["T_WHITESPACE"," ",935],["T_CONSTANT_ENCAPSED_STRING","''",935],";",["T_WHITESPACE","\n\t\t\t\t",935],["T_IF","if",936],["T_WHITESPACE"," ",936],"(",["T_ISSET","isset",936],"(",["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","session",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","data",936],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",936],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",936],"]",")",")",["T_WHITESPACE"," ",936],"{",["T_WHITESPACE","\n\t\t\t\t\t",936],["T_VARIABLE","$data",937],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",937],"]",["T_WHITESPACE"," ",937],"=",["T_WHITESPACE"," ",937],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","session",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","data",937],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",937],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",937],"]",";",["T_WHITESPACE","\n\t\t\t\t",937],"}",["T_WHITESPACE","\n\n\t\t\t\t",938],["T_VARIABLE","$data",940],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_code'",940],"]",["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","''",940],";",["T_WHITESPACE","\n\t\t\t\t",940],["T_IF","if",941],["T_WHITESPACE"," ",941],"(",["T_ISSET","isset",941],"(",["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","session",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","data",941],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",941],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",941],"]",")",")",["T_WHITESPACE"," ",941],"{",["T_WHITESPACE","\n\t\t\t\t\t",941],["T_VARIABLE","$data",942],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_code'",942],"]",["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","session",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","data",942],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",942],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",942],"]",";",["T_WHITESPACE","\n\t\t\t\t",942],"}",["T_WHITESPACE","\n\t\t\t",943],"}",["T_WHITESPACE"," ",944],["T_ELSE","else",944],["T_WHITESPACE"," ",944],"{",["T_WHITESPACE","\n\t\t\t\t",944],["T_VARIABLE","$data",945],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_firstname'",945],"]",["T_WHITESPACE"," ",945],"=",["T_WHITESPACE"," ",945],["T_CONSTANT_ENCAPSED_STRING","''",945],";",["T_WHITESPACE","\n\t\t\t\t",945],["T_VARIABLE","$data",946],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_lastname'",946],"]",["T_WHITESPACE"," ",946],"=",["T_WHITESPACE"," ",946],["T_CONSTANT_ENCAPSED_STRING","''",946],";",["T_WHITESPACE","\n\t\t\t\t",946],["T_VARIABLE","$data",947],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_company'",947],"]",["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_CONSTANT_ENCAPSED_STRING","''",947],";",["T_WHITESPACE","\n\t\t\t\t",947],["T_VARIABLE","$data",948],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_1'",948],"]",["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_CONSTANT_ENCAPSED_STRING","''",948],";",["T_WHITESPACE","\n\t\t\t\t",948],["T_VARIABLE","$data",949],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_2'",949],"]",["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_CONSTANT_ENCAPSED_STRING","''",949],";",["T_WHITESPACE","\n\t\t\t\t",949],["T_VARIABLE","$data",950],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_city'",950],"]",["T_WHITESPACE"," ",950],"=",["T_WHITESPACE"," ",950],["T_CONSTANT_ENCAPSED_STRING","''",950],";",["T_WHITESPACE","\n\t\t\t\t",950],["T_VARIABLE","$data",951],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",951],"]",["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_CONSTANT_ENCAPSED_STRING","''",951],";",["T_WHITESPACE","\n\t\t\t\t",951],["T_VARIABLE","$data",952],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone'",952],"]",["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_CONSTANT_ENCAPSED_STRING","''",952],";",["T_WHITESPACE","\n\t\t\t\t",952],["T_VARIABLE","$data",953],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone_id'",953],"]",["T_WHITESPACE"," ",953],"=",["T_WHITESPACE"," ",953],["T_CONSTANT_ENCAPSED_STRING","''",953],";",["T_WHITESPACE","\n\t\t\t\t",953],["T_VARIABLE","$data",954],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country'",954],"]",["T_WHITESPACE"," ",954],"=",["T_WHITESPACE"," ",954],["T_CONSTANT_ENCAPSED_STRING","''",954],";",["T_WHITESPACE","\n\t\t\t\t",954],["T_VARIABLE","$data",955],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country_id'",955],"]",["T_WHITESPACE"," ",955],"=",["T_WHITESPACE"," ",955],["T_CONSTANT_ENCAPSED_STRING","''",955],";",["T_WHITESPACE","\n\t\t\t\t",955],["T_VARIABLE","$data",956],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_format'",956],"]",["T_WHITESPACE"," ",956],"=",["T_WHITESPACE"," ",956],["T_CONSTANT_ENCAPSED_STRING","''",956],";",["T_WHITESPACE","\n\t\t\t\t",956],["T_VARIABLE","$data",957],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",957],"]",["T_WHITESPACE"," ",957],"=",["T_WHITESPACE"," ",957],["T_CONSTANT_ENCAPSED_STRING","''",957],";",["T_WHITESPACE","\n\t\t\t\t",957],["T_VARIABLE","$data",958],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_code'",958],"]",["T_WHITESPACE"," ",958],"=",["T_WHITESPACE"," ",958],["T_CONSTANT_ENCAPSED_STRING","''",958],";",["T_WHITESPACE","\n\t\t\t",958],"}",["T_WHITESPACE","\n\n\t\t\t",959],["T_VARIABLE","$product_data",961],["T_WHITESPACE"," ",961],"=",["T_WHITESPACE"," ",961],["T_ARRAY","array",961],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",961],["T_FOREACH","foreach",963],["T_WHITESPACE"," ",963],"(",["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","cart",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","getProducts",963],"(",")",["T_WHITESPACE"," ",963],["T_AS","as",963],["T_WHITESPACE"," ",963],["T_VARIABLE","$product",963],")",["T_WHITESPACE"," ",963],"{",["T_WHITESPACE","\n\t\t\t\t",963],["T_VARIABLE","$option_data",964],["T_WHITESPACE"," ",964],"=",["T_WHITESPACE"," ",964],["T_ARRAY","array",964],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",964],["T_FOREACH","foreach",966],["T_WHITESPACE"," ",966],"(",["T_VARIABLE","$product",966],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",966],"]",["T_WHITESPACE"," ",966],["T_AS","as",966],["T_WHITESPACE"," ",966],["T_VARIABLE","$option",966],")",["T_WHITESPACE"," ",966],"{",["T_WHITESPACE","\n\t\t\t\t\t",966],["T_VARIABLE","$option_data",967],"[","]",["T_WHITESPACE"," ",967],"=",["T_WHITESPACE"," ",967],["T_ARRAY","array",967],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",967],["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",968],["T_WHITESPACE","       ",968],["T_DOUBLE_ARROW","=>",968],["T_WHITESPACE"," ",968],["T_VARIABLE","$option",968],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_id'",968],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",968],["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",969],["T_WHITESPACE"," ",969],["T_DOUBLE_ARROW","=>",969],["T_WHITESPACE"," ",969],["T_VARIABLE","$option",969],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option_value_id'",969],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",969],["T_CONSTANT_ENCAPSED_STRING","'option_id'",970],["T_WHITESPACE","               ",970],["T_DOUBLE_ARROW","=>",970],["T_WHITESPACE"," ",970],["T_VARIABLE","$option",970],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",970],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",970],["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",971],["T_WHITESPACE","         ",971],["T_DOUBLE_ARROW","=>",971],["T_WHITESPACE"," ",971],["T_VARIABLE","$option",971],"[",["T_CONSTANT_ENCAPSED_STRING","'option_value_id'",971],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",971],["T_CONSTANT_ENCAPSED_STRING","'name'",972],["T_WHITESPACE","                    ",972],["T_DOUBLE_ARROW","=>",972],["T_WHITESPACE"," ",972],["T_VARIABLE","$option",972],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",972],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",972],["T_CONSTANT_ENCAPSED_STRING","'value'",973],["T_WHITESPACE","                   ",973],["T_DOUBLE_ARROW","=>",973],["T_WHITESPACE"," ",973],["T_VARIABLE","$option",973],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",973],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",973],["T_CONSTANT_ENCAPSED_STRING","'type'",974],["T_WHITESPACE","                    ",974],["T_DOUBLE_ARROW","=>",974],["T_WHITESPACE"," ",974],["T_VARIABLE","$option",974],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",974],"]",["T_WHITESPACE","\n\t\t\t\t\t",974],")",";",["T_WHITESPACE","\n\t\t\t\t",975],"}",["T_WHITESPACE","\n\n\t\t\t\t",976],["T_VARIABLE","$product_data",978],"[","]",["T_WHITESPACE"," ",978],"=",["T_WHITESPACE"," ",978],["T_ARRAY","array",978],"(",["T_WHITESPACE","\n\t\t\t\t\t",978],["T_CONSTANT_ENCAPSED_STRING","'product_id'",979],["T_WHITESPACE"," ",979],["T_DOUBLE_ARROW","=>",979],["T_WHITESPACE"," ",979],["T_VARIABLE","$product",979],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",979],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",979],["T_CONSTANT_ENCAPSED_STRING","'name'",980],["T_WHITESPACE","       ",980],["T_DOUBLE_ARROW","=>",980],["T_WHITESPACE"," ",980],["T_VARIABLE","$product",980],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",980],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",980],["T_CONSTANT_ENCAPSED_STRING","'model'",981],["T_WHITESPACE","      ",981],["T_DOUBLE_ARROW","=>",981],["T_WHITESPACE"," ",981],["T_VARIABLE","$product",981],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",981],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",981],["T_CONSTANT_ENCAPSED_STRING","'option'",982],["T_WHITESPACE","     ",982],["T_DOUBLE_ARROW","=>",982],["T_WHITESPACE"," ",982],["T_VARIABLE","$option_data",982],",",["T_WHITESPACE","\n\t\t\t\t\t",982],["T_CONSTANT_ENCAPSED_STRING","'download'",983],["T_WHITESPACE","   ",983],["T_DOUBLE_ARROW","=>",983],["T_WHITESPACE"," ",983],["T_VARIABLE","$product",983],"[",["T_CONSTANT_ENCAPSED_STRING","'download'",983],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",983],["T_CONSTANT_ENCAPSED_STRING","'quantity'",984],["T_WHITESPACE","   ",984],["T_DOUBLE_ARROW","=>",984],["T_WHITESPACE"," ",984],["T_VARIABLE","$product",984],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",984],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",984],["T_CONSTANT_ENCAPSED_STRING","'subtract'",985],["T_WHITESPACE","   ",985],["T_DOUBLE_ARROW","=>",985],["T_WHITESPACE"," ",985],["T_VARIABLE","$product",985],"[",["T_CONSTANT_ENCAPSED_STRING","'subtract'",985],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",985],["T_CONSTANT_ENCAPSED_STRING","'price'",986],["T_WHITESPACE","      ",986],["T_DOUBLE_ARROW","=>",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$product",986],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",986],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",986],["T_CONSTANT_ENCAPSED_STRING","'total'",987],["T_WHITESPACE","      ",987],["T_DOUBLE_ARROW","=>",987],["T_WHITESPACE"," ",987],["T_VARIABLE","$product",987],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",987],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",987],["T_CONSTANT_ENCAPSED_STRING","'tax'",988],["T_WHITESPACE","        ",988],["T_DOUBLE_ARROW","=>",988],["T_WHITESPACE"," ",988],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","tax",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","getTax",988],"(",["T_VARIABLE","$product",988],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",988],"]",",",["T_WHITESPACE"," ",988],["T_VARIABLE","$product",988],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",988],"]",")",",",["T_WHITESPACE","\n\t\t\t\t\t",988],["T_CONSTANT_ENCAPSED_STRING","'reward'",989],["T_WHITESPACE","     ",989],["T_DOUBLE_ARROW","=>",989],["T_WHITESPACE"," ",989],["T_VARIABLE","$product",989],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",989],"]",["T_WHITESPACE","\n\t\t\t\t",989],")",";",["T_WHITESPACE","\n\t\t\t",990],"}",["T_WHITESPACE","\n\n\t\t\t",991],["T_COMMENT","\/\/ Gift Voucher\n",993],["T_WHITESPACE","\t\t\t",994],["T_VARIABLE","$voucher_data",994],["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],["T_ARRAY","array",994],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",994],["T_IF","if",996],["T_WHITESPACE"," ",996],"(","!",["T_EMPTY","empty",996],"(",["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","session",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","data",996],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",996],"]",")",")",["T_WHITESPACE"," ",996],"{",["T_WHITESPACE","\n\t\t\t\t",996],["T_FOREACH","foreach",997],["T_WHITESPACE"," ",997],"(",["T_VARIABLE","$this",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","session",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","data",997],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",997],"]",["T_WHITESPACE"," ",997],["T_AS","as",997],["T_WHITESPACE"," ",997],["T_VARIABLE","$voucher",997],")",["T_WHITESPACE"," ",997],"{",["T_WHITESPACE","\n\t\t\t\t\t",997],["T_VARIABLE","$voucher_data",998],"[","]",["T_WHITESPACE"," ",998],"=",["T_WHITESPACE"," ",998],["T_ARRAY","array",998],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",998],["T_CONSTANT_ENCAPSED_STRING","'description'",999],["T_WHITESPACE","      ",999],["T_DOUBLE_ARROW","=>",999],["T_WHITESPACE"," ",999],["T_VARIABLE","$voucher",999],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",999],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",999],["T_CONSTANT_ENCAPSED_STRING","'code'",1000],["T_WHITESPACE","             ",1000],["T_DOUBLE_ARROW","=>",1000],["T_WHITESPACE"," ",1000],["T_STRING","token",1000],"(",["T_LNUMBER","10",1000],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1000],["T_CONSTANT_ENCAPSED_STRING","'to_name'",1001],["T_WHITESPACE","          ",1001],["T_DOUBLE_ARROW","=>",1001],["T_WHITESPACE"," ",1001],["T_VARIABLE","$voucher",1001],"[",["T_CONSTANT_ENCAPSED_STRING","'to_name'",1001],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1001],["T_CONSTANT_ENCAPSED_STRING","'to_email'",1002],["T_WHITESPACE","         ",1002],["T_DOUBLE_ARROW","=>",1002],["T_WHITESPACE"," ",1002],["T_VARIABLE","$voucher",1002],"[",["T_CONSTANT_ENCAPSED_STRING","'to_email'",1002],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1002],["T_CONSTANT_ENCAPSED_STRING","'from_name'",1003],["T_WHITESPACE","        ",1003],["T_DOUBLE_ARROW","=>",1003],["T_WHITESPACE"," ",1003],["T_VARIABLE","$voucher",1003],"[",["T_CONSTANT_ENCAPSED_STRING","'from_name'",1003],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1003],["T_CONSTANT_ENCAPSED_STRING","'from_email'",1004],["T_WHITESPACE","       ",1004],["T_DOUBLE_ARROW","=>",1004],["T_WHITESPACE"," ",1004],["T_VARIABLE","$voucher",1004],"[",["T_CONSTANT_ENCAPSED_STRING","'from_email'",1004],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1004],["T_CONSTANT_ENCAPSED_STRING","'voucher_theme_id'",1005],["T_WHITESPACE"," ",1005],["T_DOUBLE_ARROW","=>",1005],["T_WHITESPACE"," ",1005],["T_VARIABLE","$voucher",1005],"[",["T_CONSTANT_ENCAPSED_STRING","'voucher_theme_id'",1005],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1005],["T_CONSTANT_ENCAPSED_STRING","'message'",1006],["T_WHITESPACE","          ",1006],["T_DOUBLE_ARROW","=>",1006],["T_WHITESPACE"," ",1006],["T_VARIABLE","$voucher",1006],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",1006],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1006],["T_CONSTANT_ENCAPSED_STRING","'amount'",1007],["T_WHITESPACE","           ",1007],["T_DOUBLE_ARROW","=>",1007],["T_WHITESPACE"," ",1007],["T_VARIABLE","$voucher",1007],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",1007],"]",["T_WHITESPACE","\n\t\t\t\t\t",1007],")",";",["T_WHITESPACE","\n\t\t\t\t",1008],"}",["T_WHITESPACE","\n\t\t\t",1009],"}",["T_WHITESPACE","\n\n\t\t\t",1010],["T_VARIABLE","$data",1012],"[",["T_CONSTANT_ENCAPSED_STRING","'products'",1012],"]",["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_VARIABLE","$product_data",1012],";",["T_WHITESPACE","\n\t\t\t",1012],["T_VARIABLE","$data",1013],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",1013],"]",["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_VARIABLE","$voucher_data",1013],";",["T_WHITESPACE","\n\t\t\t",1013],["T_VARIABLE","$data",1014],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",1014],"]",["T_WHITESPACE"," ",1014],"=",["T_WHITESPACE"," ",1014],["T_VARIABLE","$totals",1014],";",["T_WHITESPACE","\n\t\t\t",1014],["T_VARIABLE","$data",1015],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",1015],"]",["T_WHITESPACE"," ",1015],"=",["T_WHITESPACE"," ",1015],["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","session",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","data",1015],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",1015],"]",";",["T_WHITESPACE","\n\t\t\t",1015],["T_VARIABLE","$data",1016],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",1016],"]",["T_WHITESPACE"," ",1016],"=",["T_WHITESPACE"," ",1016],["T_VARIABLE","$total",1016],";",["T_WHITESPACE","\n\n\t\t\t",1016],["T_IF","if",1018],["T_WHITESPACE"," ",1018],"(",["T_ISSET","isset",1018],"(",["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","request",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","cookie",1018],"[",["T_CONSTANT_ENCAPSED_STRING","'tracking'",1018],"]",")",")",["T_WHITESPACE"," ",1018],"{",["T_WHITESPACE","\n\t\t\t\t",1018],["T_VARIABLE","$data",1019],"[",["T_CONSTANT_ENCAPSED_STRING","'tracking'",1019],"]",["T_WHITESPACE"," ",1019],"=",["T_WHITESPACE"," ",1019],["T_VARIABLE","$this",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","request",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","cookie",1019],"[",["T_CONSTANT_ENCAPSED_STRING","'tracking'",1019],"]",";",["T_WHITESPACE","\n\n\t\t\t\t",1019],["T_VARIABLE","$subtotal",1021],["T_WHITESPACE"," ",1021],"=",["T_WHITESPACE"," ",1021],["T_VARIABLE","$this",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","cart",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","getSubTotal",1021],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",1021],["T_COMMENT","\/\/ Affiliate\n",1023],["T_WHITESPACE","\t\t\t\t",1024],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","load",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","model",1024],"(",["T_CONSTANT_ENCAPSED_STRING","'affiliate\/affiliate'",1024],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1024],["T_VARIABLE","$affiliate_info",1026],["T_WHITESPACE"," ",1026],"=",["T_WHITESPACE"," ",1026],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","model_affiliate_affiliate",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","getAffiliateByCode",1026],"(",["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","request",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","cookie",1026],"[",["T_CONSTANT_ENCAPSED_STRING","'tracking'",1026],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",1026],["T_IF","if",1028],["T_WHITESPACE"," ",1028],"(",["T_VARIABLE","$affiliate_info",1028],")",["T_WHITESPACE"," ",1028],"{",["T_WHITESPACE","\n\t\t\t\t\t",1028],["T_VARIABLE","$data",1029],"[",["T_CONSTANT_ENCAPSED_STRING","'affiliate_id'",1029],"]",["T_WHITESPACE"," ",1029],"=",["T_WHITESPACE"," ",1029],["T_VARIABLE","$affiliate_info",1029],"[",["T_CONSTANT_ENCAPSED_STRING","'affiliate_id'",1029],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",1029],["T_VARIABLE","$data",1030],"[",["T_CONSTANT_ENCAPSED_STRING","'commission'",1030],"]",["T_WHITESPACE"," ",1030],"=",["T_WHITESPACE"," ",1030],"(",["T_VARIABLE","$subtotal",1030],["T_WHITESPACE"," ",1030],"\/",["T_WHITESPACE"," ",1030],["T_LNUMBER","100",1030],")",["T_WHITESPACE"," ",1030],"*",["T_WHITESPACE"," ",1030],["T_VARIABLE","$affiliate_info",1030],"[",["T_CONSTANT_ENCAPSED_STRING","'commission'",1030],"]",";",["T_WHITESPACE","\n\t\t\t\t",1030],"}",["T_WHITESPACE"," ",1031],["T_ELSE","else",1031],["T_WHITESPACE"," ",1031],"{",["T_WHITESPACE","\n\t\t\t\t\t",1031],["T_VARIABLE","$data",1032],"[",["T_CONSTANT_ENCAPSED_STRING","'affiliate_id'",1032],"]",["T_WHITESPACE"," ",1032],"=",["T_WHITESPACE"," ",1032],["T_LNUMBER","0",1032],";",["T_WHITESPACE","\n\t\t\t\t\t",1032],["T_VARIABLE","$data",1033],"[",["T_CONSTANT_ENCAPSED_STRING","'commission'",1033],"]",["T_WHITESPACE"," ",1033],"=",["T_WHITESPACE"," ",1033],["T_LNUMBER","0",1033],";",["T_WHITESPACE","\n\t\t\t\t",1033],"}",["T_WHITESPACE","\n\n\t\t\t\t",1034],["T_COMMENT","\/\/ Marketing\n",1036],["T_WHITESPACE","\t\t\t\t",1037],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","load",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","model",1037],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/marketing'",1037],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1037],["T_VARIABLE","$marketing_info",1039],["T_WHITESPACE"," ",1039],"=",["T_WHITESPACE"," ",1039],["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","model_checkout_marketing",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","getMarketingByCode",1039],"(",["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","request",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","cookie",1039],"[",["T_CONSTANT_ENCAPSED_STRING","'tracking'",1039],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",1039],["T_IF","if",1041],["T_WHITESPACE"," ",1041],"(",["T_VARIABLE","$marketing_info",1041],")",["T_WHITESPACE"," ",1041],"{",["T_WHITESPACE","\n\t\t\t\t\t",1041],["T_VARIABLE","$data",1042],"[",["T_CONSTANT_ENCAPSED_STRING","'marketing_id'",1042],"]",["T_WHITESPACE"," ",1042],"=",["T_WHITESPACE"," ",1042],["T_VARIABLE","$marketing_info",1042],"[",["T_CONSTANT_ENCAPSED_STRING","'marketing_id'",1042],"]",";",["T_WHITESPACE","\n\t\t\t\t",1042],"}",["T_WHITESPACE"," ",1043],["T_ELSE","else",1043],["T_WHITESPACE"," ",1043],"{",["T_WHITESPACE","\n\t\t\t\t\t",1043],["T_VARIABLE","$data",1044],"[",["T_CONSTANT_ENCAPSED_STRING","'marketing_id'",1044],"]",["T_WHITESPACE"," ",1044],"=",["T_WHITESPACE"," ",1044],["T_LNUMBER","0",1044],";",["T_WHITESPACE","\n\t\t\t\t",1044],"}",["T_WHITESPACE","\n\t\t\t",1045],"}",["T_WHITESPACE"," ",1046],["T_ELSE","else",1046],["T_WHITESPACE"," ",1046],"{",["T_WHITESPACE","\n\t\t\t\t",1046],["T_VARIABLE","$data",1047],"[",["T_CONSTANT_ENCAPSED_STRING","'affiliate_id'",1047],"]",["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],["T_LNUMBER","0",1047],";",["T_WHITESPACE","\n\t\t\t\t",1047],["T_VARIABLE","$data",1048],"[",["T_CONSTANT_ENCAPSED_STRING","'commission'",1048],"]",["T_WHITESPACE"," ",1048],"=",["T_WHITESPACE"," ",1048],["T_LNUMBER","0",1048],";",["T_WHITESPACE","\n\t\t\t\t",1048],["T_VARIABLE","$data",1049],"[",["T_CONSTANT_ENCAPSED_STRING","'marketing_id'",1049],"]",["T_WHITESPACE"," ",1049],"=",["T_WHITESPACE"," ",1049],["T_LNUMBER","0",1049],";",["T_WHITESPACE","\n\t\t\t\t",1049],["T_VARIABLE","$data",1050],"[",["T_CONSTANT_ENCAPSED_STRING","'tracking'",1050],"]",["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_CONSTANT_ENCAPSED_STRING","''",1050],";",["T_WHITESPACE","\n\t\t\t",1050],"}",["T_WHITESPACE","\n\n\t\t\t",1051],["T_VARIABLE","$data",1053],"[",["T_CONSTANT_ENCAPSED_STRING","'language_id'",1053],"]",["T_WHITESPACE"," ",1053],"=",["T_WHITESPACE"," ",1053],["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","config",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","get",1053],"(",["T_CONSTANT_ENCAPSED_STRING","'config_language_id'",1053],")",";",["T_WHITESPACE","\n\t\t\t",1053],["T_VARIABLE","$data",1054],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_id'",1054],"]",["T_WHITESPACE"," ",1054],"=",["T_WHITESPACE"," ",1054],["T_VARIABLE","$this",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","currency",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","getId",1054],"(",["T_VARIABLE","$this",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","session",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","data",1054],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1054],"]",")",";",["T_WHITESPACE","\n\t\t\t",1054],["T_VARIABLE","$data",1055],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",1055],"]",["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","session",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","data",1055],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1055],"]",";",["T_WHITESPACE","\n\t\t\t",1055],["T_VARIABLE","$data",1056],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_value'",1056],"]",["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","currency",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","getValue",1056],"(",["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","session",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","data",1056],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1056],"]",")",";",["T_WHITESPACE","\n\t\t\t",1056],["T_VARIABLE","$data",1057],"[",["T_CONSTANT_ENCAPSED_STRING","'ip'",1057],"]",["T_WHITESPACE"," ",1057],"=",["T_WHITESPACE"," ",1057],["T_VARIABLE","$this",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","request",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","server",1057],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1057],"]",";",["T_WHITESPACE","\n\n\t\t\t",1057],["T_IF","if",1059],["T_WHITESPACE"," ",1059],"(","!",["T_EMPTY","empty",1059],"(",["T_VARIABLE","$this",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","request",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","server",1059],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",1059],"]",")",")",["T_WHITESPACE"," ",1059],"{",["T_WHITESPACE","\n\t\t\t\t",1059],["T_VARIABLE","$data",1060],"[",["T_CONSTANT_ENCAPSED_STRING","'forwarded_ip'",1060],"]",["T_WHITESPACE"," ",1060],"=",["T_WHITESPACE"," ",1060],["T_VARIABLE","$this",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","request",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","server",1060],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",1060],"]",";",["T_WHITESPACE","\n\t\t\t",1060],"}",["T_WHITESPACE"," ",1061],["T_ELSEIF","elseif",1061],["T_WHITESPACE"," ",1061],"(","!",["T_EMPTY","empty",1061],"(",["T_VARIABLE","$this",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","request",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","server",1061],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CLIENT_IP'",1061],"]",")",")",["T_WHITESPACE"," ",1061],"{",["T_WHITESPACE","\n\t\t\t\t",1061],["T_VARIABLE","$data",1062],"[",["T_CONSTANT_ENCAPSED_STRING","'forwarded_ip'",1062],"]",["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],["T_VARIABLE","$this",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","request",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","server",1062],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CLIENT_IP'",1062],"]",";",["T_WHITESPACE","\n\t\t\t",1062],"}",["T_WHITESPACE"," ",1063],["T_ELSE","else",1063],["T_WHITESPACE"," ",1063],"{",["T_WHITESPACE","\n\t\t\t\t",1063],["T_VARIABLE","$data",1064],"[",["T_CONSTANT_ENCAPSED_STRING","'forwarded_ip'",1064],"]",["T_WHITESPACE"," ",1064],"=",["T_WHITESPACE"," ",1064],["T_CONSTANT_ENCAPSED_STRING","''",1064],";",["T_WHITESPACE","\n\t\t\t",1064],"}",["T_WHITESPACE","\n\n\t\t\t",1065],["T_IF","if",1067],["T_WHITESPACE"," ",1067],"(",["T_ISSET","isset",1067],"(",["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","request",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","server",1067],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1067],"]",")",")",["T_WHITESPACE"," ",1067],"{",["T_WHITESPACE","\n\t\t\t\t",1067],["T_VARIABLE","$data",1068],"[",["T_CONSTANT_ENCAPSED_STRING","'user_agent'",1068],"]",["T_WHITESPACE"," ",1068],"=",["T_WHITESPACE"," ",1068],["T_VARIABLE","$this",1068],["T_OBJECT_OPERATOR","->",1068],["T_STRING","request",1068],["T_OBJECT_OPERATOR","->",1068],["T_STRING","server",1068],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1068],"]",";",["T_WHITESPACE","\n\t\t\t",1068],"}",["T_WHITESPACE"," ",1069],["T_ELSE","else",1069],["T_WHITESPACE"," ",1069],"{",["T_WHITESPACE","\n\t\t\t\t",1069],["T_VARIABLE","$data",1070],"[",["T_CONSTANT_ENCAPSED_STRING","'user_agent'",1070],"]",["T_WHITESPACE"," ",1070],"=",["T_WHITESPACE"," ",1070],["T_CONSTANT_ENCAPSED_STRING","''",1070],";",["T_WHITESPACE","\n\t\t\t",1070],"}",["T_WHITESPACE","\n\n\t\t\t",1071],["T_IF","if",1073],["T_WHITESPACE"," ",1073],"(",["T_ISSET","isset",1073],"(",["T_VARIABLE","$this",1073],["T_OBJECT_OPERATOR","->",1073],["T_STRING","request",1073],["T_OBJECT_OPERATOR","->",1073],["T_STRING","server",1073],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",1073],"]",")",")",["T_WHITESPACE"," ",1073],"{",["T_WHITESPACE","\n\t\t\t\t",1073],["T_VARIABLE","$data",1074],"[",["T_CONSTANT_ENCAPSED_STRING","'accept_language'",1074],"]",["T_WHITESPACE"," ",1074],"=",["T_WHITESPACE"," ",1074],["T_VARIABLE","$this",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","request",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","server",1074],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",1074],"]",";",["T_WHITESPACE","\n\t\t\t",1074],"}",["T_WHITESPACE"," ",1075],["T_ELSE","else",1075],["T_WHITESPACE"," ",1075],"{",["T_WHITESPACE","\n\t\t\t\t",1075],["T_VARIABLE","$data",1076],"[",["T_CONSTANT_ENCAPSED_STRING","'accept_language'",1076],"]",["T_WHITESPACE"," ",1076],"=",["T_WHITESPACE"," ",1076],["T_CONSTANT_ENCAPSED_STRING","''",1076],";",["T_WHITESPACE","\n\t\t\t",1076],"}",["T_WHITESPACE","\n\n\t\t\t",1077],["T_VARIABLE","$this",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","load",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","model",1079],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/custom_field'",1079],")",";",["T_WHITESPACE","\n\t\t\t",1079],["T_VARIABLE","$this",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","load",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","model",1080],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",1080],")",";",["T_WHITESPACE","\n\n\t\t\t",1080],["T_VARIABLE","$order_id",1082],["T_WHITESPACE"," ",1082],"=",["T_WHITESPACE"," ",1082],["T_VARIABLE","$this",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","model_checkout_order",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","addOrder",1082],"(",["T_VARIABLE","$data",1082],")",";",["T_WHITESPACE","\n\t\t\t",1082],["T_VARIABLE","$this",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","session",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","data",1083],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1083],"]",["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_VARIABLE","$order_id",1083],";",["T_WHITESPACE","\n\n\t\t\t",1083],["T_VARIABLE","$this",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","load",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","model",1085],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1085],")",";",["T_WHITESPACE","\n\n\t\t\t",1085],["T_VARIABLE","$paypal_data",1087],["T_WHITESPACE"," ",1087],"=",["T_WHITESPACE"," ",1087],["T_ARRAY","array",1087],"(",["T_WHITESPACE","\n\t\t\t\t",1087],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1088],["T_WHITESPACE","                      ",1088],["T_DOUBLE_ARROW","=>",1088],["T_WHITESPACE"," ",1088],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","session",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","data",1088],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1088],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1088],"]",",",["T_WHITESPACE","\n\t\t\t\t",1088],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",1089],["T_WHITESPACE","                    ",1089],["T_DOUBLE_ARROW","=>",1089],["T_WHITESPACE"," ",1089],["T_VARIABLE","$this",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","session",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","data",1089],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1089],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payerid'",1089],"]",",",["T_WHITESPACE","\n\t\t\t\t",1089],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",1090],["T_WHITESPACE","                     ",1090],["T_DOUBLE_ARROW","=>",1090],["T_WHITESPACE"," ",1090],["T_CONSTANT_ENCAPSED_STRING","'DoExpressCheckoutPayment'",1090],",",["T_WHITESPACE","\n\t\t\t\t",1090],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_NOTIFYURL'",1091],["T_WHITESPACE"," ",1091],["T_DOUBLE_ARROW","=>",1091],["T_WHITESPACE"," ",1091],["T_VARIABLE","$this",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","url",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","link",1091],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/ipn'",1091],",",["T_WHITESPACE"," ",1091],["T_CONSTANT_ENCAPSED_STRING","''",1091],",",["T_WHITESPACE"," ",1091],["T_STRING","true",1091],")",",",["T_WHITESPACE","\n\t\t\t\t",1091],["T_CONSTANT_ENCAPSED_STRING","'RETURNFMFDETAILS'",1092],["T_WHITESPACE","           ",1092],["T_DOUBLE_ARROW","=>",1092],["T_WHITESPACE"," ",1092],["T_LNUMBER","1",1092],["T_WHITESPACE","\n\t\t\t",1092],")",";",["T_WHITESPACE","\n\n\t\t\t",1093],["T_VARIABLE","$paypal_data",1095],["T_WHITESPACE"," ",1095],"=",["T_WHITESPACE"," ",1095],["T_STRING","array_merge",1095],"(",["T_VARIABLE","$paypal_data",1095],",",["T_WHITESPACE"," ",1095],["T_VARIABLE","$this",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","model_extension_payment_pp_express",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","paymentRequestInfo",1095],"(",")",")",";",["T_WHITESPACE","\n\n\t\t\t",1095],["T_VARIABLE","$result",1097],["T_WHITESPACE"," ",1097],"=",["T_WHITESPACE"," ",1097],["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","model_extension_payment_pp_express",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","call",1097],"(",["T_VARIABLE","$paypal_data",1097],")",";",["T_WHITESPACE","\n\n\t\t\t",1097],["T_IF","if",1099],["T_WHITESPACE"," ",1099],"(",["T_VARIABLE","$result",1099],"[",["T_CONSTANT_ENCAPSED_STRING","'ACK'",1099],"]",["T_WHITESPACE"," ",1099],["T_IS_EQUAL","==",1099],["T_WHITESPACE"," ",1099],["T_CONSTANT_ENCAPSED_STRING","'Success'",1099],")",["T_WHITESPACE"," ",1099],"{",["T_WHITESPACE","\n\t\t\t\t",1099],["T_COMMENT","\/\/handle order status\n",1100],["T_WHITESPACE","\t\t\t\t",1101],["T_SWITCH","switch",1101],"(",["T_VARIABLE","$result",1101],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PAYMENTSTATUS'",1101],"]",")",["T_WHITESPACE"," ",1101],"{",["T_WHITESPACE","\n\t\t\t\t\t",1101],["T_CASE","case",1102],["T_WHITESPACE"," ",1102],["T_CONSTANT_ENCAPSED_STRING","'Canceled_Reversal'",1102],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1102],["T_VARIABLE","$order_status_id",1103],["T_WHITESPACE"," ",1103],"=",["T_WHITESPACE"," ",1103],["T_VARIABLE","$this",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","config",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","get",1103],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_canceled_reversal_status_id'",1103],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1103],["T_BREAK","break",1104],";",["T_WHITESPACE","\n\t\t\t\t\t",1104],["T_CASE","case",1105],["T_WHITESPACE"," ",1105],["T_CONSTANT_ENCAPSED_STRING","'Completed'",1105],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1105],["T_VARIABLE","$order_status_id",1106],["T_WHITESPACE"," ",1106],"=",["T_WHITESPACE"," ",1106],["T_VARIABLE","$this",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","config",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","get",1106],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_completed_status_id'",1106],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1106],["T_BREAK","break",1107],";",["T_WHITESPACE","\n\t\t\t\t\t",1107],["T_CASE","case",1108],["T_WHITESPACE"," ",1108],["T_CONSTANT_ENCAPSED_STRING","'Denied'",1108],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1108],["T_VARIABLE","$order_status_id",1109],["T_WHITESPACE"," ",1109],"=",["T_WHITESPACE"," ",1109],["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","config",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","get",1109],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_denied_status_id'",1109],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1109],["T_BREAK","break",1110],";",["T_WHITESPACE","\n\t\t\t\t\t",1110],["T_CASE","case",1111],["T_WHITESPACE"," ",1111],["T_CONSTANT_ENCAPSED_STRING","'Expired'",1111],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1111],["T_VARIABLE","$order_status_id",1112],["T_WHITESPACE"," ",1112],"=",["T_WHITESPACE"," ",1112],["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","config",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","get",1112],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_expired_status_id'",1112],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1112],["T_BREAK","break",1113],";",["T_WHITESPACE","\n\t\t\t\t\t",1113],["T_CASE","case",1114],["T_WHITESPACE"," ",1114],["T_CONSTANT_ENCAPSED_STRING","'Failed'",1114],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1114],["T_VARIABLE","$order_status_id",1115],["T_WHITESPACE"," ",1115],"=",["T_WHITESPACE"," ",1115],["T_VARIABLE","$this",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","config",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","get",1115],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_failed_status_id'",1115],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1115],["T_BREAK","break",1116],";",["T_WHITESPACE","\n\t\t\t\t\t",1116],["T_CASE","case",1117],["T_WHITESPACE"," ",1117],["T_CONSTANT_ENCAPSED_STRING","'Pending'",1117],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1117],["T_VARIABLE","$order_status_id",1118],["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_VARIABLE","$this",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","config",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","get",1118],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_pending_status_id'",1118],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1118],["T_BREAK","break",1119],";",["T_WHITESPACE","\n\t\t\t\t\t",1119],["T_CASE","case",1120],["T_WHITESPACE"," ",1120],["T_CONSTANT_ENCAPSED_STRING","'Processed'",1120],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1120],["T_VARIABLE","$order_status_id",1121],["T_WHITESPACE"," ",1121],"=",["T_WHITESPACE"," ",1121],["T_VARIABLE","$this",1121],["T_OBJECT_OPERATOR","->",1121],["T_STRING","config",1121],["T_OBJECT_OPERATOR","->",1121],["T_STRING","get",1121],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_processed_status_id'",1121],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1121],["T_BREAK","break",1122],";",["T_WHITESPACE","\n\t\t\t\t\t",1122],["T_CASE","case",1123],["T_WHITESPACE"," ",1123],["T_CONSTANT_ENCAPSED_STRING","'Refunded'",1123],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1123],["T_VARIABLE","$order_status_id",1124],["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],["T_VARIABLE","$this",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","config",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","get",1124],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_refunded_status_id'",1124],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1124],["T_BREAK","break",1125],";",["T_WHITESPACE","\n\t\t\t\t\t",1125],["T_CASE","case",1126],["T_WHITESPACE"," ",1126],["T_CONSTANT_ENCAPSED_STRING","'Reversed'",1126],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1126],["T_VARIABLE","$order_status_id",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_VARIABLE","$this",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","config",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","get",1127],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_reversed_status_id'",1127],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1127],["T_BREAK","break",1128],";",["T_WHITESPACE","\n\t\t\t\t\t",1128],["T_CASE","case",1129],["T_WHITESPACE"," ",1129],["T_CONSTANT_ENCAPSED_STRING","'Voided'",1129],":",["T_WHITESPACE","\n\t\t\t\t\t\t",1129],["T_VARIABLE","$order_status_id",1130],["T_WHITESPACE"," ",1130],"=",["T_WHITESPACE"," ",1130],["T_VARIABLE","$this",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","config",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","get",1130],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_voided_status_id'",1130],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1130],["T_BREAK","break",1131],";",["T_WHITESPACE","\n\t\t\t\t",1131],"}",["T_WHITESPACE","\n\n\t\t\t\t",1132],["T_VARIABLE","$this",1134],["T_OBJECT_OPERATOR","->",1134],["T_STRING","model_checkout_order",1134],["T_OBJECT_OPERATOR","->",1134],["T_STRING","addOrderHistory",1134],"(",["T_VARIABLE","$order_id",1134],",",["T_WHITESPACE"," ",1134],["T_VARIABLE","$order_status_id",1134],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1134],["T_COMMENT","\/\/add order to paypal table\n",1136],["T_WHITESPACE","\t\t\t\t",1137],["T_VARIABLE","$paypal_order_data",1137],["T_WHITESPACE"," ",1137],"=",["T_WHITESPACE"," ",1137],["T_ARRAY","array",1137],"(",["T_WHITESPACE","\n\t\t\t\t\t",1137],["T_CONSTANT_ENCAPSED_STRING","'order_id'",1138],["T_WHITESPACE","         ",1138],["T_DOUBLE_ARROW","=>",1138],["T_WHITESPACE"," ",1138],["T_VARIABLE","$order_id",1138],",",["T_WHITESPACE","\n\t\t\t\t\t",1138],["T_CONSTANT_ENCAPSED_STRING","'capture_status'",1139],["T_WHITESPACE","   ",1139],["T_DOUBLE_ARROW","=>",1139],["T_WHITESPACE"," ",1139],"(",["T_VARIABLE","$this",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","config",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","get",1139],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_transaction'",1139],")",["T_WHITESPACE"," ",1139],["T_IS_EQUAL","==",1139],["T_WHITESPACE"," ",1139],["T_CONSTANT_ENCAPSED_STRING","'Sale'",1139],["T_WHITESPACE"," ",1139],"?",["T_WHITESPACE"," ",1139],["T_CONSTANT_ENCAPSED_STRING","'Complete'",1139],["T_WHITESPACE"," ",1139],":",["T_WHITESPACE"," ",1139],["T_CONSTANT_ENCAPSED_STRING","'NotComplete'",1139],")",",",["T_WHITESPACE","\n\t\t\t\t\t",1139],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",1140],["T_WHITESPACE","    ",1140],["T_DOUBLE_ARROW","=>",1140],["T_WHITESPACE"," ",1140],["T_VARIABLE","$result",1140],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_CURRENCYCODE'",1140],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1140],["T_CONSTANT_ENCAPSED_STRING","'authorization_id'",1141],["T_WHITESPACE"," ",1141],["T_DOUBLE_ARROW","=>",1141],["T_WHITESPACE"," ",1141],["T_VARIABLE","$result",1141],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",1141],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1141],["T_CONSTANT_ENCAPSED_STRING","'total'",1142],["T_WHITESPACE","            ",1142],["T_DOUBLE_ARROW","=>",1142],["T_WHITESPACE"," ",1142],["T_VARIABLE","$result",1142],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_AMT'",1142],"]",["T_WHITESPACE","\n\t\t\t\t",1142],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1143],["T_VARIABLE","$paypal_order_id",1145],["T_WHITESPACE"," ",1145],"=",["T_WHITESPACE"," ",1145],["T_VARIABLE","$this",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","model_extension_payment_pp_express",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","addOrder",1145],"(",["T_VARIABLE","$paypal_order_data",1145],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1145],["T_COMMENT","\/\/add transaction to paypal transaction table\n",1147],["T_WHITESPACE","\t\t\t\t",1148],["T_VARIABLE","$paypal_transaction_data",1148],["T_WHITESPACE"," ",1148],"=",["T_WHITESPACE"," ",1148],["T_ARRAY","array",1148],"(",["T_WHITESPACE","\n\t\t\t\t\t",1148],["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1149],["T_WHITESPACE","       ",1149],["T_DOUBLE_ARROW","=>",1149],["T_WHITESPACE"," ",1149],["T_VARIABLE","$paypal_order_id",1149],",",["T_WHITESPACE","\n\t\t\t\t\t",1149],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1150],["T_WHITESPACE","        ",1150],["T_DOUBLE_ARROW","=>",1150],["T_WHITESPACE"," ",1150],["T_VARIABLE","$result",1150],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",1150],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1150],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1151],["T_WHITESPACE"," ",1151],["T_DOUBLE_ARROW","=>",1151],["T_WHITESPACE"," ",1151],["T_CONSTANT_ENCAPSED_STRING","''",1151],",",["T_WHITESPACE","\n\t\t\t\t\t",1151],["T_CONSTANT_ENCAPSED_STRING","'note'",1152],["T_WHITESPACE","                  ",1152],["T_DOUBLE_ARROW","=>",1152],["T_WHITESPACE"," ",1152],["T_CONSTANT_ENCAPSED_STRING","''",1152],",",["T_WHITESPACE","\n\t\t\t\t\t",1152],["T_CONSTANT_ENCAPSED_STRING","'msgsubid'",1153],["T_WHITESPACE","              ",1153],["T_DOUBLE_ARROW","=>",1153],["T_WHITESPACE"," ",1153],["T_CONSTANT_ENCAPSED_STRING","''",1153],",",["T_WHITESPACE","\n\t\t\t\t\t",1153],["T_CONSTANT_ENCAPSED_STRING","'receipt_id'",1154],["T_WHITESPACE","            ",1154],["T_DOUBLE_ARROW","=>",1154],["T_WHITESPACE"," ",1154],"(",["T_ISSET","isset",1154],"(",["T_VARIABLE","$result",1154],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_RECEIPTID'",1154],"]",")",["T_WHITESPACE"," ",1154],"?",["T_WHITESPACE"," ",1154],["T_VARIABLE","$result",1154],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_RECEIPTID'",1154],"]",["T_WHITESPACE"," ",1154],":",["T_WHITESPACE"," ",1154],["T_CONSTANT_ENCAPSED_STRING","''",1154],")",",",["T_WHITESPACE","\n\t\t\t\t\t",1154],["T_CONSTANT_ENCAPSED_STRING","'payment_type'",1155],["T_WHITESPACE","          ",1155],["T_DOUBLE_ARROW","=>",1155],["T_WHITESPACE"," ",1155],["T_VARIABLE","$result",1155],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PAYMENTTYPE'",1155],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1155],["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1156],["T_WHITESPACE","        ",1156],["T_DOUBLE_ARROW","=>",1156],["T_WHITESPACE"," ",1156],["T_VARIABLE","$result",1156],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PAYMENTSTATUS'",1156],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1156],["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1157],["T_WHITESPACE","        ",1157],["T_DOUBLE_ARROW","=>",1157],["T_WHITESPACE"," ",1157],["T_VARIABLE","$result",1157],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PENDINGREASON'",1157],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1157],["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1158],["T_WHITESPACE","    ",1158],["T_DOUBLE_ARROW","=>",1158],["T_WHITESPACE"," ",1158],"(",["T_VARIABLE","$this",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","config",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","get",1158],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_transaction'",1158],")",["T_WHITESPACE"," ",1158],["T_IS_EQUAL","==",1158],["T_WHITESPACE"," ",1158],["T_CONSTANT_ENCAPSED_STRING","'Sale'",1158],["T_WHITESPACE"," ",1158],"?",["T_WHITESPACE"," ",1158],["T_CONSTANT_ENCAPSED_STRING","'payment'",1158],["T_WHITESPACE"," ",1158],":",["T_WHITESPACE"," ",1158],["T_CONSTANT_ENCAPSED_STRING","'auth'",1158],")",",",["T_WHITESPACE","\n\t\t\t\t\t",1158],["T_CONSTANT_ENCAPSED_STRING","'amount'",1159],["T_WHITESPACE","                ",1159],["T_DOUBLE_ARROW","=>",1159],["T_WHITESPACE"," ",1159],["T_VARIABLE","$result",1159],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_AMT'",1159],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",1159],["T_CONSTANT_ENCAPSED_STRING","'debug_data'",1160],["T_WHITESPACE","            ",1160],["T_DOUBLE_ARROW","=>",1160],["T_WHITESPACE"," ",1160],["T_STRING","json_encode",1160],"(",["T_VARIABLE","$result",1160],")",["T_WHITESPACE","\n\t\t\t\t",1160],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1161],["T_VARIABLE","$this",1163],["T_OBJECT_OPERATOR","->",1163],["T_STRING","model_extension_payment_pp_express",1163],["T_OBJECT_OPERATOR","->",1163],["T_STRING","addTransaction",1163],"(",["T_VARIABLE","$paypal_transaction_data",1163],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1163],["T_VARIABLE","$recurring_products",1165],["T_WHITESPACE"," ",1165],"=",["T_WHITESPACE"," ",1165],["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","cart",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","getRecurringProducts",1165],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",1165],["T_COMMENT","\/\/loop through any products that are recurring items\n",1167],["T_WHITESPACE","\t\t\t\t",1168],["T_IF","if",1168],["T_WHITESPACE"," ",1168],"(",["T_VARIABLE","$recurring_products",1168],")",["T_WHITESPACE"," ",1168],"{",["T_WHITESPACE","\n\t\t\t\t\t",1168],["T_VARIABLE","$this",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","load",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","language",1169],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1169],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1169],["T_VARIABLE","$this",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","load",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","model",1171],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/recurring'",1171],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1171],["T_VARIABLE","$billing_period",1173],["T_WHITESPACE"," ",1173],"=",["T_WHITESPACE"," ",1173],["T_ARRAY","array",1173],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",1173],["T_CONSTANT_ENCAPSED_STRING","'day'",1174],["T_WHITESPACE","        ",1174],["T_DOUBLE_ARROW","=>",1174],["T_WHITESPACE"," ",1174],["T_CONSTANT_ENCAPSED_STRING","'Day'",1174],",",["T_WHITESPACE","\n\t\t\t\t\t\t",1174],["T_CONSTANT_ENCAPSED_STRING","'week'",1175],["T_WHITESPACE","       ",1175],["T_DOUBLE_ARROW","=>",1175],["T_WHITESPACE"," ",1175],["T_CONSTANT_ENCAPSED_STRING","'Week'",1175],",",["T_WHITESPACE","\n\t\t\t\t\t\t",1175],["T_CONSTANT_ENCAPSED_STRING","'semi_month'",1176],["T_WHITESPACE"," ",1176],["T_DOUBLE_ARROW","=>",1176],["T_WHITESPACE"," ",1176],["T_CONSTANT_ENCAPSED_STRING","'SemiMonth'",1176],",",["T_WHITESPACE","\n\t\t\t\t\t\t",1176],["T_CONSTANT_ENCAPSED_STRING","'month'",1177],["T_WHITESPACE","      ",1177],["T_DOUBLE_ARROW","=>",1177],["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","'Month'",1177],",",["T_WHITESPACE","\n\t\t\t\t\t\t",1177],["T_CONSTANT_ENCAPSED_STRING","'year'",1178],["T_WHITESPACE","       ",1178],["T_DOUBLE_ARROW","=>",1178],["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'Year'",1178],["T_WHITESPACE","\n\t\t\t\t\t",1178],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1179],["T_FOREACH","foreach",1181],"(",["T_VARIABLE","$recurring_products",1181],["T_WHITESPACE"," ",1181],["T_AS","as",1181],["T_WHITESPACE"," ",1181],["T_VARIABLE","$item",1181],")",["T_WHITESPACE"," ",1181],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1181],["T_VARIABLE","$data",1182],["T_WHITESPACE"," ",1182],"=",["T_WHITESPACE"," ",1182],["T_ARRAY","array",1182],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1182],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",1183],["T_WHITESPACE","             ",1183],["T_DOUBLE_ARROW","=>",1183],["T_WHITESPACE"," ",1183],["T_CONSTANT_ENCAPSED_STRING","'CreateRecurringPaymentsProfile'",1183],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1183],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1184],["T_WHITESPACE","              ",1184],["T_DOUBLE_ARROW","=>",1184],["T_WHITESPACE"," ",1184],["T_VARIABLE","$this",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","session",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","data",1184],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1184],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1184],["T_CONSTANT_ENCAPSED_STRING","'PROFILESTARTDATE'",1185],["T_WHITESPACE","   ",1185],["T_DOUBLE_ARROW","=>",1185],["T_WHITESPACE"," ",1185],["T_STRING","gmdate",1185],"(",["T_CONSTANT_ENCAPSED_STRING","\"Y-m-d\\TH:i:s\\Z\"",1185],",",["T_WHITESPACE"," ",1185],["T_STRING","gmmktime",1185],"(",["T_STRING","gmdate",1185],"(",["T_CONSTANT_ENCAPSED_STRING","\"H\"",1185],")",",",["T_WHITESPACE"," ",1185],["T_STRING","gmdate",1185],"(",["T_CONSTANT_ENCAPSED_STRING","\"i\"",1185],")","+",["T_LNUMBER","5",1185],",",["T_WHITESPACE"," ",1185],["T_STRING","gmdate",1185],"(",["T_CONSTANT_ENCAPSED_STRING","\"s\"",1185],")",",",["T_WHITESPACE"," ",1185],["T_STRING","gmdate",1185],"(",["T_CONSTANT_ENCAPSED_STRING","\"m\"",1185],")",",",["T_WHITESPACE"," ",1185],["T_STRING","gmdate",1185],"(",["T_CONSTANT_ENCAPSED_STRING","\"d\"",1185],")",",",["T_WHITESPACE"," ",1185],["T_STRING","gmdate",1185],"(",["T_CONSTANT_ENCAPSED_STRING","\"y\"",1185],")",")",")",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1185],["T_CONSTANT_ENCAPSED_STRING","'BILLINGPERIOD'",1186],["T_WHITESPACE","      ",1186],["T_DOUBLE_ARROW","=>",1186],["T_WHITESPACE"," ",1186],["T_VARIABLE","$billing_period",1186],"[",["T_VARIABLE","$item",1186],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1186],"]","[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",1186],"]","]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1186],["T_CONSTANT_ENCAPSED_STRING","'BILLINGFREQUENCY'",1187],["T_WHITESPACE","   ",1187],["T_DOUBLE_ARROW","=>",1187],["T_WHITESPACE"," ",1187],["T_VARIABLE","$item",1187],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1187],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",1187],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1187],["T_CONSTANT_ENCAPSED_STRING","'TOTALBILLINGCYCLES'",1188],["T_WHITESPACE"," ",1188],["T_DOUBLE_ARROW","=>",1188],["T_WHITESPACE"," ",1188],["T_VARIABLE","$item",1188],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1188],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",1188],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1188],["T_CONSTANT_ENCAPSED_STRING","'AMT'",1189],["T_WHITESPACE","                ",1189],["T_DOUBLE_ARROW","=>",1189],["T_WHITESPACE"," ",1189],["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","currency",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","format",1189],"(",["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","tax",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","calculate",1189],"(",["T_VARIABLE","$item",1189],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",1189],"]",",",["T_WHITESPACE"," ",1189],["T_VARIABLE","$item",1189],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1189],"]",",",["T_WHITESPACE"," ",1189],["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","config",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","get",1189],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1189],")",")",",",["T_WHITESPACE"," ",1189],["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","session",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","data",1189],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1189],"]",",",["T_WHITESPACE"," ",1189],["T_STRING","false",1189],",",["T_WHITESPACE"," ",1189],["T_STRING","false",1189],")",["T_WHITESPACE"," ",1189],"*",["T_WHITESPACE"," ",1189],["T_VARIABLE","$item",1189],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1189],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1189],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",1190],["T_WHITESPACE","       ",1190],["T_DOUBLE_ARROW","=>",1190],["T_WHITESPACE"," ",1190],["T_VARIABLE","$this",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","session",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","data",1190],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1190],"]",["T_WHITESPACE","\n\t\t\t\t\t\t",1190],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1191],["T_COMMENT","\/\/trial information\n",1193],["T_WHITESPACE","\t\t\t\t\t\t",1194],["T_IF","if",1194],["T_WHITESPACE"," ",1194],"(",["T_VARIABLE","$item",1194],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1194],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial'",1194],"]",")",["T_WHITESPACE"," ",1194],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1194],["T_VARIABLE","$data_trial",1195],["T_WHITESPACE"," ",1195],"=",["T_WHITESPACE"," ",1195],["T_ARRAY","array",1195],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1195],["T_CONSTANT_ENCAPSED_STRING","'TRIALBILLINGPERIOD'",1196],["T_WHITESPACE","      ",1196],["T_DOUBLE_ARROW","=>",1196],["T_WHITESPACE"," ",1196],["T_VARIABLE","$billing_period",1196],"[",["T_VARIABLE","$item",1196],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1196],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",1196],"]","]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1196],["T_CONSTANT_ENCAPSED_STRING","'TRIALBILLINGFREQUENCY'",1197],["T_WHITESPACE","   ",1197],["T_DOUBLE_ARROW","=>",1197],["T_WHITESPACE"," ",1197],["T_VARIABLE","$item",1197],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",1197],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1197],["T_CONSTANT_ENCAPSED_STRING","'TRIALTOTALBILLINGCYCLES'",1198],["T_WHITESPACE"," ",1198],["T_DOUBLE_ARROW","=>",1198],["T_WHITESPACE"," ",1198],["T_VARIABLE","$item",1198],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1198],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",1198],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1198],["T_CONSTANT_ENCAPSED_STRING","'TRIALAMT'",1199],["T_WHITESPACE","                ",1199],["T_DOUBLE_ARROW","=>",1199],["T_WHITESPACE"," ",1199],["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","currency",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","format",1199],"(",["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","tax",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","calculate",1199],"(",["T_VARIABLE","$item",1199],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1199],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_price'",1199],"]",",",["T_WHITESPACE"," ",1199],["T_VARIABLE","$item",1199],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1199],"]",",",["T_WHITESPACE"," ",1199],["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","config",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","get",1199],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1199],")",")",",",["T_WHITESPACE"," ",1199],["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","session",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","data",1199],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1199],"]",",",["T_WHITESPACE"," ",1199],["T_STRING","false",1199],",",["T_WHITESPACE"," ",1199],["T_STRING","false",1199],")",["T_WHITESPACE"," ",1199],"*",["T_WHITESPACE"," ",1199],["T_VARIABLE","$item",1199],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1199],"]",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1199],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",1200],["T_VARIABLE","$trial_amt",1202],["T_WHITESPACE"," ",1202],"=",["T_WHITESPACE"," ",1202],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","currency",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","format",1202],"(",["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","tax",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","calculate",1202],"(",["T_VARIABLE","$item",1202],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1202],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_price'",1202],"]",",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$item",1202],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1202],"]",",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","config",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","get",1202],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1202],")",")",",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","session",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","data",1202],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1202],"]",",",["T_WHITESPACE"," ",1202],["T_STRING","false",1202],",",["T_WHITESPACE"," ",1202],["T_STRING","false",1202],")",["T_WHITESPACE"," ",1202],"*",["T_WHITESPACE"," ",1202],["T_VARIABLE","$item",1202],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1202],"]",["T_WHITESPACE"," ",1202],".",["T_WHITESPACE"," ",1202],["T_CONSTANT_ENCAPSED_STRING","' '",1202],["T_WHITESPACE"," ",1202],".",["T_WHITESPACE"," ",1202],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","session",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","data",1202],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1202],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1202],["T_VARIABLE","$trial_text",1203],["T_WHITESPACE"," ",1203],"=",["T_WHITESPACE","  ",1203],["T_STRING","sprintf",1203],"(",["T_VARIABLE","$this",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","language",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","get",1203],"(",["T_CONSTANT_ENCAPSED_STRING","'text_trial'",1203],")",",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$trial_amt",1203],",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$item",1203],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",1203],"]",",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$item",1203],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",1203],"]",",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$item",1203],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",1203],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",1203],["T_VARIABLE","$data",1205],["T_WHITESPACE"," ",1205],"=",["T_WHITESPACE"," ",1205],["T_STRING","array_merge",1205],"(",["T_VARIABLE","$data",1205],",",["T_WHITESPACE"," ",1205],["T_VARIABLE","$data_trial",1205],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1205],"}",["T_WHITESPACE"," ",1206],["T_ELSE","else",1206],["T_WHITESPACE"," ",1206],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1206],["T_VARIABLE","$trial_text",1207],["T_WHITESPACE"," ",1207],"=",["T_WHITESPACE"," ",1207],["T_CONSTANT_ENCAPSED_STRING","''",1207],";",["T_WHITESPACE","\n\t\t\t\t\t\t",1207],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1208],["T_VARIABLE","$recurring_amt",1210],["T_WHITESPACE"," ",1210],"=",["T_WHITESPACE"," ",1210],["T_VARIABLE","$this",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","currency",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","format",1210],"(",["T_VARIABLE","$this",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","tax",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","calculate",1210],"(",["T_VARIABLE","$item",1210],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",1210],"]",",",["T_WHITESPACE"," ",1210],["T_VARIABLE","$item",1210],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1210],"]",",",["T_WHITESPACE"," ",1210],["T_VARIABLE","$this",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","config",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","get",1210],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1210],")",")",",",["T_WHITESPACE"," ",1210],["T_VARIABLE","$this",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","session",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","data",1210],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1210],"]",",",["T_WHITESPACE"," ",1210],["T_STRING","false",1210],",",["T_WHITESPACE"," ",1210],["T_STRING","false",1210],")",["T_WHITESPACE","  ",1210],"*",["T_WHITESPACE"," ",1210],["T_VARIABLE","$item",1210],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1210],"]",["T_WHITESPACE"," ",1210],".",["T_WHITESPACE"," ",1210],["T_CONSTANT_ENCAPSED_STRING","' '",1210],["T_WHITESPACE"," ",1210],".",["T_WHITESPACE"," ",1210],["T_VARIABLE","$this",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","session",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","data",1210],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1210],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1210],["T_VARIABLE","$recurring_description",1211],["T_WHITESPACE"," ",1211],"=",["T_WHITESPACE"," ",1211],["T_VARIABLE","$trial_text",1211],["T_WHITESPACE"," ",1211],".",["T_WHITESPACE"," ",1211],["T_STRING","sprintf",1211],"(",["T_VARIABLE","$this",1211],["T_OBJECT_OPERATOR","->",1211],["T_STRING","language",1211],["T_OBJECT_OPERATOR","->",1211],["T_STRING","get",1211],"(",["T_CONSTANT_ENCAPSED_STRING","'text_recurring'",1211],")",",",["T_WHITESPACE"," ",1211],["T_VARIABLE","$recurring_amt",1211],",",["T_WHITESPACE"," ",1211],["T_VARIABLE","$item",1211],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",1211],"]",",",["T_WHITESPACE"," ",1211],["T_VARIABLE","$item",1211],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",1211],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1211],["T_IF","if",1213],["T_WHITESPACE"," ",1213],"(",["T_VARIABLE","$item",1213],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1213],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",1213],"]",["T_WHITESPACE"," ",1213],">",["T_WHITESPACE"," ",1213],["T_LNUMBER","0",1213],")",["T_WHITESPACE"," ",1213],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1213],["T_VARIABLE","$recurring_description",1214],["T_WHITESPACE"," ",1214],["T_CONCAT_EQUAL",".=",1214],["T_WHITESPACE"," ",1214],["T_STRING","sprintf",1214],"(",["T_VARIABLE","$this",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","language",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","get",1214],"(",["T_CONSTANT_ENCAPSED_STRING","'text_length'",1214],")",",",["T_WHITESPACE"," ",1214],["T_VARIABLE","$item",1214],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1214],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",1214],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1214],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1215],["T_COMMENT","\/\/create new recurring and set to pending status as no payment has been made yet.\n",1217],["T_WHITESPACE","\t\t\t\t\t\t",1218],["T_VARIABLE","$recurring_id",1218],["T_WHITESPACE"," ",1218],"=",["T_WHITESPACE"," ",1218],["T_VARIABLE","$this",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","model_checkout_recurring",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","create",1218],"(",["T_VARIABLE","$item",1218],",",["T_WHITESPACE"," ",1218],["T_VARIABLE","$order_id",1218],",",["T_WHITESPACE"," ",1218],["T_VARIABLE","$recurring_description",1218],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1218],["T_VARIABLE","$data",1220],"[",["T_CONSTANT_ENCAPSED_STRING","'PROFILEREFERENCE'",1220],"]",["T_WHITESPACE"," ",1220],"=",["T_WHITESPACE"," ",1220],["T_VARIABLE","$recurring_id",1220],";",["T_WHITESPACE","\n\t\t\t\t\t\t",1220],["T_VARIABLE","$data",1221],"[",["T_CONSTANT_ENCAPSED_STRING","'DESC'",1221],"]",["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_VARIABLE","$recurring_description",1221],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1221],["T_VARIABLE","$result",1223],["T_WHITESPACE"," ",1223],"=",["T_WHITESPACE"," ",1223],["T_VARIABLE","$this",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","model_extension_payment_pp_express",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","call",1223],"(",["T_VARIABLE","$data",1223],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1223],["T_IF","if",1225],["T_WHITESPACE"," ",1225],"(",["T_ISSET","isset",1225],"(",["T_VARIABLE","$result",1225],"[",["T_CONSTANT_ENCAPSED_STRING","'PROFILEID'",1225],"]",")",")",["T_WHITESPACE"," ",1225],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1225],["T_VARIABLE","$this",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","model_checkout_recurring",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","addReference",1226],"(",["T_VARIABLE","$recurring_id",1226],",",["T_WHITESPACE"," ",1226],["T_VARIABLE","$result",1226],"[",["T_CONSTANT_ENCAPSED_STRING","'PROFILEID'",1226],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1226],"}",["T_WHITESPACE"," ",1227],["T_ELSE","else",1227],["T_WHITESPACE"," ",1227],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1227],["T_COMMENT","\/\/ there was an error creating the recurring, need to log and also alert admin \/ user\n",1228],["T_WHITESPACE","\n\t\t\t\t\t\t",1229],"}",["T_WHITESPACE","\n\t\t\t\t\t",1230],"}",["T_WHITESPACE","\n\t\t\t\t",1231],"}",["T_WHITESPACE","\n\n\t\t\t\t",1232],["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","response",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","redirect",1234],"(",["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","url",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","link",1234],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/success'",1234],")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",1234],["T_IF","if",1236],["T_WHITESPACE"," ",1236],"(",["T_ISSET","isset",1236],"(",["T_VARIABLE","$result",1236],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECTREQUIRED'",1236],"]",")",["T_WHITESPACE"," ",1236],["T_BOOLEAN_AND","&&",1236],["T_WHITESPACE"," ",1236],["T_VARIABLE","$result",1236],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECTREQUIRED'",1236],"]",["T_WHITESPACE"," ",1236],["T_IS_EQUAL","==",1236],["T_WHITESPACE"," ",1236],["T_STRING","true",1236],")",["T_WHITESPACE"," ",1236],"{",["T_WHITESPACE","\n\t\t\t\t\t",1236],["T_COMMENT","\/\/- handle german redirect here\n",1237],["T_WHITESPACE","\t\t\t\t\t",1238],["T_VARIABLE","$this",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","response",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","redirect",1238],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.paypal.com\/cgi-bin\/webscr?cmd=_complete-express-checkout&token='",1238],["T_WHITESPACE"," ",1238],".",["T_WHITESPACE"," ",1238],["T_VARIABLE","$this",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","session",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","data",1238],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1238],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",1238],"}",["T_WHITESPACE","\n\t\t\t",1239],"}",["T_WHITESPACE"," ",1240],["T_ELSE","else",1240],["T_WHITESPACE"," ",1240],"{",["T_WHITESPACE","\n\t\t\t\t",1240],["T_IF","if",1241],["T_WHITESPACE"," ",1241],"(",["T_VARIABLE","$result",1241],"[",["T_CONSTANT_ENCAPSED_STRING","'L_ERRORCODE0'",1241],"]",["T_WHITESPACE"," ",1241],["T_IS_EQUAL","==",1241],["T_WHITESPACE"," ",1241],["T_CONSTANT_ENCAPSED_STRING","'10486'",1241],")",["T_WHITESPACE"," ",1241],"{",["T_WHITESPACE","\n\t\t\t\t\t",1241],["T_IF","if",1242],["T_WHITESPACE"," ",1242],"(",["T_ISSET","isset",1242],"(",["T_VARIABLE","$this",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","session",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","data",1242],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1242],"]",")",")",["T_WHITESPACE"," ",1242],"{",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1242],["T_IF","if",1244],["T_WHITESPACE"," ",1244],"(",["T_VARIABLE","$this",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","session",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","data",1244],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1244],"]",["T_WHITESPACE"," ",1244],["T_IS_EQUAL","==",1244],["T_WHITESPACE"," ",1244],["T_LNUMBER","2",1244],")",["T_WHITESPACE"," ",1244],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1244],["T_VARIABLE","$this",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","session",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","data",1245],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1245],"]",["T_WHITESPACE"," ",1245],"=",["T_WHITESPACE"," ",1245],["T_LNUMBER","0",1245],";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1245],["T_VARIABLE","$this",1246],["T_OBJECT_OPERATOR","->",1246],["T_STRING","session",1246],["T_OBJECT_OPERATOR","->",1246],["T_STRING","data",1246],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1246],"]",["T_WHITESPACE"," ",1246],"=",["T_WHITESPACE"," ",1246],["T_VARIABLE","$this",1246],["T_OBJECT_OPERATOR","->",1246],["T_STRING","language",1246],["T_OBJECT_OPERATOR","->",1246],["T_STRING","get",1246],"(",["T_CONSTANT_ENCAPSED_STRING","'error_too_many_failures'",1246],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1246],["T_VARIABLE","$this",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","response",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","redirect",1247],"(",["T_VARIABLE","$this",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","url",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","link",1247],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",1247],",",["T_WHITESPACE"," ",1247],["T_CONSTANT_ENCAPSED_STRING","''",1247],",",["T_WHITESPACE"," ",1247],["T_STRING","true",1247],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1247],"}",["T_WHITESPACE"," ",1248],["T_ELSE","else",1248],["T_WHITESPACE"," ",1248],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1248],["T_VARIABLE","$this",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","session",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","data",1249],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1249],"]",["T_INC","++",1249],";",["T_WHITESPACE","\n\t\t\t\t\t\t",1249],"}",["T_WHITESPACE","\n\t\t\t\t\t",1250],"}",["T_WHITESPACE"," ",1251],["T_ELSE","else",1251],["T_WHITESPACE"," ",1251],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1251],["T_VARIABLE","$this",1252],["T_OBJECT_OPERATOR","->",1252],["T_STRING","session",1252],["T_OBJECT_OPERATOR","->",1252],["T_STRING","data",1252],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1252],"]",["T_WHITESPACE"," ",1252],"=",["T_WHITESPACE"," ",1252],["T_LNUMBER","1",1252],";",["T_WHITESPACE","\n\t\t\t\t\t",1252],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",1253],["T_IF","if",1255],["T_WHITESPACE"," ",1255],"(",["T_VARIABLE","$this",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","config",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","get",1255],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_test'",1255],")",["T_WHITESPACE"," ",1255],["T_IS_EQUAL","==",1255],["T_WHITESPACE"," ",1255],["T_LNUMBER","1",1255],")",["T_WHITESPACE"," ",1255],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1255],["T_VARIABLE","$this",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","response",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","redirect",1256],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.sandbox.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",1256],["T_WHITESPACE"," ",1256],".",["T_WHITESPACE"," ",1256],["T_VARIABLE","$this",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","session",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","data",1256],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1256],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",1256],"}",["T_WHITESPACE"," ",1257],["T_ELSE","else",1257],["T_WHITESPACE"," ",1257],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1257],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","response",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","redirect",1258],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",1258],["T_WHITESPACE"," ",1258],".",["T_WHITESPACE"," ",1258],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","session",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","data",1258],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1258],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",1258],"}",["T_WHITESPACE","\n\t\t\t\t",1259],"}",["T_WHITESPACE","\n\n\t\t\t\t",1260],["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","session",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","data",1262],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",1262],"]",["T_WHITESPACE"," ",1262],"=",["T_WHITESPACE"," ",1262],["T_VARIABLE","$result",1262],"[",["T_CONSTANT_ENCAPSED_STRING","'L_LONGMESSAGE0'",1262],"]",";",["T_WHITESPACE","\n\t\t\t\t",1262],["T_VARIABLE","$this",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","response",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","redirect",1263],"(",["T_VARIABLE","$this",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","url",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","link",1263],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",1263],",",["T_WHITESPACE"," ",1263],["T_CONSTANT_ENCAPSED_STRING","''",1263],",",["T_WHITESPACE"," ",1263],["T_STRING","true",1263],")",")",";",["T_WHITESPACE","\n\t\t\t",1263],"}",["T_WHITESPACE","\n\t\t",1264],"}",["T_WHITESPACE"," ",1265],["T_ELSE","else",1265],["T_WHITESPACE"," ",1265],"{",["T_WHITESPACE","\n\t\t\t",1265],["T_VARIABLE","$this",1266],["T_OBJECT_OPERATOR","->",1266],["T_STRING","response",1266],["T_OBJECT_OPERATOR","->",1266],["T_STRING","redirect",1266],"(",["T_VARIABLE","$redirect",1266],")",";",["T_WHITESPACE","\n\t\t",1266],"}",["T_WHITESPACE","\n\t",1267],"}",["T_WHITESPACE","\n\n\t",1268],["T_PUBLIC","public",1270],["T_WHITESPACE"," ",1270],["T_FUNCTION","function",1270],["T_WHITESPACE"," ",1270],["T_STRING","checkout",1270],"(",")",["T_WHITESPACE"," ",1270],"{",["T_WHITESPACE","\n\t\t",1270],["T_IF","if",1271],["T_WHITESPACE"," ",1271],"(","(","!",["T_VARIABLE","$this",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","cart",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","hasProducts",1271],"(",")",["T_WHITESPACE"," ",1271],["T_BOOLEAN_AND","&&",1271],["T_WHITESPACE"," ",1271],["T_EMPTY","empty",1271],"(",["T_VARIABLE","$this",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","session",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","data",1271],"[",["T_CONSTANT_ENCAPSED_STRING","'vouchers'",1271],"]",")",")",["T_WHITESPACE"," ",1271],["T_BOOLEAN_OR","||",1271],["T_WHITESPACE"," ",1271],"(","!",["T_VARIABLE","$this",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","cart",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","hasStock",1271],"(",")",["T_WHITESPACE"," ",1271],["T_BOOLEAN_AND","&&",1271],["T_WHITESPACE"," ",1271],"!",["T_VARIABLE","$this",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","config",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","get",1271],"(",["T_CONSTANT_ENCAPSED_STRING","'config_stock_checkout'",1271],")",")",")",["T_WHITESPACE"," ",1271],"{",["T_WHITESPACE","\n\t\t\t",1271],["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","response",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","redirect",1272],"(",["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","url",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","link",1272],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",1272],")",")",";",["T_WHITESPACE","\n\t\t",1272],"}",["T_WHITESPACE","\n\n\t\t",1273],["T_VARIABLE","$this",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","load",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","model",1275],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1275],")",";",["T_WHITESPACE","\n\t\t",1275],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","load",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","model",1276],"(",["T_CONSTANT_ENCAPSED_STRING","'tool\/image'",1276],")",";",["T_WHITESPACE","\n\t\t",1276],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","load",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","model",1277],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",1277],")",";",["T_WHITESPACE","\n\n\t\t",1277],["T_VARIABLE","$order_info",1279],["T_WHITESPACE"," ",1279],"=",["T_WHITESPACE"," ",1279],["T_VARIABLE","$this",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","model_checkout_order",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","getOrder",1279],"(",["T_VARIABLE","$this",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","session",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","data",1279],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1279],"]",")",";",["T_WHITESPACE","\n\n\t\t",1279],["T_VARIABLE","$max_amount",1281],["T_WHITESPACE"," ",1281],"=",["T_WHITESPACE"," ",1281],["T_VARIABLE","$this",1281],["T_OBJECT_OPERATOR","->",1281],["T_STRING","cart",1281],["T_OBJECT_OPERATOR","->",1281],["T_STRING","getTotal",1281],"(",")",["T_WHITESPACE"," ",1281],"*",["T_WHITESPACE"," ",1281],["T_DNUMBER","1.5",1281],";",["T_WHITESPACE","\n\t\t",1281],["T_VARIABLE","$max_amount",1282],["T_WHITESPACE"," ",1282],"=",["T_WHITESPACE"," ",1282],["T_VARIABLE","$this",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","currency",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","format",1282],"(",["T_VARIABLE","$max_amount",1282],",",["T_WHITESPACE"," ",1282],["T_VARIABLE","$this",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","session",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","data",1282],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1282],"]",",",["T_WHITESPACE"," ",1282],["T_CONSTANT_ENCAPSED_STRING","''",1282],",",["T_WHITESPACE"," ",1282],["T_STRING","false",1282],")",";",["T_WHITESPACE","\n\n\t\t",1282],["T_IF","if",1284],["T_WHITESPACE"," ",1284],"(",["T_VARIABLE","$this",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","cart",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","hasShipping",1284],"(",")",")",["T_WHITESPACE"," ",1284],"{",["T_WHITESPACE","\n\t\t\t",1284],["T_VARIABLE","$shipping",1285],["T_WHITESPACE"," ",1285],"=",["T_WHITESPACE"," ",1285],["T_LNUMBER","0",1285],";",["T_WHITESPACE","\n\n\t\t\t",1285],["T_COMMENT","\/\/ PayPal requires some countries to use zone code (not name) to be sent in SHIPTOSTATE\n",1287],["T_WHITESPACE","\t\t\t",1288],["T_VARIABLE","$ship_to_state_codes",1288],["T_WHITESPACE"," ",1288],"=",["T_WHITESPACE"," ",1288],["T_ARRAY","array",1288],"(",["T_WHITESPACE","\n\t\t\t\t",1288],["T_CONSTANT_ENCAPSED_STRING","'30'",1289],",",["T_WHITESPACE"," ",1289],["T_COMMENT","\/\/ Brazil\n",1289],["T_WHITESPACE","\t\t\t\t",1290],["T_CONSTANT_ENCAPSED_STRING","'38'",1290],",",["T_WHITESPACE"," ",1290],["T_COMMENT","\/\/ Canada\n",1290],["T_WHITESPACE","\t\t\t\t",1291],["T_CONSTANT_ENCAPSED_STRING","'105'",1291],",",["T_WHITESPACE"," ",1291],["T_COMMENT","\/\/ Italy\n",1291],["T_WHITESPACE","\t\t\t\t",1292],["T_CONSTANT_ENCAPSED_STRING","'138'",1292],",",["T_WHITESPACE"," ",1292],["T_COMMENT","\/\/ Mexico\n",1292],["T_WHITESPACE","\t\t\t\t",1293],["T_CONSTANT_ENCAPSED_STRING","'223'",1293],",",["T_WHITESPACE"," ",1293],["T_COMMENT","\/\/ USA\n",1293],["T_WHITESPACE","\t\t\t",1294],")",";",["T_WHITESPACE","\n\n\t\t\t",1294],["T_IF","if",1296],["T_WHITESPACE"," ",1296],"(",["T_STRING","in_array",1296],"(",["T_VARIABLE","$order_info",1296],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country_id'",1296],"]",",",["T_WHITESPACE"," ",1296],["T_VARIABLE","$ship_to_state_codes",1296],")",")",["T_WHITESPACE"," ",1296],"{",["T_WHITESPACE","\n\t\t\t\t",1296],["T_VARIABLE","$ship_to_state",1297],["T_WHITESPACE"," ",1297],"=",["T_WHITESPACE"," ",1297],["T_VARIABLE","$order_info",1297],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone_code'",1297],"]",";",["T_WHITESPACE","\n\t\t\t",1297],"}",["T_WHITESPACE"," ",1298],["T_ELSE","else",1298],["T_WHITESPACE"," ",1298],"{",["T_WHITESPACE","\n\t\t\t\t",1298],["T_VARIABLE","$ship_to_state",1299],["T_WHITESPACE"," ",1299],"=",["T_WHITESPACE"," ",1299],["T_VARIABLE","$order_info",1299],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_zone'",1299],"]",";",["T_WHITESPACE","\n\t\t\t",1299],"}",["T_WHITESPACE","\n\n\t\t\t",1300],["T_VARIABLE","$data_shipping",1302],["T_WHITESPACE"," ",1302],"=",["T_WHITESPACE"," ",1302],["T_ARRAY","array",1302],"(",["T_WHITESPACE","\n\t\t\t\t",1302],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTONAME'",1303],["T_WHITESPACE","        ",1303],["T_DOUBLE_ARROW","=>",1303],["T_WHITESPACE"," ",1303],["T_STRING","html_entity_decode",1303],"(",["T_VARIABLE","$order_info",1303],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_firstname'",1303],"]",["T_WHITESPACE"," ",1303],".",["T_WHITESPACE"," ",1303],["T_CONSTANT_ENCAPSED_STRING","' '",1303],["T_WHITESPACE"," ",1303],".",["T_WHITESPACE"," ",1303],["T_VARIABLE","$order_info",1303],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_lastname'",1303],"]",",",["T_WHITESPACE"," ",1303],["T_STRING","ENT_QUOTES",1303],",",["T_WHITESPACE"," ",1303],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1303],")",",",["T_WHITESPACE","\n\t\t\t\t",1303],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET'",1304],["T_WHITESPACE","      ",1304],["T_DOUBLE_ARROW","=>",1304],["T_WHITESPACE"," ",1304],["T_STRING","html_entity_decode",1304],"(",["T_VARIABLE","$order_info",1304],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_1'",1304],"]",",",["T_WHITESPACE"," ",1304],["T_STRING","ENT_QUOTES",1304],",",["T_WHITESPACE"," ",1304],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1304],")",",",["T_WHITESPACE","\n\t\t\t\t",1304],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTREET2'",1305],["T_WHITESPACE","     ",1305],["T_DOUBLE_ARROW","=>",1305],["T_WHITESPACE"," ",1305],["T_STRING","html_entity_decode",1305],"(",["T_VARIABLE","$order_info",1305],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address_2'",1305],"]",",",["T_WHITESPACE"," ",1305],["T_STRING","ENT_QUOTES",1305],",",["T_WHITESPACE"," ",1305],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1305],")",",",["T_WHITESPACE","\n\t\t\t\t",1305],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOCITY'",1306],["T_WHITESPACE","        ",1306],["T_DOUBLE_ARROW","=>",1306],["T_WHITESPACE"," ",1306],["T_STRING","html_entity_decode",1306],"(",["T_VARIABLE","$order_info",1306],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_city'",1306],"]",",",["T_WHITESPACE"," ",1306],["T_STRING","ENT_QUOTES",1306],",",["T_WHITESPACE"," ",1306],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1306],")",",",["T_WHITESPACE","\n\t\t\t\t",1306],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOSTATE'",1307],["T_WHITESPACE","       ",1307],["T_DOUBLE_ARROW","=>",1307],["T_WHITESPACE"," ",1307],["T_STRING","html_entity_decode",1307],"(",["T_VARIABLE","$ship_to_state",1307],",",["T_WHITESPACE"," ",1307],["T_STRING","ENT_QUOTES",1307],",",["T_WHITESPACE"," ",1307],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1307],")",",",["T_WHITESPACE","\n\t\t\t\t",1307],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOZIP'",1308],["T_WHITESPACE","         ",1308],["T_DOUBLE_ARROW","=>",1308],["T_WHITESPACE"," ",1308],["T_STRING","html_entity_decode",1308],"(",["T_VARIABLE","$order_info",1308],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_postcode'",1308],"]",",",["T_WHITESPACE"," ",1308],["T_STRING","ENT_QUOTES",1308],",",["T_WHITESPACE"," ",1308],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1308],")",",",["T_WHITESPACE","\n\t\t\t\t",1308],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_SHIPTOCOUNTRYCODE'",1309],["T_WHITESPACE"," ",1309],["T_DOUBLE_ARROW","=>",1309],["T_WHITESPACE"," ",1309],["T_VARIABLE","$order_info",1309],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_iso_code_2'",1309],"]",["T_WHITESPACE","\n\t\t\t",1309],")",";",["T_WHITESPACE","\n\t\t",1310],"}",["T_WHITESPACE"," ",1311],["T_ELSE","else",1311],["T_WHITESPACE"," ",1311],"{",["T_WHITESPACE","\n\t\t\t",1311],["T_VARIABLE","$shipping",1312],["T_WHITESPACE"," ",1312],"=",["T_WHITESPACE"," ",1312],["T_LNUMBER","1",1312],";",["T_WHITESPACE","\n\t\t\t",1312],["T_VARIABLE","$data_shipping",1313],["T_WHITESPACE"," ",1313],"=",["T_WHITESPACE"," ",1313],["T_ARRAY","array",1313],"(",")",";",["T_WHITESPACE","\n\t\t",1313],"}",["T_WHITESPACE","\n\n\t\t",1314],["T_VARIABLE","$data",1316],["T_WHITESPACE"," ",1316],"=",["T_WHITESPACE"," ",1316],["T_ARRAY","array",1316],"(",["T_WHITESPACE","\n\t\t\t",1316],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",1317],["T_WHITESPACE","             ",1317],["T_DOUBLE_ARROW","=>",1317],["T_WHITESPACE"," ",1317],["T_CONSTANT_ENCAPSED_STRING","'SetExpressCheckout'",1317],",",["T_WHITESPACE","\n\t\t\t",1317],["T_CONSTANT_ENCAPSED_STRING","'MAXAMT'",1318],["T_WHITESPACE","             ",1318],["T_DOUBLE_ARROW","=>",1318],["T_WHITESPACE"," ",1318],["T_VARIABLE","$max_amount",1318],",",["T_WHITESPACE","\n\t\t\t",1318],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",1319],["T_WHITESPACE","          ",1319],["T_DOUBLE_ARROW","=>",1319],["T_WHITESPACE"," ",1319],["T_VARIABLE","$this",1319],["T_OBJECT_OPERATOR","->",1319],["T_STRING","url",1319],["T_OBJECT_OPERATOR","->",1319],["T_STRING","link",1319],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/checkoutReturn'",1319],",",["T_WHITESPACE"," ",1319],["T_CONSTANT_ENCAPSED_STRING","''",1319],",",["T_WHITESPACE"," ",1319],["T_STRING","true",1319],")",",",["T_WHITESPACE","\n\t\t\t",1319],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",1320],["T_WHITESPACE","          ",1320],["T_DOUBLE_ARROW","=>",1320],["T_WHITESPACE"," ",1320],["T_VARIABLE","$this",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","url",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","link",1320],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",1320],",",["T_WHITESPACE"," ",1320],["T_CONSTANT_ENCAPSED_STRING","''",1320],",",["T_WHITESPACE"," ",1320],["T_STRING","true",1320],")",",",["T_WHITESPACE","\n\t\t\t",1320],["T_CONSTANT_ENCAPSED_STRING","'REQCONFIRMSHIPPING'",1321],["T_WHITESPACE"," ",1321],["T_DOUBLE_ARROW","=>",1321],["T_WHITESPACE"," ",1321],["T_LNUMBER","0",1321],",",["T_WHITESPACE","\n\t\t\t",1321],["T_CONSTANT_ENCAPSED_STRING","'NOSHIPPING'",1322],["T_WHITESPACE","         ",1322],["T_DOUBLE_ARROW","=>",1322],["T_WHITESPACE"," ",1322],["T_VARIABLE","$shipping",1322],",",["T_WHITESPACE","\n\t\t\t",1322],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",1323],["T_WHITESPACE","         ",1323],["T_DOUBLE_ARROW","=>",1323],["T_WHITESPACE"," ",1323],["T_CONSTANT_ENCAPSED_STRING","'EN'",1323],",",["T_WHITESPACE","\n\t\t\t",1323],["T_CONSTANT_ENCAPSED_STRING","'LANDINGPAGE'",1324],["T_WHITESPACE","        ",1324],["T_DOUBLE_ARROW","=>",1324],["T_WHITESPACE"," ",1324],["T_CONSTANT_ENCAPSED_STRING","'Login'",1324],",",["T_WHITESPACE","\n\t\t\t",1324],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",1325],["T_WHITESPACE","             ",1325],["T_DOUBLE_ARROW","=>",1325],["T_WHITESPACE"," ",1325],["T_VARIABLE","$this",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","model_tool_image",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","resize",1325],"(",["T_VARIABLE","$this",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","config",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","get",1325],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_logo'",1325],")",",",["T_WHITESPACE"," ",1325],["T_LNUMBER","750",1325],",",["T_WHITESPACE"," ",1325],["T_LNUMBER","90",1325],")",",",["T_WHITESPACE","\n\t\t\t",1325],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",1326],["T_WHITESPACE","       ",1326],["T_DOUBLE_ARROW","=>",1326],["T_WHITESPACE"," ",1326],["T_VARIABLE","$this",1326],["T_OBJECT_OPERATOR","->",1326],["T_STRING","config",1326],["T_OBJECT_OPERATOR","->",1326],["T_STRING","get",1326],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_colour'",1326],")",",",["T_WHITESPACE","\n\t\t\t",1326],["T_CONSTANT_ENCAPSED_STRING","'CHANNELTYPE'",1327],["T_WHITESPACE","        ",1327],["T_DOUBLE_ARROW","=>",1327],["T_WHITESPACE"," ",1327],["T_CONSTANT_ENCAPSED_STRING","'Merchant'",1327],",",["T_WHITESPACE","\n\t\t\t",1327],["T_CONSTANT_ENCAPSED_STRING","'ALLOWNOTE'",1328],["T_WHITESPACE","          ",1328],["T_DOUBLE_ARROW","=>",1328],["T_WHITESPACE"," ",1328],["T_VARIABLE","$this",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","config",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","get",1328],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_allow_note'",1328],")",["T_WHITESPACE","\n\t\t",1328],")",";",["T_WHITESPACE","\n\n\t\t",1329],["T_VARIABLE","$data",1331],["T_WHITESPACE"," ",1331],"=",["T_WHITESPACE"," ",1331],["T_STRING","array_merge",1331],"(",["T_VARIABLE","$data",1331],",",["T_WHITESPACE"," ",1331],["T_VARIABLE","$data_shipping",1331],")",";",["T_WHITESPACE","\n\n\t\t",1331],["T_IF","if",1333],["T_WHITESPACE"," ",1333],"(",["T_ISSET","isset",1333],"(",["T_VARIABLE","$this",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","session",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","data",1333],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",1333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",1333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",1333],"]",")",["T_WHITESPACE"," ",1333],["T_BOOLEAN_AND","&&",1333],["T_WHITESPACE"," ",1333],"(",["T_ISSET","isset",1333],"(",["T_VARIABLE","$this",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","session",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","data",1333],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",1333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",1333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",1333],"]",")",["T_WHITESPACE"," ",1333],["T_BOOLEAN_AND","&&",1333],["T_WHITESPACE"," ",1333],["T_VARIABLE","$this",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","session",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","data",1333],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",1333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",1333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",1333],"]",["T_WHITESPACE"," ",1333],["T_IS_EQUAL","==",1333],["T_WHITESPACE"," ",1333],["T_VARIABLE","$this",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","customer",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","getId",1333],"(",")",")",["T_WHITESPACE"," ",1333],["T_BOOLEAN_AND","&&",1333],["T_WHITESPACE"," ",1333],["T_VARIABLE","$this",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","config",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","get",1333],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_login_seamless'",1333],")",")",["T_WHITESPACE"," ",1333],"{",["T_WHITESPACE","\n\t\t\t",1333],["T_VARIABLE","$data",1334],"[",["T_CONSTANT_ENCAPSED_STRING","'IDENTITYACCESSTOKEN'",1334],"]",["T_WHITESPACE"," ",1334],"=",["T_WHITESPACE"," ",1334],["T_VARIABLE","$this",1334],["T_OBJECT_OPERATOR","->",1334],["T_STRING","session",1334],["T_OBJECT_OPERATOR","->",1334],["T_STRING","data",1334],"[",["T_CONSTANT_ENCAPSED_STRING","'pp_login'",1334],"]","[",["T_CONSTANT_ENCAPSED_STRING","'seamless'",1334],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access_token'",1334],"]",";",["T_WHITESPACE","\n\t\t",1334],"}",["T_WHITESPACE","\n\n\t\t",1335],["T_VARIABLE","$data",1337],["T_WHITESPACE"," ",1337],"=",["T_WHITESPACE"," ",1337],["T_STRING","array_merge",1337],"(",["T_VARIABLE","$data",1337],",",["T_WHITESPACE"," ",1337],["T_VARIABLE","$this",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","model_extension_payment_pp_express",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","paymentRequestInfo",1337],"(",")",")",";",["T_WHITESPACE","\n\n\t\t",1337],["T_VARIABLE","$result",1339],["T_WHITESPACE"," ",1339],"=",["T_WHITESPACE"," ",1339],["T_VARIABLE","$this",1339],["T_OBJECT_OPERATOR","->",1339],["T_STRING","model_extension_payment_pp_express",1339],["T_OBJECT_OPERATOR","->",1339],["T_STRING","call",1339],"(",["T_VARIABLE","$data",1339],")",";",["T_WHITESPACE","\n\n\t\t",1339],["T_DOC_COMMENT","\/**\n\t\t * If a failed PayPal setup happens, handle it.\n\t\t *\/",1341],["T_WHITESPACE","\n\t\t",1343],["T_IF","if",1344],["T_WHITESPACE"," ",1344],"(","!",["T_ISSET","isset",1344],"(",["T_VARIABLE","$result",1344],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1344],"]",")",")",["T_WHITESPACE"," ",1344],"{",["T_WHITESPACE","\n\t\t\t",1344],["T_VARIABLE","$this",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","session",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","data",1345],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1345],"]",["T_WHITESPACE"," ",1345],"=",["T_WHITESPACE"," ",1345],["T_VARIABLE","$result",1345],"[",["T_CONSTANT_ENCAPSED_STRING","'L_LONGMESSAGE0'",1345],"]",";",["T_WHITESPACE","\n\t\t\t",1345],["T_DOC_COMMENT","\/**\n\t\t\t * Unable to add error message to user as the session errors\/success are not\n\t\t\t * used on the cart or checkout pages - need to be added?\n\t\t\t * If PayPal debug log is off then still log error to normal error log.\n\t\t\t *\/",1346],["T_WHITESPACE","\n\t\t\t",1350],["T_VARIABLE","$this",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","log",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","write",1351],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to create Paypal session'",1351],["T_WHITESPACE"," ",1351],".",["T_WHITESPACE"," ",1351],["T_STRING","json_encode",1351],"(",["T_VARIABLE","$result",1351],")",")",";",["T_WHITESPACE","\n\n\t\t\t",1351],["T_VARIABLE","$this",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","response",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","redirect",1353],"(",["T_VARIABLE","$this",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","url",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","link",1353],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",1353],",",["T_WHITESPACE"," ",1353],["T_CONSTANT_ENCAPSED_STRING","''",1353],",",["T_WHITESPACE"," ",1353],["T_STRING","true",1353],")",")",";",["T_WHITESPACE","\n\t\t",1353],"}",["T_WHITESPACE","\n\n\t\t",1354],["T_VARIABLE","$this",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","session",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","data",1356],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1356],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1356],"]",["T_WHITESPACE"," ",1356],"=",["T_WHITESPACE"," ",1356],["T_VARIABLE","$result",1356],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1356],"]",";",["T_WHITESPACE","\n\n\t\t",1356],["T_IF","if",1358],["T_WHITESPACE"," ",1358],"(",["T_VARIABLE","$this",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","config",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","get",1358],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_test'",1358],")",["T_WHITESPACE"," ",1358],["T_IS_EQUAL","==",1358],["T_WHITESPACE"," ",1358],["T_LNUMBER","1",1358],")",["T_WHITESPACE"," ",1358],"{",["T_WHITESPACE","\n\t\t\t",1358],["T_STRING","header",1359],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: https:\/\/www.sandbox.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",1359],["T_WHITESPACE"," ",1359],".",["T_WHITESPACE"," ",1359],["T_VARIABLE","$result",1359],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1359],"]",["T_WHITESPACE"," ",1359],".",["T_WHITESPACE"," ",1359],["T_CONSTANT_ENCAPSED_STRING","'&useraction=commit'",1359],")",";",["T_WHITESPACE","\n\t\t",1359],"}",["T_WHITESPACE"," ",1360],["T_ELSE","else",1360],["T_WHITESPACE"," ",1360],"{",["T_WHITESPACE","\n\t\t\t",1360],["T_STRING","header",1361],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: https:\/\/www.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",1361],["T_WHITESPACE"," ",1361],".",["T_WHITESPACE"," ",1361],["T_VARIABLE","$result",1361],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1361],"]",["T_WHITESPACE"," ",1361],".",["T_WHITESPACE"," ",1361],["T_CONSTANT_ENCAPSED_STRING","'&useraction=commit'",1361],")",";",["T_WHITESPACE","\n\t\t",1361],"}",["T_WHITESPACE","\n\t",1362],"}",["T_WHITESPACE","\n\n\t",1363],["T_PUBLIC","public",1365],["T_WHITESPACE"," ",1365],["T_FUNCTION","function",1365],["T_WHITESPACE"," ",1365],["T_STRING","checkoutReturn",1365],"(",")",["T_WHITESPACE"," ",1365],"{",["T_WHITESPACE","\n\t\t",1365],["T_VARIABLE","$this",1366],["T_OBJECT_OPERATOR","->",1366],["T_STRING","load",1366],["T_OBJECT_OPERATOR","->",1366],["T_STRING","language",1366],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1366],")",";",["T_WHITESPACE","\n\n\t\t",1366],["T_VARIABLE","$this",1368],["T_OBJECT_OPERATOR","->",1368],["T_STRING","load",1368],["T_OBJECT_OPERATOR","->",1368],["T_STRING","model",1368],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1368],")",";",["T_WHITESPACE","\n\t\t",1368],["T_VARIABLE","$this",1369],["T_OBJECT_OPERATOR","->",1369],["T_STRING","load",1369],["T_OBJECT_OPERATOR","->",1369],["T_STRING","model",1369],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",1369],")",";",["T_WHITESPACE","\n\n\t\t",1369],["T_VARIABLE","$data",1371],["T_WHITESPACE"," ",1371],"=",["T_WHITESPACE"," ",1371],["T_ARRAY","array",1371],"(",["T_WHITESPACE","\n\t\t\t",1371],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",1372],["T_WHITESPACE"," ",1372],["T_DOUBLE_ARROW","=>",1372],["T_WHITESPACE"," ",1372],["T_CONSTANT_ENCAPSED_STRING","'GetExpressCheckoutDetails'",1372],",",["T_WHITESPACE","\n\t\t\t",1372],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1373],["T_WHITESPACE","  ",1373],["T_DOUBLE_ARROW","=>",1373],["T_WHITESPACE"," ",1373],["T_VARIABLE","$this",1373],["T_OBJECT_OPERATOR","->",1373],["T_STRING","session",1373],["T_OBJECT_OPERATOR","->",1373],["T_STRING","data",1373],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1373],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1373],"]",["T_WHITESPACE","\n\t\t",1373],")",";",["T_WHITESPACE","\n\n\t\t",1374],["T_VARIABLE","$result",1376],["T_WHITESPACE"," ",1376],"=",["T_WHITESPACE"," ",1376],["T_VARIABLE","$this",1376],["T_OBJECT_OPERATOR","->",1376],["T_STRING","model_extension_payment_pp_express",1376],["T_OBJECT_OPERATOR","->",1376],["T_STRING","call",1376],"(",["T_VARIABLE","$data",1376],")",";",["T_WHITESPACE","\n\n\t\t",1376],["T_VARIABLE","$this",1378],["T_OBJECT_OPERATOR","->",1378],["T_STRING","session",1378],["T_OBJECT_OPERATOR","->",1378],["T_STRING","data",1378],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1378],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payerid'",1378],"]",["T_WHITESPACE"," ",1378],"=",["T_WHITESPACE"," ",1378],["T_VARIABLE","$result",1378],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",1378],"]",";",["T_WHITESPACE","\n\t\t",1378],["T_VARIABLE","$this",1379],["T_OBJECT_OPERATOR","->",1379],["T_STRING","session",1379],["T_OBJECT_OPERATOR","->",1379],["T_STRING","data",1379],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1379],"]","[",["T_CONSTANT_ENCAPSED_STRING","'result'",1379],"]",["T_WHITESPACE"," ",1379],"=",["T_WHITESPACE"," ",1379],["T_VARIABLE","$result",1379],";",["T_WHITESPACE","\n\n\t\t",1379],["T_VARIABLE","$order_id",1381],["T_WHITESPACE"," ",1381],"=",["T_WHITESPACE"," ",1381],["T_VARIABLE","$this",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","session",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","data",1381],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1381],"]",";",["T_WHITESPACE","\n\n\t\t",1381],["T_VARIABLE","$paypal_data",1383],["T_WHITESPACE"," ",1383],"=",["T_WHITESPACE"," ",1383],["T_ARRAY","array",1383],"(",["T_WHITESPACE","\n\t\t\t",1383],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1384],["T_WHITESPACE","                      ",1384],["T_DOUBLE_ARROW","=>",1384],["T_WHITESPACE"," ",1384],["T_VARIABLE","$this",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","session",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","data",1384],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1384],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1384],"]",",",["T_WHITESPACE","\n\t\t\t",1384],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",1385],["T_WHITESPACE","                    ",1385],["T_DOUBLE_ARROW","=>",1385],["T_WHITESPACE"," ",1385],["T_VARIABLE","$this",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","session",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","data",1385],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1385],"]","[",["T_CONSTANT_ENCAPSED_STRING","'payerid'",1385],"]",",",["T_WHITESPACE","\n\t\t\t",1385],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",1386],["T_WHITESPACE","                     ",1386],["T_DOUBLE_ARROW","=>",1386],["T_WHITESPACE"," ",1386],["T_CONSTANT_ENCAPSED_STRING","'DoExpressCheckoutPayment'",1386],",",["T_WHITESPACE","\n\t\t\t",1386],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_NOTIFYURL'",1387],["T_WHITESPACE"," ",1387],["T_DOUBLE_ARROW","=>",1387],["T_WHITESPACE"," ",1387],["T_VARIABLE","$this",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","url",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","link",1387],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/ipn'",1387],",",["T_WHITESPACE"," ",1387],["T_CONSTANT_ENCAPSED_STRING","''",1387],",",["T_WHITESPACE"," ",1387],["T_STRING","true",1387],")",",",["T_WHITESPACE","\n\t\t\t",1387],["T_CONSTANT_ENCAPSED_STRING","'RETURNFMFDETAILS'",1388],["T_WHITESPACE","           ",1388],["T_DOUBLE_ARROW","=>",1388],["T_WHITESPACE"," ",1388],["T_LNUMBER","1",1388],["T_WHITESPACE","\n\t\t",1388],")",";",["T_WHITESPACE","\n\n\t\t",1389],["T_VARIABLE","$paypal_data",1391],["T_WHITESPACE"," ",1391],"=",["T_WHITESPACE"," ",1391],["T_STRING","array_merge",1391],"(",["T_VARIABLE","$paypal_data",1391],",",["T_WHITESPACE"," ",1391],["T_VARIABLE","$this",1391],["T_OBJECT_OPERATOR","->",1391],["T_STRING","model_extension_payment_pp_express",1391],["T_OBJECT_OPERATOR","->",1391],["T_STRING","paymentRequestInfo",1391],"(",")",")",";",["T_WHITESPACE","\n\n\t\t",1391],["T_VARIABLE","$result",1393],["T_WHITESPACE"," ",1393],"=",["T_WHITESPACE"," ",1393],["T_VARIABLE","$this",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","model_extension_payment_pp_express",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","call",1393],"(",["T_VARIABLE","$paypal_data",1393],")",";",["T_WHITESPACE","\n\n\t\t",1393],["T_IF","if",1395],["T_WHITESPACE"," ",1395],"(",["T_VARIABLE","$result",1395],"[",["T_CONSTANT_ENCAPSED_STRING","'ACK'",1395],"]",["T_WHITESPACE"," ",1395],["T_IS_EQUAL","==",1395],["T_WHITESPACE"," ",1395],["T_CONSTANT_ENCAPSED_STRING","'Success'",1395],")",["T_WHITESPACE"," ",1395],"{",["T_WHITESPACE","\n\t\t\t",1395],["T_COMMENT","\/\/handle order status\n",1396],["T_WHITESPACE","\t\t\t",1397],["T_SWITCH","switch",1397],"(",["T_VARIABLE","$result",1397],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PAYMENTSTATUS'",1397],"]",")",["T_WHITESPACE"," ",1397],"{",["T_WHITESPACE","\n\t\t\t\t",1397],["T_CASE","case",1398],["T_WHITESPACE"," ",1398],["T_CONSTANT_ENCAPSED_STRING","'Canceled_Reversal'",1398],":",["T_WHITESPACE","\n\t\t\t\t\t",1398],["T_VARIABLE","$order_status_id",1399],["T_WHITESPACE"," ",1399],"=",["T_WHITESPACE"," ",1399],["T_VARIABLE","$this",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","config",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","get",1399],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_canceled_reversal_status_id'",1399],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1399],["T_BREAK","break",1400],";",["T_WHITESPACE","\n\t\t\t\t",1400],["T_CASE","case",1401],["T_WHITESPACE"," ",1401],["T_CONSTANT_ENCAPSED_STRING","'Completed'",1401],":",["T_WHITESPACE","\n\t\t\t\t\t",1401],["T_VARIABLE","$order_status_id",1402],["T_WHITESPACE"," ",1402],"=",["T_WHITESPACE"," ",1402],["T_VARIABLE","$this",1402],["T_OBJECT_OPERATOR","->",1402],["T_STRING","config",1402],["T_OBJECT_OPERATOR","->",1402],["T_STRING","get",1402],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_completed_status_id'",1402],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1402],["T_BREAK","break",1403],";",["T_WHITESPACE","\n\t\t\t\t",1403],["T_CASE","case",1404],["T_WHITESPACE"," ",1404],["T_CONSTANT_ENCAPSED_STRING","'Denied'",1404],":",["T_WHITESPACE","\n\t\t\t\t\t",1404],["T_VARIABLE","$order_status_id",1405],["T_WHITESPACE"," ",1405],"=",["T_WHITESPACE"," ",1405],["T_VARIABLE","$this",1405],["T_OBJECT_OPERATOR","->",1405],["T_STRING","config",1405],["T_OBJECT_OPERATOR","->",1405],["T_STRING","get",1405],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_denied_status_id'",1405],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1405],["T_BREAK","break",1406],";",["T_WHITESPACE","\n\t\t\t\t",1406],["T_CASE","case",1407],["T_WHITESPACE"," ",1407],["T_CONSTANT_ENCAPSED_STRING","'Expired'",1407],":",["T_WHITESPACE","\n\t\t\t\t\t",1407],["T_VARIABLE","$order_status_id",1408],["T_WHITESPACE"," ",1408],"=",["T_WHITESPACE"," ",1408],["T_VARIABLE","$this",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","config",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","get",1408],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_expired_status_id'",1408],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1408],["T_BREAK","break",1409],";",["T_WHITESPACE","\n\t\t\t\t",1409],["T_CASE","case",1410],["T_WHITESPACE"," ",1410],["T_CONSTANT_ENCAPSED_STRING","'Failed'",1410],":",["T_WHITESPACE","\n\t\t\t\t\t",1410],["T_VARIABLE","$order_status_id",1411],["T_WHITESPACE"," ",1411],"=",["T_WHITESPACE"," ",1411],["T_VARIABLE","$this",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","config",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","get",1411],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_failed_status_id'",1411],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1411],["T_BREAK","break",1412],";",["T_WHITESPACE","\n\t\t\t\t",1412],["T_CASE","case",1413],["T_WHITESPACE"," ",1413],["T_CONSTANT_ENCAPSED_STRING","'Pending'",1413],":",["T_WHITESPACE","\n\t\t\t\t\t",1413],["T_VARIABLE","$order_status_id",1414],["T_WHITESPACE"," ",1414],"=",["T_WHITESPACE"," ",1414],["T_VARIABLE","$this",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","config",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","get",1414],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_pending_status_id'",1414],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1414],["T_BREAK","break",1415],";",["T_WHITESPACE","\n\t\t\t\t",1415],["T_CASE","case",1416],["T_WHITESPACE"," ",1416],["T_CONSTANT_ENCAPSED_STRING","'Processed'",1416],":",["T_WHITESPACE","\n\t\t\t\t\t",1416],["T_VARIABLE","$order_status_id",1417],["T_WHITESPACE"," ",1417],"=",["T_WHITESPACE"," ",1417],["T_VARIABLE","$this",1417],["T_OBJECT_OPERATOR","->",1417],["T_STRING","config",1417],["T_OBJECT_OPERATOR","->",1417],["T_STRING","get",1417],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_processed_status_id'",1417],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1417],["T_BREAK","break",1418],";",["T_WHITESPACE","\n\t\t\t\t",1418],["T_CASE","case",1419],["T_WHITESPACE"," ",1419],["T_CONSTANT_ENCAPSED_STRING","'Refunded'",1419],":",["T_WHITESPACE","\n\t\t\t\t\t",1419],["T_VARIABLE","$order_status_id",1420],["T_WHITESPACE"," ",1420],"=",["T_WHITESPACE"," ",1420],["T_VARIABLE","$this",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","config",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","get",1420],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_refunded_status_id'",1420],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1420],["T_BREAK","break",1421],";",["T_WHITESPACE","\n\t\t\t\t",1421],["T_CASE","case",1422],["T_WHITESPACE"," ",1422],["T_CONSTANT_ENCAPSED_STRING","'Reversed'",1422],":",["T_WHITESPACE","\n\t\t\t\t\t",1422],["T_VARIABLE","$order_status_id",1423],["T_WHITESPACE"," ",1423],"=",["T_WHITESPACE"," ",1423],["T_VARIABLE","$this",1423],["T_OBJECT_OPERATOR","->",1423],["T_STRING","config",1423],["T_OBJECT_OPERATOR","->",1423],["T_STRING","get",1423],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_reversed_status_id'",1423],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1423],["T_BREAK","break",1424],";",["T_WHITESPACE","\n\t\t\t\t",1424],["T_CASE","case",1425],["T_WHITESPACE"," ",1425],["T_CONSTANT_ENCAPSED_STRING","'Voided'",1425],":",["T_WHITESPACE","\n\t\t\t\t\t",1425],["T_VARIABLE","$order_status_id",1426],["T_WHITESPACE"," ",1426],"=",["T_WHITESPACE"," ",1426],["T_VARIABLE","$this",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","config",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","get",1426],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_voided_status_id'",1426],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1426],["T_BREAK","break",1427],";",["T_WHITESPACE","\n\t\t\t",1427],"}",["T_WHITESPACE","\n\n\t\t\t",1428],["T_VARIABLE","$this",1430],["T_OBJECT_OPERATOR","->",1430],["T_STRING","model_checkout_order",1430],["T_OBJECT_OPERATOR","->",1430],["T_STRING","addOrderHistory",1430],"(",["T_VARIABLE","$order_id",1430],",",["T_WHITESPACE"," ",1430],["T_VARIABLE","$order_status_id",1430],")",";",["T_WHITESPACE","\n\n\t\t\t",1430],["T_COMMENT","\/\/add order to paypal table\n",1432],["T_WHITESPACE","\t\t\t",1433],["T_VARIABLE","$paypal_order_data",1433],["T_WHITESPACE"," ",1433],"=",["T_WHITESPACE"," ",1433],["T_ARRAY","array",1433],"(",["T_WHITESPACE","\n\t\t\t\t",1433],["T_CONSTANT_ENCAPSED_STRING","'order_id'",1434],["T_WHITESPACE","         ",1434],["T_DOUBLE_ARROW","=>",1434],["T_WHITESPACE"," ",1434],["T_VARIABLE","$order_id",1434],",",["T_WHITESPACE","\n\t\t\t\t",1434],["T_CONSTANT_ENCAPSED_STRING","'capture_status'",1435],["T_WHITESPACE","   ",1435],["T_DOUBLE_ARROW","=>",1435],["T_WHITESPACE"," ",1435],"(",["T_VARIABLE","$this",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","config",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","get",1435],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_transaction'",1435],")",["T_WHITESPACE"," ",1435],["T_IS_EQUAL","==",1435],["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'Sale'",1435],["T_WHITESPACE"," ",1435],"?",["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'Complete'",1435],["T_WHITESPACE"," ",1435],":",["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'NotComplete'",1435],")",",",["T_WHITESPACE","\n\t\t\t\t",1435],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",1436],["T_WHITESPACE","    ",1436],["T_DOUBLE_ARROW","=>",1436],["T_WHITESPACE"," ",1436],["T_VARIABLE","$result",1436],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_CURRENCYCODE'",1436],"]",",",["T_WHITESPACE","\n\t\t\t\t",1436],["T_CONSTANT_ENCAPSED_STRING","'authorization_id'",1437],["T_WHITESPACE"," ",1437],["T_DOUBLE_ARROW","=>",1437],["T_WHITESPACE"," ",1437],["T_VARIABLE","$result",1437],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",1437],"]",",",["T_WHITESPACE","\n\t\t\t\t",1437],["T_CONSTANT_ENCAPSED_STRING","'total'",1438],["T_WHITESPACE","            ",1438],["T_DOUBLE_ARROW","=>",1438],["T_WHITESPACE"," ",1438],["T_VARIABLE","$result",1438],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_AMT'",1438],"]",["T_WHITESPACE","\n\t\t\t",1438],")",";",["T_WHITESPACE","\n\n\t\t\t",1439],["T_VARIABLE","$paypal_order_id",1441],["T_WHITESPACE"," ",1441],"=",["T_WHITESPACE"," ",1441],["T_VARIABLE","$this",1441],["T_OBJECT_OPERATOR","->",1441],["T_STRING","model_extension_payment_pp_express",1441],["T_OBJECT_OPERATOR","->",1441],["T_STRING","addOrder",1441],"(",["T_VARIABLE","$paypal_order_data",1441],")",";",["T_WHITESPACE","\n\n\t\t\t",1441],["T_COMMENT","\/\/add transaction to paypal transaction table\n",1443],["T_WHITESPACE","\t\t\t",1444],["T_VARIABLE","$paypal_transaction_data",1444],["T_WHITESPACE"," ",1444],"=",["T_WHITESPACE"," ",1444],["T_ARRAY","array",1444],"(",["T_WHITESPACE","\n\t\t\t\t",1444],["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1445],["T_WHITESPACE","       ",1445],["T_DOUBLE_ARROW","=>",1445],["T_WHITESPACE"," ",1445],["T_VARIABLE","$paypal_order_id",1445],",",["T_WHITESPACE","\n\t\t\t\t",1445],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1446],["T_WHITESPACE","        ",1446],["T_DOUBLE_ARROW","=>",1446],["T_WHITESPACE"," ",1446],["T_VARIABLE","$result",1446],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",1446],"]",",",["T_WHITESPACE","\n\t\t\t\t",1446],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1447],["T_WHITESPACE"," ",1447],["T_DOUBLE_ARROW","=>",1447],["T_WHITESPACE"," ",1447],["T_CONSTANT_ENCAPSED_STRING","''",1447],",",["T_WHITESPACE","\n\t\t\t\t",1447],["T_CONSTANT_ENCAPSED_STRING","'note'",1448],["T_WHITESPACE","                  ",1448],["T_DOUBLE_ARROW","=>",1448],["T_WHITESPACE"," ",1448],["T_CONSTANT_ENCAPSED_STRING","''",1448],",",["T_WHITESPACE","\n\t\t\t\t",1448],["T_CONSTANT_ENCAPSED_STRING","'msgsubid'",1449],["T_WHITESPACE","              ",1449],["T_DOUBLE_ARROW","=>",1449],["T_WHITESPACE"," ",1449],["T_CONSTANT_ENCAPSED_STRING","''",1449],",",["T_WHITESPACE","\n\t\t\t\t",1449],["T_CONSTANT_ENCAPSED_STRING","'receipt_id'",1450],["T_WHITESPACE","            ",1450],["T_DOUBLE_ARROW","=>",1450],["T_WHITESPACE"," ",1450],"(",["T_ISSET","isset",1450],"(",["T_VARIABLE","$result",1450],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_RECEIPTID'",1450],"]",")",["T_WHITESPACE"," ",1450],"?",["T_WHITESPACE"," ",1450],["T_VARIABLE","$result",1450],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_RECEIPTID'",1450],"]",["T_WHITESPACE"," ",1450],":",["T_WHITESPACE"," ",1450],["T_CONSTANT_ENCAPSED_STRING","''",1450],")",",",["T_WHITESPACE","\n\t\t\t\t",1450],["T_CONSTANT_ENCAPSED_STRING","'payment_type'",1451],["T_WHITESPACE","          ",1451],["T_DOUBLE_ARROW","=>",1451],["T_WHITESPACE"," ",1451],["T_VARIABLE","$result",1451],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PAYMENTTYPE'",1451],"]",",",["T_WHITESPACE","\n\t\t\t\t",1451],["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1452],["T_WHITESPACE","        ",1452],["T_DOUBLE_ARROW","=>",1452],["T_WHITESPACE"," ",1452],["T_VARIABLE","$result",1452],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PAYMENTSTATUS'",1452],"]",",",["T_WHITESPACE","\n\t\t\t\t",1452],["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1453],["T_WHITESPACE","        ",1453],["T_DOUBLE_ARROW","=>",1453],["T_WHITESPACE"," ",1453],["T_VARIABLE","$result",1453],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_PENDINGREASON'",1453],"]",",",["T_WHITESPACE","\n\t\t\t\t",1453],["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1454],["T_WHITESPACE","    ",1454],["T_DOUBLE_ARROW","=>",1454],["T_WHITESPACE"," ",1454],"(",["T_VARIABLE","$this",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","config",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","get",1454],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_transaction'",1454],")",["T_WHITESPACE"," ",1454],["T_IS_EQUAL","==",1454],["T_WHITESPACE"," ",1454],["T_CONSTANT_ENCAPSED_STRING","'Sale'",1454],["T_WHITESPACE"," ",1454],"?",["T_WHITESPACE"," ",1454],["T_CONSTANT_ENCAPSED_STRING","'payment'",1454],["T_WHITESPACE"," ",1454],":",["T_WHITESPACE"," ",1454],["T_CONSTANT_ENCAPSED_STRING","'auth'",1454],")",",",["T_WHITESPACE","\n\t\t\t\t",1454],["T_CONSTANT_ENCAPSED_STRING","'amount'",1455],["T_WHITESPACE","                ",1455],["T_DOUBLE_ARROW","=>",1455],["T_WHITESPACE"," ",1455],["T_VARIABLE","$result",1455],"[",["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_AMT'",1455],"]",",",["T_WHITESPACE","\n\t\t\t\t",1455],["T_CONSTANT_ENCAPSED_STRING","'debug_data'",1456],["T_WHITESPACE","            ",1456],["T_DOUBLE_ARROW","=>",1456],["T_WHITESPACE"," ",1456],["T_STRING","json_encode",1456],"(",["T_VARIABLE","$result",1456],")",["T_WHITESPACE","\n\t\t\t",1456],")",";",["T_WHITESPACE","\n\t\t\t",1457],["T_VARIABLE","$this",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","model_extension_payment_pp_express",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","addTransaction",1458],"(",["T_VARIABLE","$paypal_transaction_data",1458],")",";",["T_WHITESPACE","\n\n\t\t\t",1458],["T_VARIABLE","$recurring_products",1460],["T_WHITESPACE"," ",1460],"=",["T_WHITESPACE"," ",1460],["T_VARIABLE","$this",1460],["T_OBJECT_OPERATOR","->",1460],["T_STRING","cart",1460],["T_OBJECT_OPERATOR","->",1460],["T_STRING","getRecurringProducts",1460],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",1460],["T_COMMENT","\/\/loop through any products that are recurring items\n",1462],["T_WHITESPACE","\t\t\t",1463],["T_IF","if",1463],["T_WHITESPACE"," ",1463],"(",["T_VARIABLE","$recurring_products",1463],")",["T_WHITESPACE"," ",1463],"{",["T_WHITESPACE","\n\t\t\t\t",1463],["T_VARIABLE","$this",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","load",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","model",1464],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/recurring'",1464],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1464],["T_VARIABLE","$billing_period",1466],["T_WHITESPACE"," ",1466],"=",["T_WHITESPACE"," ",1466],["T_ARRAY","array",1466],"(",["T_WHITESPACE","\n\t\t\t\t\t",1466],["T_CONSTANT_ENCAPSED_STRING","'day'",1467],["T_WHITESPACE","        ",1467],["T_DOUBLE_ARROW","=>",1467],["T_WHITESPACE"," ",1467],["T_CONSTANT_ENCAPSED_STRING","'Day'",1467],",",["T_WHITESPACE","\n\t\t\t\t\t",1467],["T_CONSTANT_ENCAPSED_STRING","'week'",1468],["T_WHITESPACE","       ",1468],["T_DOUBLE_ARROW","=>",1468],["T_WHITESPACE"," ",1468],["T_CONSTANT_ENCAPSED_STRING","'Week'",1468],",",["T_WHITESPACE","\n\t\t\t\t\t",1468],["T_CONSTANT_ENCAPSED_STRING","'semi_month'",1469],["T_WHITESPACE"," ",1469],["T_DOUBLE_ARROW","=>",1469],["T_WHITESPACE"," ",1469],["T_CONSTANT_ENCAPSED_STRING","'SemiMonth'",1469],",",["T_WHITESPACE","\n\t\t\t\t\t",1469],["T_CONSTANT_ENCAPSED_STRING","'month'",1470],["T_WHITESPACE","      ",1470],["T_DOUBLE_ARROW","=>",1470],["T_WHITESPACE"," ",1470],["T_CONSTANT_ENCAPSED_STRING","'Month'",1470],",",["T_WHITESPACE","\n\t\t\t\t\t",1470],["T_CONSTANT_ENCAPSED_STRING","'year'",1471],["T_WHITESPACE","       ",1471],["T_DOUBLE_ARROW","=>",1471],["T_WHITESPACE"," ",1471],["T_CONSTANT_ENCAPSED_STRING","'Year'",1471],["T_WHITESPACE","\n\t\t\t\t",1471],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1472],["T_FOREACH","foreach",1474],["T_WHITESPACE"," ",1474],"(",["T_VARIABLE","$recurring_products",1474],["T_WHITESPACE"," ",1474],["T_AS","as",1474],["T_WHITESPACE"," ",1474],["T_VARIABLE","$item",1474],")",["T_WHITESPACE"," ",1474],"{",["T_WHITESPACE","\n\t\t\t\t\t",1474],["T_VARIABLE","$data",1475],["T_WHITESPACE"," ",1475],"=",["T_WHITESPACE"," ",1475],["T_ARRAY","array",1475],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",1475],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",1476],["T_WHITESPACE","             ",1476],["T_DOUBLE_ARROW","=>",1476],["T_WHITESPACE"," ",1476],["T_CONSTANT_ENCAPSED_STRING","'CreateRecurringPaymentsProfile'",1476],",",["T_WHITESPACE","\n\t\t\t\t\t\t",1476],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",1477],["T_WHITESPACE","              ",1477],["T_DOUBLE_ARROW","=>",1477],["T_WHITESPACE"," ",1477],["T_VARIABLE","$this",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","session",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","data",1477],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1477],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1477],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1477],["T_CONSTANT_ENCAPSED_STRING","'PROFILESTARTDATE'",1478],["T_WHITESPACE","   ",1478],["T_DOUBLE_ARROW","=>",1478],["T_WHITESPACE"," ",1478],["T_STRING","gmdate",1478],"(",["T_CONSTANT_ENCAPSED_STRING","\"Y-m-d\\TH:i:s\\Z\"",1478],",",["T_WHITESPACE"," ",1478],["T_STRING","gmmktime",1478],"(",["T_STRING","gmdate",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'H'",1478],")",",",["T_WHITESPACE"," ",1478],["T_STRING","gmdate",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'i'",1478],")",["T_WHITESPACE"," ",1478],"+",["T_WHITESPACE"," ",1478],["T_LNUMBER","5",1478],",",["T_WHITESPACE"," ",1478],["T_STRING","gmdate",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'s'",1478],")",",",["T_WHITESPACE"," ",1478],["T_STRING","gmdate",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'m'",1478],")",",",["T_WHITESPACE"," ",1478],["T_STRING","gmdate",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'d'",1478],")",",",["T_WHITESPACE"," ",1478],["T_STRING","gmdate",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'y'",1478],")",")",")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1478],["T_CONSTANT_ENCAPSED_STRING","'BILLINGPERIOD'",1479],["T_WHITESPACE","      ",1479],["T_DOUBLE_ARROW","=>",1479],["T_WHITESPACE"," ",1479],["T_VARIABLE","$billing_period",1479],"[",["T_VARIABLE","$item",1479],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1479],"]","[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",1479],"]","]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1479],["T_CONSTANT_ENCAPSED_STRING","'BILLINGFREQUENCY'",1480],["T_WHITESPACE","   ",1480],["T_DOUBLE_ARROW","=>",1480],["T_WHITESPACE"," ",1480],["T_VARIABLE","$item",1480],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1480],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",1480],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1480],["T_CONSTANT_ENCAPSED_STRING","'TOTALBILLINGCYCLES'",1481],["T_WHITESPACE"," ",1481],["T_DOUBLE_ARROW","=>",1481],["T_WHITESPACE"," ",1481],["T_VARIABLE","$item",1481],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1481],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",1481],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1481],["T_CONSTANT_ENCAPSED_STRING","'AMT'",1482],["T_WHITESPACE","                ",1482],["T_DOUBLE_ARROW","=>",1482],["T_WHITESPACE"," ",1482],["T_VARIABLE","$this",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","currency",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","format",1482],"(",["T_VARIABLE","$this",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","tax",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","calculate",1482],"(",["T_VARIABLE","$item",1482],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1482],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",1482],"]",",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$item",1482],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1482],"]",",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$this",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","config",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","get",1482],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1482],")",")",",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$this",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","session",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","data",1482],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1482],"]",",",["T_WHITESPACE"," ",1482],["T_STRING","false",1482],",",["T_WHITESPACE"," ",1482],["T_STRING","false",1482],")",["T_WHITESPACE"," ",1482],"*",["T_WHITESPACE"," ",1482],["T_VARIABLE","$item",1482],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1482],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1482],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",1483],["T_WHITESPACE","       ",1483],["T_DOUBLE_ARROW","=>",1483],["T_WHITESPACE"," ",1483],["T_VARIABLE","$this",1483],["T_OBJECT_OPERATOR","->",1483],["T_STRING","session",1483],["T_OBJECT_OPERATOR","->",1483],["T_STRING","data",1483],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1483],"]",["T_WHITESPACE","\n\t\t\t\t\t",1483],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1484],["T_COMMENT","\/\/trial information\n",1486],["T_WHITESPACE","\t\t\t\t\t",1487],["T_IF","if",1487],["T_WHITESPACE"," ",1487],"(",["T_VARIABLE","$item",1487],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1487],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial'",1487],"]",["T_WHITESPACE"," ",1487],["T_IS_EQUAL","==",1487],["T_WHITESPACE"," ",1487],["T_LNUMBER","1",1487],")",["T_WHITESPACE"," ",1487],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1487],["T_VARIABLE","$data_trial",1488],["T_WHITESPACE"," ",1488],"=",["T_WHITESPACE"," ",1488],["T_ARRAY","array",1488],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1488],["T_CONSTANT_ENCAPSED_STRING","'TRIALBILLINGPERIOD'",1489],["T_WHITESPACE","      ",1489],["T_DOUBLE_ARROW","=>",1489],["T_WHITESPACE"," ",1489],["T_VARIABLE","$billing_period",1489],"[",["T_VARIABLE","$item",1489],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1489],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",1489],"]","]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1489],["T_CONSTANT_ENCAPSED_STRING","'TRIALBILLINGFREQUENCY'",1490],["T_WHITESPACE","   ",1490],["T_DOUBLE_ARROW","=>",1490],["T_WHITESPACE"," ",1490],["T_VARIABLE","$item",1490],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1490],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",1490],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1490],["T_CONSTANT_ENCAPSED_STRING","'TRIALTOTALBILLINGCYCLES'",1491],["T_WHITESPACE"," ",1491],["T_DOUBLE_ARROW","=>",1491],["T_WHITESPACE"," ",1491],["T_VARIABLE","$item",1491],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1491],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",1491],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1491],["T_CONSTANT_ENCAPSED_STRING","'TRIALAMT'",1492],["T_WHITESPACE","                ",1492],["T_DOUBLE_ARROW","=>",1492],["T_WHITESPACE"," ",1492],["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","currency",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","format",1492],"(",["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","tax",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","calculate",1492],"(",["T_VARIABLE","$item",1492],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1492],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_price'",1492],"]",",",["T_WHITESPACE"," ",1492],["T_VARIABLE","$item",1492],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1492],"]",",",["T_WHITESPACE"," ",1492],["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","config",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","get",1492],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1492],")",")",",",["T_WHITESPACE"," ",1492],["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","session",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","data",1492],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1492],"]",",",["T_WHITESPACE"," ",1492],["T_STRING","false",1492],",",["T_WHITESPACE"," ",1492],["T_STRING","false",1492],")",["T_WHITESPACE"," ",1492],"*",["T_WHITESPACE"," ",1492],["T_VARIABLE","$item",1492],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1492],"]",["T_WHITESPACE","\n\t\t\t\t\t\t",1492],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1493],["T_VARIABLE","$trial_amt",1495],["T_WHITESPACE"," ",1495],"=",["T_WHITESPACE"," ",1495],["T_VARIABLE","$this",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","currency",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","format",1495],"(",["T_VARIABLE","$this",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","tax",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","calculate",1495],"(",["T_VARIABLE","$item",1495],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1495],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_price'",1495],"]",",",["T_WHITESPACE"," ",1495],["T_VARIABLE","$item",1495],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1495],"]",",",["T_WHITESPACE"," ",1495],["T_VARIABLE","$this",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","config",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","get",1495],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1495],")",")",",",["T_WHITESPACE"," ",1495],["T_VARIABLE","$this",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","session",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","data",1495],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1495],"]",",",["T_WHITESPACE"," ",1495],["T_STRING","false",1495],",",["T_WHITESPACE"," ",1495],["T_STRING","false",1495],")",["T_WHITESPACE"," ",1495],"*",["T_WHITESPACE"," ",1495],["T_VARIABLE","$item",1495],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1495],"]",["T_WHITESPACE"," ",1495],".",["T_WHITESPACE"," ",1495],["T_CONSTANT_ENCAPSED_STRING","' '",1495],["T_WHITESPACE"," ",1495],".",["T_WHITESPACE"," ",1495],["T_VARIABLE","$this",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","session",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","data",1495],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1495],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1495],["T_VARIABLE","$trial_text",1496],["T_WHITESPACE"," ",1496],"=",["T_WHITESPACE","  ",1496],["T_STRING","sprintf",1496],"(",["T_VARIABLE","$this",1496],["T_OBJECT_OPERATOR","->",1496],["T_STRING","language",1496],["T_OBJECT_OPERATOR","->",1496],["T_STRING","get",1496],"(",["T_CONSTANT_ENCAPSED_STRING","'text_trial'",1496],")",",",["T_WHITESPACE"," ",1496],["T_VARIABLE","$trial_amt",1496],",",["T_WHITESPACE"," ",1496],["T_VARIABLE","$item",1496],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1496],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_cycle'",1496],"]",",",["T_WHITESPACE"," ",1496],["T_VARIABLE","$item",1496],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1496],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_frequency'",1496],"]",",",["T_WHITESPACE"," ",1496],["T_VARIABLE","$item",1496],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1496],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trial_duration'",1496],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1496],["T_VARIABLE","$data",1498],["T_WHITESPACE"," ",1498],"=",["T_WHITESPACE"," ",1498],["T_STRING","array_merge",1498],"(",["T_VARIABLE","$data",1498],",",["T_WHITESPACE"," ",1498],["T_VARIABLE","$data_trial",1498],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1498],"}",["T_WHITESPACE"," ",1499],["T_ELSE","else",1499],["T_WHITESPACE"," ",1499],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1499],["T_VARIABLE","$trial_text",1500],["T_WHITESPACE"," ",1500],"=",["T_WHITESPACE"," ",1500],["T_CONSTANT_ENCAPSED_STRING","''",1500],";",["T_WHITESPACE","\n\t\t\t\t\t",1500],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",1501],["T_VARIABLE","$recurring_amt",1503],["T_WHITESPACE"," ",1503],"=",["T_WHITESPACE"," ",1503],["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","currency",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","format",1503],"(",["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","tax",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","calculate",1503],"(",["T_VARIABLE","$item",1503],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1503],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",1503],"]",",",["T_WHITESPACE"," ",1503],["T_VARIABLE","$item",1503],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1503],"]",",",["T_WHITESPACE"," ",1503],["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","config",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","get",1503],"(",["T_CONSTANT_ENCAPSED_STRING","'config_tax'",1503],")",")",",",["T_WHITESPACE"," ",1503],["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","session",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","data",1503],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1503],"]",",",["T_WHITESPACE"," ",1503],["T_STRING","false",1503],",",["T_WHITESPACE"," ",1503],["T_STRING","false",1503],")",["T_WHITESPACE","  ",1503],"*",["T_WHITESPACE"," ",1503],["T_VARIABLE","$item",1503],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",1503],"]",["T_WHITESPACE"," ",1503],".",["T_WHITESPACE"," ",1503],["T_CONSTANT_ENCAPSED_STRING","' '",1503],["T_WHITESPACE"," ",1503],".",["T_WHITESPACE"," ",1503],["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","session",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","data",1503],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1503],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",1503],["T_VARIABLE","$recurring_description",1504],["T_WHITESPACE"," ",1504],"=",["T_WHITESPACE"," ",1504],["T_VARIABLE","$trial_text",1504],["T_WHITESPACE"," ",1504],".",["T_WHITESPACE"," ",1504],["T_STRING","sprintf",1504],"(",["T_VARIABLE","$this",1504],["T_OBJECT_OPERATOR","->",1504],["T_STRING","language",1504],["T_OBJECT_OPERATOR","->",1504],["T_STRING","get",1504],"(",["T_CONSTANT_ENCAPSED_STRING","'text_recurring'",1504],")",",",["T_WHITESPACE"," ",1504],["T_VARIABLE","$recurring_amt",1504],",",["T_WHITESPACE"," ",1504],["T_VARIABLE","$item",1504],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1504],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cycle'",1504],"]",",",["T_WHITESPACE"," ",1504],["T_VARIABLE","$item",1504],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1504],"]","[",["T_CONSTANT_ENCAPSED_STRING","'frequency'",1504],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1504],["T_IF","if",1506],["T_WHITESPACE"," ",1506],"(",["T_VARIABLE","$item",1506],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1506],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",1506],"]",["T_WHITESPACE"," ",1506],">",["T_WHITESPACE"," ",1506],["T_LNUMBER","0",1506],")",["T_WHITESPACE"," ",1506],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1506],["T_VARIABLE","$recurring_description",1507],["T_WHITESPACE"," ",1507],["T_CONCAT_EQUAL",".=",1507],["T_WHITESPACE"," ",1507],["T_STRING","sprintf",1507],"(",["T_VARIABLE","$this",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","language",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","get",1507],"(",["T_CONSTANT_ENCAPSED_STRING","'text_length'",1507],")",",",["T_WHITESPACE"," ",1507],["T_VARIABLE","$item",1507],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring'",1507],"]","[",["T_CONSTANT_ENCAPSED_STRING","'duration'",1507],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",1507],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",1508],["T_COMMENT","\/\/create new recurring and set to pending status as no payment has been made yet.\n",1510],["T_WHITESPACE","\t\t\t\t\t",1511],["T_VARIABLE","$recurring_id",1511],["T_WHITESPACE"," ",1511],"=",["T_WHITESPACE"," ",1511],["T_VARIABLE","$this",1511],["T_OBJECT_OPERATOR","->",1511],["T_STRING","model_checkout_recurring",1511],["T_OBJECT_OPERATOR","->",1511],["T_STRING","create",1511],"(",["T_VARIABLE","$item",1511],",",["T_WHITESPACE"," ",1511],["T_VARIABLE","$order_id",1511],",",["T_WHITESPACE"," ",1511],["T_VARIABLE","$recurring_description",1511],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1511],["T_VARIABLE","$data",1513],"[",["T_CONSTANT_ENCAPSED_STRING","'PROFILEREFERENCE'",1513],"]",["T_WHITESPACE"," ",1513],"=",["T_WHITESPACE"," ",1513],["T_VARIABLE","$recurring_id",1513],";",["T_WHITESPACE","\n\t\t\t\t\t",1513],["T_VARIABLE","$data",1514],"[",["T_CONSTANT_ENCAPSED_STRING","'DESC'",1514],"]",["T_WHITESPACE"," ",1514],"=",["T_WHITESPACE"," ",1514],["T_VARIABLE","$recurring_description",1514],";",["T_WHITESPACE","\n\n\t\t\t\t\t",1514],["T_VARIABLE","$result",1516],["T_WHITESPACE"," ",1516],"=",["T_WHITESPACE"," ",1516],["T_VARIABLE","$this",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","model_extension_payment_pp_express",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","call",1516],"(",["T_VARIABLE","$data",1516],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1516],["T_IF","if",1518],["T_WHITESPACE"," ",1518],"(",["T_ISSET","isset",1518],"(",["T_VARIABLE","$result",1518],"[",["T_CONSTANT_ENCAPSED_STRING","'PROFILEID'",1518],"]",")",")",["T_WHITESPACE"," ",1518],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1518],["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","model_checkout_recurring",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","addReference",1519],"(",["T_VARIABLE","$recurring_id",1519],",",["T_WHITESPACE"," ",1519],["T_VARIABLE","$result",1519],"[",["T_CONSTANT_ENCAPSED_STRING","'PROFILEID'",1519],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",1519],"}",["T_WHITESPACE"," ",1520],["T_ELSE","else",1520],["T_WHITESPACE"," ",1520],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1520],["T_COMMENT","\/\/ there was an error creating the recurring, need to log and also alert admin \/ user\n",1521],["T_WHITESPACE","\n\t\t\t\t\t",1522],"}",["T_WHITESPACE","\n\t\t\t\t",1523],"}",["T_WHITESPACE","\n\t\t\t",1524],"}",["T_WHITESPACE","\n\n\t\t\t",1525],["T_IF","if",1527],["T_WHITESPACE"," ",1527],"(",["T_ISSET","isset",1527],"(",["T_VARIABLE","$result",1527],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECTREQUIRED'",1527],"]",")",["T_WHITESPACE"," ",1527],["T_BOOLEAN_AND","&&",1527],["T_WHITESPACE"," ",1527],["T_VARIABLE","$result",1527],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECTREQUIRED'",1527],"]",["T_WHITESPACE"," ",1527],["T_IS_EQUAL","==",1527],["T_WHITESPACE"," ",1527],["T_STRING","true",1527],")",["T_WHITESPACE"," ",1527],"{",["T_WHITESPACE","\n\t\t\t\t",1527],["T_COMMENT","\/\/- handle german redirect here\n",1528],["T_WHITESPACE","\t\t\t\t",1529],["T_VARIABLE","$this",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","response",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","redirect",1529],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.paypal.com\/cgi-bin\/webscr?cmd=_complete-express-checkout&token='",1529],["T_WHITESPACE"," ",1529],".",["T_WHITESPACE"," ",1529],["T_VARIABLE","$this",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","session",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","data",1529],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1529],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1529],"]",")",";",["T_WHITESPACE","\n\t\t\t",1529],"}",["T_WHITESPACE"," ",1530],["T_ELSE","else",1530],["T_WHITESPACE"," ",1530],"{",["T_WHITESPACE","\n\t\t\t\t",1530],["T_VARIABLE","$this",1531],["T_OBJECT_OPERATOR","->",1531],["T_STRING","response",1531],["T_OBJECT_OPERATOR","->",1531],["T_STRING","redirect",1531],"(",["T_VARIABLE","$this",1531],["T_OBJECT_OPERATOR","->",1531],["T_STRING","url",1531],["T_OBJECT_OPERATOR","->",1531],["T_STRING","link",1531],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/success'",1531],")",")",";",["T_WHITESPACE","\n\t\t\t",1531],"}",["T_WHITESPACE","\n\t\t",1532],"}",["T_WHITESPACE"," ",1533],["T_ELSE","else",1533],["T_WHITESPACE"," ",1533],"{",["T_WHITESPACE","\n\t\t\t",1533],["T_IF","if",1534],["T_WHITESPACE"," ",1534],"(",["T_VARIABLE","$result",1534],"[",["T_CONSTANT_ENCAPSED_STRING","'L_ERRORCODE0'",1534],"]",["T_WHITESPACE"," ",1534],["T_IS_EQUAL","==",1534],["T_WHITESPACE"," ",1534],["T_CONSTANT_ENCAPSED_STRING","'10486'",1534],")",["T_WHITESPACE"," ",1534],"{",["T_WHITESPACE","\n\t\t\t\t",1534],["T_IF","if",1535],["T_WHITESPACE"," ",1535],"(",["T_ISSET","isset",1535],"(",["T_VARIABLE","$this",1535],["T_OBJECT_OPERATOR","->",1535],["T_STRING","session",1535],["T_OBJECT_OPERATOR","->",1535],["T_STRING","data",1535],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1535],"]",")",")",["T_WHITESPACE"," ",1535],"{",["T_WHITESPACE","\n\n\t\t\t\t\t",1535],["T_IF","if",1537],["T_WHITESPACE"," ",1537],"(",["T_VARIABLE","$this",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","session",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","data",1537],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1537],"]",["T_WHITESPACE"," ",1537],["T_IS_EQUAL","==",1537],["T_WHITESPACE"," ",1537],["T_LNUMBER","2",1537],")",["T_WHITESPACE"," ",1537],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1537],["T_VARIABLE","$this",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","session",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","data",1538],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1538],"]",["T_WHITESPACE"," ",1538],"=",["T_WHITESPACE"," ",1538],["T_LNUMBER","0",1538],";",["T_WHITESPACE","\n\t\t\t\t\t\t",1538],["T_VARIABLE","$this",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","session",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","data",1539],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1539],"]",["T_WHITESPACE"," ",1539],"=",["T_WHITESPACE"," ",1539],["T_VARIABLE","$this",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","language",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","get",1539],"(",["T_CONSTANT_ENCAPSED_STRING","'error_too_many_failures'",1539],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1539],["T_VARIABLE","$this",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","response",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","redirect",1541],"(",["T_VARIABLE","$this",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","url",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","link",1541],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",1541],",",["T_WHITESPACE"," ",1541],["T_CONSTANT_ENCAPSED_STRING","''",1541],",",["T_WHITESPACE"," ",1541],["T_STRING","true",1541],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",1541],"}",["T_WHITESPACE"," ",1542],["T_ELSE","else",1542],["T_WHITESPACE"," ",1542],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1542],["T_VARIABLE","$this",1543],["T_OBJECT_OPERATOR","->",1543],["T_STRING","session",1543],["T_OBJECT_OPERATOR","->",1543],["T_STRING","data",1543],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1543],"]",["T_INC","++",1543],";",["T_WHITESPACE","\n\t\t\t\t\t",1543],"}",["T_WHITESPACE","\n\t\t\t\t",1544],"}",["T_WHITESPACE"," ",1545],["T_ELSE","else",1545],["T_WHITESPACE"," ",1545],"{",["T_WHITESPACE","\n\t\t\t\t\t",1545],["T_VARIABLE","$this",1546],["T_OBJECT_OPERATOR","->",1546],["T_STRING","session",1546],["T_OBJECT_OPERATOR","->",1546],["T_STRING","data",1546],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_redirect_count'",1546],"]",["T_WHITESPACE"," ",1546],"=",["T_WHITESPACE"," ",1546],["T_LNUMBER","1",1546],";",["T_WHITESPACE","\n\t\t\t\t",1546],"}",["T_WHITESPACE","\n\n\t\t\t\t",1547],["T_IF","if",1549],["T_WHITESPACE"," ",1549],"(",["T_VARIABLE","$this",1549],["T_OBJECT_OPERATOR","->",1549],["T_STRING","config",1549],["T_OBJECT_OPERATOR","->",1549],["T_STRING","get",1549],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_test'",1549],")",["T_WHITESPACE"," ",1549],["T_IS_EQUAL","==",1549],["T_WHITESPACE"," ",1549],["T_LNUMBER","1",1549],")",["T_WHITESPACE"," ",1549],"{",["T_WHITESPACE","\n\t\t\t\t\t",1549],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","response",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","redirect",1550],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.sandbox.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",1550],["T_WHITESPACE"," ",1550],".",["T_WHITESPACE"," ",1550],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","session",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","data",1550],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1550],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1550],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",1550],"}",["T_WHITESPACE"," ",1551],["T_ELSE","else",1551],["T_WHITESPACE"," ",1551],"{",["T_WHITESPACE","\n\t\t\t\t\t",1551],["T_VARIABLE","$this",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","response",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","redirect",1552],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.paypal.com\/cgi-bin\/webscr?cmd=_express-checkout&token='",1552],["T_WHITESPACE"," ",1552],".",["T_WHITESPACE"," ",1552],["T_VARIABLE","$this",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","session",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","data",1552],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal'",1552],"]","[",["T_CONSTANT_ENCAPSED_STRING","'token'",1552],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",1552],"}",["T_WHITESPACE","\n\t\t\t",1553],"}",["T_WHITESPACE","\n\n\t\t\t",1554],["T_VARIABLE","$this",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","load",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","language",1556],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1556],")",";",["T_WHITESPACE","\n\n\t\t\t",1556],["T_VARIABLE","$data",1558],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",1558],"]",["T_WHITESPACE"," ",1558],"=",["T_WHITESPACE"," ",1558],["T_ARRAY","array",1558],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",1558],["T_VARIABLE","$data",1560],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",1560],"]","[","]",["T_WHITESPACE"," ",1560],"=",["T_WHITESPACE"," ",1560],["T_ARRAY","array",1560],"(",["T_WHITESPACE","\n\t\t\t\t",1560],["T_CONSTANT_ENCAPSED_STRING","'href'",1561],["T_WHITESPACE"," ",1561],["T_DOUBLE_ARROW","=>",1561],["T_WHITESPACE"," ",1561],["T_VARIABLE","$this",1561],["T_OBJECT_OPERATOR","->",1561],["T_STRING","url",1561],["T_OBJECT_OPERATOR","->",1561],["T_STRING","link",1561],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/home'",1561],")",",",["T_WHITESPACE","\n\t\t\t\t",1561],["T_CONSTANT_ENCAPSED_STRING","'text'",1562],["T_WHITESPACE"," ",1562],["T_DOUBLE_ARROW","=>",1562],["T_WHITESPACE"," ",1562],["T_VARIABLE","$this",1562],["T_OBJECT_OPERATOR","->",1562],["T_STRING","language",1562],["T_OBJECT_OPERATOR","->",1562],["T_STRING","get",1562],"(",["T_CONSTANT_ENCAPSED_STRING","'text_home'",1562],")",["T_WHITESPACE","\n\t\t\t",1562],")",";",["T_WHITESPACE","\n\n\t\t\t",1563],["T_VARIABLE","$data",1565],"[",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",1565],"]","[","]",["T_WHITESPACE"," ",1565],"=",["T_WHITESPACE"," ",1565],["T_ARRAY","array",1565],"(",["T_WHITESPACE","\n\t\t\t\t",1565],["T_CONSTANT_ENCAPSED_STRING","'href'",1566],["T_WHITESPACE"," ",1566],["T_DOUBLE_ARROW","=>",1566],["T_WHITESPACE"," ",1566],["T_VARIABLE","$this",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","url",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","link",1566],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",1566],")",",",["T_WHITESPACE","\n\t\t\t\t",1566],["T_CONSTANT_ENCAPSED_STRING","'text'",1567],["T_WHITESPACE"," ",1567],["T_DOUBLE_ARROW","=>",1567],["T_WHITESPACE"," ",1567],["T_VARIABLE","$this",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","language",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","get",1567],"(",["T_CONSTANT_ENCAPSED_STRING","'text_cart'",1567],")",["T_WHITESPACE","\n\t\t\t",1567],")",";",["T_WHITESPACE","\n\n\t\t\t",1568],["T_VARIABLE","$data",1570],"[",["T_CONSTANT_ENCAPSED_STRING","'heading_title'",1570],"]",["T_WHITESPACE"," ",1570],"=",["T_WHITESPACE"," ",1570],["T_VARIABLE","$this",1570],["T_OBJECT_OPERATOR","->",1570],["T_STRING","language",1570],["T_OBJECT_OPERATOR","->",1570],["T_STRING","get",1570],"(",["T_CONSTANT_ENCAPSED_STRING","'error_heading_title'",1570],")",";",["T_WHITESPACE","\n\n\t\t\t",1570],["T_VARIABLE","$data",1572],"[",["T_CONSTANT_ENCAPSED_STRING","'text_error'",1572],"]",["T_WHITESPACE"," ",1572],"=",["T_WHITESPACE"," ",1572],["T_CONSTANT_ENCAPSED_STRING","'<div class=\"warning\">'",1572],["T_WHITESPACE"," ",1572],".",["T_WHITESPACE"," ",1572],["T_VARIABLE","$result",1572],"[",["T_CONSTANT_ENCAPSED_STRING","'L_ERRORCODE0'",1572],"]",["T_WHITESPACE"," ",1572],".",["T_WHITESPACE"," ",1572],["T_CONSTANT_ENCAPSED_STRING","' : '",1572],["T_WHITESPACE"," ",1572],".",["T_WHITESPACE"," ",1572],["T_VARIABLE","$result",1572],"[",["T_CONSTANT_ENCAPSED_STRING","'L_LONGMESSAGE0'",1572],"]",["T_WHITESPACE"," ",1572],".",["T_WHITESPACE"," ",1572],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",1572],";",["T_WHITESPACE","\n\n\t\t\t",1572],["T_VARIABLE","$data",1574],"[",["T_CONSTANT_ENCAPSED_STRING","'button_continue'",1574],"]",["T_WHITESPACE"," ",1574],"=",["T_WHITESPACE"," ",1574],["T_VARIABLE","$this",1574],["T_OBJECT_OPERATOR","->",1574],["T_STRING","language",1574],["T_OBJECT_OPERATOR","->",1574],["T_STRING","get",1574],"(",["T_CONSTANT_ENCAPSED_STRING","'button_continue'",1574],")",";",["T_WHITESPACE","\n\n\t\t\t",1574],["T_VARIABLE","$data",1576],"[",["T_CONSTANT_ENCAPSED_STRING","'continue'",1576],"]",["T_WHITESPACE"," ",1576],"=",["T_WHITESPACE"," ",1576],["T_VARIABLE","$this",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","url",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","link",1576],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",1576],")",";",["T_WHITESPACE","\n\n\t\t\t",1576],["T_UNSET","unset",1578],"(",["T_VARIABLE","$this",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","session",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","data",1578],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",1578],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",1578],["T_VARIABLE","$this",1580],["T_OBJECT_OPERATOR","->",1580],["T_STRING","response",1580],["T_OBJECT_OPERATOR","->",1580],["T_STRING","addHeader",1580],"(",["T_VARIABLE","$this",1580],["T_OBJECT_OPERATOR","->",1580],["T_STRING","request",1580],["T_OBJECT_OPERATOR","->",1580],["T_STRING","server",1580],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PROTOCOL'",1580],"]",["T_WHITESPACE"," ",1580],".",["T_WHITESPACE"," ",1580],["T_CONSTANT_ENCAPSED_STRING","' 404 Not Found'",1580],")",";",["T_WHITESPACE","\n\n\t\t\t",1580],["T_VARIABLE","$data",1582],"[",["T_CONSTANT_ENCAPSED_STRING","'column_left'",1582],"]",["T_WHITESPACE"," ",1582],"=",["T_WHITESPACE"," ",1582],["T_VARIABLE","$this",1582],["T_OBJECT_OPERATOR","->",1582],["T_STRING","load",1582],["T_OBJECT_OPERATOR","->",1582],["T_STRING","controller",1582],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/column_left'",1582],")",";",["T_WHITESPACE","\n\t\t\t",1582],["T_VARIABLE","$data",1583],"[",["T_CONSTANT_ENCAPSED_STRING","'column_right'",1583],"]",["T_WHITESPACE"," ",1583],"=",["T_WHITESPACE"," ",1583],["T_VARIABLE","$this",1583],["T_OBJECT_OPERATOR","->",1583],["T_STRING","load",1583],["T_OBJECT_OPERATOR","->",1583],["T_STRING","controller",1583],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/column_right'",1583],")",";",["T_WHITESPACE","\n\t\t\t",1583],["T_VARIABLE","$data",1584],"[",["T_CONSTANT_ENCAPSED_STRING","'content_top'",1584],"]",["T_WHITESPACE"," ",1584],"=",["T_WHITESPACE"," ",1584],["T_VARIABLE","$this",1584],["T_OBJECT_OPERATOR","->",1584],["T_STRING","load",1584],["T_OBJECT_OPERATOR","->",1584],["T_STRING","controller",1584],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/content_top'",1584],")",";",["T_WHITESPACE","\n\t\t\t",1584],["T_VARIABLE","$data",1585],"[",["T_CONSTANT_ENCAPSED_STRING","'content_bottom'",1585],"]",["T_WHITESPACE"," ",1585],"=",["T_WHITESPACE"," ",1585],["T_VARIABLE","$this",1585],["T_OBJECT_OPERATOR","->",1585],["T_STRING","load",1585],["T_OBJECT_OPERATOR","->",1585],["T_STRING","controller",1585],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/content_bottom'",1585],")",";",["T_WHITESPACE","\n\t\t\t",1585],["T_VARIABLE","$data",1586],"[",["T_CONSTANT_ENCAPSED_STRING","'footer'",1586],"]",["T_WHITESPACE"," ",1586],"=",["T_WHITESPACE"," ",1586],["T_VARIABLE","$this",1586],["T_OBJECT_OPERATOR","->",1586],["T_STRING","load",1586],["T_OBJECT_OPERATOR","->",1586],["T_STRING","controller",1586],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/footer'",1586],")",";",["T_WHITESPACE","\n\t\t\t",1586],["T_VARIABLE","$data",1587],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",1587],"]",["T_WHITESPACE"," ",1587],"=",["T_WHITESPACE"," ",1587],["T_VARIABLE","$this",1587],["T_OBJECT_OPERATOR","->",1587],["T_STRING","load",1587],["T_OBJECT_OPERATOR","->",1587],["T_STRING","controller",1587],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/header'",1587],")",";",["T_WHITESPACE","\n\n\t\t\t",1587],["T_VARIABLE","$this",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","response",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","setOutput",1589],"(",["T_VARIABLE","$this",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","load",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","view",1589],"(",["T_CONSTANT_ENCAPSED_STRING","'error\/not_found'",1589],",",["T_WHITESPACE"," ",1589],["T_VARIABLE","$data",1589],")",")",";",["T_WHITESPACE","\n\t\t",1589],"}",["T_WHITESPACE","\n\t",1590],"}",["T_WHITESPACE","\n\n\t",1591],["T_PUBLIC","public",1593],["T_WHITESPACE"," ",1593],["T_FUNCTION","function",1593],["T_WHITESPACE"," ",1593],["T_STRING","ipn",1593],"(",")",["T_WHITESPACE"," ",1593],"{",["T_WHITESPACE","\n\t\t",1593],["T_VARIABLE","$this",1594],["T_OBJECT_OPERATOR","->",1594],["T_STRING","load",1594],["T_OBJECT_OPERATOR","->",1594],["T_STRING","model",1594],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1594],")",";",["T_WHITESPACE","\n\t\t",1594],["T_VARIABLE","$this",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","load",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","model",1595],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/recurring'",1595],")",";",["T_WHITESPACE","\n\n\t\t",1595],["T_VARIABLE","$request",1597],["T_WHITESPACE"," ",1597],"=",["T_WHITESPACE"," ",1597],["T_CONSTANT_ENCAPSED_STRING","'cmd=_notify-validate'",1597],";",["T_WHITESPACE","\n\n\t\t",1597],["T_FOREACH","foreach",1599],["T_WHITESPACE"," ",1599],"(",["T_VARIABLE","$_POST",1599],["T_WHITESPACE"," ",1599],["T_AS","as",1599],["T_WHITESPACE"," ",1599],["T_VARIABLE","$key",1599],["T_WHITESPACE"," ",1599],["T_DOUBLE_ARROW","=>",1599],["T_WHITESPACE"," ",1599],["T_VARIABLE","$value",1599],")",["T_WHITESPACE"," ",1599],"{",["T_WHITESPACE","\n\t\t\t",1599],["T_VARIABLE","$request",1600],["T_WHITESPACE"," ",1600],["T_CONCAT_EQUAL",".=",1600],["T_WHITESPACE"," ",1600],["T_CONSTANT_ENCAPSED_STRING","'&'",1600],["T_WHITESPACE"," ",1600],".",["T_WHITESPACE"," ",1600],["T_VARIABLE","$key",1600],["T_WHITESPACE"," ",1600],".",["T_WHITESPACE"," ",1600],["T_CONSTANT_ENCAPSED_STRING","'='",1600],["T_WHITESPACE"," ",1600],".",["T_WHITESPACE"," ",1600],["T_STRING","urlencode",1600],"(",["T_STRING","html_entity_decode",1600],"(",["T_VARIABLE","$value",1600],",",["T_WHITESPACE"," ",1600],["T_STRING","ENT_QUOTES",1600],",",["T_WHITESPACE"," ",1600],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1600],")",")",";",["T_WHITESPACE","\n\t\t",1600],"}",["T_WHITESPACE","\n\n\t\t",1601],["T_IF","if",1603],["T_WHITESPACE"," ",1603],"(",["T_VARIABLE","$this",1603],["T_OBJECT_OPERATOR","->",1603],["T_STRING","config",1603],["T_OBJECT_OPERATOR","->",1603],["T_STRING","get",1603],"(",["T_CONSTANT_ENCAPSED_STRING","'pp_express_test'",1603],")",["T_WHITESPACE"," ",1603],["T_IS_EQUAL","==",1603],["T_WHITESPACE"," ",1603],["T_LNUMBER","1",1603],")",["T_WHITESPACE"," ",1603],"{",["T_WHITESPACE","\n\t\t\t",1603],["T_VARIABLE","$curl",1604],["T_WHITESPACE"," ",1604],"=",["T_WHITESPACE"," ",1604],["T_STRING","curl_init",1604],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.sandbox.paypal.com\/cgi-bin\/webscr'",1604],")",";",["T_WHITESPACE","\n\t\t",1604],"}",["T_WHITESPACE"," ",1605],["T_ELSE","else",1605],["T_WHITESPACE"," ",1605],"{",["T_WHITESPACE","\n\t\t\t",1605],["T_VARIABLE","$curl",1606],["T_WHITESPACE"," ",1606],"=",["T_WHITESPACE"," ",1606],["T_STRING","curl_init",1606],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.paypal.com\/cgi-bin\/webscr'",1606],")",";",["T_WHITESPACE","\n\t\t",1606],"}",["T_WHITESPACE","\n\n\t\t",1607],["T_STRING","curl_setopt",1609],"(",["T_VARIABLE","$curl",1609],",",["T_WHITESPACE"," ",1609],["T_STRING","CURLOPT_POST",1609],",",["T_WHITESPACE"," ",1609],["T_STRING","true",1609],")",";",["T_WHITESPACE","\n\t\t",1609],["T_STRING","curl_setopt",1610],"(",["T_VARIABLE","$curl",1610],",",["T_WHITESPACE"," ",1610],["T_STRING","CURLOPT_POSTFIELDS",1610],",",["T_WHITESPACE"," ",1610],["T_VARIABLE","$request",1610],")",";",["T_WHITESPACE","\n\t\t",1610],["T_STRING","curl_setopt",1611],"(",["T_VARIABLE","$curl",1611],",",["T_WHITESPACE"," ",1611],["T_STRING","CURLOPT_RETURNTRANSFER",1611],",",["T_WHITESPACE"," ",1611],["T_STRING","true",1611],")",";",["T_WHITESPACE","\n\t\t",1611],["T_STRING","curl_setopt",1612],"(",["T_VARIABLE","$curl",1612],",",["T_WHITESPACE"," ",1612],["T_STRING","CURLOPT_HEADER",1612],",",["T_WHITESPACE"," ",1612],["T_STRING","false",1612],")",";",["T_WHITESPACE","\n\t\t",1612],["T_STRING","curl_setopt",1613],"(",["T_VARIABLE","$curl",1613],",",["T_WHITESPACE"," ",1613],["T_STRING","CURLOPT_TIMEOUT",1613],",",["T_WHITESPACE"," ",1613],["T_LNUMBER","30",1613],")",";",["T_WHITESPACE","\n\t\t",1613],["T_STRING","curl_setopt",1614],"(",["T_VARIABLE","$curl",1614],",",["T_WHITESPACE"," ",1614],["T_STRING","CURLOPT_SSL_VERIFYPEER",1614],",",["T_WHITESPACE"," ",1614],["T_STRING","false",1614],")",";",["T_WHITESPACE","\n\n\t\t",1614],["T_VARIABLE","$response",1616],["T_WHITESPACE"," ",1616],"=",["T_WHITESPACE"," ",1616],["T_STRING","trim",1616],"(",["T_STRING","curl_exec",1616],"(",["T_VARIABLE","$curl",1616],")",")",";",["T_WHITESPACE","\n\n\t\t",1616],["T_IF","if",1618],["T_WHITESPACE"," ",1618],"(","!",["T_VARIABLE","$response",1618],")",["T_WHITESPACE"," ",1618],"{",["T_WHITESPACE","\n\t\t\t",1618],["T_VARIABLE","$this",1619],["T_OBJECT_OPERATOR","->",1619],["T_STRING","model_extension_payment_pp_express",1619],["T_OBJECT_OPERATOR","->",1619],["T_STRING","log",1619],"(",["T_ARRAY","array",1619],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",1619],["T_WHITESPACE"," ",1619],["T_DOUBLE_ARROW","=>",1619],["T_WHITESPACE"," ",1619],["T_STRING","curl_error",1619],"(",["T_VARIABLE","$curl",1619],")",",",["T_CONSTANT_ENCAPSED_STRING","'error_no'",1619],["T_WHITESPACE"," ",1619],["T_DOUBLE_ARROW","=>",1619],["T_WHITESPACE"," ",1619],["T_STRING","curl_errno",1619],"(",["T_VARIABLE","$curl",1619],")",")",",",["T_WHITESPACE"," ",1619],["T_CONSTANT_ENCAPSED_STRING","'Curl failed'",1619],")",";",["T_WHITESPACE","\n\t\t",1619],"}",["T_WHITESPACE","\n\n\t\t",1620],["T_VARIABLE","$this",1622],["T_OBJECT_OPERATOR","->",1622],["T_STRING","model_extension_payment_pp_express",1622],["T_OBJECT_OPERATOR","->",1622],["T_STRING","log",1622],"(",["T_ARRAY","array",1622],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",1622],["T_WHITESPACE"," ",1622],["T_DOUBLE_ARROW","=>",1622],["T_WHITESPACE"," ",1622],["T_VARIABLE","$request",1622],",",["T_CONSTANT_ENCAPSED_STRING","'response'",1622],["T_WHITESPACE"," ",1622],["T_DOUBLE_ARROW","=>",1622],["T_WHITESPACE"," ",1622],["T_VARIABLE","$response",1622],")",",",["T_WHITESPACE"," ",1622],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1622],")",";",["T_WHITESPACE","\n\n\t\t",1622],["T_IF","if",1624],["T_WHITESPACE"," ",1624],"(",["T_STRING_CAST","(string)",1624],["T_VARIABLE","$response",1624],["T_WHITESPACE"," ",1624],["T_IS_EQUAL","==",1624],["T_WHITESPACE"," ",1624],["T_CONSTANT_ENCAPSED_STRING","\"VERIFIED\"",1624],")",["T_WHITESPACE","  ",1624],"{",["T_WHITESPACE","\n\t\t\t",1624],["T_IF","if",1625],["T_WHITESPACE"," ",1625],"(",["T_ISSET","isset",1625],"(",["T_VARIABLE","$this",1625],["T_OBJECT_OPERATOR","->",1625],["T_STRING","request",1625],["T_OBJECT_OPERATOR","->",1625],["T_STRING","post",1625],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1625],"]",")",")",["T_WHITESPACE"," ",1625],"{",["T_WHITESPACE","\n\t\t\t\t",1625],["T_VARIABLE","$this",1626],["T_OBJECT_OPERATOR","->",1626],["T_STRING","log",1626],["T_OBJECT_OPERATOR","->",1626],["T_STRING","write",1626],"(",["T_VARIABLE","$this",1626],["T_OBJECT_OPERATOR","->",1626],["T_STRING","request",1626],["T_OBJECT_OPERATOR","->",1626],["T_STRING","post",1626],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1626],"]",")",";",["T_WHITESPACE","\n\t\t\t",1626],"}",["T_WHITESPACE","\n\n\t\t\t",1627],["T_IF","if",1629],["T_WHITESPACE"," ",1629],"(",["T_ISSET","isset",1629],"(",["T_VARIABLE","$this",1629],["T_OBJECT_OPERATOR","->",1629],["T_STRING","request",1629],["T_OBJECT_OPERATOR","->",1629],["T_STRING","post",1629],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_id'",1629],"]",")",")",["T_WHITESPACE"," ",1629],"{",["T_WHITESPACE","\n\t\t\t\t",1629],["T_VARIABLE","$transaction",1630],["T_WHITESPACE"," ",1630],"=",["T_WHITESPACE"," ",1630],["T_VARIABLE","$this",1630],["T_OBJECT_OPERATOR","->",1630],["T_STRING","model_extension_payment_pp_express",1630],["T_OBJECT_OPERATOR","->",1630],["T_STRING","getTransactionRow",1630],"(",["T_VARIABLE","$this",1630],["T_OBJECT_OPERATOR","->",1630],["T_STRING","request",1630],["T_OBJECT_OPERATOR","->",1630],["T_STRING","post",1630],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_id'",1630],"]",")",";",["T_WHITESPACE","\n\t\t\t",1630],"}",["T_WHITESPACE"," ",1631],["T_ELSE","else",1631],["T_WHITESPACE"," ",1631],"{",["T_WHITESPACE","\n\t\t\t\t",1631],["T_VARIABLE","$transaction",1632],["T_WHITESPACE"," ",1632],"=",["T_WHITESPACE"," ",1632],["T_STRING","false",1632],";",["T_WHITESPACE","\n\t\t\t",1632],"}",["T_WHITESPACE","\n\n\t\t\t",1633],["T_IF","if",1635],["T_WHITESPACE"," ",1635],"(",["T_ISSET","isset",1635],"(",["T_VARIABLE","$this",1635],["T_OBJECT_OPERATOR","->",1635],["T_STRING","request",1635],["T_OBJECT_OPERATOR","->",1635],["T_STRING","post",1635],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_txn_id'",1635],"]",")",")",["T_WHITESPACE"," ",1635],"{",["T_WHITESPACE","\n\t\t\t\t",1635],["T_VARIABLE","$parent_transaction",1636],["T_WHITESPACE"," ",1636],"=",["T_WHITESPACE"," ",1636],["T_VARIABLE","$this",1636],["T_OBJECT_OPERATOR","->",1636],["T_STRING","model_extension_payment_pp_express",1636],["T_OBJECT_OPERATOR","->",1636],["T_STRING","getTransactionRow",1636],"(",["T_VARIABLE","$this",1636],["T_OBJECT_OPERATOR","->",1636],["T_STRING","request",1636],["T_OBJECT_OPERATOR","->",1636],["T_STRING","post",1636],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_txn_id'",1636],"]",")",";",["T_WHITESPACE","\n\t\t\t",1636],"}",["T_WHITESPACE"," ",1637],["T_ELSE","else",1637],["T_WHITESPACE"," ",1637],"{",["T_WHITESPACE","\n\t\t\t\t",1637],["T_VARIABLE","$parent_transaction",1638],["T_WHITESPACE"," ",1638],"=",["T_WHITESPACE"," ",1638],["T_STRING","false",1638],";",["T_WHITESPACE","\n\t\t\t",1638],"}",["T_WHITESPACE","\n\n\t\t\t",1639],["T_IF","if",1641],["T_WHITESPACE"," ",1641],"(",["T_VARIABLE","$transaction",1641],")",["T_WHITESPACE"," ",1641],"{",["T_WHITESPACE","\n\t\t\t\t",1641],["T_COMMENT","\/\/transaction exists, check for cleared payment or updates etc\n",1642],["T_WHITESPACE","\t\t\t\t",1643],["T_VARIABLE","$this",1643],["T_OBJECT_OPERATOR","->",1643],["T_STRING","model_extension_payment_pp_express",1643],["T_OBJECT_OPERATOR","->",1643],["T_STRING","log",1643],"(",["T_CONSTANT_ENCAPSED_STRING","'Transaction exists'",1643],",",["T_WHITESPACE"," ",1643],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1643],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1643],["T_COMMENT","\/\/if the transaction is pending but the new status is completed\n",1645],["T_WHITESPACE","\t\t\t\t",1646],["T_IF","if",1646],["T_WHITESPACE"," ",1646],"(",["T_VARIABLE","$transaction",1646],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1646],"]",["T_WHITESPACE"," ",1646],["T_IS_NOT_EQUAL","!=",1646],["T_WHITESPACE"," ",1646],["T_VARIABLE","$this",1646],["T_OBJECT_OPERATOR","->",1646],["T_STRING","request",1646],["T_OBJECT_OPERATOR","->",1646],["T_STRING","post",1646],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1646],"]",")",["T_WHITESPACE"," ",1646],"{",["T_WHITESPACE","\n\t\t\t\t\t",1646],["T_VARIABLE","$this",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","db",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","query",1647],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1647],["T_WHITESPACE"," ",1647],".",["T_WHITESPACE"," ",1647],["T_STRING","DB_PREFIX",1647],["T_WHITESPACE"," ",1647],".",["T_WHITESPACE"," ",1647],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` SET `payment_status` = '\"",1647],["T_WHITESPACE"," ",1647],".",["T_WHITESPACE"," ",1647],["T_VARIABLE","$this",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","db",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","escape",1647],"(",["T_VARIABLE","$this",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","request",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","post",1647],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1647],"]",")",["T_WHITESPACE"," ",1647],".",["T_WHITESPACE"," ",1647],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE `transaction_id` = '\"",1647],["T_WHITESPACE"," ",1647],".",["T_WHITESPACE"," ",1647],["T_VARIABLE","$this",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","db",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","escape",1647],"(",["T_VARIABLE","$transaction",1647],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1647],"]",")",["T_WHITESPACE"," ",1647],".",["T_WHITESPACE"," ",1647],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1647],")",";",["T_WHITESPACE","\n\t\t\t\t",1647],"}",["T_WHITESPACE"," ",1648],["T_ELSEIF","elseif",1648],["T_WHITESPACE"," ",1648],"(",["T_VARIABLE","$transaction",1648],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1648],"]",["T_WHITESPACE"," ",1648],["T_IS_EQUAL","==",1648],["T_WHITESPACE"," ",1648],["T_CONSTANT_ENCAPSED_STRING","'Pending'",1648],["T_WHITESPACE"," ",1648],["T_BOOLEAN_AND","&&",1648],["T_WHITESPACE"," ",1648],"(",["T_VARIABLE","$transaction",1648],"[",["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1648],"]",["T_WHITESPACE"," ",1648],["T_IS_NOT_EQUAL","!=",1648],["T_WHITESPACE"," ",1648],["T_VARIABLE","$this",1648],["T_OBJECT_OPERATOR","->",1648],["T_STRING","request",1648],["T_OBJECT_OPERATOR","->",1648],["T_STRING","post",1648],"[",["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1648],"]",")",")",["T_WHITESPACE"," ",1648],"{",["T_WHITESPACE","\n\t\t\t\t\t",1648],["T_COMMENT","\/\/payment is still pending but the pending reason has changed, update it.\n",1649],["T_WHITESPACE","\t\t\t\t\t",1650],["T_VARIABLE","$this",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","db",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","query",1650],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1650],["T_WHITESPACE"," ",1650],".",["T_WHITESPACE"," ",1650],["T_STRING","DB_PREFIX",1650],["T_WHITESPACE"," ",1650],".",["T_WHITESPACE"," ",1650],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` SET `pending_reason` = '\"",1650],["T_WHITESPACE"," ",1650],".",["T_WHITESPACE"," ",1650],["T_VARIABLE","$this",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","db",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","escape",1650],"(",["T_VARIABLE","$this",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","request",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","post",1650],"[",["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1650],"]",")",["T_WHITESPACE"," ",1650],".",["T_WHITESPACE"," ",1650],["T_CONSTANT_ENCAPSED_STRING","\"' WHERE `transaction_id` = '\"",1650],["T_WHITESPACE"," ",1650],".",["T_WHITESPACE"," ",1650],["T_VARIABLE","$this",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","db",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","escape",1650],"(",["T_VARIABLE","$transaction",1650],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1650],"]",")",["T_WHITESPACE"," ",1650],".",["T_WHITESPACE"," ",1650],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1650],")",";",["T_WHITESPACE","\n\t\t\t\t",1650],"}",["T_WHITESPACE","\n\t\t\t",1651],"}",["T_WHITESPACE"," ",1652],["T_ELSE","else",1652],["T_WHITESPACE"," ",1652],"{",["T_WHITESPACE","\n\t\t\t\t",1652],["T_VARIABLE","$this",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","model_extension_payment_pp_express",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","log",1653],"(",["T_CONSTANT_ENCAPSED_STRING","'Transaction does not exist'",1653],",",["T_WHITESPACE"," ",1653],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1653],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1653],["T_IF","if",1655],["T_WHITESPACE"," ",1655],"(",["T_VARIABLE","$parent_transaction",1655],")",["T_WHITESPACE"," ",1655],"{",["T_WHITESPACE","\n\t\t\t\t\t",1655],["T_COMMENT","\/\/parent transaction exists\n",1656],["T_WHITESPACE","\t\t\t\t\t",1657],["T_VARIABLE","$this",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","model_extension_payment_pp_express",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","log",1657],"(",["T_CONSTANT_ENCAPSED_STRING","'Parent transaction exists'",1657],",",["T_WHITESPACE"," ",1657],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1657],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1657],["T_COMMENT","\/\/add new related transaction\n",1659],["T_WHITESPACE","\t\t\t\t\t",1660],["T_VARIABLE","$transaction",1660],["T_WHITESPACE"," ",1660],"=",["T_WHITESPACE"," ",1660],["T_ARRAY","array",1660],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",1660],["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1661],["T_WHITESPACE","       ",1661],["T_DOUBLE_ARROW","=>",1661],["T_WHITESPACE"," ",1661],["T_VARIABLE","$parent_transaction",1661],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1661],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1661],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1662],["T_WHITESPACE","        ",1662],["T_DOUBLE_ARROW","=>",1662],["T_WHITESPACE"," ",1662],["T_VARIABLE","$this",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","request",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","post",1662],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_id'",1662],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1662],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1663],["T_WHITESPACE"," ",1663],["T_DOUBLE_ARROW","=>",1663],["T_WHITESPACE"," ",1663],["T_VARIABLE","$this",1663],["T_OBJECT_OPERATOR","->",1663],["T_STRING","request",1663],["T_OBJECT_OPERATOR","->",1663],["T_STRING","post",1663],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_txn_id'",1663],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1663],["T_CONSTANT_ENCAPSED_STRING","'note'",1664],["T_WHITESPACE","                  ",1664],["T_DOUBLE_ARROW","=>",1664],["T_WHITESPACE"," ",1664],["T_CONSTANT_ENCAPSED_STRING","''",1664],",",["T_WHITESPACE","\n\t\t\t\t\t\t",1664],["T_CONSTANT_ENCAPSED_STRING","'msgsubid'",1665],["T_WHITESPACE","              ",1665],["T_DOUBLE_ARROW","=>",1665],["T_WHITESPACE"," ",1665],["T_CONSTANT_ENCAPSED_STRING","''",1665],",",["T_WHITESPACE","\n\t\t\t\t\t\t",1665],["T_CONSTANT_ENCAPSED_STRING","'receipt_id'",1666],["T_WHITESPACE","            ",1666],["T_DOUBLE_ARROW","=>",1666],["T_WHITESPACE"," ",1666],"(",["T_ISSET","isset",1666],"(",["T_VARIABLE","$this",1666],["T_OBJECT_OPERATOR","->",1666],["T_STRING","request",1666],["T_OBJECT_OPERATOR","->",1666],["T_STRING","post",1666],"[",["T_CONSTANT_ENCAPSED_STRING","'receipt_id'",1666],"]",")",["T_WHITESPACE"," ",1666],"?",["T_WHITESPACE"," ",1666],["T_VARIABLE","$this",1666],["T_OBJECT_OPERATOR","->",1666],["T_STRING","request",1666],["T_OBJECT_OPERATOR","->",1666],["T_STRING","post",1666],"[",["T_CONSTANT_ENCAPSED_STRING","'receipt_id'",1666],"]",["T_WHITESPACE"," ",1666],":",["T_WHITESPACE"," ",1666],["T_CONSTANT_ENCAPSED_STRING","''",1666],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1666],["T_CONSTANT_ENCAPSED_STRING","'payment_type'",1667],["T_WHITESPACE","          ",1667],["T_DOUBLE_ARROW","=>",1667],["T_WHITESPACE"," ",1667],"(",["T_ISSET","isset",1667],"(",["T_VARIABLE","$this",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","request",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","post",1667],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_type'",1667],"]",")",["T_WHITESPACE"," ",1667],"?",["T_WHITESPACE"," ",1667],["T_VARIABLE","$this",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","request",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","post",1667],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_type'",1667],"]",["T_WHITESPACE"," ",1667],":",["T_WHITESPACE"," ",1667],["T_CONSTANT_ENCAPSED_STRING","''",1667],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1667],["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1668],["T_WHITESPACE","        ",1668],["T_DOUBLE_ARROW","=>",1668],["T_WHITESPACE"," ",1668],"(",["T_ISSET","isset",1668],"(",["T_VARIABLE","$this",1668],["T_OBJECT_OPERATOR","->",1668],["T_STRING","request",1668],["T_OBJECT_OPERATOR","->",1668],["T_STRING","post",1668],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1668],"]",")",["T_WHITESPACE"," ",1668],"?",["T_WHITESPACE"," ",1668],["T_VARIABLE","$this",1668],["T_OBJECT_OPERATOR","->",1668],["T_STRING","request",1668],["T_OBJECT_OPERATOR","->",1668],["T_STRING","post",1668],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1668],"]",["T_WHITESPACE"," ",1668],":",["T_WHITESPACE"," ",1668],["T_CONSTANT_ENCAPSED_STRING","''",1668],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1668],["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1669],["T_WHITESPACE","        ",1669],["T_DOUBLE_ARROW","=>",1669],["T_WHITESPACE"," ",1669],"(",["T_ISSET","isset",1669],"(",["T_VARIABLE","$this",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","request",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","post",1669],"[",["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1669],"]",")",["T_WHITESPACE"," ",1669],"?",["T_WHITESPACE"," ",1669],["T_VARIABLE","$this",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","request",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","post",1669],"[",["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1669],"]",["T_WHITESPACE"," ",1669],":",["T_WHITESPACE"," ",1669],["T_CONSTANT_ENCAPSED_STRING","''",1669],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1669],["T_CONSTANT_ENCAPSED_STRING","'amount'",1670],["T_WHITESPACE","                ",1670],["T_DOUBLE_ARROW","=>",1670],["T_WHITESPACE"," ",1670],["T_VARIABLE","$this",1670],["T_OBJECT_OPERATOR","->",1670],["T_STRING","request",1670],["T_OBJECT_OPERATOR","->",1670],["T_STRING","post",1670],"[",["T_CONSTANT_ENCAPSED_STRING","'mc_gross'",1670],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1670],["T_CONSTANT_ENCAPSED_STRING","'debug_data'",1671],["T_WHITESPACE","            ",1671],["T_DOUBLE_ARROW","=>",1671],["T_WHITESPACE"," ",1671],["T_STRING","json_encode",1671],"(",["T_VARIABLE","$this",1671],["T_OBJECT_OPERATOR","->",1671],["T_STRING","request",1671],["T_OBJECT_OPERATOR","->",1671],["T_STRING","post",1671],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",1671],["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1672],["T_WHITESPACE","    ",1672],["T_DOUBLE_ARROW","=>",1672],["T_WHITESPACE"," ",1672],"(",["T_ISSET","isset",1672],"(",["T_VARIABLE","$this",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","request",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","post",1672],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1672],"]",")",["T_WHITESPACE"," ",1672],"?",["T_WHITESPACE"," ",1672],["T_VARIABLE","$this",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","request",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","post",1672],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1672],"]",["T_WHITESPACE"," ",1672],":",["T_WHITESPACE"," ",1672],["T_CONSTANT_ENCAPSED_STRING","''",1672],")",["T_WHITESPACE","\n\t\t\t\t\t",1672],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1673],["T_VARIABLE","$this",1675],["T_OBJECT_OPERATOR","->",1675],["T_STRING","model_extension_payment_pp_express",1675],["T_OBJECT_OPERATOR","->",1675],["T_STRING","addTransaction",1675],"(",["T_VARIABLE","$transaction",1675],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1675],["T_DOC_COMMENT","\/**\n\t\t\t\t\t * If there has been a refund, log this against the parent transaction.\n\t\t\t\t\t *\/",1677],["T_WHITESPACE","\n\t\t\t\t\t",1679],["T_IF","if",1680],["T_WHITESPACE"," ",1680],"(",["T_ISSET","isset",1680],"(",["T_VARIABLE","$this",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","request",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","post",1680],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1680],"]",")",["T_WHITESPACE"," ",1680],["T_BOOLEAN_AND","&&",1680],["T_WHITESPACE"," ",1680],["T_VARIABLE","$this",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","request",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","post",1680],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1680],"]",["T_WHITESPACE"," ",1680],["T_IS_EQUAL","==",1680],["T_WHITESPACE"," ",1680],["T_CONSTANT_ENCAPSED_STRING","'Refunded'",1680],")",["T_WHITESPACE"," ",1680],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1680],["T_IF","if",1681],["T_WHITESPACE"," ",1681],"(","(",["T_VARIABLE","$this",1681],["T_OBJECT_OPERATOR","->",1681],["T_STRING","request",1681],["T_OBJECT_OPERATOR","->",1681],["T_STRING","post",1681],"[",["T_CONSTANT_ENCAPSED_STRING","'mc_gross'",1681],"]",["T_WHITESPACE"," ",1681],"*",["T_WHITESPACE"," ",1681],"-",["T_LNUMBER","1",1681],")",["T_WHITESPACE"," ",1681],["T_IS_EQUAL","==",1681],["T_WHITESPACE"," ",1681],["T_VARIABLE","$parent_transaction",1681],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",1681],"]",")",["T_WHITESPACE"," ",1681],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1681],["T_VARIABLE","$this",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","db",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","query",1682],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1682],["T_WHITESPACE"," ",1682],".",["T_WHITESPACE"," ",1682],["T_STRING","DB_PREFIX",1682],["T_WHITESPACE"," ",1682],".",["T_WHITESPACE"," ",1682],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` SET `payment_status` = 'Refunded' WHERE `transaction_id` = '\"",1682],["T_WHITESPACE"," ",1682],".",["T_WHITESPACE"," ",1682],["T_VARIABLE","$this",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","db",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","escape",1682],"(",["T_VARIABLE","$parent_transaction",1682],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1682],"]",")",["T_WHITESPACE"," ",1682],".",["T_WHITESPACE"," ",1682],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1682],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1682],"}",["T_WHITESPACE"," ",1683],["T_ELSE","else",1683],["T_WHITESPACE"," ",1683],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1683],["T_VARIABLE","$this",1684],["T_OBJECT_OPERATOR","->",1684],["T_STRING","db",1684],["T_OBJECT_OPERATOR","->",1684],["T_STRING","query",1684],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1684],["T_WHITESPACE"," ",1684],".",["T_WHITESPACE"," ",1684],["T_STRING","DB_PREFIX",1684],["T_WHITESPACE"," ",1684],".",["T_WHITESPACE"," ",1684],["T_CONSTANT_ENCAPSED_STRING","\"paypal_order_transaction` SET `payment_status` = 'Partially-Refunded' WHERE `transaction_id` = '\"",1684],["T_WHITESPACE"," ",1684],".",["T_WHITESPACE"," ",1684],["T_VARIABLE","$this",1684],["T_OBJECT_OPERATOR","->",1684],["T_STRING","db",1684],["T_OBJECT_OPERATOR","->",1684],["T_STRING","escape",1684],"(",["T_VARIABLE","$parent_transaction",1684],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1684],"]",")",["T_WHITESPACE"," ",1684],".",["T_WHITESPACE"," ",1684],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1684],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1684],"}",["T_WHITESPACE","\n\t\t\t\t\t",1685],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",1686],["T_DOC_COMMENT","\/**\n\t\t\t\t\t * If the capture payment is now complete\n\t\t\t\t\t *\/",1688],["T_WHITESPACE","\n\t\t\t\t\t",1690],["T_IF","if",1691],["T_WHITESPACE"," ",1691],"(",["T_ISSET","isset",1691],"(",["T_VARIABLE","$this",1691],["T_OBJECT_OPERATOR","->",1691],["T_STRING","request",1691],["T_OBJECT_OPERATOR","->",1691],["T_STRING","post",1691],"[",["T_CONSTANT_ENCAPSED_STRING","'auth_status'",1691],"]",")",["T_WHITESPACE"," ",1691],["T_BOOLEAN_AND","&&",1691],["T_WHITESPACE"," ",1691],["T_VARIABLE","$this",1691],["T_OBJECT_OPERATOR","->",1691],["T_STRING","request",1691],["T_OBJECT_OPERATOR","->",1691],["T_STRING","post",1691],"[",["T_CONSTANT_ENCAPSED_STRING","'auth_status'",1691],"]",["T_WHITESPACE"," ",1691],["T_IS_EQUAL","==",1691],["T_WHITESPACE"," ",1691],["T_CONSTANT_ENCAPSED_STRING","'Completed'",1691],["T_WHITESPACE"," ",1691],["T_BOOLEAN_AND","&&",1691],["T_WHITESPACE"," ",1691],["T_VARIABLE","$parent_transaction",1691],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1691],"]",["T_WHITESPACE"," ",1691],["T_IS_EQUAL","==",1691],["T_WHITESPACE"," ",1691],["T_CONSTANT_ENCAPSED_STRING","'Pending'",1691],")",["T_WHITESPACE"," ",1691],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1691],["T_VARIABLE","$captured",1692],["T_WHITESPACE"," ",1692],"=",["T_WHITESPACE"," ",1692],["T_VARIABLE","$this",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","currency",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","format",1692],"(",["T_VARIABLE","$this",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","model_extension_payment_pp_express",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","getTotalCaptured",1692],"(",["T_VARIABLE","$parent_transaction",1692],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1692],"]",")",",",["T_WHITESPACE"," ",1692],["T_VARIABLE","$this",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","session",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","data",1692],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1692],"]",",",["T_WHITESPACE"," ",1692],["T_STRING","false",1692],",",["T_WHITESPACE"," ",1692],["T_STRING","false",1692],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1692],["T_VARIABLE","$refunded",1693],["T_WHITESPACE"," ",1693],"=",["T_WHITESPACE"," ",1693],["T_VARIABLE","$this",1693],["T_OBJECT_OPERATOR","->",1693],["T_STRING","currency",1693],["T_OBJECT_OPERATOR","->",1693],["T_STRING","format",1693],"(",["T_VARIABLE","$this",1693],["T_OBJECT_OPERATOR","->",1693],["T_STRING","model_extension_payment_pp_express",1693],["T_OBJECT_OPERATOR","->",1693],["T_STRING","getRefundedTotal",1693],"(",["T_VARIABLE","$parent_transaction",1693],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1693],"]",")",",",["T_WHITESPACE"," ",1693],["T_VARIABLE","$this",1693],["T_OBJECT_OPERATOR","->",1693],["T_STRING","session",1693],["T_OBJECT_OPERATOR","->",1693],["T_STRING","data",1693],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1693],"]",",",["T_WHITESPACE"," ",1693],["T_STRING","false",1693],",",["T_WHITESPACE"," ",1693],["T_STRING","false",1693],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1693],["T_VARIABLE","$remaining",1694],["T_WHITESPACE"," ",1694],"=",["T_WHITESPACE"," ",1694],["T_VARIABLE","$this",1694],["T_OBJECT_OPERATOR","->",1694],["T_STRING","currency",1694],["T_OBJECT_OPERATOR","->",1694],["T_STRING","format",1694],"(",["T_VARIABLE","$parent_transaction",1694],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",1694],"]",["T_WHITESPACE"," ",1694],"-",["T_WHITESPACE"," ",1694],["T_VARIABLE","$captured",1694],["T_WHITESPACE"," ",1694],"+",["T_WHITESPACE"," ",1694],["T_VARIABLE","$refunded",1694],",",["T_WHITESPACE"," ",1694],["T_VARIABLE","$this",1694],["T_OBJECT_OPERATOR","->",1694],["T_STRING","session",1694],["T_OBJECT_OPERATOR","->",1694],["T_STRING","data",1694],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",1694],"]",",",["T_WHITESPACE"," ",1694],["T_STRING","false",1694],",",["T_WHITESPACE"," ",1694],["T_STRING","false",1694],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1694],["T_VARIABLE","$this",1696],["T_OBJECT_OPERATOR","->",1696],["T_STRING","model_extension_payment_pp_express",1696],["T_OBJECT_OPERATOR","->",1696],["T_STRING","log",1696],"(",["T_CONSTANT_ENCAPSED_STRING","'Captured: '",1696],["T_WHITESPACE"," ",1696],".",["T_WHITESPACE"," ",1696],["T_VARIABLE","$captured",1696],",",["T_WHITESPACE"," ",1696],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1696],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1696],["T_VARIABLE","$this",1697],["T_OBJECT_OPERATOR","->",1697],["T_STRING","model_extension_payment_pp_express",1697],["T_OBJECT_OPERATOR","->",1697],["T_STRING","log",1697],"(",["T_CONSTANT_ENCAPSED_STRING","'Refunded: '",1697],["T_WHITESPACE"," ",1697],".",["T_WHITESPACE"," ",1697],["T_VARIABLE","$refunded",1697],",",["T_WHITESPACE"," ",1697],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1697],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1697],["T_VARIABLE","$this",1698],["T_OBJECT_OPERATOR","->",1698],["T_STRING","model_extension_payment_pp_express",1698],["T_OBJECT_OPERATOR","->",1698],["T_STRING","log",1698],"(",["T_CONSTANT_ENCAPSED_STRING","'Remaining: '",1698],["T_WHITESPACE"," ",1698],".",["T_WHITESPACE"," ",1698],["T_VARIABLE","$remaining",1698],",",["T_WHITESPACE"," ",1698],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1698],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1698],["T_IF","if",1700],["T_WHITESPACE"," ",1700],"(",["T_VARIABLE","$remaining",1700],["T_WHITESPACE"," ",1700],">",["T_WHITESPACE"," ",1700],["T_DNUMBER","0.00",1700],")",["T_WHITESPACE"," ",1700],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1700],["T_VARIABLE","$transaction",1701],["T_WHITESPACE"," ",1701],"=",["T_WHITESPACE"," ",1701],["T_ARRAY","array",1701],"(",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1701],["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1702],["T_WHITESPACE","       ",1702],["T_DOUBLE_ARROW","=>",1702],["T_WHITESPACE"," ",1702],["T_VARIABLE","$parent_transaction",1702],"[",["T_CONSTANT_ENCAPSED_STRING","'paypal_order_id'",1702],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1702],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1703],["T_WHITESPACE","        ",1703],["T_DOUBLE_ARROW","=>",1703],["T_WHITESPACE"," ",1703],["T_CONSTANT_ENCAPSED_STRING","''",1703],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1703],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1704],["T_WHITESPACE"," ",1704],["T_DOUBLE_ARROW","=>",1704],["T_WHITESPACE"," ",1704],["T_VARIABLE","$this",1704],["T_OBJECT_OPERATOR","->",1704],["T_STRING","request",1704],["T_OBJECT_OPERATOR","->",1704],["T_STRING","post",1704],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_txn_id'",1704],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1704],["T_CONSTANT_ENCAPSED_STRING","'note'",1705],["T_WHITESPACE","                  ",1705],["T_DOUBLE_ARROW","=>",1705],["T_WHITESPACE"," ",1705],["T_CONSTANT_ENCAPSED_STRING","''",1705],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1705],["T_CONSTANT_ENCAPSED_STRING","'msgsubid'",1706],["T_WHITESPACE","              ",1706],["T_DOUBLE_ARROW","=>",1706],["T_WHITESPACE"," ",1706],["T_CONSTANT_ENCAPSED_STRING","''",1706],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1706],["T_CONSTANT_ENCAPSED_STRING","'receipt_id'",1707],["T_WHITESPACE","            ",1707],["T_DOUBLE_ARROW","=>",1707],["T_WHITESPACE"," ",1707],["T_CONSTANT_ENCAPSED_STRING","''",1707],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1707],["T_CONSTANT_ENCAPSED_STRING","'payment_type'",1708],["T_WHITESPACE","          ",1708],["T_DOUBLE_ARROW","=>",1708],["T_WHITESPACE"," ",1708],["T_CONSTANT_ENCAPSED_STRING","''",1708],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1708],["T_CONSTANT_ENCAPSED_STRING","'payment_status'",1709],["T_WHITESPACE","        ",1709],["T_DOUBLE_ARROW","=>",1709],["T_WHITESPACE"," ",1709],["T_CONSTANT_ENCAPSED_STRING","'Void'",1709],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1709],["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",1710],["T_WHITESPACE","        ",1710],["T_DOUBLE_ARROW","=>",1710],["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","''",1710],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1710],["T_CONSTANT_ENCAPSED_STRING","'amount'",1711],["T_WHITESPACE","                ",1711],["T_DOUBLE_ARROW","=>",1711],["T_WHITESPACE"," ",1711],["T_CONSTANT_ENCAPSED_STRING","''",1711],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1711],["T_CONSTANT_ENCAPSED_STRING","'debug_data'",1712],["T_WHITESPACE","            ",1712],["T_DOUBLE_ARROW","=>",1712],["T_WHITESPACE"," ",1712],["T_CONSTANT_ENCAPSED_STRING","'Voided after capture'",1712],",",["T_WHITESPACE","\n\t\t\t\t\t\t\t\t",1712],["T_CONSTANT_ENCAPSED_STRING","'transaction_entity'",1713],["T_WHITESPACE","    ",1713],["T_DOUBLE_ARROW","=>",1713],["T_WHITESPACE"," ",1713],["T_CONSTANT_ENCAPSED_STRING","'auth'",1713],["T_WHITESPACE","\n\t\t\t\t\t\t\t",1713],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t\t",1714],["T_VARIABLE","$this",1716],["T_OBJECT_OPERATOR","->",1716],["T_STRING","model_extension_payment_pp_express",1716],["T_OBJECT_OPERATOR","->",1716],["T_STRING","addTransaction",1716],"(",["T_VARIABLE","$transaction",1716],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1716],"}",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1717],["T_VARIABLE","$this",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","model_extension_payment_pp_express",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","updateOrder",1719],"(",["T_CONSTANT_ENCAPSED_STRING","'Complete'",1719],",",["T_WHITESPACE"," ",1719],["T_VARIABLE","$parent_transaction",1719],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1719],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",1719],"}",["T_WHITESPACE","\n\n\t\t\t\t",1720],"}",["T_WHITESPACE"," ",1722],["T_ELSE","else",1722],["T_WHITESPACE"," ",1722],"{",["T_WHITESPACE","\n\t\t\t\t\t",1722],["T_COMMENT","\/\/parent transaction doesn't exists, need to investigate?\n",1723],["T_WHITESPACE","\t\t\t\t\t",1724],["T_VARIABLE","$this",1724],["T_OBJECT_OPERATOR","->",1724],["T_STRING","model_extension_payment_pp_express",1724],["T_OBJECT_OPERATOR","->",1724],["T_STRING","log",1724],"(",["T_CONSTANT_ENCAPSED_STRING","'Parent transaction not found'",1724],",",["T_WHITESPACE"," ",1724],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1724],")",";",["T_WHITESPACE","\n\t\t\t\t",1724],"}",["T_WHITESPACE","\n\t\t\t",1725],"}",["T_WHITESPACE","\n\n\t\t\t",1726],["T_COMMENT","\/*\n\t\t\t * Subscription payments\n\t\t\t *\n\t\t\t * recurring ID should always exist if its a recurring payment transaction.\n\t\t\t *\n\t\t\t * also the reference will match a recurring payment ID\n\t\t\t *\/",1728],["T_WHITESPACE","\n\t\t\t",1734],["T_IF","if",1735],["T_WHITESPACE"," ",1735],"(",["T_ISSET","isset",1735],"(",["T_VARIABLE","$this",1735],["T_OBJECT_OPERATOR","->",1735],["T_STRING","request",1735],["T_OBJECT_OPERATOR","->",1735],["T_STRING","post",1735],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1735],"]",")",")",["T_WHITESPACE"," ",1735],"{",["T_WHITESPACE","\n\t\t\t\t",1735],["T_VARIABLE","$this",1736],["T_OBJECT_OPERATOR","->",1736],["T_STRING","model_extension_payment_pp_express",1736],["T_OBJECT_OPERATOR","->",1736],["T_STRING","log",1736],"(",["T_VARIABLE","$this",1736],["T_OBJECT_OPERATOR","->",1736],["T_STRING","request",1736],["T_OBJECT_OPERATOR","->",1736],["T_STRING","post",1736],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1736],"]",",",["T_WHITESPACE"," ",1736],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1736],")",";",["T_WHITESPACE","\n\n\t\t\t\t",1736],["T_COMMENT","\/\/payment\n",1738],["T_WHITESPACE","\t\t\t\t",1739],["T_IF","if",1739],["T_WHITESPACE"," ",1739],"(",["T_VARIABLE","$this",1739],["T_OBJECT_OPERATOR","->",1739],["T_STRING","request",1739],["T_OBJECT_OPERATOR","->",1739],["T_STRING","post",1739],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1739],"]",["T_WHITESPACE"," ",1739],["T_IS_EQUAL","==",1739],["T_WHITESPACE"," ",1739],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment'",1739],")",["T_WHITESPACE"," ",1739],"{",["T_WHITESPACE","\n\t\t\t\t\t",1739],["T_VARIABLE","$recurring",1740],["T_WHITESPACE"," ",1740],"=",["T_WHITESPACE"," ",1740],["T_VARIABLE","$this",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","model_account_recurring",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","getOrderRecurringByReference",1740],"(",["T_VARIABLE","$this",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","request",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","post",1740],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1740],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1740],["T_VARIABLE","$this",1742],["T_OBJECT_OPERATOR","->",1742],["T_STRING","model_extension_payment_pp_express",1742],["T_OBJECT_OPERATOR","->",1742],["T_STRING","log",1742],"(",["T_VARIABLE","$recurring",1742],",",["T_WHITESPACE"," ",1742],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1742],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1742],["T_IF","if",1744],["T_WHITESPACE"," ",1744],"(",["T_VARIABLE","$recurring",1744],["T_WHITESPACE"," ",1744],["T_IS_NOT_EQUAL","!=",1744],["T_WHITESPACE"," ",1744],["T_STRING","false",1744],")",["T_WHITESPACE"," ",1744],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1744],["T_VARIABLE","$this",1745],["T_OBJECT_OPERATOR","->",1745],["T_STRING","db",1745],["T_OBJECT_OPERATOR","->",1745],["T_STRING","query",1745],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1745],["T_WHITESPACE"," ",1745],".",["T_WHITESPACE"," ",1745],["T_STRING","DB_PREFIX",1745],["T_WHITESPACE"," ",1745],".",["T_WHITESPACE"," ",1745],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1745],["T_WHITESPACE"," ",1745],".",["T_WHITESPACE"," ",1745],["T_INT_CAST","(int)",1745],["T_VARIABLE","$recurring",1745],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1745],"]",["T_WHITESPACE"," ",1745],".",["T_WHITESPACE"," ",1745],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `amount` = '\"",1745],["T_WHITESPACE"," ",1745],".",["T_WHITESPACE"," ",1745],["T_DOUBLE_CAST","(float)",1745],["T_VARIABLE","$this",1745],["T_OBJECT_OPERATOR","->",1745],["T_STRING","request",1745],["T_OBJECT_OPERATOR","->",1745],["T_STRING","post",1745],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",1745],"]",["T_WHITESPACE"," ",1745],".",["T_WHITESPACE"," ",1745],["T_CONSTANT_ENCAPSED_STRING","\"', `type` = '1'\"",1745],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1745],["T_COMMENT","\/\/as there was a payment the recurring is active, ensure it is set to active (may be been suspended before)\n",1747],["T_WHITESPACE","\t\t\t\t\t\t",1748],["T_IF","if",1748],["T_WHITESPACE"," ",1748],"(",["T_VARIABLE","$recurring",1748],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1748],"]",["T_WHITESPACE"," ",1748],["T_IS_NOT_EQUAL","!=",1748],["T_WHITESPACE"," ",1748],["T_LNUMBER","1",1748],")",["T_WHITESPACE"," ",1748],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1748],["T_VARIABLE","$this",1749],["T_OBJECT_OPERATOR","->",1749],["T_STRING","db",1749],["T_OBJECT_OPERATOR","->",1749],["T_STRING","query",1749],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1749],["T_WHITESPACE"," ",1749],".",["T_WHITESPACE"," ",1749],["T_STRING","DB_PREFIX",1749],["T_WHITESPACE"," ",1749],".",["T_WHITESPACE"," ",1749],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring` SET `status` = 2 WHERE `order_recurring_id` = '\"",1749],["T_WHITESPACE"," ",1749],".",["T_WHITESPACE"," ",1749],["T_INT_CAST","(int)",1749],["T_VARIABLE","$recurring",1749],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1749],"]",["T_WHITESPACE"," ",1749],".",["T_WHITESPACE"," ",1749],["T_CONSTANT_ENCAPSED_STRING","\"'\"",1749],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1749],"}",["T_WHITESPACE","\n\t\t\t\t\t",1750],"}",["T_WHITESPACE","\n\t\t\t\t",1751],"}",["T_WHITESPACE","\n\n\t\t\t\t",1752],["T_COMMENT","\/\/suspend\n",1754],["T_WHITESPACE","\t\t\t\t",1755],["T_IF","if",1755],["T_WHITESPACE"," ",1755],"(",["T_VARIABLE","$this",1755],["T_OBJECT_OPERATOR","->",1755],["T_STRING","request",1755],["T_OBJECT_OPERATOR","->",1755],["T_STRING","post",1755],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1755],"]",["T_WHITESPACE"," ",1755],["T_IS_EQUAL","==",1755],["T_WHITESPACE"," ",1755],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_suspended'",1755],")",["T_WHITESPACE"," ",1755],"{",["T_WHITESPACE","\n\t\t\t\t\t",1755],["T_VARIABLE","$recurring",1756],["T_WHITESPACE"," ",1756],"=",["T_WHITESPACE"," ",1756],["T_VARIABLE","$this",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","model_account_recurring",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","getOrderRecurringByReference",1756],"(",["T_VARIABLE","$this",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","request",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","post",1756],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1756],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1756],["T_IF","if",1758],["T_WHITESPACE"," ",1758],"(",["T_VARIABLE","$recurring",1758],["T_WHITESPACE"," ",1758],["T_IS_NOT_EQUAL","!=",1758],["T_WHITESPACE"," ",1758],["T_STRING","false",1758],")",["T_WHITESPACE"," ",1758],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1758],["T_VARIABLE","$this",1759],["T_OBJECT_OPERATOR","->",1759],["T_STRING","db",1759],["T_OBJECT_OPERATOR","->",1759],["T_STRING","query",1759],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1759],["T_WHITESPACE"," ",1759],".",["T_WHITESPACE"," ",1759],["T_STRING","DB_PREFIX",1759],["T_WHITESPACE"," ",1759],".",["T_WHITESPACE"," ",1759],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1759],["T_WHITESPACE"," ",1759],".",["T_WHITESPACE"," ",1759],["T_INT_CAST","(int)",1759],["T_VARIABLE","$recurring",1759],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1759],"]",["T_WHITESPACE"," ",1759],".",["T_WHITESPACE"," ",1759],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '6'\"",1759],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1759],["T_VARIABLE","$this",1760],["T_OBJECT_OPERATOR","->",1760],["T_STRING","db",1760],["T_OBJECT_OPERATOR","->",1760],["T_STRING","query",1760],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1760],["T_WHITESPACE"," ",1760],".",["T_WHITESPACE"," ",1760],["T_STRING","DB_PREFIX",1760],["T_WHITESPACE"," ",1760],".",["T_WHITESPACE"," ",1760],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring` SET `status` = 3 WHERE `order_recurring_id` = '\"",1760],["T_WHITESPACE"," ",1760],".",["T_WHITESPACE"," ",1760],["T_INT_CAST","(int)",1760],["T_VARIABLE","$recurring",1760],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1760],"]",["T_WHITESPACE"," ",1760],".",["T_WHITESPACE"," ",1760],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1760],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1760],"}",["T_WHITESPACE","\n\t\t\t\t",1761],"}",["T_WHITESPACE","\n\n\t\t\t\t",1762],["T_COMMENT","\/\/suspend due to max failed\n",1764],["T_WHITESPACE","\t\t\t\t",1765],["T_IF","if",1765],["T_WHITESPACE"," ",1765],"(",["T_VARIABLE","$this",1765],["T_OBJECT_OPERATOR","->",1765],["T_STRING","request",1765],["T_OBJECT_OPERATOR","->",1765],["T_STRING","post",1765],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1765],"]",["T_WHITESPACE"," ",1765],["T_IS_EQUAL","==",1765],["T_WHITESPACE"," ",1765],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_suspended_due_to_max_failed_payment'",1765],")",["T_WHITESPACE"," ",1765],"{",["T_WHITESPACE","\n\t\t\t\t\t",1765],["T_VARIABLE","$recurring",1766],["T_WHITESPACE"," ",1766],"=",["T_WHITESPACE"," ",1766],["T_VARIABLE","$this",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","model_account_recurring",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","getOrderRecurringByReference",1766],"(",["T_VARIABLE","$this",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","request",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","post",1766],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1766],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1766],["T_IF","if",1768],["T_WHITESPACE"," ",1768],"(",["T_VARIABLE","$recurring",1768],["T_WHITESPACE"," ",1768],["T_IS_NOT_EQUAL","!=",1768],["T_WHITESPACE"," ",1768],["T_STRING","false",1768],")",["T_WHITESPACE"," ",1768],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1768],["T_VARIABLE","$this",1769],["T_OBJECT_OPERATOR","->",1769],["T_STRING","db",1769],["T_OBJECT_OPERATOR","->",1769],["T_STRING","query",1769],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1769],["T_WHITESPACE"," ",1769],".",["T_WHITESPACE"," ",1769],["T_STRING","DB_PREFIX",1769],["T_WHITESPACE"," ",1769],".",["T_WHITESPACE"," ",1769],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1769],["T_WHITESPACE"," ",1769],".",["T_WHITESPACE"," ",1769],["T_INT_CAST","(int)",1769],["T_VARIABLE","$recurring",1769],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1769],"]",["T_WHITESPACE"," ",1769],".",["T_WHITESPACE"," ",1769],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '7'\"",1769],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1769],["T_VARIABLE","$this",1770],["T_OBJECT_OPERATOR","->",1770],["T_STRING","db",1770],["T_OBJECT_OPERATOR","->",1770],["T_STRING","query",1770],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1770],["T_WHITESPACE"," ",1770],".",["T_WHITESPACE"," ",1770],["T_STRING","DB_PREFIX",1770],["T_WHITESPACE"," ",1770],".",["T_WHITESPACE"," ",1770],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring` SET `status` = 3 WHERE `order_recurring_id` = '\"",1770],["T_WHITESPACE"," ",1770],".",["T_WHITESPACE"," ",1770],["T_INT_CAST","(int)",1770],["T_VARIABLE","$recurring",1770],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1770],"]",["T_WHITESPACE"," ",1770],".",["T_WHITESPACE"," ",1770],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1770],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1770],"}",["T_WHITESPACE","\n\t\t\t\t",1771],"}",["T_WHITESPACE","\n\n\t\t\t\t",1772],["T_COMMENT","\/\/payment failed\n",1774],["T_WHITESPACE","\t\t\t\t",1775],["T_IF","if",1775],["T_WHITESPACE"," ",1775],"(",["T_VARIABLE","$this",1775],["T_OBJECT_OPERATOR","->",1775],["T_STRING","request",1775],["T_OBJECT_OPERATOR","->",1775],["T_STRING","post",1775],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1775],"]",["T_WHITESPACE"," ",1775],["T_IS_EQUAL","==",1775],["T_WHITESPACE"," ",1775],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_failed'",1775],")",["T_WHITESPACE"," ",1775],"{",["T_WHITESPACE","\n\t\t\t\t\t",1775],["T_VARIABLE","$recurring",1776],["T_WHITESPACE"," ",1776],"=",["T_WHITESPACE"," ",1776],["T_VARIABLE","$this",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","model_account_recurring",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","getOrderRecurringByReference",1776],"(",["T_VARIABLE","$this",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","request",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","post",1776],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1776],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1776],["T_IF","if",1778],["T_WHITESPACE"," ",1778],"(",["T_VARIABLE","$recurring",1778],["T_WHITESPACE"," ",1778],["T_IS_NOT_EQUAL","!=",1778],["T_WHITESPACE"," ",1778],["T_STRING","false",1778],")",["T_WHITESPACE"," ",1778],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1778],["T_VARIABLE","$this",1779],["T_OBJECT_OPERATOR","->",1779],["T_STRING","db",1779],["T_OBJECT_OPERATOR","->",1779],["T_STRING","query",1779],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1779],["T_WHITESPACE"," ",1779],".",["T_WHITESPACE"," ",1779],["T_STRING","DB_PREFIX",1779],["T_WHITESPACE"," ",1779],".",["T_WHITESPACE"," ",1779],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1779],["T_WHITESPACE"," ",1779],".",["T_WHITESPACE"," ",1779],["T_INT_CAST","(int)",1779],["T_VARIABLE","$recurring",1779],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1779],"]",["T_WHITESPACE"," ",1779],".",["T_WHITESPACE"," ",1779],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '4'\"",1779],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1779],"}",["T_WHITESPACE","\n\t\t\t\t",1780],"}",["T_WHITESPACE","\n\n\t\t\t\t",1781],["T_COMMENT","\/\/outstanding payment failed\n",1783],["T_WHITESPACE","\t\t\t\t",1784],["T_IF","if",1784],["T_WHITESPACE"," ",1784],"(",["T_VARIABLE","$this",1784],["T_OBJECT_OPERATOR","->",1784],["T_STRING","request",1784],["T_OBJECT_OPERATOR","->",1784],["T_STRING","post",1784],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1784],"]",["T_WHITESPACE"," ",1784],["T_IS_EQUAL","==",1784],["T_WHITESPACE"," ",1784],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_outstanding_payment_failed'",1784],")",["T_WHITESPACE"," ",1784],"{",["T_WHITESPACE","\n\t\t\t\t\t",1784],["T_VARIABLE","$recurring",1785],["T_WHITESPACE"," ",1785],"=",["T_WHITESPACE"," ",1785],["T_VARIABLE","$this",1785],["T_OBJECT_OPERATOR","->",1785],["T_STRING","model_account_recurring",1785],["T_OBJECT_OPERATOR","->",1785],["T_STRING","getOrderRecurringByReference",1785],"(",["T_VARIABLE","$this",1785],["T_OBJECT_OPERATOR","->",1785],["T_STRING","request",1785],["T_OBJECT_OPERATOR","->",1785],["T_STRING","post",1785],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1785],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1785],["T_IF","if",1787],["T_WHITESPACE"," ",1787],"(",["T_VARIABLE","$recurring",1787],["T_WHITESPACE"," ",1787],["T_IS_NOT_EQUAL","!=",1787],["T_WHITESPACE"," ",1787],["T_STRING","false",1787],")",["T_WHITESPACE"," ",1787],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1787],["T_VARIABLE","$this",1788],["T_OBJECT_OPERATOR","->",1788],["T_STRING","db",1788],["T_OBJECT_OPERATOR","->",1788],["T_STRING","query",1788],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1788],["T_WHITESPACE"," ",1788],".",["T_WHITESPACE"," ",1788],["T_STRING","DB_PREFIX",1788],["T_WHITESPACE"," ",1788],".",["T_WHITESPACE"," ",1788],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1788],["T_WHITESPACE"," ",1788],".",["T_WHITESPACE"," ",1788],["T_INT_CAST","(int)",1788],["T_VARIABLE","$recurring",1788],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1788],"]",["T_WHITESPACE"," ",1788],".",["T_WHITESPACE"," ",1788],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '8'\"",1788],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1788],"}",["T_WHITESPACE","\n\t\t\t\t",1789],"}",["T_WHITESPACE","\n\n\t\t\t\t",1790],["T_COMMENT","\/\/outstanding payment\n",1792],["T_WHITESPACE","\t\t\t\t",1793],["T_IF","if",1793],["T_WHITESPACE"," ",1793],"(",["T_VARIABLE","$this",1793],["T_OBJECT_OPERATOR","->",1793],["T_STRING","request",1793],["T_OBJECT_OPERATOR","->",1793],["T_STRING","post",1793],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1793],"]",["T_WHITESPACE"," ",1793],["T_IS_EQUAL","==",1793],["T_WHITESPACE"," ",1793],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_outstanding_payment'",1793],")",["T_WHITESPACE"," ",1793],"{",["T_WHITESPACE","\n\t\t\t\t\t",1793],["T_VARIABLE","$recurring",1794],["T_WHITESPACE"," ",1794],"=",["T_WHITESPACE"," ",1794],["T_VARIABLE","$this",1794],["T_OBJECT_OPERATOR","->",1794],["T_STRING","model_account_recurring",1794],["T_OBJECT_OPERATOR","->",1794],["T_STRING","getOrderRecurringByReference",1794],"(",["T_VARIABLE","$this",1794],["T_OBJECT_OPERATOR","->",1794],["T_STRING","request",1794],["T_OBJECT_OPERATOR","->",1794],["T_STRING","post",1794],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1794],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1794],["T_IF","if",1796],["T_WHITESPACE"," ",1796],"(",["T_VARIABLE","$recurring",1796],["T_WHITESPACE"," ",1796],["T_IS_NOT_EQUAL","!=",1796],["T_WHITESPACE"," ",1796],["T_STRING","false",1796],")",["T_WHITESPACE"," ",1796],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1796],["T_VARIABLE","$this",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","db",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","query",1797],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1797],["T_WHITESPACE"," ",1797],".",["T_WHITESPACE"," ",1797],["T_STRING","DB_PREFIX",1797],["T_WHITESPACE"," ",1797],".",["T_WHITESPACE"," ",1797],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1797],["T_WHITESPACE"," ",1797],".",["T_WHITESPACE"," ",1797],["T_INT_CAST","(int)",1797],["T_VARIABLE","$recurring",1797],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1797],"]",["T_WHITESPACE"," ",1797],".",["T_WHITESPACE"," ",1797],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `amount` = '\"",1797],["T_WHITESPACE"," ",1797],".",["T_WHITESPACE"," ",1797],["T_DOUBLE_CAST","(float)",1797],["T_VARIABLE","$this",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","request",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","post",1797],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",1797],"]",["T_WHITESPACE"," ",1797],".",["T_WHITESPACE"," ",1797],["T_CONSTANT_ENCAPSED_STRING","\"', `type` = '2'\"",1797],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1797],["T_COMMENT","\/\/as there was a payment the recurring is active, ensure it is set to active (may be been suspended before)\n",1799],["T_WHITESPACE","\t\t\t\t\t\t",1800],["T_IF","if",1800],["T_WHITESPACE"," ",1800],"(",["T_VARIABLE","$recurring",1800],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1800],"]",["T_WHITESPACE"," ",1800],["T_IS_NOT_EQUAL","!=",1800],["T_WHITESPACE"," ",1800],["T_LNUMBER","1",1800],")",["T_WHITESPACE"," ",1800],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1800],["T_VARIABLE","$this",1801],["T_OBJECT_OPERATOR","->",1801],["T_STRING","db",1801],["T_OBJECT_OPERATOR","->",1801],["T_STRING","query",1801],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1801],["T_WHITESPACE"," ",1801],".",["T_WHITESPACE"," ",1801],["T_STRING","DB_PREFIX",1801],["T_WHITESPACE"," ",1801],".",["T_WHITESPACE"," ",1801],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring` SET `status` = 2 WHERE `order_recurring_id` = '\"",1801],["T_WHITESPACE"," ",1801],".",["T_WHITESPACE"," ",1801],["T_INT_CAST","(int)",1801],["T_VARIABLE","$recurring",1801],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1801],"]",["T_WHITESPACE"," ",1801],".",["T_WHITESPACE"," ",1801],["T_CONSTANT_ENCAPSED_STRING","\"'\"",1801],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1801],"}",["T_WHITESPACE","\n\t\t\t\t\t",1802],"}",["T_WHITESPACE","\n\t\t\t\t",1803],"}",["T_WHITESPACE","\n\n\t\t\t\t",1804],["T_COMMENT","\/\/date_added\n",1806],["T_WHITESPACE","\t\t\t\t",1807],["T_IF","if",1807],["T_WHITESPACE"," ",1807],"(",["T_VARIABLE","$this",1807],["T_OBJECT_OPERATOR","->",1807],["T_STRING","request",1807],["T_OBJECT_OPERATOR","->",1807],["T_STRING","post",1807],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1807],"]",["T_WHITESPACE"," ",1807],["T_IS_EQUAL","==",1807],["T_WHITESPACE"," ",1807],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_recurring_date_added'",1807],")",["T_WHITESPACE"," ",1807],"{",["T_WHITESPACE","\n\t\t\t\t\t",1807],["T_VARIABLE","$recurring",1808],["T_WHITESPACE"," ",1808],"=",["T_WHITESPACE"," ",1808],["T_VARIABLE","$this",1808],["T_OBJECT_OPERATOR","->",1808],["T_STRING","model_account_recurring",1808],["T_OBJECT_OPERATOR","->",1808],["T_STRING","getOrderRecurringByReference",1808],"(",["T_VARIABLE","$this",1808],["T_OBJECT_OPERATOR","->",1808],["T_STRING","request",1808],["T_OBJECT_OPERATOR","->",1808],["T_STRING","post",1808],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1808],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1808],["T_IF","if",1810],["T_WHITESPACE"," ",1810],"(",["T_VARIABLE","$recurring",1810],["T_WHITESPACE"," ",1810],["T_IS_NOT_EQUAL","!=",1810],["T_WHITESPACE"," ",1810],["T_STRING","false",1810],")",["T_WHITESPACE"," ",1810],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1810],["T_VARIABLE","$this",1811],["T_OBJECT_OPERATOR","->",1811],["T_STRING","db",1811],["T_OBJECT_OPERATOR","->",1811],["T_STRING","query",1811],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1811],["T_WHITESPACE"," ",1811],".",["T_WHITESPACE"," ",1811],["T_STRING","DB_PREFIX",1811],["T_WHITESPACE"," ",1811],".",["T_WHITESPACE"," ",1811],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1811],["T_WHITESPACE"," ",1811],".",["T_WHITESPACE"," ",1811],["T_INT_CAST","(int)",1811],["T_VARIABLE","$recurring",1811],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1811],"]",["T_WHITESPACE"," ",1811],".",["T_WHITESPACE"," ",1811],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '0'\"",1811],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",1811],["T_IF","if",1813],["T_WHITESPACE"," ",1813],"(",["T_VARIABLE","$recurring",1813],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1813],"]",["T_WHITESPACE"," ",1813],["T_IS_NOT_EQUAL","!=",1813],["T_WHITESPACE"," ",1813],["T_LNUMBER","1",1813],")",["T_WHITESPACE"," ",1813],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",1813],["T_VARIABLE","$this",1814],["T_OBJECT_OPERATOR","->",1814],["T_STRING","db",1814],["T_OBJECT_OPERATOR","->",1814],["T_STRING","query",1814],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1814],["T_WHITESPACE"," ",1814],".",["T_WHITESPACE"," ",1814],["T_STRING","DB_PREFIX",1814],["T_WHITESPACE"," ",1814],".",["T_WHITESPACE"," ",1814],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring` SET `status` = 2 WHERE `order_recurring_id` = '\"",1814],["T_WHITESPACE"," ",1814],".",["T_WHITESPACE"," ",1814],["T_INT_CAST","(int)",1814],["T_VARIABLE","$recurring",1814],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1814],"]",["T_WHITESPACE"," ",1814],".",["T_WHITESPACE"," ",1814],["T_CONSTANT_ENCAPSED_STRING","\"'\"",1814],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1814],"}",["T_WHITESPACE","\n\t\t\t\t\t",1815],"}",["T_WHITESPACE","\n\t\t\t\t",1816],"}",["T_WHITESPACE","\n\n\t\t\t\t",1817],["T_COMMENT","\/\/cancelled\n",1819],["T_WHITESPACE","\t\t\t\t",1820],["T_IF","if",1820],["T_WHITESPACE"," ",1820],"(",["T_VARIABLE","$this",1820],["T_OBJECT_OPERATOR","->",1820],["T_STRING","request",1820],["T_OBJECT_OPERATOR","->",1820],["T_STRING","post",1820],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1820],"]",["T_WHITESPACE"," ",1820],["T_IS_EQUAL","==",1820],["T_WHITESPACE"," ",1820],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_recurring_cancel'",1820],")",["T_WHITESPACE"," ",1820],"{",["T_WHITESPACE","\n\t\t\t\t\t",1820],["T_VARIABLE","$recurring",1821],["T_WHITESPACE"," ",1821],"=",["T_WHITESPACE"," ",1821],["T_VARIABLE","$this",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","model_account_recurring",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","getOrderRecurringByReference",1821],"(",["T_VARIABLE","$this",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","request",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","post",1821],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1821],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1821],["T_IF","if",1823],["T_WHITESPACE"," ",1823],"(",["T_VARIABLE","$recurring",1823],["T_WHITESPACE"," ",1823],["T_IS_NOT_EQUAL","!=",1823],["T_WHITESPACE"," ",1823],["T_STRING","false",1823],["T_WHITESPACE"," ",1823],["T_BOOLEAN_AND","&&",1823],["T_WHITESPACE"," ",1823],["T_VARIABLE","$recurring",1823],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1823],"]",["T_WHITESPACE"," ",1823],["T_IS_NOT_EQUAL","!=",1823],["T_WHITESPACE"," ",1823],["T_LNUMBER","3",1823],")",["T_WHITESPACE"," ",1823],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1823],["T_VARIABLE","$this",1824],["T_OBJECT_OPERATOR","->",1824],["T_STRING","db",1824],["T_OBJECT_OPERATOR","->",1824],["T_STRING","query",1824],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1824],["T_WHITESPACE"," ",1824],".",["T_WHITESPACE"," ",1824],["T_STRING","DB_PREFIX",1824],["T_WHITESPACE"," ",1824],".",["T_WHITESPACE"," ",1824],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1824],["T_WHITESPACE"," ",1824],".",["T_WHITESPACE"," ",1824],["T_INT_CAST","(int)",1824],["T_VARIABLE","$recurring",1824],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1824],"]",["T_WHITESPACE"," ",1824],".",["T_WHITESPACE"," ",1824],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '5'\"",1824],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1824],["T_VARIABLE","$this",1825],["T_OBJECT_OPERATOR","->",1825],["T_STRING","db",1825],["T_OBJECT_OPERATOR","->",1825],["T_STRING","query",1825],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1825],["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_STRING","DB_PREFIX",1825],["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring` SET `status` = 4 WHERE `order_recurring_id` = '\"",1825],["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_INT_CAST","(int)",1825],["T_VARIABLE","$recurring",1825],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1825],"]",["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1825],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1825],"}",["T_WHITESPACE","\n\t\t\t\t",1826],"}",["T_WHITESPACE","\n\n\t\t\t\t",1827],["T_COMMENT","\/\/skipped\n",1829],["T_WHITESPACE","\t\t\t\t",1830],["T_IF","if",1830],["T_WHITESPACE"," ",1830],"(",["T_VARIABLE","$this",1830],["T_OBJECT_OPERATOR","->",1830],["T_STRING","request",1830],["T_OBJECT_OPERATOR","->",1830],["T_STRING","post",1830],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1830],"]",["T_WHITESPACE"," ",1830],["T_IS_EQUAL","==",1830],["T_WHITESPACE"," ",1830],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_skipped'",1830],")",["T_WHITESPACE"," ",1830],"{",["T_WHITESPACE","\n\t\t\t\t\t",1830],["T_VARIABLE","$recurring",1831],["T_WHITESPACE"," ",1831],"=",["T_WHITESPACE"," ",1831],["T_VARIABLE","$this",1831],["T_OBJECT_OPERATOR","->",1831],["T_STRING","model_account_recurring",1831],["T_OBJECT_OPERATOR","->",1831],["T_STRING","getOrderRecurringByReference",1831],"(",["T_VARIABLE","$this",1831],["T_OBJECT_OPERATOR","->",1831],["T_STRING","request",1831],["T_OBJECT_OPERATOR","->",1831],["T_STRING","post",1831],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1831],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1831],["T_IF","if",1833],["T_WHITESPACE"," ",1833],"(",["T_VARIABLE","$recurring",1833],["T_WHITESPACE"," ",1833],["T_IS_NOT_EQUAL","!=",1833],["T_WHITESPACE"," ",1833],["T_STRING","false",1833],")",["T_WHITESPACE"," ",1833],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1833],["T_VARIABLE","$this",1834],["T_OBJECT_OPERATOR","->",1834],["T_STRING","db",1834],["T_OBJECT_OPERATOR","->",1834],["T_STRING","query",1834],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1834],["T_WHITESPACE"," ",1834],".",["T_WHITESPACE"," ",1834],["T_STRING","DB_PREFIX",1834],["T_WHITESPACE"," ",1834],".",["T_WHITESPACE"," ",1834],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1834],["T_WHITESPACE"," ",1834],".",["T_WHITESPACE"," ",1834],["T_INT_CAST","(int)",1834],["T_VARIABLE","$recurring",1834],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1834],"]",["T_WHITESPACE"," ",1834],".",["T_WHITESPACE"," ",1834],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '3'\"",1834],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1834],"}",["T_WHITESPACE","\n\t\t\t\t",1835],"}",["T_WHITESPACE","\n\n\t\t\t\t",1836],["T_COMMENT","\/\/expired\n",1838],["T_WHITESPACE","\t\t\t\t",1839],["T_IF","if",1839],["T_WHITESPACE"," ",1839],"(",["T_VARIABLE","$this",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","request",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","post",1839],"[",["T_CONSTANT_ENCAPSED_STRING","'txn_type'",1839],"]",["T_WHITESPACE"," ",1839],["T_IS_EQUAL","==",1839],["T_WHITESPACE"," ",1839],["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_expired'",1839],")",["T_WHITESPACE"," ",1839],"{",["T_WHITESPACE","\n\t\t\t\t\t",1839],["T_VARIABLE","$recurring",1840],["T_WHITESPACE"," ",1840],"=",["T_WHITESPACE"," ",1840],["T_VARIABLE","$this",1840],["T_OBJECT_OPERATOR","->",1840],["T_STRING","model_account_recurring",1840],["T_OBJECT_OPERATOR","->",1840],["T_STRING","getOrderRecurringByReference",1840],"(",["T_VARIABLE","$this",1840],["T_OBJECT_OPERATOR","->",1840],["T_STRING","request",1840],["T_OBJECT_OPERATOR","->",1840],["T_STRING","post",1840],"[",["T_CONSTANT_ENCAPSED_STRING","'recurring_payment_id'",1840],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",1840],["T_IF","if",1842],["T_WHITESPACE"," ",1842],"(",["T_VARIABLE","$recurring",1842],["T_WHITESPACE"," ",1842],["T_IS_NOT_EQUAL","!=",1842],["T_WHITESPACE"," ",1842],["T_STRING","false",1842],")",["T_WHITESPACE"," ",1842],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",1842],["T_VARIABLE","$this",1843],["T_OBJECT_OPERATOR","->",1843],["T_STRING","db",1843],["T_OBJECT_OPERATOR","->",1843],["T_STRING","query",1843],"(",["T_CONSTANT_ENCAPSED_STRING","\"INSERT INTO `\"",1843],["T_WHITESPACE"," ",1843],".",["T_WHITESPACE"," ",1843],["T_STRING","DB_PREFIX",1843],["T_WHITESPACE"," ",1843],".",["T_WHITESPACE"," ",1843],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring_transaction` SET `order_recurring_id` = '\"",1843],["T_WHITESPACE"," ",1843],".",["T_WHITESPACE"," ",1843],["T_INT_CAST","(int)",1843],["T_VARIABLE","$recurring",1843],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1843],"]",["T_WHITESPACE"," ",1843],".",["T_WHITESPACE"," ",1843],["T_CONSTANT_ENCAPSED_STRING","\"', `date_added` = NOW(), `type` = '9'\"",1843],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",1843],["T_VARIABLE","$this",1844],["T_OBJECT_OPERATOR","->",1844],["T_STRING","db",1844],["T_OBJECT_OPERATOR","->",1844],["T_STRING","query",1844],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE `\"",1844],["T_WHITESPACE"," ",1844],".",["T_WHITESPACE"," ",1844],["T_STRING","DB_PREFIX",1844],["T_WHITESPACE"," ",1844],".",["T_WHITESPACE"," ",1844],["T_CONSTANT_ENCAPSED_STRING","\"order_recurring` SET `status` = 5 WHERE `order_recurring_id` = '\"",1844],["T_WHITESPACE"," ",1844],".",["T_WHITESPACE"," ",1844],["T_INT_CAST","(int)",1844],["T_VARIABLE","$recurring",1844],"[",["T_CONSTANT_ENCAPSED_STRING","'order_recurring_id'",1844],"]",["T_WHITESPACE"," ",1844],".",["T_WHITESPACE"," ",1844],["T_CONSTANT_ENCAPSED_STRING","\"' LIMIT 1\"",1844],")",";",["T_WHITESPACE","\n\t\t\t\t\t",1844],"}",["T_WHITESPACE","\n\t\t\t\t",1845],"}",["T_WHITESPACE","\n\t\t\t",1846],"}",["T_WHITESPACE","\n\t\t",1847],"}",["T_WHITESPACE"," ",1848],["T_ELSEIF","elseif",1848],["T_WHITESPACE"," ",1848],"(",["T_STRING_CAST","(string)",1848],["T_VARIABLE","$response",1848],["T_WHITESPACE"," ",1848],["T_IS_EQUAL","==",1848],["T_WHITESPACE"," ",1848],["T_CONSTANT_ENCAPSED_STRING","\"INVALID\"",1848],")",["T_WHITESPACE"," ",1848],"{",["T_WHITESPACE","\n\t\t\t",1848],["T_VARIABLE","$this",1849],["T_OBJECT_OPERATOR","->",1849],["T_STRING","model_extension_payment_pp_express",1849],["T_OBJECT_OPERATOR","->",1849],["T_STRING","log",1849],"(",["T_ARRAY","array",1849],"(",["T_CONSTANT_ENCAPSED_STRING","'IPN was invalid'",1849],")",",",["T_WHITESPACE"," ",1849],["T_CONSTANT_ENCAPSED_STRING","'IPN fail'",1849],")",";",["T_WHITESPACE","\n\t\t",1849],"}",["T_WHITESPACE"," ",1850],["T_ELSE","else",1850],["T_WHITESPACE"," ",1850],"{",["T_WHITESPACE","\n\t\t\t",1850],["T_VARIABLE","$this",1851],["T_OBJECT_OPERATOR","->",1851],["T_STRING","model_extension_payment_pp_express",1851],["T_OBJECT_OPERATOR","->",1851],["T_STRING","log",1851],"(",["T_CONSTANT_ENCAPSED_STRING","'Response string unknown: '",1851],["T_WHITESPACE"," ",1851],".",["T_WHITESPACE"," ",1851],["T_STRING_CAST","(string)",1851],["T_VARIABLE","$response",1851],",",["T_WHITESPACE"," ",1851],["T_CONSTANT_ENCAPSED_STRING","'IPN data'",1851],")",";",["T_WHITESPACE","\n\t\t",1851],"}",["T_WHITESPACE","\n\n\t\t",1852],["T_STRING","header",1854],"(",["T_CONSTANT_ENCAPSED_STRING","\"HTTP\/1.1 200 Ok\"",1854],")",";",["T_WHITESPACE","\n\t",1854],"}",["T_WHITESPACE","\n\n\t",1855],["T_PUBLIC","public",1857],["T_WHITESPACE"," ",1857],["T_FUNCTION","function",1857],["T_WHITESPACE"," ",1857],["T_STRING","shipping",1857],"(",")",["T_WHITESPACE"," ",1857],"{",["T_WHITESPACE","\n\t\t",1857],["T_VARIABLE","$this",1858],["T_OBJECT_OPERATOR","->",1858],["T_STRING","shippingValidate",1858],"(",["T_VARIABLE","$this",1858],["T_OBJECT_OPERATOR","->",1858],["T_STRING","request",1858],["T_OBJECT_OPERATOR","->",1858],["T_STRING","post",1858],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",1858],"]",")",";",["T_WHITESPACE","\n\n\t\t",1858],["T_VARIABLE","$this",1860],["T_OBJECT_OPERATOR","->",1860],["T_STRING","response",1860],["T_OBJECT_OPERATOR","->",1860],["T_STRING","redirect",1860],"(",["T_VARIABLE","$this",1860],["T_OBJECT_OPERATOR","->",1860],["T_STRING","url",1860],["T_OBJECT_OPERATOR","->",1860],["T_STRING","link",1860],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express\/expressConfirm'",1860],")",")",";",["T_WHITESPACE","\n\t",1860],"}",["T_WHITESPACE","\n\n\t",1861],["T_PROTECTED","protected",1863],["T_WHITESPACE"," ",1863],["T_FUNCTION","function",1863],["T_WHITESPACE"," ",1863],["T_STRING","shippingValidate",1863],"(",["T_VARIABLE","$code",1863],")",["T_WHITESPACE"," ",1863],"{",["T_WHITESPACE","\n\t\t",1863],["T_VARIABLE","$this",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","load",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","language",1864],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",1864],")",";",["T_WHITESPACE","\n\t\t",1864],["T_VARIABLE","$this",1865],["T_OBJECT_OPERATOR","->",1865],["T_STRING","load",1865],["T_OBJECT_OPERATOR","->",1865],["T_STRING","language",1865],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/pp_express'",1865],")",";",["T_WHITESPACE","\n\n\t\t",1865],["T_IF","if",1867],["T_WHITESPACE"," ",1867],"(",["T_EMPTY","empty",1867],"(",["T_VARIABLE","$code",1867],")",")",["T_WHITESPACE"," ",1867],"{",["T_WHITESPACE","\n\t\t\t",1867],["T_VARIABLE","$this",1868],["T_OBJECT_OPERATOR","->",1868],["T_STRING","session",1868],["T_OBJECT_OPERATOR","->",1868],["T_STRING","data",1868],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",1868],"]",["T_WHITESPACE"," ",1868],"=",["T_WHITESPACE"," ",1868],["T_VARIABLE","$this",1868],["T_OBJECT_OPERATOR","->",1868],["T_STRING","language",1868],["T_OBJECT_OPERATOR","->",1868],["T_STRING","get",1868],"(",["T_CONSTANT_ENCAPSED_STRING","'error_shipping'",1868],")",";",["T_WHITESPACE","\n\t\t\t",1868],["T_RETURN","return",1869],["T_WHITESPACE"," ",1869],["T_STRING","false",1869],";",["T_WHITESPACE","\n\t\t",1869],"}",["T_WHITESPACE"," ",1870],["T_ELSE","else",1870],["T_WHITESPACE"," ",1870],"{",["T_WHITESPACE","\n\t\t\t",1870],["T_VARIABLE","$shipping",1871],["T_WHITESPACE"," ",1871],"=",["T_WHITESPACE"," ",1871],["T_STRING","explode",1871],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",1871],",",["T_WHITESPACE"," ",1871],["T_VARIABLE","$code",1871],")",";",["T_WHITESPACE","\n\n\t\t\t",1871],["T_IF","if",1873],["T_WHITESPACE"," ",1873],"(","!",["T_ISSET","isset",1873],"(",["T_VARIABLE","$shipping",1873],"[",["T_LNUMBER","0",1873],"]",")",["T_WHITESPACE"," ",1873],["T_BOOLEAN_OR","||",1873],["T_WHITESPACE"," ",1873],"!",["T_ISSET","isset",1873],"(",["T_VARIABLE","$shipping",1873],"[",["T_LNUMBER","1",1873],"]",")",["T_WHITESPACE"," ",1873],["T_BOOLEAN_OR","||",1873],["T_WHITESPACE"," ",1873],"!",["T_ISSET","isset",1873],"(",["T_VARIABLE","$this",1873],["T_OBJECT_OPERATOR","->",1873],["T_STRING","session",1873],["T_OBJECT_OPERATOR","->",1873],["T_STRING","data",1873],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",1873],"]","[",["T_VARIABLE","$shipping",1873],"[",["T_LNUMBER","0",1873],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'quote'",1873],"]","[",["T_VARIABLE","$shipping",1873],"[",["T_LNUMBER","1",1873],"]","]",")",")",["T_WHITESPACE"," ",1873],"{",["T_WHITESPACE","\n\t\t\t\t",1873],["T_VARIABLE","$this",1874],["T_OBJECT_OPERATOR","->",1874],["T_STRING","session",1874],["T_OBJECT_OPERATOR","->",1874],["T_STRING","data",1874],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",1874],"]",["T_WHITESPACE"," ",1874],"=",["T_WHITESPACE"," ",1874],["T_VARIABLE","$this",1874],["T_OBJECT_OPERATOR","->",1874],["T_STRING","language",1874],["T_OBJECT_OPERATOR","->",1874],["T_STRING","get",1874],"(",["T_CONSTANT_ENCAPSED_STRING","'error_shipping'",1874],")",";",["T_WHITESPACE","\n\t\t\t\t",1874],["T_RETURN","return",1875],["T_WHITESPACE"," ",1875],["T_STRING","false",1875],";",["T_WHITESPACE","\n\t\t\t",1875],"}",["T_WHITESPACE"," ",1876],["T_ELSE","else",1876],["T_WHITESPACE"," ",1876],"{",["T_WHITESPACE","\n\t\t\t\t",1876],["T_VARIABLE","$this",1877],["T_OBJECT_OPERATOR","->",1877],["T_STRING","session",1877],["T_OBJECT_OPERATOR","->",1877],["T_STRING","data",1877],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",1877],"]",["T_WHITESPACE"," ",1877],"=",["T_WHITESPACE"," ",1877],["T_VARIABLE","$this",1877],["T_OBJECT_OPERATOR","->",1877],["T_STRING","session",1877],["T_OBJECT_OPERATOR","->",1877],["T_STRING","data",1877],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_methods'",1877],"]","[",["T_VARIABLE","$shipping",1877],"[",["T_LNUMBER","0",1877],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'quote'",1877],"]","[",["T_VARIABLE","$shipping",1877],"[",["T_LNUMBER","1",1877],"]","]",";",["T_WHITESPACE","\n\t\t\t\t",1877],["T_VARIABLE","$this",1878],["T_OBJECT_OPERATOR","->",1878],["T_STRING","session",1878],["T_OBJECT_OPERATOR","->",1878],["T_STRING","data",1878],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",1878],"]",["T_WHITESPACE"," ",1878],"=",["T_WHITESPACE"," ",1878],["T_VARIABLE","$this",1878],["T_OBJECT_OPERATOR","->",1878],["T_STRING","language",1878],["T_OBJECT_OPERATOR","->",1878],["T_STRING","get",1878],"(",["T_CONSTANT_ENCAPSED_STRING","'text_shipping_updated'",1878],")",";",["T_WHITESPACE","\n\t\t\t\t",1878],["T_RETURN","return",1879],["T_WHITESPACE"," ",1879],["T_STRING","true",1879],";",["T_WHITESPACE","\n\t\t\t",1879],"}",["T_WHITESPACE","\n\t\t",1880],"}",["T_WHITESPACE","\n\t",1881],"}",["T_WHITESPACE","\n\n\t",1882],["T_PROTECTED","protected",1884],["T_WHITESPACE"," ",1884],["T_FUNCTION","function",1884],["T_WHITESPACE"," ",1884],["T_STRING","validateCoupon",1884],"(",")",["T_WHITESPACE"," ",1884],"{",["T_WHITESPACE","\n\t\t",1884],["T_VARIABLE","$this",1885],["T_OBJECT_OPERATOR","->",1885],["T_STRING","load",1885],["T_OBJECT_OPERATOR","->",1885],["T_STRING","model",1885],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/coupon'",1885],")",";",["T_WHITESPACE","\n\n\t\t",1885],["T_VARIABLE","$coupon_info",1887],["T_WHITESPACE"," ",1887],"=",["T_WHITESPACE"," ",1887],["T_VARIABLE","$this",1887],["T_OBJECT_OPERATOR","->",1887],["T_STRING","model_extension_total_coupon",1887],["T_OBJECT_OPERATOR","->",1887],["T_STRING","getCoupon",1887],"(",["T_VARIABLE","$this",1887],["T_OBJECT_OPERATOR","->",1887],["T_STRING","request",1887],["T_OBJECT_OPERATOR","->",1887],["T_STRING","post",1887],"[",["T_CONSTANT_ENCAPSED_STRING","'coupon'",1887],"]",")",";",["T_WHITESPACE","\n\n\t\t",1887],["T_IF","if",1889],["T_WHITESPACE"," ",1889],"(",["T_VARIABLE","$coupon_info",1889],")",["T_WHITESPACE"," ",1889],"{",["T_WHITESPACE","\n\t\t\t",1889],["T_RETURN","return",1890],["T_WHITESPACE"," ",1890],["T_STRING","true",1890],";",["T_WHITESPACE","\n\t\t",1890],"}",["T_WHITESPACE"," ",1891],["T_ELSE","else",1891],["T_WHITESPACE"," ",1891],"{",["T_WHITESPACE","\n\t\t\t",1891],["T_VARIABLE","$this",1892],["T_OBJECT_OPERATOR","->",1892],["T_STRING","session",1892],["T_OBJECT_OPERATOR","->",1892],["T_STRING","data",1892],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",1892],"]",["T_WHITESPACE"," ",1892],"=",["T_WHITESPACE"," ",1892],["T_VARIABLE","$this",1892],["T_OBJECT_OPERATOR","->",1892],["T_STRING","language",1892],["T_OBJECT_OPERATOR","->",1892],["T_STRING","get",1892],"(",["T_CONSTANT_ENCAPSED_STRING","'error_coupon'",1892],")",";",["T_WHITESPACE","\n\t\t\t",1892],["T_RETURN","return",1893],["T_WHITESPACE"," ",1893],["T_STRING","false",1893],";",["T_WHITESPACE","\n\t\t",1893],"}",["T_WHITESPACE","\n\t",1894],"}",["T_WHITESPACE","\n\n\t",1895],["T_PROTECTED","protected",1897],["T_WHITESPACE"," ",1897],["T_FUNCTION","function",1897],["T_WHITESPACE"," ",1897],["T_STRING","validateVoucher",1897],"(",")",["T_WHITESPACE"," ",1897],"{",["T_WHITESPACE","\n\t\t",1897],["T_VARIABLE","$this",1898],["T_OBJECT_OPERATOR","->",1898],["T_STRING","load",1898],["T_OBJECT_OPERATOR","->",1898],["T_STRING","model",1898],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/coupon'",1898],")",";",["T_WHITESPACE","\n\n\t\t",1898],["T_VARIABLE","$voucher_info",1900],["T_WHITESPACE"," ",1900],"=",["T_WHITESPACE"," ",1900],["T_VARIABLE","$this",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","model_extension_total_voucher",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","getVoucher",1900],"(",["T_VARIABLE","$this",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","request",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","post",1900],"[",["T_CONSTANT_ENCAPSED_STRING","'voucher'",1900],"]",")",";",["T_WHITESPACE","\n\n\t\t",1900],["T_IF","if",1902],["T_WHITESPACE"," ",1902],"(",["T_VARIABLE","$voucher_info",1902],")",["T_WHITESPACE"," ",1902],"{",["T_WHITESPACE","\n\t\t\t",1902],["T_RETURN","return",1903],["T_WHITESPACE"," ",1903],["T_STRING","true",1903],";",["T_WHITESPACE","\n\t\t",1903],"}",["T_WHITESPACE"," ",1904],["T_ELSE","else",1904],["T_WHITESPACE"," ",1904],"{",["T_WHITESPACE","\n\t\t\t",1904],["T_VARIABLE","$this",1905],["T_OBJECT_OPERATOR","->",1905],["T_STRING","session",1905],["T_OBJECT_OPERATOR","->",1905],["T_STRING","data",1905],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",1905],"]",["T_WHITESPACE"," ",1905],"=",["T_WHITESPACE"," ",1905],["T_VARIABLE","$this",1905],["T_OBJECT_OPERATOR","->",1905],["T_STRING","language",1905],["T_OBJECT_OPERATOR","->",1905],["T_STRING","get",1905],"(",["T_CONSTANT_ENCAPSED_STRING","'error_voucher'",1905],")",";",["T_WHITESPACE","\n\t\t\t",1905],["T_RETURN","return",1906],["T_WHITESPACE"," ",1906],["T_STRING","false",1906],";",["T_WHITESPACE","\n\t\t",1906],"}",["T_WHITESPACE","\n\t",1907],"}",["T_WHITESPACE","\n\n\t",1908],["T_PROTECTED","protected",1910],["T_WHITESPACE"," ",1910],["T_FUNCTION","function",1910],["T_WHITESPACE"," ",1910],["T_STRING","validateReward",1910],"(",")",["T_WHITESPACE"," ",1910],"{",["T_WHITESPACE","\n\t\t",1910],["T_VARIABLE","$points",1911],["T_WHITESPACE"," ",1911],"=",["T_WHITESPACE"," ",1911],["T_VARIABLE","$this",1911],["T_OBJECT_OPERATOR","->",1911],["T_STRING","customer",1911],["T_OBJECT_OPERATOR","->",1911],["T_STRING","getRewardPoints",1911],"(",")",";",["T_WHITESPACE","\n\n\t\t",1911],["T_VARIABLE","$points_total",1913],["T_WHITESPACE"," ",1913],"=",["T_WHITESPACE"," ",1913],["T_LNUMBER","0",1913],";",["T_WHITESPACE","\n\n\t\t",1913],["T_FOREACH","foreach",1915],["T_WHITESPACE"," ",1915],"(",["T_VARIABLE","$this",1915],["T_OBJECT_OPERATOR","->",1915],["T_STRING","cart",1915],["T_OBJECT_OPERATOR","->",1915],["T_STRING","getProducts",1915],"(",")",["T_WHITESPACE"," ",1915],["T_AS","as",1915],["T_WHITESPACE"," ",1915],["T_VARIABLE","$product",1915],")",["T_WHITESPACE"," ",1915],"{",["T_WHITESPACE","\n\t\t\t",1915],["T_IF","if",1916],["T_WHITESPACE"," ",1916],"(",["T_VARIABLE","$product",1916],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",1916],"]",")",["T_WHITESPACE"," ",1916],"{",["T_WHITESPACE","\n\t\t\t\t",1916],["T_VARIABLE","$points_total",1917],["T_WHITESPACE"," ",1917],["T_PLUS_EQUAL","+=",1917],["T_WHITESPACE"," ",1917],["T_VARIABLE","$product",1917],"[",["T_CONSTANT_ENCAPSED_STRING","'points'",1917],"]",";",["T_WHITESPACE","\n\t\t\t",1917],"}",["T_WHITESPACE","\n\t\t",1918],"}",["T_WHITESPACE","\n\n\t\t",1919],["T_VARIABLE","$error",1921],["T_WHITESPACE"," ",1921],"=",["T_WHITESPACE"," ",1921],["T_CONSTANT_ENCAPSED_STRING","''",1921],";",["T_WHITESPACE","\n\n\t\t",1921],["T_IF","if",1923],["T_WHITESPACE"," ",1923],"(",["T_EMPTY","empty",1923],"(",["T_VARIABLE","$this",1923],["T_OBJECT_OPERATOR","->",1923],["T_STRING","request",1923],["T_OBJECT_OPERATOR","->",1923],["T_STRING","post",1923],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",1923],"]",")",")",["T_WHITESPACE"," ",1923],"{",["T_WHITESPACE","\n\t\t\t",1923],["T_VARIABLE","$error",1924],["T_WHITESPACE"," ",1924],"=",["T_WHITESPACE"," ",1924],["T_VARIABLE","$this",1924],["T_OBJECT_OPERATOR","->",1924],["T_STRING","language",1924],["T_OBJECT_OPERATOR","->",1924],["T_STRING","get",1924],"(",["T_CONSTANT_ENCAPSED_STRING","'error_reward'",1924],")",";",["T_WHITESPACE","\n\t\t",1924],"}",["T_WHITESPACE","\n\n\t\t",1925],["T_IF","if",1927],["T_WHITESPACE"," ",1927],"(",["T_VARIABLE","$this",1927],["T_OBJECT_OPERATOR","->",1927],["T_STRING","request",1927],["T_OBJECT_OPERATOR","->",1927],["T_STRING","post",1927],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",1927],"]",["T_WHITESPACE"," ",1927],">",["T_WHITESPACE"," ",1927],["T_VARIABLE","$points",1927],")",["T_WHITESPACE"," ",1927],"{",["T_WHITESPACE","\n\t\t\t",1927],["T_VARIABLE","$error",1928],["T_WHITESPACE"," ",1928],"=",["T_WHITESPACE"," ",1928],["T_STRING","sprintf",1928],"(",["T_VARIABLE","$this",1928],["T_OBJECT_OPERATOR","->",1928],["T_STRING","language",1928],["T_OBJECT_OPERATOR","->",1928],["T_STRING","get",1928],"(",["T_CONSTANT_ENCAPSED_STRING","'error_points'",1928],")",",",["T_WHITESPACE"," ",1928],["T_VARIABLE","$this",1928],["T_OBJECT_OPERATOR","->",1928],["T_STRING","request",1928],["T_OBJECT_OPERATOR","->",1928],["T_STRING","post",1928],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",1928],"]",")",";",["T_WHITESPACE","\n\t\t",1928],"}",["T_WHITESPACE","\n\n\t\t",1929],["T_IF","if",1931],["T_WHITESPACE"," ",1931],"(",["T_VARIABLE","$this",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","request",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","post",1931],"[",["T_CONSTANT_ENCAPSED_STRING","'reward'",1931],"]",["T_WHITESPACE"," ",1931],">",["T_WHITESPACE"," ",1931],["T_VARIABLE","$points_total",1931],")",["T_WHITESPACE"," ",1931],"{",["T_WHITESPACE","\n\t\t\t",1931],["T_VARIABLE","$error",1932],["T_WHITESPACE"," ",1932],"=",["T_WHITESPACE"," ",1932],["T_STRING","sprintf",1932],"(",["T_VARIABLE","$this",1932],["T_OBJECT_OPERATOR","->",1932],["T_STRING","language",1932],["T_OBJECT_OPERATOR","->",1932],["T_STRING","get",1932],"(",["T_CONSTANT_ENCAPSED_STRING","'error_maximum'",1932],")",",",["T_WHITESPACE"," ",1932],["T_VARIABLE","$points_total",1932],")",";",["T_WHITESPACE","\n\t\t",1932],"}",["T_WHITESPACE","\n\n\t\t",1933],["T_IF","if",1935],["T_WHITESPACE"," ",1935],"(","!",["T_VARIABLE","$error",1935],")",["T_WHITESPACE"," ",1935],"{",["T_WHITESPACE","\n\t\t\t",1935],["T_RETURN","return",1936],["T_WHITESPACE"," ",1936],["T_STRING","true",1936],";",["T_WHITESPACE","\n\t\t",1936],"}",["T_WHITESPACE"," ",1937],["T_ELSE","else",1937],["T_WHITESPACE"," ",1937],"{",["T_WHITESPACE","\n\t\t\t",1937],["T_VARIABLE","$this",1938],["T_OBJECT_OPERATOR","->",1938],["T_STRING","session",1938],["T_OBJECT_OPERATOR","->",1938],["T_STRING","data",1938],"[",["T_CONSTANT_ENCAPSED_STRING","'error_warning'",1938],"]",["T_WHITESPACE"," ",1938],"=",["T_WHITESPACE"," ",1938],["T_VARIABLE","$error",1938],";",["T_WHITESPACE","\n\t\t\t",1938],["T_RETURN","return",1939],["T_WHITESPACE"," ",1939],["T_STRING","false",1939],";",["T_WHITESPACE","\n\t\t",1939],"}",["T_WHITESPACE","\n\t",1940],"}",["T_WHITESPACE","\n",1941],"}"]