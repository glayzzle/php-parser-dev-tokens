[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerExtensionPaymentRealexRemote",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$data",6],"[",["T_CONSTANT_ENCAPSED_STRING","'text_credit_card'",6],"]",["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","language",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'text_credit_card'",6],")",";",["T_WHITESPACE","\n\t\t",6],["T_VARIABLE","$data",7],"[",["T_CONSTANT_ENCAPSED_STRING","'text_loading'",7],"]",["T_WHITESPACE"," ",7],"=",["T_WHITESPACE"," ",7],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","language",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'text_loading'",7],")",";",["T_WHITESPACE","\n\t\t",7],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'text_wait'",8],"]",["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","language",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'text_wait'",8],")",";",["T_WHITESPACE","\n\t\t",8],["T_VARIABLE","$data",9],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_type'",9],"]",["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","language",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","get",9],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_type'",9],")",";",["T_WHITESPACE","\n\t\t",9],["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_number'",10],"]",["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","language",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","get",10],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_number'",10],")",";",["T_WHITESPACE","\n\t\t",10],["T_VARIABLE","$data",11],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_name'",11],"]",["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_VARIABLE","$this",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","language",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","get",11],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_name'",11],")",";",["T_WHITESPACE","\n\t\t",11],["T_VARIABLE","$data",12],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_expire_date'",12],"]",["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","language",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_expire_date'",12],")",";",["T_WHITESPACE","\n\t\t",12],["T_VARIABLE","$data",13],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_cvv2'",13],"]",["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","language",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","get",13],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_cvv2'",13],")",";",["T_WHITESPACE","\n\t\t",13],["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_issue'",14],"]",["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","language",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","get",14],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_issue'",14],")",";",["T_WHITESPACE","\n\t\t",14],["T_VARIABLE","$data",15],"[",["T_CONSTANT_ENCAPSED_STRING","'help_start_date'",15],"]",["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","language",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","get",15],"(",["T_CONSTANT_ENCAPSED_STRING","'help_start_date'",15],")",";",["T_WHITESPACE","\n\t\t",15],["T_VARIABLE","$data",16],"[",["T_CONSTANT_ENCAPSED_STRING","'help_issue'",16],"]",["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","language",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","get",16],"(",["T_CONSTANT_ENCAPSED_STRING","'help_issue'",16],")",";",["T_WHITESPACE","\n\t\t",16],["T_VARIABLE","$data",17],"[",["T_CONSTANT_ENCAPSED_STRING","'button_confirm'",17],"]",["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","language",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","get",17],"(",["T_CONSTANT_ENCAPSED_STRING","'button_confirm'",17],")",";",["T_WHITESPACE","\n\n\t\t",17],["T_VARIABLE","$accounts",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","config",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","get",19],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_account'",19],")",";",["T_WHITESPACE","\n\n\t\t",19],["T_VARIABLE","$card_types",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n\t\t\t",21],["T_CONSTANT_ENCAPSED_STRING","'visa'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","language",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_visa'",22],")",",",["T_WHITESPACE","\n\t\t\t",22],["T_CONSTANT_ENCAPSED_STRING","'mc'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","language",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","get",23],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_mc'",23],")",",",["T_WHITESPACE","\n\t\t\t",23],["T_CONSTANT_ENCAPSED_STRING","'amex'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","language",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_amex'",24],")",",",["T_WHITESPACE","\n\t\t\t",24],["T_CONSTANT_ENCAPSED_STRING","'switch'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","language",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_switch'",25],")",",",["T_WHITESPACE","\n\t\t\t",25],["T_CONSTANT_ENCAPSED_STRING","'laser'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","language",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_laser'",26],")",",",["T_WHITESPACE","\n\t\t\t",26],["T_CONSTANT_ENCAPSED_STRING","'diners'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","language",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_diners'",27],")",",",["T_WHITESPACE","\n\t\t",27],")",";",["T_WHITESPACE","\n\n\t\t",28],["T_VARIABLE","$data",30],"[",["T_CONSTANT_ENCAPSED_STRING","'cards'",30],"]",["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",";",["T_WHITESPACE","\n\n\t\t",30],["T_FOREACH","foreach",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$accounts",32],["T_WHITESPACE"," ",32],["T_AS","as",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$card",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$account",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_ISSET","isset",33],"(",["T_VARIABLE","$account",33],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",33],"]",")",["T_WHITESPACE"," ",33],["T_BOOLEAN_AND","&&",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$account",33],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",33],"]",["T_WHITESPACE"," ",33],["T_IS_EQUAL","==",33],["T_WHITESPACE"," ",33],["T_LNUMBER","1",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n\t\t\t\t",33],["T_VARIABLE","$data",34],"[",["T_CONSTANT_ENCAPSED_STRING","'cards'",34],"]","[","]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_WHITESPACE","\n\t\t\t\t\t",34],["T_CONSTANT_ENCAPSED_STRING","'code'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$card",35],",",["T_WHITESPACE","\n\t\t\t\t\t",35],["T_CONSTANT_ENCAPSED_STRING","'text'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$card_types",36],"[",["T_VARIABLE","$card",36],"]",",",["T_WHITESPACE","\n\t\t\t\t",36],")",";",["T_WHITESPACE","\n\t\t\t",37],"}",["T_WHITESPACE","\n\t\t",38],"}",["T_WHITESPACE","\n\n\t\t",39],["T_VARIABLE","$data",41],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n\n\t\t",41],["T_FOR","for",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$i",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],";",["T_WHITESPACE"," ",43],["T_VARIABLE","$i",43],["T_WHITESPACE"," ",43],["T_IS_SMALLER_OR_EQUAL","<=",43],["T_WHITESPACE"," ",43],["T_LNUMBER","12",43],";",["T_WHITESPACE"," ",43],["T_VARIABLE","$i",43],["T_INC","++",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t",43],["T_VARIABLE","$data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",44],"]","[","]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n\t\t\t\t",44],["T_CONSTANT_ENCAPSED_STRING","'text'",45],["T_WHITESPACE","  ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","strftime",45],"(",["T_CONSTANT_ENCAPSED_STRING","'%B'",45],",",["T_WHITESPACE"," ",45],["T_STRING","mktime",45],"(",["T_LNUMBER","0",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$i",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","1",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","2000",45],")",")",",",["T_WHITESPACE","\n\t\t\t\t",45],["T_CONSTANT_ENCAPSED_STRING","'value'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","sprintf",46],"(",["T_CONSTANT_ENCAPSED_STRING","'%02d'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$i",46],")",["T_WHITESPACE","\n\t\t\t",46],")",";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\n\t\t",48],["T_VARIABLE","$today",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","getdate",50],"(",")",";",["T_WHITESPACE","\n\n\t\t",50],["T_VARIABLE","$data",52],"[",["T_CONSTANT_ENCAPSED_STRING","'year_expire'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n\n\t\t",52],["T_FOR","for",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$today",54],"[",["T_CONSTANT_ENCAPSED_STRING","'year'",54],"]",";",["T_WHITESPACE"," ",54],["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],"<",["T_WHITESPACE"," ",54],["T_VARIABLE","$today",54],"[",["T_CONSTANT_ENCAPSED_STRING","'year'",54],"]",["T_WHITESPACE"," ",54],"+",["T_WHITESPACE"," ",54],["T_LNUMBER","11",54],";",["T_WHITESPACE"," ",54],["T_VARIABLE","$i",54],["T_INC","++",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t",54],["T_VARIABLE","$data",55],"[",["T_CONSTANT_ENCAPSED_STRING","'year_expire'",55],"]","[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n\t\t\t\t",55],["T_CONSTANT_ENCAPSED_STRING","'text'",56],["T_WHITESPACE","  ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","strftime",56],"(",["T_CONSTANT_ENCAPSED_STRING","'%Y'",56],",",["T_WHITESPACE"," ",56],["T_STRING","mktime",56],"(",["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$i",56],")",")",",",["T_WHITESPACE","\n\t\t\t\t",56],["T_CONSTANT_ENCAPSED_STRING","'value'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","strftime",57],"(",["T_CONSTANT_ENCAPSED_STRING","'%y'",57],",",["T_WHITESPACE"," ",57],["T_STRING","mktime",57],"(",["T_LNUMBER","0",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$i",57],")",")",["T_WHITESPACE","\n\t\t\t",57],")",";",["T_WHITESPACE","\n\t\t",58],"}",["T_WHITESPACE","\n\n\t\t",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","load",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","view",61],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$data",61],")",";",["T_WHITESPACE","\n\t",61],"}",["T_WHITESPACE","\n\n\t",62],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","send",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","load",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","model",65],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",65],")",";",["T_WHITESPACE","\n\t\t",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","load",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","model",66],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",66],")",";",["T_WHITESPACE","\n\n\t\t",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","load",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","language",68],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",68],")",";",["T_WHITESPACE","\n\n\t\t",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","request",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","post",70],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",70],"]",["T_WHITESPACE"," ",70],["T_IS_EQUAL","==",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","''",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_VARIABLE","$json",71],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","language",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_CONSTANT_ENCAPSED_STRING","'error_card_number'",71],")",";",["T_WHITESPACE","\n\t\t",71],"}",["T_WHITESPACE","\n\n\t\t",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","request",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","post",74],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",74],"]",["T_WHITESPACE"," ",74],["T_IS_EQUAL","==",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","''",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t\t",74],["T_VARIABLE","$json",75],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","language",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'error_card_name'",75],")",";",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE","\n\n\t\t",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_STRING","strlen",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","request",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","post",78],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",78],"]",")",["T_WHITESPACE"," ",78],["T_IS_NOT_EQUAL","!=",78],["T_WHITESPACE"," ",78],["T_LNUMBER","3",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_AND","&&",78],["T_WHITESPACE"," ",78],["T_STRING","strlen",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","request",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","post",78],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",78],"]",")",["T_WHITESPACE"," ",78],["T_IS_NOT_EQUAL","!=",78],["T_WHITESPACE"," ",78],["T_LNUMBER","4",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_VARIABLE","$json",79],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","language",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'error_card_cvv'",79],")",";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE","\n\n\t\t",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_ISSET","isset",82],"(",["T_VARIABLE","$json",82],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",82],"]",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n\t\t\t",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","response",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","addHeader",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",83],")",";",["T_WHITESPACE","\n\t\t\t",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","response",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setOutput",84],"(",["T_STRING","json_encode",84],"(",["T_VARIABLE","$json",84],")",")",";",["T_WHITESPACE","\n\t\t\t",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","response",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","output",85],"(",")",";",["T_WHITESPACE","\n\t\t\t",85],["T_EXIT","die",86],"(",")",";",["T_WHITESPACE","\n\t\t",86],"}",["T_WHITESPACE","\n\n\t\t",87],["T_VARIABLE","$order_id",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","session",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",89],"]",";",["T_WHITESPACE","\n\n\t\t",89],["T_VARIABLE","$order_ref",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$order_id",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'T'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_STRING","strftime",91],"(",["T_CONSTANT_ENCAPSED_STRING","\"%Y%m%d%H%M%S\"",91],")",["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_STRING","mt_rand",91],"(",["T_LNUMBER","1",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","999",91],")",";",["T_WHITESPACE","\n\n\t\t",91],["T_VARIABLE","$order_info",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","model_checkout_order",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getOrder",93],"(",["T_VARIABLE","$order_id",93],")",";",["T_WHITESPACE","\n\n\t\t",93],["T_VARIABLE","$amount",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","round",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","currency",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","format",95],"(",["T_VARIABLE","$order_info",95],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",95],"]",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$order_info",95],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",95],"]",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$order_info",95],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_value'",95],"]",",",["T_WHITESPACE"," ",95],["T_STRING","false",95],")",["T_WHITESPACE"," ",95],"*",["T_WHITESPACE"," ",95],["T_LNUMBER","100",95],")",";",["T_WHITESPACE","\n\t\t",95],["T_VARIABLE","$currency",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$order_info",96],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",96],"]",";",["T_WHITESPACE","\n\n\t\t",96],["T_VARIABLE","$accounts",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","config",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","get",98],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_account'",98],")",";",["T_WHITESPACE","\n\n\t\t",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_ISSET","isset",100],"(",["T_VARIABLE","$accounts",100],"[",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","request",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","post",100],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",100],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",100],"]",")",["T_WHITESPACE"," ",100],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$accounts",100],"[",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","request",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","post",100],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",100],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",100],"]",["T_WHITESPACE"," ",100],["T_IS_EQUAL","==",100],["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n\t\t\t",100],["T_VARIABLE","$account",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","config",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_merchant_id'",101],")",";",["T_WHITESPACE","\n\t\t",101],"}",["T_WHITESPACE"," ",102],["T_ELSE","else",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n\t\t\t",102],["T_VARIABLE","$account",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$accounts",103],"[",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","request",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","post",103],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",103],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'merchant_id'",103],"]",";",["T_WHITESPACE","\n\t\t",103],"}",["T_WHITESPACE","\n\n\t\t",104],["T_VARIABLE","$eci_ref",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],";",["T_WHITESPACE","\n\t\t",106],["T_VARIABLE","$eci",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","''",107],";",["T_WHITESPACE","\n\t\t",107],["T_VARIABLE","$cavv",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","''",108],";",["T_WHITESPACE","\n\t\t",108],["T_VARIABLE","$xid",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","''",109],";",["T_WHITESPACE","\n\n\t\t",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","config",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_3d'",111],")",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_LNUMBER","1",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","request",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","post",112],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",112],"]",["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'visa'",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_OR","||",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","request",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","post",112],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",112],"]",["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'mc'",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_OR","||",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","request",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","post",112],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",112],"]",["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'amex'",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n\t\t\t\t",112],["T_VARIABLE","$verify_3ds",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","model_extension_payment_realex_remote",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","checkEnrollment",113],"(",["T_VARIABLE","$account",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$amount",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$currency",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$order_ref",113],")",";",["T_WHITESPACE","\n\n\t\t\t\t",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","model_extension_payment_realex_remote",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","logger",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Verify 3DS result:\\r\\n'",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_STRING","print_r",115],"(",["T_VARIABLE","$verify_3ds",115],",",["T_WHITESPACE"," ",115],["T_LNUMBER","1",115],")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",115],["T_COMMENT","\/\/ Proceed to 3D secure\n",117],["T_WHITESPACE","\t\t\t\t",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_ISSET","isset",118],"(",["T_VARIABLE","$verify_3ds",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","result",118],")",["T_WHITESPACE"," ",118],["T_BOOLEAN_AND","&&",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$verify_3ds",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","result",118],["T_WHITESPACE"," ",118],["T_IS_EQUAL","==",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'00'",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n\t\t\t\t\t",118],["T_VARIABLE","$enc_data",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",119],["T_CONSTANT_ENCAPSED_STRING","'account'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$account",120],",",["T_WHITESPACE","\n\t\t\t\t\t\t",120],["T_CONSTANT_ENCAPSED_STRING","'amount'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$amount",121],",",["T_WHITESPACE","\n\t\t\t\t\t\t",121],["T_CONSTANT_ENCAPSED_STRING","'currency'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$currency",122],",",["T_WHITESPACE","\n\t\t\t\t\t\t",122],["T_CONSTANT_ENCAPSED_STRING","'order_id'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$order_id",123],",",["T_WHITESPACE","\n\t\t\t\t\t\t",123],["T_CONSTANT_ENCAPSED_STRING","'order_ref'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$order_ref",124],",",["T_WHITESPACE","\n\t\t\t\t\t\t",124],["T_CONSTANT_ENCAPSED_STRING","'cc_number'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","request",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","post",125],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",125],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",125],["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","request",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","post",126],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_month'",126],"]",["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","request",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","post",126],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_year'",126],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",126],["T_CONSTANT_ENCAPSED_STRING","'cc_name'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","request",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","post",127],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",127],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",127],["T_CONSTANT_ENCAPSED_STRING","'cc_type'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","request",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","post",128],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",128],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",128],["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","request",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","post",129],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",129],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",129],["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","request",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","post",130],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",130],"]",["T_WHITESPACE","\n\t\t\t\t\t",130],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",131],["T_VARIABLE","$md",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","encryption",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","encrypt",133],"(",["T_STRING","json_encode",133],"(",["T_VARIABLE","$enc_data",133],")",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",133],["T_VARIABLE","$json",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",135],["T_VARIABLE","$json",136],"[",["T_CONSTANT_ENCAPSED_STRING","'ACSURL'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING_CAST","(string)",136],["T_VARIABLE","$verify_3ds",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","url",136],";",["T_WHITESPACE","\n\t\t\t\t\t",136],["T_VARIABLE","$json",137],"[",["T_CONSTANT_ENCAPSED_STRING","'MD'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$md",137],";",["T_WHITESPACE","\n\t\t\t\t\t",137],["T_VARIABLE","$json",138],"[",["T_CONSTANT_ENCAPSED_STRING","'PaReq'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING_CAST","(string)",138],["T_VARIABLE","$verify_3ds",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","pareq",138],";",["T_WHITESPACE","\n\t\t\t\t\t",138],["T_VARIABLE","$json",139],"[",["T_CONSTANT_ENCAPSED_STRING","'TermUrl'",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","url",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","link",139],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote\/acsReturn'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],",",["T_WHITESPACE"," ",139],["T_STRING","true",139],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","response",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","addHeader",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",141],")",";",["T_WHITESPACE","\n\t\t\t\t\t",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","response",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","setOutput",142],"(",["T_STRING","json_encode",142],"(",["T_VARIABLE","$json",142],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","response",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","output",143],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",143],["T_EXIT","die",144],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",144],"}",["T_WHITESPACE","\n\n\t\t\t\t",145],["T_COMMENT","\/\/ Cardholder Not Enrolled. Shift in liability. ECI = 6\n",147],["T_WHITESPACE","\t\t\t\t",148],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_ISSET","isset",148],"(",["T_VARIABLE","$verify_3ds",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","result",148],")",["T_WHITESPACE"," ",148],["T_BOOLEAN_AND","&&",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$verify_3ds",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","result",148],["T_WHITESPACE"," ",148],["T_IS_EQUAL","==",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'110'",148],["T_WHITESPACE"," ",148],["T_BOOLEAN_AND","&&",148],["T_WHITESPACE"," ",148],["T_ISSET","isset",148],"(",["T_VARIABLE","$verify_3ds",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","enrolled",148],")",["T_WHITESPACE"," ",148],["T_BOOLEAN_AND","&&",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$verify_3ds",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","enrolled",148],["T_WHITESPACE"," ",148],["T_IS_EQUAL","==",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'N'",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\t\t\t\t\t",148],["T_VARIABLE","$eci_ref",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_LNUMBER","1",149],";",["T_WHITESPACE","\n\t\t\t\t\t",149],["T_VARIABLE","$xid",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],";",["T_WHITESPACE","\n\t\t\t\t\t",150],["T_VARIABLE","$cavv",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","''",151],";",["T_WHITESPACE","\n\t\t\t\t\t",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","request",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","post",152],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",152],"]",["T_WHITESPACE"," ",152],["T_IS_EQUAL","==",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'mc'",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",152],["T_VARIABLE","$eci",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_LNUMBER","1",153],";",["T_WHITESPACE","\n\t\t\t\t\t",153],"}",["T_WHITESPACE"," ",154],["T_ELSE","else",154],["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",154],["T_VARIABLE","$eci",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_LNUMBER","6",155],";",["T_WHITESPACE","\n\t\t\t\t\t",155],"}",["T_WHITESPACE","\n\t\t\t\t",156],"}",["T_WHITESPACE","\n\n\t\t\t\t",157],["T_COMMENT","\/\/ Unable to Verify Enrollment. No shift in liability. ECI = 7\n",159],["T_WHITESPACE","\t\t\t\t",160],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_ISSET","isset",160],"(",["T_VARIABLE","$verify_3ds",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","result",160],")",["T_WHITESPACE"," ",160],["T_BOOLEAN_AND","&&",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$verify_3ds",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","result",160],["T_WHITESPACE"," ",160],["T_IS_EQUAL","==",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'110'",160],["T_WHITESPACE"," ",160],["T_BOOLEAN_AND","&&",160],["T_WHITESPACE"," ",160],["T_ISSET","isset",160],"(",["T_VARIABLE","$verify_3ds",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","enrolled",160],")",["T_WHITESPACE"," ",160],["T_BOOLEAN_AND","&&",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$verify_3ds",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","enrolled",160],["T_WHITESPACE"," ",160],["T_IS_EQUAL","==",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'U'",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n\t\t\t\t\t",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","config",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","get",161],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_liability'",161],")",["T_WHITESPACE"," ",161],["T_IS_NOT_EQUAL","!=",161],["T_WHITESPACE"," ",161],["T_LNUMBER","1",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","load",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","language",162],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",162],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",162],["T_VARIABLE","$json",164],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","language",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","get",164],"(",["T_CONSTANT_ENCAPSED_STRING","'error_3d_unable'",164],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","response",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","addHeader",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",166],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","response",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setOutput",167],"(",["T_STRING","json_encode",167],"(",["T_VARIABLE","$json",167],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","response",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","output",168],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",168],["T_EXIT","die",169],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",169],"}",["T_WHITESPACE"," ",170],["T_ELSE","else",170],["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",170],["T_VARIABLE","$eci_ref",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_LNUMBER","2",171],";",["T_WHITESPACE","\n\t\t\t\t\t\t",171],["T_VARIABLE","$xid",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","''",172],";",["T_WHITESPACE","\n\t\t\t\t\t\t",172],["T_VARIABLE","$cavv",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","''",173],";",["T_WHITESPACE","\n\t\t\t\t\t\t",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","request",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","post",174],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",174],"]",["T_WHITESPACE"," ",174],["T_IS_EQUAL","==",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'mc'",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",174],["T_VARIABLE","$eci",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_LNUMBER","0",175],";",["T_WHITESPACE","\n\t\t\t\t\t\t",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",176],["T_VARIABLE","$eci",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_LNUMBER","7",177],";",["T_WHITESPACE","\n\t\t\t\t\t\t",177],"}",["T_WHITESPACE","\n\t\t\t\t\t",178],"}",["T_WHITESPACE","\n\t\t\t\t",179],"}",["T_WHITESPACE","\n\n\t\t\t\t",180],["T_COMMENT","\/\/ Invalid response from Enrollment Server. No shift in liability. ECI = 7\n",182],["T_WHITESPACE","\t\t\t\t",183],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_ISSET","isset",183],"(",["T_VARIABLE","$verify_3ds",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","result",183],")",["T_WHITESPACE","  ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$verify_3ds",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","result",183],["T_WHITESPACE"," ",183],["T_IS_GREATER_OR_EQUAL",">=",183],["T_WHITESPACE"," ",183],["T_LNUMBER","500",183],["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$verify_3ds",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","result",183],["T_WHITESPACE"," ",183],"<",["T_WHITESPACE"," ",183],["T_LNUMBER","600",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n\t\t\t\t\t",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","config",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_liability'",184],")",["T_WHITESPACE"," ",184],["T_IS_NOT_EQUAL","!=",184],["T_WHITESPACE"," ",184],["T_LNUMBER","1",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","load",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","language",185],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",185],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",185],["T_VARIABLE","$json",187],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING_CAST","(string)",187],["T_VARIABLE","$verify_3ds",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","message",187],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",187],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","response",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addHeader",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",189],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","response",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","setOutput",190],"(",["T_STRING","json_encode",190],"(",["T_VARIABLE","$json",190],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","response",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","output",191],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",191],["T_EXIT","die",192],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",192],"}",["T_WHITESPACE"," ",193],["T_ELSE","else",193],["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",193],["T_VARIABLE","$eci_ref",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_LNUMBER","3",194],";",["T_WHITESPACE","\n\t\t\t\t\t\t",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","request",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","post",195],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",195],"]",["T_WHITESPACE"," ",195],["T_IS_EQUAL","==",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'mc'",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",195],["T_VARIABLE","$eci",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_LNUMBER","0",196],";",["T_WHITESPACE","\n\t\t\t\t\t\t",196],"}",["T_WHITESPACE"," ",197],["T_ELSE","else",197],["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",197],["T_VARIABLE","$eci",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_LNUMBER","7",198],";",["T_WHITESPACE","\n\t\t\t\t\t\t",198],"}",["T_WHITESPACE","\n\t\t\t\t\t",199],"}",["T_WHITESPACE","\n\t\t\t\t",200],"}",["T_WHITESPACE","\n\t\t\t",201],"}",["T_WHITESPACE","\n\t\t",202],"}",["T_WHITESPACE","\n\n\t\t",203],["T_VARIABLE","$capture_result",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","model_extension_payment_realex_remote",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","capturePayment",205],"(",["T_WHITESPACE","\n\t\t\t",205],["T_VARIABLE","$account",206],",",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$amount",207],",",["T_WHITESPACE","\n\t\t\t",207],["T_VARIABLE","$currency",208],",",["T_WHITESPACE","\n\t\t\t",208],["T_VARIABLE","$order_id",209],",",["T_WHITESPACE","\n\t\t\t",209],["T_VARIABLE","$order_ref",210],",",["T_WHITESPACE","\n\t\t\t",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","request",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","post",211],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",211],"]",",",["T_WHITESPACE","\n\t\t\t",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","request",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","post",212],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_month'",212],"]",["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","request",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","post",212],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_year'",212],"]",",",["T_WHITESPACE","\n\t\t\t",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","request",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","post",213],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",213],"]",",",["T_WHITESPACE","\n\t\t\t",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","request",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","post",214],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",214],"]",",",["T_WHITESPACE","\n\t\t\t",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","request",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","post",215],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",215],"]",",",["T_WHITESPACE","\n\t\t\t",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","request",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","post",216],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",216],"]",",",["T_WHITESPACE","\n\t\t\t",216],["T_VARIABLE","$eci_ref",217],",",["T_WHITESPACE","\n\t\t\t",217],["T_VARIABLE","$eci",218],",",["T_WHITESPACE","\n\t\t\t",218],["T_VARIABLE","$cavv",219],",",["T_WHITESPACE","\n\t\t\t",219],["T_VARIABLE","$xid",220],["T_WHITESPACE","\n\t\t",220],")",";",["T_WHITESPACE","\n\n\t\t",221],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","model_extension_payment_realex_remote",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","logger",223],"(",["T_CONSTANT_ENCAPSED_STRING","'Capture result:\\r\\n'",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_STRING","print_r",223],"(",["T_VARIABLE","$capture_result",223],",",["T_WHITESPACE"," ",223],["T_LNUMBER","1",223],")",")",";",["T_WHITESPACE","\n\n\t\t",223],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$capture_result",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","result",225],["T_WHITESPACE"," ",225],["T_IS_NOT_EQUAL","!=",225],["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'00'",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n\t\t\t",225],["T_VARIABLE","$json",226],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",226],"]",["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING_CAST","(string)",226],["T_VARIABLE","$capture_result",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","message",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","' ('",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_INT_CAST","(int)",226],["T_VARIABLE","$capture_result",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","result",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","')'",226],";",["T_WHITESPACE","\n\t\t",226],"}",["T_WHITESPACE"," ",227],["T_ELSE","else",227],["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n\t\t\t",227],["T_VARIABLE","$json",228],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","url",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","link",228],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/success'",228],")",";",["T_WHITESPACE","\n\t\t",228],"}",["T_WHITESPACE","\n\n\t\t",229],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","response",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","addHeader",231],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",231],")",";",["T_WHITESPACE","\n\t\t",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","response",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","setOutput",232],"(",["T_STRING","json_encode",232],"(",["T_VARIABLE","$json",232],")",")",";",["T_WHITESPACE","\n\t",232],"}",["T_WHITESPACE","\n\n\t",233],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","acsReturn",235],"(",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n\t\t",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_ISSET","isset",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","session",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","data",236],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",236],"]",")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n\t\t\t",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","load",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","model",237],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",237],")",";",["T_WHITESPACE","\n\t\t\t",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","load",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","model",238],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",238],")",";",["T_WHITESPACE","\n\n\t\t\t",238],["T_VARIABLE","$post",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","request",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","post",240],";",["T_WHITESPACE","\n\n\t\t\t",240],["T_VARIABLE","$md",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","json_decode",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","encryption",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","decrypt",242],"(",["T_VARIABLE","$post",242],"[",["T_CONSTANT_ENCAPSED_STRING","'MD'",242],"]",")",",",["T_WHITESPACE"," ",242],["T_STRING","true",242],")",";",["T_WHITESPACE","\n\n\t\t\t",242],["T_VARIABLE","$signature_result",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","model_extension_payment_realex_remote",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","enrollmentSignature",244],"(",["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'account'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'order_ref'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$md",244],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$post",244],"[",["T_CONSTANT_ENCAPSED_STRING","'PaRes'",244],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","model_extension_payment_realex_remote",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","logger",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Signature result:\\r\\n'",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_STRING","print_r",246],"(",["T_VARIABLE","$signature_result",246],",",["T_WHITESPACE"," ",246],["T_LNUMBER","1",246],")",")",";",["T_WHITESPACE","\n\n\t\t\t",246],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$signature_result",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","result",248],["T_WHITESPACE"," ",248],["T_IS_EQUAL","==",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'00'",248],["T_WHITESPACE"," ",248],["T_BOOLEAN_AND","&&",248],["T_WHITESPACE"," ",248],"(",["T_STRING","strtoupper",248],"(",["T_VARIABLE","$signature_result",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","threedsecure",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","status",248],")",["T_WHITESPACE"," ",248],["T_IS_EQUAL","==",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Y'",248],["T_WHITESPACE"," ",248],["T_BOOLEAN_OR","||",248],["T_WHITESPACE"," ",248],["T_STRING","strtoupper",248],"(",["T_VARIABLE","$signature_result",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","threedsecure",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","status",248],")",["T_WHITESPACE"," ",248],["T_IS_EQUAL","==",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'A'",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n\t\t\t\t",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_STRING","strtoupper",249],"(",["T_VARIABLE","$signature_result",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","threedsecure",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","status",249],")",["T_WHITESPACE"," ",249],["T_IS_EQUAL","==",249],["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'Y'",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n\t\t\t\t\t",249],["T_VARIABLE","$eci_ref",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_LNUMBER","5",250],";",["T_WHITESPACE","\n\t\t\t\t",250],"}",["T_WHITESPACE"," ",251],["T_ELSE","else",251],["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n\t\t\t\t\t",251],["T_VARIABLE","$eci_ref",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_LNUMBER","6",252],";",["T_WHITESPACE","\n\t\t\t\t",252],"}",["T_WHITESPACE","\n\n\t\t\t\t",253],["T_VARIABLE","$eci",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING_CAST","(string)",255],["T_VARIABLE","$signature_result",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","threedsecure",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","eci",255],";",["T_WHITESPACE","\n\t\t\t\t",255],["T_VARIABLE","$cavv",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING_CAST","(string)",256],["T_VARIABLE","$signature_result",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","threedsecure",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","cavv",256],";",["T_WHITESPACE","\n\t\t\t\t",256],["T_VARIABLE","$xid",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING_CAST","(string)",257],["T_VARIABLE","$signature_result",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","threedsecure",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","xid",257],";",["T_WHITESPACE","\n\t\t\t",257],"}",["T_WHITESPACE"," ",258],["T_ELSE","else",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\t\t\t\t",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$md",259],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",259],"]",["T_WHITESPACE"," ",259],["T_IS_EQUAL","==",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'mc'",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\t\t\t\t\t",259],["T_VARIABLE","$eci",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_LNUMBER","0",260],";",["T_WHITESPACE","\n\t\t\t\t",260],"}",["T_WHITESPACE"," ",261],["T_ELSE","else",261],["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n\t\t\t\t\t",261],["T_VARIABLE","$eci",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_LNUMBER","7",262],";",["T_WHITESPACE","\n\t\t\t\t",262],"}",["T_WHITESPACE","\n\n\t\t\t\t",263],["T_COMMENT","\/\/ Enrolled but invalid response from ACS.  No shift in liability. ECI = 7\n",265],["T_WHITESPACE","\t\t\t\t",266],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$signature_result",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","result",266],["T_WHITESPACE"," ",266],["T_IS_EQUAL","==",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'110'",266],["T_WHITESPACE"," ",266],["T_BOOLEAN_AND","&&",266],["T_WHITESPACE"," ",266],["T_STRING","strtoupper",266],"(",["T_VARIABLE","$signature_result",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","threedsecure",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","status",266],")",["T_WHITESPACE"," ",266],["T_IS_EQUAL","==",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Y'",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n\t\t\t\t\t",266],["T_VARIABLE","$eci_ref",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_LNUMBER","4",267],";",["T_WHITESPACE","\n\t\t\t\t\t",267],["T_VARIABLE","$cavv",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING_CAST","(string)",268],["T_VARIABLE","$signature_result",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","threedsecure",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","cavv",268],";",["T_WHITESPACE","\n\t\t\t\t\t",268],["T_VARIABLE","$xid",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING_CAST","(string)",269],["T_VARIABLE","$signature_result",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","threedsecure",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","xid",269],";",["T_WHITESPACE","\n\t\t\t\t",269],"}",["T_WHITESPACE","\n\n\t\t\t\t",270],["T_COMMENT","\/\/ Incorrect password entered.  No shift in liability. ECI = 7\n",272],["T_WHITESPACE","\t\t\t\t",273],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$signature_result",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","result",273],["T_WHITESPACE"," ",273],["T_IS_EQUAL","==",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'00'",273],["T_WHITESPACE"," ",273],["T_BOOLEAN_AND","&&",273],["T_WHITESPACE"," ",273],["T_STRING","strtoupper",273],"(",["T_VARIABLE","$signature_result",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","threedsecure",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","status",273],")",["T_WHITESPACE"," ",273],["T_IS_EQUAL","==",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'N'",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n\t\t\t\t\t",273],["T_VARIABLE","$eci_ref",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_LNUMBER","7",274],";",["T_WHITESPACE","\n\t\t\t\t\t",274],["T_VARIABLE","$xid",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING_CAST","(string)",275],["T_VARIABLE","$signature_result",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","threedsecure",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","xid",275],";",["T_WHITESPACE","\n\t\t\t\t\t",275],["T_VARIABLE","$cavv",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","''",276],";",["T_WHITESPACE","\n\t\t\t\t",276],"}",["T_WHITESPACE","\n\n\t\t\t\t",277],["T_COMMENT","\/\/ Authentication Unavailable.  No shift in liability. ECI = 7\n",279],["T_WHITESPACE","\t\t\t\t",280],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$signature_result",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","result",280],["T_WHITESPACE"," ",280],["T_IS_EQUAL","==",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'00'",280],["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],["T_STRING","strtoupper",280],"(",["T_VARIABLE","$signature_result",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","threedsecure",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","status",280],")",["T_WHITESPACE"," ",280],["T_IS_EQUAL","==",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'U'",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n\t\t\t\t\t",280],["T_VARIABLE","$eci_ref",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_LNUMBER","8",281],";",["T_WHITESPACE","\n\t\t\t\t\t",281],["T_VARIABLE","$xid",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING_CAST","(string)",282],["T_VARIABLE","$signature_result",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","threedsecure",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","xid",282],";",["T_WHITESPACE","\n\t\t\t\t\t",282],["T_VARIABLE","$cavv",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","''",283],";",["T_WHITESPACE","\n\t\t\t\t",283],"}",["T_WHITESPACE","\n\n\t\t\t\t",284],["T_COMMENT","\/\/ Invalid response from ACS.  No shift in liability. ECI = 7\n",286],["T_WHITESPACE","\t\t\t\t",287],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_ISSET","isset",287],"(",["T_VARIABLE","$signature_result",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","result",287],")",["T_WHITESPACE","  ",287],["T_BOOLEAN_AND","&&",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$signature_result",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","result",287],["T_WHITESPACE"," ",287],["T_IS_GREATER_OR_EQUAL",">=",287],["T_WHITESPACE"," ",287],["T_LNUMBER","500",287],["T_WHITESPACE"," ",287],["T_BOOLEAN_AND","&&",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$signature_result",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","result",287],["T_WHITESPACE"," ",287],"<",["T_WHITESPACE"," ",287],["T_LNUMBER","600",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n\t\t\t\t\t",287],["T_VARIABLE","$eci_ref",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_LNUMBER","9",288],";",["T_WHITESPACE","\n\t\t\t\t\t",288],["T_VARIABLE","$xid",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","''",289],";",["T_WHITESPACE","\n\t\t\t\t\t",289],["T_VARIABLE","$cavv",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","''",290],";",["T_WHITESPACE","\n\t\t\t\t",290],"}",["T_WHITESPACE","\n\n\t\t\t\t",291],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","config",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","get",293],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_liability'",293],")",["T_WHITESPACE"," ",293],["T_IS_NOT_EQUAL","!=",293],["T_WHITESPACE"," ",293],["T_LNUMBER","1",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n\t\t\t\t\t",293],["T_COMMENT","\/\/ this is the check for liability shift - if the merchant does not want to accept, redirect to checkout with message\n",294],["T_WHITESPACE","\t\t\t\t\t",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","load",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","language",295],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/realex_remote'",295],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",295],["T_VARIABLE","$message",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","language",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","get",297],"(",["T_CONSTANT_ENCAPSED_STRING","'error_3d_unsuccessful'",297],")",";",["T_WHITESPACE","\n\t\t\t\t\t",297],["T_VARIABLE","$message",298],["T_WHITESPACE"," ",298],["T_CONCAT_EQUAL",".=",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","language",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","get",298],"(",["T_CONSTANT_ENCAPSED_STRING","'text_eci'",298],")",["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> ('",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$eci",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","') '",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","language",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","get",298],"(",["T_CONSTANT_ENCAPSED_STRING","'text_3d_s'",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_INT_CAST","(int)",298],["T_VARIABLE","$eci_ref",298],")",";",["T_WHITESPACE","\n\t\t\t\t\t",298],["T_VARIABLE","$message",299],["T_WHITESPACE"," ",299],["T_CONCAT_EQUAL",".=",299],["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","language",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","get",299],"(",["T_CONSTANT_ENCAPSED_STRING","'text_timestamp'",299],")",["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_STRING_CAST","(string)",299],["T_STRING","strftime",299],"(",["T_CONSTANT_ENCAPSED_STRING","\"%Y%m%d%H%M%S\"",299],")",";",["T_WHITESPACE","\n\t\t\t\t\t",299],["T_VARIABLE","$message",300],["T_WHITESPACE"," ",300],["T_CONCAT_EQUAL",".=",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","language",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","get",300],"(",["T_CONSTANT_ENCAPSED_STRING","'text_order_ref'",300],")",["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_STRING_CAST","(string)",300],["T_VARIABLE","$md",300],"[",["T_CONSTANT_ENCAPSED_STRING","'order_ref'",300],"]",";",["T_WHITESPACE","\n\n\t\t\t\t\t",300],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","config",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","get",302],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_card_data_status'",302],")",["T_WHITESPACE"," ",302],["T_IS_EQUAL","==",302],["T_WHITESPACE"," ",302],["T_LNUMBER","1",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",302],["T_VARIABLE","$message",303],["T_WHITESPACE"," ",303],["T_CONCAT_EQUAL",".=",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","language",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","get",303],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_type'",303],")",["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_STRING_CAST","(string)",303],["T_VARIABLE","$md",303],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",303],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",303],["T_VARIABLE","$message",304],["T_WHITESPACE"," ",304],["T_CONCAT_EQUAL",".=",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","language",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","get",304],"(",["T_CONSTANT_ENCAPSED_STRING","'text_last_digits'",304],")",["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_STRING_CAST","(string)",304],["T_STRING","substr",304],"(",["T_VARIABLE","$md",304],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",304],"]",",",["T_WHITESPACE"," ",304],"-",["T_LNUMBER","4",304],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",304],["T_VARIABLE","$message",305],["T_WHITESPACE"," ",305],["T_CONCAT_EQUAL",".=",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","language",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","get",305],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_expire_date'",305],")",["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_STRING_CAST","(string)",305],["T_VARIABLE","$md",305],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",305],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",305],["T_VARIABLE","$message",306],["T_WHITESPACE"," ",306],["T_CONCAT_EQUAL",".=",306],["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","language",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","get",306],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_name'",306],")",["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_STRING_CAST","(string)",306],["T_VARIABLE","$md",306],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",306],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",306],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",307],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","model_extension_payment_realex_remote",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","addHistory",309],"(",["T_VARIABLE","$md",309],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",309],"]",",",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","config",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","get",309],"(",["T_CONSTANT_ENCAPSED_STRING","'realex_remote_order_status_decline_id'",309],")",",",["T_WHITESPACE"," ",309],["T_VARIABLE","$message",309],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",309],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","session",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","data",311],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",311],"]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","language",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","get",311],"(",["T_CONSTANT_ENCAPSED_STRING","'error_3d_unsuccessful'",311],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",311],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","response",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","redirect",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","url",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","link",313],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","''",313],",",["T_WHITESPACE"," ",313],["T_STRING","true",313],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",313],["T_EXIT","die",314],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",314],"}",["T_WHITESPACE","\n\t\t\t",315],"}",["T_WHITESPACE","\n\n\t\t\t",316],["T_VARIABLE","$capture_result",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","model_extension_payment_realex_remote",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","capturePayment",318],"(",["T_WHITESPACE","\n\t\t\t\t",318],["T_VARIABLE","$md",319],"[",["T_CONSTANT_ENCAPSED_STRING","'account'",319],"]",",",["T_WHITESPACE","\n\t\t\t\t",319],["T_VARIABLE","$md",320],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",320],"]",",",["T_WHITESPACE","\n\t\t\t\t",320],["T_VARIABLE","$md",321],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",321],"]",",",["T_WHITESPACE","\n\t\t\t\t",321],["T_VARIABLE","$md",322],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",322],"]",",",["T_WHITESPACE","\n\t\t\t\t",322],["T_VARIABLE","$md",323],"[",["T_CONSTANT_ENCAPSED_STRING","'order_ref'",323],"]",",",["T_WHITESPACE","\n\t\t\t\t",323],["T_VARIABLE","$md",324],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",324],"]",",",["T_WHITESPACE","\n\t\t\t\t",324],["T_VARIABLE","$md",325],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",325],"]",",",["T_WHITESPACE","\n\t\t\t\t",325],["T_VARIABLE","$md",326],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",326],"]",",",["T_WHITESPACE","\n\t\t\t\t",326],["T_VARIABLE","$md",327],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",327],"]",",",["T_WHITESPACE","\n\t\t\t\t",327],["T_VARIABLE","$md",328],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",328],"]",",",["T_WHITESPACE","\n\t\t\t\t",328],["T_VARIABLE","$md",329],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",329],"]",",",["T_WHITESPACE","\n\t\t\t\t",329],["T_VARIABLE","$eci_ref",330],",",["T_WHITESPACE","\n\t\t\t\t",330],["T_VARIABLE","$eci",331],",",["T_WHITESPACE","\n\t\t\t\t",331],["T_VARIABLE","$cavv",332],",",["T_WHITESPACE","\n\t\t\t\t",332],["T_VARIABLE","$xid",333],["T_WHITESPACE","\n\t\t\t",333],")",";",["T_WHITESPACE","\n\n\t\t\t",334],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","model_extension_payment_realex_remote",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","logger",336],"(",["T_CONSTANT_ENCAPSED_STRING","'Capture result:\\r\\n'",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_STRING","print_r",336],"(",["T_VARIABLE","$capture_result",336],",",["T_WHITESPACE"," ",336],["T_LNUMBER","1",336],")",")",";",["T_WHITESPACE","\n\n\t\t\t",336],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$capture_result",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","result",338],["T_WHITESPACE"," ",338],["T_IS_NOT_EQUAL","!=",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'00'",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n\t\t\t\t",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","session",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","data",339],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",339],"]",["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_STRING_CAST","(string)",339],["T_VARIABLE","$capture_result",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","message",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","' ('",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_INT_CAST","(int)",339],["T_VARIABLE","$capture_result",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","result",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","')'",339],";",["T_WHITESPACE","\n\n\t\t\t\t",339],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","response",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","redirect",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","url",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","link",341],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","''",341],",",["T_WHITESPACE"," ",341],["T_STRING","true",341],")",")",";",["T_WHITESPACE","\n\t\t\t",341],"}",["T_WHITESPACE"," ",342],["T_ELSE","else",342],["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n\t\t\t\t",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","response",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","redirect",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","url",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","link",343],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/success'",343],")",")",";",["T_WHITESPACE","\n\t\t\t",343],"}",["T_WHITESPACE","\n\t\t",344],"}",["T_WHITESPACE"," ",345],["T_ELSE","else",345],["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n\t\t\t",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","response",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","redirect",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","url",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","link",346],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/login'",346],",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","''",346],",",["T_WHITESPACE"," ",346],["T_STRING","true",346],")",")",";",["T_WHITESPACE","\n\t\t",346],"}",["T_WHITESPACE","\n\t",347],"}",["T_WHITESPACE","\n",348],"}",["T_WHITESPACE","\n",349]]