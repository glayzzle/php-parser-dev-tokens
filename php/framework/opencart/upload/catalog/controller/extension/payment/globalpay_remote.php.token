[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerExtensionPaymentGlobalpayRemote",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$data",6],"[",["T_CONSTANT_ENCAPSED_STRING","'text_credit_card'",6],"]",["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","language",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'text_credit_card'",6],")",";",["T_WHITESPACE","\n\t\t",6],["T_VARIABLE","$data",7],"[",["T_CONSTANT_ENCAPSED_STRING","'text_loading'",7],"]",["T_WHITESPACE"," ",7],"=",["T_WHITESPACE"," ",7],["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","language",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","get",7],"(",["T_CONSTANT_ENCAPSED_STRING","'text_loading'",7],")",";",["T_WHITESPACE","\n\t\t",7],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'text_wait'",8],"]",["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","language",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","get",8],"(",["T_CONSTANT_ENCAPSED_STRING","'text_wait'",8],")",";",["T_WHITESPACE","\n\t\t",8],["T_VARIABLE","$data",9],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_type'",9],"]",["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_VARIABLE","$this",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","language",9],["T_OBJECT_OPERATOR","->",9],["T_STRING","get",9],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_type'",9],")",";",["T_WHITESPACE","\n\t\t",9],["T_VARIABLE","$data",10],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_number'",10],"]",["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","language",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","get",10],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_number'",10],")",";",["T_WHITESPACE","\n\t\t",10],["T_VARIABLE","$data",11],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_name'",11],"]",["T_WHITESPACE"," ",11],"=",["T_WHITESPACE"," ",11],["T_VARIABLE","$this",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","language",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","get",11],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_name'",11],")",";",["T_WHITESPACE","\n\t\t",11],["T_VARIABLE","$data",12],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_expire_date'",12],"]",["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","language",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_expire_date'",12],")",";",["T_WHITESPACE","\n\t\t",12],["T_VARIABLE","$data",13],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_cvv2'",13],"]",["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","language",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","get",13],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_cvv2'",13],")",";",["T_WHITESPACE","\n\t\t",13],["T_VARIABLE","$data",14],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_issue'",14],"]",["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","language",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","get",14],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_issue'",14],")",";",["T_WHITESPACE","\n\t\t",14],["T_VARIABLE","$data",15],"[",["T_CONSTANT_ENCAPSED_STRING","'help_start_date'",15],"]",["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","language",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","get",15],"(",["T_CONSTANT_ENCAPSED_STRING","'help_start_date'",15],")",";",["T_WHITESPACE","\n\t\t",15],["T_VARIABLE","$data",16],"[",["T_CONSTANT_ENCAPSED_STRING","'help_issue'",16],"]",["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","language",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","get",16],"(",["T_CONSTANT_ENCAPSED_STRING","'help_issue'",16],")",";",["T_WHITESPACE","\n\t\t",16],["T_VARIABLE","$data",17],"[",["T_CONSTANT_ENCAPSED_STRING","'button_confirm'",17],"]",["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","language",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","get",17],"(",["T_CONSTANT_ENCAPSED_STRING","'button_confirm'",17],")",";",["T_WHITESPACE","\n\n\t\t",17],["T_VARIABLE","$accounts",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","config",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","get",19],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_account'",19],")",";",["T_WHITESPACE","\n\n\t\t",19],["T_VARIABLE","$card_types",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n\t\t\t",21],["T_CONSTANT_ENCAPSED_STRING","'visa'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","language",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_visa'",22],")",",",["T_WHITESPACE","\n\t\t\t",22],["T_CONSTANT_ENCAPSED_STRING","'mc'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","language",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","get",23],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_mc'",23],")",",",["T_WHITESPACE","\n\t\t\t",23],["T_CONSTANT_ENCAPSED_STRING","'amex'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","language",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_amex'",24],")",",",["T_WHITESPACE","\n\t\t\t",24],["T_CONSTANT_ENCAPSED_STRING","'switch'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","language",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_switch'",25],")",",",["T_WHITESPACE","\n\t\t\t",25],["T_CONSTANT_ENCAPSED_STRING","'laser'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","language",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_laser'",26],")",",",["T_WHITESPACE","\n\t\t\t",26],["T_CONSTANT_ENCAPSED_STRING","'diners'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","language",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"(",["T_CONSTANT_ENCAPSED_STRING","'text_card_diners'",27],")",",",["T_WHITESPACE","\n\t\t",27],")",";",["T_WHITESPACE","\n\n\t\t",28],["T_VARIABLE","$data",30],"[",["T_CONSTANT_ENCAPSED_STRING","'cards'",30],"]",["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",";",["T_WHITESPACE","\n\n\t\t",30],["T_FOREACH","foreach",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$accounts",32],["T_WHITESPACE"," ",32],["T_AS","as",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$card",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$account",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_ISSET","isset",33],"(",["T_VARIABLE","$account",33],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",33],"]",")",["T_WHITESPACE"," ",33],["T_BOOLEAN_AND","&&",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$account",33],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",33],"]",["T_WHITESPACE"," ",33],["T_IS_EQUAL","==",33],["T_WHITESPACE"," ",33],["T_LNUMBER","1",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n\t\t\t\t",33],["T_VARIABLE","$data",34],"[",["T_CONSTANT_ENCAPSED_STRING","'cards'",34],"]","[","]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_WHITESPACE","\n\t\t\t\t\t",34],["T_CONSTANT_ENCAPSED_STRING","'code'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$card",35],",",["T_WHITESPACE","\n\t\t\t\t\t",35],["T_CONSTANT_ENCAPSED_STRING","'text'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$card_types",36],"[",["T_VARIABLE","$card",36],"]",",",["T_WHITESPACE","\n\t\t\t\t",36],")",";",["T_WHITESPACE","\n\t\t\t",37],"}",["T_WHITESPACE","\n\t\t",38],"}",["T_WHITESPACE","\n\n\t\t",39],["T_VARIABLE","$data",41],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n\n\t\t",41],["T_FOR","for",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$i",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],";",["T_WHITESPACE"," ",43],["T_VARIABLE","$i",43],["T_WHITESPACE"," ",43],["T_IS_SMALLER_OR_EQUAL","<=",43],["T_WHITESPACE"," ",43],["T_LNUMBER","12",43],";",["T_WHITESPACE"," ",43],["T_VARIABLE","$i",43],["T_INC","++",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\t\t\t",43],["T_VARIABLE","$data",44],"[",["T_CONSTANT_ENCAPSED_STRING","'months'",44],"]","[","]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n\t\t\t\t",44],["T_CONSTANT_ENCAPSED_STRING","'text'",45],["T_WHITESPACE","  ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","strftime",45],"(",["T_CONSTANT_ENCAPSED_STRING","'%B'",45],",",["T_WHITESPACE"," ",45],["T_STRING","mktime",45],"(",["T_LNUMBER","0",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$i",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","1",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","2000",45],")",")",",",["T_WHITESPACE","\n\t\t\t\t",45],["T_CONSTANT_ENCAPSED_STRING","'value'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","sprintf",46],"(",["T_CONSTANT_ENCAPSED_STRING","'%02d'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$i",46],")",["T_WHITESPACE","\n\t\t\t",46],")",";",["T_WHITESPACE","\n\t\t",47],"}",["T_WHITESPACE","\n\n\t\t",48],["T_VARIABLE","$today",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","getdate",50],"(",")",";",["T_WHITESPACE","\n\n\t\t",50],["T_VARIABLE","$data",52],"[",["T_CONSTANT_ENCAPSED_STRING","'year_expire'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n\n\t\t",52],["T_FOR","for",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$today",54],"[",["T_CONSTANT_ENCAPSED_STRING","'year'",54],"]",";",["T_WHITESPACE"," ",54],["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],"<",["T_WHITESPACE"," ",54],["T_VARIABLE","$today",54],"[",["T_CONSTANT_ENCAPSED_STRING","'year'",54],"]",["T_WHITESPACE"," ",54],"+",["T_WHITESPACE"," ",54],["T_LNUMBER","11",54],";",["T_WHITESPACE"," ",54],["T_VARIABLE","$i",54],["T_INC","++",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t",54],["T_VARIABLE","$data",55],"[",["T_CONSTANT_ENCAPSED_STRING","'year_expire'",55],"]","[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n\t\t\t\t",55],["T_CONSTANT_ENCAPSED_STRING","'text'",56],["T_WHITESPACE","  ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","strftime",56],"(",["T_CONSTANT_ENCAPSED_STRING","'%Y'",56],",",["T_WHITESPACE"," ",56],["T_STRING","mktime",56],"(",["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$i",56],")",")",",",["T_WHITESPACE","\n\t\t\t\t",56],["T_CONSTANT_ENCAPSED_STRING","'value'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","strftime",57],"(",["T_CONSTANT_ENCAPSED_STRING","'%y'",57],",",["T_WHITESPACE"," ",57],["T_STRING","mktime",57],"(",["T_LNUMBER","0",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$i",57],")",")",["T_WHITESPACE","\n\t\t\t",57],")",";",["T_WHITESPACE","\n\t\t",58],"}",["T_WHITESPACE","\n\n\t\t",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","load",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","view",61],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$data",61],")",";",["T_WHITESPACE","\n\t",61],"}",["T_WHITESPACE","\n\n\t",62],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","send",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","load",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","model",65],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",65],")",";",["T_WHITESPACE","\n\t\t",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","load",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","model",66],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",66],")",";",["T_WHITESPACE","\n\n\t\t",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","load",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","language",68],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",68],")",";",["T_WHITESPACE","\n\n\t\t",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","request",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","post",70],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",70],"]",["T_WHITESPACE"," ",70],["T_IS_EQUAL","==",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","''",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_VARIABLE","$json",71],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","language",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_CONSTANT_ENCAPSED_STRING","'error_card_number'",71],")",";",["T_WHITESPACE","\n\t\t",71],"}",["T_WHITESPACE","\n\n\t\t",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","request",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","post",74],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",74],"]",["T_WHITESPACE"," ",74],["T_IS_EQUAL","==",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","''",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t\t",74],["T_VARIABLE","$json",75],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","language",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'error_card_name'",75],")",";",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE","\n\n\t\t",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_STRING","strlen",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","request",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","post",78],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",78],"]",")",["T_WHITESPACE"," ",78],["T_IS_NOT_EQUAL","!=",78],["T_WHITESPACE"," ",78],["T_LNUMBER","3",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_AND","&&",78],["T_WHITESPACE"," ",78],["T_STRING","strlen",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","request",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","post",78],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",78],"]",")",["T_WHITESPACE"," ",78],["T_IS_NOT_EQUAL","!=",78],["T_WHITESPACE"," ",78],["T_LNUMBER","4",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_VARIABLE","$json",79],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","language",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'error_card_cvv'",79],")",";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE","\n\n\t\t",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_ISSET","isset",82],"(",["T_VARIABLE","$json",82],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",82],"]",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n\t\t\t",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","response",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","addHeader",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",83],")",";",["T_WHITESPACE","\n\t\t\t",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","response",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setOutput",84],"(",["T_STRING","json_encode",84],"(",["T_VARIABLE","$json",84],")",")",";",["T_WHITESPACE","\n\t\t\t",84],["T_EXIT","die",85],"(",")",";",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\n\t\t",86],["T_VARIABLE","$order_id",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","session",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","data",88],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",88],"]",";",["T_WHITESPACE","\n\n\t\t",88],["T_VARIABLE","$order_ref",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$order_id",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'T'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_STRING","strftime",90],"(",["T_CONSTANT_ENCAPSED_STRING","\"%Y%m%d%H%M%S\"",90],")",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_STRING","mt_rand",90],"(",["T_LNUMBER","1",90],",",["T_WHITESPACE"," ",90],["T_LNUMBER","999",90],")",";",["T_WHITESPACE","\n\n\t\t",90],["T_VARIABLE","$order_info",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","model_checkout_order",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getOrder",92],"(",["T_VARIABLE","$order_id",92],")",";",["T_WHITESPACE","\n\n\t\t",92],["T_VARIABLE","$amount",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","round",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","currency",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","format",94],"(",["T_VARIABLE","$order_info",94],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",94],"]",",",["T_WHITESPACE"," ",94],["T_VARIABLE","$order_info",94],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",94],"]",",",["T_WHITESPACE"," ",94],["T_VARIABLE","$order_info",94],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_value'",94],"]",",",["T_WHITESPACE"," ",94],["T_STRING","false",94],")",["T_WHITESPACE"," ",94],"*",["T_WHITESPACE"," ",94],["T_LNUMBER","100",94],")",";",["T_WHITESPACE","\n\t\t",94],["T_VARIABLE","$currency",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$order_info",95],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",95],"]",";",["T_WHITESPACE","\n\n\t\t",95],["T_VARIABLE","$accounts",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","config",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_account'",97],")",";",["T_WHITESPACE","\n\n\t\t",97],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_ISSET","isset",99],"(",["T_VARIABLE","$accounts",99],"[",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","request",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","post",99],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",99],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",99],"]",")",["T_WHITESPACE"," ",99],["T_BOOLEAN_AND","&&",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$accounts",99],"[",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","request",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","post",99],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",99],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",99],"]",["T_WHITESPACE"," ",99],["T_IS_EQUAL","==",99],["T_WHITESPACE"," ",99],["T_LNUMBER","1",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n\t\t\t",99],["T_VARIABLE","$account",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","config",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","get",100],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_merchant_id'",100],")",";",["T_WHITESPACE","\n\t\t",100],"}",["T_WHITESPACE"," ",101],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n\t\t\t",101],["T_VARIABLE","$account",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$accounts",102],"[",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","request",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","post",102],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",102],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'merchant_id'",102],"]",";",["T_WHITESPACE","\n\t\t",102],"}",["T_WHITESPACE","\n\n\t\t",103],["T_VARIABLE","$eci_ref",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","''",105],";",["T_WHITESPACE","\n\t\t",105],["T_VARIABLE","$eci",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],";",["T_WHITESPACE","\n\t\t",106],["T_VARIABLE","$cavv",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","''",107],";",["T_WHITESPACE","\n\t\t",107],["T_VARIABLE","$xid",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","''",108],";",["T_WHITESPACE","\n\n\t\t",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","config",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_3d'",110],")",["T_WHITESPACE"," ",110],["T_IS_EQUAL","==",110],["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\t\t\t",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","request",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","post",111],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",111],"]",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'visa'",111],["T_WHITESPACE"," ",111],["T_BOOLEAN_OR","||",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","request",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","post",111],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",111],"]",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'mc'",111],["T_WHITESPACE"," ",111],["T_BOOLEAN_OR","||",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","request",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","post",111],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",111],"]",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'amex'",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t\t",111],["T_VARIABLE","$verify_3ds",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","model_extension_payment_globalpay_remote",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","checkEnrollment",112],"(",["T_VARIABLE","$account",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$amount",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$currency",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$order_ref",112],")",";",["T_WHITESPACE","\n\n\t\t\t\t",112],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","model_extension_payment_globalpay_remote",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","logger",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Verify 3DS result:\\r\\n'",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_STRING","print_r",114],"(",["T_VARIABLE","$verify_3ds",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","1",114],")",")",";",["T_WHITESPACE","\n\n\t\t\t\t",114],["T_COMMENT","\/\/ Proceed to 3D secure\n",116],["T_WHITESPACE","\t\t\t\t",117],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_ISSET","isset",117],"(",["T_VARIABLE","$verify_3ds",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","result",117],")",["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$verify_3ds",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","result",117],["T_WHITESPACE"," ",117],["T_IS_EQUAL","==",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'00'",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n\t\t\t\t\t",117],["T_VARIABLE","$enc_data",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",118],["T_CONSTANT_ENCAPSED_STRING","'account'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$account",119],",",["T_WHITESPACE","\n\t\t\t\t\t\t",119],["T_CONSTANT_ENCAPSED_STRING","'amount'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$amount",120],",",["T_WHITESPACE","\n\t\t\t\t\t\t",120],["T_CONSTANT_ENCAPSED_STRING","'currency'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$currency",121],",",["T_WHITESPACE","\n\t\t\t\t\t\t",121],["T_CONSTANT_ENCAPSED_STRING","'order_id'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$order_id",122],",",["T_WHITESPACE","\n\t\t\t\t\t\t",122],["T_CONSTANT_ENCAPSED_STRING","'order_ref'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$order_ref",123],",",["T_WHITESPACE","\n\t\t\t\t\t\t",123],["T_CONSTANT_ENCAPSED_STRING","'cc_number'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","request",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","post",124],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",124],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",124],["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","request",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","post",125],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_month'",125],"]",["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","request",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","post",125],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_year'",125],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",125],["T_CONSTANT_ENCAPSED_STRING","'cc_name'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","request",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","post",126],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",126],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",126],["T_CONSTANT_ENCAPSED_STRING","'cc_type'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","request",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","post",127],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",127],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",127],["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","request",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","post",128],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",128],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",128],["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","request",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","post",129],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",129],"]",["T_WHITESPACE","\n\t\t\t\t\t",129],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",130],["T_VARIABLE","$md",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","encryption",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","encrypt",132],"(",["T_STRING","json_encode",132],"(",["T_VARIABLE","$enc_data",132],")",")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",132],["T_VARIABLE","$json",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",134],["T_VARIABLE","$json",135],"[",["T_CONSTANT_ENCAPSED_STRING","'ACSURL'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING_CAST","(string)",135],["T_VARIABLE","$verify_3ds",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","url",135],";",["T_WHITESPACE","\n\t\t\t\t\t",135],["T_VARIABLE","$json",136],"[",["T_CONSTANT_ENCAPSED_STRING","'MD'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$md",136],";",["T_WHITESPACE","\n\t\t\t\t\t",136],["T_VARIABLE","$json",137],"[",["T_CONSTANT_ENCAPSED_STRING","'PaReq'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING_CAST","(string)",137],["T_VARIABLE","$verify_3ds",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","pareq",137],";",["T_WHITESPACE","\n\t\t\t\t\t",137],["T_VARIABLE","$json",138],"[",["T_CONSTANT_ENCAPSED_STRING","'TermUrl'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","url",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","link",138],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote\/acsReturn'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","''",138],",",["T_WHITESPACE"," ",138],["T_STRING","true",138],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",138],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","response",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","addHeader",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",140],")",";",["T_WHITESPACE","\n\t\t\t\t\t",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","response",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setOutput",141],"(",["T_STRING","json_encode",141],"(",["T_VARIABLE","$json",141],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","response",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","output",142],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",142],["T_EXIT","die",143],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",143],"}",["T_WHITESPACE","\n\n\t\t\t\t",144],["T_COMMENT","\/\/ Cardholder Not Enrolled. Shift in liability. ECI = 6\n",146],["T_WHITESPACE","\t\t\t\t",147],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_ISSET","isset",147],"(",["T_VARIABLE","$verify_3ds",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","result",147],")",["T_WHITESPACE"," ",147],["T_BOOLEAN_AND","&&",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$verify_3ds",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","result",147],["T_WHITESPACE"," ",147],["T_IS_EQUAL","==",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'110'",147],["T_WHITESPACE"," ",147],["T_BOOLEAN_AND","&&",147],["T_WHITESPACE"," ",147],["T_ISSET","isset",147],"(",["T_VARIABLE","$verify_3ds",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","enrolled",147],")",["T_WHITESPACE"," ",147],["T_BOOLEAN_AND","&&",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$verify_3ds",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","enrolled",147],["T_WHITESPACE"," ",147],["T_IS_EQUAL","==",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'N'",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n\t\t\t\t\t",147],["T_VARIABLE","$eci_ref",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_LNUMBER","1",148],";",["T_WHITESPACE","\n\t\t\t\t\t",148],["T_VARIABLE","$xid",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],";",["T_WHITESPACE","\n\t\t\t\t\t",149],["T_VARIABLE","$cavv",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],";",["T_WHITESPACE","\n\t\t\t\t\t",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","request",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","post",151],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",151],"]",["T_WHITESPACE"," ",151],["T_IS_EQUAL","==",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'mc'",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",151],["T_VARIABLE","$eci",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_LNUMBER","1",152],";",["T_WHITESPACE","\n\t\t\t\t\t",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",153],["T_VARIABLE","$eci",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_LNUMBER","6",154],";",["T_WHITESPACE","\n\t\t\t\t\t",154],"}",["T_WHITESPACE","\n\t\t\t\t",155],"}",["T_WHITESPACE","\n\n\t\t\t\t",156],["T_COMMENT","\/\/ Unable to Verify Enrollment. No shift in liability. ECI = 7\n",158],["T_WHITESPACE","\t\t\t\t",159],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_ISSET","isset",159],"(",["T_VARIABLE","$verify_3ds",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","result",159],")",["T_WHITESPACE"," ",159],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$verify_3ds",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","result",159],["T_WHITESPACE"," ",159],["T_IS_EQUAL","==",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'110'",159],["T_WHITESPACE"," ",159],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_ISSET","isset",159],"(",["T_VARIABLE","$verify_3ds",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","enrolled",159],")",["T_WHITESPACE"," ",159],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$verify_3ds",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","enrolled",159],["T_WHITESPACE"," ",159],["T_IS_EQUAL","==",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'U'",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n\t\t\t\t\t",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","config",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","get",160],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_liability'",160],")",["T_WHITESPACE"," ",160],["T_IS_NOT_EQUAL","!=",160],["T_WHITESPACE"," ",160],["T_LNUMBER","1",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","load",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","language",161],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",161],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",161],["T_VARIABLE","$json",163],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",163],"]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","language",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","get",163],"(",["T_CONSTANT_ENCAPSED_STRING","'error_3d_unable'",163],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","response",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","addHeader",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",165],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","response",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setOutput",166],"(",["T_STRING","json_encode",166],"(",["T_VARIABLE","$json",166],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","response",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","output",167],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",167],["T_EXIT","die",168],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",168],"}",["T_WHITESPACE"," ",169],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",169],["T_VARIABLE","$eci_ref",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_LNUMBER","2",170],";",["T_WHITESPACE","\n\t\t\t\t\t\t",170],["T_VARIABLE","$xid",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],";",["T_WHITESPACE","\n\t\t\t\t\t\t",171],["T_VARIABLE","$cavv",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","''",172],";",["T_WHITESPACE","\n\t\t\t\t\t\t",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","request",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","post",173],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",173],"]",["T_WHITESPACE"," ",173],["T_IS_EQUAL","==",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'mc'",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",173],["T_VARIABLE","$eci",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_LNUMBER","0",174],";",["T_WHITESPACE","\n\t\t\t\t\t\t",174],"}",["T_WHITESPACE"," ",175],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",175],["T_VARIABLE","$eci",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","7",176],";",["T_WHITESPACE","\n\t\t\t\t\t\t",176],"}",["T_WHITESPACE","\n\t\t\t\t\t",177],"}",["T_WHITESPACE","\n\t\t\t\t",178],"}",["T_WHITESPACE","\n\n\t\t\t\t",179],["T_COMMENT","\/\/ Invalid response from Enrollment Server. No shift in liability. ECI = 7\n",181],["T_WHITESPACE","\t\t\t\t",182],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_ISSET","isset",182],"(",["T_VARIABLE","$verify_3ds",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","result",182],")",["T_WHITESPACE","  ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$verify_3ds",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","result",182],["T_WHITESPACE"," ",182],["T_IS_GREATER_OR_EQUAL",">=",182],["T_WHITESPACE"," ",182],["T_LNUMBER","500",182],["T_WHITESPACE"," ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$verify_3ds",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","result",182],["T_WHITESPACE"," ",182],"<",["T_WHITESPACE"," ",182],["T_LNUMBER","600",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n\t\t\t\t\t",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","config",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_liability'",183],")",["T_WHITESPACE"," ",183],["T_IS_NOT_EQUAL","!=",183],["T_WHITESPACE"," ",183],["T_LNUMBER","1",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","load",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","language",184],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",184],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",184],["T_VARIABLE","$json",186],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING_CAST","(string)",186],["T_VARIABLE","$verify_3ds",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","message",186],";",["T_WHITESPACE","\n\n\t\t\t\t\t\t",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","response",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","addHeader",188],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",188],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","response",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setOutput",189],"(",["T_STRING","json_encode",189],"(",["T_VARIABLE","$json",189],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","response",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","output",190],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",190],["T_EXIT","die",191],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t",191],"}",["T_WHITESPACE"," ",192],["T_ELSE","else",192],["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",192],["T_VARIABLE","$eci_ref",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_LNUMBER","3",193],";",["T_WHITESPACE","\n\t\t\t\t\t\t",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","request",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","post",194],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",194],"]",["T_WHITESPACE"," ",194],["T_IS_EQUAL","==",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'mc'",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",194],["T_VARIABLE","$eci",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_LNUMBER","0",195],";",["T_WHITESPACE","\n\t\t\t\t\t\t",195],"}",["T_WHITESPACE"," ",196],["T_ELSE","else",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n\t\t\t\t\t\t\t",196],["T_VARIABLE","$eci",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_LNUMBER","7",197],";",["T_WHITESPACE","\n\t\t\t\t\t\t",197],"}",["T_WHITESPACE","\n\t\t\t\t\t",198],"}",["T_WHITESPACE","\n\t\t\t\t",199],"}",["T_WHITESPACE","\n\t\t\t",200],"}",["T_WHITESPACE","\n\t\t",201],"}",["T_WHITESPACE","\n\n\t\t",202],["T_VARIABLE","$capture_result",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","model_extension_payment_globalpay_remote",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","capturePayment",204],"(",["T_WHITESPACE","\n\t\t\t",204],["T_VARIABLE","$account",205],",",["T_WHITESPACE","\n\t\t\t",205],["T_VARIABLE","$amount",206],",",["T_WHITESPACE","\n\t\t\t",206],["T_VARIABLE","$currency",207],",",["T_WHITESPACE","\n\t\t\t",207],["T_VARIABLE","$order_id",208],",",["T_WHITESPACE","\n\t\t\t",208],["T_VARIABLE","$order_ref",209],",",["T_WHITESPACE","\n\t\t\t",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","request",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","post",210],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",210],"]",",",["T_WHITESPACE","\n\t\t\t",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","request",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","post",211],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_month'",211],"]",["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","request",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","post",211],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire_date_year'",211],"]",",",["T_WHITESPACE","\n\t\t\t",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","request",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","post",212],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",212],"]",",",["T_WHITESPACE","\n\t\t\t",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","request",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","post",213],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",213],"]",",",["T_WHITESPACE","\n\t\t\t",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","request",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","post",214],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",214],"]",",",["T_WHITESPACE","\n\t\t\t",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","request",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","post",215],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",215],"]",",",["T_WHITESPACE","\n\t\t\t",215],["T_VARIABLE","$eci_ref",216],",",["T_WHITESPACE","\n\t\t\t",216],["T_VARIABLE","$eci",217],",",["T_WHITESPACE","\n\t\t\t",217],["T_VARIABLE","$cavv",218],",",["T_WHITESPACE","\n\t\t\t",218],["T_VARIABLE","$xid",219],["T_WHITESPACE","\n\t\t",219],")",";",["T_WHITESPACE","\n\n\t\t",220],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","model_extension_payment_globalpay_remote",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","logger",222],"(",["T_CONSTANT_ENCAPSED_STRING","'Capture result:\\r\\n'",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_STRING","print_r",222],"(",["T_VARIABLE","$capture_result",222],",",["T_WHITESPACE"," ",222],["T_LNUMBER","1",222],")",")",";",["T_WHITESPACE","\n\n\t\t",222],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$capture_result",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","result",224],["T_WHITESPACE"," ",224],["T_IS_NOT_EQUAL","!=",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'00'",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n\t\t\t",224],["T_VARIABLE","$json",225],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING_CAST","(string)",225],["T_VARIABLE","$capture_result",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","message",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","' ('",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_INT_CAST","(int)",225],["T_VARIABLE","$capture_result",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","result",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","')'",225],";",["T_WHITESPACE","\n\t\t",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n\t\t\t",226],["T_VARIABLE","$json",227],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","url",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","link",227],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/success'",227],")",";",["T_WHITESPACE","\n\t\t",227],"}",["T_WHITESPACE","\n\n\t\t",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","response",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","addHeader",230],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",230],")",";",["T_WHITESPACE","\n\t\t",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","response",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setOutput",231],"(",["T_STRING","json_encode",231],"(",["T_VARIABLE","$json",231],")",")",";",["T_WHITESPACE","\n\t",231],"}",["T_WHITESPACE","\n\n\t",232],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","acsReturn",234],"(",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n\t\t",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_ISSET","isset",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","session",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","data",235],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",235],"]",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n\t\t\t",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","load",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","model",236],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",236],")",";",["T_WHITESPACE","\n\t\t\t",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","load",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","model",237],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",237],")",";",["T_WHITESPACE","\n\n\t\t\t",237],["T_VARIABLE","$post",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","request",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","post",239],";",["T_WHITESPACE","\n\n\t\t\t",239],["T_VARIABLE","$md",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","json_decode",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","encryption",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","decrypt",241],"(",["T_VARIABLE","$post",241],"[",["T_CONSTANT_ENCAPSED_STRING","'MD'",241],"]",")",",",["T_WHITESPACE"," ",241],["T_STRING","true",241],")",";",["T_WHITESPACE","\n\n\t\t\t",241],["T_VARIABLE","$signature_result",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","model_extension_payment_globalpay_remote",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","enrollmentSignature",243],"(",["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'account'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'order_ref'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$md",243],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$post",243],"[",["T_CONSTANT_ENCAPSED_STRING","'PaRes'",243],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","model_extension_payment_globalpay_remote",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","logger",245],"(",["T_CONSTANT_ENCAPSED_STRING","'Signature result:\\r\\n'",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_STRING","print_r",245],"(",["T_VARIABLE","$signature_result",245],",",["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],")",")",";",["T_WHITESPACE","\n\n\t\t\t",245],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$signature_result",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","result",247],["T_WHITESPACE"," ",247],["T_IS_EQUAL","==",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'00'",247],["T_WHITESPACE"," ",247],["T_BOOLEAN_AND","&&",247],["T_WHITESPACE"," ",247],"(",["T_STRING","strtoupper",247],"(",["T_VARIABLE","$signature_result",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","threedsecure",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","status",247],")",["T_WHITESPACE"," ",247],["T_IS_EQUAL","==",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'Y'",247],["T_WHITESPACE"," ",247],["T_BOOLEAN_OR","||",247],["T_WHITESPACE"," ",247],["T_STRING","strtoupper",247],"(",["T_VARIABLE","$signature_result",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","threedsecure",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","status",247],")",["T_WHITESPACE"," ",247],["T_IS_EQUAL","==",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'A'",247],")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n\t\t\t\t",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_STRING","strtoupper",248],"(",["T_VARIABLE","$signature_result",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","threedsecure",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","status",248],")",["T_WHITESPACE"," ",248],["T_IS_EQUAL","==",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Y'",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n\t\t\t\t\t",248],["T_VARIABLE","$eci_ref",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_LNUMBER","5",249],";",["T_WHITESPACE","\n\t\t\t\t",249],"}",["T_WHITESPACE"," ",250],["T_ELSE","else",250],["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n\t\t\t\t\t",250],["T_VARIABLE","$eci_ref",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_LNUMBER","6",251],";",["T_WHITESPACE","\n\t\t\t\t",251],"}",["T_WHITESPACE","\n\n\t\t\t\t",252],["T_VARIABLE","$eci",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING_CAST","(string)",254],["T_VARIABLE","$signature_result",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","threedsecure",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","eci",254],";",["T_WHITESPACE","\n\t\t\t\t",254],["T_VARIABLE","$cavv",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING_CAST","(string)",255],["T_VARIABLE","$signature_result",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","threedsecure",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","cavv",255],";",["T_WHITESPACE","\n\t\t\t\t",255],["T_VARIABLE","$xid",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING_CAST","(string)",256],["T_VARIABLE","$signature_result",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","threedsecure",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","xid",256],";",["T_WHITESPACE","\n\t\t\t",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n\t\t\t\t",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$md",258],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",258],"]",["T_WHITESPACE"," ",258],["T_IS_EQUAL","==",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'mc'",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\t\t\t\t\t",258],["T_VARIABLE","$eci",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_LNUMBER","0",259],";",["T_WHITESPACE","\n\t\t\t\t",259],"}",["T_WHITESPACE"," ",260],["T_ELSE","else",260],["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n\t\t\t\t\t",260],["T_VARIABLE","$eci",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_LNUMBER","7",261],";",["T_WHITESPACE","\n\t\t\t\t",261],"}",["T_WHITESPACE","\n\n\t\t\t\t",262],["T_COMMENT","\/\/ Enrolled but invalid response from ACS.  No shift in liability. ECI = 7\n",264],["T_WHITESPACE","\t\t\t\t",265],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$signature_result",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","result",265],["T_WHITESPACE"," ",265],["T_IS_EQUAL","==",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'110'",265],["T_WHITESPACE"," ",265],["T_BOOLEAN_AND","&&",265],["T_WHITESPACE"," ",265],["T_STRING","strtoupper",265],"(",["T_VARIABLE","$signature_result",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","threedsecure",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","status",265],")",["T_WHITESPACE"," ",265],["T_IS_EQUAL","==",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Y'",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n\t\t\t\t\t",265],["T_VARIABLE","$eci_ref",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_LNUMBER","4",266],";",["T_WHITESPACE","\n\t\t\t\t\t",266],["T_VARIABLE","$cavv",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING_CAST","(string)",267],["T_VARIABLE","$signature_result",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","threedsecure",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","cavv",267],";",["T_WHITESPACE","\n\t\t\t\t\t",267],["T_VARIABLE","$xid",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING_CAST","(string)",268],["T_VARIABLE","$signature_result",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","threedsecure",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","xid",268],";",["T_WHITESPACE","\n\t\t\t\t",268],"}",["T_WHITESPACE","\n\n\t\t\t\t",269],["T_COMMENT","\/\/ Incorrect password entered.  No shift in liability. ECI = 7\n",271],["T_WHITESPACE","\t\t\t\t",272],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$signature_result",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","result",272],["T_WHITESPACE"," ",272],["T_IS_EQUAL","==",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'00'",272],["T_WHITESPACE"," ",272],["T_BOOLEAN_AND","&&",272],["T_WHITESPACE"," ",272],["T_STRING","strtoupper",272],"(",["T_VARIABLE","$signature_result",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","threedsecure",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","status",272],")",["T_WHITESPACE"," ",272],["T_IS_EQUAL","==",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'N'",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n\t\t\t\t\t",272],["T_VARIABLE","$eci_ref",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_LNUMBER","7",273],";",["T_WHITESPACE","\n\t\t\t\t\t",273],["T_VARIABLE","$xid",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING_CAST","(string)",274],["T_VARIABLE","$signature_result",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","threedsecure",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","xid",274],";",["T_WHITESPACE","\n\t\t\t\t\t",274],["T_VARIABLE","$cavv",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","''",275],";",["T_WHITESPACE","\n\t\t\t\t",275],"}",["T_WHITESPACE","\n\n\t\t\t\t",276],["T_COMMENT","\/\/ Authentication Unavailable.  No shift in liability. ECI = 7\n",278],["T_WHITESPACE","\t\t\t\t",279],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$signature_result",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","result",279],["T_WHITESPACE"," ",279],["T_IS_EQUAL","==",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'00'",279],["T_WHITESPACE"," ",279],["T_BOOLEAN_AND","&&",279],["T_WHITESPACE"," ",279],["T_STRING","strtoupper",279],"(",["T_VARIABLE","$signature_result",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","threedsecure",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","status",279],")",["T_WHITESPACE"," ",279],["T_IS_EQUAL","==",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'U'",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n\t\t\t\t\t",279],["T_VARIABLE","$eci_ref",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_LNUMBER","8",280],";",["T_WHITESPACE","\n\t\t\t\t\t",280],["T_VARIABLE","$xid",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING_CAST","(string)",281],["T_VARIABLE","$signature_result",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","threedsecure",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","xid",281],";",["T_WHITESPACE","\n\t\t\t\t\t",281],["T_VARIABLE","$cavv",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","''",282],";",["T_WHITESPACE","\n\t\t\t\t",282],"}",["T_WHITESPACE","\n\n\t\t\t\t",283],["T_COMMENT","\/\/ Invalid response from ACS.  No shift in liability. ECI = 7\n",285],["T_WHITESPACE","\t\t\t\t",286],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_ISSET","isset",286],"(",["T_VARIABLE","$signature_result",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","result",286],")",["T_WHITESPACE","  ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$signature_result",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","result",286],["T_WHITESPACE"," ",286],["T_IS_GREATER_OR_EQUAL",">=",286],["T_WHITESPACE"," ",286],["T_LNUMBER","500",286],["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$signature_result",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","result",286],["T_WHITESPACE"," ",286],"<",["T_WHITESPACE"," ",286],["T_LNUMBER","600",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n\t\t\t\t\t",286],["T_VARIABLE","$eci_ref",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_LNUMBER","9",287],";",["T_WHITESPACE","\n\t\t\t\t\t",287],["T_VARIABLE","$xid",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","''",288],";",["T_WHITESPACE","\n\t\t\t\t\t",288],["T_VARIABLE","$cavv",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","''",289],";",["T_WHITESPACE","\n\t\t\t\t",289],"}",["T_WHITESPACE","\n\n\t\t\t\t",290],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","config",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","get",292],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_liability'",292],")",["T_WHITESPACE"," ",292],["T_IS_NOT_EQUAL","!=",292],["T_WHITESPACE"," ",292],["T_LNUMBER","1",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n\t\t\t\t\t",292],["T_COMMENT","\/\/ this is the check for liability shift - if the merchant does not want to accept, redirect to checkout with message\n",293],["T_WHITESPACE","\t\t\t\t\t",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","load",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","language",294],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/globalpay_remote'",294],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",294],["T_VARIABLE","$message",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","language",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","get",296],"(",["T_CONSTANT_ENCAPSED_STRING","'error_3d_unsuccessful'",296],")",";",["T_WHITESPACE","\n\t\t\t\t\t",296],["T_VARIABLE","$message",297],["T_WHITESPACE"," ",297],["T_CONCAT_EQUAL",".=",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","language",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","get",297],"(",["T_CONSTANT_ENCAPSED_STRING","'text_eci'",297],")",["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> ('",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$eci",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","') '",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","language",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","get",297],"(",["T_CONSTANT_ENCAPSED_STRING","'text_3d_s'",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_INT_CAST","(int)",297],["T_VARIABLE","$eci_ref",297],")",";",["T_WHITESPACE","\n\t\t\t\t\t",297],["T_VARIABLE","$message",298],["T_WHITESPACE"," ",298],["T_CONCAT_EQUAL",".=",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","language",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","get",298],"(",["T_CONSTANT_ENCAPSED_STRING","'text_timestamp'",298],")",["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_STRING_CAST","(string)",298],["T_STRING","strftime",298],"(",["T_CONSTANT_ENCAPSED_STRING","\"%Y%m%d%H%M%S\"",298],")",";",["T_WHITESPACE","\n\t\t\t\t\t",298],["T_VARIABLE","$message",299],["T_WHITESPACE"," ",299],["T_CONCAT_EQUAL",".=",299],["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","language",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","get",299],"(",["T_CONSTANT_ENCAPSED_STRING","'text_order_ref'",299],")",["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_STRING_CAST","(string)",299],["T_VARIABLE","$md",299],"[",["T_CONSTANT_ENCAPSED_STRING","'order_ref'",299],"]",";",["T_WHITESPACE","\n\n\t\t\t\t\t",299],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","config",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","get",301],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_card_data_status'",301],")",["T_WHITESPACE"," ",301],["T_IS_EQUAL","==",301],["T_WHITESPACE"," ",301],["T_LNUMBER","1",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",301],["T_VARIABLE","$message",302],["T_WHITESPACE"," ",302],["T_CONCAT_EQUAL",".=",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",302],["T_WHITESPACE"," ",302],".",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","language",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","get",302],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_type'",302],")",["T_WHITESPACE"," ",302],".",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",302],["T_WHITESPACE"," ",302],".",["T_WHITESPACE"," ",302],["T_STRING_CAST","(string)",302],["T_VARIABLE","$md",302],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",302],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",302],["T_VARIABLE","$message",303],["T_WHITESPACE"," ",303],["T_CONCAT_EQUAL",".=",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","language",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","get",303],"(",["T_CONSTANT_ENCAPSED_STRING","'text_last_digits'",303],")",["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_STRING_CAST","(string)",303],["T_STRING","substr",303],"(",["T_VARIABLE","$md",303],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",303],"]",",",["T_WHITESPACE"," ",303],"-",["T_LNUMBER","4",303],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",303],["T_VARIABLE","$message",304],["T_WHITESPACE"," ",304],["T_CONCAT_EQUAL",".=",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","language",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","get",304],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_expire_date'",304],")",["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_STRING_CAST","(string)",304],["T_VARIABLE","$md",304],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",304],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",304],["T_VARIABLE","$message",305],["T_WHITESPACE"," ",305],["T_CONCAT_EQUAL",".=",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'<br \/><strong>'",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","language",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","get",305],"(",["T_CONSTANT_ENCAPSED_STRING","'entry_cc_name'",305],")",["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","':<\/strong> '",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_STRING_CAST","(string)",305],["T_VARIABLE","$md",305],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",305],"]",";",["T_WHITESPACE","\n\t\t\t\t\t",305],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","model_extension_payment_globalpay_remote",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","addHistory",308],"(",["T_VARIABLE","$md",308],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",308],"]",",",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","config",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","get",308],"(",["T_CONSTANT_ENCAPSED_STRING","'globalpay_remote_order_status_decline_id'",308],")",",",["T_WHITESPACE"," ",308],["T_VARIABLE","$message",308],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",308],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","session",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","data",310],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",310],"]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","language",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","get",310],"(",["T_CONSTANT_ENCAPSED_STRING","'error_3d_unsuccessful'",310],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",310],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","response",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","redirect",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","url",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","link",312],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",312],",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","''",312],",",["T_WHITESPACE"," ",312],["T_STRING","true",312],")",")",";",["T_WHITESPACE","\n\t\t\t\t\t",312],["T_EXIT","die",313],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",313],"}",["T_WHITESPACE","\n\t\t\t",314],"}",["T_WHITESPACE","\n\n\t\t\t",315],["T_VARIABLE","$capture_result",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","model_extension_payment_globalpay_remote",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","capturePayment",317],"(",["T_WHITESPACE","\n\t\t\t\t",317],["T_VARIABLE","$md",318],"[",["T_CONSTANT_ENCAPSED_STRING","'account'",318],"]",",",["T_WHITESPACE","\n\t\t\t\t",318],["T_VARIABLE","$md",319],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",319],"]",",",["T_WHITESPACE","\n\t\t\t\t",319],["T_VARIABLE","$md",320],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",320],"]",",",["T_WHITESPACE","\n\t\t\t\t",320],["T_VARIABLE","$md",321],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",321],"]",",",["T_WHITESPACE","\n\t\t\t\t",321],["T_VARIABLE","$md",322],"[",["T_CONSTANT_ENCAPSED_STRING","'order_ref'",322],"]",",",["T_WHITESPACE","\n\t\t\t\t",322],["T_VARIABLE","$md",323],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_number'",323],"]",",",["T_WHITESPACE","\n\t\t\t\t",323],["T_VARIABLE","$md",324],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_expire'",324],"]",",",["T_WHITESPACE","\n\t\t\t\t",324],["T_VARIABLE","$md",325],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_name'",325],"]",",",["T_WHITESPACE","\n\t\t\t\t",325],["T_VARIABLE","$md",326],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_type'",326],"]",",",["T_WHITESPACE","\n\t\t\t\t",326],["T_VARIABLE","$md",327],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_cvv2'",327],"]",",",["T_WHITESPACE","\n\t\t\t\t",327],["T_VARIABLE","$md",328],"[",["T_CONSTANT_ENCAPSED_STRING","'cc_issue'",328],"]",",",["T_WHITESPACE","\n\t\t\t\t",328],["T_VARIABLE","$eci_ref",329],",",["T_WHITESPACE","\n\t\t\t\t",329],["T_VARIABLE","$eci",330],",",["T_WHITESPACE","\n\t\t\t\t",330],["T_VARIABLE","$cavv",331],",",["T_WHITESPACE","\n\t\t\t\t",331],["T_VARIABLE","$xid",332],["T_WHITESPACE","\n\t\t\t",332],")",";",["T_WHITESPACE","\n\n\t\t\t",333],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","model_extension_payment_globalpay_remote",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","logger",335],"(",["T_CONSTANT_ENCAPSED_STRING","'Capture result:\\r\\n'",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_STRING","print_r",335],"(",["T_VARIABLE","$capture_result",335],",",["T_WHITESPACE"," ",335],["T_LNUMBER","1",335],")",")",";",["T_WHITESPACE","\n\n\t\t\t",335],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$capture_result",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","result",337],["T_WHITESPACE"," ",337],["T_IS_NOT_EQUAL","!=",337],["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'00'",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n\t\t\t\t",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","session",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","data",338],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",338],"]",["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING_CAST","(string)",338],["T_VARIABLE","$capture_result",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","message",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","' ('",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_INT_CAST","(int)",338],["T_VARIABLE","$capture_result",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","result",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","')'",338],";",["T_WHITESPACE","\n\n\t\t\t\t",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","response",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","redirect",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","url",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","link",340],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/checkout'",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","''",340],",",["T_WHITESPACE"," ",340],["T_STRING","true",340],")",")",";",["T_WHITESPACE","\n\t\t\t",340],"}",["T_WHITESPACE"," ",341],["T_ELSE","else",341],["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n\t\t\t\t",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","response",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","redirect",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","url",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","link",342],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/success'",342],")",")",";",["T_WHITESPACE","\n\t\t\t",342],"}",["T_WHITESPACE","\n\t\t",343],"}",["T_WHITESPACE"," ",344],["T_ELSE","else",344],["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n\t\t\t",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","response",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","redirect",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","url",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","link",345],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/login'",345],",",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","''",345],",",["T_WHITESPACE"," ",345],["T_STRING","true",345],")",")",";",["T_WHITESPACE","\n\t\t",345],"}",["T_WHITESPACE","\n\t",346],"}",["T_WHITESPACE","\n",347],"}"]