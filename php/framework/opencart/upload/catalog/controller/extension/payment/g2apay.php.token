[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerExtensionPaymentG2APay",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/g2apay'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_VARIABLE","$data",6],"[",["T_CONSTANT_ENCAPSED_STRING","'button_confirm'",6],"]",["T_WHITESPACE"," ",6],"=",["T_WHITESPACE"," ",6],["T_VARIABLE","$this",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","language",6],["T_OBJECT_OPERATOR","->",6],["T_STRING","get",6],"(",["T_CONSTANT_ENCAPSED_STRING","'button_confirm'",6],")",";",["T_WHITESPACE","\n\n\t\t",6],["T_VARIABLE","$data",8],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",8],"]",["T_WHITESPACE"," ",8],"=",["T_WHITESPACE"," ",8],["T_VARIABLE","$this",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","url",8],["T_OBJECT_OPERATOR","->",8],["T_STRING","link",8],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/g2apay\/checkout'",8],",",["T_WHITESPACE"," ",8],["T_CONSTANT_ENCAPSED_STRING","''",8],",",["T_WHITESPACE"," ",8],["T_STRING","true",8],")",";",["T_WHITESPACE","\n\n\t\t",8],["T_RETURN","return",10],["T_WHITESPACE"," ",10],["T_VARIABLE","$this",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","load",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","view",10],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/g2apay'",10],",",["T_WHITESPACE"," ",10],["T_VARIABLE","$data",10],")",";",["T_WHITESPACE","\n\t",10],"}",["T_WHITESPACE","\n\n\t",11],["T_PUBLIC","public",13],["T_WHITESPACE"," ",13],["T_FUNCTION","function",13],["T_WHITESPACE"," ",13],["T_STRING","checkout",13],"(",")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t",13],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","load",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","model",14],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",14],")",";",["T_WHITESPACE","\n\t\t",14],["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","load",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","model",15],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/order'",15],")",";",["T_WHITESPACE","\n\t\t",15],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","load",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","model",16],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/g2apay'",16],")",";",["T_WHITESPACE","\n\n\t\t",16],["T_VARIABLE","$order_info",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","model_checkout_order",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","getOrder",18],"(",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","session",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","data",18],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",18],"]",")",";",["T_WHITESPACE","\n\n\t\t",18],["T_VARIABLE","$order_data",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",")",";",["T_WHITESPACE","\n\n\t\t",20],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","load",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","model",22],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/extension'",22],")",";",["T_WHITESPACE","\n\n\t\t",22],["T_VARIABLE","$totals",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",")",";",["T_WHITESPACE","\n\t\t",24],["T_VARIABLE","$taxes",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","cart",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getTaxes",25],"(",")",";",["T_WHITESPACE","\n\t\t",25],["T_VARIABLE","$total",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_LNUMBER","0",26],";",["T_WHITESPACE","\n\n\t\t",26],["T_COMMENT","\/\/ Because __call can not keep var references so we put them into an array.\n",28],["T_WHITESPACE","\t\t",29],["T_VARIABLE","$total_data",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_WHITESPACE","\n\t\t\t",29],["T_CONSTANT_ENCAPSED_STRING","'totals'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],"&",["T_VARIABLE","$totals",30],",",["T_WHITESPACE","\n\t\t\t",30],["T_CONSTANT_ENCAPSED_STRING","'taxes'",31],["T_WHITESPACE","  ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],"&",["T_VARIABLE","$taxes",31],",",["T_WHITESPACE","\n\t\t\t",31],["T_CONSTANT_ENCAPSED_STRING","'total'",32],["T_WHITESPACE","  ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],"&",["T_VARIABLE","$total",32],["T_WHITESPACE","\n\t\t",32],")",";",["T_WHITESPACE","\n\n\t\t",33],["T_VARIABLE","$i",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_LNUMBER","0",35],";",["T_WHITESPACE","\n\n\t\t",35],["T_VARIABLE","$results",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","model_extension_extension",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getExtensions",37],"(",["T_CONSTANT_ENCAPSED_STRING","'total'",37],")",";",["T_WHITESPACE","\n\n\t\t",37],["T_FOREACH","foreach",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$results",39],["T_WHITESPACE"," ",39],["T_AS","as",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$result",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n\t\t\t",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","config",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_VARIABLE","$result",40],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",40],"]",["T_WHITESPACE"," ",40],".",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'_status'",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\t\t\t\t",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","load",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","model",41],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/total\/'",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$result",41],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",41],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",41],["T_COMMENT","\/\/ We have to put the totals in an array so that they pass by reference.\n",43],["T_WHITESPACE","\t\t\t\t",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],"{",["T_CONSTANT_ENCAPSED_STRING","'model_extension_total_'",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_VARIABLE","$result",44],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",44],"]","}",["T_OBJECT_OPERATOR","->",44],["T_STRING","getTotal",44],"(",["T_VARIABLE","$total_data",44],")",";",["T_WHITESPACE","\n\n\t\t\t\t",44],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_ISSET","isset",46],"(",["T_VARIABLE","$order_data",46],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",46],"]","[",["T_VARIABLE","$i",46],"]",")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n\t\t\t\t\t",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_STRING","strstr",47],"(",["T_STRING","strtolower",47],"(",["T_VARIABLE","$order_data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",47],"]","[",["T_VARIABLE","$i",47],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",47],"]",")",",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'total'",47],")",["T_WHITESPACE"," ",47],["T_IS_IDENTICAL","===",47],["T_WHITESPACE"," ",47],["T_STRING","false",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n\t\t\t\t\t\t",47],["T_VARIABLE","$item",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STRING","stdClass",48],"(",")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",48],["T_VARIABLE","$item",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","sku",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$order_data",49],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",49],"]","[",["T_VARIABLE","$i",49],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",49],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",49],["T_VARIABLE","$item",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","name",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$order_data",50],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",50],"]","[",["T_VARIABLE","$i",50],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",50],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",50],["T_VARIABLE","$item",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","amount",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","number_format",51],"(",["T_VARIABLE","$order_data",51],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",51],"]","[",["T_VARIABLE","$i",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",51],"]",",",["T_WHITESPACE"," ",51],["T_LNUMBER","2",51],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",51],["T_VARIABLE","$item",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","qty",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_LNUMBER","1",52],";",["T_WHITESPACE","\n\t\t\t\t\t\t",52],["T_VARIABLE","$item",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","id",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$order_data",53],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",53],"]","[",["T_VARIABLE","$i",53],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",53],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",53],["T_VARIABLE","$item",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","price",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$order_data",54],"[",["T_CONSTANT_ENCAPSED_STRING","'totals'",54],"]","[",["T_VARIABLE","$i",54],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",54],"]",";",["T_WHITESPACE","\n\t\t\t\t\t\t",54],["T_VARIABLE","$item",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","url",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","url",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","link",55],"(",["T_CONSTANT_ENCAPSED_STRING","'common\/home'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","''",55],",",["T_WHITESPACE"," ",55],["T_STRING","true",55],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",55],["T_VARIABLE","$items",56],"[","]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$item",56],";",["T_WHITESPACE","\n\t\t\t\t\t",56],"}",["T_WHITESPACE","\n\n\t\t\t\t\t",57],["T_VARIABLE","$i",59],["T_INC","++",59],";",["T_WHITESPACE","\n\t\t\t\t",59],"}",["T_WHITESPACE","\n\t\t\t",60],"}",["T_WHITESPACE","\n\t\t",61],"}",["T_WHITESPACE","\n\n\t\t",62],["T_VARIABLE","$ordered_products",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","model_account_order",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getOrderProducts",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","session",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","data",64],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",64],"]",")",";",["T_WHITESPACE","\n\n\t\t",64],["T_FOREACH","foreach",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$ordered_products",66],["T_WHITESPACE"," ",66],["T_AS","as",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$product",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n\t\t\t",66],["T_VARIABLE","$item",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","stdClass",67],"(",")",";",["T_WHITESPACE","\n\t\t\t",67],["T_VARIABLE","$item",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","sku",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$product",68],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",68],"]",";",["T_WHITESPACE","\n\t\t\t",68],["T_VARIABLE","$item",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","name",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$product",69],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",69],"]",";",["T_WHITESPACE","\n\t\t\t",69],["T_VARIABLE","$item",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","amount",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$product",70],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",70],"]",["T_WHITESPACE"," ",70],"*",["T_WHITESPACE"," ",70],["T_VARIABLE","$product",70],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",70],"]",";",["T_WHITESPACE","\n\t\t\t",70],["T_VARIABLE","$item",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","qty",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$product",71],"[",["T_CONSTANT_ENCAPSED_STRING","'quantity'",71],"]",";",["T_WHITESPACE","\n\t\t\t",71],["T_VARIABLE","$item",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","id",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$product",72],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",72],"]",";",["T_WHITESPACE","\n\t\t\t",72],["T_VARIABLE","$item",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","price",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$product",73],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",73],"]",";",["T_WHITESPACE","\n\t\t\t",73],["T_VARIABLE","$item",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","url",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","url",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","link",74],"(",["T_CONSTANT_ENCAPSED_STRING","'product\/product'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'product_id='",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_VARIABLE","$product",74],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",74],"]",",",["T_WHITESPACE"," ",74],["T_STRING","true",74],")",";",["T_WHITESPACE","\n\t\t\t",74],["T_VARIABLE","$items",75],"[","]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$item",75],";",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE","\n\n\t\t",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","config",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_environment'",78],")",["T_WHITESPACE"," ",78],["T_IS_EQUAL","==",78],["T_WHITESPACE"," ",78],["T_LNUMBER","1",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_VARIABLE","$url",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/checkout.pay.g2a.com\/index\/createQuote'",79],";",["T_WHITESPACE","\n\t\t",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\t\t\t",80],["T_VARIABLE","$url",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/checkout.test.pay.g2a.com\/index\/createQuote'",81],";",["T_WHITESPACE","\n\t\t",81],"}",["T_WHITESPACE","\n\n\t\t",82],["T_VARIABLE","$order_total",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","number_format",84],"(",["T_VARIABLE","$order_info",84],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",84],"]",",",["T_WHITESPACE"," ",84],["T_LNUMBER","2",84],")",";",["T_WHITESPACE","\n\n\t\t",84],["T_VARIABLE","$string",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","session",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",86],"]",["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$order_total",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$order_info",86],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",86],"]",["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_STRING","html_entity_decode",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","config",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_secret'",86],")",")",";",["T_WHITESPACE","\n\n\t\t",86],["T_VARIABLE","$fields",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_WHITESPACE","\n\t\t\t",88],["T_CONSTANT_ENCAPSED_STRING","'api_hash'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","config",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","get",89],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_api_hash'",89],")",",",["T_WHITESPACE","\n\t\t\t",89],["T_CONSTANT_ENCAPSED_STRING","'hash'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","hash",90],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$string",90],")",",",["T_WHITESPACE","\n\t\t\t",90],["T_CONSTANT_ENCAPSED_STRING","'order_id'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","session",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",91],"]",",",["T_WHITESPACE","\n\t\t\t",91],["T_CONSTANT_ENCAPSED_STRING","'amount'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$order_total",92],",",["T_WHITESPACE","\n\t\t\t",92],["T_CONSTANT_ENCAPSED_STRING","'currency'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$order_info",93],"[",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",93],"]",",",["T_WHITESPACE","\n\t\t\t",93],["T_CONSTANT_ENCAPSED_STRING","'email'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$order_info",94],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",94],"]",",",["T_WHITESPACE","\n\t\t\t",94],["T_CONSTANT_ENCAPSED_STRING","'url_failure'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","url",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","link",95],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/failure'",95],")",",",["T_WHITESPACE","\n\t\t\t",95],["T_CONSTANT_ENCAPSED_STRING","'url_ok'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","url",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","link",96],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/g2apay\/success'",96],")",",",["T_WHITESPACE","\n\t\t\t",96],["T_CONSTANT_ENCAPSED_STRING","'items'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_STRING","json_encode",97],"(",["T_VARIABLE","$items",97],")",["T_WHITESPACE","\n\t\t",97],")",";",["T_WHITESPACE","\n\n\t\t",98],["T_VARIABLE","$response_data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","model_extension_payment_g2apay",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","sendCurl",100],"(",["T_VARIABLE","$url",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$fields",100],")",";",["T_WHITESPACE","\n\n\t\t",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","model_extension_payment_g2apay",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","logger",102],"(",["T_VARIABLE","$order_total",102],")",";",["T_WHITESPACE","\n\t\t",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","model_extension_payment_g2apay",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","logger",103],"(",["T_VARIABLE","$items",103],")",";",["T_WHITESPACE","\n\t\t",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","model_extension_payment_g2apay",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","logger",104],"(",["T_VARIABLE","$fields",104],")",";",["T_WHITESPACE","\n\n\t\t",104],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$response_data",106],["T_WHITESPACE"," ",106],["T_IS_IDENTICAL","===",106],["T_WHITESPACE"," ",106],["T_STRING","false",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n\t\t\t",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","response",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","redirect",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","url",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","link",107],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/failure'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","''",107],",",["T_WHITESPACE"," ",107],["T_STRING","true",107],")",")",";",["T_WHITESPACE","\n\t\t",107],"}",["T_WHITESPACE","\n\n\t\t",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_STRING","strtolower",110],"(",["T_VARIABLE","$response_data",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","status",110],")",["T_WHITESPACE"," ",110],["T_IS_NOT_EQUAL","!=",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'ok'",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\t\t\t",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","response",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","redirect",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","url",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","link",111],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/failure'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],",",["T_WHITESPACE"," ",111],["T_STRING","true",111],")",")",";",["T_WHITESPACE","\n\t\t",111],"}",["T_WHITESPACE","\n\n\t\t",112],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","model_extension_payment_g2apay",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","addG2aOrder",114],"(",["T_VARIABLE","$order_info",114],")",";",["T_WHITESPACE","\n\n\t\t",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","config",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_environment'",116],")",["T_WHITESPACE"," ",116],["T_IS_EQUAL","==",116],["T_WHITESPACE"," ",116],["T_LNUMBER","1",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n\t\t\t",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","response",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","redirect",117],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/checkout.pay.g2a.com\/index\/gateway?token='",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$response_data",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","token",117],")",";",["T_WHITESPACE","\n\t\t",117],"}",["T_WHITESPACE"," ",118],["T_ELSE","else",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n\t\t\t",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","response",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","redirect",119],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/checkout.test.pay.g2a.com\/index\/gateway?token='",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$response_data",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","token",119],")",";",["T_WHITESPACE","\n\t\t",119],"}",["T_WHITESPACE","\n\t",120],"}",["T_WHITESPACE","\n\n\t",121],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","success",123],"(",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n\t\t",123],["T_VARIABLE","$order_id",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","session",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",124],"]",";",["T_WHITESPACE","\n\n\t\t",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","request",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","post",126],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n\t\t\t",126],["T_VARIABLE","$g2apay_transaction_id",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","request",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","post",127],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",127],"]",";",["T_WHITESPACE","\n\t\t",127],"}",["T_WHITESPACE"," ",128],["T_ELSEIF","elseif",128],["T_WHITESPACE"," ",128],"(",["T_ISSET","isset",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","request",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","get",128],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",128],"]",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n\t\t\t",128],["T_VARIABLE","$g2apay_transaction_id",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","request",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"[",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",129],"]",";",["T_WHITESPACE","\n\t\t",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t\t\t",130],["T_VARIABLE","$g2apay_transaction_id",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","''",131],";",["T_WHITESPACE","\n\t\t",131],"}",["T_WHITESPACE","\n\n\t\t",132],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","load",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","model",134],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",134],")",";",["T_WHITESPACE","\n\n\t\t",134],["T_VARIABLE","$order_info",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","model_checkout_order",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getOrder",136],"(",["T_VARIABLE","$order_id",136],")",";",["T_WHITESPACE","\n\n\t\t",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$order_info",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n\t\t\t",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","load",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","model",139],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/g2apay'",139],")",";",["T_WHITESPACE","\n\n\t\t\t",139],["T_VARIABLE","$g2apay_order_info",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","model_extension_payment_g2apay",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getG2aOrder",141],"(",["T_VARIABLE","$order_id",141],")",";",["T_WHITESPACE","\n\n\t\t\t",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","model_extension_payment_g2apay",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","updateOrder",143],"(",["T_VARIABLE","$g2apay_order_info",143],"[",["T_CONSTANT_ENCAPSED_STRING","'g2apay_order_id'",143],"]",",",["T_WHITESPACE"," ",143],["T_VARIABLE","$g2apay_transaction_id",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'payment'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$order_info",143],")",";",["T_WHITESPACE","\n\n\t\t\t",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","model_checkout_order",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","addOrderHistory",145],"(",["T_VARIABLE","$order_id",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","config",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","get",145],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_order_status_id'",145],")",")",";",["T_WHITESPACE","\n\t\t",145],"}",["T_WHITESPACE","\n\n\t\t",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","response",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","redirect",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","url",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","link",148],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/success'",148],")",")",";",["T_WHITESPACE","\n\t",148],"}",["T_WHITESPACE","\n\n\t",149],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","ipn",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n\t\t",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","load",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","model",152],"(",["T_CONSTANT_ENCAPSED_STRING","'extension\/payment\/g2apay'",152],")",";",["T_WHITESPACE","\n\t\t",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","model_extension_payment_g2apay",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","logger",153],"(",["T_CONSTANT_ENCAPSED_STRING","'ipn'",153],")",";",["T_WHITESPACE","\n\n\t\t",153],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_ISSET","isset",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","request",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","get",155],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",155],"]",")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_STRING","hash_equals",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","config",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","get",155],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_secret_token'",155],")",",",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","request",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","get",155],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",155],"]",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n\t\t\t",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","model_extension_payment_g2apay",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","logger",156],"(",["T_CONSTANT_ENCAPSED_STRING","'token success'",156],")",";",["T_WHITESPACE","\n\n\t\t\t",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_ISSET","isset",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","request",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","post",158],"[",["T_CONSTANT_ENCAPSED_STRING","'userOrderId'",158],"]",")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n\t\t\t\t",158],["T_VARIABLE","$g2apay_order",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","model_extension_payment_g2apay",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getG2aOrder",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","request",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","post",159],"[",["T_CONSTANT_ENCAPSED_STRING","'userOrderId'",159],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",159],["T_VARIABLE","$string",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$g2apay_order",161],"[",["T_CONSTANT_ENCAPSED_STRING","'g2apay_transaction_id'",161],"]",["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_VARIABLE","$g2apay_order",161],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",161],"]",["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_STRING","round",161],"(",["T_VARIABLE","$g2apay_order",161],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",161],"]",",",["T_WHITESPACE"," ",161],["T_LNUMBER","2",161],")",["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_STRING","html_entity_decode",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","config",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","get",161],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_secret'",161],")",")",";",["T_WHITESPACE","\n\t\t\t\t",161],["T_VARIABLE","$hash",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","hash",162],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$string",162],")",";",["T_WHITESPACE","\n\t\t\t\t",162],["T_IF","if",163],"(",["T_VARIABLE","$hash",163],["T_WHITESPACE"," ",163],["T_IS_NOT_EQUAL","!=",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","request",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","post",163],"[",["T_CONSTANT_ENCAPSED_STRING","'hash'",163],"]",")","{",["T_WHITESPACE","\n\t\t\t\t\t",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","model_extension_payment_g2apay",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","logger",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Hashes do not match, possible tampering!'",164],")",";",["T_WHITESPACE","\n\t\t\t\t\t",164],["T_RETURN","return",165],";",["T_WHITESPACE","\n\t\t\t\t",165],"}",["T_WHITESPACE","\n\n\t\t\t\t",166],["T_SWITCH","switch",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","request",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","post",168],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",168],"]",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n\t\t\t\t\t",168],["T_CASE","case",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'complete'",169],":",["T_WHITESPACE","\n\t\t\t\t\t\t",169],["T_VARIABLE","$order_status_id",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","config",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","get",170],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_complete_status_id'",170],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",170],["T_BREAK","break",171],";",["T_WHITESPACE","\n\t\t\t\t\t",171],["T_CASE","case",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'rejected'",172],":",["T_WHITESPACE","\n\t\t\t\t\t\t",172],["T_VARIABLE","$order_status_id",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","config",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","get",173],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_rejected_status_id'",173],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",173],["T_BREAK","break",174],";",["T_WHITESPACE","\n\t\t\t\t\t",174],["T_CASE","case",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'canceled'",175],":",["T_WHITESPACE","\n\t\t\t\t\t\t",175],["T_VARIABLE","$order_status_id",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","config",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","get",176],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_cancelled_status_id'",176],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",176],["T_BREAK","break",177],";",["T_WHITESPACE","\n\t\t\t\t\t",177],["T_CASE","case",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'partial_refunded'",178],":",["T_WHITESPACE","\n\t\t\t\t\t\t",178],["T_VARIABLE","$order_status_id",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","config",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_partially_refunded_status_id'",179],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",179],["T_BREAK","break",180],";",["T_WHITESPACE","\n\t\t\t\t\t",180],["T_CASE","case",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'refunded'",181],":",["T_WHITESPACE","\n\t\t\t\t\t\t",181],["T_VARIABLE","$order_status_id",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","config",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","get",182],"(",["T_CONSTANT_ENCAPSED_STRING","'g2apay_refunded_status_id'",182],")",";",["T_WHITESPACE","\n\t\t\t\t\t\t",182],["T_BREAK","break",183],";",["T_WHITESPACE","\n\t\t\t\t",183],"}",["T_WHITESPACE","\n\n\t\t\t\t",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","load",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","model",186],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/order'",186],")",";",["T_WHITESPACE","\n\t\t\t\t",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","model_checkout_order",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","addOrderHistory",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","request",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","post",187],"[",["T_CONSTANT_ENCAPSED_STRING","'userOrderId'",187],"]",",",["T_WHITESPACE"," ",187],["T_VARIABLE","$order_status_id",187],")",";",["T_WHITESPACE","\n\t\t\t",187],"}",["T_WHITESPACE","\n\t\t",188],"}",["T_WHITESPACE","\n\t",189],"}",["T_WHITESPACE","\n",190],"}",["T_WHITESPACE","\n",191]]