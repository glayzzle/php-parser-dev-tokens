[["T_OPEN_TAG","<?php\n",1],["T_CLASS","class",2],["T_WHITESPACE"," ",2],["T_STRING","ControllerApiCustomer",2],["T_WHITESPACE"," ",2],["T_EXTENDS","extends",2],["T_WHITESPACE"," ",2],["T_STRING","Controller",2],["T_WHITESPACE"," ",2],"{",["T_WHITESPACE","\n\t",2],["T_PUBLIC","public",3],["T_WHITESPACE"," ",3],["T_FUNCTION","function",3],["T_WHITESPACE"," ",3],["T_STRING","index",3],"(",")",["T_WHITESPACE"," ",3],"{",["T_WHITESPACE","\n\t\t",3],["T_VARIABLE","$this",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","load",4],["T_OBJECT_OPERATOR","->",4],["T_STRING","language",4],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/customer'",4],")",";",["T_WHITESPACE","\n\n\t\t",4],["T_COMMENT","\/\/ Delete past customer in case there is an error\n",6],["T_WHITESPACE","\t\t",7],["T_UNSET","unset",7],"(",["T_VARIABLE","$this",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","session",7],["T_OBJECT_OPERATOR","->",7],["T_STRING","data",7],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",7],"]",")",";",["T_WHITESPACE","\n\n\t\t",7],["T_VARIABLE","$json",9],["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_ARRAY","array",9],"(",")",";",["T_WHITESPACE","\n\n\t\t",9],["T_IF","if",11],["T_WHITESPACE"," ",11],"(","!",["T_ISSET","isset",11],"(",["T_VARIABLE","$this",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","session",11],["T_OBJECT_OPERATOR","->",11],["T_STRING","data",11],"[",["T_CONSTANT_ENCAPSED_STRING","'api_id'",11],"]",")",")",["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\t\t\t",11],["T_VARIABLE","$json",12],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",12],"]","[",["T_CONSTANT_ENCAPSED_STRING","'warning'",12],"]",["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_VARIABLE","$this",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","language",12],["T_OBJECT_OPERATOR","->",12],["T_STRING","get",12],"(",["T_CONSTANT_ENCAPSED_STRING","'error_permission'",12],")",";",["T_WHITESPACE","\n\t\t",12],"}",["T_WHITESPACE"," ",13],["T_ELSE","else",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\t\t\t",13],["T_COMMENT","\/\/ Add keys for missing post vars\n",14],["T_WHITESPACE","\t\t\t",15],["T_VARIABLE","$keys",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_ARRAY","array",15],"(",["T_WHITESPACE","\n\t\t\t\t",15],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",16],",",["T_WHITESPACE","\n\t\t\t\t",16],["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",17],",",["T_WHITESPACE","\n\t\t\t\t",17],["T_CONSTANT_ENCAPSED_STRING","'firstname'",18],",",["T_WHITESPACE","\n\t\t\t\t",18],["T_CONSTANT_ENCAPSED_STRING","'lastname'",19],",",["T_WHITESPACE","\n\t\t\t\t",19],["T_CONSTANT_ENCAPSED_STRING","'email'",20],",",["T_WHITESPACE","\n\t\t\t\t",20],["T_CONSTANT_ENCAPSED_STRING","'telephone'",21],",",["T_WHITESPACE","\n\t\t\t\t",21],["T_CONSTANT_ENCAPSED_STRING","'fax'",22],["T_WHITESPACE","\n\t\t\t",22],")",";",["T_WHITESPACE","\n\n\t\t\t",23],["T_FOREACH","foreach",25],["T_WHITESPACE"," ",25],"(",["T_VARIABLE","$keys",25],["T_WHITESPACE"," ",25],["T_AS","as",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$key",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\t\t\t\t",25],["T_IF","if",26],["T_WHITESPACE"," ",26],"(","!",["T_ISSET","isset",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","request",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","post",26],"[",["T_VARIABLE","$key",26],"]",")",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\t\t\t\t\t",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","request",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","post",27],"[",["T_VARIABLE","$key",27],"]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","''",27],";",["T_WHITESPACE","\n\t\t\t\t",27],"}",["T_WHITESPACE","\n\t\t\t",28],"}",["T_WHITESPACE","\n\n\t\t\t",29],["T_COMMENT","\/\/ Customer\n",31],["T_WHITESPACE","\t\t\t",32],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","request",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","post",32],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",32],"]",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\t\t\t\t",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","load",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","model",33],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/customer'",33],")",";",["T_WHITESPACE","\n\n\t\t\t\t",33],["T_VARIABLE","$customer_info",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","model_account_customer",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getCustomer",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","request",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","post",35],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",35],"]",")",";",["T_WHITESPACE","\n\n\t\t\t\t",35],["T_IF","if",37],["T_WHITESPACE"," ",37],"(","!",["T_VARIABLE","$customer_info",37],["T_WHITESPACE"," ",37],["T_BOOLEAN_OR","||",37],["T_WHITESPACE"," ",37],"!",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","customer",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","login",37],"(",["T_VARIABLE","$customer_info",37],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",37],"]",",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","''",37],",",["T_WHITESPACE"," ",37],["T_STRING","true",37],")",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n\t\t\t\t\t",37],["T_VARIABLE","$json",38],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",38],"]","[",["T_CONSTANT_ENCAPSED_STRING","'warning'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","language",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'error_customer'",38],")",";",["T_WHITESPACE","\n\t\t\t\t",38],"}",["T_WHITESPACE","\n\t\t\t",39],"}",["T_WHITESPACE","\n\n\t\t\t",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(","(",["T_STRING","utf8_strlen",42],"(",["T_STRING","trim",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","post",42],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",42],"]",")",")",["T_WHITESPACE"," ",42],"<",["T_WHITESPACE"," ",42],["T_LNUMBER","1",42],")",["T_WHITESPACE"," ",42],["T_BOOLEAN_OR","||",42],["T_WHITESPACE"," ",42],"(",["T_STRING","utf8_strlen",42],"(",["T_STRING","trim",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","post",42],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",42],"]",")",")",["T_WHITESPACE"," ",42],">",["T_WHITESPACE"," ",42],["T_LNUMBER","32",42],")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n\t\t\t\t",42],["T_VARIABLE","$json",43],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",43],"]","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","language",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'error_firstname'",43],")",";",["T_WHITESPACE","\n\t\t\t",43],"}",["T_WHITESPACE","\n\n\t\t\t",44],["T_IF","if",46],["T_WHITESPACE"," ",46],"(","(",["T_STRING","utf8_strlen",46],"(",["T_STRING","trim",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","request",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","post",46],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",46],"]",")",")",["T_WHITESPACE"," ",46],"<",["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],")",["T_WHITESPACE"," ",46],["T_BOOLEAN_OR","||",46],["T_WHITESPACE"," ",46],"(",["T_STRING","utf8_strlen",46],"(",["T_STRING","trim",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","request",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","post",46],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",46],"]",")",")",["T_WHITESPACE"," ",46],">",["T_WHITESPACE"," ",46],["T_LNUMBER","32",46],")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n\t\t\t\t",46],["T_VARIABLE","$json",47],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",47],"]","[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",47],"]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","language",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_CONSTANT_ENCAPSED_STRING","'error_lastname'",47],")",";",["T_WHITESPACE","\n\t\t\t",47],"}",["T_WHITESPACE","\n\n\t\t\t",48],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","(",["T_STRING","utf8_strlen",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","request",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","post",50],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",50],"]",")",["T_WHITESPACE"," ",50],">",["T_WHITESPACE"," ",50],["T_LNUMBER","96",50],")",["T_WHITESPACE"," ",50],["T_BOOLEAN_OR","||",50],["T_WHITESPACE"," ",50],"(","!",["T_STRING","filter_var",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","request",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","post",50],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",50],"]",",",["T_WHITESPACE"," ",50],["T_STRING","FILTER_VALIDATE_EMAIL",50],")",")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n\t\t\t\t",50],["T_VARIABLE","$json",51],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'email'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","language",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'error_email'",51],")",";",["T_WHITESPACE","\n\t\t\t",51],"}",["T_WHITESPACE","\n\n\t\t\t",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","(",["T_STRING","utf8_strlen",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","request",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","post",54],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",54],"]",")",["T_WHITESPACE"," ",54],"<",["T_WHITESPACE"," ",54],["T_LNUMBER","3",54],")",["T_WHITESPACE"," ",54],["T_BOOLEAN_OR","||",54],["T_WHITESPACE"," ",54],"(",["T_STRING","utf8_strlen",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","request",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","post",54],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",54],"]",")",["T_WHITESPACE"," ",54],">",["T_WHITESPACE"," ",54],["T_LNUMBER","32",54],")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\t\t\t\t",54],["T_VARIABLE","$json",55],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",55],"]","[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","language",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'error_telephone'",55],")",";",["T_WHITESPACE","\n\t\t\t",55],"}",["T_WHITESPACE","\n\n\t\t\t",56],["T_COMMENT","\/\/ Customer Group\n",58],["T_WHITESPACE","\t\t\t",59],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_STRING","is_array",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","config",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_display'",59],")",")",["T_WHITESPACE"," ",59],["T_BOOLEAN_AND","&&",59],["T_WHITESPACE"," ",59],["T_STRING","in_array",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","request",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","post",59],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",59],"]",",",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","config",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_display'",59],")",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n\t\t\t\t",59],["T_VARIABLE","$customer_group_id",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","request",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","post",60],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",60],"]",";",["T_WHITESPACE","\n\t\t\t",60],"}",["T_WHITESPACE"," ",61],["T_ELSE","else",61],["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n\t\t\t\t",61],["T_VARIABLE","$customer_group_id",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","config",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'config_customer_group_id'",62],")",";",["T_WHITESPACE","\n\t\t\t",62],"}",["T_WHITESPACE","\n\n\t\t\t",63],["T_COMMENT","\/\/ Custom field validation\n",65],["T_WHITESPACE","\t\t\t",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","load",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","model",66],"(",["T_CONSTANT_ENCAPSED_STRING","'account\/custom_field'",66],")",";",["T_WHITESPACE","\n\n\t\t\t",66],["T_VARIABLE","$custom_fields",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","model_account_custom_field",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getCustomFields",68],"(",["T_VARIABLE","$customer_group_id",68],")",";",["T_WHITESPACE","\n\n\t\t\t",68],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$custom_fields",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$custom_field",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t\t",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","(",["T_VARIABLE","$custom_field",71],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",71],"]",["T_WHITESPACE"," ",71],["T_IS_EQUAL","==",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'account'",71],")",["T_WHITESPACE"," ",71],["T_BOOLEAN_AND","&&",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$custom_field",71],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",71],"]",["T_WHITESPACE"," ",71],["T_BOOLEAN_AND","&&",71],["T_WHITESPACE"," ",71],["T_EMPTY","empty",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","request",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","post",71],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",71],"]","[",["T_VARIABLE","$custom_field",71],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field_id'",71],"]","]",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n\t\t\t\t\t",71],["T_VARIABLE","$json",72],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$custom_field",72],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field_id'",72],"]","]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","sprintf",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","language",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","get",72],"(",["T_CONSTANT_ENCAPSED_STRING","'error_custom_field'",72],")",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$custom_field",72],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",72],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",72],"}",["T_WHITESPACE"," ",73],["T_ELSEIF","elseif",73],["T_WHITESPACE"," ",73],"(","(",["T_VARIABLE","$custom_field",73],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",73],"]",["T_WHITESPACE"," ",73],["T_IS_EQUAL","==",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'account'",73],")",["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$custom_field",73],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",73],"]",["T_WHITESPACE"," ",73],["T_IS_EQUAL","==",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'text'",73],")",["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],"!",["T_EMPTY","empty",73],"(",["T_VARIABLE","$custom_field",73],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",73],"]",")",["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],"!",["T_STRING","filter_var",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","request",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","post",73],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",73],"]","[",["T_VARIABLE","$custom_field",73],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field_id'",73],"]","]",",",["T_WHITESPACE"," ",73],["T_STRING","FILTER_VALIDATE_REGEXP",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'regexp'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$custom_field",73],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",73],"]",")",")",")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n\t\t\t\t\t",73],["T_VARIABLE","$json",74],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",74],"]","[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_VARIABLE","$custom_field",74],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field_id'",74],"]","]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","sprintf",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","language",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'error_custom_field'",74],")",",",["T_WHITESPACE"," ",74],["T_VARIABLE","$custom_field",74],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",74],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",74],"}",["T_WHITESPACE","\n\t\t\t",75],"}",["T_WHITESPACE","\n\n\t\t\t",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_VARIABLE","$json",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t\t",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","session",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","data",79],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n\t\t\t\t\t",79],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",80],["T_WHITESPACE","       ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","request",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","post",80],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",80],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",80],["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$customer_group_id",81],",",["T_WHITESPACE","\n\t\t\t\t\t",81],["T_CONSTANT_ENCAPSED_STRING","'firstname'",82],["T_WHITESPACE","         ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","request",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","post",82],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",82],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",82],["T_CONSTANT_ENCAPSED_STRING","'lastname'",83],["T_WHITESPACE","          ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","request",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","post",83],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",83],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",83],["T_CONSTANT_ENCAPSED_STRING","'email'",84],["T_WHITESPACE","             ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","request",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","post",84],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",84],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",84],["T_CONSTANT_ENCAPSED_STRING","'telephone'",85],["T_WHITESPACE","         ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","request",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","post",85],"[",["T_CONSTANT_ENCAPSED_STRING","'telephone'",85],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",85],["T_CONSTANT_ENCAPSED_STRING","'fax'",86],["T_WHITESPACE","               ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","request",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","post",86],"[",["T_CONSTANT_ENCAPSED_STRING","'fax'",86],"]",",",["T_WHITESPACE","\n\t\t\t\t\t",86],["T_CONSTANT_ENCAPSED_STRING","'custom_field'",87],["T_WHITESPACE","      ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_ISSET","isset",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","request",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","post",87],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",87],"]",")",["T_WHITESPACE"," ",87],"?",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","request",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","post",87],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_field'",87],"]",["T_WHITESPACE"," ",87],":",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",")",["T_WHITESPACE","\n\t\t\t\t",87],")",";",["T_WHITESPACE","\n\n\t\t\t\t",88],["T_VARIABLE","$json",90],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","language",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","get",90],"(",["T_CONSTANT_ENCAPSED_STRING","'text_success'",90],")",";",["T_WHITESPACE","\n\t\t\t",90],"}",["T_WHITESPACE","\n\t\t",91],"}",["T_WHITESPACE","\n\n\t\t",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","request",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","server",94],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ORIGIN'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n\t\t\t",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","response",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addHeader",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Access-Control-Allow-Origin: '",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","request",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","server",95],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ORIGIN'",95],"]",")",";",["T_WHITESPACE","\n\t\t\t",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","response",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addHeader",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Access-Control-Allow-Methods: GET, PUT, POST, DELETE, OPTIONS'",96],")",";",["T_WHITESPACE","\n\t\t\t",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","response",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","addHeader",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Access-Control-Max-Age: 1000'",97],")",";",["T_WHITESPACE","\n\t\t\t",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","response",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addHeader",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Access-Control-Allow-Headers: Content-Type, Authorization, X-Requested-With'",98],")",";",["T_WHITESPACE","\n\t\t",98],"}",["T_WHITESPACE","\n\n\t\t",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","response",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","addHeader",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",101],")",";",["T_WHITESPACE","\n\t\t",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","response",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setOutput",102],"(",["T_STRING","json_encode",102],"(",["T_VARIABLE","$json",102],")",")",";",["T_WHITESPACE","\n\t",102],"}",["T_WHITESPACE","\n",103],"}",["T_WHITESPACE","\n",104]]