[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","menu_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Base class for menu web tests.\n *\/",7],["T_WHITESPACE","\n",9],["T_ABSTRACT","abstract",10],["T_WHITESPACE"," ",10],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","MenuWebTestBase",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","WebTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_ui'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",17],")",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Fetches the menu item from the database and compares it to expected item.\n   *\n   * @param int $menu_plugin_id\n   *   Menu item id.\n   * @param array $expected_item\n   *   Array containing properties to verify.\n   *\/",19],["T_WHITESPACE","\n  ",26],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","assertMenuLink",27],"(",["T_VARIABLE","$menu_plugin_id",27],",",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$expected_item",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_COMMENT","\/\/ Retrieve menu link.\n",28],["T_WHITESPACE","    ",29],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Menu\\MenuLinkManagerInterface $menu_link_manager *\/",29],["T_WHITESPACE","\n    ",29],["T_VARIABLE","$menu_link_manager",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Drupal",30],["T_DOUBLE_COLON","::",30],["T_STRING","service",30],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.menu.link'",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$menu_link_manager",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","resetDefinitions",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/\/ Reset the static load cache.\n",32],["T_WHITESPACE","    ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Drupal",33],["T_DOUBLE_COLON","::",33],["T_STRING","entityManager",33],"(",")",["T_OBJECT_OPERATOR","->",33],["T_STRING","getStorage",33],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",33],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","resetCache",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$definition",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$menu_link_manager",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getDefinition",34],"(",["T_VARIABLE","$menu_plugin_id",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$entity",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","NULL",36],";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Pull the path from the menu link content.\n",38],["T_WHITESPACE","    ",39],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_STRING","strpos",39],"(",["T_VARIABLE","$menu_plugin_id",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",39],")",["T_WHITESPACE"," ",39],["T_IS_IDENTICAL","===",39],["T_WHITESPACE"," ",39],["T_LNUMBER","0",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n      ",39],["T_LIST","list",40],"(",",",["T_WHITESPACE"," ",40],["T_VARIABLE","$uuid",40],")",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","explode",40],"(",["T_CONSTANT_ENCAPSED_STRING","':'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$menu_plugin_id",40],",",["T_WHITESPACE"," ",40],["T_LNUMBER","2",40],")",";",["T_WHITESPACE","\n      ",40],["T_DOC_COMMENT","\/** @var \\Drupal\\menu_link_content\\Entity\\MenuLinkContent $entity *\/",41],["T_WHITESPACE","\n      ",41],["T_VARIABLE","$entity",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Drupal",42],["T_DOUBLE_COLON","::",42],["T_STRING","entityManager",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","loadEntityByUuid",42],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$uuid",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_ISSET","isset",45],"(",["T_VARIABLE","$expected_item",45],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",45],"]",")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$child_ids",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","array_values",46],"(",["T_VARIABLE","$menu_link_manager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getChildIds",46],"(",["T_VARIABLE","$menu_plugin_id",46],")",")",";",["T_WHITESPACE","\n      ",46],["T_STRING","sort",47],"(",["T_VARIABLE","$expected_item",47],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",47],"]",")",";",["T_WHITESPACE","\n      ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$child_ids",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n        ",48],["T_STRING","sort",49],"(",["T_VARIABLE","$child_ids",49],")",";",["T_WHITESPACE","\n      ",49],"}",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEqual",51],"(",["T_VARIABLE","$expected_item",51],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",51],"]",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$child_ids",51],")",";",["T_WHITESPACE","\n      ",51],["T_UNSET","unset",52],"(",["T_VARIABLE","$expected_item",52],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",52],"]",")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_ISSET","isset",55],"(",["T_VARIABLE","$expected_item",55],"[",["T_CONSTANT_ENCAPSED_STRING","'parents'",55],"]",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$parent_ids",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","array_values",56],"(",["T_VARIABLE","$menu_link_manager",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getParentIds",56],"(",["T_VARIABLE","$menu_plugin_id",56],")",")",";",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_VARIABLE","$expected_item",57],"[",["T_CONSTANT_ENCAPSED_STRING","'parents'",57],"]",",",["T_WHITESPACE"," ",57],["T_VARIABLE","$parent_ids",57],")",";",["T_WHITESPACE","\n      ",57],["T_UNSET","unset",58],"(",["T_VARIABLE","$expected_item",58],"[",["T_CONSTANT_ENCAPSED_STRING","'parents'",58],"]",")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_ISSET","isset",61],"(",["T_VARIABLE","$expected_item",61],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",61],"]",")",["T_WHITESPACE"," ",61],["T_BOOLEAN_AND","&&",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$entity",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_VARIABLE","$entity",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","langcode",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","value",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$expected_item",62],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",62],"]",")",";",["T_WHITESPACE","\n      ",62],["T_UNSET","unset",63],"(",["T_VARIABLE","$expected_item",63],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",63],"]",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_ISSET","isset",66],"(",["T_VARIABLE","$expected_item",66],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",66],"]",")",["T_WHITESPACE"," ",66],["T_BOOLEAN_AND","&&",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$entity",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$entity",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","enabled",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","value",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$expected_item",67],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",67],"]",")",";",["T_WHITESPACE","\n      ",67],["T_UNSET","unset",68],"(",["T_VARIABLE","$expected_item",68],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",68],"]",")",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$expected_item",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$key",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$value",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertTrue",72],"(",["T_ISSET","isset",72],"(",["T_VARIABLE","$definition",72],"[",["T_VARIABLE","$key",72],"]",")",")",";",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEqual",73],"(",["T_VARIABLE","$definition",73],"[",["T_VARIABLE","$key",73],"]",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$value",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n",75],"}",["T_WHITESPACE","\n",77]]