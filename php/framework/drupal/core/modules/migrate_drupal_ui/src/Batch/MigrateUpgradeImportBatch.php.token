[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate_drupal_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Batch",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Link",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","StringTranslation",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PluralTranslatableMarkup",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","StringTranslation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TranslatableMarkup",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","migrate",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MigrationInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","migrate",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MigrateEvents",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","migrate",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MigrateIdMapMessageEvent",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","migrate",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Event",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MigrateMapDeleteEvent",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","migrate",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Event",13],["T_NS_SEPARATOR","\\",13],["T_STRING","MigrateMapSaveEvent",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","migrate",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Event",14],["T_NS_SEPARATOR","\\",14],["T_STRING","MigratePostRowSaveEvent",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","migrate",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Event",15],["T_NS_SEPARATOR","\\",15],["T_STRING","MigrateRowDeleteEvent",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","migrate",16],["T_NS_SEPARATOR","\\",16],["T_STRING","MigrateExecutable",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * Runs a single migration batch.\n *\/",18],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","MigrateUpgradeImportBatch",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Maximum number of previous messages to display.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","MESSAGE_LENGTH",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_LNUMBER","20",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The processed items for one batch of a given migration.\n   *\n   * @var int\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_STATIC","static",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$numProcessed",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_LNUMBER","0",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Ensure we only add the listeners once per request.\n   *\n   * @var bool\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_STATIC","static",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$listenersAdded",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","FALSE",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The maximum length in seconds to allow processing in a request.\n   *\n   * @see self::run()\n   *\n   * @var int\n   *\/",42],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_STATIC","static",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$maxExecTime",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * MigrateMessage instance to capture messages during the migration process.\n   *\n   * @var \\Drupal\\migrate_drupal_ui\\Batch\\MigrateMessageCapture\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_STATIC","static",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$messages",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Runs a single migrate batch import.\n   *\n   * @param int[] $initial_ids\n   *   The full set of migration IDs to import.\n   * @param array $config\n   *   An array of additional configuration from the form.\n   * @param array $context\n   *   The batch context.\n   *\/",58],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_STATIC","static",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","run",68],"(",["T_VARIABLE","$initial_ids",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$config",68],",",["T_WHITESPACE"," ",68],"&",["T_VARIABLE","$context",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_STATIC","static",69],["T_DOUBLE_COLON","::",69],["T_VARIABLE","$listenersAdded",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$event_dispatcher",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","service",70],"(",["T_CONSTANT_ENCAPSED_STRING","'event_dispatcher'",70],")",";",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$event_dispatcher",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","addListener",71],"(",["T_STRING","MigrateEvents",71],["T_DOUBLE_COLON","::",71],["T_STRING","POST_ROW_SAVE",71],",",["T_WHITESPACE"," ",71],"[",["T_STATIC","static",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'onPostRowSave'",71],"]",")",";",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$event_dispatcher",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addListener",72],"(",["T_STRING","MigrateEvents",72],["T_DOUBLE_COLON","::",72],["T_STRING","MAP_SAVE",72],",",["T_WHITESPACE"," ",72],"[",["T_STATIC","static",72],["T_DOUBLE_COLON","::",72],["T_CLASS","class",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'onMapSave'",72],"]",")",";",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$event_dispatcher",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","addListener",73],"(",["T_STRING","MigrateEvents",73],["T_DOUBLE_COLON","::",73],["T_STRING","IDMAP_MESSAGE",73],",",["T_WHITESPACE"," ",73],"[",["T_STATIC","static",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'onIdMapMessage'",73],"]",")",";",["T_WHITESPACE","\n\n      ",73],["T_STATIC","static",75],["T_DOUBLE_COLON","::",75],["T_VARIABLE","$maxExecTime",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","ini_get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'max_execution_time'",75],")",";",["T_WHITESPACE","\n      ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_STATIC","static",76],["T_DOUBLE_COLON","::",76],["T_VARIABLE","$maxExecTime",76],["T_WHITESPACE"," ",76],["T_IS_SMALLER_OR_EQUAL","<=",76],["T_WHITESPACE"," ",76],["T_LNUMBER","0",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n        ",76],["T_STATIC","static",77],["T_DOUBLE_COLON","::",77],["T_VARIABLE","$maxExecTime",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","60",77],";",["T_WHITESPACE","\n      ",77],"}",["T_WHITESPACE","\n      ",78],["T_COMMENT","\/\/ Set an arbitrary threshold of 3 seconds (e.g., if max_execution_time is\n",79],["T_WHITESPACE","      ",80],["T_COMMENT","\/\/ 45 seconds, we will quit at 42 seconds so a slow item or cleanup\n",80],["T_WHITESPACE","      ",81],["T_COMMENT","\/\/ overhead don't put us over 45).\n",81],["T_WHITESPACE","      ",82],["T_STATIC","static",82],["T_DOUBLE_COLON","::",82],["T_VARIABLE","$maxExecTime",82],["T_WHITESPACE"," ",82],["T_MINUS_EQUAL","-=",82],["T_WHITESPACE"," ",82],["T_LNUMBER","3",82],";",["T_WHITESPACE","\n      ",82],["T_STATIC","static",83],["T_DOUBLE_COLON","::",83],["T_VARIABLE","$listenersAdded",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","TRUE",83],";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n    ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_ISSET","isset",85],"(",["T_VARIABLE","$context",85],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",85],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$context",86],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",86],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","count",86],"(",["T_VARIABLE","$initial_ids",86],")",";",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$context",87],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",87],"]","[",["T_CONSTANT_ENCAPSED_STRING","'current'",87],"]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_LNUMBER","1",87],";",["T_WHITESPACE","\n      ",87],["T_COMMENT","\/\/ Total number processed for this migration.\n",88],["T_WHITESPACE","      ",89],["T_VARIABLE","$context",89],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",89],"]","[",["T_CONSTANT_ENCAPSED_STRING","'num_processed'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_LNUMBER","0",89],";",["T_WHITESPACE","\n      ",89],["T_COMMENT","\/\/ migration_ids will be the list of IDs remaining to run.\n",90],["T_WHITESPACE","      ",91],["T_VARIABLE","$context",91],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",91],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$initial_ids",91],";",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$context",92],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[","]",";",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$context",93],"[",["T_CONSTANT_ENCAPSED_STRING","'results'",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'failures'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","0",93],";",["T_WHITESPACE","\n      ",93],["T_VARIABLE","$context",94],"[",["T_CONSTANT_ENCAPSED_STRING","'results'",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'successes'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Number processed in this batch.\n",97],["T_WHITESPACE","    ",98],["T_STATIC","static",98],["T_DOUBLE_COLON","::",98],["T_VARIABLE","$numProcessed",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_LNUMBER","0",98],";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$migration_id",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","reset",100],"(",["T_VARIABLE","$context",100],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",100],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",100],"]",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$definition",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Drupal",101],["T_DOUBLE_COLON","::",101],["T_STRING","service",101],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getDefinition",101],"(",["T_VARIABLE","$migration_id",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$configuration",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[","]",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ @todo Find a way to avoid this in https:\/\/www.drupal.org\/node\/2804611.\n",104],["T_WHITESPACE","    ",105],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$definition",105],"[",["T_CONSTANT_ENCAPSED_STRING","'destination'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",105],"]",["T_WHITESPACE"," ",105],["T_IS_IDENTICAL","===",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'entity:file'",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_COMMENT","\/\/ Make sure we have a single trailing slash.\n",106],["T_WHITESPACE","      ",107],["T_VARIABLE","$configuration",107],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",107],"]","[",["T_CONSTANT_ENCAPSED_STRING","'constants'",107],"]","[",["T_CONSTANT_ENCAPSED_STRING","'source_base_path'",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","rtrim",107],"(",["T_VARIABLE","$config",107],"[",["T_CONSTANT_ENCAPSED_STRING","'source_base_path'",107],"]",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/'",107],")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/'",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/** @var \\Drupal\\migrate\\Plugin\\Migration $migration *\/",110],["T_WHITESPACE","\n    ",110],["T_VARIABLE","$migration",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Drupal",111],["T_DOUBLE_COLON","::",111],["T_STRING","service",111],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",111],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","createInstance",111],"(",["T_VARIABLE","$migration_id",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$configuration",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$migration",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_STATIC","static",114],["T_DOUBLE_COLON","::",114],["T_VARIABLE","$messages",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","MigrateMessageCapture",114],"(",")",";",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$executable",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_STRING","MigrateExecutable",115],"(",["T_VARIABLE","$migration",115],",",["T_WHITESPACE"," ",115],["T_STATIC","static",115],["T_DOUBLE_COLON","::",115],["T_VARIABLE","$messages",115],")",";",["T_WHITESPACE","\n\n      ",115],["T_VARIABLE","$migration_name",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$migration",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","label",117],"(",")",["T_WHITESPACE"," ",117],"?",["T_WHITESPACE"," ",117],["T_VARIABLE","$migration",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","label",117],"(",")",["T_WHITESPACE"," ",117],":",["T_WHITESPACE"," ",117],["T_VARIABLE","$migration_id",117],";",["T_WHITESPACE","\n\n      ",117],["T_TRY","try",119],["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$migration_status",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$executable",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","import",120],"(",")",";",["T_WHITESPACE","\n      ",120],"}",["T_WHITESPACE","\n      ",121],["T_CATCH","catch",122],["T_WHITESPACE"," ",122],"(",["T_NS_SEPARATOR","\\",122],["T_STRING","Exception",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$e",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n        ",122],["T_NS_SEPARATOR","\\",123],["T_STRING","Drupal",123],["T_DOUBLE_COLON","::",123],["T_STRING","logger",123],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal_ui'",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","error",123],"(",["T_VARIABLE","$e",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getMessage",123],"(",")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$migration_status",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","MigrationInterface",124],["T_DOUBLE_COLON","::",124],["T_STRING","RESULT_FAILED",124],";",["T_WHITESPACE","\n      ",124],"}",["T_WHITESPACE","\n\n      ",125],["T_SWITCH","switch",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$migration_status",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n        ",127],["T_CASE","case",128],["T_WHITESPACE"," ",128],["T_STRING","MigrationInterface",128],["T_DOUBLE_COLON","::",128],["T_STRING","RESULT_COMPLETED",128],":",["T_WHITESPACE","\n          ",128],["T_COMMENT","\/\/ Store the number processed in the sandbox.\n",129],["T_WHITESPACE","          ",130],["T_VARIABLE","$context",130],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",130],"]","[",["T_CONSTANT_ENCAPSED_STRING","'num_processed'",130],"]",["T_WHITESPACE"," ",130],["T_PLUS_EQUAL","+=",130],["T_WHITESPACE"," ",130],["T_STATIC","static",130],["T_DOUBLE_COLON","::",130],["T_VARIABLE","$numProcessed",130],";",["T_WHITESPACE","\n          ",130],["T_VARIABLE","$message",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","PluralTranslatableMarkup",131],"(",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$context",132],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",132],"]","[",["T_CONSTANT_ENCAPSED_STRING","'num_processed'",132],"]",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Upgraded @migration (processed 1 item total)'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Upgraded @migration (processed @count items total)'",132],",",["T_WHITESPACE","\n            ",132],"[",["T_CONSTANT_ENCAPSED_STRING","'@migration'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$migration_name",133],"]",")",";",["T_WHITESPACE","\n          ",133],["T_VARIABLE","$context",134],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",134],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",134],"]","[","]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING_CAST","(string)",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$message",134],";",["T_WHITESPACE","\n          ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Drupal",135],["T_DOUBLE_COLON","::",135],["T_STRING","logger",135],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal_ui'",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","notice",135],"(",["T_VARIABLE","$message",135],")",";",["T_WHITESPACE","\n          ",135],["T_VARIABLE","$context",136],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'num_processed'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_LNUMBER","0",136],";",["T_WHITESPACE","\n          ",136],["T_VARIABLE","$context",137],"[",["T_CONSTANT_ENCAPSED_STRING","'results'",137],"]","[",["T_CONSTANT_ENCAPSED_STRING","'successes'",137],"]",["T_INC","++",137],";",["T_WHITESPACE","\n          ",137],["T_BREAK","break",138],";",["T_WHITESPACE","\n\n        ",138],["T_CASE","case",140],["T_WHITESPACE"," ",140],["T_STRING","MigrationInterface",140],["T_DOUBLE_COLON","::",140],["T_STRING","RESULT_INCOMPLETE",140],":",["T_WHITESPACE","\n          ",140],["T_VARIABLE","$context",141],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",141],"]","[","]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING_CAST","(string)",141],["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","PluralTranslatableMarkup",141],"(",["T_WHITESPACE","\n            ",141],["T_STATIC","static",142],["T_DOUBLE_COLON","::",142],["T_VARIABLE","$numProcessed",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'Continuing with @migration (processed 1 item)'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'Continuing with @migration (processed @count items)'",142],",",["T_WHITESPACE","\n            ",142],"[",["T_CONSTANT_ENCAPSED_STRING","'@migration'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$migration_name",143],"]",")",";",["T_WHITESPACE","\n          ",143],["T_VARIABLE","$context",144],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",144],"]","[",["T_CONSTANT_ENCAPSED_STRING","'num_processed'",144],"]",["T_WHITESPACE"," ",144],["T_PLUS_EQUAL","+=",144],["T_WHITESPACE"," ",144],["T_STATIC","static",144],["T_DOUBLE_COLON","::",144],["T_VARIABLE","$numProcessed",144],";",["T_WHITESPACE","\n          ",144],["T_BREAK","break",145],";",["T_WHITESPACE","\n\n        ",145],["T_CASE","case",147],["T_WHITESPACE"," ",147],["T_STRING","MigrationInterface",147],["T_DOUBLE_COLON","::",147],["T_STRING","RESULT_STOPPED",147],":",["T_WHITESPACE","\n          ",147],["T_VARIABLE","$context",148],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",148],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",148],"]","[","]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING_CAST","(string)",148],["T_WHITESPACE"," ",148],["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_STRING","TranslatableMarkup",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Operation stopped by request'",148],")",";",["T_WHITESPACE","\n          ",148],["T_BREAK","break",149],";",["T_WHITESPACE","\n\n        ",149],["T_CASE","case",151],["T_WHITESPACE"," ",151],["T_STRING","MigrationInterface",151],["T_DOUBLE_COLON","::",151],["T_STRING","RESULT_FAILED",151],":",["T_WHITESPACE","\n          ",151],["T_VARIABLE","$context",152],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",152],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",152],"]","[","]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING_CAST","(string)",152],["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","TranslatableMarkup",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Operation on @migration failed'",152],",",["T_WHITESPACE"," ",152],"[",["T_CONSTANT_ENCAPSED_STRING","'@migration'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$migration_name",152],"]",")",";",["T_WHITESPACE","\n          ",152],["T_VARIABLE","$context",153],"[",["T_CONSTANT_ENCAPSED_STRING","'results'",153],"]","[",["T_CONSTANT_ENCAPSED_STRING","'failures'",153],"]",["T_INC","++",153],";",["T_WHITESPACE","\n          ",153],["T_NS_SEPARATOR","\\",154],["T_STRING","Drupal",154],["T_DOUBLE_COLON","::",154],["T_STRING","logger",154],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal_ui'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","error",154],"(",["T_CONSTANT_ENCAPSED_STRING","'Operation on @migration failed'",154],",",["T_WHITESPACE"," ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'@migration'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$migration_name",154],"]",")",";",["T_WHITESPACE","\n          ",154],["T_BREAK","break",155],";",["T_WHITESPACE","\n\n        ",155],["T_CASE","case",157],["T_WHITESPACE"," ",157],["T_STRING","MigrationInterface",157],["T_DOUBLE_COLON","::",157],["T_STRING","RESULT_SKIPPED",157],":",["T_WHITESPACE","\n          ",157],["T_VARIABLE","$context",158],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",158],"]","[","]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING_CAST","(string)",158],["T_WHITESPACE"," ",158],["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_STRING","TranslatableMarkup",158],"(",["T_CONSTANT_ENCAPSED_STRING","'Operation on @migration skipped due to unfulfilled dependencies'",158],",",["T_WHITESPACE"," ",158],"[",["T_CONSTANT_ENCAPSED_STRING","'@migration'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$migration_name",158],"]",")",";",["T_WHITESPACE","\n          ",158],["T_NS_SEPARATOR","\\",159],["T_STRING","Drupal",159],["T_DOUBLE_COLON","::",159],["T_STRING","logger",159],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal_ui'",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","error",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Operation on @migration skipped due to unfulfilled dependencies'",159],",",["T_WHITESPACE"," ",159],"[",["T_CONSTANT_ENCAPSED_STRING","'@migration'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$migration_name",159],"]",")",";",["T_WHITESPACE","\n          ",159],["T_BREAK","break",160],";",["T_WHITESPACE","\n\n        ",160],["T_CASE","case",162],["T_WHITESPACE"," ",162],["T_STRING","MigrationInterface",162],["T_DOUBLE_COLON","::",162],["T_STRING","RESULT_DISABLED",162],":",["T_WHITESPACE","\n          ",162],["T_COMMENT","\/\/ Skip silently if disabled.\n",163],["T_WHITESPACE","          ",164],["T_BREAK","break",164],";",["T_WHITESPACE","\n      ",164],"}",["T_WHITESPACE","\n\n      ",165],["T_COMMENT","\/\/ Unless we're continuing on with this migration, take it off the list.\n",167],["T_WHITESPACE","      ",168],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$migration_status",168],["T_WHITESPACE"," ",168],["T_IS_NOT_EQUAL","!=",168],["T_WHITESPACE"," ",168],["T_STRING","MigrationInterface",168],["T_DOUBLE_COLON","::",168],["T_STRING","RESULT_INCOMPLETE",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n        ",168],["T_STRING","array_shift",169],"(",["T_VARIABLE","$context",169],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",169],"]",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$context",170],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",170],"]","[",["T_CONSTANT_ENCAPSED_STRING","'current'",170],"]",["T_INC","++",170],";",["T_WHITESPACE","\n      ",170],"}",["T_WHITESPACE","\n\n      ",171],["T_COMMENT","\/\/ Add and log any captured messages.\n",173],["T_WHITESPACE","      ",174],["T_FOREACH","foreach",174],["T_WHITESPACE"," ",174],"(",["T_STATIC","static",174],["T_DOUBLE_COLON","::",174],["T_VARIABLE","$messages",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getMessages",174],"(",")",["T_WHITESPACE"," ",174],["T_AS","as",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$message",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$context",175],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",175],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",175],"]","[","]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING_CAST","(string)",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$message",175],";",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Drupal",176],["T_DOUBLE_COLON","::",176],["T_STRING","logger",176],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal_ui'",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","error",176],"(",["T_VARIABLE","$message",176],")",";",["T_WHITESPACE","\n      ",176],"}",["T_WHITESPACE","\n\n      ",177],["T_COMMENT","\/\/ Only display the last MESSAGE_LENGTH messages, in reverse order.\n",179],["T_WHITESPACE","      ",180],["T_VARIABLE","$message_count",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","count",180],"(",["T_VARIABLE","$context",180],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",180],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",180],"]",")",";",["T_WHITESPACE","\n      ",180],["T_VARIABLE","$context",181],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","''",181],";",["T_WHITESPACE","\n      ",181],["T_FOR","for",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$index",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","max",182],"(",["T_LNUMBER","0",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$message_count",182],["T_WHITESPACE"," ",182],"-",["T_WHITESPACE"," ",182],["T_STRING","self",182],["T_DOUBLE_COLON","::",182],["T_STRING","MESSAGE_LENGTH",182],")",";",["T_WHITESPACE"," ",182],["T_VARIABLE","$index",182],["T_WHITESPACE"," ",182],"<",["T_WHITESPACE"," ",182],["T_VARIABLE","$message_count",182],";",["T_WHITESPACE"," ",182],["T_VARIABLE","$index",182],["T_INC","++",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$context",183],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$context",183],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'messages'",183],"]","[",["T_VARIABLE","$index",183],"]",["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","\"<br \/>\\n\"",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_VARIABLE","$context",183],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",183],"]",";",["T_WHITESPACE","\n      ",183],"}",["T_WHITESPACE","\n      ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$message_count",185],["T_WHITESPACE"," ",185],">",["T_WHITESPACE"," ",185],["T_STRING","self",185],["T_DOUBLE_COLON","::",185],["T_STRING","MESSAGE_LENGTH",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n        ",185],["T_COMMENT","\/\/ Indicate there are earlier messages not displayed.\n",186],["T_WHITESPACE","        ",187],["T_VARIABLE","$context",187],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",187],"]",["T_WHITESPACE"," ",187],["T_CONCAT_EQUAL",".=",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'&hellip;'",187],";",["T_WHITESPACE","\n      ",187],"}",["T_WHITESPACE","\n      ",188],["T_COMMENT","\/\/ At the top of the list, display the next one (which will be the one\n",189],["T_WHITESPACE","      ",190],["T_COMMENT","\/\/ that is running while this message is visible).\n",190],["T_WHITESPACE","      ",191],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_EMPTY","empty",191],"(",["T_VARIABLE","$context",191],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",191],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",191],"]",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$migration_id",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","reset",192],"(",["T_VARIABLE","$context",192],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",192],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",192],"]",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$migration",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Drupal",193],["T_DOUBLE_COLON","::",193],["T_STRING","service",193],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","createInstance",193],"(",["T_VARIABLE","$migration_id",193],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$migration_name",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$migration",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","label",194],"(",")",["T_WHITESPACE"," ",194],"?",["T_WHITESPACE"," ",194],["T_VARIABLE","$migration",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","label",194],"(",")",["T_WHITESPACE"," ",194],":",["T_WHITESPACE"," ",194],["T_VARIABLE","$migration_id",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$context",195],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",195],"]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING_CAST","(string)",195],["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","TranslatableMarkup",195],"(",["T_CONSTANT_ENCAPSED_STRING","'Currently upgrading @migration (@current of @max total tasks)'",195],",",["T_WHITESPACE"," ",195],"[",["T_WHITESPACE","\n            ",195],["T_CONSTANT_ENCAPSED_STRING","'@migration'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$migration_name",196],",",["T_WHITESPACE","\n            ",196],["T_CONSTANT_ENCAPSED_STRING","'@current'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$context",197],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'current'",197],"]",",",["T_WHITESPACE","\n            ",197],["T_CONSTANT_ENCAPSED_STRING","'@max'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$context",198],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",198],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max'",198],"]",",",["T_WHITESPACE","\n          ",198],"]",")",["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","\"<br \/>\\n\"",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_VARIABLE","$context",199],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",199],"]",";",["T_WHITESPACE","\n      ",199],"}",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n    ",201],["T_ELSE","else",202],["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n      ",202],["T_STRING","array_shift",203],"(",["T_VARIABLE","$context",203],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",203],"]",")",";",["T_WHITESPACE","\n      ",203],["T_VARIABLE","$context",204],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'current'",204],"]",["T_INC","++",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_VARIABLE","$context",207],"[",["T_CONSTANT_ENCAPSED_STRING","'finished'",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_LNUMBER","1",207],["T_WHITESPACE"," ",207],"-",["T_WHITESPACE"," ",207],["T_STRING","count",207],"(",["T_VARIABLE","$context",207],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",207],"]","[",["T_CONSTANT_ENCAPSED_STRING","'migration_ids'",207],"]",")",["T_WHITESPACE"," ",207],"\/",["T_WHITESPACE"," ",207],["T_VARIABLE","$context",207],"[",["T_CONSTANT_ENCAPSED_STRING","'sandbox'",207],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max'",207],"]",";",["T_WHITESPACE","\n  ",207],"}",["T_WHITESPACE","\n\n  ",208],["T_DOC_COMMENT","\/**\n   * Callback executed when the Migrate Upgrade Import batch process completes.\n   *\n   * @param bool $success\n   *   TRUE if batch successfully completed.\n   * @param array $results\n   *   Batch results.\n   * @param array $operations\n   *   An array of methods run in the batch.\n   * @param string $elapsed\n   *   The time to run the batch.\n   *\/",210],["T_WHITESPACE","\n  ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_STATIC","static",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","finished",222],"(",["T_VARIABLE","$success",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$results",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$operations",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$elapsed",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$successes",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$results",223],"[",["T_CONSTANT_ENCAPSED_STRING","'successes'",223],"]",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$failures",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$results",224],"[",["T_CONSTANT_ENCAPSED_STRING","'failures'",224],"]",";",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ If we had any successes log that for the user.\n",226],["T_WHITESPACE","    ",227],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$successes",227],["T_WHITESPACE"," ",227],">",["T_WHITESPACE"," ",227],["T_LNUMBER","0",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n      ",227],["T_STRING","drupal_set_message",228],"(",["T_NS_SEPARATOR","\\",228],["T_STRING","Drupal",228],["T_DOUBLE_COLON","::",228],["T_STRING","translation",228],"(",")",["T_WHITESPACE","\n        ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","formatPlural",229],"(",["T_VARIABLE","$successes",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'Completed 1 upgrade task successfully'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'Completed @count upgrade tasks successfully'",229],")",")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n    ",230],["T_COMMENT","\/\/ If we had failures, log them and show the migration failed.\n",231],["T_WHITESPACE","    ",232],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$failures",232],["T_WHITESPACE"," ",232],">",["T_WHITESPACE"," ",232],["T_LNUMBER","0",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n      ",232],["T_STRING","drupal_set_message",233],"(",["T_NS_SEPARATOR","\\",233],["T_STRING","Drupal",233],["T_DOUBLE_COLON","::",233],["T_STRING","translation",233],"(",")",["T_WHITESPACE","\n        ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","formatPlural",234],"(",["T_VARIABLE","$failures",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'1 upgrade failed'",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'@count upgrades failed'",234],")",")",";",["T_WHITESPACE","\n      ",234],["T_STRING","drupal_set_message",235],"(",["T_STRING","t",235],"(",["T_CONSTANT_ENCAPSED_STRING","'Upgrade process not completed'",235],")",",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'error'",235],")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n    ",236],["T_ELSE","else",237],["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n      ",237],["T_COMMENT","\/\/ Everything went off without a hitch. We may not have had successes\n",238],["T_WHITESPACE","      ",239],["T_COMMENT","\/\/ but we didn't have failures so this is fine.\n",239],["T_WHITESPACE","      ",240],["T_STRING","drupal_set_message",240],"(",["T_STRING","t",240],"(",["T_CONSTANT_ENCAPSED_STRING","'Congratulations, you upgraded Drupal!'",240],")",")",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_NS_SEPARATOR","\\",243],["T_STRING","Drupal",243],["T_DOUBLE_COLON","::",243],["T_STRING","moduleHandler",243],"(",")",["T_OBJECT_OPERATOR","->",243],["T_STRING","moduleExists",243],"(",["T_CONSTANT_ENCAPSED_STRING","'dblog'",243],")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n      ",243],["T_VARIABLE","$url",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","Url",244],["T_DOUBLE_COLON","::",244],["T_STRING","fromRoute",244],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal_ui.log'",244],")",";",["T_WHITESPACE","\n      ",244],["T_STRING","drupal_set_message",245],"(",["T_STRING","Link",245],["T_DOUBLE_COLON","::",245],["T_STRING","fromTextAndUrl",245],"(",["T_NEW","new",245],["T_WHITESPACE"," ",245],["T_STRING","TranslatableMarkup",245],"(",["T_CONSTANT_ENCAPSED_STRING","'Review the detailed upgrade log'",245],")",",",["T_WHITESPACE"," ",245],["T_VARIABLE","$url",245],")",",",["T_WHITESPACE"," ",245],["T_VARIABLE","$failures",245],["T_WHITESPACE"," ",245],"?",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'error'",245],["T_WHITESPACE"," ",245],":",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'status'",245],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n  ",246],"}",["T_WHITESPACE","\n\n  ",247],["T_DOC_COMMENT","\/**\n   * Reacts to item import.\n   *\n   * @param \\Drupal\\migrate\\Event\\MigratePostRowSaveEvent $event\n   *   The post-save event.\n   *\/",249],["T_WHITESPACE","\n  ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_STATIC","static",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","onPostRowSave",255],"(",["T_STRING","MigratePostRowSaveEvent",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$event",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n    ",255],["T_COMMENT","\/\/ We want to interrupt this batch and start a fresh one.\n",256],["T_WHITESPACE","    ",257],["T_IF","if",257],["T_WHITESPACE"," ",257],"(","(",["T_STRING","time",257],"(",")",["T_WHITESPACE"," ",257],"-",["T_WHITESPACE"," ",257],["T_STRING","REQUEST_TIME",257],")",["T_WHITESPACE"," ",257],">",["T_WHITESPACE"," ",257],["T_STATIC","static",257],["T_DOUBLE_COLON","::",257],["T_VARIABLE","$maxExecTime",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n      ",257],["T_VARIABLE","$event",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getMigration",258],"(",")",["T_OBJECT_OPERATOR","->",258],["T_STRING","interruptMigration",258],"(",["T_STRING","MigrationInterface",258],["T_DOUBLE_COLON","::",258],["T_STRING","RESULT_INCOMPLETE",258],")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n  ",259],"}",["T_WHITESPACE","\n\n  ",260],["T_DOC_COMMENT","\/**\n   * Reacts to item deletion.\n   *\n   * @param \\Drupal\\migrate\\Event\\MigrateRowDeleteEvent $event\n   *   The post-save event.\n   *\/",262],["T_WHITESPACE","\n  ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_STATIC","static",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","onPostRowDelete",268],"(",["T_STRING","MigrateRowDeleteEvent",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$event",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n    ",268],["T_COMMENT","\/\/ We want to interrupt this batch and start a fresh one.\n",269],["T_WHITESPACE","    ",270],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","(",["T_STRING","time",270],"(",")",["T_WHITESPACE"," ",270],"-",["T_WHITESPACE"," ",270],["T_STRING","REQUEST_TIME",270],")",["T_WHITESPACE"," ",270],">",["T_WHITESPACE"," ",270],["T_STATIC","static",270],["T_DOUBLE_COLON","::",270],["T_VARIABLE","$maxExecTime",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n      ",270],["T_VARIABLE","$event",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getMigration",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","interruptMigration",271],"(",["T_STRING","MigrationInterface",271],["T_DOUBLE_COLON","::",271],["T_STRING","RESULT_INCOMPLETE",271],")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n  ",272],"}",["T_WHITESPACE","\n\n  ",273],["T_DOC_COMMENT","\/**\n   * Counts up any map save events.\n   *\n   * @param \\Drupal\\migrate\\Event\\MigrateMapSaveEvent $event\n   *   The map event.\n   *\/",275],["T_WHITESPACE","\n  ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_STATIC","static",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","onMapSave",281],"(",["T_STRING","MigrateMapSaveEvent",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$event",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n    ",281],["T_STATIC","static",282],["T_DOUBLE_COLON","::",282],["T_VARIABLE","$numProcessed",282],["T_INC","++",282],";",["T_WHITESPACE","\n  ",282],"}",["T_WHITESPACE","\n\n  ",283],["T_DOC_COMMENT","\/**\n   * Counts up any map delete events.\n   *\n   * @param \\Drupal\\migrate\\Event\\MigrateMapDeleteEvent $event\n   *   The map event.\n   *\/",285],["T_WHITESPACE","\n  ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_STATIC","static",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","onMapDelete",291],"(",["T_STRING","MigrateMapDeleteEvent",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$event",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n    ",291],["T_STATIC","static",292],["T_DOUBLE_COLON","::",292],["T_VARIABLE","$numProcessed",292],["T_INC","++",292],";",["T_WHITESPACE","\n  ",292],"}",["T_WHITESPACE","\n\n  ",293],["T_DOC_COMMENT","\/**\n   * Displays any messages being logged to the ID map.\n   *\n   * @param \\Drupal\\migrate\\Event\\MigrateIdMapMessageEvent $event\n   *   The message event.\n   *\/",295],["T_WHITESPACE","\n  ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_STATIC","static",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","onIdMapMessage",301],"(",["T_STRING","MigrateIdMapMessageEvent",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$event",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n    ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$event",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getLevel",302],"(",")",["T_WHITESPACE"," ",302],["T_IS_EQUAL","==",302],["T_WHITESPACE"," ",302],["T_STRING","MigrationInterface",302],["T_DOUBLE_COLON","::",302],["T_STRING","MESSAGE_NOTICE",302],["T_WHITESPACE"," ",302],["T_BOOLEAN_OR","||",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$event",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getLevel",302],"(",")",["T_WHITESPACE"," ",302],["T_IS_EQUAL","==",302],["T_WHITESPACE"," ",302],["T_STRING","MigrationInterface",302],["T_DOUBLE_COLON","::",302],["T_STRING","MESSAGE_INFORMATIONAL",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n      ",302],["T_VARIABLE","$type",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'status'",303],";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n    ",304],["T_ELSE","else",305],["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n      ",305],["T_VARIABLE","$type",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'error'",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$source_id_string",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","implode",308],"(",["T_CONSTANT_ENCAPSED_STRING","','",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$event",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getSourceIdValues",308],"(",")",")",";",["T_WHITESPACE","\n    ",308],["T_VARIABLE","$message",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","t",309],"(",["T_CONSTANT_ENCAPSED_STRING","'Source ID @source_id: @message'",309],",",["T_WHITESPACE"," ",309],"[",["T_CONSTANT_ENCAPSED_STRING","'@source_id'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$source_id_string",309],",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'@message'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$event",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getMessage",309],"(",")","]",")",";",["T_WHITESPACE","\n    ",309],["T_STATIC","static",310],["T_DOUBLE_COLON","::",310],["T_VARIABLE","$messages",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","display",310],"(",["T_VARIABLE","$message",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$type",310],")",";",["T_WHITESPACE","\n  ",310],"}",["T_WHITESPACE","\n\n",311],"}",["T_WHITESPACE","\n",313]]