[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","ckeditor",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","editor",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Editor",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","filter",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FilterFormat",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests different ways of enabling CKEditor plugins.\n *\n * @group ckeditor\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","CKEditorPluginManagerTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'user'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'filter'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'editor'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'ckeditor'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * The manager for \"CKEditor plugin\" plugins.\n   *\n   * @var \\Drupal\\Component\\Plugin\\PluginManagerInterface\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$manager",28],";",["T_WHITESPACE","\n\n  ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","setUp",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Install the Filter module.\n",33],["T_WHITESPACE","\n    ",34],["T_COMMENT","\/\/ Create text format, associate CKEditor.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$filtered_html_format",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","FilterFormat",36],["T_DOUBLE_COLON","::",36],["T_STRING","create",36],"(",["T_ARRAY","array",36],"(",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'format'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'name'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Filtered HTML'",38],",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'weight'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","0",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'filters'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",",",["T_WHITESPACE","\n    ",40],")",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$filtered_html_format",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","save",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$editor",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","Editor",43],["T_DOUBLE_COLON","::",43],["T_STRING","create",43],"(","[",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'format'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'editor'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'ckeditor'",45],",",["T_WHITESPACE","\n    ",45],"]",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$editor",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","save",47],"(",")",";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Tests the enabling of plugins.\n   *\/",50],["T_WHITESPACE","\n  ",52],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testEnabledPlugins",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","manager",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.ckeditor.plugin'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$editor",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","Editor",55],["T_DOUBLE_COLON","::",55],["T_STRING","load",55],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Case 1: no CKEditor plugins.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$definitions",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","array_keys",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","manager",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getDefinitions",58],"(",")",")",";",["T_WHITESPACE","\n    ",58],["T_STRING","sort",59],"(",["T_VARIABLE","$definitions",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertIdentical",60],"(",["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'drupalimage'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'drupalimagecaption'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'drupallink'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'internal'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'language'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'stylescombo'",60],")",",",["T_WHITESPACE"," ",60],["T_VARIABLE","$definitions",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'No CKEditor plugins found besides the built-in ones.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$enabled_plugins",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'drupalimage'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","drupal_get_path",62],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'ckeditor'",62],")",["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'\/js\/plugins\/drupalimage\/plugin.js'",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'drupallink'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","drupal_get_path",63],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'ckeditor'",63],")",["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\/js\/plugins\/drupallink\/plugin.js'",63],",",["T_WHITESPACE","\n    ",63],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertIdentical",65],"(",["T_VARIABLE","$enabled_plugins",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","manager",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getEnabledPluginFiles",65],"(",["T_VARIABLE","$editor",65],")",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Only built-in plugins are enabled.'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertIdentical",66],"(",["T_ARRAY","array",66],"(",["T_CONSTANT_ENCAPSED_STRING","'internal'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","NULL",66],")",["T_WHITESPACE"," ",66],"+",["T_WHITESPACE"," ",66],["T_VARIABLE","$enabled_plugins",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","manager",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getEnabledPluginFiles",66],"(",["T_VARIABLE","$editor",66],",",["T_WHITESPACE"," ",66],["T_STRING","TRUE",66],")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Only the \"internal\" plugin is enabled.'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Enable the CKEditor Test module, which has the Llama plugin (plus four\n",68],["T_WHITESPACE","    ",69],["T_COMMENT","\/\/ variations of it, to cover all possible ways a plugin can be enabled) and\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ clear the editor manager's cache so it is picked up.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","enableModules",71],"(",["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'ckeditor_test'",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","manager",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","container",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","get",72],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.ckeditor.plugin'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","manager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","clearCachedDefinitions",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Case 2: CKEditor plugins are available.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$plugin_ids",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","array_keys",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","manager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getDefinitions",76],"(",")",")",";",["T_WHITESPACE","\n    ",76],["T_STRING","sort",77],"(",["T_VARIABLE","$plugin_ids",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertIdentical",78],"(",["T_ARRAY","array",78],"(",["T_CONSTANT_ENCAPSED_STRING","'drupalimage'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'drupalimagecaption'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'drupallink'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'internal'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'language'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'llama'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'llama_button'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual_and_button'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'llama_css'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'stylescombo'",78],")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$plugin_ids",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Additional CKEditor plugins found.'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertIdentical",79],"(",["T_VARIABLE","$enabled_plugins",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","manager",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getEnabledPluginFiles",79],"(",["T_VARIABLE","$editor",79],")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Only the internal plugins are enabled.'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertIdentical",80],"(",["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'internal'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","NULL",80],")",["T_WHITESPACE"," ",80],"+",["T_WHITESPACE"," ",80],["T_VARIABLE","$enabled_plugins",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","manager",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getEnabledPluginFiles",80],"(",["T_VARIABLE","$editor",80],",",["T_WHITESPACE"," ",80],["T_STRING","TRUE",80],")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Only the \"internal\" plugin is enabled.'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Case 3: enable each of the newly available plugins, if possible:\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ a. Llama: cannot be enabled, since it does not implement\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/    CKEditorPluginContextualInterface nor CKEditorPluginButtonsInterface.\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ b. LlamaContextual: enabled by adding the 'Strike' button, which is\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/    part of another plugin!\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ c. LlamaButton: automatically enabled by adding its 'Llama' button.\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ d. LlamaContextualAndButton: enabled by either b or c.\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ e. LlamaCSS: automatically enabled by add its 'LlamaCSS' button.\n",89],["T_WHITESPACE","    ",90],["T_COMMENT","\/\/ Below, we will first enable the \"Llama\" button, which will cause the\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/ LlamaButton and LlamaContextualAndButton plugins to be enabled. Then we\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ will remove the \"Llama\" button and add the \"Strike\" button, which will\n",92],["T_WHITESPACE","    ",93],["T_COMMENT","\/\/ cause the LlamaContextual and LlamaContextualAndButton plugins to be\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ enabled. Then we will add the \"Strike\" button back again, which would\n",94],["T_WHITESPACE","    ",95],["T_COMMENT","\/\/ cause LlamaButton, LlamaContextual and LlamaContextualAndButton to be\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/ enabled. Finally, we will add the \"LlamaCSS\" button which would cause\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/ all four plugins to be enabled.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$settings",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$editor",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getSettings",98],"(",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$original_toolbar",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$settings",99],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",99],"]",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$settings",100],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",100],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rows'",100],"]","[",["T_LNUMBER","0",100],"]","[",["T_LNUMBER","0",100],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",100],"]","[","]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'Llama'",100],";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$editor",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setSettings",101],"(",["T_VARIABLE","$settings",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$editor",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","save",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$file",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$file",104],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","drupal_get_path",104],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'ckeditor_test'",104],")",["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'\/js\/llama_button.js'",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$file",105],"[",["T_CONSTANT_ENCAPSED_STRING","'c'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","drupal_get_path",105],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'ckeditor_test'",105],")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'\/js\/llama_contextual.js'",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$file",106],"[",["T_CONSTANT_ENCAPSED_STRING","'cb'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","drupal_get_path",106],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'ckeditor_test'",106],")",["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'\/js\/llama_contextual_and_button.js'",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$file",107],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","drupal_get_path",107],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'ckeditor_test'",107],")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/js\/llama_css.js'",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$expected",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$enabled_plugins",108],["T_WHITESPACE"," ",108],"+",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'llama_button'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$file",108],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",108],"]",",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual_and_button'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$file",108],"[",["T_CONSTANT_ENCAPSED_STRING","'cb'",108],"]",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertIdentical",109],"(",["T_VARIABLE","$expected",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","manager",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getEnabledPluginFiles",109],"(",["T_VARIABLE","$editor",109],")",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'The LlamaButton and LlamaContextualAndButton plugins are enabled.'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertIdentical",110],"(",["T_ARRAY","array",110],"(",["T_CONSTANT_ENCAPSED_STRING","'internal'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_STRING","NULL",110],")",["T_WHITESPACE"," ",110],"+",["T_WHITESPACE"," ",110],["T_VARIABLE","$expected",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","manager",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getEnabledPluginFiles",110],"(",["T_VARIABLE","$editor",110],",",["T_WHITESPACE"," ",110],["T_STRING","TRUE",110],")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'The LlamaButton and LlamaContextualAndButton plugins are enabled.'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$settings",111],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$original_toolbar",111],";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$settings",112],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rows'",112],"]","[",["T_LNUMBER","0",112],"]","[",["T_LNUMBER","0",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",112],"]","[","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Strike'",112],";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$editor",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setSettings",113],"(",["T_VARIABLE","$settings",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$editor",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","save",114],"(",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$expected",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$enabled_plugins",115],["T_WHITESPACE"," ",115],"+",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_CONSTANT_ENCAPSED_STRING","'llama_contextual'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$file",115],"[",["T_CONSTANT_ENCAPSED_STRING","'c'",115],"]",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual_and_button'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$file",115],"[",["T_CONSTANT_ENCAPSED_STRING","'cb'",115],"]",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertIdentical",116],"(",["T_VARIABLE","$expected",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","manager",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getEnabledPluginFiles",116],"(",["T_VARIABLE","$editor",116],")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'The  LLamaContextual and LlamaContextualAndButton plugins are enabled.'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertIdentical",117],"(",["T_ARRAY","array",117],"(",["T_CONSTANT_ENCAPSED_STRING","'internal'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_STRING","NULL",117],")",["T_WHITESPACE"," ",117],"+",["T_WHITESPACE"," ",117],["T_VARIABLE","$expected",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","manager",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getEnabledPluginFiles",117],"(",["T_VARIABLE","$editor",117],",",["T_WHITESPACE"," ",117],["T_STRING","TRUE",117],")",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'The LlamaContextual and LlamaContextualAndButton plugins are enabled.'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$settings",118],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",118],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rows'",118],"]","[",["T_LNUMBER","0",118],"]","[",["T_LNUMBER","0",118],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",118],"]","[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Llama'",118],";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$editor",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setSettings",119],"(",["T_VARIABLE","$settings",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$editor",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","save",120],"(",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$expected",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$enabled_plugins",121],["T_WHITESPACE"," ",121],"+",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'llama_button'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$file",121],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",121],"]",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$file",121],"[",["T_CONSTANT_ENCAPSED_STRING","'c'",121],"]",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual_and_button'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$file",121],"[",["T_CONSTANT_ENCAPSED_STRING","'cb'",121],"]",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertIdentical",122],"(",["T_VARIABLE","$expected",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","manager",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getEnabledPluginFiles",122],"(",["T_VARIABLE","$editor",122],")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'The LlamaButton, LlamaContextual and LlamaContextualAndButton plugins are enabled.'",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertIdentical",123],"(",["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'internal'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","NULL",123],")",["T_WHITESPACE"," ",123],"+",["T_WHITESPACE"," ",123],["T_VARIABLE","$expected",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","manager",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getEnabledPluginFiles",123],"(",["T_VARIABLE","$editor",123],",",["T_WHITESPACE"," ",123],["T_STRING","TRUE",123],")",",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'The LLamaButton, LlamaContextual and LlamaContextualAndButton plugins are enabled.'",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$settings",124],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",124],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rows'",124],"]","[",["T_LNUMBER","0",124],"]","[",["T_LNUMBER","0",124],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",124],"]","[","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'LlamaCSS'",124],";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$editor",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","setSettings",125],"(",["T_VARIABLE","$settings",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$editor",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","save",126],"(",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$expected",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$enabled_plugins",127],["T_WHITESPACE"," ",127],"+",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","'llama_button'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$file",127],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",127],"]",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$file",127],"[",["T_CONSTANT_ENCAPSED_STRING","'c'",127],"]",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'llama_contextual_and_button'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$file",127],"[",["T_CONSTANT_ENCAPSED_STRING","'cb'",127],"]",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'llama_css'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$file",127],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",127],"]",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertIdentical",128],"(",["T_VARIABLE","$expected",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","manager",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getEnabledPluginFiles",128],"(",["T_VARIABLE","$editor",128],")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'The LlamaButton, LlamaContextual, LlamaContextualAndButton and LlamaCSS plugins are enabled.'",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertIdentical",129],"(",["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'internal'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","NULL",129],")",["T_WHITESPACE"," ",129],"+",["T_WHITESPACE"," ",129],["T_VARIABLE","$expected",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","manager",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getEnabledPluginFiles",129],"(",["T_VARIABLE","$editor",129],",",["T_WHITESPACE"," ",129],["T_STRING","TRUE",129],")",",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'The LLamaButton, LlamaContextual, LlamaContextualAndButton and LlamaCSS plugins are enabled.'",129],")",";",["T_WHITESPACE","\n  ",129],"}",["T_WHITESPACE","\n\n  ",130],["T_DOC_COMMENT","\/**\n   * Tests the iframe instance CSS files of plugins.\n   *\/",132],["T_WHITESPACE","\n  ",134],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","testCssFiles",135],"(",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","manager",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","container",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.ckeditor.plugin'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$editor",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","Editor",137],["T_DOUBLE_COLON","::",137],["T_STRING","load",137],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Case 1: no CKEditor iframe instance CSS file.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertIdentical",140],"(",["T_ARRAY","array",140],"(",")",",",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","manager",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getCssFiles",140],"(",["T_VARIABLE","$editor",140],")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'No iframe instance CSS file found.'",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ Enable the CKEditor Test module, which has the LlamaCss plugin and\n",142],["T_WHITESPACE","    ",143],["T_COMMENT","\/\/ clear the editor manager's cache so it is picked up.\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","enableModules",144],"(",["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'ckeditor_test'",144],")",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","manager",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","container",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","get",145],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.ckeditor.plugin'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$settings",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$editor",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getSettings",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_COMMENT","\/\/ LlamaCss: automatically enabled by adding its 'LlamaCSS' button.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$settings",148],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",148],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rows'",148],"]","[",["T_LNUMBER","0",148],"]","[",["T_LNUMBER","0",148],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",148],"]","[","]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'LlamaCSS'",148],";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$editor",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","setSettings",149],"(",["T_VARIABLE","$settings",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$editor",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","save",150],"(",")",";",["T_WHITESPACE","\n\n    ",150],["T_COMMENT","\/\/ Case 2: CKEditor iframe instance CSS file.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$expected",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'llama_css'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",["T_STRING","drupal_get_path",154],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'ckeditor_test'",154],")",["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'\/css\/llama.css'",154],")",["T_WHITESPACE","\n    ",154],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertIdentical",156],"(",["T_VARIABLE","$expected",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","manager",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getCssFiles",156],"(",["T_VARIABLE","$editor",156],")",",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Iframe instance CSS file found.'",156],")",";",["T_WHITESPACE","\n  ",156],"}",["T_WHITESPACE","\n\n",157],"}",["T_WHITESPACE","\n",159]]