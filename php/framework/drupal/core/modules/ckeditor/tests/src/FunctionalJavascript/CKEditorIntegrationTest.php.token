[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","ckeditor",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FunctionalJavascript",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityFormDisplay",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","editor",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Editor",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","filter",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FilterFormat",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FunctionalJavascriptTests",10],["T_NS_SEPARATOR","\\",10],["T_STRING","JavascriptTestBase",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","node",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NodeType",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Tests the integration of CKEditor.\n *\n * @group ckeditor\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","CKEditorIntegrationTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","JavascriptTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The account.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$account",25],";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$modules",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'ckeditor'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'filter'",30],"]",";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","setUp",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_STRING","parent",36],["T_DOUBLE_COLON","::",36],["T_STRING","setUp",36],"(",")",";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Create a text format and associate CKEditor.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$filtered_html_format",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","FilterFormat",39],["T_DOUBLE_COLON","::",39],["T_STRING","create",39],"(","[",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'format'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",40],",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'name'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Filtered HTML'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'weight'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],",",["T_WHITESPACE","\n    ",42],"]",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$filtered_html_format",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","save",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_STRING","Editor",46],["T_DOUBLE_COLON","::",46],["T_STRING","create",46],"(","[",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'format'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'editor'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'ckeditor'",48],",",["T_WHITESPACE","\n    ",48],"]",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","save",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Create a node type for testing.\n",51],["T_WHITESPACE","    ",52],["T_STRING","NodeType",52],["T_DOUBLE_COLON","::",52],["T_STRING","create",52],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'page'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'name'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'page'",52],"]",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","save",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$field_storage",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","FieldStorageConfig",54],["T_DOUBLE_COLON","::",54],["T_STRING","loadByName",54],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'body'",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Create a body field instance for the 'page' node type.\n",56],["T_WHITESPACE","    ",57],["T_STRING","FieldConfig",57],["T_DOUBLE_COLON","::",57],["T_STRING","create",57],"(","[",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$field_storage",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'bundle'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'page'",59],",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'label'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Body'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'settings'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'display_summary'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_STRING","TRUE",61],"]",",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'required'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","TRUE",62],",",["T_WHITESPACE","\n    ",62],"]",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","save",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Assign widget settings for the 'default' form mode.\n",65],["T_WHITESPACE","    ",66],["T_STRING","EntityFormDisplay",66],["T_DOUBLE_COLON","::",66],["T_STRING","create",66],"(","[",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'node'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'bundle'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'page'",68],",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'mode'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'default'",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'status'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],",",["T_WHITESPACE","\n    ",70],"]",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","setComponent",71],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",71],",",["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'text_textarea_with_summary'",71],"]",")",["T_WHITESPACE","\n      ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","save",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","account",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","drupalCreateUser",74],"(","[",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",75],",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'create page content'",76],",",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'use text format filtered_html'",77],",",["T_WHITESPACE","\n    ",77],"]",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","drupalLogin",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","account",79],")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * Tests if the fragment link to a textarea works with CKEditor enabled.\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testFragmentLink",85],"(",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$session",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getSession",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$web_assert",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertSession",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$ckeditor_id",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'#cke_edit-body-0-value'",88],";",["T_WHITESPACE","\n\n    ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalGet",90],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/page'",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$session",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getPage",92],"(",")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Add a bottom margin to the title field to be sure the body field is not\n",94],["T_WHITESPACE","    ",95],["T_COMMENT","\/\/ visible. PhantomJS runs with a resolution of 1024x768px.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$session",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","executeScript",96],"(",["T_CONSTANT_ENCAPSED_STRING","\"document.getElementById('edit-title-0-value').style.marginBottom = '800px';\"",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Check that the CKEditor-enabled body field is currently not visible in\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ the viewport.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$web_assert",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertNotVisibleInViewport",100],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$ckeditor_id",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'topLeft'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'CKEditor-enabled body field is visible.'",100],")",";",["T_WHITESPACE","\n\n    ",100],["T_VARIABLE","$before_url",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$session",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getCurrentUrl",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Trigger a hash change with as target the hidden textarea.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$session",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","executeScript",105],"(",["T_CONSTANT_ENCAPSED_STRING","\"location.hash = '#edit-body-0-value';\"",105],")",";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/\/ Check that the CKEditor-enabled body field is visible in the viewport.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$web_assert",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertVisibleInViewport",108],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$ckeditor_id",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'topLeft'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'CKEditor-enabled body field is not visible.'",108],")",";",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Use JavaScript to go back in the history instead of\n",110],["T_WHITESPACE","    ",111],["T_COMMENT","\/\/ \\Behat\\Mink\\Session::back() because that function doesn't work after a\n",111],["T_WHITESPACE","    ",112],["T_COMMENT","\/\/ hash change.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$session",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","executeScript",113],"(",["T_CONSTANT_ENCAPSED_STRING","\"history.back();\"",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$after_url",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$session",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getCurrentUrl",115],"(",")",";",["T_WHITESPACE","\n\n    ",115],["T_COMMENT","\/\/ Check that going back in the history worked.\n",117],["T_WHITESPACE","    ",118],["T_STRING","self",118],["T_DOUBLE_COLON","::",118],["T_STRING","assertEquals",118],"(",["T_VARIABLE","$before_url",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$after_url",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'History back works.'",118],")",";",["T_WHITESPACE","\n  ",118],"}",["T_WHITESPACE","\n\n",119],"}",["T_WHITESPACE","\n",121]]