[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_moderation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Functional",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Node",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","node",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","NodeType",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BrowserTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the \"Latest Revision\" views filter.\n *\n * @group content_moderation\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","LatestRevisionViewsFilterTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","BrowserTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_WHITESPACE","\n    ",19],["T_CONSTANT_ENCAPSED_STRING","'content_moderation_test_views'",20],",",["T_WHITESPACE","\n    ",20],["T_CONSTANT_ENCAPSED_STRING","'content_moderation'",21],",",["T_WHITESPACE","\n  ",21],"]",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Tests view shows the correct node IDs.\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testViewShowsCorrectNids",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$node_type",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","createNodeType",28],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'test'",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_VARIABLE","$permissions",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'access content'",31],",",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'view all revisions'",32],",",["T_WHITESPACE","\n    ",32],"]",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$editor1",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalCreateUser",34],"(",["T_VARIABLE","$permissions",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalLogin",36],"(",["T_VARIABLE","$editor1",36],")",";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Make a pre-moderation node.\n",38],["T_WHITESPACE","    ",39],["T_DOC_COMMENT","\/** @var Node $node_0 *\/",39],["T_WHITESPACE","\n    ",39],["T_VARIABLE","$node_0",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","Node",40],["T_DOUBLE_COLON","::",40],["T_STRING","create",40],"(","[",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'type'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'test'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'title'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'Node 0 - Rev 1'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'uid'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$editor1",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","id",43],"(",")",",",["T_WHITESPACE","\n    ",43],"]",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$node_0",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","save",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Now enable moderation for subsequent nodes.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$node_type",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setThirdPartySetting",48],"(",["T_CONSTANT_ENCAPSED_STRING","'content_moderation'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'enabled'",48],",",["T_WHITESPACE"," ",48],["T_STRING","TRUE",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$node_type",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","save",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Make a node that is only ever in Draft.\n",51],["T_WHITESPACE","    ",52],["T_DOC_COMMENT","\/** @var Node $node_1 *\/",52],["T_WHITESPACE","\n    ",52],["T_VARIABLE","$node_1",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","Node",53],["T_DOUBLE_COLON","::",53],["T_STRING","create",53],"(","[",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'type'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'test'",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'title'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Node 1 - Rev 1'",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'uid'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$editor1",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","id",56],"(",")",",",["T_WHITESPACE","\n    ",56],"]",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$node_1",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","moderation_state",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","target_id",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'draft'",58],";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$node_1",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","save",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Make a node that is in Draft, then Published.\n",61],["T_WHITESPACE","    ",62],["T_DOC_COMMENT","\/** @var Node $node_2 *\/",62],["T_WHITESPACE","\n    ",62],["T_VARIABLE","$node_2",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","Node",63],["T_DOUBLE_COLON","::",63],["T_STRING","create",63],"(","[",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'type'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'test'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'title'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Node 2 - Rev 1'",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'uid'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$editor1",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",",",["T_WHITESPACE","\n    ",66],"]",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$node_2",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","moderation_state",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","target_id",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'draft'",68],";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$node_2",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","save",69],"(",")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$node_2",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setTitle",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 2 - Rev 2'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$node_2",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","moderation_state",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","target_id",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'published'",72],";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$node_2",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","save",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Make a node that is in Draft, then Published, then Draft.\n",75],["T_WHITESPACE","    ",76],["T_DOC_COMMENT","\/** @var Node $node_3 *\/",76],["T_WHITESPACE","\n    ",76],["T_VARIABLE","$node_3",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","Node",77],["T_DOUBLE_COLON","::",77],["T_STRING","create",77],"(","[",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'type'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'test'",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'title'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Node 3 - Rev 1'",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'uid'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$editor1",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","id",80],"(",")",",",["T_WHITESPACE","\n    ",80],"]",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$node_3",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","moderation_state",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","target_id",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'draft'",82],";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$node_3",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","save",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$node_3",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setTitle",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 3 - Rev 2'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$node_3",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","moderation_state",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","target_id",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'published'",86],";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$node_3",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","save",87],"(",")",";",["T_WHITESPACE","\n\n    ",87],["T_VARIABLE","$node_3",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setTitle",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 3 - Rev 3'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$node_3",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","moderation_state",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","target_id",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'draft'",90],";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$node_3",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","save",91],"(",")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Now show the View, and confirm that only the correct titles are showing.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalGet",94],"(",["T_CONSTANT_ENCAPSED_STRING","'\/latest'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$page",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getSession",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getPage",95],"(",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertEquals",96],"(",["T_LNUMBER","200",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getSession",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getStatusCode",96],"(",")",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertTrue",97],"(",["T_VARIABLE","$page",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","hasContent",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 1 - Rev 1'",97],")",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertTrue",98],"(",["T_VARIABLE","$page",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","hasContent",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 2 - Rev 2'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTrue",99],"(",["T_VARIABLE","$page",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","hasContent",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 3 - Rev 3'",99],")",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertFalse",100],"(",["T_VARIABLE","$page",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","hasContent",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 2 - Rev 1'",100],")",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertFalse",101],"(",["T_VARIABLE","$page",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","hasContent",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 3 - Rev 1'",101],")",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertFalse",102],"(",["T_VARIABLE","$page",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","hasContent",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 3 - Rev 2'",102],")",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertFalse",103],"(",["T_VARIABLE","$page",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","hasContent",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Node 0 - Rev 1'",103],")",")",";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n  ",104],["T_DOC_COMMENT","\/**\n   * Creates a new node type.\n   *\n   * @param string $label\n   *   The human-readable label of the type to create.\n   * @param string $machine_name\n   *   The machine name of the type to create.\n   *\n   * @return NodeType\n   *   The node type just created.\n   *\/",106],["T_WHITESPACE","\n  ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","createNodeType",117],"(",["T_VARIABLE","$label",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$machine_name",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_DOC_COMMENT","\/** @var NodeType $node_type *\/",118],["T_WHITESPACE","\n    ",118],["T_VARIABLE","$node_type",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","NodeType",119],["T_DOUBLE_COLON","::",119],["T_STRING","create",119],"(","[",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'type'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$machine_name",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'label'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$label",121],",",["T_WHITESPACE","\n    ",121],"]",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$node_type",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","save",123],"(",")",";",["T_WHITESPACE","\n\n    ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$node_type",125],";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n",126],"}",["T_WHITESPACE","\n",128]]