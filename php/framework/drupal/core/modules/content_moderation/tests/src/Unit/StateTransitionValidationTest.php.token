[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_moderation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityStorageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityTypeManagerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Query",7],["T_NS_SEPARATOR","\\",7],["T_STRING","QueryFactory",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Session",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AccountInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","content_moderation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModerationStateInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","content_moderation",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ModerationStateTransitionInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","content_moderation",11],["T_NS_SEPARATOR","\\",11],["T_STRING","StateTransitionValidation",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Prophecy",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Argument",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\content_moderation\\StateTransitionValidation\n * @group content_moderation\n *\/",14],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","StateTransitionValidationTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PHPUnit_Framework_TestCase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Builds a mock storage object for Transitions.\n   *\n   * @return EntityStorageInterface\n   *   The mocked storage object for Transitions.\n   *\/",20],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setupTransitionStorage",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$entity_storage",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","prophesize",27],"(",["T_STRING","EntityStorageInterface",27],["T_DOUBLE_COLON","::",27],["T_CLASS","class",27],")",";",["T_WHITESPACE","\n\n    ",27],["T_VARIABLE","$list",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","setupTransitionEntityList",29],"(",")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$entity_storage",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","loadMultiple",30],"(",")",["T_OBJECT_OPERATOR","->",30],["T_STRING","willReturn",30],"(",["T_VARIABLE","$list",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$entity_storage",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","loadMultiple",31],"(",["T_STRING","Argument",31],["T_DOUBLE_COLON","::",31],["T_STRING","type",31],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",31],")",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","will",31],"(",["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],"(",["T_VARIABLE","$args",31],")",["T_WHITESPACE"," ",31],["T_USE","use",31],["T_WHITESPACE"," ",31],"(",["T_VARIABLE","$list",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n      ",31],["T_VARIABLE","$keys",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$args",32],"[",["T_LNUMBER","0",32],"]",";",["T_WHITESPACE","\n      ",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_EMPTY","empty",33],"(",["T_VARIABLE","$keys",33],")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n        ",33],["T_RETURN","return",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$list",34],";",["T_WHITESPACE","\n      ",34],"}",["T_WHITESPACE","\n\n      ",35],["T_VARIABLE","$return",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","array_map",37],"(",["T_FUNCTION","function",37],"(",["T_VARIABLE","$key",37],")",["T_WHITESPACE"," ",37],["T_USE","use",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$list",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$list",38],"[",["T_VARIABLE","$key",38],"]",";",["T_WHITESPACE","\n      ",38],"}",",",["T_WHITESPACE"," ",39],["T_VARIABLE","$keys",39],")",";",["T_WHITESPACE","\n\n      ",39],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$return",41],";",["T_WHITESPACE","\n    ",41],"}",")",";",["T_WHITESPACE","\n    ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$entity_storage",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","reveal",43],"(",")",";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Builds an array of mocked Transition objects.\n   *\n   * @return ModerationStateTransitionInterface[]\n   *   An array of mocked Transition objects.\n   *\/",46],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","setupTransitionEntityList",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$transition",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","prophesize",53],"(",["T_STRING","ModerationStateTransitionInterface",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$transition",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","id",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","willReturn",54],"(",["T_CONSTANT_ENCAPSED_STRING","'draft__needs_review'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$transition",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getFromState",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","willReturn",55],"(",["T_CONSTANT_ENCAPSED_STRING","'draft'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$transition",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getToState",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","willReturn",56],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$list",57],"[",["T_VARIABLE","$transition",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","reveal",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","id",57],"(",")","]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$transition",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","reveal",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$transition",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","prophesize",59],"(",["T_STRING","ModerationStateTransitionInterface",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$transition",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","id",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","willReturn",60],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review__staging'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$transition",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getFromState",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","willReturn",61],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$transition",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getToState",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","willReturn",62],"(",["T_CONSTANT_ENCAPSED_STRING","'staging'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$list",63],"[",["T_VARIABLE","$transition",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","reveal",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","id",63],"(",")","]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$transition",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","reveal",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$transition",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","prophesize",65],"(",["T_STRING","ModerationStateTransitionInterface",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$transition",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","willReturn",66],"(",["T_CONSTANT_ENCAPSED_STRING","'staging__published'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$transition",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getFromState",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","willReturn",67],"(",["T_CONSTANT_ENCAPSED_STRING","'staging'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$transition",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getToState",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","willReturn",68],"(",["T_CONSTANT_ENCAPSED_STRING","'published'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$list",69],"[",["T_VARIABLE","$transition",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","reveal",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$transition",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","reveal",69],"(",")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$transition",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","prophesize",71],"(",["T_STRING","ModerationStateTransitionInterface",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$transition",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","id",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","willReturn",72],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review__draft'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$transition",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getFromState",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","willReturn",73],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$transition",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getToState",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturn",74],"(",["T_CONSTANT_ENCAPSED_STRING","'draft'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$list",75],"[",["T_VARIABLE","$transition",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","reveal",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","id",75],"(",")","]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$transition",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","reveal",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$transition",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","prophesize",77],"(",["T_STRING","ModerationStateTransitionInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$transition",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","willReturn",78],"(",["T_CONSTANT_ENCAPSED_STRING","'draft__draft'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$transition",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getFromState",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","willReturn",79],"(",["T_CONSTANT_ENCAPSED_STRING","'draft'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$transition",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getToState",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","willReturn",80],"(",["T_CONSTANT_ENCAPSED_STRING","'draft'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$list",81],"[",["T_VARIABLE","$transition",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","reveal",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")","]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$transition",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","reveal",81],"(",")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$transition",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","prophesize",83],"(",["T_STRING","ModerationStateTransitionInterface",83],["T_DOUBLE_COLON","::",83],["T_CLASS","class",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$transition",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","willReturn",84],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review__needs_review'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$transition",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getFromState",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","willReturn",85],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$transition",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getToState",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","willReturn",86],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$list",87],"[",["T_VARIABLE","$transition",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","reveal",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],"(",")","]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$transition",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","reveal",87],"(",")",";",["T_WHITESPACE","\n\n    ",87],["T_VARIABLE","$transition",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","prophesize",89],"(",["T_STRING","ModerationStateTransitionInterface",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$transition",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","id",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","willReturn",90],"(",["T_CONSTANT_ENCAPSED_STRING","'published__published'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$transition",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getFromState",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","willReturn",91],"(",["T_CONSTANT_ENCAPSED_STRING","'published'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$transition",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getToState",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","willReturn",92],"(",["T_CONSTANT_ENCAPSED_STRING","'published'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$list",93],"[",["T_VARIABLE","$transition",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","reveal",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","id",93],"(",")","]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$transition",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","reveal",93],"(",")",";",["T_WHITESPACE","\n\n    ",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$list",95],";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n  ",96],["T_DOC_COMMENT","\/**\n   * Builds a mock storage object for States.\n   *\n   * @return EntityStorageInterface\n   *   The mocked storage object for States.\n   *\/",98],["T_WHITESPACE","\n  ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","setupStateStorage",104],"(",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$entity_storage",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","prophesize",105],"(",["T_STRING","EntityStorageInterface",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],")",";",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$state",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","prophesize",107],"(",["T_STRING","ModerationStateInterface",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$state",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","id",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","willReturn",108],"(",["T_CONSTANT_ENCAPSED_STRING","'draft'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$state",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","label",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","willReturn",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Draft'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$state",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","isPublishedState",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","willReturn",110],"(",["T_STRING","FALSE",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$state",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","isDefaultRevisionState",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","willReturn",111],"(",["T_STRING","FALSE",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$states",112],"[",["T_CONSTANT_ENCAPSED_STRING","'draft'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$state",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","reveal",112],"(",")",";",["T_WHITESPACE","\n\n    ",112],["T_VARIABLE","$state",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","prophesize",114],"(",["T_STRING","ModerationStateInterface",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$state",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","id",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","willReturn",115],"(",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$state",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","label",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","willReturn",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Needs Review'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$state",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","isPublishedState",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","willReturn",117],"(",["T_STRING","FALSE",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$state",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isDefaultRevisionState",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","willReturn",118],"(",["T_STRING","FALSE",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$states",119],"[",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$state",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","reveal",119],"(",")",";",["T_WHITESPACE","\n\n    ",119],["T_VARIABLE","$state",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","prophesize",121],"(",["T_STRING","ModerationStateInterface",121],["T_DOUBLE_COLON","::",121],["T_CLASS","class",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$state",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","id",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","willReturn",122],"(",["T_CONSTANT_ENCAPSED_STRING","'staging'",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$state",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","label",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Staging'",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$state",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isPublishedState",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","willReturn",124],"(",["T_STRING","FALSE",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$state",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","isDefaultRevisionState",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","willReturn",125],"(",["T_STRING","FALSE",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$states",126],"[",["T_CONSTANT_ENCAPSED_STRING","'staging'",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$state",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","reveal",126],"(",")",";",["T_WHITESPACE","\n\n    ",126],["T_VARIABLE","$state",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","prophesize",128],"(",["T_STRING","ModerationStateInterface",128],["T_DOUBLE_COLON","::",128],["T_CLASS","class",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$state",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","id",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","willReturn",129],"(",["T_CONSTANT_ENCAPSED_STRING","'published'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$state",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","label",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","willReturn",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Published'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$state",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","isPublishedState",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","willReturn",131],"(",["T_STRING","TRUE",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$state",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","isDefaultRevisionState",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","willReturn",132],"(",["T_STRING","TRUE",132],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$states",133],"[",["T_CONSTANT_ENCAPSED_STRING","'published'",133],"]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$state",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","reveal",133],"(",")",";",["T_WHITESPACE","\n\n    ",133],["T_VARIABLE","$state",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","prophesize",135],"(",["T_STRING","ModerationStateInterface",135],["T_DOUBLE_COLON","::",135],["T_CLASS","class",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$state",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","id",136],"(",")",["T_OBJECT_OPERATOR","->",136],["T_STRING","willReturn",136],"(",["T_CONSTANT_ENCAPSED_STRING","'archived'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$state",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","label",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","willReturn",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Archived'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$state",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","isPublishedState",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","willReturn",138],"(",["T_STRING","TRUE",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$state",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","isDefaultRevisionState",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","willReturn",139],"(",["T_STRING","TRUE",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$states",140],"[",["T_CONSTANT_ENCAPSED_STRING","'archived'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$state",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","reveal",140],"(",")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$entity_storage",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","loadMultiple",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturn",142],"(",["T_VARIABLE","$states",142],")",";",["T_WHITESPACE","\n\n    ",142],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$states",144],["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$id",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$state",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n      ",144],["T_VARIABLE","$entity_storage",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","load",145],"(",["T_VARIABLE","$id",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","willReturn",145],"(",["T_VARIABLE","$state",145],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$entity_storage",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","reveal",148],"(",")",";",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * Builds a mocked Entity Type Manager.\n   *\n   * @return EntityTypeManagerInterface\n   *   The mocked Entity Type Manager.\n   *\/",151],["T_WHITESPACE","\n  ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","setupEntityTypeManager",157],"(",["T_STRING","EntityStorageInterface",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$storage",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$entityTypeManager",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","prophesize",158],"(",["T_STRING","EntityTypeManagerInterface",158],["T_DOUBLE_COLON","::",158],["T_CLASS","class",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$entityTypeManager",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getStorage",159],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation_state'",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","willReturn",159],"(",["T_VARIABLE","$storage",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$entityTypeManager",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getStorage",160],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation_state_transition'",160],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","willReturn",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setupTransitionStorage",160],"(",")",")",";",["T_WHITESPACE","\n\n    ",160],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$entityTypeManager",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","reveal",162],"(",")",";",["T_WHITESPACE","\n  ",162],"}",["T_WHITESPACE","\n\n  ",163],["T_DOC_COMMENT","\/**\n   * Builds a mocked query factory that does nothing.\n   *\n   * @return QueryFactory\n   *   The mocked query factory that does nothing.\n   *\/",165],["T_WHITESPACE","\n  ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","setupQueryFactory",171],"(",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$factory",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","prophesize",172],"(",["T_STRING","QueryFactory",172],["T_DOUBLE_COLON","::",172],["T_CLASS","class",172],")",";",["T_WHITESPACE","\n\n    ",172],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$factory",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","reveal",174],"(",")",";",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n  ",175],["T_DOC_COMMENT","\/**\n   * @covers ::isTransitionAllowed\n   * @covers ::calculatePossibleTransitions\n   *\n   * @dataProvider providerIsTransitionAllowedWithValidTransition\n   *\/",177],["T_WHITESPACE","\n  ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","testIsTransitionAllowedWithValidTransition",183],"(",["T_VARIABLE","$from_id",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$to_id",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$storage",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setupStateStorage",184],"(",")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$state_transition_validation",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_STRING","StateTransitionValidation",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setupEntityTypeManager",185],"(",["T_VARIABLE","$storage",185],")",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setupQueryFactory",185],"(",")",")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertTrue",186],"(",["T_VARIABLE","$state_transition_validation",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","isTransitionAllowed",186],"(",["T_VARIABLE","$storage",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","load",186],"(",["T_VARIABLE","$from_id",186],")",",",["T_WHITESPACE"," ",186],["T_VARIABLE","$storage",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","load",186],"(",["T_VARIABLE","$to_id",186],")",")",")",";",["T_WHITESPACE","\n  ",186],"}",["T_WHITESPACE","\n\n  ",187],["T_DOC_COMMENT","\/**\n   * Data provider for self::testIsTransitionAllowedWithValidTransition().\n   *\/",189],["T_WHITESPACE","\n  ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","providerIsTransitionAllowedWithValidTransition",192],"(",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n    ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],"[",["T_WHITESPACE","\n      ",193],"[",["T_CONSTANT_ENCAPSED_STRING","'draft'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'draft'",194],"]",",",["T_WHITESPACE","\n      ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'draft'",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'needs_review'",195],"]",",",["T_WHITESPACE","\n      ",195],"[",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'needs_review'",196],"]",",",["T_WHITESPACE","\n      ",196],"[",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'staging'",197],"]",",",["T_WHITESPACE","\n      ",197],"[",["T_CONSTANT_ENCAPSED_STRING","'staging'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'published'",198],"]",",",["T_WHITESPACE","\n      ",198],"[",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'draft'",199],"]",",",["T_WHITESPACE","\n    ",199],"]",";",["T_WHITESPACE","\n  ",200],"}",["T_WHITESPACE","\n\n  ",201],["T_DOC_COMMENT","\/**\n   * @covers ::isTransitionAllowed\n   * @covers ::calculatePossibleTransitions\n   *\n   * @dataProvider providerIsTransitionAllowedWithInValidTransition\n   *\/",203],["T_WHITESPACE","\n  ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","testIsTransitionAllowedWithInValidTransition",209],"(",["T_VARIABLE","$from_id",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$to_id",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$storage",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setupStateStorage",210],"(",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$state_transition_validation",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_STRING","StateTransitionValidation",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setupEntityTypeManager",211],"(",["T_VARIABLE","$storage",211],")",",",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setupQueryFactory",211],"(",")",")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertFalse",212],"(",["T_VARIABLE","$state_transition_validation",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","isTransitionAllowed",212],"(",["T_VARIABLE","$storage",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","load",212],"(",["T_VARIABLE","$from_id",212],")",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$storage",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","load",212],"(",["T_VARIABLE","$to_id",212],")",")",")",";",["T_WHITESPACE","\n  ",212],"}",["T_WHITESPACE","\n\n  ",213],["T_DOC_COMMENT","\/**\n   * Data provider for self::testIsTransitionAllowedWithInValidTransition().\n   *\/",215],["T_WHITESPACE","\n  ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","providerIsTransitionAllowedWithInValidTransition",218],"(",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n    ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],"[",["T_WHITESPACE","\n      ",219],"[",["T_CONSTANT_ENCAPSED_STRING","'published'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'needs_review'",220],"]",",",["T_WHITESPACE","\n      ",220],"[",["T_CONSTANT_ENCAPSED_STRING","'published'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'staging'",221],"]",",",["T_WHITESPACE","\n      ",221],"[",["T_CONSTANT_ENCAPSED_STRING","'staging'",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'needs_review'",222],"]",",",["T_WHITESPACE","\n      ",222],"[",["T_CONSTANT_ENCAPSED_STRING","'staging'",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'staging'",223],"]",",",["T_WHITESPACE","\n      ",223],"[",["T_CONSTANT_ENCAPSED_STRING","'needs_review'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'published'",224],"]",",",["T_WHITESPACE","\n      ",224],"[",["T_CONSTANT_ENCAPSED_STRING","'published'",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'archived'",225],"]",",",["T_WHITESPACE","\n      ",225],"[",["T_CONSTANT_ENCAPSED_STRING","'archived'",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'published'",226],"]",",",["T_WHITESPACE","\n    ",226],"]",";",["T_WHITESPACE","\n  ",227],"}",["T_WHITESPACE","\n\n  ",228],["T_DOC_COMMENT","\/**\n   * Verifies user-aware transition validation.\n   *\n   * @param string $from_id\n   *   The state to transition from.\n   * @param string $to_id\n   *   The state to transition to.\n   * @param string $permission\n   *   The permission to give the user, or not.\n   * @param bool $allowed\n   *   Whether or not to grant a user this permission.\n   * @param bool $result\n   *   Whether userMayTransition() is expected to return TRUE or FALSE.\n   *\n   * @dataProvider userTransitionsProvider\n   *\/",230],["T_WHITESPACE","\n  ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","testUserSensitiveValidTransitions",246],"(",["T_VARIABLE","$from_id",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$to_id",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$permission",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$allowed",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$result",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$user",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","prophesize",247],"(",["T_STRING","AccountInterface",247],["T_DOUBLE_COLON","::",247],["T_CLASS","class",247],")",";",["T_WHITESPACE","\n    ",247],["T_COMMENT","\/\/ The one listed permission will be returned as instructed; Any others are\n",248],["T_WHITESPACE","    ",249],["T_COMMENT","\/\/ always denied.\n",249],["T_WHITESPACE","    ",250],["T_VARIABLE","$user",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","hasPermission",250],"(",["T_VARIABLE","$permission",250],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","willReturn",250],"(",["T_VARIABLE","$allowed",250],")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$user",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","hasPermission",251],"(",["T_STRING","Argument",251],["T_DOUBLE_COLON","::",251],["T_STRING","type",251],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",251],")",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","willReturn",251],"(",["T_STRING","FALSE",251],")",";",["T_WHITESPACE","\n\n    ",251],["T_VARIABLE","$storage",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","setupStateStorage",253],"(",")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$validator",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_STRING","Validator",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setupEntityTypeManager",254],"(",["T_VARIABLE","$storage",254],")",",",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setupQueryFactory",254],"(",")",")",";",["T_WHITESPACE","\n\n    ",254],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertEquals",256],"(",["T_VARIABLE","$result",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$validator",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","userMayTransition",256],"(",["T_VARIABLE","$storage",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","load",256],"(",["T_VARIABLE","$from_id",256],")",",",["T_WHITESPACE"," ",256],["T_VARIABLE","$storage",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","load",256],"(",["T_VARIABLE","$to_id",256],")",",",["T_WHITESPACE"," ",256],["T_VARIABLE","$user",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","reveal",256],"(",")",")",")",";",["T_WHITESPACE","\n  ",256],"}",["T_WHITESPACE","\n\n  ",257],["T_DOC_COMMENT","\/**\n   * Data provider for the user transition test.\n   *\/",259],["T_WHITESPACE","\n  ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","userTransitionsProvider",262],"(",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n    ",262],["T_COMMENT","\/\/ The user has the right permission, so let it through.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$ret",264],"[","]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],"[",["T_CONSTANT_ENCAPSED_STRING","'draft'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'draft'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'use draft__draft transition'",264],",",["T_WHITESPACE"," ",264],["T_STRING","TRUE",264],",",["T_WHITESPACE"," ",264],["T_STRING","TRUE",264],"]",";",["T_WHITESPACE","\n\n    ",264],["T_COMMENT","\/\/ The user doesn't have the right permission, block it.\n",266],["T_WHITESPACE","    ",267],["T_VARIABLE","$ret",267],"[","]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],"[",["T_CONSTANT_ENCAPSED_STRING","'draft'",267],",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'draft'",267],",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'use draft__draft transition'",267],",",["T_WHITESPACE"," ",267],["T_STRING","FALSE",267],",",["T_WHITESPACE"," ",267],["T_STRING","FALSE",267],"]",";",["T_WHITESPACE","\n\n    ",267],["T_COMMENT","\/\/ The user has some other permission that doesn't matter.\n",269],["T_WHITESPACE","    ",270],["T_VARIABLE","$ret",270],"[","]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],"[",["T_CONSTANT_ENCAPSED_STRING","'draft'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'draft'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'use draft__needs_review transition'",270],",",["T_WHITESPACE"," ",270],["T_STRING","TRUE",270],",",["T_WHITESPACE"," ",270],["T_STRING","FALSE",270],"]",";",["T_WHITESPACE","\n\n    ",270],["T_COMMENT","\/\/ The user has permission, but the transition isn't allowed anyway.\n",272],["T_WHITESPACE","    ",273],["T_VARIABLE","$ret",273],"[","]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],"[",["T_CONSTANT_ENCAPSED_STRING","'published'",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'needs_review'",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'use published__needs_review transition'",273],",",["T_WHITESPACE"," ",273],["T_STRING","TRUE",273],",",["T_WHITESPACE"," ",273],["T_STRING","FALSE",273],"]",";",["T_WHITESPACE","\n\n    ",273],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$ret",275],";",["T_WHITESPACE","\n  ",275],"}",["T_WHITESPACE","\n\n",276],"}",["T_WHITESPACE","\n\n",278],["T_DOC_COMMENT","\/**\n * Testable subclass for selected tests.\n *\n * EntityQuery is beyond untestable, so we have to subclass and override the\n * method that uses it.\n *\/",280],["T_WHITESPACE","\n",285],["T_CLASS","class",286],["T_WHITESPACE"," ",286],["T_STRING","Validator",286],["T_WHITESPACE"," ",286],["T_EXTENDS","extends",286],["T_WHITESPACE"," ",286],["T_STRING","StateTransitionValidation",286],["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n\n  ",286],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",288],["T_WHITESPACE","\n  ",290],["T_PROTECTED","protected",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","getTransitionFromStates",291],"(",["T_STRING","ModerationStateInterface",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$from",291],",",["T_WHITESPACE"," ",291],["T_STRING","ModerationStateInterface",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$to",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n    ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$from",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","id",292],"(",")",["T_WHITESPACE"," ",292],["T_IS_IDENTICAL","===",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'draft'",292],["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$to",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","id",292],"(",")",["T_WHITESPACE"," ",292],["T_IS_IDENTICAL","===",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'draft'",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n      ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","transitionStorage",293],"(",")",["T_OBJECT_OPERATOR","->",293],["T_STRING","loadMultiple",293],"(","[",["T_CONSTANT_ENCAPSED_STRING","'draft__draft'",293],"]",")","[",["T_LNUMBER","0",293],"]",";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n  ",294],"}",["T_WHITESPACE","\n\n",295],"}",["T_WHITESPACE","\n",297]]