[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_moderation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Handler",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContentEntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormStateInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Customizations for node entities.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","NodeModerationHandler",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","ModerationHandler",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",13],["T_WHITESPACE","\n  ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","onPresave",16],"(",["T_STRING","ContentEntityInterface",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$entity",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$default_revision",16],",",["T_WHITESPACE"," ",16],["T_VARIABLE","$published_state",16],")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_IF","if",17],["T_WHITESPACE"," ",17],"(",["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","shouldModerate",17],"(",["T_VARIABLE","$entity",17],",",["T_WHITESPACE"," ",17],["T_VARIABLE","$published_state",17],")",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n      ",17],["T_STRING","parent",18],["T_DOUBLE_COLON","::",18],["T_STRING","onPresave",18],"(",["T_VARIABLE","$entity",18],",",["T_WHITESPACE"," ",18],["T_VARIABLE","$default_revision",18],",",["T_WHITESPACE"," ",18],["T_VARIABLE","$published_state",18],")",";",["T_WHITESPACE","\n      ",18],["T_COMMENT","\/\/ Only nodes have a concept of published.\n",19],["T_WHITESPACE","      ",20],["T_DOC_COMMENT","\/** @var \\Drupal\\node\\NodeInterface $entity *\/",20],["T_WHITESPACE","\n      ",20],["T_VARIABLE","$entity",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","setPublished",21],"(",["T_VARIABLE","$published_state",21],")",";",["T_WHITESPACE","\n    ",21],"}",["T_WHITESPACE","\n  ",22],"}",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","enforceRevisionsEntityFormAlter",28],"(",["T_ARRAY","array",28],["T_WHITESPACE"," ",28],"&",["T_VARIABLE","$form",28],",",["T_WHITESPACE"," ",28],["T_STRING","FormStateInterface",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$form_state",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$form_id",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$form",29],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",29],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#disabled'",29],"]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","TRUE",29],";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$form",30],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",30],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",30],"]",["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","TRUE",30],";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$form",31],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",31],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#description'",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","t",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Revisions are required.'",31],")",";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","enforceRevisionsBundleFormAlter",37],"(",["T_ARRAY","array",37],["T_WHITESPACE"," ",37],"&",["T_VARIABLE","$form",37],",",["T_WHITESPACE"," ",37],["T_STRING","FormStateInterface",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$form_state",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$form_id",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_COMMENT","\/* @var \\Drupal\\node\\Entity\\NodeType $entity *\/",38],["T_WHITESPACE","\n    ",38],["T_VARIABLE","$entity",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$form_state",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getFormObject",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","getEntity",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_VARIABLE","$entity",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getThirdPartySetting",41],"(",["T_CONSTANT_ENCAPSED_STRING","'content_moderation'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'enabled'",41],",",["T_WHITESPACE"," ",41],["T_STRING","FALSE",41],")",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n      ",41],["T_COMMENT","\/\/ Force the revision checkbox on.\n",42],["T_WHITESPACE","      ",43],["T_VARIABLE","$form",43],"[",["T_CONSTANT_ENCAPSED_STRING","'workflow'",43],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",43],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",43],"]","[",["T_CONSTANT_ENCAPSED_STRING","'revision'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'revision'",43],";",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$form",44],"[",["T_CONSTANT_ENCAPSED_STRING","'workflow'",44],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",44],"]","[",["T_CONSTANT_ENCAPSED_STRING","'revision'",44],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#disabled'",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","TRUE",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Check if an entity's default revision and\/or state needs adjusting.\n   *\n   * @param \\Drupal\\Core\\Entity\\ContentEntityInterface $entity\n   *   The entity to check.\n   * @param bool $published_state\n   *   Whether the state being transitioned to is a published state or not.\n   *\n   * @return bool\n   *   TRUE when either the default revision or the state needs to be updated.\n   *\/",48],["T_WHITESPACE","\n  ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","shouldModerate",59],"(",["T_STRING","ContentEntityInterface",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$entity",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$published_state",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_COMMENT","\/\/ @todo clarify the first condition.\n",60],["T_WHITESPACE","    ",61],["T_COMMENT","\/\/ First condition is needed so you can add a translation.\n",61],["T_WHITESPACE","    ",62],["T_COMMENT","\/\/ Second condition checks to see if the published status has changed.\n",62],["T_WHITESPACE","    ",63],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$entity",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isDefaultTranslation",63],"(",")",["T_WHITESPACE"," ",63],["T_BOOLEAN_OR","||",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$entity",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isPublished",63],"(",")",["T_WHITESPACE"," ",63],["T_IS_NOT_IDENTICAL","!==",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$published_state",63],";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n",64],"}",["T_WHITESPACE","\n",66]]