[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_moderation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Test content_moderation functionality with localization and translation.\n *\n * @group content_moderation\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","ModerationLocaleTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","ModerationStateTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[",["T_WHITESPACE","\n    ",17],["T_CONSTANT_ENCAPSED_STRING","'node'",18],",",["T_WHITESPACE","\n    ",18],["T_CONSTANT_ENCAPSED_STRING","'content_moderation'",19],",",["T_WHITESPACE","\n    ",19],["T_CONSTANT_ENCAPSED_STRING","'locale'",20],",",["T_WHITESPACE","\n    ",20],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",21],",",["T_WHITESPACE","\n  ",21],"]",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Tests article translations can be moderated separately.\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testTranslateModeratedContent",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","drupalLogin",28],"(",["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","rootUser",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_COMMENT","\/\/ Enable moderation on Article node type.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","createContentTypeFromUi",31],"(",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'Article'",32],",",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'article'",33],",",["T_WHITESPACE","\n      ",33],["T_STRING","TRUE",34],",",["T_WHITESPACE","\n      ",34],"[",["T_CONSTANT_ENCAPSED_STRING","'draft'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'published'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'archived'",35],"]",",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'draft'",36],["T_WHITESPACE","\n    ",36],")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Add French language.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$edit",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"[",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'fr'",41],",",["T_WHITESPACE","\n    ",41],"]",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalPostForm",43],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$edit",43],",",["T_WHITESPACE"," ",43],["T_STRING","t",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Add language'",43],")",")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Enable content translation on articles.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalGet",46],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$edit",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'entity_types[node]'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","TRUE",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][translatable]'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","TRUE",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][settings][language][language_alterable]'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],",",["T_WHITESPACE","\n    ",50],"]",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalPostForm",52],"(",["T_STRING","NULL",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$edit",52],",",["T_WHITESPACE"," ",52],["T_STRING","t",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",52],")",")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Adding languages requires a container rebuild in the test running\n",54],["T_WHITESPACE","    ",55],["T_COMMENT","\/\/ environment so that multilingual services are used.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","rebuildContainer",56],"(",")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Create a published article in English.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$edit",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Published English node'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'langcode[0][value]'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'en'",61],",",["T_WHITESPACE","\n    ",61],"]",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalPostForm",63],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$edit",63],",",["T_WHITESPACE"," ",63],["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Publish'",63],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertText",64],"(",["T_STRING","t",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Article Published English node has been created.'",64],")",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$english_node",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalGetNodeByTitle",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Published English node'",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Add a French translation.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalGet",68],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_VARIABLE","$english_node",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","id",68],"(",")",["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'\/translations'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","clickLink",69],"(",["T_STRING","t",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Add'",69],")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$edit",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"[",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'French node Draft'",71],",",["T_WHITESPACE","\n    ",71],"]",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalPostForm",73],"(",["T_STRING","NULL",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$edit",73],",",["T_WHITESPACE"," ",73],["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft (this translation)'",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ Here the error has occurred \"The website encountered an unexpected error.\n",74],["T_WHITESPACE","    ",75],["T_COMMENT","\/\/ Please try again later.\"\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ If the translation has got lost.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertText",77],"(",["T_STRING","t",77],"(",["T_CONSTANT_ENCAPSED_STRING","'Article French node Draft has been updated.'",77],")",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Create an article in English.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$edit",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'English node'",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'langcode[0][value]'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'en'",82],",",["T_WHITESPACE","\n    ",82],"]",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalPostForm",84],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$edit",84],",",["T_WHITESPACE"," ",84],["T_STRING","t",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft'",84],")",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertText",85],"(",["T_STRING","t",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Article English node has been created.'",85],")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$english_node",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalGetNodeByTitle",86],"(",["T_CONSTANT_ENCAPSED_STRING","'English node'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Add a French translation.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalGet",89],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$english_node",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","id",89],"(",")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\/translations'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","clickLink",90],"(",["T_STRING","t",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Add'",90],")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$edit",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'French node'",92],",",["T_WHITESPACE","\n    ",92],"]",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalPostForm",94],"(",["T_STRING","NULL",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$edit",94],",",["T_WHITESPACE"," ",94],["T_STRING","t",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft (this translation)'",94],")",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertText",95],"(",["T_STRING","t",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Article French node has been updated.'",95],")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$english_node",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalGetNodeByTitle",96],"(",["T_CONSTANT_ENCAPSED_STRING","'English node'",96],",",["T_WHITESPACE"," ",96],["T_STRING","TRUE",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Publish the English article and check that the translation stays\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ unpublished.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","drupalPostForm",100],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_VARIABLE","$english_node",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","id",100],"(",")",["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",100],",",["T_WHITESPACE"," ",100],"[","]",",",["T_WHITESPACE"," ",100],["T_STRING","t",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Publish (this translation)'",100],")",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertText",101],"(",["T_STRING","t",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Article English node has been updated.'",101],")",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$english_node",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","drupalGetNodeByTitle",102],"(",["T_CONSTANT_ENCAPSED_STRING","'English node'",102],",",["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$french_node",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$english_node",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getTranslation",103],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEqual",104],"(",["T_CONSTANT_ENCAPSED_STRING","'French node'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$french_node",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","label",104],"(",")",")",";",["T_WHITESPACE","\n\n    ",104],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$english_node",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","moderation_state",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","target_id",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'published'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertTrue",107],"(",["T_VARIABLE","$english_node",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","isPublished",107],"(",")",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEqual",108],"(",["T_VARIABLE","$french_node",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","moderation_state",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","target_id",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'draft'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertFalse",109],"(",["T_VARIABLE","$french_node",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","isPublished",109],"(",")",")",";",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Create another article with its translation. This time we will publish\n",111],["T_WHITESPACE","    ",112],["T_COMMENT","\/\/ the translation first.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$edit",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[",["T_WHITESPACE","\n      ",113],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Another node'",114],",",["T_WHITESPACE","\n    ",114],"]",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalPostForm",116],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$edit",116],",",["T_WHITESPACE"," ",116],["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft'",116],")",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertText",117],"(",["T_STRING","t",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Article Another node has been created.'",117],")",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$english_node",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","drupalGetNodeByTitle",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Another node'",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Add a French translation.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","drupalGet",121],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$english_node",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","id",121],"(",")",["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'\/translations'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","clickLink",122],"(",["T_STRING","t",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Add'",122],")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$edit",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],"[",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'Translated node'",124],",",["T_WHITESPACE","\n    ",124],"]",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalPostForm",126],"(",["T_STRING","NULL",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$edit",126],",",["T_WHITESPACE"," ",126],["T_STRING","t",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft (this translation)'",126],")",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertText",127],"(",["T_STRING","t",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Article Translated node has been updated.'",127],")",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$english_node",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalGetNodeByTitle",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Another node'",128],",",["T_WHITESPACE"," ",128],["T_STRING","TRUE",128],")",";",["T_WHITESPACE","\n\n    ",128],["T_COMMENT","\/\/ Publish the translation and check that the source language version stays\n",130],["T_WHITESPACE","    ",131],["T_COMMENT","\/\/ unpublished.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","drupalPostForm",132],"(",["T_CONSTANT_ENCAPSED_STRING","'fr\/node\/'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$english_node",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","id",132],"(",")",["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",132],",",["T_WHITESPACE"," ",132],"[","]",",",["T_WHITESPACE"," ",132],["T_STRING","t",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Publish (this translation)'",132],")",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertText",133],"(",["T_STRING","t",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Article Translated node has been updated.'",133],")",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$english_node",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","drupalGetNodeByTitle",134],"(",["T_CONSTANT_ENCAPSED_STRING","'Another node'",134],",",["T_WHITESPACE"," ",134],["T_STRING","TRUE",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$french_node",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$english_node",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTranslation",135],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEqual",136],"(",["T_VARIABLE","$french_node",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","moderation_state",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","target_id",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'published'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertTrue",137],"(",["T_VARIABLE","$french_node",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","isPublished",137],"(",")",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertEqual",138],"(",["T_VARIABLE","$english_node",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","moderation_state",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","target_id",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'draft'",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertFalse",139],"(",["T_VARIABLE","$english_node",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","isPublished",139],"(",")",")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Now check that we can create a new draft of the translation.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$edit",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'New draft of translated node'",143],",",["T_WHITESPACE","\n    ",143],"]",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalPostForm",145],"(",["T_CONSTANT_ENCAPSED_STRING","'fr\/node\/'",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_VARIABLE","$english_node",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","id",145],"(",")",["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$edit",145],",",["T_WHITESPACE"," ",145],["T_STRING","t",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft (this translation)'",145],")",")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertText",146],"(",["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Article New draft of translated node has been updated.'",146],")",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$english_node",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalGetNodeByTitle",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Another node'",147],",",["T_WHITESPACE"," ",147],["T_STRING","TRUE",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$french_node",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$english_node",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getTranslation",148],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEqual",149],"(",["T_VARIABLE","$french_node",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","moderation_state",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","target_id",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'published'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertTrue",150],"(",["T_VARIABLE","$french_node",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","isPublished",150],"(",")",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertEqual",151],"(",["T_VARIABLE","$french_node",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getTitle",151],"(",")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'Translated node'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'The default revision of the published translation remains the same.'",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Publish the draft.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$edit",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],"[",["T_WHITESPACE","\n      ",154],["T_CONSTANT_ENCAPSED_STRING","'new_state'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'published'",155],",",["T_WHITESPACE","\n    ",155],"]",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","drupalPostForm",157],"(",["T_CONSTANT_ENCAPSED_STRING","'fr\/node\/'",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$english_node",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","id",157],"(",")",["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'\/latest'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$edit",157],",",["T_WHITESPACE"," ",157],["T_STRING","t",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",157],")",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertText",158],"(",["T_STRING","t",158],"(",["T_CONSTANT_ENCAPSED_STRING","'The moderation state has been updated.'",158],")",")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$english_node",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","drupalGetNodeByTitle",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Another node'",159],",",["T_WHITESPACE"," ",159],["T_STRING","TRUE",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$french_node",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$english_node",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getTranslation",160],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEqual",161],"(",["T_VARIABLE","$french_node",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","moderation_state",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","target_id",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'published'",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertTrue",162],"(",["T_VARIABLE","$french_node",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","isPublished",162],"(",")",")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEqual",163],"(",["T_VARIABLE","$french_node",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getTitle",163],"(",")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'New draft of translated node'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'The draft has replaced the published revision.'",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Publish the English article before testing the archive transition.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","drupalPostForm",166],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$english_node",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","id",166],"(",")",["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",166],",",["T_WHITESPACE"," ",166],"[","]",",",["T_WHITESPACE"," ",166],["T_STRING","t",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Publish (this translation)'",166],")",")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertText",167],"(",["T_STRING","t",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Article Another node has been updated.'",167],")",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$english_node",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","drupalGetNodeByTitle",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Another node'",168],",",["T_WHITESPACE"," ",168],["T_STRING","TRUE",168],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEqual",169],"(",["T_VARIABLE","$english_node",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","moderation_state",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","target_id",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'published'",169],")",";",["T_WHITESPACE","\n\n    ",169],["T_COMMENT","\/\/ Archive the node and its translation.\n",171],["T_WHITESPACE","    ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","drupalPostForm",172],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",172],["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_VARIABLE","$english_node",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","id",172],"(",")",["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",172],",",["T_WHITESPACE"," ",172],"[","]",",",["T_WHITESPACE"," ",172],["T_STRING","t",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Archive (this translation)'",172],")",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertText",173],"(",["T_STRING","t",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Article Another node has been updated.'",173],")",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","drupalPostForm",174],"(",["T_CONSTANT_ENCAPSED_STRING","'fr\/node\/'",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$english_node",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","id",174],"(",")",["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",174],",",["T_WHITESPACE"," ",174],"[","]",",",["T_WHITESPACE"," ",174],["T_STRING","t",174],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Archive (this translation)'",174],")",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertText",175],"(",["T_STRING","t",175],"(",["T_CONSTANT_ENCAPSED_STRING","'Article New draft of translated node has been updated.'",175],")",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$english_node",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","drupalGetNodeByTitle",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Another node'",176],",",["T_WHITESPACE"," ",176],["T_STRING","TRUE",176],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$french_node",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$english_node",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getTranslation",177],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertEqual",178],"(",["T_VARIABLE","$english_node",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","moderation_state",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","target_id",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'archived'",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertFalse",179],"(",["T_VARIABLE","$english_node",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","isPublished",179],"(",")",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertEqual",180],"(",["T_VARIABLE","$french_node",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","moderation_state",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","target_id",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'archived'",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertFalse",181],"(",["T_VARIABLE","$french_node",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","isPublished",181],"(",")",")",";",["T_WHITESPACE","\n\n    ",181],["T_COMMENT","\/\/ Create another article with its translation. This time publishing english\n",183],["T_WHITESPACE","    ",184],["T_COMMENT","\/\/ after creating a forward french revision.\n",184],["T_WHITESPACE","    ",185],["T_VARIABLE","$edit",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],"[",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'An english node'",186],",",["T_WHITESPACE","\n    ",186],"]",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","drupalPostForm",188],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$edit",188],",",["T_WHITESPACE"," ",188],["T_STRING","t",188],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft'",188],")",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertText",189],"(",["T_STRING","t",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Article An english node has been created.'",189],")",")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$english_node",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","drupalGetNodeByTitle",190],"(",["T_CONSTANT_ENCAPSED_STRING","'An english node'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertFalse",191],"(",["T_VARIABLE","$english_node",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","isPublished",191],"(",")",")",";",["T_WHITESPACE","\n\n    ",191],["T_COMMENT","\/\/ Add a French translation.\n",193],["T_WHITESPACE","    ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","drupalGet",194],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$english_node",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","id",194],"(",")",["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'\/translations'",194],")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","clickLink",195],"(",["T_STRING","t",195],"(",["T_CONSTANT_ENCAPSED_STRING","'Add'",195],")",")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$edit",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],"[",["T_WHITESPACE","\n      ",196],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'A french node'",197],",",["T_WHITESPACE","\n    ",197],"]",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","drupalPostForm",199],"(",["T_STRING","NULL",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$edit",199],",",["T_WHITESPACE"," ",199],["T_STRING","t",199],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Publish (this translation)'",199],")",")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$english_node",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","drupalGetNodeByTitle",200],"(",["T_CONSTANT_ENCAPSED_STRING","'An english node'",200],",",["T_WHITESPACE"," ",200],["T_STRING","TRUE",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$french_node",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$english_node",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getTranslation",201],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",201],")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertTrue",202],"(",["T_VARIABLE","$french_node",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","isPublished",202],"(",")",")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertFalse",203],"(",["T_VARIABLE","$english_node",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","isPublished",203],"(",")",")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ Create a forward revision\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","drupalPostForm",206],"(",["T_CONSTANT_ENCAPSED_STRING","'fr\/node\/'",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$english_node",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","id",206],"(",")",["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",206],",",["T_WHITESPACE"," ",206],"[","]",",",["T_WHITESPACE"," ",206],["T_STRING","t",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Create New Draft (this translation)'",206],")",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$english_node",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","drupalGetNodeByTitle",207],"(",["T_CONSTANT_ENCAPSED_STRING","'An english node'",207],",",["T_WHITESPACE"," ",207],["T_STRING","TRUE",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$french_node",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$english_node",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getTranslation",208],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",208],")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertTrue",209],"(",["T_VARIABLE","$french_node",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isPublished",209],"(",")",")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertFalse",210],"(",["T_VARIABLE","$english_node",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","isPublished",210],"(",")",")",";",["T_WHITESPACE","\n\n    ",210],["T_COMMENT","\/\/ Publish the english node and the default french node not the latest\n",212],["T_WHITESPACE","    ",213],["T_COMMENT","\/\/ french node should be used.\n",213],["T_WHITESPACE","    ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","drupalPostForm",214],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$english_node",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","id",214],"(",")",["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",214],",",["T_WHITESPACE"," ",214],"[","]",",",["T_WHITESPACE"," ",214],["T_STRING","t",214],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and Publish (this translation)'",214],")",")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$english_node",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","drupalGetNodeByTitle",215],"(",["T_CONSTANT_ENCAPSED_STRING","'An english node'",215],",",["T_WHITESPACE"," ",215],["T_STRING","TRUE",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$french_node",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$english_node",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getTranslation",216],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertTrue",217],"(",["T_VARIABLE","$french_node",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","isPublished",217],"(",")",")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertTrue",218],"(",["T_VARIABLE","$english_node",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","isPublished",218],"(",")",")",";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n",219],"}",["T_WHITESPACE","\n",221]]