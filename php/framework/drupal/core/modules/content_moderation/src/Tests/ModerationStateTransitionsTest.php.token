[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_moderation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests moderation state transition config entity.\n *\n * @group content_moderation\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","ModerationStateTransitionsTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","ModerationStateTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Tests route access\/permissions.\n   *\/",12],["T_WHITESPACE","\n  ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testAccess",15],"(",")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n    ",15],["T_VARIABLE","$paths",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],"[",["T_WHITESPACE","\n      ",16],["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions'",17],",",["T_WHITESPACE","\n      ",17],["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions\/add'",18],",",["T_WHITESPACE","\n      ",18],["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions\/draft_published'",19],",",["T_WHITESPACE","\n      ",19],["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions\/draft_published\/delete'",20],",",["T_WHITESPACE","\n    ",20],"]",";",["T_WHITESPACE","\n\n    ",21],["T_FOREACH","foreach",23],["T_WHITESPACE"," ",23],"(",["T_VARIABLE","$paths",23],["T_WHITESPACE"," ",23],["T_AS","as",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$path",23],")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n      ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","drupalGet",24],"(",["T_VARIABLE","$path",24],")",";",["T_WHITESPACE","\n      ",24],["T_COMMENT","\/\/ No access.\n",25],["T_WHITESPACE","      ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","assertResponse",26],"(",["T_LNUMBER","403",26],")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","drupalLogin",28],"(",["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","adminUser",28],")",";",["T_WHITESPACE","\n    ",28],["T_FOREACH","foreach",29],["T_WHITESPACE"," ",29],"(",["T_VARIABLE","$paths",29],["T_WHITESPACE"," ",29],["T_AS","as",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$path",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n      ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalGet",30],"(",["T_VARIABLE","$path",30],")",";",["T_WHITESPACE","\n      ",30],["T_COMMENT","\/\/ User has access.\n",31],["T_WHITESPACE","      ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertResponse",32],"(",["T_LNUMBER","200",32],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Tests administration of moderation state transition entity.\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","testTransitionAdministration",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalLogin",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","adminUser",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalGet",42],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","clickLink",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Moderation state transitions'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertLink",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Add moderation state transition'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertText",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Create New Draft'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Edit the Draft \u00c2\u00bb Draft review.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalGet",48],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions\/draft_draft'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertFieldByName",49],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Create New Draft'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertFieldByName",50],"(",["T_CONSTANT_ENCAPSED_STRING","'stateFrom'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'draft'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertFieldByName",51],"(",["T_CONSTANT_ENCAPSED_STRING","'stateTo'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'draft'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalPostForm",52],"(",["T_STRING","NULL",52],",",["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'label'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Create Draft'",53],",",["T_WHITESPACE","\n    ",53],"]",",",["T_WHITESPACE"," ",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertText",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Saved the Create Draft Moderation state transition.'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalGet",56],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions\/draft_draft'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertFieldByName",57],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Create Draft'",57],")",";",["T_WHITESPACE","\n    ",57],["T_COMMENT","\/\/ Now set it back.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalPostForm",59],"(",["T_STRING","NULL",59],",",["T_WHITESPACE"," ",59],"[",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'label'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Create New Draft'",60],",",["T_WHITESPACE","\n    ",60],"]",",",["T_WHITESPACE"," ",61],["T_STRING","t",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",61],")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertText",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Saved the Create New Draft Moderation state transition.'",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Add a new state.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalGet",65],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/states\/add'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalPostForm",66],"(",["T_STRING","NULL",66],",",["T_WHITESPACE"," ",66],"[",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'label'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Expired'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'id'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'expired'",68],",",["T_WHITESPACE","\n    ",68],"]",",",["T_WHITESPACE"," ",69],["T_STRING","t",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",69],")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertText",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Created the Expired Moderation state.'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Add a new transition.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalGet",73],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","clickLink",74],"(",["T_STRING","t",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Add moderation state transition'",74],")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","drupalPostForm",75],"(",["T_STRING","NULL",75],",",["T_WHITESPACE"," ",75],"[",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'label'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Published \u00c2\u00bb Expired'",76],",",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'id'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'published_expired'",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'stateFrom'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'published'",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'stateTo'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'expired'",79],",",["T_WHITESPACE","\n    ",79],"]",",",["T_WHITESPACE"," ",80],["T_STRING","t",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",80],")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertText",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Created the Published \u00c2\u00bb Expired Moderation state transition.'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Delete the new transition.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalGet",84],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/workflow\/moderation\/transitions\/published_expired'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","clickLink",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertText",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to delete Published \u00c2\u00bb Expired?'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalPostForm",87],"(",["T_STRING","NULL",87],",",["T_WHITESPACE"," ",87],"[","]",",",["T_WHITESPACE"," ",87],["T_STRING","t",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertText",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Moderation transition Published \u00c2\u00bb Expired deleted'",88],")",";",["T_WHITESPACE","\n  ",88],"}",["T_WHITESPACE","\n\n",89],"}",["T_WHITESPACE","\n",91]]