[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_moderation",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","content_moderation",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ModerationStateFieldItemList",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigEntityTypeInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BundleEntityFormBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ContentEntityFormInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DependencyInjection",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ContainerInjectionInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ContentEntityTypeInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityTypeInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityTypeManagerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Field",14],["T_NS_SEPARATOR","\\",14],["T_STRING","BaseFieldDefinition",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FormStateInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Session",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AccountInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","StringTranslation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","StringTranslationTrait",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","StringTranslation",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TranslationInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Url",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Drupal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","content_moderation",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Entity",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Handler",20],["T_NS_SEPARATOR","\\",20],["T_STRING","BlockContentModerationHandler",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Drupal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","content_moderation",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Entity",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Handler",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ModerationHandler",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Drupal",22],["T_NS_SEPARATOR","\\",22],["T_STRING","content_moderation",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Entity",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Handler",22],["T_NS_SEPARATOR","\\",22],["T_STRING","NodeModerationHandler",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Drupal",23],["T_NS_SEPARATOR","\\",23],["T_STRING","content_moderation",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Form",23],["T_NS_SEPARATOR","\\",23],["T_STRING","BundleModerationConfigurationForm",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Drupal",24],["T_NS_SEPARATOR","\\",24],["T_STRING","content_moderation",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Routing",24],["T_NS_SEPARATOR","\\",24],["T_STRING","EntityModerationRouteProvider",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Drupal",25],["T_NS_SEPARATOR","\\",25],["T_STRING","content_moderation",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Routing",25],["T_NS_SEPARATOR","\\",25],["T_STRING","EntityTypeModerationRouteProvider",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Symfony",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Component",26],["T_NS_SEPARATOR","\\",26],["T_STRING","DependencyInjection",26],["T_NS_SEPARATOR","\\",26],["T_STRING","ContainerInterface",26],";",["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * Manipulates entity type information.\n *\n * This class contains primarily bridged hooks for compile-time or\n * cache-clear-time hooks. Runtime hooks should be placed in EntityOperations.\n *\/",28],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","EntityTypeInfo",34],["T_WHITESPACE"," ",34],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","ContainerInjectionInterface",34],["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n\n  ",34],["T_USE","use",36],["T_WHITESPACE"," ",36],["T_STRING","StringTranslationTrait",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * The moderation information service.\n   *\n   * @var \\Drupal\\content_moderation\\ModerationInformationInterface\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$moderationInfo",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * The entity type manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeManagerInterface\n   *\/",45],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$entityTypeManager",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * The current user.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$currentUser",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * A keyed array of custom moderation handlers for given entity types.\n   *\n   * Any entity not specified will use a common default.\n   *\n   * @var array\n   *\/",59],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$moderationHandlers",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[",["T_WHITESPACE","\n    ",66],["T_CONSTANT_ENCAPSED_STRING","'node'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_STRING","NodeModerationHandler",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],",",["T_WHITESPACE","\n    ",67],["T_CONSTANT_ENCAPSED_STRING","'block_content'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","BlockContentModerationHandler",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],",",["T_WHITESPACE","\n  ",68],"]",";",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * EntityTypeInfo constructor.\n   *\n   * @param \\Drupal\\Core\\StringTranslation\\TranslationInterface $translation\n   *   The translation service. for form alters.\n   * @param \\Drupal\\content_moderation\\ModerationInformationInterface $moderation_information\n   *   The moderation information service.\n   * @param \\Drupal\\Core\\Entity\\EntityTypeManagerInterface $entity_type_manager\n   *   Entity type manager.\n   *\/",71],["T_WHITESPACE","\n  ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_STRING","TranslationInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$translation",81],",",["T_WHITESPACE"," ",81],["T_STRING","ModerationInformationInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$moderation_information",81],",",["T_WHITESPACE"," ",81],["T_STRING","EntityTypeManagerInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$entity_type_manager",81],",",["T_WHITESPACE"," ",81],["T_STRING","AccountInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$current_user",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","stringTranslation",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$translation",82],";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","moderationInfo",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$moderation_information",83],";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","entityTypeManager",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$entity_type_manager",84],";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","currentUser",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$current_user",85],";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",88],["T_WHITESPACE","\n  ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_STATIC","static",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","create",91],"(",["T_STRING","ContainerInterface",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$container",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n    ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STATIC","static",92],"(",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$container",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","get",93],"(",["T_CONSTANT_ENCAPSED_STRING","'string_translation'",93],")",",",["T_WHITESPACE","\n      ",93],["T_VARIABLE","$container",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","get",94],"(",["T_CONSTANT_ENCAPSED_STRING","'content_moderation.moderation_information'",94],")",",",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$container",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","get",95],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",95],")",",",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$container",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","get",96],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",96],")",["T_WHITESPACE","\n    ",96],")",";",["T_WHITESPACE","\n  ",97],"}",["T_WHITESPACE","\n\n\n  ",98],["T_DOC_COMMENT","\/**\n   * Adds Moderation configuration to appropriate entity types.\n   *\n   * This is an alter hook bridge.\n   *\n   * @param EntityTypeInterface[] $entity_types\n   *   The master entity type list to alter.\n   *\n   * @see hook_entity_type_alter()\n   *\/",101],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","entityTypeAlter",111],"(",["T_ARRAY","array",111],["T_WHITESPACE"," ",111],"&",["T_VARIABLE","$entity_types",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_FOREACH","foreach",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","filterNonRevisionableEntityTypes",112],"(",["T_VARIABLE","$entity_types",112],")",["T_WHITESPACE"," ",112],["T_AS","as",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$type_name",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$type",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$entity_types",113],"[",["T_VARIABLE","$type_name",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","addModerationToEntityType",113],"(",["T_VARIABLE","$type",113],")",";",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$entity_types",114],"[",["T_VARIABLE","$type",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle_of'",114],")","]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","addModerationToEntity",114],"(",["T_VARIABLE","$entity_types",114],"[",["T_VARIABLE","$type",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle_of'",114],")","]",")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * Modifies an entity definition to include moderation support.\n   *\n   * This primarily just means an extra handler. A Generic one is provided,\n   * but individual entity types can provide their own as appropriate.\n   *\n   * @param \\Drupal\\Core\\Entity\\ContentEntityTypeInterface $type\n   *   The content entity definition to modify.\n   *\n   * @return \\Drupal\\Core\\Entity\\ContentEntityTypeInterface\n   *   The modified content entity definition.\n   *\/",118],["T_WHITESPACE","\n  ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","addModerationToEntity",130],"(",["T_STRING","ContentEntityTypeInterface",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$type",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_VARIABLE","$type",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","hasHandlerClass",131],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation'",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$handler_class",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],"!",["T_EMPTY","empty",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","moderationHandlers",132],"[",["T_VARIABLE","$type",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","id",132],"(",")","]",")",["T_WHITESPACE"," ",132],"?",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","moderationHandlers",132],"[",["T_VARIABLE","$type",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","id",132],"(",")","]",["T_WHITESPACE"," ",132],":",["T_WHITESPACE"," ",132],["T_STRING","ModerationHandler",132],["T_DOUBLE_COLON","::",132],["T_CLASS","class",132],";",["T_WHITESPACE","\n      ",132],["T_VARIABLE","$type",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setHandlerClass",133],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$handler_class",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","!",["T_VARIABLE","$type",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","hasLinkTemplate",136],"(",["T_CONSTANT_ENCAPSED_STRING","'latest-version'",136],")",["T_WHITESPACE"," ",136],["T_BOOLEAN_AND","&&",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$type",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","hasLinkTemplate",136],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",136],")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n      ",136],["T_VARIABLE","$type",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setLinkTemplate",137],"(",["T_CONSTANT_ENCAPSED_STRING","'latest-version'",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$type",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getLinkTemplate",137],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",137],")",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'\/latest'",137],")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/\/ @todo Core forgot to add a direct way to manipulate route_provider, so\n",140],["T_WHITESPACE","    ",141],["T_COMMENT","\/\/ we have to do it the sloppy way for now.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$providers",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$type",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getRouteProviderClasses",142],"(",")",["T_WHITESPACE"," ",142],"?",":",["T_WHITESPACE"," ",142],"[","]",";",["T_WHITESPACE","\n    ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_EMPTY","empty",143],"(",["T_VARIABLE","$providers",143],"[",["T_CONSTANT_ENCAPSED_STRING","'moderation'",143],"]",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$providers",144],"[",["T_CONSTANT_ENCAPSED_STRING","'moderation'",144],"]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","EntityModerationRouteProvider",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],";",["T_WHITESPACE","\n      ",144],["T_VARIABLE","$type",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setHandlerClass",145],"(",["T_CONSTANT_ENCAPSED_STRING","'route_provider'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$providers",145],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$type",148],";",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * Configures moderation configuration support on a entity type definition.\n   *\n   * That \"configuration support\" includes a configuration form, a hypermedia\n   * link, and a route provider to tie it all together. There's also a\n   * moderation handler for per-entity-type variation.\n   *\n   * @param \\Drupal\\Core\\Config\\Entity\\ConfigEntityTypeInterface $type\n   *   The config entity definition to modify.\n   *\n   * @return \\Drupal\\Core\\Config\\Entity\\ConfigEntityTypeInterface\n   *   The modified config entity definition.\n   *\/",151],["T_WHITESPACE","\n  ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","addModerationToEntityType",164],"(",["T_STRING","ConfigEntityTypeInterface",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$type",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n    ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$type",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","hasLinkTemplate",165],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",165],")",["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],"!",["T_VARIABLE","$type",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","hasLinkTemplate",165],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation-form'",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$type",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setLinkTemplate",166],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation-form'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$type",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getLinkTemplate",166],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",166],")",["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'\/moderation'",166],")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$type",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getFormClass",169],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation'",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_VARIABLE","$type",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setFormClass",170],"(",["T_CONSTANT_ENCAPSED_STRING","'moderation'",170],",",["T_WHITESPACE"," ",170],["T_STRING","BundleModerationConfigurationForm",170],["T_DOUBLE_COLON","::",170],["T_CLASS","class",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_COMMENT","\/\/ @todo Core forgot to add a direct way to manipulate route_provider, so\n",173],["T_WHITESPACE","    ",174],["T_COMMENT","\/\/ we have to do it the sloppy way for now.\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$providers",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$type",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getRouteProviderClasses",175],"(",")",["T_WHITESPACE"," ",175],"?",":",["T_WHITESPACE"," ",175],"[","]",";",["T_WHITESPACE","\n    ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_EMPTY","empty",176],"(",["T_VARIABLE","$providers",176],"[",["T_CONSTANT_ENCAPSED_STRING","'moderation'",176],"]",")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$providers",177],"[",["T_CONSTANT_ENCAPSED_STRING","'moderation'",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","EntityTypeModerationRouteProvider",177],["T_DOUBLE_COLON","::",177],["T_CLASS","class",177],";",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$type",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setHandlerClass",178],"(",["T_CONSTANT_ENCAPSED_STRING","'route_provider'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$providers",178],")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$type",181],";",["T_WHITESPACE","\n  ",181],"}",["T_WHITESPACE","\n\n  ",182],["T_DOC_COMMENT","\/**\n   * Adds an operation on bundles that should have a Moderation form.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity on which to define an operation.\n   *\n   * @return array\n   *   An array of operation definitions.\n   *\n   * @see hook_entity_operation()\n   *\/",184],["T_WHITESPACE","\n  ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","entityOperation",195],"(",["T_STRING","EntityInterface",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$entity",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$operations",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],"[","]",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$type",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$entity",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getEntityType",197],"(",")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$bundle_of",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$type",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getBundleOf",198],"(",")",";",["T_WHITESPACE","\n    ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","currentUser",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","hasPermission",199],"(",["T_CONSTANT_ENCAPSED_STRING","'administer moderation states'",199],")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$bundle_of",199],["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE","\n      ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","moderationInfo",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","canModerateEntitiesOfEntityType",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","entityTypeManager",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getDefinition",200],"(",["T_VARIABLE","$bundle_of",200],")",")",["T_WHITESPACE","\n    ",200],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n      ",201],["T_VARIABLE","$operations",202],"[",["T_CONSTANT_ENCAPSED_STRING","'manage-moderation'",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"[",["T_WHITESPACE","\n        ",202],["T_CONSTANT_ENCAPSED_STRING","'title'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_STRING","t",203],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage moderation'",203],")",",",["T_WHITESPACE","\n        ",203],["T_CONSTANT_ENCAPSED_STRING","'weight'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_LNUMBER","27",204],",",["T_WHITESPACE","\n        ",204],["T_CONSTANT_ENCAPSED_STRING","'url'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_STRING","Url",205],["T_DOUBLE_COLON","::",205],["T_STRING","fromRoute",205],"(","\"",["T_ENCAPSED_AND_WHITESPACE","entity.",205],["T_CURLY_OPEN","{",205],["T_VARIABLE","$type",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","id",205],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",".moderation",205],"\"",",",["T_WHITESPACE"," ",205],"[",["T_VARIABLE","$entity",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getEntityTypeId",205],"(",")",["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$entity",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","id",205],"(",")","]",")",",",["T_WHITESPACE","\n      ",205],"]",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$operations",209],";",["T_WHITESPACE","\n  ",209],"}",["T_WHITESPACE","\n\n  ",210],["T_DOC_COMMENT","\/**\n   * Gets the \"extra fields\" for a bundle.\n   *\n   * This is a hook bridge.\n   *\n   * @see hook_entity_extra_field_info()\n   *\n   * @return array\n   *   A nested array of 'pseudo-field' elements. Each list is nested within the\n   *   following keys: entity type, bundle name, context (either 'form' or\n   *   'display'). The keys are the name of the elements as appearing in the\n   *   renderable array (either the entity form or the displayed entity). The\n   *   value is an associative array:\n   *   - label: The human readable name of the element. Make sure you sanitize\n   *     this appropriately.\n   *   - description: A short description of the element contents.\n   *   - weight: The default weight of the element.\n   *   - visible: (optional) The default visibility of the element. Defaults to\n   *     TRUE.\n   *   - edit: (optional) String containing markup (normally a link) used as the\n   *     element's 'edit' operation in the administration interface. Only for\n   *     'form' context.\n   *   - delete: (optional) String containing markup (normally a link) used as\n   *     the element's 'delete' operation in the administration interface. Only\n   *     for 'form' context.\n   *\/",212],["T_WHITESPACE","\n  ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","entityExtraFieldInfo",238],"(",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$return",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],"[","]",";",["T_WHITESPACE","\n    ",239],["T_FOREACH","foreach",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getModeratedBundles",240],"(",")",["T_WHITESPACE"," ",240],["T_AS","as",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$bundle",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_VARIABLE","$return",241],"[",["T_VARIABLE","$bundle",241],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",241],"]","]","[",["T_VARIABLE","$bundle",241],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",241],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'display'",241],"]","[",["T_CONSTANT_ENCAPSED_STRING","'content_moderation_control'",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[",["T_WHITESPACE","\n        ",241],["T_CONSTANT_ENCAPSED_STRING","'label'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","t",242],"(",["T_CONSTANT_ENCAPSED_STRING","'Moderation control'",242],")",",",["T_WHITESPACE","\n        ",242],["T_CONSTANT_ENCAPSED_STRING","'description'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","t",243],"(",["T_CONSTANT_ENCAPSED_STRING","\"Status listing and form for the entity's moderation state.\"",243],")",",",["T_WHITESPACE","\n        ",243],["T_CONSTANT_ENCAPSED_STRING","'weight'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],"-",["T_LNUMBER","20",244],",",["T_WHITESPACE","\n        ",244],["T_CONSTANT_ENCAPSED_STRING","'visible'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_STRING","TRUE",245],",",["T_WHITESPACE","\n      ",245],"]",";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$return",249],";",["T_WHITESPACE","\n  ",249],"}",["T_WHITESPACE","\n\n  ",250],["T_DOC_COMMENT","\/**\n   * Returns an iterable list of entity names and bundle names under moderation.\n   *\n   * That is, this method returns a list of bundles that have Content\n   * Moderation enabled on them.\n   *\n   * @return \\Generator\n   *   A generator, yielding a 2 element associative array:\n   *   - entity: The machine name of an entity type, such as \"node\" or\n   *     \"block_content\".\n   *   - bundle: The machine name of a bundle, such as \"page\" or \"article\".\n   *\/",252],["T_WHITESPACE","\n  ",263],["T_PROTECTED","protected",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","getModeratedBundles",264],"(",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n    ",264],["T_DOC_COMMENT","\/** @var ConfigEntityTypeInterface $type *\/",265],["T_WHITESPACE","\n    ",265],["T_FOREACH","foreach",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","filterNonRevisionableEntityTypes",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","entityTypeManager",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getDefinitions",266],"(",")",")",["T_WHITESPACE"," ",266],["T_AS","as",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$type_name",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$type",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$result",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","entityTypeManager",267],["T_WHITESPACE","\n        ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","getStorage",268],"(",["T_VARIABLE","$type_name",268],")",["T_WHITESPACE","\n        ",268],["T_OBJECT_OPERATOR","->",269],["T_STRING","getQuery",269],"(",")",["T_WHITESPACE","\n        ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","condition",270],"(",["T_CONSTANT_ENCAPSED_STRING","'third_party_settings.content_moderation.enabled'",270],",",["T_WHITESPACE"," ",270],["T_STRING","TRUE",270],")",["T_WHITESPACE","\n        ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","execute",271],"(",")",";",["T_WHITESPACE","\n\n      ",271],["T_FOREACH","foreach",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$result",273],["T_WHITESPACE"," ",273],["T_AS","as",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$bundle_name",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n        ",273],["T_YIELD","yield",274],["T_WHITESPACE"," ",274],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$type",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getBundleOf",274],"(",")",",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'bundle'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$bundle_name",274],"]",";",["T_WHITESPACE","\n      ",274],"}",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n  ",277],["T_DOC_COMMENT","\/**\n   * Adds base field info to an entity type.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $entity_type\n   *   Entity type for adding base fields to.\n   *\n   * @return \\Drupal\\Core\\Field\\BaseFieldDefinition[]\n   *   New fields added by moderation state.\n   *\/",279],["T_WHITESPACE","\n  ",287],["T_PUBLIC","public",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","entityBaseFieldInfo",288],"(",["T_STRING","EntityTypeInterface",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$entity_type",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n    ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(","!",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","moderationInfo",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","canModerateEntitiesOfEntityType",289],"(",["T_VARIABLE","$entity_type",289],")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n      ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],"[","]",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_VARIABLE","$fields",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],"[","]",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$fields",294],"[",["T_CONSTANT_ENCAPSED_STRING","'moderation_state'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","BaseFieldDefinition",294],["T_DOUBLE_COLON","::",294],["T_STRING","create",294],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",294],")",["T_WHITESPACE","\n      ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","setLabel",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","t",295],"(",["T_CONSTANT_ENCAPSED_STRING","'Moderation state'",295],")",")",["T_WHITESPACE","\n      ",295],["T_OBJECT_OPERATOR","->",296],["T_STRING","setDescription",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","t",296],"(",["T_CONSTANT_ENCAPSED_STRING","'The moderation state of this piece of content.'",296],")",")",["T_WHITESPACE","\n      ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","setComputed",297],"(",["T_STRING","TRUE",297],")",["T_WHITESPACE","\n      ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","setClass",298],"(",["T_STRING","ModerationStateFieldItemList",298],["T_DOUBLE_COLON","::",298],["T_CLASS","class",298],")",["T_WHITESPACE","\n      ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","setSetting",299],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",299],",",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'moderation_state'",299],")",["T_WHITESPACE","\n      ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","setDisplayOptions",300],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",300],",",["T_WHITESPACE"," ",300],"[",["T_WHITESPACE","\n        ",300],["T_CONSTANT_ENCAPSED_STRING","'label'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'hidden'",301],",",["T_WHITESPACE","\n        ",301],["T_CONSTANT_ENCAPSED_STRING","'type'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'hidden'",302],",",["T_WHITESPACE","\n        ",302],["T_CONSTANT_ENCAPSED_STRING","'weight'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],"-",["T_LNUMBER","5",303],",",["T_WHITESPACE","\n      ",303],"]",")",["T_WHITESPACE","\n      ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","setDisplayOptions",305],"(",["T_CONSTANT_ENCAPSED_STRING","'form'",305],",",["T_WHITESPACE"," ",305],"[",["T_WHITESPACE","\n        ",305],["T_CONSTANT_ENCAPSED_STRING","'type'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'moderation_state_default'",306],",",["T_WHITESPACE","\n        ",306],["T_CONSTANT_ENCAPSED_STRING","'weight'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_LNUMBER","5",307],",",["T_WHITESPACE","\n        ",307],["T_CONSTANT_ENCAPSED_STRING","'settings'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],"[","]",",",["T_WHITESPACE","\n      ",308],"]",")",["T_WHITESPACE","\n      ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","addConstraint",310],"(",["T_CONSTANT_ENCAPSED_STRING","'ModerationState'",310],",",["T_WHITESPACE"," ",310],"[","]",")",["T_WHITESPACE","\n      ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","setDisplayConfigurable",311],"(",["T_CONSTANT_ENCAPSED_STRING","'form'",311],",",["T_WHITESPACE"," ",311],["T_STRING","FALSE",311],")",["T_WHITESPACE","\n      ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","setDisplayConfigurable",312],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",312],",",["T_WHITESPACE"," ",312],["T_STRING","FALSE",312],")",["T_WHITESPACE","\n      ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","setReadOnly",313],"(",["T_STRING","FALSE",313],")",["T_WHITESPACE","\n      ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","setTranslatable",314],"(",["T_STRING","TRUE",314],")",";",["T_WHITESPACE","\n\n    ",314],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$fields",316],";",["T_WHITESPACE","\n  ",316],"}",["T_WHITESPACE","\n\n  ",317],["T_DOC_COMMENT","\/**\n   * Adds ModerationState constraint to bundles whose entities are moderated.\n   *\n   * @param \\Drupal\\Core\\Field\\FieldDefinitionInterface[] $fields\n   *   The array of bundle field definitions.\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $entity_type\n   *   The entity type definition.\n   * @param string $bundle\n   *   The bundle.\n   *\n   * @see hook_entity_bundle_field_info_alter();\n   *\/",319],["T_WHITESPACE","\n  ",330],["T_PUBLIC","public",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","entityBundleFieldInfoAlter",331],"(","&",["T_VARIABLE","$fields",331],",",["T_WHITESPACE"," ",331],["T_STRING","EntityTypeInterface",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$entity_type",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$bundle",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n    ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(","!",["T_EMPTY","empty",332],"(",["T_VARIABLE","$fields",332],"[",["T_CONSTANT_ENCAPSED_STRING","'moderation_state'",332],"]",")",["T_WHITESPACE"," ",332],["T_BOOLEAN_AND","&&",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","moderationInfo",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","shouldModerateEntitiesOfBundle",332],"(",["T_VARIABLE","$entity_type",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$bundle",332],")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n      ",332],["T_VARIABLE","$fields",333],"[",["T_CONSTANT_ENCAPSED_STRING","'moderation_state'",333],"]",["T_OBJECT_OPERATOR","->",333],["T_STRING","addConstraint",333],"(",["T_CONSTANT_ENCAPSED_STRING","'ModerationState'",333],",",["T_WHITESPACE"," ",333],"[","]",")",";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n  ",334],"}",["T_WHITESPACE","\n\n  ",335],["T_DOC_COMMENT","\/**\n   * Alters bundle forms to enforce revision handling.\n   *\n   * @param array $form\n   *   An associative array containing the structure of the form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   * @param string $form_id\n   *   The form id.\n   *\n   * @see hook_form_alter()\n   *\/",337],["T_WHITESPACE","\n  ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","formAlter",349],"(",["T_ARRAY","array",349],["T_WHITESPACE"," ",349],"&",["T_VARIABLE","$form",349],",",["T_WHITESPACE"," ",349],["T_STRING","FormStateInterface",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$form_state",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$form_id",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n    ",349],["T_VARIABLE","$form_object",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$form_state",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getFormObject",350],"(",")",";",["T_WHITESPACE","\n    ",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$form_object",351],["T_WHITESPACE"," ",351],["T_INSTANCEOF","instanceof",351],["T_WHITESPACE"," ",351],["T_STRING","BundleEntityFormBase",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n      ",351],["T_VARIABLE","$type",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$form_object",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getEntity",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","getEntityType",352],"(",")",";",["T_WHITESPACE","\n      ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","moderationInfo",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","canModerateEntitiesOfEntityType",353],"(",["T_VARIABLE","$type",353],")",")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","entityTypeManager",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getHandler",354],"(",["T_VARIABLE","$type",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getBundleOf",354],"(",")",",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'moderation'",354],")",["T_OBJECT_OPERATOR","->",354],["T_STRING","enforceRevisionsBundleFormAlter",354],"(",["T_VARIABLE","$form",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$form_state",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$form_id",354],")",";",["T_WHITESPACE","\n      ",354],"}",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n    ",356],["T_ELSEIF","elseif",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$form_object",357],["T_WHITESPACE"," ",357],["T_INSTANCEOF","instanceof",357],["T_WHITESPACE"," ",357],["T_STRING","ContentEntityFormInterface",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n      ",357],["T_VARIABLE","$entity",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$form_object",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getEntity",358],"(",")",";",["T_WHITESPACE","\n      ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","moderationInfo",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","isModeratedEntity",359],"(",["T_VARIABLE","$entity",359],")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","entityTypeManager",360],["T_WHITESPACE","\n          ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","getHandler",361],"(",["T_VARIABLE","$entity",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getEntityTypeId",361],"(",")",",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'moderation'",361],")",["T_WHITESPACE","\n          ",361],["T_OBJECT_OPERATOR","->",362],["T_STRING","enforceRevisionsEntityFormAlter",362],"(",["T_VARIABLE","$form",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$form_state",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$form_id",362],")",";",["T_WHITESPACE","\n        ",362],["T_COMMENT","\/\/ Submit handler to redirect to the latest version, if available.\n",363],["T_WHITESPACE","        ",364],["T_VARIABLE","$form",364],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",364],"]","[",["T_CONSTANT_ENCAPSED_STRING","'submit'",364],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#submit'",364],"]","[","]",["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],"[",["T_STRING","EntityTypeInfo",364],["T_DOUBLE_COLON","::",364],["T_CLASS","class",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'bundleFormRedirect'",364],"]",";",["T_WHITESPACE","\n      ",364],"}",["T_WHITESPACE","\n    ",365],"}",["T_WHITESPACE","\n  ",366],"}",["T_WHITESPACE","\n\n  ",367],["T_DOC_COMMENT","\/**\n   * Redirect content entity edit forms on save, if there is a forward revision.\n   *\n   * When saving their changes, editors should see those changes displayed on\n   * the next page.\n   *\n   * @param array $form\n   *   An associative array containing the structure of the form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\/",369],["T_WHITESPACE","\n  ",379],["T_PUBLIC","public",380],["T_WHITESPACE"," ",380],["T_STATIC","static",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","bundleFormRedirect",380],"(",["T_ARRAY","array",380],["T_WHITESPACE"," ",380],"&",["T_VARIABLE","$form",380],",",["T_WHITESPACE"," ",380],["T_STRING","FormStateInterface",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$form_state",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n    ",380],["T_COMMENT","\/* @var \\Drupal\\Core\\Entity\\ContentEntityInterface $entity *\/",381],["T_WHITESPACE","\n    ",381],["T_VARIABLE","$entity",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$form_state",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getFormObject",382],"(",")",["T_OBJECT_OPERATOR","->",382],["T_STRING","getEntity",382],"(",")",";",["T_WHITESPACE","\n\n    ",382],["T_VARIABLE","$moderation_info",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_NS_SEPARATOR","\\",384],["T_STRING","Drupal",384],["T_DOUBLE_COLON","::",384],["T_STRING","getContainer",384],"(",")",["T_OBJECT_OPERATOR","->",384],["T_STRING","get",384],"(",["T_CONSTANT_ENCAPSED_STRING","'content_moderation.moderation_information'",384],")",";",["T_WHITESPACE","\n    ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$moderation_info",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","hasForwardRevision",385],"(",["T_VARIABLE","$entity",385],")",["T_WHITESPACE"," ",385],["T_BOOLEAN_AND","&&",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$entity",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","hasLinkTemplate",385],"(",["T_CONSTANT_ENCAPSED_STRING","'latest-version'",385],")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n      ",385],["T_VARIABLE","$entity_type_id",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$entity",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getEntityTypeId",386],"(",")",";",["T_WHITESPACE","\n      ",386],["T_VARIABLE","$form_state",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","setRedirect",387],"(","\"",["T_ENCAPSED_AND_WHITESPACE","entity.",387],["T_VARIABLE","$entity_type_id",387],["T_ENCAPSED_AND_WHITESPACE",".latest_version",387],"\"",",",["T_WHITESPACE"," ",387],"[",["T_VARIABLE","$entity_type_id",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$entity",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","id",387],"(",")","]",")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n  ",388],"}",["T_WHITESPACE","\n\n  ",389],["T_DOC_COMMENT","\/**\n   * Filters entity type lists to return only revisionable entity types.\n   *\n   * @param EntityTypeInterface[] $entity_types\n   *   The master entity type list filter.\n   *\n   * @return \\Drupal\\Core\\Config\\Entity\\ConfigEntityTypeInterface[]\n   *   An array of revisionable entity types which are configuration entities.\n   *\/",391],["T_WHITESPACE","\n  ",399],["T_PROTECTED","protected",400],["T_WHITESPACE"," ",400],["T_FUNCTION","function",400],["T_WHITESPACE"," ",400],["T_STRING","filterNonRevisionableEntityTypes",400],"(",["T_ARRAY","array",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$entity_types",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n    ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_STRING","array_filter",401],"(",["T_VARIABLE","$entity_types",401],",",["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],"(",["T_STRING","EntityTypeInterface",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$type",401],")",["T_WHITESPACE"," ",401],["T_USE","use",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$entity_types",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n      ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$type",402],["T_WHITESPACE"," ",402],["T_INSTANCEOF","instanceof",402],["T_WHITESPACE"," ",402],["T_STRING","ConfigEntityTypeInterface",402],")",["T_WHITESPACE","\n      ",402],["T_BOOLEAN_AND","&&",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$bundle_of",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$type",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","get",403],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle_of'",403],")",")",["T_WHITESPACE","\n      ",403],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$entity_types",404],"[",["T_VARIABLE","$bundle_of",404],"]",["T_OBJECT_OPERATOR","->",404],["T_STRING","isRevisionable",404],"(",")",";",["T_WHITESPACE","\n    ",404],"}",")",";",["T_WHITESPACE","\n  ",405],"}",["T_WHITESPACE","\n\n",406],"}",["T_WHITESPACE","\n",408]]