[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FunctionalJavascript",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FunctionalJavascriptTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","JavascriptTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the JavaScript filtering on the Views listing page.\n *\n * @see core\/modules\/views_ui\/js\/views_ui.listing.js\n * @group views_ui\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ViewsListingTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","JavascriptTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_STATIC","static",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$modules",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'views'",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'views_ui'",18],"]",";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",20],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_STRING","parent",24],["T_DOUBLE_COLON","::",24],["T_STRING","setUp",24],"(",")",";",["T_WHITESPACE","\n\n    ",24],["T_VARIABLE","$admin_user",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalCreateUser",26],"(","[",["T_WHITESPACE","\n      ",26],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",27],",",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'administer views'",28],",",["T_WHITESPACE","\n    ",28],"]",")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalLogin",30],"(",["T_VARIABLE","$admin_user",30],")",";",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * Tests the filtering on the Views listing page.\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","testFilterViewsListing",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalGet",37],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_VARIABLE","$session",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertSession",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$page",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getSession",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getPage",41],"(",")",";",["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/\/ Test that we search in both the enabled and disabled rows.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$enabled_rows",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$page",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","findAll",44],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-enabled'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$enabled_rows",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","filterVisibleElements",45],"(",["T_VARIABLE","$enabled_rows",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$disabled_rows",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$page",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","findAll",46],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-disabled'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$disabled_rows",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","filterVisibleElements",47],"(",["T_VARIABLE","$disabled_rows",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Test that we see some rows of views in both tables.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertCount",50],"(",["T_LNUMBER","6",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$enabled_rows",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertCount",51],"(",["T_LNUMBER","2",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$disabled_rows",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Filter on the string 'people'. This should only show the people view.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$search_input",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$page",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","find",54],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'.views-filter-text.form-search'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$search_input",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","setValue",55],"(",["T_CONSTANT_ENCAPSED_STRING","'people'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$enabled_rows",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$page",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","findAll",57],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-enabled'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$enabled_rows",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","filterVisibleElements",58],"(",["T_VARIABLE","$enabled_rows",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$disabled_rows",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$page",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","findAll",59],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-disabled'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$disabled_rows",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","filterVisibleElements",60],"(",["T_VARIABLE","$disabled_rows",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertCount",62],"(",["T_LNUMBER","1",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$enabled_rows",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertCount",63],"(",["T_LNUMBER","0",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$disabled_rows",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Filter on a string that also appears in the description.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$search_input",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setValue",66],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$enabled_rows",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$page",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","findAll",68],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-enabled'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$enabled_rows",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","filterVisibleElements",69],"(",["T_VARIABLE","$enabled_rows",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$disabled_rows",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$page",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","findAll",70],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-disabled'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$disabled_rows",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","filterVisibleElements",71],"(",["T_VARIABLE","$disabled_rows",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertCount",73],"(",["T_LNUMBER","3",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$enabled_rows",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertCount",74],"(",["T_LNUMBER","2",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$disabled_rows",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Reset the search string and check that we are back to the initial stage.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$search_input",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setValue",77],"(",["T_CONSTANT_ENCAPSED_STRING","''",77],")",";",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Add a backspace to trigger the keyUp event.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$search_input",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","keyUp",79],"(",["T_LNUMBER","8",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_VARIABLE","$enabled_rows",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$page",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","findAll",81],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-enabled'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$enabled_rows",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","filterVisibleElements",82],"(",["T_VARIABLE","$enabled_rows",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$disabled_rows",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$page",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","findAll",83],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-disabled'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$disabled_rows",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","filterVisibleElements",84],"(",["T_VARIABLE","$disabled_rows",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertCount",86],"(",["T_LNUMBER","6",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$enabled_rows",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertCount",87],"(",["T_LNUMBER","2",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$disabled_rows",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Disable a View and see if it moves to the disabled listing.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$enabled_view",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$page",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","find",90],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-enabled'",90],")",";",["T_WHITESPACE","\n    ",90],["T_COMMENT","\/\/ Open the dropdown with additional actions.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$enabled_view",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","find",92],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'li.dropbutton-toggle button'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","click",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$disable_button",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$enabled_view",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","find",93],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'li.disable.dropbutton-action a'",93],")",";",["T_WHITESPACE","\n    ",93],["T_COMMENT","\/\/ Check that the disable button is visible now.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTrue",95],"(",["T_VARIABLE","$disable_button",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","isVisible",95],"(",")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$disable_button",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","click",96],"(",")",";",["T_WHITESPACE","\n\n    ",96],["T_VARIABLE","$session",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertWaitOnAjaxRequest",98],"(",")",";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$enabled_rows",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$page",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","findAll",100],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-enabled'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$enabled_rows",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","filterVisibleElements",101],"(",["T_VARIABLE","$enabled_rows",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$disabled_rows",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$page",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","findAll",102],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'tr.views-ui-list-disabled'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$disabled_rows",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","filterVisibleElements",103],"(",["T_VARIABLE","$disabled_rows",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Test that one enabled View has been moved to the disabled list.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertCount",106],"(",["T_LNUMBER","5",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$enabled_rows",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertCount",107],"(",["T_LNUMBER","3",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$disabled_rows",107],")",";",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * Removes any non-visible elements from the passed array.\n   *\n   * @param array $elements\n   * @return array\n   *\/",110],["T_WHITESPACE","\n  ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","filterVisibleElements",116],"(",["T_VARIABLE","$elements",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$elements",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","array_filter",117],"(",["T_VARIABLE","$elements",117],",",["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],"(",["T_VARIABLE","$element",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n      ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$element",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isVisible",118],"(",")",";",["T_WHITESPACE","\n    ",118],"}",")",";",["T_WHITESPACE","\n    ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$elements",120],";",["T_WHITESPACE","\n  ",120],"}",["T_WHITESPACE","\n\n",121],"}",["T_WHITESPACE","\n",123]]