[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Kernel",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ViewsKernelTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views_ui",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ViewsUIController",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Html",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","views",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","View",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the views ui tagging functionality.\n *\n * @group views_ui\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","TagTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","ViewsKernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'views'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'views_ui'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'user'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Tests the views_ui_autocomplete_tag function.\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testViewsUiAutocompleteTag",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_NS_SEPARATOR","\\",28],["T_STRING","Drupal",28],["T_DOUBLE_COLON","::",28],["T_STRING","moduleHandler",28],"(",")",["T_OBJECT_OPERATOR","->",28],["T_STRING","loadInclude",28],"(",["T_CONSTANT_ENCAPSED_STRING","'views_ui'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'inc'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'admin'",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_COMMENT","\/\/ Save 15 views with a tag.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$tags",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_FOR","for",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$i",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_LNUMBER","0",32],";",["T_WHITESPACE"," ",32],["T_VARIABLE","$i",32],["T_WHITESPACE"," ",32],"<",["T_WHITESPACE"," ",32],["T_LNUMBER","16",32],";",["T_WHITESPACE"," ",32],["T_VARIABLE","$i",32],["T_INC","++",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n      ",32],["T_VARIABLE","$suffix",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$i",33],["T_WHITESPACE"," ",33],"%",["T_WHITESPACE"," ",33],["T_LNUMBER","2",33],["T_WHITESPACE"," ",33],"?",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'odd'",33],["T_WHITESPACE"," ",33],":",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'even'",33],";",["T_WHITESPACE","\n      ",33],["T_VARIABLE","$tag",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'autocomplete_tag_test_'",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_VARIABLE","$suffix",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","randomMachineName",34],"(",")",";",["T_WHITESPACE","\n      ",34],["T_VARIABLE","$tags",35],"[","]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$tag",35],";",["T_WHITESPACE","\n      ",35],["T_STRING","View",36],["T_DOUBLE_COLON","::",36],["T_STRING","create",36],"(",["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$tag",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'id'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","randomMachineName",36],"(",")",")",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","save",36],"(",")",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Make sure just ten results are returns.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$controller",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","ViewsUIController",40],["T_DOUBLE_COLON","::",40],["T_STRING","create",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","container",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$request",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","container",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getCurrentRequest",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","query",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","set",42],"(",["T_CONSTANT_ENCAPSED_STRING","'q'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'autocomplete_tag_test'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$result",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$controller",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","autocompleteTag",43],"(",["T_VARIABLE","$request",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$matches",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY_CAST","(array)",44],["T_WHITESPACE"," ",44],["T_STRING","json_decode",44],"(",["T_VARIABLE","$result",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getContent",44],"(",")",",",["T_WHITESPACE"," ",44],["T_STRING","TRUE",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEqual",45],"(",["T_STRING","count",45],"(",["T_VARIABLE","$matches",45],")",",",["T_WHITESPACE"," ",45],["T_LNUMBER","10",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Make sure the maximum amount of tag results is 10.'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Make sure the returned array has the proper format.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$suggestions",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","array_map",48],"(",["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$tag",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n      ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$tag",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'label'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","Html",49],["T_DOUBLE_COLON","::",49],["T_STRING","escape",49],"(",["T_VARIABLE","$tag",49],")",")",";",["T_WHITESPACE","\n    ",49],"}",",",["T_WHITESPACE"," ",50],["T_VARIABLE","$tags",50],")",";",["T_WHITESPACE","\n    ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$matches",51],["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$match",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertTrue",52],"(",["T_STRING","in_array",52],"(",["T_VARIABLE","$match",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$suggestions",52],")",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Make sure the returned array has the proper format.'",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n\n    ",53],["T_COMMENT","\/\/ Make sure that matching by a certain prefix works.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$request",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","query",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","set",57],"(",["T_CONSTANT_ENCAPSED_STRING","'q'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'autocomplete_tag_test_even'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$result",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$controller",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","autocompleteTag",58],"(",["T_VARIABLE","$request",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$matches",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY_CAST","(array)",59],["T_WHITESPACE"," ",59],["T_STRING","json_decode",59],"(",["T_VARIABLE","$result",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getContent",59],"(",")",",",["T_WHITESPACE"," ",59],["T_STRING","TRUE",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEqual",60],"(",["T_STRING","count",60],"(",["T_VARIABLE","$matches",60],")",",",["T_WHITESPACE"," ",60],["T_LNUMBER","8",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Make sure that only a subset is returned.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$matches",61],["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$tag",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertTrue",62],"(",["T_STRING","array_search",62],"(",["T_VARIABLE","$tag",62],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",62],"]",",",["T_WHITESPACE"," ",62],["T_VARIABLE","$tags",62],")",["T_WHITESPACE"," ",62],["T_IS_NOT_IDENTICAL","!==",62],["T_WHITESPACE"," ",62],["T_STRING","FALSE",62],",",["T_WHITESPACE"," ",62],["T_STRING","format_string",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Make sure the returned tag @tag actually exists.'",62],",",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'@tag'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$tag",62],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",62],"]",")",")",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Make sure an invalid result doesn't return anything.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$request",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","query",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","set",66],"(",["T_CONSTANT_ENCAPSED_STRING","'q'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","randomMachineName",66],"(",")",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$result",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$controller",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","autocompleteTag",67],"(",["T_VARIABLE","$request",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$matches",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY_CAST","(array)",68],["T_WHITESPACE"," ",68],["T_STRING","json_decode",68],"(",["T_VARIABLE","$result",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getContent",68],"(",")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_STRING","count",69],"(",["T_VARIABLE","$matches",69],")",",",["T_WHITESPACE"," ",69],["T_LNUMBER","0",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","\"Make sure an invalid tag doesn't return anything.\"",69],")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n",70],"}",["T_WHITESPACE","\n",72]]