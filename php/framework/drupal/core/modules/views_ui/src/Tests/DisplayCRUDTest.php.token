[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Views",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests creation, retrieval, updating, and deletion of displays in the Web UI.\n *\n * @group views_ui\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","DisplayCRUDTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","UITestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$testViews",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'test_display'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Modules to enable\n   *\n   * @var array\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$modules",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'contextual'",26],")",";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Tests adding a display.\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testAddDisplay",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/\/ Show the master display.\n",32],["T_WHITESPACE","    ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","config",33],"(",["T_CONSTANT_ENCAPSED_STRING","'views.settings'",33],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","set",33],"(",["T_CONSTANT_ENCAPSED_STRING","'ui.show.master_display'",33],",",["T_WHITESPACE"," ",33],["T_STRING","TRUE",33],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","save",33],"(",")",";",["T_WHITESPACE","\n\n    ",33],["T_VARIABLE","$settings",35],"[",["T_CONSTANT_ENCAPSED_STRING","'page[create]'",35],"]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","FALSE",35],";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$view",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","randomView",36],"(",["T_VARIABLE","$settings",36],")",";",["T_WHITESPACE","\n\n    ",36],["T_VARIABLE","$path_prefix",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/'",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_VARIABLE","$view",38],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",38],"]",["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",38],";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalGet",39],"(",["T_VARIABLE","$path_prefix",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Add a new display.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalPostForm",42],"(",["T_STRING","NULL",42],",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'Add Page'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertLinkByHref",43],"(",["T_VARIABLE","$path_prefix",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",43],",",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Make sure after adding a display the new display appears in the UI'",43],")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertNoLink",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Master*'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Make sure the master display is not marked as changed.'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertLink",46],"(",["T_CONSTANT_ENCAPSED_STRING","'Page*'",46],",",["T_WHITESPACE"," ",46],["T_LNUMBER","0",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'Make sure the added display is marked as changed.'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalPostForm",48],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",48],["T_CURLY_OPEN","{",48],["T_VARIABLE","$view",48],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",48],"]","}",["T_ENCAPSED_AND_WHITESPACE","\/page_1\/path",48],"\"",",",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'test\/path'",48],")",",",["T_WHITESPACE"," ",48],["T_STRING","t",48],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",48],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalPostForm",49],"(",["T_STRING","NULL",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",49],")",")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Tests removing a display.\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testRemoveDisplay",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$view",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomView",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$path_prefix",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/'",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_VARIABLE","$view",57],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",57],"]",["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",57],";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalGet",59],"(",["T_VARIABLE","$path_prefix",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\/default'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertNoFieldById",60],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-displays-settings-settings-content-tab-content-details-top-actions-delete'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Delete Page'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Make sure there is no delete button on the default display.'",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","drupalGet",62],"(",["T_VARIABLE","$path_prefix",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertFieldById",63],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-displays-settings-settings-content-tab-content-details-top-actions-delete'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Delete Page'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Make sure there is a delete button on the page display.'",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Delete the page, so we can test the undo process.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalPostForm",66],"(",["T_VARIABLE","$path_prefix",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",66],",",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Delete Page'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertFieldById",67],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-displays-settings-settings-content-tab-content-details-top-actions-undo-delete'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Undo delete of Page'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Make sure there a undo button on the page display after deleting.'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$element",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","xpath",68],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[contains(@href, :href) and contains(@class, :class)]'",68],",",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$path_prefix",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","':class'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'views-display-deleted-link'",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(","!",["T_EMPTY","empty",69],"(",["T_VARIABLE","$element",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Make sure the display link is marked as to be deleted.'",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$element",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","xpath",71],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[contains(@href, :href) and contains(@class, :class)]'",71],",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$path_prefix",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","':class'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'views-display-deleted-link'",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertTrue",72],"(","!",["T_EMPTY","empty",72],"(",["T_VARIABLE","$element",72],")",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'Make sure the display link is marked as to be deleted.'",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Undo the deleting of the display.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","drupalPostForm",75],"(",["T_VARIABLE","$path_prefix",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Undo delete of Page'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertNoFieldById",76],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-displays-settings-settings-content-tab-content-details-top-actions-undo-delete'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Undo delete of Page'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Make sure there is no undo button on the page display after reverting.'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertFieldById",77],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-displays-settings-settings-content-tab-content-details-top-actions-delete'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Delete Page'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Make sure there is a delete button on the page display after the reverting.'",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Now delete again and save the view.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalPostForm",80],"(",["T_VARIABLE","$path_prefix",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Delete Page'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalPostForm",81],"(",["T_STRING","NULL",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",")",",",["T_WHITESPACE"," ",81],["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",81],")",")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertNoLinkByHref",83],"(",["T_VARIABLE","$path_prefix",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'\/page_1'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Make sure there is no display tab for the deleted display.'",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Test deleting a display that has a modified machine name.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$view",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","randomView",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$machine_name",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'new_machine_name'",87],";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$path_prefix",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$view",88],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",88],"]",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",88],";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalPostForm",89],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",89],["T_CURLY_OPEN","{",89],["T_VARIABLE","$view",89],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",89],"]","}",["T_ENCAPSED_AND_WHITESPACE","\/page_1\/display_id",89],"\"",",",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_CONSTANT_ENCAPSED_STRING","'display_id'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$machine_name",89],")",",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Apply'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalPostForm",90],"(",["T_STRING","NULL",90],",",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Delete Page'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","drupalPostForm",91],"(",["T_STRING","NULL",91],",",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",")",",",["T_WHITESPACE"," ",91],["T_STRING","t",91],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",91],")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertResponse",92],"(",["T_LNUMBER","200",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertNoLinkByHref",93],"(",["T_VARIABLE","$path_prefix",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'\/new_machine_name'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Make sure there is no display tab for the deleted display.'",93],")",";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * Tests that the correct display is loaded by default.\n   *\/",96],["T_WHITESPACE","\n  ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","testDefaultDisplay",99],"(",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","drupalGet",100],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/test_display'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$elements",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","xpath",101],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[@id=\"views-page-1-display-title\"]'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEqual",102],"(",["T_STRING","count",102],"(",["T_VARIABLE","$elements",102],")",",",["T_WHITESPACE"," ",102],["T_LNUMBER","1",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'The page display is loaded as the default display.'",102],")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * Tests the duplicating of a display.\n   *\/",105],["T_WHITESPACE","\n  ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testDuplicateDisplay",108],"(",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$view",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","randomView",109],"(",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$path_prefix",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/'",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$view",110],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",110],"]",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",110],";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$path",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$view",111],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",111],"]",";",["T_WHITESPACE","\n\n    ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalGet",113],"(",["T_VARIABLE","$path_prefix",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","drupalPostForm",114],"(",["T_STRING","NULL",114],",",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Duplicate Page'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertLinkByHref",115],"(",["T_VARIABLE","$path_prefix",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'\/page_2'",115],",",["T_WHITESPACE"," ",115],["T_LNUMBER","0",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'Make sure after duplicating the new display appears in the UI'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertUrl",116],"(",["T_VARIABLE","$path_prefix",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'\/page_2'",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'The user got redirected to the new display.'",116],")",";",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ Set the title and override the css classes.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$random_title",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","randomMachineName",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$random_css",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","randomMachineName",120],"(",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","drupalPostForm",121],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",121],["T_CURLY_OPEN","{",121],["T_VARIABLE","$view",121],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",121],"]","}",["T_ENCAPSED_AND_WHITESPACE","\/page_2\/title",121],"\"",",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$random_title",121],")",",",["T_WHITESPACE"," ",121],["T_STRING","t",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",121],")",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","drupalPostForm",122],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",122],["T_CURLY_OPEN","{",122],["T_VARIABLE","$view",122],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",122],"]","}",["T_ENCAPSED_AND_WHITESPACE","\/page_2\/css_class",122],"\"",",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_CONSTANT_ENCAPSED_STRING","'override[dropdown]'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'page_2'",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'css_class'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$random_css",122],")",",",["T_WHITESPACE"," ",122],["T_STRING","t",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",122],")",")",";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Duplicate as a different display type.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","drupalPostForm",125],"(",["T_STRING","NULL",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Duplicate as Block'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertLinkByHref",126],"(",["T_VARIABLE","$path_prefix",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'\/block_1'",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","0",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Make sure after duplicating the new display appears in the UI'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertUrl",127],"(",["T_VARIABLE","$path_prefix",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\/block_1'",127],",",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'The user got redirected to the new display.'",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertText",128],"(",["T_STRING","t",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Block settings'",128],")",")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertNoText",129],"(",["T_STRING","t",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Page settings'",129],")",")",";",["T_WHITESPACE","\n\n    ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","drupalPostForm",131],"(",["T_STRING","NULL",131],",",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",")",",",["T_WHITESPACE"," ",131],["T_STRING","t",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",131],")",")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$view",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","Views",132],["T_DOUBLE_COLON","::",132],["T_STRING","getView",132],"(",["T_VARIABLE","$view",132],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",132],"]",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$view",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","initDisplay",133],"(",")",";",["T_WHITESPACE","\n\n    ",133],["T_VARIABLE","$page_2",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$view",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","displayHandlers",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","get",135],"(",["T_CONSTANT_ENCAPSED_STRING","'page_2'",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertTrue",136],"(",["T_VARIABLE","$page_2",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'The new page display got saved.'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertEqual",137],"(",["T_VARIABLE","$page_2",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","display",137],"[",["T_CONSTANT_ENCAPSED_STRING","'display_title'",137],"]",",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'Page'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertEqual",138],"(",["T_VARIABLE","$page_2",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","display",138],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",138],"]","[",["T_CONSTANT_ENCAPSED_STRING","'path'",138],"]",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$path",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$block_1",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$view",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","displayHandlers",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'block_1'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertTrue",140],"(",["T_VARIABLE","$block_1",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'The new block display got saved.'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEqual",141],"(",["T_VARIABLE","$block_1",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","display",141],"[",["T_CONSTANT_ENCAPSED_STRING","'display_plugin'",141],"]",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'block'",141],")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEqual",142],"(",["T_VARIABLE","$block_1",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","display",142],"[",["T_CONSTANT_ENCAPSED_STRING","'display_title'",142],"]",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'Block'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'The new display title got generated as expected.'",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertFalse",143],"(",["T_ISSET","isset",143],"(",["T_VARIABLE","$block_1",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","display",143],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",143],"]","[",["T_CONSTANT_ENCAPSED_STRING","'path'",143],"]",")",")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEqual",144],"(",["T_VARIABLE","$block_1",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getOption",144],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",144],")",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$random_title",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'The overridden title option from the display got copied into the duplicate'",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertEqual",145],"(",["T_VARIABLE","$block_1",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getOption",145],"(",["T_CONSTANT_ENCAPSED_STRING","'css_class'",145],")",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$random_css",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'The overridden css_class option from the display got copied into the duplicate'",145],")",";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n",146],"}",["T_WHITESPACE","\n",148]]