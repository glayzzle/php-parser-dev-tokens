[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","user",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Role",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RoleInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests enabling, disabling, and reverting default views via the listing page.\n *\n * @group views_ui\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","DefaultViewsTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","UITestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$testViews",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view_status'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'test_page_display_menu'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'test_page_display_arguments'",21],")",";",["T_WHITESPACE","\n\n\n  ",21],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalPlaceBlock",27],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",27],")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Tests default views.\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","testDefaultViews",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_COMMENT","\/\/ Make sure the view starts off as disabled (does not appear on the listing\n",34],["T_WHITESPACE","    ",35],["T_COMMENT","\/\/ page).\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$edit_href",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/glossary'",36],";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalGet",37],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",37],")",";",["T_WHITESPACE","\n    ",37],["T_COMMENT","\/\/ @todo Disabled default views do now appear on the front page. Test this\n",38],["T_WHITESPACE","    ",39],["T_COMMENT","\/\/ behavior with templates instead.\n",39],["T_WHITESPACE","    ",40],["T_COMMENT","\/\/ $this->assertNoLinkByHref($edit_href);\n",40],["T_WHITESPACE","\n    ",41],["T_COMMENT","\/\/ Enable the view, and make sure it is now visible on the main listing\n",42],["T_WHITESPACE","    ",43],["T_COMMENT","\/\/ page.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalGet",44],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","clickViewsOperationLink",45],"(",["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Enable'",45],")",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'\/glossary\/'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertUrl",46],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertLinkByHref",47],"(",["T_VARIABLE","$edit_href",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ It should not be possible to revert the view yet.\n",49],["T_WHITESPACE","    ",50],["T_COMMENT","\/\/ @todo Figure out how to handle this with the new configuration system.\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ $this->assertNoLink(t('Revert'));\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ $revert_href = 'admin\/structure\/views\/view\/glossary\/revert';\n",52],["T_WHITESPACE","    ",53],["T_COMMENT","\/\/ $this->assertNoLinkByHref($revert_href);\n",53],["T_WHITESPACE","\n    ",54],["T_COMMENT","\/\/ Edit the view and change the title. Make sure that the new title is\n",55],["T_WHITESPACE","    ",56],["T_COMMENT","\/\/ displayed.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$new_title",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","randomMachineName",57],"(",["T_LNUMBER","16",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$edit",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$new_title",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalPostForm",59],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/nojs\/display\/glossary\/page_1\/title'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$edit",59],",",["T_WHITESPACE"," ",59],["T_STRING","t",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",59],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","drupalPostForm",60],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/glossary\/edit\/page_1'",60],",",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",",",["T_WHITESPACE"," ",60],["T_STRING","t",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",60],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalGet",61],"(",["T_CONSTANT_ENCAPSED_STRING","'glossary'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertResponse",62],"(",["T_LNUMBER","200",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertText",63],"(",["T_VARIABLE","$new_title",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Save another view in the UI.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalPostForm",66],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/nojs\/display\/archive\/page_1\/title'",66],",",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",",",["T_WHITESPACE"," ",66],["T_STRING","t",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",66],")",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalPostForm",67],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/archive\/edit\/page_1'",67],",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",")",",",["T_WHITESPACE"," ",67],["T_STRING","t",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",67],")",")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Check there is an enable link. i.e. The view has not been enabled after\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ editing.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalGet",71],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertLinkByHref",72],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/archive\/enable'",72],")",";",["T_WHITESPACE","\n    ",72],["T_COMMENT","\/\/ Enable it again so it can be tested for access permissions.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","clickViewsOperationLink",74],"(",["T_STRING","t",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Enable'",74],")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'\/archive\/'",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ It should now be possible to revert the view. Do that, and make sure the\n",76],["T_WHITESPACE","    ",77],["T_COMMENT","\/\/ view title we added above no longer is displayed.\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ $this->drupalGet('admin\/structure\/views');\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ $this->assertLink(t('Revert'));\n",79],["T_WHITESPACE","    ",80],["T_COMMENT","\/\/ $this->assertLinkByHref($revert_href);\n",80],["T_WHITESPACE","    ",81],["T_COMMENT","\/\/ $this->drupalPostForm($revert_href, array(), t('Revert'));\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ $this->drupalGet('glossary');\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ $this->assertNoText($new_title);\n",83],["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Duplicate the view and check that the normal schema of duplicated views is used.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalGet",86],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","clickViewsOperationLink",87],"(",["T_STRING","t",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Duplicate'",87],")",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'\/glossary'",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$edit",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'id'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'duplicate_of_glossary'",89],",",["T_WHITESPACE","\n    ",89],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTitle",91],"(",["T_STRING","t",91],"(",["T_CONSTANT_ENCAPSED_STRING","'Duplicate of @label | @site-name'",91],",",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Glossary'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'@site-name'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","config",91],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",91],")",")",")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalPostForm",92],"(",["T_STRING","NULL",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$edit",92],",",["T_WHITESPACE"," ",92],["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Duplicate'",92],")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertUrl",93],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/duplicate_of_glossary'",93],",",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'The normal duplicating name schema is applied.'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Duplicate a view and set a custom name.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalGet",96],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","clickViewsOperationLink",97],"(",["T_STRING","t",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Duplicate'",97],")",",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'\/glossary'",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$random_name",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","strtolower",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","randomMachineName",98],"(",")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","drupalPostForm",99],"(",["T_STRING","NULL",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$random_name",99],")",",",["T_WHITESPACE"," ",99],["T_STRING","t",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Duplicate'",99],")",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertUrl",100],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/view\/",100],["T_VARIABLE","$random_name",100],"\"",",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",")",",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'The custom view name got saved.'",100],")",";",["T_WHITESPACE","\n\n    ",100],["T_COMMENT","\/\/ Now disable the view, and make sure it stops appearing on the main view\n",102],["T_WHITESPACE","    ",103],["T_COMMENT","\/\/ listing page but instead goes back to displaying on the disabled views\n",103],["T_WHITESPACE","    ",104],["T_COMMENT","\/\/ listing page.\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ @todo Test this behavior with templates instead.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","drupalGet",106],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","clickViewsOperationLink",107],"(",["T_STRING","t",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Disable'",107],")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/glossary\/'",107],")",";",["T_WHITESPACE","\n    ",107],["T_COMMENT","\/\/ $this->assertUrl('admin\/structure\/views');\n",108],["T_WHITESPACE","    ",109],["T_COMMENT","\/\/ $this->assertNoLinkByHref($edit_href);\n",109],["T_WHITESPACE","    ",110],["T_COMMENT","\/\/ The easiest way to verify it appears on the disabled views listing page\n",110],["T_WHITESPACE","    ",111],["T_COMMENT","\/\/ is to try to click the \"enable\" link from there again.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalGet",112],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","clickViewsOperationLink",113],"(",["T_STRING","t",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Enable'",113],")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'\/glossary\/'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertUrl",114],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertLinkByHref",115],"(",["T_VARIABLE","$edit_href",115],")",";",["T_WHITESPACE","\n\n    ",115],["T_COMMENT","\/\/ Clear permissions for anonymous users to check access for default views.\n",117],["T_WHITESPACE","    ",118],["T_STRING","Role",118],["T_DOUBLE_COLON","::",118],["T_STRING","load",118],"(",["T_STRING","RoleInterface",118],["T_DOUBLE_COLON","::",118],["T_STRING","ANONYMOUS_ID",118],")",["T_OBJECT_OPERATOR","->",118],["T_STRING","revokePermission",118],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",118],")",["T_OBJECT_OPERATOR","->",118],["T_STRING","save",118],"(",")",";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Test the default views disclose no data by default.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","drupalLogout",121],"(",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","drupalGet",122],"(",["T_CONSTANT_ENCAPSED_STRING","'glossary'",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertResponse",123],"(",["T_LNUMBER","403",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalGet",124],"(",["T_CONSTANT_ENCAPSED_STRING","'archive'",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertResponse",125],"(",["T_LNUMBER","403",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Test deleting a view.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalLogin",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","fullAdminUser",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalGet",129],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","clickViewsOperationLink",130],"(",["T_STRING","t",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\/glossary\/'",130],")",";",["T_WHITESPACE","\n    ",130],["T_COMMENT","\/\/ Submit the confirmation form.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","drupalPostForm",132],"(",["T_STRING","NULL",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",",",["T_WHITESPACE"," ",132],["T_STRING","t",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",132],")",")",";",["T_WHITESPACE","\n    ",132],["T_COMMENT","\/\/ Ensure the view is no longer listed.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertUrl",134],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertNoLinkByHref",135],"(",["T_VARIABLE","$edit_href",135],")",";",["T_WHITESPACE","\n    ",135],["T_COMMENT","\/\/ Ensure the view is no longer available.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","drupalGet",137],"(",["T_VARIABLE","$edit_href",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertResponse",138],"(",["T_LNUMBER","404",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertText",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Page not found'",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Delete all duplicated Glossary views.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","drupalGet",142],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","clickViewsOperationLink",143],"(",["T_STRING","t",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",143],")",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'duplicate_of_glossary'",143],")",";",["T_WHITESPACE","\n    ",143],["T_COMMENT","\/\/ Submit the confirmation form.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalPostForm",145],"(",["T_STRING","NULL",145],",",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",")",",",["T_WHITESPACE"," ",145],["T_STRING","t",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",145],")",")",";",["T_WHITESPACE","\n\n    ",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalGet",147],"(",["T_CONSTANT_ENCAPSED_STRING","'glossary'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertResponse",148],"(",["T_LNUMBER","200",148],")",";",["T_WHITESPACE","\n\n    ",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","drupalGet",150],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","clickViewsOperationLink",151],"(",["T_STRING","t",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",151],")",",",["T_WHITESPACE"," ",151],["T_VARIABLE","$random_name",151],")",";",["T_WHITESPACE","\n    ",151],["T_COMMENT","\/\/ Submit the confirmation form.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","drupalPostForm",153],"(",["T_STRING","NULL",153],",",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",",",["T_WHITESPACE"," ",153],["T_STRING","t",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",153],")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","drupalGet",154],"(",["T_CONSTANT_ENCAPSED_STRING","'glossary'",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertResponse",155],"(",["T_LNUMBER","404",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertText",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Page not found'",156],")",";",["T_WHITESPACE","\n  ",156],"}",["T_WHITESPACE","\n\n  ",157],["T_DOC_COMMENT","\/**\n   * Tests that enabling views moves them to the correct table.\n   *\/",159],["T_WHITESPACE","\n  ",161],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","testSplitListing",162],"(",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n    ",162],["T_COMMENT","\/\/ Build a re-usable xpath query.\n",163],["T_WHITESPACE","    ",164],["T_VARIABLE","$xpath",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@id=\"views-entity-list\"]\/div[@class = :status]\/table\/\/tr[@title = :title]'",164],";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$arguments",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","':status'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'views-list-section enabled'",166],",",["T_WHITESPACE","\n      ",166],["T_CONSTANT_ENCAPSED_STRING","':title'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_STRING","t",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Machine name: test_view_status'",167],")",",",["T_WHITESPACE","\n    ",167],")",";",["T_WHITESPACE","\n\n    ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","drupalGet",170],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_VARIABLE","$elements",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","xpath",172],"(",["T_VARIABLE","$xpath",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$arguments",172],")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertIdentical",173],"(",["T_STRING","count",173],"(",["T_VARIABLE","$elements",173],")",",",["T_WHITESPACE"," ",173],["T_LNUMBER","0",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'A disabled view is not found in the enabled views table.'",173],")",";",["T_WHITESPACE","\n\n    ",173],["T_VARIABLE","$arguments",175],"[",["T_CONSTANT_ENCAPSED_STRING","':status'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'views-list-section disabled'",175],";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$elements",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","xpath",176],"(",["T_VARIABLE","$xpath",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$arguments",176],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertIdentical",177],"(",["T_STRING","count",177],"(",["T_VARIABLE","$elements",177],")",",",["T_WHITESPACE"," ",177],["T_LNUMBER","1",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'A disabled view is found in the disabled views table.'",177],")",";",["T_WHITESPACE","\n\n    ",177],["T_COMMENT","\/\/ Enable the view.\n",179],["T_WHITESPACE","    ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","clickViewsOperationLink",180],"(",["T_STRING","t",180],"(",["T_CONSTANT_ENCAPSED_STRING","'Enable'",180],")",",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'\/test_view_status\/'",180],")",";",["T_WHITESPACE","\n\n    ",180],["T_VARIABLE","$elements",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","xpath",182],"(",["T_VARIABLE","$xpath",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$arguments",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertIdentical",183],"(",["T_STRING","count",183],"(",["T_VARIABLE","$elements",183],")",",",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'After enabling a view, it is not found in the disabled views table.'",183],")",";",["T_WHITESPACE","\n\n    ",183],["T_VARIABLE","$arguments",185],"[",["T_CONSTANT_ENCAPSED_STRING","':status'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'views-list-section enabled'",185],";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$elements",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","xpath",186],"(",["T_VARIABLE","$xpath",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$arguments",186],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertIdentical",187],"(",["T_STRING","count",187],"(",["T_VARIABLE","$elements",187],")",",",["T_WHITESPACE"," ",187],["T_LNUMBER","1",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'After enabling a view, it is found in the enabled views table.'",187],")",";",["T_WHITESPACE","\n\n    ",187],["T_COMMENT","\/\/ Attempt to disable the view by path directly, with no token.\n",189],["T_WHITESPACE","    ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","drupalGet",190],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/test_view_status\/disable'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertResponse",191],"(",["T_LNUMBER","403",191],")",";",["T_WHITESPACE","\n  ",191],"}",["T_WHITESPACE","\n\n  ",192],["T_DOC_COMMENT","\/**\n   * Tests that page displays show the correct path.\n   *\/",194],["T_WHITESPACE","\n  ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","testPathDestination",197],"(",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","drupalGet",198],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views'",198],")",";",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ Check that links to views on default tabs are rendered correctly.\n",200],["T_WHITESPACE","    ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertLinkByHref",201],"(",["T_CONSTANT_ENCAPSED_STRING","'test_page_display_menu'",201],")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertNoLinkByHref",202],"(",["T_CONSTANT_ENCAPSED_STRING","'test_page_display_menu\/default'",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertLinkByHref",203],"(",["T_CONSTANT_ENCAPSED_STRING","'test_page_display_menu\/local'",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ Check that a dynamic path is shown as text.\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertRaw",206],"(",["T_CONSTANT_ENCAPSED_STRING","'test_route_with_suffix\/%\/suffix'",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertNoLinkByHref",207],"(",["T_STRING","Url",207],["T_DOUBLE_COLON","::",207],["T_STRING","fromUri",207],"(",["T_CONSTANT_ENCAPSED_STRING","'base:test_route_with_suffix\/%\/suffix'",207],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","toString",207],"(",")",")",";",["T_WHITESPACE","\n  ",207],"}",["T_WHITESPACE","\n\n  ",208],["T_DOC_COMMENT","\/**\n   * Click a link to perform an operation on a view.\n   *\n   * In general, we expect lots of links titled \"enable\" or \"disable\" on the\n   * various views listing pages, and they might have tokens in them. So we\n   * need special code to find the correct one to click.\n   *\n   * @param $label\n   *   Text between the anchor tags of the desired link.\n   * @param $unique_href_part\n   *   A unique string that is expected to occur within the href of the desired\n   *   link. For example, if the link URL is expected to look like\n   *   \"admin\/structure\/views\/view\/glossary\/*\", then \"\/glossary\/\" could be\n   *   passed as the expected unique string.\n   *\n   * @return\n   *   The page content that results from clicking on the link, or FALSE on\n   *   failure. Failure also results in a failed assertion.\n   *\/",210],["T_WHITESPACE","\n  ",228],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","clickViewsOperationLink",229],"(",["T_VARIABLE","$label",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$unique_href_part",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$links",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","xpath",230],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[normalize-space(text())=:label]'",230],",",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","':label'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$label",230],")",")",";",["T_WHITESPACE","\n    ",230],["T_FOREACH","foreach",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$links",231],["T_WHITESPACE"," ",231],["T_AS","as",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$link_index",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$link",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n      ",231],["T_VARIABLE","$position",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","strpos",232],"(",["T_VARIABLE","$link",232],"[",["T_CONSTANT_ENCAPSED_STRING","'href'",232],"]",",",["T_WHITESPACE"," ",232],["T_VARIABLE","$unique_href_part",232],")",";",["T_WHITESPACE","\n      ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$position",233],["T_WHITESPACE"," ",233],["T_IS_NOT_IDENTICAL","!==",233],["T_WHITESPACE"," ",233],["T_STRING","FALSE",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$index",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$link_index",234],";",["T_WHITESPACE","\n        ",234],["T_BREAK","break",235],";",["T_WHITESPACE","\n      ",235],"}",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","assertTrue",238],"(",["T_ISSET","isset",238],"(",["T_VARIABLE","$index",238],")",",",["T_WHITESPACE"," ",238],["T_STRING","format_string",238],"(",["T_CONSTANT_ENCAPSED_STRING","'Link to \"@label\" containing @part found.'",238],",",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$label",238],",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'@part'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$unique_href_part",238],")",")",")",";",["T_WHITESPACE","\n    ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_ISSET","isset",239],"(",["T_VARIABLE","$index",239],")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n      ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","clickLink",240],"(",["T_VARIABLE","$label",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$index",240],")",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n    ",241],["T_ELSE","else",242],["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n      ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_STRING","FALSE",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n",245],"}",["T_WHITESPACE","\n",247]]