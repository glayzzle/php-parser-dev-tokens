[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityViewMode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Views",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the UI of row plugins.\n *\n * @group views_ui\n * @see \\Drupal\\views_test_data\\Plugin\\views\\row\\RowTest.\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","RowUITest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","UITestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$testViews",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Tests changing the row plugin and changing some options of a row.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testRowUI",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$view_name",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'test_view'",27],";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$view_edit_url",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/view\/",28],["T_VARIABLE","$view_name",28],["T_ENCAPSED_AND_WHITESPACE","\/edit",28],"\"",";",["T_WHITESPACE","\n\n    ",28],["T_VARIABLE","$row_plugin_url",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",30],["T_VARIABLE","$view_name",30],["T_ENCAPSED_AND_WHITESPACE","\/default\/row",30],"\"",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$row_options_url",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",31],["T_VARIABLE","$view_name",31],["T_ENCAPSED_AND_WHITESPACE","\/default\/row_options",31],"\"",";",["T_WHITESPACE","\n\n    ",31],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalGet",33],"(",["T_VARIABLE","$row_plugin_url",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertFieldByName",34],"(",["T_CONSTANT_ENCAPSED_STRING","'row[type]'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'fields'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'The default row plugin selected in the UI should be fields.'",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$edit",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'row[type]'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'test_row'",37],["T_WHITESPACE","\n    ",37],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalPostForm",39],"(",["T_STRING","NULL",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$edit",39],",",["T_WHITESPACE"," ",39],["T_STRING","t",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",39],")",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertFieldByName",40],"(",["T_CONSTANT_ENCAPSED_STRING","'row_options[test_option]'",40],",",["T_WHITESPACE"," ",40],["T_STRING","NULL",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Make sure the custom settings form from the test plugin appears.'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$random_name",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","randomMachineName",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$edit",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'row_options[test_option]'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$random_name",43],["T_WHITESPACE","\n    ",43],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalPostForm",45],"(",["T_STRING","NULL",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$edit",45],",",["T_WHITESPACE"," ",45],["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",45],")",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalGet",46],"(",["T_VARIABLE","$row_options_url",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertFieldByName",47],"(",["T_CONSTANT_ENCAPSED_STRING","'row_options[test_option]'",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$random_name",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Make sure the custom settings form field has the expected value stored.'",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalPostForm",49],"(",["T_VARIABLE","$view_edit_url",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertLink",50],"(",["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Test row plugin'",50],")",",",["T_WHITESPACE"," ",50],["T_LNUMBER","0",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Make sure the test row plugin is shown in the UI'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$view",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","Views",52],["T_DOUBLE_COLON","::",52],["T_STRING","getView",52],"(",["T_VARIABLE","$view_name",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$view",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","initDisplay",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$row",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$view",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","display_handler",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getOption",54],"(",["T_CONSTANT_ENCAPSED_STRING","'row'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEqual",55],"(",["T_VARIABLE","$row",55],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",55],"]",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'test_row'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Make sure that the test_row got saved as used row plugin.'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEqual",56],"(",["T_VARIABLE","$row",56],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",56],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_option'",56],"]",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$random_name",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'Make sure that the custom settings field got saved as expected.'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Change the row plugin to fields using ajax.\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ Note: this is the best approximation we can achieve, because we cannot\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ simulate the 'openDialog' command in\n",60],["T_WHITESPACE","    ",61],["T_COMMENT","\/\/ WebTestBase::drupalProcessAjaxResponse(), hence we have to make do.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$row_plugin_url_ajax",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","str_replace",62],"(",["T_CONSTANT_ENCAPSED_STRING","'\/nojs\/'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'\/ajax\/'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$row_plugin_url",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$ajax_settings",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'accepts'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.drupal-ajax'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'submit'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],"[",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'_triggering_element_name'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'op'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'_triggering_element_value'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Apply'",67],",",["T_WHITESPACE","\n      ",67],"]",",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'url'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$row_plugin_url_ajax",69],",",["T_WHITESPACE","\n    ",69],"]",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalPostAjaxForm",71],"(",["T_VARIABLE","$row_plugin_url",71],",",["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'row[type]'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'fields'",71],"]",",",["T_WHITESPACE"," ",71],["T_STRING","NULL",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$row_plugin_url_ajax",71],",",["T_WHITESPACE"," ",71],"[","]",",",["T_WHITESPACE"," ",71],"[","]",",",["T_WHITESPACE"," ",71],["T_STRING","NULL",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$ajax_settings",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalGet",72],"(",["T_VARIABLE","$row_plugin_url",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertResponse",73],"(",["T_LNUMBER","200",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertFieldByName",74],"(",["T_CONSTANT_ENCAPSED_STRING","'row[type]'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'fields'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Make sure that the fields got saved as used row plugin.'",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Ensure that entity row plugins appear.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$view_name",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'content'",77],";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$row_plugin_url",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",78],["T_VARIABLE","$view_name",78],["T_ENCAPSED_AND_WHITESPACE","\/default\/row",78],"\"",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$row_options_url",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/views\/nojs\/display\/",79],["T_VARIABLE","$view_name",79],["T_ENCAPSED_AND_WHITESPACE","\/default\/row_options",79],"\"",";",["T_WHITESPACE","\n\n    ",79],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalGet",81],"(",["T_VARIABLE","$row_plugin_url",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertFieldByName",82],"(",["T_CONSTANT_ENCAPSED_STRING","'row[type]'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'entity:node'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalPostForm",83],"(",["T_STRING","NULL",83],",",["T_WHITESPACE"," ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'row[type]'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'entity:node'",83],"]",",",["T_WHITESPACE"," ",83],["T_STRING","t",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",83],")",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertUrl",84],"(",["T_VARIABLE","$row_options_url",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertFieldByName",85],"(",["T_CONSTANT_ENCAPSED_STRING","'row_options[view_mode]'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'teaser'",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Change the teaser label to have markup so we can test escaping.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$teaser",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","EntityViewMode",88],["T_DOUBLE_COLON","::",88],["T_STRING","load",88],"(",["T_CONSTANT_ENCAPSED_STRING","'node.teaser'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$teaser",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","set",89],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Teaser <em>markup<\/em>'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$teaser",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","save",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","drupalGet",91],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/frontpage\/edit\/default'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEscaped",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Teaser <em>markup<\/em>'",92],")",";",["T_WHITESPACE","\n  ",92],"}",["T_WHITESPACE","\n\n",93],"}",["T_WHITESPACE","\n",95]]