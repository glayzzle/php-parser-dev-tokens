[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Views",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the UI for the attachment display plugin.\n *\n * @group views_ui\n * @see \\Drupal\\views\\Plugin\\views\\display\\Attachment\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","DisplayAttachmentTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","UITestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$testViews",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'test_attachment_ui'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Tests the attachment UI.\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","testAttachmentUI",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalGet",26],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/test_attachment_ui\/edit\/attachment_1'",26],")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertText",27],"(",["T_STRING","t",27],"(",["T_CONSTANT_ENCAPSED_STRING","'Not defined'",27],")",",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'The right text appears if there is no attachment selection yet.'",27],")",";",["T_WHITESPACE","\n\n    ",27],["T_VARIABLE","$attachment_display_url",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/nojs\/display\/test_attachment_ui\/attachment_1\/displays'",29],";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalGet",30],"(",["T_VARIABLE","$attachment_display_url",30],")",";",["T_WHITESPACE","\n    ",30],["T_COMMENT","\/\/ Display labels should be escaped.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertEscaped",32],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>Page<\/em>'",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_FOREACH","foreach",34],["T_WHITESPACE"," ",34],"(",["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'page-1'",34],")",["T_WHITESPACE"," ",34],["T_AS","as",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$display_id",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n      ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertNoFieldChecked",35],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-displays-",35],["T_VARIABLE","$display_id",35],"\"",",",["T_WHITESPACE"," ",35],["T_STRING","format_string",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Make sure the @display_id can be marked as attached'",35],",",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'@display_id'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$display_id",35],")",")",")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Save the attachments and test the value on the view.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalPostForm",39],"(",["T_VARIABLE","$attachment_display_url",39],",",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'displays[page_1]'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","1",39],")",",",["T_WHITESPACE"," ",39],["T_STRING","t",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",39],")",")",";",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/\/ Options summary should be escaped.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertEscaped",41],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>Page<\/em>'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertNoRaw",42],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>Page<\/em>'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$result",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","xpath",43],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@id = :id]'",43],",",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'views-attachment-1-displays'",43],")",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertEqual",44],"(",["T_VARIABLE","$result",44],"[",["T_LNUMBER","0",44],"]",["T_OBJECT_OPERATOR","->",44],["T_STRING","attributes",44],"(",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","title",44],",",["T_WHITESPACE"," ",44],["T_STRING","t",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Page'",44],")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalPostForm",45],"(",["T_STRING","NULL",45],",",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",",",["T_WHITESPACE"," ",45],["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",45],")",")",";",["T_WHITESPACE","\n\n    ",45],["T_VARIABLE","$view",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","Views",47],["T_DOUBLE_COLON","::",47],["T_STRING","getView",47],"(",["T_CONSTANT_ENCAPSED_STRING","'test_attachment_ui'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$view",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","initDisplay",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertEqual",49],"(",["T_STRING","array_keys",49],"(",["T_STRING","array_filter",49],"(",["T_VARIABLE","$view",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","displayHandlers",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'attachment_1'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","getOption",49],"(",["T_CONSTANT_ENCAPSED_STRING","'displays'",49],")",")",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'page_1'",49],")",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'The attached displays got saved as expected'",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalPostForm",51],"(",["T_VARIABLE","$attachment_display_url",51],",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'displays[default]'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'displays[page_1]'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],")",",",["T_WHITESPACE"," ",51],["T_STRING","t",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",51],")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$result",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","xpath",52],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@id = :id]'",52],",",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'views-attachment-1-displays'",52],")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_VARIABLE","$result",53],"[",["T_LNUMBER","0",53],"]",["T_OBJECT_OPERATOR","->",53],["T_STRING","attributes",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","title",53],",",["T_WHITESPACE"," ",53],["T_STRING","t",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Multiple displays'",53],")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalPostForm",54],"(",["T_STRING","NULL",54],",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",",",["T_WHITESPACE"," ",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",54],")",")",";",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$view",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","Views",56],["T_DOUBLE_COLON","::",56],["T_STRING","getView",56],"(",["T_CONSTANT_ENCAPSED_STRING","'test_attachment_ui'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$view",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","initDisplay",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_STRING","array_keys",58],"(",["T_VARIABLE","$view",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","displayHandlers",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'attachment_1'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getOption",58],"(",["T_CONSTANT_ENCAPSED_STRING","'displays'",58],")",")",",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'page_1'",58],")",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'The attached displays got saved as expected'",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n",59],"}",["T_WHITESPACE","\n",61]]