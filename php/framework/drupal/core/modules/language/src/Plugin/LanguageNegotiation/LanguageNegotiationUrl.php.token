[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","language",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","LanguageNegotiation",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PathProcessor",6],["T_NS_SEPARATOR","\\",6],["T_STRING","InboundPathProcessorInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","PathProcessor",7],["T_NS_SEPARATOR","\\",7],["T_STRING","OutboundPathProcessorInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Render",8],["T_NS_SEPARATOR","\\",8],["T_STRING","BubbleableMetadata",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Url",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageNegotiationMethodBase",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","language",11],["T_NS_SEPARATOR","\\",11],["T_STRING","LanguageSwitcherInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Request",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class for identifying language via URL prefix or domain.\n *\n * @LanguageNegotiation(\n *   id = \\Drupal\\language\\Plugin\\LanguageNegotiation\\LanguageNegotiationUrl::METHOD_ID,\n *   types = {\\Drupal\\Core\\Language\\LanguageInterface::TYPE_INTERFACE,\n *   \\Drupal\\Core\\Language\\LanguageInterface::TYPE_CONTENT,\n *   \\Drupal\\Core\\Language\\LanguageInterface::TYPE_URL},\n *   weight = -8,\n *   name = @Translation(\"URL\"),\n *   description = @Translation(\"Language from the URL (Path prefix or domain).\"),\n *   config_route_name = \"language.negotiation_url\"\n * )\n *\/",14],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","LanguageNegotiationUrl",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","LanguageNegotiationMethodBase",28],["T_WHITESPACE"," ",28],["T_IMPLEMENTS","implements",28],["T_WHITESPACE"," ",28],["T_STRING","InboundPathProcessorInterface",28],",",["T_WHITESPACE"," ",28],["T_STRING","OutboundPathProcessorInterface",28],",",["T_WHITESPACE"," ",28],["T_STRING","LanguageSwitcherInterface",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * The language negotiation method id.\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","METHOD_ID",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'language-url'",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * URL language negotiation: use the path prefix as URL language indicator.\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","CONFIG_PATH_PREFIX",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'path_prefix'",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * URL language negotiation: use the domain as URL language indicator.\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","CONFIG_DOMAIN",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'domain'",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getLangcode",48],"(",["T_STRING","Request",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$request",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","NULL",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$langcode",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","NULL",49],";",["T_WHITESPACE","\n\n    ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$request",51],["T_WHITESPACE"," ",51],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","languageManager",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$languages",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","languageManager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getLanguages",52],"(",")",";",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$config",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","config",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",53],")",";",["T_WHITESPACE","\n\n      ",53],["T_SWITCH","switch",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$config",55],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",55],"]",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n        ",55],["T_CASE","case",56],["T_WHITESPACE"," ",56],["T_STRING","LanguageNegotiationUrl",56],["T_DOUBLE_COLON","::",56],["T_STRING","CONFIG_PATH_PREFIX",56],":",["T_WHITESPACE","\n          ",56],["T_VARIABLE","$request_path",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","urldecode",57],"(",["T_STRING","trim",57],"(",["T_VARIABLE","$request",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getPathInfo",57],"(",")",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'\/'",57],")",")",";",["T_WHITESPACE","\n          ",57],["T_VARIABLE","$path_args",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","explode",58],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$request_path",58],")",";",["T_WHITESPACE","\n          ",58],["T_VARIABLE","$prefix",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","array_shift",59],"(",["T_VARIABLE","$path_args",59],")",";",["T_WHITESPACE","\n\n          ",59],["T_COMMENT","\/\/ Search prefix within added languages.\n",61],["T_WHITESPACE","          ",62],["T_VARIABLE","$negotiated_language",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","FALSE",62],";",["T_WHITESPACE","\n          ",62],["T_FOREACH","foreach",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$languages",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$language",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_ISSET","isset",64],"(",["T_VARIABLE","$config",64],"[",["T_CONSTANT_ENCAPSED_STRING","'prefixes'",64],"]","[",["T_VARIABLE","$language",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getId",64],"(",")","]",")",["T_WHITESPACE"," ",64],["T_BOOLEAN_AND","&&",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$config",64],"[",["T_CONSTANT_ENCAPSED_STRING","'prefixes'",64],"]","[",["T_VARIABLE","$language",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getId",64],"(",")","]",["T_WHITESPACE"," ",64],["T_IS_EQUAL","==",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$prefix",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n              ",64],["T_VARIABLE","$negotiated_language",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$language",65],";",["T_WHITESPACE","\n              ",65],["T_BREAK","break",66],";",["T_WHITESPACE","\n            ",66],"}",["T_WHITESPACE","\n          ",67],"}",["T_WHITESPACE","\n\n          ",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$negotiated_language",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$langcode",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$negotiated_language",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getId",71],"(",")",";",["T_WHITESPACE","\n          ",71],"}",["T_WHITESPACE","\n          ",72],["T_BREAK","break",73],";",["T_WHITESPACE","\n\n        ",73],["T_CASE","case",75],["T_WHITESPACE"," ",75],["T_STRING","LanguageNegotiationUrl",75],["T_DOUBLE_COLON","::",75],["T_STRING","CONFIG_DOMAIN",75],":",["T_WHITESPACE","\n          ",75],["T_COMMENT","\/\/ Get only the host, not the port.\n",76],["T_WHITESPACE","          ",77],["T_VARIABLE","$http_host",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$request",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getHost",77],"(",")",";",["T_WHITESPACE","\n          ",77],["T_FOREACH","foreach",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$languages",78],["T_WHITESPACE"," ",78],["T_AS","as",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$language",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_COMMENT","\/\/ Skip the check if the language doesn't have a domain.\n",79],["T_WHITESPACE","            ",80],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_EMPTY","empty",80],"(",["T_VARIABLE","$config",80],"[",["T_CONSTANT_ENCAPSED_STRING","'domains'",80],"]","[",["T_VARIABLE","$language",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getId",80],"(",")","]",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n              ",80],["T_COMMENT","\/\/ Ensure that there is exactly one protocol in the URL when\n",81],["T_WHITESPACE","              ",82],["T_COMMENT","\/\/ checking the hostname.\n",82],["T_WHITESPACE","              ",83],["T_VARIABLE","$host",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_STRING","str_replace",83],"(",["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",83],")",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","''",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$config",83],"[",["T_CONSTANT_ENCAPSED_STRING","'domains'",83],"]","[",["T_VARIABLE","$language",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getId",83],"(",")","]",")",";",["T_WHITESPACE","\n              ",83],["T_VARIABLE","$host",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","parse_url",84],"(",["T_VARIABLE","$host",84],",",["T_WHITESPACE"," ",84],["T_STRING","PHP_URL_HOST",84],")",";",["T_WHITESPACE","\n              ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$http_host",85],["T_WHITESPACE"," ",85],["T_IS_EQUAL","==",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$host",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$langcode",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$language",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getId",86],"(",")",";",["T_WHITESPACE","\n                ",86],["T_BREAK","break",87],";",["T_WHITESPACE","\n              ",87],"}",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE","\n          ",89],"}",["T_WHITESPACE","\n          ",90],["T_BREAK","break",91],";",["T_WHITESPACE","\n      ",91],"}",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$langcode",95],";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n  ",96],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",98],["T_WHITESPACE","\n  ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","processInbound",101],"(",["T_VARIABLE","$path",101],",",["T_WHITESPACE"," ",101],["T_STRING","Request",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$request",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$config",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","config",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$parts",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","explode",103],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",103],",",["T_WHITESPACE"," ",103],["T_STRING","trim",103],"(",["T_VARIABLE","$path",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'\/'",103],")",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$prefix",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","array_shift",104],"(",["T_VARIABLE","$parts",104],")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Search prefix within added languages.\n",106],["T_WHITESPACE","    ",107],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","languageManager",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getLanguages",107],"(",")",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$language",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_ISSET","isset",108],"(",["T_VARIABLE","$config",108],"[",["T_CONSTANT_ENCAPSED_STRING","'prefixes'",108],"]","[",["T_VARIABLE","$language",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getId",108],"(",")","]",")",["T_WHITESPACE"," ",108],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$config",108],"[",["T_CONSTANT_ENCAPSED_STRING","'prefixes'",108],"]","[",["T_VARIABLE","$language",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getId",108],"(",")","]",["T_WHITESPACE"," ",108],["T_IS_EQUAL","==",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$prefix",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n        ",108],["T_COMMENT","\/\/ Rebuild $path with the language removed.\n",109],["T_WHITESPACE","        ",110],["T_VARIABLE","$path",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'\/'",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_STRING","implode",110],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$parts",110],")",";",["T_WHITESPACE","\n        ",110],["T_BREAK","break",111],";",["T_WHITESPACE","\n      ",111],"}",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$path",115],";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",118],["T_WHITESPACE","\n  ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","processOutbound",121],"(",["T_VARIABLE","$path",121],",",["T_WHITESPACE"," ",121],"&",["T_VARIABLE","$options",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",")",",",["T_WHITESPACE"," ",121],["T_STRING","Request",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$request",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","NULL",121],",",["T_WHITESPACE"," ",121],["T_STRING","BubbleableMetadata",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$bubbleable_metadata",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","NULL",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$url_scheme",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'http'",122],";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$port",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","80",123],";",["T_WHITESPACE","\n    ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$request",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$url_scheme",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$request",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getScheme",125],"(",")",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$port",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$request",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getPort",126],"(",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$languages",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","array_flip",128],"(",["T_STRING","array_keys",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","languageManager",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getLanguages",128],"(",")",")",")",";",["T_WHITESPACE","\n    ",128],["T_COMMENT","\/\/ Language can be passed as an option, or we go for current URL language.\n",129],["T_WHITESPACE","    ",130],["T_IF","if",130],["T_WHITESPACE"," ",130],"(","!",["T_ISSET","isset",130],"(",["T_VARIABLE","$options",130],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",130],"]",")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n      ",130],["T_VARIABLE","$language_url",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","languageManager",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getCurrentLanguage",131],"(",["T_STRING","LanguageInterface",131],["T_DOUBLE_COLON","::",131],["T_STRING","TYPE_URL",131],")",";",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$options",132],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$language_url",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n    ",133],["T_COMMENT","\/\/ We allow only added languages here.\n",134],["T_WHITESPACE","    ",135],["T_ELSEIF","elseif",135],["T_WHITESPACE"," ",135],"(","!",["T_STRING","is_object",135],"(",["T_VARIABLE","$options",135],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",135],"]",")",["T_WHITESPACE"," ",135],["T_BOOLEAN_OR","||",135],["T_WHITESPACE"," ",135],"!",["T_ISSET","isset",135],"(",["T_VARIABLE","$languages",135],"[",["T_VARIABLE","$options",135],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",135],"]",["T_OBJECT_OPERATOR","->",135],["T_STRING","getId",135],"(",")","]",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$path",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$config",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","config",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",138],")",";",["T_WHITESPACE","\n    ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$config",139],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",139],"]",["T_WHITESPACE"," ",139],["T_IS_EQUAL","==",139],["T_WHITESPACE"," ",139],["T_STRING","LanguageNegotiationUrl",139],["T_DOUBLE_COLON","::",139],["T_STRING","CONFIG_PATH_PREFIX",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n      ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_STRING","is_object",140],"(",["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",140],"]",")",["T_WHITESPACE"," ",140],["T_BOOLEAN_AND","&&",140],["T_WHITESPACE"," ",140],"!",["T_EMPTY","empty",140],"(",["T_VARIABLE","$config",140],"[",["T_CONSTANT_ENCAPSED_STRING","'prefixes'",140],"]","[",["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",140],"]",["T_OBJECT_OPERATOR","->",140],["T_STRING","getId",140],"(",")","]",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$options",141],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$config",141],"[",["T_CONSTANT_ENCAPSED_STRING","'prefixes'",141],"]","[",["T_VARIABLE","$options",141],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",141],"]",["T_OBJECT_OPERATOR","->",141],["T_STRING","getId",141],"(",")","]",["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'\/'",141],";",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$bubbleable_metadata",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n          ",142],["T_VARIABLE","$bubbleable_metadata",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","addCacheContexts",143],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:'",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_STRING","LanguageInterface",143],["T_DOUBLE_COLON","::",143],["T_STRING","TYPE_URL",143],"]",")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n      ",144],"}",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n    ",146],["T_ELSEIF","elseif",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$config",147],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",147],"]",["T_WHITESPACE"," ",147],["T_IS_EQUAL","==",147],["T_WHITESPACE"," ",147],["T_STRING","LanguageNegotiationUrl",147],["T_DOUBLE_COLON","::",147],["T_STRING","CONFIG_DOMAIN",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n      ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_STRING","is_object",148],"(",["T_VARIABLE","$options",148],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",148],"]",")",["T_WHITESPACE"," ",148],["T_BOOLEAN_AND","&&",148],["T_WHITESPACE"," ",148],"!",["T_EMPTY","empty",148],"(",["T_VARIABLE","$config",148],"[",["T_CONSTANT_ENCAPSED_STRING","'domains'",148],"]","[",["T_VARIABLE","$options",148],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",148],"]",["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")","]",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\n        ",148],["T_COMMENT","\/\/ Save the original base URL. If it contains a port, we need to\n",150],["T_WHITESPACE","        ",151],["T_COMMENT","\/\/ retain it below.\n",151],["T_WHITESPACE","        ",152],["T_IF","if",152],["T_WHITESPACE"," ",152],"(","!",["T_EMPTY","empty",152],"(",["T_VARIABLE","$options",152],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",152],"]",")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n          ",152],["T_COMMENT","\/\/ The colon in the URL scheme messes up the port checking below.\n",153],["T_WHITESPACE","          ",154],["T_VARIABLE","$normalized_base_url",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","str_replace",154],"(",["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",154],")",",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$options",154],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",154],"]",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n\n        ",155],["T_COMMENT","\/\/ Ask for an absolute URL with our modified base URL.\n",157],["T_WHITESPACE","        ",158],["T_VARIABLE","$options",158],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","TRUE",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$options",159],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$url_scheme",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$config",159],"[",["T_CONSTANT_ENCAPSED_STRING","'domains'",159],"]","[",["T_VARIABLE","$options",159],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",159],"]",["T_OBJECT_OPERATOR","->",159],["T_STRING","getId",159],"(",")","]",";",["T_WHITESPACE","\n\n        ",159],["T_COMMENT","\/\/ In case either the original base URL or the HTTP host contains a\n",161],["T_WHITESPACE","        ",162],["T_COMMENT","\/\/ port, retain it.\n",162],["T_WHITESPACE","        ",163],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_ISSET","isset",163],"(",["T_VARIABLE","$normalized_base_url",163],")",["T_WHITESPACE"," ",163],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE"," ",163],["T_STRING","strpos",163],"(",["T_VARIABLE","$normalized_base_url",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","':'",163],")",["T_WHITESPACE"," ",163],["T_IS_NOT_IDENTICAL","!==",163],["T_WHITESPACE"," ",163],["T_STRING","FALSE",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n          ",163],["T_LIST","list",164],"(",",",["T_WHITESPACE"," ",164],["T_VARIABLE","$port",164],")",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","explode",164],"(",["T_CONSTANT_ENCAPSED_STRING","':'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$normalized_base_url",164],")",";",["T_WHITESPACE","\n          ",164],["T_VARIABLE","$options",165],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",165],"]",["T_WHITESPACE"," ",165],["T_CONCAT_EQUAL",".=",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","':'",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_VARIABLE","$port",165],";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_ELSEIF","elseif",167],["T_WHITESPACE"," ",167],"(","(",["T_VARIABLE","$url_scheme",167],["T_WHITESPACE"," ",167],["T_IS_EQUAL","==",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'http'",167],["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$port",167],["T_WHITESPACE"," ",167],["T_IS_NOT_EQUAL","!=",167],["T_WHITESPACE"," ",167],["T_LNUMBER","80",167],")",["T_WHITESPACE"," ",167],["T_BOOLEAN_OR","||",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$url_scheme",167],["T_WHITESPACE"," ",167],["T_IS_EQUAL","==",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'https'",167],["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$port",167],["T_WHITESPACE"," ",167],["T_IS_NOT_EQUAL","!=",167],["T_WHITESPACE"," ",167],["T_LNUMBER","443",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n          ",167],["T_VARIABLE","$options",168],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",168],"]",["T_WHITESPACE"," ",168],["T_CONCAT_EQUAL",".=",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","':'",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_VARIABLE","$port",168],";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_ISSET","isset",171],"(",["T_VARIABLE","$options",171],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",171],"]",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n          ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$options",172],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",172],"]",["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_STRING","TRUE",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$options",173],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","str_replace",173],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$options",173],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",173],"]",")",";",["T_WHITESPACE","\n          ",173],"}",["T_WHITESPACE","\n          ",174],["T_ELSEIF","elseif",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$options",175],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",175],"]",["T_WHITESPACE"," ",175],["T_IS_IDENTICAL","===",175],["T_WHITESPACE"," ",175],["T_STRING","FALSE",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$options",176],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","str_replace",176],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$options",176],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",176],"]",")",";",["T_WHITESPACE","\n          ",176],"}",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n        ",178],["T_COMMENT","\/\/ Add Drupal's subfolder from the base_path if there is one.\n",180],["T_WHITESPACE","        ",181],["T_VARIABLE","$options",181],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",181],"]",["T_WHITESPACE"," ",181],["T_CONCAT_EQUAL",".=",181],["T_WHITESPACE"," ",181],["T_STRING","rtrim",181],"(",["T_STRING","base_path",181],"(",")",",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'\/'",181],")",";",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$bubbleable_metadata",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n          ",182],["T_VARIABLE","$bubbleable_metadata",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","addCacheContexts",183],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:'",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_STRING","LanguageInterface",183],["T_DOUBLE_COLON","::",183],["T_STRING","TYPE_URL",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'url.site'",183],"]",")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n      ",184],"}",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n    ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$path",187],";",["T_WHITESPACE","\n  ",187],"}",["T_WHITESPACE","\n\n  ",188],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",190],["T_WHITESPACE","\n  ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","getLanguageSwitchLinks",193],"(",["T_STRING","Request",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$request",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$type",193],",",["T_WHITESPACE"," ",193],["T_STRING","Url",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$url",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$links",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$query",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$request",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","query",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","all",195],"(",")",";",["T_WHITESPACE","\n\n    ",195],["T_FOREACH","foreach",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","languageManager",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getNativeLanguages",197],"(",")",["T_WHITESPACE"," ",197],["T_AS","as",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$language",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n      ",197],["T_VARIABLE","$links",198],"[",["T_VARIABLE","$language",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getId",198],"(",")","]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_WHITESPACE","\n        ",198],["T_COMMENT","\/\/ We need to clone the $url object to avoid using the same one for all\n",199],["T_WHITESPACE","        ",200],["T_COMMENT","\/\/ links. When the links are rendered, options are set on the $url\n",200],["T_WHITESPACE","        ",201],["T_COMMENT","\/\/ object, so if we use the same one, they would be set for all links.\n",201],["T_WHITESPACE","        ",202],["T_CONSTANT_ENCAPSED_STRING","'url'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_CLONE","clone",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$url",202],",",["T_WHITESPACE","\n        ",202],["T_CONSTANT_ENCAPSED_STRING","'title'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$language",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getName",203],"(",")",",",["T_WHITESPACE","\n        ",203],["T_CONSTANT_ENCAPSED_STRING","'language'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$language",204],",",["T_WHITESPACE","\n        ",204],["T_CONSTANT_ENCAPSED_STRING","'attributes'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_CONSTANT_ENCAPSED_STRING","'language-link'",205],")",")",",",["T_WHITESPACE","\n        ",205],["T_CONSTANT_ENCAPSED_STRING","'query'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$query",206],",",["T_WHITESPACE","\n      ",206],")",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$links",210],";",["T_WHITESPACE","\n  ",210],"}",["T_WHITESPACE","\n\n",211],"}",["T_WHITESPACE","\n",213]]