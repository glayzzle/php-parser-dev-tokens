[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","language",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PluginManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigFactoryInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Session",7],["T_NS_SEPARATOR","\\",7],["T_STRING","AccountInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Site",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Settings",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","language",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LanguageNegotiation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LanguageNegotiationUI",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","HttpFoundation",10],["T_NS_SEPARATOR","\\",10],["T_STRING","RequestStack",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Class responsible for performing language negotiation.\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","LanguageNegotiator",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","LanguageNegotiatorInterface",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * The language negotiation method plugin manager.\n   *\n   * @var \\Drupal\\Component\\Plugin\\PluginManagerInterface\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$negotiatorManager",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The language manager.\n   *\n   * @var \\Drupal\\language\\ConfigurableLanguageManagerInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$languageManager",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The configuration factory.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigFactoryInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$configFactory",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * The settings instance.\n   *\n   * @return \\Drupal\\Core\\Site\\Settings\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$settings",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * The request stack object.\n   *\n   * @var \\Symfony\\Component\\HttpFoundation\\RequestStack\n   *\/",45],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$requestStack",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * The current active user.\n   *\n   * @return \\Drupal\\Core\\Session\\AccountInterface\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$currentUser",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Local cache for language negotiation method instances.\n   *\n   * @var array\n   *\/",59],["T_WHITESPACE","\n  ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$methods",64],";",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * An array of language objects keyed by method id.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageInterface[]\n   *\/",66],["T_WHITESPACE","\n  ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$negotiatedLanguages",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * Constructs a new LanguageNegotiator object.\n   *\n   * @param \\Drupal\\language\\ConfigurableLanguageManagerInterface $language_manager\n   *    The language manager.\n   * @param \\Drupal\\Component\\Plugin\\PluginManagerInterface $negotiator_manager\n   *   The language negotiation methods plugin manager\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The configuration factory.\n   * @param \\Drupal\\Core\\Site\\Settings $settings\n   *   The settings instance.\n   *\/",73],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","__construct",85],"(",["T_STRING","ConfigurableLanguageManagerInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$language_manager",85],",",["T_WHITESPACE"," ",85],["T_STRING","PluginManagerInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$negotiator_manager",85],",",["T_WHITESPACE"," ",85],["T_STRING","ConfigFactoryInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$config_factory",85],",",["T_WHITESPACE"," ",85],["T_STRING","Settings",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$settings",85],",",["T_WHITESPACE"," ",85],["T_STRING","RequestStack",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$requestStack",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","languageManager",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$language_manager",86],";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","negotiatorManager",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$negotiator_manager",87],";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","configFactory",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$config_factory",88],";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","settings",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$settings",89],";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","requestStack",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$requestStack",90],";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Initializes the injected language manager with the negotiator.\n   *\n   * This should be called right after instantiating the negotiator to make it\n   * available to the language manager without introducing a circular\n   * dependency.\n   *\/",93],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","initLanguageManager",100],"(",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","languageManager",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setNegotiator",101],"(",["T_VARIABLE","$this",101],")",";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n  ",102],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",104],["T_WHITESPACE","\n  ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","reset",107],"(",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","negotiatedLanguages",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","methods",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",")",";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n  ",110],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",112],["T_WHITESPACE","\n  ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","setCurrentUser",115],"(",["T_STRING","AccountInterface",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$current_user",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","currentUser",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$current_user",116],";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","reset",117],"(",")",";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n  ",118],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",120],["T_WHITESPACE","\n  ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","initializeType",123],"(",["T_VARIABLE","$type",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$language",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","NULL",124],";",["T_WHITESPACE","\n\n    ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","currentUser",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_COMMENT","\/\/ Execute the language negotiation methods in the order they were set up\n",127],["T_WHITESPACE","      ",128],["T_COMMENT","\/\/ and return the first valid language found.\n",128],["T_WHITESPACE","      ",129],["T_FOREACH","foreach",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getEnabledNegotiators",129],"(",["T_VARIABLE","$type",129],")",["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$method_id",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$info",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(","!",["T_ISSET","isset",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","negotiatedLanguages",130],"[",["T_VARIABLE","$method_id",130],"]",")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n          ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","negotiatedLanguages",131],"[",["T_VARIABLE","$method_id",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","negotiateLanguage",131],"(",["T_VARIABLE","$type",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$method_id",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_COMMENT","\/\/ Since objects are references, we need to return a clone to prevent\n",134],["T_WHITESPACE","        ",135],["T_COMMENT","\/\/ the language negotiation method cache from being unintentionally\n",135],["T_WHITESPACE","        ",136],["T_COMMENT","\/\/ altered. The same methods might be used with different language types\n",136],["T_WHITESPACE","        ",137],["T_COMMENT","\/\/ based on configuration.\n",137],["T_WHITESPACE","        ",138],["T_VARIABLE","$language",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"!",["T_EMPTY","empty",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","negotiatedLanguages",138],"[",["T_VARIABLE","$method_id",138],"]",")",["T_WHITESPACE"," ",138],"?",["T_WHITESPACE"," ",138],["T_CLONE","clone",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","negotiatedLanguages",138],"[",["T_VARIABLE","$method_id",138],"]",")",["T_WHITESPACE"," ",138],":",["T_WHITESPACE"," ",138],["T_STRING","NULL",138],";",["T_WHITESPACE","\n\n        ",138],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$language",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n          ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getNegotiationMethodInstance",141],"(",["T_VARIABLE","$method_id",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","persist",141],"(",["T_VARIABLE","$language",141],")",";",["T_WHITESPACE","\n          ",141],["T_BREAK","break",142],";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n      ",143],"}",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(","!",["T_VARIABLE","$language",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n      ",147],["T_COMMENT","\/\/ If no other language was found use the default one.\n",148],["T_WHITESPACE","      ",149],["T_VARIABLE","$language",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","languageManager",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getDefaultLanguage",149],"(",")",";",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$method_id",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STATIC","static",150],["T_DOUBLE_COLON","::",150],["T_STRING","METHOD_ID",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_VARIABLE","$method_id",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$language",153],")",";",["T_WHITESPACE","\n  ",153],"}",["T_WHITESPACE","\n\n  ",154],["T_DOC_COMMENT","\/**\n   * Gets enabled detection methods for the provided language type.\n   *\n   * @param string $type\n   *   The language type.\n   *\n   * @return array\n   *   An array of enabled detection methods for the provided language type.\n   *\/",156],["T_WHITESPACE","\n  ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","getEnabledNegotiators",165],"(",["T_VARIABLE","$type",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n    ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","configFactory",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_CONSTANT_ENCAPSED_STRING","'language.types'",166],")",["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation.'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$type",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'.enabled'",166],")",["T_WHITESPACE"," ",166],"?",":",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",")",";",["T_WHITESPACE","\n  ",166],"}",["T_WHITESPACE","\n\n  ",167],["T_DOC_COMMENT","\/**\n   * Performs language negotiation using the specified negotiation method.\n   *\n   * @param string $type\n   *   The language type to be initialized.\n   * @param string $method_id\n   *   The string identifier of the language negotiation method to use to detect\n   *   language.\n   *\n   * @return \\Drupal\\Core\\Language\\LanguageInterface|null\n   *   Negotiated language object for given type and method, FALSE otherwise.\n   *\/",169],["T_WHITESPACE","\n  ",180],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","negotiateLanguage",181],"(",["T_VARIABLE","$type",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$method_id",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$langcode",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","NULL",182],";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$method",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","negotiatorManager",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getDefinition",183],"(",["T_VARIABLE","$method_id",183],")",";",["T_WHITESPACE","\n\n    ",183],["T_IF","if",185],["T_WHITESPACE"," ",185],"(","!",["T_ISSET","isset",185],"(",["T_VARIABLE","$method",185],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",185],"]",")",["T_WHITESPACE"," ",185],["T_BOOLEAN_OR","||",185],["T_WHITESPACE"," ",185],["T_STRING","in_array",185],"(",["T_VARIABLE","$type",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$method",185],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",185],"]",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$langcode",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getNegotiationMethodInstance",186],"(",["T_VARIABLE","$method_id",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getLangcode",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","requestStack",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getCurrentRequest",186],"(",")",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_VARIABLE","$languages",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","languageManager",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getLanguages",189],"(",")",";",["T_WHITESPACE","\n    ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_ISSET","isset",190],"(",["T_VARIABLE","$languages",190],"[",["T_VARIABLE","$langcode",190],"]",")",["T_WHITESPACE"," ",190],"?",["T_WHITESPACE"," ",190],["T_VARIABLE","$languages",190],"[",["T_VARIABLE","$langcode",190],"]",["T_WHITESPACE"," ",190],":",["T_WHITESPACE"," ",190],["T_STRING","NULL",190],";",["T_WHITESPACE","\n  ",190],"}",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",193],["T_WHITESPACE","\n  ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","getNegotiationMethods",196],"(",["T_VARIABLE","$type",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","NULL",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$definitions",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","negotiatorManager",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getDefinitions",197],"(",")",";",["T_WHITESPACE","\n    ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_ISSET","isset",198],"(",["T_VARIABLE","$type",198],")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n      ",198],["T_VARIABLE","$enabled_methods",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getEnabledNegotiators",199],"(",["T_VARIABLE","$type",199],")",";",["T_WHITESPACE","\n      ",199],["T_VARIABLE","$definitions",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","array_intersect_key",200],"(",["T_VARIABLE","$definitions",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$enabled_methods",200],")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n    ",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$definitions",202],";",["T_WHITESPACE","\n  ",202],"}",["T_WHITESPACE","\n\n  ",203],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",205],["T_WHITESPACE","\n  ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getNegotiationMethodInstance",208],"(",["T_VARIABLE","$method_id",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n    ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_ISSET","isset",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","methods",209],"[",["T_VARIABLE","$method_id",209],"]",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n      ",209],["T_VARIABLE","$instance",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","negotiatorManager",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","createInstance",210],"(",["T_VARIABLE","$method_id",210],",",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",")",";",["T_WHITESPACE","\n      ",210],["T_VARIABLE","$instance",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setLanguageManager",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","languageManager",211],")",";",["T_WHITESPACE","\n      ",211],["T_VARIABLE","$instance",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","setConfig",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","configFactory",212],")",";",["T_WHITESPACE","\n      ",212],["T_VARIABLE","$instance",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","setCurrentUser",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","currentUser",213],")",";",["T_WHITESPACE","\n      ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","methods",214],"[",["T_VARIABLE","$method_id",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$instance",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n    ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","methods",216],"[",["T_VARIABLE","$method_id",216],"]",";",["T_WHITESPACE","\n  ",216],"}",["T_WHITESPACE","\n\n  ",217],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",219],["T_WHITESPACE","\n  ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","getPrimaryNegotiationMethod",222],"(",["T_VARIABLE","$type",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$enabled_methods",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getEnabledNegotiators",223],"(",["T_VARIABLE","$type",223],")",";",["T_WHITESPACE","\n    ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_EMPTY","empty",224],"(",["T_VARIABLE","$enabled_methods",224],")",["T_WHITESPACE"," ",224],"?",["T_WHITESPACE"," ",224],["T_STRING","LanguageNegotiatorInterface",224],["T_DOUBLE_COLON","::",224],["T_STRING","METHOD_ID",224],["T_WHITESPACE"," ",224],":",["T_WHITESPACE"," ",224],["T_STRING","key",224],"(",["T_VARIABLE","$enabled_methods",224],")",";",["T_WHITESPACE","\n  ",224],"}",["T_WHITESPACE","\n\n  ",225],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",227],["T_WHITESPACE","\n  ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","isNegotiationMethodEnabled",230],"(",["T_VARIABLE","$method_id",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$type",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","NULL",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$enabled",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","FALSE",231],";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$language_types",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],"!",["T_EMPTY","empty",232],"(",["T_VARIABLE","$type",232],")",["T_WHITESPACE"," ",232],"?",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",["T_VARIABLE","$type",232],")",["T_WHITESPACE"," ",232],":",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","languageManager",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getLanguageTypes",232],"(",")",";",["T_WHITESPACE","\n\n    ",232],["T_FOREACH","foreach",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$language_types",234],["T_WHITESPACE"," ",234],["T_AS","as",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$type",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n      ",234],["T_VARIABLE","$enabled_methods",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getEnabledNegotiators",235],"(",["T_VARIABLE","$type",235],")",";",["T_WHITESPACE","\n      ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_ISSET","isset",236],"(",["T_VARIABLE","$enabled_methods",236],"[",["T_VARIABLE","$method_id",236],"]",")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$enabled",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","TRUE",237],";",["T_WHITESPACE","\n        ",237],["T_BREAK","break",238],";",["T_WHITESPACE","\n      ",238],"}",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$enabled",242],";",["T_WHITESPACE","\n  ",242],"}",["T_WHITESPACE","\n\n  ",243],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",245],["T_WHITESPACE","\n  ",247],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","saveConfiguration",248],"(",["T_VARIABLE","$type",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$enabled_methods",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n    ",248],["T_COMMENT","\/\/ As configurable language types might have changed, we reset the cache.\n",249],["T_WHITESPACE","    ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","languageManager",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","reset",250],"(",")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$definitions",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getNegotiationMethods",251],"(",")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$default_types",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","languageManager",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getLanguageTypes",252],"(",")",";",["T_WHITESPACE","\n\n    ",252],["T_COMMENT","\/\/ Order the language negotiation method list by weight.\n",254],["T_WHITESPACE","    ",255],["T_STRING","asort",255],"(",["T_VARIABLE","$enabled_methods",255],")",";",["T_WHITESPACE","\n    ",255],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$enabled_methods",256],["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$method_id",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$weight",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_ISSET","isset",257],"(",["T_VARIABLE","$definitions",257],"[",["T_VARIABLE","$method_id",257],"]",")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$method",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$definitions",258],"[",["T_VARIABLE","$method_id",258],"]",";",["T_WHITESPACE","\n        ",258],["T_COMMENT","\/\/ If the language negotiation method does not express any preference\n",259],["T_WHITESPACE","        ",260],["T_COMMENT","\/\/ about types, make it available for any configurable type.\n",260],["T_WHITESPACE","        ",261],["T_VARIABLE","$types",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","array_flip",261],"(","!",["T_EMPTY","empty",261],"(",["T_VARIABLE","$method",261],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",261],"]",")",["T_WHITESPACE"," ",261],"?",["T_WHITESPACE"," ",261],["T_VARIABLE","$method",261],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",261],"]",["T_WHITESPACE"," ",261],":",["T_WHITESPACE"," ",261],["T_VARIABLE","$default_types",261],")",";",["T_WHITESPACE","\n        ",261],["T_COMMENT","\/\/ Check whether the method is defined and has the right type.\n",262],["T_WHITESPACE","        ",263],["T_IF","if",263],["T_WHITESPACE"," ",263],"(","!",["T_ISSET","isset",263],"(",["T_VARIABLE","$types",263],"[",["T_VARIABLE","$type",263],"]",")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n          ",263],["T_UNSET","unset",264],"(",["T_VARIABLE","$enabled_methods",264],"[",["T_VARIABLE","$method_id",264],"]",")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n      ",265],"}",["T_WHITESPACE","\n      ",266],["T_ELSE","else",267],["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n        ",267],["T_UNSET","unset",268],"(",["T_VARIABLE","$enabled_methods",268],"[",["T_VARIABLE","$method_id",268],"]",")",";",["T_WHITESPACE","\n      ",268],"}",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","configFactory",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getEditable",271],"(",["T_CONSTANT_ENCAPSED_STRING","'language.types'",271],")",["T_OBJECT_OPERATOR","->",271],["T_STRING","set",271],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation.'",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_VARIABLE","$type",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'.enabled'",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$enabled_methods",271],")",["T_OBJECT_OPERATOR","->",271],["T_STRING","save",271],"(",")",";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",274],["T_WHITESPACE","\n  ",276],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","purgeConfiguration",277],"(",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n    ",277],["T_COMMENT","\/\/ Ensure that we are getting the defined language negotiation information.\n",278],["T_WHITESPACE","    ",279],["T_COMMENT","\/\/ An invocation of \\Drupal\\Core\\Extension\\ModuleInstaller::install() or\n",279],["T_WHITESPACE","    ",280],["T_COMMENT","\/\/ \\Drupal\\Core\\Extension\\ModuleInstaller::uninstall() could invalidate the\n",280],["T_WHITESPACE","    ",281],["T_COMMENT","\/\/ cached information.\n",281],["T_WHITESPACE","    ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","negotiatorManager",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","clearCachedDefinitions",282],"(",")",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","languageManager",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","reset",283],"(",")",";",["T_WHITESPACE","\n    ",283],["T_FOREACH","foreach",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","languageManager",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getDefinedLanguageTypesInfo",284],"(",")",["T_WHITESPACE"," ",284],["T_AS","as",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$type",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$info",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n      ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","saveConfiguration",285],"(",["T_VARIABLE","$type",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getEnabledNegotiators",285],"(",["T_VARIABLE","$type",285],")",")",";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n  ",286],"}",["T_WHITESPACE","\n\n  ",287],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",289],["T_WHITESPACE","\n  ",291],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","updateConfiguration",292],"(",["T_ARRAY","array",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$types",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n    ",292],["T_COMMENT","\/\/ Ensure that we are getting the defined language negotiation information.\n",293],["T_WHITESPACE","    ",294],["T_COMMENT","\/\/ An invocation of \\Drupal\\Core\\Extension\\ModuleInstaller::install() or\n",294],["T_WHITESPACE","    ",295],["T_COMMENT","\/\/ \\Drupal\\Core\\Extension\\ModuleInstaller::uninstall() could invalidate the\n",295],["T_WHITESPACE","    ",296],["T_COMMENT","\/\/ cached information.\n",296],["T_WHITESPACE","    ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","negotiatorManager",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","clearCachedDefinitions",297],"(",")",";",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","languageManager",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","reset",298],"(",")",";",["T_WHITESPACE","\n\n    ",298],["T_VARIABLE","$language_types",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$language_types_info",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","languageManager",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getDefinedLanguageTypesInfo",301],"(",")",";",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$method_definitions",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getNegotiationMethods",302],"(",")",";",["T_WHITESPACE","\n\n    ",302],["T_FOREACH","foreach",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$language_types_info",304],["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$type",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$info",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n      ",304],["T_VARIABLE","$configurable",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING","in_array",305],"(",["T_VARIABLE","$type",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$types",305],")",";",["T_WHITESPACE","\n\n      ",305],["T_COMMENT","\/\/ The default language negotiation settings, if available, are stored in\n",307],["T_WHITESPACE","      ",308],["T_COMMENT","\/\/ $info['fixed'].\n",308],["T_WHITESPACE","      ",309],["T_VARIABLE","$has_default_settings",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],"!",["T_EMPTY","empty",309],"(",["T_VARIABLE","$info",309],"[",["T_CONSTANT_ENCAPSED_STRING","'fixed'",309],"]",")",";",["T_WHITESPACE","\n      ",309],["T_COMMENT","\/\/ Check whether the language type is unlocked. Only the status of\n",310],["T_WHITESPACE","      ",311],["T_COMMENT","\/\/ unlocked language types can be toggled between configurable and\n",311],["T_WHITESPACE","      ",312],["T_COMMENT","\/\/ non-configurable.\n",312],["T_WHITESPACE","      ",313],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_EMPTY","empty",313],"(",["T_VARIABLE","$info",313],"[",["T_CONSTANT_ENCAPSED_STRING","'locked'",313],"]",")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n        ",313],["T_IF","if",314],["T_WHITESPACE"," ",314],"(","!",["T_VARIABLE","$configurable",314],["T_WHITESPACE"," ",314],["T_BOOLEAN_AND","&&",314],["T_WHITESPACE"," ",314],"!",["T_VARIABLE","$has_default_settings",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n          ",314],["T_COMMENT","\/\/ If we have an unlocked non-configurable language type without\n",315],["T_WHITESPACE","          ",316],["T_COMMENT","\/\/ default language negotiation settings, we use the values\n",316],["T_WHITESPACE","          ",317],["T_COMMENT","\/\/ negotiated for the interface language which, should always be\n",317],["T_WHITESPACE","          ",318],["T_COMMENT","\/\/ available.\n",318],["T_WHITESPACE","          ",319],["T_VARIABLE","$method_weights",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",["T_STRING","LanguageNegotiationUI",319],["T_DOUBLE_COLON","::",319],["T_STRING","METHOD_ID",319],")",";",["T_WHITESPACE","\n          ",319],["T_VARIABLE","$method_weights",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","array_flip",320],"(",["T_VARIABLE","$method_weights",320],")",";",["T_WHITESPACE","\n          ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","saveConfiguration",321],"(",["T_VARIABLE","$type",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$method_weights",321],")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n      ",322],"}",["T_WHITESPACE","\n      ",323],["T_ELSE","else",324],["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n        ",324],["T_COMMENT","\/\/ The language type is locked. Locked language types with default\n",325],["T_WHITESPACE","        ",326],["T_COMMENT","\/\/ settings are always considered non-configurable. In turn if default\n",326],["T_WHITESPACE","        ",327],["T_COMMENT","\/\/ settings are missing, the language type is always considered\n",327],["T_WHITESPACE","        ",328],["T_COMMENT","\/\/ configurable.\n",328],["T_WHITESPACE","\n        ",329],["T_COMMENT","\/\/ If the language type is locked we can just store its default language\n",330],["T_WHITESPACE","        ",331],["T_COMMENT","\/\/ negotiation settings if it has some, since it is not configurable.\n",331],["T_WHITESPACE","        ",332],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$has_default_settings",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n          ",332],["T_VARIABLE","$method_weights",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_ARRAY","array",333],"(",")",";",["T_WHITESPACE","\n          ",333],["T_COMMENT","\/\/ Default settings are in $info['fixed'].\n",334],["T_WHITESPACE","\n          ",335],["T_FOREACH","foreach",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$info",336],"[",["T_CONSTANT_ENCAPSED_STRING","'fixed'",336],"]",["T_WHITESPACE"," ",336],["T_AS","as",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$weight",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$method_id",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_ISSET","isset",337],"(",["T_VARIABLE","$method_definitions",337],"[",["T_VARIABLE","$method_id",337],"]",")",")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n              ",337],["T_VARIABLE","$method_weights",338],"[",["T_VARIABLE","$method_id",338],"]",["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$weight",338],";",["T_WHITESPACE","\n            ",338],"}",["T_WHITESPACE","\n          ",339],"}",["T_WHITESPACE","\n          ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","saveConfiguration",341],"(",["T_VARIABLE","$type",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$method_weights",341],")",";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE","\n        ",342],["T_ELSE","else",343],["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n          ",343],["T_COMMENT","\/\/ It was missing default settings, so force it to be configurable.\n",344],["T_WHITESPACE","          ",345],["T_VARIABLE","$configurable",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","TRUE",345],";",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n      ",346],"}",["T_WHITESPACE","\n\n      ",347],["T_COMMENT","\/\/ Accumulate information for each language type so it can be saved later.\n",349],["T_WHITESPACE","      ",350],["T_VARIABLE","$language_types",350],"[",["T_VARIABLE","$type",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$configurable",350],";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_COMMENT","\/\/ Store the language type configuration.\n",353],["T_WHITESPACE","    ",354],["T_VARIABLE","$config",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_ARRAY","array",354],"(",["T_WHITESPACE","\n      ",354],["T_CONSTANT_ENCAPSED_STRING","'configurable'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_STRING","array_keys",355],"(",["T_STRING","array_filter",355],"(",["T_VARIABLE","$language_types",355],")",")",",",["T_WHITESPACE","\n      ",355],["T_CONSTANT_ENCAPSED_STRING","'all'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","array_keys",356],"(",["T_VARIABLE","$language_types",356],")",",",["T_WHITESPACE","\n    ",356],")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","languageManager",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","saveLanguageTypesConfiguration",358],"(",["T_VARIABLE","$config",358],")",";",["T_WHITESPACE","\n  ",358],"}",["T_WHITESPACE","\n\n",359],"}",["T_WHITESPACE","\n",361]]