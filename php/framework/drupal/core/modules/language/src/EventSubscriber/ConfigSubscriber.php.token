[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","language",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EventSubscriber",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigFactoryInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LanguageDefault",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LanguageManagerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConfigCrudEvent",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigEvents",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","language",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigurableLanguageManager",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","language",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PathProcessorLanguage",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","language",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LanguageNegotiatorInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcher",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventSubscriberInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Deletes the container if default language has changed.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ConfigSubscriber",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","EventSubscriberInterface",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The language manager.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageManagerInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$languageManager",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The default language.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageDefault\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$languageDefault",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The configuration factory.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigFactoryInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$configFactory",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The language negotiator.\n   *\n   * @var \\Drupal\\language\\LanguageNegotiatorInterface\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$languageNegotiator",47],";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * The language path processor.\n   *\n   * @var \\Drupal\\language\\HttpKernel\\PathProcessorLanguage\n   *\/",49],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$pathProcessorLanguage",54],";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Constructs a new class object.\n   *\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language_manager\n   *   The language manager.\n   * @param \\Drupal\\Core\\Language\\LanguageDefault $language_default\n   *   The default language.\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The configuration factory.\n   * @param \\Drupal\\language\\LanguageNegotiatorInterface $language_negotiator\n   *   The language negotiator.\n   *\/",56],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","__construct",68],"(",["T_STRING","LanguageManagerInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$language_manager",68],",",["T_WHITESPACE"," ",68],["T_STRING","LanguageDefault",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$language_default",68],",",["T_WHITESPACE"," ",68],["T_STRING","ConfigFactoryInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$config_factory",68],",",["T_WHITESPACE"," ",68],["T_STRING","LanguageNegotiatorInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$language_negotiator",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","languageManager",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$language_manager",69],";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","languageDefault",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$language_default",70],";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","configFactory",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$config_factory",71],";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","languageNegotiator",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$language_negotiator",72],";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * Causes the container to be rebuilt on the next request.\n   *\n   * This event subscriber assumes that the new default langcode and old default\n   * langcode are valid langcodes. If the schema definition of either\n   * system.site:default_langcode or language.negotiation::url.prefixes changes\n   * then this event must be changed to work with both the old and new schema\n   * definition so this event is update safe.\n   *\n   * @param ConfigCrudEvent $event\n   *   The configuration event.\n   *\/",75],["T_WHITESPACE","\n  ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","onConfigSave",87],"(",["T_STRING","ConfigCrudEvent",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$event",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$saved_config",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$event",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getConfig",88],"(",")",";",["T_WHITESPACE","\n    ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$saved_config",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getName",89],"(",")",["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'system.site'",89],["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$event",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","isChanged",89],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$new_default_langcode",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$saved_config",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","get",90],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",90],")",";",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$default_language",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","configFactory",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'language.entity.'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$new_default_langcode",91],")",";",["T_WHITESPACE","\n      ",91],["T_COMMENT","\/\/ During an import the language might not exist yet.\n",92],["T_WHITESPACE","      ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!",["T_VARIABLE","$default_language",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","isNew",93],"(",")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","languageDefault",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","set",94],"(",["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","Language",94],"(",["T_VARIABLE","$default_language",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","get",94],"(",")",")",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","languageManager",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","reset",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_COMMENT","\/\/ Directly update language negotiation settings instead of calling\n",97],["T_WHITESPACE","        ",98],["T_COMMENT","\/\/ language_negotiation_url_prefixes_update() to ensure that the code\n",98],["T_WHITESPACE","        ",99],["T_COMMENT","\/\/ obeys the hook_update_N() restrictions.\n",99],["T_WHITESPACE","        ",100],["T_VARIABLE","$negotiation_config",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","configFactory",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getEditable",100],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$negotiation_changed",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","FALSE",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$url_prefixes",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$negotiation_config",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'url.prefixes'",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$old_default_langcode",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$saved_config",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getOriginal",103],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",103],")",";",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_EMPTY","empty",104],"(",["T_VARIABLE","$url_prefixes",104],"[",["T_VARIABLE","$old_default_langcode",104],"]",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n          ",104],["T_VARIABLE","$negotiation_config",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","set",105],"(",["T_CONSTANT_ENCAPSED_STRING","'url.prefixes.'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$old_default_langcode",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$old_default_langcode",105],")",";",["T_WHITESPACE","\n          ",105],["T_VARIABLE","$negotiation_changed",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","TRUE",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_EMPTY","empty",108],"(",["T_VARIABLE","$url_prefixes",108],"[",["T_VARIABLE","$new_default_langcode",108],"]",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n          ",108],["T_VARIABLE","$negotiation_config",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","set",109],"(",["T_CONSTANT_ENCAPSED_STRING","'url.prefixes.'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$new_default_langcode",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","''",109],")",";",["T_WHITESPACE","\n          ",109],["T_VARIABLE","$negotiation_changed",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","TRUE",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$negotiation_changed",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n          ",112],["T_VARIABLE","$negotiation_config",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","save",113],"(",["T_STRING","TRUE",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n      ",114],"}",["T_WHITESPACE","\n      ",115],["T_COMMENT","\/\/ Trigger a container rebuild on the next request by invalidating it.\n",116],["T_WHITESPACE","      ",117],["T_STRING","ConfigurableLanguageManager",117],["T_DOUBLE_COLON","::",117],["T_STRING","rebuildServices",117],"(",")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n    ",118],["T_ELSEIF","elseif",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$saved_config",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getName",119],"(",")",["T_WHITESPACE"," ",119],["T_IS_EQUAL","==",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'language.types'",119],["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$event",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isChanged",119],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation'",119],")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n      ",119],["T_COMMENT","\/\/ If the negotiation configuration changed the language negotiator and\n",120],["T_WHITESPACE","      ",121],["T_COMMENT","\/\/ the language path processor have to be reset so that they regenerate\n",121],["T_WHITESPACE","      ",122],["T_COMMENT","\/\/ the method instances and also sort them accordingly to the new config.\n",122],["T_WHITESPACE","      ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","languageNegotiator",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","reset",123],"(",")",";",["T_WHITESPACE","\n      ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_ISSET","isset",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","pathProcessorLanguage",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","pathProcessorLanguage",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","reset",125],"(",")",";",["T_WHITESPACE","\n      ",125],"}",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n  ",127],"}",["T_WHITESPACE","\n\n  ",128],["T_DOC_COMMENT","\/**\n   * Injects the language path processors on multilingual site configuration.\n   *\n   * @param \\Drupal\\language\\HttpKernel\\PathProcessorLanguage $path_processor_language\n   *   The language path processor.\n   *\/",130],["T_WHITESPACE","\n  ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","setPathProcessorLanguage",136],"(",["T_STRING","PathProcessorLanguage",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$path_processor_language",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","pathProcessorLanguage",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$path_processor_language",137],";",["T_WHITESPACE","\n  ",137],"}",["T_WHITESPACE","\n\n  ",138],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",140],["T_WHITESPACE","\n  ",142],["T_STATIC","static",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","getSubscribedEvents",143],"(",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$events",144],"[",["T_STRING","ConfigEvents",144],["T_DOUBLE_COLON","::",144],["T_STRING","SAVE",144],"]","[","]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'onConfigSave'",144],",",["T_WHITESPACE"," ",144],["T_LNUMBER","0",144],")",";",["T_WHITESPACE","\n    ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$events",145],";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n",146],"}",["T_WHITESPACE","\n",148]]