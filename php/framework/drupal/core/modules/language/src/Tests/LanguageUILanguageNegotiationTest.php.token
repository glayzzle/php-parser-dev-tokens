[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","language",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableLanguage",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LanguageNegotiation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LanguageNegotiationBrowser",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LanguageNegotiation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LanguageNegotiationSelected",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","language",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LanguageNegotiation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LanguageNegotiationSession",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageNegotiation",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageNegotiationUrl",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","user",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","LanguageNegotiation",11],["T_NS_SEPARATOR","\\",11],["T_STRING","LanguageNegotiationUser",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","user",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Plugin",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LanguageNegotiation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LanguageNegotiationUserAdmin",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","simpletest",13],["T_NS_SEPARATOR","\\",13],["T_STRING","WebTestBase",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Language",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Language",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Language",15],["T_NS_SEPARATOR","\\",15],["T_STRING","LanguageInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpFoundation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Request",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","language",17],["T_NS_SEPARATOR","\\",17],["T_STRING","LanguageNegotiatorInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","block",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Entity",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Block",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Tests the language UI for language switching.\n *\n * The uses cases that get tested, are:\n * - URL (path) > default: Test that the URL prefix setting gets precedence over\n *   the default language. The browser language preference does not have any\n *   influence.\n * - URL (path) > browser > default: Test that the URL prefix setting gets\n *   precedence over the browser language preference, which in turn gets\n *   precedence over the default language.\n * - URL (domain) > default: Tests that the URL domain setting gets precedence\n *   over the default language.\n *\n * The paths that are used for each of these, are:\n * - admin\/config: Tests the UI using the precedence rules.\n * - zh-hans\/admin\/config: Tests the UI in Chinese.\n * - blah-blah\/admin\/config: Tests the 404 page.\n *\n * @group language\n *\/",20],["T_WHITESPACE","\n",39],["T_CLASS","class",40],["T_WHITESPACE"," ",40],["T_STRING","LanguageUILanguageNegotiationTest",40],["T_WHITESPACE"," ",40],["T_EXTENDS","extends",40],["T_WHITESPACE"," ",40],["T_STRING","WebTestBase",40],["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * We marginally use interface translation functionality here, so need to use\n   * the locale module instead of language only, but the 90% of the test is\n   * about the negotiation process which is solely in language module.\n   *\n   * @var array\n   *\/",42],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$modules",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'locale'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'language_test'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'block'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'user'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",51],")",";",["T_WHITESPACE","\n\n  ",51],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","setUp",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","setUp",54],"(",")",";",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$admin_user",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalCreateUser",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'administer languages'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'translate interface'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalLogin",57],"(",["T_VARIABLE","$admin_user",57],")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * Tests for language switching by URL path.\n   *\/",60],["T_WHITESPACE","\n  ",62],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","testUILanguageNegotiation",63],"(",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n    ",63],["T_COMMENT","\/\/ A few languages to switch to.\n",64],["T_WHITESPACE","    ",65],["T_COMMENT","\/\/ This one is unknown, should get the default lang version.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$langcode_unknown",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'blah-blah'",66],";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ For testing browser lang preference.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$langcode_browser_fallback",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'vi'",68],";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ For testing path prefix.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$langcode",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'zh-hans'",70],";",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ For setting browser language preference to 'vi'.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$http_header_browser_fallback",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Accept-Language: ",72],["T_VARIABLE","$langcode_browser_fallback",72],["T_ENCAPSED_AND_WHITESPACE",";q=1",72],"\"",")",";",["T_WHITESPACE","\n    ",72],["T_COMMENT","\/\/ For setting browser language preference to some unknown.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$http_header_blah",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_CONSTANT_ENCAPSED_STRING","\"Accept-Language: blah;q=1\"",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Setup the site languages by installing two languages.\n",76],["T_WHITESPACE","    ",77],["T_COMMENT","\/\/ Set the default language in order for the translated string to be registered\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ into database when seen by t(). Without doing this, our target string\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ is for some reason not found when doing translate search. This might\n",79],["T_WHITESPACE","    ",80],["T_COMMENT","\/\/ be some bug.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$default_language",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Drupal",81],["T_DOUBLE_COLON","::",81],["T_STRING","languageManager",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","getDefaultLanguage",81],"(",")",";",["T_WHITESPACE","\n    ",81],["T_STRING","ConfigurableLanguage",82],["T_DOUBLE_COLON","::",82],["T_STRING","createFromLangcode",82],"(",["T_VARIABLE","$langcode_browser_fallback",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","save",82],"(",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","config",83],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","set",83],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$langcode_browser_fallback",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","save",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_STRING","ConfigurableLanguage",84],["T_DOUBLE_COLON","::",84],["T_STRING","createFromLangcode",84],"(",["T_VARIABLE","$langcode",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ We will look for this string in the admin\/config screen to see if the\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ corresponding translated string is shown.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$default_string",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Hide descriptions'",88],";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ First visit this page to make sure our target string is searchable.\n",90],["T_WHITESPACE","    ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","drupalGet",91],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",91],")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Now the t()'ed string is in db so switch the language back to default.\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ This will rebuild the container so we need to rebuild the container in\n",94],["T_WHITESPACE","    ",95],["T_COMMENT","\/\/ the test environment.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","config",96],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",96],")",["T_OBJECT_OPERATOR","->",96],["T_STRING","set",96],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$default_language",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getId",96],"(",")",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","save",96],"(",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","config",97],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","set",97],"(",["T_CONSTANT_ENCAPSED_STRING","'url.prefixes.en'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","''",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","rebuildContainer",98],"(",")",";",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Translate the string.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$language_browser_fallback_string",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"\"",["T_ENCAPSED_AND_WHITESPACE","In ",101],["T_VARIABLE","$langcode_browser_fallback",101],["T_ENCAPSED_AND_WHITESPACE"," In ",101],["T_VARIABLE","$langcode_browser_fallback",101],["T_ENCAPSED_AND_WHITESPACE"," In ",101],["T_VARIABLE","$langcode_browser_fallback",101],"\"",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$language_string",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"\"",["T_ENCAPSED_AND_WHITESPACE","In ",102],["T_VARIABLE","$langcode",102],["T_ENCAPSED_AND_WHITESPACE"," In ",102],["T_VARIABLE","$langcode",102],["T_ENCAPSED_AND_WHITESPACE"," In ",102],["T_VARIABLE","$langcode",102],"\"",";",["T_WHITESPACE","\n    ",102],["T_COMMENT","\/\/ Do a translate search of our target string.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$search",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'string'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$default_string",105],",",["T_WHITESPACE","\n      ",105],["T_CONSTANT_ENCAPSED_STRING","'langcode'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$langcode_browser_fallback",106],",",["T_WHITESPACE","\n    ",106],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalPostForm",108],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$search",108],",",["T_WHITESPACE"," ",108],["T_STRING","t",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter'",108],")",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$textarea",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","current",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","xpath",109],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/textarea'",109],")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$lid",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING_CAST","(string)",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$textarea",110],"[",["T_LNUMBER","0",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",110],"]",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$edit",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$lid",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$language_browser_fallback_string",112],",",["T_WHITESPACE","\n    ",112],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","drupalPostForm",114],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$edit",114],",",["T_WHITESPACE"," ",114],["T_STRING","t",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Save translations'",114],")",")",";",["T_WHITESPACE","\n\n    ",114],["T_VARIABLE","$search",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'string'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$default_string",117],",",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'langcode'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$langcode",118],",",["T_WHITESPACE","\n    ",118],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalPostForm",120],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$search",120],",",["T_WHITESPACE"," ",120],["T_STRING","t",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter'",120],")",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$textarea",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","current",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","xpath",121],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/textarea'",121],")",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$lid",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING_CAST","(string)",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$textarea",122],"[",["T_LNUMBER","0",122],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",122],"]",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$edit",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$lid",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$language_string",124],",",["T_WHITESPACE","\n    ",124],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalPostForm",126],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$edit",126],",",["T_WHITESPACE"," ",126],["T_STRING","t",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Save translations'",126],")",")",";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Configure selected language negotiation to use zh-hans.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$edit",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'selected_langcode'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$langcode",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","drupalPostForm",130],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection\/selected'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$edit",130],",",["T_WHITESPACE"," ",130],["T_STRING","t",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",130],")",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$test",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_STRING","LanguageNegotiationSelected",132],["T_DOUBLE_COLON","::",132],["T_STRING","METHOD_ID",132],")",",",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'path'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",133],",",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","'expect'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$language_string",134],",",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_STRING","LanguageNegotiationSelected",135],["T_DOUBLE_COLON","::",135],["T_STRING","METHOD_ID",135],",",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'http_header'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$http_header_browser_fallback",136],",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'message'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'SELECTED: UI language is switched based on selected language.'",137],",",["T_WHITESPACE","\n    ",137],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","runTest",139],"(",["T_VARIABLE","$test",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ An invalid language is selected.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","config",142],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","set",142],"(",["T_CONSTANT_ENCAPSED_STRING","'selected_langcode'",142],",",["T_WHITESPACE"," ",142],["T_STRING","NULL",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","save",142],"(",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$test",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_STRING","LanguageNegotiationSelected",144],["T_DOUBLE_COLON","::",144],["T_STRING","METHOD_ID",144],")",",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'path'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",145],",",["T_WHITESPACE","\n      ",145],["T_CONSTANT_ENCAPSED_STRING","'expect'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$default_string",146],",",["T_WHITESPACE","\n      ",146],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_STRING","LanguageNegotiatorInterface",147],["T_DOUBLE_COLON","::",147],["T_STRING","METHOD_ID",147],",",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'http_header'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$http_header_browser_fallback",148],",",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'message'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'SELECTED > DEFAULT: UI language is switched based on selected language.'",149],",",["T_WHITESPACE","\n    ",149],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","runTest",151],"(",["T_VARIABLE","$test",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ No selected language is available.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","config",154],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","set",154],"(",["T_CONSTANT_ENCAPSED_STRING","'selected_langcode'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$langcode_unknown",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","save",154],"(",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$test",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_STRING","LanguageNegotiationSelected",156],["T_DOUBLE_COLON","::",156],["T_STRING","METHOD_ID",156],")",",",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'path'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",157],",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'expect'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$default_string",158],",",["T_WHITESPACE","\n      ",158],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_STRING","LanguageNegotiatorInterface",159],["T_DOUBLE_COLON","::",159],["T_STRING","METHOD_ID",159],",",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'http_header'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$http_header_browser_fallback",160],",",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'message'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'SELECTED > DEFAULT: UI language is switched based on selected language.'",161],",",["T_WHITESPACE","\n    ",161],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","runTest",163],"(",["T_VARIABLE","$test",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_VARIABLE","$tests",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n      ",165],["T_COMMENT","\/\/ Default, browser preference should have no influence.\n",166],["T_WHITESPACE","      ",167],["T_ARRAY","array",167],"(",["T_WHITESPACE","\n        ",167],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_STRING","LanguageNegotiationUrl",168],["T_DOUBLE_COLON","::",168],["T_STRING","METHOD_ID",168],",",["T_WHITESPACE"," ",168],["T_STRING","LanguageNegotiationSelected",168],["T_DOUBLE_COLON","::",168],["T_STRING","METHOD_ID",168],")",",",["T_WHITESPACE","\n        ",168],["T_CONSTANT_ENCAPSED_STRING","'path'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",169],",",["T_WHITESPACE","\n        ",169],["T_CONSTANT_ENCAPSED_STRING","'expect'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$default_string",170],",",["T_WHITESPACE","\n        ",170],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_STRING","LanguageNegotiatorInterface",171],["T_DOUBLE_COLON","::",171],["T_STRING","METHOD_ID",171],",",["T_WHITESPACE","\n        ",171],["T_CONSTANT_ENCAPSED_STRING","'http_header'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$http_header_browser_fallback",172],",",["T_WHITESPACE","\n        ",172],["T_CONSTANT_ENCAPSED_STRING","'message'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'URL (PATH) > DEFAULT: no language prefix, UI language is default and the browser language preference setting is not used.'",173],",",["T_WHITESPACE","\n      ",173],")",",",["T_WHITESPACE","\n      ",174],["T_COMMENT","\/\/ Language prefix.\n",175],["T_WHITESPACE","      ",176],["T_ARRAY","array",176],"(",["T_WHITESPACE","\n        ",176],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",["T_STRING","LanguageNegotiationUrl",177],["T_DOUBLE_COLON","::",177],["T_STRING","METHOD_ID",177],",",["T_WHITESPACE"," ",177],["T_STRING","LanguageNegotiationSelected",177],["T_DOUBLE_COLON","::",177],["T_STRING","METHOD_ID",177],")",",",["T_WHITESPACE","\n        ",177],["T_CONSTANT_ENCAPSED_STRING","'path'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],"\"",["T_VARIABLE","$langcode",178],["T_ENCAPSED_AND_WHITESPACE","\/admin\/config",178],"\"",",",["T_WHITESPACE","\n        ",178],["T_CONSTANT_ENCAPSED_STRING","'expect'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$language_string",179],",",["T_WHITESPACE","\n        ",179],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_STRING","LanguageNegotiationUrl",180],["T_DOUBLE_COLON","::",180],["T_STRING","METHOD_ID",180],",",["T_WHITESPACE","\n        ",180],["T_CONSTANT_ENCAPSED_STRING","'http_header'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$http_header_browser_fallback",181],",",["T_WHITESPACE","\n        ",181],["T_CONSTANT_ENCAPSED_STRING","'message'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'URL (PATH) > DEFAULT: with language prefix, UI language is switched based on path prefix'",182],",",["T_WHITESPACE","\n      ",182],")",",",["T_WHITESPACE","\n      ",183],["T_COMMENT","\/\/ Default, go by browser preference.\n",184],["T_WHITESPACE","      ",185],["T_ARRAY","array",185],"(",["T_WHITESPACE","\n        ",185],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_STRING","LanguageNegotiationUrl",186],["T_DOUBLE_COLON","::",186],["T_STRING","METHOD_ID",186],",",["T_WHITESPACE"," ",186],["T_STRING","LanguageNegotiationBrowser",186],["T_DOUBLE_COLON","::",186],["T_STRING","METHOD_ID",186],")",",",["T_WHITESPACE","\n        ",186],["T_CONSTANT_ENCAPSED_STRING","'path'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",187],",",["T_WHITESPACE","\n        ",187],["T_CONSTANT_ENCAPSED_STRING","'expect'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$language_browser_fallback_string",188],",",["T_WHITESPACE","\n        ",188],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_STRING","LanguageNegotiationBrowser",189],["T_DOUBLE_COLON","::",189],["T_STRING","METHOD_ID",189],",",["T_WHITESPACE","\n        ",189],["T_CONSTANT_ENCAPSED_STRING","'http_header'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$http_header_browser_fallback",190],",",["T_WHITESPACE","\n        ",190],["T_CONSTANT_ENCAPSED_STRING","'message'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'URL (PATH) > BROWSER: no language prefix, UI language is determined by browser language preference'",191],",",["T_WHITESPACE","\n      ",191],")",",",["T_WHITESPACE","\n      ",192],["T_COMMENT","\/\/ Prefix, switch to the language.\n",193],["T_WHITESPACE","      ",194],["T_ARRAY","array",194],"(",["T_WHITESPACE","\n        ",194],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",["T_STRING","LanguageNegotiationUrl",195],["T_DOUBLE_COLON","::",195],["T_STRING","METHOD_ID",195],",",["T_WHITESPACE"," ",195],["T_STRING","LanguageNegotiationBrowser",195],["T_DOUBLE_COLON","::",195],["T_STRING","METHOD_ID",195],")",",",["T_WHITESPACE","\n        ",195],["T_CONSTANT_ENCAPSED_STRING","'path'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],"\"",["T_VARIABLE","$langcode",196],["T_ENCAPSED_AND_WHITESPACE","\/admin\/config",196],"\"",",",["T_WHITESPACE","\n        ",196],["T_CONSTANT_ENCAPSED_STRING","'expect'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$language_string",197],",",["T_WHITESPACE","\n        ",197],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_STRING","LanguageNegotiationUrl",198],["T_DOUBLE_COLON","::",198],["T_STRING","METHOD_ID",198],",",["T_WHITESPACE","\n        ",198],["T_CONSTANT_ENCAPSED_STRING","'http_header'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$http_header_browser_fallback",199],",",["T_WHITESPACE","\n        ",199],["T_CONSTANT_ENCAPSED_STRING","'message'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'URL (PATH) > BROWSER: with language prefix, UI language is based on path prefix'",200],",",["T_WHITESPACE","\n      ",200],")",",",["T_WHITESPACE","\n      ",201],["T_COMMENT","\/\/ Default, browser language preference is not one of site's lang.\n",202],["T_WHITESPACE","      ",203],["T_ARRAY","array",203],"(",["T_WHITESPACE","\n        ",203],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_ARRAY","array",204],"(",["T_STRING","LanguageNegotiationUrl",204],["T_DOUBLE_COLON","::",204],["T_STRING","METHOD_ID",204],",",["T_WHITESPACE"," ",204],["T_STRING","LanguageNegotiationBrowser",204],["T_DOUBLE_COLON","::",204],["T_STRING","METHOD_ID",204],",",["T_WHITESPACE"," ",204],["T_STRING","LanguageNegotiationSelected",204],["T_DOUBLE_COLON","::",204],["T_STRING","METHOD_ID",204],")",",",["T_WHITESPACE","\n        ",204],["T_CONSTANT_ENCAPSED_STRING","'path'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",205],",",["T_WHITESPACE","\n        ",205],["T_CONSTANT_ENCAPSED_STRING","'expect'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$default_string",206],",",["T_WHITESPACE","\n        ",206],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_STRING","LanguageNegotiatorInterface",207],["T_DOUBLE_COLON","::",207],["T_STRING","METHOD_ID",207],",",["T_WHITESPACE","\n        ",207],["T_CONSTANT_ENCAPSED_STRING","'http_header'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$http_header_blah",208],",",["T_WHITESPACE","\n        ",208],["T_CONSTANT_ENCAPSED_STRING","'message'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'URL (PATH) > BROWSER > DEFAULT: no language prefix and browser language preference set to unknown language should use default language'",209],",",["T_WHITESPACE","\n      ",209],")",",",["T_WHITESPACE","\n    ",210],")",";",["T_WHITESPACE","\n\n    ",211],["T_FOREACH","foreach",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$tests",213],["T_WHITESPACE"," ",213],["T_AS","as",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$test",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n      ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","runTest",214],"(",["T_VARIABLE","$test",214],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_COMMENT","\/\/ Unknown language prefix should return 404.\n",217],["T_WHITESPACE","    ",218],["T_VARIABLE","$definitions",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Drupal",218],["T_DOUBLE_COLON","::",218],["T_STRING","languageManager",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getNegotiator",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getNegotiationMethods",218],"(",")",";",["T_WHITESPACE","\n    ",218],["T_COMMENT","\/\/ Enable only methods, which are either not limited to a specific language\n",219],["T_WHITESPACE","    ",220],["T_COMMENT","\/\/ type or are supporting the interface language type.\n",220],["T_WHITESPACE","    ",221],["T_VARIABLE","$language_interface_method_definitions",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","array_filter",221],"(",["T_VARIABLE","$definitions",221],",",["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$method_definition",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n      ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],"!",["T_ISSET","isset",222],"(",["T_VARIABLE","$method_definition",222],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",222],"]",")",["T_WHITESPACE"," ",222],["T_BOOLEAN_OR","||",222],["T_WHITESPACE"," ",222],"(",["T_ISSET","isset",222],"(",["T_VARIABLE","$method_definition",222],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",222],"]",")",["T_WHITESPACE"," ",222],["T_BOOLEAN_AND","&&",222],["T_WHITESPACE"," ",222],["T_STRING","in_array",222],"(",["T_STRING","LanguageInterface",222],["T_DOUBLE_COLON","::",222],["T_STRING","TYPE_INTERFACE",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$method_definition",222],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",222],"]",")",")",";",["T_WHITESPACE","\n    ",222],"}",")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","config",224],"(",["T_CONSTANT_ENCAPSED_STRING","'language.types'",224],")",["T_WHITESPACE","\n      ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","set",225],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation.'",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_STRING","LanguageInterface",225],["T_DOUBLE_COLON","::",225],["T_STRING","TYPE_INTERFACE",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'.enabled'",225],",",["T_WHITESPACE"," ",225],["T_STRING","array_flip",225],"(",["T_STRING","array_keys",225],"(",["T_VARIABLE","$language_interface_method_definitions",225],")",")",")",["T_WHITESPACE","\n      ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","save",226],"(",")",";",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","drupalGet",227],"(","\"",["T_VARIABLE","$langcode_unknown",227],["T_ENCAPSED_AND_WHITESPACE","\/admin\/config",227],"\"",",",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",")",",",["T_WHITESPACE"," ",227],["T_VARIABLE","$http_header_browser_fallback",227],")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertResponse",228],"(",["T_LNUMBER","404",228],",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","\"Unknown language path prefix should return 404\"",228],")",";",["T_WHITESPACE","\n\n    ",228],["T_COMMENT","\/\/ Set preferred langcode for user to NULL.\n",230],["T_WHITESPACE","    ",231],["T_VARIABLE","$account",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","loggedInUser",231],";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$account",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","preferred_langcode",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","NULL",232],";",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$account",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","save",233],"(",")",";",["T_WHITESPACE","\n\n    ",233],["T_VARIABLE","$test",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",["T_WHITESPACE","\n      ",235],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",["T_STRING","LanguageNegotiationUser",236],["T_DOUBLE_COLON","::",236],["T_STRING","METHOD_ID",236],",",["T_WHITESPACE"," ",236],["T_STRING","LanguageNegotiationSelected",236],["T_DOUBLE_COLON","::",236],["T_STRING","METHOD_ID",236],")",",",["T_WHITESPACE","\n      ",236],["T_CONSTANT_ENCAPSED_STRING","'path'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",237],",",["T_WHITESPACE","\n      ",237],["T_CONSTANT_ENCAPSED_STRING","'expect'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$default_string",238],",",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_STRING","LanguageNegotiatorInterface",239],["T_DOUBLE_COLON","::",239],["T_STRING","METHOD_ID",239],",",["T_WHITESPACE","\n      ",239],["T_CONSTANT_ENCAPSED_STRING","'http_header'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",")",",",["T_WHITESPACE","\n      ",240],["T_CONSTANT_ENCAPSED_STRING","'message'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'USER > DEFAULT: no preferred user language setting, the UI language is default'",241],",",["T_WHITESPACE","\n    ",241],")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","runTest",243],"(",["T_VARIABLE","$test",243],")",";",["T_WHITESPACE","\n\n    ",243],["T_COMMENT","\/\/ Set preferred langcode for user to unknown language.\n",245],["T_WHITESPACE","    ",246],["T_VARIABLE","$account",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","loggedInUser",246],";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$account",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","preferred_langcode",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$langcode_unknown",247],";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$account",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","save",248],"(",")",";",["T_WHITESPACE","\n\n    ",248],["T_VARIABLE","$test",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",["T_WHITESPACE","\n      ",250],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",["T_STRING","LanguageNegotiationUser",251],["T_DOUBLE_COLON","::",251],["T_STRING","METHOD_ID",251],",",["T_WHITESPACE"," ",251],["T_STRING","LanguageNegotiationSelected",251],["T_DOUBLE_COLON","::",251],["T_STRING","METHOD_ID",251],")",",",["T_WHITESPACE","\n      ",251],["T_CONSTANT_ENCAPSED_STRING","'path'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",252],",",["T_WHITESPACE","\n      ",252],["T_CONSTANT_ENCAPSED_STRING","'expect'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$default_string",253],",",["T_WHITESPACE","\n      ",253],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_STRING","LanguageNegotiatorInterface",254],["T_DOUBLE_COLON","::",254],["T_STRING","METHOD_ID",254],",",["T_WHITESPACE","\n      ",254],["T_CONSTANT_ENCAPSED_STRING","'http_header'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",")",",",["T_WHITESPACE","\n      ",255],["T_CONSTANT_ENCAPSED_STRING","'message'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'USER > DEFAULT: invalid preferred user language setting, the UI language is default'",256],",",["T_WHITESPACE","\n    ",256],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","runTest",258],"(",["T_VARIABLE","$test",258],")",";",["T_WHITESPACE","\n\n    ",258],["T_COMMENT","\/\/ Set preferred langcode for user to non default.\n",260],["T_WHITESPACE","    ",261],["T_VARIABLE","$account",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","preferred_langcode",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$langcode",261],";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$account",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","save",262],"(",")",";",["T_WHITESPACE","\n\n    ",262],["T_VARIABLE","$test",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_ARRAY","array",264],"(",["T_WHITESPACE","\n      ",264],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",["T_STRING","LanguageNegotiationUser",265],["T_DOUBLE_COLON","::",265],["T_STRING","METHOD_ID",265],",",["T_WHITESPACE"," ",265],["T_STRING","LanguageNegotiationSelected",265],["T_DOUBLE_COLON","::",265],["T_STRING","METHOD_ID",265],")",",",["T_WHITESPACE","\n      ",265],["T_CONSTANT_ENCAPSED_STRING","'path'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",266],",",["T_WHITESPACE","\n      ",266],["T_CONSTANT_ENCAPSED_STRING","'expect'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$language_string",267],",",["T_WHITESPACE","\n      ",267],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_STRING","LanguageNegotiationUser",268],["T_DOUBLE_COLON","::",268],["T_STRING","METHOD_ID",268],",",["T_WHITESPACE","\n      ",268],["T_CONSTANT_ENCAPSED_STRING","'http_header'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",")",",",["T_WHITESPACE","\n      ",269],["T_CONSTANT_ENCAPSED_STRING","'message'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'USER > DEFAULT: defined preferred user language setting, the UI language is based on user setting'",270],",",["T_WHITESPACE","\n    ",270],")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","runTest",272],"(",["T_VARIABLE","$test",272],")",";",["T_WHITESPACE","\n\n    ",272],["T_COMMENT","\/\/ Set preferred admin langcode for user to NULL.\n",274],["T_WHITESPACE","    ",275],["T_VARIABLE","$account",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","preferred_admin_langcode",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING","NULL",275],";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$account",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","save",276],"(",")",";",["T_WHITESPACE","\n\n    ",276],["T_VARIABLE","$test",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",["T_WHITESPACE","\n      ",278],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_STRING","LanguageNegotiationUserAdmin",279],["T_DOUBLE_COLON","::",279],["T_STRING","METHOD_ID",279],",",["T_WHITESPACE"," ",279],["T_STRING","LanguageNegotiationSelected",279],["T_DOUBLE_COLON","::",279],["T_STRING","METHOD_ID",279],")",",",["T_WHITESPACE","\n      ",279],["T_CONSTANT_ENCAPSED_STRING","'path'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",280],",",["T_WHITESPACE","\n      ",280],["T_CONSTANT_ENCAPSED_STRING","'expect'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$default_string",281],",",["T_WHITESPACE","\n      ",281],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_STRING","LanguageNegotiatorInterface",282],["T_DOUBLE_COLON","::",282],["T_STRING","METHOD_ID",282],",",["T_WHITESPACE","\n      ",282],["T_CONSTANT_ENCAPSED_STRING","'http_header'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_ARRAY","array",283],"(",")",",",["T_WHITESPACE","\n      ",283],["T_CONSTANT_ENCAPSED_STRING","'message'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'USER ADMIN > DEFAULT: no preferred user admin language setting, the UI language is default'",284],",",["T_WHITESPACE","\n    ",284],")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","runTest",286],"(",["T_VARIABLE","$test",286],")",";",["T_WHITESPACE","\n\n    ",286],["T_COMMENT","\/\/ Set preferred admin langcode for user to unknown language.\n",288],["T_WHITESPACE","    ",289],["T_VARIABLE","$account",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","preferred_admin_langcode",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$langcode_unknown",289],";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$account",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","save",290],"(",")",";",["T_WHITESPACE","\n\n    ",290],["T_VARIABLE","$test",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",["T_WHITESPACE","\n      ",292],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_ARRAY","array",293],"(",["T_STRING","LanguageNegotiationUserAdmin",293],["T_DOUBLE_COLON","::",293],["T_STRING","METHOD_ID",293],",",["T_WHITESPACE"," ",293],["T_STRING","LanguageNegotiationSelected",293],["T_DOUBLE_COLON","::",293],["T_STRING","METHOD_ID",293],")",",",["T_WHITESPACE","\n      ",293],["T_CONSTANT_ENCAPSED_STRING","'path'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",294],",",["T_WHITESPACE","\n      ",294],["T_CONSTANT_ENCAPSED_STRING","'expect'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$default_string",295],",",["T_WHITESPACE","\n      ",295],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_STRING","LanguageNegotiatorInterface",296],["T_DOUBLE_COLON","::",296],["T_STRING","METHOD_ID",296],",",["T_WHITESPACE","\n      ",296],["T_CONSTANT_ENCAPSED_STRING","'http_header'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_ARRAY","array",297],"(",")",",",["T_WHITESPACE","\n      ",297],["T_CONSTANT_ENCAPSED_STRING","'message'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'USER ADMIN > DEFAULT: invalid preferred user admin language setting, the UI language is default'",298],",",["T_WHITESPACE","\n    ",298],")",";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","runTest",300],"(",["T_VARIABLE","$test",300],")",";",["T_WHITESPACE","\n\n    ",300],["T_COMMENT","\/\/ Set preferred admin langcode for user to non default.\n",302],["T_WHITESPACE","    ",303],["T_VARIABLE","$account",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","preferred_admin_langcode",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$langcode",303],";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$account",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","save",304],"(",")",";",["T_WHITESPACE","\n\n    ",304],["T_VARIABLE","$test",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_ARRAY","array",306],"(",["T_WHITESPACE","\n      ",306],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_ARRAY","array",307],"(",["T_STRING","LanguageNegotiationUserAdmin",307],["T_DOUBLE_COLON","::",307],["T_STRING","METHOD_ID",307],",",["T_WHITESPACE"," ",307],["T_STRING","LanguageNegotiationSelected",307],["T_DOUBLE_COLON","::",307],["T_STRING","METHOD_ID",307],")",",",["T_WHITESPACE","\n      ",307],["T_CONSTANT_ENCAPSED_STRING","'path'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",308],",",["T_WHITESPACE","\n      ",308],["T_CONSTANT_ENCAPSED_STRING","'expect'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$language_string",309],",",["T_WHITESPACE","\n      ",309],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_STRING","LanguageNegotiationUserAdmin",310],["T_DOUBLE_COLON","::",310],["T_STRING","METHOD_ID",310],",",["T_WHITESPACE","\n      ",310],["T_CONSTANT_ENCAPSED_STRING","'http_header'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_ARRAY","array",311],"(",")",",",["T_WHITESPACE","\n      ",311],["T_CONSTANT_ENCAPSED_STRING","'message'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'USER ADMIN > DEFAULT: defined preferred user admin language setting, the UI language is based on user setting'",312],",",["T_WHITESPACE","\n    ",312],")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","runTest",314],"(",["T_VARIABLE","$test",314],")",";",["T_WHITESPACE","\n\n    ",314],["T_COMMENT","\/\/ Go by session preference.\n",316],["T_WHITESPACE","    ",317],["T_VARIABLE","$language_negotiation_session_param",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","randomMachineName",317],"(",")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$edit",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",["T_CONSTANT_ENCAPSED_STRING","'language_negotiation_session_param'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$language_negotiation_session_param",318],")",";",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","drupalPostForm",319],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection\/session'",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$edit",319],",",["T_WHITESPACE"," ",319],["T_STRING","t",319],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",319],")",")",";",["T_WHITESPACE","\n    ",319],["T_VARIABLE","$tests",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_WHITESPACE","\n      ",320],["T_ARRAY","array",321],"(",["T_WHITESPACE","\n        ",321],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",["T_STRING","LanguageNegotiationSession",322],["T_DOUBLE_COLON","::",322],["T_STRING","METHOD_ID",322],")",",",["T_WHITESPACE","\n        ",322],["T_CONSTANT_ENCAPSED_STRING","'path'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","\"admin\/config\"",323],",",["T_WHITESPACE","\n        ",323],["T_CONSTANT_ENCAPSED_STRING","'expect'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$default_string",324],",",["T_WHITESPACE","\n        ",324],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_STRING","LanguageNegotiatorInterface",325],["T_DOUBLE_COLON","::",325],["T_STRING","METHOD_ID",325],",",["T_WHITESPACE","\n        ",325],["T_CONSTANT_ENCAPSED_STRING","'http_header'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$http_header_browser_fallback",326],",",["T_WHITESPACE","\n        ",326],["T_CONSTANT_ENCAPSED_STRING","'message'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'SESSION > DEFAULT: no language given, the UI language is default'",327],",",["T_WHITESPACE","\n      ",327],")",",",["T_WHITESPACE","\n      ",328],["T_ARRAY","array",329],"(",["T_WHITESPACE","\n        ",329],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_ARRAY","array",330],"(",["T_STRING","LanguageNegotiationSession",330],["T_DOUBLE_COLON","::",330],["T_STRING","METHOD_ID",330],")",",",["T_WHITESPACE","\n        ",330],["T_CONSTANT_ENCAPSED_STRING","'path'",331],["T_WHITESPACE"," ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",331],",",["T_WHITESPACE","\n        ",331],["T_CONSTANT_ENCAPSED_STRING","'path_options'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],"[",["T_VARIABLE","$language_negotiation_session_param",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$langcode",332],"]","]",",",["T_WHITESPACE","\n        ",332],["T_CONSTANT_ENCAPSED_STRING","'expect'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$language_string",333],",",["T_WHITESPACE","\n        ",333],["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_STRING","LanguageNegotiationSession",334],["T_DOUBLE_COLON","::",334],["T_STRING","METHOD_ID",334],",",["T_WHITESPACE","\n        ",334],["T_CONSTANT_ENCAPSED_STRING","'http_header'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$http_header_browser_fallback",335],",",["T_WHITESPACE","\n        ",335],["T_CONSTANT_ENCAPSED_STRING","'message'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'SESSION > DEFAULT: language given, UI language is determined by session language preference'",336],",",["T_WHITESPACE","\n      ",336],")",",",["T_WHITESPACE","\n    ",337],")",";",["T_WHITESPACE","\n    ",338],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$tests",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$test",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n      ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","runTest",340],"(",["T_VARIABLE","$test",340],")",";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n  ",341],"}",["T_WHITESPACE","\n\n  ",342],["T_PROTECTED","protected",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","runTest",344],"(",["T_VARIABLE","$test",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$test",345],["T_WHITESPACE"," ",345],["T_PLUS_EQUAL","+=",345],["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",["T_CONSTANT_ENCAPSED_STRING","'path_options'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],"[","]",")",";",["T_WHITESPACE","\n    ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(","!",["T_EMPTY","empty",346],"(",["T_VARIABLE","$test",346],"[",["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",346],"]",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n      ",346],["T_VARIABLE","$method_weights",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","array_flip",347],"(",["T_VARIABLE","$test",347],"[",["T_CONSTANT_ENCAPSED_STRING","'language_negotiation'",347],"]",")",";",["T_WHITESPACE","\n      ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","container",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","get",348],"(",["T_CONSTANT_ENCAPSED_STRING","'language_negotiator'",348],")",["T_OBJECT_OPERATOR","->",348],["T_STRING","saveConfiguration",348],"(",["T_STRING","LanguageInterface",348],["T_DOUBLE_COLON","::",348],["T_STRING","TYPE_INTERFACE",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$method_weights",348],")",";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n    ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(","!",["T_EMPTY","empty",350],"(",["T_VARIABLE","$test",350],"[",["T_CONSTANT_ENCAPSED_STRING","'language_negotiation_url_part'",350],"]",")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n      ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","config",351],"(",["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",351],")",["T_WHITESPACE","\n        ",351],["T_OBJECT_OPERATOR","->",352],["T_STRING","set",352],"(",["T_CONSTANT_ENCAPSED_STRING","'url.source'",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$test",352],"[",["T_CONSTANT_ENCAPSED_STRING","'language_negotiation_url_part'",352],"]",")",["T_WHITESPACE","\n        ",352],["T_OBJECT_OPERATOR","->",353],["T_STRING","save",353],"(",")",";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n    ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(","!",["T_EMPTY","empty",355],"(",["T_VARIABLE","$test",355],"[",["T_CONSTANT_ENCAPSED_STRING","'language_test_domain'",355],"]",")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n      ",355],["T_NS_SEPARATOR","\\",356],["T_STRING","Drupal",356],["T_DOUBLE_COLON","::",356],["T_STRING","state",356],"(",")",["T_OBJECT_OPERATOR","->",356],["T_STRING","set",356],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.domain'",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$test",356],"[",["T_CONSTANT_ENCAPSED_STRING","'language_test_domain'",356],"]",")",";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","container",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","get",358],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",358],")",["T_OBJECT_OPERATOR","->",358],["T_STRING","reset",358],"(",")",";",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","drupalGet",359],"(",["T_VARIABLE","$test",359],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",359],"]",",",["T_WHITESPACE"," ",359],["T_VARIABLE","$test",359],"[",["T_CONSTANT_ENCAPSED_STRING","'path_options'",359],"]",",",["T_WHITESPACE"," ",359],["T_VARIABLE","$test",359],"[",["T_CONSTANT_ENCAPSED_STRING","'http_header'",359],"]",")",";",["T_WHITESPACE","\n    ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","assertText",360],"(",["T_VARIABLE","$test",360],"[",["T_CONSTANT_ENCAPSED_STRING","'expect'",360],"]",",",["T_WHITESPACE"," ",360],["T_VARIABLE","$test",360],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",360],"]",")",";",["T_WHITESPACE","\n    ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","assertText",361],"(",["T_STRING","t",361],"(",["T_CONSTANT_ENCAPSED_STRING","'Language negotiation method: @name'",361],",",["T_WHITESPACE"," ",361],["T_ARRAY","array",361],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$test",361],"[",["T_CONSTANT_ENCAPSED_STRING","'expected_method_id'",361],"]",")",")",")",";",["T_WHITESPACE","\n  ",361],"}",["T_WHITESPACE","\n\n  ",362],["T_DOC_COMMENT","\/**\n   * Test URL language detection when the requested URL has no language.\n   *\/",364],["T_WHITESPACE","\n  ",366],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","testUrlLanguageFallback",367],"(",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n    ",367],["T_COMMENT","\/\/ Add the Italian language.\n",368],["T_WHITESPACE","    ",369],["T_VARIABLE","$langcode_browser_fallback",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'it'",369],";",["T_WHITESPACE","\n    ",369],["T_STRING","ConfigurableLanguage",370],["T_DOUBLE_COLON","::",370],["T_STRING","createFromLangcode",370],"(",["T_VARIABLE","$langcode_browser_fallback",370],")",["T_OBJECT_OPERATOR","->",370],["T_STRING","save",370],"(",")",";",["T_WHITESPACE","\n    ",370],["T_VARIABLE","$languages",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","container",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","get",371],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",371],")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getLanguages",371],"(",")",";",["T_WHITESPACE","\n\n    ",371],["T_COMMENT","\/\/ Enable the path prefix for the default language: this way any unprefixed\n",373],["T_WHITESPACE","    ",374],["T_COMMENT","\/\/ URL must have a valid fallback value.\n",374],["T_WHITESPACE","    ",375],["T_VARIABLE","$edit",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_ARRAY","array",375],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix[en]'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'en'",375],")",";",["T_WHITESPACE","\n    ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","drupalPostForm",376],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection\/url'",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$edit",376],",",["T_WHITESPACE"," ",376],["T_STRING","t",376],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",376],")",")",";",["T_WHITESPACE","\n\n    ",376],["T_COMMENT","\/\/ Enable browser and URL language detection.\n",378],["T_WHITESPACE","    ",379],["T_VARIABLE","$edit",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_ARRAY","array",379],"(",["T_WHITESPACE","\n      ",379],["T_CONSTANT_ENCAPSED_STRING","'language_interface[enabled][language-browser]'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_STRING","TRUE",380],",",["T_WHITESPACE","\n      ",380],["T_CONSTANT_ENCAPSED_STRING","'language_interface[enabled][language-url]'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_STRING","TRUE",381],",",["T_WHITESPACE","\n      ",381],["T_CONSTANT_ENCAPSED_STRING","'language_interface[weight][language-browser]'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],"-",["T_LNUMBER","8",382],",",["T_WHITESPACE","\n      ",382],["T_CONSTANT_ENCAPSED_STRING","'language_interface[weight][language-url]'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],"-",["T_LNUMBER","10",383],",",["T_WHITESPACE","\n    ",383],")",";",["T_WHITESPACE","\n    ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","drupalPostForm",385],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$edit",385],",",["T_WHITESPACE"," ",385],["T_STRING","t",385],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",385],")",")",";",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","drupalGet",386],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection'",386],")",";",["T_WHITESPACE","\n\n    ",386],["T_COMMENT","\/\/ Enable the language switcher block.\n",388],["T_WHITESPACE","    ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","drupalPlaceBlock",389],"(",["T_CONSTANT_ENCAPSED_STRING","'language_block:'",389],["T_WHITESPACE"," ",389],".",["T_WHITESPACE"," ",389],["T_STRING","LanguageInterface",389],["T_DOUBLE_COLON","::",389],["T_STRING","TYPE_INTERFACE",389],",",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'test_language_block'",389],")",")",";",["T_WHITESPACE","\n\n    ",389],["T_COMMENT","\/\/ Log out, because for anonymous users, the \"active\" class is set by PHP\n",391],["T_WHITESPACE","    ",392],["T_COMMENT","\/\/ (which means we can easily test it here), whereas for authenticated users\n",392],["T_WHITESPACE","    ",393],["T_COMMENT","\/\/ it is set by JavaScript.\n",393],["T_WHITESPACE","    ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","drupalLogout",394],"(",")",";",["T_WHITESPACE","\n\n    ",394],["T_COMMENT","\/\/ Place a site branding block in the header region.\n",396],["T_WHITESPACE","    ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","drupalPlaceBlock",397],"(",["T_CONSTANT_ENCAPSED_STRING","'system_branding_block'",397],",",["T_WHITESPACE"," ",397],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'header'",397],"]",")",";",["T_WHITESPACE","\n\n    ",397],["T_COMMENT","\/\/ Access the front page without specifying any valid URL language prefix\n",399],["T_WHITESPACE","    ",400],["T_COMMENT","\/\/ and having as browser language preference a non-default language.\n",400],["T_WHITESPACE","    ",401],["T_VARIABLE","$http_header",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_ARRAY","array",401],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Accept-Language: ",401],["T_VARIABLE","$langcode_browser_fallback",401],["T_ENCAPSED_AND_WHITESPACE",";q=1",401],"\"",")",";",["T_WHITESPACE","\n    ",401],["T_VARIABLE","$language",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_NEW","new",402],["T_WHITESPACE"," ",402],["T_STRING","Language",402],"(",["T_ARRAY","array",402],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","''",402],")",")",";",["T_WHITESPACE","\n    ",402],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","drupalGet",403],"(",["T_CONSTANT_ENCAPSED_STRING","''",403],",",["T_WHITESPACE"," ",403],["T_ARRAY","array",403],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$language",403],")",",",["T_WHITESPACE"," ",403],["T_VARIABLE","$http_header",403],")",";",["T_WHITESPACE","\n\n    ",403],["T_COMMENT","\/\/ Check that the language switcher active link matches the given browser\n",405],["T_WHITESPACE","    ",406],["T_COMMENT","\/\/ language.\n",406],["T_WHITESPACE","    ",407],["T_VARIABLE","$args",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_ARRAY","array",407],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'block-test-language-block'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","':url'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Drupal",407],["T_DOUBLE_COLON","::",407],["T_STRING","url",407],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",407],")",["T_WHITESPACE"," ",407],".",["T_WHITESPACE"," ",407],["T_VARIABLE","$langcode_browser_fallback",407],")",";",["T_WHITESPACE","\n    ",407],["T_VARIABLE","$fields",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","xpath",408],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@id=:id]\/\/a[@class=\"language-link is-active\" and starts-with(@href, :url)]'",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$args",408],")",";",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertTrue",409],"(",["T_VARIABLE","$fields",409],"[",["T_LNUMBER","0",409],"]",["T_WHITESPACE"," ",409],["T_IS_EQUAL","==",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$languages",409],"[",["T_VARIABLE","$langcode_browser_fallback",409],"]",["T_OBJECT_OPERATOR","->",409],["T_STRING","getName",409],"(",")",",",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'The browser language is the URL active language'",409],")",";",["T_WHITESPACE","\n\n    ",409],["T_COMMENT","\/\/ Check that URLs are rewritten using the given browser language.\n",411],["T_WHITESPACE","    ",412],["T_VARIABLE","$fields",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","xpath",412],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"site-name\"]\/a[@rel=\"home\" and @href=:url]'",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$args",412],")",";",["T_WHITESPACE","\n    ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertTrue",413],"(",["T_VARIABLE","$fields",413],"[",["T_LNUMBER","0",413],"]",["T_WHITESPACE"," ",413],["T_IS_EQUAL","==",413],["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'URLs are rewritten using the browser language.'",413],")",";",["T_WHITESPACE","\n  ",413],"}",["T_WHITESPACE","\n\n  ",414],["T_DOC_COMMENT","\/**\n   * Tests URL handling when separate domains are used for multiple languages.\n   *\/",416],["T_WHITESPACE","\n  ",418],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","testLanguageDomain",419],"(",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n    ",419],["T_GLOBAL","global",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$base_url",420],";",["T_WHITESPACE","\n\n    ",420],["T_COMMENT","\/\/ Get the current host URI we're running on.\n",422],["T_WHITESPACE","    ",423],["T_VARIABLE","$base_url_host",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","parse_url",423],"(",["T_VARIABLE","$base_url",423],",",["T_WHITESPACE"," ",423],["T_STRING","PHP_URL_HOST",423],")",";",["T_WHITESPACE","\n\n    ",423],["T_COMMENT","\/\/ Add the Italian language.\n",425],["T_WHITESPACE","    ",426],["T_STRING","ConfigurableLanguage",426],["T_DOUBLE_COLON","::",426],["T_STRING","createFromLangcode",426],"(",["T_CONSTANT_ENCAPSED_STRING","'it'",426],")",["T_OBJECT_OPERATOR","->",426],["T_STRING","save",426],"(",")",";",["T_WHITESPACE","\n\n    ",426],["T_VARIABLE","$languages",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","container",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","get",428],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",428],")",["T_OBJECT_OPERATOR","->",428],["T_STRING","getLanguages",428],"(",")",";",["T_WHITESPACE","\n\n    ",428],["T_COMMENT","\/\/ Enable browser and URL language detection.\n",430],["T_WHITESPACE","    ",431],["T_VARIABLE","$edit",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],"(",["T_WHITESPACE","\n      ",431],["T_CONSTANT_ENCAPSED_STRING","'language_interface[enabled][language-url]'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_STRING","TRUE",432],",",["T_WHITESPACE","\n      ",432],["T_CONSTANT_ENCAPSED_STRING","'language_interface[weight][language-url]'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],"-",["T_LNUMBER","10",433],",",["T_WHITESPACE","\n    ",433],")",";",["T_WHITESPACE","\n    ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","drupalPostForm",435],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection'",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$edit",435],",",["T_WHITESPACE"," ",435],["T_STRING","t",435],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",435],")",")",";",["T_WHITESPACE","\n\n    ",435],["T_COMMENT","\/\/ Do not allow blank domain.\n",437],["T_WHITESPACE","    ",438],["T_VARIABLE","$edit",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_ARRAY","array",438],"(",["T_WHITESPACE","\n      ",438],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation_url_part'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_STRING","LanguageNegotiationUrl",439],["T_DOUBLE_COLON","::",439],["T_STRING","CONFIG_DOMAIN",439],",",["T_WHITESPACE","\n      ",439],["T_CONSTANT_ENCAPSED_STRING","'domain[en]'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","''",440],",",["T_WHITESPACE","\n    ",440],")",";",["T_WHITESPACE","\n    ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","drupalPostForm",442],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection\/url'",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$edit",442],",",["T_WHITESPACE"," ",442],["T_STRING","t",442],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",442],")",")",";",["T_WHITESPACE","\n    ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","assertText",443],"(",["T_CONSTANT_ENCAPSED_STRING","'The domain may not be left blank for English'",443],",",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'The form does not allow blank domains.'",443],")",";",["T_WHITESPACE","\n    ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","rebuildContainer",444],"(",")",";",["T_WHITESPACE","\n\n    ",444],["T_COMMENT","\/\/ Change the domain for the Italian language.\n",446],["T_WHITESPACE","    ",447],["T_VARIABLE","$edit",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_ARRAY","array",447],"(",["T_WHITESPACE","\n      ",447],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation_url_part'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_STRING","LanguageNegotiationUrl",448],["T_DOUBLE_COLON","::",448],["T_STRING","CONFIG_DOMAIN",448],",",["T_WHITESPACE","\n      ",448],["T_CONSTANT_ENCAPSED_STRING","'domain[en]'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$base_url_host",449],",",["T_WHITESPACE","\n      ",449],["T_CONSTANT_ENCAPSED_STRING","'domain[it]'",450],["T_WHITESPACE"," ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'it.example.com'",450],",",["T_WHITESPACE","\n    ",450],")",";",["T_WHITESPACE","\n    ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","drupalPostForm",452],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection\/url'",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$edit",452],",",["T_WHITESPACE"," ",452],["T_STRING","t",452],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",452],")",")",";",["T_WHITESPACE","\n    ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","assertText",453],"(",["T_CONSTANT_ENCAPSED_STRING","'The configuration options have been saved'",453],",",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'Domain configuration is saved.'",453],")",";",["T_WHITESPACE","\n    ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","rebuildContainer",454],"(",")",";",["T_WHITESPACE","\n\n    ",454],["T_COMMENT","\/\/ Try to use an invalid domain.\n",456],["T_WHITESPACE","    ",457],["T_VARIABLE","$edit",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],"[",["T_WHITESPACE","\n      ",457],["T_CONSTANT_ENCAPSED_STRING","'language_negotiation_url_part'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_STRING","LanguageNegotiationUrl",458],["T_DOUBLE_COLON","::",458],["T_STRING","CONFIG_DOMAIN",458],",",["T_WHITESPACE","\n      ",458],["T_CONSTANT_ENCAPSED_STRING","'domain[en]'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$base_url_host",459],",",["T_WHITESPACE","\n      ",459],["T_CONSTANT_ENCAPSED_STRING","'domain[it]'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'it.example.com\/'",460],",",["T_WHITESPACE","\n    ",460],"]",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","drupalPostForm",462],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection\/url'",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$edit",462],",",["T_WHITESPACE"," ",462],["T_STRING","t",462],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",462],")",")",";",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","assertRaw",463],"(",["T_STRING","t",463],"(",["T_CONSTANT_ENCAPSED_STRING","'The domain for %language may only contain the domain name, not a trailing slash, protocol and\/or port.'",463],",",["T_WHITESPACE"," ",463],"[",["T_CONSTANT_ENCAPSED_STRING","'%language'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'Italian'",463],"]",")",")",";",["T_WHITESPACE","\n\n    ",463],["T_COMMENT","\/\/ Build the link we're going to test.\n",465],["T_WHITESPACE","    ",466],["T_VARIABLE","$link",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'it.example.com'",466],["T_WHITESPACE"," ",466],".",["T_WHITESPACE"," ",466],["T_STRING","rtrim",466],"(",["T_STRING","base_path",466],"(",")",",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'\/'",466],")",["T_WHITESPACE"," ",466],".",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'\/admin'",466],";",["T_WHITESPACE","\n\n    ",466],["T_COMMENT","\/\/ Test URL in another language: http:\/\/it.example.com\/admin.\n",468],["T_WHITESPACE","    ",469],["T_COMMENT","\/\/ Base path gives problems on the testbot, so $correct_link is hard-coded.\n",469],["T_WHITESPACE","    ",470],["T_COMMENT","\/\/ @see UrlAlterFunctionalTest::assertUrlOutboundAlter (path.test).\n",470],["T_WHITESPACE","    ",471],["T_VARIABLE","$italian_url",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_STRING","Url",471],["T_DOUBLE_COLON","::",471],["T_STRING","fromRoute",471],"(",["T_CONSTANT_ENCAPSED_STRING","'system.admin'",471],",",["T_WHITESPACE"," ",471],"[","]",",",["T_WHITESPACE"," ",471],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",471],["T_WHITESPACE"," ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$languages",471],"[",["T_CONSTANT_ENCAPSED_STRING","'it'",471],"]","]",")",["T_OBJECT_OPERATOR","->",471],["T_STRING","toString",471],"(",")",";",["T_WHITESPACE","\n    ",471],["T_VARIABLE","$url_scheme",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_NS_SEPARATOR","\\",472],["T_STRING","Drupal",472],["T_DOUBLE_COLON","::",472],["T_STRING","request",472],"(",")",["T_OBJECT_OPERATOR","->",472],["T_STRING","isSecure",472],"(",")",["T_WHITESPACE"," ",472],"?",["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",472],["T_WHITESPACE"," ",472],":",["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",472],";",["T_WHITESPACE","\n    ",472],["T_VARIABLE","$correct_link",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$url_scheme",473],["T_WHITESPACE"," ",473],".",["T_WHITESPACE"," ",473],["T_VARIABLE","$link",473],";",["T_WHITESPACE","\n    ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","assertEqual",474],"(",["T_VARIABLE","$italian_url",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$correct_link",474],",",["T_WHITESPACE"," ",474],["T_STRING","format_string",474],"(",["T_CONSTANT_ENCAPSED_STRING","'The right URL (@url) in accordance with the chosen language'",474],",",["T_WHITESPACE"," ",474],["T_ARRAY","array",474],"(",["T_CONSTANT_ENCAPSED_STRING","'@url'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$italian_url",474],")",")",")",";",["T_WHITESPACE","\n\n    ",474],["T_COMMENT","\/\/ Test HTTPS via options.\n",476],["T_WHITESPACE","    ",477],["T_VARIABLE","$italian_url",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_STRING","Url",477],["T_DOUBLE_COLON","::",477],["T_STRING","fromRoute",477],"(",["T_CONSTANT_ENCAPSED_STRING","'system.admin'",477],",",["T_WHITESPACE"," ",477],"[","]",",",["T_WHITESPACE"," ",477],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",477],["T_WHITESPACE"," ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_STRING","TRUE",477],",",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'language'",477],["T_WHITESPACE"," ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$languages",477],"[",["T_CONSTANT_ENCAPSED_STRING","'it'",477],"]","]",")",["T_OBJECT_OPERATOR","->",477],["T_STRING","toString",477],"(",")",";",["T_WHITESPACE","\n    ",477],["T_VARIABLE","$correct_link",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",478],["T_WHITESPACE"," ",478],".",["T_WHITESPACE"," ",478],["T_VARIABLE","$link",478],";",["T_WHITESPACE","\n    ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","assertTrue",479],"(",["T_VARIABLE","$italian_url",479],["T_WHITESPACE"," ",479],["T_IS_EQUAL","==",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$correct_link",479],",",["T_WHITESPACE"," ",479],["T_STRING","format_string",479],"(",["T_CONSTANT_ENCAPSED_STRING","'The right HTTPS URL (via options) (@url) in accordance with the chosen language'",479],",",["T_WHITESPACE"," ",479],["T_ARRAY","array",479],"(",["T_CONSTANT_ENCAPSED_STRING","'@url'",479],["T_WHITESPACE"," ",479],["T_DOUBLE_ARROW","=>",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$italian_url",479],")",")",")",";",["T_WHITESPACE","\n\n    ",479],["T_COMMENT","\/\/ Test HTTPS via current URL scheme.\n",481],["T_WHITESPACE","    ",482],["T_VARIABLE","$request",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_STRING","Request",482],["T_DOUBLE_COLON","::",482],["T_STRING","create",482],"(",["T_CONSTANT_ENCAPSED_STRING","''",482],",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'GET'",482],",",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],"(",")",",",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],"(",")",",",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],"(",")",",",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'on'",482],")",")",";",["T_WHITESPACE","\n    ",482],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","container",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","get",483],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",483],")",["T_OBJECT_OPERATOR","->",483],["T_STRING","push",483],"(",["T_VARIABLE","$request",483],")",";",["T_WHITESPACE","\n    ",483],["T_VARIABLE","$italian_url",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_STRING","Url",484],["T_DOUBLE_COLON","::",484],["T_STRING","fromRoute",484],"(",["T_CONSTANT_ENCAPSED_STRING","'system.admin'",484],",",["T_WHITESPACE"," ",484],"[","]",",",["T_WHITESPACE"," ",484],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$languages",484],"[",["T_CONSTANT_ENCAPSED_STRING","'it'",484],"]","]",")",["T_OBJECT_OPERATOR","->",484],["T_STRING","toString",484],"(",")",";",["T_WHITESPACE","\n    ",484],["T_VARIABLE","$correct_link",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",485],["T_WHITESPACE"," ",485],".",["T_WHITESPACE"," ",485],["T_VARIABLE","$link",485],";",["T_WHITESPACE","\n    ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","assertTrue",486],"(",["T_VARIABLE","$italian_url",486],["T_WHITESPACE"," ",486],["T_IS_EQUAL","==",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$correct_link",486],",",["T_WHITESPACE"," ",486],["T_STRING","format_string",486],"(",["T_CONSTANT_ENCAPSED_STRING","'The right URL (via current URL scheme) (@url) in accordance with the chosen language'",486],",",["T_WHITESPACE"," ",486],["T_ARRAY","array",486],"(",["T_CONSTANT_ENCAPSED_STRING","'@url'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$italian_url",486],")",")",")",";",["T_WHITESPACE","\n  ",486],"}",["T_WHITESPACE","\n\n  ",487],["T_DOC_COMMENT","\/**\n   * Tests persistence of negotiation settings for the content language type.\n   *\/",489],["T_WHITESPACE","\n  ",491],["T_PUBLIC","public",492],["T_WHITESPACE"," ",492],["T_FUNCTION","function",492],["T_WHITESPACE"," ",492],["T_STRING","testContentCustomization",492],"(",")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n    ",492],["T_COMMENT","\/\/ Customize content language settings from their defaults.\n",493],["T_WHITESPACE","    ",494],["T_VARIABLE","$edit",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_ARRAY","array",494],"(",["T_WHITESPACE","\n      ",494],["T_CONSTANT_ENCAPSED_STRING","'language_content[configurable]'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_STRING","TRUE",495],",",["T_WHITESPACE","\n      ",495],["T_CONSTANT_ENCAPSED_STRING","'language_content[enabled][language-url]'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_STRING","FALSE",496],",",["T_WHITESPACE","\n      ",496],["T_CONSTANT_ENCAPSED_STRING","'language_content[enabled][language-session]'",497],["T_WHITESPACE"," ",497],["T_DOUBLE_ARROW","=>",497],["T_WHITESPACE"," ",497],["T_STRING","TRUE",497],",",["T_WHITESPACE","\n    ",497],")",";",["T_WHITESPACE","\n    ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","drupalPostForm",499],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection'",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$edit",499],",",["T_WHITESPACE"," ",499],["T_STRING","t",499],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",499],")",")",";",["T_WHITESPACE","\n\n    ",499],["T_COMMENT","\/\/ Check if configurability persisted.\n",501],["T_WHITESPACE","    ",502],["T_VARIABLE","$config",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","config",502],"(",["T_CONSTANT_ENCAPSED_STRING","'language.types'",502],")",";",["T_WHITESPACE","\n    ",502],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","assertTrue",503],"(",["T_STRING","in_array",503],"(",["T_CONSTANT_ENCAPSED_STRING","'language_interface'",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$config",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","get",503],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable'",503],")",")",",",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","'Interface language is configurable.'",503],")",";",["T_WHITESPACE","\n    ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","assertTrue",504],"(",["T_STRING","in_array",504],"(",["T_CONSTANT_ENCAPSED_STRING","'language_content'",504],",",["T_WHITESPACE"," ",504],["T_VARIABLE","$config",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","get",504],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable'",504],")",")",",",["T_WHITESPACE"," ",504],["T_CONSTANT_ENCAPSED_STRING","'Content language is configurable.'",504],")",";",["T_WHITESPACE","\n\n    ",504],["T_COMMENT","\/\/ Ensure configuration was saved.\n",506],["T_WHITESPACE","    ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","assertFalse",507],"(",["T_STRING","array_key_exists",507],"(",["T_CONSTANT_ENCAPSED_STRING","'language-url'",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$config",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","get",507],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation.language_content.enabled'",507],")",")",",",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'URL negotiation is not enabled for content.'",507],")",";",["T_WHITESPACE","\n    ",507],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","assertTrue",508],"(",["T_STRING","array_key_exists",508],"(",["T_CONSTANT_ENCAPSED_STRING","'language-session'",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$config",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","get",508],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation.language_content.enabled'",508],")",")",",",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'Session negotiation is enabled for content.'",508],")",";",["T_WHITESPACE","\n  ",508],"}",["T_WHITESPACE","\n\n  ",509],["T_DOC_COMMENT","\/**\n   * Tests if the language switcher block gets deleted when a language type has been made not configurable.\n   *\/",511],["T_WHITESPACE","\n  ",513],["T_PUBLIC","public",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","testDisableLanguageSwitcher",514],"(",")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n    ",514],["T_VARIABLE","$block_id",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'test_language_block'",515],";",["T_WHITESPACE","\n\n    ",515],["T_COMMENT","\/\/ Enable the language switcher block.\n",517],["T_WHITESPACE","    ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","drupalPlaceBlock",518],"(",["T_CONSTANT_ENCAPSED_STRING","'language_block:'",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_STRING","LanguageInterface",518],["T_DOUBLE_COLON","::",518],["T_STRING","TYPE_CONTENT",518],",",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$block_id",518],")",")",";",["T_WHITESPACE","\n\n    ",518],["T_COMMENT","\/\/ Check if the language switcher block has been created.\n",520],["T_WHITESPACE","    ",521],["T_VARIABLE","$block",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_STRING","Block",521],["T_DOUBLE_COLON","::",521],["T_STRING","load",521],"(",["T_VARIABLE","$block_id",521],")",";",["T_WHITESPACE","\n    ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","assertTrue",522],"(",["T_VARIABLE","$block",522],",",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'Language switcher block was created.'",522],")",";",["T_WHITESPACE","\n\n    ",522],["T_COMMENT","\/\/ Make sure language_content is not configurable.\n",524],["T_WHITESPACE","    ",525],["T_VARIABLE","$edit",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_ARRAY","array",525],"(",["T_WHITESPACE","\n      ",525],["T_CONSTANT_ENCAPSED_STRING","'language_content[configurable]'",526],["T_WHITESPACE"," ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_STRING","FALSE",526],",",["T_WHITESPACE","\n    ",526],")",";",["T_WHITESPACE","\n    ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","drupalPostForm",528],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection'",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$edit",528],",",["T_WHITESPACE"," ",528],["T_STRING","t",528],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",528],")",")",";",["T_WHITESPACE","\n    ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","assertResponse",529],"(",["T_LNUMBER","200",529],")",";",["T_WHITESPACE","\n\n    ",529],["T_COMMENT","\/\/ Check if the language switcher block has been removed.\n",531],["T_WHITESPACE","    ",532],["T_VARIABLE","$block",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","Block",532],["T_DOUBLE_COLON","::",532],["T_STRING","load",532],"(",["T_VARIABLE","$block_id",532],")",";",["T_WHITESPACE","\n    ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","assertFalse",533],"(",["T_VARIABLE","$block",533],",",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","'Language switcher block was removed.'",533],")",";",["T_WHITESPACE","\n  ",533],"}",["T_WHITESPACE","\n\n",534],"}",["T_WHITESPACE","\n",536]]