[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","language",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormattableMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","LanguageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","entity_test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityTest",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigurableLanguage",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","language",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LanguageNegotiation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LanguageNegotiationContentEntity",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageNegotiation",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageNegotiationUrl",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","simpletest",11],["T_NS_SEPARATOR","\\",11],["T_STRING","WebTestBase",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Cmf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Routing",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RouteObjectInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpFoundation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Request",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Routing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Route",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Tests language negotiation with the language negotiator content entity.\n *\n * @group language\n *\/",16],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","LanguageNegotiationContentEntityTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","WebTestBase",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$modules",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'language_test'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'system'",28],")",";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * The entity being used for testing.\n   *\n   * @var \\Drupal\\Core\\Entity\\ContentEntityInterface\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$entity",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","setUp",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","setUp",41],"(",")",";",["T_WHITESPACE","\n\n    ",41],["T_STRING","ConfigurableLanguage",43],["T_DOUBLE_COLON","::",43],["T_STRING","create",43],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'es'",43],"]",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","save",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_STRING","ConfigurableLanguage",44],["T_DOUBLE_COLON","::",44],["T_STRING","create",44],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'fr'",44],"]",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","save",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ In order to reflect the changes for a multilingual site in the container\n",46],["T_WHITESPACE","    ",47],["T_COMMENT","\/\/ we have to rebuild it.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","rebuildContainer",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createTranslatableEntity",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$user",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalCreateUser",52],"(",["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'view test entity'",52],")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalLogin",53],"(",["T_VARIABLE","$user",53],")",";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Tests default with content language remaining same as interface language.\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testDefaultConfiguration",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$translation",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","entity",60],";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalGet",61],"(",["T_VARIABLE","$translation",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","urlInfo",61],"(",")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$last",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","container",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.language_negotiation_last'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$last_content_language",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$last",63],"[",["T_STRING","LanguageInterface",63],["T_DOUBLE_COLON","::",63],["T_STRING","TYPE_CONTENT",63],"]",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$last_interface_language",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$last",64],"[",["T_STRING","LanguageInterface",64],["T_DOUBLE_COLON","::",64],["T_STRING","TYPE_INTERFACE",64],"]",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertTrue",65],"(","(",["T_VARIABLE","$last_interface_language",65],["T_WHITESPACE"," ",65],["T_IS_EQUAL","==",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$last_content_language",65],")",["T_WHITESPACE"," ",65],["T_BOOLEAN_AND","&&",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$last_content_language",65],["T_WHITESPACE"," ",65],["T_IS_EQUAL","==",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$translation",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","language",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getId",65],"(",")",")",",",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","FormattableMarkup",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Interface language %interface_language and Content language %content_language are the same as the translation language %translation_language of the entity.'",65],",",["T_WHITESPACE"," ",65],"[",["T_CONSTANT_ENCAPSED_STRING","'%interface_language'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$last_interface_language",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'%content_language'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$last_content_language",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'%translation_language'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$translation",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","language",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getId",65],"(",")","]",")",")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$translation",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","entity",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getTranslation",67],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalGet",68],"(",["T_VARIABLE","$translation",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","urlInfo",68],"(",")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$last",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","container",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.language_negotiation_last'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$last_content_language",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$last",70],"[",["T_STRING","LanguageInterface",70],["T_DOUBLE_COLON","::",70],["T_STRING","TYPE_CONTENT",70],"]",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$last_interface_language",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$last",71],"[",["T_STRING","LanguageInterface",71],["T_DOUBLE_COLON","::",71],["T_STRING","TYPE_INTERFACE",71],"]",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertTrue",72],"(","(",["T_VARIABLE","$last_interface_language",72],["T_WHITESPACE"," ",72],["T_IS_EQUAL","==",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$last_content_language",72],")",["T_WHITESPACE"," ",72],["T_BOOLEAN_AND","&&",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$last_content_language",72],["T_WHITESPACE"," ",72],["T_IS_EQUAL","==",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$translation",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","language",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getId",72],"(",")",")",",",["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","FormattableMarkup",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Interface language %interface_language and Content language %content_language are the same as the translation language %translation_language of the entity.'",72],",",["T_WHITESPACE"," ",72],"[",["T_CONSTANT_ENCAPSED_STRING","'%interface_language'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$last_interface_language",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'%content_language'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$last_content_language",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'%translation_language'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$translation",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","language",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getId",72],"(",")","]",")",")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$translation",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getTranslation",74],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","drupalGet",75],"(",["T_VARIABLE","$translation",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","urlInfo",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$last",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","container",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.language_negotiation_last'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$last_content_language",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$last",77],"[",["T_STRING","LanguageInterface",77],["T_DOUBLE_COLON","::",77],["T_STRING","TYPE_CONTENT",77],"]",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$last_interface_language",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$last",78],"[",["T_STRING","LanguageInterface",78],["T_DOUBLE_COLON","::",78],["T_STRING","TYPE_INTERFACE",78],"]",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertTrue",79],"(","(",["T_VARIABLE","$last_interface_language",79],["T_WHITESPACE"," ",79],["T_IS_EQUAL","==",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$last_content_language",79],")",["T_WHITESPACE"," ",79],["T_BOOLEAN_AND","&&",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$last_content_language",79],["T_WHITESPACE"," ",79],["T_IS_EQUAL","==",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$translation",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","language",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getId",79],"(",")",")",",",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","FormattableMarkup",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Interface language %interface_language and Content language %content_language are the same as the translation language %translation_language of the entity.'",79],",",["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'%interface_language'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$last_interface_language",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'%content_language'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$last_content_language",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'%translation_language'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$translation",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","language",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getId",79],"(",")","]",")",")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * Tests enabling the language negotiator language_content_entity.\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testEnabledLanguageContentNegotiator",85],"(",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_COMMENT","\/\/ Define the method language-url with a higher priority than\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ language-content-entity. This configuration should match the default one,\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ where the language-content-entity is turned off.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$config",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","config",89],"(",["T_CONSTANT_ENCAPSED_STRING","'language.types'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$config",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","set",90],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable'",90],",",["T_WHITESPACE"," ",90],"[",["T_STRING","LanguageInterface",90],["T_DOUBLE_COLON","::",90],["T_STRING","TYPE_INTERFACE",90],",",["T_WHITESPACE"," ",90],["T_STRING","LanguageInterface",90],["T_DOUBLE_COLON","::",90],["T_STRING","TYPE_CONTENT",90],"]",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","set",91],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation.language_content.enabled'",91],",",["T_WHITESPACE"," ",91],"[",["T_WHITESPACE","\n      ",91],["T_STRING","LanguageNegotiationUrl",92],["T_DOUBLE_COLON","::",92],["T_STRING","METHOD_ID",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_LNUMBER","0",92],",",["T_WHITESPACE","\n      ",92],["T_STRING","LanguageNegotiationContentEntity",93],["T_DOUBLE_COLON","::",93],["T_STRING","METHOD_ID",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],["T_WHITESPACE","\n    ",93],"]",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$config",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","save",95],"(",")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ In order to reflect the changes for a multilingual site in the container\n",97],["T_WHITESPACE","    ",98],["T_COMMENT","\/\/ we have to rebuild it.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","rebuildContainer",99],"(",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ The tests for the default configuration should still pass.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","testDefaultConfiguration",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Define the method language-content-entity with a higher priority than\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ language-url.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$config",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","set",106],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiation.language_content.enabled'",106],",",["T_WHITESPACE"," ",106],"[",["T_WHITESPACE","\n      ",106],["T_STRING","LanguageNegotiationContentEntity",107],["T_DOUBLE_COLON","::",107],["T_STRING","METHOD_ID",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],",",["T_WHITESPACE","\n      ",107],["T_STRING","LanguageNegotiationUrl",108],["T_DOUBLE_COLON","::",108],["T_STRING","METHOD_ID",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_LNUMBER","1",108],["T_WHITESPACE","\n    ",108],"]",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$config",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","save",110],"(",")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ In order to reflect the changes for a multilingual site in the container\n",112],["T_WHITESPACE","    ",113],["T_COMMENT","\/\/ we have to rebuild it.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","rebuildContainer",114],"(",")",";",["T_WHITESPACE","\n\n    ",114],["T_COMMENT","\/\/ The method language-content-entity should run before language-url and\n",116],["T_WHITESPACE","    ",117],["T_COMMENT","\/\/ append query parameter for the content language and prevent language-url\n",117],["T_WHITESPACE","    ",118],["T_COMMENT","\/\/ from overwriting the URL.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$default_site_langcode",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","config",119],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",119],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","get",119],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Now switching to an entity route, so that the URL links are generated\n",121],["T_WHITESPACE","    ",122],["T_COMMENT","\/\/ while being on an entity route.\n",122],["T_WHITESPACE","    ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setCurrentRequestForRoute",123],"(",["T_CONSTANT_ENCAPSED_STRING","'\/entity_test\/{entity_test}'",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'entity.entity_test.canonical'",123],")",";",["T_WHITESPACE","\n\n    ",123],["T_VARIABLE","$translation",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","entity",125],";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalGet",126],"(",["T_VARIABLE","$translation",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","urlInfo",126],"(",")",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$last",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","container",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","get",127],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","get",127],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.language_negotiation_last'",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$last_content_language",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$last",128],"[",["T_STRING","LanguageInterface",128],["T_DOUBLE_COLON","::",128],["T_STRING","TYPE_CONTENT",128],"]",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$last_interface_language",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$last",129],"[",["T_STRING","LanguageInterface",129],["T_DOUBLE_COLON","::",129],["T_STRING","TYPE_INTERFACE",129],"]",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertTrue",130],"(","(",["T_VARIABLE","$last_interface_language",130],["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$default_site_langcode",130],")",["T_WHITESPACE"," ",130],["T_BOOLEAN_AND","&&",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$last_interface_language",130],["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$last_content_language",130],")",["T_WHITESPACE"," ",130],["T_BOOLEAN_AND","&&",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$last_content_language",130],["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$translation",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","language",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getId",130],"(",")",")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Interface language and Content language are the same as the default translation language of the entity.'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertTrue",131],"(",["T_VARIABLE","$last_interface_language",131],["T_WHITESPACE"," ",131],["T_IS_EQUAL","==",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$default_site_langcode",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Interface language did not change from the default site language.'",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertTrue",132],"(",["T_VARIABLE","$last_content_language",132],["T_WHITESPACE"," ",132],["T_IS_EQUAL","==",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$translation",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","language",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","getId",132],"(",")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Content language matches the current entity translation language.'",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$translation",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","entity",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getTranslation",134],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","drupalGet",135],"(",["T_VARIABLE","$translation",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","urlInfo",135],"(",")",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$last",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","container",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.language_negotiation_last'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$last_content_language",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$last",137],"[",["T_STRING","LanguageInterface",137],["T_DOUBLE_COLON","::",137],["T_STRING","TYPE_CONTENT",137],"]",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$last_interface_language",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$last",138],"[",["T_STRING","LanguageInterface",138],["T_DOUBLE_COLON","::",138],["T_STRING","TYPE_INTERFACE",138],"]",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertTrue",139],"(",["T_VARIABLE","$last_interface_language",139],["T_WHITESPACE"," ",139],["T_IS_EQUAL","==",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$default_site_langcode",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Interface language did not change from the default site language.'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertTrue",140],"(",["T_VARIABLE","$last_content_language",140],["T_WHITESPACE"," ",140],["T_IS_EQUAL","==",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$translation",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","language",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","getId",140],"(",")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Content language matches the current entity translation language.'",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$translation",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","entity",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getTranslation",142],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","drupalGet",143],"(",["T_VARIABLE","$translation",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","urlInfo",143],"(",")",")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$last",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","container",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","get",144],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","get",144],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.language_negotiation_last'",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$last_content_language",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$last",145],"[",["T_STRING","LanguageInterface",145],["T_DOUBLE_COLON","::",145],["T_STRING","TYPE_CONTENT",145],"]",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$last_interface_language",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$last",146],"[",["T_STRING","LanguageInterface",146],["T_DOUBLE_COLON","::",146],["T_STRING","TYPE_INTERFACE",146],"]",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertTrue",147],"(",["T_VARIABLE","$last_interface_language",147],["T_WHITESPACE"," ",147],["T_IS_EQUAL","==",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$default_site_langcode",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Interface language did not change from the default site language.'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertTrue",148],"(",["T_VARIABLE","$last_content_language",148],["T_WHITESPACE"," ",148],["T_IS_EQUAL","==",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$translation",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","language",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Content language matches the current entity translation language.'",148],")",";",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * Creates a translated entity.\n   *\/",151],["T_WHITESPACE","\n  ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","createTranslatableEntity",154],"(",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","entity",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","EntityTest",155],["T_DOUBLE_COLON","::",155],["T_STRING","create",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","entity",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","addTranslation",156],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",156],",",["T_WHITESPACE"," ",156],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'name spanish'",156],"]",")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","entity",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","addTranslation",157],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",157],",",["T_WHITESPACE"," ",157],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'name french'",157],"]",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","entity",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","save",158],"(",")",";",["T_WHITESPACE","\n  ",158],"}",["T_WHITESPACE","\n\n  ",159],["T_DOC_COMMENT","\/**\n   * Sets the current request to a specific path with the corresponding route.\n   *\n   * @param string $path\n   *   The path for which the current request should be created.\n   * @param string $route_name\n   *   The route name for which the route object for the request should be\n   *   created.\n   *\/",161],["T_WHITESPACE","\n  ",169],["T_PROTECTED","protected",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","setCurrentRequestForRoute",170],"(",["T_VARIABLE","$path",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$route_name",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$request",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","Request",171],["T_DOUBLE_COLON","::",171],["T_STRING","create",171],"(",["T_VARIABLE","$path",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$request",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","attributes",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","set",172],"(",["T_STRING","RouteObjectInterface",172],["T_DOUBLE_COLON","::",172],["T_STRING","ROUTE_NAME",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_name",172],")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$request",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","attributes",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","set",173],"(",["T_STRING","RouteObjectInterface",173],["T_DOUBLE_COLON","::",173],["T_STRING","ROUTE_OBJECT",173],",",["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","Route",173],"(",["T_VARIABLE","$path",173],")",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","container",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","get",174],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","push",174],"(",["T_VARIABLE","$request",174],")",";",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n",175],"}",["T_WHITESPACE","\n",177]]