[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","language",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableLanguage",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the language fallback behavior.\n *\n * @group language\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","LanguageFallbackTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","LanguageTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","setUp",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_STRING","parent",19],["T_DOUBLE_COLON","::",19],["T_STRING","setUp",19],"(",")",";",["T_WHITESPACE","\n\n    ",19],["T_VARIABLE","$i",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","0",21],";",["T_WHITESPACE","\n    ",21],["T_FOREACH","foreach",22],["T_WHITESPACE"," ",22],"(",["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'af'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'am'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'ar'",22],")",["T_WHITESPACE"," ",22],["T_AS","as",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$langcode",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n      ",22],["T_VARIABLE","$language",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","ConfigurableLanguage",23],["T_DOUBLE_COLON","::",23],["T_STRING","createFromLangcode",23],"(",["T_VARIABLE","$langcode",23],")",";",["T_WHITESPACE","\n      ",23],["T_VARIABLE","$language",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","set",24],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",24],",",["T_WHITESPACE"," ",24],["T_VARIABLE","$i",24],["T_DEC","--",24],")",";",["T_WHITESPACE","\n      ",24],["T_VARIABLE","$language",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","save",25],"(",")",";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Tests language fallback candidates.\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testCandidates",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$language_list",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","languageManager",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getLanguages",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$expected",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","array_keys",34],"(",["T_VARIABLE","$language_list",34],["T_WHITESPACE"," ",34],"+",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_STRING","LanguageInterface",34],["T_DOUBLE_COLON","::",34],["T_STRING","LANGCODE_NOT_SPECIFIED",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_STRING","NULL",34],")",")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Check that language fallback candidates by default are all the available\n",36],["T_WHITESPACE","    ",37],["T_COMMENT","\/\/ languages sorted by weight.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$candidates",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","languageManager",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getFallbackCandidates",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertEqual",39],"(",["T_STRING","array_values",39],"(",["T_VARIABLE","$candidates",39],")",",",["T_WHITESPACE"," ",39],["T_VARIABLE","$expected",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'Language fallback candidates are properly returned.'",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Check that candidates are alterable.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","state",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","set",42],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.fallback_alter.candidates'",42],",",["T_WHITESPACE"," ",42],["T_STRING","TRUE",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$expected",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","array_slice",43],"(",["T_VARIABLE","$expected",43],",",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],",",["T_WHITESPACE"," ",43],["T_STRING","count",43],"(",["T_VARIABLE","$expected",43],")",["T_WHITESPACE"," ",43],"-",["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$candidates",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","languageManager",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getFallbackCandidates",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEqual",45],"(",["T_STRING","array_values",45],"(",["T_VARIABLE","$candidates",45],")",",",["T_WHITESPACE"," ",45],["T_VARIABLE","$expected",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Language fallback candidates are alterable.'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Check that candidates are alterable for specific operations.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","state",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","set",48],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.fallback_alter.candidates'",48],",",["T_WHITESPACE"," ",48],["T_STRING","FALSE",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","state",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","set",49],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.fallback_operation_alter.candidates'",49],",",["T_WHITESPACE"," ",49],["T_STRING","TRUE",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$expected",50],"[","]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","LanguageInterface",50],["T_DOUBLE_COLON","::",50],["T_STRING","LANGCODE_NOT_SPECIFIED",50],";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$expected",51],"[","]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","LanguageInterface",51],["T_DOUBLE_COLON","::",51],["T_STRING","LANGCODE_NOT_APPLICABLE",51],";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$candidates",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","languageManager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getFallbackCandidates",52],"(",["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'operation'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'test'",52],")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_STRING","array_values",53],"(",["T_VARIABLE","$candidates",53],")",",",["T_WHITESPACE"," ",53],["T_VARIABLE","$expected",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Language fallback candidates are alterable for specific operations.'",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Check that when the site is monolingual no language fallback is applied.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$langcodes_to_delete",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$language_list",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$langcode",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$language",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_VARIABLE","$language",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","isDefault",58],"(",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$langcodes_to_delete",59],"[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$langcode",59],";",["T_WHITESPACE","\n      ",59],"}",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n    ",61],["T_STRING","entity_delete_multiple",62],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable_language'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$langcodes_to_delete",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$candidates",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","languageManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getFallbackCandidates",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_STRING","array_values",64],"(",["T_VARIABLE","$candidates",64],")",",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_STRING","LanguageInterface",64],["T_DOUBLE_COLON","::",64],["T_STRING","LANGCODE_DEFAULT",64],")",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Language fallback is not applied when the Language module is not enabled.'",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n",65],"}",["T_WHITESPACE","\n",67]]