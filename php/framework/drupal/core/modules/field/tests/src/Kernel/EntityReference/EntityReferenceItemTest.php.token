[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EntityReference",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Comment",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormattableMarkup",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unicode",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldItemListInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldItemInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldStorageDefinitionInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","StringTranslation",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TranslatableMarkup",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Language",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LanguageInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","entity_test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityTest",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","entity_test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Entity",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EntityTestStringId",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","field",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entity",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FieldConfig",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","field",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Entity",16],["T_NS_SEPARATOR","\\",16],["T_STRING","FieldStorageConfig",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","field",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Tests",17],["T_NS_SEPARATOR","\\",17],["T_STRING","EntityReference",17],["T_NS_SEPARATOR","\\",17],["T_STRING","EntityReferenceTestTrait",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Tests",18],["T_NS_SEPARATOR","\\",18],["T_STRING","field",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Kernel",18],["T_NS_SEPARATOR","\\",18],["T_STRING","FieldKernelTestBase",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","file",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Entity",19],["T_NS_SEPARATOR","\\",19],["T_STRING","File",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Drupal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","node",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Entity",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Node",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Drupal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","taxonomy",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Entity",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Term",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Drupal",22],["T_NS_SEPARATOR","\\",22],["T_STRING","taxonomy",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Entity",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Vocabulary",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Drupal",23],["T_NS_SEPARATOR","\\",23],["T_STRING","user",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Entity",23],["T_NS_SEPARATOR","\\",23],["T_STRING","User",23],";",["T_WHITESPACE","\n\n\n",23],["T_DOC_COMMENT","\/**\n * Tests the new entity API for the entity reference field type.\n *\n * @group entity_reference\n *\/",26],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","EntityReferenceItemTest",31],["T_WHITESPACE"," ",31],["T_EXTENDS","extends",31],["T_WHITESPACE"," ",31],["T_STRING","FieldKernelTestBase",31],["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\n  ",31],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","EntityReferenceTestTrait",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_STATIC","static",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$modules",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'comment'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'file'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'text'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'filter'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'views'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'field'",40],"]",";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The taxonomy vocabulary to test with.\n   *\n   * @var \\Drupal\\taxonomy\\VocabularyInterface\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$vocabulary",47],";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * The taxonomy term to test with.\n   *\n   * @var \\Drupal\\taxonomy\\TermInterface\n   *\/",49],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$term",54],";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * The test entity with a string ID.\n   *\n   * @var \\Drupal\\entity_test\\Entity\\EntityTestStringId\n   *\/",56],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$entityStringId",61],";",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Sets up the test.\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","setUp",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_STRING","parent",67],["T_DOUBLE_COLON","::",67],["T_STRING","setUp",67],"(",")",";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","installEntitySchema",69],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_string_id'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","installEntitySchema",70],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","installEntitySchema",71],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","installEntitySchema",72],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","installEntitySchema",73],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","installSchema",75],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",75],",",["T_WHITESPACE"," ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",75],"]",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","installSchema",76],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",76],",",["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'node_access'",76],"]",")",";",["T_WHITESPACE","\n\n    ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","vocabulary",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","Vocabulary",78],["T_DOUBLE_COLON","::",78],["T_STRING","create",78],"(","[",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'name'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","randomMachineName",79],"(",")",",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'vid'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","Unicode",80],["T_DOUBLE_COLON","::",80],["T_STRING","strtolower",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","randomMachineName",80],"(",")",")",",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'langcode'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_STRING","LanguageInterface",81],["T_DOUBLE_COLON","::",81],["T_STRING","LANGCODE_NOT_SPECIFIED",81],",",["T_WHITESPACE","\n    ",81],"]",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","vocabulary",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","save",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","term",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Term",85],["T_DOUBLE_COLON","::",85],["T_STRING","create",85],"(","[",["T_WHITESPACE","\n      ",85],["T_CONSTANT_ENCAPSED_STRING","'name'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","randomMachineName",86],"(",")",",",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'vid'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","vocabulary",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],"(",")",",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'langcode'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","LanguageInterface",88],["T_DOUBLE_COLON","::",88],["T_STRING","LANGCODE_NOT_SPECIFIED",88],",",["T_WHITESPACE","\n    ",88],"]",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","term",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","save",90],"(",")",";",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","entityStringId",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","EntityTestStringId",92],["T_DOUBLE_COLON","::",92],["T_STRING","create",92],"(","[",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'id'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","randomMachineName",93],"(",")",",",["T_WHITESPACE","\n    ",93],"]",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","entityStringId",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","save",95],"(",")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Use the util to create an instance.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","createEntityReferenceField",98],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'field_test_taxonomy_term'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'Test content entity reference'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","createEntityReferenceField",99],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_test_string_id'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'Test content entity reference with string ID'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'entity_test_string_id'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","createEntityReferenceField",100],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'field_test_taxonomy_vocabulary'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'Test config entity reference'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_vocabulary'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","createEntityReferenceField",101],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'field_test_node'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Test node entity reference'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'node'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'default'",101],",",["T_WHITESPACE"," ",101],"[","]",",",["T_WHITESPACE"," ",101],["T_STRING","FieldStorageDefinitionInterface",101],["T_DOUBLE_COLON","::",101],["T_STRING","CARDINALITY_UNLIMITED",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","createEntityReferenceField",102],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'field_test_user'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Test user entity reference'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'user'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","createEntityReferenceField",103],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'field_test_comment'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Test comment entity reference'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'comment'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","createEntityReferenceField",104],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'field_test_file'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Test file entity reference'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'file'",104],")",";",["T_WHITESPACE","\n  ",104],"}",["T_WHITESPACE","\n\n  ",105],["T_DOC_COMMENT","\/**\n   * Tests the entity reference field type for referencing content entities.\n   *\/",107],["T_WHITESPACE","\n  ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","testContentEntityReferenceItem",110],"(",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$tid",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","term",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","id",111],"(",")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Just being able to create the entity like this verifies a lot of code.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$entity",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","EntityTest",114],["T_DOUBLE_COLON","::",114],["T_STRING","create",114],"(",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$entity",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","field_test_taxonomy_term",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","target_id",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$tid",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$entity",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","name",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","value",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","randomMachineName",116],"(",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$entity",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","save",117],"(",")",";",["T_WHITESPACE","\n\n    ",117],["T_VARIABLE","$entity",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","EntityTest",119],["T_DOUBLE_COLON","::",119],["T_STRING","load",119],"(",["T_VARIABLE","$entity",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","id",119],"(",")",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertTrue",120],"(",["T_VARIABLE","$entity",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","field_test_taxonomy_term",120],["T_WHITESPACE"," ",120],["T_INSTANCEOF","instanceof",120],["T_WHITESPACE"," ",120],["T_STRING","FieldItemListInterface",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'Field implements interface.'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertTrue",121],"(",["T_VARIABLE","$entity",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","field_test_taxonomy_term",121],"[",["T_LNUMBER","0",121],"]",["T_WHITESPACE"," ",121],["T_INSTANCEOF","instanceof",121],["T_WHITESPACE"," ",121],["T_STRING","FieldItemInterface",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Field item implements interface.'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEqual",122],"(",["T_VARIABLE","$entity",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","field_test_taxonomy_term",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","target_id",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$tid",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertEqual",123],"(",["T_VARIABLE","$entity",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","field_test_taxonomy_term",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","entity",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getName",123],"(",")",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","term",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getName",123],"(",")",")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertEqual",124],"(",["T_VARIABLE","$entity",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","field_test_taxonomy_term",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","entity",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","id",124],"(",")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$tid",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_VARIABLE","$entity",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","field_test_taxonomy_term",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","entity",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","uuid",125],"(",")",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","term",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","uuid",125],"(",")",")",";",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ Verify that the label for the target ID property definition is correct.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$label",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$entity",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","field_test_taxonomy_term",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getFieldDefinition",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getFieldStorageDefinition",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getPropertyDefinition",127],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getLabel",127],"(",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertTrue",128],"(",["T_VARIABLE","$label",128],["T_WHITESPACE"," ",128],["T_INSTANCEOF","instanceof",128],["T_WHITESPACE"," ",128],["T_STRING","TranslatableMarkup",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEqual",129],"(",["T_VARIABLE","$label",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","render",129],"(",")",",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Taxonomy term ID'",129],")",";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Change the name of the term via the reference.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$new_name",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","randomMachineName",132],"(",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$entity",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","field_test_taxonomy_term",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","entity",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setName",133],"(",["T_VARIABLE","$new_name",133],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$entity",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","field_test_taxonomy_term",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","entity",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","save",134],"(",")",";",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ Verify it is the correct name.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$term",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Term",136],["T_DOUBLE_COLON","::",136],["T_STRING","load",136],"(",["T_VARIABLE","$tid",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertEqual",137],"(",["T_VARIABLE","$term",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getName",137],"(",")",",",["T_WHITESPACE"," ",137],["T_VARIABLE","$new_name",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Make sure the computed term reflects updates to the term id.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$term2",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","Term",140],["T_DOUBLE_COLON","::",140],["T_STRING","create",140],"(","[",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'name'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","randomMachineName",141],"(",")",",",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'vid'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","term",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","bundle",142],"(",")",",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'langcode'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_STRING","LanguageInterface",143],["T_DOUBLE_COLON","::",143],["T_STRING","LANGCODE_NOT_SPECIFIED",143],",",["T_WHITESPACE","\n    ",143],"]",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$term2",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","save",145],"(",")",";",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Test all the possible ways of assigning a value.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$entity",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","field_test_taxonomy_term",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","target_id",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$term",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","id",148],"(",")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEqual",149],"(",["T_VARIABLE","$entity",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","field_test_taxonomy_term",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","entity",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","id",149],"(",")",",",["T_WHITESPACE"," ",149],["T_VARIABLE","$term",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","id",149],"(",")",")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEqual",150],"(",["T_VARIABLE","$entity",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","field_test_taxonomy_term",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","entity",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getName",150],"(",")",",",["T_WHITESPACE"," ",150],["T_VARIABLE","$term",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getName",150],"(",")",")",";",["T_WHITESPACE","\n\n    ",150],["T_VARIABLE","$entity",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","field_test_taxonomy_term",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],"[","[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$term2",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","id",152],"(",")","]","]",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertEqual",153],"(",["T_VARIABLE","$entity",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","field_test_taxonomy_term",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","entity",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","id",153],"(",")",",",["T_WHITESPACE"," ",153],["T_VARIABLE","$term2",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","id",153],"(",")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEqual",154],"(",["T_VARIABLE","$entity",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","field_test_taxonomy_term",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","entity",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getName",154],"(",")",",",["T_WHITESPACE"," ",154],["T_VARIABLE","$term2",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getName",154],"(",")",")",";",["T_WHITESPACE","\n\n    ",154],["T_COMMENT","\/\/ Test value assignment via the computed 'entity' property.\n",156],["T_WHITESPACE","    ",157],["T_VARIABLE","$entity",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","field_test_taxonomy_term",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","entity",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$term",157],";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEqual",158],"(",["T_VARIABLE","$entity",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","field_test_taxonomy_term",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","target_id",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$term",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","id",158],"(",")",")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEqual",159],"(",["T_VARIABLE","$entity",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","field_test_taxonomy_term",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","entity",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getName",159],"(",")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$term",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getName",159],"(",")",")",";",["T_WHITESPACE","\n\n    ",159],["T_VARIABLE","$entity",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","field_test_taxonomy_term",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],"[","[",["T_CONSTANT_ENCAPSED_STRING","'entity'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$term2",161],"]","]",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertEqual",162],"(",["T_VARIABLE","$entity",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","field_test_taxonomy_term",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","target_id",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$term2",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","id",162],"(",")",")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEqual",163],"(",["T_VARIABLE","$entity",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","field_test_taxonomy_term",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","entity",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getName",163],"(",")",",",["T_WHITESPACE"," ",163],["T_VARIABLE","$term2",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getName",163],"(",")",")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Test assigning an invalid item throws an exception.\n",165],["T_WHITESPACE","    ",166],["T_TRY","try",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$entity",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","field_test_taxonomy_term",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'invalid'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'entity'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$term2",167],"]",";",["T_WHITESPACE","\n      ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","fail",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Assigning an invalid item throws an exception.'",168],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n    ",169],["T_CATCH","catch",170],["T_WHITESPACE"," ",170],"(",["T_NS_SEPARATOR","\\",170],["T_STRING","InvalidArgumentException",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$e",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n      ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","pass",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Assigning an invalid item throws an exception.'",171],")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_COMMENT","\/\/ Delete terms so we have nothing to reference and try again\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$term",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","delete",175],"(",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$term2",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","delete",176],"(",")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$entity",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","EntityTest",177],["T_DOUBLE_COLON","::",177],["T_STRING","create",177],"(",["T_ARRAY","array",177],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","randomMachineName",177],"(",")",")",")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$entity",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","save",178],"(",")",";",["T_WHITESPACE","\n\n    ",178],["T_COMMENT","\/\/ Test the generateSampleValue() method.\n",180],["T_WHITESPACE","    ",181],["T_VARIABLE","$entity",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","EntityTest",181],["T_DOUBLE_COLON","::",181],["T_STRING","create",181],"(",")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$entity",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","field_test_taxonomy_term",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","generateSampleItems",182],"(",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$entity",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","field_test_taxonomy_vocabulary",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","generateSampleItems",183],"(",")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","entityValidateAndSave",184],"(",["T_VARIABLE","$entity",184],")",";",["T_WHITESPACE","\n  ",184],"}",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * Tests referencing content entities with string IDs.\n   *\/",187],["T_WHITESPACE","\n  ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","testContentEntityReferenceItemWithStringId",190],"(",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$entity",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","EntityTest",191],["T_DOUBLE_COLON","::",191],["T_STRING","create",191],"(",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$entity",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","field_test_entity_test_string_id",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","target_id",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","entityStringId",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","id",192],"(",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$entity",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","save",193],"(",")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$storage",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Drupal",194],["T_DOUBLE_COLON","::",194],["T_STRING","entityManager",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","getStorage",194],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",194],")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$storage",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","resetCache",195],"(",")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertEqual",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","entityStringId",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","id",196],"(",")",",",["T_WHITESPACE"," ",196],["T_VARIABLE","$storage",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","load",196],"(",["T_VARIABLE","$entity",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","id",196],"(",")",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","field_test_entity_test_string_id",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","target_id",196],")",";",["T_WHITESPACE","\n    ",196],["T_COMMENT","\/\/ Verify that the label for the target ID property definition is correct.\n",197],["T_WHITESPACE","    ",198],["T_VARIABLE","$label",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$entity",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","field_test_taxonomy_term",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getFieldDefinition",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getFieldStorageDefinition",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getPropertyDefinition",198],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",198],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getLabel",198],"(",")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertTrue",199],"(",["T_VARIABLE","$label",199],["T_WHITESPACE"," ",199],["T_INSTANCEOF","instanceof",199],["T_WHITESPACE"," ",199],["T_STRING","TranslatableMarkup",199],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertEqual",200],"(",["T_VARIABLE","$label",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","render",200],"(",")",",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'Taxonomy term ID'",200],")",";",["T_WHITESPACE","\n  ",200],"}",["T_WHITESPACE","\n\n  ",201],["T_DOC_COMMENT","\/**\n   * Tests the entity reference field type for referencing config entities.\n   *\/",203],["T_WHITESPACE","\n  ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","testConfigEntityReferenceItem",206],"(",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$referenced_entity_id",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","vocabulary",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","id",207],"(",")",";",["T_WHITESPACE","\n\n    ",207],["T_COMMENT","\/\/ Just being able to create the entity like this verifies a lot of code.\n",209],["T_WHITESPACE","    ",210],["T_VARIABLE","$entity",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","EntityTest",210],["T_DOUBLE_COLON","::",210],["T_STRING","create",210],"(",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$entity",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","field_test_taxonomy_vocabulary",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","target_id",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$referenced_entity_id",211],";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$entity",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","name",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","value",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","randomMachineName",212],"(",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$entity",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","save",213],"(",")",";",["T_WHITESPACE","\n\n    ",213],["T_VARIABLE","$entity",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","EntityTest",215],["T_DOUBLE_COLON","::",215],["T_STRING","load",215],"(",["T_VARIABLE","$entity",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","id",215],"(",")",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertTrue",216],"(",["T_VARIABLE","$entity",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","field_test_taxonomy_vocabulary",216],["T_WHITESPACE"," ",216],["T_INSTANCEOF","instanceof",216],["T_WHITESPACE"," ",216],["T_STRING","FieldItemListInterface",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'Field implements interface.'",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertTrue",217],"(",["T_VARIABLE","$entity",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","field_test_taxonomy_vocabulary",217],"[",["T_LNUMBER","0",217],"]",["T_WHITESPACE"," ",217],["T_INSTANCEOF","instanceof",217],["T_WHITESPACE"," ",217],["T_STRING","FieldItemInterface",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'Field item implements interface.'",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertEqual",218],"(",["T_VARIABLE","$entity",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","field_test_taxonomy_vocabulary",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","target_id",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$referenced_entity_id",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertEqual",219],"(",["T_VARIABLE","$entity",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","field_test_taxonomy_vocabulary",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","entity",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","label",219],"(",")",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","vocabulary",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","label",219],"(",")",")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","assertEqual",220],"(",["T_VARIABLE","$entity",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","field_test_taxonomy_vocabulary",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","entity",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","id",220],"(",")",",",["T_WHITESPACE"," ",220],["T_VARIABLE","$referenced_entity_id",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertEqual",221],"(",["T_VARIABLE","$entity",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","field_test_taxonomy_vocabulary",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","entity",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","uuid",221],"(",")",",",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","vocabulary",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","uuid",221],"(",")",")",";",["T_WHITESPACE","\n\n    ",221],["T_COMMENT","\/\/ Change the name of the term via the reference.\n",223],["T_WHITESPACE","    ",224],["T_VARIABLE","$new_name",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","randomMachineName",224],"(",")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$entity",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","field_test_taxonomy_vocabulary",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","entity",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","set",225],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$new_name",225],")",";",["T_WHITESPACE","\n    ",225],["T_VARIABLE","$entity",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","field_test_taxonomy_vocabulary",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","entity",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","save",226],"(",")",";",["T_WHITESPACE","\n    ",226],["T_COMMENT","\/\/ Verify it is the correct name.\n",227],["T_WHITESPACE","    ",228],["T_VARIABLE","$vocabulary",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","Vocabulary",228],["T_DOUBLE_COLON","::",228],["T_STRING","load",228],"(",["T_VARIABLE","$referenced_entity_id",228],")",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertEqual",229],"(",["T_VARIABLE","$vocabulary",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","label",229],"(",")",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$new_name",229],")",";",["T_WHITESPACE","\n\n    ",229],["T_COMMENT","\/\/ Make sure the computed term reflects updates to the term id.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$vocabulary2",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$vocabulary",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","Vocabulary",232],["T_DOUBLE_COLON","::",232],["T_STRING","create",232],"(","[",["T_WHITESPACE","\n      ",232],["T_CONSTANT_ENCAPSED_STRING","'name'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","randomMachineName",233],"(",")",",",["T_WHITESPACE","\n      ",233],["T_CONSTANT_ENCAPSED_STRING","'vid'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_STRING","Unicode",234],["T_DOUBLE_COLON","::",234],["T_STRING","strtolower",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","randomMachineName",234],"(",")",")",",",["T_WHITESPACE","\n      ",234],["T_CONSTANT_ENCAPSED_STRING","'langcode'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_STRING","LanguageInterface",235],["T_DOUBLE_COLON","::",235],["T_STRING","LANGCODE_NOT_SPECIFIED",235],",",["T_WHITESPACE","\n    ",235],"]",")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$vocabulary2",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","save",237],"(",")",";",["T_WHITESPACE","\n\n    ",237],["T_VARIABLE","$entity",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","field_test_taxonomy_vocabulary",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","target_id",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$vocabulary2",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","id",239],"(",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEqual",240],"(",["T_VARIABLE","$entity",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","field_test_taxonomy_vocabulary",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","entity",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","id",240],"(",")",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$vocabulary2",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","id",240],"(",")",")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertEqual",241],"(",["T_VARIABLE","$entity",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","field_test_taxonomy_vocabulary",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","entity",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","label",241],"(",")",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$vocabulary2",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","label",241],"(",")",")",";",["T_WHITESPACE","\n\n    ",241],["T_COMMENT","\/\/ Delete terms so we have nothing to reference and try again\n",243],["T_WHITESPACE","    ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","vocabulary",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","delete",244],"(",")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$vocabulary2",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","delete",245],"(",")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$entity",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","EntityTest",246],["T_DOUBLE_COLON","::",246],["T_STRING","create",246],"(",["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","randomMachineName",246],"(",")",")",")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$entity",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","save",247],"(",")",";",["T_WHITESPACE","\n  ",247],"}",["T_WHITESPACE","\n\n  ",248],["T_DOC_COMMENT","\/**\n   * Tests entity auto create.\n   *\/",250],["T_WHITESPACE","\n  ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","testEntityAutoCreate",253],"(",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n    ",253],["T_COMMENT","\/\/ The term entity is unsaved here.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$term",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","Term",255],["T_DOUBLE_COLON","::",255],["T_STRING","create",255],"(",["T_ARRAY","array",255],"(",["T_WHITESPACE","\n      ",255],["T_CONSTANT_ENCAPSED_STRING","'name'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","randomMachineName",256],"(",")",",",["T_WHITESPACE","\n      ",256],["T_CONSTANT_ENCAPSED_STRING","'vid'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","term",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","bundle",257],"(",")",",",["T_WHITESPACE","\n      ",257],["T_CONSTANT_ENCAPSED_STRING","'langcode'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_STRING","LanguageInterface",258],["T_DOUBLE_COLON","::",258],["T_STRING","LANGCODE_NOT_SPECIFIED",258],",",["T_WHITESPACE","\n    ",258],")",")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$entity",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","EntityTest",260],["T_DOUBLE_COLON","::",260],["T_STRING","create",260],"(",")",";",["T_WHITESPACE","\n    ",260],["T_COMMENT","\/\/ Now assign the unsaved term to the field.\n",261],["T_WHITESPACE","    ",262],["T_VARIABLE","$entity",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","field_test_taxonomy_term",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","entity",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$term",262],";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$entity",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","name",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","value",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","randomMachineName",263],"(",")",";",["T_WHITESPACE","\n    ",263],["T_COMMENT","\/\/ This is equal to storing an entity to tempstore or cache and retrieving\n",264],["T_WHITESPACE","    ",265],["T_COMMENT","\/\/ it back. An example for this is node preview.\n",265],["T_WHITESPACE","    ",266],["T_VARIABLE","$entity",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","serialize",266],"(",["T_VARIABLE","$entity",266],")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$entity",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","unserialize",267],"(",["T_VARIABLE","$entity",267],")",";",["T_WHITESPACE","\n    ",267],["T_COMMENT","\/\/ And then the entity.\n",268],["T_WHITESPACE","    ",269],["T_VARIABLE","$entity",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","save",269],"(",")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$term",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Drupal",270],["T_DOUBLE_COLON","::",270],["T_STRING","entityManager",270],"(",")",["T_OBJECT_OPERATOR","->",270],["T_STRING","loadEntityByUuid",270],"(",["T_VARIABLE","$term",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getEntityTypeId",270],"(",")",",",["T_WHITESPACE"," ",270],["T_VARIABLE","$term",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","uuid",270],"(",")",")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertEqual",271],"(",["T_VARIABLE","$entity",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","field_test_taxonomy_term",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","entity",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","id",271],"(",")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$term",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","id",271],"(",")",")",";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * Test saving order sequence doesn't matter.\n   *\/",274],["T_WHITESPACE","\n  ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","testEntitySaveOrder",277],"(",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n    ",277],["T_COMMENT","\/\/ The term entity is unsaved here.\n",278],["T_WHITESPACE","    ",279],["T_VARIABLE","$term",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","Term",279],["T_DOUBLE_COLON","::",279],["T_STRING","create",279],"(","[",["T_WHITESPACE","\n      ",279],["T_CONSTANT_ENCAPSED_STRING","'name'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","randomMachineName",280],"(",")",",",["T_WHITESPACE","\n      ",280],["T_CONSTANT_ENCAPSED_STRING","'vid'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","term",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","bundle",281],"(",")",",",["T_WHITESPACE","\n      ",281],["T_CONSTANT_ENCAPSED_STRING","'langcode'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_STRING","LanguageInterface",282],["T_DOUBLE_COLON","::",282],["T_STRING","LANGCODE_NOT_SPECIFIED",282],",",["T_WHITESPACE","\n    ",282],"]",")",";",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$entity",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","EntityTest",284],["T_DOUBLE_COLON","::",284],["T_STRING","create",284],"(",")",";",["T_WHITESPACE","\n    ",284],["T_COMMENT","\/\/ Now assign the unsaved term to the field.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$entity",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","field_test_taxonomy_term",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","entity",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$term",286],";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$entity",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","name",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","value",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","randomMachineName",287],"(",")",";",["T_WHITESPACE","\n    ",287],["T_COMMENT","\/\/ Now get the field value.\n",288],["T_WHITESPACE","    ",289],["T_VARIABLE","$value",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$entity",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","get",289],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_taxonomy_term'",289],")",";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","assertTrue",290],"(",["T_EMPTY","empty",290],"(",["T_VARIABLE","$value",290],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",290],"]",")",")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertNull",291],"(",["T_VARIABLE","$entity",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","field_test_taxonomy_term",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","target_id",291],")",";",["T_WHITESPACE","\n    ",291],["T_COMMENT","\/\/ And then set it.\n",292],["T_WHITESPACE","    ",293],["T_VARIABLE","$entity",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","field_test_taxonomy_term",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$value",293],";",["T_WHITESPACE","\n    ",293],["T_COMMENT","\/\/ Now save the term.\n",294],["T_WHITESPACE","    ",295],["T_VARIABLE","$term",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","save",295],"(",")",";",["T_WHITESPACE","\n    ",295],["T_COMMENT","\/\/ And then the entity.\n",296],["T_WHITESPACE","    ",297],["T_VARIABLE","$entity",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","save",297],"(",")",";",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","assertEqual",298],"(",["T_VARIABLE","$entity",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","field_test_taxonomy_term",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","entity",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","id",298],"(",")",",",["T_WHITESPACE"," ",298],["T_VARIABLE","$term",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","id",298],"(",")",")",";",["T_WHITESPACE","\n  ",298],"}",["T_WHITESPACE","\n\n  ",299],["T_DOC_COMMENT","\/**\n   * Tests that the 'handler' field setting stores the proper plugin ID.\n   *\/",301],["T_WHITESPACE","\n  ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","testSelectionHandlerSettings",304],"(",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$field_name",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING","Unicode",305],["T_DOUBLE_COLON","::",305],["T_STRING","strtolower",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","randomMachineName",305],"(",")",")",";",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$field_storage",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_STRING","FieldStorageConfig",306],["T_DOUBLE_COLON","::",306],["T_STRING","create",306],"(",["T_ARRAY","array",306],"(",["T_WHITESPACE","\n      ",306],["T_CONSTANT_ENCAPSED_STRING","'field_name'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$field_name",307],",",["T_WHITESPACE","\n      ",307],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",308],",",["T_WHITESPACE","\n      ",308],["T_CONSTANT_ENCAPSED_STRING","'type'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",309],",",["T_WHITESPACE","\n      ",309],["T_CONSTANT_ENCAPSED_STRING","'settings'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",["T_WHITESPACE","\n        ",310],["T_CONSTANT_ENCAPSED_STRING","'target_type'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",311],["T_WHITESPACE","\n      ",311],")",",",["T_WHITESPACE","\n    ",312],")",")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$field_storage",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","save",314],"(",")",";",["T_WHITESPACE","\n\n    ",314],["T_COMMENT","\/\/ Do not specify any value for the 'handler' setting in order to verify\n",316],["T_WHITESPACE","    ",317],["T_COMMENT","\/\/ that the default handler with the correct derivative is used.\n",317],["T_WHITESPACE","    ",318],["T_VARIABLE","$field",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","FieldConfig",318],["T_DOUBLE_COLON","::",318],["T_STRING","create",318],"(",["T_ARRAY","array",318],"(",["T_WHITESPACE","\n      ",318],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$field_storage",319],",",["T_WHITESPACE","\n      ",319],["T_CONSTANT_ENCAPSED_STRING","'bundle'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",320],",",["T_WHITESPACE","\n    ",320],")",")",";",["T_WHITESPACE","\n    ",321],["T_VARIABLE","$field",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","save",322],"(",")",";",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$field",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","FieldConfig",323],["T_DOUBLE_COLON","::",323],["T_STRING","load",323],"(",["T_VARIABLE","$field",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","id",323],"(",")",")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","assertEqual",324],"(",["T_VARIABLE","$field",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getSetting",324],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",324],")",",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'default:entity_test'",324],")",";",["T_WHITESPACE","\n\n    ",324],["T_COMMENT","\/\/ Change the target_type in the field storage, and check that the handler\n",326],["T_WHITESPACE","    ",327],["T_COMMENT","\/\/ was correctly reassigned in the field.\n",327],["T_WHITESPACE","    ",328],["T_VARIABLE","$field_storage",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setSetting",328],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",328],")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$field_storage",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","save",329],"(",")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$field",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","FieldConfig",330],["T_DOUBLE_COLON","::",330],["T_STRING","load",330],"(",["T_VARIABLE","$field",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","id",330],"(",")",")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","assertEqual",331],"(",["T_VARIABLE","$field",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getSetting",331],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",331],")",",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'default:entity_test_rev'",331],")",";",["T_WHITESPACE","\n\n    ",331],["T_COMMENT","\/\/ Change the handler to another, non-derivative plugin.\n",333],["T_WHITESPACE","    ",334],["T_VARIABLE","$field",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","setSetting",334],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",334],",",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'views'",334],")",";",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$field",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","save",335],"(",")",";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$field",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_STRING","FieldConfig",336],["T_DOUBLE_COLON","::",336],["T_STRING","load",336],"(",["T_VARIABLE","$field",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","id",336],"(",")",")",";",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","assertEqual",337],"(",["T_VARIABLE","$field",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getSetting",337],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",337],")",",",["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'views'",337],")",";",["T_WHITESPACE","\n\n    ",337],["T_COMMENT","\/\/ Change the target_type in the field storage again, and check that the\n",339],["T_WHITESPACE","    ",340],["T_COMMENT","\/\/ non-derivative handler was unchanged.\n",340],["T_WHITESPACE","    ",341],["T_VARIABLE","$field_storage",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setSetting",341],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",341],")",";",["T_WHITESPACE","\n    ",341],["T_VARIABLE","$field_storage",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","save",342],"(",")",";",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$field",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","FieldConfig",343],["T_DOUBLE_COLON","::",343],["T_STRING","load",343],"(",["T_VARIABLE","$field",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","id",343],"(",")",")",";",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","assertEqual",344],"(",["T_VARIABLE","$field",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getSetting",344],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",344],")",",",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'views'",344],")",";",["T_WHITESPACE","\n  ",344],"}",["T_WHITESPACE","\n\n  ",345],["T_DOC_COMMENT","\/**\n   * Tests ValidReferenceConstraint with newly created and unsaved entities.\n   *\/",347],["T_WHITESPACE","\n  ",349],["T_PUBLIC","public",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","testAutocreateValidation",350],"(",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n    ",350],["T_COMMENT","\/\/ The term entity is unsaved here.\n",351],["T_WHITESPACE","    ",352],["T_VARIABLE","$term",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","Term",352],["T_DOUBLE_COLON","::",352],["T_STRING","create",352],"(",["T_ARRAY","array",352],"(",["T_WHITESPACE","\n      ",352],["T_CONSTANT_ENCAPSED_STRING","'name'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","randomMachineName",353],"(",")",",",["T_WHITESPACE","\n      ",353],["T_CONSTANT_ENCAPSED_STRING","'vid'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","term",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","bundle",354],"(",")",",",["T_WHITESPACE","\n      ",354],["T_CONSTANT_ENCAPSED_STRING","'langcode'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_STRING","LanguageInterface",355],["T_DOUBLE_COLON","::",355],["T_STRING","LANGCODE_NOT_SPECIFIED",355],",",["T_WHITESPACE","\n    ",355],")",")",";",["T_WHITESPACE","\n    ",356],["T_VARIABLE","$entity",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","EntityTest",357],["T_DOUBLE_COLON","::",357],["T_STRING","create",357],"(","[",["T_WHITESPACE","\n      ",357],["T_CONSTANT_ENCAPSED_STRING","'field_test_taxonomy_term'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],"[",["T_WHITESPACE","\n        ",358],["T_CONSTANT_ENCAPSED_STRING","'entity'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$term",359],",",["T_WHITESPACE","\n        ",359],["T_CONSTANT_ENCAPSED_STRING","'target_id'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_STRING","NULL",360],",",["T_WHITESPACE","\n      ",360],"]",",",["T_WHITESPACE","\n    ",361],"]",")",";",["T_WHITESPACE","\n    ",362],["T_VARIABLE","$errors",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$entity",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","validate",363],"(",")",";",["T_WHITESPACE","\n    ",363],["T_COMMENT","\/\/ Using target_id of NULL is valid with an unsaved entity.\n",364],["T_WHITESPACE","    ",365],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","assertEqual",365],"(",["T_LNUMBER","0",365],",",["T_WHITESPACE"," ",365],["T_STRING","count",365],"(",["T_VARIABLE","$errors",365],")",")",";",["T_WHITESPACE","\n    ",365],["T_COMMENT","\/\/ Using target_id of NULL is not valid with a saved entity.\n",366],["T_WHITESPACE","    ",367],["T_VARIABLE","$term",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","save",367],"(",")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$entity",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_STRING","EntityTest",368],["T_DOUBLE_COLON","::",368],["T_STRING","create",368],"(","[",["T_WHITESPACE","\n      ",368],["T_CONSTANT_ENCAPSED_STRING","'field_test_taxonomy_term'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],"[",["T_WHITESPACE","\n        ",369],["T_CONSTANT_ENCAPSED_STRING","'entity'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$term",370],",",["T_WHITESPACE","\n        ",370],["T_CONSTANT_ENCAPSED_STRING","'target_id'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_STRING","NULL",371],",",["T_WHITESPACE","\n      ",371],"]",",",["T_WHITESPACE","\n    ",372],"]",")",";",["T_WHITESPACE","\n    ",373],["T_VARIABLE","$errors",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$entity",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","validate",374],"(",")",";",["T_WHITESPACE","\n    ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","assertEqual",375],"(",["T_LNUMBER","1",375],",",["T_WHITESPACE"," ",375],["T_STRING","count",375],"(",["T_VARIABLE","$errors",375],")",")",";",["T_WHITESPACE","\n    ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assertEqual",376],"(",["T_VARIABLE","$errors",376],"[",["T_LNUMBER","0",376],"]",["T_OBJECT_OPERATOR","->",376],["T_STRING","getMessage",376],"(",")",",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'This value should not be null.'",376],")",";",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertEqual",377],"(",["T_VARIABLE","$errors",377],"[",["T_LNUMBER","0",377],"]",["T_OBJECT_OPERATOR","->",377],["T_STRING","getPropertyPath",377],"(",")",",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'field_test_taxonomy_term.0'",377],")",";",["T_WHITESPACE","\n    ",377],["T_COMMENT","\/\/ This should rectify the issue, favoring the entity over the target_id.\n",378],["T_WHITESPACE","    ",379],["T_VARIABLE","$entity",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","save",379],"(",")",";",["T_WHITESPACE","\n    ",379],["T_VARIABLE","$errors",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$entity",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","validate",380],"(",")",";",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertEqual",381],"(",["T_LNUMBER","0",381],",",["T_WHITESPACE"," ",381],["T_STRING","count",381],"(",["T_VARIABLE","$errors",381],")",")",";",["T_WHITESPACE","\n\n    ",381],["T_COMMENT","\/\/ Test with an unpublished and unsaved node.\n",383],["T_WHITESPACE","    ",384],["T_VARIABLE","$title",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","randomString",384],"(",")",";",["T_WHITESPACE","\n    ",384],["T_VARIABLE","$node",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_STRING","Node",385],["T_DOUBLE_COLON","::",385],["T_STRING","create",385],"(","[",["T_WHITESPACE","\n      ",385],["T_CONSTANT_ENCAPSED_STRING","'title'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$title",386],",",["T_WHITESPACE","\n      ",386],["T_CONSTANT_ENCAPSED_STRING","'type'",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'node'",387],",",["T_WHITESPACE","\n      ",387],["T_CONSTANT_ENCAPSED_STRING","'status'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_STRING","NODE_NOT_PUBLISHED",388],",",["T_WHITESPACE","\n    ",388],"]",")",";",["T_WHITESPACE","\n\n    ",389],["T_VARIABLE","$entity",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","EntityTest",391],["T_DOUBLE_COLON","::",391],["T_STRING","create",391],"(","[",["T_WHITESPACE","\n      ",391],["T_CONSTANT_ENCAPSED_STRING","'field_test_node'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],"[",["T_WHITESPACE","\n        ",392],["T_CONSTANT_ENCAPSED_STRING","'entity'",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$node",393],",",["T_WHITESPACE","\n      ",393],"]",",",["T_WHITESPACE","\n    ",394],"]",")",";",["T_WHITESPACE","\n\n    ",395],["T_VARIABLE","$errors",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$entity",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","validate",397],"(",")",";",["T_WHITESPACE","\n    ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","assertEqual",398],"(",["T_LNUMBER","1",398],",",["T_WHITESPACE"," ",398],["T_STRING","count",398],"(",["T_VARIABLE","$errors",398],")",")",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","assertEqual",399],"(",["T_VARIABLE","$errors",399],"[",["T_LNUMBER","0",399],"]",["T_OBJECT_OPERATOR","->",399],["T_STRING","getMessage",399],"(",")",",",["T_WHITESPACE"," ",399],["T_NEW","new",399],["T_WHITESPACE"," ",399],["T_STRING","FormattableMarkup",399],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity (%type: %label) cannot be referenced.'",399],",",["T_WHITESPACE"," ",399],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'node'",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'%label'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$title",399],"]",")",")",";",["T_WHITESPACE","\n    ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","assertEqual",400],"(",["T_VARIABLE","$errors",400],"[",["T_LNUMBER","0",400],"]",["T_OBJECT_OPERATOR","->",400],["T_STRING","getPropertyPath",400],"(",")",",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'field_test_node.0.entity'",400],")",";",["T_WHITESPACE","\n\n    ",400],["T_COMMENT","\/\/ Publish the node and try again.\n",402],["T_WHITESPACE","    ",403],["T_VARIABLE","$node",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","setPublished",403],"(",["T_STRING","TRUE",403],")",";",["T_WHITESPACE","\n    ",403],["T_VARIABLE","$errors",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$entity",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","validate",404],"(",")",";",["T_WHITESPACE","\n    ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","assertEqual",405],"(",["T_LNUMBER","0",405],",",["T_WHITESPACE"," ",405],["T_STRING","count",405],"(",["T_VARIABLE","$errors",405],")",")",";",["T_WHITESPACE","\n\n    ",405],["T_COMMENT","\/\/ Test with a mix of valid and invalid nodes.\n",407],["T_WHITESPACE","    ",408],["T_VARIABLE","$unsaved_unpublished_node_title",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","randomString",408],"(",")",";",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$unsaved_unpublished_node",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","Node",409],["T_DOUBLE_COLON","::",409],["T_STRING","create",409],"(","[",["T_WHITESPACE","\n      ",409],["T_CONSTANT_ENCAPSED_STRING","'title'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$unsaved_unpublished_node_title",410],",",["T_WHITESPACE","\n      ",410],["T_CONSTANT_ENCAPSED_STRING","'type'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'node'",411],",",["T_WHITESPACE","\n      ",411],["T_CONSTANT_ENCAPSED_STRING","'status'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_STRING","NODE_NOT_PUBLISHED",412],",",["T_WHITESPACE","\n    ",412],"]",")",";",["T_WHITESPACE","\n\n    ",413],["T_VARIABLE","$saved_unpublished_node_title",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","randomString",415],"(",")",";",["T_WHITESPACE","\n    ",415],["T_VARIABLE","$saved_unpublished_node",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","Node",416],["T_DOUBLE_COLON","::",416],["T_STRING","create",416],"(","[",["T_WHITESPACE","\n      ",416],["T_CONSTANT_ENCAPSED_STRING","'title'",417],["T_WHITESPACE"," ",417],["T_DOUBLE_ARROW","=>",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$saved_unpublished_node_title",417],",",["T_WHITESPACE","\n      ",417],["T_CONSTANT_ENCAPSED_STRING","'type'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'node'",418],",",["T_WHITESPACE","\n      ",418],["T_CONSTANT_ENCAPSED_STRING","'status'",419],["T_WHITESPACE"," ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],["T_STRING","NODE_NOT_PUBLISHED",419],",",["T_WHITESPACE","\n    ",419],"]",")",";",["T_WHITESPACE","\n    ",420],["T_VARIABLE","$saved_unpublished_node",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","save",421],"(",")",";",["T_WHITESPACE","\n\n    ",421],["T_VARIABLE","$saved_published_node_title",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","randomString",423],"(",")",";",["T_WHITESPACE","\n    ",423],["T_VARIABLE","$saved_published_node",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","Node",424],["T_DOUBLE_COLON","::",424],["T_STRING","create",424],"(","[",["T_WHITESPACE","\n      ",424],["T_CONSTANT_ENCAPSED_STRING","'title'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$saved_published_node_title",425],",",["T_WHITESPACE","\n      ",425],["T_CONSTANT_ENCAPSED_STRING","'type'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'node'",426],",",["T_WHITESPACE","\n      ",426],["T_CONSTANT_ENCAPSED_STRING","'status'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_STRING","NODE_PUBLISHED",427],",",["T_WHITESPACE","\n    ",427],"]",")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$saved_published_node",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","save",429],"(",")",";",["T_WHITESPACE","\n\n    ",429],["T_VARIABLE","$entity",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","EntityTest",431],["T_DOUBLE_COLON","::",431],["T_STRING","create",431],"(","[",["T_WHITESPACE","\n      ",431],["T_CONSTANT_ENCAPSED_STRING","'field_test_node'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],"[",["T_WHITESPACE","\n        ",432],"[",["T_WHITESPACE","\n          ",433],["T_CONSTANT_ENCAPSED_STRING","'entity'",434],["T_WHITESPACE"," ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$unsaved_unpublished_node",434],",",["T_WHITESPACE","\n        ",434],"]",",",["T_WHITESPACE","\n        ",435],"[",["T_WHITESPACE","\n          ",436],["T_CONSTANT_ENCAPSED_STRING","'target_id'",437],["T_WHITESPACE"," ",437],["T_DOUBLE_ARROW","=>",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$saved_unpublished_node",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","id",437],"(",")",",",["T_WHITESPACE","\n        ",437],"]",",",["T_WHITESPACE","\n        ",438],"[",["T_WHITESPACE","\n          ",439],["T_CONSTANT_ENCAPSED_STRING","'target_id'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$saved_published_node",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","id",440],"(",")",",",["T_WHITESPACE","\n        ",440],"]",",",["T_WHITESPACE","\n      ",441],"]",",",["T_WHITESPACE","\n    ",442],"]",")",";",["T_WHITESPACE","\n\n    ",443],["T_VARIABLE","$errors",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$entity",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","validate",445],"(",")",";",["T_WHITESPACE","\n    ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","assertEqual",446],"(",["T_LNUMBER","2",446],",",["T_WHITESPACE"," ",446],["T_STRING","count",446],"(",["T_VARIABLE","$errors",446],")",")",";",["T_WHITESPACE","\n    ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","assertEqual",447],"(",["T_VARIABLE","$errors",447],"[",["T_LNUMBER","0",447],"]",["T_OBJECT_OPERATOR","->",447],["T_STRING","getMessage",447],"(",")",",",["T_WHITESPACE"," ",447],["T_NEW","new",447],["T_WHITESPACE"," ",447],["T_STRING","FormattableMarkup",447],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity (%type: %label) cannot be referenced.'",447],",",["T_WHITESPACE"," ",447],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'node'",447],",",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'%label'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$unsaved_unpublished_node_title",447],"]",")",")",";",["T_WHITESPACE","\n    ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","assertEqual",448],"(",["T_VARIABLE","$errors",448],"[",["T_LNUMBER","0",448],"]",["T_OBJECT_OPERATOR","->",448],["T_STRING","getPropertyPath",448],"(",")",",",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'field_test_node.0.entity'",448],")",";",["T_WHITESPACE","\n    ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","assertEqual",449],"(",["T_VARIABLE","$errors",449],"[",["T_LNUMBER","1",449],"]",["T_OBJECT_OPERATOR","->",449],["T_STRING","getMessage",449],"(",")",",",["T_WHITESPACE"," ",449],["T_NEW","new",449],["T_WHITESPACE"," ",449],["T_STRING","FormattableMarkup",449],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity (%type: %label) cannot be referenced.'",449],",",["T_WHITESPACE"," ",449],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'node'",449],",",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'%label'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$saved_unpublished_node",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","id",449],"(",")","]",")",")",";",["T_WHITESPACE","\n    ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","assertEqual",450],"(",["T_VARIABLE","$errors",450],"[",["T_LNUMBER","1",450],"]",["T_OBJECT_OPERATOR","->",450],["T_STRING","getPropertyPath",450],"(",")",",",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'field_test_node.1.target_id'",450],")",";",["T_WHITESPACE","\n\n    ",450],["T_COMMENT","\/\/ Publish one of the nodes and try again.\n",452],["T_WHITESPACE","    ",453],["T_VARIABLE","$saved_unpublished_node",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","setPublished",453],"(",["T_STRING","TRUE",453],")",";",["T_WHITESPACE","\n    ",453],["T_VARIABLE","$saved_unpublished_node",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","save",454],"(",")",";",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$errors",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$entity",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","validate",455],"(",")",";",["T_WHITESPACE","\n    ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","assertEqual",456],"(",["T_LNUMBER","1",456],",",["T_WHITESPACE"," ",456],["T_STRING","count",456],"(",["T_VARIABLE","$errors",456],")",")",";",["T_WHITESPACE","\n    ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","assertEqual",457],"(",["T_VARIABLE","$errors",457],"[",["T_LNUMBER","0",457],"]",["T_OBJECT_OPERATOR","->",457],["T_STRING","getMessage",457],"(",")",",",["T_WHITESPACE"," ",457],["T_NEW","new",457],["T_WHITESPACE"," ",457],["T_STRING","FormattableMarkup",457],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity (%type: %label) cannot be referenced.'",457],",",["T_WHITESPACE"," ",457],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'node'",457],",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'%label'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$unsaved_unpublished_node_title",457],"]",")",")",";",["T_WHITESPACE","\n    ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","assertEqual",458],"(",["T_VARIABLE","$errors",458],"[",["T_LNUMBER","0",458],"]",["T_OBJECT_OPERATOR","->",458],["T_STRING","getPropertyPath",458],"(",")",",",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'field_test_node.0.entity'",458],")",";",["T_WHITESPACE","\n\n    ",458],["T_COMMENT","\/\/ Publish the last invalid node and try again.\n",460],["T_WHITESPACE","    ",461],["T_VARIABLE","$unsaved_unpublished_node",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","setPublished",461],"(",["T_STRING","TRUE",461],")",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$errors",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$entity",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","validate",462],"(",")",";",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","assertEqual",463],"(",["T_LNUMBER","0",463],",",["T_WHITESPACE"," ",463],["T_STRING","count",463],"(",["T_VARIABLE","$errors",463],")",")",";",["T_WHITESPACE","\n\n    ",463],["T_COMMENT","\/\/ Test with an unpublished and unsaved comment.\n",465],["T_WHITESPACE","    ",466],["T_VARIABLE","$title",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","randomString",466],"(",")",";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$comment",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","Comment",467],["T_DOUBLE_COLON","::",467],["T_STRING","create",467],"(","[",["T_WHITESPACE","\n      ",467],["T_CONSTANT_ENCAPSED_STRING","'subject'",468],["T_WHITESPACE"," ",468],["T_DOUBLE_ARROW","=>",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$title",468],",",["T_WHITESPACE","\n      ",468],["T_CONSTANT_ENCAPSED_STRING","'comment_type'",469],["T_WHITESPACE"," ",469],["T_DOUBLE_ARROW","=>",469],["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","'comment'",469],",",["T_WHITESPACE","\n      ",469],["T_CONSTANT_ENCAPSED_STRING","'status'",470],["T_WHITESPACE"," ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],["T_LNUMBER","0",470],",",["T_WHITESPACE","\n    ",470],"]",")",";",["T_WHITESPACE","\n\n    ",471],["T_VARIABLE","$entity",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_STRING","EntityTest",473],["T_DOUBLE_COLON","::",473],["T_STRING","create",473],"(","[",["T_WHITESPACE","\n      ",473],["T_CONSTANT_ENCAPSED_STRING","'field_test_comment'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],"[",["T_WHITESPACE","\n        ",474],["T_CONSTANT_ENCAPSED_STRING","'entity'",475],["T_WHITESPACE"," ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$comment",475],",",["T_WHITESPACE","\n      ",475],"]",",",["T_WHITESPACE","\n    ",476],"]",")",";",["T_WHITESPACE","\n\n    ",477],["T_VARIABLE","$errors",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$entity",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","validate",479],"(",")",";",["T_WHITESPACE","\n    ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","assertEqual",480],"(",["T_LNUMBER","1",480],",",["T_WHITESPACE"," ",480],["T_STRING","count",480],"(",["T_VARIABLE","$errors",480],")",")",";",["T_WHITESPACE","\n    ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","assertEqual",481],"(",["T_VARIABLE","$errors",481],"[",["T_LNUMBER","0",481],"]",["T_OBJECT_OPERATOR","->",481],["T_STRING","getMessage",481],"(",")",",",["T_WHITESPACE"," ",481],["T_NEW","new",481],["T_WHITESPACE"," ",481],["T_STRING","FormattableMarkup",481],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity (%type: %label) cannot be referenced.'",481],",",["T_WHITESPACE"," ",481],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",481],["T_WHITESPACE"," ",481],["T_DOUBLE_ARROW","=>",481],["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'comment'",481],",",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'%label'",481],["T_WHITESPACE"," ",481],["T_DOUBLE_ARROW","=>",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$title",481],"]",")",")",";",["T_WHITESPACE","\n    ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","assertEqual",482],"(",["T_VARIABLE","$errors",482],"[",["T_LNUMBER","0",482],"]",["T_OBJECT_OPERATOR","->",482],["T_STRING","getPropertyPath",482],"(",")",",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'field_test_comment.0.entity'",482],")",";",["T_WHITESPACE","\n\n    ",482],["T_COMMENT","\/\/ Publish the comment and try again.\n",484],["T_WHITESPACE","    ",485],["T_VARIABLE","$comment",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","setPublished",485],"(",["T_STRING","TRUE",485],")",";",["T_WHITESPACE","\n    ",485],["T_VARIABLE","$errors",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$entity",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","validate",486],"(",")",";",["T_WHITESPACE","\n    ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","assertEqual",487],"(",["T_LNUMBER","0",487],",",["T_WHITESPACE"," ",487],["T_STRING","count",487],"(",["T_VARIABLE","$errors",487],")",")",";",["T_WHITESPACE","\n\n    ",487],["T_COMMENT","\/\/ Test with an inactive and unsaved user.\n",489],["T_WHITESPACE","    ",490],["T_VARIABLE","$name",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","randomString",490],"(",")",";",["T_WHITESPACE","\n    ",490],["T_VARIABLE","$user",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_STRING","User",491],["T_DOUBLE_COLON","::",491],["T_STRING","create",491],"(","[",["T_WHITESPACE","\n      ",491],["T_CONSTANT_ENCAPSED_STRING","'name'",492],["T_WHITESPACE"," ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$name",492],",",["T_WHITESPACE","\n      ",492],["T_CONSTANT_ENCAPSED_STRING","'status'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],["T_LNUMBER","0",493],",",["T_WHITESPACE","\n    ",493],"]",")",";",["T_WHITESPACE","\n\n    ",494],["T_VARIABLE","$entity",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","EntityTest",496],["T_DOUBLE_COLON","::",496],["T_STRING","create",496],"(","[",["T_WHITESPACE","\n      ",496],["T_CONSTANT_ENCAPSED_STRING","'field_test_user'",497],["T_WHITESPACE"," ",497],["T_DOUBLE_ARROW","=>",497],["T_WHITESPACE"," ",497],"[",["T_WHITESPACE","\n        ",497],["T_CONSTANT_ENCAPSED_STRING","'entity'",498],["T_WHITESPACE"," ",498],["T_DOUBLE_ARROW","=>",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$user",498],",",["T_WHITESPACE","\n      ",498],"]",",",["T_WHITESPACE","\n    ",499],"]",")",";",["T_WHITESPACE","\n\n    ",500],["T_VARIABLE","$errors",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$entity",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","validate",502],"(",")",";",["T_WHITESPACE","\n    ",502],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","assertEqual",503],"(",["T_LNUMBER","1",503],",",["T_WHITESPACE"," ",503],["T_STRING","count",503],"(",["T_VARIABLE","$errors",503],")",")",";",["T_WHITESPACE","\n    ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","assertEqual",504],"(",["T_VARIABLE","$errors",504],"[",["T_LNUMBER","0",504],"]",["T_OBJECT_OPERATOR","->",504],["T_STRING","getMessage",504],"(",")",",",["T_WHITESPACE"," ",504],["T_NEW","new",504],["T_WHITESPACE"," ",504],["T_STRING","FormattableMarkup",504],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity (%type: %label) cannot be referenced.'",504],",",["T_WHITESPACE"," ",504],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",504],["T_WHITESPACE"," ",504],["T_DOUBLE_ARROW","=>",504],["T_WHITESPACE"," ",504],["T_CONSTANT_ENCAPSED_STRING","'user'",504],",",["T_WHITESPACE"," ",504],["T_CONSTANT_ENCAPSED_STRING","'%label'",504],["T_WHITESPACE"," ",504],["T_DOUBLE_ARROW","=>",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$name",504],"]",")",")",";",["T_WHITESPACE","\n    ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","assertEqual",505],"(",["T_VARIABLE","$errors",505],"[",["T_LNUMBER","0",505],"]",["T_OBJECT_OPERATOR","->",505],["T_STRING","getPropertyPath",505],"(",")",",",["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'field_test_user.0.entity'",505],")",";",["T_WHITESPACE","\n\n    ",505],["T_COMMENT","\/\/ Activate the user and try again.\n",507],["T_WHITESPACE","    ",508],["T_VARIABLE","$user",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","activate",508],"(",")",";",["T_WHITESPACE","\n    ",508],["T_VARIABLE","$errors",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$entity",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","validate",509],"(",")",";",["T_WHITESPACE","\n    ",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","assertEqual",510],"(",["T_LNUMBER","0",510],",",["T_WHITESPACE"," ",510],["T_STRING","count",510],"(",["T_VARIABLE","$errors",510],")",")",";",["T_WHITESPACE","\n\n    ",510],["T_COMMENT","\/\/ Test with a temporary and unsaved file.\n",512],["T_WHITESPACE","    ",513],["T_VARIABLE","$filename",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","randomMachineName",513],"(",")",["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","'.txt'",513],";",["T_WHITESPACE","\n    ",513],["T_VARIABLE","$file",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","File",514],["T_DOUBLE_COLON","::",514],["T_STRING","create",514],"(","[",["T_WHITESPACE","\n      ",514],["T_CONSTANT_ENCAPSED_STRING","'filename'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$filename",515],",",["T_WHITESPACE","\n      ",515],["T_CONSTANT_ENCAPSED_STRING","'status'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_LNUMBER","0",516],",",["T_WHITESPACE","\n    ",516],"]",")",";",["T_WHITESPACE","\n\n    ",517],["T_VARIABLE","$entity",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_STRING","EntityTest",519],["T_DOUBLE_COLON","::",519],["T_STRING","create",519],"(","[",["T_WHITESPACE","\n      ",519],["T_CONSTANT_ENCAPSED_STRING","'field_test_file'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],"[",["T_WHITESPACE","\n        ",520],["T_CONSTANT_ENCAPSED_STRING","'entity'",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$file",521],",",["T_WHITESPACE","\n      ",521],"]",",",["T_WHITESPACE","\n    ",522],"]",")",";",["T_WHITESPACE","\n\n    ",523],["T_VARIABLE","$errors",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$entity",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","validate",525],"(",")",";",["T_WHITESPACE","\n    ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","assertEqual",526],"(",["T_LNUMBER","1",526],",",["T_WHITESPACE"," ",526],["T_STRING","count",526],"(",["T_VARIABLE","$errors",526],")",")",";",["T_WHITESPACE","\n    ",526],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","assertEqual",527],"(",["T_VARIABLE","$errors",527],"[",["T_LNUMBER","0",527],"]",["T_OBJECT_OPERATOR","->",527],["T_STRING","getMessage",527],"(",")",",",["T_WHITESPACE"," ",527],["T_NEW","new",527],["T_WHITESPACE"," ",527],["T_STRING","FormattableMarkup",527],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity (%type: %label) cannot be referenced.'",527],",",["T_WHITESPACE"," ",527],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'file'",527],",",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'%label'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$filename",527],"]",")",")",";",["T_WHITESPACE","\n    ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","assertEqual",528],"(",["T_VARIABLE","$errors",528],"[",["T_LNUMBER","0",528],"]",["T_OBJECT_OPERATOR","->",528],["T_STRING","getPropertyPath",528],"(",")",",",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'field_test_file.0.entity'",528],")",";",["T_WHITESPACE","\n\n    ",528],["T_COMMENT","\/\/ Set the file as permanent and try again.\n",530],["T_WHITESPACE","    ",531],["T_VARIABLE","$file",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","setPermanent",531],"(",")",";",["T_WHITESPACE","\n    ",531],["T_VARIABLE","$errors",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_VARIABLE","$entity",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","validate",532],"(",")",";",["T_WHITESPACE","\n    ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","assertEqual",533],"(",["T_LNUMBER","0",533],",",["T_WHITESPACE"," ",533],["T_STRING","count",533],"(",["T_VARIABLE","$errors",533],")",")",";",["T_WHITESPACE","\n  ",533],"}",["T_WHITESPACE","\n\n",534],"}",["T_WHITESPACE","\n",536]]