[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EntityReference",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","entity_test",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityTestMulChanged",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityReference",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityReferenceTestTrait",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","entity_test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityTest",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","entity_test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTestMul",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","views",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Kernel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ViewsKernelTestBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","views",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Tests",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ViewTestData",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","views",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Views",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Tests entity reference relationship data.\n *\n * @group entity_reference\n *\n * @see core_field_views_data()\n *\/",13],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","EntityReferenceRelationshipTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","ViewsKernelTestBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","EntityReferenceTestTrait",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$testViews",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_WHITESPACE","\n    ",29],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_entity_test_view'",30],",",["T_WHITESPACE","\n    ",30],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_entity_test_view_long'",31],",",["T_WHITESPACE","\n    ",31],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_reverse_entity_test_view'",32],",",["T_WHITESPACE","\n    ",32],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_entity_test_mul_view'",33],",",["T_WHITESPACE","\n    ",33],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_reverse_entity_test_mul_view'",34],",",["T_WHITESPACE","\n    ",34],")",";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_STATIC","static",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$modules",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'field'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'views'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_test_views'",42],"]",";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * The entity_test entities used by the test.\n   *\n   * @var array\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$entities",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","setUp",54],"(",["T_VARIABLE","$import_test_views",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","TRUE",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_STRING","parent",55],["T_DOUBLE_COLON","::",55],["T_STRING","setUp",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","installEntitySchema",57],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","installEntitySchema",58],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","installEntitySchema",59],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","installEntitySchema",60],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul_changed'",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Create reference from entity_test to entity_test_mul.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","createEntityReferenceField",63],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Create reference from entity_test_mul to entity_test.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","createEntityReferenceField",66],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Create another field for testing with a long name. So it's storage name\n",68],["T_WHITESPACE","    ",69],["T_COMMENT","\/\/ will become hashed. Use entity_test_mul_changed, so the resulting field\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ tables created will be greater than 48 chars long.\n",70],["T_WHITESPACE","    ",71],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Entity\\Sql\\DefaultTableMapping::generateFieldTableName()\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","createEntityReferenceField",72],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul_changed'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul_changed'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'field_test_data_with_a_long_name'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'field_test_data_with_a_long_name'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_STRING","ViewTestData",74],["T_DOUBLE_COLON","::",74],["T_STRING","createTestViews",74],"(",["T_STRING","get_class",74],"(",["T_VARIABLE","$this",74],")",",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference_test_views'",74],")",")",";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * Tests using the views relationship.\n   *\/",77],["T_WHITESPACE","\n  ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","testNoDataTableRelationship",80],"(",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Create some test entities which link each other.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$referenced_entity",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","EntityTestMul",83],["T_DOUBLE_COLON","::",83],["T_STRING","create",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$referenced_entity",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$entity",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","EntityTest",86],["T_DOUBLE_COLON","::",86],["T_STRING","create",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","field_test_data",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","target_id",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$referenced_entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$entity",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","save",88],"(",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_VARIABLE","$entity",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","field_test_data",89],"[",["T_LNUMBER","0",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","entity",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","id",89],"(",")",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$referenced_entity",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","id",89],"(",")",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","entities",90],"[","]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$entity",90],";",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$entity",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","EntityTest",92],["T_DOUBLE_COLON","::",92],["T_STRING","create",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$entity",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","field_test_data",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","target_id",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$referenced_entity",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","id",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$entity",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","save",94],"(",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEqual",95],"(",["T_VARIABLE","$entity",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","field_test_data",95],"[",["T_LNUMBER","0",95],"]",["T_OBJECT_OPERATOR","->",95],["T_STRING","entity",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","id",95],"(",")",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$referenced_entity",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","id",95],"(",")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","entities",96],"[","]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$entity",96],";",["T_WHITESPACE","\n\n    ",96],["T_STRING","Views",98],["T_DOUBLE_COLON","::",98],["T_STRING","viewsData",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","clear",98],"(",")",";",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Check the generated views data.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$views_data",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","Views",101],["T_DOUBLE_COLON","::",101],["T_STRING","viewsData",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test__field_test_data'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEqual",102],"(",["T_VARIABLE","$views_data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",102],"]",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'standard'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEqual",103],"(",["T_VARIABLE","$views_data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base'",103],"]",",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul_property_data'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEqual",104],"(",["T_VARIABLE","$views_data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base field'",104],"]",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'id'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$views_data",105],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship field'",105],"]",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'field_test_data_target_id'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$views_data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",106],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",106],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",106],"]",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Check the backwards reference.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$views_data",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","Views",109],["T_DOUBLE_COLON","::",109],["T_STRING","viewsData",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","get",109],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul_property_data'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEqual",110],"(",["T_VARIABLE","$views_data",110],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",110],"]",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'entity_reverse'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEqual",111],"(",["T_VARIABLE","$views_data",111],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",111],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",111],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base'",111],"]",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_VARIABLE","$views_data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base field'",112],"]",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'id'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEqual",113],"(",["T_VARIABLE","$views_data",113],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field table'",113],"]",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'entity_test__field_test_data'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertEqual",114],"(",["T_VARIABLE","$views_data",114],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",114],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",114],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field field'",114],"]",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'field_test_data_target_id'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertEqual",115],"(",["T_VARIABLE","$views_data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",115],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",115],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",115],"]",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertEqual",116],"(",["T_VARIABLE","$views_data",116],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",116],"]",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertEqual",117],"(",["T_VARIABLE","$views_data",117],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",117],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",117],"]","[",["T_CONSTANT_ENCAPSED_STRING","'join_extra'",117],"]","[",["T_LNUMBER","0",117],"]",",",["T_WHITESPACE"," ",117],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'deleted'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'value'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_LNUMBER","0",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'numeric'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_STRING","TRUE",117],"]",")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Check an actual test view.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$view",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","Views",120],["T_DOUBLE_COLON","::",120],["T_STRING","getView",120],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_entity_test_view'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","executeView",121],"(",["T_VARIABLE","$view",121],")",";",["T_WHITESPACE","\n    ",121],["T_DOC_COMMENT","\/** @var \\Drupal\\views\\ResultRow $row *\/",122],["T_WHITESPACE","\n    ",122],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$view",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","result",123],["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$index",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$row",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n      ",123],["T_COMMENT","\/\/ Check that the actual ID of the entity is the expected one.\n",124],["T_WHITESPACE","      ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_VARIABLE","$row",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","id",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","entities",125],"[",["T_VARIABLE","$index",125],"]",["T_OBJECT_OPERATOR","->",125],["T_STRING","id",125],"(",")",")",";",["T_WHITESPACE","\n\n      ",125],["T_COMMENT","\/\/ Also check that we have the correct result entity.\n",127],["T_WHITESPACE","      ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertEqual",128],"(",["T_VARIABLE","$row",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_entity",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","id",128],"(",")",",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","entities",128],"[",["T_VARIABLE","$index",128],"]",["T_OBJECT_OPERATOR","->",128],["T_STRING","id",128],"(",")",")",";",["T_WHITESPACE","\n\n      ",128],["T_COMMENT","\/\/ Test the forward relationship.\n",130],["T_WHITESPACE","      ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$row",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","entity_test_mul_property_data_entity_test__field_test_data_i",131],",",["T_WHITESPACE"," ",131],["T_LNUMBER","1",131],")",";",["T_WHITESPACE","\n\n      ",131],["T_COMMENT","\/\/ Test that the correct relationship entity is on the row.\n",133],["T_WHITESPACE","      ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEqual",134],"(",["T_VARIABLE","$row",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_relationship_entities",134],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",134],"]",["T_OBJECT_OPERATOR","->",134],["T_STRING","id",134],"(",")",",",["T_WHITESPACE"," ",134],["T_LNUMBER","1",134],")",";",["T_WHITESPACE","\n      ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertEqual",135],"(",["T_VARIABLE","$row",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_relationship_entities",135],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data'",135],"]",["T_OBJECT_OPERATOR","->",135],["T_STRING","bundle",135],"(",")",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",135],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Check the backwards reference view.\n",138],["T_WHITESPACE","    ",139],["T_VARIABLE","$view",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","Views",139],["T_DOUBLE_COLON","::",139],["T_STRING","getView",139],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_reverse_entity_test_view'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","executeView",140],"(",["T_VARIABLE","$view",140],")",";",["T_WHITESPACE","\n    ",140],["T_DOC_COMMENT","\/** @var \\Drupal\\views\\ResultRow $row *\/",141],["T_WHITESPACE","\n    ",141],["T_FOREACH","foreach",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$view",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","result",142],["T_WHITESPACE"," ",142],["T_AS","as",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$index",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$row",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertEqual",143],"(",["T_VARIABLE","$row",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","id",143],",",["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],")",";",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEqual",144],"(",["T_VARIABLE","$row",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_entity",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","id",144],"(",")",",",["T_WHITESPACE"," ",144],["T_LNUMBER","1",144],")",";",["T_WHITESPACE","\n\n      ",144],["T_COMMENT","\/\/ Test the backwards relationship.\n",146],["T_WHITESPACE","      ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEqual",147],"(",["T_VARIABLE","$row",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","field_test_data_entity_test_mul_property_data_id",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","entities",147],"[",["T_VARIABLE","$index",147],"]",["T_OBJECT_OPERATOR","->",147],["T_STRING","id",147],"(",")",")",";",["T_WHITESPACE","\n\n      ",147],["T_COMMENT","\/\/ Test that the correct relationship entity is on the row.\n",149],["T_WHITESPACE","      ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEqual",150],"(",["T_VARIABLE","$row",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_relationship_entities",150],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",150],"]",["T_OBJECT_OPERATOR","->",150],["T_STRING","id",150],"(",")",",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","entities",150],"[",["T_VARIABLE","$index",150],"]",["T_OBJECT_OPERATOR","->",150],["T_STRING","id",150],"(",")",")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertEqual",151],"(",["T_VARIABLE","$row",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_relationship_entities",151],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test__field_test_data'",151],"]",["T_OBJECT_OPERATOR","->",151],["T_STRING","bundle",151],"(",")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",151],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * Tests views data generated for relationship.\n   *\n   * @see entity_reference_field_views_data()\n   *\/",155],["T_WHITESPACE","\n  ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","testDataTableRelationship",160],"(",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/\/ Create some test entities which link each other.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$referenced_entity",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","EntityTest",163],["T_DOUBLE_COLON","::",163],["T_STRING","create",163],"(",")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$referenced_entity",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","save",164],"(",")",";",["T_WHITESPACE","\n\n    ",164],["T_VARIABLE","$entity",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","EntityTestMul",166],["T_DOUBLE_COLON","::",166],["T_STRING","create",166],"(",")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$entity",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","field_data_test",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","target_id",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$referenced_entity",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","id",167],"(",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$entity",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","save",168],"(",")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEqual",169],"(",["T_VARIABLE","$entity",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","field_data_test",169],"[",["T_LNUMBER","0",169],"]",["T_OBJECT_OPERATOR","->",169],["T_STRING","entity",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","id",169],"(",")",",",["T_WHITESPACE"," ",169],["T_VARIABLE","$referenced_entity",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","id",169],"(",")",")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","entities",170],"[","]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$entity",170],";",["T_WHITESPACE","\n\n    ",170],["T_VARIABLE","$entity",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","EntityTestMul",172],["T_DOUBLE_COLON","::",172],["T_STRING","create",172],"(",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$entity",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","field_data_test",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","target_id",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$referenced_entity",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","id",173],"(",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$entity",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","save",174],"(",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEqual",175],"(",["T_VARIABLE","$entity",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","field_data_test",175],"[",["T_LNUMBER","0",175],"]",["T_OBJECT_OPERATOR","->",175],["T_STRING","entity",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","id",175],"(",")",",",["T_WHITESPACE"," ",175],["T_VARIABLE","$referenced_entity",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","id",175],"(",")",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","entities",176],"[","]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$entity",176],";",["T_WHITESPACE","\n\n    ",176],["T_STRING","Views",178],["T_DOUBLE_COLON","::",178],["T_STRING","viewsData",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","clear",178],"(",")",";",["T_WHITESPACE","\n\n    ",178],["T_COMMENT","\/\/ Check the generated views data.\n",180],["T_WHITESPACE","    ",181],["T_VARIABLE","$views_data",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","Views",181],["T_DOUBLE_COLON","::",181],["T_STRING","viewsData",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","get",181],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul__field_data_test'",181],")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertEqual",182],"(",["T_VARIABLE","$views_data",182],"[",["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",182],"]",",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'standard'",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertEqual",183],"(",["T_VARIABLE","$views_data",183],"[",["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base'",183],"]",",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertEqual",184],"(",["T_VARIABLE","$views_data",184],"[",["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base field'",184],"]",",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'id'",184],")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEqual",185],"(",["T_VARIABLE","$views_data",185],"[",["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship field'",185],"]",",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'field_data_test_target_id'",185],")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertEqual",186],"(",["T_VARIABLE","$views_data",186],"[",["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",186],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",186],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",186],"]",",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",186],")",";",["T_WHITESPACE","\n\n    ",186],["T_COMMENT","\/\/ Check the backwards reference.\n",188],["T_WHITESPACE","    ",189],["T_VARIABLE","$views_data",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","Views",189],["T_DOUBLE_COLON","::",189],["T_STRING","viewsData",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","get",189],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",189],")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertEqual",190],"(",["T_VARIABLE","$views_data",190],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",190],"]",",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'entity_reverse'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEqual",191],"(",["T_VARIABLE","$views_data",191],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",191],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",191],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base'",191],"]",",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul_property_data'",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertEqual",192],"(",["T_VARIABLE","$views_data",192],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",192],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",192],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base field'",192],"]",",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'id'",192],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertEqual",193],"(",["T_VARIABLE","$views_data",193],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",193],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",193],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field table'",193],"]",",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul__field_data_test'",193],")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertEqual",194],"(",["T_VARIABLE","$views_data",194],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",194],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",194],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field field'",194],"]",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'field_data_test_target_id'",194],")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertEqual",195],"(",["T_VARIABLE","$views_data",195],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",195],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",195],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",195],"]",",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertEqual",196],"(",["T_VARIABLE","$views_data",196],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",196],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",196],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",196],"]",",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",196],")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertEqual",197],"(",["T_VARIABLE","$views_data",197],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'relationship'",197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'join_extra'",197],"]","[",["T_LNUMBER","0",197],"]",",",["T_WHITESPACE"," ",197],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'deleted'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'value'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_LNUMBER","0",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'numeric'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_STRING","TRUE",197],"]",")",";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Check an actual test view.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$view",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","Views",200],["T_DOUBLE_COLON","::",200],["T_STRING","getView",200],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_entity_test_mul_view'",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","executeView",201],"(",["T_VARIABLE","$view",201],")",";",["T_WHITESPACE","\n    ",201],["T_DOC_COMMENT","\/** @var \\Drupal\\views\\ResultRow $row *\/",202],["T_WHITESPACE","\n    ",202],["T_FOREACH","foreach",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$view",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","result",203],["T_WHITESPACE"," ",203],["T_AS","as",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$index",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$row",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n      ",203],["T_COMMENT","\/\/ Check that the actual ID of the entity is the expected one.\n",204],["T_WHITESPACE","      ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertEqual",205],"(",["T_VARIABLE","$row",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","id",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","entities",205],"[",["T_VARIABLE","$index",205],"]",["T_OBJECT_OPERATOR","->",205],["T_STRING","id",205],"(",")",")",";",["T_WHITESPACE","\n\n      ",205],["T_COMMENT","\/\/ Also check that we have the correct result entity.\n",207],["T_WHITESPACE","      ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertEqual",208],"(",["T_VARIABLE","$row",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_entity",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","id",208],"(",")",",",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","entities",208],"[",["T_VARIABLE","$index",208],"]",["T_OBJECT_OPERATOR","->",208],["T_STRING","id",208],"(",")",")",";",["T_WHITESPACE","\n\n      ",208],["T_COMMENT","\/\/ Test the forward relationship.\n",210],["T_WHITESPACE","      ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEqual",211],"(",["T_VARIABLE","$row",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","entity_test_entity_test_mul__field_data_test_id",211],",",["T_WHITESPACE"," ",211],["T_LNUMBER","1",211],")",";",["T_WHITESPACE","\n\n      ",211],["T_COMMENT","\/\/ Test that the correct relationship entity is on the row.\n",213],["T_WHITESPACE","      ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEqual",214],"(",["T_VARIABLE","$row",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_relationship_entities",214],"[",["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",214],"]",["T_OBJECT_OPERATOR","->",214],["T_STRING","id",214],"(",")",",",["T_WHITESPACE"," ",214],["T_LNUMBER","1",214],")",";",["T_WHITESPACE","\n      ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertEqual",215],"(",["T_VARIABLE","$row",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_relationship_entities",215],"[",["T_CONSTANT_ENCAPSED_STRING","'field_data_test'",215],"]",["T_OBJECT_OPERATOR","->",215],["T_STRING","bundle",215],"(",")",",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",215],")",";",["T_WHITESPACE","\n\n    ",215],"}",["T_WHITESPACE","\n\n    ",217],["T_COMMENT","\/\/ Check the backwards reference view.\n",219],["T_WHITESPACE","    ",220],["T_VARIABLE","$view",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","Views",220],["T_DOUBLE_COLON","::",220],["T_STRING","getView",220],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_reverse_entity_test_mul_view'",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","executeView",221],"(",["T_VARIABLE","$view",221],")",";",["T_WHITESPACE","\n    ",221],["T_DOC_COMMENT","\/** @var \\Drupal\\views\\ResultRow $row *\/",222],["T_WHITESPACE","\n    ",222],["T_FOREACH","foreach",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$view",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","result",223],["T_WHITESPACE"," ",223],["T_AS","as",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$index",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$row",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n      ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertEqual",224],"(",["T_VARIABLE","$row",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","id",224],",",["T_WHITESPACE"," ",224],["T_LNUMBER","1",224],")",";",["T_WHITESPACE","\n      ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertEqual",225],"(",["T_VARIABLE","$row",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_entity",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","id",225],"(",")",",",["T_WHITESPACE"," ",225],["T_LNUMBER","1",225],")",";",["T_WHITESPACE","\n\n      ",225],["T_COMMENT","\/\/ Test the backwards relationship.\n",227],["T_WHITESPACE","      ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertEqual",228],"(",["T_VARIABLE","$row",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","field_data_test_entity_test_id",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","entities",228],"[",["T_VARIABLE","$index",228],"]",["T_OBJECT_OPERATOR","->",228],["T_STRING","id",228],"(",")",")",";",["T_WHITESPACE","\n\n      ",228],["T_COMMENT","\/\/ Test that the correct relationship entity is on the row.\n",230],["T_WHITESPACE","      ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertEqual",231],"(",["T_VARIABLE","$row",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_relationship_entities",231],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",231],"]",["T_OBJECT_OPERATOR","->",231],["T_STRING","id",231],"(",")",",",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","entities",231],"[",["T_VARIABLE","$index",231],"]",["T_OBJECT_OPERATOR","->",231],["T_STRING","id",231],"(",")",")",";",["T_WHITESPACE","\n      ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertEqual",232],"(",["T_VARIABLE","$row",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_relationship_entities",232],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse__entity_test_mul__field_data_test'",232],"]",["T_OBJECT_OPERATOR","->",232],["T_STRING","bundle",232],"(",")",",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",232],")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n  ",233],"}",["T_WHITESPACE","\n\n  ",234],["T_DOC_COMMENT","\/**\n   * Tests views data generated for relationship.\n   *\n   * @see entity_reference_field_views_data()\n   *\/",236],["T_WHITESPACE","\n  ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","testDataTableRelationshipWithLongFieldName",241],"(",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n    ",241],["T_COMMENT","\/\/ Create some test entities which link each other.\n",242],["T_WHITESPACE","    ",243],["T_VARIABLE","$referenced_entity",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","EntityTest",243],["T_DOUBLE_COLON","::",243],["T_STRING","create",243],"(",")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$referenced_entity",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","save",244],"(",")",";",["T_WHITESPACE","\n\n    ",244],["T_VARIABLE","$entity",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","EntityTestMulChanged",246],["T_DOUBLE_COLON","::",246],["T_STRING","create",246],"(",")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$entity",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","field_test_data_with_a_long_name",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","target_id",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$referenced_entity",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","id",247],"(",")",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$entity",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","save",248],"(",")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","entities",249],"[","]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$entity",249],";",["T_WHITESPACE","\n\n    ",249],["T_VARIABLE","$entity",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","EntityTestMulChanged",251],["T_DOUBLE_COLON","::",251],["T_STRING","create",251],"(",")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$entity",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","field_test_data_with_a_long_name",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","target_id",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$referenced_entity",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","id",252],"(",")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$entity",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","save",253],"(",")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","entities",254],"[","]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$entity",254],";",["T_WHITESPACE","\n\n    ",254],["T_STRING","Views",256],["T_DOUBLE_COLON","::",256],["T_STRING","viewsData",256],"(",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","clear",256],"(",")",";",["T_WHITESPACE","\n\n    ",256],["T_COMMENT","\/\/ Check an actual test view.\n",258],["T_WHITESPACE","    ",259],["T_VARIABLE","$view",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","Views",259],["T_DOUBLE_COLON","::",259],["T_STRING","getView",259],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_entity_test_view_long'",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","executeView",260],"(",["T_VARIABLE","$view",260],")",";",["T_WHITESPACE","\n    ",260],["T_DOC_COMMENT","\/** @var \\Drupal\\views\\ResultRow $row *\/",261],["T_WHITESPACE","\n    ",261],["T_FOREACH","foreach",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$view",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","result",262],["T_WHITESPACE"," ",262],["T_AS","as",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$index",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$row",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n      ",262],["T_COMMENT","\/\/ Check that the actual ID of the entity is the expected one.\n",263],["T_WHITESPACE","      ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertEqual",264],"(",["T_VARIABLE","$row",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","id",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","entities",264],"[",["T_VARIABLE","$index",264],"]",["T_OBJECT_OPERATOR","->",264],["T_STRING","id",264],"(",")",")",";",["T_WHITESPACE","\n\n      ",264],["T_COMMENT","\/\/ Also check that we have the correct result entity.\n",266],["T_WHITESPACE","      ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertEqual",267],"(",["T_VARIABLE","$row",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_entity",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","id",267],"(",")",",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","entities",267],"[",["T_VARIABLE","$index",267],"]",["T_OBJECT_OPERATOR","->",267],["T_STRING","id",267],"(",")",")",";",["T_WHITESPACE","\n\n      ",267],["T_COMMENT","\/\/ Test the forward relationship.\n",269],["T_WHITESPACE","      ",270],["T_COMMENT","\/\/$this->assertEqual($row->entity_test_entity_test_mul__field_data_test_id, 1);\n",270],["T_WHITESPACE","\n      ",271],["T_COMMENT","\/\/ Test that the correct relationship entity is on the row.\n",272],["T_WHITESPACE","      ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertEqual",273],"(",["T_VARIABLE","$row",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_relationship_entities",273],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data_with_a_long_name'",273],"]",["T_OBJECT_OPERATOR","->",273],["T_STRING","id",273],"(",")",",",["T_WHITESPACE"," ",273],["T_LNUMBER","1",273],")",";",["T_WHITESPACE","\n      ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertEqual",274],"(",["T_VARIABLE","$row",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_relationship_entities",274],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_data_with_a_long_name'",274],"]",["T_OBJECT_OPERATOR","->",274],["T_STRING","bundle",274],"(",")",",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",274],")",";",["T_WHITESPACE","\n\n    ",274],"}",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n",277],"}",["T_WHITESPACE","\n",279]]