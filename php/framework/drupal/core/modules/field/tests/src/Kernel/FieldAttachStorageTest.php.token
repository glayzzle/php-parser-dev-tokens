[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n",3],["T_USE","use",4],["T_WHITESPACE"," ",4],["T_STRING","Drupal",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Component",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Utility",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Unicode",4],";",["T_WHITESPACE","\n",4],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageConfig",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests storage-related Field Attach API functions.\n *\n * @group field\n * @todo move this to the Entity module\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FieldAttachStorageTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","FieldKernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","setUp",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_STRING","parent",17],["T_DOUBLE_COLON","::",17],["T_STRING","setUp",17],"(",")",";",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","installEntitySchema",18],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",18],")",";",["T_WHITESPACE","\n  ",18],"}",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Check field values insert, update and load.\n   *\n   * Works independently of the underlying field storage backend. Inserts or\n   * updates random field data and then loads and verifies the data.\n   *\/",21],["T_WHITESPACE","\n  ",26],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testFieldAttachSaveLoad",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$entity_type",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",28],";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","createFieldWithStorage",29],"(",["T_CONSTANT_ENCAPSED_STRING","''",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$entity_type",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$cardinality",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","fieldTestData",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","field_storage",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getCardinality",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ TODO : test empty values filtering and \"compression\" (store consecutive deltas).\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ Preparation: create three revisions and store them in $revision array.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$values",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$entity",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","container",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","get",35],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",35],")",["T_WHITESPACE","\n      ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","getStorage",36],"(",["T_VARIABLE","$entity_type",36],")",["T_WHITESPACE","\n      ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","create",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_FOR","for",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$revision_id",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_LNUMBER","0",38],";",["T_WHITESPACE"," ",38],["T_VARIABLE","$revision_id",38],["T_WHITESPACE"," ",38],"<",["T_WHITESPACE"," ",38],["T_LNUMBER","3",38],";",["T_WHITESPACE"," ",38],["T_VARIABLE","$revision_id",38],["T_INC","++",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_COMMENT","\/\/ Note: we try to insert one extra value.\n",39],["T_WHITESPACE","      ",40],["T_VARIABLE","$current_values",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","_generateTestFieldValues",40],"(",["T_VARIABLE","$cardinality",40],["T_WHITESPACE"," ",40],"+",["T_WHITESPACE"," ",40],["T_LNUMBER","1",40],")",";",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$entity",41],["T_OBJECT_OPERATOR","->",41],"{",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","fieldTestData",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","field_name",41],"}",["T_OBJECT_OPERATOR","->",41],["T_STRING","setValue",41],"(",["T_VARIABLE","$current_values",41],")",";",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$entity",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","setNewRevision",42],"(",")",";",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$entity",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","save",43],"(",")",";",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$entity_id",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$entity",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","id",44],"(",")",";",["T_WHITESPACE","\n      ",44],["T_VARIABLE","$current_revision",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$entity",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getRevisionId",45],"(",")",";",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$values",46],"[",["T_VARIABLE","$current_revision",46],"]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$current_values",46],";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$storage",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","getStorage",49],"(",["T_VARIABLE","$entity_type",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$storage",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","resetCache",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$entity",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$storage",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","load",51],"(",["T_VARIABLE","$entity_id",51],")",";",["T_WHITESPACE","\n    ",51],["T_COMMENT","\/\/ Confirm current revision loads the correct data.\n",52],["T_WHITESPACE","    ",53],["T_COMMENT","\/\/ Number of values per field loaded equals the field cardinality.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEqual",54],"(",["T_STRING","count",54],"(",["T_VARIABLE","$entity",54],["T_OBJECT_OPERATOR","->",54],"{",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","fieldTestData",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","field_name",54],"}",")",",",["T_WHITESPACE"," ",54],["T_VARIABLE","$cardinality",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Current revision: expected number of values'",54],")",";",["T_WHITESPACE","\n    ",54],["T_FOR","for",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$delta",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_LNUMBER","0",55],";",["T_WHITESPACE"," ",55],["T_VARIABLE","$delta",55],["T_WHITESPACE"," ",55],"<",["T_WHITESPACE"," ",55],["T_VARIABLE","$cardinality",55],";",["T_WHITESPACE"," ",55],["T_VARIABLE","$delta",55],["T_INC","++",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_COMMENT","\/\/ The field value loaded matches the one inserted or updated.\n",56],["T_WHITESPACE","      ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_VARIABLE","$entity",57],["T_OBJECT_OPERATOR","->",57],"{",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","fieldTestData",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","field_name",57],"}","[",["T_VARIABLE","$delta",57],"]",["T_OBJECT_OPERATOR","->",57],["T_STRING","value",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$values",57],"[",["T_VARIABLE","$current_revision",57],"]","[",["T_VARIABLE","$delta",57],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",57],"]",",",["T_WHITESPACE"," ",57],["T_STRING","format_string",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Current revision: expected value %delta was found.'",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'%delta'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$delta",57],")",")",")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Confirm each revision loads the correct data.\n",60],["T_WHITESPACE","    ",61],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_STRING","array_keys",61],"(",["T_VARIABLE","$values",61],")",["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$revision_id",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$entity",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$storage",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","loadRevision",62],"(",["T_VARIABLE","$revision_id",62],")",";",["T_WHITESPACE","\n      ",62],["T_COMMENT","\/\/ Number of values per field loaded equals the field cardinality.\n",63],["T_WHITESPACE","      ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_STRING","count",64],"(",["T_VARIABLE","$entity",64],["T_OBJECT_OPERATOR","->",64],"{",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","fieldTestData",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","field_name",64],"}",")",",",["T_WHITESPACE"," ",64],["T_VARIABLE","$cardinality",64],",",["T_WHITESPACE"," ",64],["T_STRING","format_string",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Revision %revision_id: expected number of values.'",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'%revision_id'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$revision_id",64],")",")",")",";",["T_WHITESPACE","\n      ",64],["T_FOR","for",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$delta",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_LNUMBER","0",65],";",["T_WHITESPACE"," ",65],["T_VARIABLE","$delta",65],["T_WHITESPACE"," ",65],"<",["T_WHITESPACE"," ",65],["T_VARIABLE","$cardinality",65],";",["T_WHITESPACE"," ",65],["T_VARIABLE","$delta",65],["T_INC","++",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n        ",65],["T_COMMENT","\/\/ The field value loaded matches the one inserted or updated.\n",66],["T_WHITESPACE","        ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$entity",67],["T_OBJECT_OPERATOR","->",67],"{",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","fieldTestData",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","field_name",67],"}","[",["T_VARIABLE","$delta",67],"]",["T_OBJECT_OPERATOR","->",67],["T_STRING","value",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$values",67],"[",["T_VARIABLE","$revision_id",67],"]","[",["T_VARIABLE","$delta",67],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",67],"]",",",["T_WHITESPACE"," ",67],["T_STRING","format_string",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Revision %revision_id: expected value %delta was found.'",67],",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'%revision_id'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$revision_id",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'%delta'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$delta",67],")",")",")",";",["T_WHITESPACE","\n      ",67],"}",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Test the 'multiple' load feature.\n   *\/",72],["T_WHITESPACE","\n  ",74],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","testFieldAttachLoadMultiple",75],"(",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$entity_type",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",76],";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Define 2 bundles.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$bundles",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n      ",79],["T_LNUMBER","1",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'test_bundle_1'",80],",",["T_WHITESPACE","\n      ",80],["T_LNUMBER","2",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'test_bundle_2'",81],",",["T_WHITESPACE","\n    ",81],")",";",["T_WHITESPACE","\n    ",82],["T_STRING","entity_test_create_bundle",83],"(",["T_VARIABLE","$bundles",83],"[",["T_LNUMBER","1",83],"]",")",";",["T_WHITESPACE","\n    ",83],["T_STRING","entity_test_create_bundle",84],"(",["T_VARIABLE","$bundles",84],"[",["T_LNUMBER","2",84],"]",")",";",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Define 3 fields:\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ - field_1 is in bundle_1 and bundle_2,\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ - field_2 is in bundle_1,\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ - field_3 is in bundle_2.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$field_bundles_map",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_WHITESPACE","\n      ",89],["T_LNUMBER","1",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_LNUMBER","1",90],",",["T_WHITESPACE"," ",90],["T_LNUMBER","2",90],")",",",["T_WHITESPACE","\n      ",90],["T_LNUMBER","2",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_LNUMBER","1",91],")",",",["T_WHITESPACE","\n      ",91],["T_LNUMBER","3",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",["T_LNUMBER","2",92],")",",",["T_WHITESPACE","\n    ",92],")",";",["T_WHITESPACE","\n    ",93],["T_FOR","for",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$i",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","1",94],";",["T_WHITESPACE"," ",94],["T_VARIABLE","$i",94],["T_WHITESPACE"," ",94],["T_IS_SMALLER_OR_EQUAL","<=",94],["T_WHITESPACE"," ",94],["T_LNUMBER","3",94],";",["T_WHITESPACE"," ",94],["T_VARIABLE","$i",94],["T_INC","++",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$field_names",95],"[",["T_VARIABLE","$i",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'field_'",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$i",95],";",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$field_storage",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","FieldStorageConfig",96],["T_DOUBLE_COLON","::",96],["T_STRING","create",96],"(",["T_ARRAY","array",96],"(",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'field_name'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$field_names",97],"[",["T_VARIABLE","$i",97],"]",",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$entity_type",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'type'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'test_field'",99],",",["T_WHITESPACE","\n      ",99],")",")",";",["T_WHITESPACE","\n      ",100],["T_VARIABLE","$field_storage",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","save",101],"(",")",";",["T_WHITESPACE","\n      ",101],["T_VARIABLE","$field_ids",102],"[",["T_VARIABLE","$i",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$field_storage",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","uuid",102],"(",")",";",["T_WHITESPACE","\n      ",102],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$field_bundles_map",103],"[",["T_VARIABLE","$i",103],"]",["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$bundle",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n        ",103],["T_STRING","FieldConfig",104],["T_DOUBLE_COLON","::",104],["T_STRING","create",104],"(","[",["T_WHITESPACE","\n          ",104],["T_CONSTANT_ENCAPSED_STRING","'field_name'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$field_names",105],"[",["T_VARIABLE","$i",105],"]",",",["T_WHITESPACE","\n          ",105],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$entity_type",106],",",["T_WHITESPACE","\n          ",106],["T_CONSTANT_ENCAPSED_STRING","'bundle'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$bundles",107],"[",["T_VARIABLE","$bundle",107],"]",",",["T_WHITESPACE","\n        ",107],"]",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","save",108],"(",")",";",["T_WHITESPACE","\n      ",108],"}",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Create one test entity per bundle, with random values.\n",112],["T_WHITESPACE","    ",113],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$bundles",113],["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$index",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$bundle",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$entities",114],"[",["T_VARIABLE","$index",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","container",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",114],")",["T_WHITESPACE","\n        ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","getStorage",115],"(",["T_VARIABLE","$entity_type",115],")",["T_WHITESPACE","\n        ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","create",116],"(",["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$index",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'revision_id'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$index",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'type'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$bundle",116],")",")",";",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$entity",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_CLONE","clone",117],"(",["T_VARIABLE","$entities",117],"[",["T_VARIABLE","$index",117],"]",")",";",["T_WHITESPACE","\n      ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$field_names",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$field_name",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_VARIABLE","$entity",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","hasField",119],"(",["T_VARIABLE","$field_name",119],")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n          ",119],["T_CONTINUE","continue",120],";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$values",122],"[",["T_VARIABLE","$index",122],"]","[",["T_VARIABLE","$field_name",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","mt_rand",122],"(",["T_LNUMBER","1",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","127",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$entity",123],["T_OBJECT_OPERATOR","->",123],["T_VARIABLE","$field_name",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setValue",123],"(",["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$values",123],"[",["T_VARIABLE","$index",123],"]","[",["T_VARIABLE","$field_name",123],"]",")",")",";",["T_WHITESPACE","\n      ",123],"}",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$entity",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","enforceIsnew",125],"(",")",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$entity",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","save",126],"(",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_COMMENT","\/\/ Check that a single load correctly loads field values for both entities.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$controller",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Drupal",130],["T_DOUBLE_COLON","::",130],["T_STRING","entityManager",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getStorage",130],"(",["T_VARIABLE","$entity",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getEntityTypeId",130],"(",")",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$controller",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","resetCache",131],"(",")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$entities",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$controller",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","loadMultiple",132],"(",")",";",["T_WHITESPACE","\n    ",132],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$entities",133],["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$index",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$entity",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_FOREACH","foreach",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$field_names",134],["T_WHITESPACE"," ",134],["T_AS","as",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$field_name",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n        ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$entity",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","hasField",135],"(",["T_VARIABLE","$field_name",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n          ",135],["T_CONTINUE","continue",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_COMMENT","\/\/ The field value loaded matches the one inserted.\n",138],["T_WHITESPACE","        ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEqual",139],"(",["T_VARIABLE","$entity",139],["T_OBJECT_OPERATOR","->",139],"{",["T_VARIABLE","$field_name",139],"}",["T_OBJECT_OPERATOR","->",139],["T_STRING","value",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$values",139],"[",["T_VARIABLE","$index",139],"]","[",["T_VARIABLE","$field_name",139],"]",",",["T_WHITESPACE"," ",139],["T_STRING","format_string",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity %index: expected value was found.'",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'%index'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$index",139],")",")",")",";",["T_WHITESPACE","\n      ",139],"}",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * Tests insert and update with empty or NULL fields.\n   *\/",144],["T_WHITESPACE","\n  ",146],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","testFieldAttachSaveEmptyData",147],"(",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$entity_type",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",148],";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","createFieldWithStorage",149],"(",["T_CONSTANT_ENCAPSED_STRING","''",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$entity_type",149],")",";",["T_WHITESPACE","\n\n    ",149],["T_VARIABLE","$entity_init",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","container",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","get",151],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",151],")",["T_WHITESPACE","\n      ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","getStorage",152],"(",["T_VARIABLE","$entity_type",152],")",["T_WHITESPACE","\n      ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","create",153],"(",["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_LNUMBER","1",153],")",")",";",["T_WHITESPACE","\n\n    ",153],["T_COMMENT","\/\/ Insert: Field is NULL.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$entity",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CLONE","clone",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$entity_init",156],";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$entity",157],["T_OBJECT_OPERATOR","->",157],"{",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","fieldTestData",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","field_name",157],"}",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","NULL",157],";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$entity",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","enforceIsNew",158],"(",")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$entity",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","entitySaveReload",159],"(",["T_VARIABLE","$entity",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertTrue",160],"(",["T_VARIABLE","$entity",160],["T_OBJECT_OPERATOR","->",160],"{",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","fieldTestData",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","field_name",160],"}",["T_OBJECT_OPERATOR","->",160],["T_STRING","isEmpty",160],"(",")",",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'Insert: NULL field results in no value saved'",160],")",";",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/\/ All saves after this point should be updates, not inserts.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$entity_init",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","enforceIsNew",163],"(",["T_STRING","FALSE",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Add some real data.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$entity",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CLONE","clone",166],"(",["T_VARIABLE","$entity_init",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$values",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_generateTestFieldValues",167],"(",["T_LNUMBER","1",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$entity",168],["T_OBJECT_OPERATOR","->",168],"{",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","fieldTestData",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","field_name",168],"}",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$values",168],";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$entity",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","entitySaveReload",169],"(",["T_VARIABLE","$entity",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEqual",170],"(",["T_VARIABLE","$entity",170],["T_OBJECT_OPERATOR","->",170],"{",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","fieldTestData",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","field_name",170],"}",["T_OBJECT_OPERATOR","->",170],["T_STRING","getValue",170],"(",")",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$values",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Field data saved'",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ Update: Field is NULL. Data should be wiped.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$entity",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CLONE","clone",173],"(",["T_VARIABLE","$entity_init",173],")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$entity",174],["T_OBJECT_OPERATOR","->",174],"{",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","fieldTestData",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","field_name",174],"}",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","NULL",174],";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$entity",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","entitySaveReload",175],"(",["T_VARIABLE","$entity",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertTrue",176],"(",["T_VARIABLE","$entity",176],["T_OBJECT_OPERATOR","->",176],"{",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","fieldTestData",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","field_name",176],"}",["T_OBJECT_OPERATOR","->",176],["T_STRING","isEmpty",176],"(",")",",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'Update: NULL field removes existing values'",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Re-add some data.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$entity",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_CLONE","clone",179],"(",["T_VARIABLE","$entity_init",179],")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$values",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_generateTestFieldValues",180],"(",["T_LNUMBER","1",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$entity",181],["T_OBJECT_OPERATOR","->",181],"{",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","fieldTestData",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","field_name",181],"}",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$values",181],";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$entity",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","entitySaveReload",182],"(",["T_VARIABLE","$entity",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertEqual",183],"(",["T_VARIABLE","$entity",183],["T_OBJECT_OPERATOR","->",183],"{",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","fieldTestData",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","field_name",183],"}",["T_OBJECT_OPERATOR","->",183],["T_STRING","getValue",183],"(",")",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$values",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'Field data saved'",183],")",";",["T_WHITESPACE","\n\n    ",183],["T_COMMENT","\/\/ Update: Field is empty array. Data should be wiped.\n",185],["T_WHITESPACE","    ",186],["T_VARIABLE","$entity",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CLONE","clone",186],"(",["T_VARIABLE","$entity_init",186],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$entity",187],["T_OBJECT_OPERATOR","->",187],"{",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","fieldTestData",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","field_name",187],"}",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$entity",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","entitySaveReload",188],"(",["T_VARIABLE","$entity",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertTrue",189],"(",["T_VARIABLE","$entity",189],["T_OBJECT_OPERATOR","->",189],"{",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","fieldTestData",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","field_name",189],"}",["T_OBJECT_OPERATOR","->",189],["T_STRING","isEmpty",189],"(",")",",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'Update: empty array removes existing values'",189],")",";",["T_WHITESPACE","\n  ",189],"}",["T_WHITESPACE","\n\n  ",190],["T_DOC_COMMENT","\/**\n   * Test insert with empty or NULL fields, with default value.\n   *\/",192],["T_WHITESPACE","\n  ",194],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","testFieldAttachSaveEmptyDataDefaultValue",195],"(",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$entity_type",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",196],";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","createFieldWithStorage",197],"(",["T_CONSTANT_ENCAPSED_STRING","''",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$entity_type",197],")",";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Add a default value function.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","fieldTestData",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","field",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","set",200],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_callback'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'field_test_default_value'",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","fieldTestData",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","field",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","save",201],"(",")",";",["T_WHITESPACE","\n\n    ",201],["T_COMMENT","\/\/ Verify that fields are populated with default values.\n",203],["T_WHITESPACE","    ",204],["T_VARIABLE","$entity_init",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","container",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","get",204],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",204],")",["T_WHITESPACE","\n      ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","getStorage",205],"(",["T_VARIABLE","$entity_type",205],")",["T_WHITESPACE","\n      ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","create",206],"(",["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'revision_id'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],")",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$default",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","field_test_default_value",207],"(",["T_VARIABLE","$entity_init",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","fieldTestData",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","field",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertEqual",208],"(",["T_VARIABLE","$entity_init",208],["T_OBJECT_OPERATOR","->",208],"{",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","fieldTestData",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","field_name",208],"}",["T_OBJECT_OPERATOR","->",208],["T_STRING","getValue",208],"(",")",",",["T_WHITESPACE"," ",208],["T_VARIABLE","$default",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'Default field value correctly populated.'",208],")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Insert: Field is NULL.\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$entity",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CLONE","clone",211],"(",["T_VARIABLE","$entity_init",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$entity",212],["T_OBJECT_OPERATOR","->",212],"{",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","fieldTestData",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","field_name",212],"}",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","NULL",212],";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$entity",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","enforceIsNew",213],"(",")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$entity",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","entitySaveReload",214],"(",["T_VARIABLE","$entity",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertTrue",215],"(",["T_VARIABLE","$entity",215],["T_OBJECT_OPERATOR","->",215],"{",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","fieldTestData",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","field_name",215],"}",["T_OBJECT_OPERATOR","->",215],["T_STRING","isEmpty",215],"(",")",",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'Insert: NULL field results in no value saved'",215],")",";",["T_WHITESPACE","\n\n    ",215],["T_COMMENT","\/\/ Verify that prepopulated field values are not overwritten by defaults.\n",217],["T_WHITESPACE","    ",218],["T_VARIABLE","$value",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_ARRAY","array",218],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$default",218],"[",["T_LNUMBER","0",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",218],"]",["T_WHITESPACE"," ",218],"-",["T_WHITESPACE"," ",218],["T_STRING","mt_rand",218],"(",["T_LNUMBER","1",218],",",["T_WHITESPACE"," ",218],["T_LNUMBER","127",218],")",")",")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$entity",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","container",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","get",219],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",219],")",["T_WHITESPACE","\n      ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","getStorage",220],"(",["T_VARIABLE","$entity_type",220],")",["T_WHITESPACE","\n      ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","create",221],"(",["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$entity_init",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","bundle",221],"(",")",",",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","fieldTestData",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","field_name",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$value",221],")",")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEqual",222],"(",["T_VARIABLE","$entity",222],["T_OBJECT_OPERATOR","->",222],"{",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","fieldTestData",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","field_name",222],"}",["T_OBJECT_OPERATOR","->",222],["T_STRING","getValue",222],"(",")",",",["T_WHITESPACE"," ",222],["T_VARIABLE","$value",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'Prepopulated field value correctly maintained.'",222],")",";",["T_WHITESPACE","\n  ",222],"}",["T_WHITESPACE","\n\n  ",223],["T_DOC_COMMENT","\/**\n   * Test entity deletion.\n   *\/",225],["T_WHITESPACE","\n  ",227],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","testFieldAttachDelete",228],"(",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$entity_type",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",229],";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","createFieldWithStorage",230],"(",["T_CONSTANT_ENCAPSED_STRING","''",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$entity_type",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$cardinality",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","fieldTestData",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","field_storage",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getCardinality",231],"(",")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$entity",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","container",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","get",232],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",232],")",["T_WHITESPACE","\n      ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","getStorage",233],"(",["T_VARIABLE","$entity_type",233],")",["T_WHITESPACE","\n      ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","create",234],"(",["T_ARRAY","array",234],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","fieldTestData",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","field",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getTargetBundle",234],"(",")",")",")",";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$vids",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",")",";",["T_WHITESPACE","\n\n    ",235],["T_COMMENT","\/\/ Create revision 0\n",237],["T_WHITESPACE","    ",238],["T_VARIABLE","$values",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_generateTestFieldValues",238],"(",["T_VARIABLE","$cardinality",238],")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$entity",239],["T_OBJECT_OPERATOR","->",239],"{",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","fieldTestData",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","field_name",239],"}",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$values",239],";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$entity",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","save",240],"(",")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$vids",241],"[","]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$entity",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getRevisionId",241],"(",")",";",["T_WHITESPACE","\n\n    ",241],["T_COMMENT","\/\/ Create revision 1\n",243],["T_WHITESPACE","    ",244],["T_VARIABLE","$entity",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","setNewRevision",244],"(",")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$entity",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","save",245],"(",")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$vids",246],"[","]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$entity",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getRevisionId",246],"(",")",";",["T_WHITESPACE","\n\n    ",246],["T_COMMENT","\/\/ Create revision 2\n",248],["T_WHITESPACE","    ",249],["T_VARIABLE","$entity",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","setNewRevision",249],"(",")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$entity",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","save",250],"(",")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$vids",251],"[","]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$entity",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getRevisionId",251],"(",")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$controller",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","container",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","get",252],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",252],")",["T_OBJECT_OPERATOR","->",252],["T_STRING","getStorage",252],"(",["T_VARIABLE","$entity",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getEntityTypeId",252],"(",")",")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$controller",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","resetCache",253],"(",")",";",["T_WHITESPACE","\n\n    ",253],["T_COMMENT","\/\/ Confirm each revision loads\n",255],["T_WHITESPACE","    ",256],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$vids",256],["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$vid",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_VARIABLE","$revision",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$controller",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","loadRevision",257],"(",["T_VARIABLE","$vid",257],")",";",["T_WHITESPACE","\n      ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertEqual",258],"(",["T_STRING","count",258],"(",["T_VARIABLE","$revision",258],["T_OBJECT_OPERATOR","->",258],"{",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","fieldTestData",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","field_name",258],"}",")",",",["T_WHITESPACE"," ",258],["T_VARIABLE","$cardinality",258],",",["T_WHITESPACE"," ",258],"\"",["T_ENCAPSED_AND_WHITESPACE","The test entity revision ",258],["T_VARIABLE","$vid",258],["T_ENCAPSED_AND_WHITESPACE"," has ",258],["T_VARIABLE","$cardinality",258],["T_ENCAPSED_AND_WHITESPACE"," values.",258],"\"",")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_COMMENT","\/\/ Delete revision 1, confirm the other two still load.\n",261],["T_WHITESPACE","    ",262],["T_VARIABLE","$controller",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","deleteRevision",262],"(",["T_VARIABLE","$vids",262],"[",["T_LNUMBER","1",262],"]",")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$controller",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","resetCache",263],"(",")",";",["T_WHITESPACE","\n    ",263],["T_FOREACH","foreach",264],["T_WHITESPACE"," ",264],"(",["T_ARRAY","array",264],"(",["T_LNUMBER","0",264],",",["T_WHITESPACE"," ",264],["T_LNUMBER","2",264],")",["T_WHITESPACE"," ",264],["T_AS","as",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$key",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n      ",264],["T_VARIABLE","$vid",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$vids",265],"[",["T_VARIABLE","$key",265],"]",";",["T_WHITESPACE","\n      ",265],["T_VARIABLE","$revision",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$controller",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","loadRevision",266],"(",["T_VARIABLE","$vid",266],")",";",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertEqual",267],"(",["T_STRING","count",267],"(",["T_VARIABLE","$revision",267],["T_OBJECT_OPERATOR","->",267],"{",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","fieldTestData",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","field_name",267],"}",")",",",["T_WHITESPACE"," ",267],["T_VARIABLE","$cardinality",267],",",["T_WHITESPACE"," ",267],"\"",["T_ENCAPSED_AND_WHITESPACE","The test entity revision ",267],["T_VARIABLE","$vid",267],["T_ENCAPSED_AND_WHITESPACE"," has ",267],["T_VARIABLE","$cardinality",267],["T_ENCAPSED_AND_WHITESPACE"," values.",267],"\"",")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_COMMENT","\/\/ Confirm the current revision still loads\n",270],["T_WHITESPACE","    ",271],["T_VARIABLE","$controller",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","resetCache",271],"(",")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$current",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$controller",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","load",272],"(",["T_VARIABLE","$entity",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","id",272],"(",")",")",";",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertEqual",273],"(",["T_STRING","count",273],"(",["T_VARIABLE","$current",273],["T_OBJECT_OPERATOR","->",273],"{",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","fieldTestData",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","field_name",273],"}",")",",",["T_WHITESPACE"," ",273],["T_VARIABLE","$cardinality",273],",",["T_WHITESPACE"," ",273],"\"",["T_ENCAPSED_AND_WHITESPACE","The test entity current revision has ",273],["T_VARIABLE","$cardinality",273],["T_ENCAPSED_AND_WHITESPACE"," values.",273],"\"",")",";",["T_WHITESPACE","\n\n    ",273],["T_COMMENT","\/\/ Delete all field data, confirm nothing loads\n",275],["T_WHITESPACE","    ",276],["T_VARIABLE","$entity",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","delete",276],"(",")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$controller",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","resetCache",277],"(",")",";",["T_WHITESPACE","\n    ",277],["T_FOREACH","foreach",278],["T_WHITESPACE"," ",278],"(",["T_ARRAY","array",278],"(",["T_LNUMBER","0",278],",",["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],",",["T_WHITESPACE"," ",278],["T_LNUMBER","2",278],")",["T_WHITESPACE"," ",278],["T_AS","as",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$vid",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n      ",278],["T_VARIABLE","$revision",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$controller",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","loadRevision",279],"(",["T_VARIABLE","$vid",279],")",";",["T_WHITESPACE","\n      ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertFalse",280],"(",["T_VARIABLE","$revision",280],")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertFalse",282],"(",["T_VARIABLE","$controller",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","load",282],"(",["T_VARIABLE","$entity",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","id",282],"(",")",")",")",";",["T_WHITESPACE","\n  ",282],"}",["T_WHITESPACE","\n\n  ",283],["T_DOC_COMMENT","\/**\n   * Test entity_bundle_create().\n   *\/",285],["T_WHITESPACE","\n  ",287],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","testEntityCreateBundle",288],"(",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$entity_type",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",289],";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","createFieldWithStorage",290],"(",["T_CONSTANT_ENCAPSED_STRING","''",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$entity_type",290],")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$cardinality",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","fieldTestData",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","field_storage",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getCardinality",291],"(",")",";",["T_WHITESPACE","\n\n    ",291],["T_COMMENT","\/\/ Create a new bundle.\n",293],["T_WHITESPACE","    ",294],["T_VARIABLE","$new_bundle",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'test_bundle_'",294],["T_WHITESPACE"," ",294],".",["T_WHITESPACE"," ",294],["T_STRING","Unicode",294],["T_DOUBLE_COLON","::",294],["T_STRING","strtolower",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","randomMachineName",294],"(",")",")",";",["T_WHITESPACE","\n    ",294],["T_STRING","entity_test_create_bundle",295],"(",["T_VARIABLE","$new_bundle",295],",",["T_WHITESPACE"," ",295],["T_STRING","NULL",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$entity_type",295],")",";",["T_WHITESPACE","\n\n    ",295],["T_COMMENT","\/\/ Add a field to that bundle.\n",297],["T_WHITESPACE","    ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","fieldTestData",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","field_definition",298],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",298],"]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$new_bundle",298],";",["T_WHITESPACE","\n    ",298],["T_STRING","FieldConfig",299],["T_DOUBLE_COLON","::",299],["T_STRING","create",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","fieldTestData",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","field_definition",299],")",["T_OBJECT_OPERATOR","->",299],["T_STRING","save",299],"(",")",";",["T_WHITESPACE","\n\n    ",299],["T_COMMENT","\/\/ Save an entity with data in the field.\n",301],["T_WHITESPACE","    ",302],["T_VARIABLE","$entity",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","container",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","get",302],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",302],")",["T_WHITESPACE","\n      ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","getStorage",303],"(",["T_VARIABLE","$entity_type",303],")",["T_WHITESPACE","\n      ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","create",304],"(",["T_ARRAY","array",304],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","fieldTestData",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","field",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getTargetBundle",304],"(",")",")",")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$values",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_generateTestFieldValues",305],"(",["T_VARIABLE","$cardinality",305],")",";",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$entity",306],["T_OBJECT_OPERATOR","->",306],"{",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","fieldTestData",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","field_name",306],"}",["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$values",306],";",["T_WHITESPACE","\n\n    ",306],["T_COMMENT","\/\/ Verify the field data is present on load.\n",308],["T_WHITESPACE","    ",309],["T_VARIABLE","$entity",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","entitySaveReload",309],"(",["T_VARIABLE","$entity",309],")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertEqual",310],"(",["T_STRING","count",310],"(",["T_VARIABLE","$entity",310],["T_OBJECT_OPERATOR","->",310],"{",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","fieldTestData",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","field_name",310],"}",")",",",["T_WHITESPACE"," ",310],["T_VARIABLE","$cardinality",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","\"Data is retrieved for the new bundle\"",310],")",";",["T_WHITESPACE","\n  ",310],"}",["T_WHITESPACE","\n\n  ",311],["T_DOC_COMMENT","\/**\n   * Test entity_bundle_delete().\n   *\/",313],["T_WHITESPACE","\n  ",315],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","testEntityDeleteBundle",316],"(",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$entity_type",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'entity_test_rev'",317],";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","createFieldWithStorage",318],"(",["T_CONSTANT_ENCAPSED_STRING","''",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$entity_type",318],")",";",["T_WHITESPACE","\n\n    ",318],["T_COMMENT","\/\/ Create a new bundle.\n",320],["T_WHITESPACE","    ",321],["T_VARIABLE","$new_bundle",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'test_bundle_'",321],["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_STRING","Unicode",321],["T_DOUBLE_COLON","::",321],["T_STRING","strtolower",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","randomMachineName",321],"(",")",")",";",["T_WHITESPACE","\n    ",321],["T_STRING","entity_test_create_bundle",322],"(",["T_VARIABLE","$new_bundle",322],",",["T_WHITESPACE"," ",322],["T_STRING","NULL",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$entity_type",322],")",";",["T_WHITESPACE","\n\n    ",322],["T_COMMENT","\/\/ Add a field to that bundle.\n",324],["T_WHITESPACE","    ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","fieldTestData",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","field_definition",325],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",325],"]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$new_bundle",325],";",["T_WHITESPACE","\n    ",325],["T_STRING","FieldConfig",326],["T_DOUBLE_COLON","::",326],["T_STRING","create",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","fieldTestData",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","field_definition",326],")",["T_OBJECT_OPERATOR","->",326],["T_STRING","save",326],"(",")",";",["T_WHITESPACE","\n\n    ",326],["T_COMMENT","\/\/ Create a second field for the test bundle\n",328],["T_WHITESPACE","    ",329],["T_VARIABLE","$field_name",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","Unicode",329],["T_DOUBLE_COLON","::",329],["T_STRING","strtolower",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","randomMachineName",329],"(",")",["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'_field_name'",329],")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$field_storage",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_ARRAY","array",330],"(",["T_WHITESPACE","\n      ",330],["T_CONSTANT_ENCAPSED_STRING","'field_name'",331],["T_WHITESPACE"," ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$field_name",331],",",["T_WHITESPACE","\n      ",331],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$entity_type",332],",",["T_WHITESPACE","\n      ",332],["T_CONSTANT_ENCAPSED_STRING","'type'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'test_field'",333],",",["T_WHITESPACE","\n      ",333],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_LNUMBER","1",334],",",["T_WHITESPACE","\n    ",334],")",";",["T_WHITESPACE","\n    ",335],["T_STRING","FieldStorageConfig",336],["T_DOUBLE_COLON","::",336],["T_STRING","create",336],"(",["T_VARIABLE","$field_storage",336],")",["T_OBJECT_OPERATOR","->",336],["T_STRING","save",336],"(",")",";",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$field",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_ARRAY","array",337],"(",["T_WHITESPACE","\n      ",337],["T_CONSTANT_ENCAPSED_STRING","'field_name'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$field_name",338],",",["T_WHITESPACE","\n      ",338],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$entity_type",339],",",["T_WHITESPACE","\n      ",339],["T_CONSTANT_ENCAPSED_STRING","'bundle'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","fieldTestData",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","field",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getTargetBundle",340],"(",")",",",["T_WHITESPACE","\n      ",340],["T_CONSTANT_ENCAPSED_STRING","'label'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","randomMachineName",341],"(",")",["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'_label'",341],",",["T_WHITESPACE","\n      ",341],["T_CONSTANT_ENCAPSED_STRING","'description'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","randomMachineName",342],"(",")",["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'_description'",342],",",["T_WHITESPACE","\n      ",342],["T_CONSTANT_ENCAPSED_STRING","'weight'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_STRING","mt_rand",343],"(",["T_LNUMBER","0",343],",",["T_WHITESPACE"," ",343],["T_LNUMBER","127",343],")",",",["T_WHITESPACE","\n    ",343],")",";",["T_WHITESPACE","\n    ",344],["T_STRING","FieldConfig",345],["T_DOUBLE_COLON","::",345],["T_STRING","create",345],"(",["T_VARIABLE","$field",345],")",["T_OBJECT_OPERATOR","->",345],["T_STRING","save",345],"(",")",";",["T_WHITESPACE","\n\n    ",345],["T_COMMENT","\/\/ Save an entity with data for both fields\n",347],["T_WHITESPACE","    ",348],["T_VARIABLE","$entity",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","container",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","get",348],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",348],")",["T_WHITESPACE","\n      ",348],["T_OBJECT_OPERATOR","->",349],["T_STRING","getStorage",349],"(",["T_VARIABLE","$entity_type",349],")",["T_WHITESPACE","\n      ",349],["T_OBJECT_OPERATOR","->",350],["T_STRING","create",350],"(",["T_ARRAY","array",350],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","fieldTestData",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","field",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getTargetBundle",350],"(",")",")",")",";",["T_WHITESPACE","\n    ",350],["T_VARIABLE","$values",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_generateTestFieldValues",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","fieldTestData",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","field_storage",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getCardinality",351],"(",")",")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$entity",352],["T_OBJECT_OPERATOR","->",352],"{",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","fieldTestData",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","field_name",352],"}",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$values",352],";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$entity",353],["T_OBJECT_OPERATOR","->",353],"{",["T_VARIABLE","$field_name",353],"}",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_generateTestFieldValues",353],"(",["T_LNUMBER","1",353],")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$entity",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","entitySaveReload",354],"(",["T_VARIABLE","$entity",354],")",";",["T_WHITESPACE","\n\n    ",354],["T_COMMENT","\/\/ Verify the fields are present on load\n",356],["T_WHITESPACE","    ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertEqual",357],"(",["T_STRING","count",357],"(",["T_VARIABLE","$entity",357],["T_OBJECT_OPERATOR","->",357],"{",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","fieldTestData",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","field_name",357],"}",")",",",["T_WHITESPACE"," ",357],["T_LNUMBER","4",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'First field got loaded'",357],")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","assertEqual",358],"(",["T_STRING","count",358],"(",["T_VARIABLE","$entity",358],["T_OBJECT_OPERATOR","->",358],"{",["T_VARIABLE","$field_name",358],"}",")",",",["T_WHITESPACE"," ",358],["T_LNUMBER","1",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'Second field got loaded'",358],")",";",["T_WHITESPACE","\n\n    ",358],["T_COMMENT","\/\/ Delete the bundle.\n",360],["T_WHITESPACE","    ",361],["T_STRING","entity_test_delete_bundle",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","fieldTestData",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","field",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getTargetBundle",361],"(",")",",",["T_WHITESPACE"," ",361],["T_VARIABLE","$entity_type",361],")",";",["T_WHITESPACE","\n\n    ",361],["T_COMMENT","\/\/ Verify no data gets loaded\n",363],["T_WHITESPACE","    ",364],["T_VARIABLE","$controller",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","container",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","get",364],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",364],")",["T_OBJECT_OPERATOR","->",364],["T_STRING","getStorage",364],"(",["T_VARIABLE","$entity",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getEntityTypeId",364],"(",")",")",";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$controller",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","resetCache",365],"(",")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$entity",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$controller",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","load",366],"(",["T_VARIABLE","$entity",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","id",366],"(",")",")",";",["T_WHITESPACE","\n\n    ",366],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertTrue",368],"(",["T_EMPTY","empty",368],"(",["T_VARIABLE","$entity",368],["T_OBJECT_OPERATOR","->",368],"{",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","fieldTestData",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","field_name",368],"}",")",",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'No data for first field'",368],")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assertTrue",369],"(",["T_EMPTY","empty",369],"(",["T_VARIABLE","$entity",369],["T_OBJECT_OPERATOR","->",369],"{",["T_VARIABLE","$field_name",369],"}",")",",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'No data for second field'",369],")",";",["T_WHITESPACE","\n\n    ",369],["T_COMMENT","\/\/ Verify that the fields are gone.\n",371],["T_WHITESPACE","    ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","assertFalse",372],"(",["T_STRING","FieldConfig",372],["T_DOUBLE_COLON","::",372],["T_STRING","load",372],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test.'",372],["T_WHITESPACE"," ",372],".",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","fieldTestData",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","field",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getTargetBundle",372],"(",")",["T_WHITESPACE"," ",372],".",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'.'",372],["T_WHITESPACE"," ",372],".",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","fieldTestData",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","field_name",372],")",",",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","\"First field is deleted\"",372],")",";",["T_WHITESPACE","\n    ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertFalse",373],"(",["T_STRING","FieldConfig",373],["T_DOUBLE_COLON","::",373],["T_STRING","load",373],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test.'",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$field",373],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",373],"]",["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'.'",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$field_name",373],")",",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","\"Second field is deleted\"",373],")",";",["T_WHITESPACE","\n  ",373],"}",["T_WHITESPACE","\n\n",374],"}",["T_WHITESPACE","\n",376]]