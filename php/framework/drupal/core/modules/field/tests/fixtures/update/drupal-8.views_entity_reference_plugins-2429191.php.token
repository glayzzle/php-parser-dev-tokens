[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Contains database additions to drupal-8.bare.standard.php.gz for testing the\n * upgrade path of https:\/\/www.drupal.org\/node\/2429191.\n *\/",3],["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Database",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Database",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Serialization",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Yaml",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","field",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FieldStorageConfig",11],";",["T_WHITESPACE","\n\n",11],["T_VARIABLE","$connection",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_STRING","Database",13],["T_DOUBLE_COLON","::",13],["T_STRING","getConnection",13],"(",")",";",["T_WHITESPACE","\n\n",13],["T_COMMENT","\/\/ Configuration for a View with an \"entity_reference selection\" display.\n",15],["T_VARIABLE","$config",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_STRING","Yaml",16],["T_DOUBLE_COLON","::",16],["T_STRING","decode",16],"(",["T_STRING","file_get_contents",16],"(",["T_DIR","__DIR__",16],["T_WHITESPACE"," ",16],".",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'\/views.view.entity_reference_plugins_2429191.yml'",16],")",")",";",["T_WHITESPACE","\n",16],["T_VARIABLE","$connection",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","insert",17],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",17],")",["T_WHITESPACE","\n  ",17],["T_OBJECT_OPERATOR","->",18],["T_STRING","fields",18],"(","[",["T_WHITESPACE","\n    ",18],["T_CONSTANT_ENCAPSED_STRING","'collection'",19],",",["T_WHITESPACE","\n    ",19],["T_CONSTANT_ENCAPSED_STRING","'name'",20],",",["T_WHITESPACE","\n    ",20],["T_CONSTANT_ENCAPSED_STRING","'data'",21],",",["T_WHITESPACE","\n  ",21],"]",")",["T_WHITESPACE","\n  ",22],["T_OBJECT_OPERATOR","->",23],["T_STRING","values",23],"(","[",["T_WHITESPACE","\n    ",23],["T_CONSTANT_ENCAPSED_STRING","'collection'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","''",24],",",["T_WHITESPACE","\n    ",24],["T_CONSTANT_ENCAPSED_STRING","'name'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'views.view.'",25],["T_WHITESPACE"," ",25],".",["T_WHITESPACE"," ",25],["T_VARIABLE","$config",25],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",25],"]",",",["T_WHITESPACE","\n    ",25],["T_CONSTANT_ENCAPSED_STRING","'data'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_STRING","serialize",26],"(",["T_VARIABLE","$config",26],")",",",["T_WHITESPACE","\n  ",26],"]",")",["T_WHITESPACE","\n  ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","execute",28],"(",")",";",["T_WHITESPACE","\n\n",28],["T_COMMENT","\/\/ Configuration for an entity_reference field storage using the View for\n",30],["T_COMMENT","\/\/ selection.\n",31],["T_VARIABLE","$field_ref_views_select_2429191",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","Yaml",32],["T_DOUBLE_COLON","::",32],["T_STRING","decode",32],"(",["T_STRING","file_get_contents",32],"(",["T_DIR","__DIR__",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'\/field.storage.node.field_ref_views_select_2429191.yml'",32],")",")",";",["T_WHITESPACE","\n\n",32],["T_COMMENT","\/\/ Configuration for an entity_reference field storage using the auto-create\n",34],["T_COMMENT","\/\/ feature.\n",35],["T_VARIABLE","$field_ref_autocreate_2412569",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","Yaml",36],["T_DOUBLE_COLON","::",36],["T_STRING","decode",36],"(",["T_STRING","file_get_contents",36],"(",["T_DIR","__DIR__",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'\/field.storage.node.field_ref_autocreate_2412569.yml'",36],")",")",";",["T_WHITESPACE","\n\n",36],["T_VARIABLE","$connection",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","insert",38],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",38],")",["T_WHITESPACE","\n  ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","fields",39],"(","[",["T_WHITESPACE","\n    ",39],["T_CONSTANT_ENCAPSED_STRING","'collection'",40],",",["T_WHITESPACE","\n    ",40],["T_CONSTANT_ENCAPSED_STRING","'name'",41],",",["T_WHITESPACE","\n    ",41],["T_CONSTANT_ENCAPSED_STRING","'data'",42],",",["T_WHITESPACE","\n  ",42],"]",")",["T_WHITESPACE","\n  ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","values",44],"(","[",["T_WHITESPACE","\n    ",44],["T_CONSTANT_ENCAPSED_STRING","'collection'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","''",45],",",["T_WHITESPACE","\n    ",45],["T_CONSTANT_ENCAPSED_STRING","'name'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'field.storage.'",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_VARIABLE","$field_ref_views_select_2429191",46],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",46],"]",",",["T_WHITESPACE","\n    ",46],["T_CONSTANT_ENCAPSED_STRING","'data'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","serialize",47],"(",["T_VARIABLE","$field_ref_views_select_2429191",47],")",",",["T_WHITESPACE","\n  ",47],"]",")",["T_WHITESPACE","\n  ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","values",49],"(","[",["T_WHITESPACE","\n    ",49],["T_CONSTANT_ENCAPSED_STRING","'collection'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","''",50],",",["T_WHITESPACE","\n    ",50],["T_CONSTANT_ENCAPSED_STRING","'name'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'field.storage.'",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$field_ref_autocreate_2412569",51],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",51],"]",",",["T_WHITESPACE","\n    ",51],["T_CONSTANT_ENCAPSED_STRING","'data'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","serialize",52],"(",["T_VARIABLE","$field_ref_autocreate_2412569",52],")",",",["T_WHITESPACE","\n  ",52],"]",")",["T_WHITESPACE","\n  ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","execute",54],"(",")",";",["T_WHITESPACE","\n",54],["T_COMMENT","\/\/ We need to Update the registry of \"last installed\" field definitions.\n",55],["T_VARIABLE","$installed",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$connection",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","select",56],"(",["T_CONSTANT_ENCAPSED_STRING","'key_value'",56],")",["T_WHITESPACE","\n  ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","fields",57],"(",["T_CONSTANT_ENCAPSED_STRING","'key_value'",57],",",["T_WHITESPACE"," ",57],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",57],"]",")",["T_WHITESPACE","\n  ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","condition",58],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'entity.definitions.installed'",58],")",["T_WHITESPACE","\n  ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","condition",59],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'node.field_storage_definitions'",59],")",["T_WHITESPACE","\n  ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","execute",60],"(",")",["T_WHITESPACE","\n  ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","fetchField",61],"(",")",";",["T_WHITESPACE","\n",61],["T_VARIABLE","$installed",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","unserialize",62],"(",["T_VARIABLE","$installed",62],")",";",["T_WHITESPACE","\n",62],["T_VARIABLE","$installed",63],"[",["T_CONSTANT_ENCAPSED_STRING","'field_ref_views_select_2429191'",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","FieldStorageConfig",63],"(",["T_VARIABLE","$field_ref_views_select_2429191",63],")",";",["T_WHITESPACE","\n",63],["T_VARIABLE","$installed",64],"[",["T_CONSTANT_ENCAPSED_STRING","'field_ref_autocreate_2412569'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","FieldStorageConfig",64],"(",["T_VARIABLE","$field_ref_autocreate_2412569",64],")",";",["T_WHITESPACE","\n",64],["T_VARIABLE","$connection",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","update",65],"(",["T_CONSTANT_ENCAPSED_STRING","'key_value'",65],")",["T_WHITESPACE","\n  ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","condition",66],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'entity.definitions.installed'",66],")",["T_WHITESPACE","\n  ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","condition",67],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'node.field_storage_definitions'",67],")",["T_WHITESPACE","\n  ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","fields",68],"(","[",["T_WHITESPACE","\n    ",68],["T_CONSTANT_ENCAPSED_STRING","'value'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","serialize",69],"(",["T_VARIABLE","$installed",69],")",["T_WHITESPACE","\n  ",69],"]",")",["T_WHITESPACE","\n  ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","execute",71],"(",")",";",["T_WHITESPACE","\n\n",71],["T_COMMENT","\/\/ Configuration for an entity_reference field using the View for selection.\n",73],["T_VARIABLE","$field_ref_views_select_2429191",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","Yaml",74],["T_DOUBLE_COLON","::",74],["T_STRING","decode",74],"(",["T_STRING","file_get_contents",74],"(",["T_DIR","__DIR__",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'\/field.field.node.article.field_ref_views_select_2429191.yml'",74],")",")",";",["T_WHITESPACE","\n\n",74],["T_COMMENT","\/\/ Configuration for an entity_reference field using the auto-create feature.\n",76],["T_VARIABLE","$field_ref_autocreate_2412569",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","Yaml",77],["T_DOUBLE_COLON","::",77],["T_STRING","decode",77],"(",["T_STRING","file_get_contents",77],"(",["T_DIR","__DIR__",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'\/field.field.node.article.field_ref_autocreate_2412569.yml'",77],")",")",";",["T_WHITESPACE","\n\n",77],["T_VARIABLE","$connection",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","insert",79],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",79],")",["T_WHITESPACE","\n  ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","fields",80],"(","[",["T_WHITESPACE","\n    ",80],["T_CONSTANT_ENCAPSED_STRING","'collection'",81],",",["T_WHITESPACE","\n    ",81],["T_CONSTANT_ENCAPSED_STRING","'name'",82],",",["T_WHITESPACE","\n    ",82],["T_CONSTANT_ENCAPSED_STRING","'data'",83],",",["T_WHITESPACE","\n  ",83],"]",")",["T_WHITESPACE","\n  ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","values",85],"(","[",["T_WHITESPACE","\n    ",85],["T_CONSTANT_ENCAPSED_STRING","'collection'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","''",86],",",["T_WHITESPACE","\n    ",86],["T_CONSTANT_ENCAPSED_STRING","'name'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'field.field.'",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_VARIABLE","$field_ref_views_select_2429191",87],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",87],"]",",",["T_WHITESPACE","\n    ",87],["T_CONSTANT_ENCAPSED_STRING","'data'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","serialize",88],"(",["T_VARIABLE","$field_ref_views_select_2429191",88],")",",",["T_WHITESPACE","\n  ",88],"]",")",["T_WHITESPACE","\n  ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","values",90],"(","[",["T_WHITESPACE","\n    ",90],["T_CONSTANT_ENCAPSED_STRING","'collection'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","''",91],",",["T_WHITESPACE","\n    ",91],["T_CONSTANT_ENCAPSED_STRING","'name'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'field.field.'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_VARIABLE","$field_ref_autocreate_2412569",92],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",92],"]",",",["T_WHITESPACE","\n    ",92],["T_CONSTANT_ENCAPSED_STRING","'data'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","serialize",93],"(",["T_VARIABLE","$field_ref_autocreate_2412569",93],")",",",["T_WHITESPACE","\n  ",93],"]",")",["T_WHITESPACE","\n  ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","execute",95],"(",")",";",["T_WHITESPACE","\n",95]]