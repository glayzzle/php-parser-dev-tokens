[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageConfig",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests Field access.\n *\n * @group field\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","FieldAccessTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","FieldTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'field_test'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Node entity to use in this test.\n   *\n   * @var \\Drupal\\node\\Entity\\Node\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$node",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Field value to test display on nodes.\n   *\n   * @var string\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$testViewFieldValue",34],";",["T_WHITESPACE","\n\n  ",34],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setUp",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","setUp",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_VARIABLE","$web_user",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalCreateUser",39],"(",["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'view test_view_field content'",39],")",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalLogin",40],"(",["T_VARIABLE","$web_user",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Create content type.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$content_type_info",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalCreateContentType",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$content_type",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$content_type_info",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","id",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$field_storage",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'field_name'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'test_view_field'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'node'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'text'",49],",",["T_WHITESPACE","\n    ",49],")",";",["T_WHITESPACE","\n    ",50],["T_STRING","FieldStorageConfig",51],["T_DOUBLE_COLON","::",51],["T_STRING","create",51],"(",["T_VARIABLE","$field_storage",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","save",51],"(",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$field",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'field_name'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$field_storage",53],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",53],"]",",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'node'",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'bundle'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$content_type",55],",",["T_WHITESPACE","\n    ",55],")",";",["T_WHITESPACE","\n    ",56],["T_STRING","FieldConfig",57],["T_DOUBLE_COLON","::",57],["T_STRING","create",57],"(",["T_VARIABLE","$field",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","save",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Assign display properties for the 'default' and 'teaser' view modes.\n",59],["T_WHITESPACE","    ",60],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'teaser'",60],")",["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$view_mode",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_STRING","entity_get_display",61],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$content_type",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$view_mode",61],")",["T_WHITESPACE","\n        ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","setComponent",62],"(",["T_VARIABLE","$field_storage",62],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",62],"]",")",["T_WHITESPACE","\n        ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","save",63],"(",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Create test node.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","testViewFieldValue",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'This is some text'",67],";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$settings",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$settings",69],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$content_type",69],";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$settings",70],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Field view access test'",70],";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$settings",71],"[",["T_CONSTANT_ENCAPSED_STRING","'test_view_field'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","testViewFieldValue",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","node",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalCreateNode",72],"(",["T_VARIABLE","$settings",72],")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * Test that hook_entity_field_access() is called.\n   *\/",75],["T_WHITESPACE","\n  ",77],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testFieldAccess",78],"(",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Assert the text is visible.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalGet",81],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","node",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertText",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","testViewFieldValue",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Assert the text is not visible for anonymous users.\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ The field_test module implements hook_entity_field_access() which will\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ specifically target the 'test_view_field' field.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalLogout",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalGet",88],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","node",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","id",88],"(",")",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertNoText",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","testViewFieldValue",89],")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n",90],"}",["T_WHITESPACE","\n",92]]