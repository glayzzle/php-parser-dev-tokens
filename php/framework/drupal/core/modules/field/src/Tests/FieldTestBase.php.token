[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","LanguageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","simpletest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","WebTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Parent class for Field API tests.\n *\/",9],["T_WHITESPACE","\n",11],["T_ABSTRACT","abstract",12],["T_WHITESPACE"," ",12],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FieldTestBase",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","WebTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Generate random values for a field_test field.\n   *\n   * @param $cardinality\n   *   Number of values to generate.\n   * @return\n   *   An array of random values, in the format expected for field values.\n   *\/",14],["T_WHITESPACE","\n  ",21],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","_generateTestFieldValues",22],"(",["T_VARIABLE","$cardinality",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$values",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_FOR","for",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$i",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_LNUMBER","0",24],";",["T_WHITESPACE"," ",24],["T_VARIABLE","$i",24],["T_WHITESPACE"," ",24],"<",["T_WHITESPACE"," ",24],["T_VARIABLE","$cardinality",24],";",["T_WHITESPACE"," ",24],["T_VARIABLE","$i",24],["T_INC","++",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n      ",24],["T_COMMENT","\/\/ field_test fields treat 0 as 'empty value'.\n",25],["T_WHITESPACE","      ",26],["T_VARIABLE","$values",26],"[",["T_VARIABLE","$i",26],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","mt_rand",26],"(",["T_LNUMBER","1",26],",",["T_WHITESPACE"," ",26],["T_LNUMBER","127",26],")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n    ",27],["T_RETURN","return",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$values",28],";",["T_WHITESPACE","\n  ",28],"}",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Assert that a field has the expected values in an entity.\n   *\n   * This function only checks a single column in the field values.\n   *\n   * @param EntityInterface $entity\n   *   The entity to test.\n   * @param $field_name\n   *   The name of the field to test\n   * @param $expected_values\n   *   The array of expected values.\n   * @param $langcode\n   *   (Optional) The language code for the values. Defaults to\n   *   \\Drupal\\Core\\Language\\LanguageInterface::LANGCODE_DEFAULT.\n   * @param $column\n   *   (Optional) The name of the column to check. Defaults to 'value'.\n   *\/",31],["T_WHITESPACE","\n  ",47],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","assertFieldValues",48],"(",["T_STRING","EntityInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$entity",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$field_name",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$expected_values",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$langcode",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","LanguageInterface",48],["T_DOUBLE_COLON","::",48],["T_STRING","LANGCODE_DEFAULT",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$column",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'value'",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ Re-load the entity to make sure we have the latest changes.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$storage",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",50],")",["T_WHITESPACE","\n      ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","getStorage",51],"(",["T_VARIABLE","$entity",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getEntityTypeId",51],"(",")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$storage",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","resetCache",52],"(","[",["T_VARIABLE","$entity",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","id",52],"(",")","]",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$e",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$storage",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","load",53],"(",["T_VARIABLE","$entity",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","id",53],"(",")",")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$field",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$values",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$e",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getTranslation",55],"(",["T_VARIABLE","$langcode",55],")",["T_OBJECT_OPERATOR","->",55],["T_VARIABLE","$field_name",55],";",["T_WHITESPACE","\n    ",55],["T_COMMENT","\/\/ Filter out empty values so that they don't mess with the assertions.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$field",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","filterEmptyItems",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$values",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$field",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getValue",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEqual",59],"(",["T_STRING","count",59],"(",["T_VARIABLE","$values",59],")",",",["T_WHITESPACE"," ",59],["T_STRING","count",59],"(",["T_VARIABLE","$expected_values",59],")",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Expected number of values were saved.'",59],")",";",["T_WHITESPACE","\n    ",59],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$expected_values",60],["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$key",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$value",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_VARIABLE","$values",61],"[",["T_VARIABLE","$key",61],"]","[",["T_VARIABLE","$column",61],"]",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$value",61],",",["T_WHITESPACE"," ",61],["T_STRING","format_string",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Value @value was saved correctly.'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'@value'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$value",61],")",")",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n",63],"}",["T_WHITESPACE","\n",65]]