[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Email",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","entity_test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityTest",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldStorageConfig",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests email field functionality.\n *\n * @group field\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","EmailFieldTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","WebTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",23],")",";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * A field storage to use in this test class.\n   *\n   * @var \\Drupal\\field\\Entity\\FieldStorageConfig\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$fieldStorage",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The field used in this test class.\n   *\n   * @var \\Drupal\\field\\Entity\\FieldConfig\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$field",37],";",["T_WHITESPACE","\n\n  ",37],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","setUp",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalLogin",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalCreateUser",42],"(",["T_ARRAY","array",42],"(",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'view test entity'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'administer entity_test content'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",45],",",["T_WHITESPACE","\n    ",45],")",")",")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * Tests email field.\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testEmailField",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_COMMENT","\/\/ Create a field with settings to validate.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$field_name",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","Unicode",54],["T_DOUBLE_COLON","::",54],["T_STRING","strtolower",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","randomMachineName",54],"(",")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","fieldStorage",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","FieldStorageConfig",55],["T_DOUBLE_COLON","::",55],["T_STRING","create",55],"(",["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'field_name'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$field_name",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'email'",58],",",["T_WHITESPACE","\n    ",58],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","fieldStorage",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","save",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","field",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","FieldConfig",61],["T_DOUBLE_COLON","::",61],["T_STRING","create",61],"(","[",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","fieldStorage",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'bundle'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",63],",",["T_WHITESPACE","\n    ",63],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","field",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Create a form display for the default form mode.\n",67],["T_WHITESPACE","    ",68],["T_STRING","entity_get_form_display",68],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'default'",68],")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","setComponent",69],"(",["T_VARIABLE","$field_name",69],",",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'type'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'email_default'",70],",",["T_WHITESPACE","\n        ",70],["T_CONSTANT_ENCAPSED_STRING","'settings'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_WHITESPACE","\n          ",71],["T_CONSTANT_ENCAPSED_STRING","'placeholder'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'example@example.com'",72],",",["T_WHITESPACE","\n        ",72],")",",",["T_WHITESPACE","\n      ",73],")",")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","save",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/\/ Create a display for the full view mode.\n",76],["T_WHITESPACE","    ",77],["T_STRING","entity_get_display",77],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'full'",77],")",["T_WHITESPACE","\n      ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","setComponent",78],"(",["T_VARIABLE","$field_name",78],",",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'type'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'email_mailto'",79],",",["T_WHITESPACE","\n      ",79],")",")",["T_WHITESPACE","\n      ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","save",81],"(",")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Display creation form.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalGet",84],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertFieldByName",85],"(","\"",["T_CURLY_OPEN","{",85],["T_VARIABLE","$field_name",85],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value]",85],"\"",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","''",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Widget found.'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertRaw",86],"(",["T_CONSTANT_ENCAPSED_STRING","'placeholder=\"example@example.com\"'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Submit a valid email address and ensure it is accepted.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$value",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'test@example.com'",89],";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$edit",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_WHITESPACE","\n      ",90],"\"",["T_CURLY_OPEN","{",91],["T_VARIABLE","$field_name",91],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value]",91],"\"",["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$value",91],",",["T_WHITESPACE","\n    ",91],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalPostForm",93],"(",["T_STRING","NULL",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$edit",93],",",["T_WHITESPACE"," ",93],["T_STRING","t",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",93],")",")",";",["T_WHITESPACE","\n    ",93],["T_STRING","preg_match",94],"(",["T_CONSTANT_ENCAPSED_STRING","'|entity_test\/manage\/(\\d+)|'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","url",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$match",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$id",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$match",95],"[",["T_LNUMBER","1",95],"]",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertText",96],"(",["T_STRING","t",96],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test @id has been created.'",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$id",96],")",")",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertRaw",97],"(",["T_VARIABLE","$value",97],")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Verify that a mailto link is displayed.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$entity",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","EntityTest",100],["T_DOUBLE_COLON","::",100],["T_STRING","load",100],"(",["T_VARIABLE","$id",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$display",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","entity_get_display",101],"(",["T_VARIABLE","$entity",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getEntityTypeId",101],"(",")",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$entity",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","bundle",101],"(",")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'full'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$content",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$display",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","build",102],"(",["T_VARIABLE","$entity",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setRawContent",103],"(",["T_NS_SEPARATOR","\\",103],["T_STRING","Drupal",103],["T_DOUBLE_COLON","::",103],["T_STRING","service",103],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",103],")",["T_OBJECT_OPERATOR","->",103],["T_STRING","renderRoot",103],"(",["T_VARIABLE","$content",103],")",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertLinkByHref",104],"(",["T_CONSTANT_ENCAPSED_STRING","'mailto:test@example.com'",104],")",";",["T_WHITESPACE","\n  ",104],"}",["T_WHITESPACE","\n\n",105],"}",["T_WHITESPACE","\n",107]]