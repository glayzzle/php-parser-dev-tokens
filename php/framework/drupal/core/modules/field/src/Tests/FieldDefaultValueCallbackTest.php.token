[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","simpletest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","WebTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the default value callback.\n *\n * @group field\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FieldDefaultValueCallbackTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","WebTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'field_test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * The field name.\n   *\n   * @var string\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$fieldName",28],";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","setUp",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","setUp",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","fieldName",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'field_test'",36],";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Create Article node types.\n",38],["T_WHITESPACE","    ",39],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","profile",39],["T_WHITESPACE"," ",39],["T_IS_NOT_EQUAL","!=",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'standard'",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalCreateContentType",40],"(",["T_ARRAY","array",40],"(",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'type'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'article'",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'name'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'Article'",42],",",["T_WHITESPACE","\n      ",42],")",")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n  ",44],"}",["T_WHITESPACE","\n\n  ",46],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testDefaultValueCallbackForm",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ Create a field and storage for checking.\n",49],["T_WHITESPACE","    ",50],["T_DOC_COMMENT","\/** @var \\Drupal\\field\\Entity\\FieldStorageConfig $field_storage *\/",50],["T_WHITESPACE","\n    ",50],["T_STRING","FieldStorageConfig",51],["T_DOUBLE_COLON","::",51],["T_STRING","create",51],"(","[",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'field_name'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","fieldName",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'node'",53],",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'type'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'text'",54],",",["T_WHITESPACE","\n    ",54],"]",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","save",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_DOC_COMMENT","\/** @var \\Drupal\\field\\Entity\\FieldConfig $field_config *\/",56],["T_WHITESPACE","\n    ",56],["T_VARIABLE","$field_config",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","FieldConfig",57],["T_DOUBLE_COLON","::",57],["T_STRING","create",57],"(","[",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'node'",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'field_name'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","fieldName",59],",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'bundle'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'article'",60],",",["T_WHITESPACE","\n    ",60],"]",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$field_config",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","save",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalLogin",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","rootUser",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Check that the default field form is visible when no callback is set.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalGet",67],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/structure\/types\/manage\/article\/fields\/node.article.field_test'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertFieldByName",68],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input[field_test][0][value]'",68],",",["T_WHITESPACE"," ",68],["T_STRING","NULL",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'The default field form is visible.'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_COMMENT","\/\/ Set a different field value, it should be on the field.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$default_value",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","randomString",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$field_config",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setDefaultValue",72],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'value'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$default_value",72],"]","]",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","save",72],"(",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalGet",73],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/structure\/types\/manage\/article\/fields\/node.article.field_test'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertFieldByName",74],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input[field_test][0][value]'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$default_value",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'The default field form is visible.'",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Set a different field value to the field directly, instead of an array.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$default_value",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","randomString",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$field_config",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setDefaultValue",78],"(",["T_VARIABLE","$default_value",78],")",["T_OBJECT_OPERATOR","->",78],["T_STRING","save",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","drupalGet",79],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/structure\/types\/manage\/article\/fields\/node.article.field_test'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertFieldByName",80],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input[field_test][0][value]'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$default_value",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'The default field form is visible.'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Set a default value callback instead, and the default field form should\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ not be visible.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$field_config",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setDefaultValueCallback",84],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\field\\Tests\\FieldDefaultValueCallbackProvider::calculateDefaultValue'",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalGet",85],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/structure\/types\/manage\/article\/fields\/node.article.field_test'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertNoFieldByName",86],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input[field_test][0][value]'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Calculated default value'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'The default field form is not visible when a callback is defined.'",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n",87],"}",["T_WHITESPACE","\n",89]]