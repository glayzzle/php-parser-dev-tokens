[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n",3],["T_USE","use",4],["T_WHITESPACE"," ",4],["T_STRING","Drupal",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Core",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Field",4],["T_NS_SEPARATOR","\\",4],["T_STRING","FieldStorageDefinitionInterface",4],";",["T_WHITESPACE","\n",4],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageConfig",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests field elements in nested forms.\n *\n * @group field\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","NestedFormTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","FieldTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","setUp",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_STRING","parent",23],["T_DOUBLE_COLON","::",23],["T_STRING","setUp",23],"(",")",";",["T_WHITESPACE","\n\n    ",23],["T_VARIABLE","$web_user",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","drupalCreateUser",25],"(",["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'view test entity'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'administer entity_test content'",25],")",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalLogin",26],"(",["T_VARIABLE","$web_user",26],")",";",["T_WHITESPACE","\n\n    ",26],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","fieldStorageSingle",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'field_name'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'field_single'",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'type'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'test_field'",31],",",["T_WHITESPACE","\n    ",31],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","fieldStorageUnlimited",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'field_name'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",35],",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'type'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'test_field'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_STRING","FieldStorageDefinitionInterface",37],["T_DOUBLE_COLON","::",37],["T_STRING","CARDINALITY_UNLIMITED",37],",",["T_WHITESPACE","\n    ",37],")",";",["T_WHITESPACE","\n\n    ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","field",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'bundle'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'label'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","randomMachineName",43],"(",")",["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'_label'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'description'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'[site:name]_description'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'weight'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","mt_rand",45],"(",["T_LNUMBER","0",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","127",45],")",",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'settings'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","randomMachineName",47],"(",")",",",["T_WHITESPACE","\n      ",47],")",",",["T_WHITESPACE","\n    ",48],")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Tests Field API form integration within a subform.\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testNestedFieldForm",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_COMMENT","\/\/ Add two fields on the 'entity_test'\n",56],["T_WHITESPACE","    ",57],["T_STRING","FieldStorageConfig",57],["T_DOUBLE_COLON","::",57],["T_STRING","create",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","fieldStorageSingle",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","save",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_STRING","FieldStorageConfig",58],["T_DOUBLE_COLON","::",58],["T_STRING","create",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","fieldStorageUnlimited",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","save",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","field",59],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'field_single'",59],";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","field",60],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Single field'",60],";",["T_WHITESPACE","\n    ",60],["T_STRING","FieldConfig",61],["T_DOUBLE_COLON","::",61],["T_STRING","create",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","field",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","save",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_STRING","entity_get_form_display",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","field",62],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",62],"]",",",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","field",62],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",62],"]",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'default'",62],")",["T_WHITESPACE","\n      ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","setComponent",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","field",63],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",63],"]",")",["T_WHITESPACE","\n      ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","field",65],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","field",66],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",66],"]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Unlimited field'",66],";",["T_WHITESPACE","\n    ",66],["T_STRING","FieldConfig",67],["T_DOUBLE_COLON","::",67],["T_STRING","create",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","field",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","save",67],"(",")",";",["T_WHITESPACE","\n    ",67],["T_STRING","entity_get_form_display",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","field",68],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",68],"]",",",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","field",68],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",68],"]",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'default'",68],")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","setComponent",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","field",69],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",69],"]",")",["T_WHITESPACE","\n      ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Create two entities.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$entity_type",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",73],";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$storage",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","container",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",74],")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","getStorage",75],"(",["T_VARIABLE","$entity_type",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$entity_1",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$storage",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","create",77],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],"]",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$entity_1",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","enforceIsNew",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$entity_1",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","field_single",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","value",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$entity_1",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","field_unlimited",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","value",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_LNUMBER","1",80],";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$entity_1",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","save",81],"(",")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$entity_2",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$storage",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","create",83],"(",["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_LNUMBER","2",83],")",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$entity_2",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","enforceIsNew",84],"(",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$entity_2",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","field_single",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","value",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_LNUMBER","10",85],";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$entity_2",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","field_unlimited",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","value",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_LNUMBER","11",86],";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$entity_2",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","save",87],"(",")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Display the 'combined form'.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalGet",90],"(",["T_CONSTANT_ENCAPSED_STRING","'test-entity\/nested\/1\/2'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertFieldByName",91],"(",["T_CONSTANT_ENCAPSED_STRING","'field_single[0][value]'",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: field_single value appears correctly is the form.'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertFieldByName",92],"(",["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[0][value]'",92],",",["T_WHITESPACE"," ",92],["T_LNUMBER","1",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: field_unlimited value 0 appears correctly is the form.'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertFieldByName",93],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_single][0][value]'",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","10",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: field_single value appears correctly is the form.'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertFieldByName",94],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][0][value]'",94],",",["T_WHITESPACE"," ",94],["T_LNUMBER","11",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: field_unlimited value 0 appears correctly is the form.'",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Submit the form and check that the entities are updated accordingly.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$edit",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'field_single[0][value]'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[0][value]'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_LNUMBER","2",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[1][value]'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_LNUMBER","3",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_single][0][value]'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_LNUMBER","11",101],",",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][0][value]'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_LNUMBER","12",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][1][value]'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_LNUMBER","13",103],",",["T_WHITESPACE","\n    ",103],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalPostForm",105],"(",["T_STRING","NULL",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$edit",105],",",["T_WHITESPACE"," ",105],["T_STRING","t",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",105],")",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$entity_1",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$storage",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","load",106],"(",["T_LNUMBER","1",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$entity_2",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$storage",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","load",107],"(",["T_LNUMBER","2",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertFieldValues",108],"(",["T_VARIABLE","$entity_1",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'field_single'",108],",",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_LNUMBER","1",108],")",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertFieldValues",109],"(",["T_VARIABLE","$entity_1",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",109],",",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_LNUMBER","2",109],",",["T_WHITESPACE"," ",109],["T_LNUMBER","3",109],")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertFieldValues",110],"(",["T_VARIABLE","$entity_2",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'field_single'",110],",",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_LNUMBER","11",110],")",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertFieldValues",111],"(",["T_VARIABLE","$entity_2",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",111],",",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_LNUMBER","12",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","13",111],")",")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Submit invalid values and check that errors are reported on the\n",113],["T_WHITESPACE","    ",114],["T_COMMENT","\/\/ correct widgets.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$edit",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[1][value]'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],"-",["T_LNUMBER","1",116],",",["T_WHITESPACE","\n    ",116],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","drupalPostForm",118],"(",["T_CONSTANT_ENCAPSED_STRING","'test-entity\/nested\/1\/2'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$edit",118],",",["T_WHITESPACE"," ",118],["T_STRING","t",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",118],")",")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertRaw",119],"(",["T_STRING","t",119],"(",["T_CONSTANT_ENCAPSED_STRING","'%label does not accept the value -1'",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Unlimited field'",119],")",")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: the field validation error was reported.'",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$error_field",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","xpath",120],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@id=:id and contains(@class, \"error\")]'",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'edit-field-unlimited-1-value'",120],")",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertTrue",121],"(",["T_VARIABLE","$error_field",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: the error was flagged on the correct element.'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$edit",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][1][value]'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],"-",["T_LNUMBER","1",123],",",["T_WHITESPACE","\n    ",123],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","drupalPostForm",125],"(",["T_CONSTANT_ENCAPSED_STRING","'test-entity\/nested\/1\/2'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$edit",125],",",["T_WHITESPACE"," ",125],["T_STRING","t",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",125],")",")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertRaw",126],"(",["T_STRING","t",126],"(",["T_CONSTANT_ENCAPSED_STRING","'%label does not accept the value -1'",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Unlimited field'",126],")",")",",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: the field validation error was reported.'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$error_field",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","xpath",127],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@id=:id and contains(@class, \"error\")]'",127],",",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'edit-entity-2-field-unlimited-1-value'",127],")",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertTrue",128],"(",["T_VARIABLE","$error_field",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: the error was flagged on the correct element.'",128],")",";",["T_WHITESPACE","\n\n    ",128],["T_COMMENT","\/\/ Test that reordering works on both entities.\n",130],["T_WHITESPACE","    ",131],["T_VARIABLE","$edit",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[0][_weight]'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_LNUMBER","0",132],",",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[1][_weight]'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],"-",["T_LNUMBER","1",133],",",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][0][_weight]'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],",",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][1][_weight]'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],"-",["T_LNUMBER","1",135],",",["T_WHITESPACE","\n    ",135],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","drupalPostForm",137],"(",["T_CONSTANT_ENCAPSED_STRING","'test-entity\/nested\/1\/2'",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$edit",137],",",["T_WHITESPACE"," ",137],["T_STRING","t",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",137],")",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertFieldValues",138],"(",["T_VARIABLE","$entity_1",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",138],",",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_LNUMBER","3",138],",",["T_WHITESPACE"," ",138],["T_LNUMBER","2",138],")",")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertFieldValues",139],"(",["T_VARIABLE","$entity_2",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_LNUMBER","13",139],",",["T_WHITESPACE"," ",139],["T_LNUMBER","12",139],")",")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Test the 'add more' buttons. Only Ajax submission is tested, because\n",141],["T_WHITESPACE","    ",142],["T_COMMENT","\/\/ the two 'add more' buttons present in the form have the same #value,\n",142],["T_WHITESPACE","    ",143],["T_COMMENT","\/\/ which confuses drupalPostForm().\n",143],["T_WHITESPACE","    ",144],["T_COMMENT","\/\/ 'Add more' button in the first entity:\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalGet",145],"(",["T_CONSTANT_ENCAPSED_STRING","'test-entity\/nested\/1\/2'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","drupalPostAjaxForm",146],"(",["T_STRING","NULL",146],",",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited_add_more'",146],")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertFieldByName",147],"(",["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[0][value]'",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","3",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: field_unlimited value 0 appears correctly is the form.'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertFieldByName",148],"(",["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[1][value]'",148],",",["T_WHITESPACE"," ",148],["T_LNUMBER","2",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: field_unlimited value 1 appears correctly is the form.'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertFieldByName",149],"(",["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[2][value]'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: field_unlimited value 2 appears correctly is the form.'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertFieldByName",150],"(",["T_CONSTANT_ENCAPSED_STRING","'field_unlimited[3][value]'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'Entity 1: an empty widget was added for field_unlimited value 3.'",150],")",";",["T_WHITESPACE","\n    ",150],["T_COMMENT","\/\/ 'Add more' button in the first entity (changing field values):\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$edit",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][0][value]'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_LNUMBER","13",153],",",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][1][value]'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_LNUMBER","14",154],",",["T_WHITESPACE","\n      ",154],["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][2][value]'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_LNUMBER","15",155],",",["T_WHITESPACE","\n    ",155],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","drupalPostAjaxForm",157],"(",["T_STRING","NULL",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$edit",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'entity_2_field_unlimited_add_more'",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertFieldByName",158],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][0][value]'",158],",",["T_WHITESPACE"," ",158],["T_LNUMBER","13",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: field_unlimited value 0 appears correctly is the form.'",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertFieldByName",159],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][1][value]'",159],",",["T_WHITESPACE"," ",159],["T_LNUMBER","14",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: field_unlimited value 1 appears correctly is the form.'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertFieldByName",160],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][2][value]'",160],",",["T_WHITESPACE"," ",160],["T_LNUMBER","15",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: field_unlimited value 2 appears correctly is the form.'",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertFieldByName",161],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_2[field_unlimited][3][value]'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","''",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: an empty widget was added for field_unlimited value 3.'",161],")",";",["T_WHITESPACE","\n    ",161],["T_COMMENT","\/\/ Save the form and check values are saved correctly.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","drupalPostForm",163],"(",["T_STRING","NULL",163],",",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",")",",",["T_WHITESPACE"," ",163],["T_STRING","t",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",163],")",")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertFieldValues",164],"(",["T_VARIABLE","$entity_1",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",164],",",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_LNUMBER","3",164],",",["T_WHITESPACE"," ",164],["T_LNUMBER","2",164],")",")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertFieldValues",165],"(",["T_VARIABLE","$entity_2",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'field_unlimited'",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_LNUMBER","13",165],",",["T_WHITESPACE"," ",165],["T_LNUMBER","14",165],",",["T_WHITESPACE"," ",165],["T_LNUMBER","15",165],")",")",";",["T_WHITESPACE","\n  ",165],"}",["T_WHITESPACE","\n\n  ",166],["T_DOC_COMMENT","\/**\n   * Tests entity level validation within subforms.\n   *\/",168],["T_WHITESPACE","\n  ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","testNestedEntityFormEntityLevelValidation",171],"(",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n    ",171],["T_COMMENT","\/\/ Create two entities.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$storage",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","container",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","get",173],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",173],")",["T_WHITESPACE","\n      ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","getStorage",174],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_constraints'",174],")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$entity_1",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$storage",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","create",176],"(",")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$entity_1",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","save",177],"(",")",";",["T_WHITESPACE","\n\n    ",177],["T_VARIABLE","$entity_2",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$storage",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","create",179],"(",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$entity_2",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","save",180],"(",")",";",["T_WHITESPACE","\n\n    ",180],["T_COMMENT","\/\/ Display the 'combined form'.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","drupalGet",183],"(","\"",["T_ENCAPSED_AND_WHITESPACE","test-entity-constraints\/nested\/",183],["T_CURLY_OPEN","{",183],["T_VARIABLE","$entity_1",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","id",183],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","\/",183],["T_CURLY_OPEN","{",183],["T_VARIABLE","$entity_2",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","id",183],"(",")","}","\"",")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertFieldByName",184],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_2[changed]'",184],",",["T_WHITESPACE"," ",184],["T_LNUMBER","0",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'Entity 2: changed value appears correctly in the form.'",184],")",";",["T_WHITESPACE","\n\n    ",184],["T_COMMENT","\/\/ Submit the form and check that the entities are updated accordingly.\n",186],["T_WHITESPACE","    ",187],["T_VARIABLE","$edit",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_2[changed]'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_STRING","REQUEST_TIME",187],["T_WHITESPACE"," ",187],"-",["T_WHITESPACE"," ",187],["T_LNUMBER","86400",187],"]",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","drupalPostForm",188],"(",["T_STRING","NULL",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$edit",188],",",["T_WHITESPACE"," ",188],["T_STRING","t",188],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",188],")",")",";",["T_WHITESPACE","\n\n    ",188],["T_VARIABLE","$elements",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","cssSelect",190],"(",["T_CONSTANT_ENCAPSED_STRING","'.entity-2.error'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEqual",191],"(",["T_LNUMBER","1",191],",",["T_WHITESPACE"," ",191],["T_STRING","count",191],"(",["T_VARIABLE","$elements",191],")",",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'The whole nested entity form has been correctly flagged with an error class.'",191],")",";",["T_WHITESPACE","\n  ",191],"}",["T_WHITESPACE","\n\n",192],"}",["T_WHITESPACE","\n",194]]