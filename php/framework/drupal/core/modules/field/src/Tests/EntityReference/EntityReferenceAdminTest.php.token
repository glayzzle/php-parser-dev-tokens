[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EntityReference",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldStorageDefinitionInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field_ui",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldUiTestTrait",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","node",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Node",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","simpletest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebTestBase",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","taxonomy",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Vocabulary",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Tests for the administrative UI.\n *\n * @group entity_reference\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","EntityReferenceAdminTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","WebTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","FieldUiTestTrait",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * Enable path module to ensure that the selection handler does not fail for\n   * entities with a path field.\n   * Enable views_ui module to see the no_view_help text.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_STATIC","static",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$modules",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'path'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'block'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'views_ui'",31],"]",";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * The name of the content type created for testing purposes.\n   *\n   * @var string\n   *\/",33],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$type",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","setUp",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","setUp",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalPlaceBlock",45],"(",["T_CONSTANT_ENCAPSED_STRING","'system_breadcrumb_block'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Create a content type, with underscores.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$type_name",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","strtolower",48],"(",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","randomMachineName",48],"(",["T_LNUMBER","8",48],")",")",["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'_test'",48],";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$type",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalCreateContentType",49],"(",["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$type_name",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$type_name",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","type",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$type",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","id",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Create test user.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$admin_user",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalCreateUser",53],"(",["T_ARRAY","array",53],"(",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'access content'",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'administer node fields'",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'administer node display'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'administer views'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'create '",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_VARIABLE","$type_name",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","' content'",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'edit own '",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$type_name",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","' content'",59],",",["T_WHITESPACE","\n    ",59],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalLogin",61],"(",["T_VARIABLE","$admin_user",61],")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * Tests the Entity Reference Admin UI.\n   *\/",64],["T_WHITESPACE","\n  ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testFieldAdminHandler",67],"(",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$bundle_path",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","type",68],";",["T_WHITESPACE","\n\n    ",68],["T_COMMENT","\/\/ First step: 'Add new field' on the 'Manage fields' page.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalGet",71],"(",["T_VARIABLE","$bundle_path",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/add-field'",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Check if the commonly referenced entity types appear in the list.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertOption",74],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-new-storage-type'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'field_ui:entity_reference:node'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertOption",75],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-new-storage-type'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'field_ui:entity_reference:user'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","drupalPostForm",77],"(",["T_STRING","NULL",77],",",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'label'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Test label'",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'field_name'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'test'",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'new_storage_type'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",80],",",["T_WHITESPACE","\n    ",80],")",",",["T_WHITESPACE"," ",81],["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",81],")",")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Node should be selected by default.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertFieldByName",84],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[target_type]'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'node'",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Check that all entity types can be referenced.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertFieldSelectOptions",87],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[target_type]'",87],",",["T_WHITESPACE"," ",87],["T_STRING","array_keys",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Drupal",87],["T_DOUBLE_COLON","::",87],["T_STRING","entityManager",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","getDefinitions",87],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Second step: 'Field settings' form.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalPostForm",90],"(",["T_STRING","NULL",90],",",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",",",["T_WHITESPACE"," ",90],["T_STRING","t",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",90],")",")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ The base handler should be selected by default.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertFieldByName",93],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'default:node'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ The base handler settings should be displayed.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$entity_type_id",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'node'",96],";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$bundles",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","container",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.bundle.info'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getBundleInfo",97],"(",["T_VARIABLE","$entity_type_id",97],")",";",["T_WHITESPACE","\n    ",97],["T_FOREACH","foreach",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$bundles",98],["T_WHITESPACE"," ",98],["T_AS","as",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$bundle_name",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$bundle_info",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n      ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertFieldByName",99],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][target_bundles]['",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_VARIABLE","$bundle_name",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","']'",99],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_STRING","reset",102],"(",["T_VARIABLE","$bundles",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Test the sort settings.\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ Option 0: no sort.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertFieldByName",106],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][field]'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'_none'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertNoFieldByName",107],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][direction]'",107],")",";",["T_WHITESPACE","\n    ",107],["T_COMMENT","\/\/ Option 1: sort by field.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","drupalPostAjaxForm",109],"(",["T_STRING","NULL",109],",",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][field]'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'nid'",109],")",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][field]'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertFieldByName",110],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][direction]'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'ASC'",110],")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Test that a non-translatable base field is a sort option.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertFieldByXPath",113],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/select[@name='settings[handler_settings][sort][field]']\/option[@value='nid']\"",113],")",";",["T_WHITESPACE","\n    ",113],["T_COMMENT","\/\/ Test that a translatable base field is a sort option.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertFieldByXPath",115],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/select[@name='settings[handler_settings][sort][field]']\/option[@value='title']\"",115],")",";",["T_WHITESPACE","\n    ",115],["T_COMMENT","\/\/ Test that a configurable field is a sort option.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertFieldByXPath",117],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/select[@name='settings[handler_settings][sort][field]']\/option[@value='body.value']\"",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Set back to no sort.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalPostAjaxForm",120],"(",["T_STRING","NULL",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][field]'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'_none'",120],")",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][field]'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertNoFieldByName",121],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][sort][direction]'",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Third step: confirm.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalPostForm",124],"(",["T_STRING","NULL",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'required'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'1'",125],",",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][target_bundles]['",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_STRING","key",126],"(",["T_VARIABLE","$bundles",126],")",["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","']'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","key",126],"(",["T_VARIABLE","$bundles",126],")",",",["T_WHITESPACE","\n    ",126],")",",",["T_WHITESPACE"," ",127],["T_STRING","t",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",127],")",")",";",["T_WHITESPACE","\n\n    ",127],["T_COMMENT","\/\/ Check that the field appears in the overview form.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertFieldByXPath",130],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table[@id=\"field-overview\"]\/\/tr[@id=\"field-test\"]\/td[1]'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Test label'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Field was created and appears in the overview page.'",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Check that the field settings form can be submitted again, even when the\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ field is required.\n",133],["T_WHITESPACE","    ",134],["T_COMMENT","\/\/ The first 'Edit' link is for the Body field.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","clickLink",135],"(",["T_STRING","t",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",135],")",",",["T_WHITESPACE"," ",135],["T_LNUMBER","1",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","drupalPostForm",136],"(",["T_STRING","NULL",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",")",",",["T_WHITESPACE"," ",136],["T_STRING","t",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",136],")",")",";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Switch the target type to 'taxonomy_term' and check that the settings\n",138],["T_WHITESPACE","    ",139],["T_COMMENT","\/\/ specific to its selection handler are displayed.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$field_name",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'node.'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","type",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'.field_test'",140],";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$edit",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'settings[target_type]'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",142],",",["T_WHITESPACE","\n    ",142],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","drupalPostForm",144],"(",["T_VARIABLE","$bundle_path",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_VARIABLE","$field_name",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$edit",144],",",["T_WHITESPACE"," ",144],["T_STRING","t",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",144],")",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalGet",145],"(",["T_VARIABLE","$bundle_path",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_VARIABLE","$field_name",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertFieldByName",146],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][auto_create]'",146],")",";",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ Switch the target type to 'user' and check that the settings specific to\n",148],["T_WHITESPACE","    ",149],["T_COMMENT","\/\/ its selection handler are displayed.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$field_name",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'node.'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","type",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'.field_test'",150],";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$edit",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'settings[target_type]'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'user'",152],",",["T_WHITESPACE","\n    ",152],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","drupalPostForm",154],"(",["T_VARIABLE","$bundle_path",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$field_name",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$edit",154],",",["T_WHITESPACE"," ",154],["T_STRING","t",154],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",154],")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","drupalGet",155],"(",["T_VARIABLE","$bundle_path",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$field_name",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertFieldByName",156],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][filter][type]'",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'_none'",156],")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Switch the target type to 'node'.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$field_name",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'node.'",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","type",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'.field_test'",159],";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$edit",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'settings[target_type]'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'node'",161],",",["T_WHITESPACE","\n    ",161],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","drupalPostForm",163],"(",["T_VARIABLE","$bundle_path",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_VARIABLE","$field_name",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$edit",163],",",["T_WHITESPACE"," ",163],["T_STRING","t",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",163],")",")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Try to select the views handler.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$edit",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_WHITESPACE","\n      ",166],["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'views'",167],",",["T_WHITESPACE","\n    ",167],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","drupalPostAjaxForm",169],"(",["T_VARIABLE","$bundle_path",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$field_name",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$edit",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertRaw",170],"(",["T_STRING","t",170],"(",["T_CONSTANT_ENCAPSED_STRING","'No eligible views were found. <a href=\":create\">Create a view<\/a> with an <em>Entity Reference<\/em> display, or add such a display to an <a href=\":existing\">existing view<\/a>.'",170],",",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_WHITESPACE","\n      ",170],["T_CONSTANT_ENCAPSED_STRING","':create'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Drupal",171],["T_DOUBLE_COLON","::",171],["T_STRING","url",171],"(",["T_CONSTANT_ENCAPSED_STRING","'views_ui.add'",171],")",",",["T_WHITESPACE","\n      ",171],["T_CONSTANT_ENCAPSED_STRING","':existing'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Drupal",172],["T_DOUBLE_COLON","::",172],["T_STRING","url",172],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.view.collection'",172],")",",",["T_WHITESPACE","\n    ",172],")",")",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","drupalPostForm",174],"(",["T_STRING","NULL",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$edit",174],",",["T_WHITESPACE"," ",174],["T_STRING","t",174],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",174],")",")",";",["T_WHITESPACE","\n    ",174],["T_COMMENT","\/\/ If no eligible view is available we should see a message.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertText",176],"(",["T_CONSTANT_ENCAPSED_STRING","'The views entity selection mode requires a view.'",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Enable the entity_reference_test module which creates an eligible view.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","container",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","install",179],"(",["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference_test'",179],")",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","resetAll",180],"(",")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","drupalGet",181],"(",["T_VARIABLE","$bundle_path",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_VARIABLE","$field_name",181],")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","drupalPostAjaxForm",182],"(",["T_VARIABLE","$bundle_path",182],["T_WHITESPACE"," ",182],".",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",182],["T_WHITESPACE"," ",182],".",["T_WHITESPACE"," ",182],["T_VARIABLE","$field_name",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$edit",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$edit",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][view][view_and_display]'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference:entity_reference_1'",184],",",["T_WHITESPACE","\n    ",184],")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","drupalPostForm",186],"(",["T_STRING","NULL",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$edit",186],",",["T_WHITESPACE"," ",186],["T_STRING","t",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",186],")",")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertResponse",187],"(",["T_LNUMBER","200",187],")",";",["T_WHITESPACE","\n\n    ",187],["T_COMMENT","\/\/ Switch the target type to 'entity_test'.\n",189],["T_WHITESPACE","    ",190],["T_VARIABLE","$edit",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'settings[target_type]'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",191],",",["T_WHITESPACE","\n    ",191],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","drupalPostForm",193],"(",["T_VARIABLE","$bundle_path",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_VARIABLE","$field_name",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$edit",193],",",["T_WHITESPACE"," ",193],["T_STRING","t",193],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",193],")",")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","drupalGet",194],"(",["T_VARIABLE","$bundle_path",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$field_name",194],")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$edit",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",["T_WHITESPACE","\n      ",195],["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'views'",196],",",["T_WHITESPACE","\n    ",196],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","drupalPostAjaxForm",198],"(",["T_VARIABLE","$bundle_path",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_VARIABLE","$field_name",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$edit",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",198],")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$edit",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_WHITESPACE","\n      ",199],["T_CONSTANT_ENCAPSED_STRING","'required'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_STRING","FALSE",200],",",["T_WHITESPACE","\n      ",200],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][view][view_and_display]'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference_entity_test:entity_reference_1'",201],",",["T_WHITESPACE","\n    ",201],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","drupalPostForm",203],"(",["T_STRING","NULL",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$edit",203],",",["T_WHITESPACE"," ",203],["T_STRING","t",203],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",203],")",")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertResponse",204],"(",["T_LNUMBER","200",204],")",";",["T_WHITESPACE","\n\n    ",204],["T_COMMENT","\/\/ Create a new view and display it as a entity reference.\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$edit",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",["T_WHITESPACE","\n      ",207],["T_CONSTANT_ENCAPSED_STRING","'id'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'node_test_view'",208],",",["T_WHITESPACE","\n      ",208],["T_CONSTANT_ENCAPSED_STRING","'label'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'Node Test View'",209],",",["T_WHITESPACE","\n      ",209],["T_CONSTANT_ENCAPSED_STRING","'show[wizard_key]'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'node'",210],",",["T_WHITESPACE","\n      ",210],["T_CONSTANT_ENCAPSED_STRING","'show[sort]'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'none'",211],",",["T_WHITESPACE","\n      ",211],["T_CONSTANT_ENCAPSED_STRING","'page[create]'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_LNUMBER","1",212],",",["T_WHITESPACE","\n      ",212],["T_CONSTANT_ENCAPSED_STRING","'page[title]'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'Test Node View'",213],",",["T_WHITESPACE","\n      ",213],["T_CONSTANT_ENCAPSED_STRING","'page[path]'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'test\/node\/view'",214],",",["T_WHITESPACE","\n      ",214],["T_CONSTANT_ENCAPSED_STRING","'page[style][style_plugin]'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'default'",215],",",["T_WHITESPACE","\n      ",215],["T_CONSTANT_ENCAPSED_STRING","'page[style][row_plugin]'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'fields'",216],",",["T_WHITESPACE","\n    ",216],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","drupalPostForm",218],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/add'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$edit",218],",",["T_WHITESPACE"," ",218],["T_STRING","t",218],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and edit'",218],")",")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","drupalPostForm",219],"(",["T_STRING","NULL",219],",",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",")",",",["T_WHITESPACE"," ",219],["T_STRING","t",219],"(",["T_CONSTANT_ENCAPSED_STRING","'Duplicate as Entity Reference'",219],")",")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","clickLink",220],"(",["T_STRING","t",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Settings'",220],")",")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$edit",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_WHITESPACE","\n      ",221],["T_CONSTANT_ENCAPSED_STRING","'style_options[search_fields][title]'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'title'",222],",",["T_WHITESPACE","\n    ",222],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","drupalPostForm",224],"(",["T_STRING","NULL",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$edit",224],",",["T_WHITESPACE"," ",224],["T_STRING","t",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",224],")",")",";",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ Set sort to NID ascending.\n",226],["T_WHITESPACE","    ",227],["T_VARIABLE","$edit",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[",["T_WHITESPACE","\n      ",227],["T_CONSTANT_ENCAPSED_STRING","'name[node_field_data.nid]'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_LNUMBER","1",228],",",["T_WHITESPACE","\n    ",228],"]",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","drupalPostForm",230],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/nojs\/add-handler\/node_test_view\/entity_reference_1\/sort'",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$edit",230],",",["T_WHITESPACE"," ",230],["T_STRING","t",230],"(",["T_CONSTANT_ENCAPSED_STRING","'Add and configure sort criteria'",230],")",")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","drupalPostForm",231],"(",["T_STRING","NULL",231],",",["T_WHITESPACE"," ",231],["T_STRING","NULL",231],",",["T_WHITESPACE"," ",231],["T_STRING","t",231],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",231],")",")",";",["T_WHITESPACE","\n\n    ",231],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","drupalPostForm",233],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/node_test_view\/edit\/entity_reference_1'",233],",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",")",",",["T_WHITESPACE"," ",233],["T_STRING","t",233],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",233],")",")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","clickLink",234],"(",["T_STRING","t",234],"(",["T_CONSTANT_ENCAPSED_STRING","'Settings'",234],")",")",";",["T_WHITESPACE","\n\n    ",234],["T_COMMENT","\/\/ Create a test entity reference field.\n",236],["T_WHITESPACE","    ",237],["T_VARIABLE","$field_name",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'test_entity_ref_field'",237],";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$edit",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'new_storage_type'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'field_ui:entity_reference:node'",239],",",["T_WHITESPACE","\n      ",239],["T_CONSTANT_ENCAPSED_STRING","'label'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'Test Entity Reference Field'",240],",",["T_WHITESPACE","\n      ",240],["T_CONSTANT_ENCAPSED_STRING","'field_name'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$field_name",241],",",["T_WHITESPACE","\n    ",241],")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","drupalPostForm",243],"(",["T_VARIABLE","$bundle_path",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/add-field'",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$edit",243],",",["T_WHITESPACE"," ",243],["T_STRING","t",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",243],")",")",";",["T_WHITESPACE","\n\n    ",243],["T_COMMENT","\/\/ Set to unlimited.\n",245],["T_WHITESPACE","    ",246],["T_VARIABLE","$edit",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_WHITESPACE","\n      ",246],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_STRING","FieldStorageDefinitionInterface",247],["T_DOUBLE_COLON","::",247],["T_STRING","CARDINALITY_UNLIMITED",247],",",["T_WHITESPACE","\n    ",247],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","drupalPostForm",249],"(",["T_STRING","NULL",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$edit",249],",",["T_WHITESPACE"," ",249],["T_STRING","t",249],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",249],")",")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Add the view to the test field.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$edit",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_WHITESPACE","\n      ",252],["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'views'",253],",",["T_WHITESPACE","\n    ",253],")",";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","drupalPostAjaxForm",255],"(",["T_STRING","NULL",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$edit",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'settings[handler]'",255],")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$edit",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",["T_WHITESPACE","\n      ",256],["T_CONSTANT_ENCAPSED_STRING","'required'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_STRING","FALSE",257],",",["T_WHITESPACE","\n      ",257],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][view][view_and_display]'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'node_test_view:entity_reference_1'",258],",",["T_WHITESPACE","\n    ",258],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","drupalPostForm",260],"(",["T_STRING","NULL",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$edit",260],",",["T_WHITESPACE"," ",260],["T_STRING","t",260],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",260],")",")",";",["T_WHITESPACE","\n\n    ",260],["T_COMMENT","\/\/ Create nodes.\n",262],["T_WHITESPACE","    ",263],["T_VARIABLE","$node1",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","Node",263],["T_DOUBLE_COLON","::",263],["T_STRING","create",263],"(","[",["T_WHITESPACE","\n      ",263],["T_CONSTANT_ENCAPSED_STRING","'type'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","type",264],",",["T_WHITESPACE","\n      ",264],["T_CONSTANT_ENCAPSED_STRING","'title'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Foo Node'",265],",",["T_WHITESPACE","\n    ",265],"]",")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$node1",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","save",267],"(",")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$node2",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","Node",268],["T_DOUBLE_COLON","::",268],["T_STRING","create",268],"(","[",["T_WHITESPACE","\n      ",268],["T_CONSTANT_ENCAPSED_STRING","'type'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","type",269],",",["T_WHITESPACE","\n      ",269],["T_CONSTANT_ENCAPSED_STRING","'title'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Foo Node'",270],",",["T_WHITESPACE","\n    ",270],"]",")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$node2",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","save",272],"(",")",";",["T_WHITESPACE","\n\n    ",272],["T_COMMENT","\/\/ Try to add a new node and fill the entity reference field.\n",274],["T_WHITESPACE","    ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","drupalGet",275],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/'",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","type",275],")",";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$result",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","xpath",276],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@name=\"field_test_entity_ref_field[0][target_id]\" and contains(@data-autocomplete-path, \"\/entity_reference_autocomplete\/node\/views\/\")]'",276],")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$target_url",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getAbsoluteUrl",277],"(",["T_VARIABLE","$result",277],"[",["T_LNUMBER","0",277],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data-autocomplete-path'",277],"]",")",";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","drupalGet",278],"(",["T_VARIABLE","$target_url",278],",",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",["T_CONSTANT_ENCAPSED_STRING","'q'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'Foo'",278],")",")",")",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertRaw",279],"(",["T_VARIABLE","$node1",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getTitle",279],"(",")",["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","' ('",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_VARIABLE","$node1",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","id",279],"(",")",["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","')'",279],")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertRaw",280],"(",["T_VARIABLE","$node2",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getTitle",280],"(",")",["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","' ('",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_VARIABLE","$node2",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","id",280],"(",")",["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","')'",280],")",";",["T_WHITESPACE","\n\n    ",280],["T_COMMENT","\/\/ Try to add a new node, fill the entity reference field and submit the\n",282],["T_WHITESPACE","    ",283],["T_COMMENT","\/\/ form.\n",283],["T_WHITESPACE","    ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","drupalPostForm",284],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/'",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","type",284],",",["T_WHITESPACE"," ",284],"[","]",",",["T_WHITESPACE"," ",284],["T_STRING","t",284],"(",["T_CONSTANT_ENCAPSED_STRING","'Add another item'",284],")",")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$edit",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",["T_WHITESPACE","\n      ",285],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'Example'",286],",",["T_WHITESPACE","\n      ",286],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_ref_field[0][target_id]'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'Foo Node ('",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_VARIABLE","$node1",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","id",287],"(",")",["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","')'",287],",",["T_WHITESPACE","\n      ",287],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_ref_field[1][target_id]'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'Foo Node ('",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_VARIABLE","$node2",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","id",288],"(",")",["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","')'",288],",",["T_WHITESPACE","\n    ",288],")",";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","drupalPostForm",290],"(",["T_STRING","NULL",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$edit",290],",",["T_WHITESPACE"," ",290],["T_STRING","t",290],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",290],")",")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertResponse",291],"(",["T_LNUMBER","200",291],")",";",["T_WHITESPACE","\n\n    ",291],["T_VARIABLE","$edit",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_ARRAY","array",293],"(",["T_WHITESPACE","\n      ",293],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'Example'",294],",",["T_WHITESPACE","\n      ",294],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_ref_field[0][target_id]'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'Test'",295],["T_WHITESPACE","\n    ",295],")",";",["T_WHITESPACE","\n    ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","drupalPostForm",297],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/'",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","type",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$edit",297],",",["T_WHITESPACE"," ",297],["T_STRING","t",297],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",297],")",")",";",["T_WHITESPACE","\n\n    ",297],["T_COMMENT","\/\/ Assert that entity reference autocomplete field is validated.\n",299],["T_WHITESPACE","    ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","assertText",300],"(",["T_STRING","t",300],"(",["T_CONSTANT_ENCAPSED_STRING","'There are no entities matching \"@entity\"'",300],",",["T_WHITESPACE"," ",300],"[",["T_CONSTANT_ENCAPSED_STRING","'@entity'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'Test'",300],"]",")",")",";",["T_WHITESPACE","\n\n    ",300],["T_VARIABLE","$edit",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",["T_WHITESPACE","\n      ",302],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'Test'",303],",",["T_WHITESPACE","\n      ",303],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_ref_field[0][target_id]'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$node1",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getTitle",304],"(",")",["T_WHITESPACE","\n    ",304],")",";",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","drupalPostForm",306],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/'",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","type",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$edit",306],",",["T_WHITESPACE"," ",306],["T_STRING","t",306],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",306],")",")",";",["T_WHITESPACE","\n\n    ",306],["T_COMMENT","\/\/ Assert the results multiple times to avoid sorting problem of nodes with\n",308],["T_WHITESPACE","    ",309],["T_COMMENT","\/\/ the same title.\n",309],["T_WHITESPACE","    ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertText",310],"(",["T_STRING","t",310],"(",["T_CONSTANT_ENCAPSED_STRING","'Multiple entities match this reference;'",310],")",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assertText",311],"(",["T_STRING","t",311],"(",["T_CONSTANT_ENCAPSED_STRING","\"@node1\"",311],",",["T_WHITESPACE"," ",311],"[",["T_CONSTANT_ENCAPSED_STRING","'@node1'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$node1",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getTitle",311],"(",")",["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","' ('",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$node1",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","id",311],"(",")",["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","')'",311],"]",")",")",";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","assertText",312],"(",["T_STRING","t",312],"(",["T_CONSTANT_ENCAPSED_STRING","\"@node2\"",312],",",["T_WHITESPACE"," ",312],"[",["T_CONSTANT_ENCAPSED_STRING","'@node2'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$node2",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getTitle",312],"(",")",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","' ('",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_VARIABLE","$node2",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","id",312],"(",")",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","')'",312],"]",")",")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","assertText",313],"(",["T_STRING","t",313],"(",["T_CONSTANT_ENCAPSED_STRING","'Specify the one you want by appending the id in parentheses, like \"@example\".'",313],",",["T_WHITESPACE"," ",313],"[",["T_CONSTANT_ENCAPSED_STRING","'@example'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$node2",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getTitle",313],"(",")",["T_WHITESPACE"," ",313],".",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","' ('",313],["T_WHITESPACE"," ",313],".",["T_WHITESPACE"," ",313],["T_VARIABLE","$node2",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","id",313],"(",")",["T_WHITESPACE"," ",313],".",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","')'",313],"]",")",")",";",["T_WHITESPACE","\n\n    ",313],["T_VARIABLE","$edit",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",["T_WHITESPACE","\n      ",315],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'Test'",316],",",["T_WHITESPACE","\n      ",316],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_ref_field[0][target_id]'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$node1",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getTitle",317],"(",")",["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","' ('",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_VARIABLE","$node1",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","id",317],"(",")",["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","')'",317],["T_WHITESPACE","\n    ",317],")",";",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","drupalPostForm",319],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/'",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","type",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$edit",319],",",["T_WHITESPACE"," ",319],["T_STRING","t",319],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",319],")",")",";",["T_WHITESPACE","\n    ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","assertLink",320],"(",["T_VARIABLE","$node1",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getTitle",320],"(",")",")",";",["T_WHITESPACE","\n\n    ",320],["T_COMMENT","\/\/ Tests adding default values to autocomplete widgets.\n",322],["T_WHITESPACE","    ",323],["T_STRING","Vocabulary",323],["T_DOUBLE_COLON","::",323],["T_STRING","create",323],"(",["T_ARRAY","array",323],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'tags'",323],",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'name'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'tags'",323],")",")",["T_OBJECT_OPERATOR","->",323],["T_STRING","save",323],"(",")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$taxonomy_term_field_name",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","createEntityReferenceField",324],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",324],",",["T_WHITESPACE"," ",324],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",324],"]",")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$field_path",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'node.'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","type",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'.field_'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$taxonomy_term_field_name",325],";",["T_WHITESPACE","\n    ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","drupalGet",326],"(",["T_VARIABLE","$bundle_path",326],["T_WHITESPACE"," ",326],".",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",326],["T_WHITESPACE"," ",326],".",["T_WHITESPACE"," ",326],["T_VARIABLE","$field_path",326],["T_WHITESPACE"," ",326],".",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",326],")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$edit",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],"[",["T_WHITESPACE","\n      ",327],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],"-",["T_LNUMBER","1",328],",",["T_WHITESPACE","\n    ",328],"]",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","drupalPostForm",330],"(",["T_STRING","NULL",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$edit",330],",",["T_WHITESPACE"," ",330],["T_STRING","t",330],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",330],")",")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","drupalGet",331],"(",["T_VARIABLE","$bundle_path",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$field_path",331],")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$term_name",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","randomString",332],"(",")",";",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$edit",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],"[",["T_WHITESPACE","\n      ",333],["T_COMMENT","\/\/ This must be set before new entities will be auto-created.\n",334],["T_WHITESPACE","      ",335],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][auto_create]'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_LNUMBER","1",335],",",["T_WHITESPACE","\n    ",335],"]",";",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","drupalPostForm",337],"(",["T_STRING","NULL",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$edit",337],",",["T_WHITESPACE"," ",337],["T_STRING","t",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",337],")",")",";",["T_WHITESPACE","\n    ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","drupalGet",338],"(",["T_VARIABLE","$bundle_path",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_VARIABLE","$field_path",338],")",";",["T_WHITESPACE","\n    ",338],["T_VARIABLE","$edit",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],"[",["T_WHITESPACE","\n      ",339],["T_COMMENT","\/\/ A term that doesn't yet exist.\n",340],["T_WHITESPACE","      ",341],["T_CONSTANT_ENCAPSED_STRING","'default_value_input[field_'",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_VARIABLE","$taxonomy_term_field_name",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'][0][target_id]'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$term_name",341],",",["T_WHITESPACE","\n    ",341],"]",";",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","drupalPostForm",343],"(",["T_STRING","NULL",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$edit",343],",",["T_WHITESPACE"," ",343],["T_STRING","t",343],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",343],")",")",";",["T_WHITESPACE","\n    ",343],["T_COMMENT","\/\/ The term should now exist.\n",344],["T_WHITESPACE","    ",345],["T_VARIABLE","$term",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","taxonomy_term_load_multiple_by_name",345],"(",["T_VARIABLE","$term_name",345],",",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'tags'",345],")","[",["T_LNUMBER","1",345],"]",";",["T_WHITESPACE","\n    ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","assertIdentical",346],"(",["T_LNUMBER","1",346],",",["T_WHITESPACE"," ",346],["T_STRING","count",346],"(",["T_VARIABLE","$term",346],")",",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'Taxonomy term was auto created when set as field default.'",346],")",";",["T_WHITESPACE","\n  ",346],"}",["T_WHITESPACE","\n\n  ",347],["T_DOC_COMMENT","\/**\n   * Tests the formatters for the Entity References.\n   *\/",349],["T_WHITESPACE","\n  ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","testAvailableFormatters",352],"(",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n    ",352],["T_COMMENT","\/\/ Create a new vocabulary.\n",353],["T_WHITESPACE","    ",354],["T_STRING","Vocabulary",354],["T_DOUBLE_COLON","::",354],["T_STRING","create",354],"(",["T_ARRAY","array",354],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'tags'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'name'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'tags'",354],")",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","save",354],"(",")",";",["T_WHITESPACE","\n\n    ",354],["T_COMMENT","\/\/ Create entity reference field with taxonomy term as a target.\n",356],["T_WHITESPACE","    ",357],["T_VARIABLE","$taxonomy_term_field_name",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","createEntityReferenceField",357],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",357],",",["T_WHITESPACE"," ",357],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",357],"]",")",";",["T_WHITESPACE","\n\n    ",357],["T_COMMENT","\/\/ Create entity reference field with user as a target.\n",359],["T_WHITESPACE","    ",360],["T_VARIABLE","$user_field_name",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","createEntityReferenceField",360],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",360],")",";",["T_WHITESPACE","\n\n    ",360],["T_COMMENT","\/\/ Create entity reference field with node as a target.\n",362],["T_WHITESPACE","    ",363],["T_VARIABLE","$node_field_name",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","createEntityReferenceField",363],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",363],",",["T_WHITESPACE"," ",363],"[",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","type",363],"]",")",";",["T_WHITESPACE","\n\n    ",363],["T_COMMENT","\/\/ Create entity reference field with date format as a target.\n",365],["T_WHITESPACE","    ",366],["T_VARIABLE","$date_format_field_name",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","createEntityReferenceField",366],"(",["T_CONSTANT_ENCAPSED_STRING","'date_format'",366],")",";",["T_WHITESPACE","\n\n    ",366],["T_COMMENT","\/\/ Display all newly created Entity Reference configuration.\n",368],["T_WHITESPACE","    ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","drupalGet",369],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",369],["T_WHITESPACE"," ",369],".",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","type",369],["T_WHITESPACE"," ",369],".",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'\/display'",369],")",";",["T_WHITESPACE","\n\n    ",369],["T_COMMENT","\/\/ Check for Taxonomy Term select box values.\n",371],["T_WHITESPACE","    ",372],["T_COMMENT","\/\/ Test if Taxonomy Term Entity Reference Field has the correct formatters.\n",372],["T_WHITESPACE","    ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertFieldSelectOptions",373],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_'",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$taxonomy_term_field_name",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'][type]'",373],",",["T_WHITESPACE"," ",373],["T_ARRAY","array",373],"(",["T_WHITESPACE","\n      ",373],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_label'",374],",",["T_WHITESPACE","\n      ",374],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_entity_id'",375],",",["T_WHITESPACE","\n      ",375],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_rss_category'",376],",",["T_WHITESPACE","\n      ",376],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_entity_view'",377],",",["T_WHITESPACE","\n      ",377],["T_CONSTANT_ENCAPSED_STRING","'hidden'",378],",",["T_WHITESPACE","\n    ",378],")",")",";",["T_WHITESPACE","\n\n    ",379],["T_COMMENT","\/\/ Test if User Reference Field has the correct formatters.\n",381],["T_WHITESPACE","    ",382],["T_COMMENT","\/\/ Author should be available for this field.\n",382],["T_WHITESPACE","    ",383],["T_COMMENT","\/\/ RSS Category should not be available for this field.\n",383],["T_WHITESPACE","    ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","assertFieldSelectOptions",384],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_'",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$user_field_name",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'][type]'",384],",",["T_WHITESPACE"," ",384],["T_ARRAY","array",384],"(",["T_WHITESPACE","\n      ",384],["T_CONSTANT_ENCAPSED_STRING","'author'",385],",",["T_WHITESPACE","\n      ",385],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_entity_id'",386],",",["T_WHITESPACE","\n      ",386],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_entity_view'",387],",",["T_WHITESPACE","\n      ",387],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_label'",388],",",["T_WHITESPACE","\n      ",388],["T_CONSTANT_ENCAPSED_STRING","'hidden'",389],",",["T_WHITESPACE","\n    ",389],")",")",";",["T_WHITESPACE","\n\n    ",390],["T_COMMENT","\/\/ Test if Node Entity Reference Field has the correct formatters.\n",392],["T_WHITESPACE","    ",393],["T_COMMENT","\/\/ RSS Category should not be available for this field.\n",393],["T_WHITESPACE","    ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","assertFieldSelectOptions",394],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_'",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$node_field_name",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'][type]'",394],",",["T_WHITESPACE"," ",394],["T_ARRAY","array",394],"(",["T_WHITESPACE","\n      ",394],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_label'",395],",",["T_WHITESPACE","\n      ",395],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_entity_id'",396],",",["T_WHITESPACE","\n      ",396],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_entity_view'",397],",",["T_WHITESPACE","\n      ",397],["T_CONSTANT_ENCAPSED_STRING","'hidden'",398],",",["T_WHITESPACE","\n    ",398],")",")",";",["T_WHITESPACE","\n\n    ",399],["T_COMMENT","\/\/ Test if Date Format Reference Field has the correct formatters.\n",401],["T_WHITESPACE","    ",402],["T_COMMENT","\/\/ RSS Category & Entity View should not be available for this field.\n",402],["T_WHITESPACE","    ",403],["T_COMMENT","\/\/ This could be any field without a ViewBuilder.\n",403],["T_WHITESPACE","    ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","assertFieldSelectOptions",404],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_'",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE"," ",404],["T_VARIABLE","$date_format_field_name",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'][type]'",404],",",["T_WHITESPACE"," ",404],["T_ARRAY","array",404],"(",["T_WHITESPACE","\n      ",404],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_label'",405],",",["T_WHITESPACE","\n      ",405],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_entity_id'",406],",",["T_WHITESPACE","\n      ",406],["T_CONSTANT_ENCAPSED_STRING","'hidden'",407],",",["T_WHITESPACE","\n    ",407],")",")",";",["T_WHITESPACE","\n  ",408],"}",["T_WHITESPACE","\n\n  ",409],["T_DOC_COMMENT","\/**\n   * Tests field settings for an entity reference field when the field has\n   * multiple target bundles and is set to auto-create the target entity.\n   *\/",411],["T_WHITESPACE","\n  ",414],["T_PUBLIC","public",415],["T_WHITESPACE"," ",415],["T_FUNCTION","function",415],["T_WHITESPACE"," ",415],["T_STRING","testMultipleTargetBundles",415],"(",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n    ",415],["T_DOC_COMMENT","\/** @var \\Drupal\\taxonomy\\Entity\\Vocabulary[] $vocabularies *\/",416],["T_WHITESPACE","\n    ",416],["T_VARIABLE","$vocabularies",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],"[","]",";",["T_WHITESPACE","\n    ",417],["T_FOR","for",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$i",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_LNUMBER","0",418],";",["T_WHITESPACE"," ",418],["T_VARIABLE","$i",418],["T_WHITESPACE"," ",418],"<",["T_WHITESPACE"," ",418],["T_LNUMBER","2",418],";",["T_WHITESPACE"," ",418],["T_VARIABLE","$i",418],["T_INC","++",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n      ",418],["T_VARIABLE","$vid",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_STRING","Unicode",419],["T_DOUBLE_COLON","::",419],["T_STRING","strtolower",419],"(",["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","randomMachineName",419],"(",")",")",";",["T_WHITESPACE","\n      ",419],["T_VARIABLE","$vocabularies",420],"[",["T_VARIABLE","$i",420],"]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_STRING","Vocabulary",420],["T_DOUBLE_COLON","::",420],["T_STRING","create",420],"(","[",["T_WHITESPACE","\n        ",420],["T_CONSTANT_ENCAPSED_STRING","'name'",421],["T_WHITESPACE"," ",421],["T_DOUBLE_ARROW","=>",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","randomString",421],"(",")",",",["T_WHITESPACE","\n        ",421],["T_CONSTANT_ENCAPSED_STRING","'vid'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$vid",422],",",["T_WHITESPACE","\n      ",422],"]",")",";",["T_WHITESPACE","\n      ",423],["T_VARIABLE","$vocabularies",424],"[",["T_VARIABLE","$i",424],"]",["T_OBJECT_OPERATOR","->",424],["T_STRING","save",424],"(",")",";",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n\n    ",425],["T_COMMENT","\/\/ Create a new field pointing to the first vocabulary.\n",427],["T_WHITESPACE","    ",428],["T_VARIABLE","$field_name",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","createEntityReferenceField",428],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",428],",",["T_WHITESPACE"," ",428],"[",["T_VARIABLE","$vocabularies",428],"[",["T_LNUMBER","0",428],"]",["T_OBJECT_OPERATOR","->",428],["T_STRING","id",428],"(",")","]",")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$field_name",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],"\"",["T_ENCAPSED_AND_WHITESPACE","field_",429],["T_VARIABLE","$field_name",429],"\"",";",["T_WHITESPACE","\n    ",429],["T_VARIABLE","$field_id",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'node.'",430],["T_WHITESPACE"," ",430],".",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","type",430],["T_WHITESPACE"," ",430],".",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'.'",430],["T_WHITESPACE"," ",430],".",["T_WHITESPACE"," ",430],["T_VARIABLE","$field_name",430],";",["T_WHITESPACE","\n    ",430],["T_VARIABLE","$path",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","type",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_VARIABLE","$field_id",431],";",["T_WHITESPACE","\n\n    ",431],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","drupalGet",433],"(",["T_VARIABLE","$path",433],")",";",["T_WHITESPACE","\n\n    ",433],["T_COMMENT","\/\/ Expect that there's no 'auto_create_bundle' selected.\n",435],["T_WHITESPACE","    ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","assertNoFieldByName",436],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][auto_create_bundle]'",436],")",";",["T_WHITESPACE","\n\n    ",436],["T_VARIABLE","$edit",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],"[",["T_WHITESPACE","\n      ",438],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][target_bundles]['",439],["T_WHITESPACE"," ",439],".",["T_WHITESPACE"," ",439],["T_VARIABLE","$vocabularies",439],"[",["T_LNUMBER","1",439],"]",["T_OBJECT_OPERATOR","->",439],["T_STRING","id",439],"(",")",["T_WHITESPACE"," ",439],".",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","']'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_STRING","TRUE",439],",",["T_WHITESPACE","\n    ",439],"]",";",["T_WHITESPACE","\n    ",440],["T_COMMENT","\/\/ Enable the second vocabulary as a target bundle.\n",441],["T_WHITESPACE","    ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","drupalPostAjaxForm",442],"(",["T_VARIABLE","$path",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$edit",442],",",["T_WHITESPACE"," ",442],["T_STRING","key",442],"(",["T_VARIABLE","$edit",442],")",")",";",["T_WHITESPACE","\n    ",442],["T_COMMENT","\/\/ Expect a select element with the two vocabularies as options.\n",443],["T_WHITESPACE","    ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","assertFieldByXPath",444],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/select[@name='settings[handler_settings][auto_create_bundle]']\/option[@value='\"",444],["T_WHITESPACE"," ",444],".",["T_WHITESPACE"," ",444],["T_VARIABLE","$vocabularies",444],"[",["T_LNUMBER","0",444],"]",["T_OBJECT_OPERATOR","->",444],["T_STRING","id",444],"(",")",["T_WHITESPACE"," ",444],".",["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","\"']\"",444],")",";",["T_WHITESPACE","\n    ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","assertFieldByXPath",445],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/select[@name='settings[handler_settings][auto_create_bundle]']\/option[@value='\"",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_VARIABLE","$vocabularies",445],"[",["T_LNUMBER","1",445],"]",["T_OBJECT_OPERATOR","->",445],["T_STRING","id",445],"(",")",["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","\"']\"",445],")",";",["T_WHITESPACE","\n\n    ",445],["T_VARIABLE","$edit",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],"[",["T_WHITESPACE","\n      ",447],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][auto_create]'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_STRING","TRUE",448],",",["T_WHITESPACE","\n      ",448],["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][auto_create_bundle]'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$vocabularies",449],"[",["T_LNUMBER","1",449],"]",["T_OBJECT_OPERATOR","->",449],["T_STRING","id",449],"(",")",",",["T_WHITESPACE","\n    ",449],"]",";",["T_WHITESPACE","\n    ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","drupalPostForm",451],"(",["T_STRING","NULL",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$edit",451],",",["T_WHITESPACE"," ",451],["T_STRING","t",451],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",451],")",")",";",["T_WHITESPACE","\n\n    ",451],["T_DOC_COMMENT","\/** @var \\Drupal\\field\\Entity\\FieldConfig $field_config *\/",453],["T_WHITESPACE","\n    ",453],["T_VARIABLE","$field_config",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","FieldConfig",454],["T_DOUBLE_COLON","::",454],["T_STRING","load",454],"(",["T_VARIABLE","$field_id",454],")",";",["T_WHITESPACE","\n    ",454],["T_COMMENT","\/\/ Expect that the target bundle has been saved in the backend.\n",455],["T_WHITESPACE","    ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","assertEqual",456],"(",["T_VARIABLE","$field_config",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getSetting",456],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",456],")","[",["T_CONSTANT_ENCAPSED_STRING","'auto_create_bundle'",456],"]",",",["T_WHITESPACE"," ",456],["T_VARIABLE","$vocabularies",456],"[",["T_LNUMBER","1",456],"]",["T_OBJECT_OPERATOR","->",456],["T_STRING","id",456],"(",")",")",";",["T_WHITESPACE","\n\n    ",456],["T_COMMENT","\/\/ Delete the other bundle. Field config should not be affected.\n",458],["T_WHITESPACE","    ",459],["T_VARIABLE","$vocabularies",459],"[",["T_LNUMBER","0",459],"]",["T_OBJECT_OPERATOR","->",459],["T_STRING","delete",459],"(",")",";",["T_WHITESPACE","\n    ",459],["T_VARIABLE","$field_config",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_STRING","FieldConfig",460],["T_DOUBLE_COLON","::",460],["T_STRING","load",460],"(",["T_VARIABLE","$field_id",460],")",";",["T_WHITESPACE","\n    ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","assertTrue",461],"(",["T_VARIABLE","$field_config",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","getSetting",461],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",461],")","[",["T_CONSTANT_ENCAPSED_STRING","'auto_create'",461],"]",")",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","assertIdentical",462],"(",["T_VARIABLE","$field_config",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getSetting",462],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",462],")","[",["T_CONSTANT_ENCAPSED_STRING","'auto_create_bundle'",462],"]",",",["T_WHITESPACE"," ",462],["T_VARIABLE","$vocabularies",462],"[",["T_LNUMBER","1",462],"]",["T_OBJECT_OPERATOR","->",462],["T_STRING","id",462],"(",")",")",";",["T_WHITESPACE","\n\n    ",462],["T_COMMENT","\/\/ Delete the bundle set for entity auto-creation. Auto-created settings\n",464],["T_WHITESPACE","    ",465],["T_COMMENT","\/\/ should be reset (no auto-creation).\n",465],["T_WHITESPACE","    ",466],["T_VARIABLE","$vocabularies",466],"[",["T_LNUMBER","1",466],"]",["T_OBJECT_OPERATOR","->",466],["T_STRING","delete",466],"(",")",";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$field_config",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","FieldConfig",467],["T_DOUBLE_COLON","::",467],["T_STRING","load",467],"(",["T_VARIABLE","$field_id",467],")",";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","assertFalse",468],"(",["T_VARIABLE","$field_config",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getSetting",468],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",468],")","[",["T_CONSTANT_ENCAPSED_STRING","'auto_create'",468],"]",")",";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assertFalse",469],"(",["T_ISSET","isset",469],"(",["T_VARIABLE","$field_config",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getSetting",469],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",469],")","[",["T_CONSTANT_ENCAPSED_STRING","'auto_create_bundle'",469],"]",")",")",";",["T_WHITESPACE","\n  ",469],"}",["T_WHITESPACE","\n\n  ",470],["T_DOC_COMMENT","\/**\n   * Creates a new Entity Reference fields with a given target type.\n   *\n   * @param string $target_type\n   *   The name of the target type\n   * @param string[] $bundles\n   *   A list of bundle IDs. Defaults to [].\n   *\n   * @return string\n   *   Returns the generated field name\n   *\/",472],["T_WHITESPACE","\n  ",482],["T_PROTECTED","protected",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","createEntityReferenceField",483],"(",["T_VARIABLE","$target_type",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$bundles",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],"[","]",")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n    ",483],["T_COMMENT","\/\/ Generates a bundle path for the newly created content type.\n",484],["T_WHITESPACE","    ",485],["T_VARIABLE","$bundle_path",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",485],["T_WHITESPACE"," ",485],".",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","type",485],";",["T_WHITESPACE","\n\n    ",485],["T_COMMENT","\/\/ Generate a random field name, must be only lowercase characters.\n",487],["T_WHITESPACE","    ",488],["T_VARIABLE","$field_name",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","strtolower",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","randomMachineName",488],"(",")",")",";",["T_WHITESPACE","\n\n    ",488],["T_VARIABLE","$storage_edit",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$field_edit",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_ARRAY","array",490],"(",")",";",["T_WHITESPACE","\n    ",490],["T_VARIABLE","$storage_edit",491],"[",["T_CONSTANT_ENCAPSED_STRING","'settings[target_type]'",491],"]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$target_type",491],";",["T_WHITESPACE","\n    ",491],["T_FOREACH","foreach",492],["T_WHITESPACE"," ",492],"(",["T_VARIABLE","$bundles",492],["T_WHITESPACE"," ",492],["T_AS","as",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$bundle",492],")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n      ",492],["T_VARIABLE","$field_edit",493],"[",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][target_bundles]['",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_VARIABLE","$bundle",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","']'",493],"]",["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","TRUE",493],";",["T_WHITESPACE","\n    ",493],"}",["T_WHITESPACE","\n\n    ",494],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","fieldUIAddNewField",496],"(",["T_VARIABLE","$bundle_path",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$field_name",496],",",["T_WHITESPACE"," ",496],["T_STRING","NULL",496],",",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$storage_edit",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$field_edit",496],")",";",["T_WHITESPACE","\n\n    ",496],["T_COMMENT","\/\/ Returns the generated field name.\n",498],["T_WHITESPACE","    ",499],["T_RETURN","return",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$field_name",499],";",["T_WHITESPACE","\n  ",499],"}",["T_WHITESPACE","\n\n  ",500],["T_DOC_COMMENT","\/**\n   * Checks if a select element contains the specified options.\n   *\n   * @param string $name\n   *   The field name.\n   * @param array $expected_options\n   *   An array of expected options.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",502],["T_WHITESPACE","\n  ",512],["T_PROTECTED","protected",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","assertFieldSelectOptions",513],"(",["T_VARIABLE","$name",513],",",["T_WHITESPACE"," ",513],["T_ARRAY","array",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$expected_options",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n    ",513],["T_VARIABLE","$xpath",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","buildXPathQuery",514],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@name=:name]'",514],",",["T_WHITESPACE"," ",514],["T_ARRAY","array",514],"(",["T_CONSTANT_ENCAPSED_STRING","':name'",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$name",514],")",")",";",["T_WHITESPACE","\n    ",514],["T_VARIABLE","$fields",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","xpath",515],"(",["T_VARIABLE","$xpath",515],")",";",["T_WHITESPACE","\n    ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$fields",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n      ",516],["T_VARIABLE","$field",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$fields",517],"[",["T_LNUMBER","0",517],"]",";",["T_WHITESPACE","\n      ",517],["T_VARIABLE","$options",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getAllOptionsList",518],"(",["T_VARIABLE","$field",518],")",";",["T_WHITESPACE","\n\n      ",518],["T_STRING","sort",520],"(",["T_VARIABLE","$options",520],")",";",["T_WHITESPACE","\n      ",520],["T_STRING","sort",521],"(",["T_VARIABLE","$expected_options",521],")",";",["T_WHITESPACE","\n\n      ",521],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","assertIdentical",523],"(",["T_VARIABLE","$options",523],",",["T_WHITESPACE"," ",523],["T_VARIABLE","$expected_options",523],")",";",["T_WHITESPACE","\n    ",523],"}",["T_WHITESPACE","\n    ",524],["T_ELSE","else",525],["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n      ",525],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","fail",526],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to find field '",526],["T_WHITESPACE"," ",526],".",["T_WHITESPACE"," ",526],["T_VARIABLE","$name",526],")",";",["T_WHITESPACE","\n    ",526],"}",["T_WHITESPACE","\n  ",527],"}",["T_WHITESPACE","\n\n  ",528],["T_DOC_COMMENT","\/**\n   * Extracts all options from a select element.\n   *\n   * @param \\SimpleXMLElement $element\n   *   The select element field information.\n   *\n   * @return array\n   *   An array of option values as strings.\n   *\/",530],["T_WHITESPACE","\n  ",538],["T_PROTECTED","protected",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","getAllOptionsList",539],"(",["T_NS_SEPARATOR","\\",539],["T_STRING","SimpleXMLElement",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$element",539],")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n    ",539],["T_VARIABLE","$options",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_ARRAY","array",540],"(",")",";",["T_WHITESPACE","\n    ",540],["T_COMMENT","\/\/ Add all options items.\n",541],["T_WHITESPACE","    ",542],["T_FOREACH","foreach",542],["T_WHITESPACE"," ",542],"(",["T_VARIABLE","$element",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","option",542],["T_WHITESPACE"," ",542],["T_AS","as",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$option",542],")",["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n      ",542],["T_VARIABLE","$options",543],"[","]",["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_STRING_CAST","(string)",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$option",543],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",543],"]",";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_COMMENT","\/\/ Loops trough all the option groups\n",546],["T_WHITESPACE","    ",547],["T_FOREACH","foreach",547],["T_WHITESPACE"," ",547],"(",["T_VARIABLE","$element",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","optgroup",547],["T_WHITESPACE"," ",547],["T_AS","as",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$optgroup",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n      ",547],["T_VARIABLE","$options",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_STRING","array_merge",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getAllOptionsList",548],"(",["T_VARIABLE","$optgroup",548],")",",",["T_WHITESPACE"," ",548],["T_VARIABLE","$options",548],")",";",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n\n    ",549],["T_RETURN","return",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$options",551],";",["T_WHITESPACE","\n  ",551],"}",["T_WHITESPACE","\n\n",552],"}",["T_WHITESPACE","\n",554]]