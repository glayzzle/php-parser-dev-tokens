[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Views",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the UI of the field field handler.\n *\n * @group field\n * @see \\Drupal\\field\\Plugin\\views\\field\\Field\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FieldUITest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","FieldTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$testViews",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view_fieldapi'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$modules",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'views_ui'",29],")",";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * A user with the 'administer views' permission.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$account",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","setUp",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","setUp",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","account",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalCreateUser",44],"(",["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'administer views'",44],")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalLogin",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","account",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setUpFieldStorages",47],"(",["T_LNUMBER","1",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'text'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setUpFields",48],"(",")",";",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * Tests basic field handler settings in the UI.\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testHandlerUI",54],"(",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$url",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"admin\/structure\/views\/nojs\/handler\/test_view_fieldapi\/default\/field\/field_name_0\"",55],";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalGet",56],"(",["T_VARIABLE","$url",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Tests the available formatter options.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$result",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","xpath",59],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=:id]\/option'",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'edit-options-type'",59],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$options",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","array_map",60],"(",["T_FUNCTION","function",60],"(",["T_VARIABLE","$item",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_STRING_CAST","(string)",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$item",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","attributes",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","value",61],"[",["T_LNUMBER","0",61],"]",";",["T_WHITESPACE","\n    ",61],"}",",",["T_WHITESPACE"," ",62],["T_VARIABLE","$result",62],")",";",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ @todo Replace this sort by assertArray once it's in.\n",63],["T_WHITESPACE","    ",64],["T_STRING","sort",64],"(",["T_VARIABLE","$options",64],",",["T_WHITESPACE"," ",64],["T_STRING","SORT_STRING",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEqual",65],"(",["T_VARIABLE","$options",65],",",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_CONSTANT_ENCAPSED_STRING","'text_default'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'text_trimmed'",65],")",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'The text formatters for a simple text field appear as expected.'",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalPostForm",67],"(",["T_STRING","NULL",67],",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'options[type]'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'text_trimmed'",67],")",",",["T_WHITESPACE"," ",67],["T_STRING","t",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",67],")",")",";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","drupalGet",69],"(",["T_VARIABLE","$url",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertOptionSelected",70],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-options-type'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'text_trimmed'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$random_number",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","rand",72],"(",["T_LNUMBER","100",72],",",["T_WHITESPACE"," ",72],["T_LNUMBER","400",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalPostForm",73],"(",["T_STRING","NULL",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'options[settings][trim_length]'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$random_number",73],")",",",["T_WHITESPACE"," ",73],["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","drupalGet",74],"(",["T_VARIABLE","$url",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertFieldByName",75],"(",["T_CONSTANT_ENCAPSED_STRING","'options[settings][trim_length]'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$random_number",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'The formatter setting got saved.'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Save the view and test whether the settings are saved.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalPostForm",78],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/test_view_fieldapi'",78],",",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",",",["T_WHITESPACE"," ",78],["T_STRING","t",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",78],")",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$view",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","Views",79],["T_DOUBLE_COLON","::",79],["T_STRING","getView",79],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view_fieldapi'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$view",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","initHandlers",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_VARIABLE","$view",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","field",81],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name_0'",81],"]",["T_OBJECT_OPERATOR","->",81],["T_STRING","options",81],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",81],"]",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'text_trimmed'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_VARIABLE","$view",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","field",82],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name_0'",82],"]",["T_OBJECT_OPERATOR","->",82],["T_STRING","options",82],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",82],"]","[",["T_CONSTANT_ENCAPSED_STRING","'trim_length'",82],"]",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$random_number",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Now change the formatter back to 'default' which doesn't have any\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ settings. We want to ensure that the settings are empty then.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$edit",86],"[",["T_CONSTANT_ENCAPSED_STRING","'options[type]'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'text_default'",86],";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalPostForm",87],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/nojs\/handler\/test_view_fieldapi\/default\/field\/field_name_0'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$edit",87],",",["T_WHITESPACE"," ",87],["T_STRING","t",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalPostForm",88],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/test_view_fieldapi'",88],",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],["T_STRING","t",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",88],")",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$view",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","Views",89],["T_DOUBLE_COLON","::",89],["T_STRING","getView",89],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view_fieldapi'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$view",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","initHandlers",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertEqual",91],"(",["T_VARIABLE","$view",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","field",91],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name_0'",91],"]",["T_OBJECT_OPERATOR","->",91],["T_STRING","options",91],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",91],"]",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'text_default'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEqual",92],"(",["T_VARIABLE","$view",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","field",92],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name_0'",92],"]",["T_OBJECT_OPERATOR","->",92],["T_STRING","options",92],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",92],"]",",",["T_WHITESPACE"," ",92],"[","]",")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Ensure that the view depends on the field storage.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$dependencies",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Drupal",95],["T_DOUBLE_COLON","::",95],["T_STRING","service",95],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","findConfigEntityDependents",95],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",95],",",["T_WHITESPACE"," ",95],"[",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","fieldStorages",95],"[",["T_LNUMBER","0",95],"]",["T_OBJECT_OPERATOR","->",95],["T_STRING","getConfigDependencyName",95],"(",")","]",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_ISSET","isset",96],"(",["T_VARIABLE","$dependencies",96],"[",["T_CONSTANT_ENCAPSED_STRING","'views.view.test_view_fieldapi'",96],"]",")",",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'The view is dependent on the field storage.'",96],")",";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * Tests the basic field handler form when aggregation is enabled.\n   *\/",99],["T_WHITESPACE","\n  ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","testHandlerUIAggregation",102],"(",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_COMMENT","\/\/ Enable aggregation.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$edit",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_CONSTANT_ENCAPSED_STRING","'group_by'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'1'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalPostForm",105],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/nojs\/display\/test_view_fieldapi\/default\/group_by'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$edit",105],",",["T_WHITESPACE"," ",105],["T_STRING","t",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",105],")",")",";",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$url",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","\"admin\/structure\/views\/nojs\/handler\/test_view_fieldapi\/default\/field\/field_name_0\"",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalGet",108],"(",["T_VARIABLE","$url",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertResponse",109],"(",["T_LNUMBER","200",109],")",";",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Test the click sort column options.\n",111],["T_WHITESPACE","    ",112],["T_COMMENT","\/\/ Tests the available formatter options.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$result",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","xpath",113],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=:id]\/option'",113],",",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'edit-options-click-sort-column'",113],")",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$options",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","array_map",114],"(",["T_FUNCTION","function",114],"(",["T_VARIABLE","$item",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n      ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING_CAST","(string)",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$item",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","attributes",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","value",115],"[",["T_LNUMBER","0",115],"]",";",["T_WHITESPACE","\n    ",115],"}",",",["T_WHITESPACE"," ",116],["T_VARIABLE","$result",116],")",";",["T_WHITESPACE","\n    ",116],["T_STRING","sort",117],"(",["T_VARIABLE","$options",117],",",["T_WHITESPACE"," ",117],["T_STRING","SORT_STRING",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEqual",119],"(",["T_VARIABLE","$options",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'format'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'value'",119],")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'The expected sort field options were found.'",119],")",";",["T_WHITESPACE","\n  ",119],"}",["T_WHITESPACE","\n\n  ",120],["T_DOC_COMMENT","\/**\n   * Tests adding a boolean field filter handler.\n   *\/",122],["T_WHITESPACE","\n  ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","testBooleanFilterHandler",125],"(",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ Create a boolean field.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$field_name",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'field_boolean'",127],";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$field_storage",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","FieldStorageConfig",128],["T_DOUBLE_COLON","::",128],["T_STRING","create",128],"(","[",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'field_name'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$field_name",129],",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'node'",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'type'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'boolean'",131],",",["T_WHITESPACE","\n    ",131],"]",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$field_storage",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","save",133],"(",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$field",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","FieldConfig",134],["T_DOUBLE_COLON","::",134],["T_STRING","create",134],"(","[",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$field_storage",135],",",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'bundle'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'page'",136],",",["T_WHITESPACE","\n    ",136],"]",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$field",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","save",138],"(",")",";",["T_WHITESPACE","\n\n    ",138],["T_VARIABLE","$url",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\"admin\/structure\/views\/nojs\/add-handler\/test_view_fieldapi\/default\/filter\"",140],";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","drupalPostForm",141],"(",["T_VARIABLE","$url",141],",",["T_WHITESPACE"," ",141],"[",["T_CONSTANT_ENCAPSED_STRING","'name[node__'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$field_name",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'.'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$field_name",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'_value]'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_STRING","TRUE",141],"]",",",["T_WHITESPACE"," ",141],["T_STRING","t",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Add and configure @handler'",141],",",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'@handler'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_STRING","t",141],"(",["T_CONSTANT_ENCAPSED_STRING","'filter criteria'",141],")",")",")",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertResponse",142],"(",["T_LNUMBER","200",142],")",";",["T_WHITESPACE","\n    ",142],["T_COMMENT","\/\/ Verify that using a boolean field as a filter also results in using the\n",143],["T_WHITESPACE","    ",144],["T_COMMENT","\/\/ boolean plugin.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$option",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","xpath",145],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/label[@for=\"edit-options-value-1\"]'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEqual",146],"(",["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'True'",146],")",",",["T_WHITESPACE"," ",146],["T_STRING_CAST","(string)",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$option",146],"[",["T_LNUMBER","0",146],"]",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$option",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","xpath",147],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/label[@for=\"edit-options-value-0\"]'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEqual",148],"(",["T_STRING","t",148],"(",["T_CONSTANT_ENCAPSED_STRING","'False'",148],")",",",["T_WHITESPACE"," ",148],["T_STRING_CAST","(string)",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$option",148],"[",["T_LNUMBER","0",148],"]",")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Expose the filter and see if the 'Any' option is added and if we can save\n",150],["T_WHITESPACE","    ",151],["T_COMMENT","\/\/ it.\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","drupalPostForm",152],"(",["T_STRING","NULL",152],",",["T_WHITESPACE"," ",152],"[","]",",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'Expose filter'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$option",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","xpath",153],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/label[@for=\"edit-options-value-all\"]'",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEqual",154],"(",["T_STRING","t",154],"(",["T_CONSTANT_ENCAPSED_STRING","'- Any -'",154],")",",",["T_WHITESPACE"," ",154],["T_STRING_CAST","(string)",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$option",154],"[",["T_LNUMBER","0",154],"]",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","drupalPostForm",155],"(",["T_STRING","NULL",155],",",["T_WHITESPACE"," ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'options[value]'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'All'",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'options[expose][required]'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_STRING","FALSE",155],"]",",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'Apply'",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","drupalPostForm",156],"(",["T_STRING","NULL",156],",",["T_WHITESPACE"," ",156],"[","]",",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Save'",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","drupalGet",157],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/structure\/views\/nojs\/handler\/test_view_fieldapi\/default\/filter\/field_boolean_value'",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertFieldChecked",158],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-options-value-all'",158],")",";",["T_WHITESPACE","\n  ",158],"}",["T_WHITESPACE","\n\n",159],"}",["T_WHITESPACE","\n",161]]