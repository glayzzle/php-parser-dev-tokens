[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EntityReference",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Views",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageConfig",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests entity reference selection handler.\n *\n * @group entity_reference\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","SelectionTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","WebTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'views'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_test'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",17],"]",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Nodes for testing.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$nodes",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * The entity reference field to test.\n   *\n   * @var \\Drupal\\Core\\Field\\FieldDefinitionInterface\n   *\/",26],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$field",31],";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setUp",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","setUp",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Create nodes.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$type",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalCreateContentType",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","id",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$node1",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","drupalCreateNode",41],"(",["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$type",41],")",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$node2",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalCreateNode",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$type",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$node3",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalCreateNode",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_FOREACH","foreach",45],["T_WHITESPACE"," ",45],"(",["T_ARRAY","array",45],"(",["T_VARIABLE","$node1",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$node2",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$node3",45],")",["T_WHITESPACE"," ",45],["T_AS","as",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$node",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","nodes",46],"[",["T_VARIABLE","$node",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getType",46],"(",")","]","[",["T_VARIABLE","$node",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","id",46],"(",")","]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$node",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","label",46],"(",")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Create a field.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$field_storage",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","FieldStorageConfig",50],["T_DOUBLE_COLON","::",50],["T_STRING","create",50],"(",["T_ARRAY","array",50],"(",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'field_name'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'test_field'",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'translatable'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","FALSE",53],",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'settings'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'target_type'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'node'",55],",",["T_WHITESPACE","\n      ",55],")",",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'1'",58],",",["T_WHITESPACE","\n    ",58],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$field_storage",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","save",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$field",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","FieldConfig",61],["T_DOUBLE_COLON","::",61],["T_STRING","create",61],"(","[",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$field_storage",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'bundle'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'settings'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'handler'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'views'",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n          ",66],["T_CONSTANT_ENCAPSED_STRING","'view'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'view_name'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference'",68],",",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'display_name'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_1'",69],",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'arguments'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",",",["T_WHITESPACE","\n          ",70],")",",",["T_WHITESPACE","\n        ",71],")",",",["T_WHITESPACE","\n      ",72],")",",",["T_WHITESPACE","\n    ",73],"]",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$field",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","save",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","field",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$field",76],";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * Confirm the expected results are returned.\n   *\n   * @param array $result\n   *   Query results keyed by node type and nid.\n   *\/",79],["T_WHITESPACE","\n  ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","assertResults",85],"(",["T_ARRAY","array",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$result",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$success",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","FALSE",86],";",["T_WHITESPACE","\n    ",86],["T_FOREACH","foreach",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$result",87],["T_WHITESPACE"," ",87],["T_AS","as",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$node_type",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$values",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n      ",87],["T_FOREACH","foreach",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$values",88],["T_WHITESPACE"," ",88],["T_AS","as",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$nid",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$label",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_VARIABLE","$success",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","nodes",89],"[",["T_VARIABLE","$node_type",89],"]","[",["T_VARIABLE","$nid",89],"]",["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_STRING","trim",89],"(",["T_STRING","strip_tags",89],"(",["T_VARIABLE","$label",89],")",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n          ",89],["T_COMMENT","\/\/ There was some error, so break.\n",90],["T_WHITESPACE","          ",91],["T_BREAK","break",91],";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n      ",92],"}",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTrue",95],"(",["T_VARIABLE","$success",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Views selection handler returned expected values.'",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n  ",96],["T_DOC_COMMENT","\/**\n   * Tests the selection handler.\n   *\/",98],["T_WHITESPACE","\n  ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","testSelectionHandler",101],"(",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_COMMENT","\/\/ Get values from selection handler.\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$handler",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","container",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","get",103],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",103],")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getSelectionHandler",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","field",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$result",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$handler",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getReferenceableEntities",104],"(",")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertResults",105],"(",["T_VARIABLE","$result",105],")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Tests the selection handler with a relationship.\n   *\/",108],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testSelectionHandlerRelationship",111],"(",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_COMMENT","\/\/ Add a relationship to the view.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$view",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Views",113],["T_DOUBLE_COLON","::",113],["T_STRING","getView",113],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_reference'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$view",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","setDisplay",114],"(",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$view",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","displayHandlers",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","get",115],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","setOption",115],"(",["T_CONSTANT_ENCAPSED_STRING","'relationships'",115],",",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'test_relationship'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_WHITESPACE","\n        ",116],["T_CONSTANT_ENCAPSED_STRING","'id'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'uid'",117],",",["T_WHITESPACE","\n        ",117],["T_CONSTANT_ENCAPSED_STRING","'table'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'node_field_data'",118],",",["T_WHITESPACE","\n        ",118],["T_CONSTANT_ENCAPSED_STRING","'field'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'uid'",119],",",["T_WHITESPACE","\n      ",119],")",",",["T_WHITESPACE","\n    ",120],")",")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Add a filter depending on the relationship to the test view.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$view",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","displayHandlers",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","get",124],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","setOption",124],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'uid'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_WHITESPACE","\n        ",125],["T_CONSTANT_ENCAPSED_STRING","'id'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'uid'",126],",",["T_WHITESPACE","\n        ",126],["T_CONSTANT_ENCAPSED_STRING","'table'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'users_field_data'",127],",",["T_WHITESPACE","\n        ",127],["T_CONSTANT_ENCAPSED_STRING","'field'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'uid'",128],",",["T_WHITESPACE","\n        ",128],["T_CONSTANT_ENCAPSED_STRING","'relationship'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'test_relationship'",129],",",["T_WHITESPACE","\n      ",129],")",["T_WHITESPACE","\n    ",130],")",")",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Set view to distinct so only one row per node is returned.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$query_options",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$view",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","display_handler",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getOption",134],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$query_options",135],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",135],"]","[",["T_CONSTANT_ENCAPSED_STRING","'distinct'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","TRUE",135],";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$view",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","display_handler",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setOption",136],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$query_options",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$view",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","save",137],"(",")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Get values from the selection handler.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$handler",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","container",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","get",140],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",140],")",["T_OBJECT_OPERATOR","->",140],["T_STRING","getSelectionHandler",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","field",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$result",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$handler",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getReferenceableEntities",141],"(",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertResults",142],"(",["T_VARIABLE","$result",142],")",";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n",143],"}",["T_WHITESPACE","\n",145]]