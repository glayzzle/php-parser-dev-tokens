[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EntityReference",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SafeMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AssertConfigEntityImportTrait",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","entity_test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityTest",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","simpletest",9],["T_NS_SEPARATOR","\\",9],["T_STRING","WebTestBase",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests various Entity reference UI components.\n *\n * @group entity_reference\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","EntityReferenceIntegrationTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","WebTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","AssertConfigEntityImportTrait",18],";",["T_WHITESPACE","\n  ",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","EntityReferenceTestTrait",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The entity type used in this test.\n   *\n   * @var string\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$entityType",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The bundle used in this test.\n   *\n   * @var string\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$bundle",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The name of the field used in this test.\n   *\n   * @var string\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$fieldName",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_STATIC","static",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$modules",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[",["T_CONSTANT_ENCAPSED_STRING","'config_test'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",47],"]",";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","setUp",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_STRING","parent",53],["T_DOUBLE_COLON","::",53],["T_STRING","setUp",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Create a test user.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$web_user",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalCreateUser",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'administer entity_test content'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'administer entity_test fields'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'view test entity'",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalLogin",57],"(",["T_VARIABLE","$web_user",57],")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * Tests the entity reference field with all its supported field widgets.\n   *\/",60],["T_WHITESPACE","\n  ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","testSupportedEntityTypesAndWidgets",63],"(",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n    ",63],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getTestEntities",64],"(",")",["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$key",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$referenced_entities",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n      ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","fieldName",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'field_test_'",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$referenced_entities",65],"[",["T_LNUMBER","0",65],"]",["T_OBJECT_OPERATOR","->",65],["T_STRING","getEntityTypeId",65],"(",")",";",["T_WHITESPACE","\n\n      ",65],["T_COMMENT","\/\/ Create an Entity reference field.\n",67],["T_WHITESPACE","      ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","createEntityReferenceField",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","entityType",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","bundle",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","fieldName",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","fieldName",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$referenced_entities",68],"[",["T_LNUMBER","0",68],"]",["T_OBJECT_OPERATOR","->",68],["T_STRING","getEntityTypeId",68],"(",")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'default'",68],",",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",",",["T_WHITESPACE"," ",68],["T_LNUMBER","2",68],")",";",["T_WHITESPACE","\n\n      ",68],["T_COMMENT","\/\/ Test the default 'entity_reference_autocomplete' widget.\n",70],["T_WHITESPACE","      ",71],["T_STRING","entity_get_form_display",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","entityType",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","bundle",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'default'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","setComponent",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","fieldName",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","save",71],"(",")",";",["T_WHITESPACE","\n\n      ",71],["T_VARIABLE","$entity_name",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","randomMachineName",73],"(",")",";",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$edit",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'name[0][value]'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$entity_name",75],",",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","fieldName",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'[0][target_id]'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$referenced_entities",76],"[",["T_LNUMBER","0",76],"]",["T_OBJECT_OPERATOR","->",76],["T_STRING","label",76],"(",")",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","' ('",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$referenced_entities",76],"[",["T_LNUMBER","0",76],"]",["T_OBJECT_OPERATOR","->",76],["T_STRING","id",76],"(",")",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","')'",76],",",["T_WHITESPACE","\n        ",76],["T_COMMENT","\/\/ Test an input of the entity label without a ' (entity_id)' suffix.\n",77],["T_WHITESPACE","        ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fieldName",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'[1][target_id]'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$referenced_entities",78],"[",["T_LNUMBER","1",78],"]",["T_OBJECT_OPERATOR","->",78],["T_STRING","label",78],"(",")",",",["T_WHITESPACE","\n      ",78],")",";",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalPostForm",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","entityType",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'\/add'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$edit",80],",",["T_WHITESPACE"," ",80],["T_STRING","t",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",80],")",")",";",["T_WHITESPACE","\n      ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertFieldValues",81],"(",["T_VARIABLE","$entity_name",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$referenced_entities",81],")",";",["T_WHITESPACE","\n\n      ",81],["T_COMMENT","\/\/ Try to post the form again with no modification and check if the field\n",83],["T_WHITESPACE","      ",84],["T_COMMENT","\/\/ values remain the same.\n",84],["T_WHITESPACE","      ",85],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityStorageInterface $storage *\/",85],["T_WHITESPACE","\n      ",85],["T_VARIABLE","$storage",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","container",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getStorage",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","entityType",86],")",";",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$entity",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","current",87],"(",["T_VARIABLE","$storage",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","loadByProperties",87],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$entity_name",87],"]",")",")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalGet",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","entityType",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\/manage\/'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$entity",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","id",88],"(",")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",88],")",";",["T_WHITESPACE","\n      ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertFieldByName",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","fieldName",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'[0][target_id]'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$referenced_entities",89],"[",["T_LNUMBER","0",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","label",89],"(",")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","' ('",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$referenced_entities",89],"[",["T_LNUMBER","0",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","id",89],"(",")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","')'",89],")",";",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertFieldByName",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","fieldName",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'[1][target_id]'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$referenced_entities",90],"[",["T_LNUMBER","1",90],"]",["T_OBJECT_OPERATOR","->",90],["T_STRING","label",90],"(",")",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","' ('",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$referenced_entities",90],"[",["T_LNUMBER","1",90],"]",["T_OBJECT_OPERATOR","->",90],["T_STRING","id",90],"(",")",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","')'",90],")",";",["T_WHITESPACE","\n\n      ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalPostForm",92],"(",["T_STRING","NULL",92],",",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",",",["T_WHITESPACE"," ",92],["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",92],")",")",";",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertFieldValues",93],"(",["T_VARIABLE","$entity_name",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$referenced_entities",93],")",";",["T_WHITESPACE","\n\n      ",93],["T_COMMENT","\/\/ Test the 'entity_reference_autocomplete_tags' widget.\n",95],["T_WHITESPACE","      ",96],["T_STRING","entity_get_form_display",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","entityType",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","bundle",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'default'",96],")",["T_OBJECT_OPERATOR","->",96],["T_STRING","setComponent",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","fieldName",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'type'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_autocomplete_tags'",97],",",["T_WHITESPACE","\n      ",97],")",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","save",98],"(",")",";",["T_WHITESPACE","\n\n      ",98],["T_VARIABLE","$entity_name",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","randomMachineName",100],"(",")",";",["T_WHITESPACE","\n      ",100],["T_VARIABLE","$target_id",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$referenced_entities",101],"[",["T_LNUMBER","0",101],"]",["T_OBJECT_OPERATOR","->",101],["T_STRING","label",101],"(",")",["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","' ('",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$referenced_entities",101],"[",["T_LNUMBER","0",101],"]",["T_OBJECT_OPERATOR","->",101],["T_STRING","id",101],"(",")",["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","')'",101],";",["T_WHITESPACE","\n      ",101],["T_COMMENT","\/\/ Test an input of the entity label without a ' (entity_id)' suffix.\n",102],["T_WHITESPACE","      ",103],["T_VARIABLE","$target_id",103],["T_WHITESPACE"," ",103],["T_CONCAT_EQUAL",".=",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","', '",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_VARIABLE","$referenced_entities",103],"[",["T_LNUMBER","1",103],"]",["T_OBJECT_OPERATOR","->",103],["T_STRING","label",103],"(",")",";",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$edit",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_WHITESPACE","\n        ",104],["T_CONSTANT_ENCAPSED_STRING","'name[0][value]'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$entity_name",105],",",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","fieldName",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'[target_id]'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$target_id",106],",",["T_WHITESPACE","\n      ",106],")",";",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalPostForm",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","entityType",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'\/add'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$edit",108],",",["T_WHITESPACE"," ",108],["T_STRING","t",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",108],")",")",";",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertFieldValues",109],"(",["T_VARIABLE","$entity_name",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$referenced_entities",109],")",";",["T_WHITESPACE","\n\n      ",109],["T_COMMENT","\/\/ Try to post the form again with no modification and check if the field\n",111],["T_WHITESPACE","      ",112],["T_COMMENT","\/\/ values remain the same.\n",112],["T_WHITESPACE","      ",113],["T_VARIABLE","$entity",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","current",113],"(",["T_VARIABLE","$storage",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","loadByProperties",113],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$entity_name",113],"]",")",")",";",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","drupalGet",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","entityType",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'\/manage\/'",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_VARIABLE","$entity",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","id",114],"(",")",["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",114],")",";",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertFieldByName",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","fieldName",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'[target_id]'",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$target_id",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","' ('",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_VARIABLE","$referenced_entities",115],"[",["T_LNUMBER","1",115],"]",["T_OBJECT_OPERATOR","->",115],["T_STRING","id",115],"(",")",["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","')'",115],")",";",["T_WHITESPACE","\n\n      ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","drupalPostForm",117],"(",["T_STRING","NULL",117],",",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",")",",",["T_WHITESPACE"," ",117],["T_STRING","t",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",117],")",")",";",["T_WHITESPACE","\n      ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertFieldValues",118],"(",["T_VARIABLE","$entity_name",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$referenced_entities",118],")",";",["T_WHITESPACE","\n\n      ",118],["T_COMMENT","\/\/ Test all the other widgets supported by the entity reference field.\n",120],["T_WHITESPACE","      ",121],["T_COMMENT","\/\/ Since we don't know the form structure for these widgets, just test\n",121],["T_WHITESPACE","      ",122],["T_COMMENT","\/\/ that editing and saving an already created entity works.\n",122],["T_WHITESPACE","      ",123],["T_VARIABLE","$exclude",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference_autocomplete'",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'entity_reference_autocomplete_tags'",123],")",";",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$entity",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","current",124],"(",["T_VARIABLE","$storage",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","loadByProperties",124],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$entity_name",124],"]",")",")",";",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$supported_widgets",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Drupal",125],["T_DOUBLE_COLON","::",125],["T_STRING","service",125],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.widget'",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getOptions",125],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",125],")",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$supported_widget_types",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","array_diff",126],"(",["T_STRING","array_keys",126],"(",["T_VARIABLE","$supported_widgets",126],")",",",["T_WHITESPACE"," ",126],["T_VARIABLE","$exclude",126],")",";",["T_WHITESPACE","\n\n      ",126],["T_FOREACH","foreach",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$supported_widget_types",128],["T_WHITESPACE"," ",128],["T_AS","as",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$widget_type",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n        ",128],["T_STRING","entity_get_form_display",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","entityType",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","bundle",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'default'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","setComponent",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","fieldName",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_WHITESPACE","\n          ",129],["T_CONSTANT_ENCAPSED_STRING","'type'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$widget_type",130],",",["T_WHITESPACE","\n        ",130],")",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","save",131],"(",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","drupalPostForm",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","entityType",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'\/manage\/'",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_VARIABLE","$entity",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","id",133],"(",")",["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",133],",",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",",",["T_WHITESPACE"," ",133],["T_STRING","t",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",133],")",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertFieldValues",134],"(",["T_VARIABLE","$entity_name",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$referenced_entities",134],")",";",["T_WHITESPACE","\n      ",134],"}",["T_WHITESPACE","\n\n      ",135],["T_COMMENT","\/\/ Reset to the default 'entity_reference_autocomplete' widget.\n",137],["T_WHITESPACE","      ",138],["T_STRING","entity_get_form_display",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","entityType",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","bundle",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'default'",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","setComponent",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","fieldName",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","save",138],"(",")",";",["T_WHITESPACE","\n\n      ",138],["T_COMMENT","\/\/ Set first entity as the default_value.\n",140],["T_WHITESPACE","      ",141],["T_VARIABLE","$field_edit",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n        ",141],["T_CONSTANT_ENCAPSED_STRING","'default_value_input['",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","fieldName",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'][0][target_id]'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$referenced_entities",142],"[",["T_LNUMBER","0",142],"]",["T_OBJECT_OPERATOR","->",142],["T_STRING","label",142],"(",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","' ('",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$referenced_entities",142],"[",["T_LNUMBER","0",142],"]",["T_OBJECT_OPERATOR","->",142],["T_STRING","id",142],"(",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","')'",142],",",["T_WHITESPACE","\n      ",142],")",";",["T_WHITESPACE","\n      ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$key",144],["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'content'",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$field_edit",145],"[",["T_CONSTANT_ENCAPSED_STRING","'settings[handler_settings][target_bundles]['",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_VARIABLE","$referenced_entities",145],"[",["T_LNUMBER","0",145],"]",["T_OBJECT_OPERATOR","->",145],["T_STRING","getEntityTypeId",145],"(",")",["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","']'",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","TRUE",145],";",["T_WHITESPACE","\n      ",145],"}",["T_WHITESPACE","\n      ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalPostForm",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","entityType",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'\/structure\/'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","bundle",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","entityType",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'.'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","bundle",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'.'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","fieldName",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$field_edit",147],",",["T_WHITESPACE"," ",147],["T_STRING","t",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",147],")",")",";",["T_WHITESPACE","\n      ",147],["T_COMMENT","\/\/ Ensure the configuration has the expected dependency on the entity that\n",148],["T_WHITESPACE","      ",149],["T_COMMENT","\/\/ is being used a default value.\n",149],["T_WHITESPACE","      ",150],["T_VARIABLE","$field",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","FieldConfig",150],["T_DOUBLE_COLON","::",150],["T_STRING","loadByName",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","entityType",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","bundle",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","fieldName",150],")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertTrue",151],"(",["T_STRING","in_array",151],"(",["T_VARIABLE","$referenced_entities",151],"[",["T_LNUMBER","0",151],"]",["T_OBJECT_OPERATOR","->",151],["T_STRING","getConfigDependencyName",151],"(",")",",",["T_WHITESPACE"," ",151],["T_VARIABLE","$field",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getDependencies",151],"(",")","[",["T_VARIABLE","$key",151],"]",")",",",["T_WHITESPACE"," ",151],["T_STRING","SafeMarkup",151],["T_DOUBLE_COLON","::",151],["T_STRING","format",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected @type dependency @name found'",151],",",["T_WHITESPACE"," ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'@type'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$key",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'@name'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$referenced_entities",151],"[",["T_LNUMBER","0",151],"]",["T_OBJECT_OPERATOR","->",151],["T_STRING","getConfigDependencyName",151],"(",")","]",")",")",";",["T_WHITESPACE","\n      ",151],["T_COMMENT","\/\/ Ensure that the field can be imported without change even after the\n",152],["T_WHITESPACE","      ",153],["T_COMMENT","\/\/ default value deleted.\n",153],["T_WHITESPACE","      ",154],["T_VARIABLE","$referenced_entities",154],"[",["T_LNUMBER","0",154],"]",["T_OBJECT_OPERATOR","->",154],["T_STRING","delete",154],"(",")",";",["T_WHITESPACE","\n      ",154],["T_COMMENT","\/\/ Reload the field since deleting the default value can change the field.\n",155],["T_WHITESPACE","      ",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Drupal",156],["T_DOUBLE_COLON","::",156],["T_STRING","entityManager",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getStorage",156],"(",["T_VARIABLE","$field",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getEntityTypeId",156],"(",")",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","resetCache",156],"(","[",["T_VARIABLE","$field",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","id",156],"(",")","]",")",";",["T_WHITESPACE","\n      ",156],["T_VARIABLE","$field",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","FieldConfig",157],["T_DOUBLE_COLON","::",157],["T_STRING","loadByName",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","entityType",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","bundle",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","fieldName",157],")",";",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertConfigEntityImport",158],"(",["T_VARIABLE","$field",158],")",";",["T_WHITESPACE","\n\n      ",158],["T_COMMENT","\/\/ Once the default value has been removed after saving the dependency\n",160],["T_WHITESPACE","      ",161],["T_COMMENT","\/\/ should be removed.\n",161],["T_WHITESPACE","      ",162],["T_VARIABLE","$field",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","FieldConfig",162],["T_DOUBLE_COLON","::",162],["T_STRING","loadByName",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","entityType",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","bundle",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","fieldName",162],")",";",["T_WHITESPACE","\n      ",162],["T_VARIABLE","$field",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","save",163],"(",")",";",["T_WHITESPACE","\n      ",163],["T_VARIABLE","$dependencies",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$field",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getDependencies",164],"(",")",";",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertFalse",165],"(",["T_ISSET","isset",165],"(",["T_VARIABLE","$dependencies",165],"[",["T_VARIABLE","$key",165],"]",")",["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],["T_STRING","in_array",165],"(",["T_VARIABLE","$referenced_entities",165],"[",["T_LNUMBER","0",165],"]",["T_OBJECT_OPERATOR","->",165],["T_STRING","getConfigDependencyName",165],"(",")",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$dependencies",165],"[",["T_VARIABLE","$key",165],"]",")",",",["T_WHITESPACE"," ",165],["T_STRING","SafeMarkup",165],["T_DOUBLE_COLON","::",165],["T_STRING","format",165],"(",["T_CONSTANT_ENCAPSED_STRING","'@type dependency @name does not exist.'",165],",",["T_WHITESPACE"," ",165],"[",["T_CONSTANT_ENCAPSED_STRING","'@type'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$key",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'@name'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$referenced_entities",165],"[",["T_LNUMBER","0",165],"]",["T_OBJECT_OPERATOR","->",165],["T_STRING","getConfigDependencyName",165],"(",")","]",")",")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n  ",166],"}",["T_WHITESPACE","\n\n  ",167],["T_DOC_COMMENT","\/**\n   * Asserts that the reference field values are correct.\n   *\n   * @param string $entity_name\n   *   The name of the test entity.\n   * @param \\Drupal\\Core\\Entity\\EntityInterface[] $referenced_entities\n   *   An array of referenced entities.\n   *\/",169],["T_WHITESPACE","\n  ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","assertFieldValues",177],"(",["T_VARIABLE","$entity_name",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$referenced_entities",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$entity",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","current",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","container",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","get",178],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",178],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","getStorage",178],"(",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","entityType",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","loadByProperties",179],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$entity_name",179],"]",")",")",";",["T_WHITESPACE","\n\n    ",179],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertTrue",181],"(",["T_VARIABLE","$entity",181],",",["T_WHITESPACE"," ",181],["T_STRING","format_string",181],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Entity found in the database.'",181],",",["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","entityType",181],")",")",")",";",["T_WHITESPACE","\n\n    ",181],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertEqual",183],"(",["T_VARIABLE","$entity",183],["T_OBJECT_OPERATOR","->",183],"{",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","fieldName",183],"}",["T_OBJECT_OPERATOR","->",183],["T_STRING","target_id",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$referenced_entities",183],"[",["T_LNUMBER","0",183],"]",["T_OBJECT_OPERATOR","->",183],["T_STRING","id",183],"(",")",")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertEqual",184],"(",["T_VARIABLE","$entity",184],["T_OBJECT_OPERATOR","->",184],"{",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","fieldName",184],"}",["T_OBJECT_OPERATOR","->",184],["T_STRING","entity",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","id",184],"(",")",",",["T_WHITESPACE"," ",184],["T_VARIABLE","$referenced_entities",184],"[",["T_LNUMBER","0",184],"]",["T_OBJECT_OPERATOR","->",184],["T_STRING","id",184],"(",")",")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEqual",185],"(",["T_VARIABLE","$entity",185],["T_OBJECT_OPERATOR","->",185],"{",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","fieldName",185],"}",["T_OBJECT_OPERATOR","->",185],["T_STRING","entity",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","label",185],"(",")",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$referenced_entities",185],"[",["T_LNUMBER","0",185],"]",["T_OBJECT_OPERATOR","->",185],["T_STRING","label",185],"(",")",")",";",["T_WHITESPACE","\n\n    ",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEqual",187],"(",["T_VARIABLE","$entity",187],["T_OBJECT_OPERATOR","->",187],"{",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","fieldName",187],"}","[",["T_LNUMBER","1",187],"]",["T_OBJECT_OPERATOR","->",187],["T_STRING","target_id",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$referenced_entities",187],"[",["T_LNUMBER","1",187],"]",["T_OBJECT_OPERATOR","->",187],["T_STRING","id",187],"(",")",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertEqual",188],"(",["T_VARIABLE","$entity",188],["T_OBJECT_OPERATOR","->",188],"{",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","fieldName",188],"}","[",["T_LNUMBER","1",188],"]",["T_OBJECT_OPERATOR","->",188],["T_STRING","entity",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","id",188],"(",")",",",["T_WHITESPACE"," ",188],["T_VARIABLE","$referenced_entities",188],"[",["T_LNUMBER","1",188],"]",["T_OBJECT_OPERATOR","->",188],["T_STRING","id",188],"(",")",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertEqual",189],"(",["T_VARIABLE","$entity",189],["T_OBJECT_OPERATOR","->",189],"{",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","fieldName",189],"}","[",["T_LNUMBER","1",189],"]",["T_OBJECT_OPERATOR","->",189],["T_STRING","entity",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","label",189],"(",")",",",["T_WHITESPACE"," ",189],["T_VARIABLE","$referenced_entities",189],"[",["T_LNUMBER","1",189],"]",["T_OBJECT_OPERATOR","->",189],["T_STRING","label",189],"(",")",")",";",["T_WHITESPACE","\n  ",189],"}",["T_WHITESPACE","\n\n  ",190],["T_DOC_COMMENT","\/**\n   * Creates two content and two config test entities.\n   *\n   * @return array\n   *   An array of entity objects.\n   *\/",192],["T_WHITESPACE","\n  ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getTestEntities",198],"(",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$config_entity_1",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","entity_create",199],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",199],",",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","randomMachineName",199],"(",")",",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'label'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","randomMachineName",199],"(",")",")",")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$config_entity_1",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","save",200],"(",")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$config_entity_2",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","entity_create",201],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",201],",",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","randomMachineName",201],"(",")",",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'label'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","randomMachineName",201],"(",")",")",")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$config_entity_2",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","save",202],"(",")",";",["T_WHITESPACE","\n\n    ",202],["T_VARIABLE","$content_entity_1",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","EntityTest",204],["T_DOUBLE_COLON","::",204],["T_STRING","create",204],"(",["T_ARRAY","array",204],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","randomMachineName",204],"(",")",")",")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$content_entity_1",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","save",205],"(",")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$content_entity_2",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","EntityTest",206],["T_DOUBLE_COLON","::",206],["T_STRING","create",206],"(",["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","randomMachineName",206],"(",")",")",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$content_entity_2",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","save",207],"(",")",";",["T_WHITESPACE","\n\n    ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",["T_WHITESPACE","\n      ",209],["T_CONSTANT_ENCAPSED_STRING","'config'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$config_entity_1",211],",",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$config_entity_2",212],",",["T_WHITESPACE","\n      ",212],")",",",["T_WHITESPACE","\n      ",213],["T_CONSTANT_ENCAPSED_STRING","'content'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$content_entity_1",215],",",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$content_entity_2",216],",",["T_WHITESPACE","\n      ",216],")",",",["T_WHITESPACE","\n    ",217],")",";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n",219],"}",["T_WHITESPACE","\n",221]]