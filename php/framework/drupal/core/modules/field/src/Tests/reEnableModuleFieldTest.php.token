[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldStorageConfig",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the behavior of a field module after being disabled and re-enabled.\n *\n * @group field\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","reEnableModuleFieldTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","WebTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n    ",21],["T_CONSTANT_ENCAPSED_STRING","'field'",22],",",["T_WHITESPACE","\n    ",22],["T_CONSTANT_ENCAPSED_STRING","'node'",23],",",["T_WHITESPACE","\n    ",23],["T_COMMENT","\/\/ We use telephone module instead of test_field because test_field is\n",24],["T_WHITESPACE","    ",25],["T_COMMENT","\/\/ hidden and does not display on the admin\/modules page.\n",25],["T_WHITESPACE","    ",26],["T_CONSTANT_ENCAPSED_STRING","'telephone'",26],["T_WHITESPACE","\n  ",26],")",";",["T_WHITESPACE","\n\n  ",27],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","setUp",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalCreateContentType",32],"(",["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'article'",32],")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalLogin",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalCreateUser",33],"(",["T_ARRAY","array",33],"(",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'create article content'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'edit own article content'",35],",",["T_WHITESPACE","\n    ",35],")",")",")",";",["T_WHITESPACE","\n  ",36],"}",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Test the behavior of a field module after being disabled and re-enabled.\n   *\n   * @see field_system_info_alter()\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testReEnabledField",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Add a telephone field to the article content type.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$field_storage",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","FieldStorageConfig",47],["T_DOUBLE_COLON","::",47],["T_STRING","create",47],"(",["T_ARRAY","array",47],"(",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'field_name'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'field_telephone'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'node'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'type'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'telephone'",50],",",["T_WHITESPACE","\n    ",50],")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$field_storage",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","save",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_STRING","FieldConfig",53],["T_DOUBLE_COLON","::",53],["T_STRING","create",53],"(","[",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$field_storage",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'bundle'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'article'",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'label'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'Telephone Number'",56],",",["T_WHITESPACE","\n    ",56],"]",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","save",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_STRING","entity_get_form_display",59],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'article'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'default'",59],")",["T_WHITESPACE","\n      ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","setComponent",60],"(",["T_CONSTANT_ENCAPSED_STRING","'field_telephone'",60],",",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'telephone_default'",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'settings'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_WHITESPACE","\n          ",62],["T_CONSTANT_ENCAPSED_STRING","'placeholder'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'123-456-7890'",63],",",["T_WHITESPACE","\n        ",63],")",",",["T_WHITESPACE","\n      ",64],")",")",["T_WHITESPACE","\n      ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","save",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_STRING","entity_get_display",68],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'article'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'default'",68],")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","setComponent",69],"(",["T_CONSTANT_ENCAPSED_STRING","'field_telephone'",69],",",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'type'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'telephone_link'",70],",",["T_WHITESPACE","\n        ",70],["T_CONSTANT_ENCAPSED_STRING","'weight'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_LNUMBER","1",71],",",["T_WHITESPACE","\n      ",71],")",")",["T_WHITESPACE","\n      ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","save",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Display the article node form and verify the telephone widget is present.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalGet",76],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertFieldByName",77],"(",["T_CONSTANT_ENCAPSED_STRING","\"field_telephone[0][value]\"",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Widget found.'",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Submit an article node with a telephone field so data exist for the\n",79],["T_WHITESPACE","    ",80],["T_COMMENT","\/\/ field.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$edit",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","randomMachineName",82],"(",")",",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'field_telephone[0][value]'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\"123456789\"",83],",",["T_WHITESPACE","\n    ",83],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalPostForm",85],"(",["T_STRING","NULL",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$edit",85],",",["T_WHITESPACE"," ",85],["T_STRING","t",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",85],")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertRaw",86],"(",["T_CONSTANT_ENCAPSED_STRING","'<a href=\"tel:123456789\">'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Test that the module can't be uninstalled from the UI while there is data\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ for it's fields.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$admin_user",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalCreateUser",90],"(",["T_ARRAY","array",90],"(",["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'administer modules'",90],")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","drupalLogin",91],"(",["T_VARIABLE","$admin_user",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalGet",92],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertText",93],"(",["T_CONSTANT_ENCAPSED_STRING","\"The Telephone number field type is used in the following field: node.field_telephone\"",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Add another telephone field to a different entity type in order to test\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/ the message for the case when multiple fields are blocking the\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/ uninstallation of a module.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$field_storage2",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","entity_create",98],"(",["T_CONSTANT_ENCAPSED_STRING","'field_storage_config'",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'field_name'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'field_telephone_2'",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'user'",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'type'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'telephone'",101],",",["T_WHITESPACE","\n    ",101],")",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$field_storage2",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","save",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_STRING","FieldConfig",104],["T_DOUBLE_COLON","::",104],["T_STRING","create",104],"(","[",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$field_storage2",105],",",["T_WHITESPACE","\n      ",105],["T_CONSTANT_ENCAPSED_STRING","'bundle'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'user'",106],",",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'label'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'User Telephone Number'",107],",",["T_WHITESPACE","\n    ",107],"]",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","save",108],"(",")",";",["T_WHITESPACE","\n\n    ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalGet",110],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertText",111],"(",["T_CONSTANT_ENCAPSED_STRING","\"The Telephone number field type is used in the following fields: node.field_telephone, user.field_telephone_2\"",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Delete both fields.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$field_storage",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","delete",114],"(",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$field_storage2",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","delete",115],"(",")",";",["T_WHITESPACE","\n\n    ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","drupalGet",117],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertText",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Fields pending deletion'",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","cronRun",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertNoText",120],"(",["T_CONSTANT_ENCAPSED_STRING","\"The Telephone number field type is used in the following field: node.field_telephone\"",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertNoText",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Fields pending deletion'",121],")",";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n",122],"}",["T_WHITESPACE","\n",124]]