[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","source",3],["T_NS_SEPARATOR","\\",3],["T_STRING","d7",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Row",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate_drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","source",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DrupalSqlBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Drupal 7 field instances source from database.\n *\n * @MigrateSource(\n *   id = \"d7_field_instance\",\n *   source_provider = \"field\"\n * )\n *\/",8],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","FieldInstance",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","DrupalSqlBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","query",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$query",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","select",22],"(",["T_CONSTANT_ENCAPSED_STRING","'field_config_instance'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'fci'",22],")",["T_WHITESPACE","\n      ",22],["T_OBJECT_OPERATOR","->",23],["T_STRING","fields",23],"(",["T_CONSTANT_ENCAPSED_STRING","'fci'",23],")",["T_WHITESPACE","\n      ",23],["T_OBJECT_OPERATOR","->",24],["T_STRING","condition",24],"(",["T_CONSTANT_ENCAPSED_STRING","'fci.deleted'",24],",",["T_WHITESPACE"," ",24],["T_LNUMBER","0",24],")",["T_WHITESPACE","\n      ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","condition",25],"(",["T_CONSTANT_ENCAPSED_STRING","'fc.active'",25],",",["T_WHITESPACE"," ",25],["T_LNUMBER","1",25],")",["T_WHITESPACE","\n      ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","condition",26],"(",["T_CONSTANT_ENCAPSED_STRING","'fc.deleted'",26],",",["T_WHITESPACE"," ",26],["T_LNUMBER","0",26],")",["T_WHITESPACE","\n      ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","condition",27],"(",["T_CONSTANT_ENCAPSED_STRING","'fc.storage_active'",27],",",["T_WHITESPACE"," ",27],["T_LNUMBER","1",27],")",["T_WHITESPACE","\n      ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","fields",28],"(",["T_CONSTANT_ENCAPSED_STRING","'fc'",28],",",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",28],")",")",";",["T_WHITESPACE","\n\n    ",28],["T_VARIABLE","$query",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","innerJoin",30],"(",["T_CONSTANT_ENCAPSED_STRING","'field_config'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'fc'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'fci.field_id = fc.id'",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$query",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","addField",31],"(",["T_CONSTANT_ENCAPSED_STRING","'fc'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'data'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'field_data'",31],")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Optionally filter by entity type and bundle.\n",33],["T_WHITESPACE","    ",34],["T_IF","if",34],["T_WHITESPACE"," ",34],"(",["T_ISSET","isset",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","configuration",34],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",34],"]",")",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n      ",34],["T_VARIABLE","$query",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","condition",35],"(",["T_CONSTANT_ENCAPSED_STRING","'fci.entity_type'",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","configuration",35],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",35],"]",")",";",["T_WHITESPACE","\n\n      ",35],["T_IF","if",37],["T_WHITESPACE"," ",37],"(",["T_ISSET","isset",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","configuration",37],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",37],"]",")",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$query",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","condition",38],"(",["T_CONSTANT_ENCAPSED_STRING","'fci.bundle'",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","configuration",38],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",38],"]",")",";",["T_WHITESPACE","\n      ",38],"}",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$query",42],";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","fields",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'field_name'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine name of field.'",50],")",",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","t",51],"(",["T_CONSTANT_ENCAPSED_STRING","'The entity type.'",51],")",",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'bundle'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","t",52],"(",["T_CONSTANT_ENCAPSED_STRING","'The entity bundle.'",52],")",",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'default_value'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","t",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Default value'",53],")",",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'instance_settings'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Field instance settings.'",54],")",",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'widget_settings'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","t",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget settings.'",55],")",",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'display_settings'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","t",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Display settings.'",56],")",",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'field_settings'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","t",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Field settings.'",57],")",",",["T_WHITESPACE","\n    ",57],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","prepareRow",64],"(",["T_STRING","Row",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$row",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$data",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","unserialize",65],"(",["T_VARIABLE","$row",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getSourceProperty",65],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",65],")",")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$row",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setSourceProperty",67],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$data",67],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",67],"]",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$row",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setSourceProperty",68],"(",["T_CONSTANT_ENCAPSED_STRING","'description'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$data",68],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",68],"]",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$row",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setSourceProperty",69],"(",["T_CONSTANT_ENCAPSED_STRING","'required'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$data",69],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",69],"]",")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$default_value",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"!",["T_EMPTY","empty",71],"(",["T_VARIABLE","$data",71],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",71],"]",")",["T_WHITESPACE"," ",71],"?",["T_WHITESPACE"," ",71],["T_VARIABLE","$data",71],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",71],"]",["T_WHITESPACE"," ",71],":",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$data",72],"[",["T_CONSTANT_ENCAPSED_STRING","'widget'",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",72],"]",["T_WHITESPACE"," ",72],["T_IS_EQUAL","==",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'email_textfield'",72],["T_WHITESPACE"," ",72],["T_BOOLEAN_AND","&&",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$default_value",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$default_value",73],"[",["T_LNUMBER","0",73],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$default_value",73],"[",["T_LNUMBER","0",73],"]","[",["T_CONSTANT_ENCAPSED_STRING","'email'",73],"]",";",["T_WHITESPACE","\n      ",73],["T_UNSET","unset",74],"(",["T_VARIABLE","$default_value",74],"[",["T_LNUMBER","0",74],"]","[",["T_CONSTANT_ENCAPSED_STRING","'email'",74],"]",")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$row",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setSourceProperty",76],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$default_value",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Settings.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$row",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setSourceProperty",79],"(",["T_CONSTANT_ENCAPSED_STRING","'instance_settings'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$data",79],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",79],"]",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$row",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setSourceProperty",80],"(",["T_CONSTANT_ENCAPSED_STRING","'widget_settings'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'widget'",80],"]",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$row",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setSourceProperty",81],"(",["T_CONSTANT_ENCAPSED_STRING","'display_settings'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$data",81],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",81],"]",")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ This is for parity with the d6_field_instance plugin.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$row",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setSourceProperty",84],"(",["T_CONSTANT_ENCAPSED_STRING","'widget_type'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$data",84],"[",["T_CONSTANT_ENCAPSED_STRING","'widget'",84],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",84],"]",")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$field_data",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","unserialize",86],"(",["T_VARIABLE","$row",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getSourceProperty",86],"(",["T_CONSTANT_ENCAPSED_STRING","'field_data'",86],")",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$row",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setSourceProperty",87],"(",["T_CONSTANT_ENCAPSED_STRING","'field_settings'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$field_data",87],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",87],"]",")",";",["T_WHITESPACE","\n\n    ",87],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_STRING","parent",89],["T_DOUBLE_COLON","::",89],["T_STRING","prepareRow",89],"(",["T_VARIABLE","$row",89],")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getIds",95],"(",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'type'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'string'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'alias'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'fci'",99],",",["T_WHITESPACE","\n      ",99],")",",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'bundle'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'type'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'string'",102],",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'alias'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'fci'",103],",",["T_WHITESPACE","\n      ",103],")",",",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'field_name'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_WHITESPACE","\n        ",105],["T_CONSTANT_ENCAPSED_STRING","'type'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'string'",106],",",["T_WHITESPACE","\n        ",106],["T_CONSTANT_ENCAPSED_STRING","'alias'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'fci'",107],",",["T_WHITESPACE","\n      ",107],")",",",["T_WHITESPACE","\n    ",108],")",";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n",110],"}",["T_WHITESPACE","\n",112]]