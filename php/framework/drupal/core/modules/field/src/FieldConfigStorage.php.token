[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityManagerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityTypeInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldConfigStorageBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldTypePluginManagerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageManagerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DependencyInjection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContainerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConfigFactoryInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Uuid",13],["T_NS_SEPARATOR","\\",13],["T_STRING","UuidInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","State",14],["T_NS_SEPARATOR","\\",14],["T_STRING","StateInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Controller class for fields.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","FieldConfigStorage",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","FieldConfigStorageBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The entity manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManagerInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$entityManager",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The state keyvalue collection.\n   *\n   * @var \\Drupal\\Core\\State\\StateInterface\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$state",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The field type plugin manager.\n   *\n   * @var \\Drupal\\Core\\Field\\FieldTypePluginManagerInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$fieldTypeManager",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Constructs a FieldConfigStorage object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $entity_type\n   *   The entity type definition.\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The config factory service.\n   * @param \\Drupal\\Component\\Uuid\\UuidInterface $uuid_service\n   *   The UUID service.\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language_manager\n   *   The language manager.\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager.\n   * @param \\Drupal\\Core\\State\\StateInterface $state\n   *   The state key value store.\n   * @param \\Drupal\\Core\\Field\\FieldTypePluginManagerInterface $field_type_manager\n   *   The field type plugin manager.\n   *\/",42],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","__construct",60],"(",["T_STRING","EntityTypeInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$entity_type",60],",",["T_WHITESPACE"," ",60],["T_STRING","ConfigFactoryInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$config_factory",60],",",["T_WHITESPACE"," ",60],["T_STRING","UuidInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$uuid_service",60],",",["T_WHITESPACE"," ",60],["T_STRING","LanguageManagerInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$language_manager",60],",",["T_WHITESPACE"," ",60],["T_STRING","EntityManagerInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$entity_manager",60],",",["T_WHITESPACE"," ",60],["T_STRING","StateInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$state",60],",",["T_WHITESPACE"," ",60],["T_STRING","FieldTypePluginManagerInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$field_type_manager",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_STRING","parent",61],["T_DOUBLE_COLON","::",61],["T_STRING","__construct",61],"(",["T_VARIABLE","$entity_type",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$config_factory",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$uuid_service",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$language_manager",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","entityManager",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$entity_manager",62],";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","state",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$state",63],";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","fieldTypeManager",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$field_type_manager",64],";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_STATIC","static",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","createInstance",70],"(",["T_STRING","ContainerInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$container",70],",",["T_WHITESPACE"," ",70],["T_STRING","EntityTypeInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$entity_type",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STATIC","static",71],"(",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$entity_type",72],",",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$container",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",73],")",",",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$container",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",74],")",",",["T_WHITESPACE","\n      ",74],["T_VARIABLE","$container",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",75],")",",",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$container",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",76],")",",",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$container",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",77],")",",",["T_WHITESPACE","\n      ",77],["T_VARIABLE","$container",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.field_type'",78],")",["T_WHITESPACE","\n    ",78],")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","importDelete",85],"(",["T_VARIABLE","$name",85],",",["T_WHITESPACE"," ",85],["T_STRING","Config",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$new_config",85],",",["T_WHITESPACE"," ",85],["T_STRING","Config",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$old_config",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_COMMENT","\/\/ If the field storage has been deleted in the same import, the field will\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ be deleted by then, and there is nothing left to do. Just return TRUE so\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ that the file does not get written to active store.\n",88],["T_WHITESPACE","    ",89],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_VARIABLE","$old_config",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","get",89],"(",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n      ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_STRING","TRUE",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n    ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","parent",92],["T_DOUBLE_COLON","::",92],["T_STRING","importDelete",92],"(",["T_VARIABLE","$name",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$new_config",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$old_config",92],")",";",["T_WHITESPACE","\n  ",92],"}",["T_WHITESPACE","\n\n  ",93],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",95],["T_WHITESPACE","\n  ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","loadByProperties",98],"(",["T_ARRAY","array",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$conditions",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_COMMENT","\/\/ Include deleted fields if specified in the $conditions parameters.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$include_deleted",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ISSET","isset",100],"(",["T_VARIABLE","$conditions",100],"[",["T_CONSTANT_ENCAPSED_STRING","'include_deleted'",100],"]",")",["T_WHITESPACE"," ",100],"?",["T_WHITESPACE"," ",100],["T_VARIABLE","$conditions",100],"[",["T_CONSTANT_ENCAPSED_STRING","'include_deleted'",100],"]",["T_WHITESPACE"," ",100],":",["T_WHITESPACE"," ",100],["T_STRING","FALSE",100],";",["T_WHITESPACE","\n    ",100],["T_UNSET","unset",101],"(",["T_VARIABLE","$conditions",101],"[",["T_CONSTANT_ENCAPSED_STRING","'include_deleted'",101],"]",")",";",["T_WHITESPACE","\n\n    ",101],["T_VARIABLE","$fields",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Get fields stored in configuration. If we are explicitly looking for\n",105],["T_WHITESPACE","    ",106],["T_COMMENT","\/\/ deleted fields only, this can be skipped, because they will be\n",106],["T_WHITESPACE","    ",107],["T_COMMENT","\/\/ retrieved from state below.\n",107],["T_WHITESPACE","    ",108],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_EMPTY","empty",108],"(",["T_VARIABLE","$conditions",108],"[",["T_CONSTANT_ENCAPSED_STRING","'deleted'",108],"]",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n      ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_ISSET","isset",109],"(",["T_VARIABLE","$conditions",109],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",109],"]",")",["T_WHITESPACE"," ",109],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],["T_ISSET","isset",109],"(",["T_VARIABLE","$conditions",109],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",109],"]",")",["T_WHITESPACE"," ",109],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],["T_ISSET","isset",109],"(",["T_VARIABLE","$conditions",109],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n        ",109],["T_COMMENT","\/\/ Optimize for the most frequent case where we do have a specific ID.\n",110],["T_WHITESPACE","        ",111],["T_VARIABLE","$id",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$conditions",111],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",111],"]",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'.'",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$conditions",111],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",111],"]",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'.'",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$conditions",111],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",111],"]",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$fields",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","loadMultiple",112],"(",["T_ARRAY","array",112],"(",["T_VARIABLE","$id",112],")",")",";",["T_WHITESPACE","\n      ",112],"}",["T_WHITESPACE","\n      ",113],["T_ELSE","else",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n        ",114],["T_COMMENT","\/\/ No specific ID, we need to examine all existing fields.\n",115],["T_WHITESPACE","        ",116],["T_VARIABLE","$fields",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","loadMultiple",116],"(",")",";",["T_WHITESPACE","\n      ",116],"}",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Merge deleted fields (stored in state) if needed.\n",120],["T_WHITESPACE","    ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$include_deleted",121],["T_WHITESPACE"," ",121],["T_BOOLEAN_OR","||",121],["T_WHITESPACE"," ",121],"!",["T_EMPTY","empty",121],"(",["T_VARIABLE","$conditions",121],"[",["T_CONSTANT_ENCAPSED_STRING","'deleted'",121],"]",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_VARIABLE","$deleted_fields",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","state",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","get",122],"(",["T_CONSTANT_ENCAPSED_STRING","'field.field.deleted'",122],")",["T_WHITESPACE"," ",122],"?",":",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",";",["T_WHITESPACE","\n      ",122],["T_VARIABLE","$deleted_storages",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","state",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_CONSTANT_ENCAPSED_STRING","'field.storage.deleted'",123],")",["T_WHITESPACE"," ",123],"?",":",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",")",";",["T_WHITESPACE","\n      ",123],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$deleted_fields",124],["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$id",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$config",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n        ",124],["T_COMMENT","\/\/ If the field storage itself is deleted, inject it directly in the field.\n",125],["T_WHITESPACE","        ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$deleted_storages",126],"[",["T_VARIABLE","$config",126],"[",["T_CONSTANT_ENCAPSED_STRING","'field_storage_uuid'",126],"]","]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n          ",126],["T_VARIABLE","$config",127],"[",["T_CONSTANT_ENCAPSED_STRING","'field_storage'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","entityManager",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getStorage",127],"(",["T_CONSTANT_ENCAPSED_STRING","'field_storage_config'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","create",127],"(",["T_VARIABLE","$deleted_storages",127],"[",["T_VARIABLE","$config",127],"[",["T_CONSTANT_ENCAPSED_STRING","'field_storage_uuid'",127],"]","]",")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$fields",129],"[",["T_VARIABLE","$id",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","create",129],"(",["T_VARIABLE","$config",129],")",";",["T_WHITESPACE","\n      ",129],"}",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Collect matching fields.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$matching_fields",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",")",";",["T_WHITESPACE","\n    ",134],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$fields",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$field",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_COMMENT","\/\/ Some conditions are checked against the field storage.\n",136],["T_WHITESPACE","      ",137],["T_VARIABLE","$field_storage",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$field",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getFieldStorageDefinition",137],"(",")",";",["T_WHITESPACE","\n\n      ",137],["T_COMMENT","\/\/ Only keep the field if it matches all conditions.\n",139],["T_WHITESPACE","      ",140],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$conditions",140],["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$key",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$value",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n        ",140],["T_COMMENT","\/\/ Extract the actual value against which the condition is checked.\n",141],["T_WHITESPACE","        ",142],["T_SWITCH","switch",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$key",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n          ",142],["T_CASE","case",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'field_name'",143],":",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$checked_value",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$field_storage",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getName",144],"(",")",";",["T_WHITESPACE","\n            ",144],["T_BREAK","break",145],";",["T_WHITESPACE","\n\n          ",145],["T_CASE","case",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'field_id'",147],":",["T_WHITESPACE","\n          ",147],["T_CASE","case",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'field_storage_uuid'",148],":",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$checked_value",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$field_storage",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","uuid",149],"(",")",";",["T_WHITESPACE","\n            ",149],["T_BREAK","break",150],";",["T_WHITESPACE","\n\n          ",150],["T_CASE","case",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'uuid'",152],";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$checked_value",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$field",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","uuid",153],"(",")",";",["T_WHITESPACE","\n            ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n\n          ",154],["T_CASE","case",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'deleted'",156],";",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$checked_value",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$field",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","isDeleted",157],"(",")",";",["T_WHITESPACE","\n            ",157],["T_BREAK","break",158],";",["T_WHITESPACE","\n\n          ",158],["T_DEFAULT","default",160],":",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$checked_value",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$field",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","get",161],"(",["T_VARIABLE","$key",161],")",";",["T_WHITESPACE","\n            ",161],["T_BREAK","break",162],";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_COMMENT","\/\/ Skip to the next field as soon as one condition does not match.\n",165],["T_WHITESPACE","        ",166],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$checked_value",166],["T_WHITESPACE"," ",166],["T_IS_NOT_EQUAL","!=",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$value",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n          ",166],["T_CONTINUE","continue",167],["T_WHITESPACE"," ",167],["T_LNUMBER","2",167],";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n      ",168],"}",["T_WHITESPACE","\n\n      ",169],["T_COMMENT","\/\/ When returning deleted fields, key the results by UUID since they\n",171],["T_WHITESPACE","      ",172],["T_COMMENT","\/\/ can include several fields with the same ID.\n",172],["T_WHITESPACE","      ",173],["T_VARIABLE","$key",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$include_deleted",173],["T_WHITESPACE"," ",173],"?",["T_WHITESPACE"," ",173],["T_VARIABLE","$field",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","uuid",173],"(",")",["T_WHITESPACE"," ",173],":",["T_WHITESPACE"," ",173],["T_VARIABLE","$field",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","id",173],"(",")",";",["T_WHITESPACE","\n      ",173],["T_VARIABLE","$matching_fields",174],"[",["T_VARIABLE","$key",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$field",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$matching_fields",177],";",["T_WHITESPACE","\n  ",177],"}",["T_WHITESPACE","\n\n",178],"}",["T_WHITESPACE","\n",180]]