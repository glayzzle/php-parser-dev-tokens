[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block_place",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Functional",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","BrowserTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the placing a block.\n *\n * @group block_place\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","BlockPlaceTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","BrowserTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'block_place'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'toolbar'",20],"]",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Tests placing blocks as an admin.\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","testPlacingBlocksAdmin",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_COMMENT","\/\/ Create administrative user.\n",26],["T_WHITESPACE","    ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalLogin",27],"(",["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalCreateUser",27],"(","[",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",28],",",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'access toolbar'",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'view the administration theme'",31],",",["T_WHITESPACE","\n    ",31],"]",")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalGet",33],"(",["T_STRING","Url",33],["T_DOUBLE_COLON","::",33],["T_STRING","fromRoute",33],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",33],")",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","clickLink",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Place block'",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Each region should have one link to place a block.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$theme_name",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","container",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","get",37],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.manager'",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getActiveTheme",37],"(",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getName",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$visible_regions",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","system_region_list",38],"(",["T_VARIABLE","$theme_name",38],",",["T_WHITESPACE"," ",38],["T_STRING","REGIONS_VISIBLE",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertGreaterThan",39],"(",["T_LNUMBER","0",39],",",["T_WHITESPACE"," ",39],["T_STRING","count",39],"(",["T_VARIABLE","$visible_regions",39],")",")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$default_theme",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","config",41],"(",["T_CONSTANT_ENCAPSED_STRING","'system.theme'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$block_library_url",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Url",42],["T_DOUBLE_COLON","::",42],["T_STRING","fromRoute",42],"(",["T_CONSTANT_ENCAPSED_STRING","'block.admin_library'",42],",",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$default_theme",42],"]",")",";",["T_WHITESPACE","\n    ",42],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$visible_regions",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$region",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$name",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$block_library_url",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setOption",44],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",44],",",["T_WHITESPACE"," ",44],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$region",44],"]",")",";",["T_WHITESPACE","\n      ",44],["T_VARIABLE","$links",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","xpath",45],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[contains(@href, :href)]'",45],",",["T_WHITESPACE"," ",45],"[",["T_CONSTANT_ENCAPSED_STRING","':href'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$block_library_url",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","toString",45],"(",")","]",")",";",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertEquals",46],"(",["T_LNUMBER","1",46],",",["T_WHITESPACE"," ",46],["T_STRING","count",46],"(",["T_VARIABLE","$links",46],")",")",";",["T_WHITESPACE","\n\n      ",46],["T_LIST","list",48],"(",",",["T_WHITESPACE"," ",48],["T_VARIABLE","$query_string",48],")",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","explode",48],"(",["T_CONSTANT_ENCAPSED_STRING","'?'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$links",48],"[",["T_LNUMBER","0",48],"]",["T_OBJECT_OPERATOR","->",48],["T_STRING","getAttribute",48],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",48],")",",",["T_WHITESPACE"," ",48],["T_LNUMBER","2",48],")",";",["T_WHITESPACE","\n      ",48],["T_STRING","parse_str",49],"(",["T_VARIABLE","$query_string",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$query_parts",49],")",";",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertNotEmpty",50],"(",["T_VARIABLE","$query_parts",50],"[",["T_CONSTANT_ENCAPSED_STRING","'destination'",50],"]",")",";",["T_WHITESPACE","\n\n      ",50],["T_COMMENT","\/\/ Get the text inside the div->a->span->em.\n",52],["T_WHITESPACE","      ",53],["T_VARIABLE","$demo_block",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","xpath",53],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"block-place-region\"]\/a\/span[text()=\"Place block in the \"]\/em[text()=\"'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$name",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'\"]'",53],")",";",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEquals",54],"(",["T_LNUMBER","1",54],",",["T_WHITESPACE"," ",54],["T_STRING","count",54],"(",["T_VARIABLE","$demo_block",54],")",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Tests placing blocks as an unprivileged user.\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testPlacingBlocksUnprivileged",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ Create a user who cannot administer blocks.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalLogin",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalCreateUser",63],"(","[",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'access toolbar'",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'view the administration theme'",66],",",["T_WHITESPACE","\n    ",66],"]",")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalGet",68],"(",["T_STRING","Url",68],["T_DOUBLE_COLON","::",68],["T_STRING","fromRoute",68],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$links",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","xpath",69],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[text()=:label]'",69],",",["T_WHITESPACE"," ",69],"[",["T_CONSTANT_ENCAPSED_STRING","':label'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Place block'",69],"]",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEmpty",70],"(",["T_VARIABLE","$links",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalGet",72],"(",["T_STRING","Url",72],["T_DOUBLE_COLON","::",72],["T_STRING","fromRoute",72],"(",["T_CONSTANT_ENCAPSED_STRING","'block.admin_library'",72],",",["T_WHITESPACE"," ",72],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'classy'",72],"]",")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertSession",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","statusCodeEquals",73],"(",["T_LNUMBER","403",73],")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n",74],"}",["T_WHITESPACE","\n",76]]