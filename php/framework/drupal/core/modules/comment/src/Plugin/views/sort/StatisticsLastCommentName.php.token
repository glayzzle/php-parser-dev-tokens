[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","sort",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","sort",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SortPluginBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Sort handler to sort by last comment name which might be in 2 different\n * fields.\n *\n * @ingroup views_sort_handlers\n *\n * @ViewsSort(\"comment_ces_last_comment_name\")\n *\/",7],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","StatisticsLastCommentName",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","SortPluginBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","query",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","ensureMyTable",18],"(",")",";",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$definition",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_WHITESPACE","\n      ",19],["T_CONSTANT_ENCAPSED_STRING","'table'",20],["T_WHITESPACE"," ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'users_field_data'",20],",",["T_WHITESPACE","\n      ",20],["T_CONSTANT_ENCAPSED_STRING","'field'",21],["T_WHITESPACE"," ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'uid'",21],",",["T_WHITESPACE","\n      ",21],["T_CONSTANT_ENCAPSED_STRING","'left_table'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",22],",",["T_WHITESPACE","\n      ",22],["T_CONSTANT_ENCAPSED_STRING","'left_field'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'last_comment_uid'",23],",",["T_WHITESPACE","\n    ",23],")",";",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$join",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Drupal",25],["T_DOUBLE_COLON","::",25],["T_STRING","service",25],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.views.join'",25],")",["T_OBJECT_OPERATOR","->",25],["T_STRING","createInstance",25],"(",["T_CONSTANT_ENCAPSED_STRING","'standard'",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$definition",25],")",";",["T_WHITESPACE","\n\n    ",25],["T_COMMENT","\/\/ @todo this might be safer if we had an ensure_relationship rather than guessing\n",27],["T_WHITESPACE","    ",28],["T_COMMENT","\/\/ the table alias. Though if we did that we'd be guessing the relationship name\n",28],["T_WHITESPACE","    ",29],["T_COMMENT","\/\/ so that doesn't matter that much.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","user_table",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","query",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","ensureTable",30],"(",["T_CONSTANT_ENCAPSED_STRING","'ces_users'",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","relationship",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$join",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","user_field",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","query",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","addField",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","user_table",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'name'",31],")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Add the field.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","query",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","addOrderBy",34],"(",["T_STRING","NULL",34],",",["T_WHITESPACE"," ",34],"\"",["T_ENCAPSED_AND_WHITESPACE","LOWER(COALESCE(",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","user_table",34],["T_ENCAPSED_AND_WHITESPACE",".name, ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","tableAlias",34],["T_ENCAPSED_AND_WHITESPACE",".",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","field",34],["T_ENCAPSED_AND_WHITESPACE","))",34],"\"",",",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","options",34],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",34],"]",",",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","tableAlias",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'_'",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","field",34],")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n",35],"}",["T_WHITESPACE","\n",37]]