[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Comment",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","comment",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CommentTestTrait",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","views",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Views",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","views",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ViewTestBase",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests results for the Recent Comments view shipped with the module.\n *\n * @group comment\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","DefaultViewRecentCommentsTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","ViewTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","CommentTestTrait",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$modules",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'comment'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'block'",25],")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Number of results for the Master display.\n   *\n   * @var int\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$masterDisplayResults",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_LNUMBER","5",32],";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Number of results for the Block display.\n   *\n   * @var int\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$blockDisplayResults",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","5",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Number of results for the Page display.\n   *\n   * @var int\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$pageDisplayResults",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_LNUMBER","5",46],";",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Will hold the comments created for testing.\n   *\n   * @var array\n   *\/",48],["T_WHITESPACE","\n  ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$commentsCreated",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * Contains the node object used for comments of this test.\n   *\n   * @var \\Drupal\\node\\Node\n   *\/",55],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$node",60],";",["T_WHITESPACE","\n\n  ",60],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","setUp",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","setUp",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Create a new content type\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$content_type",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalCreateContentType",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Add a node of the new content type.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$node_data",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'type'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$content_type",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","id",70],"(",")",",",["T_WHITESPACE","\n    ",70],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","addDefaultCommentField",73],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$content_type",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","id",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","node",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","drupalCreateNode",74],"(",["T_VARIABLE","$node_data",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Force a flush of the in-memory storage.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","container",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_CONSTANT_ENCAPSED_STRING","'views.views_data'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","clear",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Create some comments and attach them to the created node.\n",79],["T_WHITESPACE","    ",80],["T_FOR","for",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$i",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_LNUMBER","0",80],";",["T_WHITESPACE"," ",80],["T_VARIABLE","$i",80],["T_WHITESPACE"," ",80],"<",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","masterDisplayResults",80],";",["T_WHITESPACE"," ",80],["T_VARIABLE","$i",80],["T_INC","++",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n      ",80],["T_DOC_COMMENT","\/** @var \\Drupal\\comment\\CommentInterface $comment *\/",81],["T_WHITESPACE","\n      ",81],["T_VARIABLE","$comment",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","Comment",82],["T_DOUBLE_COLON","::",82],["T_STRING","create",82],"(",["T_ARRAY","array",82],"(",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'status'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_STRING","CommentInterface",83],["T_DOUBLE_COLON","::",83],["T_STRING","PUBLISHED",83],",",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'field_name'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'comment'",84],",",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'node'",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","node",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")",",",["T_WHITESPACE","\n      ",86],")",")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$comment",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setOwnerId",88],"(",["T_LNUMBER","0",88],")",";",["T_WHITESPACE","\n      ",88],["T_VARIABLE","$comment",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setSubject",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Test comment '",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$i",89],")",";",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$comment",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","comment_body",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","value",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Test body '",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$i",90],";",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$comment",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","comment_body",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","format",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'full_html'",91],";",["T_WHITESPACE","\n\n      ",91],["T_COMMENT","\/\/ Ensure comments are sorted in ascending order.\n",93],["T_WHITESPACE","      ",94],["T_VARIABLE","$time",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","REQUEST_TIME",94],["T_WHITESPACE"," ",94],"+",["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","masterDisplayResults",94],["T_WHITESPACE"," ",94],"-",["T_WHITESPACE"," ",94],["T_VARIABLE","$i",94],")",";",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$comment",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setCreatedTime",95],"(",["T_VARIABLE","$time",95],")",";",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$comment",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","changed",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","value",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$time",96],";",["T_WHITESPACE","\n\n      ",96],["T_VARIABLE","$comment",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","save",98],"(",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Store all the nodes just created to access their properties on the tests.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","commentsCreated",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Comment",102],["T_DOUBLE_COLON","::",102],["T_STRING","loadMultiple",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Sort created comments in descending order.\n",104],["T_WHITESPACE","    ",105],["T_STRING","ksort",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","commentsCreated",105],",",["T_WHITESPACE"," ",105],["T_STRING","SORT_NUMERIC",105],")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Tests the block defined by the comments_recent view.\n   *\/",108],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testBlockDisplay",111],"(",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$user",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalCreateUser",112],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access comments'",112],"]",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalLogin",113],"(",["T_VARIABLE","$user",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$view",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","Views",115],["T_DOUBLE_COLON","::",115],["T_STRING","getView",115],"(",["T_CONSTANT_ENCAPSED_STRING","'comments_recent'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$view",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","setDisplay",116],"(",["T_CONSTANT_ENCAPSED_STRING","'block_1'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","executeView",117],"(",["T_VARIABLE","$view",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_VARIABLE","$map",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'subject'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'subject'",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'cid'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'cid'",121],",",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'comment_field_data_created'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'created'",122],["T_WHITESPACE","\n    ",122],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$expected_result",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",")",";",["T_WHITESPACE","\n    ",124],["T_FOREACH","foreach",125],["T_WHITESPACE"," ",125],"(",["T_STRING","array_values",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","commentsCreated",125],")",["T_WHITESPACE"," ",125],["T_AS","as",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$key",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$comment",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$expected_result",126],"[",["T_VARIABLE","$key",126],"]","[",["T_CONSTANT_ENCAPSED_STRING","'subject'",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$comment",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getSubject",126],"(",")",";",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$expected_result",127],"[",["T_VARIABLE","$key",127],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cid'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$comment",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","id",127],"(",")",";",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$expected_result",128],"[",["T_VARIABLE","$key",128],"]","[",["T_CONSTANT_ENCAPSED_STRING","'created'",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$comment",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getCreatedTime",128],"(",")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertIdenticalResultset",130],"(",["T_VARIABLE","$view",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$expected_result",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$map",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Check the number of results given by the display is the expected.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEqual",133],"(",["T_STRING","sizeof",133],"(",["T_VARIABLE","$view",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","result",133],")",",",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","blockDisplayResults",133],",",["T_WHITESPACE","\n      ",133],["T_STRING","format_string",134],"(",["T_CONSTANT_ENCAPSED_STRING","'There are exactly @results comments. Expected @expected'",134],",",["T_WHITESPACE","\n        ",134],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","'@results'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_STRING","count",135],"(",["T_VARIABLE","$view",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","result",135],")",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'@expected'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","blockDisplayResults",135],")",["T_WHITESPACE","\n      ",135],")",["T_WHITESPACE","\n    ",136],")",";",["T_WHITESPACE","\n  ",137],"}",["T_WHITESPACE","\n\n",138],"}",["T_WHITESPACE","\n",140]]