[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldType",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentItemInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormattableMarkup",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Html",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Utility",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UrlHelper",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","comment",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Comment",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Render",10],["T_NS_SEPARATOR","\\",10],["T_STRING","BubbleableMetadata",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","node",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Node",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","taxonomy",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Term",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","taxonomy",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Vocabulary",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","user",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Entity",14],["T_NS_SEPARATOR","\\",14],["T_STRING","User",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Generates text using placeholders for dummy content to check comment token\n * replacement.\n *\n * @group comment\n *\/",16],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","CommentTokenReplaceTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","CommentTestBase",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",27],"]",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Creates a comment, then tests the tokens generated from it.\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testCommentTokenReplacement",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$token_service",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Drupal",33],["T_DOUBLE_COLON","::",33],["T_STRING","token",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$language_interface",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Drupal",34],["T_DOUBLE_COLON","::",34],["T_STRING","languageManager",34],"(",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","getCurrentLanguage",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$url_options",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'absolute'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_STRING","TRUE",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'language'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$language_interface",37],",",["T_WHITESPACE","\n    ",37],")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Setup vocabulary.\n",40],["T_WHITESPACE","    ",41],["T_STRING","Vocabulary",41],["T_DOUBLE_COLON","::",41],["T_STRING","create",41],"(","[",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'vid'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'tags'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'name'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Tags'",43],",",["T_WHITESPACE","\n    ",43],"]",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","save",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Change the title of the admin user.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","adminUser",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","name",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","value",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'This is a title with some special & > \" stuff.'",47],";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","adminUser",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","save",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalLogin",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","adminUser",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Set comment variables.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","setCommentSubject",52],"(",["T_STRING","TRUE",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Create a node and a comment.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$node",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalCreateNode",55],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'article'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'title'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'<script>alert(\"123\")<\/script>'",55],"]",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$parent_comment",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","postComment",56],"(",["T_VARIABLE","$node",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",")",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",")",",",["T_WHITESPACE"," ",56],["T_STRING","TRUE",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Post a reply to the comment.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalGet",59],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$node",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","id",59],"(",")",["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$parent_comment",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","id",59],"(",")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$child_comment",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","postComment",60],"(",["T_STRING","NULL",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","randomMachineName",60],"(",")",",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","randomMachineName",60],"(",")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$comment",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","Comment",61],["T_DOUBLE_COLON","::",61],["T_STRING","load",61],"(",["T_VARIABLE","$child_comment",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","id",61],"(",")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$comment",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setHomepage",62],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.org\/'",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Add HTML to ensure that sanitation of some fields tested directly.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$comment",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setSubject",65],"(",["T_CONSTANT_ENCAPSED_STRING","'<blink>Blinking Comment<\/blink>'",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Generate and test tokens.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$tests",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$tests",69],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:cid]'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$comment",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$tests",70],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:hostname]'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$comment",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getHostname",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$tests",71],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:author]'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Html",71],["T_DOUBLE_COLON","::",71],["T_STRING","escape",71],"(",["T_VARIABLE","$comment",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getAuthorName",71],"(",")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$tests",72],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:mail]'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","adminUser",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getEmail",72],"(",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$tests",73],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:homepage]'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","UrlHelper",73],["T_DOUBLE_COLON","::",73],["T_STRING","filterBadProtocol",73],"(",["T_VARIABLE","$comment",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getHomepage",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$tests",74],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:title]'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","Html",74],["T_DOUBLE_COLON","::",74],["T_STRING","escape",74],"(",["T_VARIABLE","$comment",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getSubject",74],"(",")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$tests",75],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:body]'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$comment",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","comment_body",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","processed",75],";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$tests",76],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:langcode]'",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$comment",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","language",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getId",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$tests",77],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:url]'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$comment",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","url",77],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$url_options",77],["T_WHITESPACE"," ",77],"+",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'fragment'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'comment-'",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$comment",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","id",77],"(",")",")",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$tests",78],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:edit-url]'",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$comment",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","url",78],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$url_options",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$tests",79],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:created]'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Drupal",79],["T_DOUBLE_COLON","::",79],["T_STRING","service",79],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","format",79],"(",["T_VARIABLE","$comment",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getCreatedTime",79],"(",")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'medium'",79],",",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$language_interface",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getId",79],"(",")",")",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$tests",80],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:created:since]'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Drupal",80],["T_DOUBLE_COLON","::",80],["T_STRING","service",80],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","formatTimeDiffSince",80],"(",["T_VARIABLE","$comment",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getCreatedTime",80],"(",")",",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$language_interface",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getId",80],"(",")",")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$tests",81],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:changed:since]'",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Drupal",81],["T_DOUBLE_COLON","::",81],["T_STRING","service",81],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","formatTimeDiffSince",81],"(",["T_VARIABLE","$comment",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getChangedTimeAcrossTranslations",81],"(",")",",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$language_interface",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getId",81],"(",")",")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$tests",82],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:parent:cid]'",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$comment",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","hasParentComment",82],"(",")",["T_WHITESPACE"," ",82],"?",["T_WHITESPACE"," ",82],["T_VARIABLE","$comment",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getParentComment",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",["T_WHITESPACE"," ",82],":",["T_WHITESPACE"," ",82],["T_STRING","NULL",82],";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$tests",83],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:parent:title]'",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$parent_comment",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getSubject",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$tests",84],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:entity]'",84],"]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","Html",84],["T_DOUBLE_COLON","::",84],["T_STRING","escape",84],"(",["T_VARIABLE","$node",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getTitle",84],"(",")",")",";",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Test node specific tokens.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$tests",86],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:entity:nid]'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$comment",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getCommentedEntityId",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$tests",87],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:entity:title]'",87],"]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","Html",87],["T_DOUBLE_COLON","::",87],["T_STRING","escape",87],"(",["T_VARIABLE","$node",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getTitle",87],"(",")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$tests",88],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:author:uid]'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$comment",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getOwnerId",88],"(",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$tests",89],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:author:name]'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","Html",89],["T_DOUBLE_COLON","::",89],["T_STRING","escape",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","adminUser",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getDisplayName",89],"(",")",")",";",["T_WHITESPACE","\n\n    ",89],["T_VARIABLE","$base_bubbleable_metadata",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","BubbleableMetadata",91],["T_DOUBLE_COLON","::",91],["T_STRING","createFromObject",91],"(",["T_VARIABLE","$comment",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$metadata_tests",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[","]",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$metadata_tests",93],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:cid]'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$base_bubbleable_metadata",93],";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$metadata_tests",94],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:hostname]'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$base_bubbleable_metadata",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$bubbleable_metadata",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CLONE","clone",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$base_bubbleable_metadata",95],";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$bubbleable_metadata",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addCacheableDependency",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","adminUser",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$metadata_tests",97],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:author]'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$bubbleable_metadata",97],";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$bubbleable_metadata",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CLONE","clone",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$base_bubbleable_metadata",98],";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$bubbleable_metadata",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","addCacheableDependency",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","adminUser",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$metadata_tests",100],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:mail]'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$bubbleable_metadata",100],";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$metadata_tests",101],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:homepage]'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$base_bubbleable_metadata",101],";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$metadata_tests",102],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:title]'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$base_bubbleable_metadata",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$metadata_tests",103],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:body]'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$base_bubbleable_metadata",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$metadata_tests",104],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:langcode]'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$base_bubbleable_metadata",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$metadata_tests",105],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:url]'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$base_bubbleable_metadata",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$metadata_tests",106],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:edit-url]'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$base_bubbleable_metadata",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$bubbleable_metadata",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CLONE","clone",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$base_bubbleable_metadata",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$metadata_tests",108],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:created]'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$bubbleable_metadata",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","addCacheTags",108],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rendered'",108],"]",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$bubbleable_metadata",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CLONE","clone",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$base_bubbleable_metadata",109],";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$metadata_tests",110],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:created:since]'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$bubbleable_metadata",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setCacheMaxAge",110],"(",["T_LNUMBER","0",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$bubbleable_metadata",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_CLONE","clone",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$base_bubbleable_metadata",111],";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$metadata_tests",112],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:changed:since]'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$bubbleable_metadata",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setCacheMaxAge",112],"(",["T_LNUMBER","0",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$bubbleable_metadata",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_CLONE","clone",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$base_bubbleable_metadata",113],";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$metadata_tests",114],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:parent:cid]'",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$bubbleable_metadata",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","addCacheTags",114],"(","[",["T_CONSTANT_ENCAPSED_STRING","'comment:1'",114],"]",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$metadata_tests",115],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:parent:title]'",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$bubbleable_metadata",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$bubbleable_metadata",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_CLONE","clone",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$base_bubbleable_metadata",116],";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$metadata_tests",117],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:entity]'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$bubbleable_metadata",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","addCacheTags",117],"(","[",["T_CONSTANT_ENCAPSED_STRING","'node:2'",117],"]",")",";",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Test node specific tokens.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$metadata_tests",119],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:entity:nid]'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$bubbleable_metadata",119],";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$metadata_tests",120],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:entity:title]'",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$bubbleable_metadata",120],";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$bubbleable_metadata",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CLONE","clone",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$base_bubbleable_metadata",121],";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$metadata_tests",122],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:author:uid]'",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$bubbleable_metadata",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addCacheTags",122],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user:2'",122],"]",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$metadata_tests",123],"[",["T_CONSTANT_ENCAPSED_STRING","'[comment:author:name]'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$bubbleable_metadata",123],";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Test to make sure that we generated something for each token.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertFalse",126],"(",["T_STRING","in_array",126],"(",["T_LNUMBER","0",126],",",["T_WHITESPACE"," ",126],["T_STRING","array_map",126],"(",["T_CONSTANT_ENCAPSED_STRING","'strlen'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$tests",126],")",")",",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'No empty tokens generated.'",126],")",";",["T_WHITESPACE","\n\n    ",126],["T_FOREACH","foreach",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$tests",128],["T_WHITESPACE"," ",128],["T_AS","as",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$input",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$expected",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n      ",128],["T_VARIABLE","$bubbleable_metadata",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","BubbleableMetadata",129],"(",")",";",["T_WHITESPACE","\n      ",129],["T_VARIABLE","$output",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$token_service",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","replace",130],"(",["T_VARIABLE","$input",130],",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$comment",130],")",",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$language_interface",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getId",130],"(",")",")",",",["T_WHITESPACE"," ",130],["T_VARIABLE","$bubbleable_metadata",130],")",";",["T_WHITESPACE","\n      ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$output",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$expected",131],",",["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","FormattableMarkup",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Comment token %token replaced.'",131],",",["T_WHITESPACE"," ",131],"[",["T_CONSTANT_ENCAPSED_STRING","'%token'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$input",131],"]",")",")",";",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertEqual",132],"(",["T_VARIABLE","$bubbleable_metadata",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$metadata_tests",132],"[",["T_VARIABLE","$input",132],"]",")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_COMMENT","\/\/ Test anonymous comment author.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$author_name",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'This is a random & \" > string'",136],";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$comment",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setOwnerId",137],"(",["T_LNUMBER","0",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","setAuthorName",137],"(",["T_VARIABLE","$author_name",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$input",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'[comment:author]'",138],";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$output",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$token_service",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","replace",139],"(",["T_VARIABLE","$input",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$comment",139],")",",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$language_interface",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getId",139],"(",")",")",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEqual",140],"(",["T_VARIABLE","$output",140],",",["T_WHITESPACE"," ",140],["T_STRING","Html",140],["T_DOUBLE_COLON","::",140],["T_STRING","escape",140],"(",["T_VARIABLE","$author_name",140],")",",",["T_WHITESPACE"," ",140],["T_STRING","format_string",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Comment author token %token replaced.'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'%token'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$input",140],")",")",")",";",["T_WHITESPACE","\n    ",140],["T_COMMENT","\/\/ Add comment field to user and term entities.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addDefaultCommentField",142],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'user'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'comment'",142],",",["T_WHITESPACE"," ",142],["T_STRING","CommentItemInterface",142],["T_DOUBLE_COLON","::",142],["T_STRING","OPEN",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'comment_user'",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","addDefaultCommentField",143],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'tags'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'comment'",143],",",["T_WHITESPACE"," ",143],["T_STRING","CommentItemInterface",143],["T_DOUBLE_COLON","::",143],["T_STRING","OPEN",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'comment_term'",143],")",";",["T_WHITESPACE","\n\n    ",143],["T_COMMENT","\/\/ Create a user and a comment.\n",145],["T_WHITESPACE","    ",146],["T_VARIABLE","$user",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","User",146],["T_DOUBLE_COLON","::",146],["T_STRING","create",146],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'alice'",146],"]",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$user",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","save",147],"(",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","postComment",148],"(",["T_VARIABLE","$user",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'user body'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'user subject'",148],",",["T_WHITESPACE"," ",148],["T_STRING","TRUE",148],")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Create a term and a comment.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$term",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","Term",151],["T_DOUBLE_COLON","::",151],["T_STRING","create",151],"(","[",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'vid'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'tags'",152],",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'name'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'term'",153],",",["T_WHITESPACE","\n    ",153],"]",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$term",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","save",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","postComment",156],"(",["T_VARIABLE","$term",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'term body'",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'term subject'",156],",",["T_WHITESPACE"," ",156],["T_STRING","TRUE",156],")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Load node, user and term again so comment_count gets computed.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$node",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","Node",159],["T_DOUBLE_COLON","::",159],["T_STRING","load",159],"(",["T_VARIABLE","$node",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","id",159],"(",")",")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$user",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","User",160],["T_DOUBLE_COLON","::",160],["T_STRING","load",160],"(",["T_VARIABLE","$user",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","id",160],"(",")",")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$term",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","Term",161],["T_DOUBLE_COLON","::",161],["T_STRING","load",161],"(",["T_VARIABLE","$term",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","id",161],"(",")",")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Generate comment tokens for node (it has 2 comments, both new),\n",163],["T_WHITESPACE","    ",164],["T_COMMENT","\/\/ user and term.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$tests",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$tests",166],"[",["T_CONSTANT_ENCAPSED_STRING","'[entity:comment-count]'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_LNUMBER","2",166],";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$tests",167],"[",["T_CONSTANT_ENCAPSED_STRING","'[entity:comment-count-new]'",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_LNUMBER","2",167],";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$tests",168],"[",["T_CONSTANT_ENCAPSED_STRING","'[node:comment-count]'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_LNUMBER","2",168],";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$tests",169],"[",["T_CONSTANT_ENCAPSED_STRING","'[node:comment-count-new]'",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_LNUMBER","2",169],";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$tests",170],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:comment-count]'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_LNUMBER","1",170],";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$tests",171],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:comment-count-new]'",171],"]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_LNUMBER","1",171],";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$tests",172],"[",["T_CONSTANT_ENCAPSED_STRING","'[term:comment-count]'",172],"]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_LNUMBER","1",172],";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$tests",173],"[",["T_CONSTANT_ENCAPSED_STRING","'[term:comment-count-new]'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_LNUMBER","1",173],";",["T_WHITESPACE","\n\n    ",173],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$tests",175],["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$input",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$expected",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$output",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$token_service",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","replace",176],"(",["T_VARIABLE","$input",176],",",["T_WHITESPACE"," ",176],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$node",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'node'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$node",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'user'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$user",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'term'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$term",176],"]",",",["T_WHITESPACE"," ",176],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$language_interface",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getId",176],"(",")","]",")",";",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEqual",177],"(",["T_VARIABLE","$output",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$expected",177],",",["T_WHITESPACE"," ",177],["T_STRING","format_string",177],"(",["T_CONSTANT_ENCAPSED_STRING","'Comment token %token replaced.'",177],",",["T_WHITESPACE"," ",177],"[",["T_CONSTANT_ENCAPSED_STRING","'%token'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$input",177],"]",")",")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n  ",178],"}",["T_WHITESPACE","\n\n",179],"}",["T_WHITESPACE","\n",181]]