[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Comment",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RoleInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests comment statistics on nodes.\n *\n * @group comment\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","CommentStatisticsTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","CommentTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * A secondary user for posting comments.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$webUser2",21],";",["T_WHITESPACE","\n\n  ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_STRING","parent",24],["T_DOUBLE_COLON","::",24],["T_STRING","setUp",24],"(",")",";",["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/\/ Create a second user to post comments.\n",26],["T_WHITESPACE","    ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","webUser2",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalCreateUser",27],"(",["T_ARRAY","array",27],"(",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'post comments'",28],",",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'create article content'",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'edit own comments'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'post comments'",31],",",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",32],",",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'access comments'",33],",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'access content'",34],",",["T_WHITESPACE","\n    ",34],")",")",";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Tests the node comment statistics.\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testCommentNodeCommentStatistics",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$node_storage",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","container",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","getStorage",42],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",42],")",";",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ Set comments to have subject and preview disabled.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalLogin",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","adminUser",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setCommentPreview",45],"(",["T_STRING","DRUPAL_DISABLED",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setCommentForm",46],"(",["T_STRING","TRUE",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setCommentSubject",47],"(",["T_STRING","FALSE",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setCommentSettings",48],"(",["T_CONSTANT_ENCAPSED_STRING","'default_mode'",48],",",["T_WHITESPACE"," ",48],["T_STRING","CommentManagerInterface",48],["T_DOUBLE_COLON","::",48],["T_STRING","COMMENT_MODE_THREADED",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Comment paging changed.'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalLogout",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Checks the initial values of node comment statistics with no comment.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$node",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$node_storage",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","load",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","node",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","id",52],"(",")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_VARIABLE","$node",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","last_comment_timestamp",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","node",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getCreatedTime",53],"(",")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'The initial value of node last_comment_timestamp is the node created date.'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEqual",54],"(",["T_VARIABLE","$node",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","last_comment_name",54],",",["T_WHITESPACE"," ",54],["T_STRING","NULL",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'The initial value of node last_comment_name is NULL.'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEqual",55],"(",["T_VARIABLE","$node",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","last_comment_uid",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","webUser",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","id",55],"(",")",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'The initial value of node last_comment_uid is the node uid.'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEqual",56],"(",["T_VARIABLE","$node",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","comment_count",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'The initial value of node comment_count is zero.'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Post comment #1 as web_user2.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalLogin",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","webUser2",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$comment_text",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","randomMachineName",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","postComment",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","node",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$comment_text",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Checks the new values of node comment statistics with comment #1.\n",63],["T_WHITESPACE","    ",64],["T_COMMENT","\/\/ The node cache needs to be reset before reload.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$node_storage",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","resetCache",65],"(",["T_ARRAY","array",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","node",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","id",65],"(",")",")",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$node",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$node_storage",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","load",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","node",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$node",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","get",67],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","last_comment_name",67],",",["T_WHITESPACE"," ",67],["T_STRING","NULL",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'The value of node last_comment_name is NULL.'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEqual",68],"(",["T_VARIABLE","$node",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","last_comment_uid",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","webUser2",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","id",68],"(",")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'The value of node last_comment_uid is the comment #1 uid.'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_VARIABLE","$node",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","comment_count",69],",",["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'The value of node comment_count is 1.'",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Prepare for anonymous comment submission (comment approval enabled).\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalLogin",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","adminUser",72],")",";",["T_WHITESPACE","\n    ",72],["T_STRING","user_role_change_permissions",73],"(",["T_STRING","RoleInterface",73],["T_DOUBLE_COLON","::",73],["T_STRING","ANONYMOUS_ID",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'access comments'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_STRING","TRUE",74],",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'post comments'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","TRUE",75],",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_STRING","FALSE",76],",",["T_WHITESPACE","\n    ",76],")",")",";",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Ensure that the poster can leave some contact info.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setCommentAnonymous",79],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalLogout",80],"(",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Post comment #2 as anonymous (comment approval enabled).\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalGet",83],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","node",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","id",83],"(",")",["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$anonymous_comment",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","postComment",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","node",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","randomMachineName",84],"(",")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","''",84],",",["T_WHITESPACE"," ",84],["T_STRING","TRUE",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Checks the new values of node comment statistics with comment #2 and\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ ensure they haven't changed since the comment has not been moderated.\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ The node needs to be reloaded with the cache reset.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$node_storage",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","resetCache",89],"(",["T_ARRAY","array",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","node",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","id",89],"(",")",")",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$node",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$node_storage",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","load",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","node",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","id",90],"(",")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertEqual",91],"(",["T_VARIABLE","$node",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","last_comment_name",91],",",["T_WHITESPACE"," ",91],["T_STRING","NULL",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'The value of node last_comment_name is still NULL.'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEqual",92],"(",["T_VARIABLE","$node",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","last_comment_uid",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","webUser2",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","id",92],"(",")",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'The value of node last_comment_uid is still the comment #1 uid.'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$node",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","get",93],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","comment_count",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'The value of node comment_count is still 1.'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Prepare for anonymous comment submission (no approval required).\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalLogin",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","adminUser",96],")",";",["T_WHITESPACE","\n    ",96],["T_STRING","user_role_change_permissions",97],"(",["T_STRING","RoleInterface",97],["T_DOUBLE_COLON","::",97],["T_STRING","ANONYMOUS_ID",97],",",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'access comments'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","TRUE",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'post comments'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","TRUE",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_STRING","TRUE",100],",",["T_WHITESPACE","\n    ",100],")",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","drupalLogout",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Post comment #3 as anonymous.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalGet",105],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","node",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","id",105],"(",")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$anonymous_comment",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","postComment",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","node",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","randomMachineName",106],"(",")",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","randomMachineName",106],"(",")",")",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$comment_loaded",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","Comment",107],["T_DOUBLE_COLON","::",107],["T_STRING","load",107],"(",["T_VARIABLE","$anonymous_comment",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","id",107],"(",")",")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Checks the new values of node comment statistics with comment #3.\n",109],["T_WHITESPACE","    ",110],["T_COMMENT","\/\/ The node needs to be reloaded with the cache reset.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$node_storage",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","resetCache",111],"(",["T_ARRAY","array",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","node",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","id",111],"(",")",")",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$node",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$node_storage",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","load",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","node",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","id",112],"(",")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEqual",113],"(",["T_VARIABLE","$node",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","get",113],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","last_comment_name",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$comment_loaded",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getAuthorName",113],"(",")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'The value of node last_comment_name is the name of the anonymous user.'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertEqual",114],"(",["T_VARIABLE","$node",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","last_comment_uid",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'The value of node last_comment_uid is zero.'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertEqual",115],"(",["T_VARIABLE","$node",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","get",115],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","comment_count",115],",",["T_WHITESPACE"," ",115],["T_LNUMBER","2",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'The value of node comment_count is 2.'",115],")",";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n",116],"}",["T_WHITESPACE","\n",118]]