[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentType",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Comment",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","comment",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CommentInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","comment",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldType",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CommentItemInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","node",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","NodeType",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","simpletest",11],["T_NS_SEPARATOR","\\",11],["T_STRING","WebTestBase",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Provides setup and helper methods for comment tests.\n *\/",13],["T_WHITESPACE","\n",15],["T_ABSTRACT","abstract",16],["T_WHITESPACE"," ",16],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","CommentTestBase",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","WebTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","CommentTestTrait",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$modules",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'comment'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'node'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'history'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'datetime'",25],"]",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * An administrative user with permission to configure comment settings.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$adminUser",32],";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * A normal user with permission to post comments.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$webUser",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * A test node to which comments will be posted.\n   *\n   * @var \\Drupal\\node\\NodeInterface\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$node",46],";",["T_WHITESPACE","\n\n  ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","setUp",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_STRING","parent",49],["T_DOUBLE_COLON","::",49],["T_STRING","setUp",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Create an article content type only if it does not yet exist, so that\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ child classes may specify the standard profile.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$types",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","NodeType",53],["T_DOUBLE_COLON","::",53],["T_STRING","loadMultiple",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_EMPTY","empty",54],"(",["T_VARIABLE","$types",54],"[",["T_CONSTANT_ENCAPSED_STRING","'article'",54],"]",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalCreateContentType",55],"(",["T_ARRAY","array",55],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'article'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'name'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","t",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Article'",55],")",")",")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Create two test users.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","adminUser",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalCreateUser",59],"(",["T_ARRAY","array",59],"(",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'administer comment types'",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'administer comment fields'",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'administer comment display'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'post comments'",66],",",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'access comments'",67],",",["T_WHITESPACE","\n      ",67],["T_COMMENT","\/\/ Usernames aren't shown in comment edit form autocomplete unless this\n",68],["T_WHITESPACE","      ",69],["T_COMMENT","\/\/ permission is granted.\n",69],["T_WHITESPACE","      ",70],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",70],",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'access content'",71],",",["T_WHITESPACE","\n     ",71],")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","webUser",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalCreateUser",73],"(",["T_ARRAY","array",73],"(",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'access comments'",74],",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'post comments'",75],",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'create article content'",76],",",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'edit own comments'",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'access content'",79],",",["T_WHITESPACE","\n    ",79],")",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Create comment field on article.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","addDefaultCommentField",83],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'article'",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Create a test node authored by the web user.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","node",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalCreateNode",86],"(",["T_ARRAY","array",86],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'article'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'promote'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_LNUMBER","1",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'uid'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","webUser",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")",")",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalPlaceBlock",87],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",87],")",";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * Posts a comment.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface|null $entity\n   *   Node to post comment on or NULL to post to the previously loaded page.\n   * @param string $comment\n   *   Comment body.\n   * @param string $subject\n   *   Comment subject.\n   * @param string $contact\n   *   Set to NULL for no contact info, TRUE to ignore success checking, and\n   *   array of values to set contact info.\n   * @param string $field_name\n   *   (optional) Field name through which the comment should be posted.\n   *   Defaults to 'comment'.\n   *\n   * @return \\Drupal\\comment\\CommentInterface|null\n   *   The posted comment or NULL when posted comment was not found.\n   *\/",90],["T_WHITESPACE","\n  ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","postComment",109],"(",["T_VARIABLE","$entity",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$comment",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$subject",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","''",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$contact",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","NULL",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$field_name",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'comment'",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$edit",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$edit",111],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$comment",111],";",["T_WHITESPACE","\n\n    ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$entity",113],["T_WHITESPACE"," ",113],["T_IS_NOT_IDENTICAL","!==",113],["T_WHITESPACE"," ",113],["T_STRING","NULL",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$field",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","FieldConfig",114],["T_DOUBLE_COLON","::",114],["T_STRING","loadByName",114],"(",["T_VARIABLE","$entity",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getEntityTypeId",114],"(",")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$entity",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","bundle",114],"(",")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$field_name",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n    ",115],["T_ELSE","else",116],["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$field",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","FieldConfig",117],["T_DOUBLE_COLON","::",117],["T_STRING","loadByName",117],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'article'",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$field_name",117],")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$preview_mode",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$field",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getSetting",119],"(",["T_CONSTANT_ENCAPSED_STRING","'preview'",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Must get the page before we test for fields.\n",121],["T_WHITESPACE","    ",122],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$entity",122],["T_WHITESPACE"," ",122],["T_IS_NOT_IDENTICAL","!==",122],["T_WHITESPACE"," ",122],["T_STRING","NULL",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n      ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","drupalGet",123],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$entity",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getEntityTypeId",123],"(",")",["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'\/'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$entity",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","id",123],"(",")",["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'\/'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$field_name",123],")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Determine the visibility of subject form field.\n",126],["T_WHITESPACE","    ",127],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_STRING","entity_get_form_display",127],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'comment'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'default'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getComponent",127],"(",["T_CONSTANT_ENCAPSED_STRING","'subject'",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n      ",127],["T_COMMENT","\/\/ Subject input allowed.\n",128],["T_WHITESPACE","      ",129],["T_VARIABLE","$edit",129],"[",["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$subject",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n    ",130],["T_ELSE","else",131],["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertNoFieldByName",132],"(",["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","''",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Subject field not found.'",132],")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$contact",135],["T_WHITESPACE"," ",135],["T_IS_NOT_IDENTICAL","!==",135],["T_WHITESPACE"," ",135],["T_STRING","NULL",135],["T_WHITESPACE"," ",135],["T_BOOLEAN_AND","&&",135],["T_WHITESPACE"," ",135],["T_STRING","is_array",135],"(",["T_VARIABLE","$contact",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_VARIABLE","$edit",136],["T_WHITESPACE"," ",136],["T_PLUS_EQUAL","+=",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$contact",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n    ",137],["T_SWITCH","switch",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$preview_mode",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n      ",138],["T_CASE","case",139],["T_WHITESPACE"," ",139],["T_STRING","DRUPAL_REQUIRED",139],":",["T_WHITESPACE","\n        ",139],["T_COMMENT","\/\/ Preview required so no save button should be found.\n",140],["T_WHITESPACE","        ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertNoFieldByName",141],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",141],",",["T_WHITESPACE"," ",141],["T_STRING","t",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",141],")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Save button not found.'",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","drupalPostForm",142],"(",["T_STRING","NULL",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$edit",142],",",["T_WHITESPACE"," ",142],["T_STRING","t",142],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview'",142],")",")",";",["T_WHITESPACE","\n        ",142],["T_COMMENT","\/\/ Don't break here so that we can test post-preview field presence and\n",143],["T_WHITESPACE","        ",144],["T_COMMENT","\/\/ function below.\n",144],["T_WHITESPACE","      ",145],["T_CASE","case",145],["T_WHITESPACE"," ",145],["T_STRING","DRUPAL_OPTIONAL",145],":",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertFieldByName",146],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",146],",",["T_WHITESPACE"," ",146],["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview'",146],")",",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'Preview button found.'",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertFieldByName",147],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",147],",",["T_WHITESPACE"," ",147],["T_STRING","t",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",147],")",",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Save button found.'",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","drupalPostForm",148],"(",["T_STRING","NULL",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$edit",148],",",["T_WHITESPACE"," ",148],["T_STRING","t",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",148],")",")",";",["T_WHITESPACE","\n        ",148],["T_BREAK","break",149],";",["T_WHITESPACE","\n\n      ",149],["T_CASE","case",151],["T_WHITESPACE"," ",151],["T_STRING","DRUPAL_DISABLED",151],":",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertNoFieldByName",152],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",152],",",["T_WHITESPACE"," ",152],["T_STRING","t",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview'",152],")",",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'Preview button not found.'",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertFieldByName",153],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",153],",",["T_WHITESPACE"," ",153],["T_STRING","t",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",153],")",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Save button found.'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","drupalPostForm",154],"(",["T_STRING","NULL",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$edit",154],",",["T_WHITESPACE"," ",154],["T_STRING","t",154],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",154],")",")",";",["T_WHITESPACE","\n        ",154],["T_BREAK","break",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$match",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",")",";",["T_WHITESPACE","\n    ",157],["T_COMMENT","\/\/ Get comment ID\n",158],["T_WHITESPACE","    ",159],["T_STRING","preg_match",159],"(",["T_CONSTANT_ENCAPSED_STRING","'\/#comment-([0-9]+)\/'",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getURL",159],"(",")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$match",159],")",";",["T_WHITESPACE","\n\n    ",159],["T_COMMENT","\/\/ Get comment.\n",161],["T_WHITESPACE","    ",162],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$contact",162],["T_WHITESPACE"," ",162],["T_IS_NOT_IDENTICAL","!==",162],["T_WHITESPACE"," ",162],["T_STRING","TRUE",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE"," ",162],["T_COMMENT","\/\/ If true then attempting to find error message.\n",162],["T_WHITESPACE","      ",163],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$subject",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertText",164],"(",["T_VARIABLE","$subject",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Comment subject posted.'",164],")",";",["T_WHITESPACE","\n      ",164],"}",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertText",166],"(",["T_VARIABLE","$comment",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'Comment body posted.'",166],")",";",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertTrue",167],"(","(","!",["T_EMPTY","empty",167],"(",["T_VARIABLE","$match",167],")",["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],"!",["T_EMPTY","empty",167],"(",["T_VARIABLE","$match",167],"[",["T_LNUMBER","1",167],"]",")",")",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'Comment id found.'",167],")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_ISSET","isset",170],"(",["T_VARIABLE","$match",170],"[",["T_LNUMBER","1",170],"]",")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n      ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Drupal",171],["T_DOUBLE_COLON","::",171],["T_STRING","entityManager",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","getStorage",171],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","resetCache",171],"(",["T_ARRAY","array",171],"(",["T_VARIABLE","$match",171],"[",["T_LNUMBER","1",171],"]",")",")",";",["T_WHITESPACE","\n      ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_STRING","Comment",172],["T_DOUBLE_COLON","::",172],["T_STRING","load",172],"(",["T_VARIABLE","$match",172],"[",["T_LNUMBER","1",172],"]",")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n  ",173],"}",["T_WHITESPACE","\n\n  ",174],["T_DOC_COMMENT","\/**\n   * Checks current page for specified comment.\n   *\n   * @param \\Drupal\\comment\\CommentInterface $comment\n   *   The comment object.\n   * @param bool $reply\n   *   Boolean indicating whether the comment is a reply to another comment.\n   *\n   * @return bool\n   *   Boolean indicating whether the comment was found.\n   *\/",176],["T_WHITESPACE","\n  ",186],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","commentExists",187],"(",["T_STRING","CommentInterface",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$comment",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","NULL",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$reply",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","FALSE",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n    ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$comment",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n      ",188],["T_VARIABLE","$comment_element",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","cssSelect",189],"(",["T_CONSTANT_ENCAPSED_STRING","'.comment-wrapper '",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$reply",189],["T_WHITESPACE"," ",189],"?",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'.indented '",189],["T_WHITESPACE"," ",189],":",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","''",189],")",["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'#comment-'",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_VARIABLE","$comment",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","id",189],"(",")",["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","' ~ article'",189],")",";",["T_WHITESPACE","\n      ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_EMPTY","empty",190],"(",["T_VARIABLE","$comment_element",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n        ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_STRING","FALSE",191],";",["T_WHITESPACE","\n      ",191],"}",["T_WHITESPACE","\n\n      ",192],["T_VARIABLE","$comment_title",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$comment_element",194],"[",["T_LNUMBER","0",194],"]",["T_OBJECT_OPERATOR","->",194],["T_STRING","xpath",194],"(",["T_CONSTANT_ENCAPSED_STRING","'div\/h3\/a'",194],")",";",["T_WHITESPACE","\n      ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_EMPTY","empty",195],"(",["T_VARIABLE","$comment_title",195],")",["T_WHITESPACE"," ",195],["T_BOOLEAN_OR","||",195],["T_WHITESPACE"," ",195],"(",["T_STRING_CAST","(string)",195],["T_VARIABLE","$comment_title",195],"[",["T_LNUMBER","0",195],"]",")",["T_WHITESPACE"," ",195],["T_IS_NOT_IDENTICAL","!==",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$comment",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getSubject",195],"(",")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","FALSE",196],";",["T_WHITESPACE","\n      ",196],"}",["T_WHITESPACE","\n\n      ",197],["T_VARIABLE","$comment_body",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$comment_element",199],"[",["T_LNUMBER","0",199],"]",["T_OBJECT_OPERATOR","->",199],["T_STRING","xpath",199],"(",["T_CONSTANT_ENCAPSED_STRING","'div\/div\/p'",199],")",";",["T_WHITESPACE","\n      ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_EMPTY","empty",200],"(",["T_VARIABLE","$comment_body",200],")",["T_WHITESPACE"," ",200],["T_BOOLEAN_OR","||",200],["T_WHITESPACE"," ",200],"(",["T_STRING_CAST","(string)",200],["T_VARIABLE","$comment_body",200],"[",["T_LNUMBER","0",200],"]",")",["T_WHITESPACE"," ",200],["T_IS_NOT_IDENTICAL","!==",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$comment",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","comment_body",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","value",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_STRING","FALSE",201],";",["T_WHITESPACE","\n      ",201],"}",["T_WHITESPACE","\n\n      ",202],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_STRING","TRUE",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n    ",205],["T_ELSE","else",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n      ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_STRING","FALSE",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n  ",209],["T_DOC_COMMENT","\/**\n   * Deletes a comment.\n   *\n   * @param \\Drupal\\comment\\CommentInterface $comment\n   *   Comment to delete.\n   *\/",211],["T_WHITESPACE","\n  ",216],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","deleteComment",217],"(",["T_STRING","CommentInterface",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$comment",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","drupalPostForm",218],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/'",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$comment",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","id",218],"(",")",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",")",",",["T_WHITESPACE"," ",218],["T_STRING","t",218],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",218],")",")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertText",219],"(",["T_STRING","t",219],"(",["T_CONSTANT_ENCAPSED_STRING","'The comment and all its replies have been deleted.'",219],")",",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'Comment deleted.'",219],")",";",["T_WHITESPACE","\n  ",219],"}",["T_WHITESPACE","\n\n  ",220],["T_DOC_COMMENT","\/**\n   * Sets the value governing whether the subject field should be enabled.\n   *\n   * @param bool $enabled\n   *   Boolean specifying whether the subject field should be enabled.\n   *\/",222],["T_WHITESPACE","\n  ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","setCommentSubject",228],"(",["T_VARIABLE","$enabled",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$form_display",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_STRING","entity_get_form_display",229],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'comment'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'default'",229],")",";",["T_WHITESPACE","\n    ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$enabled",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n      ",230],["T_VARIABLE","$form_display",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setComponent",231],"(",["T_CONSTANT_ENCAPSED_STRING","'subject'",231],",",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_WHITESPACE","\n        ",231],["T_CONSTANT_ENCAPSED_STRING","'type'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'string_textfield'",232],",",["T_WHITESPACE","\n      ",232],")",")",";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n    ",234],["T_ELSE","else",235],["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n      ",235],["T_VARIABLE","$form_display",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","removeComponent",236],"(",["T_CONSTANT_ENCAPSED_STRING","'subject'",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$form_display",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","save",238],"(",")",";",["T_WHITESPACE","\n    ",238],["T_COMMENT","\/\/ Display status message.\n",239],["T_WHITESPACE","    ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","pass",240],"(",["T_CONSTANT_ENCAPSED_STRING","'Comment subject '",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$enabled",240],["T_WHITESPACE"," ",240],"?",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'enabled'",240],["T_WHITESPACE"," ",240],":",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'disabled'",240],")",["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'.'",240],")",";",["T_WHITESPACE","\n  ",240],"}",["T_WHITESPACE","\n\n  ",241],["T_DOC_COMMENT","\/**\n   * Sets the value governing the previewing mode for the comment form.\n   *\n   * @param int $mode\n   *   The preview mode: DRUPAL_DISABLED, DRUPAL_OPTIONAL or DRUPAL_REQUIRED.\n   * @param string $field_name\n   *   (optional) Field name through which the comment should be posted.\n   *   Defaults to 'comment'.\n   *\/",243],["T_WHITESPACE","\n  ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","setCommentPreview",252],"(",["T_VARIABLE","$mode",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$field_name",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'comment'",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n    ",252],["T_SWITCH","switch",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$mode",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n      ",253],["T_CASE","case",254],["T_WHITESPACE"," ",254],["T_STRING","DRUPAL_DISABLED",254],":",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$mode_text",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'disabled'",255],";",["T_WHITESPACE","\n        ",255],["T_BREAK","break",256],";",["T_WHITESPACE","\n\n      ",256],["T_CASE","case",258],["T_WHITESPACE"," ",258],["T_STRING","DRUPAL_OPTIONAL",258],":",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$mode_text",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'optional'",259],";",["T_WHITESPACE","\n        ",259],["T_BREAK","break",260],";",["T_WHITESPACE","\n\n      ",260],["T_CASE","case",262],["T_WHITESPACE"," ",262],["T_STRING","DRUPAL_REQUIRED",262],":",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$mode_text",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'required'",263],";",["T_WHITESPACE","\n        ",263],["T_BREAK","break",264],";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","setCommentSettings",266],"(",["T_CONSTANT_ENCAPSED_STRING","'preview'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$mode",266],",",["T_WHITESPACE"," ",266],["T_STRING","format_string",266],"(",["T_CONSTANT_ENCAPSED_STRING","'Comment preview @mode_text.'",266],",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'@mode_text'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$mode_text",266],")",")",",",["T_WHITESPACE"," ",266],["T_VARIABLE","$field_name",266],")",";",["T_WHITESPACE","\n  ",266],"}",["T_WHITESPACE","\n\n  ",267],["T_DOC_COMMENT","\/**\n   * Sets the value governing whether the comment form is on its own page.\n   *\n   * @param bool $enabled\n   *   TRUE if the comment form should be displayed on the same page as the\n   *   comments; FALSE if it should be displayed on its own page.\n   * @param string $field_name\n   *   (optional) Field name through which the comment should be posted.\n   *   Defaults to 'comment'.\n   *\/",269],["T_WHITESPACE","\n  ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","setCommentForm",279],"(",["T_VARIABLE","$enabled",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$field_name",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'comment'",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","setCommentSettings",280],"(",["T_CONSTANT_ENCAPSED_STRING","'form_location'",280],",",["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$enabled",280],["T_WHITESPACE"," ",280],"?",["T_WHITESPACE"," ",280],["T_STRING","CommentItemInterface",280],["T_DOUBLE_COLON","::",280],["T_STRING","FORM_BELOW",280],["T_WHITESPACE"," ",280],":",["T_WHITESPACE"," ",280],["T_STRING","CommentItemInterface",280],["T_DOUBLE_COLON","::",280],["T_STRING","FORM_SEPARATE_PAGE",280],")",",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'Comment controls '",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$enabled",280],["T_WHITESPACE"," ",280],"?",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'enabled'",280],["T_WHITESPACE"," ",280],":",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'disabled'",280],")",["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'.'",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$field_name",280],")",";",["T_WHITESPACE","\n  ",280],"}",["T_WHITESPACE","\n\n  ",281],["T_DOC_COMMENT","\/**\n   * Sets the value governing restrictions on anonymous comments.\n   *\n   * @param int $level\n   *   The level of the contact information allowed for anonymous comments:\n   *   - 0: No contact information allowed.\n   *   - 1: Contact information allowed but not required.\n   *   - 2: Contact information required.\n   *\/",283],["T_WHITESPACE","\n  ",291],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","setCommentAnonymous",292],"(",["T_VARIABLE","$level",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","setCommentSettings",293],"(",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$level",293],",",["T_WHITESPACE"," ",293],["T_STRING","format_string",293],"(",["T_CONSTANT_ENCAPSED_STRING","'Anonymous commenting set to level @level.'",293],",",["T_WHITESPACE"," ",293],["T_ARRAY","array",293],"(",["T_CONSTANT_ENCAPSED_STRING","'@level'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$level",293],")",")",")",";",["T_WHITESPACE","\n  ",293],"}",["T_WHITESPACE","\n\n  ",294],["T_DOC_COMMENT","\/**\n   * Sets the value specifying the default number of comments per page.\n   *\n   * @param int $number\n   *   Comments per page value.\n   * @param string $field_name\n   *   (optional) Field name through which the comment should be posted.\n   *   Defaults to 'comment'.\n   *\/",296],["T_WHITESPACE","\n  ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","setCommentsPerPage",305],"(",["T_VARIABLE","$number",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$field_name",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'comment'",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","setCommentSettings",306],"(",["T_CONSTANT_ENCAPSED_STRING","'per_page'",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$number",306],",",["T_WHITESPACE"," ",306],["T_STRING","format_string",306],"(",["T_CONSTANT_ENCAPSED_STRING","'Number of comments per page set to @number.'",306],",",["T_WHITESPACE"," ",306],["T_ARRAY","array",306],"(",["T_CONSTANT_ENCAPSED_STRING","'@number'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$number",306],")",")",",",["T_WHITESPACE"," ",306],["T_VARIABLE","$field_name",306],")",";",["T_WHITESPACE","\n  ",306],"}",["T_WHITESPACE","\n\n  ",307],["T_DOC_COMMENT","\/**\n   * Sets a comment settings variable for the article content type.\n   *\n   * @param string $name\n   *   Name of variable.\n   * @param string $value\n   *   Value of variable.\n   * @param string $message\n   *   Status message to display.\n   * @param string $field_name\n   *   (optional) Field name through which the comment should be posted.\n   *   Defaults to 'comment'.\n   *\/",309],["T_WHITESPACE","\n  ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","setCommentSettings",322],"(",["T_VARIABLE","$name",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$value",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$message",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$field_name",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'comment'",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$field",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","FieldConfig",323],["T_DOUBLE_COLON","::",323],["T_STRING","loadByName",323],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",323],",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'article'",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$field_name",323],")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$field",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","setSetting",324],"(",["T_VARIABLE","$name",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$value",324],")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$field",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","save",325],"(",")",";",["T_WHITESPACE","\n    ",325],["T_COMMENT","\/\/ Display status message.\n",326],["T_WHITESPACE","    ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","pass",327],"(",["T_VARIABLE","$message",327],")",";",["T_WHITESPACE","\n  ",327],"}",["T_WHITESPACE","\n\n  ",328],["T_DOC_COMMENT","\/**\n   * Checks whether the commenter's contact information is displayed.\n   *\n   * @return bool\n   *   Contact info is available.\n   *\/",330],["T_WHITESPACE","\n  ",335],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","commentContactInfoAvailable",336],"(",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n    ",336],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_STRING","preg_match",337],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(input).*?(name=\"name\").*?(input).*?(name=\"mail\").*?(input).*?(name=\"homepage\")\/s'",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getRawContent",337],"(",")",")",";",["T_WHITESPACE","\n  ",337],"}",["T_WHITESPACE","\n\n  ",338],["T_DOC_COMMENT","\/**\n   * Performs the specified operation on the specified comment.\n   *\n   * @param \\Drupal\\comment\\CommentInterface $comment\n   *   Comment to perform operation on.\n   * @param string $operation\n   *   Operation to perform.\n   * @param bool $approval\n   *   Operation is found on approval page.\n   *\/",340],["T_WHITESPACE","\n  ",349],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","performCommentOperation",350],"(",["T_STRING","CommentInterface",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$comment",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$operation",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$approval",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","FALSE",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n    ",350],["T_VARIABLE","$edit",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_ARRAY","array",351],"(",")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$edit",352],"[",["T_CONSTANT_ENCAPSED_STRING","'operation'",352],"]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$operation",352],";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$edit",353],"[",["T_CONSTANT_ENCAPSED_STRING","'comments['",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_VARIABLE","$comment",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","id",353],"(",")",["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","']'",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","TRUE",353],";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","drupalPostForm",354],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/content\/comment'",354],["T_WHITESPACE"," ",354],".",["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$approval",354],["T_WHITESPACE"," ",354],"?",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'\/approval'",354],["T_WHITESPACE"," ",354],":",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","''",354],")",",",["T_WHITESPACE"," ",354],["T_VARIABLE","$edit",354],",",["T_WHITESPACE"," ",354],["T_STRING","t",354],"(",["T_CONSTANT_ENCAPSED_STRING","'Update'",354],")",")",";",["T_WHITESPACE","\n\n    ",354],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$operation",356],["T_WHITESPACE"," ",356],["T_IS_EQUAL","==",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'delete'",356],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n      ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","drupalPostForm",357],"(",["T_STRING","NULL",357],",",["T_WHITESPACE"," ",357],["T_ARRAY","array",357],"(",")",",",["T_WHITESPACE"," ",357],["T_STRING","t",357],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete comments'",357],")",")",";",["T_WHITESPACE","\n      ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","assertRaw",358],"(",["T_NS_SEPARATOR","\\",358],["T_STRING","Drupal",358],["T_DOUBLE_COLON","::",358],["T_STRING","translation",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","formatPlural",358],"(",["T_LNUMBER","1",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'Deleted 1 comment.'",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'Deleted @count comments.'",358],")",",",["T_WHITESPACE"," ",358],["T_STRING","format_string",358],"(",["T_CONSTANT_ENCAPSED_STRING","'Operation \"@operation\" was performed on comment.'",358],",",["T_WHITESPACE"," ",358],["T_ARRAY","array",358],"(",["T_CONSTANT_ENCAPSED_STRING","'@operation'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$operation",358],")",")",")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n    ",359],["T_ELSE","else",360],["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n      ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","assertText",361],"(",["T_STRING","t",361],"(",["T_CONSTANT_ENCAPSED_STRING","'The update has been performed.'",361],")",",",["T_WHITESPACE"," ",361],["T_STRING","format_string",361],"(",["T_CONSTANT_ENCAPSED_STRING","'Operation \"@operation\" was performed on comment.'",361],",",["T_WHITESPACE"," ",361],["T_ARRAY","array",361],"(",["T_CONSTANT_ENCAPSED_STRING","'@operation'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$operation",361],")",")",")",";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n  ",362],"}",["T_WHITESPACE","\n\n  ",363],["T_DOC_COMMENT","\/**\n   * Gets the comment ID for an unapproved comment.\n   *\n   * @param string $subject\n   *   Comment subject to find.\n   *\n   * @return int\n   *   Comment id.\n   *\/",365],["T_WHITESPACE","\n  ",373],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","getUnapprovedComment",374],"(",["T_VARIABLE","$subject",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n    ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","drupalGet",375],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/content\/comment\/approval'",375],")",";",["T_WHITESPACE","\n    ",375],["T_STRING","preg_match",376],"(",["T_CONSTANT_ENCAPSED_STRING","'\/href=\"(.*?)#comment-([^\"]+)\"(.*?)>('",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_VARIABLE","$subject",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","')\/'",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getRawContent",376],"(",")",",",["T_WHITESPACE"," ",376],["T_VARIABLE","$match",376],")",";",["T_WHITESPACE","\n\n    ",376],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$match",378],"[",["T_LNUMBER","2",378],"]",";",["T_WHITESPACE","\n  ",378],"}",["T_WHITESPACE","\n\n  ",379],["T_DOC_COMMENT","\/**\n   * Creates a comment comment type (bundle).\n   *\n   * @param string $label\n   *   The comment type label.\n   *\n   * @return \\Drupal\\comment\\Entity\\CommentType\n   *   Created comment type.\n   *\/",381],["T_WHITESPACE","\n  ",389],["T_PROTECTED","protected",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","createCommentType",390],"(",["T_VARIABLE","$label",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$bundle",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","CommentType",391],["T_DOUBLE_COLON","::",391],["T_STRING","create",391],"(",["T_ARRAY","array",391],"(",["T_WHITESPACE","\n      ",391],["T_CONSTANT_ENCAPSED_STRING","'id'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$label",392],",",["T_WHITESPACE","\n      ",392],["T_CONSTANT_ENCAPSED_STRING","'label'",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$label",393],",",["T_WHITESPACE","\n      ",393],["T_CONSTANT_ENCAPSED_STRING","'description'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","''",394],",",["T_WHITESPACE","\n      ",394],["T_CONSTANT_ENCAPSED_STRING","'target_entity_type_id'",395],["T_WHITESPACE"," ",395],["T_DOUBLE_ARROW","=>",395],["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'node'",395],",",["T_WHITESPACE","\n    ",395],")",")",";",["T_WHITESPACE","\n    ",396],["T_VARIABLE","$bundle",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","save",397],"(",")",";",["T_WHITESPACE","\n    ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$bundle",398],";",["T_WHITESPACE","\n  ",398],"}",["T_WHITESPACE","\n\n",399],"}",["T_WHITESPACE","\n",401]]