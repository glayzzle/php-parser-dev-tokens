[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Comment",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldType",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentItemInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldStorageConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests for comment language.\n *\n * @group comment\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","CommentLanguageTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","WebTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","CommentTestTrait",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * We also use the language_test module here to be able to turn on content\n   * language negotiation. Drupal core does not provide a way in itself to do\n   * that.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$modules",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'language'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'language_test'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'comment_test'",28],")",";",["T_WHITESPACE","\n\n  ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","setUp",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalCreateContentType",33],"(",["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'article'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'name'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Article'",33],")",")",";",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/\/ Create and log in user.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$admin_user",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalCreateUser",36],"(",["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'create article content'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'access comments'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'post comments'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",36],")",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalLogin",37],"(",["T_VARIABLE","$admin_user",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Add language.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$edit",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'fr'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","drupalPostForm",41],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$edit",41],",",["T_WHITESPACE"," ",41],["T_STRING","t",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Add language'",41],")",")",";",["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/\/ Set \"Article\" content type to use multilingual support.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$edit",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'language_configuration[language_alterable]'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","TRUE",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalPostForm",45],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$edit",45],",",["T_WHITESPACE"," ",45],["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Save content type'",45],")",")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Enable content language negotiation UI.\n",47],["T_WHITESPACE","    ",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Drupal",48],["T_DOUBLE_COLON","::",48],["T_STRING","state",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","set",48],"(",["T_CONSTANT_ENCAPSED_STRING","'language_test.content_language_type'",48],",",["T_WHITESPACE"," ",48],["T_STRING","TRUE",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Set interface language detection to user and content language detection\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ to URL. Disable inheritance from interface language to ensure content\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ language will fall back to the default language if no URL language can be\n",52],["T_WHITESPACE","    ",53],["T_COMMENT","\/\/ detected.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$edit",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'language_interface[enabled][language-user]'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","TRUE",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'language_content[enabled][language-url]'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","TRUE",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'language_content[enabled][language-interface]'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","FALSE",57],",",["T_WHITESPACE","\n    ",57],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalPostForm",59],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/detection'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$edit",59],",",["T_WHITESPACE"," ",59],["T_STRING","t",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",59],")",")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Change user language preference, this way interface language is always\n",61],["T_WHITESPACE","    ",62],["T_COMMENT","\/\/ French no matter what path prefix the URLs have.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$edit",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_CONSTANT_ENCAPSED_STRING","'preferred_langcode'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'fr'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalPostForm",64],"(",["T_CONSTANT_ENCAPSED_STRING","\"user\/\"",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_VARIABLE","$admin_user",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","id",64],"(",")",["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"\/edit\"",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$edit",64],",",["T_WHITESPACE"," ",64],["T_STRING","t",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",64],")",")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Create comment field on article.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","addDefaultCommentField",67],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'article'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Make comment body translatable.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$field_storage",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","FieldStorageConfig",70],["T_DOUBLE_COLON","::",70],["T_STRING","loadByName",70],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'comment_body'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$field_storage",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setTranslatable",71],"(",["T_STRING","TRUE",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$field_storage",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","save",72],"(",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertTrue",73],"(",["T_VARIABLE","$field_storage",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","isTranslatable",73],"(",")",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Comment body is translatable.'",73],")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * Test that comment language is properly set.\n   *\/",76],["T_WHITESPACE","\n  ",78],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testCommentLanguage",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Create two nodes, one for english and one for french, and comment each\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ node using both english and french as content language by changing URL\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ language prefixes. Meanwhile interface language is always French, which\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ is the user language preference. This way we can ensure that node\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ language and interface language do not influence comment language, as\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ only content language has to.\n",86],["T_WHITESPACE","    ",87],["T_FOREACH","foreach",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","container",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","get",87],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","getLanguages",87],"(",")",["T_WHITESPACE"," ",87],["T_AS","as",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$node_langcode",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$node_language",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n      ",87],["T_COMMENT","\/\/ Create \"Article\" content.\n",88],["T_WHITESPACE","      ",89],["T_VARIABLE","$title",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","randomMachineName",89],"(",")",";",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$edit",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_WHITESPACE","\n        ",90],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$title",91],",",["T_WHITESPACE","\n        ",91],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","randomMachineName",92],"(",")",",",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'langcode[0][value]'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$node_langcode",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'comment[0][status]'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","CommentItemInterface",94],["T_DOUBLE_COLON","::",94],["T_STRING","OPEN",94],",",["T_WHITESPACE","\n      ",94],")",";",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalPostForm",96],"(",["T_CONSTANT_ENCAPSED_STRING","\"node\/add\/article\"",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$edit",96],",",["T_WHITESPACE"," ",96],["T_STRING","t",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",96],")",")",";",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$node",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","drupalGetNodeByTitle",97],"(",["T_VARIABLE","$title",97],")",";",["T_WHITESPACE","\n\n      ",97],["T_VARIABLE","$prefixes",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","language_negotiation_url_prefixes",99],"(",")",";",["T_WHITESPACE","\n      ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","container",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","get",100],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","getLanguages",100],"(",")",["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$langcode",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$language",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_COMMENT","\/\/ Post a comment with content language $langcode.\n",101],["T_WHITESPACE","        ",102],["T_VARIABLE","$prefix",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_EMPTY","empty",102],"(",["T_VARIABLE","$prefixes",102],"[",["T_VARIABLE","$langcode",102],"]",")",["T_WHITESPACE"," ",102],"?",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],["T_WHITESPACE"," ",102],":",["T_WHITESPACE"," ",102],["T_VARIABLE","$prefixes",102],"[",["T_VARIABLE","$langcode",102],"]",["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'\/'",102],";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$comment_values",103],"[",["T_VARIABLE","$node_langcode",103],"]","[",["T_VARIABLE","$langcode",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","randomMachineName",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$edit",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_WHITESPACE","\n          ",104],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","randomMachineName",105],"(",")",",",["T_WHITESPACE","\n          ",105],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$comment_values",106],"[",["T_VARIABLE","$node_langcode",106],"]","[",["T_VARIABLE","$langcode",106],"]",",",["T_WHITESPACE","\n        ",106],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalPostForm",108],"(",["T_VARIABLE","$prefix",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'node\/'",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_VARIABLE","$node",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","id",108],"(",")",",",["T_WHITESPACE"," ",108],["T_VARIABLE","$edit",108],",",["T_WHITESPACE"," ",108],["T_STRING","t",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview'",108],")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","drupalPostForm",109],"(",["T_STRING","NULL",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$edit",109],",",["T_WHITESPACE"," ",109],["T_STRING","t",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",109],")",")",";",["T_WHITESPACE","\n\n        ",109],["T_COMMENT","\/\/ Check that comment language matches the current content language.\n",111],["T_WHITESPACE","        ",112],["T_VARIABLE","$cids",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","entityQuery",112],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",112],")",["T_WHITESPACE","\n          ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","condition",113],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$node",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","id",113],"(",")",")",["T_WHITESPACE","\n          ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","condition",114],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'node'",114],")",["T_WHITESPACE","\n          ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","condition",115],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'comment'",115],")",["T_WHITESPACE","\n          ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","sort",116],"(",["T_CONSTANT_ENCAPSED_STRING","'cid'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'DESC'",116],")",["T_WHITESPACE","\n          ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","range",117],"(",["T_LNUMBER","0",117],",",["T_WHITESPACE"," ",117],["T_LNUMBER","1",117],")",["T_WHITESPACE","\n          ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","execute",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$comment",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","Comment",119],["T_DOUBLE_COLON","::",119],["T_STRING","load",119],"(",["T_STRING","reset",119],"(",["T_VARIABLE","$cids",119],")",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$args",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","'%node_language'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$node_langcode",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'%comment_language'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$comment",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","langcode",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","value",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'%langcode'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$langcode",120],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertEqual",121],"(",["T_VARIABLE","$comment",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","langcode",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","value",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$langcode",121],",",["T_WHITESPACE"," ",121],["T_STRING","format_string",121],"(",["T_CONSTANT_ENCAPSED_STRING","'The comment posted with content language %langcode and belonging to the node with language %node_language has language %comment_language'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$args",121],")",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEqual",122],"(",["T_VARIABLE","$comment",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","comment_body",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","value",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$comment_values",122],"[",["T_VARIABLE","$node_langcode",122],"]","[",["T_VARIABLE","$langcode",122],"]",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Comment body correctly stored.'",122],")",";",["T_WHITESPACE","\n      ",122],"}",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Check that comment bodies appear in the administration UI.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","drupalGet",127],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/content\/comment'",127],")",";",["T_WHITESPACE","\n    ",127],["T_FOREACH","foreach",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$comment_values",128],["T_WHITESPACE"," ",128],["T_AS","as",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$node_values",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n      ",128],["T_FOREACH","foreach",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$node_values",129],["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$value",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertRaw",130],"(",["T_VARIABLE","$value",130],")",";",["T_WHITESPACE","\n      ",130],"}",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n  ",132],"}",["T_WHITESPACE","\n\n",133],"}",["T_WHITESPACE","\n",135]]