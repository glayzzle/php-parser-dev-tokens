[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RoleInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","comment",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Comment",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests CSS classes on comments.\n *\n * @group comment\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","CommentCSSTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","CommentTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","setUp",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_STRING","parent",18],["T_DOUBLE_COLON","::",18],["T_STRING","setUp",18],"(",")",";",["T_WHITESPACE","\n\n    ",18],["T_COMMENT","\/\/ Allow anonymous users to see comments.\n",20],["T_WHITESPACE","    ",21],["T_STRING","user_role_grant_permissions",21],"(",["T_STRING","RoleInterface",21],["T_DOUBLE_COLON","::",21],["T_STRING","ANONYMOUS_ID",21],",",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n      ",21],["T_CONSTANT_ENCAPSED_STRING","'access comments'",22],",",["T_WHITESPACE","\n      ",22],["T_CONSTANT_ENCAPSED_STRING","'access content'",23],["T_WHITESPACE","\n    ",23],")",")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Tests CSS classes on comments.\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","testCommentClasses",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_COMMENT","\/\/ Create all permutations for comments, users, and nodes.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$parameters",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'node_uid'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_LNUMBER","0",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","webUser",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","id",33],"(",")",")",",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'comment_uid'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_LNUMBER","0",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","webUser",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","id",34],"(",")",",",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","adminUser",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","id",34],"(",")",")",",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'comment_status'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_STRING","CommentInterface",35],["T_DOUBLE_COLON","::",35],["T_STRING","PUBLISHED",35],",",["T_WHITESPACE"," ",35],["T_STRING","CommentInterface",35],["T_DOUBLE_COLON","::",35],["T_STRING","NOT_PUBLISHED",35],")",",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'user'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'authenticated'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'admin'",36],")",",",["T_WHITESPACE","\n    ",36],")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$permutations",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","generatePermutations",38],"(",["T_VARIABLE","$parameters",38],")",";",["T_WHITESPACE","\n\n    ",38],["T_FOREACH","foreach",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$permutations",40],["T_WHITESPACE"," ",40],["T_AS","as",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$case",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n      ",40],["T_COMMENT","\/\/ Create a new node.\n",41],["T_WHITESPACE","      ",42],["T_VARIABLE","$node",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalCreateNode",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'article'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'uid'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$case",42],"[",["T_CONSTANT_ENCAPSED_STRING","'node_uid'",42],"]",")",")",";",["T_WHITESPACE","\n\n      ",42],["T_COMMENT","\/\/ Add a comment.\n",44],["T_WHITESPACE","      ",45],["T_DOC_COMMENT","\/** @var \\Drupal\\comment\\CommentInterface $comment *\/",45],["T_WHITESPACE","\n      ",45],["T_VARIABLE","$comment",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","Comment",46],["T_DOUBLE_COLON","::",46],["T_STRING","create",46],"(",["T_ARRAY","array",46],"(",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$node",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","id",47],"(",")",",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'node'",48],",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'field_name'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'comment'",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'uid'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$case",50],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_uid'",50],"]",",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'status'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$case",51],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_status'",51],"]",",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'subject'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","randomMachineName",52],"(",")",",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'language'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","LanguageInterface",53],["T_DOUBLE_COLON","::",53],["T_STRING","LANGCODE_NOT_SPECIFIED",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'comment_body'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_STRING","LanguageInterface",54],["T_DOUBLE_COLON","::",54],["T_STRING","LANGCODE_NOT_SPECIFIED",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","randomMachineName",54],"(",")",")",")",",",["T_WHITESPACE","\n      ",54],")",")",";",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$comment",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","save",56],"(",")",";",["T_WHITESPACE","\n\n      ",56],["T_COMMENT","\/\/ Adjust the current\/viewing user.\n",58],["T_WHITESPACE","      ",59],["T_SWITCH","switch",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$case",59],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",59],"]",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n        ",59],["T_CASE","case",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'anonymous'",60],":",["T_WHITESPACE","\n          ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","loggedInUser",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","drupalLogout",62],"(",")",";",["T_WHITESPACE","\n          ",62],"}",["T_WHITESPACE","\n          ",63],["T_VARIABLE","$case",64],"[",["T_CONSTANT_ENCAPSED_STRING","'user_uid'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","0",64],";",["T_WHITESPACE","\n          ",64],["T_BREAK","break",65],";",["T_WHITESPACE","\n\n        ",65],["T_CASE","case",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'authenticated'",67],":",["T_WHITESPACE","\n          ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalLogin",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","webUser",68],")",";",["T_WHITESPACE","\n          ",68],["T_VARIABLE","$case",69],"[",["T_CONSTANT_ENCAPSED_STRING","'user_uid'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","webUser",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",";",["T_WHITESPACE","\n          ",69],["T_BREAK","break",70],";",["T_WHITESPACE","\n\n        ",70],["T_CASE","case",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'admin'",72],":",["T_WHITESPACE","\n          ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalLogin",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","adminUser",73],")",";",["T_WHITESPACE","\n          ",73],["T_VARIABLE","$case",74],"[",["T_CONSTANT_ENCAPSED_STRING","'user_uid'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","adminUser",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","id",74],"(",")",";",["T_WHITESPACE","\n          ",74],["T_BREAK","break",75],";",["T_WHITESPACE","\n      ",75],"}",["T_WHITESPACE","\n      ",76],["T_COMMENT","\/\/ Request the node with the comment.\n",77],["T_WHITESPACE","      ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalGet",78],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$node",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",")",";",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$settings",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getDrupalSettings",79],"(",")",";",["T_WHITESPACE","\n\n      ",79],["T_COMMENT","\/\/ Verify the data-history-node-id attribute, which is necessary for the\n",81],["T_WHITESPACE","      ",82],["T_COMMENT","\/\/ by-viewer class and the \"new\" indicator, see below.\n",82],["T_WHITESPACE","      ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertIdentical",83],"(",["T_LNUMBER","1",83],",",["T_WHITESPACE"," ",83],["T_STRING","count",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","xpath",83],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[@data-history-node-id=\"'",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$node",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","id",83],"(",")",["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'\"]'",83],")",")",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'data-history-node-id attribute is set on node.'",83],")",";",["T_WHITESPACE","\n\n      ",83],["T_COMMENT","\/\/ Verify classes if the comment is visible for the current user.\n",85],["T_WHITESPACE","      ",86],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$case",86],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_status'",86],"]",["T_WHITESPACE"," ",86],["T_IS_EQUAL","==",86],["T_WHITESPACE"," ",86],["T_STRING","CommentInterface",86],["T_DOUBLE_COLON","::",86],["T_STRING","PUBLISHED",86],["T_WHITESPACE"," ",86],["T_BOOLEAN_OR","||",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$case",86],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",86],"]",["T_WHITESPACE"," ",86],["T_IS_EQUAL","==",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'admin'",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_COMMENT","\/\/ Verify the by-anonymous class.\n",87],["T_WHITESPACE","        ",88],["T_VARIABLE","$comments",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","xpath",88],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[contains(@class, \"comment\") and contains(@class, \"by-anonymous\")]'",88],")",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$case",89],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_uid'",89],"]",["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_LNUMBER","0",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n          ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertTrue",90],"(",["T_STRING","count",90],"(",["T_VARIABLE","$comments",90],")",["T_WHITESPACE"," ",90],["T_IS_EQUAL","==",90],["T_WHITESPACE"," ",90],["T_LNUMBER","1",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'by-anonymous class found.'",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n        ",91],["T_ELSE","else",92],["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n          ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertFalse",93],"(",["T_STRING","count",93],"(",["T_VARIABLE","$comments",93],")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'by-anonymous class not found.'",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_COMMENT","\/\/ Verify the by-node-author class.\n",96],["T_WHITESPACE","        ",97],["T_VARIABLE","$comments",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","xpath",97],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[contains(@class, \"comment\") and contains(@class, \"by-node-author\")]'",97],")",";",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$case",98],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_uid'",98],"]",["T_WHITESPACE"," ",98],">",["T_WHITESPACE"," ",98],["T_LNUMBER","0",98],["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$case",98],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_uid'",98],"]",["T_WHITESPACE"," ",98],["T_IS_EQUAL","==",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$case",98],"[",["T_CONSTANT_ENCAPSED_STRING","'node_uid'",98],"]",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n          ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTrue",99],"(",["T_STRING","count",99],"(",["T_VARIABLE","$comments",99],")",["T_WHITESPACE"," ",99],["T_IS_EQUAL","==",99],["T_WHITESPACE"," ",99],["T_LNUMBER","1",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'by-node-author class found.'",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n          ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertFalse",102],"(",["T_STRING","count",102],"(",["T_VARIABLE","$comments",102],")",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'by-node-author class not found.'",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/\/ Verify the data-comment-user-id attribute, which is used by the\n",105],["T_WHITESPACE","        ",106],["T_COMMENT","\/\/ drupal.comment-by-viewer library to add a by-viewer when the current\n",106],["T_WHITESPACE","        ",107],["T_COMMENT","\/\/ user (the viewer) was the author of the comment. We do this in Java-\n",107],["T_WHITESPACE","        ",108],["T_COMMENT","\/\/ Script to prevent breaking the render cache.\n",108],["T_WHITESPACE","        ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertIdentical",109],"(",["T_LNUMBER","1",109],",",["T_WHITESPACE"," ",109],["T_STRING","count",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","xpath",109],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[contains(@class, \"comment\") and @data-comment-user-id=\"'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$case",109],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_uid'",109],"]",["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'\"]'",109],")",")",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'data-comment-user-id attribute is set on comment.'",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertRaw",110],"(",["T_STRING","drupal_get_path",110],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'comment'",110],")",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'\/js\/comment-by-viewer.js'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'drupal.comment-by-viewer library is present.'",110],")",";",["T_WHITESPACE","\n      ",110],"}",["T_WHITESPACE","\n\n      ",111],["T_COMMENT","\/\/ Verify the unpublished class.\n",113],["T_WHITESPACE","      ",114],["T_VARIABLE","$comments",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","xpath",114],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[contains(@class, \"comment\") and contains(@class, \"unpublished\")]'",114],")",";",["T_WHITESPACE","\n      ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$case",115],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_status'",115],"]",["T_WHITESPACE"," ",115],["T_IS_EQUAL","==",115],["T_WHITESPACE"," ",115],["T_STRING","CommentInterface",115],["T_DOUBLE_COLON","::",115],["T_STRING","NOT_PUBLISHED",115],["T_WHITESPACE"," ",115],["T_BOOLEAN_AND","&&",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$case",115],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",115],"]",["T_WHITESPACE"," ",115],["T_IS_EQUAL","==",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'admin'",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertTrue",116],"(",["T_STRING","count",116],"(",["T_VARIABLE","$comments",116],")",["T_WHITESPACE"," ",116],["T_IS_EQUAL","==",116],["T_WHITESPACE"," ",116],["T_LNUMBER","1",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'unpublished class found.'",116],")",";",["T_WHITESPACE","\n      ",116],"}",["T_WHITESPACE","\n      ",117],["T_ELSE","else",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertFalse",119],"(",["T_STRING","count",119],"(",["T_VARIABLE","$comments",119],")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'unpublished class not found.'",119],")",";",["T_WHITESPACE","\n      ",119],"}",["T_WHITESPACE","\n\n      ",120],["T_COMMENT","\/\/ Verify the data-comment-timestamp attribute, which is used by the\n",122],["T_WHITESPACE","      ",123],["T_COMMENT","\/\/ drupal.comment-new-indicator library to add a \"new\" indicator to each\n",123],["T_WHITESPACE","      ",124],["T_COMMENT","\/\/ comment that was created or changed after the last time the current\n",124],["T_WHITESPACE","      ",125],["T_COMMENT","\/\/ user read the corresponding node.\n",125],["T_WHITESPACE","      ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$case",126],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_status'",126],"]",["T_WHITESPACE"," ",126],["T_IS_EQUAL","==",126],["T_WHITESPACE"," ",126],["T_STRING","CommentInterface",126],["T_DOUBLE_COLON","::",126],["T_STRING","PUBLISHED",126],["T_WHITESPACE"," ",126],["T_BOOLEAN_OR","||",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$case",126],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",126],"]",["T_WHITESPACE"," ",126],["T_IS_EQUAL","==",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'admin'",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertIdentical",127],"(",["T_LNUMBER","1",127],",",["T_WHITESPACE"," ",127],["T_STRING","count",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","xpath",127],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[contains(@class, \"comment\")]\/*[@data-comment-timestamp=\"'",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_VARIABLE","$comment",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getChangedTime",127],"(",")",["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\"]'",127],")",")",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'data-comment-timestamp attribute is set on comment'",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$expectedJS",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$case",128],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",128],"]",["T_WHITESPACE"," ",128],["T_IS_NOT_IDENTICAL","!==",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'anonymous'",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertIdentical",129],"(",["T_VARIABLE","$expectedJS",129],",",["T_WHITESPACE"," ",129],["T_ISSET","isset",129],"(",["T_VARIABLE","$settings",129],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",129],"]","[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",129],"]",")",["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_STRING","in_array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/drupal.comment-new-indicator'",129],",",["T_WHITESPACE"," ",129],["T_STRING","explode",129],"(",["T_CONSTANT_ENCAPSED_STRING","','",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$settings",129],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",129],"]","[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",129],"]",")",")",",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'drupal.comment-new-indicator library is present.'",129],")",";",["T_WHITESPACE","\n      ",129],"}",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n",132],"}",["T_WHITESPACE","\n",134]]