[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldType",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentItemInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","comment",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Comment",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Utility",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unicode",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityViewDisplay",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityViewMode",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","user",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RoleInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","filter",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FilterFormat",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests comment user interfaces.\n *\n * @group comment\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","CommentInterfaceTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","CommentTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Set up comments to have subject and preview disabled.\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalLogin",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","adminUser",26],")",";",["T_WHITESPACE","\n    ",26],["T_COMMENT","\/\/ Make sure that comment field title is not displayed when there's no\n",27],["T_WHITESPACE","    ",28],["T_COMMENT","\/\/ comments posted.\n",28],["T_WHITESPACE","    ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","drupalGet",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","node",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","urlInfo",29],"(",")",")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","assertNoPattern",30],"(",["T_CONSTANT_ENCAPSED_STRING","'@<h2[^>]*>Comments<\/h2>@'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'Comments title is not displayed.'",30],")",";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ Set comments to have subject and preview disabled.\n",32],["T_WHITESPACE","    ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","setCommentPreview",33],"(",["T_STRING","DRUPAL_DISABLED",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","setCommentForm",34],"(",["T_STRING","TRUE",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","setCommentSubject",35],"(",["T_STRING","FALSE",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","setCommentSettings",36],"(",["T_CONSTANT_ENCAPSED_STRING","'default_mode'",36],",",["T_WHITESPACE"," ",36],["T_STRING","CommentManagerInterface",36],["T_DOUBLE_COLON","::",36],["T_STRING","COMMENT_MODE_THREADED",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Comment paging changed.'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalLogout",37],"(",")",";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Tests the comment interface.\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testCommentInterface",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Post comment #1 without subject or preview.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalLogin",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","webUser",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$comment_text",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","randomMachineName",47],"(",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$comment",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","postComment",48],"(",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","node",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$comment_text",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertTrue",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","commentExists",49],"(",["T_VARIABLE","$comment",49],")",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Comment found.'",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Test the comment field title is displayed when there's comments.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalGet",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","node",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","urlInfo",52],"(",")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertPattern",53],"(",["T_CONSTANT_ENCAPSED_STRING","'@<h2[^>]*>Comments<\/h2>@'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Comments title is displayed.'",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Set comments to have subject and preview to required.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalLogout",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalLogin",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","adminUser",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setCommentSubject",58],"(",["T_STRING","TRUE",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setCommentPreview",59],"(",["T_STRING","DRUPAL_REQUIRED",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","drupalLogout",60],"(",")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Create comment #2 that allows subject and requires preview.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalLogin",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","webUser",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$subject_text",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","randomMachineName",64],"(",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$comment_text",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","randomMachineName",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$comment",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","postComment",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","node",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$comment_text",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$subject_text",66],",",["T_WHITESPACE"," ",66],["T_STRING","TRUE",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertTrue",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","commentExists",67],"(",["T_VARIABLE","$comment",67],")",",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Comment found.'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Comment as anonymous with preview required.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","drupalLogout",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_STRING","user_role_grant_permissions",71],"(",["T_STRING","RoleInterface",71],["T_DOUBLE_COLON","::",71],["T_STRING","ANONYMOUS_ID",71],",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'access comments'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'post comments'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$anonymous_comment",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","postComment",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","node",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","randomMachineName",72],"(",")",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","randomMachineName",72],"(",")",",",["T_WHITESPACE"," ",72],["T_STRING","TRUE",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertTrue",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","commentExists",73],"(",["T_VARIABLE","$anonymous_comment",73],")",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Comment found.'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$anonymous_comment",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","delete",74],"(",")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Check comment display.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","drupalLogin",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","webUser",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalGet",78],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","node",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertText",79],"(",["T_VARIABLE","$subject_text",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Individual comment subject found.'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertText",80],"(",["T_VARIABLE","$comment_text",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Individual comment body found.'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$arguments",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","':link'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","base_path",82],"(",")",["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'comment\/'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$comment",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'#comment-'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$comment",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",",",["T_WHITESPACE","\n    ",82],"]",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$pattern_permalink",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'\/\/footer[contains(@class,\"comment__meta\")]\/a[contains(@href,:link) and text()=\"Permalink\"]'",84],";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$permalink",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","xpath",85],"(",["T_VARIABLE","$pattern_permalink",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$arguments",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertTrue",86],"(","!",["T_EMPTY","empty",86],"(",["T_VARIABLE","$permalink",86],")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Permalink link found.'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Set comments to have subject and preview to optional.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalLogout",89],"(",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalLogin",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","adminUser",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setCommentSubject",91],"(",["T_STRING","TRUE",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","setCommentPreview",92],"(",["T_STRING","DRUPAL_OPTIONAL",92],")",";",["T_WHITESPACE","\n\n    ",92],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalGet",94],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$comment",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","id",94],"(",")",["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTitle",95],"(",["T_STRING","t",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit comment @title | Drupal'",95],",",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'@title'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$comment",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getSubject",96],"(",")",",",["T_WHITESPACE","\n    ",96],")",")",")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Test changing the comment author to \"Anonymous\".\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$comment",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","postComment",100],"(",["T_STRING","NULL",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$comment",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","comment_body",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","value",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$comment",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getSubject",100],"(",")",",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","''",100],")",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertTrue",101],"(",["T_VARIABLE","$comment",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getAuthorName",101],"(",")",["T_WHITESPACE"," ",101],["T_IS_EQUAL","==",101],["T_WHITESPACE"," ",101],["T_STRING","t",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Anonymous'",101],")",["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$comment",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getOwnerId",101],"(",")",["T_WHITESPACE"," ",101],["T_IS_EQUAL","==",101],["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Comment author successfully changed to anonymous.'",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Test changing the comment author to an unverified user.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$random_name",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","randomMachineName",104],"(",")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalGet",105],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$comment",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","id",105],"(",")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$comment",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","postComment",106],"(",["T_STRING","NULL",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$comment",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","comment_body",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","value",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$comment",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getSubject",106],"(",")",",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$random_name",106],")",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","drupalGet",107],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","node",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","id",107],"(",")",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertText",108],"(",["T_VARIABLE","$random_name",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","' ('",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_STRING","t",108],"(",["T_CONSTANT_ENCAPSED_STRING","'not verified'",108],")",["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","')'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'Comment author successfully changed to an unverified user.'",108],")",";",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Test changing the comment author to a verified user.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","drupalGet",111],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/'",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$comment",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","id",111],"(",")",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$comment",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","postComment",112],"(",["T_STRING","NULL",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$comment",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","comment_body",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","value",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$comment",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getSubject",112],"(",")",",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","webUser",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getUsername",112],"(",")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","' ('",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","webUser",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","id",112],"(",")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","')'",112],")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertTrue",113],"(",["T_VARIABLE","$comment",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getAuthorName",113],"(",")",["T_WHITESPACE"," ",113],["T_IS_EQUAL","==",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","webUser",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getUsername",113],"(",")",["T_WHITESPACE"," ",113],["T_BOOLEAN_AND","&&",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$comment",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getOwnerId",113],"(",")",["T_WHITESPACE"," ",113],["T_IS_EQUAL","==",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","webUser",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","id",113],"(",")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Comment author successfully changed to a registered user.'",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","drupalLogout",115],"(",")",";",["T_WHITESPACE","\n\n    ",115],["T_COMMENT","\/\/ Reply to comment #2 creating comment #3 with optional preview and no\n",117],["T_WHITESPACE","    ",118],["T_COMMENT","\/\/ subject though field enabled.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","drupalLogin",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","webUser",119],")",";",["T_WHITESPACE","\n    ",119],["T_COMMENT","\/\/ Deliberately use the wrong url to test\n",120],["T_WHITESPACE","    ",121],["T_COMMENT","\/\/ \\Drupal\\comment\\Controller\\CommentController::redirectNode().\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","drupalGet",122],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/'",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","node",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","id",122],"(",")",["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'\/reply'",122],")",";",["T_WHITESPACE","\n    ",122],["T_COMMENT","\/\/ Verify we were correctly redirected.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertUrl",124],"(",["T_NS_SEPARATOR","\\",124],["T_STRING","Drupal",124],["T_DOUBLE_COLON","::",124],["T_STRING","url",124],"(",["T_CONSTANT_ENCAPSED_STRING","'comment.reply'",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'node'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'entity'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","node",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","id",124],"(",")",",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'field_name'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'comment'",124],")",",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","TRUE",124],")",")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","drupalGet",125],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","node",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","id",125],"(",")",["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_VARIABLE","$comment",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","id",125],"(",")",")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertText",126],"(",["T_VARIABLE","$subject_text",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Individual comment-reply subject found.'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertText",127],"(",["T_VARIABLE","$comment_text",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Individual comment-reply body found.'",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$reply",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","postComment",128],"(",["T_STRING","NULL",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","randomMachineName",128],"(",")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","''",128],",",["T_WHITESPACE"," ",128],["T_STRING","TRUE",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$reply_loaded",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Comment",129],["T_DOUBLE_COLON","::",129],["T_STRING","load",129],"(",["T_VARIABLE","$reply",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","id",129],"(",")",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertTrue",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","commentExists",130],"(",["T_VARIABLE","$reply",130],",",["T_WHITESPACE"," ",130],["T_STRING","TRUE",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Reply found.'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$comment",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","id",131],"(",")",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$reply_loaded",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getParentComment",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","id",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Pid of a reply to a comment is set correctly.'",131],")",";",["T_WHITESPACE","\n    ",131],["T_COMMENT","\/\/ Check the thread of reply grows correctly.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEqual",133],"(",["T_STRING","rtrim",133],"(",["T_VARIABLE","$comment",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getThread",133],"(",")",",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'\/'",133],")",["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'.00\/'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$reply_loaded",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getThread",133],"(",")",")",";",["T_WHITESPACE","\n\n    ",133],["T_COMMENT","\/\/ Second reply to comment #2 creating comment #4.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","drupalGet",136],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",136],["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","node",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","id",136],"(",")",["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",136],["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_VARIABLE","$comment",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","id",136],"(",")",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertText",137],"(",["T_VARIABLE","$comment",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getSubject",137],"(",")",",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'Individual comment-reply subject found.'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertText",138],"(",["T_VARIABLE","$comment",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","comment_body",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","value",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Individual comment-reply body found.'",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$reply",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","postComment",139],"(",["T_STRING","NULL",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","randomMachineName",139],"(",")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","randomMachineName",139],"(",")",",",["T_WHITESPACE"," ",139],["T_STRING","TRUE",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$reply_loaded",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","Comment",140],["T_DOUBLE_COLON","::",140],["T_STRING","load",140],"(",["T_VARIABLE","$reply",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","id",140],"(",")",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertTrue",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","commentExists",141],"(",["T_VARIABLE","$reply",141],",",["T_WHITESPACE"," ",141],["T_STRING","TRUE",141],")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Second reply found.'",141],")",";",["T_WHITESPACE","\n    ",141],["T_COMMENT","\/\/ Check the thread of second reply grows correctly.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertEqual",143],"(",["T_STRING","rtrim",143],"(",["T_VARIABLE","$comment",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getThread",143],"(",")",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'\/'",143],")",["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'.01\/'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$reply_loaded",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getThread",143],"(",")",")",";",["T_WHITESPACE","\n\n    ",143],["T_COMMENT","\/\/ Reply to comment #4 creating comment #5.\n",145],["T_WHITESPACE","    ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","drupalGet",146],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","node",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","id",146],"(",")",["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$reply_loaded",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","id",146],"(",")",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertText",147],"(",["T_VARIABLE","$reply_loaded",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getSubject",147],"(",")",",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Individual comment-reply subject found.'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertText",148],"(",["T_VARIABLE","$reply_loaded",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","comment_body",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","value",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Individual comment-reply body found.'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$reply",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","postComment",149],"(",["T_STRING","NULL",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","randomMachineName",149],"(",")",",",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","randomMachineName",149],"(",")",",",["T_WHITESPACE"," ",149],["T_STRING","TRUE",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$reply_loaded",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","Comment",150],["T_DOUBLE_COLON","::",150],["T_STRING","load",150],"(",["T_VARIABLE","$reply",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","id",150],"(",")",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertTrue",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","commentExists",151],"(",["T_VARIABLE","$reply",151],",",["T_WHITESPACE"," ",151],["T_STRING","TRUE",151],")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'Second reply found.'",151],")",";",["T_WHITESPACE","\n    ",151],["T_COMMENT","\/\/ Check the thread of reply to second reply grows correctly.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertEqual",153],"(",["T_STRING","rtrim",153],"(",["T_VARIABLE","$comment",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getThread",153],"(",")",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'\/'",153],")",["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'.01.00\/'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$reply_loaded",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getThread",153],"(",")",")",";",["T_WHITESPACE","\n\n    ",153],["T_COMMENT","\/\/ Edit reply.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","drupalGet",156],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$reply",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","id",156],"(",")",["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$reply",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","postComment",157],"(",["T_STRING","NULL",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","randomMachineName",157],"(",")",",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","randomMachineName",157],"(",")",",",["T_WHITESPACE"," ",157],["T_STRING","TRUE",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertTrue",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","commentExists",158],"(",["T_VARIABLE","$reply",158],",",["T_WHITESPACE"," ",158],["T_STRING","TRUE",158],")",",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'Modified reply found.'",158],")",";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Confirm a new comment is posted to the correct page.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setCommentsPerPage",161],"(",["T_LNUMBER","2",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$comment_new_page",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","postComment",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","node",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","randomMachineName",162],"(",")",",",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","randomMachineName",162],"(",")",",",["T_WHITESPACE"," ",162],["T_STRING","TRUE",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertTrue",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","commentExists",163],"(",["T_VARIABLE","$comment_new_page",163],")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Page one exists. %s'",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","drupalGet",164],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","node",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","id",164],"(",")",",",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_LNUMBER","2",164],")",")",")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertTrue",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","commentExists",165],"(",["T_VARIABLE","$reply",165],",",["T_WHITESPACE"," ",165],["T_STRING","TRUE",165],")",",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Page two exists. %s'",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setCommentsPerPage",166],"(",["T_LNUMBER","50",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Attempt to reply to an unpublished comment.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$reply_loaded",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setPublished",169],"(",["T_STRING","FALSE",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$reply_loaded",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","save",170],"(",")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","drupalGet",171],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","node",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","id",171],"(",")",["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_VARIABLE","$reply_loaded",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","id",171],"(",")",")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertResponse",172],"(",["T_LNUMBER","403",172],")",";",["T_WHITESPACE","\n\n    ",172],["T_COMMENT","\/\/ Attempt to post to node with comments disabled.\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","node",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","drupalCreateNode",175],"(",["T_ARRAY","array",175],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'article'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'promote'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_LNUMBER","1",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'comment'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_ARRAY","array",175],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_STRING","CommentItemInterface",175],["T_DOUBLE_COLON","::",175],["T_STRING","HIDDEN",175],")",")",")",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertTrue",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","node",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'Article node created.'",176],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","drupalGet",177],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","node",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","id",177],"(",")",["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertResponse",178],"(",["T_LNUMBER","403",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertNoField",179],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-comment'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Comment body field found.'",179],")",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Attempt to post to node with read-only comments.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","node",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","drupalCreateNode",182],"(",["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'article'",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'promote'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_LNUMBER","1",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'comment'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","CommentItemInterface",182],["T_DOUBLE_COLON","::",182],["T_STRING","CLOSED",182],")",")",")",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertTrue",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","node",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'Article node created.'",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","drupalGet",184],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","node",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","id",184],"(",")",["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",184],")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertResponse",185],"(",["T_LNUMBER","403",185],")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertNoField",186],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-comment'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'Comment body field found.'",186],")",";",["T_WHITESPACE","\n\n    ",186],["T_COMMENT","\/\/ Attempt to post to node with comments enabled (check field names etc).\n",188],["T_WHITESPACE","    ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","node",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","drupalCreateNode",189],"(",["T_ARRAY","array",189],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'article'",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'promote'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_LNUMBER","1",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'comment'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_ARRAY","array",189],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_STRING","CommentItemInterface",189],["T_DOUBLE_COLON","::",189],["T_STRING","OPEN",189],")",")",")",")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertTrue",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","node",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'Article node created.'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","drupalGet",191],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","node",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","id",191],"(",")",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertNoText",192],"(",["T_CONSTANT_ENCAPSED_STRING","'This discussion is closed'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'Posting to node with comments enabled'",192],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertField",193],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-comment-body-0-value'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'Comment body field found.'",193],")",";",["T_WHITESPACE","\n\n    ",193],["T_COMMENT","\/\/ Delete comment and make sure that reply is also removed.\n",195],["T_WHITESPACE","    ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","drupalLogout",196],"(",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","drupalLogin",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","adminUser",197],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","deleteComment",198],"(",["T_VARIABLE","$comment",198],")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","deleteComment",199],"(",["T_VARIABLE","$comment_new_page",199],")",";",["T_WHITESPACE","\n\n    ",199],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","drupalGet",201],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","node",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","id",201],"(",")",")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertFalse",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","commentExists",202],"(",["T_VARIABLE","$comment",202],")",",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'Comment not found.'",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertFalse",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","commentExists",203],"(",["T_VARIABLE","$reply",203],",",["T_WHITESPACE"," ",203],["T_STRING","TRUE",203],")",",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Reply not found.'",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ Enabled comment form on node page.\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","drupalLogin",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","adminUser",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","setCommentForm",207],"(",["T_STRING","TRUE",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","drupalLogout",208],"(",")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Submit comment through node form.\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","drupalLogin",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","webUser",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","drupalGet",212],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","node",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","id",212],"(",")",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$form_comment",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","postComment",213],"(",["T_STRING","NULL",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","randomMachineName",213],"(",")",",",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","randomMachineName",213],"(",")",",",["T_WHITESPACE"," ",213],["T_STRING","TRUE",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertTrue",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","commentExists",214],"(",["T_VARIABLE","$form_comment",214],")",",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'Form comment found.'",214],")",";",["T_WHITESPACE","\n\n    ",214],["T_COMMENT","\/\/ Disable comment form on node page.\n",216],["T_WHITESPACE","    ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","drupalLogout",217],"(",")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","drupalLogin",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","adminUser",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","setCommentForm",219],"(",["T_STRING","FALSE",219],")",";",["T_WHITESPACE","\n  ",219],"}",["T_WHITESPACE","\n\n  ",220],["T_DOC_COMMENT","\/**\n   * Test that the subject is automatically filled if disabled or left blank.\n   *\n   * When the subject field is blank or disabled, the first 29 characters of the\n   * comment body are used for the subject. If this would break within a word,\n   * then the break is put at the previous word boundary instead.\n   *\/",222],["T_WHITESPACE","\n  ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","testAutoFilledSubject",229],"(",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","drupalLogin",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","webUser",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","drupalGet",231],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","node",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","id",231],"(",")",")",";",["T_WHITESPACE","\n\n    ",231],["T_COMMENT","\/\/ Break when there is a word boundary before 29 characters.\n",233],["T_WHITESPACE","    ",234],["T_VARIABLE","$body_text",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'Lorem ipsum Lorem ipsum Loreming ipsum Lorem ipsum'",234],";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$comment1",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","postComment",235],"(",["T_STRING","NULL",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$body_text",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","''",235],",",["T_WHITESPACE"," ",235],["T_STRING","TRUE",235],")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertTrue",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","commentExists",236],"(",["T_VARIABLE","$comment1",236],")",",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'Form comment found.'",236],")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertEqual",237],"(",["T_CONSTANT_ENCAPSED_STRING","'Lorem ipsum Lorem ipsum\u00e2\u0080\u00a6'",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$comment1",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getSubject",237],"(",")",")",";",["T_WHITESPACE","\n\n    ",237],["T_COMMENT","\/\/ Break at 29 characters where there's no boundary before that.\n",239],["T_WHITESPACE","    ",240],["T_VARIABLE","$body_text2",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'LoremipsumloremipsumLoremingipsumLoremipsum'",240],";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$comment2",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","postComment",241],"(",["T_STRING","NULL",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$body_text2",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],",",["T_WHITESPACE"," ",241],["T_STRING","TRUE",241],")",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertEqual",242],"(",["T_CONSTANT_ENCAPSED_STRING","'LoremipsumloremipsumLoreming\u00e2\u0080\u00a6'",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$comment2",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getSubject",242],"(",")",")",";",["T_WHITESPACE","\n  ",242],"}",["T_WHITESPACE","\n\n  ",243],["T_DOC_COMMENT","\/**\n   * Test that automatic subject is correctly created from HTML comment text.\n   *\n   * This is the same test as in CommentInterfaceTest::testAutoFilledSubject()\n   * with the additional check that HTML is stripped appropriately prior to\n   * character-counting.\n   *\/",245],["T_WHITESPACE","\n  ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","testAutoFilledHtmlSubject",252],"(",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n    ",252],["T_COMMENT","\/\/ Set up two default (i.e. filtered HTML) input formats, because then we\n",253],["T_WHITESPACE","    ",254],["T_COMMENT","\/\/ can select one of them. Then create a user that can use these formats,\n",254],["T_WHITESPACE","    ",255],["T_COMMENT","\/\/ log the user in, and then GET the node page on which to test the\n",255],["T_WHITESPACE","    ",256],["T_COMMENT","\/\/ comments.\n",256],["T_WHITESPACE","    ",257],["T_VARIABLE","$filtered_html_format",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","FilterFormat",257],["T_DOUBLE_COLON","::",257],["T_STRING","create",257],"(",["T_ARRAY","array",257],"(",["T_WHITESPACE","\n      ",257],["T_CONSTANT_ENCAPSED_STRING","'format'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",258],",",["T_WHITESPACE","\n      ",258],["T_CONSTANT_ENCAPSED_STRING","'name'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Filtered HTML'",259],",",["T_WHITESPACE","\n    ",259],")",")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$filtered_html_format",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","save",261],"(",")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$full_html_format",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","FilterFormat",262],["T_DOUBLE_COLON","::",262],["T_STRING","create",262],"(",["T_ARRAY","array",262],"(",["T_WHITESPACE","\n      ",262],["T_CONSTANT_ENCAPSED_STRING","'format'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'full_html'",263],",",["T_WHITESPACE","\n      ",263],["T_CONSTANT_ENCAPSED_STRING","'name'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'Full HTML'",264],",",["T_WHITESPACE","\n    ",264],")",")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$full_html_format",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","save",266],"(",")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$html_user",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","drupalCreateUser",267],"(",["T_ARRAY","array",267],"(",["T_WHITESPACE","\n      ",267],["T_CONSTANT_ENCAPSED_STRING","'access comments'",268],",",["T_WHITESPACE","\n      ",268],["T_CONSTANT_ENCAPSED_STRING","'post comments'",269],",",["T_WHITESPACE","\n      ",269],["T_CONSTANT_ENCAPSED_STRING","'edit own comments'",270],",",["T_WHITESPACE","\n      ",270],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",271],",",["T_WHITESPACE","\n      ",271],["T_CONSTANT_ENCAPSED_STRING","'access content'",272],",",["T_WHITESPACE","\n      ",272],["T_VARIABLE","$filtered_html_format",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getPermissionName",273],"(",")",",",["T_WHITESPACE","\n      ",273],["T_VARIABLE","$full_html_format",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getPermissionName",274],"(",")",",",["T_WHITESPACE","\n    ",274],")",")",";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","drupalLogin",276],"(",["T_VARIABLE","$html_user",276],")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","drupalGet",277],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",277],["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","node",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","id",277],"(",")",")",";",["T_WHITESPACE","\n\n    ",277],["T_COMMENT","\/\/ HTML should not be included in the character count.\n",279],["T_WHITESPACE","    ",280],["T_VARIABLE","$body_text1",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'<span><\/span><strong> <\/strong><span> <\/span><strong><\/strong>Hello World<br \/>'",280],";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$edit1",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_WHITESPACE","\n      ",281],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$body_text1",282],",",["T_WHITESPACE","\n      ",282],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][format]'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",283],",",["T_WHITESPACE","\n    ",283],")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","drupalPostForm",285],"(",["T_STRING","NULL",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$edit1",285],",",["T_WHITESPACE"," ",285],["T_STRING","t",285],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",285],")",")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertEqual",286],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",286],",",["T_WHITESPACE"," ",286],["T_STRING","Comment",286],["T_DOUBLE_COLON","::",286],["T_STRING","load",286],"(",["T_LNUMBER","1",286],")",["T_OBJECT_OPERATOR","->",286],["T_STRING","getSubject",286],"(",")",")",";",["T_WHITESPACE","\n\n    ",286],["T_COMMENT","\/\/ If there's nothing other than HTML, the subject should be '(No subject)'.\n",288],["T_WHITESPACE","    ",289],["T_VARIABLE","$body_text2",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'<span><\/span><strong> <\/strong><span> <\/span><strong><\/strong> <br \/>'",289],";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$edit2",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_ARRAY","array",290],"(",["T_WHITESPACE","\n      ",290],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$body_text2",291],",",["T_WHITESPACE","\n      ",291],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][format]'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",292],",",["T_WHITESPACE","\n    ",292],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","drupalPostForm",294],"(",["T_STRING","NULL",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$edit2",294],",",["T_WHITESPACE"," ",294],["T_STRING","t",294],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",294],")",")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertEqual",295],"(",["T_CONSTANT_ENCAPSED_STRING","'(No subject)'",295],",",["T_WHITESPACE"," ",295],["T_STRING","Comment",295],["T_DOUBLE_COLON","::",295],["T_STRING","load",295],"(",["T_LNUMBER","2",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","getSubject",295],"(",")",")",";",["T_WHITESPACE","\n  ",295],"}",["T_WHITESPACE","\n\n  ",296],["T_DOC_COMMENT","\/**\n   * Tests the comment formatter configured with a custom comment view mode.\n   *\/",298],["T_WHITESPACE","\n  ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","testViewMode",301],"(",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","drupalLogin",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","webUser",302],")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","drupalGet",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","node",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","toUrl",303],"(",")",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$comment_text",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","randomMachineName",304],"(",")",";",["T_WHITESPACE","\n    ",304],["T_COMMENT","\/\/ Post a comment.\n",305],["T_WHITESPACE","    ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","postComment",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","node",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$comment_text",306],")",";",["T_WHITESPACE","\n\n    ",306],["T_COMMENT","\/\/ Comment displayed in 'default' display mode found and has body text.\n",308],["T_WHITESPACE","    ",309],["T_VARIABLE","$comment_element",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","cssSelect",309],"(",["T_CONSTANT_ENCAPSED_STRING","'.comment-wrapper'",309],")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertTrue",310],"(","!",["T_EMPTY","empty",310],"(",["T_VARIABLE","$comment_element",310],")",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assertRaw",311],"(",["T_CONSTANT_ENCAPSED_STRING","'<p>'",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$comment_text",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",311],")",";",["T_WHITESPACE","\n\n    ",311],["T_COMMENT","\/\/ Create a new comment entity view mode.\n",313],["T_WHITESPACE","    ",314],["T_VARIABLE","$mode",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","Unicode",314],["T_DOUBLE_COLON","::",314],["T_STRING","strtolower",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","randomMachineName",314],"(",")",")",";",["T_WHITESPACE","\n    ",314],["T_STRING","EntityViewMode",315],["T_DOUBLE_COLON","::",315],["T_STRING","create",315],"(","[",["T_WHITESPACE","\n      ",315],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'comment'",316],",",["T_WHITESPACE","\n      ",316],["T_CONSTANT_ENCAPSED_STRING","'id'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],"\"",["T_ENCAPSED_AND_WHITESPACE","comment.",317],["T_VARIABLE","$mode",317],"\"",",",["T_WHITESPACE","\n    ",317],"]",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","save",318],"(",")",";",["T_WHITESPACE","\n    ",318],["T_COMMENT","\/\/ Create the corresponding entity view display for article node-type. Note\n",319],["T_WHITESPACE","    ",320],["T_COMMENT","\/\/ that this new view display mode doesn't contain the comment body.\n",320],["T_WHITESPACE","    ",321],["T_STRING","EntityViewDisplay",321],["T_DOUBLE_COLON","::",321],["T_STRING","create",321],"(","[",["T_WHITESPACE","\n      ",321],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'comment'",322],",",["T_WHITESPACE","\n      ",322],["T_CONSTANT_ENCAPSED_STRING","'bundle'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'comment'",323],",",["T_WHITESPACE","\n      ",323],["T_CONSTANT_ENCAPSED_STRING","'mode'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$mode",324],",",["T_WHITESPACE","\n    ",324],"]",")",["T_OBJECT_OPERATOR","->",325],["T_STRING","setStatus",325],"(",["T_STRING","TRUE",325],")",["T_OBJECT_OPERATOR","->",325],["T_STRING","save",325],"(",")",";",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\Display\\EntityViewDisplayInterface $node_display *\/",327],["T_WHITESPACE","\n    ",327],["T_VARIABLE","$node_display",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","EntityViewDisplay",328],["T_DOUBLE_COLON","::",328],["T_STRING","load",328],"(",["T_CONSTANT_ENCAPSED_STRING","'node.article.default'",328],")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$formatter",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$node_display",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getComponent",329],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",329],")",";",["T_WHITESPACE","\n    ",329],["T_COMMENT","\/\/ Change the node comment field formatter to use $mode mode instead of\n",330],["T_WHITESPACE","    ",331],["T_COMMENT","\/\/ 'default' mode.\n",331],["T_WHITESPACE","    ",332],["T_VARIABLE","$formatter",332],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",332],"]","[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",332],"]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$mode",332],";",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$node_display",333],["T_WHITESPACE","\n      ",333],["T_OBJECT_OPERATOR","->",334],["T_STRING","setComponent",334],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$formatter",334],")",["T_WHITESPACE","\n      ",334],["T_OBJECT_OPERATOR","->",335],["T_STRING","save",335],"(",")",";",["T_WHITESPACE","\n\n    ",335],["T_COMMENT","\/\/ Reloading the node page to show the same node with its same comment but\n",337],["T_WHITESPACE","    ",338],["T_COMMENT","\/\/ with a different display mode.\n",338],["T_WHITESPACE","    ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","drupalGet",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","node",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","toUrl",339],"(",")",")",";",["T_WHITESPACE","\n    ",339],["T_COMMENT","\/\/ The comment should exist but without the body text because we used $mode\n",340],["T_WHITESPACE","    ",341],["T_COMMENT","\/\/ mode this time.\n",341],["T_WHITESPACE","    ",342],["T_VARIABLE","$comment_element",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","cssSelect",342],"(",["T_CONSTANT_ENCAPSED_STRING","'.comment-wrapper'",342],")",";",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","assertTrue",343],"(","!",["T_EMPTY","empty",343],"(",["T_VARIABLE","$comment_element",343],")",")",";",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","assertNoRaw",344],"(",["T_CONSTANT_ENCAPSED_STRING","'<p>'",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_VARIABLE","$comment_text",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",344],")",";",["T_WHITESPACE","\n  ",344],"}",["T_WHITESPACE","\n\n",345],"}",["T_WHITESPACE","\n",347]]