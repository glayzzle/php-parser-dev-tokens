[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests to ensure that appropriate and accessible markup is created for comment\n * titles.\n *\n * @group comment\n *\/",5],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","CommentTitleTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","CommentTestBase",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n  ",11],["T_DOC_COMMENT","\/**\n   * Tests markup for comments with empty titles.\n   *\/",12],["T_WHITESPACE","\n  ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testCommentEmptyTitles",15],"(",")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n    ",15],["T_COMMENT","\/\/ Installs module that sets comments to an empty string.\n",16],["T_WHITESPACE","    ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Drupal",17],["T_DOUBLE_COLON","::",17],["T_STRING","service",17],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",17],")",["T_OBJECT_OPERATOR","->",17],["T_STRING","install",17],"(",["T_ARRAY","array",17],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_empty_title_test'",17],")",")",";",["T_WHITESPACE","\n\n    ",17],["T_COMMENT","\/\/ Set comments to have a subject with preview disabled.\n",19],["T_WHITESPACE","    ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","setCommentPreview",20],"(",["T_STRING","DRUPAL_DISABLED",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","setCommentForm",21],"(",["T_STRING","TRUE",21],")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","setCommentSubject",22],"(",["T_STRING","TRUE",22],")",";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/\/ Create a node.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","drupalLogin",25],"(",["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","webUser",25],")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","node",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalCreateNode",26],"(",["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'article'",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'promote'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_LNUMBER","1",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'uid'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","webUser",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","id",26],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",26],["T_COMMENT","\/\/ Post comment #1 and verify that h3's are not rendered.\n",28],["T_WHITESPACE","    ",29],["T_VARIABLE","$subject_text",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","randomMachineName",29],"(",")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$comment_text",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","randomMachineName",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$comment",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","postComment",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","node",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$comment_text",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$subject_text",31],",",["T_WHITESPACE"," ",31],["T_STRING","TRUE",31],")",";",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/\/ Confirm that the comment was created.\n",32],["T_WHITESPACE","    ",33],["T_VARIABLE","$regex",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'\/<a id=\"comment-'",33],["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_VARIABLE","$comment",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","id",33],"(",")",["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'\"(.*?)'",33],";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$regex",34],["T_WHITESPACE"," ",34],["T_CONCAT_EQUAL",".=",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$comment",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","comment_body",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","value",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'(.*?)'",34],";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$regex",35],["T_WHITESPACE"," ",35],["T_CONCAT_EQUAL",".=",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'\/s'",35],";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertPattern",36],"(",["T_VARIABLE","$regex",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Comment is created successfully'",36],")",";",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ Tests that markup is not generated for the comment without header.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertNoPattern",38],"(",["T_CONSTANT_ENCAPSED_STRING","'|<h3[^>]*><\/h3>|'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Comment title H3 element not found when title is an empty string.'",38],")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Tests markup for comments with populated titles.\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testCommentPopulatedTitles",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ Set comments to have a subject with preview disabled.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setCommentPreview",46],"(",["T_STRING","DRUPAL_DISABLED",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setCommentForm",47],"(",["T_STRING","TRUE",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setCommentSubject",48],"(",["T_STRING","TRUE",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Create a node.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalLogin",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","webUser",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","node",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalCreateNode",52],"(",["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'article'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'promote'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_LNUMBER","1",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'uid'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","webUser",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","id",52],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Post comment #1 and verify that title is rendered in h3.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$subject_text",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","randomMachineName",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$comment_text",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$comment1",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","postComment",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","node",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$comment_text",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$subject_text",57],",",["T_WHITESPACE"," ",57],["T_STRING","TRUE",57],")",";",["T_WHITESPACE","\n    ",57],["T_COMMENT","\/\/ Confirm that the comment was created.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertTrue",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","commentExists",59],"(",["T_VARIABLE","$comment1",59],")",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Comment #1. Comment found.'",59],")",";",["T_WHITESPACE","\n    ",59],["T_COMMENT","\/\/ Tests that markup is created for comment with heading.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertPattern",61],"(",["T_CONSTANT_ENCAPSED_STRING","'|<h3[^>]*><a[^>]*>'",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$subject_text",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'<\/a><\/h3>|'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Comment title is rendered in h3 when title populated.'",61],")",";",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ Tests that the comment's title link is the permalink of the comment.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$comment_permalink",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","cssSelect",63],"(",["T_CONSTANT_ENCAPSED_STRING","'.permalink'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$comment_permalink",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING_CAST","(string)",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$comment_permalink",64],"[",["T_LNUMBER","0",64],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",64],"]",";",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Tests that the comment's title link contains the url fragment.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertTrue",66],"(",["T_STRING","strpos",66],"(",["T_VARIABLE","$comment_permalink",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'#comment-'",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_VARIABLE","$comment1",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"The comment's title link contains the url fragment.\"",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$comment1",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","permalink",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","toString",67],"(",")",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$comment_permalink",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"The comment's title has the correct link.\"",67],")",";",["T_WHITESPACE","\n  ",67],"}",["T_WHITESPACE","\n\n",68],"}",["T_WHITESPACE","\n",70]]