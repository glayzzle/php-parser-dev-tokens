[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentManagerInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests to make sure the comment number increments properly.\n *\n * @group comment\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","CommentThreadingTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","CommentTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n  ",12],["T_DOC_COMMENT","\/**\n   * Tests the comment threading.\n   *\/",13],["T_WHITESPACE","\n  ",15],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","testCommentThreading",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_COMMENT","\/\/ Set comments to have a subject with preview disabled.\n",17],["T_WHITESPACE","    ",18],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","drupalLogin",18],"(",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","adminUser",18],")",";",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","setCommentPreview",19],"(",["T_STRING","DRUPAL_DISABLED",19],")",";",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","setCommentForm",20],"(",["T_STRING","TRUE",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","setCommentSubject",21],"(",["T_STRING","TRUE",21],")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","setCommentSettings",22],"(",["T_CONSTANT_ENCAPSED_STRING","'default_mode'",22],",",["T_WHITESPACE"," ",22],["T_STRING","CommentManagerInterface",22],["T_DOUBLE_COLON","::",22],["T_STRING","COMMENT_MODE_THREADED",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'Comment paging changed.'",22],")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","drupalLogout",23],"(",")",";",["T_WHITESPACE","\n\n    ",23],["T_COMMENT","\/\/ Create a node.\n",25],["T_WHITESPACE","    ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalLogin",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","webUser",26],")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","node",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalCreateNode",27],"(",["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'article'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'promote'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_LNUMBER","1",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'uid'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","webUser",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","id",27],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ Post comment #1.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalLogin",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","webUser",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$subject_text",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","randomMachineName",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$comment_text",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","randomMachineName",32],"(",")",";",["T_WHITESPACE","\n\n    ",32],["T_VARIABLE","$comment1",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","postComment",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","node",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$comment_text",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$subject_text",34],",",["T_WHITESPACE"," ",34],["T_STRING","TRUE",34],")",";",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertTrue",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","commentExists",36],"(",["T_VARIABLE","$comment1",36],")",",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Comment #1. Comment found.'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertEqual",37],"(",["T_VARIABLE","$comment1",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getThread",37],"(",")",",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'01\/'",37],")",";",["T_WHITESPACE","\n    ",37],["T_COMMENT","\/\/ Confirm that there is no reference to a parent comment.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertNoParentLink",39],"(",["T_VARIABLE","$comment1",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","id",39],"(",")",")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Post comment #2 following the comment #1 to test if it correctly jumps\n",41],["T_WHITESPACE","    ",42],["T_COMMENT","\/\/ out the indentation in case there is a thread above.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$subject_text",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","randomMachineName",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$comment_text",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","randomMachineName",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","postComment",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","node",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$comment_text",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$subject_text",45],",",["T_WHITESPACE"," ",45],["T_STRING","TRUE",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Reply to comment #1 creating comment #1_3.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalGet",48],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","node",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","id",48],"(",")",["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_VARIABLE","$comment1",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","id",48],"(",")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$comment1_3",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","postComment",49],"(",["T_STRING","NULL",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","randomMachineName",49],"(",")",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","''",49],",",["T_WHITESPACE"," ",49],["T_STRING","TRUE",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertTrue",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","commentExists",52],"(",["T_VARIABLE","$comment1_3",52],",",["T_WHITESPACE"," ",52],["T_STRING","TRUE",52],")",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Comment #1_3. Reply found.'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_VARIABLE","$comment1_3",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getThread",53],"(",")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'01.00\/'",53],")",";",["T_WHITESPACE","\n    ",53],["T_COMMENT","\/\/ Confirm that there is a link to the parent comment.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertParentLink",55],"(",["T_VARIABLE","$comment1_3",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","id",55],"(",")",",",["T_WHITESPACE"," ",55],["T_VARIABLE","$comment1",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","id",55],"(",")",")",";",["T_WHITESPACE","\n\n\n    ",55],["T_COMMENT","\/\/ Reply to comment #1_3 creating comment #1_3_4.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalGet",59],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","node",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","id",59],"(",")",["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$comment1_3",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","id",59],"(",")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$comment1_3_4",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","postComment",60],"(",["T_STRING","NULL",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","randomMachineName",60],"(",")",",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","randomMachineName",60],"(",")",",",["T_WHITESPACE"," ",60],["T_STRING","TRUE",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertTrue",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","commentExists",63],"(",["T_VARIABLE","$comment1_3_4",63],",",["T_WHITESPACE"," ",63],["T_STRING","TRUE",63],")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Comment #1_3_4. Second reply found.'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_VARIABLE","$comment1_3_4",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getThread",64],"(",")",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'01.00.00\/'",64],")",";",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Confirm that there is a link to the parent comment.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertParentLink",66],"(",["T_VARIABLE","$comment1_3_4",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",",",["T_WHITESPACE"," ",66],["T_VARIABLE","$comment1_3",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Reply to comment #1 creating comment #1_5.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","drupalGet",69],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","node",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$comment1",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$comment1_5",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","postComment",71],"(",["T_STRING","NULL",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","randomMachineName",71],"(",")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],",",["T_WHITESPACE"," ",71],["T_STRING","TRUE",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertTrue",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","commentExists",74],"(",["T_VARIABLE","$comment1_5",74],")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Comment #1_5. Third reply found.'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEqual",75],"(",["T_VARIABLE","$comment1_5",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getThread",75],"(",")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'01.01\/'",75],")",";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/\/ Confirm that there is a link to the parent comment.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertParentLink",77],"(",["T_VARIABLE","$comment1_5",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","id",77],"(",")",",",["T_WHITESPACE"," ",77],["T_VARIABLE","$comment1",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","id",77],"(",")",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Post comment #3 overall comment #5.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalLogin",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","webUser",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$subject_text",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","randomMachineName",81],"(",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$comment_text",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","randomMachineName",82],"(",")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$comment5",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","postComment",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","node",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$comment_text",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$subject_text",84],",",["T_WHITESPACE"," ",84],["T_STRING","TRUE",84],")",";",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertTrue",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","commentExists",86],"(",["T_VARIABLE","$comment5",86],")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Comment #5. Second comment found.'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEqual",87],"(",["T_VARIABLE","$comment5",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getThread",87],"(",")",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'03\/'",87],")",";",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/\/ Confirm that there is no link to a parent comment.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertNoParentLink",89],"(",["T_VARIABLE","$comment5",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","id",89],"(",")",")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Reply to comment #5 creating comment #5_6.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalGet",92],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","node",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","id",92],"(",")",["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_VARIABLE","$comment5",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","id",92],"(",")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$comment5_6",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","postComment",93],"(",["T_STRING","NULL",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","randomMachineName",93],"(",")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","''",93],",",["T_WHITESPACE"," ",93],["T_STRING","TRUE",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","commentExists",96],"(",["T_VARIABLE","$comment5_6",96],",",["T_WHITESPACE"," ",96],["T_STRING","TRUE",96],")",",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Comment #6. Reply found.'",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEqual",97],"(",["T_VARIABLE","$comment5_6",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getThread",97],"(",")",",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'03.00\/'",97],")",";",["T_WHITESPACE","\n    ",97],["T_COMMENT","\/\/ Confirm that there is a link to the parent comment.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertParentLink",99],"(",["T_VARIABLE","$comment5_6",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","id",99],"(",")",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$comment5",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","id",99],"(",")",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Reply to comment #5_6 creating comment #5_6_7.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","drupalGet",102],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","node",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","id",102],"(",")",["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$comment5_6",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","id",102],"(",")",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$comment5_6_7",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","postComment",103],"(",["T_STRING","NULL",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","randomMachineName",103],"(",")",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","randomMachineName",103],"(",")",",",["T_WHITESPACE"," ",103],["T_STRING","TRUE",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertTrue",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","commentExists",106],"(",["T_VARIABLE","$comment5_6_7",106],",",["T_WHITESPACE"," ",106],["T_STRING","TRUE",106],")",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Comment #5_6_7. Second reply found.'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEqual",107],"(",["T_VARIABLE","$comment5_6_7",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getThread",107],"(",")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'03.00.00\/'",107],")",";",["T_WHITESPACE","\n    ",107],["T_COMMENT","\/\/ Confirm that there is a link to the parent comment.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertParentLink",109],"(",["T_VARIABLE","$comment5_6_7",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","id",109],"(",")",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$comment5_6",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","id",109],"(",")",")",";",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Reply to comment #5 creating comment #5_8.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalGet",112],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","node",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","id",112],"(",")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'\/comment\/'",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$comment5",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","id",112],"(",")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$comment5_8",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","postComment",113],"(",["T_STRING","NULL",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","randomMachineName",113],"(",")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","''",113],",",["T_WHITESPACE"," ",113],["T_STRING","TRUE",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Confirm that the comment was created and has the correct threading.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertTrue",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","commentExists",116],"(",["T_VARIABLE","$comment5_8",116],")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Comment #5_8. Third reply found.'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertEqual",117],"(",["T_VARIABLE","$comment5_8",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getThread",117],"(",")",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'03.01\/'",117],")",";",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Confirm that there is a link to the parent comment.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertParentLink",119],"(",["T_VARIABLE","$comment5_8",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","id",119],"(",")",",",["T_WHITESPACE"," ",119],["T_VARIABLE","$comment5",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","id",119],"(",")",")",";",["T_WHITESPACE","\n  ",119],"}",["T_WHITESPACE","\n\n  ",120],["T_DOC_COMMENT","\/**\n   * Asserts that the link to the specified parent comment is present.\n   *\n   * @param int $cid\n   *   The comment ID to check.\n   * @param int $pid\n   *   The expected parent comment ID.\n   *\/",122],["T_WHITESPACE","\n  ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","assertParentLink",130],"(",["T_VARIABLE","$cid",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$pid",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_COMMENT","\/\/ This pattern matches a markup structure like:\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ <a id=\"comment-2\"><\/a>\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ <article>\n",133],["T_WHITESPACE","    ",134],["T_COMMENT","\/\/   <p class=\"parent\">\n",134],["T_WHITESPACE","    ",135],["T_COMMENT","\/\/     <a href=\"...comment-1\"><\/a>\n",135],["T_WHITESPACE","    ",136],["T_COMMENT","\/\/   <\/p>\n",136],["T_WHITESPACE","    ",137],["T_COMMENT","\/\/  <\/article>\n",137],["T_WHITESPACE","    ",138],["T_VARIABLE","$pattern",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"\"",["T_ENCAPSED_AND_WHITESPACE","\/\/a[@id='comment-",138],["T_VARIABLE","$cid",138],["T_ENCAPSED_AND_WHITESPACE","']\/following-sibling::article\/\/p[contains(@class, 'parent')]\/\/a[contains(@href, 'comment-",138],["T_VARIABLE","$pid",138],["T_ENCAPSED_AND_WHITESPACE","')]",138],"\"",";",["T_WHITESPACE","\n\n    ",138],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertFieldByXpath",140],"(",["T_VARIABLE","$pattern",140],",",["T_WHITESPACE"," ",140],["T_STRING","NULL",140],",",["T_WHITESPACE"," ",140],["T_STRING","format_string",140],"(",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'Comment %cid has a link to parent %pid.'",141],",",["T_WHITESPACE","\n      ",141],["T_ARRAY","array",142],"(",["T_WHITESPACE","\n        ",142],["T_CONSTANT_ENCAPSED_STRING","'%cid'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$cid",143],",",["T_WHITESPACE","\n        ",143],["T_CONSTANT_ENCAPSED_STRING","'%pid'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$pid",144],",",["T_WHITESPACE","\n      ",144],")",["T_WHITESPACE","\n    ",145],")",")",";",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * Asserts that the specified comment does not have a link to a parent.\n   *\n   * @param int $cid\n   *   The comment ID to check.\n   *\/",149],["T_WHITESPACE","\n  ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","assertNoParentLink",155],"(",["T_VARIABLE","$cid",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n    ",155],["T_COMMENT","\/\/ This pattern matches a markup structure like:\n",156],["T_WHITESPACE","    ",157],["T_COMMENT","\/\/ <a id=\"comment-2\"><\/a>\n",157],["T_WHITESPACE","    ",158],["T_COMMENT","\/\/ <article>\n",158],["T_WHITESPACE","    ",159],["T_COMMENT","\/\/   <p class=\"parent\"><\/p>\n",159],["T_WHITESPACE","    ",160],["T_COMMENT","\/\/  <\/article>\n",160],["T_WHITESPACE","\n    ",161],["T_VARIABLE","$pattern",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"\"",["T_ENCAPSED_AND_WHITESPACE","\/\/a[@id='comment-",162],["T_VARIABLE","$cid",162],["T_ENCAPSED_AND_WHITESPACE","']\/following-sibling::article\/\/p[contains(@class, 'parent')]",162],"\"",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertNoFieldByXpath",163],"(",["T_VARIABLE","$pattern",163],",",["T_WHITESPACE"," ",163],["T_STRING","NULL",163],",",["T_WHITESPACE"," ",163],["T_STRING","format_string",163],"(",["T_WHITESPACE","\n      ",163],["T_CONSTANT_ENCAPSED_STRING","'Comment %cid does not have a link to a parent.'",164],",",["T_WHITESPACE","\n      ",164],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n        ",165],["T_CONSTANT_ENCAPSED_STRING","'%cid'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$cid",166],",",["T_WHITESPACE","\n      ",166],")",["T_WHITESPACE","\n    ",167],")",")",";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n",169],"}",["T_WHITESPACE","\n",171]]