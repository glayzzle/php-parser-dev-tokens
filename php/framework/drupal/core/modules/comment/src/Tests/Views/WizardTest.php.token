[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentTestTrait",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Views",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Wizard",7],["T_NS_SEPARATOR","\\",7],["T_STRING","WizardTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the comment module integration into the wizard.\n *\n * @group comment\n * @see \\Drupal\\comment\\Plugin\\views\\wizard\\Comment\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","WizardTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","WizardTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","CommentTestTrait",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'comment'",24],")",";",["T_WHITESPACE","\n\n\n  ",24],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","setUp",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalCreateContentType",32],"(",["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'page'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'name'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_STRING","t",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Basic page'",32],")",")",")",";",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/\/ Add comment field to page node type.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","addDefaultCommentField",34],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'page'",34],")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Tests adding a view of comments.\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testCommentWizard",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$view",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$view",42],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",42],"]",["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","randomMachineName",42],"(",["T_LNUMBER","16",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$view",43],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","strtolower",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","randomMachineName",43],"(",["T_LNUMBER","16",43],")",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$view",44],"[",["T_CONSTANT_ENCAPSED_STRING","'show[wizard_key]'",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'comment'",44],";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$view",45],"[",["T_CONSTANT_ENCAPSED_STRING","'page[create]'",45],"]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","TRUE",45],";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$view",46],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",46],"]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","randomMachineName",46],"(",["T_LNUMBER","16",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Just triggering the saving should automatically choose a proper row\n",48],["T_WHITESPACE","    ",49],["T_COMMENT","\/\/ plugin.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalPostForm",50],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/add'",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$view",50],",",["T_WHITESPACE"," ",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and edit'",50],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertUrl",51],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/'",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$view",51],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",51],"]",",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Make sure the view saving was successful and the browser got redirected to the edit page.'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ If we update the type first we should get a selection of comment valid\n",53],["T_WHITESPACE","    ",54],["T_COMMENT","\/\/ row plugins as the select field.\n",54],["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalGet",56],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/add'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalPostForm",57],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/add'",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$view",57],",",["T_WHITESPACE"," ",57],["T_STRING","t",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Update \"of type\" choice'",57],")",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Check for available options of the row plugin.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$xpath",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","constructFieldXpath",60],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'page[style][row_plugin]'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$fields",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","xpath",61],"(",["T_VARIABLE","$xpath",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$options",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_FOREACH","foreach",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$fields",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$field",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_VARIABLE","$items",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getAllOptions",64],"(",["T_VARIABLE","$field",64],")",";",["T_WHITESPACE","\n      ",64],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$items",65],["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$item",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$options",66],"[","]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$item",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","attributes",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","value",66],";",["T_WHITESPACE","\n      ",66],"}",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$expected_options",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'entity:comment'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'fields'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEqual",70],"(",["T_VARIABLE","$options",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$expected_options",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$view",72],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","strtolower",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","randomMachineName",72],"(",["T_LNUMBER","16",72],")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalPostForm",73],"(",["T_STRING","NULL",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$view",73],",",["T_WHITESPACE"," ",73],["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and edit'",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertUrl",74],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/view\/'",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_VARIABLE","$view",74],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",74],"]",",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Make sure the view saving was successful and the browser got redirected to the edit page.'",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_VARIABLE","$user",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalCreateUser",76],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access comments'",76],"]",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","drupalLogin",77],"(",["T_VARIABLE","$user",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$view",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","Views",79],["T_DOUBLE_COLON","::",79],["T_STRING","getView",79],"(",["T_VARIABLE","$view",79],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",79],"]",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$view",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","initHandlers",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$row",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$view",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","display_handler",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getOption",81],"(",["T_CONSTANT_ENCAPSED_STRING","'row'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_VARIABLE","$row",82],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",82],"]",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'entity:comment'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Check for the default filters.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEqual",85],"(",["T_VARIABLE","$view",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","filter",85],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",85],"]",["T_OBJECT_OPERATOR","->",85],["T_STRING","table",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'comment_field_data'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEqual",86],"(",["T_VARIABLE","$view",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","filter",86],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",86],"]",["T_OBJECT_OPERATOR","->",86],["T_STRING","field",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'status'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertTrue",87],"(",["T_VARIABLE","$view",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","filter",87],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",87],"]",["T_OBJECT_OPERATOR","->",87],["T_STRING","value",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEqual",88],"(",["T_VARIABLE","$view",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","filter",88],"[",["T_CONSTANT_ENCAPSED_STRING","'status_node'",88],"]",["T_OBJECT_OPERATOR","->",88],["T_STRING","table",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'node_field_data'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_VARIABLE","$view",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","filter",89],"[",["T_CONSTANT_ENCAPSED_STRING","'status_node'",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","field",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'status'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertTrue",90],"(",["T_VARIABLE","$view",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","filter",90],"[",["T_CONSTANT_ENCAPSED_STRING","'status_node'",90],"]",["T_OBJECT_OPERATOR","->",90],["T_STRING","value",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Check for the default fields.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$view",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","field",93],"[",["T_CONSTANT_ENCAPSED_STRING","'subject'",93],"]",["T_OBJECT_OPERATOR","->",93],["T_STRING","table",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'comment_field_data'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_VARIABLE","$view",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","field",94],"[",["T_CONSTANT_ENCAPSED_STRING","'subject'",94],"]",["T_OBJECT_OPERATOR","->",94],["T_STRING","field",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'subject'",94],")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n",95],"}",["T_WHITESPACE","\n",97]]