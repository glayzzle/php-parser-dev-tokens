[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Access",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AccessResult",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldItemList",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Session",7],["T_NS_SEPARATOR","\\",7],["T_STRING","AccountInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Defines a item list class for comment fields.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","CommentFieldItemList",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","FieldItemList",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","get",17],"(",["T_VARIABLE","$index",17],")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_COMMENT","\/\/ The Field API only applies the \"field default value\" to newly created\n",18],["T_WHITESPACE","    ",19],["T_COMMENT","\/\/ entities. In the specific case of the \"comment status\", though, we need\n",19],["T_WHITESPACE","    ",20],["T_COMMENT","\/\/ this default value to be also applied for existing entities created\n",20],["T_WHITESPACE","    ",21],["T_COMMENT","\/\/ before the comment field was added, which have no value stored for the\n",21],["T_WHITESPACE","    ",22],["T_COMMENT","\/\/ field.\n",22],["T_WHITESPACE","    ",23],["T_IF","if",23],["T_WHITESPACE"," ",23],"(",["T_VARIABLE","$index",23],["T_WHITESPACE"," ",23],["T_IS_EQUAL","==",23],["T_WHITESPACE"," ",23],["T_LNUMBER","0",23],["T_WHITESPACE"," ",23],["T_BOOLEAN_AND","&&",23],["T_WHITESPACE"," ",23],["T_EMPTY","empty",23],"(",["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","list",23],")",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n      ",23],["T_VARIABLE","$field_default_value",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","getFieldDefinition",24],"(",")",["T_OBJECT_OPERATOR","->",24],["T_STRING","getDefaultValue",24],"(",["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","getEntity",24],"(",")",")",";",["T_WHITESPACE","\n      ",24],["T_RETURN","return",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","appendItem",25],"(",["T_VARIABLE","$field_default_value",25],"[",["T_LNUMBER","0",25],"]",")",";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n    ",26],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_STRING","parent",27],["T_DOUBLE_COLON","::",27],["T_STRING","get",27],"(",["T_VARIABLE","$index",27],")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","offsetExists",33],"(",["T_VARIABLE","$offset",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_COMMENT","\/\/ For consistency with what happens in get(), we force offsetExists() to\n",34],["T_WHITESPACE","    ",35],["T_COMMENT","\/\/ be TRUE for delta 0.\n",35],["T_WHITESPACE","    ",36],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$offset",36],["T_WHITESPACE"," ",36],["T_IS_IDENTICAL","===",36],["T_WHITESPACE"," ",36],["T_LNUMBER","0",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n      ",36],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_STRING","TRUE",37],";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n    ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","offsetExists",39],"(",["T_VARIABLE","$offset",39],")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","access",45],"(",["T_VARIABLE","$operation",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'view'",45],",",["T_WHITESPACE"," ",45],["T_STRING","AccountInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$account",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","NULL",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$return_as_object",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","FALSE",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$operation",46],["T_WHITESPACE"," ",46],["T_IS_IDENTICAL","===",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'edit'",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_COMMENT","\/\/ Only users with administer comments permission can edit the comment\n",47],["T_WHITESPACE","      ",48],["T_COMMENT","\/\/ status field.\n",48],["T_WHITESPACE","      ",49],["T_VARIABLE","$result",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","AccessResult",49],["T_DOUBLE_COLON","::",49],["T_STRING","allowedIfHasPermission",49],"(",["T_VARIABLE","$account",49],["T_WHITESPACE"," ",49],"?",":",["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Drupal",49],["T_DOUBLE_COLON","::",49],["T_STRING","currentUser",49],"(",")",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",49],")",";",["T_WHITESPACE","\n      ",49],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$return_as_object",50],["T_WHITESPACE"," ",50],"?",["T_WHITESPACE"," ",50],["T_VARIABLE","$result",50],["T_WHITESPACE"," ",50],":",["T_WHITESPACE"," ",50],["T_VARIABLE","$result",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","isAllowed",50],"(",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n    ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$operation",52],["T_WHITESPACE"," ",52],["T_IS_IDENTICAL","===",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'view'",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_COMMENT","\/\/ Only users with either post comments or access comments permisison can\n",53],["T_WHITESPACE","      ",54],["T_COMMENT","\/\/ view the field value. The formatter,\n",54],["T_WHITESPACE","      ",55],["T_COMMENT","\/\/ Drupal\\comment\\Plugin\\Field\\FieldFormatter\\CommentDefaultFormatter,\n",55],["T_WHITESPACE","      ",56],["T_COMMENT","\/\/ takes care of showing the thread and form based on individual\n",56],["T_WHITESPACE","      ",57],["T_COMMENT","\/\/ permissions, so if a user only has \u00e2\u0080\u0098post comments\u00e2\u0080\u0099 access, only the\n",57],["T_WHITESPACE","      ",58],["T_COMMENT","\/\/ form will be shown and not the comments.\n",58],["T_WHITESPACE","      ",59],["T_VARIABLE","$result",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","AccessResult",59],["T_DOUBLE_COLON","::",59],["T_STRING","allowedIfHasPermission",59],"(",["T_VARIABLE","$account",59],["T_WHITESPACE"," ",59],"?",":",["T_WHITESPACE"," ",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Drupal",59],["T_DOUBLE_COLON","::",59],["T_STRING","currentUser",59],"(",")",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'access comments'",59],")",["T_WHITESPACE","\n        ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","orIf",60],"(",["T_STRING","AccessResult",60],["T_DOUBLE_COLON","::",60],["T_STRING","allowedIfHasPermission",60],"(",["T_VARIABLE","$account",60],["T_WHITESPACE"," ",60],"?",":",["T_WHITESPACE"," ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Drupal",60],["T_DOUBLE_COLON","::",60],["T_STRING","currentUser",60],"(",")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'post comments'",60],")",")",";",["T_WHITESPACE","\n      ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$return_as_object",61],["T_WHITESPACE"," ",61],"?",["T_WHITESPACE"," ",61],["T_VARIABLE","$result",61],["T_WHITESPACE"," ",61],":",["T_WHITESPACE"," ",61],["T_VARIABLE","$result",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","isAllowed",61],"(",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n    ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","access",63],"(",["T_VARIABLE","$operation",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$account",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$return_as_object",63],")",";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n",64],"}",["T_WHITESPACE","\n",66]]