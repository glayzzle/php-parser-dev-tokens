[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Access",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AccessResult",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityAccessControlHandler",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldDefinitionInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldItemListInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Session",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AccountInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Defines the access control handler for the comment entity type.\n *\n * @see \\Drupal\\comment\\Entity\\Comment\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","CommentAccessControlHandler",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","EntityAccessControlHandler",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","checkAccess",22],"(",["T_STRING","EntityInterface",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$entity",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$operation",22],",",["T_WHITESPACE"," ",22],["T_STRING","AccountInterface",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$account",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/** @var \\Drupal\\comment\\CommentInterface|\\Drupal\\user\\EntityOwnerInterface $entity *\/",23],["T_WHITESPACE","\n\n    ",23],["T_VARIABLE","$comment_admin",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$account",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","hasPermission",25],"(",["T_CONSTANT_ENCAPSED_STRING","'administer comments'",25],")",";",["T_WHITESPACE","\n    ",25],["T_IF","if",26],["T_WHITESPACE"," ",26],"(",["T_VARIABLE","$operation",26],["T_WHITESPACE"," ",26],["T_IS_EQUAL","==",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'approve'",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n      ",26],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_STRING","AccessResult",27],["T_DOUBLE_COLON","::",27],["T_STRING","allowedIf",27],"(",["T_VARIABLE","$comment_admin",27],["T_WHITESPACE"," ",27],["T_BOOLEAN_AND","&&",27],["T_WHITESPACE"," ",27],"!",["T_VARIABLE","$entity",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","isPublished",27],"(",")",")",["T_WHITESPACE","\n        ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","cachePerPermissions",28],"(",")",["T_WHITESPACE","\n        ",28],["T_OBJECT_OPERATOR","->",29],["T_STRING","addCacheableDependency",29],"(",["T_VARIABLE","$entity",29],")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$comment_admin",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n      ",32],["T_VARIABLE","$access",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","AccessResult",33],["T_DOUBLE_COLON","::",33],["T_STRING","allowed",33],"(",")",["T_OBJECT_OPERATOR","->",33],["T_STRING","cachePerPermissions",33],"(",")",";",["T_WHITESPACE","\n      ",33],["T_RETURN","return",34],["T_WHITESPACE"," ",34],"(",["T_VARIABLE","$operation",34],["T_WHITESPACE"," ",34],["T_IS_NOT_EQUAL","!=",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'view'",34],")",["T_WHITESPACE"," ",34],"?",["T_WHITESPACE"," ",34],["T_VARIABLE","$access",34],["T_WHITESPACE"," ",34],":",["T_WHITESPACE"," ",34],["T_VARIABLE","$access",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","andIf",34],"(",["T_VARIABLE","$entity",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getCommentedEntity",34],"(",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","access",34],"(",["T_VARIABLE","$operation",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$account",34],",",["T_WHITESPACE"," ",34],["T_STRING","TRUE",34],")",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_SWITCH","switch",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$operation",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n      ",37],["T_CASE","case",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'view'",38],":",["T_WHITESPACE","\n        ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_STRING","AccessResult",39],["T_DOUBLE_COLON","::",39],["T_STRING","allowedIf",39],"(",["T_VARIABLE","$account",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","hasPermission",39],"(",["T_CONSTANT_ENCAPSED_STRING","'access comments'",39],")",["T_WHITESPACE"," ",39],["T_BOOLEAN_AND","&&",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$entity",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","isPublished",39],"(",")",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","cachePerPermissions",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","addCacheableDependency",39],"(",["T_VARIABLE","$entity",39],")",["T_WHITESPACE","\n          ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","andIf",40],"(",["T_VARIABLE","$entity",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getCommentedEntity",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","access",40],"(",["T_VARIABLE","$operation",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$account",40],",",["T_WHITESPACE"," ",40],["T_STRING","TRUE",40],")",")",";",["T_WHITESPACE","\n\n      ",40],["T_CASE","case",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'update'",42],":",["T_WHITESPACE","\n        ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_STRING","AccessResult",43],["T_DOUBLE_COLON","::",43],["T_STRING","allowedIf",43],"(",["T_VARIABLE","$account",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","id",43],"(",")",["T_WHITESPACE"," ",43],["T_BOOLEAN_AND","&&",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$account",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","id",43],"(",")",["T_WHITESPACE"," ",43],["T_IS_EQUAL","==",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$entity",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getOwnerId",43],"(",")",["T_WHITESPACE"," ",43],["T_BOOLEAN_AND","&&",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$entity",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","isPublished",43],"(",")",["T_WHITESPACE"," ",43],["T_BOOLEAN_AND","&&",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$account",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","hasPermission",43],"(",["T_CONSTANT_ENCAPSED_STRING","'edit own comments'",43],")",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","cachePerPermissions",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","cachePerUser",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","addCacheableDependency",43],"(",["T_VARIABLE","$entity",43],")",";",["T_WHITESPACE","\n\n      ",43],["T_DEFAULT","default",45],":",["T_WHITESPACE","\n        ",45],["T_COMMENT","\/\/ No opinion.\n",46],["T_WHITESPACE","        ",47],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_STRING","AccessResult",47],["T_DOUBLE_COLON","::",47],["T_STRING","neutral",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","cachePerPermissions",47],"(",")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","checkCreateAccess",54],"(",["T_STRING","AccountInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$account",54],",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$context",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$entity_bundle",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","NULL",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_STRING","AccessResult",55],["T_DOUBLE_COLON","::",55],["T_STRING","allowedIfHasPermission",55],"(",["T_VARIABLE","$account",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'post comments'",55],")",";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","checkFieldAccess",61],"(",["T_VARIABLE","$operation",61],",",["T_WHITESPACE"," ",61],["T_STRING","FieldDefinitionInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$field_definition",61],",",["T_WHITESPACE"," ",61],["T_STRING","AccountInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$account",61],",",["T_WHITESPACE"," ",61],["T_STRING","FieldItemListInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$items",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","NULL",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$operation",62],["T_WHITESPACE"," ",62],["T_IS_EQUAL","==",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'edit'",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n      ",62],["T_COMMENT","\/\/ Only users with the \"administer comments\" permission can edit\n",63],["T_WHITESPACE","      ",64],["T_COMMENT","\/\/ administrative fields.\n",64],["T_WHITESPACE","      ",65],["T_VARIABLE","$administrative_fields",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'uid'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'status'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'created'",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'date'",69],",",["T_WHITESPACE","\n      ",69],")",";",["T_WHITESPACE","\n      ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_STRING","in_array",71],"(",["T_VARIABLE","$field_definition",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getName",71],"(",")",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$administrative_fields",71],",",["T_WHITESPACE"," ",71],["T_STRING","TRUE",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_STRING","AccessResult",72],["T_DOUBLE_COLON","::",72],["T_STRING","allowedIfHasPermission",72],"(",["T_VARIABLE","$account",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",72],")",";",["T_WHITESPACE","\n      ",72],"}",["T_WHITESPACE","\n\n      ",73],["T_COMMENT","\/\/ No user can change read-only fields.\n",75],["T_WHITESPACE","      ",76],["T_VARIABLE","$read_only_fields",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_WHITESPACE","\n        ",76],["T_CONSTANT_ENCAPSED_STRING","'hostname'",77],",",["T_WHITESPACE","\n        ",77],["T_CONSTANT_ENCAPSED_STRING","'changed'",78],",",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'cid'",79],",",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'thread'",80],",",["T_WHITESPACE","\n      ",80],")",";",["T_WHITESPACE","\n      ",81],["T_COMMENT","\/\/ These fields can be edited during comment creation.\n",82],["T_WHITESPACE","      ",83],["T_VARIABLE","$create_only_fields",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],"[",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'comment_type'",84],",",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'uuid'",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",86],",",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",87],",",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'field_name'",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'pid'",89],",",["T_WHITESPACE","\n      ",89],"]",";",["T_WHITESPACE","\n      ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$items",91],["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$entity",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$items",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getEntity",91],"(",")",")",["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$entity",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","isNew",91],"(",")",["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],["T_STRING","in_array",91],"(",["T_VARIABLE","$field_definition",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getName",91],"(",")",",",["T_WHITESPACE"," ",91],["T_VARIABLE","$create_only_fields",91],",",["T_WHITESPACE"," ",91],["T_STRING","TRUE",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n        ",91],["T_COMMENT","\/\/ We are creating a new comment, user can edit create only fields.\n",92],["T_WHITESPACE","        ",93],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_STRING","AccessResult",93],["T_DOUBLE_COLON","::",93],["T_STRING","allowedIfHasPermission",93],"(",["T_VARIABLE","$account",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'post comments'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","addCacheableDependency",93],"(",["T_VARIABLE","$entity",93],")",";",["T_WHITESPACE","\n      ",93],"}",["T_WHITESPACE","\n      ",94],["T_COMMENT","\/\/ We are editing an existing comment - create only fields are now read\n",95],["T_WHITESPACE","      ",96],["T_COMMENT","\/\/ only.\n",96],["T_WHITESPACE","      ",97],["T_VARIABLE","$read_only_fields",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","array_merge",97],"(",["T_VARIABLE","$read_only_fields",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$create_only_fields",97],")",";",["T_WHITESPACE","\n      ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_STRING","in_array",98],"(",["T_VARIABLE","$field_definition",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getName",98],"(",")",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$read_only_fields",98],",",["T_WHITESPACE"," ",98],["T_STRING","TRUE",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","AccessResult",99],["T_DOUBLE_COLON","::",99],["T_STRING","forbidden",99],"(",")",";",["T_WHITESPACE","\n      ",99],"}",["T_WHITESPACE","\n\n      ",100],["T_COMMENT","\/\/ If the field is configured to accept anonymous contact details - admins\n",102],["T_WHITESPACE","      ",103],["T_COMMENT","\/\/ can edit name, homepage and mail. Anonymous users can also fill in the\n",103],["T_WHITESPACE","      ",104],["T_COMMENT","\/\/ fields on comment creation.\n",104],["T_WHITESPACE","      ",105],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_STRING","in_array",105],"(",["T_VARIABLE","$field_definition",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getName",105],"(",")",",",["T_WHITESPACE"," ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'mail'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'homepage'",105],"]",",",["T_WHITESPACE"," ",105],["T_STRING","TRUE",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(","!",["T_VARIABLE","$items",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n          ",106],["T_COMMENT","\/\/ We cannot make a decision about access to edit these fields if we\n",107],["T_WHITESPACE","          ",108],["T_COMMENT","\/\/ don't have any items and therefore cannot determine the Comment\n",108],["T_WHITESPACE","          ",109],["T_COMMENT","\/\/ entity. In this case we err on the side of caution and prevent edit\n",109],["T_WHITESPACE","          ",110],["T_COMMENT","\/\/ access.\n",110],["T_WHITESPACE","          ",111],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_STRING","AccessResult",111],["T_DOUBLE_COLON","::",111],["T_STRING","forbidden",111],"(",")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$is_name",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$field_definition",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getName",113],"(",")",["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'name'",113],";",["T_WHITESPACE","\n        ",113],["T_DOC_COMMENT","\/** @var \\Drupal\\comment\\CommentInterface $entity *\/",114],["T_WHITESPACE","\n        ",114],["T_VARIABLE","$entity",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$items",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getEntity",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$commented_entity",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$entity",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getCommentedEntity",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$anonymous_contact",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$commented_entity",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","get",117],"(",["T_VARIABLE","$entity",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getFieldName",117],"(",")",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getFieldDefinition",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getSetting",117],"(",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$admin_access",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","AccessResult",118],["T_DOUBLE_COLON","::",118],["T_STRING","allowedIfHasPermission",118],"(",["T_VARIABLE","$account",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$anonymous_access",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","AccessResult",119],["T_DOUBLE_COLON","::",119],["T_STRING","allowedIf",119],"(",["T_VARIABLE","$entity",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isNew",119],"(",")",["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$account",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isAnonymous",119],"(",")",["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$anonymous_contact",119],["T_WHITESPACE"," ",119],["T_IS_NOT_EQUAL","!=",119],["T_WHITESPACE"," ",119],["T_STRING","COMMENT_ANONYMOUS_MAYNOT_CONTACT",119],["T_WHITESPACE"," ",119],["T_BOOLEAN_OR","||",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$is_name",119],")",["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$account",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","hasPermission",119],"(",["T_CONSTANT_ENCAPSED_STRING","'post comments'",119],")",")",["T_WHITESPACE","\n          ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","cachePerPermissions",120],"(",")",["T_WHITESPACE","\n          ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","addCacheableDependency",121],"(",["T_VARIABLE","$entity",121],")",["T_WHITESPACE","\n          ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","addCacheableDependency",122],"(",["T_VARIABLE","$field_definition",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getConfig",122],"(",["T_VARIABLE","$commented_entity",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","bundle",122],"(",")",")",")",["T_WHITESPACE","\n          ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","addCacheableDependency",123],"(",["T_VARIABLE","$commented_entity",123],")",";",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$admin_access",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","orIf",124],"(",["T_VARIABLE","$anonymous_access",124],")",";",["T_WHITESPACE","\n      ",124],"}",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$operation",128],["T_WHITESPACE"," ",128],["T_IS_EQUAL","==",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'view'",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n      ",128],["T_COMMENT","\/\/ Nobody has access to the hostname.\n",129],["T_WHITESPACE","      ",130],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$field_definition",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getName",130],"(",")",["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'hostname'",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_STRING","AccessResult",131],["T_DOUBLE_COLON","::",131],["T_STRING","forbidden",131],"(",")",";",["T_WHITESPACE","\n      ",131],"}",["T_WHITESPACE","\n      ",132],["T_COMMENT","\/\/ The mail field is hidden from non-admins.\n",133],["T_WHITESPACE","      ",134],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$field_definition",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getName",134],"(",")",["T_WHITESPACE"," ",134],["T_IS_EQUAL","==",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'mail'",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","AccessResult",135],["T_DOUBLE_COLON","::",135],["T_STRING","allowedIfHasPermission",135],"(",["T_VARIABLE","$account",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",135],")",";",["T_WHITESPACE","\n      ",135],"}",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n    ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","parent",138],["T_DOUBLE_COLON","::",138],["T_STRING","checkFieldAccess",138],"(",["T_VARIABLE","$operation",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$field_definition",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$account",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$items",138],")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n",139],"}",["T_WHITESPACE","\n",141]]