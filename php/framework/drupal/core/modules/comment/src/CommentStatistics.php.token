[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],";",["T_WHITESPACE","\n\n\n",3],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Connection",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldableEntityInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityChangedInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityManagerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","State",11],["T_NS_SEPARATOR","\\",11],["T_STRING","StateInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Session",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AccountInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","user",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityOwnerInterface",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","CommentStatistics",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","CommentStatisticsInterface",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * The current database connection.\n   *\n   * @var \\Drupal\\Core\\Database\\Connection\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$database",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The current logged in user.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$currentUser",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The entity manager service.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManagerInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$entityManager",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * The state service.\n   *\n   * @var \\Drupal\\Core\\State\\StateInterface\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$state",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Constructs the CommentStatistics service.\n   *\n   * @param \\Drupal\\Core\\Database\\Connection $database\n   *   The active database connection.\n   * @param \\Drupal\\Core\\Session\\AccountInterface $current_user\n   *   The current logged in user.\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager service.\n   * @param \\Drupal\\Core\\State\\StateInterface $state\n   *   The state service.\n   *\/",45],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_STRING","Connection",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$database",57],",",["T_WHITESPACE"," ",57],["T_STRING","AccountInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$current_user",57],",",["T_WHITESPACE"," ",57],["T_STRING","EntityManagerInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$entity_manager",57],",",["T_WHITESPACE"," ",57],["T_STRING","StateInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$state",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","database",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$database",58],";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","currentUser",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$current_user",59],";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","entityManager",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$entity_manager",60],";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","state",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$state",61],";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",64],["T_WHITESPACE","\n  ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","read",67],"(",["T_VARIABLE","$entities",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$entity_type",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$accurate",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","TRUE",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$options",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$accurate",68],["T_WHITESPACE"," ",68],"?",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",["T_WHITESPACE"," ",68],":",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'target'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'replica'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$stats",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","database",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","select",69],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'ces'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$options",69],")",["T_WHITESPACE","\n      ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","fields",70],"(",["T_CONSTANT_ENCAPSED_STRING","'ces'",70],")",["T_WHITESPACE","\n      ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","condition",71],"(",["T_CONSTANT_ENCAPSED_STRING","'ces.entity_id'",71],",",["T_WHITESPACE"," ",71],["T_STRING","array_keys",71],"(",["T_VARIABLE","$entities",71],")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'IN'",71],")",["T_WHITESPACE","\n      ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","condition",72],"(",["T_CONSTANT_ENCAPSED_STRING","'ces.entity_type'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$entity_type",72],")",["T_WHITESPACE","\n      ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","execute",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_VARIABLE","$statistics_records",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_WHILE","while",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$entry",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$stats",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","fetchObject",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$statistics_records",77],"[","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$entry",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$statistics_records",79],";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","delete",85],"(",["T_STRING","EntityInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$entity",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","database",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","delete",86],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",86],")",["T_WHITESPACE","\n      ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","condition",87],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],"(",")",")",["T_WHITESPACE","\n      ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","condition",88],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$entity",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getEntityTypeId",88],"(",")",")",["T_WHITESPACE","\n      ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","execute",89],"(",")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","create",95],"(",["T_STRING","FieldableEntityInterface",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$entity",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$fields",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$query",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","database",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","insert",96],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",96],")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","fields",97],"(",["T_ARRAY","array",97],"(",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'field_name'",100],",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'cid'",101],",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",102],",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'last_comment_name'",103],",",["T_WHITESPACE","\n        ",103],["T_CONSTANT_ENCAPSED_STRING","'last_comment_uid'",104],",",["T_WHITESPACE","\n        ",104],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",105],",",["T_WHITESPACE","\n      ",105],")",")",";",["T_WHITESPACE","\n    ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$fields",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$field_name",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$detail",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_COMMENT","\/\/ Skip fields that entity does not have.\n",108],["T_WHITESPACE","      ",109],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_VARIABLE","$entity",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","hasField",109],"(",["T_VARIABLE","$field_name",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n        ",109],["T_CONTINUE","continue",110],";",["T_WHITESPACE","\n      ",110],"}",["T_WHITESPACE","\n      ",111],["T_COMMENT","\/\/ Get the user ID from the entity if it's set, or default to the\n",112],["T_WHITESPACE","      ",113],["T_COMMENT","\/\/ currently logged in user.\n",113],["T_WHITESPACE","      ",114],["T_VARIABLE","$last_comment_uid",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],";",["T_WHITESPACE","\n      ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$entity",115],["T_WHITESPACE"," ",115],["T_INSTANCEOF","instanceof",115],["T_WHITESPACE"," ",115],["T_STRING","EntityOwnerInterface",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$last_comment_uid",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$entity",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getOwnerId",116],"(",")",";",["T_WHITESPACE","\n      ",116],"}",["T_WHITESPACE","\n      ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_ISSET","isset",118],"(",["T_VARIABLE","$last_comment_uid",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_COMMENT","\/\/ Default to current user when entity does not implement\n",119],["T_WHITESPACE","        ",120],["T_COMMENT","\/\/ EntityOwnerInterface or author is not set.\n",120],["T_WHITESPACE","        ",121],["T_VARIABLE","$last_comment_uid",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","currentUser",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","id",121],"(",")",";",["T_WHITESPACE","\n      ",121],"}",["T_WHITESPACE","\n      ",122],["T_COMMENT","\/\/ Default to REQUEST_TIME when entity does not have a changed property.\n",123],["T_WHITESPACE","      ",124],["T_VARIABLE","$last_comment_timestamp",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","REQUEST_TIME",124],";",["T_WHITESPACE","\n      ",124],["T_COMMENT","\/\/ @todo Make comment statistics language aware and add some tests. See\n",125],["T_WHITESPACE","      ",126],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2318875\n",126],["T_WHITESPACE","      ",127],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$entity",127],["T_WHITESPACE"," ",127],["T_INSTANCEOF","instanceof",127],["T_WHITESPACE"," ",127],["T_STRING","EntityChangedInterface",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$last_comment_timestamp",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$entity",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getChangedTimeAcrossTranslations",128],"(",")",";",["T_WHITESPACE","\n      ",128],"}",["T_WHITESPACE","\n      ",129],["T_VARIABLE","$query",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","values",130],"(",["T_ARRAY","array",130],"(",["T_WHITESPACE","\n        ",130],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$entity",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","id",131],"(",")",",",["T_WHITESPACE","\n        ",131],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$entity",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getEntityTypeId",132],"(",")",",",["T_WHITESPACE","\n        ",132],["T_CONSTANT_ENCAPSED_STRING","'field_name'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$field_name",133],",",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'cid'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$last_comment_timestamp",135],",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'last_comment_name'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","NULL",136],",",["T_WHITESPACE","\n        ",136],["T_CONSTANT_ENCAPSED_STRING","'last_comment_uid'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$last_comment_uid",137],",",["T_WHITESPACE","\n        ",137],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],",",["T_WHITESPACE","\n      ",138],")",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$query",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","execute",141],"(",")",";",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",144],["T_WHITESPACE","\n  ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getMaximumCount",147],"(",["T_VARIABLE","$entity_type",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","database",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","query",148],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX(comment_count) FROM {comment_entity_statistics} WHERE entity_type = :entity_type'",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","':entity_type'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$entity_type",148],")",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","fetchField",148],"(",")",";",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",151],["T_WHITESPACE","\n  ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","getRankingInfo",154],"(",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'comments'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_WHITESPACE","\n        ",156],["T_CONSTANT_ENCAPSED_STRING","'title'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_STRING","t",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Number of comments'",157],")",",",["T_WHITESPACE","\n        ",157],["T_CONSTANT_ENCAPSED_STRING","'join'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_WHITESPACE","\n          ",158],["T_CONSTANT_ENCAPSED_STRING","'type'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'LEFT'",159],",",["T_WHITESPACE","\n          ",159],["T_CONSTANT_ENCAPSED_STRING","'table'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",160],",",["T_WHITESPACE","\n          ",160],["T_CONSTANT_ENCAPSED_STRING","'alias'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'ces'",161],",",["T_WHITESPACE","\n          ",161],["T_COMMENT","\/\/ Default to comment field as this is the most common use case for\n",162],["T_WHITESPACE","          ",163],["T_COMMENT","\/\/ nodes.\n",163],["T_WHITESPACE","          ",164],["T_CONSTANT_ENCAPSED_STRING","'on'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"ces.entity_id = i.sid AND ces.entity_type = 'node' AND ces.field_name = 'comment'\"",164],",",["T_WHITESPACE","\n        ",164],")",",",["T_WHITESPACE","\n        ",165],["T_COMMENT","\/\/ Inverse law that maps the highest view count on the site to 1 and 0\n",166],["T_WHITESPACE","        ",167],["T_COMMENT","\/\/ to 0. Note that the ROUND here is necessary for PostgreSQL and SQLite\n",167],["T_WHITESPACE","        ",168],["T_COMMENT","\/\/ in order to ensure that the :comment_scale argument is treated as\n",168],["T_WHITESPACE","        ",169],["T_COMMENT","\/\/ a numeric type, because the PostgreSQL PDO driver sometimes puts\n",169],["T_WHITESPACE","        ",170],["T_COMMENT","\/\/ values in as strings instead of numbers in complex expressions like\n",170],["T_WHITESPACE","        ",171],["T_COMMENT","\/\/ this.\n",171],["T_WHITESPACE","        ",172],["T_CONSTANT_ENCAPSED_STRING","'score'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'2.0 - 2.0 \/ (1.0 + ces.comment_count * (ROUND(:comment_scale, 4)))'",172],",",["T_WHITESPACE","\n        ",172],["T_CONSTANT_ENCAPSED_STRING","'arguments'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","':comment_scale'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Drupal",173],["T_DOUBLE_COLON","::",173],["T_STRING","state",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","get",173],"(",["T_CONSTANT_ENCAPSED_STRING","'comment.node_comment_statistics_scale'",173],")",["T_WHITESPACE"," ",173],"?",":",["T_WHITESPACE"," ",173],["T_LNUMBER","0",173],")",",",["T_WHITESPACE","\n      ",173],")",",",["T_WHITESPACE","\n    ",174],")",";",["T_WHITESPACE","\n  ",175],"}",["T_WHITESPACE","\n\n  ",176],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",178],["T_WHITESPACE","\n  ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","update",181],"(",["T_STRING","CommentInterface",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$comment",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n    ",181],["T_COMMENT","\/\/ Allow bulk updates and inserts to temporarily disable the maintenance of\n",182],["T_WHITESPACE","    ",183],["T_COMMENT","\/\/ the {comment_entity_statistics} table.\n",183],["T_WHITESPACE","    ",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","!",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","state",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_CONSTANT_ENCAPSED_STRING","'comment.maintain_entity_statistics'",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n      ",184],["T_RETURN","return",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_VARIABLE","$query",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","database",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","select",188],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_field_data'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'c'",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$query",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addExpression",189],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(cid)'",189],")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$count",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$query",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","condition",190],"(",["T_CONSTANT_ENCAPSED_STRING","'c.entity_id'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$comment",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getCommentedEntityId",190],"(",")",")",["T_WHITESPACE","\n      ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","condition",191],"(",["T_CONSTANT_ENCAPSED_STRING","'c.entity_type'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$comment",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getCommentedEntityTypeId",191],"(",")",")",["T_WHITESPACE","\n      ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","condition",192],"(",["T_CONSTANT_ENCAPSED_STRING","'c.field_name'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$comment",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getFieldName",192],"(",")",")",["T_WHITESPACE","\n      ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","condition",193],"(",["T_CONSTANT_ENCAPSED_STRING","'c.status'",193],",",["T_WHITESPACE"," ",193],["T_STRING","CommentInterface",193],["T_DOUBLE_COLON","::",193],["T_STRING","PUBLISHED",193],")",["T_WHITESPACE","\n      ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","condition",194],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",194],",",["T_WHITESPACE"," ",194],["T_LNUMBER","1",194],")",["T_WHITESPACE","\n      ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","execute",195],"(",")",["T_WHITESPACE","\n      ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","fetchField",196],"(",")",";",["T_WHITESPACE","\n\n    ",196],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$count",198],["T_WHITESPACE"," ",198],">",["T_WHITESPACE"," ",198],["T_LNUMBER","0",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n      ",198],["T_COMMENT","\/\/ Comments exist.\n",199],["T_WHITESPACE","      ",200],["T_VARIABLE","$last_reply",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","database",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","select",200],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_field_data'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'c'",200],")",["T_WHITESPACE","\n        ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","fields",201],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",201],",",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_CONSTANT_ENCAPSED_STRING","'cid'",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'name'",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'changed'",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'uid'",201],")",")",["T_WHITESPACE","\n        ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","condition",202],"(",["T_CONSTANT_ENCAPSED_STRING","'c.entity_id'",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$comment",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getCommentedEntityId",202],"(",")",")",["T_WHITESPACE","\n        ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","condition",203],"(",["T_CONSTANT_ENCAPSED_STRING","'c.entity_type'",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$comment",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getCommentedEntityTypeId",203],"(",")",")",["T_WHITESPACE","\n        ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","condition",204],"(",["T_CONSTANT_ENCAPSED_STRING","'c.field_name'",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$comment",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getFieldName",204],"(",")",")",["T_WHITESPACE","\n        ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","condition",205],"(",["T_CONSTANT_ENCAPSED_STRING","'c.status'",205],",",["T_WHITESPACE"," ",205],["T_STRING","CommentInterface",205],["T_DOUBLE_COLON","::",205],["T_STRING","PUBLISHED",205],")",["T_WHITESPACE","\n        ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","condition",206],"(",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",206],",",["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],")",["T_WHITESPACE","\n        ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","orderBy",207],"(",["T_CONSTANT_ENCAPSED_STRING","'c.created'",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'DESC'",207],")",["T_WHITESPACE","\n        ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","range",208],"(",["T_LNUMBER","0",208],",",["T_WHITESPACE"," ",208],["T_LNUMBER","1",208],")",["T_WHITESPACE","\n        ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","execute",209],"(",")",["T_WHITESPACE","\n        ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","fetchObject",210],"(",")",";",["T_WHITESPACE","\n      ",210],["T_COMMENT","\/\/ Use merge here because entity could be created before comment field.\n",211],["T_WHITESPACE","      ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","database",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","merge",212],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",212],")",["T_WHITESPACE","\n        ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","fields",213],"(",["T_ARRAY","array",213],"(",["T_WHITESPACE","\n          ",213],["T_CONSTANT_ENCAPSED_STRING","'cid'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$last_reply",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","cid",214],",",["T_WHITESPACE","\n          ",214],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$count",215],",",["T_WHITESPACE","\n          ",215],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$last_reply",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","changed",216],",",["T_WHITESPACE","\n          ",216],["T_CONSTANT_ENCAPSED_STRING","'last_comment_name'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$last_reply",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","uid",217],["T_WHITESPACE"," ",217],"?",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],["T_WHITESPACE"," ",217],":",["T_WHITESPACE"," ",217],["T_VARIABLE","$last_reply",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","name",217],",",["T_WHITESPACE","\n          ",217],["T_CONSTANT_ENCAPSED_STRING","'last_comment_uid'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$last_reply",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","uid",218],",",["T_WHITESPACE","\n        ",218],")",")",["T_WHITESPACE","\n        ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","keys",220],"(",["T_ARRAY","array",220],"(",["T_WHITESPACE","\n          ",220],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$comment",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getCommentedEntityId",221],"(",")",",",["T_WHITESPACE","\n          ",221],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$comment",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getCommentedEntityTypeId",222],"(",")",",",["T_WHITESPACE","\n          ",222],["T_CONSTANT_ENCAPSED_STRING","'field_name'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$comment",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getFieldName",223],"(",")",",",["T_WHITESPACE","\n        ",223],")",")",["T_WHITESPACE","\n        ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","execute",225],"(",")",";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n    ",226],["T_ELSE","else",227],["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n      ",227],["T_COMMENT","\/\/ Comments do not exist.\n",228],["T_WHITESPACE","      ",229],["T_VARIABLE","$entity",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$comment",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getCommentedEntity",229],"(",")",";",["T_WHITESPACE","\n      ",229],["T_COMMENT","\/\/ Get the user ID from the entity if it's set, or default to the\n",230],["T_WHITESPACE","      ",231],["T_COMMENT","\/\/ currently logged in user.\n",231],["T_WHITESPACE","      ",232],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$entity",232],["T_WHITESPACE"," ",232],["T_INSTANCEOF","instanceof",232],["T_WHITESPACE"," ",232],["T_STRING","EntityOwnerInterface",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$last_comment_uid",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$entity",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getOwnerId",233],"(",")",";",["T_WHITESPACE","\n      ",233],"}",["T_WHITESPACE","\n      ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_ISSET","isset",235],"(",["T_VARIABLE","$last_comment_uid",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n        ",235],["T_COMMENT","\/\/ Default to current user when entity does not implement\n",236],["T_WHITESPACE","        ",237],["T_COMMENT","\/\/ EntityOwnerInterface or author is not set.\n",237],["T_WHITESPACE","        ",238],["T_VARIABLE","$last_comment_uid",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","currentUser",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","id",238],"(",")",";",["T_WHITESPACE","\n      ",238],"}",["T_WHITESPACE","\n      ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","database",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","update",240],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",240],")",["T_WHITESPACE","\n        ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","fields",241],"(",["T_ARRAY","array",241],"(",["T_WHITESPACE","\n          ",241],["T_CONSTANT_ENCAPSED_STRING","'cid'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_LNUMBER","0",242],",",["T_WHITESPACE","\n          ",242],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_LNUMBER","0",243],",",["T_WHITESPACE","\n          ",243],["T_COMMENT","\/\/ Use the changed date of the entity if it's set, or default to\n",244],["T_WHITESPACE","          ",245],["T_COMMENT","\/\/ REQUEST_TIME.\n",245],["T_WHITESPACE","          ",246],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$entity",246],["T_WHITESPACE"," ",246],["T_INSTANCEOF","instanceof",246],["T_WHITESPACE"," ",246],["T_STRING","EntityChangedInterface",246],")",["T_WHITESPACE"," ",246],"?",["T_WHITESPACE"," ",246],["T_VARIABLE","$entity",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getChangedTimeAcrossTranslations",246],"(",")",["T_WHITESPACE"," ",246],":",["T_WHITESPACE"," ",246],["T_STRING","REQUEST_TIME",246],",",["T_WHITESPACE","\n          ",246],["T_CONSTANT_ENCAPSED_STRING","'last_comment_name'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","''",247],",",["T_WHITESPACE","\n          ",247],["T_CONSTANT_ENCAPSED_STRING","'last_comment_uid'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$last_comment_uid",248],",",["T_WHITESPACE","\n        ",248],")",")",["T_WHITESPACE","\n        ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","condition",250],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$comment",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getCommentedEntityId",250],"(",")",")",["T_WHITESPACE","\n        ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","condition",251],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$comment",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getCommentedEntityTypeId",251],"(",")",")",["T_WHITESPACE","\n        ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","condition",252],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$comment",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getFieldName",252],"(",")",")",["T_WHITESPACE","\n        ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","execute",253],"(",")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_COMMENT","\/\/ Reset the cache of the commented entity so that when the entity is loaded\n",256],["T_WHITESPACE","    ",257],["T_COMMENT","\/\/ the next time, the statistics will be loaded again.\n",257],["T_WHITESPACE","    ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","entityManager",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getStorage",258],"(",["T_VARIABLE","$comment",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getCommentedEntityTypeId",258],"(",")",")",["T_OBJECT_OPERATOR","->",258],["T_STRING","resetCache",258],"(",["T_ARRAY","array",258],"(",["T_VARIABLE","$comment",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getCommentedEntityId",258],"(",")",")",")",";",["T_WHITESPACE","\n  ",258],"}",["T_WHITESPACE","\n\n",259],"}",["T_WHITESPACE","\n",261]]