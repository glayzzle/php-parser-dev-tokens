[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentManagerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Session",7],["T_NS_SEPARATOR","\\",7],["T_STRING","AnonymousUserSession",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","entity_test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityTest",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldConfig",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","field",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FieldStorageConfig",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","views",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Views",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests the comment link field handlers.\n *\n * @group comment\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","CommentLinksTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","CommentViewsKernelTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$testViews",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_CONSTANT_ENCAPSED_STRING","'test_comment'",26],"]",";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Test the comment approve link.\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testLinkApprove",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Create an unapproved comment.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$comment",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","commentStorage",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","create",34],"(","[",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'uid'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","adminUser",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","id",35],"(",")",",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'comment_type'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'status'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_LNUMBER","0",38],",",["T_WHITESPACE","\n    ",38],"]",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$comment",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","save",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$view",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Views",42],["T_DOUBLE_COLON","::",42],["T_STRING","getView",42],"(",["T_CONSTANT_ENCAPSED_STRING","'test_comment'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$view",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setDisplay",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$view",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","displayHandlers",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","overrideOption",45],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",45],",",["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'approve_comment'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'table'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'comment'",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'field'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'approve_comment'",48],",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'id'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'approve_comment'",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'plugin_id'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'comment_link_approve'",50],",",["T_WHITESPACE","\n      ",50],"]",",",["T_WHITESPACE","\n    ",51],"]",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$view",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","save",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/* @var \\Drupal\\Core\\Session\\AccountSwitcherInterface $account_switcher *\/",55],["T_WHITESPACE","\n    ",55],["T_VARIABLE","$account_switcher",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Drupal",56],["T_DOUBLE_COLON","::",56],["T_STRING","service",56],"(",["T_CONSTANT_ENCAPSED_STRING","'account_switcher'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$account_switcher",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","switchTo",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","adminUser",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$view",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","preview",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Check if I can see the comment approve link on an unapproved comment.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$approve_comment",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$view",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","style_plugin",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getField",62],"(",["T_LNUMBER","0",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'approve_comment'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$options",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'destination'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\/'",63],"]","]",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$url",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Url",64],["T_DOUBLE_COLON","::",64],["T_STRING","fromRoute",64],"(",["T_CONSTANT_ENCAPSED_STRING","'comment.approve'",64],",",["T_WHITESPACE"," ",64],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$comment",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","id",64],"(",")","]",",",["T_WHITESPACE"," ",64],["T_VARIABLE","$options",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEqual",65],"(",["T_NS_SEPARATOR","\\",65],["T_STRING","Drupal",65],["T_DOUBLE_COLON","::",65],["T_STRING","l",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Approve'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$url",65],")",",",["T_WHITESPACE"," ",65],["T_STRING_CAST","(string)",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$approve_comment",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Found a comment approve link for an unapproved comment.'",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Approve the comment.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$comment",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setPublished",68],"(",["T_STRING","CommentInterface",68],["T_DOUBLE_COLON","::",68],["T_STRING","PUBLISHED",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$comment",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","save",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$view",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","Views",70],["T_DOUBLE_COLON","::",70],["T_STRING","getView",70],"(",["T_CONSTANT_ENCAPSED_STRING","'test_comment'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$view",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","preview",71],"(",")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Check if I can see the comment approve link on an approved comment.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$approve_comment",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$view",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","style_plugin",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getField",74],"(",["T_LNUMBER","1",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'approve_comment'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertFalse",75],"(",["T_STRING_CAST","(string)",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$approve_comment",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","\"Didn't find a comment approve link for an already approved comment.\"",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Check if I can see the comment approve link on an approved comment as an\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ anonymous user.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$account_switcher",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","switchTo",79],"(",["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","AnonymousUserSession",79],"(",")",")",";",["T_WHITESPACE","\n    ",79],["T_COMMENT","\/\/ Set the comment as unpublished again.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$comment",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setPublished",81],"(",["T_STRING","CommentInterface",81],["T_DOUBLE_COLON","::",81],["T_STRING","NOT_PUBLISHED",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$comment",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","save",82],"(",")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$view",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","Views",84],["T_DOUBLE_COLON","::",84],["T_STRING","getView",84],"(",["T_CONSTANT_ENCAPSED_STRING","'test_comment'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$view",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","preview",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$replyto_comment",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$view",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","style_plugin",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getField",86],"(",["T_LNUMBER","0",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'approve_comment'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertFalse",87],"(",["T_STRING_CAST","(string)",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$replyto_comment",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"I can't approve the comment as an anonymous user.\"",87],")",";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * Test the comment reply link.\n   *\/",90],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","testLinkReply",93],"(",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","enableModules",94],"(","[",["T_CONSTANT_ENCAPSED_STRING","'field'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",94],"]",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","installEntitySchema",95],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","installSchema",96],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",96],",",["T_WHITESPACE"," ",96],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",96],"]",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","installConfig",97],"(","[",["T_CONSTANT_ENCAPSED_STRING","'field'",97],"]",")",";",["T_WHITESPACE","\n\n    ",97],["T_VARIABLE","$field_storage_comment",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","FieldStorageConfig",99],["T_DOUBLE_COLON","::",99],["T_STRING","create",99],"(","[",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'field_name'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'comment'",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'type'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'comment'",101],",",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",102],",",["T_WHITESPACE","\n    ",102],"]",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$field_storage_comment",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","save",104],"(",")",";",["T_WHITESPACE","\n    ",104],["T_COMMENT","\/\/ Create a comment field which allows threading.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$field_comment",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","FieldConfig",106],["T_DOUBLE_COLON","::",106],["T_STRING","create",106],"(","[",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'field_name'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'comment'",107],",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",108],",",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'bundle'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",109],",",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'settings'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],"[",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'default_mode'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","CommentManagerInterface",111],["T_DOUBLE_COLON","::",111],["T_STRING","COMMENT_MODE_THREADED",111],",",["T_WHITESPACE","\n      ",111],"]",",",["T_WHITESPACE","\n    ",112],"]",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$field_comment",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","save",114],"(",")",";",["T_WHITESPACE","\n\n    ",114],["T_VARIABLE","$host",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","EntityTest",116],["T_DOUBLE_COLON","::",116],["T_STRING","create",116],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","randomString",116],"(",")","]",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$host",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","save",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Attach an unapproved comment to the test entity.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$comment",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","commentStorage",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","create",119],"(","[",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'uid'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","adminUser",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","id",120],"(",")",",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",121],",",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$host",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","id",122],"(",")",",",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'comment_type'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",123],",",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'field_name'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$field_storage_comment",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getName",124],"(",")",",",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'status'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_LNUMBER","0",125],",",["T_WHITESPACE","\n    ",125],"]",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$comment",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","save",127],"(",")",";",["T_WHITESPACE","\n\n    ",127],["T_VARIABLE","$view",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Views",129],["T_DOUBLE_COLON","::",129],["T_STRING","getView",129],"(",["T_CONSTANT_ENCAPSED_STRING","'test_comment'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$view",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setDisplay",130],"(",")",";",["T_WHITESPACE","\n\n    ",130],["T_VARIABLE","$view",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","displayHandlers",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","overrideOption",132],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",132],",",["T_WHITESPACE"," ",132],"[",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'replyto_comment'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],"[",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'table'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'comment'",134],",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'field'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'replyto_comment'",135],",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'id'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'replyto_comment'",136],",",["T_WHITESPACE","\n        ",136],["T_CONSTANT_ENCAPSED_STRING","'plugin_id'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'comment_link_reply'",137],",",["T_WHITESPACE","\n        ",137],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'comment'",138],",",["T_WHITESPACE","\n      ",138],"]",",",["T_WHITESPACE","\n    ",139],"]",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$view",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","save",141],"(",")",";",["T_WHITESPACE","\n\n    ",141],["T_COMMENT","\/* @var \\Drupal\\Core\\Session\\AccountSwitcherInterface $account_switcher *\/",143],["T_WHITESPACE","\n    ",143],["T_VARIABLE","$account_switcher",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Drupal",144],["T_DOUBLE_COLON","::",144],["T_STRING","service",144],"(",["T_CONSTANT_ENCAPSED_STRING","'account_switcher'",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$account_switcher",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","switchTo",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","adminUser",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$view",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","preview",146],"(",")",";",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ Check if I can see the reply link on an unapproved comment.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$replyto_comment",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$view",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","style_plugin",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getField",149],"(",["T_LNUMBER","0",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'replyto_comment'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertFalse",150],"(",["T_STRING_CAST","(string)",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$replyto_comment",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","\"I can't reply to an unapproved comment.\"",150],")",";",["T_WHITESPACE","\n\n    ",150],["T_COMMENT","\/\/ Approve the comment.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$comment",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setPublished",153],"(",["T_STRING","CommentInterface",153],["T_DOUBLE_COLON","::",153],["T_STRING","PUBLISHED",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$comment",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","save",154],"(",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$view",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","Views",155],["T_DOUBLE_COLON","::",155],["T_STRING","getView",155],"(",["T_CONSTANT_ENCAPSED_STRING","'test_comment'",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$view",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","preview",156],"(",")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Check if I can see the reply link on an approved comment.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$replyto_comment",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$view",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","style_plugin",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getField",159],"(",["T_LNUMBER","0",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'replyto_comment'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$url",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","Url",160],["T_DOUBLE_COLON","::",160],["T_STRING","fromRoute",160],"(",["T_CONSTANT_ENCAPSED_STRING","'comment.reply'",160],",",["T_WHITESPACE"," ",160],"[",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",161],",",["T_WHITESPACE","\n      ",161],["T_CONSTANT_ENCAPSED_STRING","'entity'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$host",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","id",162],"(",")",",",["T_WHITESPACE","\n      ",162],["T_CONSTANT_ENCAPSED_STRING","'field_name'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'comment'",163],",",["T_WHITESPACE","\n      ",163],["T_CONSTANT_ENCAPSED_STRING","'pid'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$comment",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","id",164],"(",")",",",["T_WHITESPACE","\n    ",164],"]",")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertEqual",166],"(",["T_NS_SEPARATOR","\\",166],["T_STRING","Drupal",166],["T_DOUBLE_COLON","::",166],["T_STRING","l",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Reply'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$url",166],")",",",["T_WHITESPACE"," ",166],["T_STRING_CAST","(string)",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$replyto_comment",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'Found the comment reply link as an admin user.'",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Check if I can see the reply link as an anonymous user.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$account_switcher",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","switchTo",169],"(",["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","AnonymousUserSession",169],"(",")",")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$view",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","Views",170],["T_DOUBLE_COLON","::",170],["T_STRING","getView",170],"(",["T_CONSTANT_ENCAPSED_STRING","'test_comment'",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$view",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","preview",171],"(",")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$replyto_comment",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$view",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","style_plugin",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getField",172],"(",["T_LNUMBER","0",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'replyto_comment'",172],")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertFalse",173],"(",["T_STRING_CAST","(string)",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$replyto_comment",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","\"Didn't find the comment reply link as an anonymous user.\"",173],")",";",["T_WHITESPACE","\n  ",173],"}",["T_WHITESPACE","\n\n",174],"}",["T_WHITESPACE","\n",176]]