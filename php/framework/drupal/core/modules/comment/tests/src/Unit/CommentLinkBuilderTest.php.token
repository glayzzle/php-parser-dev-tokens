[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","comment",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentLinkBuilder",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldType",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentItemInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Url",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","node",8],["T_NS_SEPARATOR","\\",8],["T_STRING","NodeInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","simpletest",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Tests",10],["T_NS_SEPARATOR","\\",10],["T_STRING","UnitTestCase",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\comment\\CommentLinkBuilder\n * @group comment\n *\/",12],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","CommentLinkBuilderTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","UnitTestCase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Comment manager mock.\n   *\n   * @var \\Drupal\\comment\\CommentManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$commentManager",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * String translation mock.\n   *\n   * @var \\Drupal\\Core\\StringTranslation\\TranslationInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$stringTranslation",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The entity manager service.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManagerInterface\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$entityManager",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Module handler mock.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$moduleHandler",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Current user proxy mock.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountProxyInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",46],["T_WHITESPACE","\n  ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$currentUser",51],";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * Timestamp used in test.\n   *\n   * @var int\n   *\/",53],["T_WHITESPACE","\n  ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$timestamp",58],";",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\comment\\CommentLinkBuilderInterface;\n   *\/",60],["T_WHITESPACE","\n  ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$commentLinkBuilder",63],";",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Prepares mocks for the test.\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","setUp",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","commentManager",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\comment\\CommentManagerInterface'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","stringTranslation",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getStringTranslationStub",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","entityManager",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Entity\\EntityManagerInterface'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","moduleHandler",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMock",72],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Extension\\ModuleHandlerInterface'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","currentUser",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getMock",73],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Session\\AccountProxyInterface'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","commentLinkBuilder",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","CommentLinkBuilder",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","currentUser",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","commentManager",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","moduleHandler",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","stringTranslation",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","entityManager",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","commentManager",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","expects",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","any",75],"(",")",")",["T_WHITESPACE","\n      ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","method",76],"(",["T_CONSTANT_ENCAPSED_STRING","'getFields'",76],")",["T_WHITESPACE","\n      ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","with",77],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",77],")",["T_WHITESPACE","\n      ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","willReturn",78],"(",["T_ARRAY","array",78],"(",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'comment'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",",",["T_WHITESPACE","\n      ",79],")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","commentManager",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","expects",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","any",81],"(",")",")",["T_WHITESPACE","\n      ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","method",82],"(",["T_CONSTANT_ENCAPSED_STRING","'forbiddenMessage'",82],")",["T_WHITESPACE","\n      ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","willReturn",83],"(",["T_CONSTANT_ENCAPSED_STRING","\"Can't let you do that Dave.\"",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","stringTranslation",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","expects",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","any",84],"(",")",")",["T_WHITESPACE","\n      ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'formatPlural'",85],")",["T_WHITESPACE","\n      ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","willReturnArgument",86],"(",["T_LNUMBER","1",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * Test the buildCommentedEntityLinks method.\n   *\n   * @param \\Drupal\\node\\NodeInterface|\\PHPUnit_Framework_MockObject_MockObject $node\n   *   Mock node.\n   * @param array $context\n   *   Context for the links.\n   * @param bool $has_access_comments\n   *   TRUE if the user has 'access comments' permission.\n   * @param bool $history_exists\n   *   TRUE if the history module exists.\n   * @param bool $has_post_comments\n   *   TRUE if the use has 'post comments' permission.\n   * @param bool $is_anonymous\n   *   TRUE if the user is anonymous.\n   * @param array $expected\n   *   Array of expected links keyed by link ID. Can be either string (link\n   *   title) or array of link properties.\n   *\n   * @dataProvider getLinkCombinations\n   *\n   * @covers ::buildCommentedEntityLinks\n   *\/",89],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testCommentLinkBuilder",112],"(",["T_STRING","NodeInterface",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$node",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$context",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$has_access_comments",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$history_exists",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$has_post_comments",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$is_anonymous",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$expected",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","moduleHandler",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","expects",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","any",113],"(",")",")",["T_WHITESPACE","\n      ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","method",114],"(",["T_CONSTANT_ENCAPSED_STRING","'moduleExists'",114],")",["T_WHITESPACE","\n      ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","with",115],"(",["T_CONSTANT_ENCAPSED_STRING","'history'",115],")",["T_WHITESPACE","\n      ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","willReturn",116],"(",["T_VARIABLE","$history_exists",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","currentUser",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","any",117],"(",")",")",["T_WHITESPACE","\n      ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","method",118],"(",["T_CONSTANT_ENCAPSED_STRING","'hasPermission'",118],")",["T_WHITESPACE","\n      ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","willReturnMap",119],"(",["T_ARRAY","array",119],"(",["T_WHITESPACE","\n        ",119],["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","'access comments'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$has_access_comments",120],")",",",["T_WHITESPACE","\n        ",120],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'post comments'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$has_post_comments",121],")",",",["T_WHITESPACE","\n      ",121],")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","currentUser",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","expects",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","any",123],"(",")",")",["T_WHITESPACE","\n      ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","method",124],"(",["T_CONSTANT_ENCAPSED_STRING","'isAuthenticated'",124],")",["T_WHITESPACE","\n      ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","willReturn",125],"(","!",["T_VARIABLE","$is_anonymous",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","currentUser",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","any",126],"(",")",")",["T_WHITESPACE","\n      ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","method",127],"(",["T_CONSTANT_ENCAPSED_STRING","'isAnonymous'",127],")",["T_WHITESPACE","\n      ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","willReturn",128],"(",["T_VARIABLE","$is_anonymous",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$links",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","commentLinkBuilder",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","buildCommentedEntityLinks",129],"(",["T_VARIABLE","$node",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$context",129],")",";",["T_WHITESPACE","\n    ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(","!",["T_EMPTY","empty",130],"(",["T_VARIABLE","$expected",130],")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n      ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_EMPTY","empty",131],"(",["T_VARIABLE","$links",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n        ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$expected",132],["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$link",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$detail",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n          ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_STRING","is_array",133],"(",["T_VARIABLE","$detail",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_COMMENT","\/\/ Array of link attributes.\n",134],["T_WHITESPACE","            ",135],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$detail",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$key",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n              ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEquals",136],"(",["T_VARIABLE","$value",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$links",136],"[",["T_CONSTANT_ENCAPSED_STRING","'comment__comment'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#links'",136],"]","[",["T_VARIABLE","$link",136],"]","[",["T_VARIABLE","$key",136],"]",")",";",["T_WHITESPACE","\n            ",136],"}",["T_WHITESPACE","\n          ",137],"}",["T_WHITESPACE","\n          ",138],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_COMMENT","\/\/ Just the title.\n",140],["T_WHITESPACE","            ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEquals",141],"(",["T_VARIABLE","$detail",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$links",141],"[",["T_CONSTANT_ENCAPSED_STRING","'comment__comment'",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#links'",141],"]","[",["T_VARIABLE","$link",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",141],"]",")",";",["T_WHITESPACE","\n          ",141],"}",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n      ",143],"}",["T_WHITESPACE","\n      ",144],["T_ELSE","else",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","fail",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected links but found none.'",146],")",";",["T_WHITESPACE","\n      ",146],"}",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n    ",148],["T_ELSE","else",149],["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertSame",150],"(",["T_VARIABLE","$links",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$expected",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * Data provider for ::testCommentLinkBuilder.\n   *\/",154],["T_WHITESPACE","\n  ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","getLinkCombinations",157],"(",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$cases",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",")",";",["T_WHITESPACE","\n    ",158],["T_COMMENT","\/\/ No links should be created if the entity doesn't have the field.\n",159],["T_WHITESPACE","    ",160],["T_VARIABLE","$cases",160],"[","]",["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getMockNode",161],"(",["T_STRING","FALSE",161],",",["T_WHITESPACE"," ",161],["T_STRING","CommentItemInterface",161],["T_DOUBLE_COLON","::",161],["T_STRING","OPEN",161],",",["T_WHITESPACE"," ",161],["T_STRING","CommentItemInterface",161],["T_DOUBLE_COLON","::",161],["T_STRING","FORM_BELOW",161],",",["T_WHITESPACE"," ",161],["T_LNUMBER","1",161],")",",",["T_WHITESPACE","\n      ",161],["T_ARRAY","array",162],"(",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'teaser'",162],")",",",["T_WHITESPACE","\n      ",162],["T_STRING","TRUE",163],",",["T_WHITESPACE","\n      ",163],["T_STRING","TRUE",164],",",["T_WHITESPACE","\n      ",164],["T_STRING","TRUE",165],",",["T_WHITESPACE","\n      ",165],["T_STRING","TRUE",166],",",["T_WHITESPACE","\n      ",166],["T_ARRAY","array",167],"(",")",",",["T_WHITESPACE","\n    ",167],")",";",["T_WHITESPACE","\n    ",168],["T_FOREACH","foreach",169],["T_WHITESPACE"," ",169],"(",["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'search_result'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'search_index'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'print'",169],")",["T_WHITESPACE"," ",169],["T_AS","as",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$view_mode",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_COMMENT","\/\/ Nothing should be output in these view modes.\n",170],["T_WHITESPACE","      ",171],["T_VARIABLE","$cases",171],"[","]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMockNode",172],"(",["T_STRING","TRUE",172],",",["T_WHITESPACE"," ",172],["T_STRING","CommentItemInterface",172],["T_DOUBLE_COLON","::",172],["T_STRING","OPEN",172],",",["T_WHITESPACE"," ",172],["T_STRING","CommentItemInterface",172],["T_DOUBLE_COLON","::",172],["T_STRING","FORM_BELOW",172],",",["T_WHITESPACE"," ",172],["T_LNUMBER","1",172],")",",",["T_WHITESPACE","\n        ",172],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$view_mode",173],")",",",["T_WHITESPACE","\n        ",173],["T_STRING","TRUE",174],",",["T_WHITESPACE","\n        ",174],["T_STRING","TRUE",175],",",["T_WHITESPACE","\n        ",175],["T_STRING","TRUE",176],",",["T_WHITESPACE","\n        ",176],["T_STRING","TRUE",177],",",["T_WHITESPACE","\n        ",177],["T_ARRAY","array",178],"(",")",",",["T_WHITESPACE","\n      ",178],")",";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n    ",180],["T_COMMENT","\/\/ All other combinations.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$combinations",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'is_anonymous'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_STRING","FALSE",183],",",["T_WHITESPACE"," ",183],["T_STRING","TRUE",183],")",",",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_LNUMBER","0",184],",",["T_WHITESPACE"," ",184],["T_LNUMBER","1",184],")",",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'has_access_comments'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_LNUMBER","0",185],",",["T_WHITESPACE"," ",185],["T_LNUMBER","1",185],")",",",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'history_exists'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_STRING","FALSE",186],",",["T_WHITESPACE"," ",186],["T_STRING","TRUE",186],")",",",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'has_post_comments'",187],["T_WHITESPACE","   ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_LNUMBER","0",187],",",["T_WHITESPACE"," ",187],["T_LNUMBER","1",187],")",",",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'form_location'",188],["T_WHITESPACE","            ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_STRING","CommentItemInterface",188],["T_DOUBLE_COLON","::",188],["T_STRING","FORM_BELOW",188],",",["T_WHITESPACE"," ",188],["T_STRING","CommentItemInterface",188],["T_DOUBLE_COLON","::",188],["T_STRING","FORM_SEPARATE_PAGE",188],")",",",["T_WHITESPACE","\n      ",188],["T_CONSTANT_ENCAPSED_STRING","'comments'",189],["T_WHITESPACE","        ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_WHITESPACE","\n        ",189],["T_STRING","CommentItemInterface",190],["T_DOUBLE_COLON","::",190],["T_STRING","OPEN",190],",",["T_WHITESPACE","\n        ",190],["T_STRING","CommentItemInterface",191],["T_DOUBLE_COLON","::",191],["T_STRING","CLOSED",191],",",["T_WHITESPACE","\n        ",191],["T_STRING","CommentItemInterface",192],["T_DOUBLE_COLON","::",192],["T_STRING","HIDDEN",192],",",["T_WHITESPACE","\n      ",192],")",",",["T_WHITESPACE","\n      ",193],["T_CONSTANT_ENCAPSED_STRING","'view_mode'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",["T_WHITESPACE","\n        ",194],["T_CONSTANT_ENCAPSED_STRING","'teaser'",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'rss'",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'full'",195],",",["T_WHITESPACE","\n      ",195],")",",",["T_WHITESPACE","\n    ",196],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$permutations",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","TestBase",198],["T_DOUBLE_COLON","::",198],["T_STRING","generatePermutations",198],"(",["T_VARIABLE","$combinations",198],")",";",["T_WHITESPACE","\n    ",198],["T_FOREACH","foreach",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$permutations",199],["T_WHITESPACE"," ",199],["T_AS","as",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$combination",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n      ",199],["T_VARIABLE","$case",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getMockNode",201],"(",["T_STRING","TRUE",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$combination",201],"[",["T_CONSTANT_ENCAPSED_STRING","'comments'",201],"]",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$combination",201],"[",["T_CONSTANT_ENCAPSED_STRING","'form_location'",201],"]",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$combination",201],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_count'",201],"]",")",",",["T_WHITESPACE","\n        ",201],["T_ARRAY","array",202],"(",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$combination",202],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",202],"]",")",",",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$combination",203],"[",["T_CONSTANT_ENCAPSED_STRING","'has_access_comments'",203],"]",",",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$combination",204],"[",["T_CONSTANT_ENCAPSED_STRING","'history_exists'",204],"]",",",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$combination",205],"[",["T_CONSTANT_ENCAPSED_STRING","'has_post_comments'",205],"]",",",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$combination",206],"[",["T_CONSTANT_ENCAPSED_STRING","'is_anonymous'",206],"]",",",["T_WHITESPACE","\n      ",206],")",";",["T_WHITESPACE","\n      ",207],["T_VARIABLE","$expected",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",")",";",["T_WHITESPACE","\n      ",208],["T_COMMENT","\/\/ When comments are enabled in teaser mode, and comments exist, and the\n",209],["T_WHITESPACE","      ",210],["T_COMMENT","\/\/ user has access - we can output the comment count.\n",210],["T_WHITESPACE","      ",211],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$combination",211],"[",["T_CONSTANT_ENCAPSED_STRING","'comments'",211],"]",["T_WHITESPACE"," ",211],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$combination",211],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",211],"]",["T_WHITESPACE"," ",211],["T_IS_EQUAL","==",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'teaser'",211],["T_WHITESPACE"," ",211],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$combination",211],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_count'",211],"]",["T_WHITESPACE"," ",211],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$combination",211],"[",["T_CONSTANT_ENCAPSED_STRING","'has_access_comments'",211],"]",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$expected",212],"[",["T_CONSTANT_ENCAPSED_STRING","'comment-comments'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'1 comment'",212],";",["T_WHITESPACE","\n        ",212],["T_COMMENT","\/\/ And if history module exists, we can show a 'new comments' link.\n",213],["T_WHITESPACE","        ",214],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$combination",214],"[",["T_CONSTANT_ENCAPSED_STRING","'history_exists'",214],"]",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n          ",214],["T_VARIABLE","$expected",215],"[",["T_CONSTANT_ENCAPSED_STRING","'comment-new-comments'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","''",215],";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n      ",216],"}",["T_WHITESPACE","\n      ",217],["T_COMMENT","\/\/ All view modes other than RSS.\n",218],["T_WHITESPACE","      ",219],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$combination",219],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",219],"]",["T_WHITESPACE"," ",219],["T_IS_NOT_EQUAL","!=",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'rss'",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n        ",219],["T_COMMENT","\/\/ Where commenting is open.\n",220],["T_WHITESPACE","        ",221],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$combination",221],"[",["T_CONSTANT_ENCAPSED_STRING","'comments'",221],"]",["T_WHITESPACE"," ",221],["T_IS_EQUAL","==",221],["T_WHITESPACE"," ",221],["T_STRING","CommentItemInterface",221],["T_DOUBLE_COLON","::",221],["T_STRING","OPEN",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n          ",221],["T_COMMENT","\/\/ And the user has post-comments permission.\n",222],["T_WHITESPACE","          ",223],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$combination",223],"[",["T_CONSTANT_ENCAPSED_STRING","'has_post_comments'",223],"]",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_COMMENT","\/\/ If the view mode is teaser, or the user can access comments and\n",224],["T_WHITESPACE","            ",225],["T_COMMENT","\/\/ comments exist or the form is on a separate page.\n",225],["T_WHITESPACE","            ",226],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$combination",226],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",226],"]",["T_WHITESPACE"," ",226],["T_IS_EQUAL","==",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'teaser'",226],["T_WHITESPACE"," ",226],["T_BOOLEAN_OR","||",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$combination",226],"[",["T_CONSTANT_ENCAPSED_STRING","'has_access_comments'",226],"]",["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$combination",226],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_count'",226],"]",")",["T_WHITESPACE"," ",226],["T_BOOLEAN_OR","||",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$combination",226],"[",["T_CONSTANT_ENCAPSED_STRING","'form_location'",226],"]",["T_WHITESPACE"," ",226],["T_IS_EQUAL","==",226],["T_WHITESPACE"," ",226],["T_STRING","CommentItemInterface",226],["T_DOUBLE_COLON","::",226],["T_STRING","FORM_SEPARATE_PAGE",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n              ",226],["T_COMMENT","\/\/ There should be a add comment link.\n",227],["T_WHITESPACE","              ",228],["T_VARIABLE","$expected",228],"[",["T_CONSTANT_ENCAPSED_STRING","'comment-add'",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'Add new comment'",228],")",";",["T_WHITESPACE","\n              ",228],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$combination",229],"[",["T_CONSTANT_ENCAPSED_STRING","'form_location'",229],"]",["T_WHITESPACE"," ",229],["T_IS_EQUAL","==",229],["T_WHITESPACE"," ",229],["T_STRING","CommentItemInterface",229],["T_DOUBLE_COLON","::",229],["T_STRING","FORM_BELOW",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                ",229],["T_COMMENT","\/\/ On the same page.\n",230],["T_WHITESPACE","                ",231],["T_VARIABLE","$expected",231],"[",["T_CONSTANT_ENCAPSED_STRING","'comment-add'",231],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url'",231],"]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","Url",231],["T_DOUBLE_COLON","::",231],["T_STRING","fromRoute",231],"(",["T_CONSTANT_ENCAPSED_STRING","'node.view'",231],")",";",["T_WHITESPACE","\n              ",231],"}",["T_WHITESPACE","\n              ",232],["T_ELSE","else",233],["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                ",233],["T_COMMENT","\/\/ On a separate page.\n",234],["T_WHITESPACE","                ",235],["T_VARIABLE","$expected",235],"[",["T_CONSTANT_ENCAPSED_STRING","'comment-add'",235],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url'",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","Url",235],["T_DOUBLE_COLON","::",235],["T_STRING","fromRoute",235],"(",["T_CONSTANT_ENCAPSED_STRING","'comment.reply'",235],",",["T_WHITESPACE"," ",235],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'node'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'entity'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_LNUMBER","1",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'field_name'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'comment'",235],"]",")",";",["T_WHITESPACE","\n              ",235],"}",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n          ",237],"}",["T_WHITESPACE","\n          ",238],["T_ELSEIF","elseif",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$combination",239],"[",["T_CONSTANT_ENCAPSED_STRING","'is_anonymous'",239],"]",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_COMMENT","\/\/ Anonymous users get the forbidden message if the can't post\n",240],["T_WHITESPACE","            ",241],["T_COMMENT","\/\/ comments.\n",241],["T_WHITESPACE","            ",242],["T_VARIABLE","$expected",242],"[",["T_CONSTANT_ENCAPSED_STRING","'comment-forbidden'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","\"Can't let you do that Dave.\"",242],";",["T_WHITESPACE","\n          ",242],"}",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n      ",244],"}",["T_WHITESPACE","\n\n      ",245],["T_VARIABLE","$case",247],"[","]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$expected",247],";",["T_WHITESPACE","\n      ",247],["T_VARIABLE","$cases",248],"[","]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$case",248],";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n    ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$cases",250],";",["T_WHITESPACE","\n  ",250],"}",["T_WHITESPACE","\n\n  ",251],["T_DOC_COMMENT","\/**\n   * Builds a mock node based on given scenario.\n   *\n   * @param bool $has_field\n   *   TRUE if the node has the 'comment' field.\n   * @param int $comment_status\n   *   One of CommentItemInterface::OPEN|HIDDEN|CLOSED\n   * @param int $form_location\n   *   One of CommentItemInterface::FORM_BELOW|FORM_SEPARATE_PAGE\n   * @param int $comment_count\n   *   Number of comments against the field.\n   *\n   * @return \\Drupal\\node\\NodeInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *   Mock node for testing.\n   *\/",253],["T_WHITESPACE","\n  ",267],["T_PROTECTED","protected",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","getMockNode",268],"(",["T_VARIABLE","$has_field",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$comment_status",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$form_location",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$comment_count",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$node",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getMock",269],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\node\\NodeInterface'",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$node",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","expects",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","once",270],"(",")",")",["T_WHITESPACE","\n      ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","method",271],"(",["T_CONSTANT_ENCAPSED_STRING","'hasField'",271],")",["T_WHITESPACE","\n      ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","willReturn",272],"(",["T_VARIABLE","$has_field",272],")",";",["T_WHITESPACE","\n\n    ",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_EMPTY","empty",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","timestamp",274],")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n      ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","timestamp",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING","time",275],"(",")",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$field_item",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_OBJECT_CAST","(object)",277],["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",["T_WHITESPACE","\n      ",277],["T_CONSTANT_ENCAPSED_STRING","'status'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$comment_status",278],",",["T_WHITESPACE","\n      ",278],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$comment_count",279],",",["T_WHITESPACE","\n      ",279],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","timestamp",280],",",["T_WHITESPACE","\n    ",280],")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$node",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","expects",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","any",282],"(",")",")",["T_WHITESPACE","\n      ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","method",283],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",283],")",["T_WHITESPACE","\n      ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","with",284],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",284],")",["T_WHITESPACE","\n      ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","willReturn",285],"(",["T_VARIABLE","$field_item",285],")",";",["T_WHITESPACE","\n\n    ",285],["T_VARIABLE","$field_definition",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getMock",287],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Field\\FieldDefinitionInterface'",287],")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$field_definition",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","expects",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","any",288],"(",")",")",["T_WHITESPACE","\n      ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","method",289],"(",["T_CONSTANT_ENCAPSED_STRING","'getSetting'",289],")",["T_WHITESPACE","\n      ",289],["T_OBJECT_OPERATOR","->",290],["T_STRING","with",290],"(",["T_CONSTANT_ENCAPSED_STRING","'form_location'",290],")",["T_WHITESPACE","\n      ",290],["T_OBJECT_OPERATOR","->",291],["T_STRING","willReturn",291],"(",["T_VARIABLE","$form_location",291],")",";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$node",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","expects",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","any",292],"(",")",")",["T_WHITESPACE","\n      ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","method",293],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",293],")",["T_WHITESPACE","\n      ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","with",294],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",294],")",["T_WHITESPACE","\n      ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","willReturn",295],"(",["T_VARIABLE","$field_definition",295],")",";",["T_WHITESPACE","\n\n    ",295],["T_VARIABLE","$node",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","expects",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","any",297],"(",")",")",["T_WHITESPACE","\n      ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","method",298],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",298],")",["T_WHITESPACE","\n      ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","willReturn",299],"(",["T_CONSTANT_ENCAPSED_STRING","'und'",299],")",";",["T_WHITESPACE","\n\n    ",299],["T_VARIABLE","$node",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","expects",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","any",301],"(",")",")",["T_WHITESPACE","\n      ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","method",302],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityTypeId'",302],")",["T_WHITESPACE","\n      ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","willReturn",303],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",303],")",";",["T_WHITESPACE","\n\n    ",303],["T_VARIABLE","$node",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","expects",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","any",305],"(",")",")",["T_WHITESPACE","\n      ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","method",306],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",306],")",["T_WHITESPACE","\n      ",306],["T_OBJECT_OPERATOR","->",307],["T_STRING","willReturn",307],"(",["T_LNUMBER","1",307],")",";",["T_WHITESPACE","\n\n    ",307],["T_VARIABLE","$url",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","Url",309],["T_DOUBLE_COLON","::",309],["T_STRING","fromRoute",309],"(",["T_CONSTANT_ENCAPSED_STRING","'node.view'",309],")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$node",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","expects",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","any",310],"(",")",")",["T_WHITESPACE","\n      ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","method",311],"(",["T_CONSTANT_ENCAPSED_STRING","'urlInfo'",311],")",["T_WHITESPACE","\n      ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","willReturn",312],"(",["T_VARIABLE","$url",312],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$node",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","expects",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","any",313],"(",")",")",["T_WHITESPACE","\n      ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","method",314],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",314],")",["T_WHITESPACE","\n      ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","willReturn",315],"(",["T_ARRAY","array",315],"(",["T_CONSTANT_ENCAPSED_STRING","'route_name'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'node.view'",315],")",")",";",["T_WHITESPACE","\n\n    ",315],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$node",317],";",["T_WHITESPACE","\n  ",317],"}",["T_WHITESPACE","\n\n",318],"}",["T_WHITESPACE","\n\n",320],["T_NAMESPACE","namespace",322],["T_WHITESPACE"," ",322],["T_STRING","Drupal",322],["T_NS_SEPARATOR","\\",322],["T_STRING","comment",322],";",["T_WHITESPACE","\n\n",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_STRING","function_exists",324],"(",["T_CONSTANT_ENCAPSED_STRING","'history_read'",324],")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n  ",324],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","history_read",325],"(",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n    ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_LNUMBER","0",326],";",["T_WHITESPACE","\n  ",326],"}",["T_WHITESPACE","\n",327],"}",["T_WHITESPACE","\n",328]]