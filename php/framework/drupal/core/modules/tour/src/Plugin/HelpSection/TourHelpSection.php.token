[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","tour",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","HelpSection",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityTypeManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Link",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ContainerFactoryPluginInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","help",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HelpSection",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HelpSectionPluginBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DependencyInjection",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ContainerInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Provides the tours list section for the help page.\n *\n * @HelpSection(\n *   id = \"tour\",\n *   title = @Translation(\"Tours\"),\n *   description = @Translation(\"Tours guide you through workflows or explain concepts on various user interface pages. The tours with links in this list are on user interface landing pages; the tours without links will show on individual pages (such as when editing a View using the Views UI module). Available tours:\"),\n *   permission = \"access tour\"\n * )\n *\/",12],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","TourHelpSection",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","HelpSectionPluginBase",22],["T_WHITESPACE"," ",22],["T_IMPLEMENTS","implements",22],["T_WHITESPACE"," ",22],["T_STRING","ContainerFactoryPluginInterface",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The entity type manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeManagerInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$entityTypeManager",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Constructs a TourHelpSection object.\n   *\n   * @param array $configuration\n   *   A configuration array containing information about the plugin instance.\n   * @param string $plugin_id\n   *   The plugin_id for the plugin instance.\n   * @param mixed $plugin_definition\n   *   The plugin implementation definition.\n   * @param \\Drupal\\Core\\Entity\\EntityTypeManagerInterface $entity_type_manager\n   *   The entity manager service.\n   *\/",31],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","__construct",43],"(",["T_ARRAY","array",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$configuration",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$plugin_id",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$plugin_definition",43],",",["T_WHITESPACE"," ",43],["T_STRING","EntityTypeManagerInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$entity_type_manager",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","__construct",44],"(",["T_VARIABLE","$configuration",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$plugin_id",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$plugin_definition",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","entityTypeManager",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$entity_type_manager",45],";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",48],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","create",51],"(",["T_STRING","ContainerInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$container",51],",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$configuration",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$plugin_id",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$plugin_definition",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STATIC","static",52],"(",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$configuration",53],",",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$plugin_id",54],",",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$plugin_definition",55],",",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$container",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",56],")",["T_WHITESPACE","\n    ",56],")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",60],["T_WHITESPACE","\n  ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","getCacheMaxAge",63],"(",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n    ",63],["T_COMMENT","\/\/ The calculation of which URL (if any) gets put on which tour depends\n",64],["T_WHITESPACE","    ",65],["T_COMMENT","\/\/ on a route access check. This can have a lot of inputs, including user\n",65],["T_WHITESPACE","    ",66],["T_COMMENT","\/\/ permissions and other factors. Rather than doing a complicated\n",66],["T_WHITESPACE","    ",67],["T_COMMENT","\/\/ accounting of the cache metadata for all of these possible factors, set\n",67],["T_WHITESPACE","    ",68],["T_COMMENT","\/\/ the max age of the cache to zero to prevent using incorrect cached\n",68],["T_WHITESPACE","    ",69],["T_COMMENT","\/\/ information.\n",69],["T_WHITESPACE","    ",70],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_LNUMBER","0",70],";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","listTopics",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_DOC_COMMENT","\/** @var \\Drupal\\tour\\TourInterface[] $tours *\/",77],["T_WHITESPACE","\n    ",77],["T_VARIABLE","$tours",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","entityTypeManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getStorage",78],"(",["T_CONSTANT_ENCAPSED_STRING","'tour'",78],")",["T_OBJECT_OPERATOR","->",78],["T_STRING","loadMultiple",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_COMMENT","\/\/ Sort in the manner defined by Tour.\n",79],["T_WHITESPACE","    ",80],["T_STRING","uasort",80],"(",["T_VARIABLE","$tours",80],",",["T_WHITESPACE"," ",80],"[",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\tour\\Entity\\Tour'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'sort'",80],"]",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Make a link to each tour, using the first of its routes that can\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ be linked to by this user, if any.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$topics",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[","]",";",["T_WHITESPACE","\n    ",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$tours",85],["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$tour",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$title",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$tour",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","label",86],"(",")",";",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$id",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$tour",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],"(",")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$routes",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$tour",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getRoutes",88],"(",")",";",["T_WHITESPACE","\n      ",88],["T_VARIABLE","$made_link",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","FALSE",89],";",["T_WHITESPACE","\n      ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$routes",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$route",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n        ",90],["T_COMMENT","\/\/ Some tours are for routes with parameters. For instance, there is\n",91],["T_WHITESPACE","        ",92],["T_COMMENT","\/\/ currently a tour in the Language module for the language edit page,\n",92],["T_WHITESPACE","        ",93],["T_COMMENT","\/\/ which appears on all pages with URLs like:\n",93],["T_WHITESPACE","        ",94],["T_COMMENT","\/\/ \/admin\/config\/regional\/language\/edit\/LANGCODE.\n",94],["T_WHITESPACE","        ",95],["T_COMMENT","\/\/ There is no way to make a link to the page that displays the tour,\n",95],["T_WHITESPACE","        ",96],["T_COMMENT","\/\/ because it is a set of pages. The easiest way to detect this is to\n",96],["T_WHITESPACE","        ",97],["T_COMMENT","\/\/ use a try\/catch exception -- try to make a link, and it will error\n",97],["T_WHITESPACE","        ",98],["T_COMMENT","\/\/ out with a missing parameter exception if the route leads to a set\n",98],["T_WHITESPACE","        ",99],["T_COMMENT","\/\/ of pages instead of a single page.\n",99],["T_WHITESPACE","        ",100],["T_TRY","try",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n          ",100],["T_VARIABLE","$params",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ISSET","isset",101],"(",["T_VARIABLE","$route",101],"[",["T_CONSTANT_ENCAPSED_STRING","'route_params'",101],"]",")",["T_WHITESPACE"," ",101],"?",["T_WHITESPACE"," ",101],["T_VARIABLE","$route",101],"[",["T_CONSTANT_ENCAPSED_STRING","'route_params'",101],"]",["T_WHITESPACE"," ",101],":",["T_WHITESPACE"," ",101],"[","]",";",["T_WHITESPACE","\n          ",101],["T_VARIABLE","$url",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Url",102],["T_DOUBLE_COLON","::",102],["T_STRING","fromRoute",102],"(",["T_VARIABLE","$route",102],"[",["T_CONSTANT_ENCAPSED_STRING","'route_name'",102],"]",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$params",102],")",";",["T_WHITESPACE","\n          ",102],["T_COMMENT","\/\/ Skip this route if the current user cannot access it.\n",103],["T_WHITESPACE","          ",104],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_VARIABLE","$url",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","access",104],"(",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_CONTINUE","continue",105],";",["T_WHITESPACE","\n          ",105],"}",["T_WHITESPACE","\n\n          ",106],["T_COMMENT","\/\/ Generate the link HTML directly, using toString(), to catch\n",108],["T_WHITESPACE","          ",109],["T_COMMENT","\/\/ missing parameter exceptions now instead of at render time.\n",109],["T_WHITESPACE","          ",110],["T_VARIABLE","$topics",110],"[",["T_VARIABLE","$id",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","Link",110],["T_DOUBLE_COLON","::",110],["T_STRING","fromTextAndUrl",110],"(",["T_VARIABLE","$title",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$url",110],")",["T_OBJECT_OPERATOR","->",110],["T_STRING","toString",110],"(",")",";",["T_WHITESPACE","\n          ",110],["T_COMMENT","\/\/ If the line above didn't generate an exception, we have a good\n",111],["T_WHITESPACE","          ",112],["T_COMMENT","\/\/ link that the user can access.\n",112],["T_WHITESPACE","          ",113],["T_VARIABLE","$made_link",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","TRUE",113],";",["T_WHITESPACE","\n          ",113],["T_BREAK","break",114],";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_CATCH","catch",116],["T_WHITESPACE"," ",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Exception",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$e",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n          ",116],["T_COMMENT","\/\/ Exceptions are normally due to routes that need parameters. If\n",117],["T_WHITESPACE","          ",118],["T_COMMENT","\/\/ there is an exception, just try the next route and see if we can\n",118],["T_WHITESPACE","          ",119],["T_COMMENT","\/\/ find one that will work for us.\n",119],["T_WHITESPACE","        ",120],"}",["T_WHITESPACE","\n      ",120],"}",["T_WHITESPACE","\n      ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_VARIABLE","$made_link",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n        ",122],["T_COMMENT","\/\/ None of the routes worked to make a link, so at least display the\n",123],["T_WHITESPACE","        ",124],["T_COMMENT","\/\/ tour title.\n",124],["T_WHITESPACE","        ",125],["T_VARIABLE","$topics",125],"[",["T_VARIABLE","$id",125],"]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$title",125],";",["T_WHITESPACE","\n      ",125],"}",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$topics",129],";",["T_WHITESPACE","\n  ",129],"}",["T_WHITESPACE","\n\n",130],"}",["T_WHITESPACE","\n",132]]