[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","tour",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Verifies help page display of tours.\n *\n * @group help\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","TourHelpPageTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","WebTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to enable, including some providing tours.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_CONSTANT_ENCAPSED_STRING","'help'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'tour'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'locale'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'language'",19],"]",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * User that can access tours and help.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$tourUser",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * A user who can access help but not tours.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$noTourUser",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Create users. For the Tour user, include permissions for the language\n",41],["T_WHITESPACE","    ",42],["T_COMMENT","\/\/ tours' parent pages, but not the translation tour's parent page. See\n",42],["T_WHITESPACE","    ",43],["T_COMMENT","\/\/ self:getTourList().\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","tourUser",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalCreateUser",44],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'access tour'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",44],"]",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","noTourUser",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalCreateUser",45],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",45],"]",")",";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Logs in users, tests help pages.\n   *\/",48],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testHelp",51],"(",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalLogin",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","tourUser",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","verifyHelp",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalLogin",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","noTourUser",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","verifyHelp",56],"(",["T_STRING","FALSE",56],")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Verifies the logged in user has access to the help properly.\n   *\n   * @param bool $tours_ok\n   *   (optional) TRUE (default) if the user should see tours, FALSE if not.\n   *\/",59],["T_WHITESPACE","\n  ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","verifyHelp",65],"(",["T_VARIABLE","$tours_ok",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","TRUE",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalGet",66],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/help'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ All users should be able to see the module section.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertText",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Module overviews are provided by modules'",69],")",";",["T_WHITESPACE","\n    ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getModuleList",70],"(",")",["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$name",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertLink",71],"(",["T_VARIABLE","$name",71],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Some users should be able to see the tour section.\n",74],["T_WHITESPACE","    ",75],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$tours_ok",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertText",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Tours guide you through workflows'",76],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n    ",77],["T_ELSE","else",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertNoText",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Tours guide you through workflows'",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$titles",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getTourList",82],"(",")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Test the titles that should be links.\n",84],["T_WHITESPACE","    ",85],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$titles",85],"[",["T_LNUMBER","0",85],"]",["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$title",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$tours_ok",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertLink",87],"(",["T_VARIABLE","$title",87],")",";",["T_WHITESPACE","\n      ",87],"}",["T_WHITESPACE","\n      ",88],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertNoLink",90],"(",["T_VARIABLE","$title",90],")",";",["T_WHITESPACE","\n        ",90],["T_COMMENT","\/\/ Just test the first item in the list of links that should not\n",91],["T_WHITESPACE","        ",92],["T_COMMENT","\/\/ be there, because the second matches the name of a module that is\n",92],["T_WHITESPACE","        ",93],["T_COMMENT","\/\/ in the Module overviews section, so the link will be there and\n",93],["T_WHITESPACE","        ",94],["T_COMMENT","\/\/ this test will fail. Testing one should be sufficient to verify\n",94],["T_WHITESPACE","        ",95],["T_COMMENT","\/\/ the page is working correctly.\n",95],["T_WHITESPACE","        ",96],["T_BREAK","break",96],";",["T_WHITESPACE","\n      ",96],"}",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Test the titles that should not be links.\n",100],["T_WHITESPACE","    ",101],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$titles",101],"[",["T_LNUMBER","1",101],"]",["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$title",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n      ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$tours_ok",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertText",103],"(",["T_VARIABLE","$title",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertNoLink",104],"(",["T_VARIABLE","$title",104],")",";",["T_WHITESPACE","\n      ",104],"}",["T_WHITESPACE","\n      ",105],["T_ELSE","else",106],["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertNoText",107],"(",["T_VARIABLE","$title",107],")",";",["T_WHITESPACE","\n        ",107],["T_COMMENT","\/\/ Just test the first item in the list of text that should not\n",108],["T_WHITESPACE","        ",109],["T_COMMENT","\/\/ be there, because the second matches part of the name of a module\n",109],["T_WHITESPACE","        ",110],["T_COMMENT","\/\/ that is in the Module overviews section, so the text will be there\n",110],["T_WHITESPACE","        ",111],["T_COMMENT","\/\/ and this test will fail. Testing one should be sufficient to verify\n",111],["T_WHITESPACE","        ",112],["T_COMMENT","\/\/ the page is working correctly.\n",112],["T_WHITESPACE","        ",113],["T_BREAK","break",113],";",["T_WHITESPACE","\n      ",113],"}",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * Gets a list of modules to test for hook_help() pages.\n   *\n   * @return array\n   *   A list of module names to test.\n   *\/",118],["T_WHITESPACE","\n  ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getModuleList",124],"(",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n    ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],"[",["T_CONSTANT_ENCAPSED_STRING","'Help'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Tour'",125],"]",";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n  ",126],["T_DOC_COMMENT","\/**\n   * Gets a list of tours to test.\n   *\n   * @return array\n   *   A list of tour titles to test. The first array element is a list of tours\n   *   with links, and the second is a list of tours without links. Assumes\n   *   that the user being tested has 'administer languages' permission but\n   *   not 'translate interface'.\n   *\/",128],["T_WHITESPACE","\n  ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getTourList",137],"(",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],"[","[",["T_CONSTANT_ENCAPSED_STRING","'Adding languages'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Language'",138],"]",",",["T_WHITESPACE"," ",138],"[",["T_CONSTANT_ENCAPSED_STRING","'Editing languages'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Translation'",138],"]","]",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n",139],"}",["T_WHITESPACE","\n",141]]