[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","tour",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","system",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PageCacheTagsTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","tour",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tour",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Role",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","user",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RoleInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests the Tour entity's cache tags.\n *\n * @group tour\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","TourCacheTagsTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","PageCacheTagsTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'tour'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'tour_test'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_STRING","parent",27],["T_DOUBLE_COLON","::",27],["T_STRING","setUp",27],"(",")",";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ Give anonymous users permission to view nodes, so that we can verify the\n",29],["T_WHITESPACE","    ",30],["T_COMMENT","\/\/ cache tags of cached versions of node pages.\n",30],["T_WHITESPACE","    ",31],["T_STRING","Role",31],["T_DOUBLE_COLON","::",31],["T_STRING","load",31],"(",["T_STRING","RoleInterface",31],["T_DOUBLE_COLON","::",31],["T_STRING","ANONYMOUS_ID",31],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","grantPermission",31],"(",["T_CONSTANT_ENCAPSED_STRING","'access tour'",31],")",["T_WHITESPACE","\n      ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","save",32],"(",")",";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Tests cache tags presence and invalidation of the Tour entity.\n   *\n   * Tests the following cache tags:\n   * - 'tour:<tour ID>'\n   *\/",35],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testRenderedTour",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$url",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Url",42],["T_DOUBLE_COLON","::",42],["T_STRING","fromRoute",42],"(",["T_CONSTANT_ENCAPSED_STRING","'tour_test.1'",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_COMMENT","\/\/ Prime the page cache.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","verifyPageCache",45],"(",["T_VARIABLE","$url",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'MISS'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Verify a cache hit, but also the presence of the correct cache tags.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$expected_tags",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'config:tour.tour.tour-test'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'rendered'",51],",",["T_WHITESPACE","\n    ",51],"]",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","verifyPageCache",53],"(",["T_VARIABLE","$url",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'HIT'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$expected_tags",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Verify that after modifying the tour, there is a cache miss.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","pass",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Test modification of tour.'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'Debug'",56],")",";",["T_WHITESPACE","\n    ",56],["T_STRING","Tour",57],["T_DOUBLE_COLON","::",57],["T_STRING","load",57],"(",["T_CONSTANT_ENCAPSED_STRING","'tour-test'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","save",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","verifyPageCache",58],"(",["T_VARIABLE","$url",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'MISS'",58],")",";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Verify a cache hit.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","verifyPageCache",61],"(",["T_VARIABLE","$url",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'HIT'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$expected_tags",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Verify that after deleting the tour, there is a cache miss.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","pass",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Test deletion of tour.'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Debug'",64],")",";",["T_WHITESPACE","\n    ",64],["T_STRING","Tour",65],["T_DOUBLE_COLON","::",65],["T_STRING","load",65],"(",["T_CONSTANT_ENCAPSED_STRING","'tour-test'",65],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","delete",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","verifyPageCache",66],"(",["T_VARIABLE","$url",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'MISS'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Verify a cache hit.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$expected_tags",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",70],",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'rendered'",71],",",["T_WHITESPACE","\n    ",71],"]",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","verifyPageCache",73],"(",["T_VARIABLE","$url",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'HIT'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$expected_tags",73],")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n",74],"}",["T_WHITESPACE","\n",76]]