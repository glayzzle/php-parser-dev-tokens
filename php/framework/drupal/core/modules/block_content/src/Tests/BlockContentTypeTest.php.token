[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block_content",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","block_content",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","BlockContentType",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Html",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Ensures that custom block type functions work correctly.\n *\n * @group block_content\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","BlockContentTypeTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","BlockContentTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'field_ui'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Permissions to grant admin user.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$permissions",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",["T_WHITESPACE","\n    ",27],["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",28],",",["T_WHITESPACE","\n    ",28],["T_CONSTANT_ENCAPSED_STRING","'administer block_content fields'",29],["T_WHITESPACE","\n  ",29],")",";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Whether or not to create an initial block type.\n   *\n   * @var bool\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$autoCreateBasicBlockType",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","FALSE",37],";",["T_WHITESPACE","\n\n  ",37],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","setUp",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalPlaceBlock",42],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",42],")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Tests creating a block type programmatically and via a form.\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testBlockContentTypeCreation",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ Log in a test user.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalLogin",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","adminUser",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Test the page with no block-types.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalGet",53],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/add'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertResponse",54],"(",["T_LNUMBER","200",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertText",55],"(",["T_CONSTANT_ENCAPSED_STRING","'You have not created any block types yet'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","clickLink",56],"(",["T_CONSTANT_ENCAPSED_STRING","'block type creation page'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Create a block type via the user interface.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$edit",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'id'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'foo'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'label'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'title for foo'",61],",",["T_WHITESPACE","\n    ",61],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalPostForm",63],"(",["T_STRING","NULL",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$edit",63],",",["T_WHITESPACE"," ",63],["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",63],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$block_type",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","BlockContentType",64],["T_DOUBLE_COLON","::",64],["T_STRING","load",64],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertTrue",65],"(",["T_VARIABLE","$block_type",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'The new block type has been created.'",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$field_definitions",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Drupal",67],["T_DOUBLE_COLON","::",67],["T_STRING","entityManager",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getFieldDefinitions",67],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'foo'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertTrue",68],"(",["T_ISSET","isset",68],"(",["T_VARIABLE","$field_definitions",68],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",68],"]",")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Body field created when using the UI to create block content types.'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_COMMENT","\/\/ Check that the block type was created in site default language.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$default_langcode",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Drupal",71],["T_DOUBLE_COLON","::",71],["T_STRING","languageManager",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getDefaultLanguage",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getId",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEqual",72],"(",["T_VARIABLE","$block_type",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","language",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getId",72],"(",")",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$default_langcode",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Create block types programmatically.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","createBlockContentType",75],"(",["T_CONSTANT_ENCAPSED_STRING","'basic'",75],",",["T_WHITESPACE"," ",75],["T_STRING","TRUE",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$field_definitions",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Drupal",76],["T_DOUBLE_COLON","::",76],["T_STRING","entityManager",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getFieldDefinitions",76],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'basic'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertTrue",77],"(",["T_ISSET","isset",77],"(",["T_VARIABLE","$field_definitions",77],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",77],"]",")",",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"Body field for 'basic' block type created when using the testing API to create block content types.\"",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","createBlockContentType",79],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$field_definitions",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Drupal",80],["T_DOUBLE_COLON","::",80],["T_STRING","entityManager",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getFieldDefinitions",80],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'other'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertFalse",81],"(",["T_ISSET","isset",81],"(",["T_VARIABLE","$field_definitions",81],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",81],"]",")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\"Body field for 'other' block type not created when using the testing API to create block content types.\"",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$block_type",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","BlockContentType",83],["T_DOUBLE_COLON","::",83],["T_STRING","load",83],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertTrue",84],"(",["T_VARIABLE","$block_type",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'The new block type has been created.'",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalGet",86],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/add\/'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$block_type",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertResponse",87],"(",["T_LNUMBER","200",87],")",";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * Tests editing a block type using the UI.\n   *\/",90],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","testBlockContentTypeEditing",93],"(",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_COMMENT","\/\/ Now create an initial block-type.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","createBlockContentType",95],"(",["T_CONSTANT_ENCAPSED_STRING","'basic'",95],",",["T_WHITESPACE"," ",95],["T_STRING","TRUE",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","drupalLogin",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","adminUser",97],")",";",["T_WHITESPACE","\n    ",97],["T_COMMENT","\/\/ We need two block types to prevent \/block\/add redirecting.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","createBlockContentType",99],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$field_definitions",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Drupal",101],["T_DOUBLE_COLON","::",101],["T_STRING","entityManager",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getFieldDefinitions",101],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'other'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertFalse",102],"(",["T_ISSET","isset",102],"(",["T_VARIABLE","$field_definitions",102],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",102],"]",")",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Body field was not created when using the API to create block content types.'",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Verify that title and body fields are displayed.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalGet",105],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/add\/basic'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertRaw",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Block description'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Block info field was found.'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertRaw",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Body'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Body field was found.'",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Change the block type name.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$edit",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'label'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Bar'",111],",",["T_WHITESPACE","\n    ",111],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalGet",113],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/block-content\/manage\/basic'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertTitle",114],"(",["T_STRING","format_string",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit @type custom block type | Drupal'",114],",",["T_WHITESPACE"," ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'@type'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'basic'",114],"]",")",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","drupalPostForm",115],"(",["T_STRING","NULL",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$edit",115],",",["T_WHITESPACE"," ",115],["T_STRING","t",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",115],")",")",";",["T_WHITESPACE","\n    ",115],["T_NS_SEPARATOR","\\",116],["T_STRING","Drupal",116],["T_DOUBLE_COLON","::",116],["T_STRING","entityManager",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","clearCachedFieldDefinitions",116],"(",")",";",["T_WHITESPACE","\n\n    ",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","drupalGet",118],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/add'",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertRaw",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Bar'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'New name was displayed.'",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","clickLink",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Bar'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertUrl",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Drupal",121],["T_DOUBLE_COLON","::",121],["T_STRING","url",121],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content.add_form'",121],",",["T_WHITESPACE"," ",121],"[",["T_CONSTANT_ENCAPSED_STRING","'block_content_type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'basic'",121],"]",",",["T_WHITESPACE"," ",121],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_STRING","TRUE",121],"]",")",",",["T_WHITESPACE"," ",121],"[","]",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Original machine name was used in URL.'",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Remove the body field.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalPostForm",124],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/block-content\/manage\/basic\/fields\/block_content.basic.body\/delete'",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",")",",",["T_WHITESPACE"," ",124],["T_STRING","t",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",124],")",")",";",["T_WHITESPACE","\n    ",124],["T_COMMENT","\/\/ Resave the settings for this type.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalPostForm",126],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/block-content\/manage\/basic'",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",",",["T_WHITESPACE"," ",126],["T_STRING","t",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",126],")",")",";",["T_WHITESPACE","\n    ",126],["T_COMMENT","\/\/ Check that the body field doesn't exist.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalGet",128],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/add\/basic'",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertNoRaw",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Body'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Body field was not found.'",129],")",";",["T_WHITESPACE","\n  ",129],"}",["T_WHITESPACE","\n\n  ",130],["T_DOC_COMMENT","\/**\n   * Tests deleting a block type that still has content.\n   *\/",132],["T_WHITESPACE","\n  ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","testBlockContentTypeDeletion",135],"(",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n    ",135],["T_COMMENT","\/\/ Now create an initial block-type.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","createBlockContentType",137],"(",["T_CONSTANT_ENCAPSED_STRING","'basic'",137],",",["T_WHITESPACE"," ",137],["T_STRING","TRUE",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Create a block type programmatically.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$type",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","createBlockContentType",140],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","drupalLogin",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","adminUser",142],")",";",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/\/ Add a new block of this type.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$block",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","createBlockContent",145],"(",["T_STRING","FALSE",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'foo'",145],")",";",["T_WHITESPACE","\n    ",145],["T_COMMENT","\/\/ Attempt to delete the block type, which should not be allowed.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalGet",147],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/block-content\/manage\/'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$type",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","id",147],"(",")",["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertRaw",148],"(",["T_WHITESPACE","\n      ",148],["T_STRING","t",149],"(",["T_CONSTANT_ENCAPSED_STRING","'%label is used by 1 custom block on your site. You can not remove this block type until you have removed all of the %label blocks.'",149],",",["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$type",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","label",149],"(",")",")",")",",",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'The block type will not be deleted until all blocks of that type are removed.'",150],["T_WHITESPACE","\n    ",150],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertNoText",152],"(",["T_STRING","t",152],"(",["T_CONSTANT_ENCAPSED_STRING","'This action cannot be undone.'",152],")",",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'The block type deletion confirmation form is not available.'",152],")",";",["T_WHITESPACE","\n\n    ",152],["T_COMMENT","\/\/ Delete the block.\n",154],["T_WHITESPACE","    ",155],["T_VARIABLE","$block",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","delete",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_COMMENT","\/\/ Attempt to delete the block type, which should now be allowed.\n",156],["T_WHITESPACE","    ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","drupalGet",157],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/block-content\/manage\/'",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$type",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","id",157],"(",")",["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertRaw",158],"(",["T_WHITESPACE","\n      ",158],["T_STRING","t",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to delete the custom block type %type?'",159],",",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$type",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","id",159],"(",")",")",")",",",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'The block type is available for deletion.'",160],["T_WHITESPACE","\n    ",160],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertText",162],"(",["T_STRING","t",162],"(",["T_CONSTANT_ENCAPSED_STRING","'This action cannot be undone.'",162],")",",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'The custom block type deletion confirmation form is available.'",162],")",";",["T_WHITESPACE","\n  ",162],"}",["T_WHITESPACE","\n\n  ",163],["T_DOC_COMMENT","\/**\n   * Tests that redirects work as expected when multiple block types exist.\n   *\/",165],["T_WHITESPACE","\n  ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","testsBlockContentAddTypes",168],"(",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n    ",168],["T_COMMENT","\/\/ Now create an initial block-type.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","createBlockContentType",170],"(",["T_CONSTANT_ENCAPSED_STRING","'basic'",170],",",["T_WHITESPACE"," ",170],["T_STRING","TRUE",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","drupalLogin",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","adminUser",172],")",";",["T_WHITESPACE","\n    ",172],["T_COMMENT","\/\/ Create two block types programmatically.\n",173],["T_WHITESPACE","    ",174],["T_VARIABLE","$type",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","createBlockContentType",174],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",174],")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$type",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","createBlockContentType",175],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",175],")",";",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ Get the custom block storage.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$storage",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","container",178],["T_WHITESPACE","\n      ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",179],")",["T_WHITESPACE","\n      ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","getStorage",180],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",180],")",";",["T_WHITESPACE","\n\n    ",180],["T_COMMENT","\/\/ Install all themes.\n",182],["T_WHITESPACE","    ",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Drupal",183],["T_DOUBLE_COLON","::",183],["T_STRING","service",183],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","install",183],"(","[",["T_CONSTANT_ENCAPSED_STRING","'bartik'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'seven'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'stark'",183],"]",")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$theme_settings",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","config",184],"(",["T_CONSTANT_ENCAPSED_STRING","'system.theme'",184],")",";",["T_WHITESPACE","\n    ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(","[",["T_CONSTANT_ENCAPSED_STRING","'bartik'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'seven'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'stark'",185],"]",["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$default_theme",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_COMMENT","\/\/ Change the default theme.\n",186],["T_WHITESPACE","      ",187],["T_VARIABLE","$theme_settings",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","set",187],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$default_theme",187],")",["T_OBJECT_OPERATOR","->",187],["T_STRING","save",187],"(",")",";",["T_WHITESPACE","\n      ",187],["T_NS_SEPARATOR","\\",188],["T_STRING","Drupal",188],["T_DOUBLE_COLON","::",188],["T_STRING","service",188],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",188],")",["T_OBJECT_OPERATOR","->",188],["T_STRING","rebuild",188],"(",")",";",["T_WHITESPACE","\n\n      ",188],["T_COMMENT","\/\/ For each installed theme, go to its block page and test the redirects.\n",190],["T_WHITESPACE","      ",191],["T_FOREACH","foreach",191],["T_WHITESPACE"," ",191],"(","[",["T_CONSTANT_ENCAPSED_STRING","'bartik'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'seven'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'stark'",191],"]",["T_WHITESPACE"," ",191],["T_AS","as",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$theme",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n        ",191],["T_COMMENT","\/\/ Test that adding a block from the 'place blocks' form sends you to the\n",192],["T_WHITESPACE","        ",193],["T_COMMENT","\/\/ block configure form.\n",193],["T_WHITESPACE","        ",194],["T_VARIABLE","$path",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$theme",194],["T_WHITESPACE"," ",194],["T_IS_EQUAL","==",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$default_theme",194],["T_WHITESPACE"," ",194],"?",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block'",194],["T_WHITESPACE"," ",194],":",["T_WHITESPACE"," ",194],"\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/block\/list\/",194],["T_VARIABLE","$theme",194],"\"",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","drupalGet",195],"(",["T_VARIABLE","$path",195],")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","clickLinkPartialName",196],"(",["T_CONSTANT_ENCAPSED_STRING","'Place block'",196],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","clickLink",197],"(",["T_STRING","t",197],"(",["T_CONSTANT_ENCAPSED_STRING","'Add custom block'",197],")",")",";",["T_WHITESPACE","\n        ",197],["T_COMMENT","\/\/ The seven theme has markup inside the link, we cannot use clickLink().\n",198],["T_WHITESPACE","        ",199],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$default_theme",199],["T_WHITESPACE"," ",199],["T_IS_EQUAL","==",199],["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'seven'",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n          ",199],["T_VARIABLE","$options",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$theme",200],["T_WHITESPACE"," ",200],["T_IS_NOT_EQUAL","!=",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$default_theme",200],["T_WHITESPACE"," ",200],"?",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$theme",200],")",")",["T_WHITESPACE"," ",200],":",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",")",";",["T_WHITESPACE","\n          ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertLinkByHref",201],"(",["T_NS_SEPARATOR","\\",201],["T_STRING","Drupal",201],["T_DOUBLE_COLON","::",201],["T_STRING","url",201],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content.add_form'",201],",",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content_type'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'foo'",201],")",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$options",201],")",")",";",["T_WHITESPACE","\n          ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","drupalGet",202],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/add\/foo'",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$options",202],")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_ELSE","else",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n          ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","clickLink",205],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",205],")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n        ",206],["T_COMMENT","\/\/ Create a new block.\n",207],["T_WHITESPACE","        ",208],["T_VARIABLE","$edit",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_CONSTANT_ENCAPSED_STRING","'info[0][value]'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","randomMachineName",208],"(",["T_LNUMBER","8",208],")",")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","drupalPostForm",209],"(",["T_STRING","NULL",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$edit",209],",",["T_WHITESPACE"," ",209],["T_STRING","t",209],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",209],")",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$blocks",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$storage",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","loadByProperties",210],"(",["T_ARRAY","array",210],"(",["T_CONSTANT_ENCAPSED_STRING","'info'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$edit",210],"[",["T_CONSTANT_ENCAPSED_STRING","'info[0][value]'",210],"]",")",")",";",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(","!",["T_EMPTY","empty",211],"(",["T_VARIABLE","$blocks",211],")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n          ",211],["T_VARIABLE","$block",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","reset",212],"(",["T_VARIABLE","$blocks",212],")",";",["T_WHITESPACE","\n          ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertUrl",213],"(",["T_NS_SEPARATOR","\\",213],["T_STRING","Drupal",213],["T_DOUBLE_COLON","::",213],["T_STRING","url",213],"(",["T_CONSTANT_ENCAPSED_STRING","'block.admin_add'",213],",",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin_id'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'block_content:'",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_VARIABLE","$block",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","uuid",213],"(",")",",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'theme'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$theme",213],")",",",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_STRING","TRUE",213],")",")",")",";",["T_WHITESPACE","\n          ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","drupalPostForm",214],"(",["T_STRING","NULL",214],",",["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",")",",",["T_WHITESPACE"," ",214],["T_STRING","t",214],"(",["T_CONSTANT_ENCAPSED_STRING","'Save block'",214],")",")",";",["T_WHITESPACE","\n          ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertUrl",215],"(",["T_NS_SEPARATOR","\\",215],["T_STRING","Drupal",215],["T_DOUBLE_COLON","::",215],["T_STRING","url",215],"(",["T_CONSTANT_ENCAPSED_STRING","'block.admin_display_theme'",215],",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$theme",215],")",",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_STRING","TRUE",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'query'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_CONSTANT_ENCAPSED_STRING","'block-placement'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_STRING","Html",215],["T_DOUBLE_COLON","::",215],["T_STRING","getClass",215],"(",["T_VARIABLE","$edit",215],"[",["T_CONSTANT_ENCAPSED_STRING","'info[0][value]'",215],"]",")",")",")",")",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n        ",216],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n          ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","fail",218],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not load created block.'",218],")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n      ",219],"}",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_COMMENT","\/\/ Test that adding a block from the 'custom blocks list' doesn't send you\n",223],["T_WHITESPACE","    ",224],["T_COMMENT","\/\/ to the block configure form.\n",224],["T_WHITESPACE","    ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","drupalGet",225],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/block-content'",225],")",";",["T_WHITESPACE","\n    ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","clickLink",226],"(",["T_STRING","t",226],"(",["T_CONSTANT_ENCAPSED_STRING","'Add custom block'",226],")",")",";",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","clickLink",227],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",227],")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$edit",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'info[0][value]'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","randomMachineName",228],"(",["T_LNUMBER","8",228],")",")",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","drupalPostForm",229],"(",["T_STRING","NULL",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$edit",229],",",["T_WHITESPACE"," ",229],["T_STRING","t",229],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",229],")",")",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$blocks",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$storage",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","loadByProperties",230],"(",["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'info'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$edit",230],"[",["T_CONSTANT_ENCAPSED_STRING","'info[0][value]'",230],"]",")",")",";",["T_WHITESPACE","\n    ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(","!",["T_EMPTY","empty",231],"(",["T_VARIABLE","$blocks",231],")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n      ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertUrl",232],"(",["T_NS_SEPARATOR","\\",232],["T_STRING","Drupal",232],["T_DOUBLE_COLON","::",232],["T_STRING","url",232],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.block_content.collection'",232],",",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",")",",",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_STRING","TRUE",232],")",")",")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n    ",233],["T_ELSE","else",234],["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n      ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","fail",235],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not load created block.'",235],")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n  ",236],"}",["T_WHITESPACE","\n\n",237],"}",["T_WHITESPACE","\n",239]]