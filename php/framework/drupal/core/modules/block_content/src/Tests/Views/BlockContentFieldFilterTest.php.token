[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block_content",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldStorageConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableLanguage",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests block_content field filters with translations.\n *\n * @group block_content\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","BlockContentFieldFilterTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","BlockContentTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_STATIC","static",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$modules",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",18],")",";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$testViews",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_filters'",25],")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * List of block_content infos by language.\n   *\n   * @var array\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$blockContentInfos",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],"[","]",";",["T_WHITESPACE","\n\n\n  ",32],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Add two new languages.\n",41],["T_WHITESPACE","    ",42],["T_STRING","ConfigurableLanguage",42],["T_DOUBLE_COLON","::",42],["T_STRING","createFromLangcode",42],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","save",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_STRING","ConfigurableLanguage",43],["T_DOUBLE_COLON","::",43],["T_STRING","createFromLangcode",43],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",43],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","save",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Make the body field translatable. The info is already translatable by\n",45],["T_WHITESPACE","    ",46],["T_COMMENT","\/\/ definition.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$field_storage",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","FieldStorageConfig",47],["T_DOUBLE_COLON","::",47],["T_STRING","loadByName",47],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'body'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$field_storage",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setTranslatable",48],"(",["T_STRING","TRUE",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$field_storage",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","save",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Set up block_content infos.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","blockContentInfos",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'en'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Food in Paris'",53],",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'es'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Comida en Paris'",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'fr'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Nouriture en Paris'",55],",",["T_WHITESPACE","\n    ",55],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Create block_content with translations.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$block_content",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","createBlockContent",59],"(","[",["T_CONSTANT_ENCAPSED_STRING","'info'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","blockContentInfos",59],"[",["T_CONSTANT_ENCAPSED_STRING","'en'",59],"]",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'langcode'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'en'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'type'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'basic'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'body'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],"[","[",["T_CONSTANT_ENCAPSED_STRING","'value'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","blockContentInfos",59],"[",["T_CONSTANT_ENCAPSED_STRING","'en'",59],"]","]","]","]",")",";",["T_WHITESPACE","\n    ",59],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'fr'",60],")",["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$langcode",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$translation",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$block_content",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","addTranslation",61],"(",["T_VARIABLE","$langcode",61],",",["T_WHITESPACE"," ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'info'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","blockContentInfos",61],"[",["T_VARIABLE","$langcode",61],"]","]",")",";",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$translation",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","body",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","value",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","blockContentInfos",62],"[",["T_VARIABLE","$langcode",62],"]",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$block_content",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Tests body and info filters.\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testFilters",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ Test the info filter page, which filters for info contains 'Comida'.\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/ Should show just the Spanish translation, once.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertPageCounts",73],"(",["T_CONSTANT_ENCAPSED_STRING","'test-info-filter'",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_LNUMBER","1",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'fr'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_LNUMBER","0",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'en'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_LNUMBER","0",73],")",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Comida info filter'",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Test the body filter page, which filters for body contains 'Comida'.\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ Should show just the Spanish translation, once.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertPageCounts",77],"(",["T_CONSTANT_ENCAPSED_STRING","'test-body-filter'",77],",",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'fr'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_LNUMBER","0",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'en'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_LNUMBER","0",77],")",",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Comida body filter'",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Test the info Paris filter page, which filters for info contains\n",79],["T_WHITESPACE","    ",80],["T_COMMENT","\/\/ 'Paris'. Should show each translation once.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertPageCounts",81],"(",["T_CONSTANT_ENCAPSED_STRING","'test-info-paris'",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","1",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'fr'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","1",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'en'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","1",81],")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Paris info filter'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Test the body Paris filter page, which filters for body contains\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ 'Paris'. Should show each translation once.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertPageCounts",85],"(",["T_CONSTANT_ENCAPSED_STRING","'test-body-paris'",85],",",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_LNUMBER","1",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'fr'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_LNUMBER","1",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'en'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_LNUMBER","1",85],")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Paris body filter'",85],")",";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * Asserts that the given block_content translation counts are correct.\n   *\n   * @param string $path\n   *   Path of the page to test.\n   * @param array $counts\n   *   Array whose keys are languages, and values are the number of times\n   *   that translation should be shown on the given page.\n   * @param string $message\n   *   Message suffix to display.\n   *\/",88],["T_WHITESPACE","\n  ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","assertPageCounts",99],"(",["T_VARIABLE","$path",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$counts",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$message",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n    ",99],["T_COMMENT","\/\/ Get the text of the page.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","drupalGet",101],"(",["T_VARIABLE","$path",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$text",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getTextContent",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_FOREACH","foreach",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$counts",104],["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$langcode",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$count",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_STRING","substr_count",105],"(",["T_VARIABLE","$text",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","blockContentInfos",105],"[",["T_VARIABLE","$langcode",105],"]",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$count",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Translation '",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$langcode",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","' has count '",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$count",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","' with '",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$message",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n",107],"}",["T_WHITESPACE","\n",109]]