[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block_content",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests the listing of custom blocks.\n *\n * Tests the fallback block content list when Views is disabled.\n *\n * @group block_content\n * @see \\Drupal\\block\\BlockContentListBuilder\n * @see \\Drupal\\block_content\\Tests\\BlockContentListViewsTest\n *\/",5],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","BlockContentListTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","BlockContentTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'block_content'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'config_translation'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Tests the custom block listing page.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testListing",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalLogin",27],"(",["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalCreateUser",27],"(",["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'translate configuration'",27],")",")",")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","drupalGet",28],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/block-content'",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_COMMENT","\/\/ Test for the page title.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertTitle",31],"(",["T_STRING","t",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom block library'",31],")",["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","' | Drupal'",31],")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Test for the table.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$element",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","xpath",34],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"layout-content\"]\/\/table'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertTrue",35],"(",["T_VARIABLE","$element",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Configuration entity list table found.'",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Test the table header.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$elements",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","xpath",38],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"layout-content\"]\/\/table\/thead\/tr\/th'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertEqual",39],"(",["T_STRING","count",39],"(",["T_VARIABLE","$elements",39],")",",",["T_WHITESPACE"," ",39],["T_LNUMBER","2",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'Correct number of table header cells found.'",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Test the contents of each th cell.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$expected_items",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_STRING","t",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Block description'",42],")",",",["T_WHITESPACE"," ",42],["T_STRING","t",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Operations'",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$elements",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$key",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$element",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertEqual",44],"(",["T_VARIABLE","$element",44],"[",["T_LNUMBER","0",44],"]",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$expected_items",44],"[",["T_VARIABLE","$key",44],"]",")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_VARIABLE","$label",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Antelope'",47],";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$new_label",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Albatross'",48],";",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ Add a new entity using the operations link.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$link_text",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Add custom block'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertLink",51],"(",["T_VARIABLE","$link_text",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","clickLink",52],"(",["T_VARIABLE","$link_text",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertResponse",53],"(",["T_LNUMBER","200",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$edit",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$edit",55],"[",["T_CONSTANT_ENCAPSED_STRING","'info[0][value]'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$label",55],";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$edit",56],"[",["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",["T_LNUMBER","16",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalPostForm",57],"(",["T_STRING","NULL",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$edit",57],",",["T_WHITESPACE"," ",57],["T_STRING","t",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",57],")",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Confirm that once the user returns to the listing, the text of the label\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ (versus elsewhere on the page).\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertFieldByXpath",61],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/td'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$label",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Label found for added block.'",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Check the number of table row cells.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$elements",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","xpath",64],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"layout-content\"]\/\/table\/tbody\/tr[@class=\"odd\"]\/td'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEqual",65],"(",["T_STRING","count",65],"(",["T_VARIABLE","$elements",65],")",",",["T_WHITESPACE"," ",65],["T_LNUMBER","2",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Correct number of table row cells found.'",65],")",";",["T_WHITESPACE","\n    ",65],["T_COMMENT","\/\/ Check the contents of each row cell. The first cell contains the label,\n",66],["T_WHITESPACE","    ",67],["T_COMMENT","\/\/ the second contains the machine name, and the third contains the\n",67],["T_WHITESPACE","    ",68],["T_COMMENT","\/\/ operations list.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertIdentical",69],"(",["T_STRING_CAST","(string)",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$elements",69],"[",["T_LNUMBER","0",69],"]",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$label",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Edit the entity using the operations link.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$blocks",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","container",72],["T_WHITESPACE","\n      ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",73],")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","getStorage",74],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",74],")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","loadByProperties",75],"(",["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'info'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$label",75],")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$block",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","reset",76],"(",["T_VARIABLE","$blocks",76],")",";",["T_WHITESPACE","\n    ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_EMPTY","empty",77],"(",["T_VARIABLE","$block",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n      ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertLinkByHref",78],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/'",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$block",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",")",";",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","clickLink",79],"(",["T_STRING","t",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",79],")",")",";",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertResponse",80],"(",["T_LNUMBER","200",80],")",";",["T_WHITESPACE","\n      ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertTitle",81],"(",["T_STRING","strip_tags",81],"(",["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit custom block %label'",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$label",81],")",")",["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","' | Drupal'",81],")",")",";",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$edit",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_CONSTANT_ENCAPSED_STRING","'info[0][value]'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$new_label",82],")",";",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalPostForm",83],"(",["T_STRING","NULL",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$edit",83],",",["T_WHITESPACE"," ",83],["T_STRING","t",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",83],")",")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n    ",84],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","fail",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Did not find Albatross block in the database.'",86],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Confirm that once the user returns to the listing, the text of the label\n",89],["T_WHITESPACE","    ",90],["T_COMMENT","\/\/ (versus elsewhere on the page).\n",90],["T_WHITESPACE","    ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertFieldByXpath",91],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/td'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$new_label",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Label found for updated custom block.'",91],")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Delete the added entity using the operations link.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertLinkByHref",94],"(",["T_CONSTANT_ENCAPSED_STRING","'block\/'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$block",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","id",94],"(",")",["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$delete_text",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","t",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","clickLink",96],"(",["T_VARIABLE","$delete_text",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertResponse",97],"(",["T_LNUMBER","200",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertTitle",98],"(",["T_STRING","strip_tags",98],"(",["T_STRING","t",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to delete the custom block %label?'",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$new_label",98],")",")",["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","' | Drupal'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","drupalPostForm",99],"(",["T_STRING","NULL",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$delete_text",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Verify that the text of the label and machine name does not appear in\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ the list (though it may appear elsewhere on the page).\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertNoFieldByXpath",103],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/td'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$new_label",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'No label found for deleted custom block.'",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Confirm that the empty text is displayed.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertText",106],"(",["T_STRING","t",106],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no Custom block yet.'",106],")",")",";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n",107],"}",["T_WHITESPACE","\n",109]]