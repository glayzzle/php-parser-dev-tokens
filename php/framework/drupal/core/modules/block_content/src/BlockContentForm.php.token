[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block_content",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ContentEntityForm",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityManagerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityStorageInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Form",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FormStateInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageManagerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DependencyInjection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContainerInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Form handler for the custom block edit forms.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","BlockContentForm",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","ContentEntityForm",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * The custom block storage.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityStorageInterface\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$blockContentStorage",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The custom block type storage.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityStorageInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$blockContentTypeStorage",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The language manager.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageManagerInterface\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$languageManager",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * The block content entity.\n   *\n   * @var \\Drupal\\block_content\\BlockContentInterface\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$entity",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Constructs a BlockContentForm object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager.\n   * @param \\Drupal\\Core\\Entity\\EntityStorageInterface $block_content_storage\n   *   The custom block storage.\n   * @param \\Drupal\\Core\\Entity\\EntityStorageInterface $block_content_type_storage\n   *   The custom block type storage.\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language_manager\n   *   The language manager.\n   *\/",46],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","__construct",58],"(",["T_STRING","EntityManagerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$entity_manager",58],",",["T_WHITESPACE"," ",58],["T_STRING","EntityStorageInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$block_content_storage",58],",",["T_WHITESPACE"," ",58],["T_STRING","EntityStorageInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$block_content_type_storage",58],",",["T_WHITESPACE"," ",58],["T_STRING","LanguageManagerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$language_manager",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_STRING","parent",59],["T_DOUBLE_COLON","::",59],["T_STRING","__construct",59],"(",["T_VARIABLE","$entity_manager",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","blockContentStorage",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$block_content_storage",60],";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","blockContentTypeStorage",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$block_content_type_storage",61],";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","languageManager",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$language_manager",62],";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_STATIC","static",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","create",68],"(",["T_STRING","ContainerInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$container",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$entity_manager",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$container",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",69],")",";",["T_WHITESPACE","\n    ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STATIC","static",70],"(",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$entity_manager",71],",",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$entity_manager",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getStorage",72],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",72],")",",",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$entity_manager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getStorage",73],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content_type'",73],")",",",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$container",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",74],")",["T_WHITESPACE","\n    ",74],")",";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * Overrides \\Drupal\\Core\\Entity\\EntityForm::prepareEntity().\n   *\n   * Prepares the custom block object.\n   *\n   * Fills in a few default values, and then invokes\n   * hook_block_content_prepare() on all modules.\n   *\/",78],["T_WHITESPACE","\n  ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","prepareEntity",86],"(",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$block",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","entity",87],";",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/\/ Set up default values, if required.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$block_type",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","blockContentTypeStorage",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","load",89],"(",["T_VARIABLE","$block",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","bundle",89],"(",")",")",";",["T_WHITESPACE","\n    ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_VARIABLE","$block",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","isNew",90],"(",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$block",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setRevisionLogMessage",91],"(",["T_STRING","NULL",91],")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n    ",92],["T_COMMENT","\/\/ Always use the default revision setting.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$block",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setNewRevision",94],"(",["T_VARIABLE","$block_type",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","shouldCreateNewRevision",94],"(",")",")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",97],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","form",100],"(",["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$form",100],",",["T_WHITESPACE"," ",100],["T_STRING","FormStateInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$form_state",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$block",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","entity",101],";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$account",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","currentUser",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","operation",104],["T_WHITESPACE"," ",104],["T_IS_EQUAL","==",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'edit'",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$form",105],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","t",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit custom block %label'",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$block",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","label",105],"(",")",")",")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n    ",106],["T_COMMENT","\/\/ Override the default CSS class name, since the user-defined custom block\n",107],["T_WHITESPACE","    ",108],["T_COMMENT","\/\/ type name in 'TYPE-block-form' potentially clashes with third-party class\n",108],["T_WHITESPACE","    ",109],["T_COMMENT","\/\/ names.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$form",110],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",110],"]","[",["T_LNUMBER","0",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'block-'",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_STRING","Html",110],["T_DOUBLE_COLON","::",110],["T_STRING","getClass",110],"(",["T_VARIABLE","$block",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","bundle",110],"(",")",")",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'-form'",110],";",["T_WHITESPACE","\n\n    ",110],["T_VARIABLE","$form",112],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_WHITESPACE","\n      ",112],["T_CONSTANT_ENCAPSED_STRING","'#type'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'vertical_tabs'",113],",",["T_WHITESPACE","\n      ",113],["T_CONSTANT_ENCAPSED_STRING","'#weight'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_LNUMBER","99",114],",",["T_WHITESPACE","\n    ",114],")",";",["T_WHITESPACE","\n\n    ",115],["T_COMMENT","\/\/ Add a log field if the \"Create new revision\" option is checked, or if the\n",117],["T_WHITESPACE","    ",118],["T_COMMENT","\/\/ current user has the ability to check that option.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$form",119],"[",["T_CONSTANT_ENCAPSED_STRING","'revision_information'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'#type'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'details'",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'#title'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","t",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Revision information'",121],")",",",["T_WHITESPACE","\n      ",121],["T_COMMENT","\/\/ Open by default when \"Create new revision\" is checked.\n",122],["T_WHITESPACE","      ",123],["T_CONSTANT_ENCAPSED_STRING","'#open'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$block",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","isNewRevision",123],"(",")",",",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'#group'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'advanced'",124],",",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_WHITESPACE","\n        ",125],["T_CONSTANT_ENCAPSED_STRING","'class'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'block-content-form-revision-information'",126],")",",",["T_WHITESPACE","\n      ",126],")",",",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'#attached'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_WHITESPACE","\n        ",128],["T_CONSTANT_ENCAPSED_STRING","'library'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content\/drupal.block_content'",129],")",",",["T_WHITESPACE","\n      ",129],")",",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'#weight'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_LNUMBER","20",131],",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'#access'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$block",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","isNewRevision",132],"(",")",["T_WHITESPACE"," ",132],["T_BOOLEAN_OR","||",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$account",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","hasPermission",132],"(",["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",132],")",",",["T_WHITESPACE","\n    ",132],")",";",["T_WHITESPACE","\n\n    ",133],["T_VARIABLE","$form",135],"[",["T_CONSTANT_ENCAPSED_STRING","'revision_information'",135],"]","[",["T_CONSTANT_ENCAPSED_STRING","'revision'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'#type'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",136],",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'#title'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","t",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new revision'",137],")",",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$block",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","isNewRevision",138],"(",")",",",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'#access'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$account",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","hasPermission",139],"(",["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",139],")",",",["T_WHITESPACE","\n    ",139],")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ Check the revision log checkbox when the log textarea is filled in.\n",142],["T_WHITESPACE","    ",143],["T_COMMENT","\/\/ This must not happen if \"Create new revision\" is enabled by default,\n",143],["T_WHITESPACE","    ",144],["T_COMMENT","\/\/ since the state would auto-disable the checkbox otherwise.\n",144],["T_WHITESPACE","    ",145],["T_IF","if",145],["T_WHITESPACE"," ",145],"(","!",["T_VARIABLE","$block",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","isNewRevision",145],"(",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_VARIABLE","$form",146],"[",["T_CONSTANT_ENCAPSED_STRING","'revision_information'",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'revision'",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#states'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_WHITESPACE","\n        ",146],["T_CONSTANT_ENCAPSED_STRING","'checked'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_WHITESPACE","\n          ",147],["T_CONSTANT_ENCAPSED_STRING","'textarea[name=\"revision_log\"]'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'empty'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_STRING","FALSE",148],")",",",["T_WHITESPACE","\n        ",148],")",",",["T_WHITESPACE","\n      ",149],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_VARIABLE","$form",153],"[",["T_CONSTANT_ENCAPSED_STRING","'revision_information'",153],"]","[",["T_CONSTANT_ENCAPSED_STRING","'revision_log'",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'#type'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'textarea'",154],",",["T_WHITESPACE","\n      ",154],["T_CONSTANT_ENCAPSED_STRING","'#title'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","t",155],"(",["T_CONSTANT_ENCAPSED_STRING","'Revision log message'",155],")",",",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'#rows'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_LNUMBER","4",156],",",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$block",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getRevisionLog",157],"(",")",",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'#description'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","t",158],"(",["T_CONSTANT_ENCAPSED_STRING","'Briefly describe the changes you have made.'",158],")",",",["T_WHITESPACE","\n    ",158],")",";",["T_WHITESPACE","\n\n    ",159],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_STRING","parent",161],["T_DOUBLE_COLON","::",161],["T_STRING","form",161],"(",["T_VARIABLE","$form",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$form_state",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$block",161],")",";",["T_WHITESPACE","\n  ",161],"}",["T_WHITESPACE","\n\n  ",162],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",164],["T_WHITESPACE","\n  ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","save",167],"(",["T_ARRAY","array",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$form",167],",",["T_WHITESPACE"," ",167],["T_STRING","FormStateInterface",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$form_state",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$block",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","entity",168],";",["T_WHITESPACE","\n\n    ",168],["T_COMMENT","\/\/ Save as a new revision if requested to do so.\n",170],["T_WHITESPACE","    ",171],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_VARIABLE","$form_state",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","isValueEmpty",171],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$block",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","setNewRevision",172],"(",")",";",["T_WHITESPACE","\n      ",172],["T_COMMENT","\/\/ If a new revision is created, save the current user as revision author.\n",173],["T_WHITESPACE","      ",174],["T_VARIABLE","$block",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setRevisionCreationTime",174],"(",["T_STRING","REQUEST_TIME",174],")",";",["T_WHITESPACE","\n      ",174],["T_VARIABLE","$block",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setRevisionUserId",175],"(",["T_NS_SEPARATOR","\\",175],["T_STRING","Drupal",175],["T_DOUBLE_COLON","::",175],["T_STRING","currentUser",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","id",175],"(",")",")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_VARIABLE","$insert",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$block",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","isNew",178],"(",")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$block",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","save",179],"(",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$context",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$block",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","bundle",180],"(",")",",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'%info'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$block",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","label",180],"(",")",")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$logger",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","logger",181],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",181],")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$block_type",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","blockContentTypeStorage",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","load",182],"(",["T_VARIABLE","$block",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","bundle",182],"(",")",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$t_args",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$block_type",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","label",183],"(",")",",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'%info'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$block",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","label",183],"(",")",")",";",["T_WHITESPACE","\n\n    ",183],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$insert",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$logger",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","notice",186],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: added %info.'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$context",186],")",";",["T_WHITESPACE","\n      ",186],["T_STRING","drupal_set_message",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","t",187],"(",["T_CONSTANT_ENCAPSED_STRING","'@type %info has been created.'",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$t_args",187],")",")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n    ",188],["T_ELSE","else",189],["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n      ",189],["T_VARIABLE","$logger",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","notice",190],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: updated %info.'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$context",190],")",";",["T_WHITESPACE","\n      ",190],["T_STRING","drupal_set_message",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","t",191],"(",["T_CONSTANT_ENCAPSED_STRING","'@type %info has been updated.'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$t_args",191],")",")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$block",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","id",194],"(",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n      ",194],["T_VARIABLE","$form_state",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","setValue",195],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$block",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","id",195],"(",")",")",";",["T_WHITESPACE","\n      ",195],["T_VARIABLE","$form_state",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","set",196],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$block",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","id",196],"(",")",")",";",["T_WHITESPACE","\n      ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$insert",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n        ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(","!",["T_VARIABLE","$theme",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$block",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getTheme",198],"(",")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n          ",198],["T_VARIABLE","$theme",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","config",199],"(",["T_CONSTANT_ENCAPSED_STRING","'system.theme'",199],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","get",199],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",199],")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$form_state",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","setRedirect",201],"(",["T_WHITESPACE","\n          ",201],["T_CONSTANT_ENCAPSED_STRING","'block.admin_add'",202],",",["T_WHITESPACE","\n          ",202],["T_ARRAY","array",203],"(",["T_WHITESPACE","\n            ",203],["T_CONSTANT_ENCAPSED_STRING","'plugin_id'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'block_content:'",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_VARIABLE","$block",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","uuid",204],"(",")",",",["T_WHITESPACE","\n            ",204],["T_CONSTANT_ENCAPSED_STRING","'theme'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$theme",205],",",["T_WHITESPACE","\n          ",205],")",["T_WHITESPACE","\n        ",206],")",";",["T_WHITESPACE","\n      ",207],"}",["T_WHITESPACE","\n      ",208],["T_ELSE","else",209],["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$form_state",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setRedirectUrl",210],"(",["T_VARIABLE","$block",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","urlInfo",210],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",210],")",")",";",["T_WHITESPACE","\n      ",210],"}",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n    ",212],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n      ",213],["T_COMMENT","\/\/ In the unlikely case something went wrong on save, the block will be\n",214],["T_WHITESPACE","      ",215],["T_COMMENT","\/\/ rebuilt and block form redisplayed.\n",215],["T_WHITESPACE","      ",216],["T_STRING","drupal_set_message",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","t",216],"(",["T_CONSTANT_ENCAPSED_STRING","'The block could not be saved.'",216],")",",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'error'",216],")",";",["T_WHITESPACE","\n      ",216],["T_VARIABLE","$form_state",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setRebuild",217],"(",")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n",219],"}",["T_WHITESPACE","\n",221]]